import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{T as r}from"./TranscriptLayout-Dmq9At4E.js";import"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import{C as s,D as t,E as i}from"./Callout-BvJhqaqq.js";import"./transcripts-V844WpId.js";function m(){return e.jsxs(r,{transcriptId:"static-invoices",children:[e.jsx(s,{type:"success",title:"Key Takeaways",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e.jsx("li",{children:"LNURL uses HTTP servers for dynamic invoice generation"}),e.jsx("li",{children:"BOLT 12 Offers use onion messages—no external server needed"}),e.jsx("li",{children:"AMP allows spontaneous payments but lacks proof-of-payment"}),e.jsx("li",{children:"Each solution has distinct privacy and UX tradeoffs"})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Why Lightning Needs Static Invoices"}),e.jsx("p",{className:"mb-4",children:"Elle Mouton explains the fundamental problem:"}),e.jsxs("blockquote",{className:"border-l-4 border-amber-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:`"Every BOLT 11 invoice contains a unique payment hash. If you reuse an invoice, you're revealing the preimage multiple times, which breaks the security model. So we need something static that can generate fresh invoices on demand."`}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Elle Mouton"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Solution 1: LNURL"}),e.jsxs(t,{title:"LNURL-pay",children:[e.jsx("p",{children:"Uses an HTTP server to generate invoices:"}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["User encodes a URL as ",e.jsx("code",{className:"bg-dark-800 px-1 rounded",children:"lnurl..."})]}),e.jsx("li",{children:"Payer's wallet fetches the URL"}),e.jsx("li",{children:"Server returns payment parameters"}),e.jsx("li",{children:"Wallet requests invoice with amount"}),e.jsx("li",{children:"Server generates fresh BOLT 11 invoice"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-green-400 font-bold mb-2",children:"LNURL Pros"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Works today with all wallets"}),e.jsx("li",{children:"Can include rich metadata"}),e.jsx("li",{children:"Supports comments/notes"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-400 font-bold mb-2",children:"LNURL Cons"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Requires running an HTTP server"}),e.jsx("li",{children:"Server knows all payment requests"}),e.jsx("li",{children:"Not native to Lightning protocol"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Solution 2: BOLT 12 Offers"}),e.jsx("p",{className:"mb-4",children:"Offers move invoice retrieval into the Lightning Network itself:"}),e.jsxs("blockquote",{className:"border-l-4 border-amber-500/50 pl-4 py-2 my-6 text-dark-300 italic bg-dark-800/30 rounded-r-lg",children:[e.jsx("p",{children:`"With Offers, your Lightning node IS the server. Invoice requests come through onion messages, so there's no separate infrastructure to maintain. And you get better privacy through blinded paths."`}),e.jsx("cite",{className:"block text-sm text-dark-500 mt-2 not-italic",children:"— Elle Mouton"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-green-400 font-bold mb-2",children:"Offers Pros"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"No external server needed"}),e.jsx("li",{children:"Built-in privacy (blinded paths)"}),e.jsx("li",{children:"Native protocol integration"}),e.jsx("li",{children:"Stronger proof-of-payment"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-red-400 font-bold mb-2",children:"Offers Cons"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Requires onion message support"}),e.jsx("li",{children:"Node must be online to respond"}),e.jsx("li",{children:"Limited wallet support (improving)"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Solution 3: AMP (Atomic Multipath Payments)"}),e.jsxs(t,{title:"AMP for Spontaneous Payments",children:[e.jsx("p",{children:"AMP allows payments without any invoice:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:'Sender generates a "root seed" and derives payment parts'}),e.jsx("li",{children:"Each part uses a different hash, preventing correlation"}),e.jsx("li",{children:"Recipient can only claim when all parts arrive"})]}),e.jsxs("p",{className:"mt-2 text-amber-400",children:[e.jsx("strong",{children:"Limitation:"})," No proof-of-payment since recipient doesn't provide a preimage."]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Comparison Summary"}),e.jsx(i,{title:"Static Invoice Solutions",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-2",children:"Feature"}),e.jsx("th",{className:"text-center py-2",children:"LNURL"}),e.jsx("th",{className:"text-center py-2",children:"Offers"}),e.jsx("th",{className:"text-center py-2",children:"AMP"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"External server"}),e.jsx("td",{className:"text-center",children:"Required"}),e.jsx("td",{className:"text-center",children:"No"}),e.jsx("td",{className:"text-center",children:"No"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"Proof-of-payment"}),e.jsx("td",{className:"text-center",children:"Yes"}),e.jsx("td",{className:"text-center",children:"Yes"}),e.jsx("td",{className:"text-center",children:"No"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"Privacy"}),e.jsx("td",{className:"text-center",children:"Low"}),e.jsx("td",{className:"text-center",children:"High"}),e.jsx("td",{className:"text-center",children:"Medium"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:"Wallet support"}),e.jsx("td",{className:"text-center",children:"Excellent"}),e.jsx("td",{className:"text-center",children:"Growing"}),e.jsx("td",{className:"text-center",children:"LND only"})]})]})]})}),e.jsx(s,{type:"info",title:"Elle's Recommendation",children:e.jsx("p",{children:`"If you're building today and need broad compatibility, LNURL works. If you're building for the future and care about privacy, invest in Offers support. AMP is great for tipping where proof-of-payment doesn't matter."`})})]})}export{m as default};
