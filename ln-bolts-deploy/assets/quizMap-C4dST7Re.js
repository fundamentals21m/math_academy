const t=[{id:1,type:"multiple-choice",question:"What does BOLT stand for?",options:["Basis of Lightning Technology","Bitcoin Open Layer Transport","Bilateral Open Ledger Technology","Base Operation Lightning Transfer"],correctIndex:0,difficulty:"easy",explanation:"BOLT stands for Basis of Lightning Technology - the technical standards that define how Lightning Network implementations should behave."},{id:2,type:"multiple-choice",question:"What is the primary problem that the Lightning Network solves?",options:["Bitcoin mining centralization","Slow transaction speed and high fees on Bitcoin base layer","Bitcoin private key security","Smart contract functionality"],correctIndex:1,difficulty:"easy",explanation:"The Lightning Network addresses Bitcoin's limited throughput (~7 tx/sec) and long confirmation times by enabling instant, low-cost payments through payment channels."},{id:3,type:"multiple-choice",question:"What type of multisig is used in a Lightning payment channel?",options:["1-of-2","2-of-2","2-of-3","3-of-5"],correctIndex:1,difficulty:"medium",explanation:"Payment channels use a 2-of-2 multisig, meaning both parties must sign to spend the funds locked in the channel."},{id:4,type:"text",question:"What is the cryptographic structure that enables conditional payments across multiple channels? (abbreviation)",correctAnswer:"HTLC",difficulty:"medium",explanation:"HTLC (Hash Time-Locked Contract) enables secure multi-hop payments by locking funds to a hash condition with a timeout."},{id:5,type:"multiple-choice",question:"Which BOLT specification is notably missing from the sequence?",options:["BOLT #0","BOLT #6","BOLT #13","BOLT #15"],correctIndex:1,difficulty:"hard",explanation:"BOLT #6 was originally planned for an intermediate routing packet format but was never finalized and has been incorporated into other specifications."}],i=[{id:1,type:"multiple-choice",question:'In Lightning terminology, what is an "Origin Node"?',options:["The node that created the channel","The node that initiates a payment","The first node in the network","The node with the most channels"],correctIndex:1,difficulty:"easy",explanation:"The origin node is the sender or payer that initiates a payment, constructing the onion-encrypted routing packet."},{id:2,type:"multiple-choice",question:'What is a "revoked transaction close"?',options:["A normal channel closing","When a node broadcasts an outdated commitment transaction","A failed payment attempt","Closing a channel before it is funded"],correctIndex:1,difficulty:"medium",explanation:"A revoked transaction close occurs when a party broadcasts an outdated (revoked) commitment, allowing the honest party to claim all funds as a penalty."},{id:3,type:"text",question:"What is the secret value that, when hashed, produces the payment hash called?",correctAnswer:"preimage",difficulty:"easy",explanation:"The preimage is the secret that, when revealed, unlocks the HTLC chain and allows payment completion."},{id:4,type:"multiple-choice",question:"What does CLTV stand for?",options:["Channel Lock Time Value","CheckLockTimeVerify","Conditional Lock Transaction Verification","Chain Level Time Validator"],correctIndex:1,difficulty:"medium",explanation:"CLTV (CheckLockTimeVerify) is a Bitcoin script opcode that prevents output spending until a specified block height."},{id:5,type:"multiple-choice",question:"What is the format of a Short Channel ID (SCID)?",options:["A 32-byte hash","Block height + transaction index + output index","Node ID + channel number","A random UUID"],correctIndex:1,difficulty:"hard",explanation:'The SCID is encoded as block height (3 bytes) + transaction index (3 bytes) + output index (2 bytes), e.g., "539268x845x1".'}],n=[{id:1,type:"multiple-choice",question:"What handshake pattern does Lightning use for encrypted transport?",options:["Noise_XX","Noise_XK","TLS 1.3","SSH"],correctIndex:1,difficulty:"medium",explanation:"Lightning uses Noise_XK, where X means the initiator's static key is transmitted (encrypted) and K means the responder's static key is known ahead of time."},{id:2,type:"numeric",question:"How many acts are in the Lightning Network handshake?",correctAnswer:3,numericRange:{min:1,max:10,precision:0},difficulty:"easy",explanation:"The handshake consists of three acts, requiring 1.5 round trips to complete."},{id:3,type:"multiple-choice",question:"What cipher does Lightning use for message encryption after the handshake?",options:["AES-256-GCM","ChaCha20-Poly1305","Blowfish","3DES"],correctIndex:1,difficulty:"medium",explanation:"Lightning uses ChaCha20-Poly1305 for authenticated encryption with associated data (AEAD)."},{id:4,type:"numeric",question:"After how many messages are encryption keys rotated?",correctAnswer:1e3,numericRange:{min:100,max:1e4,precision:0},difficulty:"medium",explanation:"Keys are rotated every 1000 messages to maintain forward secrecy."},{id:5,type:"text",question:"What elliptic curve does Lightning use for key pairs?",correctAnswer:"secp256k1",difficulty:"medium",explanation:"Lightning uses secp256k1, the same curve used by Bitcoin, for all cryptographic operations."},{id:6,type:"numeric",question:"What is the default TCP port for Lightning on Bitcoin mainnet?",correctAnswer:9735,numericRange:{min:1e3,max:65535,precision:0},difficulty:"easy",explanation:"The standard port is 9735 for mainnet, 19735 for testnet, and 39735 for signet."}],o=[{id:1,type:"numeric",question:"How many bytes is the message type field in a Lightning message?",correctAnswer:2,numericRange:{min:1,max:10,precision:0},difficulty:"easy",explanation:"Every Lightning message has a 2-byte type field encoded as a big-endian unsigned 16-bit integer."},{id:2,type:"multiple-choice",question:`According to the "It's OK to be Odd" rule, what happens with unknown odd-type messages?`,options:["Connection is closed","Message can be safely ignored","An error is returned","Message is forwarded to peers"],correctIndex:1,difficulty:"medium",explanation:"Odd-type messages are optional and can be safely ignored if not understood, while even-type messages are mandatory."},{id:3,type:"numeric",question:"What is the type number of the init message?",correctAnswer:16,numericRange:{min:1,max:100,precision:0},difficulty:"medium",explanation:"The init message has type 16 and is the first message sent after the handshake."},{id:4,type:"multiple-choice",question:"What encoding format is used for variable-length fields in Lightning messages?",options:["Protobuf","JSON","TLV (Type-Length-Value)","XML"],correctIndex:2,difficulty:"easy",explanation:"Lightning uses TLV (Type-Length-Value) encoding for extensible fields, allowing backward-compatible protocol evolution."},{id:5,type:"multiple-choice",question:"What is the message type range for Commitment messages?",options:["0-31","32-127","128-255","256-511"],correctIndex:2,difficulty:"hard",explanation:"Commitment messages use types 128-255. Setup & Control are 0-31, Channel are 32-127, and Routing are 256-511."}],a=[{id:1,type:"multiple-choice",question:"In the feature bit pairing system, what do even bits indicate?",options:["Optional features","Mandatory features","Deprecated features","Experimental features"],correctIndex:1,difficulty:"easy",explanation:"Even bits indicate mandatory features that peers MUST support, while odd bits indicate optional features."},{id:2,type:"multiple-choice",question:"Which feature enables multi-part payments (MPP)?",options:["data_loss_protect","static_remotekey","basic_mpp","anchor_outputs"],correctIndex:2,difficulty:"medium",explanation:"The basic_mpp feature (bits 16/17) enables splitting a payment across multiple paths."},{id:3,type:"multiple-choice",question:'What does "ASSUMED" mean for a feature?',options:["Feature is deprecated","Feature is in testing","Feature is expected to be present without signaling","Feature is only for testnet"],correctIndex:2,difficulty:"medium",explanation:"Assumed features are so widely adopted that all implementations are expected to support them regardless of signaling."},{id:4,type:"multiple-choice",question:"Where are Init features announced?",options:["In node_announcement gossip","In the init message during connection","In BOLT #11 invoices","In channel_announcement"],correctIndex:1,difficulty:"easy",explanation:"Init features are announced in the init message exchanged during connection establishment."},{id:5,type:"text",question:"What feature enables receiver privacy through hidden paths? (two words, with underscore)",correctAnswer:"route_blinding",difficulty:"hard",explanation:"Route blinding (bits 24/25) enables blinded paths where recipient identity is hidden."}],s=[{id:1,type:"numeric",question:"What is the type number of the open_channel message?",correctAnswer:32,numericRange:{min:1,max:100,precision:0},difficulty:"medium",explanation:"The open_channel message has type 32, in the Channel message range (32-127)."},{id:2,type:"multiple-choice",question:"Who provides the initial capital in a v1 (single-funder) channel?",options:["Both parties equally","The funder only","The fundee only","A third party"],correctIndex:1,difficulty:"easy",explanation:"In v1 channels, the funder initiates and provides all initial capital; the fundee contributes none."},{id:3,type:"multiple-choice",question:"What is the purpose of the temporary_channel_id?",options:["A permanent identifier","A random ID used until the funding tx is known","For testing purposes only","To hide the channel from the network"],correctIndex:1,difficulty:"medium",explanation:"The temporary_channel_id is a 32-byte random ID used until the funding transaction is known, after which a permanent ID is derived."},{id:4,type:"multiple-choice",question:"How is the permanent channel_id derived?",options:["Hash of both node IDs","funding_txid XOR funding_output_index","Random 32 bytes","Hash of the funding amount"],correctIndex:1,difficulty:"hard",explanation:"The permanent channel_id is derived by XORing the funding txid with the output index (left-padded to 32 bytes)."},{id:5,type:"text",question:"What message signals that the channel is ready for use after confirmations?",correctAnswer:"channel_ready",difficulty:"easy",explanation:"Both parties send channel_ready after the funding transaction has sufficient confirmations."}],r=[{id:1,type:"multiple-choice",question:"What feature enables dual-funded channels?",options:["option_static_remotekey","option_dual_fund","option_anchor_outputs","option_zeroconf"],correctIndex:1,difficulty:"easy",explanation:"The option_dual_fund feature enables v2 channels where both peers can contribute to the funding transaction."},{id:2,type:"multiple-choice",question:"In interactive transaction construction, what serial ID parity does the initiator use?",options:["Only odd numbers","Only even numbers","Any numbers","Prime numbers"],correctIndex:1,difficulty:"medium",explanation:"The initiator uses even serial IDs (0, 2, 4, ...) while the non-initiator uses odd serial IDs (1, 3, 5, ...)."},{id:3,type:"multiple-choice",question:"How is construction completion signaled?",options:["A single tx_complete message","A tx_done message","Consecutive tx_complete messages from both peers","Timeout after 60 seconds"],correctIndex:2,difficulty:"medium",explanation:"Construction is only complete when both peers send consecutive tx_complete messages. If either sends a modification after tx_complete, both must signal again."},{id:4,type:"multiple-choice",question:"Who sends tx_signatures first?",options:["The initiator","The non-initiator","Either party","Neither - signatures are in tx_complete"],correctIndex:1,difficulty:"hard",explanation:"The non-initiator sends tx_signatures first to protect the initiator from creating a valid transaction that the non-initiator refuses to sign."},{id:5,type:"text",question:"What message proposes an RBF of the funding transaction? (type name)",correctAnswer:"tx_init_rbf",difficulty:"medium",explanation:"The tx_init_rbf message proposes a Replace-By-Fee update with a higher fee rate."}],c=[{id:1,type:"numeric",question:"What is the type number of update_add_htlc?",correctAnswer:128,numericRange:{min:100,max:200,precision:0},difficulty:"medium",explanation:"The update_add_htlc message has type 128, in the Commitment message range (128-255)."},{id:2,type:"multiple-choice",question:"What message reveals the preimage to fulfill an HTLC?",options:["update_add_htlc","update_fulfill_htlc","update_fail_htlc","commitment_signed"],correctIndex:1,difficulty:"easy",explanation:"The update_fulfill_htlc message (type 130) fulfills an HTLC by revealing the 32-byte payment preimage."},{id:3,type:"multiple-choice",question:"What is the correct order in the commitment update flow?",options:["commitment_signed → update_add_htlc → revoke_and_ack","update_add_htlc → commitment_signed → revoke_and_ack","revoke_and_ack → commitment_signed → update_add_htlc","update_add_htlc → revoke_and_ack → commitment_signed"],correctIndex:1,difficulty:"medium",explanation:"The flow is: send updates (like update_add_htlc), then commitment_signed with signatures, then receiver sends revoke_and_ack."},{id:4,type:"multiple-choice",question:"Who can send the update_fee message?",options:["Either party","Only the funder","Only the fundee","Only routing nodes"],correctIndex:1,difficulty:"medium",explanation:"Only the funder (channel initiator) can send update_fee to propose new commitment transaction fee rates."},{id:5,type:"multiple-choice",question:"What is the purpose of the channel reserve?",options:["Emergency fund for on-chain fees","Ensure each party has something to lose if they cheat","Buffer for routing fees","Minimum balance for node operation"],correctIndex:1,difficulty:"medium",explanation:'The channel reserve ensures each party has "skin in the game" - funds they would lose if they broadcast a revoked commitment.'}],d=[{id:1,type:"numeric",question:"What is the type number of the shutdown message?",correctAnswer:38,numericRange:{min:30,max:50,precision:0},difficulty:"medium",explanation:"The shutdown message has type 38 and signals intent to close the channel."},{id:2,type:"multiple-choice",question:"What is forbidden after both peers have sent shutdown?",options:["Sending commitment_signed","Sending revoke_and_ack","Adding new HTLCs","Updating fees"],correctIndex:2,difficulty:"easy",explanation:"After both peers send shutdown, no new HTLCs can be added. Existing HTLCs must be resolved before closing."},{id:3,type:"multiple-choice",question:"In the legacy closing protocol (closing_signed), who pays the closing fee?",options:["Both parties equally","The funder","The fundee","Whichever party initiated shutdown"],correctIndex:1,difficulty:"medium",explanation:"In the legacy protocol, the funder pays the entire closing transaction fee."},{id:4,type:"multiple-choice",question:"What is a benefit of mutual close over unilateral close?",options:["Higher security","More features","Immediate access to funds (no timelock)","Lower minimum balance"],correctIndex:2,difficulty:"easy",explanation:"Mutual close provides immediate access to funds with no CSV delay, lower fees, and better privacy."},{id:5,type:"text",question:"What feature allows pre-committing to a closing address during channel open? (with underscores)",correctAnswer:"option_upfront_shutdown_script",difficulty:"hard",explanation:"option_upfront_shutdown_script allows peers to commit to a closing address during channel opening, preventing fund redirection after node compromise."}],l=[{id:1,type:"multiple-choice",question:"What type of output is the Lightning funding output?",options:["P2PKH","P2SH","P2WPKH","P2WSH"],correctIndex:3,difficulty:"easy",explanation:"The funding output is a P2WSH (Pay-to-Witness-Script-Hash) with a 2-of-2 multisig witness script."},{id:2,type:"multiple-choice",question:"How are the public keys ordered in the funding multisig script?",options:["By node ID alphabetically","Funder first","Lexicographically (smaller pubkey first)","Randomly"],correctIndex:2,difficulty:"medium",explanation:"Keys are sorted lexicographically (comparing as unsigned byte arrays) to create a canonical ordering."},{id:3,type:"multiple-choice",question:"What is the formula for deriving the channel_id?",options:["SHA256(funding_txid)","funding_txid XOR output_index","Hash of both node IDs","Random 32 bytes"],correctIndex:1,difficulty:"medium",explanation:"The channel_id is funding_txid XOR output_index (output index left-padded to 32 bytes)."},{id:4,type:"numeric",question:"How many confirmations are typically required before a channel can be announced?",correctAnswer:6,numericRange:{min:1,max:20,precision:0},difficulty:"medium",explanation:"Channels require 6 confirmations before they can be announced via the gossip protocol."},{id:5,type:"multiple-choice",question:"What must a node do if a blockchain reorg unconfirms the funding transaction?",options:["Continue using the channel normally","Force close immediately","Stop using the channel and wait for re-confirmation","Delete the channel entirely"],correctIndex:2,difficulty:"hard",explanation:"Nodes must stop using the channel immediately and wait for re-confirmation, handling the case where the funding tx might be double-spent."}],u=[{id:1,type:"multiple-choice",question:"Why do Alice and Bob hold different commitment transactions for the same state?",options:["To save storage space","Due to network latency","To enable the penalty mechanism through asymmetric delays","For privacy reasons"],correctIndex:2,difficulty:"medium",explanation:"Commitment transactions are asymmetric: the broadcaster's output has a CSV delay while the counterparty's is immediate. This enables penalty enforcement."},{id:2,type:"multiple-choice",question:"What two fields encode the obscured commitment number?",options:["version and locktime","locktime and sequence","nonce and sequence","version and witness"],correctIndex:1,difficulty:"hard",explanation:"The commitment number is hidden in the locktime (lower 24 bits) and input sequence (upper 24 bits)."},{id:3,type:"multiple-choice",question:"What is the to_local output used for?",options:["Remote party's balance","Broadcaster's balance with CSV delay","HTLC payments","Channel fees"],correctIndex:1,difficulty:"easy",explanation:"The to_local output is the broadcaster's balance, delayed by to_self_delay blocks and revocable."},{id:4,type:"numeric",question:"What is the standard dust limit for P2WSH outputs in satoshis?",correctAnswer:330,numericRange:{min:100,max:1e3,precision:0},difficulty:"medium",explanation:"The dust limit for P2WSH outputs is 330 satoshis. Outputs below this are not created on-chain."},{id:5,type:"multiple-choice",question:"What is the purpose of anchor outputs?",options:["To store channel metadata","To enable CPFP fee bumping","To hold channel reserves","To track commitment number"],correctIndex:1,difficulty:"medium",explanation:"Anchor outputs (330 sats each) allow commitment transactions to be fee-bumped using Child-Pays-For-Parent (CPFP)."}],h=[{id:1,type:"multiple-choice",question:"What are the two types of second-stage HTLC transactions?",options:["HTLC-add and HTLC-remove","HTLC-success and HTLC-timeout","HTLC-offer and HTLC-receive","HTLC-lock and HTLC-unlock"],correctIndex:1,difficulty:"easy",explanation:"HTLC-success transactions claim received HTLCs with the preimage, while HTLC-timeout transactions reclaim offered HTLCs after expiry."},{id:2,type:"multiple-choice",question:"How many spending paths does an offered HTLC script have?",options:["1","2","3","4"],correctIndex:2,difficulty:"medium",explanation:"Offered HTLCs have three paths: revocation (penalty), HTLC-success (preimage), and HTLC-timeout (after CLTV expiry)."},{id:3,type:"multiple-choice",question:"Why do HTLC transactions add a delay before the local party can spend?",options:["To reduce blockchain congestion","To allow time for revocation if the commitment was revoked","To batch multiple HTLCs together","For privacy reasons"],correctIndex:1,difficulty:"medium",explanation:"The delay gives the counterparty time to use the revocation key if the commitment transaction was revoked."},{id:4,type:"multiple-choice",question:"Where are the remote party's HTLC signatures provided?",options:["update_add_htlc message","commitment_signed message","revoke_and_ack message","channel_ready message"],correctIndex:1,difficulty:"medium",explanation:"The commitment_signed message includes signatures for both the commitment transaction and all HTLC transactions."},{id:5,type:"text",question:"What feature enables zero-fee HTLC transactions? (with underscores)",correctAnswer:"option_anchors_zero_fee_htlc_tx",difficulty:"hard",explanation:"With option_anchors_zero_fee_htlc_tx, HTLC transactions use zero fees and SIGHASH_SINGLE|SIGHASH_ANYONECANPAY, allowing fee addition via additional inputs."}],p=[{id:1,type:"multiple-choice",question:"Which basepoint is used for constructing revocation keys?",options:["payment_basepoint","delayed_payment_basepoint","revocation_basepoint","htlc_basepoint"],correctIndex:2,difficulty:"easy",explanation:"The revocation_basepoint is used specifically for constructing revocation keys."},{id:2,type:"multiple-choice",question:"Why do revocation keys require information from BOTH parties?",options:["For load balancing","To reduce computation time","So neither party can construct the revocation private key alone","For redundancy"],correctIndex:2,difficulty:"medium",explanation:"Revocation keys combine both parties' secrets, ensuring the private key can only be computed when the per_commitment_secret is revealed."},{id:3,type:"text",question:"What is the name of the hash chain structure for generating per-commitment secrets?",correctAnswer:"shachain",difficulty:"hard",explanation:"Shachain is a compact structure where each secret can derive all previous secrets, but not future ones, requiring only log(N) storage."},{id:4,type:"multiple-choice",question:"With option_static_remotekey, how is the to_remote key derived?",options:["It varies per commitment","It's a fixed payment_basepoint","It's derived from the funding key","It changes every 1000 commitments"],correctIndex:1,difficulty:"medium",explanation:"With static_remotekey, the remote payment key doesn't vary - it's just the fixed payment_basepoint, simplifying backup and recovery."},{id:5,type:"multiple-choice",question:"What does a watchtower need to submit a penalty transaction?",options:["Only the revocation secret","The commitment transaction and pre-signed penalty data","Access to the node's private keys","The full channel state history"],correctIndex:1,difficulty:"medium",explanation:"Watchtowers need the commitment transaction to watch for and penalty transaction info to submit. They don't need the per_commitment_secret until a breach occurs."}],m=[{id:1,type:"multiple-choice",question:"What must be resolved before a mutual close can proceed?",options:["All pending fees","All existing HTLCs","All node announcements","All routing table updates"],correctIndex:1,difficulty:"easy",explanation:"All existing HTLCs must be resolved (fulfilled or failed) before the closing negotiation can begin."},{id:2,type:"multiple-choice",question:"What is a benefit of mutual close compared to unilateral close?",options:["Higher security","More outputs","Lower fees and no timelock delays","Better for disputes"],correctIndex:2,difficulty:"easy",explanation:"Mutual close has lower fees (simpler transaction), no CSV delays, and better privacy."},{id:3,type:"numeric",question:"After how many confirmations is a closing transaction output considered irrevocably resolved?",correctAnswer:100,numericRange:{min:50,max:200,precision:0},difficulty:"medium",explanation:"Outputs become irrevocably resolved at 100-block depth, matching the coinbase maturity requirement."},{id:4,type:"multiple-choice",question:"What is the locktime of a mutual close transaction?",options:["Current block height","0","100","to_self_delay"],correctIndex:1,difficulty:"medium",explanation:"The closing transaction has locktime 0 and no HTLCs - it's a simple distribution of funds."},{id:5,type:"multiple-choice",question:"What can a node do if the closing transaction doesn't confirm in time?",options:["Nothing - must wait indefinitely","Re-negotiate a higher fee or use CPFP","Double-spend the funding output","Contact the blockchain operator"],correctIndex:1,difficulty:"medium",explanation:"Nodes can re-negotiate with a cooperative peer, use CPFP on their output, or as a last resort broadcast their commitment transaction."}],f=[{id:1,type:"multiple-choice",question:"When might you need to perform a unilateral close?",options:["When you want lower fees","When the peer is unresponsive","When you want faster confirmation","When closing a zero-conf channel"],correctIndex:1,difficulty:"easy",explanation:"Unilateral close is used when the peer is unresponsive, HTLCs are expiring, or there's a protocol violation."},{id:2,type:"multiple-choice",question:"When you broadcast YOUR commitment transaction, what happens to your to_local output?",options:["Immediately spendable","Requires to_self_delay blocks before spending","Locked forever","Goes to the counterparty"],correctIndex:1,difficulty:"medium",explanation:"Your to_local output requires waiting to_self_delay blocks after confirmation before you can spend it."},{id:3,type:"multiple-choice",question:"When your PEER broadcasts their commitment, what happens to your output (to_remote)?",options:["Requires delay","Immediately spendable","Requires HTLC resolution first","Must wait 100 blocks"],correctIndex:1,difficulty:"medium",explanation:"When the peer broadcasts, your output (their to_remote) is immediately spendable with no delay."},{id:4,type:"multiple-choice",question:"Why must you extract preimages from on-chain HTLC claims?",options:["For backup purposes","To claim corresponding upstream HTLCs","For accounting records","It's optional"],correctIndex:1,difficulty:"hard",explanation:"If someone claims an HTLC you offered on-chain, you MUST extract the preimage to claim the corresponding upstream HTLC or you lose money."},{id:5,type:"numeric",question:'How many confirmations are typically considered "final resolution" depth?',correctAnswer:100,numericRange:{min:50,max:200,precision:0},difficulty:"easy",explanation:"Transactions at 100-block depth are considered irrevocably resolved."}],y=[{id:1,type:"multiple-choice",question:"What enables the honest party to claim all funds from a revoked commitment?",options:["The payment hash","The revocation key","The funding key","The channel ID"],correctIndex:1,difficulty:"easy",explanation:"The revocation key, derived from the revealed per_commitment_secret, allows claiming all revocable outputs."},{id:2,type:"multiple-choice",question:"Why is responding to a revoked commitment time-critical?",options:["Network congestion","Must beat the cheater's CSV delay expiration","Protocol timeout","Memory constraints"],correctIndex:1,difficulty:"medium",explanation:"The penalty transaction must confirm before the cheater's to_self_delay expires, or they can spend their to_local output."},{id:3,type:"multiple-choice",question:"What outputs can be claimed with the revocation key?",options:["Only to_local","Only HTLCs","to_local, offered HTLCs, received HTLCs, and HTLC tx outputs","Only the funding output"],correctIndex:2,difficulty:"medium",explanation:"The revocation key can claim to_local, all HTLC outputs via their revocation paths, and outputs from any second-stage HTLC transactions."},{id:4,type:"text",question:"What is another name for a penalty transaction?",correctAnswer:"justice",difficulty:"easy",explanation:'Penalty transactions are also called "justice transactions" as they punish cheating behavior.'},{id:5,type:"multiple-choice",question:"Why do watchtowers help with revoked transaction detection?",options:["They have faster internet","They can monitor while the node owner is offline","They have more storage","They are required by the protocol"],correctIndex:1,difficulty:"easy",explanation:"Watchtowers monitor the blockchain for breaches when the channel owner is offline, and can submit penalty transactions on their behalf."}],g=[{id:1,type:"numeric",question:"What is the type number of channel_announcement?",correctAnswer:256,numericRange:{min:200,max:300,precision:0},difficulty:"medium",explanation:"The channel_announcement message has type 256, in the Routing message range (256-511)."},{id:2,type:"multiple-choice",question:"What does a node_announcement contain?",options:["Only the node ID","Node metadata like alias, color, and connection addresses","Channel capacity information","Fee schedules"],correctIndex:1,difficulty:"easy",explanation:"node_announcement includes the node ID, RGB color, 32-byte alias, and addresses (IPv4, IPv6, Tor, DNS)."},{id:3,type:"multiple-choice",question:"What is the format of a short_channel_id?",options:["32-byte hash","block_height | tx_index | output_index (8 bytes total)","Node ID pair","Random UUID"],correctIndex:1,difficulty:"medium",explanation:"The short_channel_id is 8 bytes: block height (3) + tx index (3) + output index (2)."},{id:4,type:"numeric",question:"How many confirmations are required before a channel can be announced?",correctAnswer:6,numericRange:{min:1,max:20,precision:0},difficulty:"easy",explanation:"Channels require 6 confirmations before announcement to prevent announcing channels that might be reorganized away."},{id:5,type:"multiple-choice",question:"When are channels pruned from the network view?",options:["After 24 hours of inactivity","After 2 weeks without channel_update or 72+ blocks after on-chain close","Never - channels are permanent","After funding output is spent"],correctIndex:1,difficulty:"hard",explanation:"Channels are pruned after 2 weeks without updates or 72 blocks after on-chain closure."}],x=[{id:1,type:"multiple-choice",question:"What are the two components of Lightning routing fees?",options:["Fixed fee and variable fee","Base fee and proportional fee","Incoming fee and outgoing fee","Channel fee and network fee"],correctIndex:1,difficulty:"easy",explanation:"Routing fees consist of fee_base_msat (flat fee per HTLC) and fee_proportional_millionths (per-satoshi rate)."},{id:2,type:"multiple-choice",question:"What does cltv_expiry_delta specify?",options:["Total payment timeout","Minimum timelock buffer between incoming and outgoing HTLCs","Channel lifetime","Block confirmation requirement"],correctIndex:1,difficulty:"medium",explanation:"The cltv_expiry_delta is the minimum timelock difference a node requires between incoming and outgoing HTLCs when forwarding."},{id:3,type:"multiple-choice",question:"What does bit 0 of channel_flags indicate?",options:["Whether the channel is public","The direction of the update","Whether the channel is disabled","Fee tier level"],correctIndex:1,difficulty:"medium",explanation:"Bit 0 indicates direction: 0 = from node_id_1 to node_id_2, 1 = from node_id_2 to node_id_1."},{id:4,type:"multiple-choice",question:"What does bit 1 of channel_flags indicate?",options:["Direction","Whether the channel is disabled","Fee changes pending","Capacity threshold"],correctIndex:1,difficulty:"easy",explanation:"Bit 1 indicates the disabled status: when set to 1, the channel direction is temporarily disabled."},{id:5,type:"numeric",question:'What does "100 ppm" mean in fee_proportional_millionths?',correctAnswer:100,numericRange:{min:0,max:1e3,precision:0},difficulty:"easy",explanation:'PPM means "parts per million" - a fee of 100 ppm means 0.01% of the forwarded amount.'}],b=[{id:1,type:"multiple-choice",question:"What construction does Lightning use for onion routing?",options:["Tor","I2P","Sphinx","Mixnet"],correctIndex:2,difficulty:"easy",explanation:"Lightning uses the Sphinx construction for onion routing, extended with per-hop payloads."},{id:2,type:"numeric",question:"How many bytes is the hop_payloads field in an onion packet?",correctAnswer:1300,numericRange:{min:1e3,max:2e3,precision:0},difficulty:"medium",explanation:"The hop_payloads field is always 1300 bytes to maintain constant packet size regardless of route length."},{id:3,type:"multiple-choice",question:"What key is used for ChaCha20 stream encryption of the payload?",options:["mu","rho","um","pad"],correctIndex:1,difficulty:"medium",explanation:"The rho key is used for ChaCha20 stream obfuscation of the hop payloads."},{id:4,type:"multiple-choice",question:'Why is the ephemeral key "blinded" at each hop?',options:["To reduce key size","To prevent observers from correlating packets across hops","To save computation","For key rotation"],correctIndex:1,difficulty:"hard",explanation:"Key blinding ensures that the ephemeral public key looks different at each hop, preventing packet linkability."},{id:5,type:"multiple-choice",question:"What do hops NOT know about in standard onion routing?",options:["The amount to forward","The next hop channel","The total route length or their position","The CLTV expiry"],correctIndex:2,difficulty:"medium",explanation:"Hops cannot determine the total route length or whether they're first, middle, or last in the route."}],T=[{id:1,type:"multiple-choice",question:"What is the primary purpose of blinded paths?",options:["Faster routing","Lower fees","Hiding recipient identity and network position","Larger payments"],correctIndex:2,difficulty:"easy",explanation:"Blinded paths hide the recipient's node identity and the final portion of the route for privacy."},{id:2,type:"multiple-choice",question:'What is the "introduction node" in a blinded path?',options:["The sender","The recipient","The first public node in the blinded portion","Any routing node"],correctIndex:2,difficulty:"medium",explanation:"The introduction node is the entry point to the blinded path - it's the only publicly known node in the blinded portion."},{id:3,type:"multiple-choice",question:"Who creates blinded paths?",options:["The sender","The recipient","The routing nodes","The network collectively"],correctIndex:1,difficulty:"easy",explanation:"Recipients create blinded paths and include them in invoices or offers for payers to use."},{id:4,type:"multiple-choice",question:"What does a blinded_node_id represent?",options:["The original node ID","A hash of the node ID","The real node ID multiplied by a blinding factor","A random placeholder"],correctIndex:2,difficulty:"hard",explanation:"Blinded node IDs are derived by multiplying the real node ID by a blinding factor derived from shared secrets."},{id:5,type:"multiple-choice",question:"Why might recipients provide multiple blinded paths?",options:["For redundancy only","To improve reliability and privacy","Required by the protocol","For fee comparison"],correctIndex:1,difficulty:"medium",explanation:"Multiple paths improve reliability (backup if one fails) and privacy (sender chooses randomly)."}],w=[{id:1,type:"multiple-choice",question:"What problem does DNS bootstrap solve?",options:["Domain name resolution","Initial peer discovery for new nodes","Channel capacity lookup","Fee estimation"],correctIndex:1,difficulty:"easy",explanation:"DNS bootstrap helps new nodes find initial peers to connect to when they have no prior knowledge of the network."},{id:2,type:"multiple-choice",question:'What does the "r" condition parameter specify?',options:["Number of results","Address types","The blockchain network (realm)","A specific node ID"],correctIndex:2,difficulty:"medium",explanation:'The "r" parameter specifies the realm (network), with r0 being Bitcoin (the default).'},{id:3,type:"multiple-choice",question:"What DNS record type returns IP addresses on the standard port?",options:["A or AAAA","SRV","TXT","MX"],correctIndex:0,difficulty:"easy",explanation:"A records return IPv4 addresses and AAAA return IPv6, both assuming the standard port 9735."},{id:4,type:"numeric",question:"What is the default number of results for a DNS seed query?",correctAnswer:25,numericRange:{min:10,max:50,precision:0},difficulty:"medium",explanation:'The default is 25 results, though this can be overridden with the "n" parameter.'},{id:5,type:"multiple-choice",question:"What is a security concern with DNS seeds?",options:["They can see DNS queries, affecting privacy","They can modify payments","They control routing","They can see channel balances"],correctIndex:0,difficulty:"medium",explanation:"DNS seeds can see who's bootstrapping (privacy concern), and malicious seeds could return attacker-controlled nodes."}],_=[{id:1,type:"text",question:"What prefix indicates a Bitcoin mainnet Lightning invoice?",correctAnswer:"lnbc",difficulty:"easy",explanation:'Lightning invoices use "lnbc" for mainnet, "lntb" for testnet, "lnbcrt" for regtest.'},{id:2,type:"multiple-choice",question:'What does the "u" multiplier mean in an invoice amount?',options:["Units (1 BTC)","Micro (0.000001 BTC)","Ultra (10 BTC)","Unsigned"],correctIndex:1,difficulty:"easy",explanation:'The "u" multiplier means micro, so lnbc2500u means 2500 micro-BTC = 0.0025 BTC = 250,000 sats.'},{id:3,type:"multiple-choice",question:"Which tagged field is required in every BOLT #11 invoice?",options:["Expiry (x)","Fallback address (f)","Payment hash (p) and payment secret (s)","Routing hints (r)"],correctIndex:2,difficulty:"medium",explanation:"Every invoice must include exactly one payment_hash (p), one payment_secret (s), and either description (d) or description_hash (h)."},{id:4,type:"multiple-choice",question:"What is the purpose of routing hints in an invoice?",options:["To reduce fees","To help payers find routes to recipients with private channels","To improve privacy","To specify preferred nodes"],correctIndex:1,difficulty:"medium",explanation:"Routing hints provide information about private channels so payers can find routes to recipients not discoverable via gossip."},{id:5,type:"multiple-choice",question:"Why is the payment_secret required?",options:["For encryption","To prevent probing attacks and enable multi-part payments","For dispute resolution","For routing optimization"],correctIndex:1,difficulty:"hard",explanation:"The payment_secret prevents payment probing attacks and is essential for multi-part payment (MPP) security."}],v=[{id:1,type:"text",question:"What is the prefix for a BOLT #12 offer?",correctAnswer:"lno",difficulty:"easy",explanation:'BOLT #12 offers use "lno" prefix, invoice requests use "lnr", and invoices use "lni".'},{id:2,type:"multiple-choice",question:"What is a key difference between BOLT #11 and BOLT #12?",options:["BOLT #12 requires more data","BOLT #11 offers are reusable","BOLT #12 offers are reusable; BOLT #11 invoices are single-use","BOLT #11 supports blinded paths"],correctIndex:2,difficulty:"easy",explanation:"BOLT #12 offers can be reused indefinitely, while BOLT #11 invoices should be single-use (unique payment hash)."},{id:3,type:"multiple-choice",question:"How are invoice requests communicated in BOLT #12?",options:["Via the gossip network","Via onion messages","Via HTTP","Via DNS"],correctIndex:1,difficulty:"medium",explanation:"BOLT #12 uses onion messages (BOLT #4 extension) to send invoice requests without requiring channels."},{id:4,type:"multiple-choice",question:'What enables the "merchant-pays-user" flow in BOLT #12?',options:["Special invoice type","The user creates an offer for receiving funds","Reverse routing","Channel rebalancing"],correctIndex:1,difficulty:"medium",explanation:"For refunds or withdrawals, the user creates an offer to receive funds, the merchant sends an invoice_request, and pays the resulting invoice."},{id:5,type:"multiple-choice",question:"Why does BOLT #12 encoding omit checksums?",options:["To reduce size since QR codes have built-in error correction","Checksums are deprecated","For backward compatibility","They were never implemented"],correctIndex:0,difficulty:"hard",explanation:"BOLT #12 is optimized for QR codes which already provide error correction, so the checksum overhead is unnecessary."}],k={0:t,1:i,2:n,3:o,4:a,5:s,6:r,7:c,8:d,9:l,10:u,11:h,12:p,13:m,14:f,15:y,16:g,17:x,18:b,19:T,20:w,21:_,22:v};function q(e){return k[e]??null}export{q as g};
