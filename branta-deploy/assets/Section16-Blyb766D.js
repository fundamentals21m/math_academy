import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{r as i}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-BVCiRvNU.js";import{L as N}from"./LessonLayout-CT1WdmGc.js";import{D as c,E as b,C as x}from"./Callout-4_WMx_B8.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-D6hrknZo.js";const m=r=>{let t=0;for(let n=0;n<r.length;n++){const a=r.charCodeAt(n);t=(t<<5)-t+a,t=t&t}const s=Math.abs(t).toString(16).padStart(8,"0");return`0x${s}${s.split("").reverse().join("")}`},f=()=>Array.from({length:8},()=>Math.floor(Math.random()*16).toString(16)).join("");function v(){const[r,t]=i.useState("bc1qmerchant7x8f5kvy5l643lydnw9re59gtzzwf5mdq"),[s,n]=i.useState(f()),[a,u]=i.useState(!0),[l,p]=i.useState(0),j=i.useMemo(()=>m(r+s),[r,s]),h=i.useMemo(()=>new Set([m("bc1qmerchant7x8f5kvy5l643lydnw9re59gtzzwf5mdq"+s),m("bc1qshop123abc"+s),m("bc1qstore456def"+s)]),[s]).has(j),y=()=>{n(f()),p(0)},d=[{title:"Create Commitment",description:"Hash the address with a random nonce. This hides the address while allowing verification.",action:"commitment = Hash(address + nonce)"},{title:"Send Commitment",description:"Send only the commitment (hash) to Branta. The actual address stays private.",action:"POST commitment ‚Üí Branta"},{title:"Check Membership",description:"Branta checks if any registered address produces this commitment with any known nonce pattern.",action:"commitment ‚àà RegisteredSet?"},{title:"Receive Proof",description:"Branta returns a cryptographic proof of membership (or non-membership).",action:"proof ‚Üê Branta"}];return e.jsxs("div",{className:"demo-container",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-200 mb-4",children:"Zero-Knowledge Verification Demo"}),e.jsx("p",{className:"text-dark-400 mb-6",children:"Zero-knowledge proofs allow verification without revealing the address being checked. This demo shows the commitment scheme concept."}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-dark-400 mb-2",children:["Your Secret Address",e.jsx("button",{onClick:()=>u(!a),className:"ml-2 text-amber-500 hover:text-amber-400",children:a?"üëÅÔ∏è Hide":"üëÅÔ∏è Show"})]}),e.jsx("input",{type:a?"text":"password",value:r,onChange:g=>t(g.target.value),className:"w-full bg-dark-700 text-dark-200 rounded-lg px-4 py-2 border border-dark-600 focus:border-amber-500 focus:outline-none font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-dark-400 mb-2",children:["Random Nonce",e.jsx("button",{onClick:y,className:"ml-2 text-amber-500 hover:text-amber-400",children:"üîÑ Regenerate"})]}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"w-full bg-dark-700 text-dark-200 rounded-lg px-4 py-2 border border-dark-600 font-mono text-sm"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 mb-6",children:[e.jsx("h4",{className:"text-dark-200 font-semibold mb-4",children:"Commitment Scheme"}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex-1 bg-dark-700 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-dark-500 text-xs mb-2",children:"Secret Address"}),e.jsx("p",{className:"font-mono text-sm break-all",children:a?e.jsx("span",{className:"text-green-400",children:r}):e.jsx("span",{className:"text-dark-500",children:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"})})]}),e.jsx("div",{className:"text-2xl text-dark-500",children:"+"}),e.jsxs("div",{className:"flex-1 bg-dark-700 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-dark-500 text-xs mb-2",children:"Random Nonce"}),e.jsx("p",{className:"font-mono text-sm text-amber-400",children:s})]}),e.jsx("div",{className:"text-2xl text-dark-500",children:"‚Üí"}),e.jsx("div",{className:"w-16 h-16 bg-amber-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"üîê"})}),e.jsx("div",{className:"text-2xl text-dark-500",children:"‚Üí"}),e.jsxs("div",{className:"flex-1 bg-dark-700 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-dark-500 text-xs mb-2",children:"Commitment (Public)"}),e.jsx("p",{className:"font-mono text-sm text-cyan-400 break-all",children:j})]})]}),e.jsx("p",{className:"mt-4 text-dark-400 text-sm text-center",children:"The commitment reveals nothing about the address, but can be verified against the registered set."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-dark-200 font-semibold mb-4",children:"Verification Process"}),e.jsx("div",{className:"flex gap-2 mb-4",children:d.map((g,o)=>e.jsxs("button",{onClick:()=>p(o),className:`flex-1 py-2 rounded-lg font-medium transition-colors ${l===o?"bg-amber-600 text-white":l>o?"bg-green-600/30 text-green-400":"bg-dark-700 text-dark-400"}`,children:["Step ",o+1]},o))}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6",children:[e.jsx("h5",{className:"text-lg font-semibold text-dark-100 mb-2",children:d[l].title}),e.jsx("p",{className:"text-dark-400 mb-4",children:d[l].description}),e.jsx("code",{className:"block bg-dark-900 rounded-lg p-4 font-mono text-amber-400 text-sm",children:d[l].action})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-xl p-6",children:[e.jsx("h4",{className:"text-dark-200 font-semibold mb-4",children:"What Branta Learns"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[e.jsx("h5",{className:"text-red-400 font-semibold mb-3",children:"‚ùå Traditional Verification"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400",children:"‚úì"}),e.jsx("span",{className:"text-dark-300",children:"Your actual address"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400",children:"‚úì"}),e.jsx("span",{className:"text-dark-300",children:"When you verified"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400",children:"‚úì"}),e.jsx("span",{className:"text-dark-300",children:"Which merchant you're paying"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-400",children:"‚úì"}),e.jsx("span",{className:"text-dark-300",children:"Your IP address"})]})]})]}),e.jsxs("div",{className:"bg-green-900/20 border border-green-700 rounded-lg p-4",children:[e.jsx("h5",{className:"text-green-400 font-semibold mb-3",children:"‚úì Zero-Knowledge Verification"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"‚úì"}),e.jsx("span",{className:"text-dark-300",children:"Someone made a query"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-dark-500",children:"‚úó"}),e.jsx("span",{className:"text-dark-500",children:"Which address was checked"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-dark-500",children:"‚úó"}),e.jsx("span",{className:"text-dark-500",children:"Who made the request"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-dark-500",children:"‚úó"}),e.jsx("span",{className:"text-dark-500",children:"Transaction patterns"})]})]})]})]})]}),e.jsx("div",{className:`mt-6 p-4 rounded-xl text-center ${h?"bg-green-900/30 border border-green-600":"bg-yellow-900/30 border border-yellow-600"}`,children:e.jsx("p",{className:`font-semibold ${h?"text-green-400":"text-yellow-400"}`,children:h?"‚úì Address is in the registered set (verified without revealing it!)":"‚ö† Address not found in registered set"})})]})}function q(){return e.jsxs(N,{sectionId:16,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Zero Knowledge Verification"}),e.jsx("p",{className:"mb-4",children:"In 2025, Branta introduced zero-knowledge verification, a privacy-preserving approach that allows address verification without exposing the plaintext address to Branta's servers. This represents a significant advancement in balancing security with privacy."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Privacy Problem"}),e.jsx("p",{className:"mb-4",children:"Traditional verification has a privacy tradeoff:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsx("li",{children:"To verify an address, you must send it to Branta"}),e.jsx("li",{children:"This reveals what addresses you're interacting with"}),e.jsx("li",{children:"Over time, this builds a picture of your transaction patterns"}),e.jsx("li",{children:"Privacy-conscious users may hesitate to use verification"})]}),e.jsx(c,{title:"Zero-Knowledge Proof (ZKP)",children:"A cryptographic method that allows one party (the prover) to prove to another party (the verifier) that a statement is true, without revealing any information beyond the validity of the statement itself."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"How Zero-Knowledge Verification Works"}),e.jsx("p",{className:"mb-4",children:`Zero-knowledge verification allows you to ask "Is this address registered?" without telling Branta what address you're asking about:`}),e.jsx(b,{title:"Traditional vs. Zero-Knowledge",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-dark-800 p-4 rounded",children:[e.jsx("p",{className:"text-dark-400 text-sm mb-2",children:"Traditional Verification"}),e.jsxs("p",{className:"font-mono text-sm",children:['You: "Is bc1qmerchant... registered?"',e.jsx("br",{}),'Branta: "Yes, it belongs to MerchantCo"']}),e.jsx("p",{className:"text-red-400 text-sm mt-2",children:"Branta learns which address you're checking"})]}),e.jsxs("div",{className:"bg-dark-800 p-4 rounded",children:[e.jsx("p",{className:"text-dark-400 text-sm mb-2",children:"Zero-Knowledge Verification"}),e.jsxs("p",{className:"font-mono text-sm",children:['You: "[cryptographic commitment]"',e.jsx("br",{}),'Branta: "[cryptographic proof of registration status]"']}),e.jsx("p",{className:"text-green-400 text-sm mt-2",children:"Branta cannot determine which address was checked"})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Cryptographic Foundations"}),e.jsx("p",{className:"mb-4",children:"Zero-knowledge verification uses several cryptographic primitives:"}),e.jsx(c,{title:"Commitment Scheme",children:'A cryptographic method that allows you to "commit" to a value without revealing it. Later, you can "open" the commitment to prove what value you committed to.'}),e.jsx(c,{title:"Hash-Based Commitment",children:"A simple commitment scheme where you hash the address with a random nonce. The hash reveals nothing about the address, but you can prove the commitment later by revealing both values."}),e.jsx(c,{title:"Set Membership Proof",children:"A proof that an element belongs to a set without revealing which element. Used to prove an address is in the set of registered addresses without identifying it."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Protocol Overview"}),e.jsxs("ol",{className:"list-decimal list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Client computes commitment"})," - Hash(address || nonce)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client sends commitment"})," - Only the hash is transmitted"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Branta checks set membership"})," - Without learning the address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Branta returns proof"})," - Cryptographic proof of membership/non-membership"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client verifies proof"})," - Confirms the answer is correct"]})]}),e.jsx(b,{title:"Simplified Protocol",children:e.jsx("pre",{className:"font-mono text-sm bg-dark-800 p-4 rounded overflow-x-auto",children:`// Client side
const address = 'bc1qmerchant...';
const nonce = crypto.randomBytes(32);
const commitment = hash(address + nonce);

// Send only the commitment to Branta
const proof = await branta.zkVerify(commitment);

// Verify the proof locally
const isRegistered = verifyProof(proof, commitment);`})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Privacy Guarantees"}),e.jsx(x,{type:"success",title:"What Branta Learns",children:"With zero-knowledge verification, Branta learns only that someone made a verification request‚Äînot which address was verified, who made the request, or when the address was registered."}),e.jsx("p",{className:"mb-4",children:"The privacy guarantees include:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Address privacy"})," - The address being verified is never revealed"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Query unlinkability"})," - Multiple queries can't be linked together"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Registration privacy"})," - Which registrations are being checked stays private"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Tradeoffs"}),e.jsx("p",{className:"mb-4",children:"Zero-knowledge verification has some tradeoffs compared to traditional verification:"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-2 text-dark-200",children:"Aspect"}),e.jsx("th",{className:"text-left py-2 text-dark-200",children:"Traditional"}),e.jsx("th",{className:"text-left py-2 text-dark-200",children:"Zero-Knowledge"})]})}),e.jsxs("tbody",{className:"text-dark-300",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"Privacy"}),e.jsx("td",{className:"py-2",children:"Lower (address revealed)"}),e.jsx("td",{className:"py-2 text-green-400",children:"Higher (address hidden)"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"Speed"}),e.jsx("td",{className:"py-2 text-green-400",children:"Faster"}),e.jsx("td",{className:"py-2",children:"Slower (proof computation)"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2",children:"Complexity"}),e.jsx("td",{className:"py-2 text-green-400",children:"Simpler"}),e.jsx("td",{className:"py-2",children:"More complex"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2",children:"Merchant info"}),e.jsx("td",{className:"py-2 text-green-400",children:"Returns merchant name"}),e.jsx("td",{className:"py-2",children:"Only yes/no answer"})]})]})]})}),e.jsx(x,{type:"info",title:"Use Case Dependent",children:"Choose the verification method based on your needs. For maximum privacy, use zero-knowledge. When you need to display which merchant owns an address, use traditional verification."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Future Developments"}),e.jsx("p",{className:"mb-4",children:"Zero-knowledge technology in Bitcoin is evolving rapidly:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"STARKs"})," - Scalable, transparent proofs without trusted setup"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Privacy pools"}),' - Proving funds are "clean" without revealing history']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Proof of reserves"})," - Exchanges proving solvency without revealing addresses"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Selective disclosure"})," - Reveal only what's necessary for compliance"]})]}),e.jsx("p",{className:"mb-4",children:"Branta's zero-knowledge framework positions the platform to adopt these advances as they mature, continually improving the privacy-security balance for users."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Summary"}),e.jsx("p",{className:"mb-4",children:"Zero-knowledge verification represents a significant step forward in Bitcoin transaction security. It allows users to benefit from pre-payment verification without sacrificing their financial privacy. As the technology matures, expect to see broader adoption of privacy-preserving verification across the ecosystem."}),e.jsx(x,{type:"success",title:"The Best of Both Worlds",children:"With zero-knowledge verification, you no longer have to choose between security and privacy. You can verify payment addresses without revealing your transaction patterns to anyone‚Äîincluding Branta."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Interactive: Zero-Knowledge Demo"}),e.jsx("p",{className:"mb-4",children:"Explore how commitment schemes work and see the privacy difference between traditional and zero-knowledge verification:"}),e.jsx(v,{})]})}export{q as default};
