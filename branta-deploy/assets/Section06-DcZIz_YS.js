import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{r as x}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-BVCiRvNU.js";import{L as v}from"./LessonLayout-CT1WdmGc.js";import{D as u,E as b,C as f}from"./Callout-4_WMx_B8.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-D6hrknZo.js";const h=[{id:"generate",label:"Generate Address",actor:"merchant",description:"Merchant generates payment address for customer"},{id:"register",label:"Register with Branta",actor:"merchant",description:"POST /v1/spv with address and TTL"},{id:"confirm",label:"Registration Confirmed",actor:"branta",description:"Address stored in verification database"},{id:"display",label:"Display to Customer",actor:"merchant",description:"Show address and verification link"},{id:"verify",label:"Verify Address",actor:"customer",description:"Customer checks address via Branta"},{id:"check",label:"Check Registration",actor:"branta",description:"GET /v1/spv returns verification status"},{id:"result",label:"Show Result",actor:"branta",description:"Confirmed: Address belongs to merchant"},{id:"pay",label:"Send Payment",actor:"wallet",description:"Customer sends with confidence"}],j={merchant:{bg:"bg-blue-900/30",border:"border-blue-600",text:"text-blue-400"},branta:{bg:"bg-amber-900/30",border:"border-amber-600",text:"text-amber-400"},customer:{bg:"bg-green-900/30",border:"border-green-600",text:"text-green-400"},wallet:{bg:"bg-purple-900/30",border:"border-purple-600",text:"text-purple-400"}},y={merchant:"üè™",branta:"üõ°Ô∏è",customer:"üë§",wallet:"üëõ"};function N(){const[a,n]=x.useState(-1),[r,m]=x.useState(!1);x.useEffect(()=>{if(r&&a<h.length-1){const s=setTimeout(()=>{n(i=>i+1)},1200);return()=>clearTimeout(s)}else a>=h.length-1&&m(!1)},[r,a]);const c=()=>{n(-1),m(!0),setTimeout(()=>n(0),100)},d=()=>{n(-1),m(!1)},t=s=>{m(!1),n(s)};return e.jsxs("div",{className:"demo-container",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-200 mb-4",children:"Verification Flow Diagram"}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsx("button",{onClick:c,disabled:r,className:"px-4 py-2 rounded-lg bg-amber-600 text-white font-medium hover:bg-amber-700 disabled:opacity-50",children:"‚ñ∂ Play Flow"}),e.jsx("button",{onClick:d,className:"px-4 py-2 rounded-lg bg-dark-700 text-dark-200 font-medium hover:bg-dark-600",children:"‚Ü∫ Reset"})]}),e.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:Object.entries(j).map(([s,i])=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:y[s]}),e.jsx("span",{className:`text-sm font-medium capitalize ${i.text}`,children:s})]},s))}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-dark-700"}),e.jsx("div",{className:"space-y-4",children:h.map((s,i)=>{const l=i<=a,p=i===a,o=j[s.actor];return e.jsxs("div",{onClick:()=>t(i),className:`relative flex items-start gap-4 cursor-pointer transition-all duration-300 ${l?"opacity-100":"opacity-40"}`,children:[e.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center text-xl transition-all duration-300 ${l?`${o.bg} border-2 ${o.border}`:"bg-dark-800 border-2 border-dark-700"} ${p?"ring-2 ring-amber-500 ring-offset-2 ring-offset-dark-900 scale-110":""}`,children:y[s.actor]}),e.jsxs("div",{className:`flex-1 p-4 rounded-xl transition-all duration-300 ${l?`${o.bg} border ${o.border}`:"bg-dark-800/50 border border-dark-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`font-semibold ${l?o.text:"text-dark-500"}`,children:s.label}),e.jsxs("span",{className:"text-xs text-dark-500 capitalize",children:["(",s.actor,")"]})]}),e.jsx("p",{className:`text-sm ${l?"text-dark-300":"text-dark-600"}`,children:s.description})]}),i<h.length-1&&l&&e.jsx("div",{className:"absolute left-6 top-12 h-4 flex items-center justify-center",children:e.jsx("span",{className:"text-dark-500",children:"‚Üì"})})]},s.id)})})]}),a>=h.length-1&&e.jsxs("div",{className:"mt-6 p-4 bg-green-900/30 border border-green-600 rounded-xl text-center",children:[e.jsx("p",{className:"text-green-400 font-semibold text-lg",children:"‚úÖ Verification Flow Complete!"}),e.jsx("p",{className:"text-dark-300 mt-2",children:"The customer has verified the address and sent payment with confidence."})]}),e.jsx("div",{className:"mt-6 p-4 bg-dark-800 rounded-lg",children:e.jsxs("p",{className:"text-dark-400 text-sm",children:[e.jsx("strong",{className:"text-dark-200",children:"Tip:"})," Click on any step to jump to it directly. This flow shows how Branta integrates into the payment lifecycle to provide verification at every critical point."]})})]})}const g=[{name:"Legacy (P2PKH)",prefix:"1",prefixTestnet:"m/n",description:"Original Bitcoin address format from 2009",example:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2",features:["Most compatible","Highest fees","Base58Check encoding"],year:2009,color:"orange"},{name:"Script Hash (P2SH)",prefix:"3",prefixTestnet:"2",description:"Pay-to-Script-Hash, enables multisig and complex scripts",example:"3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy",features:["Multisig support","Wrapped SegWit","Medium fees"],year:2012,color:"blue"},{name:"Native SegWit (P2WPKH)",prefix:"bc1q",prefixTestnet:"tb1q",description:"Segregated Witness, more efficient transactions",example:"bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq",features:["Lower fees","Bech32 encoding","Better security"],year:2017,color:"green"},{name:"Taproot (P2TR)",prefix:"bc1p",prefixTestnet:"tb1p",description:"Latest format with enhanced privacy and smart contracts",example:"bc1p5d7rjq7g6rdk2yhzks9smlaqtedr4dekq08ge8ztwac72sfr9rusxg3297",features:["Best privacy","Schnorr signatures","Complex scripts"],year:2021,color:"purple"}],k=a=>{if(!a)return{valid:!1,format:null,network:null};const n=a.trim();for(const r of g){if(n.startsWith(r.prefix))return{valid:!0,format:r,network:"mainnet"};if(n.startsWith(r.prefixTestnet))return{valid:!0,format:r,network:"testnet"}}return{valid:!1,format:null,network:null}};function w(){const[a,n]=x.useState(""),[r,m]=x.useState(null),c=x.useMemo(()=>k(a),[a]),d={orange:{bg:"bg-orange-900/30",border:"border-orange-600",text:"text-orange-400"},blue:{bg:"bg-blue-900/30",border:"border-blue-600",text:"text-blue-400"},green:{bg:"bg-green-900/30",border:"border-green-600",text:"text-green-400"},purple:{bg:"bg-purple-900/30",border:"border-purple-600",text:"text-purple-400"}};return e.jsxs("div",{className:"demo-container",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-200 mb-4",children:"Bitcoin Address Format Explorer"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"Enter a Bitcoin address to identify its format"}),e.jsx("input",{type:"text",value:a,onChange:t=>n(t.target.value),placeholder:"bc1q..., 1..., 3..., or bc1p...",className:"w-full bg-dark-700 text-dark-200 rounded-lg px-4 py-3 border border-dark-600 focus:border-amber-500 focus:outline-none font-mono text-sm"}),a&&e.jsx("div",{className:`mt-3 p-3 rounded-lg ${c.valid?"bg-green-900/30 border border-green-600":"bg-red-900/30 border border-red-600"}`,children:c.valid?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-green-400 text-lg",children:"‚úì"}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold ${d[c.format.color].text}`,children:c.format.name}),e.jsxs("p",{className:"text-dark-400 text-sm",children:[c.network==="mainnet"?"Mainnet":"Testnet"," address detected"]})]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-red-400 text-lg",children:"‚úó"}),e.jsx("p",{className:"text-red-400",children:"Unrecognized address format"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:g.map(t=>{var p;const s=d[t.color],i=(r==null?void 0:r.name)===t.name,l=((p=c.format)==null?void 0:p.name)===t.name;return e.jsxs("div",{onClick:()=>m(i?null:t),className:`p-4 rounded-xl cursor-pointer transition-all ${l?`${s.bg} border-2 ${s.border} ring-2 ring-amber-500`:i?`${s.bg} border-2 ${s.border}`:"bg-dark-800 border border-dark-700 hover:border-dark-500"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:`font-semibold ${l||i?s.text:"text-dark-200"}`,children:t.name}),e.jsx("span",{className:"text-dark-500 text-sm",children:t.year})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("span",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-dark-300",children:[t.prefix,"..."]}),e.jsx("span",{className:"text-dark-500 text-xs",children:"mainnet"}),e.jsxs("span",{className:"px-2 py-1 bg-dark-700 rounded text-xs font-mono text-dark-300",children:[t.prefixTestnet,"..."]}),e.jsx("span",{className:"text-dark-500 text-xs",children:"testnet"})]}),e.jsx("p",{className:"text-dark-400 text-sm mb-3",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.features.map(o=>e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${l||i?`${s.bg} ${s.text}`:"bg-dark-700 text-dark-400"}`,children:o},o))})]},t.name)})}),r&&e.jsxs("div",{className:`p-6 rounded-xl ${d[r.color].bg} border ${d[r.color].border}`,children:[e.jsxs("h4",{className:`text-lg font-semibold ${d[r.color].text} mb-4`,children:[r.name," Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-400 text-sm mb-1",children:"Example Address"}),e.jsx("code",{className:"block bg-dark-900 rounded-lg p-3 font-mono text-sm text-dark-200 break-all",children:r.example})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-dark-400 text-sm mb-2",children:"Key Characteristics"}),e.jsx("ul",{className:"space-y-1",children:r.features.map(t=>e.jsxs("li",{className:"flex items-center gap-2 text-dark-300",children:[e.jsx("span",{className:d[r.color].text,children:"‚Ä¢"}),t]},t))})]}),e.jsx("button",{onClick:()=>{n(r.example),m(null)},className:"px-4 py-2 rounded-lg bg-dark-700 text-dark-200 hover:bg-dark-600 text-sm",children:"Try this example ‚Üí"})]})]}),e.jsxs("div",{className:"mt-6 bg-dark-800 rounded-xl p-6",children:[e.jsx("h4",{className:"text-dark-200 font-semibold mb-4",children:"Evolution Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-1 bg-dark-600 -translate-y-1/2"}),e.jsx("div",{className:"relative flex justify-between",children:g.map(t=>{const s=d[t.color];return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${s.bg} border-2 ${s.border} z-10`}),e.jsx("span",{className:"text-dark-400 text-xs mt-2",children:t.year}),e.jsx("span",{className:`text-xs mt-1 ${s.text}`,children:t.name.split(" ")[0]})]},t.name)})})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-amber-900/20 border border-amber-600 rounded-lg",children:e.jsxs("p",{className:"text-amber-400 text-sm",children:[e.jsx("strong",{children:"üõ°Ô∏è Branta Support:"})," Guardrail verifies all Bitcoin address formats. Whether you're using Legacy, SegWit, or Taproot addresses, Branta can register and verify them for pre-payment protection."]})})]})}function G(){return e.jsxs(v,{sectionId:6,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"What is Guardrail?"}),e.jsx("p",{className:"mb-4",children:"Guardrail is Branta's flagship product for Bitcoin transaction verification. It provides a simple yet powerful API that allows businesses to register their payment addresses and consumers to verify those addresses before sending funds."}),e.jsx(u,{title:"Guardrail",children:"A pre-payment verification system that lets merchants register their Bitcoin addresses and Lightning invoices, enabling customers to verify payment destinations before executing transactions. It operates entirely outside the transaction flow, providing verification without custody."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Core Concepts"}),e.jsx("p",{className:"mb-4",children:"Guardrail operates on a simple but powerful model:"}),e.jsxs("ol",{className:"list-decimal list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Registration"})," - Merchants register their payment addresses via API"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Storage"})," - Branta securely stores the address-to-merchant mapping"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verification"})," - Customers query the API to verify addresses"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Response"})," - Branta confirms or denies the address registration"]})]}),e.jsx(b,{title:"The Verification Flow",children:e.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[e.jsx("p",{className:"text-dark-400",children:"// Merchant registers address"}),e.jsx("p",{children:"POST /v1/payments"}),e.jsxs("p",{children:["{",' "payment": "bc1qmerchant...", "ttl": 86400 ',"}"]}),e.jsx("p",{className:"mt-4 text-dark-400",children:"// Customer verifies before sending"}),e.jsx("p",{children:"GET /v1/payments/bc1qmerchant..."}),e.jsx("p",{className:"mt-2 text-dark-400",children:"// Response confirms registration"}),e.jsxs("p",{children:["{",' "payment": "bc1qmerchant...", "platform": "MerchantCo" ',"}"]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Supported Payment Types"}),e.jsx("p",{className:"mb-4",children:"Guardrail supports verification across multiple Bitcoin payment methods:"}),e.jsx(u,{title:"On-Chain Bitcoin Addresses",children:"Standard Bitcoin addresses including Legacy (1...), SegWit (3...), Native SegWit (bc1q...), and Taproot (bc1p...). These are used for regular Bitcoin transactions that are confirmed on the blockchain."}),e.jsx(u,{title:"Lightning Invoices",children:"BOLT11-encoded payment requests for Lightning Network transactions. These enable instant, low-fee payments for smaller amounts and include payment metadata like amount, description, and expiry time."}),e.jsx(u,{title:"Alternative Payments",children:"Guardrail supports registering multiple addresses for a single payment, including alternative payment options. A merchant can register both an on-chain address and a Lightning invoice, giving customers choice."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Architecture"}),e.jsx("p",{className:"mb-4",children:"Guardrail is designed with security and reliability as core principles:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"RESTful API"})," - Standard HTTP endpoints for easy integration"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bearer Authentication"})," - API keys for secure merchant access"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"TTL-based Expiry"})," - Payments automatically expire after set periods"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"No Custody"})," - Branta never has access to private keys or funds"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Environment Isolation"})," - Staging and production are completely separate"]})]}),e.jsx(f,{type:"info",title:"Zero Custody Design",children:"Guardrail is designed to never touch your keys, addresses, or transactions beyond storing the registration. This means there's no custody risk - Branta cannot move your funds even if compromised."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Use Cases"}),e.jsxs(b,{title:"OTC Desks & Exchanges",children:[e.jsx("p",{className:"mb-2",children:"High-volume trading desks use Guardrail to provide institutional-grade verification for client withdrawals. Clients can verify that the withdrawal address truly belongs to their destination before large transfers."}),e.jsxs("ul",{className:"list-disc list-inside text-dark-400 mt-2",children:[e.jsx("li",{children:"Eliminates address swap attacks"}),e.jsx("li",{children:"Provides audit trails for compliance"}),e.jsx("li",{children:"Builds client confidence for large transfers"})]})]}),e.jsxs(b,{title:"E-commerce Merchants",children:[e.jsx("p",{className:"mb-2",children:"Online stores accepting Bitcoin use Guardrail to let customers verify checkout addresses. This reduces fraud concerns and increases conversion rates from security-conscious customers."}),e.jsxs("ul",{className:"list-disc list-inside text-dark-400 mt-2",children:[e.jsx("li",{children:"Integrates with existing checkout flows"}),e.jsx("li",{children:"Shows verified badge on payment pages"}),e.jsx("li",{children:"Reduces customer support inquiries"})]})]}),e.jsxs(b,{title:"Wallet Providers",children:[e.jsx("p",{className:"mb-2",children:"Bitcoin wallets integrate Guardrail to automatically verify payment destinations. Before a user sends funds, the wallet queries Guardrail and displays verification status alongside the address."}),e.jsxs("ul",{className:"list-disc list-inside text-dark-400 mt-2",children:[e.jsx("li",{children:"Seamless user experience"}),e.jsx("li",{children:"Warning for unverified addresses"}),e.jsx("li",{children:"Confidence indicator for verified payments"})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Integration Methods"}),e.jsx("p",{className:"mb-4",children:"Guardrail can be integrated in multiple ways depending on your needs:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Direct API"})," - HTTP requests for maximum flexibility"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SDKs"})," - Libraries for JavaScript, Python, Ruby, Dart, and .NET"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Plugins"})," - Pre-built integrations for BTCPay Server and other platforms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Web Pages"})," - Portable verification URLs for manual checking"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Web Verification"}),e.jsx("p",{className:"mb-4",children:"For users who don't have integrated wallets, Guardrail provides web-based verification:"}),e.jsx(f,{type:"success",title:"Universal Access",children:"Web verification pages at guardrail.branta.pro allow anyone to verify an address from any browser. No apps required, no login needed. Just paste an address and see if it's registered."}),e.jsx("p",{className:"mb-4",children:"The web verification interface is designed for:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cross-device verification"})," - Check on a separate device for extra security"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-technical users"})," - Simple interface that anyone can use"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Quick checks"})," - Verify in seconds without setup"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Shareable links"})," - Merchants can provide direct verification URLs"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"What Guardrail Is Not"}),e.jsx("p",{className:"mb-4",children:"It's important to understand Guardrail's boundaries:"}),e.jsxs("ul",{className:"list-disc list-inside mb-6 space-y-2 text-dark-200",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Not a wallet"})," - Guardrail stores registrations, not keys"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not a payment processor"})," - Guardrail verifies, it doesn't process payments"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not mandatory"})," - Merchants must opt-in to registration"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not foolproof"})," - Unregistered addresses can't be verified"]})]}),e.jsx("p",{className:"mb-4",children:"The system works best when widely adopted. The more merchants that register their addresses, the more valuable verification becomes for everyone."}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Interactive: Verification Flow"}),e.jsx("p",{className:"mb-4",children:"Watch the complete verification lifecycle unfold step by step:"}),e.jsx(N,{}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Interactive: Bitcoin Address Explorer"}),e.jsx("p",{className:"mb-4",children:"Explore the different Bitcoin address formats that Guardrail supports:"}),e.jsx(w,{})]})}export{G as default};
