import{j as e,m as a}from"./vendor-animation-0o8UKZ_1.js";import{r as p}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-ClrsR7XR.js";import{L as N,D as m}from"./ContentBlocks-BLSOaBh_.js";import{I as n,M as P}from"./MathBlock-uz1iP4cD.js";import{C as S}from"./Callout-Dt8juvZK.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-Bnq9ppQi.js";function W({className:u=""}){const[c,b]=p.useState("completeness"),[g,f]=p.useState("honest"),[d,j]=p.useState(0),h={completeness:{color:"#10b981",description:"If the prover knows a valid witness, they can always convince the verifier."},soundness:{color:"#ef4444",description:"Without a valid witness, even a cheating prover cannot convince the verifier."},"zero-knowledge":{color:"#8b5cf6",description:"The verifier learns nothing beyond the validity of the statement."}},y={honest:{proverLabel:"Honest Prover",hasWitness:!0,outcome:"accept"},cheating:{proverLabel:"Cheating Prover",hasWitness:!1,outcome:"reject"},simulator:{proverLabel:"Simulator",hasWitness:!1,outcome:"indistinguishable"}},w=s=>{b(s),j(0),f(s==="completeness"?"honest":s==="soundness"?"cheating":"simulator")},v=500,k=350,i=100,r=400,t=80,x=280,o=y[g],l=h[c].color;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${u}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Zero-Knowledge Protocol Properties"}),e.jsx("p",{className:"text-dark-400 text-sm mb-4",children:"Explore the three essential properties of zero-knowledge arguments."}),e.jsx("div",{className:"flex gap-2 mb-4 flex-wrap",children:Object.keys(h).map(s=>e.jsx(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>w(s),className:`px-4 py-2 rounded-xl text-sm font-medium capitalize transition-colors ${c===s?"text-white":"bg-dark-700 text-dark-400 hover:bg-dark-600"}`,style:{backgroundColor:c===s?h[s].color:void 0},children:s.replace("-"," ")},s))}),e.jsxs("svg",{viewBox:`0 0 ${v} ${k}`,className:"w-full h-auto bg-dark-900/50 rounded-xl mb-4",children:[e.jsx("rect",{x:i-50,y:t-30,width:"100",height:"40",rx:"8",fill:"#374151"}),e.jsx("text",{x:i,y:t-5,fill:l,fontSize:"12",fontWeight:"bold",textAnchor:"middle",children:o.proverLabel}),e.jsx("circle",{cx:i,cy:t+30,r:"20",fill:l,fillOpacity:"0.2",stroke:l,strokeWidth:"2"}),e.jsx("text",{x:i,y:t+35,fill:l,fontSize:"16",fontWeight:"bold",textAnchor:"middle",children:"P"}),e.jsxs(a.g,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx("rect",{x:i-40,y:t+60,width:"80",height:"24",rx:"4",fill:o.hasWitness?"#10b98120":"#ef444420",stroke:o.hasWitness?"#10b981":"#ef4444",strokeWidth:"1"}),e.jsx("text",{x:i,y:t+76,fill:o.hasWitness?"#10b981":"#ef4444",fontSize:"10",textAnchor:"middle",children:o.hasWitness?"Has witness w":"No witness"})]}),e.jsx("rect",{x:r-50,y:t-30,width:"100",height:"40",rx:"8",fill:"#374151"}),e.jsx("text",{x:r,y:t-5,fill:"#6b7280",fontSize:"12",fontWeight:"bold",textAnchor:"middle",children:"Verifier"}),e.jsx("circle",{cx:r,cy:t+30,r:"20",fill:"#6b7280",fillOpacity:"0.2",stroke:"#6b7280",strokeWidth:"2"}),e.jsx("text",{x:r,y:t+35,fill:"#9ca3af",fontSize:"16",fontWeight:"bold",textAnchor:"middle",children:"V"}),e.jsx("rect",{x:(i+r)/2-50,y:t-30,width:"100",height:"30",rx:"6",fill:"#1e293b",stroke:"#4b5563",strokeWidth:"1"}),e.jsx("text",{x:(i+r)/2,y:t-10,fill:"#9ca3af",fontSize:"11",textAnchor:"middle",children:"Statement x"}),e.jsxs("g",{children:[e.jsxs(a.g,{initial:{opacity:0},animate:{opacity:d>=0?1:.3},children:[e.jsx("line",{x1:i+25,y1:t+80,x2:r-25,y2:t+100,stroke:l,strokeWidth:"2",markerEnd:"url(#arrowProp)"}),e.jsx("rect",{x:(i+r)/2-30,y:t+75,width:"60",height:"20",rx:"4",fill:"#1e293b"}),e.jsx("text",{x:(i+r)/2,y:t+89,fill:"#d1d5db",fontSize:"10",textAnchor:"middle",children:"commit"})]}),e.jsxs(a.g,{initial:{opacity:0},animate:{opacity:d>=1?1:.3},children:[e.jsx("line",{x1:r-25,y1:t+130,x2:i+25,y2:t+150,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowGray)"}),e.jsx("rect",{x:(i+r)/2-35,y:t+130,width:"70",height:"20",rx:"4",fill:"#1e293b"}),e.jsx("text",{x:(i+r)/2,y:t+144,fill:"#9ca3af",fontSize:"10",textAnchor:"middle",children:"challenge x"})]}),e.jsxs(a.g,{initial:{opacity:0},animate:{opacity:d>=2?1:.3},children:[e.jsx("line",{x1:i+25,y1:t+170,x2:r-25,y2:t+190,stroke:l,strokeWidth:"2",markerEnd:"url(#arrowProp)"}),e.jsx("rect",{x:(i+r)/2-35,y:t+165,width:"70",height:"20",rx:"4",fill:"#1e293b"}),e.jsx("text",{x:(i+r)/2,y:t+179,fill:"#d1d5db",fontSize:"10",textAnchor:"middle",children:"response"})]})]}),e.jsxs(a.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},children:[e.jsx("rect",{x:r-45,y:x-15,width:"90",height:"35",rx:"8",fill:o.outcome==="accept"?"#10b98120":o.outcome==="reject"?"#ef444420":"#8b5cf620",stroke:o.outcome==="accept"?"#10b981":o.outcome==="reject"?"#ef4444":"#8b5cf6",strokeWidth:"2"}),e.jsx("text",{x:r,y:x+6,fill:o.outcome==="accept"?"#10b981":o.outcome==="reject"?"#ef4444":"#8b5cf6",fontSize:"12",fontWeight:"bold",textAnchor:"middle",children:o.outcome==="accept"?"ACCEPT ✓":o.outcome==="reject"?"REJECT ✗":"≈ Real"})]}),g==="simulator"&&e.jsxs(a.g,{initial:{opacity:0},animate:{opacity:1},children:[e.jsx("text",{x:i,y:x+10,fill:"#8b5cf6",fontSize:"10",textAnchor:"middle",children:"No witness needed!"}),e.jsx("text",{x:i,y:x+25,fill:"#6b7280",fontSize:"9",textAnchor:"middle",children:"(gets verifier's randomness)"})]}),e.jsxs("defs",{children:[e.jsx("marker",{id:"arrowProp",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:l})}),e.jsx("marker",{id:"arrowGray",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})]})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:[0,1,2].map(s=>e.jsx("button",{onClick:()=>j(s),className:`flex-1 px-3 py-2 rounded-lg text-sm transition-colors ${d>=s?"bg-primary-500/20 text-primary-400 border border-primary-500/30":"bg-dark-700 text-dark-500 border border-dark-600"}`,children:s===0?"1. Commit":s===1?"2. Challenge":"3. Response"},s))}),e.jsxs(a.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"p-4 rounded-xl",style:{backgroundColor:`${l}10`,borderWidth:1,borderColor:`${l}30`},children:[e.jsx("h4",{className:"font-bold capitalize mb-1",style:{color:l},children:c.replace("-"," ")}),e.jsx("p",{className:"text-dark-300 text-sm",children:h[c].description})]},c)]})}function $(){return e.jsxs(N,{sectionId:3,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Zero Knowledge Arguments of Knowledge"}),e.jsx("p",{className:"mb-4",children:"A zero-knowledge argument of knowledge is a fundamental cryptographic primitive that allows a prover to convince a verifier of a statement without revealing any information beyond the validity of the statement itself."}),e.jsxs(m,{title:"Zero-Knowledge Argument of Knowledge",children:[e.jsx("p",{children:"A zero-knowledge argument of knowledge consists of:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["A non-interactive PPT Turing machine ",e.jsxs(n,{children:["\\text","{Setup}"]})," which outputs a common random string ",e.jsx(n,{children:"\\sigma"})]}),e.jsxs("li",{children:["Two interactive PPT Turing machines: ",e.jsxs(n,{children:["\\mathsf","{P}"]})," (prover) and"," ",e.jsxs(n,{children:["\\mathsf","{V}"]})," (verifier)"]})]}),e.jsxs("p",{className:"mt-3",children:["The prover and verifier interacting on inputs ",e.jsx(n,{children:"x"})," and"," ",e.jsx(n,{children:"y"})," will produce a transcript ",e.jsx(n,{children:"\\pi"})," and output a bit ",e.jsx(n,{children:"b"})," indicating whether the verifier accepts:"]}),e.jsx(P,{children:"\\pi \\leftarrow \\langle \\mathsf{P}(x), \\mathsf{V}(y) \\rangle = b"}),e.jsxs("p",{className:"mt-3",children:["For any ",e.jsx(n,{children:"\\sigma"}),", a value ",e.jsx(n,{children:"w"})," is a"," ",e.jsx("strong",{children:"witness"})," for a statement ",e.jsx(n,{children:"x"})," if it satisfies the relation ",e.jsxs(n,{children:["(\\sigma, x, w) \\in \\mathcal","{R}"]}),"."]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Three Properties"}),e.jsx("p",{className:"mb-4",children:"A zero-knowledge argument of knowledge must satisfy three properties:"}),e.jsxs(m,{title:"Completeness",children:[e.jsxs("p",{children:["Completeness requires that the prover be able to convince the verifier to accept"," ",e.jsx(n,{children:"x"})," with ",e.jsx("strong",{children:"overwhelming probability"})," if"," ",e.jsxs(n,{children:["(\\sigma, x, w) \\in \\mathcal","{R}"]}),"."]}),e.jsx("p",{className:"mt-2",children:"In other words: if the prover knows a valid witness, they can always convince the verifier."})]}),e.jsxs(m,{title:"Soundness",children:[e.jsxs("p",{children:["Soundness requires that the prover ",e.jsx("strong",{children:"fail with overwhelming probability"})," ","to convince the verifier to accept if"," ",e.jsx(n,{children:"(\\sigma, x, w) \\notin \\mathcal{R}"}),"."]}),e.jsx("p",{className:"mt-2",children:"In other words: without a valid witness, even a cheating prover cannot convince the verifier (except with negligible probability)."})]}),e.jsxs(m,{title:"Zero-Knowledge",children:[e.jsxs("p",{children:["The zero-knowledge property requires that the verifier"," ",e.jsx("strong",{children:"learns nothing about the witness"})," from interacting with an honest prover."]}),e.jsxs("p",{className:"mt-3",children:["This is formalized via the existence of a ",e.jsx("strong",{children:"simulator"})," that is able to construct an identically distributed proof ",e.jsx("em",{children:"without knowledge of the witness"}),"."]})]}),e.jsx(S,{type:"info",title:"Intuition Behind Zero-Knowledge",children:e.jsx("p",{children:"The key insight is that if a simulator can produce transcripts that look identical to real transcripts without knowing the witness, then the verifier cannot be learning anything from the transcript that they couldn't compute on their own."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Arguments vs. Proofs"}),e.jsxs("p",{className:"mb-4",children:["Note the distinction between ",e.jsx("strong",{children:"arguments"})," and ",e.jsx("strong",{children:"proofs"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Argument:"})," Soundness holds against computationally bounded (PPT) provers"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Proof:"})," Soundness holds against unbounded provers (information-theoretic)"]})]}),e.jsx("p",{className:"mt-4",children:"In practice, arguments are often sufficient because we only need to defend against realistic (efficient) adversaries."}),e.jsx(W,{className:"my-8"})]})}export{$ as default};
