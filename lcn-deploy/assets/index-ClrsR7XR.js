const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-QTzSXO2A.js","./vendor-animation-0o8UKZ_1.js","./vendor-react-Drj8qL0h.js","./vendor-math-p018AHG0.js","./vendor-firebase-core-BXWtuYvb.js","./Theorems-D6fskaTc.js","./Sidebar-B-3rg3h1.js","./MathBlock-uz1iP4cD.js","./InteractiveModules-Ca4F8yGo.js","./SectionQuizPage-D3C0r8J5.js","./quizMap-Bnq9ppQi.js","./TranscriptsIndex-DbKDMitm.js","./Section00-BmnQ-fn1.js","./ContentBlocks-BLSOaBh_.js","./Section01-C3uRTYal.js","./Callout-Dt8juvZK.js","./Section02-_LIB1S4E.js","./Section03-DjUJt-26.js","./Section04-BTAvVQO9.js","./Section05-C0heP45L.js","./Section06-IGsNxIaH.js","./Section07-CJRxPfIR.js","./Section08-CJeHuBhG.js"])))=>i.map(i=>d[i]);
import{j as d,m as Uo,A as mh}from"./vendor-animation-0o8UKZ_1.js";import{r as Z,a as I1,L as Sn,N as Ka,H as M1,R as j1,b as ei,u as vy}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import{o as U1}from"./vendor-firebase-core-BXWtuYvb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var _y={exports:{}},Nu={},by={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,X){var F=B.length;B.push(X);e:for(;0<F;){var he=F-1>>>1,Ae=B[he];if(0<r(Ae,X))B[he]=X,B[F]=Ae,F=he;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],F=B.pop();if(F!==X){B[0]=F;e:for(var he=0,Ae=B.length,be=Ae>>>1;he<be;){var gt=2*(he+1)-1,Ce=B[gt],yt=gt+1,de=B[yt];if(0>r(Ce,F))yt<Ae&&0>r(de,Ce)?(B[he]=de,B[yt]=F,he=yt):(B[he]=Ce,B[gt]=F,he=gt);else if(yt<Ae&&0>r(de,F))B[he]=de,B[yt]=F,he=yt;else break e}}return X}function r(B,X){var F=B.sortIndex-X.sortIndex;return F!==0?F:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],m=1,p=null,g=3,S=!1,R=!1,I=!1,U=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(B){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(h)}}function L(B){if(I=!1,k(B),!R)if(n(u)!==null)R=!0,V||(V=!0,C());else{var X=n(h);X!==null&&ae(L,X.startTime-B)}}var V=!1,E=-1,v=5,_=-1;function b(){return U?!0:!(e.unstable_now()-_<v)}function T(){if(U=!1,V){var B=e.unstable_now();_=B;var X=!0;try{e:{R=!1,I&&(I=!1,w(E),E=-1),S=!0;var F=g;try{t:{for(k(B),p=n(u);p!==null&&!(p.expirationTime>B&&b());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var Ae=he(p.expirationTime<=B);if(B=e.unstable_now(),typeof Ae=="function"){p.callback=Ae,k(B),X=!0;break t}p===n(u)&&i(u),k(B)}else i(u);p=n(u)}if(p!==null)X=!0;else{var be=n(h);be!==null&&ae(L,be.startTime-B),X=!1}}break e}finally{p=null,g=F,S=!1}X=void 0}}finally{X?C():V=!1}}}var C;if(typeof O=="function")C=function(){O(T)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,se=A.port2;A.port1.onmessage=T,C=function(){se.postMessage(null)}}else C=function(){x(T,0)};function ae(B,X){E=x(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var F=g;g=X;try{return B()}finally{g=F}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=g;g=B;try{return X()}finally{g=F}},e.unstable_scheduleCallback=function(B,X,F){var he=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?he+F:he):F=he,B){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=F+Ae,B={id:m++,callback:X,priorityLevel:B,startTime:F,expirationTime:Ae,sortIndex:-1},F>he?(B.sortIndex=F,t(h,B),n(u)===null&&B===n(h)&&(I?(w(E),E=-1):I=!0,ae(L,F-he))):(B.sortIndex=Ae,t(u,B),R||S||(R=!0,V||(V=!0,C()))),B},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(B){var X=g;return function(){var F=g;g=X;try{return B.apply(this,arguments)}finally{g=F}}}})(Sy);by.exports=Sy;var L1=by.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=L1,Ey=Z,P1=I1;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ty(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bp(e){if(rl(e)!==e)throw Error(j(188))}function B1(e){var t=e.alternate;if(!t){if(t=rl(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return bp(r),e;if(s===i)return bp(r),t;s=s.sibling}throw Error(j(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function xy(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xy(e),t!==null)return t;e=e.sibling}return null}var Oe=Object.assign,H1=Symbol.for("react.element"),Hl=Symbol.for("react.transitional.element"),fo=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),Oy=Symbol.for("react.consumer"),fi=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),gh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),kd=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),vh=Symbol.for("react.activity"),V1=Symbol.for("react.memo_cache_sentinel"),Sp=Symbol.iterator;function Ja(e){return e===null||typeof e!="object"?null:(e=Sp&&e[Sp]||e["@@iterator"],typeof e=="function"?e:null)}var Z1=Symbol.for("react.client.reference");function _h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z1?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ks:return"Fragment";case ph:return"Profiler";case Ny:return"StrictMode";case gh:return"Suspense";case yh:return"SuspenseList";case vh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case fo:return"Portal";case fi:return e.displayName||"Context";case Oy:return(e._context.displayName||"Context")+".Consumer";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kd:return t=e.displayName||null,t!==null?t:_h(e.type)||"Memo";case Pi:t=e._payload,e=e._init;try{return _h(e(t))}catch{}}return null}var ho=Array.isArray,Y=Ey.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=P1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fr={pending:!1,data:null,method:null,action:null},bh=[],Rs=-1;function qn(e){return{current:e}}function at(e){0>Rs||(e.current=bh[Rs],bh[Rs]=null,Rs--)}function Te(e,t){Rs++,bh[Rs]=e.current,e.current=t}var Hn=qn(null),Lo=qn(null),tr=qn(null),Mc=qn(null);function jc(e,t){switch(Te(tr,t),Te(Lo,e),Te(Hn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ng(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ng(t),e=F_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(Hn),Te(Hn,e)}function ia(){at(Hn),at(Lo),at(tr)}function Sh(e){e.memoizedState!==null&&Te(Mc,e);var t=Hn.current,n=F_(t,e.type);t!==n&&(Te(Lo,e),Te(Hn,n))}function Uc(e){Lo.current===e&&(at(Hn),at(Lo)),Mc.current===e&&(at(Mc),Yo._currentValue=Fr)}var hf,Ep;function Br(e){if(hf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hf=t&&t[1]||"",Ep=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hf+e+Ep}var df=!1;function mf(e,t){if(!e||df)return"";df=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(S){var g=S}Reflect.construct(e,[],p)}else{try{p.call()}catch(S){g=S}e.call(p.prototype)}}else{try{throw Error()}catch(S){g=S}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(S){if(S&&g&&typeof S.stack=="string")return[S.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===h.length)for(i=u.length-1,r=h.length-1;1<=i&&0<=r&&u[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==h[r]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=r);break}}}finally{df=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Br(n):""}function G1(e,t){switch(e.tag){case 26:case 27:case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return e.child!==t&&t!==null?Br("Suspense Fallback"):Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return mf(e.type,!1);case 11:return mf(e.type.render,!1);case 1:return mf(e.type,!0);case 31:return Br("Activity");default:return""}}function Tp(e){try{var t="",n=null;do t+=G1(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Eh=Object.prototype.hasOwnProperty,Rd=tt.unstable_scheduleCallback,pf=tt.unstable_cancelCallback,q1=tt.unstable_shouldYield,$1=tt.unstable_requestPaint,qt=tt.unstable_now,X1=tt.unstable_getCurrentPriorityLevel,Cy=tt.unstable_ImmediatePriority,ky=tt.unstable_UserBlockingPriority,Lc=tt.unstable_NormalPriority,F1=tt.unstable_LowPriority,Ry=tt.unstable_IdlePriority,Y1=tt.log,K1=tt.unstable_setDisableYieldValue,sl=null,$t=null;function Yi(e){if(typeof Y1=="function"&&K1(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(sl,e)}catch{}}var Xt=Math.clz32?Math.clz32:W1,J1=Math.log,Q1=Math.LN2;function W1(e){return e>>>=0,e===0?32:31-(J1(e)/Q1|0)|0}var Vl=256,Zl=262144,Gl=4194304;function Hr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ou(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Hr(i):(a&=l,a!==0?r=Hr(a):n||(n=l&~e,n!==0&&(r=Hr(n))))):(l=i&~s,l!==0?r=Hr(l):a!==0?r=Hr(a):n||(n=i&~e,n!==0&&(r=Hr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function al(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dy(){var e=Gl;return Gl<<=1,!(Gl&62914560)&&(Gl=4194304),e}function gf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ol(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tE(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var m=31-Xt(n),p=1<<m;l[m]=0,u[m]=-1;var g=h[m];if(g!==null)for(h[m]=null,m=0;m<g.length;m++){var S=g[m];S!==null&&(S.lane&=-536870913)}n&=~p}i!==0&&zy(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function zy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Xt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Iy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Xt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function My(e,t){var n=t&-t;return n=n&42?1:Dd(n),n&(e.suspendedLanes|t)?0:n}function Dd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function jy(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:sb(e.type))}function Ap(e,t){var n=fe.p;try{return fe.p=e,t()}finally{fe.p=n}}var Sr=Math.random().toString(36).slice(2),ht="__reactFiber$"+Sr,Dt="__reactProps$"+Sr,_a="__reactContainer$"+Sr,Th="__reactEvents$"+Sr,nE="__reactListeners$"+Sr,iE="__reactHandles$"+Sr,wp="__reactResources$"+Sr,ll="__reactMarker$"+Sr;function Id(e){delete e[ht],delete e[Dt],delete e[Th],delete e[nE],delete e[iE]}function Ds(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_a]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[ht])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function ba(e){if(e=e[ht]||e[_a]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function mo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function qs(e){var t=e[wp];return t||(t=e[wp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[ll]=!0}var Uy=new Set,Ly={};function fs(e,t){ra(e,t),ra(e+"Capture",t)}function ra(e,t){for(Ly[e]=t,e=0;e<t.length;e++)Uy.add(t[e])}var rE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xp={},Np={};function sE(e){return Eh.call(Np,e)?!0:Eh.call(xp,e)?!1:rE.test(e)?Np[e]=!0:(xp[e]=!0,!1)}function dc(e,t,n){if(sE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ql(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ti(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Py(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ah(e){if(!e._valueTracker){var t=Py(e)?"checked":"value";e._valueTracker=aE(e,t,""+e[t])}}function By(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Py(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oE=/[\n"\\]/g;function rn(e){return e.replace(oE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wh(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?xh(e,a,en(t)):n!=null?xh(e,a,en(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+en(l):e.removeAttribute("name")}function Hy(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Ah(e);return}n=n!=null?""+en(n):"",t=t!=null?""+en(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Ah(e)}function xh(e,t,n){t==="number"&&Pc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $s(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Vy(e,t,n){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+en(n):""}function Zy(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(j(92));if(ho(i)){if(1<i.length)throw Error(j(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=en(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ah(e)}function sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||lE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gy(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Op(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Op(e,s,t[s])}function Md(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mc(e){return uE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var Nh=null;function jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zs=null,Xs=null;function Cp(e){var t=ba(e);if(t&&(e=t.stateNode)){var n=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+rn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Dt]||null;if(!r)throw Error(j(90));wh(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&By(i)}break e;case"textarea":Vy(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}}}var yf=!1;function qy(e,t,n){if(yf)return e(t,n);yf=!0;try{var i=e(t);return i}finally{if(yf=!1,(zs!==null||Xs!==null)&&(Bu(),zs&&(t=zs,e=Xs,Xs=zs=null,Cp(t),e)))for(t=0;t<e.length;t++)Cp(e[t])}}function Po(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Dt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(_i)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Oh=!1}var Ki=null,Ud=null,pc=null;function $y(){if(pc)return pc;var e,t=Ud,n=t.length,i,r="value"in Ki?Ki.value:Ki.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return pc=r.slice(e,1<i?1-i:void 0)}function gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function kp(){return!1}function zt(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$l:kp,this.isPropagationStopped=kp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=zt(hs),cl=Oe({},hs,{view:0,detail:0}),fE=zt(cl),vf,_f,Wa,ku=Oe({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(vf=e.screenX-Wa.screenX,_f=e.screenY-Wa.screenY):_f=vf=0,Wa=e),vf)},movementY:function(e){return"movementY"in e?e.movementY:_f}}),Rp=zt(ku),hE=Oe({},ku,{dataTransfer:0}),dE=zt(hE),mE=Oe({},cl,{relatedTarget:0}),bf=zt(mE),pE=Oe({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),gE=zt(pE),yE=Oe({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vE=zt(yE),_E=Oe({},hs,{data:0}),Dp=zt(_E),bE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EE[e])?!!t[e]:!1}function Ld(){return TE}var AE=Oe({},cl,{key:function(e){if(e.key){var t=bE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wE=zt(AE),xE=Oe({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zp=zt(xE),NE=Oe({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),OE=zt(NE),CE=Oe({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=zt(CE),RE=Oe({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DE=zt(RE),zE=Oe({},hs,{newState:0,oldState:0}),IE=zt(zE),ME=[9,13,27,32],Pd=_i&&"CompositionEvent"in window,vo=null;_i&&"documentMode"in document&&(vo=document.documentMode);var jE=_i&&"TextEvent"in window&&!vo,Xy=_i&&(!Pd||vo&&8<vo&&11>=vo),Ip=" ",Mp=!1;function Fy(e,t){switch(e){case"keyup":return ME.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function UE(e,t){switch(e){case"compositionend":return Yy(t);case"keypress":return t.which!==32?null:(Mp=!0,Ip);case"textInput":return e=t.data,e===Ip&&Mp?null:e;default:return null}}function LE(e,t){if(Is)return e==="compositionend"||!Pd&&Fy(e,t)?(e=$y(),pc=Ud=Ki=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xy&&t.locale!=="ko"?null:t.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PE[e.type]:t==="textarea"}function Ky(e,t,n,i){zs?Xs?Xs.push(i):Xs=[i]:zs=i,t=iu(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var _o=null,Bo=null;function BE(e){q_(e,0)}function Ru(e){var t=mo(e);if(By(t))return e}function Up(e,t){if(e==="change")return t}var Jy=!1;if(_i){var Sf;if(_i){var Ef="oninput"in document;if(!Ef){var Lp=document.createElement("div");Lp.setAttribute("oninput","return;"),Ef=typeof Lp.oninput=="function"}Sf=Ef}else Sf=!1;Jy=Sf&&(!document.documentMode||9<document.documentMode)}function Pp(){_o&&(_o.detachEvent("onpropertychange",Qy),Bo=_o=null)}function Qy(e){if(e.propertyName==="value"&&Ru(Bo)){var t=[];Ky(t,Bo,e,jd(e)),qy(BE,t)}}function HE(e,t,n){e==="focusin"?(Pp(),_o=t,Bo=n,_o.attachEvent("onpropertychange",Qy)):e==="focusout"&&Pp()}function VE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Bo)}function ZE(e,t){if(e==="click")return Ru(t)}function GE(e,t){if(e==="input"||e==="change")return Ru(t)}function qE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:qE;function Ho(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Eh.call(t,r)||!Yt(e[r],t[r]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hp(e,t){var n=Bp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bp(n)}}function Wy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ev(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pc(e.document)}return t}function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $E=_i&&"documentMode"in document&&11>=document.documentMode,Ms=null,Ch=null,bo=null,kh=!1;function Vp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kh||Ms==null||Ms!==Pc(i)||(i=Ms,"selectionStart"in i&&Bd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bo&&Ho(bo,i)||(bo=i,i=iu(Ch,"onSelect"),0<i.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ms)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var js={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Tf={},tv={};_i&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function ds(e){if(Tf[e])return Tf[e];if(!js[e])return e;var t=js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tv)return Tf[e]=t[n];return e}var nv=ds("animationend"),iv=ds("animationiteration"),rv=ds("animationstart"),XE=ds("transitionrun"),FE=ds("transitionstart"),YE=ds("transitioncancel"),sv=ds("transitionend"),av=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function wn(e,t){av.set(e,t),fs(t,[e])}var Bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Us=0,Hd=0;function Du(){for(var e=Us,t=Hd=Us=0;t<e;){var n=Wt[t];Wt[t++]=null;var i=Wt[t];Wt[t++]=null;var r=Wt[t];Wt[t++]=null;var s=Wt[t];if(Wt[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&ov(n,r,s)}}function zu(e,t,n,i){Wt[Us++]=e,Wt[Us++]=t,Wt[Us++]=n,Wt[Us++]=i,Hd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Vd(e,t,n,i){return zu(e,t,n,i),Hc(e)}function ms(e,t){return zu(e,null,null,t),Hc(e)}function ov(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Xt(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Hc(e){if(50<Co)throw Co=0,Qh=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function KE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,i){return new KE(e,t,n,i)}function Zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gi(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function lv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yc(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Zd(e)&&(a=1);else if(typeof e=="string")a=tA(e,n,Hn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vh:return e=Zt(31,n,t,r),e.elementType=vh,e.lanes=s,e;case ks:return Yr(n.children,r,s,t);case Ny:a=8,r|=24;break;case ph:return e=Zt(12,n,t,r|2),e.elementType=ph,e.lanes=s,e;case gh:return e=Zt(13,n,t,r),e.elementType=gh,e.lanes=s,e;case yh:return e=Zt(19,n,t,r),e.elementType=yh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fi:a=10;break e;case Oy:a=9;break e;case Cd:a=11;break e;case kd:a=14;break e;case Pi:a=16,i=null;break e}a=29,n=Error(j(130,e===null?"null":typeof e,"")),i=null}return t=Zt(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Yr(e,t,n,i){return e=Zt(7,e,i,t),e.lanes=n,e}function Af(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function cv(e){var t=Zt(18,null,null,0);return t.stateNode=e,t}function wf(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zp=new WeakMap;function sn(e,t){if(typeof e=="object"&&e!==null){var n=Zp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tp(t)},Zp.set(e,t),t)}return{value:e,source:t,stack:Tp(t)}}var Ps=[],Bs=0,Vc=null,Vo=0,tn=[],nn=0,dr=null,jn=1,Un="";function li(e,t){Ps[Bs++]=Vo,Ps[Bs++]=Vc,Vc=e,Vo=t}function uv(e,t,n){tn[nn++]=jn,tn[nn++]=Un,tn[nn++]=dr,dr=e;var i=jn;e=Un;var r=32-Xt(i)-1;i&=~(1<<r),n+=1;var s=32-Xt(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,jn=1<<32-Xt(t)+r|n<<r|i,Un=s+e}else jn=1<<s|n<<r|i,Un=e}function Gd(e){e.return!==null&&(li(e,1),uv(e,1,0))}function qd(e){for(;e===Vc;)Vc=Ps[--Bs],Ps[Bs]=null,Vo=Ps[--Bs],Ps[Bs]=null;for(;e===dr;)dr=tn[--nn],tn[nn]=null,Un=tn[--nn],tn[nn]=null,jn=tn[--nn],tn[nn]=null}function fv(e,t){tn[nn++]=jn,tn[nn++]=Un,tn[nn++]=dr,jn=t.id,Un=t.overflow,dr=e}var dt=null,Ne=null,ie=!1,nr=null,an=!1,Dh=Error(j(519));function mr(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(sn(t,e)),Dh}function Gp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ht]=e,t[Dt]=i,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<Xo.length;n++)ee(Xo[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),Hy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),Zy(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||X_(t.textContent,n)?(i.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),i.onScroll!=null&&ee("scroll",t),i.onScrollEnd!=null&&ee("scrollend",t),i.onClick!=null&&(t.onclick=hi),t=!0):t=!1,t||mr(e,!0)}function qp(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:dt=dt.return}}function ws(e){if(e!==dt)return!1;if(!ie)return qp(e),ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||id(e.type,e.memoizedProps)),n=!n),n&&Ne&&mr(e),qp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Ne=Rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Ne=Rg(e)}else t===27?(t=Ne,Er(e.type)?(e=od,od=null,Ne=e):Ne=t):Ne=dt?un(e.stateNode.nextSibling):null;return!0}function ts(){Ne=dt=null,ie=!1}function xf(){var e=nr;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),nr=null),e}function Zo(e){nr===null?nr=[e]:nr.push(e)}var zh=qn(null),ps=null,di=null;function Hi(e,t,n){Te(zh,t._currentValue),t._currentValue=n}function yi(e){e._currentValue=zh.current,at(zh)}function Ih(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ih(s.return,n,e),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(j(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Ih(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Sa(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var l=r.type;Yt(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Mc.current){if(a=r.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Yo):e=[Yo])}r=r.return}e!==null&&Mh(t,e,n,i),t.flags|=262144}function Zc(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ns(e){ps=e,di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return hv(ps,e)}function Xl(e,t){return ps===null&&ns(e),hv(e,t)}function hv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},di===null){if(e===null)throw Error(j(308));di=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else di=di.next=t;return n}var JE=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},QE=tt.unstable_scheduleCallback,WE=tt.unstable_NormalPriority,Fe={$$typeof:fi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new JE,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&QE(WE,function(){e.controller.abort()})}var So=null,jh=0,aa=0,Fs=null;function eT(e,t){if(So===null){var n=So=[];jh=0,aa=ym(),Fs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return jh++,t.then($p,$p),t}function $p(){if(--jh===0&&So!==null){Fs!==null&&(Fs.status="fulfilled");var e=So;So=null,aa=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Xp=Y.S;Y.S=function(e,t){x_=qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&eT(e,t),Xp!==null&&Xp(e,t)};var Kr=qn(null);function Xd(){var e=Kr.current;return e!==null?e:Ee.pooledCache}function vc(e,t){t===null?Te(Kr,Kr.current):Te(Kr,t.pool)}function dv(){var e=Xd();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ea=Error(j(460)),Fd=Error(j(474)),Iu=Error(j(542)),Gc={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(hi,hi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kp(e),e;default:if(typeof t.status=="string")t.then(hi,hi);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Kp(e),e}throw Jr=t,Ea}}function Vr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Jr=n,Ea):n}}var Jr=null;function Yp(){if(Jr===null)throw Error(j(459));var e=Jr;return Jr=null,e}function Kp(e){if(e===Ea||e===Iu)throw Error(j(483))}var Ys=null,Go=0;function Fl(e){var t=Go;return Go+=1,Ys===null&&(Ys=[]),mv(Ys,e,t)}function eo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yl(e,t){throw t.$$typeof===H1?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pv(e){function t(x,w){if(e){var O=x.deletions;O===null?(x.deletions=[w],x.flags|=16):O.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function i(x){for(var w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function r(x,w){return x=gi(x,w),x.index=0,x.sibling=null,x}function s(x,w,O){return x.index=O,e?(O=x.alternate,O!==null?(O=O.index,O<w?(x.flags|=67108866,w):O):(x.flags|=67108866,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,w,O,k){return w===null||w.tag!==6?(w=Af(O,x.mode,k),w.return=x,w):(w=r(w,O),w.return=x,w)}function u(x,w,O,k){var L=O.type;return L===ks?m(x,w,O.props.children,k,O.key):w!==null&&(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Pi&&Vr(L)===w.type)?(w=r(w,O.props),eo(w,O),w.return=x,w):(w=yc(O.type,O.key,O.props,null,x.mode,k),eo(w,O),w.return=x,w)}function h(x,w,O,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=wf(O,x.mode,k),w.return=x,w):(w=r(w,O.children||[]),w.return=x,w)}function m(x,w,O,k,L){return w===null||w.tag!==7?(w=Yr(O,x.mode,k,L),w.return=x,w):(w=r(w,O),w.return=x,w)}function p(x,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Af(""+w,x.mode,O),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hl:return O=yc(w.type,w.key,w.props,null,x.mode,O),eo(O,w),O.return=x,O;case fo:return w=wf(w,x.mode,O),w.return=x,w;case Pi:return w=Vr(w),p(x,w,O)}if(ho(w)||Ja(w))return w=Yr(w,x.mode,O,null),w.return=x,w;if(typeof w.then=="function")return p(x,Fl(w),O);if(w.$$typeof===fi)return p(x,Xl(x,w),O);Yl(x,w)}return null}function g(x,w,O,k){var L=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return L!==null?null:l(x,w,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Hl:return O.key===L?u(x,w,O,k):null;case fo:return O.key===L?h(x,w,O,k):null;case Pi:return O=Vr(O),g(x,w,O,k)}if(ho(O)||Ja(O))return L!==null?null:m(x,w,O,k,null);if(typeof O.then=="function")return g(x,w,Fl(O),k);if(O.$$typeof===fi)return g(x,w,Xl(x,O),k);Yl(x,O)}return null}function S(x,w,O,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return x=x.get(O)||null,l(w,x,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hl:return x=x.get(k.key===null?O:k.key)||null,u(w,x,k,L);case fo:return x=x.get(k.key===null?O:k.key)||null,h(w,x,k,L);case Pi:return k=Vr(k),S(x,w,O,k,L)}if(ho(k)||Ja(k))return x=x.get(O)||null,m(w,x,k,L,null);if(typeof k.then=="function")return S(x,w,O,Fl(k),L);if(k.$$typeof===fi)return S(x,w,O,Xl(w,k),L);Yl(w,k)}return null}function R(x,w,O,k){for(var L=null,V=null,E=w,v=w=0,_=null;E!==null&&v<O.length;v++){E.index>v?(_=E,E=null):_=E.sibling;var b=g(x,E,O[v],k);if(b===null){E===null&&(E=_);break}e&&E&&b.alternate===null&&t(x,E),w=s(b,w,v),V===null?L=b:V.sibling=b,V=b,E=_}if(v===O.length)return n(x,E),ie&&li(x,v),L;if(E===null){for(;v<O.length;v++)E=p(x,O[v],k),E!==null&&(w=s(E,w,v),V===null?L=E:V.sibling=E,V=E);return ie&&li(x,v),L}for(E=i(E);v<O.length;v++)_=S(E,x,v,O[v],k),_!==null&&(e&&_.alternate!==null&&E.delete(_.key===null?v:_.key),w=s(_,w,v),V===null?L=_:V.sibling=_,V=_);return e&&E.forEach(function(T){return t(x,T)}),ie&&li(x,v),L}function I(x,w,O,k){if(O==null)throw Error(j(151));for(var L=null,V=null,E=w,v=w=0,_=null,b=O.next();E!==null&&!b.done;v++,b=O.next()){E.index>v?(_=E,E=null):_=E.sibling;var T=g(x,E,b.value,k);if(T===null){E===null&&(E=_);break}e&&E&&T.alternate===null&&t(x,E),w=s(T,w,v),V===null?L=T:V.sibling=T,V=T,E=_}if(b.done)return n(x,E),ie&&li(x,v),L;if(E===null){for(;!b.done;v++,b=O.next())b=p(x,b.value,k),b!==null&&(w=s(b,w,v),V===null?L=b:V.sibling=b,V=b);return ie&&li(x,v),L}for(E=i(E);!b.done;v++,b=O.next())b=S(E,x,v,b.value,k),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?v:b.key),w=s(b,w,v),V===null?L=b:V.sibling=b,V=b);return e&&E.forEach(function(C){return t(x,C)}),ie&&li(x,v),L}function U(x,w,O,k){if(typeof O=="object"&&O!==null&&O.type===ks&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Hl:e:{for(var L=O.key;w!==null;){if(w.key===L){if(L=O.type,L===ks){if(w.tag===7){n(x,w.sibling),k=r(w,O.props.children),k.return=x,x=k;break e}}else if(w.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Pi&&Vr(L)===w.type){n(x,w.sibling),k=r(w,O.props),eo(k,O),k.return=x,x=k;break e}n(x,w);break}else t(x,w);w=w.sibling}O.type===ks?(k=Yr(O.props.children,x.mode,k,O.key),k.return=x,x=k):(k=yc(O.type,O.key,O.props,null,x.mode,k),eo(k,O),k.return=x,x=k)}return a(x);case fo:e:{for(L=O.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){n(x,w.sibling),k=r(w,O.children||[]),k.return=x,x=k;break e}else{n(x,w);break}else t(x,w);w=w.sibling}k=wf(O,x.mode,k),k.return=x,x=k}return a(x);case Pi:return O=Vr(O),U(x,w,O,k)}if(ho(O))return R(x,w,O,k);if(Ja(O)){if(L=Ja(O),typeof L!="function")throw Error(j(150));return O=L.call(O),I(x,w,O,k)}if(typeof O.then=="function")return U(x,w,Fl(O),k);if(O.$$typeof===fi)return U(x,w,Xl(x,O),k);Yl(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(n(x,w.sibling),k=r(w,O),k.return=x,x=k):(n(x,w),k=Af(O,x.mode,k),k.return=x,x=k),a(x)):n(x,w)}return function(x,w,O,k){try{Go=0;var L=U(x,w,O,k);return Ys=null,L}catch(E){if(E===Ea||E===Iu)throw E;var V=Zt(29,E,null,x.mode);return V.lanes=k,V.return=x,V}finally{}}}var is=pv(!0),gv=pv(!1),Bi=!1;function Yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Hc(e),ov(e,null,n),t}return zu(e,i,t,n),Hc(e)}function Eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Iy(e,n)}}function Nf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lh=!1;function To(){if(Lh){var e=Fs;if(e!==null)throw e}}function Ao(e,t,n,i){Lh=!1;var r=e.updateQueue;Bi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?s=h:a.next=h,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,m=h=u=null,l=s;do{var g=l.lane&-536870913,S=g!==l.lane;if(S?(ne&g)===g:(i&g)===g){g!==0&&g===aa&&(Lh=!0),m!==null&&(m=m.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var R=e,I=l;g=t;var U=n;switch(I.tag){case 1:if(R=I.payload,typeof R=="function"){p=R.call(U,p,g);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=I.payload,g=typeof R=="function"?R.call(U,p,g):R,g==null)break e;p=Oe({},p,g);break e;case 2:Bi=!0}}g=l.callback,g!==null&&(e.flags|=64,S&&(e.flags|=8192),S=r.callbacks,S===null?r.callbacks=[g]:S.push(g))}else S={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(h=m=S,u=p):m=m.next=S,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;S=l,l=S.next,S.next=null,r.lastBaseUpdate=S,r.shared.pending=null}}while(!0);m===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=m,s===null&&(r.shared.lanes=0),gr|=a,e.lanes=a,e.memoizedState=p}}function yv(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function vv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yv(n[e],t)}var oa=qn(null),qc=qn(0);function Jp(e,t){e=Ti,Te(qc,e),Te(oa,t),Ti=e|t.baseLanes}function Ph(){Te(qc,Ti),Te(oa,oa.current)}function Kd(){Ti=qc.current,at(oa),at(qc)}var Kt=qn(null),cn=null;function Vi(e){var t=e.alternate;Te(Ve,Ve.current&1),Te(Kt,e),cn===null&&(t===null||oa.current!==null||t.memoizedState!==null)&&(cn=e)}function Bh(e){Te(Ve,Ve.current),Te(Kt,e),cn===null&&(cn=e)}function _v(e){e.tag===22?(Te(Ve,Ve.current),Te(Kt,e),cn===null&&(cn=e)):Zi()}function Zi(){Te(Ve,Ve.current),Te(Kt,Kt.current)}function Vt(e){at(Kt),cn===e&&(cn=null),at(Ve)}var Ve=qn(0);function $c(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sd(n)||ad(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bi=0,J=null,_e=null,$e=null,Xc=!1,Ks=!1,rs=!1,Fc=0,qo=0,Js=null,nT=0;function Ie(){throw Error(j(321))}function Jd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Qd(e,t,n,i,r,s){return bi=s,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Kv:cm,rs=!1,s=n(i,r),rs=!1,Ks&&(s=Sv(t,n,i,r)),bv(e),s}function bv(e){Y.H=$o;var t=_e!==null&&_e.next!==null;if(bi=0,$e=_e=J=null,Xc=!1,qo=0,Js=null,t)throw Error(j(300));e===null||Ye||(e=e.dependencies,e!==null&&Zc(e)&&(Ye=!0))}function Sv(e,t,n,i){J=e;var r=0;do{if(Ks&&(Js=null),qo=0,Ks=!1,25<=r)throw Error(j(301));if(r+=1,$e=_e=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=Jv,s=t(n,i)}while(Ks);return s}function iT(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?fl(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(J.flags|=1024),t}function Wd(){var e=Fc!==0;return Fc=0,e}function em(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function tm(e){if(Xc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xc=!1}bi=0,$e=_e=J=null,Ks=!1,qo=Fc=0,Js=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?J.memoizedState=$e=e:$e=$e.next=e,$e}function Ze(){if(_e===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=$e===null?J.memoizedState:$e.next;if(t!==null)$e=t,_e=e;else{if(e===null)throw J.alternate===null?Error(j(467)):Error(j(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},$e===null?J.memoizedState=$e=e:$e=$e.next=e}return $e}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var t=qo;return qo+=1,Js===null&&(Js=[]),e=mv(Js,e,t),t=J,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Kv:cm),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===fi)return mt(e)}throw Error(j(438,String(e)))}function nm(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mu(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=V1;return t.index++,n}function Si(e,t){return typeof t=="function"?t(e):t}function _c(e){var t=Ze();return im(t,_e,e)}function im(e,t,n){var i=e.queue;if(i===null)throw Error(j(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,h=t,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(ne&p)===p:(bi&p)===p){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===aa&&(m=!0);else if((bi&g)===g){h=h.next,g===aa&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,J.lanes|=g,gr|=g;p=h.action,rs&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else g={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,J.lanes|=p,gr|=p;h=h.next}while(h!==null&&h!==t);if(u===null?a=s:u.next=l,!Yt(s,e.memoizedState)&&(Ye=!0,m&&(n=Fs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Of(e){var t=Ze(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Yt(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ev(e,t,n){var i=J,r=Ze(),s=ie;if(s){if(n===void 0)throw Error(j(407));n=n()}else n=t();var a=!Yt((_e||r).memoizedState,n);if(a&&(r.memoizedState=n,Ye=!0),r=r.queue,rm(wv.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||$e!==null&&$e.memoizedState.tag&1){if(i.flags|=2048,la(9,{destroy:void 0},Av.bind(null,i,r,n,t),null),Ee===null)throw Error(j(349));s||bi&127||Tv(i,t,n)}return n}function Tv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Mu(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Av(e,t,n,i){t.value=n,t.getSnapshot=i,xv(t)&&Nv(e)}function wv(e,t,n){return n(function(){xv(t)&&Nv(e)})}function xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yt(e,n)}catch{return!0}}function Nv(e){var t=ms(e,2);t!==null&&Rt(t,e,2)}function Hh(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),rs){Yi(!0);try{n()}finally{Yi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t}function Ov(e,t,n,i){return e.baseState=n,im(e,_e,typeof i=="function"?i:Si)}function rT(e,t,n,i,r){if(Lu(e))throw Error(j(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,Cv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Cv(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),Qp(e,t,l)}catch(h){Vh(e,t,h)}finally{s!==null&&a.types!==null&&(s.types=a.types),Y.T=s}}else try{s=n(r,i),Qp(e,t,s)}catch(h){Vh(e,t,h)}}function Qp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Wp(e,t,i)},function(i){return Vh(e,t,i)}):Wp(e,t,n)}function Wp(e,t,n){t.status="fulfilled",t.value=n,kv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Cv(e,n)))}function Vh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,kv(t),t=t.next;while(t!==i)}e.action=null}function kv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rv(e,t){return t}function eg(e,t){if(ie){var n=Ee.formState;if(n!==null){e:{var i=J;if(ie){if(Ne){t:{for(var r=Ne,s=an;r.nodeType!==8;){if(!s){r=null;break t}if(r=un(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ne=un(r.nextSibling),i=r.data==="F!";break e}}mr(i)}i=!1}i&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rv,lastRenderedState:t},n.queue=i,n=Xv.bind(null,J,i),i.dispatch=n,i=Hh(!1),s=lm.bind(null,J,!1,i.queue),i=bt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=rT.bind(null,J,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function tg(e){var t=Ze();return Dv(t,_e,e)}function Dv(e,t,n){if(t=im(e,t,Rv)[0],e=_c(Si)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=fl(t)}catch(a){throw a===Ea?Iu:a}else i=t;t=Ze();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(J.flags|=2048,la(9,{destroy:void 0},sT.bind(null,r,n),null)),[i,s,e]}function sT(e,t){e.action=t}function ng(e){var t=Ze(),n=_e;if(n!==null)return Dv(t,n,e);Ze(),t=t.memoizedState,n=Ze();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function la(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=Mu(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function zv(){return Ze().memoizedState}function bc(e,t,n,i){var r=bt();J.flags|=e,r.memoizedState=la(1|t,{destroy:void 0},n,i===void 0?null:i)}function Uu(e,t,n,i){var r=Ze();i=i===void 0?null:i;var s=r.memoizedState.inst;_e!==null&&i!==null&&Jd(i,_e.memoizedState.deps)?r.memoizedState=la(t,s,n,i):(J.flags|=e,r.memoizedState=la(1|t,s,n,i))}function ig(e,t){bc(8390656,8,e,t)}function rm(e,t){Uu(2048,8,e,t)}function aT(e){J.flags|=4;var t=J.updateQueue;if(t===null)t=Mu(),J.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Iv(e){var t=Ze().memoizedState;return aT({ref:t,nextImpl:e}),function(){if(ue&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function Mv(e,t){return Uu(4,2,e,t)}function jv(e,t){return Uu(4,4,e,t)}function Uv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lv(e,t,n){n=n!=null?n.concat([e]):null,Uu(4,4,Uv.bind(null,t,e),n)}function sm(){}function Pv(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Jd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Bv(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Jd(t,i[1]))return i[0];if(i=e(),rs){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i}function am(e,t,n){return n===void 0||bi&1073741824&&!(ne&261930)?e.memoizedState=t:(e.memoizedState=n,e=O_(),J.lanes|=e,gr|=e,n)}function Hv(e,t,n,i){return Yt(n,t)?n:oa.current!==null?(e=am(e,n,i),Yt(e,t)||(Ye=!0),e):!(bi&42)||bi&1073741824&&!(ne&261930)?(Ye=!0,e.memoizedState=n):(e=O_(),J.lanes|=e,gr|=e,t)}function Vv(e,t,n,i,r){var s=fe.p;fe.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,lm(e,!1,t,n);try{var u=r(),h=Y.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=tT(u,i);wo(e,t,m,Ft(e))}else wo(e,t,i,Ft(e))}catch(p){wo(e,t,{then:function(){},status:"rejected",reason:p},Ft())}finally{fe.p=s,a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}function oT(){}function Zh(e,t,n,i){if(e.tag!==5)throw Error(j(476));var r=Zv(e).queue;Vv(e,r,t,Fr,n===null?oT:function(){return Gv(e),n(i)})}function Zv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Fr,baseState:Fr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Fr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Gv(e){var t=Zv(e);t.next===null&&(t=e.alternate.memoizedState),wo(e,t.next.queue,{},Ft())}function om(){return mt(Yo)}function qv(){return Ze().memoizedState}function $v(){return Ze().memoizedState}function lT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ft();e=ir(n);var i=rr(t,e,n);i!==null&&(Rt(i,t,n),Eo(i,t,n)),t={cache:$d()},e.payload=t;return}t=t.return}}function cT(e,t,n){var i=Ft();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Fv(t,n):(n=Vd(e,t,n,i),n!==null&&(Rt(n,e,i),Yv(n,t,i)))}function Xv(e,t,n){var i=Ft();wo(e,t,n,i)}function wo(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Fv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Yt(l,a))return zu(e,t,r,0),Ee===null&&Du(),!1}catch{}finally{}if(n=Vd(e,t,r,i),n!==null)return Rt(n,e,i),Yv(n,t,i),!0}return!1}function lm(e,t,n,i){if(i={lane:2,revertLane:ym(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(t)throw Error(j(479))}else t=Vd(e,n,i,2),t!==null&&Rt(t,e,2)}function Lu(e){var t=e.alternate;return e===J||t!==null&&t===J}function Fv(e,t){Ks=Xc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Iy(e,n)}}var $o={readContext:mt,use:ju,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};$o.useEffectEvent=Ie;var Kv={readContext:mt,use:ju,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:ig,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bc(4194308,4,Uv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bc(4194308,4,e,t)},useInsertionEffect:function(e,t){bc(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var i=e();if(rs){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=bt();if(n!==void 0){var r=n(t);if(rs){Yi(!0);try{n(t)}finally{Yi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=cT.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Hh(e);var t=e.queue,n=Xv.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sm,useDeferredValue:function(e,t){var n=bt();return am(n,e,t)},useTransition:function(){var e=Hh(!1);return e=Vv.bind(null,J,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,r=bt();if(ie){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Ee===null)throw Error(j(349));ne&127||Tv(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,ig(wv.bind(null,i,s,e),[e]),i.flags|=2048,la(9,{destroy:void 0},Av.bind(null,i,s,n,t),null),n},useId:function(){var e=bt(),t=Ee.identifierPrefix;if(ie){var n=Un,i=jn;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nT++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:om,useFormState:eg,useActionState:eg,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lm.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:nm,useCacheRefresh:function(){return bt().memoizedState=lT.bind(null,J)},useEffectEvent:function(e){var t=bt(),n={impl:e};return t.memoizedState=n,function(){if(ue&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},cm={readContext:mt,use:ju,useCallback:Pv,useContext:mt,useEffect:rm,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:jv,useMemo:Bv,useReducer:_c,useRef:zv,useState:function(){return _c(Si)},useDebugValue:sm,useDeferredValue:function(e,t){var n=Ze();return Hv(n,_e.memoizedState,e,t)},useTransition:function(){var e=_c(Si)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:fl(e),t]},useSyncExternalStore:Ev,useId:qv,useHostTransitionStatus:om,useFormState:tg,useActionState:tg,useOptimistic:function(e,t){var n=Ze();return Ov(n,_e,e,t)},useMemoCache:nm,useCacheRefresh:$v};cm.useEffectEvent=Iv;var Jv={readContext:mt,use:ju,useCallback:Pv,useContext:mt,useEffect:rm,useImperativeHandle:Lv,useInsertionEffect:Mv,useLayoutEffect:jv,useMemo:Bv,useReducer:Of,useRef:zv,useState:function(){return Of(Si)},useDebugValue:sm,useDeferredValue:function(e,t){var n=Ze();return _e===null?am(n,e,t):Hv(n,_e.memoizedState,e,t)},useTransition:function(){var e=Of(Si)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:fl(e),t]},useSyncExternalStore:Ev,useId:qv,useHostTransitionStatus:om,useFormState:ng,useActionState:ng,useOptimistic:function(e,t){var n=Ze();return _e!==null?Ov(n,_e,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:nm,useCacheRefresh:$v};Jv.useEffectEvent=Iv;function Cf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=ir(i);r.payload=t,n!=null&&(r.callback=n),t=rr(e,r,i),t!==null&&(Rt(t,e,i),Eo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ft(),r=ir(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=rr(e,r,i),t!==null&&(Rt(t,e,i),Eo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ft(),i=ir(n);i.tag=2,t!=null&&(i.callback=t),t=rr(e,i,n),t!==null&&(Rt(t,e,n),Eo(t,e,n))}};function rg(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,i)||!Ho(r,s):!0}function sg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function ss(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Oe({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Qv(e){Bc(e)}function Wv(e){console.error(e)}function e_(e){Bc(e)}function Yc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ag(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function qh(e,t,n){return n=ir(n),n.tag=3,n.payload={element:null},n.callback=function(){Yc(e,t)},n}function t_(e){return e=ir(e),e.tag=3,e}function n_(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){ag(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){ag(t,n,i),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function uT(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Sa(t,n,r,!0),n=Kt.current,n!==null){switch(n.tag){case 31:case 13:return cn===null?eu():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Gc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Bf(e,i,r)),!1;case 22:return n.flags|=65536,i===Gc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Bf(e,i,r)),!1}throw Error(j(435,n.tag))}return Bf(e,i,r),eu(),!1}if(ie)return t=Kt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Dh&&(e=Error(j(422),{cause:i}),Zo(sn(e,n)))):(i!==Dh&&(t=Error(j(423),{cause:i}),Zo(sn(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=sn(i,n),r=qh(e.stateNode,i,r),Nf(e,r),Me!==4&&(Me=2)),!1;var s=Error(j(520),{cause:i});if(s=sn(s,n),Oo===null?Oo=[s]:Oo.push(s),Me!==4&&(Me=2),t===null)return!0;i=sn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=qh(n.stateNode,i,e),Nf(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(sr===null||!sr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=t_(r),n_(r,e,n,i),Nf(n,r),!1}n=n.return}while(n!==null);return!1}var um=Error(j(461)),Ye=!1;function ut(e,t,n,i){t.child=e===null?gv(t,null,n,i):is(t,e.child,n,i)}function og(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return ns(t),i=Qd(e,t,n,a,s,r),l=Wd(),e!==null&&!Ye?(em(e,t,r),Ei(e,t,r)):(ie&&l&&Gd(t),t.flags|=1,ut(e,t,i,r),t.child)}function lg(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Zd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,i_(e,t,s,i,r)):(e=yc(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fm(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(a,i)&&e.ref===t.ref)return Ei(e,t,r)}return t.flags|=1,e=gi(s,i),e.ref=t.ref,e.return=t,t.child=e}function i_(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ho(s,i)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=i=s,fm(e,r))e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Ei(e,t,r)}return $h(e,t,n,i,r)}function r_(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return cg(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vc(t,s!==null?s.cachePool:null),s!==null?Jp(t,s):Ph(),_v(t);else return i=t.lanes=536870912,cg(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(vc(t,s.cachePool),Jp(t,s),Zi(),t.memoizedState=null):(e!==null&&vc(t,null),Ph(),Zi());return ut(e,t,r,n),t.child}function po(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cg(e,t,n,i,r){var s=Xd();return s=s===null?null:{parent:Fe._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&vc(t,null),Ph(),_v(t),e!==null&&Sa(e,t,i,!0),t.childLanes=r,null}function Sc(e,t){return t=Kc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ug(e,t,n){return is(t,e.child,null,n),e=Sc(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function fT(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ie){if(i.mode==="hidden")return e=Sc(t,i),t.lanes=536870912,po(null,e);if(Bh(t),(e=Ne)?(e=K_(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dr!==null?{id:jn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},n=cv(e),n.return=t,t.child=n,dt=t,Ne=null)):e=null,e===null)throw mr(t);return t.lanes=536870912,null}return Sc(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(Bh(t),r)if(t.flags&256)t.flags&=-257,t=ug(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(Ye||Sa(e,t,n,!1),r=(n&e.childLanes)!==0,Ye||r){if(i=Ee,i!==null&&(a=My(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,ms(e,a),Rt(i,e,a),um;eu(),t=ug(e,t,n)}else e=s.treeContext,Ne=un(a.nextSibling),dt=t,ie=!0,nr=null,an=!1,e!==null&&fv(t,e),t=Sc(t,i),t.flags|=4096;return t}return e=gi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ec(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $h(e,t,n,i,r){return ns(t),n=Qd(e,t,n,i,void 0,r),i=Wd(),e!==null&&!Ye?(em(e,t,r),Ei(e,t,r)):(ie&&i&&Gd(t),t.flags|=1,ut(e,t,n,r),t.child)}function fg(e,t,n,i,r,s){return ns(t),t.updateQueue=null,n=Sv(t,i,n,r),bv(e),i=Wd(),e!==null&&!Ye?(em(e,t,s),Ei(e,t,s)):(ie&&i&&Gd(t),t.flags|=1,ut(e,t,n,s),t.child)}function hg(e,t,n,i,r){if(ns(t),t.stateNode===null){var s=Ls,a=n.contextType;typeof a=="object"&&a!==null&&(s=mt(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gh,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Yd(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?mt(a):Ls,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Cf(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Gh.enqueueReplaceState(s,s.state,null),Ao(t,i,s,r),To(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=ss(n,l);s.props=u;var h=s.context,m=n.contextType;a=Ls,typeof m=="object"&&m!==null&&(a=mt(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||h!==a)&&sg(t,s,i,a),Bi=!1;var g=t.memoizedState;s.state=g,Ao(t,i,s,r),To(),h=t.memoizedState,l||g!==h||Bi?(typeof p=="function"&&(Cf(t,n,p,i),h=t.memoizedState),(u=Bi||rg(t,n,u,i,g,h,a))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Uh(e,t),a=t.memoizedProps,m=ss(n,a),s.props=m,p=t.pendingProps,g=s.context,h=n.contextType,u=Ls,typeof h=="object"&&h!==null&&(u=mt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==u)&&sg(t,s,i,u),Bi=!1,g=t.memoizedState,s.state=g,Ao(t,i,s,r),To();var S=t.memoizedState;a!==p||g!==S||Bi||e!==null&&e.dependencies!==null&&Zc(e.dependencies)?(typeof l=="function"&&(Cf(t,n,l,i),S=t.memoizedState),(m=Bi||rg(t,n,m,i,g,S,u)||e!==null&&e.dependencies!==null&&Zc(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,S,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,S,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=S),s.props=i,s.state=S,s.context=u,i=m):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Ec(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=is(t,e.child,null,r),t.child=is(t,null,n,r)):ut(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Ei(e,t,r),e}function dg(e,t,n,i){return ts(),t.flags|=256,ut(e,t,n,i),t.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:dv()}}function Df(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function s_(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ie){if(r?Vi(t):Zi(),(e=Ne)?(e=K_(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:dr!==null?{id:jn,overflow:Un}:null,retryLane:536870912,hydrationErrors:null},n=cv(e),n.return=t,t.child=n,dt=t,Ne=null)):e=null,e===null)throw mr(t);return ad(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Zi(),r=t.mode,l=Kc({mode:"hidden",children:l},r),i=Yr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Rf(n),i.childLanes=Df(e,a,n),t.memoizedState=kf,po(null,i)):(Vi(t),Xh(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Vi(t),t.flags&=-257,t=zf(e,t,n)):t.memoizedState!==null?(Zi(),t.child=e.child,t.flags|=128,t=null):(Zi(),l=i.fallback,r=t.mode,i=Kc({mode:"visible",children:i.children},r),l=Yr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,is(t,e.child,null,n),i=t.child,i.memoizedState=Rf(n),i.childLanes=Df(e,a,n),t.memoizedState=kf,t=po(null,i));else if(Vi(t),ad(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(j(419)),i.stack="",i.digest=a,Zo({value:i,source:null,stack:null}),t=zf(e,t,n)}else if(Ye||Sa(e,t,n,!1),a=(n&e.childLanes)!==0,Ye||a){if(a=Ee,a!==null&&(i=My(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ms(e,i),Rt(a,e,i),um;sd(l)||eu(),t=zf(e,t,n)}else sd(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ne=un(l.nextSibling),dt=t,ie=!0,nr=null,an=!1,e!==null&&fv(t,e),t=Xh(t,i.children),t.flags|=4096);return t}return r?(Zi(),l=i.fallback,r=t.mode,u=e.child,h=u.sibling,i=gi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?l=gi(h,l):(l=Yr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,po(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Rf(n):(r=l.cachePool,r!==null?(u=Fe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=dv(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Df(e,a,n),t.memoizedState=kf,po(e.child,i)):(Vi(t),n=e.child,e=n.sibling,n=gi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Xh(e,t){return t=Kc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kc(e,t){return e=Zt(22,e,null,t),e.lanes=0,e}function zf(e,t,n){return is(t,e.child,null,n),e=Xh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ih(e.return,t,n)}function If(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function a_(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Ve.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,Te(Ve,a),ut(e,t,i,n),i=ie?Vo:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mg(e,n,t);else if(e.tag===19)mg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&$c(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),If(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&$c(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}If(t,!0,n,null,s,i);break;case"together":If(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ei(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))if(e!==null){if(Sa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Zc(e)))}function hT(e,t,n){switch(t.tag){case 3:jc(t,t.stateNode.containerInfo),Hi(t,Fe,e.memoizedState.cache),ts();break;case 27:case 5:Sh(t);break;case 4:jc(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Vi(t),t.flags|=128,null):n&t.child.childLanes?s_(e,t,n):(Vi(t),e=Ei(e,t,n),e!==null?e.sibling:null);Vi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Sa(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return a_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(Ve,Ve.current),i)break;return null;case 22:return t.lanes=0,r_(e,t,n,t.pendingProps);case 24:Hi(t,Fe,e.memoizedState.cache)}return Ei(e,t,n)}function o_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!fm(e,n)&&!(t.flags&128))return Ye=!1,hT(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,ie&&t.flags&1048576&&uv(t,Vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Vr(t.elementType),t.type=e,typeof e=="function")Zd(e)?(i=ss(e,i),t.tag=1,t=hg(null,t,e,i,n)):(t.tag=0,t=$h(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===Cd){t.tag=11,t=og(null,t,e,i,n);break e}else if(r===kd){t.tag=14,t=lg(null,t,e,i,n);break e}}throw t=_h(e)||e,Error(j(306,t,""))}}return t;case 0:return $h(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=ss(i,t.pendingProps),hg(e,t,i,r,n);case 3:e:{if(jc(t,t.stateNode.containerInfo),e===null)throw Error(j(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Uh(e,t),Ao(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Hi(t,Fe,i),i!==s.cache&&Mh(t,[Fe],n,!0),To(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=dg(e,t,i,n);break e}else if(i!==r){r=sn(Error(j(424)),t),Zo(r),t=dg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=un(e.firstChild),dt=t,ie=!0,nr=null,an=!0,n=gv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ts(),i===r){t=Ei(e,t,n);break e}ut(e,t,i,n)}t=t.child}return t;case 26:return Ec(e,t),e===null?(n=Ig(t.type,null,t.pendingProps,null))?t.memoizedState=n:ie||(n=t.type,e=t.pendingProps,i=ru(tr.current).createElement(n),i[ht]=t,i[Dt]=e,pt(i,n,e),st(i),t.stateNode=i):t.memoizedState=Ig(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sh(t),e===null&&ie&&(i=t.stateNode=J_(t.type,t.pendingProps,tr.current),dt=t,an=!0,r=Ne,Er(t.type)?(od=r,Ne=un(i.firstChild)):Ne=r),ut(e,t,t.pendingProps.children,n),Ec(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ie&&((r=i=Ne)&&(i=VT(i,t.type,t.pendingProps,an),i!==null?(t.stateNode=i,dt=t,Ne=un(i.firstChild),an=!1,r=!0):r=!1),r||mr(t)),Sh(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,id(r,s)?i=null:a!==null&&id(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Qd(e,t,iT,null,null,n),Yo._currentValue=r),Ec(e,t),ut(e,t,i,n),t.child;case 6:return e===null&&ie&&((e=n=Ne)&&(n=ZT(n,t.pendingProps,an),n!==null?(t.stateNode=n,dt=t,Ne=null,e=!0):e=!1),e||mr(t)),null;case 13:return s_(e,t,n);case 4:return jc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=is(t,null,i,n):ut(e,t,i,n),t.child;case 11:return og(e,t,t.type,t.pendingProps,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Hi(t,t.type,i.value),ut(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ns(t),r=mt(r),i=i(r),t.flags|=1,ut(e,t,i,n),t.child;case 14:return lg(e,t,t.type,t.pendingProps,n);case 15:return i_(e,t,t.type,t.pendingProps,n);case 19:return a_(e,t,n);case 31:return fT(e,t,n);case 22:return r_(e,t,n,t.pendingProps);case 24:return ns(t),i=mt(Fe),e===null?(r=Xd(),r===null&&(r=Ee,s=$d(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Yd(t),Hi(t,Fe,r)):(e.lanes&n&&(Uh(e,t),Ao(t,null,null,n),To()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Hi(t,Fe,i)):(i=s.cache,Hi(t,Fe,i),i!==r.cache&&Mh(t,[Fe],n,!0))),ut(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function ni(e){e.flags|=4}function Mf(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(R_())e.flags|=8192;else throw Jr=Gc,Fd}else e.flags&=-16777217}function pg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!eb(t))if(R_())e.flags|=8192;else throw Jr=Gc,Fd}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dy():536870912,e.lanes|=t,ca|=t)}function to(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function dT(e,t,n){var i=t.pendingProps;switch(qd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yi(Fe),ia(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ws(t)?ni(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xf())),xe(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(ni(t),s!==null?(xe(t),pg(t,s)):(xe(t),Mf(t,r,null,i,n))):s?s!==e.memoizedState?(ni(t),xe(t),pg(t,s)):(xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ni(t),xe(t),Mf(t,r,e,i,n)),null;case 27:if(Uc(t),n=tr.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return xe(t),null}e=Hn.current,ws(t)?Gp(t):(e=J_(r,i,n),t.stateNode=e,ni(t))}return xe(t),null;case 5:if(Uc(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return xe(t),null}if(s=Hn.current,ws(t))Gp(t);else{var a=ru(tr.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[ht]=t,s[Dt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(pt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ni(t)}}return xe(t),Mf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(e=tr.current,ws(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=dt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ht]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||X_(e.nodeValue,n)),e||mr(t,!0)}else e=ru(e).createTextNode(i),e[ht]=t,t.stateNode=e}return xe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ws(t),n!==null){if(e===null){if(!i)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[ht]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),e=!1}else n=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if(t.flags&128)throw Error(j(558))}return xe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ws(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(j(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[ht]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),r=!1}else r=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),xe(t),null);case 4:return ia(),e===null&&vm(t.stateNode.containerInfo),xe(t),null;case 10:return yi(t.type),xe(t),null;case 19:if(at(Ve),i=t.memoizedState,i===null)return xe(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)to(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$c(e),s!==null){for(t.flags|=128,to(i,!1),e=s.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)lv(n,e),n=n.sibling;return Te(Ve,Ve.current&1|2),ie&&li(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&qt()>Qc&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304)}else{if(!r)if(e=$c(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),to(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ie)return xe(t),null}else 2*qt()-i.renderingStartTime>Qc&&n!==536870912&&(t.flags|=128,r=!0,to(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qt(),e.sibling=null,n=Ve.current,Te(Ve,r?n&1|2:n&1),ie&&li(t,i.treeForkCount),e):(xe(t),null);case 22:case 23:return Vt(t),Kd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&at(Kr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yi(Fe),xe(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function mT(e,t){switch(qd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(Fe),ia(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Uc(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(j(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(Ve),null;case 4:return ia(),null;case 10:return yi(t.type),null;case 22:case 23:return Vt(t),Kd(),e!==null&&at(Kr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yi(Fe),null;case 25:return null;default:return null}}function l_(e,t){switch(qd(t),t.tag){case 3:yi(Fe),ia();break;case 26:case 27:case 5:Uc(t);break;case 4:ia();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:at(Ve);break;case 10:yi(t.type);break;case 22:case 23:Vt(t),Kd(),e!==null&&at(Kr);break;case 24:yi(Fe)}}function hl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){ge(t,t.return,l)}}function pr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,h=l;try{h()}catch(m){ge(r,u,m)}}}i=i.next}while(i!==s)}}catch(m){ge(t,t.return,m)}}function c_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{vv(t,n)}catch(i){ge(e,e.return,i)}}}function u_(e,t,n){n.props=ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ge(e,t,i)}}function xo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){ge(e,t,r)}}function Ln(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ge(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function f_(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ge(e,e.return,r)}}function jf(e,t,n){try{var i=e.stateNode;jT(i,e.type,n,t),i[Dt]=t}catch(r){ge(e,e.return,r)}}function h_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Er(e.type)||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Er(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hi));else if(i!==4&&(i===27&&Er(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Fh(e,t,n),e=e.sibling;e!==null;)Fh(e,t,n),e=e.sibling}function Jc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Er(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jc(e,t,n),e=e.sibling;e!==null;)Jc(e,t,n),e=e.sibling}function d_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);pt(t,i,n),t[ht]=e,t[Dt]=n}catch(s){ge(e,e.return,s)}}var ci=!1,Xe=!1,Lf=!1,gg=typeof WeakSet=="function"?WeakSet:Set,rt=null;function pT(e,t){if(e=e.containerInfo,td=lu,e=ev(e),Bd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,m=0,p=e,g=null;t:for(;;){for(var S;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(S=p.firstChild)!==null;)g=p,p=S;for(;;){if(p===e)break t;if(g===n&&++h===r&&(l=a),g===s&&++m===i&&(u=a),(S=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=S}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},lu=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var R=ss(n.type,r);e=i.getSnapshotBeforeUpdate(R,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){ge(n,n.return,I)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function m_(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n),i&4&&hl(5,n);break;case 1:if(ri(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ge(n,n.return,a)}else{var r=ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ge(n,n.return,a)}}i&64&&c_(n),i&512&&xo(n,n.return);break;case 3:if(ri(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{vv(e,t)}catch(a){ge(n,n.return,a)}}break;case 27:t===null&&i&4&&d_(n);case 26:case 5:ri(e,n),t===null&&i&4&&f_(n),i&512&&xo(n,n.return);break;case 12:ri(e,n);break;case 31:ri(e,n),i&4&&y_(e,n);break;case 13:ri(e,n),i&4&&v_(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=AT.bind(null,n),GT(e,n))));break;case 22:if(i=n.memoizedState!==null||ci,!i){t=t!==null&&t.memoizedState!==null||Xe,r=ci;var s=Xe;ci=i,(Xe=t)&&!s?oi(e,n,(n.subtreeFlags&8772)!==0):ri(e,n),ci=r,Xe=s}break;case 30:break;default:ri(e,n)}}function p_(e){var t=e.alternate;t!==null&&(e.alternate=null,p_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Id(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Nt=!1;function ii(e,t,n){for(n=n.child;n!==null;)g_(e,t,n),n=n.sibling}function g_(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(sl,n)}catch{}switch(n.tag){case 26:Xe||Ln(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Ln(n,t);var i=ke,r=Nt;Er(n.type)&&(ke=n.stateNode,Nt=!1),ii(e,t,n),ko(n.stateNode),ke=i,Nt=r;break;case 5:Xe||Ln(n,t);case 6:if(i=ke,r=Nt,ke=null,ii(e,t,n),ke=i,Nt=r,ke!==null)if(Nt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(s){ge(n,t,s)}else try{ke.removeChild(n.stateNode)}catch(s){ge(n,t,s)}break;case 18:ke!==null&&(Nt?(e=ke,Cg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),da(e)):Cg(ke,n.stateNode));break;case 4:i=ke,r=Nt,ke=n.stateNode.containerInfo,Nt=!0,ii(e,t,n),ke=i,Nt=r;break;case 0:case 11:case 14:case 15:pr(2,n,t),Xe||pr(4,n,t),ii(e,t,n);break;case 1:Xe||(Ln(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&u_(n,t,i)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Xe=(i=Xe)||n.memoizedState!==null,ii(e,t,n),Xe=i;break;default:ii(e,t,n)}}function y_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{da(e)}catch(n){ge(t,t.return,n)}}}function v_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{da(e)}catch(n){ge(t,t.return,n)}}function gT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gg),t;default:throw Error(j(435,e.tag))}}function Jl(e,t){var n=gT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=wT.bind(null,e,i);i.then(r,r)}})}function wt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Er(l.type)){ke=l.stateNode,Nt=!1;break e}break;case 5:ke=l.stateNode,Nt=!1;break e;case 3:case 4:ke=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(ke===null)throw Error(j(160));g_(s,a,r),ke=null,Nt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)__(t,e),t=t.sibling}var _n=null;function __(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),xt(e),i&4&&(pr(3,e,e.return),hl(3,e),pr(5,e,e.return));break;case 1:wt(t,e),xt(e),i&512&&(Xe||n===null||Ln(n,n.return)),i&64&&ci&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=_n;if(wt(t,e),xt(e),i&512&&(Xe||n===null||Ln(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[ll]||s[ht]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),pt(s,i,n),s[ht]=e,st(s),i=s;break e;case"link":var a=jg("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),pt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=jg("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),pt(s,i,n),r.head.appendChild(s);break;default:throw Error(j(468,i))}s[ht]=e,st(s),i=s}e.stateNode=i}else Ug(r,e.type,e.stateNode);else e.stateNode=Mg(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ug(r,e.type,e.stateNode):Mg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&jf(e,e.memoizedProps,n.memoizedProps)}break;case 27:wt(t,e),xt(e),i&512&&(Xe||n===null||Ln(n,n.return)),n!==null&&i&4&&jf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(wt(t,e),xt(e),i&512&&(Xe||n===null||Ln(n,n.return)),e.flags&32){r=e.stateNode;try{sa(r,"")}catch(R){ge(e,e.return,R)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,jf(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Lf=!0);break;case 6:if(wt(t,e),xt(e),i&4){if(e.stateNode===null)throw Error(j(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(R){ge(e,e.return,R)}}break;case 3:if(wc=null,r=_n,_n=su(t.containerInfo),wt(t,e),_n=r,xt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(R){ge(e,e.return,R)}Lf&&(Lf=!1,b_(e));break;case 4:i=_n,_n=su(e.stateNode.containerInfo),wt(t,e),xt(e),_n=i;break;case 12:wt(t,e),xt(e);break;case 31:wt(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Jl(e,i)));break;case 13:wt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pu=qt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Jl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=ci,m=Xe;if(ci=h||r,Xe=m||u,wt(t,e),Xe=m,ci=h,xt(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||ci||Xe||Zr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(R){ge(u,u.return,R)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(R){ge(u,u.return,R)}}}else if(t.tag===18){if(n===null){u=t;try{var S=u.stateNode;r?kg(S,!0):kg(u.stateNode,!1)}catch(R){ge(u,u.return,R)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Jl(e,n))));break;case 19:wt(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Jl(e,i)));break;case 30:break;case 21:break;default:wt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(h_(i)){n=i;break}i=i.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var r=n.stateNode,s=Uf(e);Jc(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(sa(a,""),n.flags&=-33);var l=Uf(e);Jc(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Uf(e);Fh(e,h,u);break;default:throw Error(j(161))}}catch(m){ge(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;b_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ri(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)m_(e,t.alternate,t),t=t.sibling}function Zr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:pr(4,t,t.return),Zr(t);break;case 1:Ln(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&u_(t,t.return,n),Zr(t);break;case 27:ko(t.stateNode);case 26:case 5:Ln(t,t.return),Zr(t);break;case 22:t.memoizedState===null&&Zr(t);break;case 30:Zr(t);break;default:Zr(t)}e=e.sibling}}function oi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:oi(r,s,n),hl(4,s);break;case 1:if(oi(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){ge(i,i.return,h)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)yv(u[r],l)}catch(h){ge(i,i.return,h)}}n&&a&64&&c_(s),xo(s,s.return);break;case 27:d_(s);case 26:case 5:oi(r,s,n),n&&i===null&&a&4&&f_(s),xo(s,s.return);break;case 12:oi(r,s,n);break;case 31:oi(r,s,n),n&&a&4&&y_(r,s);break;case 13:oi(r,s,n),n&&a&4&&v_(r,s);break;case 22:s.memoizedState===null&&oi(r,s,n),xo(s,s.return);break;case 30:break;default:oi(r,s,n)}t=t.sibling}}function hm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ul(n))}function dm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e))}function yn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(e,t,n,i),t=t.sibling}function S_(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,n,i),r&2048&&hl(9,t);break;case 1:yn(e,t,n,i);break;case 3:yn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ul(e)));break;case 12:if(r&2048){yn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ge(t,t.return,u)}}else yn(e,t,n,i);break;case 31:yn(e,t,n,i);break;case 13:yn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?yn(e,t,n,i):No(e,t):s._visibility&2?yn(e,t,n,i):(s._visibility|=2,Os(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&hm(a,t);break;case 24:yn(e,t,n,i),r&2048&&dm(t.alternate,t);break;default:yn(e,t,n,i)}}function Os(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Os(s,a,l,u,r),hl(8,a);break;case 23:break;case 22:var m=a.stateNode;a.memoizedState!==null?m._visibility&2?Os(s,a,l,u,r):No(s,a):(m._visibility|=2,Os(s,a,l,u,r)),r&&h&2048&&hm(a.alternate,a);break;case 24:Os(s,a,l,u,r),r&&h&2048&&dm(a.alternate,a);break;default:Os(s,a,l,u,r)}t=t.sibling}}function No(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:No(n,i),r&2048&&hm(i.alternate,i);break;case 24:No(n,i),r&2048&&dm(i.alternate,i);break;default:No(n,i)}t=t.sibling}}var go=8192;function xs(e,t,n){if(e.subtreeFlags&go)for(e=e.child;e!==null;)E_(e,t,n),e=e.sibling}function E_(e,t,n){switch(e.tag){case 26:xs(e,t,n),e.flags&go&&e.memoizedState!==null&&nA(n,_n,e.memoizedState,e.memoizedProps);break;case 5:xs(e,t,n);break;case 3:case 4:var i=_n;_n=su(e.stateNode.containerInfo),xs(e,t,n),_n=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=go,go=16777216,xs(e,t,n),go=i):xs(e,t,n));break;default:xs(e,t,n)}}function T_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function no(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,w_(i,e)}T_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A_(e),e=e.sibling}function A_(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&pr(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tc(e)):no(e);break;default:no(e)}}function Tc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];rt=i,w_(i,e)}T_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:pr(8,t,t.return),Tc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Tc(t));break;default:Tc(t)}e=e.sibling}}function w_(e,t){for(;rt!==null;){var n=rt;switch(n.tag){case 0:case 11:case 15:pr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,rt=i;else e:for(n=e;rt!==null;){i=rt;var r=i.sibling,s=i.return;if(p_(i),i===n){rt=null;break e}if(r!==null){r.return=s,rt=r;break e}rt=s}}}var yT={getCacheForType:function(e){var t=mt(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return mt(Fe).controller.signal}},vT=typeof WeakMap=="function"?WeakMap:Map,ue=0,Ee=null,te=null,ne=0,me=0,Bt=null,Ji=!1,Ta=!1,mm=!1,Ti=0,Me=0,gr=0,Qr=0,pm=0,Gt=0,ca=0,Oo=null,Ot=null,Yh=!1,Pu=0,x_=0,Qc=1/0,Wc=null,sr=null,We=0,ar=null,ua=null,vi=0,Kh=0,Jh=null,N_=null,Co=0,Qh=null;function Ft(){return ue&2&&ne!==0?ne&-ne:Y.T!==null?ym():jy()}function O_(){if(Gt===0)if(!(ne&536870912)||ie){var e=Zl;Zl<<=1,!(Zl&3932160)&&(Zl=262144),Gt=e}else Gt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Gt}function Rt(e,t,n){(e===Ee&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(fa(e,0),Qi(e,ne,Gt,!1)),ol(e,n),(!(ue&2)||e!==Ee)&&(e===Ee&&(!(ue&2)&&(Qr|=n),Me===4&&Qi(e,ne,Gt,!1)),$n(e))}function C_(e,t,n){if(ue&6)throw Error(j(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||al(e,t),r=i?ST(e,t):Pf(e,t,!0),s=i;do{if(r===0){Ta&&!i&&Qi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_T(n)){r=Pf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var l=e;r=Oo;var u=l.current.memoizedState.isDehydrated;if(u&&(fa(l,a).flags|=256),a=Pf(l,a,!1),a!==2){if(mm&&!u){l.errorRecoveryDisabledLanes|=s,Qr|=s,r=4;break e}s=Ot,Ot=r,s!==null&&(Ot===null?Ot=s:Ot.push.apply(Ot,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){fa(e,0),Qi(e,t,0,!0);break}e:{switch(i=e,s=r,s){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:Qi(i,t,Gt,!Ji);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(r=Pu+300-qt(),10<r)){if(Qi(i,t,Gt,!Ji),Ou(i,0,!0)!==0)break e;vi=t,i.timeoutHandle=Y_(yg.bind(null,i,n,Ot,Wc,Yh,t,Gt,Qr,ca,Ji,s,"Throttled",-0,0),r);break e}yg(i,n,Ot,Wc,Yh,t,Gt,Qr,ca,Ji,s,null,-0,0)}}break}while(!0);$n(e)}function yg(e,t,n,i,r,s,a,l,u,h,m,p,g,S){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},E_(t,s,p);var R=(s&62914560)===s?Pu-qt():(s&4194048)===s?x_-qt():0;if(R=iA(p,R),R!==null){vi=s,e.cancelPendingCommit=R(_g.bind(null,e,t,s,n,i,r,a,l,u,m,p,null,g,S)),Qi(e,s,a,!h);return}}_g(e,t,s,n,i,r,a,l,u)}function _T(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Yt(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qi(e,t,n,i){t&=~pm,t&=~Qr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Xt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&zy(e,n,t)}function Bu(){return ue&6?!0:(dl(0),!1)}function gm(){if(te!==null){if(me===0)var e=te.return;else e=te,di=ps=null,tm(e),Ys=null,Go=0,e=te;for(;e!==null;)l_(e.alternate,e),e=e.return;te=null}}function fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,PT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vi=0,gm(),Ee=e,te=n=gi(e.current,null),ne=t,me=0,Bt=null,Ji=!1,Ta=al(e,t),mm=!1,ca=Gt=pm=Qr=gr=Me=0,Ot=Oo=null,Yh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Xt(i),s=1<<r;t|=e[r],i&=~s}return Ti=t,Du(),n}function k_(e,t){J=null,Y.H=$o,t===Ea||t===Iu?(t=Yp(),me=3):t===Fd?(t=Yp(),me=4):me=t===um?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,te===null&&(Me=1,Yc(e,sn(t,e.current)))}function R_(){var e=Kt.current;return e===null?!0:(ne&4194048)===ne?cn===null:(ne&62914560)===ne||ne&536870912?e===cn:!1}function D_(){var e=Y.H;return Y.H=$o,e===null?$o:e}function z_(){var e=Y.A;return Y.A=yT,e}function eu(){Me=4,Ji||(ne&4194048)!==ne&&Kt.current!==null||(Ta=!0),!(gr&134217727)&&!(Qr&134217727)||Ee===null||Qi(Ee,ne,Gt,!1)}function Pf(e,t,n){var i=ue;ue|=2;var r=D_(),s=z_();(Ee!==e||ne!==t)&&(Wc=null,fa(e,t)),t=!1;var a=Me;e:do try{if(me!==0&&te!==null){var l=te,u=Bt;switch(me){case 8:gm(),a=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var h=me;if(me=0,Bt=null,Hs(e,l,u,h),n&&Ta){a=0;break e}break;default:h=me,me=0,Bt=null,Hs(e,l,u,h)}}bT(),a=Me;break}catch(m){k_(e,m)}while(!0);return t&&e.shellSuspendCounter++,di=ps=null,ue=i,Y.H=r,Y.A=s,te===null&&(Ee=null,ne=0,Du()),a}function bT(){for(;te!==null;)I_(te)}function ST(e,t){var n=ue;ue|=2;var i=D_(),r=z_();Ee!==e||ne!==t?(Wc=null,Qc=qt()+500,fa(e,t)):Ta=al(e,t);e:do try{if(me!==0&&te!==null){t=te;var s=Bt;t:switch(me){case 1:me=0,Bt=null,Hs(e,t,s,1);break;case 2:case 9:if(Fp(s)){me=0,Bt=null,vg(t);break}t=function(){me!==2&&me!==9||Ee!==e||(me=7),$n(e)},s.then(t,t);break e;case 3:me=7;break e;case 4:me=5;break e;case 7:Fp(s)?(me=0,Bt=null,vg(t)):(me=0,Bt=null,Hs(e,t,s,7));break;case 5:var a=null;switch(te.tag){case 26:a=te.memoizedState;case 5:case 27:var l=te;if(a?eb(a):l.stateNode.complete){me=0,Bt=null;var u=l.sibling;if(u!==null)te=u;else{var h=l.return;h!==null?(te=h,Hu(h)):te=null}break t}}me=0,Bt=null,Hs(e,t,s,5);break;case 6:me=0,Bt=null,Hs(e,t,s,6);break;case 8:gm(),Me=6;break e;default:throw Error(j(462))}}ET();break}catch(m){k_(e,m)}while(!0);return di=ps=null,Y.H=i,Y.A=r,ue=n,te!==null?0:(Ee=null,ne=0,Du(),Me)}function ET(){for(;te!==null&&!q1();)I_(te)}function I_(e){var t=o_(e.alternate,e,Ti);e.memoizedProps=e.pendingProps,t===null?Hu(e):te=t}function vg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=fg(n,t,t.pendingProps,t.type,void 0,ne);break;case 11:t=fg(n,t,t.pendingProps,t.type.render,t.ref,ne);break;case 5:tm(t);default:l_(n,t),t=te=lv(t,Ti),t=o_(n,t,Ti)}e.memoizedProps=e.pendingProps,t===null?Hu(e):te=t}function Hs(e,t,n,i){di=ps=null,tm(t),Ys=null,Go=0;var r=t.return;try{if(uT(e,r,t,n,ne)){Me=1,Yc(e,sn(n,e.current)),te=null;return}}catch(s){if(r!==null)throw te=r,s;Me=1,Yc(e,sn(n,e.current)),te=null;return}t.flags&32768?(ie||i===1?e=!0:Ta||ne&536870912?e=!1:(Ji=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),M_(t,e)):Hu(t)}function Hu(e){var t=e;do{if(t.flags&32768){M_(t,Ji);return}e=t.return;var n=dT(t.alternate,t,Ti);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);Me===0&&(Me=5)}function M_(e,t){do{var n=mT(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);Me=6,te=null}function _g(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Vu();while(We!==0);if(ue&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(s=t.lanes|t.childLanes,s|=Hd,tE(e,n,s,a,l,u),e===Ee&&(te=Ee=null,ne=0),ua=t,ar=e,vi=n,Kh=s,Jh=r,N_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xT(Lc,function(){return B_(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=fe.p,fe.p=2,a=ue,ue|=4;try{pT(e,t,n)}finally{ue=a,fe.p=r,Y.T=i}}We=1,j_(),U_(),L_()}}function j_(){if(We===1){We=0;var e=ar,t=ua,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=fe.p;fe.p=2;var r=ue;ue|=4;try{__(t,e);var s=nd,a=ev(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&Wy(l.ownerDocument.documentElement,l)){if(u!==null&&Bd(l)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(m,l.value.length);else{var p=l.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var S=g.getSelection(),R=l.textContent.length,I=Math.min(u.start,R),U=u.end===void 0?I:Math.min(u.end,R);!S.extend&&I>U&&(a=U,U=I,I=a);var x=Hp(l,I),w=Hp(l,U);if(x&&w&&(S.rangeCount!==1||S.anchorNode!==x.node||S.anchorOffset!==x.offset||S.focusNode!==w.node||S.focusOffset!==w.offset)){var O=p.createRange();O.setStart(x.node,x.offset),S.removeAllRanges(),I>U?(S.addRange(O),S.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),S.addRange(O))}}}}for(p=[],S=l;S=S.parentNode;)S.nodeType===1&&p.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var k=p[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}lu=!!td,nd=td=null}finally{ue=r,fe.p=i,Y.T=n}}e.current=t,We=2}}function U_(){if(We===2){We=0;var e=ar,t=ua,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=fe.p;fe.p=2;var r=ue;ue|=4;try{m_(e,t.alternate,t)}finally{ue=r,fe.p=i,Y.T=n}}We=3}}function L_(){if(We===4||We===3){We=0,$1();var e=ar,t=ua,n=vi,i=N_;t.subtreeFlags&10256||t.flags&10256?We=5:(We=0,ua=ar=null,P_(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(sr=null),zd(n),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(sl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=fe.p,fe.p=2,Y.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,fe.p=r}}vi&3&&Vu(),$n(e),r=e.pendingLanes,n&261930&&r&42?e===Qh?Co++:(Co=0,Qh=e):Co=0,dl(0)}}function P_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ul(t)))}function Vu(){return j_(),U_(),L_(),B_()}function B_(){if(We!==5)return!1;var e=ar,t=Kh;Kh=0;var n=zd(vi),i=Y.T,r=fe.p;try{fe.p=32>n?32:n,Y.T=null,n=Jh,Jh=null;var s=ar,a=vi;if(We=0,ua=ar=null,vi=0,ue&6)throw Error(j(331));var l=ue;if(ue|=4,A_(s.current),S_(s,s.current,a,n),ue=l,dl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(sl,s)}catch{}return!0}finally{fe.p=r,Y.T=i,P_(e,t)}}function bg(e,t,n){t=sn(n,t),t=qh(e.stateNode,t,2),e=rr(e,t,2),e!==null&&(ol(e,2),$n(e))}function ge(e,t,n){if(e.tag===3)bg(e,e,n);else for(;t!==null;){if(t.tag===3){bg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sr===null||!sr.has(i))){e=sn(n,e),n=t_(2),i=rr(t,n,2),i!==null&&(n_(n,i,t,e),ol(i,2),$n(i));break}}t=t.return}}function Bf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new vT;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(mm=!0,r.add(n),e=TT.bind(null,e,t,n),t.then(e,e))}function TT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ee===e&&(ne&n)===n&&(Me===4||Me===3&&(ne&62914560)===ne&&300>qt()-Pu?!(ue&2)&&fa(e,0):pm|=n,ca===ne&&(ca=0)),$n(e)}function H_(e,t){t===0&&(t=Dy()),e=ms(e,t),e!==null&&(ol(e,t),$n(e))}function AT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),H_(e,n)}function wT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(j(314))}i!==null&&i.delete(t),H_(e,n)}function xT(e,t){return Rd(e,t)}var tu=null,Cs=null,Wh=!1,nu=!1,Hf=!1,Wi=0;function $n(e){e!==Cs&&e.next===null&&(Cs===null?tu=Cs=e:Cs=Cs.next=e),nu=!0,Wh||(Wh=!0,OT())}function dl(e,t){if(!Hf&&nu){Hf=!0;do for(var n=!1,i=tu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Xt(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Sg(i,s))}else s=ne,s=Ou(i,i===Ee?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||al(i,s)||(n=!0,Sg(i,s));i=i.next}while(n);Hf=!1}}function NT(){V_()}function V_(){nu=Wh=!1;var e=0;Wi!==0&&LT()&&(e=Wi);for(var t=qt(),n=null,i=tu;i!==null;){var r=i.next,s=Z_(i,t);s===0?(i.next=null,n===null?tu=r:n.next=r,r===null&&(Cs=n)):(n=i,(e!==0||s&3)&&(nu=!0)),i=r}We!==0&&We!==5||dl(e),Wi!==0&&(Wi=0)}function Z_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Xt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=eE(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=Ee,n=ne,n=Ou(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(me===2||me===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&pf(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||al(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&pf(i),zd(n)){case 2:case 8:n=ky;break;case 32:n=Lc;break;case 268435456:n=Ry;break;default:n=Lc}return i=G_.bind(null,e),n=Rd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&pf(i),e.callbackPriority=2,e.callbackNode=null,2}function G_(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var i=ne;return i=Ou(e,e===Ee?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(C_(e,i,t),Z_(e,qt()),e.callbackNode!=null&&e.callbackNode===n?G_.bind(null,e):null)}function Sg(e,t){if(Vu())return null;C_(e,t,!0)}function OT(){BT(function(){ue&6?Rd(Cy,NT):V_()})}function ym(){if(Wi===0){var e=aa;e===0&&(e=Vl,Vl<<=1,!(Vl&261888)&&(Vl=256)),Wi=e}return Wi}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mc(""+e)}function Tg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function CT(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Eg((r[Dt]||null).action),a=i.submitter;a&&(t=(t=a[Dt]||null)?Eg(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Cu("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wi!==0){var u=a?Tg(r,a):new FormData(r);Zh(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Tg(r,a):new FormData(r),Zh(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Vf=0;Vf<Rh.length;Vf++){var Zf=Rh[Vf],kT=Zf.toLowerCase(),RT=Zf[0].toUpperCase()+Zf.slice(1);wn(kT,"on"+RT)}wn(nv,"onAnimationEnd");wn(iv,"onAnimationIteration");wn(rv,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(XE,"onTransitionRun");wn(FE,"onTransitionStart");wn(YE,"onTransitionCancel");wn(sv,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function q_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(m){Bc(m)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=h;try{s(r)}catch(m){Bc(m)}r.currentTarget=null,s=u}}}}function ee(e,t){var n=t[Th];n===void 0&&(n=t[Th]=new Set);var i=e+"__bubble";n.has(i)||($_(t,e,2,!1),n.add(i))}function Gf(e,t,n){var i=0;t&&(i|=4),$_(n,e,i,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function vm(e){if(!e[Ql]){e[Ql]=!0,Uy.forEach(function(n){n!=="selectionchange"&&(DT.has(n)||Gf(n,!1,e),Gf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Gf("selectionchange",!1,t))}}function $_(e,t,n,i){switch(sb(t)){case 2:var r=aA;break;case 8:r=oA;break;default:r=Em}n=r.bind(null,t,n,e),r=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Ds(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}qy(function(){var h=s,m=jd(n),p=[];e:{var g=av.get(e);if(g!==void 0){var S=Cu,R=e;switch(e){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":S=wE;break;case"focusin":R="focus",S=bf;break;case"focusout":R="blur",S=bf;break;case"beforeblur":case"afterblur":S=bf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=dE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=OE;break;case nv:case iv:case rv:S=gE;break;case sv:S=kE;break;case"scroll":case"scrollend":S=fE;break;case"wheel":S=DE;break;case"copy":case"cut":case"paste":S=vE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=zp;break;case"toggle":case"beforetoggle":S=IE}var I=(t&4)!==0,U=!I&&(e==="scroll"||e==="scrollend"),x=I?g!==null?g+"Capture":null:g;I=[];for(var w=h,O;w!==null;){var k=w;if(O=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||O===null||x===null||(k=Po(w,x),k!=null&&I.push(Fo(w,k,O))),U)break;w=w.return}0<I.length&&(g=new S(g,R,null,n,m),p.push({event:g,listeners:I}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",g&&n!==Nh&&(R=n.relatedTarget||n.fromElement)&&(Ds(R)||R[_a]))break e;if((S||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,S?(R=n.relatedTarget||n.toElement,S=h,R=R?Ds(R):null,R!==null&&(U=rl(R),I=R.tag,R!==U||I!==5&&I!==27&&I!==6)&&(R=null)):(S=null,R=h),S!==R)){if(I=Rp,k="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(I=zp,k="onPointerLeave",x="onPointerEnter",w="pointer"),U=S==null?g:mo(S),O=R==null?g:mo(R),g=new I(k,w+"leave",S,n,m),g.target=U,g.relatedTarget=O,k=null,Ds(m)===h&&(I=new I(x,w+"enter",R,n,m),I.target=O,I.relatedTarget=U,k=I),U=k,S&&R)t:{for(I=zT,x=S,w=R,O=0,k=x;k;k=I(k))O++;k=0;for(var L=w;L;L=I(L))k++;for(;0<O-k;)x=I(x),O--;for(;0<k-O;)w=I(w),k--;for(;O--;){if(x===w||w!==null&&x===w.alternate){I=x;break t}x=I(x),w=I(w)}I=null}else I=null;S!==null&&Ag(p,g,S,I,!1),R!==null&&U!==null&&Ag(p,U,R,I,!0)}}e:{if(g=h?mo(h):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var V=Up;else if(jp(g))if(Jy)V=GE;else{V=VE;var E=HE}else S=g.nodeName,!S||S.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&Md(h.elementType)&&(V=Up):V=ZE;if(V&&(V=V(e,h))){Ky(p,V,n,m);break e}E&&E(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&xh(g,"number",g.value)}switch(E=h?mo(h):window,e){case"focusin":(jp(E)||E.contentEditable==="true")&&(Ms=E,Ch=h,bo=null);break;case"focusout":bo=Ch=Ms=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Vp(p,n,m);break;case"selectionchange":if($E)break;case"keydown":case"keyup":Vp(p,n,m)}var v;if(Pd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Is?Fy(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Xy&&n.locale!=="ko"&&(Is||_!=="onCompositionStart"?_==="onCompositionEnd"&&Is&&(v=$y()):(Ki=m,Ud="value"in Ki?Ki.value:Ki.textContent,Is=!0)),E=iu(h,_),0<E.length&&(_=new Dp(_,e,null,n,m),p.push({event:_,listeners:E}),v?_.data=v:(v=Yy(n),v!==null&&(_.data=v)))),(v=jE?UE(e,n):LE(e,n))&&(_=iu(h,"onBeforeInput"),0<_.length&&(E=new Dp("onBeforeInput","beforeinput",null,n,m),p.push({event:E,listeners:_}),E.data=v)),CT(p,e,h,n,m)}q_(p,t)})}function Fo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function iu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Po(e,n),r!=null&&i.unshift(Fo(e,r,s)),r=Po(e,t),r!=null&&i.push(Fo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function zT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ag(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,r?(h=Po(n,s),h!=null&&a.unshift(Fo(n,h,u))):r||(h=Po(n,s),h!=null&&a.push(Fo(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var IT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function wg(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(MT,"")}function X_(e,t){return t=wg(t),wg(e)===t}function ve(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||sa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&sa(e,""+i);break;case"className":ql(e,"class",i);break;case"tabIndex":ql(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,n,i);break;case"style":Gy(e,i,s);break;case"data":if(t!=="object"){ql(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=mc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",r.name,r,null),ve(e,t,"formEncType",r.formEncType,r,null),ve(e,t,"formMethod",r.formMethod,r,null),ve(e,t,"formTarget",r.formTarget,r,null)):(ve(e,t,"encType",r.encType,r,null),ve(e,t,"method",r.method,r,null),ve(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=mc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=hi);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=mc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ee("beforetoggle",e),ee("toggle",e),dc(e,"popover",i);break;case"xlinkActuate":ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ti(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ti(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ti(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ti(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":dc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cE.get(n)||n,dc(e,n,i))}}function ed(e,t,n,i,r,s){switch(n){case"style":Gy(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof i=="string"?sa(e,i):(typeof i=="number"||typeof i=="bigint")&&sa(e,""+i);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ly.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Dt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):dc(e,n,i)}}}function pt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:ve(e,t,s,a,n,null)}}r&&ve(e,t,"srcSet",n.srcSet,n,null),i&&ve(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var l=s=a=r=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":r=m;break;case"type":a=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(j(137,t));break;default:ve(e,t,i,m,n,null)}}Hy(e,s,l,u,h,a,r,!1);return;case"select":ee("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ve(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?$s(e,!!i,t,!1):n!=null&&$s(e,!!i,n,!0);return;case"textarea":ee("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(j(91));break;default:ve(e,t,a,l,n,null)}Zy(e,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ve(e,t,u,i,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(i=0;i<Xo.length;i++)ee(Xo[i],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:ve(e,t,h,i,n,null)}return;default:if(Md(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&ed(e,t,m,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ve(e,t,l,i,n,null))}function jT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,h=null,m=null;for(S in n){var p=n[S];if(n.hasOwnProperty(S)&&p!=null)switch(S){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(S)||ve(e,t,S,null,i,p)}}for(var g in i){var S=i[g];if(p=n[g],i.hasOwnProperty(g)&&(S!=null||p!=null))switch(g){case"type":s=S;break;case"name":r=S;break;case"checked":h=S;break;case"defaultChecked":m=S;break;case"value":a=S;break;case"defaultValue":l=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(j(137,t));break;default:S!==p&&ve(e,t,g,S,i,p)}}wh(e,a,l,u,h,m,s,r);return;case"select":S=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":S=u;default:i.hasOwnProperty(s)||ve(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ve(e,t,r,s,i,u)}t=l,n=a,i=S,g!=null?$s(e,!!n,g,!1):!!i!=!!n&&(t!=null?$s(e,!!n,t,!0):$s(e,!!n,n?[]:"",!1));return;case"textarea":S=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ve(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":S=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(j(91));break;default:r!==s&&ve(e,t,a,r,i,s)}Vy(e,g,S);return;case"option":for(var R in n)if(g=n[R],n.hasOwnProperty(R)&&g!=null&&!i.hasOwnProperty(R))switch(R){case"selected":e.selected=!1;break;default:ve(e,t,R,null,i,g)}for(u in i)if(g=i[u],S=n[u],i.hasOwnProperty(u)&&g!==S&&(g!=null||S!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ve(e,t,u,g,i,S)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I)&&ve(e,t,I,null,i,g);for(h in i)if(g=i[h],S=n[h],i.hasOwnProperty(h)&&g!==S&&(g!=null||S!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(j(137,t));break;default:ve(e,t,h,g,i,S)}return;default:if(Md(t)){for(var U in n)g=n[U],n.hasOwnProperty(U)&&g!==void 0&&!i.hasOwnProperty(U)&&ed(e,t,U,void 0,i,g);for(m in i)g=i[m],S=n[m],!i.hasOwnProperty(m)||g===S||g===void 0&&S===void 0||ed(e,t,m,g,i,S);return}}for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&ve(e,t,x,null,i,g);for(p in i)g=i[p],S=n[p],!i.hasOwnProperty(p)||g===S||g==null&&S==null||ve(e,t,p,g,i,S)}function xg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&xg(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>l)break;var m=u.transferSize,p=u.initiatorType;m&&xg(p)&&(u=u.responseEnd,a+=m*(u<l?1:(l-h)/(u-h)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var td=null,nd=null;function ru(e){return e.nodeType===9?e:e.ownerDocument}function Ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function id(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=null;function LT(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(HT)}:Y_;function HT(e){setTimeout(function(){throw e})}function Er(e){return e==="head"}function Cg(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),da(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ko(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ko(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[ll]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&ko(e.ownerDocument.body);n=r}while(n);da(t)}function kg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function rd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rd(n),Id(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function VT(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function ZT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=un(e.nextSibling),e===null))return null;return e}function K_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var od=null;function Rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return un(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function J_(e,t,n){switch(t=ru(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function ko(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Id(e)}var fn=new Map,zg=new Set;function su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ni=fe.d;fe.d={f:qT,r:$T,D:XT,C:FT,L:YT,m:KT,X:QT,S:JT,M:WT};function qT(){var e=Ni.f(),t=Bu();return e||t}function $T(e){var t=ba(e);t!==null&&t.tag===5&&t.type==="form"?Gv(t):Ni.r(e)}var Aa=typeof document>"u"?null:document;function Q_(e,t,n){var i=Aa;if(i&&typeof t=="string"&&t){var r=rn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),zg.has(r)||(zg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),pt(t,"link",e),st(t),i.head.appendChild(t)))}}function XT(e){Ni.D(e),Q_("dns-prefetch",e,null)}function FT(e,t){Ni.C(e,t),Q_("preconnect",e,t)}function YT(e,t,n){Ni.L(e,t,n);var i=Aa;if(i&&e&&t){var r='link[rel="preload"][as="'+rn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+rn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+rn(n.imageSizes)+'"]')):r+='[href="'+rn(e)+'"]';var s=r;switch(t){case"style":s=ha(e);break;case"script":s=wa(e)}fn.has(s)||(e=Oe({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(ml(s))||t==="script"&&i.querySelector(pl(s))||(t=i.createElement("link"),pt(t,"link",e),st(t),i.head.appendChild(t)))}}function KT(e,t){Ni.m(e,t);var n=Aa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+rn(i)+'"][href="'+rn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wa(e)}if(!fn.has(s)&&(e=Oe({rel:"modulepreload",href:e},t),fn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(s)))return}i=n.createElement("link"),pt(i,"link",e),st(i),n.head.appendChild(i)}}}function JT(e,t,n){Ni.S(e,t,n);var i=Aa;if(i&&e){var r=qs(i).hoistableStyles,s=ha(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(ml(s)))l.loading=5;else{e=Oe({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fn.get(s))&&_m(e,n);var u=a=i.createElement("link");st(u),pt(u,"link",e),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ac(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function QT(e,t){Ni.X(e,t);var n=Aa;if(n&&e){var i=qs(n).hoistableScripts,r=wa(e),s=i.get(r);s||(s=n.querySelector(pl(r)),s||(e=Oe({src:e,async:!0},t),(t=fn.get(r))&&bm(e,t),s=n.createElement("script"),st(s),pt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function WT(e,t){Ni.M(e,t);var n=Aa;if(n&&e){var i=qs(n).hoistableScripts,r=wa(e),s=i.get(r);s||(s=n.querySelector(pl(r)),s||(e=Oe({src:e,async:!0,type:"module"},t),(t=fn.get(r))&&bm(e,t),s=n.createElement("script"),st(s),pt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function Ig(e,t,n,i){var r=(r=tr.current)?su(r):null;if(!r)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ha(n.href),n=qs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ha(n.href);var s=qs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(ml(e)))&&!s._p&&(a.instance=s,a.state.loading=5),fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fn.set(e,n),s||eA(r,e,n,a.state))),t&&i===null)throw Error(j(528,""));return a}if(t&&i!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=wa(n),n=qs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function ha(e){return'href="'+rn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function W_(e){return Oe({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),pt(t,"link",n),st(t),e.head.appendChild(t))}function wa(e){return'[src="'+rn(e)+'"]'}function pl(e){return"script[async]"+e}function Mg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+rn(n.href)+'"]');if(i)return t.instance=i,st(i),i;var r=Oe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),st(i),pt(i,"style",r),Ac(i,n.precedence,e),t.instance=i;case"stylesheet":r=ha(n.href);var s=e.querySelector(ml(r));if(s)return t.state.loading|=4,t.instance=s,st(s),s;i=W_(n),(r=fn.get(r))&&_m(i,r),s=(e.ownerDocument||e).createElement("link"),st(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),pt(s,"link",i),t.state.loading|=4,Ac(s,n.precedence,e),t.instance=s;case"script":return s=wa(n.src),(r=e.querySelector(pl(s)))?(t.instance=r,st(r),r):(i=n,(r=fn.get(s))&&(i=Oe({},n),bm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),st(r),pt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Ac(i,n.precedence,e));return t.instance}function Ac(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function _m(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var wc=null;function jg(e,t,n){if(wc===null){var i=new Map,r=wc=new Map;r.set(n,i)}else r=wc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[ll]||s[ht]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function Ug(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function tA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eb(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function nA(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=ha(i.href),s=t.querySelector(ml(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=au.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,st(s);return}s=t.ownerDocument||t,i=W_(i),(r=fn.get(r))&&_m(i,r),s=s.createElement("link"),st(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),pt(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=au.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xf=0;function iA(e,t){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Xf===0&&(Xf=62500*UT());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Xf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ou=null;function xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ou=new Map,t.forEach(rA,e),ou=null,au.call(e))}function rA(e,t){if(!(t.state.loading&4)){var n=ou.get(e);if(n)var i=n.get(null);else{n=new Map,ou.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=au.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Yo={$$typeof:fi,Provider:null,Consumer:null,_currentValue:Fr,_currentValue2:Fr,_threadCount:0};function sA(e,t,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.hiddenUpdates=gf(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function tb(e,t,n,i,r,s,a,l,u,h,m,p){return e=new sA(e,t,n,a,u,h,m,p,l),t=1,s===!0&&(t|=24),s=Zt(3,null,null,t),e.current=s,s.stateNode=e,t=$d(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Yd(s),e}function nb(e){return e?(e=Ls,e):Ls}function ib(e,t,n,i,r,s){r=nb(r),i.context===null?i.context=r:i.pendingContext=r,i=ir(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=rr(e,i,t),n!==null&&(Rt(n,e,t),Eo(n,e,t))}function Lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sm(e,t){Lg(e,t),(e=e.alternate)&&Lg(e,t)}function rb(e){if(e.tag===13||e.tag===31){var t=ms(e,67108864);t!==null&&Rt(t,e,67108864),Sm(e,67108864)}}function Pg(e){if(e.tag===13||e.tag===31){var t=Ft();t=Dd(t);var n=ms(e,t);n!==null&&Rt(n,e,t),Sm(e,t)}}var lu=!0;function aA(e,t,n,i){var r=Y.T;Y.T=null;var s=fe.p;try{fe.p=2,Em(e,t,n,i)}finally{fe.p=s,Y.T=r}}function oA(e,t,n,i){var r=Y.T;Y.T=null;var s=fe.p;try{fe.p=8,Em(e,t,n,i)}finally{fe.p=s,Y.T=r}}function Em(e,t,n,i){if(lu){var r=ld(i);if(r===null)qf(e,t,i,cu,n),Bg(e,i);else if(cA(r,e,t,n,i))i.stopPropagation();else if(Bg(e,i),t&4&&-1<lA.indexOf(e)){for(;r!==null;){var s=ba(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Hr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Xt(a);l.entanglements[1]|=u,a&=~u}$n(s),!(ue&6)&&(Qc=qt()+500,dl(0))}}break;case 31:case 13:l=ms(s,2),l!==null&&Rt(l,s,2),Bu(),Sm(s,2)}if(s=ld(i),s===null&&qf(e,t,i,cu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else qf(e,t,i,null,n)}}function ld(e){return e=jd(e),Tm(e)}var cu=null;function Tm(e){if(cu=null,e=Ds(e),e!==null){var t=rl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ay(t),e!==null)return e;e=null}else if(n===31){if(e=wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cu=e,null}function sb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X1()){case Cy:return 2;case ky:return 8;case Lc:case F1:return 32;case Ry:return 268435456;default:return 32}default:return 32}}var cd=!1,or=null,lr=null,cr=null,Ko=new Map,Jo=new Map,Gi=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bg(e,t){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function io(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ba(t),t!==null&&rb(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function cA(e,t,n,i,r){switch(t){case"focusin":return or=io(or,e,t,n,i,r),!0;case"dragenter":return lr=io(lr,e,t,n,i,r),!0;case"mouseover":return cr=io(cr,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ko.set(s,io(Ko.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Jo.set(s,io(Jo.get(s)||null,e,t,n,i,r)),!0}return!1}function ab(e){var t=Ds(e.target);if(t!==null){var n=rl(t);if(n!==null){if(t=n.tag,t===13){if(t=Ay(n),t!==null){e.blockedOn=t,Ap(e.priority,function(){Pg(n)});return}}else if(t===31){if(t=wy(n),t!==null){e.blockedOn=t,Ap(e.priority,function(){Pg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ld(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Nh=i,n.target.dispatchEvent(i),Nh=null}else return t=ba(n),t!==null&&rb(t),e.blockedOn=n,!1;t.shift()}return!0}function Hg(e,t,n){Nc(e)&&n.delete(t)}function uA(){cd=!1,or!==null&&Nc(or)&&(or=null),lr!==null&&Nc(lr)&&(lr=null),cr!==null&&Nc(cr)&&(cr=null),Ko.forEach(Hg),Jo.forEach(Hg)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,uA)))}var ec=null;function Vg(e){ec!==e&&(ec=e,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Tm(i||n)===null)continue;break}var s=ba(n);s!==null&&(e.splice(t,3),t-=3,Zh(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function da(e){function t(u){return Wl(u,e)}or!==null&&Wl(or,e),lr!==null&&Wl(lr,e),cr!==null&&Wl(cr,e),Ko.forEach(t),Jo.forEach(t);for(var n=0;n<Gi.length;n++){var i=Gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)ab(n),n.blockedOn===null&&Gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Dt]||null;if(typeof s=="function")a||Vg(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Dt]||null)l=a.formAction;else if(Tm(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Vg(n)}}}function ob(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Am(e){this._internalRoot=e}Zu.prototype.render=Am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,i=Ft();ib(n,i,e,t,null,null)};Zu.prototype.unmount=Am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ib(e.current,2,null,e,null,null),Bu(),t[_a]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=jy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gi.length&&t!==0&&t<Gi[n].priority;n++);Gi.splice(n,0,e),n===0&&ab(e)}};var Zg=Ey.version;if(Zg!=="19.2.3")throw Error(j(527,Zg,"19.2.3"));fe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=B1(t),e=e!==null?xy(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{sl=tc.inject(fA),$t=tc}catch{}}Nu.createRoot=function(e,t){if(!Ty(e))throw Error(j(299));var n=!1,i="",r=Qv,s=Wv,a=e_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tb(e,1,!1,null,null,n,i,null,r,s,a,ob),e[_a]=t.current,vm(e),new Am(t)};Nu.hydrateRoot=function(e,t,n){if(!Ty(e))throw Error(j(299));var i=!1,r="",s=Qv,a=Wv,l=e_,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=tb(e,1,!0,t,n??null,i,r,u,s,a,l,ob),t.context=nb(null),n=t.current,i=Ft(),i=Dd(i),r=ir(i),r.callback=null,rr(n,r,i),n=i,t.current.lanes=n,ol(t,n),$n(t),e[_a]=t.current,vm(e),new Zu(t)};Nu.version="19.2.3";function lb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lb)}catch(e){console.error(e)}}lb(),_y.exports=Nu;var hA=_y.exports;const dA="modulepreload",mA=function(e,t){return new URL(e,t).href},Gg={},Ct=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(n.map(h=>{if(h=mA(h,i),h in Gg)return;Gg[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(!!i)for(let R=a.length-1;R>=0;R--){const I=a[R];if(I.href===h&&(!m||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const S=document.createElement("link");if(S.rel=m?"stylesheet":dA,m||(S.as="script"),S.crossOrigin="",S.href=h,u&&S.setAttribute("nonce",u),document.head.appendChild(S),m)return new Promise((R,I)=>{S.addEventListener("load",R),S.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Qo="lcn",cb="Little Crypto Notebook",pA="Advanced cryptography: commitments, zero-knowledge proofs, and multi-signatures",ub="",gA="https://mathacademy-cyan.vercel.app",Pn={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0,transcripts:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:fb,setPrototypeOf:qg,isFrozen:yA,getPrototypeOf:vA,getOwnPropertyDescriptor:_A}=Object;let{freeze:St,seal:hn,create:ud}=Object,{apply:fd,construct:hd}=typeof Reflect<"u"&&Reflect;St||(St=function(t){return t});hn||(hn=function(t){return t});fd||(fd=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return t.apply(n,r)});hd||(hd=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const nc=Et(Array.prototype.forEach),bA=Et(Array.prototype.lastIndexOf),$g=Et(Array.prototype.pop),ro=Et(Array.prototype.push),SA=Et(Array.prototype.splice),Oc=Et(String.prototype.toLowerCase),Ff=Et(String.prototype.toString),Yf=Et(String.prototype.match),so=Et(String.prototype.replace),EA=Et(String.prototype.indexOf),TA=Et(String.prototype.trim),vn=Et(Object.prototype.hasOwnProperty),vt=Et(RegExp.prototype.test),ao=AA(TypeError);function Et(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return fd(e,t,i)}}function AA(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return hd(e,n)}}function W(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oc;qg&&qg(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(yA(t)||(t[i]=s),r=s)}e[r]=!0}return e}function wA(e){for(let t=0;t<e.length;t++)vn(e,t)||(e[t]=null);return e}function Dn(e){const t=ud(null);for(const[n,i]of fb(e))vn(e,n)&&(Array.isArray(i)?t[n]=wA(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Dn(i):t[n]=i);return t}function oo(e,t){for(;e!==null;){const i=_A(e,t);if(i){if(i.get)return Et(i.get);if(typeof i.value=="function")return Et(i.value)}e=vA(e)}function n(){return null}return n}const Xg=St(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kf=St(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jf=St(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xA=St(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qf=St(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),NA=St(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fg=St(["#text"]),Yg=St(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wf=St(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kg=St(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ic=St(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),OA=hn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),CA=hn(/<%[\w\W]*|[\w\W]*%>/gm),kA=hn(/\$\{[\w\W]*/gm),RA=hn(/^data-[\-\w.\u00B7-\uFFFF]+$/),DA=hn(/^aria-[\-\w]+$/),hb=hn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zA=hn(/^(?:\w+script|data):/i),IA=hn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),db=hn(/^html$/i),MA=hn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jg=Object.freeze({__proto__:null,ARIA_ATTR:DA,ATTR_WHITESPACE:IA,CUSTOM_ELEMENT:MA,DATA_ATTR:RA,DOCTYPE_NAME:db,ERB_EXPR:CA,IS_ALLOWED_URI:hb,IS_SCRIPT_OR_DATA:zA,MUSTACHE_EXPR:OA,TMPLIT_EXPR:kA});const lo={element:1,text:3,progressingInstruction:7,comment:8,document:9},jA=function(){return typeof window>"u"?null:window},UA=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Qg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function mb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jA();const t=q=>mb(q);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==lo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:h,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:S}=e,R=u.prototype,I=oo(R,"cloneNode"),U=oo(R,"remove"),x=oo(R,"nextSibling"),w=oo(R,"childNodes"),O=oo(R,"parentNode");if(typeof a=="function"){const q=n.createElement("template");q.content&&q.content.ownerDocument&&(n=q.content.ownerDocument)}let k,L="";const{implementation:V,createNodeIterator:E,createDocumentFragment:v,getElementsByTagName:_}=n,{importNode:b}=i;let T=Qg();t.isSupported=typeof fb=="function"&&typeof O=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:C,ERB_EXPR:A,TMPLIT_EXPR:se,DATA_ATTR:ae,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:he}=Jg;let{IS_ALLOWED_URI:Ae}=Jg,be=null;const gt=W({},[...Xg,...Kf,...Jf,...Qf,...Fg]);let Ce=null;const yt=W({},[...Yg,...Wf,...Kg,...ic]);let de=Object.seal(ud(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Yn=null,wr=null;const xn=Object.seal(ud(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ra=!0,Da=!0,El=!1,za=!0,Nn=!1,xr=!0,Kn=!1,Nr=!1,Or=!1,Jn=!1,Le=!1,Ge=!1,Cr=!0,Tl=!1;const Al="user-content-";let Ia=!0,pn=!1,Qn={},Mt=null;const kr=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wl=null;const xl=W({},["audio","video","img","source","image","track"]);let vs=null;const Nl=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),On="http://www.w3.org/1998/Math/MathML",Oi="http://www.w3.org/2000/svg",jt="http://www.w3.org/1999/xhtml";let Ut=jt,_s=!1,Rr=null;const Ol=W({},[On,Oi,jt],Ff);let Cn=W({},["mi","mo","mn","ms","mtext"]),Dr=W({},["annotation-xml"]);const lt=W({},["title","style","font","a","script"]);let Ci=null;const zr=["application/xhtml+xml","text/html"],Ir="text/html";let Pe=null,ki=null;const Ri=n.createElement("form"),Cl=function(N){return N instanceof RegExp||N instanceof Function},Ma=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ki&&ki===N)){if((!N||typeof N!="object")&&(N={}),N=Dn(N),Ci=zr.indexOf(N.PARSER_MEDIA_TYPE)===-1?Ir:N.PARSER_MEDIA_TYPE,Pe=Ci==="application/xhtml+xml"?Ff:Oc,be=vn(N,"ALLOWED_TAGS")?W({},N.ALLOWED_TAGS,Pe):gt,Ce=vn(N,"ALLOWED_ATTR")?W({},N.ALLOWED_ATTR,Pe):yt,Rr=vn(N,"ALLOWED_NAMESPACES")?W({},N.ALLOWED_NAMESPACES,Ff):Ol,vs=vn(N,"ADD_URI_SAFE_ATTR")?W(Dn(Nl),N.ADD_URI_SAFE_ATTR,Pe):Nl,wl=vn(N,"ADD_DATA_URI_TAGS")?W(Dn(xl),N.ADD_DATA_URI_TAGS,Pe):xl,Mt=vn(N,"FORBID_CONTENTS")?W({},N.FORBID_CONTENTS,Pe):kr,Yn=vn(N,"FORBID_TAGS")?W({},N.FORBID_TAGS,Pe):Dn({}),wr=vn(N,"FORBID_ATTR")?W({},N.FORBID_ATTR,Pe):Dn({}),Qn=vn(N,"USE_PROFILES")?N.USE_PROFILES:!1,Ra=N.ALLOW_ARIA_ATTR!==!1,Da=N.ALLOW_DATA_ATTR!==!1,El=N.ALLOW_UNKNOWN_PROTOCOLS||!1,za=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Nn=N.SAFE_FOR_TEMPLATES||!1,xr=N.SAFE_FOR_XML!==!1,Kn=N.WHOLE_DOCUMENT||!1,Jn=N.RETURN_DOM||!1,Le=N.RETURN_DOM_FRAGMENT||!1,Ge=N.RETURN_TRUSTED_TYPE||!1,Or=N.FORCE_BODY||!1,Cr=N.SANITIZE_DOM!==!1,Tl=N.SANITIZE_NAMED_PROPS||!1,Ia=N.KEEP_CONTENT!==!1,pn=N.IN_PLACE||!1,Ae=N.ALLOWED_URI_REGEXP||hb,Ut=N.NAMESPACE||jt,Cn=N.MATHML_TEXT_INTEGRATION_POINTS||Cn,Dr=N.HTML_INTEGRATION_POINTS||Dr,de=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Cl(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(de.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Cl(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(de.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(de.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nn&&(Da=!1),Le&&(Jn=!0),Qn&&(be=W({},Fg),Ce=[],Qn.html===!0&&(W(be,Xg),W(Ce,Yg)),Qn.svg===!0&&(W(be,Kf),W(Ce,Wf),W(Ce,ic)),Qn.svgFilters===!0&&(W(be,Jf),W(Ce,Wf),W(Ce,ic)),Qn.mathMl===!0&&(W(be,Qf),W(Ce,Kg),W(Ce,ic))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?xn.tagCheck=N.ADD_TAGS:(be===gt&&(be=Dn(be)),W(be,N.ADD_TAGS,Pe))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?xn.attributeCheck=N.ADD_ATTR:(Ce===yt&&(Ce=Dn(Ce)),W(Ce,N.ADD_ATTR,Pe))),N.ADD_URI_SAFE_ATTR&&W(vs,N.ADD_URI_SAFE_ATTR,Pe),N.FORBID_CONTENTS&&(Mt===kr&&(Mt=Dn(Mt)),W(Mt,N.FORBID_CONTENTS,Pe)),N.ADD_FORBID_CONTENTS&&(Mt===kr&&(Mt=Dn(Mt)),W(Mt,N.ADD_FORBID_CONTENTS,Pe)),Ia&&(be["#text"]=!0),Kn&&W(be,["html","head","body"]),be.table&&(W(be,["tbody"]),delete Yn.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw ao('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ao('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=N.TRUSTED_TYPES_POLICY,L=k.createHTML("")}else k===void 0&&(k=UA(S,r)),k!==null&&typeof L=="string"&&(L=k.createHTML(""));St&&St(N),ki=N}},bs=W({},[...Kf,...Jf,...xA]),kl=W({},[...Qf,...NA]),Rl=function(N){let P=O(N);(!P||!P.tagName)&&(P={namespaceURI:Ut,tagName:"template"});const G=Oc(N.tagName),oe=Oc(P.tagName);return Rr[N.namespaceURI]?N.namespaceURI===Oi?P.namespaceURI===jt?G==="svg":P.namespaceURI===On?G==="svg"&&(oe==="annotation-xml"||Cn[oe]):!!bs[G]:N.namespaceURI===On?P.namespaceURI===jt?G==="math":P.namespaceURI===Oi?G==="math"&&Dr[oe]:!!kl[G]:N.namespaceURI===jt?P.namespaceURI===Oi&&!Dr[oe]||P.namespaceURI===On&&!Cn[oe]?!1:!kl[G]&&(lt[G]||!bs[G]):!!(Ci==="application/xhtml+xml"&&Rr[N.namespaceURI]):!1},At=function(N){ro(t.removed,{element:N});try{O(N).removeChild(N)}catch{U(N)}},Lt=function(N,P){try{ro(t.removed,{attribute:P.getAttributeNode(N),from:P})}catch{ro(t.removed,{attribute:null,from:P})}if(P.removeAttribute(N),N==="is")if(Jn||Le)try{At(P)}catch{}else try{P.setAttribute(N,"")}catch{}},Dl=function(N){let P=null,G=null;if(Or)N="<remove></remove>"+N;else{const ze=Yf(N,/^[\r\n\t ]+/);G=ze&&ze[0]}Ci==="application/xhtml+xml"&&Ut===jt&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const oe=k?k.createHTML(N):N;if(Ut===jt)try{P=new g().parseFromString(oe,Ci)}catch{}if(!P||!P.documentElement){P=V.createDocument(Ut,"template",null);try{P.documentElement.innerHTML=_s?L:oe}catch{}}const qe=P.body||P.documentElement;return N&&G&&qe.insertBefore(n.createTextNode(G),qe.childNodes[0]||null),Ut===jt?_.call(P,Kn?"html":"body")[0]:Kn?P.documentElement:qe},gn=function(N){return E.call(N.ownerDocument||N,N,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Ss=function(N){return N instanceof p&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof m)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},ja=function(N){return typeof l=="function"&&N instanceof l};function Pt(q,N,P){nc(q,G=>{G.call(t,N,P,ki)})}const Es=function(N){let P=null;if(Pt(T.beforeSanitizeElements,N,null),Ss(N))return At(N),!0;const G=Pe(N.nodeName);if(Pt(T.uponSanitizeElement,N,{tagName:G,allowedTags:be}),xr&&N.hasChildNodes()&&!ja(N.firstElementChild)&&vt(/<[/\w!]/g,N.innerHTML)&&vt(/<[/\w!]/g,N.textContent)||N.nodeType===lo.progressingInstruction||xr&&N.nodeType===lo.comment&&vt(/<[/\w]/g,N.data))return At(N),!0;if(!(xn.tagCheck instanceof Function&&xn.tagCheck(G))&&(!be[G]||Yn[G])){if(!Yn[G]&&zl(G)&&(de.tagNameCheck instanceof RegExp&&vt(de.tagNameCheck,G)||de.tagNameCheck instanceof Function&&de.tagNameCheck(G)))return!1;if(Ia&&!Mt[G]){const oe=O(N)||N.parentNode,qe=w(N)||N.childNodes;if(qe&&oe){const ze=qe.length;for(let ct=ze-1;ct>=0;--ct){const Jt=I(qe[ct],!0);Jt.__removalCount=(N.__removalCount||0)+1,oe.insertBefore(Jt,x(N))}}}return At(N),!0}return N instanceof u&&!Rl(N)||(G==="noscript"||G==="noembed"||G==="noframes")&&vt(/<\/no(script|embed|frames)/i,N.innerHTML)?(At(N),!0):(Nn&&N.nodeType===lo.text&&(P=N.textContent,nc([C,A,se],oe=>{P=so(P,oe," ")}),N.textContent!==P&&(ro(t.removed,{element:N.cloneNode()}),N.textContent=P)),Pt(T.afterSanitizeElements,N,null),!1)},Ua=function(N,P,G){if(Cr&&(P==="id"||P==="name")&&(G in n||G in Ri))return!1;if(!(Da&&!wr[P]&&vt(ae,P))){if(!(Ra&&vt(B,P))){if(!(xn.attributeCheck instanceof Function&&xn.attributeCheck(P,N))){if(!Ce[P]||wr[P]){if(!(zl(N)&&(de.tagNameCheck instanceof RegExp&&vt(de.tagNameCheck,N)||de.tagNameCheck instanceof Function&&de.tagNameCheck(N))&&(de.attributeNameCheck instanceof RegExp&&vt(de.attributeNameCheck,P)||de.attributeNameCheck instanceof Function&&de.attributeNameCheck(P,N))||P==="is"&&de.allowCustomizedBuiltInElements&&(de.tagNameCheck instanceof RegExp&&vt(de.tagNameCheck,G)||de.tagNameCheck instanceof Function&&de.tagNameCheck(G))))return!1}else if(!vs[P]){if(!vt(Ae,so(G,F,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&N!=="script"&&EA(G,"data:")===0&&wl[N])){if(!(El&&!vt(X,so(G,F,"")))){if(G)return!1}}}}}}}return!0},zl=function(N){return N!=="annotation-xml"&&Yf(N,he)},La=function(N){Pt(T.beforeSanitizeAttributes,N,null);const{attributes:P}=N;if(!P||Ss(N))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce,forceKeepAttr:void 0};let oe=P.length;for(;oe--;){const qe=P[oe],{name:ze,namespaceURI:ct,value:Jt}=qe,Wn=Pe(ze),Mr=Jt;let Be=ze==="value"?Mr:TA(Mr);if(G.attrName=Wn,G.attrValue=Be,G.keepAttr=!0,G.forceKeepAttr=void 0,Pt(T.uponSanitizeAttribute,N,G),Be=G.attrValue,Tl&&(Wn==="id"||Wn==="name")&&(Lt(ze,N),Be=Al+Be),xr&&vt(/((--!?|])>)|<\/(style|title|textarea)/i,Be)){Lt(ze,N);continue}if(Wn==="attributename"&&Yf(Be,"href")){Lt(ze,N);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){Lt(ze,N);continue}if(!za&&vt(/\/>/i,Be)){Lt(ze,N);continue}Nn&&nc([C,A,se],Ba=>{Be=so(Be,Ba," ")});const Pa=Pe(N.nodeName);if(!Ua(Pa,Wn,Be)){Lt(ze,N);continue}if(k&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!ct)switch(S.getAttributeType(Pa,Wn)){case"TrustedHTML":{Be=k.createHTML(Be);break}case"TrustedScriptURL":{Be=k.createScriptURL(Be);break}}if(Be!==Mr)try{ct?N.setAttributeNS(ct,ze,Be):N.setAttribute(ze,Be),Ss(N)?At(N):$g(t.removed)}catch{Lt(ze,N)}}Pt(T.afterSanitizeAttributes,N,null)},rf=function q(N){let P=null;const G=gn(N);for(Pt(T.beforeSanitizeShadowDOM,N,null);P=G.nextNode();)Pt(T.uponSanitizeShadowNode,P,null),Es(P),La(P),P.content instanceof s&&q(P.content);Pt(T.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(q){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,G=null,oe=null,qe=null;if(_s=!q,_s&&(q="<!-->"),typeof q!="string"&&!ja(q))if(typeof q.toString=="function"){if(q=q.toString(),typeof q!="string")throw ao("dirty is not a string, aborting")}else throw ao("toString is not a function");if(!t.isSupported)return q;if(Nr||Ma(N),t.removed=[],typeof q=="string"&&(pn=!1),pn){if(q.nodeName){const Jt=Pe(q.nodeName);if(!be[Jt]||Yn[Jt])throw ao("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof l)P=Dl("<!---->"),G=P.ownerDocument.importNode(q,!0),G.nodeType===lo.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?P=G:P.appendChild(G);else{if(!Jn&&!Nn&&!Kn&&q.indexOf("<")===-1)return k&&Ge?k.createHTML(q):q;if(P=Dl(q),!P)return Jn?null:Ge?L:""}P&&Or&&At(P.firstChild);const ze=gn(pn?q:P);for(;oe=ze.nextNode();)Es(oe),La(oe),oe.content instanceof s&&rf(oe.content);if(pn)return q;if(Jn){if(Le)for(qe=v.call(P.ownerDocument);P.firstChild;)qe.appendChild(P.firstChild);else qe=P;return(Ce.shadowroot||Ce.shadowrootmode)&&(qe=b.call(i,qe,!0)),qe}let ct=Kn?P.outerHTML:P.innerHTML;return Kn&&be["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&vt(db,P.ownerDocument.doctype.name)&&(ct="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+ct),Nn&&nc([C,A,se],Jt=>{ct=so(ct,Jt," ")}),k&&Ge?k.createHTML(ct):ct},t.setConfig=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ma(q),Nr=!0},t.clearConfig=function(){ki=null,Nr=!1},t.isValidAttribute=function(q,N,P){ki||Ma({});const G=Pe(q),oe=Pe(N);return Ua(G,oe,P)},t.addHook=function(q,N){typeof N=="function"&&ro(T[q],N)},t.removeHook=function(q,N){if(N!==void 0){const P=bA(T[q],N);return P===-1?void 0:SA(T[q],P,1)[0]}return $g(T[q])},t.removeHooks=function(q){T[q]=[]},t.removeAllHooks=function(){T=Qg()},t}var BD=mb();const LA=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function PA(e){return LA.includes(e)}const ot={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},si={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},Ro=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],pb=50;class BA{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const s=console[t]||console.log;i!==void 0?s(r,i):s(r)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const eh={};function Xn(e){const t=e||"__default__";return eh[t]||(eh[t]=new BA(e)),eh[t]}const on=Xn("Storage"),dd="magic-internet-math-progress",th=2;function gb(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function yb(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function as(){if(!gb())return on.warn("localStorage is not available"),null;try{const e=localStorage.getItem(dd);if(!e)return null;const t=JSON.parse(e);return yb(t)?(t.version!==th&&(on.info(`Migrating state from v${t.version} to v${th}`),t.version=th),t):(on.warn("Invalid gamification state structure in localStorage"),null)}catch(e){on.error("Failed to load gamification state:",e);try{localStorage.removeItem(dd),on.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Gu(e){if(!gb()){on.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(dd,JSON.stringify(e))}catch(t){on.error("Failed to save gamification state:",t)}}const HA=1;function VA(){const e=as();if(!e){on.warn("No progress data to export");return}const t={version:HA,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),on.info("Progress exported successfully")}function ZA(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!yb(t.state))}async function GA(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var r;try{const s=(r=i.target)==null?void 0:r.result;if(typeof s!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(s);if(!ZA(a)){t({success:!1,message:"Invalid backup file format"});return}const l=as(),u=(l==null?void 0:l.user.totalXP)??0,h=a.state.user.totalXP;if(u>h){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${h} XP). Import cancelled.`});return}Gu(a.state),on.info(`Progress imported: ${h} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(s){on.error("Failed to parse backup file:",s),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function qA(){const e=as();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function $A(){const e=as();e&&(e.migratedToServer=!0,Gu(e),on.info("Marked progress as migrated to server"))}function XA(){const e=as();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function vb(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:FA(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:pb,completed:!1},lastUpdated:e}}function FA(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const YA=50;function Wg(e){return Math.round(e/YA*100)}const KA=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Wg(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Wg(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function JA(e){const t=[];for(const n of KA){const i=e.achievements.find(s=>s.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function xa(e){for(let t=Ro.length-1;t>=0;t--)if(e>=Ro[t])return t+1;return 1}function _b(e,t){if(t>=Ro.length)return 100;const n=Ro[t-1],i=Ro[t],r=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,r))}function QA(e,t){const n={easy:ot.QUIZ_EASY,medium:ot.QUIZ_MEDIUM,hard:ot.QUIZ_HARD}[e];return Math.round(n*(t/100))}const WA=1e3*60*60*24;function e2(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:pb,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const r=new Date(i),s=Math.floor((t.getTime()-r.getTime())/WA);if(s===0)return e;if(s===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return s===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function bb(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(r=>r.score)),i=t.reduce((r,s)=>r+s.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function t2(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const qu=Xn("GamificationReducer");function n2(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const r=e.user.totalXP+ot.SECTION_VISIT;return{...e,user:{...e.user,totalXP:r,level:xa(r)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ot.SECTION_VISIT},lastUpdated:n}}function i2(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return qu.warn(`Attempted to complete unvisited section: ${t}`),e;const r=e.user.totalXP+ot.SECTION_COMPLETE,s=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:r,level:xa(r),sectionsCompleted:s},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:bb(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ot.SECTION_COMPLETE},lastUpdated:n}}function r2(e,t,n){const{sectionId:i,difficulty:r,score:s,correctAnswers:a,totalQuestions:l}=t,u=e.sections[i];if(!u)return qu.warn(`Section ${i} was not visited before quiz`),e;const h=QA(r,s),m=a===l,p=m?Math.round(h*(1+ot.QUIZ_PERFECT_BONUS)):h,g=e.user.totalXP+p,S={timestamp:n,difficulty:r,score:s,correctAnswers:a,totalQuestions:l,xpEarned:p},R=[...u.quizAttempts,S],I={...u,quizAttempts:R},U=bb(I),x=s>=80&&!u.completedAt,w=x&&!e.user.sectionsCompleted.includes(i),O=w?ot.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:g+O,level:xa(g+O),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:m?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:w?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...I,masteryLevel:U,completedAt:x?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+p+O},lastUpdated:n}}function s2(e,t,n,i){const r=e.sections[t];if(r!=null&&r.visualizationsInteracted.includes(n))return e;if(!r)return qu.warn(`Section ${t} was not visited before visualization`),e;const s=e.user.totalXP+ot.VISUALIZATION_USE,a=[...r.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:s,level:xa(s),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...r,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ot.VISUALIZATION_USE},lastUpdated:i}}function a2(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+ot.PART_COMPLETE_BONUS;return qu.info(`Part ${t} completed, awarding ${ot.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:xa(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ot.PART_COMPLETE_BONUS},lastUpdated:n}}function o2(e,t,n){let i=si.GAME_PARTICIPATION;const r=si.TIER_MULTIPLIER[t.tier],s=Math.floor(Math.max(0,t.score)/si.POINTS_PER_XP_UNIT*ot.QUIZ_MEDIUM*r);if(i+=s,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=si.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=si.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=si.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=si.FIRST_PLACE_BONUS;break;case 2:i+=si.SECOND_PLACE_BONUS;break;case 3:i+=si.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,l=e.racingStats,u=t.score>((l==null?void 0:l.highScore)??0),h=t.isMultiplayer&&t.placement===1,m={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(h?1:0),lastPlayedAt:n},p=e.achievements.map(g=>{if(g.unlockedAt)return g;switch(g.id){case"racing-rookie":if(m.gamesPlayed>=1)return{...g,progress:1,unlockedAt:n};break;case"speed-demon":return m.fastAnswers>=50?{...g,progress:50,unlockedAt:n}:{...g,progress:Math.min(m.fastAnswers,50)};case"streak-legend":return m.longestStreak>=20?{...g,progress:20,unlockedAt:n}:{...g,progress:Math.min(m.longestStreak,20)};case"tier-climber":return m.highestTierUnlocked>=6?{...g,progress:6,unlockedAt:n}:{...g,progress:m.highestTierUnlocked};case"modular-master":return m.totalPoints>=1e4?{...g,progress:1e4,unlockedAt:n}:{...g,progress:Math.min(m.totalPoints,1e4)};case"multiplayer-champion":return m.multiplayerWins>=5?{...g,progress:5,unlockedAt:n}:{...g,progress:Math.min(m.multiplayerWins,5)}}return g});return{...e,user:{...e.user,totalXP:a,level:xa(a)},racingStats:m,achievements:p,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function l2(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return n2(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return i2(e,t.payload.sectionId,n);case"COMPLETE_PART":return a2(e,t.payload.partId,n);case"RECORD_QUIZ":return r2(e,t.payload,n);case"USE_VISUALIZATION":return s2(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return e2(e);case"RESET_PROGRESS":return vb();case"RECORD_RACE_GAME":return o2(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},u2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,h=u?e[r+2]:0,m=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,S=h&63;u||(S=64,a||(g=64)),i.push(n[m],n[p],n[g],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Sb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new f2;const g=s<<2|l>>4;if(i.push(g),h!==64){const S=l<<4&240|h>>2;if(i.push(S),p!==64){const R=h<<6&192|p;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class f2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(e){const t=Sb(e);return Eb.encodeByteArray(t,!0)},Tb=function(e){return h2(e).replace(/\./g,"")},Ab=function(e){try{return Eb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=()=>d2().__FIREBASE_DEFAULTS__,p2=()=>{if(typeof process>"u"||typeof e0>"u")return;const e=e0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},g2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ab(e[1]);return t&&JSON.parse(t)},wm=()=>{try{return c2()||m2()||p2()||g2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wb=e=>{var t,n;return(n=(t=wm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},y2=e=>{const t=wb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},xb=()=>{var e;return(e=wm())==null?void 0:e.config},Nb=e=>{var t;return(t=wm())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ob(e){return(await fetch(e,{credentials:"include"})).ok}const Do={};function _2(){const e={prod:[],emulator:[]};for(const t of Object.keys(Do))Do[t]?e.emulator.push(t):e.prod.push(t);return e}function b2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let t0=!1;function Cb(e,t){if(typeof window>"u"||typeof document>"u"||!Na(window.location.host)||Do[e]===t||Do[e]||t0)return;Do[e]=t;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=_2().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,S){g.setAttribute("width","24"),g.setAttribute("id",S),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{t0=!0,a()},g}function m(g,S){g.setAttribute("id",S),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=b2(i),S=n("text"),R=document.getElementById(S)||document.createElement("span"),I=n("learnmore"),U=document.getElementById(I)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const O=g.element;l(O),m(U,I);const k=h();u(w,x),O.append(w,R,U,k),document.body.appendChild(O)}s?(R.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function E2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function A2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w2(){const e=Tt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function N2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="FirebaseError";class Fn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=O2,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?C2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Fn(r,l,i)}}function C2(e,t){return e.replace(k2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const k2=/\{\$([^}]+)}/g;function R2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ma(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(n0(s)&&n0(a)){if(!ma(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function n0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function D2(e,t){const n=new z2(e,t);return n.subscribe.bind(n)}class z2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");I2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=nh),r.error===void 0&&(r.error=nh),r.complete===void 0&&(r.complete=nh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){return e&&e._delegate?e._delegate:e}class yr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new v2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(U2(t))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Gr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gr){return this.instances.has(t)}getOptions(t=Gr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:j2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Gr){return this.component?this.component.multipleInstances?t:Gr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j2(e){return e===Gr?void 0:e}function U2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new M2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pe||(pe={}));const P2={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},B2=pe.INFO,H2={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},V2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=H2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xm{constructor(t){this.name=t,this._logLevel=B2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...t),this._logHandler(this,pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...t),this._logHandler(this,pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...t),this._logHandler(this,pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...t),this._logHandler(this,pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...t),this._logHandler(this,pe.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function G2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const md="@firebase/app",i0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new xm("@firebase/app"),q2="@firebase/app-compat",$2="@firebase/analytics-compat",X2="@firebase/analytics",F2="@firebase/app-check-compat",Y2="@firebase/app-check",K2="@firebase/auth",J2="@firebase/auth-compat",Q2="@firebase/database",W2="@firebase/data-connect",ew="@firebase/database-compat",tw="@firebase/functions",nw="@firebase/functions-compat",iw="@firebase/installations",rw="@firebase/installations-compat",sw="@firebase/messaging",aw="@firebase/messaging-compat",ow="@firebase/performance",lw="@firebase/performance-compat",cw="@firebase/remote-config",uw="@firebase/remote-config-compat",fw="@firebase/storage",hw="@firebase/storage-compat",dw="@firebase/firestore",mw="@firebase/ai",pw="@firebase/firestore-compat",gw="firebase",yw="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",vw={[md]:"fire-core",[q2]:"fire-core-compat",[X2]:"fire-analytics",[$2]:"fire-analytics-compat",[Y2]:"fire-app-check",[F2]:"fire-app-check-compat",[K2]:"fire-auth",[J2]:"fire-auth-compat",[Q2]:"fire-rtdb",[W2]:"fire-data-connect",[ew]:"fire-rtdb-compat",[tw]:"fire-fn",[nw]:"fire-fn-compat",[iw]:"fire-iid",[rw]:"fire-iid-compat",[sw]:"fire-fcm",[aw]:"fire-fcm-compat",[ow]:"fire-perf",[lw]:"fire-perf-compat",[cw]:"fire-rc",[uw]:"fire-rc-compat",[fw]:"fire-gcs",[hw]:"fire-gcs-compat",[dw]:"fire-fst",[pw]:"fire-fst-compat",[mw]:"fire-vertex","fire-js":"fire-js",[gw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new Map,_w=new Map,gd=new Map;function r0(e,t){try{e.container.addComponent(t)}catch(n){Ai.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function os(e){const t=e.name;if(gd.has(t))return Ai.debug(`There were multiple attempts to register component ${t}.`),!1;gd.set(t,e);for(const n of Wo.values())r0(n,e);for(const n of _w.values())r0(n,e);return!0}function Nm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ln(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new gl("app","Firebase",bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=yw;function kb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:pd,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ur.create("bad-app-name",{appName:String(r)});if(n||(n=xb()),!n)throw ur.create("no-options");const s=Wo.get(r);if(s){if(ma(n,s.options)&&ma(i,s.config))return s;throw ur.create("duplicate-app",{appName:r})}const a=new L2(r);for(const u of gd.values())a.addComponent(u);const l=new Sw(n,i,a);return Wo.set(r,l),l}function Rb(e=pd){const t=Wo.get(e);if(!t&&e===pd&&xb())return kb();if(!t)throw ur.create("no-app",{appName:e});return t}function Ew(){return Array.from(Wo.values())}function Vn(e,t,n){let i=vw[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}os(new yr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebase-heartbeat-database",Aw=1,el="firebase-heartbeat-store";let ih=null;function Db(){return ih||(ih=U1(Tw,Aw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(e=>{throw ur.create("idb-open",{originalErrorMessage:e.message})})),ih}async function ww(e){try{const n=(await Db()).transaction(el),i=await n.objectStore(el).get(zb(e));return await n.done,i}catch(t){if(t instanceof Fn)Ai.warn(t.message);else{const n=ur.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}async function s0(e,t){try{const i=(await Db()).transaction(el,"readwrite");await i.objectStore(el).put(t,zb(e)),await i.done}catch(n){if(n instanceof Fn)Ai.warn(n.message);else{const i=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(i.message)}}}function zb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1024,Nw=30;class Ow{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Nw){const a=Rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ai.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a0(),{heartbeatsToSend:i,unsentEntries:r}=Cw(this._heartbeatsCache.heartbeats),s=Tb(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ai.warn(n),""}}}function a0(){return new Date().toISOString().substring(0,10)}function Cw(e,t=xw){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),o0(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),o0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class kw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?N2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ww(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function o0(e){return Tb(JSON.stringify({version:2,heartbeats:e})).length}function Rw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(e){os(new yr("platform-logger",t=>new Z2(t),"PRIVATE")),os(new yr("heartbeat",t=>new Ow(t),"PRIVATE")),Vn(md,i0,e),Vn(md,i0,"esm2020"),Vn("fire-js","")}Dw("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="type.googleapis.com/google.protobuf.Int64Value",Iw="type.googleapis.com/google.protobuf.UInt64Value";function Ib(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function uu(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>uu(t));if(typeof e=="function"||typeof e=="object")return Ib(e,t=>uu(t));throw new Error("Data cannot be encoded in JSON: "+e)}function pa(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case zw:case Iw:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>pa(t)):typeof e=="function"||typeof e=="object"?Ib(e,t=>pa(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Fn{constructor(t,n,i){super(`${Om}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,kt.prototype)}}function Mw(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fu(e,t){let n=Mw(e),i=n,r;try{const s=t&&t.error;if(s){const a=s.status;if(typeof a=="string"){if(!l0[a])return new kt("internal","internal");n=l0[a],i=a}const l=s.message;typeof l=="string"&&(i=l),r=s.details,r!==void 0&&(r=pa(r))}}catch{}return n==="ok"?null:new kt(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n,i,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ln(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||i.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="us-central1",Uw=/^data: (.*?)(?:\n|$)/;function Lw(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new kt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Pw{constructor(t,n,i,r,s=yd,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new jw(t,n,i,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=yd}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Bw(e,t,n){const i=Na(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(Ob(e.emulatorOrigin+"/backends"),Cb("Functions",!0))}function Hw(e,t,n){const i=r=>Zw(e,t,r,{});return i.stream=(r,s)=>qw(e,t,r,s),i}function Mb(e){return e.emulatorOrigin&&Na(e.emulatorOrigin)?"include":void 0}async function Vw(e,t,n,i,r){n["Content-Type"]="application/json";let s;try{s=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:Mb(r)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function jb(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function Zw(e,t,n,i){const r=e._url(t);return Gw(e,r,n,i)}async function Gw(e,t,n,i){n=uu(n);const r={data:n},s=await jb(e,i),a=i.timeout||7e4,l=Lw(a),u=await Promise.race([Vw(t,r,s,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new kt("cancelled","Firebase Functions instance was deleted.");const h=fu(u.status,u.json);if(h)throw h;if(!u.json)throw new kt("internal","Response is not valid JSON object.");let m=u.json.data;if(typeof m>"u"&&(m=u.json.result),typeof m>"u")throw new kt("internal","Response is missing data field.");return{data:pa(m)}}function qw(e,t,n,i){const r=e._url(t);return $w(e,r,n,i||{})}async function $w(e,t,n,i){var g;n=uu(n);const r={data:n},s=await jb(e,i);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(r),headers:s,signal:i==null?void 0:i.signal,credentials:Mb(e)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const I=new kt("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const R=fu(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let l,u;const h=new Promise((S,R)=>{l=S,u=R});(g=i==null?void 0:i.signal)==null||g.addEventListener("abort",()=>{const S=new kt("cancelled","Request was cancelled.");u(S)});const m=a.body.getReader(),p=Xw(m,l,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const S=p.getReader();return{async next(){const{value:R,done:I}=await S.read();return{value:R,done:I}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:h}}function Xw(e,t,n,i){const r=(a,l)=>{const u=a.match(Uw);if(!u)return;const h=u[1];try{const m=JSON.parse(h);if("result"in m){t(pa(m.result));return}if("message"in m){l.enqueue(pa(m.message));return}if("error"in m){const p=fu(0,m);l.error(p),n(p);return}}catch(m){if(m instanceof kt){l.error(m),n(m);return}}},s=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(i!=null&&i.aborted){const h=new kt("cancelled","Request was cancelled");return a.error(h),n(h),Promise.resolve()}try{const{value:h,done:m}=await e.read();if(m){l.trim()&&r(l.trim(),a),a.close();return}if(i!=null&&i.aborted){const g=new kt("cancelled","Request was cancelled");a.error(g),n(g),await e.cancel();return}l+=s.decode(h,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const g of p)g.trim()&&r(g.trim(),a);return u()}catch(h){const m=h instanceof kt?h:fu(0,null);a.error(m),n(m)}}},cancel(){return e.cancel()}})}const c0="@firebase/functions",u0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="auth-internal",Yw="app-check-internal",Kw="messaging-internal";function Jw(e){const t=(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),s=n.getProvider(Fw),a=n.getProvider(Kw),l=n.getProvider(Yw);return new Pw(r,s,a,l,i)};os(new yr(Om,t,"PUBLIC").setMultipleInstances(!0)),Vn(c0,u0,e),Vn(c0,u0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(e=Rb(),t=yd){const i=Nm(dn(e),Om).getImmediate({identifier:t}),r=y2("functions");return r&&Ub(i,...r),i}function Ub(e,t,n){Bw(dn(e),t,n)}function ga(e,t,n){return Hw(dn(e),t)}Jw();var Ww="firebase",ex="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(Ww,ex,"app");function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tx=Lb,Pb=new gl("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new xm("@firebase/auth");function nx(e,...t){hu.logLevel<=pe.WARN&&hu.warn(`Auth (${Oa}): ${e}`,...t)}function Cc(e,...t){hu.logLevel<=pe.ERROR&&hu.error(`Auth (${Oa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,...t){throw Cm(e,...t)}function Zn(e,...t){return Cm(e,...t)}function Bb(e,t,n){const i={...tx(),[t]:n};return new gl("auth","Firebase",i).create(t,{appName:e.name})}function fr(e){return Bb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Pb.create(e,...t)}function K(e,t,...n){if(!e)throw Cm(t,...n)}function mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Cc(t),new Error(t)}function xi(e,t){e||mi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function ix(){return f0()==="http:"||f0()==="https:"}function f0(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ix()||T2()||"connection"in navigator)?navigator.onLine:!0}function sx(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,xi(n>t,"Short delay should be less than long delay!"),this.isMobile=S2()||A2()}get(){return rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lx=new vl(3e4,6e4);function $u(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Ca(e,t,n,i,r={}){return Vb(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=yl({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...s};return E2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Na(e.emulatorConfig.host)&&(h.credentials="include"),Hb.fetch()(await Gb(e,e.config.apiHost,n,l),h)})}async function Vb(e,t,n){e._canInitEmulator=!1;const i={...ax,...t};try{const r=new cx(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw rc(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw rc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw rc(e,"user-disabled",a);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Bb(e,m,h);wi(e,m)}}catch(r){if(r instanceof Fn)throw r;wi(e,"network-request-failed",{message:String(r)})}}async function Zb(e,t,n,i,r={}){const s=await Ca(e,t,n,i,r);return"mfaPendingCredential"in s&&wi(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Gb(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?km(e.config,r):`${e.config.apiScheme}://${r}`;return ox.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class cx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zn(this.auth,"network-request-failed")),lx.get())})}}function rc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Zn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(e,t){return Ca(e,"POST","/v1/accounts:delete",t)}async function du(e,t){return Ca(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fx(e,t=!1){const n=dn(e),i=await n.getIdToken(t),r=Rm(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:zo(rh(r.auth_time)),issuedAtTime:zo(rh(r.iat)),expirationTime:zo(rh(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rh(e){return Number(e)*1e3}function Rm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ab(n);return r?JSON.parse(r):(Cc("Failed to decode base64 JWT payload"),null)}catch(r){return Cc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function h0(e){const t=Rm(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Fn&&hx(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function hx({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(e){var p;const t=e.auth,n=await e.getIdToken(),i=await tl(e,du(t,{idToken:n}));K(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?qb(r.providerUserInfo):[],a=px(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new _d(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(e,m)}async function mx(e){const t=dn(e);await mu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function px(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function qb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(e,t){const n=await Vb(e,{},async()=>{const i=yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await Gb(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Na(e.emulatorConfig.host)&&(u.credentials="include"),Hb.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yx(e,t){return Ca(e,"POST","/v2/accounts:revokeToken",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=h0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await gx(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Qs;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qs,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _d(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await tl(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fx(this,t)}reload(){return mx(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await mu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(fr(this.auth));const t=await this.getIdToken();return await tl(this,ux(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:S,providerData:R,stsTokenManager:I}=n;K(p&&I,t,"internal-error");const U=Qs.fromJSON(this.name,I);K(typeof p=="string",t,"internal-error"),Ui(i,t.name),Ui(r,t.name),K(typeof g=="boolean",t,"internal-error"),K(typeof S=="boolean",t,"internal-error"),Ui(s,t.name),Ui(a,t.name),Ui(l,t.name),Ui(u,t.name),Ui(h,t.name),Ui(m,t.name);const x=new En({uid:p,auth:t,email:r,emailVerified:g,displayName:i,isAnonymous:S,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:U,createdAt:h,lastLoginAt:m});return R&&Array.isArray(R)&&(x.providerData=R.map(w=>({...w}))),u&&(x._redirectEventId=u),x}static async _fromIdTokenResponse(t,n,i=!1){const r=new Qs;r.updateFromServerResponse(n);const s=new En({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await mu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?qb(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Qs;l.updateFromIdToken(i);const u=new En({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _d(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function pi(e){xi(e instanceof Function,"Expected a class definition");let t=d0.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,d0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}$b.type="NONE";const m0=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e,t,n){return`firebase:${e}:${t}:${n}`}class Ws{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=kc(this.userKey,r.apiKey,s),this.fullPersistenceKey=kc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await du(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ws(pi(m0),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=r[0]||pi(m0);const a=kc(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const m=await h._get(a);if(m){let p;if(typeof m=="string"){const g=await du(t,{idToken:m}).catch(()=>{});if(!g)break;p=await En._fromGetAccountInfoResponse(t,g,m)}else p=En._fromJSON(t,m);h!==s&&(l=p),s=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ws(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new Ws(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Xb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Qb(t))return"Blackberry";if(Wb(t))return"Webos";if(Fb(t))return"Safari";if((t.includes("chrome/")||Yb(t))&&!t.includes("edge/"))return"Chrome";if(Jb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Xb(e=Tt()){return/firefox\//i.test(e)}function Fb(e=Tt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yb(e=Tt()){return/crios\//i.test(e)}function Kb(e=Tt()){return/iemobile/i.test(e)}function Jb(e=Tt()){return/android/i.test(e)}function Qb(e=Tt()){return/blackberry/i.test(e)}function Wb(e=Tt()){return/webos/i.test(e)}function Dm(e=Tt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vx(e=Tt()){var t;return Dm(e)&&!!((t=window.navigator)!=null&&t.standalone)}function _x(){return w2()&&document.documentMode===10}function eS(e=Tt()){return Dm(e)||Jb(e)||Wb(e)||Qb(e)||/windows phone/i.test(e)||Kb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e,t=[]){let n;switch(e){case"Browser":n=p0(Tt());break;case"Worker":n=`${p0(Tt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(e,t={}){return Ca(e,"GET","/v2/passwordPolicy",$u(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=6;class Tx{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ex,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new bx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ws.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await du(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ln(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ln(this.app))return Promise.reject(fr(this));const n=t?dn(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ln(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Sx(this),n=new Tx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yx(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ws.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&nx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xu(e){return dn(e)}class g0{constructor(t){this.auth=t,this.observer=null,this.addObserver=D2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wx(e){zm=e}function xx(e){return zm.loadJS(e)}function Nx(){return zm.gapiScript}function Ox(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(e,t){const n=Nm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ma(s,t??{}))return r;wi(r,"already-initialized")}return n.initialize({options:t})}function kx(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(pi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function Rx(e,t,n){const i=Xu(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=nS(t),{host:a,port:l}=Dx(t),u=l===null?"":`:${l}`,h={url:`${s}//${a}${u}/`},m=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(ma(h,i.config.emulator)&&ma(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Na(a)?(Ob(`${s}//${a}${u}`),Cb("Auth",!0)):zx()}function nS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dx(e){const t=nS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:y0(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:y0(a)}}}function y0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function zx(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return mi("not implemented")}_getIdTokenResponse(t){return mi("not implemented")}_linkToIdToken(t,n){return mi("not implemented")}_getReauthenticationResolver(t){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(e,t){return Zb(e,"POST","/v1/accounts:signInWithIdp",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="http://localhost";class ls extends iS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new ls(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ea(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ea(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ea(t,n)}buildRequest(){const t={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends rS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends _l{constructor(){super("facebook.com")}static credential(t){return ls._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ls._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends _l{constructor(){super("github.com")}static credential(t){return ls._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xi.credential(t.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends _l{constructor(){super("twitter.com")}static credential(t,n){return ls._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await En._fromIdTokenResponse(t,i,r),a=v0(i);return new cs({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=v0(i);return new cs({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function v0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Fn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new pu(t,n,i,r)}}function sS(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(e,s,t,i):s})}async function Mx(e,t,n=!1){const i=await tl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return cs._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(e,t,n=!1){const{auth:i}=e;if(ln(i.app))return Promise.reject(fr(i));const r="reauthenticate";try{const s=await tl(e,sS(i,r,t,e),n);K(s.idToken,i,"internal-error");const a=Rm(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(e.uid===l,i,"user-mismatch"),cs._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(e,t,n=!1){if(ln(e.app))return Promise.reject(fr(e));const i="signIn",r=await sS(e,i,t),s=await cs._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(e,t){return Zb(e,"POST","/v1/accounts:signInWithCustomToken",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(e,t){if(ln(e.app))return Promise.reject(fr(e));const n=Xu(e),i=await Lx(n,{token:t,returnSecureToken:!0}),r=await cs._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function Bx(e,t,n,i){return dn(e).onIdTokenChanged(t,n,i)}function Hx(e,t,n){return dn(e).beforeAuthStateChanged(t,n)}function Vx(e,t,n,i){return dn(e).onAuthStateChanged(t,n,i)}function Zx(e){return dn(e).signOut()}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=1e3,qx=10;class oS extends aS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_x()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,qx):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oS.type="LOCAL";const $x=oS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends aS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}lS.type="SESSION";const cS=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Fu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async h=>h(n.origin,s)),u=await Xx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const h=Im("",20);r.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function Yx(e){Gn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function Kx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Qx(){return uS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",Wx=1,yu="firebaseLocalStorage",hS="fbase_key";class bl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yu(e,t){return e.transaction([yu],t?"readwrite":"readonly").objectStore(yu)}function eN(){const e=indexedDB.deleteDatabase(fS);return new bl(e).toPromise()}function bd(){const e=indexedDB.open(fS,Wx);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(yu,{keyPath:hS})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(yu)?t(i):(i.close(),await eN(),t(await bd()))})})}async function _0(e,t,n){const i=Yu(e,!0).put({[hS]:t,value:n});return new bl(i).toPromise()}async function tN(e,t){const n=Yu(e,!1).get(t),i=await new bl(n).toPromise();return i===void 0?null:i.value}function b0(e,t){const n=Yu(e,!0).delete(t);return new bl(n).toPromise()}const nN=800,iN=3;class dS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>iN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fu._getInstance(Qx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Kx(),!this.activeServiceWorker)return;this.sender=new Fx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Jx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bd();return await _0(t,gu,"1"),await b0(t,gu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>tN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Yu(r,!1).getAll();return new bl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dS.type="LOCAL";const rN=dS;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(e,t){return t?pi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends iS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ea(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ea(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ea(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aN(e){return Ux(e.auth,new Mm(e),e.bypassAuthState)}function oN(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),jx(n,new Mm(e),e.bypassAuthState)}async function lN(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),Mx(n,new Mm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aN;case"linkViaPopup":case"linkViaRedirect":return lN;case"reauthViaPopup":case"reauthViaRedirect":return oN;default:wi(this.auth,"internal-error")}}resolve(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new vl(2e3,1e4);class Vs extends mS{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const t=Im();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cN.get())};t()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="pendingRedirect",Rc=new Map;class fN extends mS{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const i=await hN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hN(e,t){const n=pN(t),i=mN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function dN(e,t){Rc.set(e._key(),t)}function mN(e){return pi(e._redirectPersistence)}function pN(e){return kc(uN,e.config.apiKey,e.name)}async function gN(e,t,n=!1){if(ln(e.app))return Promise.reject(fr(e));const i=Xu(e),r=sN(i,t),a=await new fN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class vN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_N(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!pS(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(t))}saveEventToCache(t){this.cachedEventUids.add(S0(t)),this.lastProcessedEventTime=Date.now()}}function S0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _N(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(e,t={}){return Ca(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EN=/^https?/;async function TN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bN(e);for(const n of t)try{if(AN(n))return}catch{}wi(e,"unauthorized-domain")}function AN(e){const t=vd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!EN.test(n))return!1;if(SN.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new vl(3e4,6e4);function E0(){const e=Gn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xN(e){return new Promise((t,n)=>{var r,s,a;function i(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Zn(e,"network-request-failed"))},timeout:wN.get()})}if((s=(r=Gn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=Gn().gapi)!=null&&a.load)i();else{const l=Ox("iframefcb");return Gn()[l]=()=>{gapi.load?i():n(Zn(e,"network-request-failed"))},xx(`${Nx()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function NN(e){return Dc=Dc||xN(e),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new vl(5e3,15e3),CN="__/auth/iframe",kN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?km(t,kN):`https://${e.config.authDomain}/${CN}`,i={apiKey:t.apiKey,appName:e.name,v:Oa},r=DN.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${yl(i).slice(1)}`}async function IN(e){const t=await NN(e),n=Gn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:zN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Zn(e,"network-request-failed"),l=Gn().setTimeout(()=>{s(a)},ON.get());function u(){Gn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jN=500,UN=600,LN="_blank",PN="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BN(e,t,n,i=jN,r=UN){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...MN,width:i.toString(),height:r.toString(),top:s,left:a},h=Tt().toLowerCase();n&&(l=Yb(h)?LN:n),Xb(h)&&(t=t||PN,u.scrollbars="yes");const m=Object.entries(u).reduce((g,[S,R])=>`${g}${S}=${R},`,"");if(vx(h)&&l!=="_self")return HN(t||"",l),new T0(null);const p=window.open(t||"",l,m);K(p,e,"popup-blocked");try{p.focus()}catch{}return new T0(p)}function HN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",ZN="emulator/auth/handler",GN=encodeURIComponent("fac");async function A0(e,t,n,i,r,s){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Oa,eventId:r};if(t instanceof rS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",R2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,p]of Object.entries({}))a[m]=p}if(t instanceof _l){const m=t.getScopes().filter(p=>p!=="");m.length>0&&(a.scopes=m.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const u=await e._getAppCheckToken(),h=u?`#${GN}=${encodeURIComponent(u)}`:"";return`${qN(e)}?${yl(l).slice(1)}${h}`}function qN({config:e}){return e.emulator?km(e,ZN):`https://${e.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cS,this._completeRedirectFn=gN,this._overrideRedirectResult=dN}async _openPopup(t,n,i,r){var a;xi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await A0(t,n,i,vd(),r);return BN(t,s,Im())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await A0(t,n,i,vd(),r);return Yx(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(xi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await IN(t),i=new vN(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sh,{type:sh},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[sh];s!==void 0&&n(!!s),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return eS()||Fb()||Dm()}}const XN=$N;var w0="@firebase/auth",x0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KN(e){os(new yr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(e)},h=new Ax(i,r,s,u);return kx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),os(new yr("auth-internal",t=>{const n=Xu(t.getProvider("auth").getImmediate());return(i=>new FN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(w0,x0,YN(e)),Vn(w0,x0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=5*60,QN=Nb("authIdTokenMaxAge")||JN;let N0=null;const WN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>QN)return;const r=n==null?void 0:n.token;N0!==r&&(N0=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function e4(e=Rb()){const t=Nm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Cx(e,{popupRedirectResolver:XN,persistence:[rN,$x,cS]}),i=Nb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=WN(s.toString());Hx(n,a,()=>a(n.currentUser)),Bx(n,l=>a(l))}}const r=wb("auth");return r&&Rx(n,`http://${r}`),n}function t4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}wx({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Zn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",t4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KN("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jm;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,v){function _(){}_.prototype=v.prototype,E.F=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.D=function(b,T,C){for(var A=Array(arguments.length-2),se=2;se<arguments.length;se++)A[se-2]=arguments[se];return v.prototype[T].apply(b,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,v,_){_||(_=0);const b=Array(16);if(typeof v=="string")for(var T=0;T<16;++T)b[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;T<16;++T)b[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];let C=E.g[3],A;A=v+(C^_&(T^C))+b[0]+3614090360&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+b[1]+3905402710&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+b[2]+606105819&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+b[3]+3250441966&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+b[4]+4118548399&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+b[5]+1200080426&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+b[6]+2821735955&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+b[7]+4249261313&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+b[8]+1770035416&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+b[9]+2336552879&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+b[10]+4294925233&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+b[11]+2304563134&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(C^_&(T^C))+b[12]+1804603682&4294967295,v=_+(A<<7&4294967295|A>>>25),A=C+(T^v&(_^T))+b[13]+4254626195&4294967295,C=v+(A<<12&4294967295|A>>>20),A=T+(_^C&(v^_))+b[14]+2792965006&4294967295,T=C+(A<<17&4294967295|A>>>15),A=_+(v^T&(C^v))+b[15]+1236535329&4294967295,_=T+(A<<22&4294967295|A>>>10),A=v+(T^C&(_^T))+b[1]+4129170786&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+b[6]+3225465664&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+b[11]+643717713&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+b[0]+3921069994&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+b[5]+3593408605&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+b[10]+38016083&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+b[15]+3634488961&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+b[4]+3889429448&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+b[9]+568446438&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+b[14]+3275163606&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+b[3]+4107603335&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+b[8]+1163531501&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(T^C&(_^T))+b[13]+2850285829&4294967295,v=_+(A<<5&4294967295|A>>>27),A=C+(_^T&(v^_))+b[2]+4243563512&4294967295,C=v+(A<<9&4294967295|A>>>23),A=T+(v^_&(C^v))+b[7]+1735328473&4294967295,T=C+(A<<14&4294967295|A>>>18),A=_+(C^v&(T^C))+b[12]+2368359562&4294967295,_=T+(A<<20&4294967295|A>>>12),A=v+(_^T^C)+b[5]+4294588738&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+b[8]+2272392833&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+b[11]+1839030562&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+b[14]+4259657740&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+b[1]+2763975236&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+b[4]+1272893353&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+b[7]+4139469664&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+b[10]+3200236656&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+b[13]+681279174&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+b[0]+3936430074&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+b[3]+3572445317&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+b[6]+76029189&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(_^T^C)+b[9]+3654602809&4294967295,v=_+(A<<4&4294967295|A>>>28),A=C+(v^_^T)+b[12]+3873151461&4294967295,C=v+(A<<11&4294967295|A>>>21),A=T+(C^v^_)+b[15]+530742520&4294967295,T=C+(A<<16&4294967295|A>>>16),A=_+(T^C^v)+b[2]+3299628645&4294967295,_=T+(A<<23&4294967295|A>>>9),A=v+(T^(_|~C))+b[0]+4096336452&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+b[7]+1126891415&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+b[14]+2878612391&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+b[5]+4237533241&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+b[12]+1700485571&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+b[3]+2399980690&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+b[10]+4293915773&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+b[1]+2240044497&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+b[8]+1873313359&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+b[15]+4264355552&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+b[6]+2734768916&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+b[13]+1309151649&4294967295,_=T+(A<<21&4294967295|A>>>11),A=v+(T^(_|~C))+b[4]+4149444226&4294967295,v=_+(A<<6&4294967295|A>>>26),A=C+(_^(v|~T))+b[11]+3174756917&4294967295,C=v+(A<<10&4294967295|A>>>22),A=T+(v^(C|~_))+b[2]+718787259&4294967295,T=C+(A<<15&4294967295|A>>>17),A=_+(C^(T|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.v=function(E,v){v===void 0&&(v=E.length);const _=v-this.blockSize,b=this.C;let T=this.h,C=0;for(;C<v;){if(T==0)for(;C<=_;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(b[T++]=E.charCodeAt(C++),T==this.blockSize){r(this,b),T=0;break}}else for(;C<v;)if(b[T++]=E[C++],T==this.blockSize){r(this,b),T=0;break}}this.h=T,this.o+=v},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var _=E.length-8;_<E.length;++_)E[_]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,_=0;_<4;++_)for(let b=0;b<32;b+=8)E[v++]=this.g[_]>>>b&255;return E};function s(E,v){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function a(E,v){this.h=v;const _=[];let b=!0;for(let T=E.length-1;T>=0;T--){const C=E[T]|0;b&&C==v||(_[T]=C,b=!1)}this.g=_}var l={};function u(E){return-128<=E&&E<128?s(E,function(v){return new a([v|0],v<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return U(h(-E));const v=[];let _=1;for(let b=0;E>=_;b++)v[b]=E/_|0,_*=4294967296;return new a(v,0)}function m(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return U(m(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(v,8));let b=p;for(let C=0;C<E.length;C+=8){var T=Math.min(8,E.length-C);const A=parseInt(E.substring(C,C+T),v);T<8?(T=h(Math.pow(v,T)),b=b.j(T).add(h(A))):(b=b.j(_),b=b.add(h(A)))}return b}var p=u(0),g=u(1),S=u(16777216);e=a.prototype,e.m=function(){if(I(this))return-U(this).m();let E=0,v=1;for(let _=0;_<this.g.length;_++){const b=this.i(_);E+=(b>=0?b:4294967296+b)*v,v*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(R(this))return"0";if(I(this))return"-"+U(this).toString(E);const v=h(Math.pow(E,6));var _=this;let b="";for(;;){const T=k(_,v).g;_=x(_,T.j(v));let C=((_.g.length>0?_.g[0]:_.h)>>>0).toString(E);if(_=T,R(_))return C+b;for(;C.length<6;)C="0"+C;b=C+b}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function R(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function I(E){return E.h==-1}e.l=function(E){return E=x(this,E),I(E)?-1:R(E)?0:1};function U(E){const v=E.g.length,_=[];for(let b=0;b<v;b++)_[b]=~E.g[b];return new a(_,~E.h).add(g)}e.abs=function(){return I(this)?U(this):this},e.add=function(E){const v=Math.max(this.g.length,E.g.length),_=[];let b=0;for(let T=0;T<=v;T++){let C=b+(this.i(T)&65535)+(E.i(T)&65535),A=(C>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);b=A>>>16,C&=65535,A&=65535,_[T]=A<<16|C}return new a(_,_[_.length-1]&-2147483648?-1:0)};function x(E,v){return E.add(U(v))}e.j=function(E){if(R(this)||R(E))return p;if(I(this))return I(E)?U(this).j(U(E)):U(U(this).j(E));if(I(E))return U(this.j(U(E)));if(this.l(S)<0&&E.l(S)<0)return h(this.m()*E.m());const v=this.g.length+E.g.length,_=[];for(var b=0;b<2*v;b++)_[b]=0;for(b=0;b<this.g.length;b++)for(let T=0;T<E.g.length;T++){const C=this.i(b)>>>16,A=this.i(b)&65535,se=E.i(T)>>>16,ae=E.i(T)&65535;_[2*b+2*T]+=A*ae,w(_,2*b+2*T),_[2*b+2*T+1]+=C*ae,w(_,2*b+2*T+1),_[2*b+2*T+1]+=A*se,w(_,2*b+2*T+1),_[2*b+2*T+2]+=C*se,w(_,2*b+2*T+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new a(_,0)};function w(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function O(E,v){this.g=E,this.h=v}function k(E,v){if(R(v))throw Error("division by zero");if(R(E))return new O(p,p);if(I(E))return v=k(U(E),v),new O(U(v.g),U(v.h));if(I(v))return v=k(E,U(v)),new O(U(v.g),v.h);if(E.g.length>30){if(I(E)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,b=v;b.l(E)<=0;)_=L(_),b=L(b);var T=V(_,1),C=V(b,1);for(b=V(b,2),_=V(_,2);!R(b);){var A=C.add(b);A.l(E)<=0&&(T=T.add(_),C=A),b=V(b,1),_=V(_,1)}return v=x(E,T.j(v)),new O(T,v)}for(T=p;E.l(v)>=0;){for(_=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(_)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),C=h(_),A=C.j(v);I(A)||A.l(E)>0;)_-=b,C=h(_),A=C.j(v);R(C)&&(C=g),T=T.add(C),E=x(E,A)}return new O(T,E)}e.B=function(E){return k(this,E).h},e.and=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)&E.i(b);return new a(_,this.h&E.h)},e.or=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)|E.i(b);return new a(_,this.h|E.h)},e.xor=function(E){const v=Math.max(this.g.length,E.g.length),_=[];for(let b=0;b<v;b++)_[b]=this.i(b)^E.i(b);return new a(_,this.h^E.h)};function L(E){const v=E.g.length+1,_=[];for(let b=0;b<v;b++)_[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(_,E.h)}function V(E,v){const _=v>>5;v%=32;const b=E.g.length-_,T=[];for(let C=0;C<b;C++)T[C]=v>0?E.i(C+_)>>>v|E.i(C+_+1)<<32-v:E.i(C+_);return new a(T,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,jm=a}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)e:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var D=o[y];if(!(D in f))break e;f=f[D]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(c){var f=[],y;for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&f.push([y,c[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,f){return o.call.apply(o.bind,arguments)}function h(o,c,f){return h=u,h.apply(null,arguments)}function m(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function p(o,c){function f(){}f.prototype=c.prototype,o.Z=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,D,z){for(var H=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)H[Q-2]=arguments[Q];return c.prototype[D].apply(y,H)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function S(o){const c=o.length;if(c>0){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function R(o,c){for(let y=1;y<arguments.length;y++){const D=arguments[y];var f=typeof D;if(f=f!="object"?f:D?Array.isArray(D)?"array":f:"null",f=="array"||f=="object"&&typeof D.length=="number"){f=o.length||0;const z=D.length||0;o.length=f+z;for(let H=0;H<z;H++)o[f+H]=D[H]}else o.push(D)}}class I{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function U(o){a.setTimeout(()=>{throw o},0)}function x(){var o=E;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class w{constructor(){this.h=this.g=null}add(c,f){const y=O.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var O=new I(()=>new k,o=>o.reset());class k{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let L,V=!1,E=new w,v=()=>{const o=Promise.resolve(void 0);L=()=>{o.then(_)}};function _(){for(var o;o=x();){try{o.h.call(o.g)}catch(f){U(f)}var c=O;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}V=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,c),a.removeEventListener("test",f,c)}catch{}return o}();function A(o){return/^[\s\xa0]*$/.test(o)}function se(o,c){T.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}p(se,T),se.prototype.init=function(o,c){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),B=0;function X(o,c,f,y,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=D,this.key=++B,this.da=this.fa=!1}function F(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function he(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function Ae(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function be(o){const c={};for(const f in o)c[f]=o[f];return c}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(o,c){let f,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(f in y)o[f]=y[f];for(let z=0;z<gt.length;z++)f=gt[z],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function yt(o){this.src=o,this.g={},this.h=0}yt.prototype.add=function(o,c,f,y,D){const z=o.toString();o=this.g[z],o||(o=this.g[z]=[],this.h++);const H=Yn(o,c,y,D);return H>-1?(c=o[H],f||(c.fa=!1)):(c=new X(c,this.src,z,!!y,D),c.fa=f,o.push(c)),c};function de(o,c){const f=c.type;if(f in o.g){var y=o.g[f],D=Array.prototype.indexOf.call(y,c,void 0),z;(z=D>=0)&&Array.prototype.splice.call(y,D,1),z&&(F(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Yn(o,c,f,y){for(let D=0;D<o.length;++D){const z=o[D];if(!z.da&&z.listener==c&&z.capture==!!f&&z.ha==y)return D}return-1}var wr="closure_lm_"+(Math.random()*1e6|0),xn={};function Ra(o,c,f,y,D){if(Array.isArray(c)){for(let z=0;z<c.length;z++)Ra(o,c[z],f,y,D);return null}return f=Jn(f),o&&o[ae]?o.J(c,f,l(y)?!!y.capture:!1,D):Da(o,c,f,!1,y,D)}function Da(o,c,f,y,D,z){if(!c)throw Error("Invalid event type");const H=l(D)?!!D.capture:!!D;let Q=Nr(o);if(Q||(o[wr]=Q=new yt(o)),f=Q.add(c,f,y,H,z),f.proxy)return f;if(y=El(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)C||(D=H),D===void 0&&(D=!1),o.addEventListener(c.toString(),y,D);else if(o.attachEvent)o.attachEvent(xr(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function El(){function o(f){return c.call(o.src,o.listener,f)}const c=Kn;return o}function za(o,c,f,y,D){if(Array.isArray(c))for(var z=0;z<c.length;z++)za(o,c[z],f,y,D);else y=l(y)?!!y.capture:!!y,f=Jn(f),o&&o[ae]?(o=o.i,z=String(c).toString(),z in o.g&&(c=o.g[z],f=Yn(c,f,y,D),f>-1&&(F(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete o.g[z],o.h--)))):o&&(o=Nr(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Yn(c,f,y,D)),(f=o>-1?c[o]:null)&&Nn(f))}function Nn(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[ae])de(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(xr(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=Nr(c))?(de(f,o),f.h==0&&(f.src=null,c[wr]=null)):F(o)}}}function xr(o){return o in xn?xn[o]:xn[o]="on"+o}function Kn(o,c){if(o.da)o=!0;else{c=new se(c,this);const f=o.listener,y=o.ha||o.src;o.fa&&Nn(o),o=f.call(y,c)}return o}function Nr(o){return o=o[wr],o instanceof yt?o:null}var Or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jn(o){return typeof o=="function"?o:(o[Or]||(o[Or]=function(c){return o.handleEvent(c)}),o[Or])}function Le(){b.call(this),this.i=new yt(this),this.M=this,this.G=null}p(Le,b),Le.prototype[ae]=!0,Le.prototype.removeEventListener=function(o,c,f,y){za(this,o,c,f,y)};function Ge(o,c){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new T(c,o);else if(c instanceof T)c.target=c.target||o;else{var D=c;c=new T(y,o),Ce(c,D)}D=!0;let z,H;if(f)for(H=f.length-1;H>=0;H--)z=c.g=f[H],D=Cr(z,y,!0,c)&&D;if(z=c.g=o,D=Cr(z,y,!0,c)&&D,D=Cr(z,y,!1,c)&&D,f)for(H=0;H<f.length;H++)z=c.g=f[H],D=Cr(z,y,!1,c)&&D}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const f=o.g[c];for(let y=0;y<f.length;y++)F(f[y]);delete o.g[c],o.h--}}this.G=null},Le.prototype.J=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},Le.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function Cr(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let D=!0;for(let z=0;z<c.length;++z){const H=c[z];if(H&&!H.da&&H.capture==f){const Q=H.listener,Qe=H.ha||H.src;H.fa&&de(o.i,H),D=Q.call(Qe,y)!==!1&&D}}return D&&!y.defaultPrevented}function Tl(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function Al(o){o.g=Tl(()=>{o.g=null,o.i&&(o.i=!1,Al(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Ia extends b{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(o){b.call(this),this.h=o,this.g={}}p(pn,b);var Qn=[];function Mt(o){he(o.g,function(c,f){this.g.hasOwnProperty(f)&&Nn(c)},o),o.g={}}pn.prototype.N=function(){pn.Z.N.call(this),Mt(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=a.JSON.stringify,wl=a.JSON.parse,xl=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function vs(){}function Nl(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oi(){T.call(this,"d")}p(Oi,T);function jt(){T.call(this,"c")}p(jt,T);var Ut={},_s=null;function Rr(){return _s=_s||new Le}Ut.Ia="serverreachability";function Ol(o){T.call(this,Ut.Ia,o)}p(Ol,T);function Cn(o){const c=Rr();Ge(c,new Ol(c))}Ut.STAT_EVENT="statevent";function Dr(o,c){T.call(this,Ut.STAT_EVENT,o),this.stat=c}p(Dr,T);function lt(o){const c=Rr();Ge(c,new Dr(c,o))}Ut.Ja="timingevent";function Ci(o,c){T.call(this,Ut.Ja,o),this.size=c}p(Ci,T);function zr(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function Ir(){this.g=!0}Ir.prototype.ua=function(){this.g=!1};function Pe(o,c,f,y,D,z){o.info(function(){if(o.g)if(z){var H="",Q=z.split("&");for(let Se=0;Se<Q.length;Se++){var Qe=Q[Se].split("=");if(Qe.length>1){const nt=Qe[0];Qe=Qe[1];const Rn=nt.split("_");H=Rn.length>=2&&Rn[1]=="type"?H+(nt+"="+Qe+"&"):H+(nt+"=redacted&")}}}else H=null;else H=z;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+c+`
`+f+`
`+H})}function ki(o,c,f,y,D,z,H){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+c+`
`+f+`
`+z+" "+H})}function Ri(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ma(o,f)+(y?" "+y:"")})}function Cl(o,c){o.info(function(){return"TIMEOUT: "+c})}Ir.prototype.info=function(){};function Ma(o,c){if(!o.g)return c;if(!c)return null;try{const z=JSON.parse(c);if(z){for(o=0;o<z.length;o++)if(Array.isArray(z[o])){var f=z[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var D=y[0];if(D!="noop"&&D!="stop"&&D!="close")for(let H=1;H<y.length;H++)y[H]=""}}}}return kr(z)}catch{return c}}var bs={NO_ERROR:0,TIMEOUT:8},kl={},Rl;function At(){}p(At,vs),At.prototype.g=function(){return new XMLHttpRequest},Rl=new At;function Lt(o){return encodeURIComponent(String(o))}function Dl(o){var c=1;o=o.split(":");const f=[];for(;c>0&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function gn(o,c,f,y){this.j=o,this.i=c,this.l=f,this.S=y||1,this.V=new pn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ss}function Ss(){this.i=null,this.g="",this.h=!1}var ja={},Pt={};function Es(o,c,f){o.M=1,o.A=Il(kn(c)),o.u=f,o.R=!0,Ua(o,null)}function Ua(o,c){o.F=Date.now(),q(o),o.B=kn(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),Qm(f.i,"t",y),o.C=0,f=o.j.L,o.h=new Ss,o.g=gp(o.j,f?c:null,!o.u),o.P>0&&(o.O=new Ia(h(o.Y,o,o.g),o.P)),c=o.V,f=o.g,y=o.ba;var D="readystatechange";Array.isArray(D)||(D&&(Qn[0]=D.toString()),D=Qn);for(let z=0;z<D.length;z++){const H=Ra(f,D[z],y||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.J?be(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),Cn(),Pe(o.i,o.v,o.B,o.l,o.S,o.u)}gn.prototype.ba=function(o){o=o.target;const c=this.O;c&&Ii(o)==3?c.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)e:{const Q=Ii(this.g),Qe=this.g.ya(),Se=this.g.ca();if(!(Q<3)&&(Q!=3||this.g&&(this.h.h||this.g.la()||sp(this.g)))){this.K||Q!=4||Qe==7||(Qe==8||Se<=0?Cn(3):Cn(2)),P(this);var c=this.g.ca();this.X=c;var f=zl(this);if(this.o=c==200,ki(this.i,this.v,this.B,this.l,this.S,Q,c),this.o){if(this.U&&!this.L){t:{if(this.g){var y,D=this.g;if((y=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(y)){var z=y;break t}}z=null}if(o=z)Ri(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,o);else{this.o=!1,this.m=3,lt(12),oe(this),G(this);break e}}if(this.R){o=!0;let nt;for(;!this.K&&this.C<f.length;)if(nt=rf(this,f),nt==Pt){Q==4&&(this.m=4,lt(14),o=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(nt==ja){this.m=4,lt(15),Ri(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Ri(this.i,this.l,nt,null),qe(this,nt);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Q!=4||f.length!=0||this.h.h||(this.m=1,lt(16),o=!1),this.o=this.o&&o,!o)Ri(this.i,this.l,f,"[Invalid Chunked Response]"),oe(this),G(this);else if(f.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),uf(H),H.P=!0,lt(11))}}else Ri(this.i,this.l,f,null),qe(this,f);Q==4&&oe(this),this.o&&!this.K&&(Q==4?hp(this.j,this):(this.o=!1,q(this)))}else D1(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),oe(this),G(this)}}}catch{}finally{}};function zl(o){if(!La(o))return o.g.la();const c=sp(o.g);if(c==="")return"";let f="";const y=c.length,D=Ii(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return oe(o),G(o),"";o.h.i=new a.TextDecoder}for(let z=0;z<y;z++)o.h.h=!0,f+=o.h.i.decode(c[z],{stream:!(D&&z==y-1)});return c.length=0,o.h.g+=f,o.C=0,o.h.g}function La(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function rf(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Pt:(f=Number(c.substring(f,y)),isNaN(f)?ja:(y+=1,y+f>c.length?Pt:(c=c.slice(y,y+f),o.C=y+f,c)))}gn.prototype.cancel=function(){this.K=!0,oe(this)};function q(o){o.T=Date.now()+o.H,N(o,o.H)}function N(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=zr(h(o.aa,o),c)}function P(o){o.D&&(a.clearTimeout(o.D),o.D=null)}gn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Cl(this.i,this.B),this.M!=2&&(Cn(),lt(17)),oe(this),this.m=2,G(this)):N(this,this.T-o)};function G(o){o.j.I==0||o.K||hp(o.j,o)}function oe(o){P(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,Mt(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function qe(o,c){try{var f=o.j;if(f.I!=0&&(f.g==o||Mr(f.h,o))){if(!o.L&&Mr(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)Pl(f),Ul(f);else break e;cf(f),lt(18)}}else f.xa=D[1],0<f.xa-f.K&&D[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=zr(h(f.Va,f),6e3));Wn(f.h)<=1&&f.ta&&(f.ta=void 0)}else Ur(f,11)}else if((o.L||f.g==o)&&Pl(f),!A(c))for(D=f.Ba.g.parse(c),c=0;c<D.length;c++){let Se=D[c];const nt=Se[0];if(!(nt<=f.K))if(f.K=nt,Se=Se[1],f.I==2)if(Se[0]=="c"){f.M=Se[1],f.ba=Se[2];const Rn=Se[3];Rn!=null&&(f.ka=Rn,f.j.info("VER="+f.ka));const Lr=Se[4];Lr!=null&&(f.za=Lr,f.j.info("SVER="+f.za));const Mi=Se[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(y=1.5*Mi,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const ji=o.g;if(ji){const Bl=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var z=y.h;z.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Be(z,z.h),z.h=null))}if(y.G){const ff=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;ff&&(y.wa=ff,we(y.J,y.G,ff))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var H=o;if(y.na=pp(y,y.L?y.ba:null,y.W),H.L){Pa(y.h,H);var Q=H,Qe=y.O;Qe&&(Q.H=Qe),Q.D&&(P(Q),q(Q)),y.g=H}else up(y);f.i.length>0&&Ll(f)}else Se[0]!="stop"&&Se[0]!="close"||Ur(f,7);else f.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ur(f,7):lf(f):Se[0]!="noop"&&f.l&&f.l.qa(Se),f.A=0)}}Cn(4)}catch{}}var ze=class{constructor(o,c){this.g=o,this.map=c}};function ct(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jt(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wn(o){return o.h?1:o.g?o.g.size:0}function Mr(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Be(o,c){o.g?o.g.add(c):o.h=c}function Pa(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}ct.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ba(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.G);return c}return S(o.i)}var Xm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b1(o,c){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let D,z=null;y>=0?(D=o[f].substring(0,y),z=o[f].substring(y+1)):D=o[f],c(D,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Di(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof Di?(this.l=o.l,Ha(this,o.j),this.o=o.o,this.g=o.g,Va(this,o.u),this.h=o.h,sf(this,Wm(o.i)),this.m=o.m):o&&(c=String(o).match(Xm))?(this.l=!1,Ha(this,c[1]||"",!0),this.o=Za(c[2]||""),this.g=Za(c[3]||"",!0),Va(this,c[4]),this.h=Za(c[5]||"",!0),sf(this,c[6]||"",!0),this.m=Za(c[7]||"")):(this.l=!1,this.i=new qa(null,this.l))}Di.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(Ga(c,Fm,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ga(c,Fm,!0),"@"),o.push(Lt(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ga(f,f.charAt(0)=="/"?T1:E1,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ga(f,w1)),o.join("")},Di.prototype.resolve=function(o){const c=kn(this);let f=!!o.j;f?Ha(c,o.j):f=!!o.o,f?c.o=o.o:f=!!o.g,f?c.g=o.g:f=o.u!=null;var y=o.h;if(f)Va(c,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var D=c.h.lastIndexOf("/");D!=-1&&(y=c.h.slice(0,D+1)+y)}if(D=y,D==".."||D==".")y="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){y=D.lastIndexOf("/",0)==0,D=D.split("/");const z=[];for(let H=0;H<D.length;){const Q=D[H++];Q=="."?y&&H==D.length&&z.push(""):Q==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),y&&H==D.length&&z.push("")):(z.push(Q),y=!0)}y=z.join("/")}else y=D}return f?c.h=y:f=o.i.toString()!=="",f?sf(c,Wm(o.i)):f=!!o.m,f&&(c.m=o.m),c};function kn(o){return new Di(o)}function Ha(o,c,f){o.j=f?Za(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Va(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function sf(o,c,f){c instanceof qa?(o.i=c,x1(o.i,o.l)):(f||(c=Ga(c,A1)),o.i=new qa(c,o.l))}function we(o,c,f){o.i.set(c,f)}function Il(o){return we(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Za(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ga(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,S1),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function S1(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fm=/[#\/\?@]/g,E1=/[#\?:]/g,T1=/[#\?]/g,A1=/[#\?@]/g,w1=/#/g;function qa(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function jr(o){o.g||(o.g=new Map,o.h=0,o.i&&b1(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=qa.prototype,e.add=function(o,c){jr(this),this.i=null,o=Ts(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Ym(o,c){jr(o),c=Ts(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Km(o,c){return jr(o),c=Ts(o,c),o.g.has(c)}e.forEach=function(o,c){jr(this),this.g.forEach(function(f,y){f.forEach(function(D){o.call(c,D,y,this)},this)},this)};function Jm(o,c){jr(o);let f=[];if(typeof c=="string")Km(o,c)&&(f=f.concat(o.g.get(Ts(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)f=f.concat(o[c]);return f}e.set=function(o,c){return jr(this),this.i=null,o=Ts(this,o),Km(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=Jm(this,o),o.length>0?String(o[0]):c):c};function Qm(o,c,f){Ym(o,c),f.length>0&&(o.i=null,o.g.set(Ts(o,c),S(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let y=0;y<c.length;y++){var f=c[y];const D=Lt(f);f=Jm(this,f);for(let z=0;z<f.length;z++){let H=D;f[z]!==""&&(H+="="+Lt(f[z])),o.push(H)}}return this.i=o.join("&")};function Wm(o){const c=new qa;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function Ts(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function x1(o,c){c&&!o.j&&(jr(o),o.i=null,o.g.forEach(function(f,y){const D=y.toLowerCase();y!=D&&(Ym(this,y),Qm(this,D,f))},o)),o.j=c}function N1(o,c){const f=new Ir;if(a.Image){const y=new Image;y.onload=m(zi,f,"TestLoadImage: loaded",!0,c,y),y.onerror=m(zi,f,"TestLoadImage: error",!1,c,y),y.onabort=m(zi,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=m(zi,f,"TestLoadImage: timeout",!1,c,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function O1(o,c){const f=new Ir,y=new AbortController,D=setTimeout(()=>{y.abort(),zi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(z=>{clearTimeout(D),z.ok?zi(f,"TestPingServer: ok",!0,c):zi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),zi(f,"TestPingServer: error",!1,c)})}function zi(o,c,f,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(f)}catch{}}function C1(){this.g=new xl}function af(o){this.i=o.Sb||null,this.h=o.ab||!1}p(af,vs),af.prototype.g=function(){return new Ml(this.i,this.h)};function Ml(o,c){Le.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ml,Le),e=Ml.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,Xa(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ep(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function ep(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?$a(this):Xa(this),this.readyState==3&&ep(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,$a(this))},e.Na=function(o){this.g&&(this.response=o,$a(this))},e.ga=function(){this.g&&$a(this)};function $a(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Xa(o)}e.setRequestHeader=function(o,c){this.A.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Xa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function tp(o){let c="";return he(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function of(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=tp(f),typeof o=="string"?f!=null&&Lt(f):we(o,c,f))}function He(o){Le.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(He,Le);var k1=/^https?$/i,R1=["POST","PUT"];e=He.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(z){np(this,z);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)f.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const z of y.keys())f.set(z,y.get(z));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(z=>z.toLowerCase()=="content-type"),D=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(R1,c,void 0)>=0)||y||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,H]of f)this.g.setRequestHeader(z,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(z){np(this,z)}};function np(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,ip(o),jl(o)}function ip(o){o.A||(o.A=!0,Ge(o,"complete"),Ge(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ge(this,"complete"),Ge(this,"abort"),jl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jl(this,!0)),He.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?rp(this):this.Xa())},e.Xa=function(){rp(this)};function rp(o){if(o.h&&typeof s<"u"){if(o.v&&Ii(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ge(o,"readystatechange"),Ii(o)==4){o.h=!1;try{const z=o.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=z===0){let H=String(o.D).match(Xm)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),y=!k1.test(H?H.toLowerCase():"")}f=y}if(f)Ge(o,"complete"),Ge(o,"success");else{o.o=6;try{var D=Ii(o)>2?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.ca()+"]",ip(o)}}finally{jl(o)}}}}function jl(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,c||Ge(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ii(o){return o.g?o.g.readyState:0}e.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),wl(c)}};function sp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function D1(o){const c={};o=(o.g&&Ii(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(A(o[y]))continue;var f=Dl(o[y]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const z=c[D]||[];c[D]=z,z.push(f)}Ae(c,function(y){return y.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function ap(o){this.za=0,this.i=[],this.j=new Ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fa("baseRetryDelayMs",5e3,o),this.Za=Fa("retryDelaySeedMs",1e4,o),this.Ta=Fa("forwardChannelMaxRetries",2,o),this.va=Fa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new ct(o&&o.concurrentRequestLimit),this.Ba=new C1,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ap.prototype,e.ka=8,e.I=1,e.connect=function(o,c,f,y){lt(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=pp(this,null,this.W),Ll(this)};function lf(o){if(op(o),o.I==3){var c=o.V++,f=kn(o.J);if(we(f,"SID",o.M),we(f,"RID",c),we(f,"TYPE","terminate"),Ya(o,f),c=new gn(o,o.j,c),c.M=2,c.A=Il(kn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=c.A,f=!0),f||(c.g=gp(c.j,null),c.g.ea(c.A)),c.F=Date.now(),q(c)}mp(o)}function Ul(o){o.g&&(uf(o),o.g.cancel(),o.g=null)}function op(o){Ul(o),o.v&&(a.clearTimeout(o.v),o.v=null),Pl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ll(o){if(!Jt(o.h)&&!o.m){o.m=!0;var c=o.Ea;L||v(),V||(L(),V=!0),E.add(c,o),o.D=0}}function z1(o,c){return Wn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=zr(h(o.Ea,o,c),dp(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const D=new gn(this,this.j,o);let z=this.o;if(this.U&&(z?(z=be(z),Ce(z,this.U)):z=this.U),this.u!==null||this.R||(D.J=z,z=null),this.S)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,c>4096){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=cp(this,D,c),f=kn(this.J),we(f,"RID",o),we(f,"CVER",22),this.G&&we(f,"X-HTTP-Session-Id",this.G),Ya(this,f),z&&(this.R?c="headers="+Lt(tp(z))+"&"+c:this.u&&of(f,this.u,z)),Be(this.h,D),this.Ra&&we(f,"TYPE","init"),this.S?(we(f,"$req",c),we(f,"SID","null"),D.U=!0,Es(D,f,null)):Es(D,f,c),this.I=2}}else this.I==3&&(o?lp(this,o):this.i.length==0||Jt(this.h)||lp(this))};function lp(o,c){var f;c?f=c.l:f=o.V++;const y=kn(o.J);we(y,"SID",o.M),we(y,"RID",f),we(y,"AID",o.K),Ya(o,y),o.u&&o.o&&of(y,o.u,o.o),f=new gn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),c&&(o.i=c.G.concat(o.i)),c=cp(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Be(o.h,f),Es(f,y,c)}function Ya(o,c){o.H&&he(o.H,function(f,y){we(c,y,f)}),o.l&&he({},function(f,y){we(c,y,f)})}function cp(o,c,f){f=Math.min(o.i.length,f);const y=o.l?h(o.l.Ka,o.l,o):null;e:{var D=o.i;let Q=-1;for(;;){const Qe=["count="+f];Q==-1?f>0?(Q=D[0].g,Qe.push("ofs="+Q)):Q=0:Qe.push("ofs="+Q);let Se=!0;for(let nt=0;nt<f;nt++){var z=D[nt].g;const Rn=D[nt].map;if(z-=Q,z<0)Q=Math.max(0,D[nt].g-100),Se=!1;else try{z="req"+z+"_"||"";try{var H=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Lr,Mi]of H){let ji=Mi;l(Mi)&&(ji=kr(Mi)),Qe.push(z+Lr+"="+encodeURIComponent(ji))}}catch(Lr){throw Qe.push(z+"type="+encodeURIComponent("_badmap")),Lr}}catch{y&&y(Rn)}}if(Se){H=Qe.join("&");break e}}H=void 0}return o=o.i.splice(0,f),c.G=o,H}function up(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;L||v(),V||(L(),V=!0),E.add(c,o),o.A=0}}function cf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=zr(h(o.Da,o),dp(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,fp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=zr(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),Ul(this),fp(this))};function uf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function fp(o){o.g=new gn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=kn(o.na);we(c,"RID","rpc"),we(c,"SID",o.M),we(c,"AID",o.K),we(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&we(c,"TO",o.ia),we(c,"TYPE","xmlhttp"),Ya(o,c),o.u&&o.o&&of(c,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=Il(kn(c)),f.u=null,f.R=!0,Ua(f,o)}e.Va=function(){this.C!=null&&(this.C=null,Ul(this),cf(this),lt(19))};function Pl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function hp(o,c){var f=null;if(o.g==c){Pl(o),uf(o),o.g=null;var y=2}else if(Mr(o.h,c))f=c.G,Pa(o.h,c),y=1;else return;if(o.I!=0){if(c.o)if(y==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var D=o.D;y=Rr(),Ge(y,new Ci(y,f)),Ll(o)}else up(o);else if(D=c.m,D==3||D==0&&c.X>0||!(y==1&&z1(o,c)||y==2&&cf(o)))switch(f&&f.length>0&&(c=o.h,c.i=c.i.concat(f)),D){case 1:Ur(o,5);break;case 4:Ur(o,10);break;case 3:Ur(o,6);break;default:Ur(o,2)}}}function dp(o,c){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*c}function Ur(o,c){if(o.j.info("Error code "+c),c==2){var f=h(o.bb,o),y=o.Ua;const D=!y;y=new Di(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ha(y,"https"),Il(y),D?N1(y.toString(),f):O1(y.toString(),f)}else lt(2);o.I=0,o.l&&o.l.pa(c),mp(o),op(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function mp(o){if(o.I=0,o.ja=[],o.l){const c=Ba(o.h);(c.length!=0||o.i.length!=0)&&(R(o.ja,c),R(o.ja,o.i),o.h.i.length=0,S(o.i),o.i.length=0),o.l.oa()}}function pp(o,c,f){var y=f instanceof Di?kn(f):new Di(f);if(y.g!="")c&&(y.g=c+"."+y.g),Va(y,y.u);else{var D=a.location;y=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;const z=new Di(null);y&&Ha(z,y),c&&(z.g=c),D&&Va(z,D),f&&(z.h=f),y=z}return f=o.G,c=o.wa,f&&c&&we(y,f,c),we(y,"VER",o.ka),Ya(o,y),y}function gp(o,c,f){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new He(new af({ab:f})):new He(o.ma),c.Fa(o.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}e=yp.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Qt(o,c){Le.call(this),this.g=new ap(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!A(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new As(this)}p(Qt,Le),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){lf(this.g)},Qt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=kr(o),o=f);c.i.push(new ze(c.Ya++,o)),c.I==3&&Ll(c)},Qt.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,Qt.Z.N.call(this)};function vp(o){Oi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}p(vp,Oi);function _p(){jt.call(this),this.status=1}p(_p,jt);function As(o){this.g=o}p(As,yp),As.prototype.ra=function(){Ge(this.g,"a")},As.prototype.qa=function(o){Ge(this.g,new vp(o))},As.prototype.pa=function(o){Ge(this.g,new _p)},As.prototype.oa=function(){Ge(this.g,"b")},Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,kl.COMPLETE="complete",Nl.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",Le.prototype.listen=Le.prototype.J,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku="12.8.0";function n4(e){Ku=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new xm("@firebase/firestore");function Tn(e,...t){if(vu.logLevel<=pe.DEBUG){const n=t.map(yS);vu.debug(`Firestore (${Ku}): ${e}`,...n)}}function gS(e,...t){if(vu.logLevel<=pe.ERROR){const n=t.map(yS);vu.error(`Firestore (${Ku}): ${e}`,...n)}}function yS(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,vS(e,i,n)}function vS(e,t,n){let i=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw gS(i),new Error(i)}function Io(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||vS(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ce extends Fn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class r4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(t){this.t=t,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Io(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mo,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mo)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Io(typeof i.accessToken=="string",31837,{l:i}),new i4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Io(t===null||typeof t=="string",2055,{h:t}),new Ht(t)}}class a4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class o4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new a4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Io(this.o===void 0,3512);const i=s=>{s.error!=null&&Tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Tn("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Io(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=c4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function vr(e,t){return e<t?-1:e>t?1:0}function f4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return ah(r)===ah(s)?vr(r,s):ah(r)?1:-1}return vr(e.length,t.length)}const h4=55296,d4=57343;function ah(e){const t=e.charCodeAt(0);return t>=h4&&t<=d4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class zn{constructor(t,n,i){n===void 0?n=0:n>t.length&&_u(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&_u(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return zn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=zn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return vr(t.length,n.length)}static compareSegments(t,n){const i=zn.isNumericId(t),r=zn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?zn.extractNumericId(t).compare(zn.extractNumericId(n)):f4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jm.fromString(t.substring(4,t.length-2))}}class bn extends zn{construct(t,n,i){return new bn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ce(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new bn(n)}static emptyPath(){return new bn([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends zn{construct(t,n,i){return new $r(t,n,i)}static isValidIdentifier(t){return m4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new $r([k0])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ce(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $r(n)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.path=t}static fromPath(t){return new Xr(bn.fromString(t))}static fromName(t){return new Xr(bn.fromString(t).popFirst(5))}static empty(){return new Xr(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return bn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xr(new bn(t.slice()))}}function p4(e,t,n,i){if(t===!0&&i===!0)throw new ce(le.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function g4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sl(e,t){if(!g4(e))throw new ce(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new ce(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=-62135596800,D0=1e6;class Mn{static now(){return Mn.fromMillis(Date.now())}static fromDate(t){return Mn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*D0);return new Mn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<R0)throw new ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(t){return this.seconds===t.seconds?vr(this.nanoseconds,t.nanoseconds):vr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sl(t,Mn._jsonSchema))return new Mn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-R0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mn._jsonSchemaVersion="firestore/timestamp/1.0",Mn._jsonSchema={type:Ke("string",Mn._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};function y4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new v4("Invalid base64 string: "+s):s}}(t);return new us(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new us(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}us.EMPTY_BYTE_STRING=new us("");const z0="(default)";class bu{constructor(t,n){this.projectId=t,this.database=n||z0}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===z0}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}function _4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function S4(e){return new b4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I0,re;(re=I0||(I0={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new jm([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1048576;function oh(){return typeof document<"u"?document:null}class A4{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&Tn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Um(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var M0,j0;(j0=M0||(M0={})).Ma="default",j0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="ComponentProvider",U0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="firestore.googleapis.com",L0=!0;class P0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N4,this.ssl=L0}else this.host=t.host,this.ssl=t.ssl??L0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=E4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<T4)throw new ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class O4{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r4;switch(i.type){case"firstParty":return new o4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=U0.get(n);i&&(Tn(x4,"Removing Datastore"),U0.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Lm(this.firestore,t,this._query)}}class Bn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Bn(this.firestore,t,this._key)}toJSON(){return{type:Bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Sl(n,Bn._jsonSchema))return new Bn(t,i||null,new Xr(bn.fromString(n.referencePath)))}}Bn._jsonSchemaVersion="firestore/documentReference/1.0",Bn._jsonSchema={type:Ke("string",Bn._jsonSchemaVersion),referencePath:Ke("string")};class Pm extends Lm{constructor(t,n,i){super(t,n,S4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Bn(this.firestore,null,new Xr(t))}withConverter(t){return new Pm(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="AsyncQueue";class H0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A4(this,"async_queue_retry"),this._c=()=>{const i=oh();i&&Tn(B0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=oh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=oh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!y4(t))throw t;Tn(B0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,gS("INTERNAL UNHANDLED ERROR: ",V0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Um.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&_u(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function V0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class C4 extends O4{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new H0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new H0(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ui(us.fromBase64String(t))}catch(n){throw new ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ui(us.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sl(t,ui._jsonSchema))return ui.fromBase64String(t.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Ke("string",ui._jsonSchemaVersion),bytes:Ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return vr(this._lat,t._lat)||vr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(t){if(Sl(t,Wr._jsonSchema))return new Wr(t.latitude,t.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:Ke("string",Wr._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sl(t,es._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new es(t.vectorValues);throw new ce(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:Ke("string",es._jsonSchemaVersion),vectorValues:Ke("object")};function bS(e,t,n){if((t=dn(t))instanceof _S)return t._internalPath;if(typeof t=="string")return R4(e,t);throw Sd("Field path arguments must be of type string or ",e)}const k4=new RegExp("[~\\*/\\[\\]]");function R4(e,t,n){if(t.search(k4)>=0)throw Sd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new _S(...t.split("."))._internalPath}catch{throw Sd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Sd(e,t,n,i,r){let s=`Function ${t}() called with invalid data`;s+=". ";let a="";return new ce(le.INVALID_ARGUMENT,s+e+a)}const Z0="@firebase/firestore",G0="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new D4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(bS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D4 extends SS{data(){return super.data()}}class ac{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends SS{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(bS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ke("string",ta._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};class zc extends ta{data(t={}){return super.data(t)}}class jo{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new ac(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new zc(this._firestore,this._userDataWriter,i.key,i,new ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new zc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ac(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new zc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ac(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,m=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),m=a.indexOf(l.doc.key)),{type:z4(l.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=jo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=u4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function z4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _u(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:Ke("string",jo._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};(function(t,n=!0){n4(Oa),os(new yr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new C4(new s4(i.getProvider("auth-internal")),new l4(a,i.getProvider("app-check-internal")),_4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Vn(Z0,G0,t),Vn(Z0,G0,"esm2020")})();const ES={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},I4=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let oc=null,lh=null,lc=null;function TS(){if(!oc){const e=Ew();e.length>0?oc=e[0]:oc=kb(ES)}return oc}function ch(){return lh||(lh=e4(TS())),lh}function nl(){if(!lc&&(lc=Qw(TS()),I4&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{Ub(lc,"localhost",5001)}catch{}return lc}function er(){const e=ES.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const M4=5e3,j4=2e3,AS=3e4,HD=3e4,wS=30*1e3,xS=2e3,VD=60*60*1e3,NS=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],U4=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],L4=["none","learning","familiar","mastered"];function q0(e){return L4.indexOf(e)}function P4(e,t){return q0(e)>=q0(t)?e:t}function Ed(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function B4(e,t){const n=new Set,i=[];for(const r of[...e,...t]){const s=`${r.timestamp}-${r.difficulty}-${r.score}`;n.has(s)||(n.add(s),i.push(r))}return i.sort((r,s)=>new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime())}function H4(e,t){return e?t?{sectionId:e.sectionId,visitedAt:Ed(e.visitedAt,t.visitedAt),completedAt:Ed(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:B4(e.quizAttempts,t.quizAttempts),masteryLevel:P4(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function V4(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const r of n){const s=H4(e[r],t[r]);s&&(i[r]=s)}return i}function Z4(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:Ed(e.joinedAt,t.joinedAt)||e.joinedAt}}function G4(e,t){const n=new Map;for(const i of[...t,...e]){const r=n.get(i.id);r?(i.unlockedAt&&!r.unlockedAt||!i.unlockedAt&&!r.unlockedAt&&i.progress>r.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function q4(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function $4(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function X4(e,t){return{version:Math.max(e.version,t.version),user:Z4(e.user,t.user),sections:V4(e.sections,t.sections),achievements:G4(e.achievements,t.achievements),streak:q4(e.streak,t.streak),dailyGoals:$4(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const ai=Xn("ProgressSync");class F4{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!er())return ai.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=nl(),i=await ga(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,ai.info("Fetched progress from server")),i.data}catch(t){return ai.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};ai.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(ai.info("Server has existing progress, merging with local"),i=X4(t,n.progress)):i=t;const r=await this.syncNow(i);return r.success?(ai.info("Migration complete"),{success:!0,state:r.state||i,merged:n.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},wS),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},xS))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!er())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<AS)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=nl(),s=await ga(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(ai.info("Server merged states due to conflict"),Gu(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return ai.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const r=await this.syncNow(t);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(i<n-1){const s=1e3*Math.pow(2,i);ai.debug(`Sync retry ${i+1}/${n} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let uh=null;function $0(){return uh||(uh=new F4),uh}const In=Xn("NostrUtils"),Td="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Y4=[996825010,642813549,513874426,1027748829,705979059];function OS(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let r=0;r<5;r++)i>>r&1&&(t^=Y4[r])}return t}function CS(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function K4(e,t){return OS([...CS(e),...t])===1}function J4(e,t){const n=[...CS(e),...t,0,0,0,0,0,0],i=OS(n)^1,r=[];for(let s=0;s<6;s++)r.push(i>>5*(5-s)&31);return r}function kS(e,t,n,i){let r=0,s=0;const a=[],l=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(r=r<<t|u,s+=t;s>=n;)s-=n,a.push(r>>s&l)}if(i)s>0&&a.push(r<<n-s&l);else if(s>=t||r<<n-s&l)return null;return a}function Q4(e,t){const n=kS(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=J4(e,n);let r=e+"1";for(const s of n)r+=Td[s];for(const s of i)r+=Td[s];return r}function W4(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const s=i.slice(0,r),a=i.slice(r+1),l=[];for(const m of a){const p=Td.indexOf(m);if(p===-1)return null;l.push(p)}if(!K4(s,l))return null;const u=l.slice(0,-6),h=kS(new Uint8Array(u),5,8,!1);return h?{hrp:s,data:new Uint8Array(h)}:null}function eO(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function tO(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function nO(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=eO(e);return Q4("npub",t)}function RS(e){const t=W4(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return tO(t.data)}async function iO(e){try{const t=RS(e),n=rO(),i=n.map(async a=>{try{return await Promise.race([DS(a,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(l){return In.debug(`Failed to fetch profile from relay ${a}:`,l),null}}),s=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return s.length>0?s[0]:(In.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return In.debug("Failed to convert npub to hex:",t),null}}function rO(){return[...NS,...U4]}function ZD(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Su(){return typeof window<"u"&&typeof window.nostr<"u"}function sO(e=3e3){return new Promise(t=>{if(Su()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Su()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function DS(e,t){return new Promise(n=>{let i=!1,r=null,s=null;const a=()=>{if(!i&&(i=!0,s&&(clearTimeout(s),s=null),r&&r.readyState!==WebSocket.CLOSED&&r.readyState!==WebSocket.CLOSING))try{r.close()}catch(u){In.debug(`Error closing WebSocket for ${e}:`,u)}};s=setTimeout(()=>{In.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},M4);try{r=new WebSocket(e)}catch(u){In.debug(`Failed to create WebSocket for relay ${e}:`,u),a(),n(null);return}const l=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(!(i||!r))try{const u=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);r.send(u)}catch(u){In.debug(`Failed to send subscription to ${e}:`,u),a(),n(null)}},r.onmessage=u=>{if(!i)try{const h=JSON.parse(u.data);if(h[0]==="EVENT"&&h[1]===l){const m=JSON.parse(h[2].content);a(),n({name:m.name||m.display_name,display_name:m.display_name,nip05:m.nip05,picture:m.picture,about:m.about})}else h[0]==="EOSE"&&(a(),n(null))}catch(h){In.debug(`Failed to parse WebSocket message from ${e}:`,h)}},r.onerror=u=>{In.debug(`WebSocket error for relay ${e}:`,u),a(),n(null)},r.onclose=u=>{i||(In.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),a(),n(null))}})}async function GD(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const s=e.slice(i,i+n).map(async a=>{const l=await iO(a);l&&t.set(a,l)});await Promise.all(s)}return t}const aO=22242;function M(e,t,n){function i(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const h=a.prototype,m=Object.keys(h);for(let p=0;p<m.length;p++){const g=m[p];g in l||(l[g]=h[g].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function a(l){var u;const h=n!=null&&n.Parent?new s:this;i(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var u,h;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(h=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:h.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class na extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class zS extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const IS={};function _r(e){return IS}function MS(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>t.indexOf(+i)===-1).map(([i,r])=>r)}function Ad(e,t){return typeof t=="bigint"?t.toString():t}function Bm(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Hm(e){return e==null}function Vm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oO(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return a%l/10**s}const X0=Symbol("evaluating");function ye(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==X0)return i===void 0&&(i=X0,i=n()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function gs(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Tr(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function F0(e){return JSON.stringify(e)}function lO(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const jS="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Eu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const cO=Bm(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ya(e){if(Eu(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Eu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function US(e){return ya(e)?{...e}:Array.isArray(e)?[...e]:e}const uO=new Set(["string","number","symbol"]);function Ju(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ar(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function fO(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const hO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dO(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Tr(e._zod.def,{get shape(){const a={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n.shape[l])}return gs(this,"shape",a),a},checks:[]});return Ar(e,s)}function mO(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Tr(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete a[l]}return gs(this,"shape",a),a},checks:[]});return Ar(e,s)}function pO(e,t){if(!ya(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Tr(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return gs(this,"shape",s),s}});return Ar(e,r)}function gO(e,t){if(!ya(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Tr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return gs(this,"shape",i),i}});return Ar(e,n)}function yO(e,t){const n=Tr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return gs(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Ar(e,n)}function vO(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Tr(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const h in n){if(!(h in l))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(u[h]=e?new e({type:"optional",innerType:l[h]}):l[h])}else for(const h in l)u[h]=e?new e({type:"optional",innerType:l[h]}):l[h];return gs(this,"shape",u),u},checks:[]});return Ar(t,a)}function _O(e,t,n){const i=Tr(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:r[a]}))}else for(const a in r)s[a]=new e({type:"nonoptional",innerType:r[a]});return gs(this,"shape",s),s}});return Ar(t,i)}function Zs(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Gs(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function cc(e){return typeof e=="string"?e:e==null?void 0:e.message}function br(e,t,n){var r,s,a,l,u,h;const i={...e,path:e.path??[]};if(!e.message){const m=cc((a=(s=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,e))??cc((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??cc((u=n.customError)==null?void 0:u.call(n,e))??cc((h=n.localeError)==null?void 0:h.call(n,e))??"Invalid input";i.message=m}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Zm(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function il(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const LS=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ad,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},PS=M("$ZodError",LS),BS=M("$ZodError",LS,{Parent:Error});function bO(e,t=n=>n.message){const n={},i=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function SO(e,t=n=>n.message){const n={_errors:[]},i=r=>{for(const s of r.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),n}const Gm=e=>(t,n,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new na;if(a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(u=>br(u,s,_r())));throw jS(l,r==null?void 0:r.callee),l}return a.value},qm=e=>async(t,n,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(u=>br(u,s,_r())));throw jS(l,r==null?void 0:r.callee),l}return a.value},Qu=e=>(t,n,i)=>{const r=i?{...i,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new na;return s.issues.length?{success:!1,error:new(e??PS)(s.issues.map(a=>br(a,r,_r())))}:{success:!0,data:s.value}},EO=Qu(BS),Wu=e=>async(t,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>br(a,r,_r())))}:{success:!0,data:s.value}},TO=Wu(BS),AO=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gm(e)(t,n,r)},wO=e=>(t,n,i)=>Gm(e)(t,n,i),xO=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return qm(e)(t,n,r)},NO=e=>async(t,n,i)=>qm(e)(t,n,i),OO=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Qu(e)(t,n,r)},CO=e=>(t,n,i)=>Qu(e)(t,n,i),kO=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wu(e)(t,n,r)},RO=e=>async(t,n,i)=>Wu(e)(t,n,i),DO=/^[cC][^\s-]{8,}$/,zO=/^[0-9a-z]+$/,IO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,MO=/^[0-9a-vA-V]{20}$/,jO=/^[A-Za-z0-9]{27}$/,UO=/^[a-zA-Z0-9_-]{21}$/,LO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,PO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Y0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,BO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,HO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function VO(){return new RegExp(HO,"u")}const ZO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,qO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$O=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,HS=/^[A-Za-z0-9_-]*$/,FO=/^\+[1-9]\d{6,14}$/,VS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",YO=new RegExp(`^${VS}$`);function ZS(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function KO(e){return new RegExp(`^${ZS(e)}$`)}function JO(e){const t=ZS({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${VS}T(?:${i})$`)}const QO=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},WO=/^-?\d+$/,GS=/^-?\d+(?:\.\d+)?$/,eC=/^(?:true|false)$/i,tC=/^[^A-Z]*$/,nC=/^[^a-z]*$/,It=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),qS={number:"number",bigint:"bigint",object:"date"},$S=M("$ZodCheckLessThan",(e,t)=>{It.init(e,t);const n=qS[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),XS=M("$ZodCheckGreaterThan",(e,t)=>{It.init(e,t);const n=qS[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),iC=M("$ZodCheckMultipleOf",(e,t)=>{It.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oO(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),rC=M("$ZodCheckNumberFormat",(e,t)=>{var a;It.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[r,s]=hO[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=r,u.maximum=s,n&&(u.pattern=WO)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),sC=M("$ZodCheckMaxLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=t.maximum)return;const a=Zm(r);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),aC=M("$ZodCheckMinLength",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=t.minimum)return;const a=Zm(r);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),oC=M("$ZodCheckLengthEquals",(e,t)=>{var n;It.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hm(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=i=>{const r=i.value,s=r.length;if(s===t.length)return;const a=Zm(r),l=s>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),ef=M("$ZodCheckStringFormat",(e,t)=>{var n,i;It.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),lC=M("$ZodCheckRegex",(e,t)=>{ef.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cC=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tC),ef.init(e,t)}),uC=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=nC),ef.init(e,t)}),fC=M("$ZodCheckIncludes",(e,t)=>{It.init(e,t);const n=Ju(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),hC=M("$ZodCheckStartsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`^${Ju(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),dC=M("$ZodCheckEndsWith",(e,t)=>{It.init(e,t);const n=new RegExp(`.*${Ju(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),mC=M("$ZodCheckOverwrite",(e,t)=>{It.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class pC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),r=Math.min(...i.map(a=>a.length-a.trimStart().length)),s=i.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,r.join(`
`))}}const gC={major:4,minor:3,patch:5},je=M("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=gC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const s of i)for(const a of s._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const s=(l,u,h)=>{let m=Zs(l),p;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(m)continue;const S=l.issues.length,R=g._zod.check(l);if(R instanceof Promise&&(h==null?void 0:h.async)===!1)throw new na;if(p||R instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await R,l.issues.length!==S&&(m||(m=Zs(l,S)))});else{if(l.issues.length===S)continue;m||(m=Zs(l,S))}}return p?p.then(()=>l):l},a=(l,u,h)=>{if(Zs(l))return l.aborted=!0,l;const m=s(u,i,h);if(m instanceof Promise){if(h.async===!1)throw new na;return m.then(p=>e._zod.parse(p,h))}return e._zod.parse(m,h)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const m=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(p=>a(p,l,u)):a(m,l,u)}const h=e._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new na;return h.then(m=>s(m,i,u))}return s(h,i,u)}}ye(e,"~standard",()=>({validate:s=>{var a;try{const l=EO(e,s);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return TO(e,s).then(u=>{var h;return u.success?{value:u.data}:{issues:(h=u.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}))}),$m=M("$ZodString",(e,t)=>{var n;je.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??QO(e._zod.bag),e._zod.parse=(i,r)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Re=M("$ZodStringFormat",(e,t)=>{ef.init(e,t),$m.init(e,t)}),yC=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=PO),Re.init(e,t)}),vC=M("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Y0(i))}else t.pattern??(t.pattern=Y0());Re.init(e,t)}),_C=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=BO),Re.init(e,t)}),bC=M("$ZodURL",(e,t)=>{Re.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),SC=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=VO()),Re.init(e,t)}),EC=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=UO),Re.init(e,t)}),TC=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=DO),Re.init(e,t)}),AC=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zO),Re.init(e,t)}),wC=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=IO),Re.init(e,t)}),xC=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=MO),Re.init(e,t)}),NC=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jO),Re.init(e,t)}),OC=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=JO(t)),Re.init(e,t)}),CC=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=YO),Re.init(e,t)}),kC=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=KO(t)),Re.init(e,t)}),RC=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=LO),Re.init(e,t)}),DC=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ZO),Re.init(e,t),e._zod.bag.format="ipv4"}),zC=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=GO),Re.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),IC=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=qO),Re.init(e,t)}),MC=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$O),Re.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[r,s]=i;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function FS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jC=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=XO),Re.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{FS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function UC(e){if(!HS.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return FS(n)}const LC=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=HS),Re.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{UC(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),PC=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=FO),Re.init(e,t)});function BC(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const HC=M("$ZodJWT",(e,t)=>{Re.init(e,t),e._zod.check=n=>{BC(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),YS=M("$ZodNumber",(e,t)=>{je.init(e,t),e._zod.pattern=e._zod.bag.pattern??GS,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),VC=M("$ZodNumberFormat",(e,t)=>{rC.init(e,t),YS.init(e,t)}),ZC=M("$ZodBoolean",(e,t)=>{je.init(e,t),e._zod.pattern=eC,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),GC=M("$ZodUnknown",(e,t)=>{je.init(e,t),e._zod.parse=n=>n}),qC=M("$ZodNever",(e,t)=>{je.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function K0(e,t,n){e.issues.length&&t.issues.push(...Gs(n,e.issues)),t.value[n]=e.value}const $C=M("$ZodArray",(e,t)=>{je.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let a=0;a<r.length;a++){const l=r[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?s.push(u.then(h=>K0(h,n,a))):K0(u,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Tu(e,t,n,i,r){if(e.issues.length){if(r&&!(n in i))return;t.issues.push(...Gs(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function KS(e){var i,r,s,a;const t=Object.keys(e.shape);for(const l of t)if(!((a=(s=(r=(i=e.shape)==null?void 0:i[l])==null?void 0:r._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=fO(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function JS(e,t,n,i,r,s){const a=[],l=r.keySet,u=r.catchall._zod,h=u.def.type,m=u.optout==="optional";for(const p in t){if(l.has(p))continue;if(h==="never"){a.push(p);continue}const g=u.run({value:t[p],issues:[]},i);g instanceof Promise?e.push(g.then(S=>Tu(S,n,p,t,m))):Tu(g,n,p,t,m)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const XC=M("$ZodObject",(e,t)=>{je.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=Bm(()=>KS(t));ye(e._zod,"propValues",()=>{const l=t.shape,u={};for(const h in l){const m=l[h]._zod;if(m.values){u[h]??(u[h]=new Set);for(const p of m.values)u[h].add(p)}}return u});const r=Eu,s=t.catchall;let a;e._zod.parse=(l,u)=>{a??(a=i.value);const h=l.value;if(!r(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),l;l.value={};const m=[],p=a.shape;for(const g of a.keys){const S=p[g],R=S._zod.optout==="optional",I=S._zod.run({value:h[g],issues:[]},u);I instanceof Promise?m.push(I.then(U=>Tu(U,l,g,h,R))):Tu(I,l,g,h,R)}return s?JS(m,h,l,u,i.value,e):m.length?Promise.all(m).then(()=>l):l}}),FC=M("$ZodObjectJIT",(e,t)=>{XC.init(e,t);const n=e._zod.parse,i=Bm(()=>KS(t)),r=g=>{var O;const S=new pC(["shape","payload","ctx"]),R=i.value,I=k=>{const L=F0(k);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};S.write("const input = payload.value;");const U=Object.create(null);let x=0;for(const k of R.keys)U[k]=`key_${x++}`;S.write("const newResult = {};");for(const k of R.keys){const L=U[k],V=F0(k),E=g[k],v=((O=E==null?void 0:E._zod)==null?void 0:O.optout)==="optional";S.write(`const ${L} = ${I(k)};`),v?S.write(`
        if (${L}.issues.length) {
          if (${V} in input) {
            payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${V}, ...iss.path] : [${V}]
            })));
          }
        }
        
        if (${L}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${L}.value;
        }
        
      `):S.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${L}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${L}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const w=S.compile();return(k,L)=>w(g,k,L)};let s;const a=Eu,l=!IS.jitless,h=l&&cO.value,m=t.catchall;let p;e._zod.parse=(g,S)=>{p??(p=i.value);const R=g.value;return a(R)?l&&h&&(S==null?void 0:S.async)===!1&&S.jitless!==!0?(s||(s=r(t.shape)),g=s(g,S),m?JS([],R,g,S,p,e):g):n(g,S):(g.issues.push({expected:"object",code:"invalid_type",input:R,inst:e}),g)}});function J0(e,t,n,i){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const r=e.filter(s=>!Zs(s));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>br(a,i,_r())))}),t)}const YC=M("$ZodUnion",(e,t)=>{je.init(e,t),ye(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ye(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ye(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ye(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>Vm(s.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(r,s)=>{if(n)return i(r,s);let a=!1;const l=[];for(const u of t.options){const h=u._zod.run({value:r.value,issues:[]},s);if(h instanceof Promise)l.push(h),a=!0;else{if(h.issues.length===0)return h;l.push(h)}}return a?Promise.all(l).then(u=>J0(u,r,e,s)):J0(l,r,e,s)}}),KC=M("$ZodIntersection",(e,t)=>{je.init(e,t),e._zod.parse=(n,i)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},i),a=t.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([u,h])=>Q0(n,u,h)):Q0(n,s,a)}});function wd(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ya(e)&&ya(t)){const n=Object.keys(t),i=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of i){const a=wd(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};r[s]=a.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const r=e[i],s=t[i],a=wd(r,s);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Q0(e,t,n){const i=new Map;let r;for(const l of t.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).r=!0;else e.issues.push(l);const s=[...i].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(s.length&&r&&e.issues.push({...r,keys:s}),Zs(e))return e;const a=wd(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const JC=M("$ZodRecord",(e,t)=>{je.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!ya(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const s=[],a=t.keyType._zod.values;if(a){n.value={};const l=new Set;for(const h of a)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){l.add(typeof h=="number"?h.toString():h);const m=t.valueType._zod.run({value:r[h],issues:[]},i);m instanceof Promise?s.push(m.then(p=>{p.issues.length&&n.issues.push(...Gs(h,p.issues)),n.value[h]=p.value})):(m.issues.length&&n.issues.push(...Gs(h,m.issues)),n.value[h]=m.value)}let u;for(const h in r)l.has(h)||(u=u??[],u.push(h));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&GS.test(l)&&u.issues.length&&u.issues.some(p=>p.code==="invalid_type"&&p.expected==="number")){const p=t.keyType._zod.run({value:Number(l),issues:[]},i);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");p.issues.length===0&&(u=p)}if(u.issues.length){t.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(p=>br(p,i,_r())),input:l,path:[l],inst:e});continue}const m=t.valueType._zod.run({value:r[l],issues:[]},i);m instanceof Promise?s.push(m.then(p=>{p.issues.length&&n.issues.push(...Gs(l,p.issues)),n.value[u.value]=p.value})):(m.issues.length&&n.issues.push(...Gs(l,m.issues)),n.value[u.value]=m.value)}}return s.length?Promise.all(s).then(()=>n):n}}),QC=M("$ZodEnum",(e,t)=>{je.init(e,t);const n=MS(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(r=>uO.has(typeof r)).map(r=>typeof r=="string"?Ju(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const a=r.value;return i.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:e}),r}}),WC=M("$ZodTransform",(e,t)=>{je.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zS(e.constructor.name);const r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new na;return n.value=r,n}});function W0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const QS=M("$ZodOptional",(e,t)=>{je.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Vm(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>W0(s,n.value)):W0(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),ek=M("$ZodExactOptional",(e,t)=>{QS.init(e,t),ye(e._zod,"values",()=>t.innerType._zod.values),ye(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),tk=M("$ZodNullable",(e,t)=>{je.init(e,t),ye(e._zod,"optin",()=>t.innerType._zod.optin),ye(e._zod,"optout",()=>t.innerType._zod.optout),ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Vm(n.source)}|null)$`):void 0}),ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),nk=M("$ZodDefault",(e,t)=>{je.init(e,t),e._zod.optin="optional",ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>ey(s,t)):ey(r,t)}});function ey(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const ik=M("$ZodPrefault",(e,t)=>{je.init(e,t),e._zod.optin="optional",ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),rk=M("$ZodNonOptional",(e,t)=>{je.init(e,t),ye(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>ty(s,e)):ty(r,e)}});function ty(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const sk=M("$ZodCatch",(e,t)=>{je.init(e,t),ye(e._zod,"optin",()=>t.innerType._zod.optin),ye(e._zod,"optout",()=>t.innerType._zod.optout),ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>br(a,i,_r()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>br(s,i,_r()))},input:n.value}),n.issues=[]),n)}}),ak=M("$ZodPipe",(e,t)=>{je.init(e,t),ye(e._zod,"values",()=>t.in._zod.values),ye(e._zod,"optin",()=>t.in._zod.optin),ye(e._zod,"optout",()=>t.out._zod.optout),ye(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const s=t.out._zod.run(n,i);return s instanceof Promise?s.then(a=>uc(a,t.in,i)):uc(s,t.in,i)}const r=t.in._zod.run(n,i);return r instanceof Promise?r.then(s=>uc(s,t.out,i)):uc(r,t.out,i)}});function uc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ok=M("$ZodReadonly",(e,t)=>{je.init(e,t),ye(e._zod,"propValues",()=>t.innerType._zod.propValues),ye(e._zod,"values",()=>t.innerType._zod.values),ye(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),ye(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(ny):ny(r)}});function ny(e){return e.value=Object.freeze(e.value),e}const lk=M("$ZodCustom",(e,t)=>{It.init(e,t),je.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(s=>iy(s,n,i,e));iy(r,n,i,e)}});function iy(e,t,n,i){if(!e){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),t.issues.push(il(r))}}var ry;class ck{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function uk(){return new ck}(ry=globalThis).__zod_globalRegistry??(ry.__zod_globalRegistry=uk());const yo=globalThis.__zod_globalRegistry;function fk(e,t){return new e({type:"string",...$(t)})}function hk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function sy(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function dk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function mk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function pk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function gk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function yk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function vk(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function _k(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function bk(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function Sk(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function Ek(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function Tk(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function Ak(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function wk(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function xk(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function Nk(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function Ok(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function Ck(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function kk(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function Rk(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function Dk(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function zk(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function Ik(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function Mk(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function jk(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function Uk(e,t){return new e({type:"number",checks:[],...$(t)})}function Lk(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function Pk(e,t){return new e({type:"boolean",...$(t)})}function Bk(e){return new e({type:"unknown"})}function Hk(e,t){return new e({type:"never",...$(t)})}function ay(e,t){return new $S({check:"less_than",...$(t),value:e,inclusive:!1})}function fh(e,t){return new $S({check:"less_than",...$(t),value:e,inclusive:!0})}function oy(e,t){return new XS({check:"greater_than",...$(t),value:e,inclusive:!1})}function hh(e,t){return new XS({check:"greater_than",...$(t),value:e,inclusive:!0})}function ly(e,t){return new iC({check:"multiple_of",...$(t),value:e})}function WS(e,t){return new sC({check:"max_length",...$(t),maximum:e})}function Au(e,t){return new aC({check:"min_length",...$(t),minimum:e})}function e1(e,t){return new oC({check:"length_equals",...$(t),length:e})}function Vk(e,t){return new lC({check:"string_format",format:"regex",...$(t),pattern:e})}function Zk(e){return new cC({check:"string_format",format:"lowercase",...$(e)})}function Gk(e){return new uC({check:"string_format",format:"uppercase",...$(e)})}function qk(e,t){return new fC({check:"string_format",format:"includes",...$(t),includes:e})}function $k(e,t){return new hC({check:"string_format",format:"starts_with",...$(t),prefix:e})}function Xk(e,t){return new dC({check:"string_format",format:"ends_with",...$(t),suffix:e})}function ka(e){return new mC({check:"overwrite",tx:e})}function Fk(e){return ka(t=>t.normalize(e))}function Yk(){return ka(e=>e.trim())}function Kk(){return ka(e=>e.toLowerCase())}function Jk(){return ka(e=>e.toUpperCase())}function Qk(){return ka(e=>lO(e))}function Wk(e,t,n){return new e({type:"array",element:t,...$(n)})}function eR(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}function tR(e){const t=nR(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(il(i,n.value,t._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(il(r))}},e(n.value,n)));return t}function nR(e,t){const n=new It({check:"custom",...$(t)});return n._zod.check=e,n}function t1(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??yo,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function Je(e,t,n={path:[],schemaPath:[]}){var m,p;var i;const r=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const l=(p=(m=e._zod).toJSONSchema)==null?void 0:p.call(m);if(l)a.schema=l;else{const g={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,g);else{const R=a.schema,I=t.processors[r.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);I(e,t,R,g)}const S=e._zod.parent;S&&(a.ref||(a.ref=S),Je(S,t,g),t.seen.get(S).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&_t(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function n1(e,t){var a,l,u,h;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const m of e.seen.entries()){const p=(a=e.metadataRegistry.get(m[0]))==null?void 0:a.id;if(p){const g=i.get(p);if(g&&g!==m[0])throw new Error(`Duplicate schema id "${p}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(p,m[0])}}const r=m=>{var I;const p=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const U=(I=e.external.registry.get(m[0]))==null?void 0:I.id,x=e.external.uri??(O=>O);if(U)return{ref:x(U)};const w=m[1].defId??m[1].schema.id??`schema${e.counter++}`;return m[1].defId=w,{defId:w,ref:`${x("__shared")}#/${p}/${w}`}}if(m[1]===n)return{ref:"#"};const S=`#/${p}/`,R=m[1].schema.id??`__schema${e.counter++}`;return{defId:R,ref:S+R}},s=m=>{if(m[1].schema.$ref)return;const p=m[1],{ref:g,defId:S}=r(m);p.def={...p.schema},S&&(p.defId=S);const R=p.schema;for(const I in R)delete R[I];R.$ref=g};if(e.cycles==="throw")for(const m of e.seen.entries()){const p=m[1];if(p.cycle)throw new Error(`Cycle detected: #/${(l=p.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const m of e.seen.entries()){const p=m[1];if(t===m[0]){s(m);continue}if(e.external){const S=(u=e.external.registry.get(m[0]))==null?void 0:u.id;if(t!==m[0]&&S){s(m);continue}}if((h=e.metadataRegistry.get(m[0]))==null?void 0:h.id){s(m);continue}if(p.cycle){s(m);continue}if(p.count>1&&e.reused==="ref"){s(m);continue}}}function i1(e,t){var a,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const m=e.seen.get(h);if(m.ref===null)return;const p=m.def??m.schema,g={...p},S=m.ref;if(m.ref=null,S){i(S);const I=e.seen.get(S),U=I.schema;if(U.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(U)):Object.assign(p,U),Object.assign(p,g),h._zod.parent===S)for(const w in p)w==="$ref"||w==="allOf"||w in g||delete p[w];if(U.$ref)for(const w in p)w==="$ref"||w==="allOf"||w in I.def&&JSON.stringify(p[w])===JSON.stringify(I.def[w])&&delete p[w]}const R=h._zod.parent;if(R&&R!==S){i(R);const I=e.seen.get(R);if(I!=null&&I.schema.$ref&&(p.$ref=I.schema.$ref,I.def))for(const U in p)U==="$ref"||U==="allOf"||U in I.def&&JSON.stringify(p[U])===JSON.stringify(I.def[U])&&delete p[U]}e.override({zodSchema:h,jsonSchema:p,path:m.path??[]})};for(const h of[...e.seen.entries()].reverse())i(h[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const h=(l=e.external.registry.get(t))==null?void 0:l.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(h)}Object.assign(r,n.def??n.schema);const s=((u=e.external)==null?void 0:u.defs)??{};for(const h of e.seen.entries()){const m=h[1];m.def&&m.defId&&(s[m.defId]=m.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?r.$defs=s:r.definitions=s);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:wu(t,"input",e.processors),output:wu(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function _t(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return _t(i.element,n);if(i.type==="set")return _t(i.valueType,n);if(i.type==="lazy")return _t(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return _t(i.innerType,n);if(i.type==="intersection")return _t(i.left,n)||_t(i.right,n);if(i.type==="record"||i.type==="map")return _t(i.keyType,n)||_t(i.valueType,n);if(i.type==="pipe")return _t(i.in,n)||_t(i.out,n);if(i.type==="object"){for(const r in i.shape)if(_t(i.shape[r],n))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(_t(r,n))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(_t(r,n))return!0;return!!(i.rest&&_t(i.rest,n))}return!1}const iR=(e,t={})=>n=>{const i=t1({...n,processors:t});return Je(e,i),n1(i,e),i1(i,e)},wu=(e,t,n={})=>i=>{const{libraryOptions:r,target:s}=i??{},a=t1({...r??{},target:s,io:t,processors:n});return Je(e,a),n1(a,e),i1(a,e)},rR={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},sR=(e,t,n,i)=>{const r=n;r.type="string";const{minimum:s,maximum:a,format:l,patterns:u,contentEncoding:h}=e._zod.bag;if(typeof s=="number"&&(r.minLength=s),typeof a=="number"&&(r.maxLength=a),l&&(r.format=rR[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),h&&(r.contentEncoding=h),u&&u.size>0){const m=[...u];m.length===1?r.pattern=m[0].source:m.length>1&&(r.allOf=[...m.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},aR=(e,t,n,i)=>{const r=n,{minimum:s,maximum:a,format:l,multipleOf:u,exclusiveMaximum:h,exclusiveMinimum:m}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=m,r.exclusiveMinimum=!0):r.exclusiveMinimum=m),typeof s=="number"&&(r.minimum=s,typeof m=="number"&&t.target!=="draft-04"&&(m>=s?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof a=="number"&&(r.maximum=a,typeof h=="number"&&t.target!=="draft-04"&&(h<=a?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},oR=(e,t,n,i)=>{n.type="boolean"},lR=(e,t,n,i)=>{n.not={}},cR=(e,t,n,i)=>{},uR=(e,t,n,i)=>{const r=e._zod.def,s=MS(r.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},fR=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},hR=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},dR=(e,t,n,i)=>{const r=n,s=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(r.minItems=a),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=Je(s.element,t,{...i,path:[...i.path,"items"]})},mR=(e,t,n,i)=>{var h;const r=n,s=e._zod.def;r.type="object",r.properties={};const a=s.shape;for(const m in a)r.properties[m]=Je(a[m],t,{...i,path:[...i.path,"properties",m]});const l=new Set(Object.keys(a)),u=new Set([...l].filter(m=>{const p=s.shape[m]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((h=s.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:s.catchall?s.catchall&&(r.additionalProperties=Je(s.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},pR=(e,t,n,i)=>{const r=e._zod.def,s=r.inclusive===!1,a=r.options.map((l,u)=>Je(l,t,{...i,path:[...i.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=a:n.anyOf=a},gR=(e,t,n,i)=>{const r=e._zod.def,s=Je(r.left,t,{...i,path:[...i.path,"allOf",0]}),a=Je(r.right,t,{...i,path:[...i.path,"allOf",1]}),l=h=>"allOf"in h&&Object.keys(h).length===1,u=[...l(s)?s.allOf:[s],...l(a)?a.allOf:[a]];n.allOf=u},yR=(e,t,n,i)=>{const r=n,s=e._zod.def;r.type="object";const a=s.keyType,l=a._zod.bag,u=l==null?void 0:l.patterns;if(s.mode==="loose"&&u&&u.size>0){const m=Je(s.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});r.patternProperties={};for(const p of u)r.patternProperties[p.source]=m}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(r.propertyNames=Je(s.keyType,t,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=Je(s.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const h=a._zod.values;if(h){const m=[...h].filter(p=>typeof p=="string"||typeof p=="number");m.length>0&&(r.required=m)}},vR=(e,t,n,i)=>{const r=e._zod.def,s=Je(r.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},_R=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},bR=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},SR=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},ER=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},TR=(e,t,n,i)=>{const r=e._zod.def,s=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Je(s,t,i);const a=t.seen.get(e);a.ref=s},AR=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.readOnly=!0},r1=(e,t,n,i)=>{const r=e._zod.def;Je(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},wR=M("ZodISODateTime",(e,t)=>{OC.init(e,t),De.init(e,t)});function xR(e){return zk(wR,e)}const NR=M("ZodISODate",(e,t)=>{CC.init(e,t),De.init(e,t)});function OR(e){return Ik(NR,e)}const CR=M("ZodISOTime",(e,t)=>{kC.init(e,t),De.init(e,t)});function kR(e){return Mk(CR,e)}const RR=M("ZodISODuration",(e,t)=>{RC.init(e,t),De.init(e,t)});function DR(e){return jk(RR,e)}const zR=(e,t)=>{PS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>SO(e,n)},flatten:{value:n=>bO(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ad,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ad,2)}},isEmpty:{get(){return e.issues.length===0}}})},mn=M("ZodError",zR,{Parent:Error}),IR=Gm(mn),MR=qm(mn),jR=Qu(mn),UR=Wu(mn),LR=AO(mn),PR=wO(mn),BR=xO(mn),HR=NO(mn),VR=OO(mn),ZR=CO(mn),GR=kO(mn),qR=RO(mn),Ue=M("ZodType",(e,t)=>(je.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:wu(e,"input"),output:wu(e,"output")}}),e.toJSONSchema=iR(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Tr(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Ar(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>IR(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>jR(e,n,i),e.parseAsync=async(n,i)=>MR(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>UR(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>LR(e,n,i),e.decode=(n,i)=>PR(e,n,i),e.encodeAsync=async(n,i)=>BR(e,n,i),e.decodeAsync=async(n,i)=>HR(e,n,i),e.safeEncode=(n,i)=>VR(e,n,i),e.safeDecode=(n,i)=>ZR(e,n,i),e.safeEncodeAsync=async(n,i)=>GR(e,n,i),e.safeDecodeAsync=async(n,i)=>qR(e,n,i),e.refine=(n,i)=>e.check(L6(n,i)),e.superRefine=n=>e.check(P6(n)),e.overwrite=n=>e.check(ka(n)),e.optional=()=>fy(e),e.exactOptional=()=>w6(e),e.nullable=()=>hy(e),e.nullish=()=>fy(hy(e)),e.nonoptional=n=>R6(e,n),e.array=()=>va(e),e.or=n=>o1([e,n]),e.and=n=>b6(e,n),e.transform=n=>dy(e,T6(n)),e.default=n=>O6(e,n),e.prefault=n=>k6(e,n),e.catch=n=>z6(e,n),e.pipe=n=>dy(e,n),e.readonly=()=>j6(e),e.describe=n=>{const i=e.clone();return yo.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=yo.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return yo.get(e);const i=e.clone();return yo.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),s1=M("_ZodString",(e,t)=>{$m.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(i,r,s)=>sR(e,i,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(Vk(...i)),e.includes=(...i)=>e.check(qk(...i)),e.startsWith=(...i)=>e.check($k(...i)),e.endsWith=(...i)=>e.check(Xk(...i)),e.min=(...i)=>e.check(Au(...i)),e.max=(...i)=>e.check(WS(...i)),e.length=(...i)=>e.check(e1(...i)),e.nonempty=(...i)=>e.check(Au(1,...i)),e.lowercase=i=>e.check(Zk(i)),e.uppercase=i=>e.check(Gk(i)),e.trim=()=>e.check(Yk()),e.normalize=(...i)=>e.check(Fk(...i)),e.toLowerCase=()=>e.check(Kk()),e.toUpperCase=()=>e.check(Jk()),e.slugify=()=>e.check(Qk())}),$R=M("ZodString",(e,t)=>{$m.init(e,t),s1.init(e,t),e.email=n=>e.check(hk(XR,n)),e.url=n=>e.check(yk(FR,n)),e.jwt=n=>e.check(Dk(c6,n)),e.emoji=n=>e.check(vk(YR,n)),e.guid=n=>e.check(sy(cy,n)),e.uuid=n=>e.check(dk(fc,n)),e.uuidv4=n=>e.check(mk(fc,n)),e.uuidv6=n=>e.check(pk(fc,n)),e.uuidv7=n=>e.check(gk(fc,n)),e.nanoid=n=>e.check(_k(KR,n)),e.guid=n=>e.check(sy(cy,n)),e.cuid=n=>e.check(bk(JR,n)),e.cuid2=n=>e.check(Sk(QR,n)),e.ulid=n=>e.check(Ek(WR,n)),e.base64=n=>e.check(Ck(a6,n)),e.base64url=n=>e.check(kk(o6,n)),e.xid=n=>e.check(Tk(e6,n)),e.ksuid=n=>e.check(Ak(t6,n)),e.ipv4=n=>e.check(wk(n6,n)),e.ipv6=n=>e.check(xk(i6,n)),e.cidrv4=n=>e.check(Nk(r6,n)),e.cidrv6=n=>e.check(Ok(s6,n)),e.e164=n=>e.check(Rk(l6,n)),e.datetime=n=>e.check(xR(n)),e.date=n=>e.check(OR(n)),e.time=n=>e.check(kR(n)),e.duration=n=>e.check(DR(n))});function et(e){return fk($R,e)}const De=M("ZodStringFormat",(e,t)=>{Re.init(e,t),s1.init(e,t)}),XR=M("ZodEmail",(e,t)=>{_C.init(e,t),De.init(e,t)}),cy=M("ZodGUID",(e,t)=>{yC.init(e,t),De.init(e,t)}),fc=M("ZodUUID",(e,t)=>{vC.init(e,t),De.init(e,t)}),FR=M("ZodURL",(e,t)=>{bC.init(e,t),De.init(e,t)}),YR=M("ZodEmoji",(e,t)=>{SC.init(e,t),De.init(e,t)}),KR=M("ZodNanoID",(e,t)=>{EC.init(e,t),De.init(e,t)}),JR=M("ZodCUID",(e,t)=>{TC.init(e,t),De.init(e,t)}),QR=M("ZodCUID2",(e,t)=>{AC.init(e,t),De.init(e,t)}),WR=M("ZodULID",(e,t)=>{wC.init(e,t),De.init(e,t)}),e6=M("ZodXID",(e,t)=>{xC.init(e,t),De.init(e,t)}),t6=M("ZodKSUID",(e,t)=>{NC.init(e,t),De.init(e,t)}),n6=M("ZodIPv4",(e,t)=>{DC.init(e,t),De.init(e,t)}),i6=M("ZodIPv6",(e,t)=>{zC.init(e,t),De.init(e,t)}),r6=M("ZodCIDRv4",(e,t)=>{IC.init(e,t),De.init(e,t)}),s6=M("ZodCIDRv6",(e,t)=>{MC.init(e,t),De.init(e,t)}),a6=M("ZodBase64",(e,t)=>{jC.init(e,t),De.init(e,t)}),o6=M("ZodBase64URL",(e,t)=>{LC.init(e,t),De.init(e,t)}),l6=M("ZodE164",(e,t)=>{PC.init(e,t),De.init(e,t)}),c6=M("ZodJWT",(e,t)=>{HC.init(e,t),De.init(e,t)}),a1=M("ZodNumber",(e,t)=>{YS.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(i,r,s)=>aR(e,i,r),e.gt=(i,r)=>e.check(oy(i,r)),e.gte=(i,r)=>e.check(hh(i,r)),e.min=(i,r)=>e.check(hh(i,r)),e.lt=(i,r)=>e.check(ay(i,r)),e.lte=(i,r)=>e.check(fh(i,r)),e.max=(i,r)=>e.check(fh(i,r)),e.int=i=>e.check(uy(i)),e.safe=i=>e.check(uy(i)),e.positive=i=>e.check(oy(0,i)),e.nonnegative=i=>e.check(hh(0,i)),e.negative=i=>e.check(ay(0,i)),e.nonpositive=i=>e.check(fh(0,i)),e.multipleOf=(i,r)=>e.check(ly(i,r)),e.step=(i,r)=>e.check(ly(i,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function ft(e){return Uk(a1,e)}const u6=M("ZodNumberFormat",(e,t)=>{VC.init(e,t),a1.init(e,t)});function uy(e){return Lk(u6,e)}const f6=M("ZodBoolean",(e,t)=>{ZC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>oR(e,n,i)});function h6(e){return Pk(f6,e)}const d6=M("ZodUnknown",(e,t)=>{GC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>cR()});function xd(){return Bk(d6)}const m6=M("ZodNever",(e,t)=>{qC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>lR(e,n,i)});function p6(e){return Hk(m6,e)}const g6=M("ZodArray",(e,t)=>{$C.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>dR(e,n,i,r),e.element=t.element,e.min=(n,i)=>e.check(Au(n,i)),e.nonempty=n=>e.check(Au(1,n)),e.max=(n,i)=>e.check(WS(n,i)),e.length=(n,i)=>e.check(e1(n,i)),e.unwrap=()=>e.element});function va(e,t){return Wk(g6,e,t)}const y6=M("ZodObject",(e,t)=>{FC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>mR(e,n,i,r),ye(e,"shape",()=>t.shape),e.keyof=()=>Od(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:xd()}),e.loose=()=>e.clone({...e._zod.def,catchall:xd()}),e.strict=()=>e.clone({...e._zod.def,catchall:p6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>pO(e,n),e.safeExtend=n=>gO(e,n),e.merge=n=>yO(e,n),e.pick=n=>dO(e,n),e.omit=n=>mO(e,n),e.partial=(...n)=>vO(c1,e,n[0]),e.required=(...n)=>_O(u1,e,n[0])});function An(e,t){const n={type:"object",shape:e??{},...$(t)};return new y6(n)}const v6=M("ZodUnion",(e,t)=>{YC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>pR(e,n,i,r),e.options=t.options});function o1(e,t){return new v6({type:"union",options:e,...$(t)})}const _6=M("ZodIntersection",(e,t)=>{KC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>gR(e,n,i,r)});function b6(e,t){return new _6({type:"intersection",left:e,right:t})}const S6=M("ZodRecord",(e,t)=>{JC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>yR(e,n,i,r),e.keyType=t.keyType,e.valueType=t.valueType});function l1(e,t,n){return new S6({type:"record",keyType:e,valueType:t,...$(n)})}const Nd=M("ZodEnum",(e,t)=>{QC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(i,r,s)=>uR(e,i,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,r)=>{const s={};for(const a of i)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Nd({...t,checks:[],...$(r),entries:s})},e.exclude=(i,r)=>{const s={...t.entries};for(const a of i)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Nd({...t,checks:[],...$(r),entries:s})}});function Od(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Nd({type:"enum",entries:n,...$(t)})}const E6=M("ZodTransform",(e,t)=>{WC.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>hR(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zS(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(il(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(il(a))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function T6(e){return new E6({type:"transform",transform:e})}const c1=M("ZodOptional",(e,t)=>{QS.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>r1(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function fy(e){return new c1({type:"optional",innerType:e})}const A6=M("ZodExactOptional",(e,t)=>{ek.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>r1(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function w6(e){return new A6({type:"optional",innerType:e})}const x6=M("ZodNullable",(e,t)=>{tk.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>vR(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function hy(e){return new x6({type:"nullable",innerType:e})}const N6=M("ZodDefault",(e,t)=>{nk.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>bR(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function O6(e,t){return new N6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():US(t)}})}const C6=M("ZodPrefault",(e,t)=>{ik.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>SR(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function k6(e,t){return new C6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():US(t)}})}const u1=M("ZodNonOptional",(e,t)=>{rk.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>_R(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function R6(e,t){return new u1({type:"nonoptional",innerType:e,...$(t)})}const D6=M("ZodCatch",(e,t)=>{sk.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ER(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function z6(e,t){return new D6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const I6=M("ZodPipe",(e,t)=>{ak.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>TR(e,n,i,r),e.in=t.in,e.out=t.out});function dy(e,t){return new I6({type:"pipe",in:e,out:t})}const M6=M("ZodReadonly",(e,t)=>{ok.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>AR(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function j6(e){return new M6({type:"readonly",innerType:e})}const U6=M("ZodCustom",(e,t)=>{lk.init(e,t),Ue.init(e,t),e._zod.processJSONSchema=(n,i,r)=>fR(e,n)});function L6(e,t={}){return eR(U6,e,t)}function P6(e){return tR(e)}Xn("Validation");const my=et().min(1).max(100);et().regex(/^[a-fA-F0-9]{64}$/);const tf=et().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),f1=et().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);et().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);An({challenge:et().min(10).max(200),expiresAt:ft().int().positive()});An({kind:ft().int(),created_at:ft().int().nonnegative(),tags:va(va(et())),content:et()});const B6=An({npub:tf,displayName:f1.nullable()}),h1=An({visitedAt:et().nullable().optional(),completedAt:et().nullable().optional(),quizAttempts:va(An({xpEarned:ft().int().min(0).optional(),score:ft().min(0).max(100).optional(),timestamp:et().optional(),difficulty:Od(["easy","medium","hard"]).optional(),correctAnswers:ft().int().min(0).optional(),totalQuestions:ft().int().min(1).optional()})).optional(),visualizationsInteracted:va(et().max(100)).optional(),masteryLevel:o1([ft().int().min(0).max(3),Od(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:et().optional(),timeSpentSeconds:ft().int().min(0).optional()});An({user:An({totalXP:ft().int().min(0),level:ft().int().min(1).max(10),sectionsCompleted:va(my)}),sections:l1(my,h1),dailyGoals:An({lastResetDate:et().nullable(),currentStreak:ft().int().min(0),xpEarned:ft().int().min(0),xpGoal:ft().int().min(0)}),lastUpdated:ft().int().nonnegative()});An({success:h6(),totalXP:ft().int().min(0)});An({npub:tf,displayName:f1.nullable(),xp:ft().int().min(0),lastSync:et()});An({timestamp:et(),action:et(),targetNpub:tf.nullable(),performedBy:et(),details:l1(et(),xd()).nullable()});function qD(e){return tf.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function H6(e){const t=h1.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function V6(e){const t=B6.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const xu=Xn("SyncManager"),Z6="magic-internet-math-progress";function py(){try{const e=localStorage.getItem(Z6);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[r,s]of Object.entries(t.sections)){const[a]=r.split(":");if(!PA(a))continue;const l=a,u=H6(s);if(!u.valid||!u.data){xu.warn(`Invalid section data for ${r}, skipping`);continue}const h=u.data;if(h.quizAttempts)for(const m of h.quizAttempts)m.xpEarned&&(i[l]+=m.xpEarned);h.visitedAt&&(i[l]+=ot.SECTION_VISIT),h.completedAt&&(i[l]+=ot.SECTION_COMPLETE),h.visualizationsInteracted&&(i[l]+=h.visualizationsInteracted.length*ot.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return xu.error("Error extracting scores from storage:",e),null}}class G6{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},wS),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},xS))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!er())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<AS)return{success:!1,error:"Rate limited"};try{const n=py();if(!n)return{success:!1,error:"No scores to sync"};const i=nl(),r=ga(i,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const a=await r(s);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return xu.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const r=1e3*Math.pow(2,n);xu.debug(`Sync retry ${n+1}/${t} in ${r}ms`),await new Promise(s=>setTimeout(s,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=py();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let dh=null;function co(){return dh||(dh=new G6),dh}const it=Xn("NostrAuth"),d1=Z.createContext(null),uo="magic-internet-math-nostr-auth";function q6({children:e}){const[t,n]=Z.useState(!1),[i,r]=Z.useState(null),[s,a]=Z.useState(null),[l,u]=Z.useState(null),[h,m]=Z.useState(!1),[p,g]=Z.useState(null),[S,R]=Z.useState(!1),[I,U]=Z.useState(!1),[x,w]=Z.useState(null);Z.useEffect(()=>{(async()=>{const b=await sO(j4);R(b),U(!0)})()},[]);const O=Z.useCallback(async _=>{for(const b of NS)try{const T=await DS(b,_);if(T){T.nip05&&u(T.nip05);const C=T.display_name||T.name;if(C){a(C);const A=co();A.setDisplayName(C),A.requestSync()}return}}catch(T){it.warn(`Failed to fetch profile from ${b}:`,T)}},[]);Z.useEffect(()=>{if(!er())return;const _=ch(),b=Vx(_,async T=>{if(w(T),T){r(T.uid);try{const A=await T.getIdTokenResult(!0);it.debug("Token claims:",A.claims),m(A.claims.isAdmin===!0)}catch(A){it.error("Error getting token:",A),m(!1)}try{const A=localStorage.getItem(uo);if(A){const se=JSON.parse(A),ae=V6(se);if(!ae.valid||!ae.data){it.warn("Invalid auth state in localStorage:",ae.error),localStorage.removeItem(uo);return}ae.data.npub===T.uid&&a(ae.data.displayName)}}catch(A){it.debug("Storage read error:",A)}const C=co();C.setAuthenticated(!0),C.startPeriodicSync();try{const A=RS(T.uid);O(A)}catch(A){it.debug("Npub conversion error:",A)}}else{r(null),u(null),m(!1),a(null);const C=co();C.setAuthenticated(!1),C.stopPeriodicSync()}});return()=>b()},[O]);const k=Z.useCallback(async()=>{if(it.debug("connect() called"),it.debug("isFirebaseConfigured:",er()),it.debug("hasNostrExtension:",Su()),!er()){it.info("Firebase not configured, cannot connect");return}if(!Su()){g("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),it.warn("No extension found, returning");return}n(!0),g(null),it.info("Starting Nostr connection...");try{const _=window.nostr,b=nl(),T=await _.getPublicKey(),C=nO(T),se=await ga(b,"createChallenge")({pubkeyHex:T}),{challenge:ae}=se.data,B={kind:aO,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",ae]],content:ae},X=await _.signEvent(B),he=await ga(b,"verifyNostrAndCreateToken")({signedEvent:X,challenge:ae}),Ae=ch();await Px(Ae,he.data.token);try{const gt={npub:C,displayName:null};localStorage.setItem(uo,JSON.stringify(gt))}catch(gt){it.warn("Failed to store auth state:",gt)}co().syncNow().catch(gt=>{it.warn("Initial sync failed:",gt)})}catch(_){it.error("Nostr connect error:",_),g(_ instanceof Error?_.message:"Failed to connect. Please try again.")}finally{n(!1)}},[S]),L=Z.useCallback(async()=>{try{if(er()){const _=ch();await Zx(_)}try{localStorage.removeItem(uo)}catch(_){it.warn("Failed to clear auth state from storage:",_)}r(null),a(null),m(!1)}catch(_){it.error("Disconnect error:",_),g(_ instanceof Error?_.message:"Failed to disconnect")}},[]),V=Z.useCallback(_=>{if(a(_),i)try{localStorage.setItem(uo,JSON.stringify({npub:i,displayName:_}))}catch(T){it.warn("Failed to update display name in storage:",T)}const b=co();b.setDisplayName(_),b.requestSync()},[i]),E=Z.useCallback(()=>{g(null)},[]),v=Z.useMemo(()=>({isAuthenticated:!!x&&!!i,isConnecting:t,npub:i,displayName:s,nip05:l,isAdmin:h,error:p,hasExtension:S,extensionChecked:I,connect:k,disconnect:L,setDisplayName:V,clearError:E}),[x,i,t,s,l,h,p,S,I,k,L,V,E]);return d.jsx(d1.Provider,{value:v,children:e})}const $6={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function X6(){const e=Z.useContext(d1);return e||$6}const Li=Xn("GamificationProgress"),F6=500,Y6=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},Ns=(e,t)=>{Y6()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},m1=Z.createContext(null);function K6({children:e,courseId:t,curriculum:n}){const[i,r]=Z.useReducer(l2,vb()),[s,a]=Z.useState(!0),[l,u]=Z.useState([]),[h,m]=Z.useState("idle"),p=Z.useRef(null),g=Z.useRef(!1),S=Z.useRef(!1),{isAuthenticated:R,npub:I}=X6(),U=Z.useCallback(b=>`${t}:${b}`,[t]),x=Z.useCallback((b,T)=>{if(!n)return null;const C=n.find(X=>X.sections.some(F=>F.id===b));if(!C)return null;const A=`${t}:part${C.id}`;if(T.user.partsCompleted.includes(A))return null;const se=C.sections.map(X=>U(X.id)),ae=U(b);return se.every(X=>T.user.sectionsCompleted.includes(X)||X===ae)?A:null},[n,t,U]);Z.useEffect(()=>{const b=as();b&&r({type:"LOAD_STATE",payload:b}),R||queueMicrotask(()=>a(!1))},[]),Z.useEffect(()=>{const b=$0(),T=b.onStatusChange(m),C=S.current;return S.current=R,R&&!C?(Li.info("User authenticated, fetching progress from server"),b.setAuthenticated(!0),(async()=>{a(!0);try{const se=XA(),ae=as();if(se&&ae){Li.info("Migrating local progress to server");const B=await b.migrateLocalProgress(ae);B.success&&B.state?(r({type:"MERGE_WITH_SERVER",payload:B.state}),$A(),Li.info("Migration complete")):Li.warn("Migration failed, using local state")}else{const B=await b.fetchServerProgress();B.found&&B.progress?(Li.info("Loaded progress from server"),r({type:"LOAD_FROM_SERVER",payload:B.progress}),b.setLastSyncedAt(B.lastSyncedAt)):Li.info("No server progress found, using local state")}}catch(se){Li.error("Failed to sync with server:",se)}finally{queueMicrotask(()=>a(!1)),g.current=!0}})(),b.startPeriodicSync()):!R&&C?(Li.info("User logged out"),b.setAuthenticated(!1),b.stopPeriodicSync(),g.current=!1):R||queueMicrotask(()=>a(!1)),()=>{T()}},[R,I]),Z.useEffect(()=>{s||(Gu(i),R&&g.current&&$0().requestSync(i))},[i,s,R]),Z.useEffect(()=>{s||r({type:"UPDATE_STREAK"})},[s]),Z.useEffect(()=>{if(!s)return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const b=JA(i);b.length>0&&u(T=>[...T,...b])},F6),()=>{p.current&&clearTimeout(p.current)}},[i,s]);const w=Z.useCallback(b=>{r({type:"VISIT_SECTION",payload:{sectionId:U(b)}})},[U]),O=Z.useCallback(b=>{const T=x(b,i);r({type:"COMPLETE_SECTION",payload:{sectionId:U(b)}}),T&&(r({type:"COMPLETE_PART",payload:{partId:T}}),Ns("partCompleted",{partId:T,courseId:t})),Ns("sectionCompleted",{sectionId:U(b),courseId:t})},[U,t,x,i]),k=Z.useCallback((b,T,C,A,se)=>{const ae=U(b),B=C>=80?x(b,i):null;r({type:"RECORD_QUIZ",payload:{sectionId:ae,difficulty:T,score:C,correctAnswers:A,totalQuestions:se}}),B&&(r({type:"COMPLETE_PART",payload:{partId:B}}),Ns("partCompleted",{partId:B,courseId:t})),Ns("quizCompleted",{sectionId:ae,courseId:t,score:C,correctAnswers:A,totalQuestions:se}),C>=80&&Ns("sectionCompleted",{sectionId:ae,courseId:t})},[U,t,x,i]),L=Z.useCallback((b,T)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:U(b),name:T}})},[U]),V=Z.useCallback(b=>{u(T=>T.filter(C=>C.id!==b))},[]),E=Z.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),v=Z.useCallback(b=>{r({type:"RECORD_RACE_GAME",payload:b}),Ns("raceGameCompleted",{courseId:t,score:b.score,tier:b.tier,correctAnswers:b.correctAnswers,totalQuestions:b.totalQuestions,isMultiplayer:b.isMultiplayer})},[t]),_=Z.useMemo(()=>({state:i,isLoading:s,notifications:l,syncStatus:h,visitSection:w,completeSection:O,recordQuiz:k,useVisualization:L,dismissNotification:V,resetProgress:E,recordRaceGame:v,dispatch:r}),[i,s,l,h,w,O,k,L,V,E,v,r]);return d.jsx(m1.Provider,{value:_,children:e})}function nf(){const e=Z.useContext(m1);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const J6=Qo;function $D(e){return`${J6}:${e}`}function gy({children:e}){return d.jsx(K6,{courseId:Qo,children:e})}const Q6=Xn("ErrorBoundary");class W6 extends Z.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){Q6.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:d.jsxs("div",{className:"max-w-md w-full text-center",children:[d.jsx("div",{className:"text-6xl mb-6",children:d.jsx("span",{role:"img","aria-label":"Warning",children:""})}),d.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),d.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&d.jsxs("details",{className:"mb-6 text-left",children:[d.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),d.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Ic=Xn("ErrorContext");async function eD(e){if(er())try{const t=nl();if(!t){Ic.debug("Firebase functions not initialized");return}await ga(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),Ic.debug("Error logged to Firebase:",e.message)}catch(t){Ic.debug("Failed to log error to Firebase:",t)}}const p1=Z.createContext(null);function tD({children:e,onError:t}){const[n,i]=Z.useState([]),r=Z.useCallback(l=>{const u={id:crypto.randomUUID(),...l,timestamp:new Date,recoverable:l.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:l.severity??"error"};i(h=>{const m=[...h,u];return t&&t(u),m}),eD(u).catch(()=>{}),Ic.error("App error added:",u)},[t]),s=Z.useCallback(l=>{i(u=>u.filter(h=>h.id!==l))},[]),a=Z.useCallback(()=>{i([])},[]);return d.jsx(p1.Provider,{value:{errors:n,addError:r,dismissError:s,dismissAll:a},children:e})}function nD(){const e=Z.useContext(p1);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function iD({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=nD();return t.length===0?null:d.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&d.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),d.jsx("div",{className:"space-y-2",children:t.map(r=>d.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-red-900 font-medium",children:r.message}),r.details&&d.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.details})]}),d.jsx("button",{onClick:()=>n(r.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},r.id))}),t.some(r=>!r.recoverable)&&d.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[d.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const rD={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function qr({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=d.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[d.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${rD[t]}`,role:"status","aria-label":"Loading"}),e&&d.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}const ys=[{id:1,title:"Notation & Foundations",slug:"foundations",sections:[{id:0,title:"Notation",slug:"notation",description:"Security parameters, polynomial-bounded functions, negligible functions, PPT machines, cyclic groups."}]},{id:2,title:"Commitments",slug:"commitments",sections:[{id:1,title:"Binding Commitments",slug:"binding-commitments",description:"Definition of the binding property for commitment schemes."},{id:2,title:"Pay-to-Contract",slug:"pay-to-contract",description:"P2C commitment scheme, Taproot integration, and binding proof."}]},{id:3,title:"Proving Zero-Knowledge",slug:"zero-knowledge",sections:[{id:3,title:"Zero Knowledge Arguments of Knowledge",slug:"zkarg",description:"Completeness, soundness, and zero-knowledge properties."},{id:4,title:"Perfect Special Honest Verifier ZK",slug:"pshvzk",description:"PSHVZK definition and simulator construction."},{id:5,title:"Prove Multiplication in ZK",slug:"zk-multiplication",description:"Bulletproofs-inspired protocol for proving committed products."},{id:6,title:"PSHVZK Proof for Multiplication",slug:"pshvzk-proof",description:"Rigorous proof of PSHVZK, variants that break ZK."}]},{id:4,title:"Blind Sequential MuSig",slug:"musig",sections:[{id:7,title:"Blind Signature Unforgeability",slug:"blind-sig",description:"SUNF and MSUNF security games."},{id:8,title:"SeqMuSig Security Proof",slug:"seqmusig",description:"Security in the Algebraic Group Model, reduction to SUNF."}]}];function XD(e){for(const t of ys){const n=t.sections.find(i=>i.id===e);if(n)return n}}function FD(e){return ys.find(t=>t.sections.some(n=>n.id===e))}function YD(e){const t=ys.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function sD(){return ys.reduce((e,t)=>e+t.sections.length,0)}function aD(){return ys.flatMap(e=>e.sections)}function KD(e){return aD().findIndex(n=>n.id===e)}function oD({xp:e,level:t,compact:n=!1}){const i=_b(e,t);return n?d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),d.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-bold text-white",children:t})}),d.jsxs("div",{className:"flex-1 min-w-[80px]",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[d.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),d.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),d.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:d.jsx(Uo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function lD({streak:e}){return e===0?null:d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[d.jsx("span",{className:"text-orange-400",children:""}),d.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function yy(){const e=nf(),t=Pn.gamification?e:null,n=sD(),i=t?t.state.user.sectionsCompleted.filter(s=>s.startsWith(Qo)).length:0,r=Math.round(i/n*100);return d.jsx("div",{className:"py-8 px-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("span",{className:"text-6xl mb-4 block",children:ub}),d.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:cb}),d.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:pA})]}),Pn.gamification&&t&&d.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),d.jsx(lD,{streak:t.state.streak.currentStreak})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx("div",{children:d.jsx(oD,{xp:t.state.user.totalXP,level:t.state.user.level})}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[d.jsx("span",{className:"text-dark-400",children:"Course Progress"}),d.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),d.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),d.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),d.jsxs("div",{className:"flex flex-col justify-center items-end",children:[d.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),d.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),d.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),d.jsx("div",{className:"space-y-4",children:ys.map(s=>d.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:d.jsx("span",{className:"text-lg font-bold text-primary-400",children:s.id})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s.title}),d.jsxs("p",{className:"text-sm text-dark-400",children:[s.sections.length," sections"]})]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.sections.map(a=>{const l=`${Qo}:${a.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return d.jsxs(Sn,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):d.jsx("span",{className:"text-xs",children:a.id})}),d.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},s.id))})]})})}function cD(e){const t={};for(const[n,i]of Object.entries(e)){const r=n.match(/Section(\d+)/);if(r){const s=parseInt(r[1],10);t[s]=i}}return t}const g1=Z.createContext(null);function uD({config:e,children:t}){return d.jsx(g1.Provider,{value:e,children:t})}function y1(){const e=Z.useContext(g1);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}function fD({xp:e,level:t,compact:n=!1}){const i=_b(e,t);return n?d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),d.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-bold text-white",children:t})}),d.jsxs("div",{className:"flex-1 min-w-[80px]",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[d.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),d.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),d.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:d.jsx(Uo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function hD({streak:e}){return e===0?null:d.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[d.jsx("span",{className:"text-orange-400",children:""}),d.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function dD({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:r}=t2(e);return d.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[d.jsx("span",{className:"text-sm",children:r}),t&&d.jsx("span",{className:"text-xs",children:n})]})}function mD({onImportSuccess:e}){const[t,n]=Z.useState(!1),[i,r]=Z.useState(null),[s,a]=Z.useState(!1),l=Z.useRef(null),u=qA(),h=()=>{VA(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},m=()=>{var g;(g=l.current)==null||g.click()},p=async g=>{var I;const S=(I=g.target.files)==null?void 0:I[0];if(!S)return;a(!0),r(null);const R=await GA(S);a(!1),r({type:R.success?"success":"error",text:R.message}),R.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:d.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&d.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[d.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),d.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),d.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:h,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),d.jsxs("button",{onClick:m,disabled:s,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),s?"Importing...":"Import Backup"]}),d.jsx("input",{ref:l,type:"file",accept:".json",onChange:p,className:"hidden"})]}),i&&d.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),d.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const pD={progress:"",mastery:"",dedication:"",exploration:""};function gD({notification:e,onDismiss:t}){return Z.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),d.jsx(Uo.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:d.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:pD[e.category]||""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),d.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),d.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),d.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),d.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function yD({notifications:e,onDismiss:t}){return d.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:d.jsx(mh,{mode:"popLayout",children:e.map(n=>d.jsx(gD,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function vD({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:r,hubUrl:s}=y1(),a=nf(),l=r.gamification?a:null;return d.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:d.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:d.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs(Sn,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[d.jsx("span",{className:"text-2xl",children:i}),d.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),d.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[d.jsx("a",{href:s,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),d.jsx(Sn,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),r.theoremIndex&&d.jsx(Sn,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),r.interactiveModules&&d.jsx(Sn,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),r.leaderboard&&d.jsx(Sn,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[r.gamification&&l&&d.jsxs(d.Fragment,{children:[d.jsx(hD,{streak:l.state.streak.currentStreak}),d.jsx(fD,{xp:l.state.user.totalXP,level:l.state.user.level})]}),r.gamification&&d.jsx(mD,{})]})]})})}function _D({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:r}=y1(),[s,a]=Z.useState(new Set([1])),l=nf(),u=i.gamification?l:null,h=p=>{a(g=>{const S=new Set(g);return S.has(p)?S.delete(p):S.add(p),S})},m=p=>{var S;if(!u)return"none";const g=`${n}:${p}`;return((S=u.state.sections[g])==null?void 0:S.masteryLevel)??"none"};return d.jsxs(d.Fragment,{children:[d.jsx(mh,{children:e&&d.jsx(Uo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),d.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:d.jsxs("nav",{className:"p-4",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),d.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&d.jsx("li",{children:d.jsxs(Ka,{to:"/theorems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[d.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&d.jsx("li",{children:d.jsxs(Ka,{to:"/interactive",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[d.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&d.jsx("li",{children:d.jsxs(Ka,{to:"/problems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[d.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&d.jsx("li",{children:d.jsxs(Ka,{to:"/transcripts",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[d.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),d.jsx("div",{className:"space-y-2",children:r.map(p=>d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>h(p.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-bold text-primary-400",children:p.id})}),d.jsx("span",{className:"text-sm font-medium text-dark-200",children:p.title})]}),d.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${s.has(p.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d.jsx(mh,{children:s.has(p.id)&&d.jsx(Uo.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:p.sections.map(g=>d.jsx("li",{children:d.jsxs(Ka,{to:`/section/${g.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:S})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${S?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[d.jsx("span",{className:"truncate",children:g.title}),i.gamification&&d.jsx(dD,{level:m(g.id)})]})},g.id))})})]},p.id))})]})})]})}const hr=[{id:"groth-zk-research",title:"Exploring ZK Research with Jens Groth",source:"Zero Knowledge Podcast",date:"2022-07-06",speakers:[{name:"Jens Groth",role:"Creator of Groth16, Director at DFINITY"},{name:"Anna Rose",role:"ZK Podcast Host"},{name:"Kobi Gurkan",role:"ZK Podcast Cohost"}],topics:["Groth16","zk-SNARKs","Zero-Knowledge Research","Subversion-ZK"],sourceUrl:"https://zeroknowledge.fm/237-2/",duration:"~1h",description:"The creator of Groth16 discusses his career trajectory, the cryptographic challenges he solved to create one of the most widely-used proving systems, and the future of zero-knowledge research."},{id:"groth16-ivc-nexus",title:"Groth16, IVC and Formal Verification with Nexus",source:"Zero Knowledge Podcast",date:"2024-08-14",speakers:[{name:"Jens Groth",role:"Chief Scientist at Nexus"},{name:"Daniel Marin",role:"Nexus"},{name:"Anna Rose",role:"ZK Podcast Host"}],topics:["Groth16","IVC","Formal Verification","zkVM","Commitment Schemes"],sourceUrl:"https://zeroknowledge.fm/335-2/",duration:"~1h 15m",description:"Jens Groth returns to discuss Groth16 standardization efforts, formal verification of ZK systems, and the architecture of Nexus's zkVM combining HyperNova IVC with proof compression."},{id:"boneh-zk-research-2024",title:"Latest ZK Research with Dan Boneh",source:"Zero Knowledge Podcast",date:"2024-11-27",speakers:[{name:"Dan Boneh",role:"Professor, Stanford University"},{name:"Anna Rose",role:"ZK Podcast Host"}],topics:["Lattice SNARKs","Content Provenance","FHE","Machine Learning","Folding Schemes"],sourceUrl:"https://zeroknowledge.fm/345-2/",duration:"~1h",description:"Dan Boneh covers cutting-edge ZK research including lattice-based SNARKs, ZK for content provenance, integration with FHE systems, and applications in machine learning verification."},{id:"bunz-bulletproofs",title:"Bulletproofs and Verifiable Delay Functions",source:"Zero Knowledge Podcast",date:"2018-08-29",speakers:[{name:"Benedikt Bunz",role:"Stanford Cryptographer, Bulletproofs Author"}],topics:["Bulletproofs","Range Proofs","VDFs","Confidential Transactions"],sourceUrl:"https://zeroknowledge.fm/40-2/",duration:"~45m",description:"The author of Bulletproofs explains how this novel zero-knowledge proof system enables efficient range proofs without trusted setup, revolutionizing confidential transactions."},{id:"musig2-blockstream",title:"MuSig2: Schnorr Multi-Signatures for Bitcoin",source:"Stephan Livera Podcast",date:"2020-10-27",speakers:[{name:"Jonas Nick",role:"Blockstream Researcher"},{name:"Tim Ruffing",role:"Blockstream Researcher"},{name:"Stephan Livera",role:"Host"}],topics:["MuSig2","Schnorr Signatures","Multi-Signatures","Taproot","Lightning"],sourceUrl:"https://stephanlivera.com/episode/222/",duration:"~1h 12m",description:"The creators of MuSig2 explain how this two-round multi-signature scheme enables efficient N-of-N signing while maintaining security under concurrent sessions, with applications for Lightning and hardware wallets."},{id:"zk-predictions-2024",title:"Predictions: ZK in 2024",source:"Zero Knowledge Podcast",date:"2024-01-10",speakers:[{name:"Anna Rose",role:"ZK Podcast Host"},{name:"Guillermo Angeris",role:"Cohost"},{name:"Kobi Gurkan",role:"Cohost"},{name:"Nico Mohnblatt",role:"Cohost"},{name:"Tarun Chitra",role:"Cohost"}],topics:["ZK Trends","Research Predictions","Applications","Industry Outlook"],sourceUrl:"https://zeroknowledge.fm/306-2/",duration:"~1h 30m",description:"The ZK Podcast cohosts share forecasts for zero-knowledge cryptography in 2024, covering emerging research, killer applications, best and worst case scenarios, and potential black swan events."},{id:"zk-review-2024",title:"ZK in Review: Decoding 2024 & Predicting 2025",source:"Zero Knowledge Podcast",date:"2024-12-23",speakers:[{name:"Anna Rose",role:"ZK Podcast Host"},{name:"Tarun Chitra",role:"Cohost"},{name:"Nico Mohnblatt",role:"Cohost"},{name:"Guillermo Angeris",role:"Cohost"}],topics:["Circle STARKs","Lattice Cryptography","zkVMs","Quantum Security","zkTLS"],sourceUrl:"https://zeroknowledge.fm/podcast/346/",duration:"~2h",description:"Year-end review of major ZK developments including hash vs curve-based SNARKs, lattice-based approaches like LatticeFold, zkVM proliferation, and implications of quantum computing advances."}];function v1(e){return hr.find(t=>t.id===e)}function JD(){const e=new Set;return hr.forEach(t=>t.topics.forEach(n=>e.add(n))),Array.from(e).sort()}function bD(e){return hr.findIndex(t=>t.id===e)}function SD(e){const t=bD(e);return{prev:t>0?hr[t-1]:null,next:t<hr.length-1?hr[t+1]:null}}function ED({transcriptId:e,children:t}){const n=v1(e),{prev:i,next:r}=SD(e),s=hr.findIndex(u=>u.id===e),a=hr.length;if(!n)return d.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:d.jsx("p",{className:"text-dark-400",children:"Transcript not found"})});const l=(s+1)/a*100;return d.jsxs("div",{className:"min-h-screen relative",children:[d.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-indigo-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),d.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-600 via-indigo-500 to-primary-400 transition-all duration-500 ease-out",style:{width:`${l}%`}})}),d.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:d.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[d.jsxs(Sn,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),d.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),d.jsx(Sn,{to:"/transcripts",className:"text-dark-500 hover:text-dark-300 transition-colors",children:"Transcripts"}),d.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),d.jsx("span",{className:"text-dark-300 font-medium truncate",children:n.title})]})}),d.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[d.jsxs("header",{className:"mb-14",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[d.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-indigo-500/20 to-indigo-600/10 text-indigo-400 rounded-full border border-indigo-500/20",children:[d.jsx("span",{className:"text-lg",children:""}),"Transcript"]}),d.jsx("span",{className:"text-dark-500 text-sm",children:n.source})]}),d.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:d.jsx("span",{className:"bg-gradient-to-r from-indigo-400 via-indigo-300 to-primary-400 bg-clip-text text-transparent",children:n.title})}),d.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl mb-6",children:n.description}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-dark-500 mb-6",children:[d.jsxs("span",{className:"flex items-center gap-1.5",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.date]}),n.duration&&d.jsxs("span",{className:"flex items-center gap-1.5",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.duration]})]}),d.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 mb-6",children:[d.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-3",children:"Speakers"}),d.jsx("div",{className:"flex flex-wrap gap-3",children:n.speakers.map((u,h)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500/30 to-primary-500/30 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-bold text-indigo-400",children:u.name.split(" ").map(m=>m[0]).join("")})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-dark-200 font-medium",children:u.name}),u.role&&d.jsx("p",{className:"text-xs text-dark-500",children:u.role})]})]},h))})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:n.topics.map((u,h)=>d.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-indigo-500/10 text-indigo-400 border border-indigo-500/20",children:u},h))}),d.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[d.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500/50"}),d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500/30"}),d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500/10"})]}),d.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),d.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:t}),d.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-amber-400 font-semibold mb-1",children:"Original Source"}),d.jsx("p",{className:"text-dark-400 text-sm mb-3",children:"This is an educational summary. Access the full original content at the source."}),d.jsxs("a",{href:n.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-amber-500/20 text-amber-400 text-sm font-medium hover:bg-amber-500/30 transition-colors",children:["View Original",d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})})]}),d.jsx("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i?d.jsxs(Sn,{to:`/transcript/${i.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-indigo-500/20 transition-all duration-300",children:d.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-indigo-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),d.jsx("p",{className:"text-dark-200 group-hover:text-indigo-400 transition-colors font-medium truncate",children:i.title})]})]}):d.jsx("div",{}),r?d.jsxs(Sn,{to:`/transcript/${r.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[d.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-indigo-500/20 transition-all duration-300",children:d.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-indigo-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),d.jsx("p",{className:"text-dark-200 group-hover:text-indigo-400 transition-colors font-medium truncate",children:r.title})]})]}):d.jsxs(Sn,{to:"/transcripts",className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-indigo-600 to-indigo-500 text-white font-semibold shadow-lg shadow-indigo-500/20 hover:shadow-xl hover:shadow-indigo-500/30 hover:scale-[1.02] transition-all duration-300",children:[d.jsx("span",{children:"All Transcripts"}),d.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})]})]})})]})}const TD={id:Qo,name:cb,icon:ub,hubUrl:gA,features:Pn,curriculum:ys},AD=Z.lazy(()=>Ct(()=>import("./Leaderboard-QTzSXO2A.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),wD=Z.lazy(()=>Ct(()=>import("./Theorems-D6fskaTc.js"),__vite__mapDeps([5,1,2,6,3,7,4]),import.meta.url)),xD=Z.lazy(()=>Ct(()=>import("./InteractiveModules-Ca4F8yGo.js"),__vite__mapDeps([8,1,2,6,3,4]),import.meta.url)),ND=Z.lazy(()=>Ct(()=>import("./SectionQuizPage-D3C0r8J5.js"),__vite__mapDeps([9,1,2,3,10,4]),import.meta.url)),OD=Z.lazy(()=>Ct(()=>import("./TranscriptsIndex-DbKDMitm.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url)),CD=Object.assign({"./pages/sections/Section00.tsx":()=>Ct(()=>import("./Section00-BmnQ-fn1.js"),__vite__mapDeps([12,1,2,3,13,10,7,4]),import.meta.url),"./pages/sections/Section01.tsx":()=>Ct(()=>import("./Section01-C3uRTYal.js"),__vite__mapDeps([14,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section02.tsx":()=>Ct(()=>import("./Section02-_LIB1S4E.js"),__vite__mapDeps([16,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section03.tsx":()=>Ct(()=>import("./Section03-DjUJt-26.js"),__vite__mapDeps([17,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section04.tsx":()=>Ct(()=>import("./Section04-BTAvVQO9.js"),__vite__mapDeps([18,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section05.tsx":()=>Ct(()=>import("./Section05-C0heP45L.js"),__vite__mapDeps([19,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section06.tsx":()=>Ct(()=>import("./Section06-IGsNxIaH.js"),__vite__mapDeps([20,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section07.tsx":()=>Ct(()=>import("./Section07-CJRxPfIR.js"),__vite__mapDeps([21,1,2,3,13,10,7,15,4]),import.meta.url),"./pages/sections/Section08.tsx":()=>Ct(()=>import("./Section08-CJeHuBhG.js"),__vite__mapDeps([22,1,2,3,13,10,7,15,4]),import.meta.url)}),kD=cD(CD),_1={};for(const[e,t]of Object.entries(kD))_1[Number(e)]=Z.lazy(t);function RD(){const{id:e}=vy(),t=parseInt(e||"0",10),n=_1[t];return n?d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading section..."}),children:d.jsx(n,{})}):d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),d.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function DD(){const{id:e}=vy(),t=v1(e||"");return t?d.jsx(ED,{transcriptId:e||"",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-6 rounded-xl bg-dark-800/50 border border-dark-700/50",children:[d.jsx("h2",{className:"text-xl font-semibold text-dark-100 mb-4",children:"About This Transcript"}),d.jsx("p",{className:"text-dark-300 leading-relaxed mb-4",children:t.description}),d.jsx("p",{className:"text-dark-400 text-sm",children:"This is a curated summary of the original content. For the full discussion, please visit the original source linked above."})]}),d.jsxs("div",{className:"p-6 rounded-xl bg-indigo-500/10 border border-indigo-500/20",children:[d.jsx("h3",{className:"text-lg font-semibold text-indigo-400 mb-3",children:"Key Topics"}),d.jsx("ul",{className:"space-y-2",children:t.topics.map((n,i)=>d.jsxs("li",{className:"flex items-center gap-2 text-dark-300",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),n]},i))})]})]})}):d.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Transcript Not Found"}),d.jsx("p",{className:"text-dark-400",children:"This transcript does not exist."})]})})}function zD({children:e}){const[t,n]=Z.useState(!1);return d.jsxs("div",{className:"min-h-screen bg-dark-950",children:[d.jsx(vD,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),d.jsx(_D,{isOpen:t,onClose:()=>n(!1)}),d.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function hc(){return d.jsxs(d.Fragment,{children:[d.jsx(zD,{children:d.jsxs(j1,{children:[d.jsx(ei,{path:"/",element:d.jsx(yy,{})}),Pn.leaderboard&&d.jsx(ei,{path:"/leaderboard",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading leaderboard..."}),children:d.jsx(AD,{})})}),Pn.theoremIndex&&d.jsx(ei,{path:"/theorems",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading theorems..."}),children:d.jsx(wD,{})})}),Pn.interactiveModules&&d.jsx(ei,{path:"/interactive",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading modules..."}),children:d.jsx(xD,{})})}),d.jsx(ei,{path:"/section/:id",element:d.jsx(RD,{})}),d.jsx(ei,{path:"/transcripts",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading transcripts..."}),children:d.jsx(OD,{})})}),d.jsx(ei,{path:"/transcript/:id",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading transcript..."}),children:d.jsx(DD,{})})}),d.jsx(ei,{path:"/quiz/section/:id",element:d.jsx(Z.Suspense,{fallback:d.jsx(qr,{message:"Loading quiz..."}),children:d.jsx(ND,{})})}),d.jsx(ei,{path:"*",element:d.jsx(yy,{})})]})}),Pn.gamification&&d.jsx(ID,{})]})}function ID(){const{notifications:e,dismissNotification:t}=nf();return d.jsx(yD,{notifications:e,onDismiss:t})}function MD(){return d.jsx(W6,{children:d.jsxs(tD,{children:[d.jsx(uD,{config:TD,children:d.jsx(M1,{children:Pn.nostrAuth?d.jsx(q6,{children:Pn.gamification?d.jsx(gy,{children:d.jsx(hc,{})}):d.jsx(hc,{})}):Pn.gamification?d.jsx(gy,{children:d.jsx(hc,{})}):d.jsx(hc,{})})}),d.jsx(iD,{})]})})}hA.createRoot(document.getElementById("root")).render(d.jsx(Z.StrictMode,{children:d.jsx(MD,{})}));export{KD as A,$D as B,cb as C,Pn as F,gA as H,VD as L,HD as R,lD as S,oD as X,Xn as a,co as b,t2 as c,qA as d,VA as e,GD as f,nl as g,ga as h,er as i,GA as j,nf as k,ub as l,ys as m,Qo as n,QA as o,BD as p,ot as q,XD as r,ZD as s,FD as t,X6 as u,qD as v,JD as w,hr as x,YD as y,sD as z};
