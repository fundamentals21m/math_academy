import{j as e,m as t,A as f}from"./vendor-animation-0o8UKZ_1.js";import{r as c}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import"./index-0SKjYqk6.js";import{L as S,D as _,E as B}from"./ContentBlocks-B8Bxhv2f.js";import{I as i,M as y}from"./MathBlock-uz1iP4cD.js";import{C as E}from"./Callout-Dt8juvZK.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-Bnq9ppQi.js";function L({className:v=""}){const[s,d]=c.useState("input"),[n,u]=c.useState("secret"),[l,b]=c.useState(""),[a,h]=c.useState(""),[k,m]=c.useState(!1),j=o=>{let r=0;for(let p=0;p<o.length;p++){const H=o.charCodeAt(p);r=(r<<5)-r+H,r=r&r}return Math.abs(r).toString(16).padStart(8,"0").toUpperCase()},N=()=>{d("committing"),setTimeout(()=>{b(j(n)),d("committed")},1e3)},w=()=>{d("reveal")},C=()=>{d("collision"),h(""),m(!1)},T=()=>{m(!0)},g=()=>{d("input"),u("secret"),b(""),h(""),m(!1)},x=a?j(a):"",A=x===l&&a!==n&&a.length>0;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${v}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Commitment Binding Game"}),e.jsx("p",{className:"text-dark-400 text-sm mb-6",children:"Commitments are like locked boxes: once committed, you cannot change what's inside."}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("svg",{viewBox:"0 0 200 160",className:"w-64 h-auto",children:[e.jsx(t.rect,{x:"40",y:"60",width:"120",height:"80",rx:"8",fill:"#374151",stroke:"#6366f1",strokeWidth:"3"}),e.jsxs(t.g,{animate:{rotateX:s==="input"||s==="reveal"?0:-90},style:{transformOrigin:"100px 60px"},transition:{duration:.5},children:[e.jsx("rect",{x:"40",y:"30",width:"120",height:"35",rx:"8",fill:"#4b5563",stroke:"#6366f1",strokeWidth:"3"}),e.jsxs(t.g,{animate:{fill:s==="committed"||s==="collision"?"#ef4444":"#9ca3af"},children:[e.jsx("rect",{x:"90",y:"55",width:"20",height:"15",rx:"3",fill:"currentColor"}),e.jsx("path",{d:"M95 55 L95 48 A5 5 0 0 1 105 48 L105 55",stroke:"currentColor",strokeWidth:"3",fill:"none"})]})]}),e.jsx(f,{children:(s==="input"||s==="reveal")&&e.jsxs(t.text,{x:"100",y:"110",textAnchor:"middle",fill:"#10b981",fontSize:"14",fontFamily:"monospace",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:['"',n,'"']})}),(s==="committed"||s==="collision"||s==="reveal")&&e.jsxs(t.text,{x:"100",y:"155",textAnchor:"middle",fill:"#6366f1",fontSize:"10",fontFamily:"monospace",initial:{opacity:0},animate:{opacity:1},children:["Com = ",l]})]})}),e.jsxs("div",{className:"space-y-4",children:[s==="input"&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-dark-300 text-sm mb-2",children:"Enter a value to commit:"}),e.jsx("input",{type:"text",value:n,onChange:o=>u(o.target.value),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 font-mono focus:outline-none focus:border-primary-500",placeholder:"Enter your secret..."})]}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:N,disabled:!n,className:"w-full px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 disabled:opacity-50 text-white font-medium transition-colors",children:"Lock the Box (Commit)"})]}),s==="committing"&&e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-dark-400",children:"Computing commitment..."})]}),s==="committed"&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:e.jsxs("p",{className:"text-emerald-400 text-sm",children:[e.jsx("strong",{children:"Committed!"})," The box is locked. The commitment hash is public, but the value inside is hidden."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,className:"flex-1 px-4 py-2 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-medium",children:"Reveal Value"}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,className:"flex-1 px-4 py-2 rounded-xl bg-red-500 hover:bg-red-600 text-white font-medium",children:"Try to Cheat"})]})]}),s==="reveal"&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:[e.jsxs("p",{className:"text-emerald-400",children:[e.jsx("strong",{children:"Revealed:"})," The value was ",e.jsxs("span",{className:"font-mono",children:['"',n,'"']})]}),e.jsxs("p",{className:"text-dark-400 text-sm mt-2",children:['Anyone can verify: Hash("',n,'") = ',l," ✓"]})]}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"w-full px-4 py-2 rounded-xl bg-dark-600 hover:bg-dark-500 text-dark-200 font-medium",children:"Try Again"})]}),s==="collision"&&e.jsxs(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:e.jsxs("p",{className:"text-red-400 text-sm",children:[e.jsx("strong",{children:"Adversary's Challenge:"})," Try to find a different value that produces the same commitment hash: ",e.jsx("span",{className:"font-mono",children:l})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-dark-300 text-sm mb-2",children:"Enter a different value:"}),e.jsx("input",{type:"text",value:a,onChange:o=>{h(o.target.value),m(!1)},className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 font-mono focus:outline-none focus:border-red-500",placeholder:"Try to find a collision..."})]}),a&&e.jsxs("div",{className:"p-3 rounded-lg bg-dark-700/50",children:[e.jsxs("p",{className:"text-dark-400 text-sm",children:['Hash("',a,'") = ',e.jsx("span",{className:`font-mono ${x===l?"text-emerald-400":"text-red-400"}`,children:x})]}),e.jsxs("p",{className:"text-dark-500 text-xs mt-1",children:["Target: ",l]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:T,disabled:!a||a===n,className:"flex-1 px-4 py-2 rounded-xl bg-red-500 hover:bg-red-600 disabled:opacity-50 text-white font-medium",children:"Check Collision"}),e.jsx(t.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"px-4 py-2 rounded-xl bg-dark-600 hover:bg-dark-500 text-dark-200 font-medium",children:"Reset"})]}),e.jsx(f,{children:k&&!A&&e.jsxs(t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:[e.jsxs("p",{className:"text-amber-400 text-sm",children:[e.jsx("strong",{children:"No collision found!"})," The hashes don't match."]}),e.jsxs("p",{className:"text-dark-400 text-xs mt-2",children:["In a real cryptographic hash function, finding a collision requires ~2",e.jsx("sup",{children:"128"})," attempts on average — more than atoms in the observable universe."]})]})})]})]}),e.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-dark-700/30 border border-dark-600/30",children:[e.jsx("h4",{className:"text-dark-200 font-medium mb-2",children:"Why is this binding?"}),e.jsxs("p",{className:"text-dark-400 text-sm",children:["A commitment scheme is ",e.jsx("strong",{className:"text-primary-400",children:"binding"})," if the probability of finding two different values (x₀, r₀) and (x₁, r₁) with the same commitment is",e.jsx("strong",{className:"text-red-400",children:" negligible"})," — so small that even with all the computing power in the world, you couldn't find one."]})]})]})}function z(){return e.jsxs(S,{sectionId:1,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Binding Commitments"}),e.jsxs("p",{className:"mb-4",children:["A commitment scheme allows one party to commit to a value while keeping it hidden, with the ability to reveal the value later. The ",e.jsx("strong",{children:"binding"})," property ensures that once committed, the party cannot change the value."]}),e.jsxs(_,{title:"Binding Commitment",children:[e.jsxs("p",{children:["A commitment scheme is said to be ",e.jsx("strong",{children:"binding"})," if for all PPT adversaries"," ",e.jsxs(i,{children:["\\mathcal","{A}"]})," there exists a negligible function"," ",e.jsx(i,{children:"\\mu"})," such that:"]}),e.jsx(y,{children:"\\Pr\\left[\\text{Com}(x_0; r_0) = \\text{Com}(x_1; r_1) \\land x_0 \\neq x_1 \\;\\middle|\\; \\begin{array}{l} pp \\leftarrow\\!\\!\\$ \\text{Setup}(1^\\lambda) \\\\ (x_0, x_1, r_0, r_1) \\leftarrow \\mathcal{A}(pp) \\end{array}\\right] \\leq \\mu(\\lambda)"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Understanding the Definition"}),e.jsx("p",{className:"mb-4",children:"Let's break down this definition:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-6",children:[e.jsxs("li",{children:[e.jsxs(i,{children:["\\text","{Com}","(x; r)"]})," is the commitment to value ",e.jsx(i,{children:"x"})," using randomness ",e.jsx(i,{children:"r"})]}),e.jsxs("li",{children:[e.jsx(i,{children:"pp"})," are public parameters generated by ",e.jsxs(i,{children:["\\text","{Setup}"]})]}),e.jsxs("li",{children:["The adversary ",e.jsxs(i,{children:["\\mathcal","{A}"]})," tries to find two different values that produce the same commitment"]}),e.jsx("li",{children:"The probability of success must be negligible in the security parameter"})]}),e.jsx(E,{type:"info",title:"Computational vs. Information-Theoretic Binding",children:e.jsxs("p",{children:["The definition above describes ",e.jsx("strong",{children:"computational binding"}),": breaking it requires solving a computationally hard problem. Some schemes offer ",e.jsx("strong",{children:"information-theoretic binding"}),", which is secure even against unbounded adversaries."]})}),e.jsxs(B,{title:"Hash-Based Commitment",children:[e.jsxs("p",{children:["A simple binding commitment can be constructed using a hash function"," ",e.jsx(i,{children:"H"}),":"]}),e.jsx(y,{children:"\\text{Com}(x; r) = H(x \\| r)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(i,{children:"\\|"})," denotes concatenation. If ",e.jsx(i,{children:"H"})," is collision-resistant, finding ",e.jsx(i,{children:"(x_0, r_0) \\neq (x_1, r_1)"})," with the same hash would contradict collision resistance."]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Hiding Property"}),e.jsxs("p",{className:"mb-4",children:["Commitment schemes also require a ",e.jsx("strong",{children:"hiding"})," property: the commitment should not reveal any information about the committed value. Together, binding and hiding ensure:"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hiding:"})," The receiver learns nothing about ",e.jsx(i,{children:"x"})," from the commitment"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Binding:"})," The sender cannot change ",e.jsx(i,{children:"x"})," after committing"]})]}),e.jsx("p",{className:"mt-4",children:`These properties create a "locked box" metaphor: you can lock a value in a box (commit), and later open it (reveal), but you cannot change what's inside after locking.`}),e.jsx(L,{className:"my-8"})]})}export{z as default};
