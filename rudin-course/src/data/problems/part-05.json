{
  "partId": 5,
  "partTitle": "Differentiation",
  "textbookChapter": "Chapter 5",
  "sections": [
    {
      "sectionId": 34,
      "sectionTitle": "The Derivative of a Real Function",
      "textbookSection": "5.1-5.6",
      "examples": [
        {
          "id": "ex-5-34-1",
          "type": "example",
          "title": "Differentiability Implies Continuity",
          "statement": "Prove that if $f$ is differentiable at $x$, then $f$ is continuous at $x$.",
          "solution": {
            "steps": [
              {
                "title": "Write f(t) - f(x)",
                "content": "For $t \\neq x$:\n$f(t) - f(x) = \\frac{f(t) - f(x)}{t - x} \\cdot (t - x)$"
              },
              {
                "title": "Take limit as t → x",
                "content": "$\\lim_{t \\to x} [f(t) - f(x)] = \\lim_{t \\to x} \\frac{f(t) - f(x)}{t - x} \\cdot \\lim_{t \\to x} (t - x) = f'(x) \\cdot 0 = 0$"
              },
              {
                "title": "Conclude continuity",
                "content": "$\\lim_{t \\to x} f(t) = f(x)$, so $f$ is continuous at $x$."
              }
            ],
            "conclusion": "Differentiability implies continuity. The converse is false: $f(x) = |x|$ is continuous but not differentiable at $x = 0$."
          }
        }
      ],
      "exercises": [
        {
          "id": "5-34-1",
          "type": "exercise",
          "number": 1,
          "statement": "Let $f$ be defined for all real $x$, and suppose that $|f(x) - f(y)| \\leq (x - y)^2$ for all real $x$ and $y$. Prove that $f$ is constant.",
          "solution": {
            "steps": [
              {
                "title": "Examine the difference quotient",
                "content": "For $x \\neq y$:\n$\\left|\\frac{f(x) - f(y)}{x - y}\\right| \\leq |x - y|$"
              },
              {
                "title": "Take limit",
                "content": "As $y \\to x$: the right side goes to $0$.\n\nThus $f'(x) = \\lim_{y \\to x} \\frac{f(x) - f(y)}{x - y} = 0$ for all $x$."
              },
              {
                "title": "Conclude",
                "content": "A function with derivative $0$ everywhere is constant (by the Mean Value Theorem)."
              }
            ],
            "conclusion": "$f$ is constant. The condition says $f$ is \"Lipschitz with constant 0\" which forces constancy."
          }
        },
        {
          "id": "5-34-2",
          "type": "exercise",
          "number": 2,
          "statement": "Suppose $f'(x) > 0$ in $(a, b)$. Prove that $f$ is strictly increasing in $(a, b)$, and let $g$ be its inverse function. Prove that $g$ is differentiable, and that $g'(f(x)) = \\frac{1}{f'(x)}$ for $a < x < b$.",
          "solution": {
            "steps": [
              {
                "title": "Prove f is strictly increasing",
                "content": "If $a < x < y < b$, by MVT there exists $c \\in (x, y)$ with $f(y) - f(x) = f'(c)(y - x)$.\n\nSince $f'(c) > 0$ and $y - x > 0$, we get $f(y) > f(x)$."
              },
              {
                "title": "g is well-defined",
                "content": "Since $f$ is strictly increasing, it's one-to-one, so $g = f^{-1}$ exists on $f((a,b))$."
              },
              {
                "title": "Differentiate g",
                "content": "Let $y = f(x)$. For $k \\neq 0$ small:\n$\\frac{g(y + k) - g(y)}{k}$\n\nLet $h = g(y + k) - g(y)$. Then $f(x + h) = y + k$, so $k = f(x + h) - f(x)$."
              },
              {
                "title": "Compute derivative",
                "content": "$\\frac{g(y + k) - g(y)}{k} = \\frac{h}{f(x + h) - f(x)} = \\frac{1}{\\frac{f(x+h) - f(x)}{h}}$\n\nAs $k \\to 0$, $h \\to 0$ (by continuity of $g$), so this approaches $\\frac{1}{f'(x)}$."
              }
            ],
            "conclusion": "$g'(y) = \\frac{1}{f'(g(y))}$, or equivalently $g'(f(x)) = \\frac{1}{f'(x)}$."
          }
        },
        {
          "id": "5-34-3",
          "type": "exercise",
          "number": 3,
          "statement": "Suppose $g$ is a real function on $\\mathbb{R}$, with bounded derivative (say $|g'| \\leq M$). Fix $\\epsilon > 0$, and define $f(x) = x + \\epsilon g(x)$. Prove that $f$ is one-to-one if $\\epsilon$ is small enough.",
          "solution": {
            "steps": [
              {
                "title": "Compute f'",
                "content": "$f'(x) = 1 + \\epsilon g'(x)$"
              },
              {
                "title": "Ensure f' > 0",
                "content": "Since $|g'(x)| \\leq M$, we have $g'(x) \\geq -M$.\n\nThus $f'(x) = 1 + \\epsilon g'(x) \\geq 1 - \\epsilon M$."
              },
              {
                "title": "Choose ε",
                "content": "If $\\epsilon < 1/M$, then $1 - \\epsilon M > 0$, so $f'(x) > 0$ for all $x$."
              },
              {
                "title": "Conclude",
                "content": "By the previous exercise, $f'(x) > 0$ everywhere implies $f$ is strictly increasing, hence one-to-one."
              }
            ],
            "conclusion": "$f$ is one-to-one whenever $\\epsilon < 1/M$. This is useful in perturbation theory."
          }
        }
      ]
    },
    {
      "sectionId": 35,
      "sectionTitle": "Mean Value Theorems",
      "textbookSection": "5.7-5.11",
      "examples": [
        {
          "id": "ex-5-35-1",
          "type": "example",
          "title": "The Mean Value Theorem",
          "statement": "State and prove the Mean Value Theorem.",
          "solution": {
            "steps": [
              {
                "title": "Statement",
                "content": "If $f$ is continuous on $[a, b]$ and differentiable on $(a, b)$, then there exists $c \\in (a, b)$ such that $f(b) - f(a) = f'(c)(b - a)$."
              },
              {
                "title": "Define auxiliary function",
                "content": "Let $h(x) = f(x) - \\frac{f(b) - f(a)}{b - a}(x - a)$.\n\nThis is the difference between $f$ and the secant line."
              },
              {
                "title": "Verify Rolle's conditions",
                "content": "$h(a) = f(a)$ and $h(b) = f(b) - (f(b) - f(a)) = f(a)$.\n\nSo $h(a) = h(b)$, $h$ is continuous on $[a,b]$, differentiable on $(a,b)$."
              },
              {
                "title": "Apply Rolle's theorem",
                "content": "By Rolle, there exists $c \\in (a, b)$ with $h'(c) = 0$.\n\n$h'(x) = f'(x) - \\frac{f(b) - f(a)}{b - a}$, so $f'(c) = \\frac{f(b) - f(a)}{b - a}$."
              }
            ],
            "conclusion": "The MVT says the instantaneous rate of change equals the average rate of change somewhere. Geometrically: the tangent is parallel to the secant."
          }
        }
      ],
      "exercises": [
        {
          "id": "5-35-1",
          "type": "exercise",
          "number": 4,
          "statement": "If $f(x) = |x|^3$, compute $f'(x)$, $f''(x)$ for all real $x$, and show that $f'''(0)$ does not exist.",
          "solution": {
            "steps": [
              {
                "title": "Write f explicitly",
                "content": "$f(x) = \\begin{cases} x^3 & x \\geq 0 \\\\ -x^3 & x < 0 \\end{cases}$"
              },
              {
                "title": "Compute f'",
                "content": "For $x > 0$: $f'(x) = 3x^2$.\nFor $x < 0$: $f'(x) = -3x^2 = 3x^2$ (since $x < 0$, $-3x^2 = 3|x|^2$).\n\nActually: $f'(x) = 3x|x|$ for all $x$, which equals $3x^2$ for $x > 0$ and $-3x^2$ for $x < 0$.\n\nAt $x = 0$: $f'(0) = \\lim_{h \\to 0} \\frac{|h|^3}{h} = \\lim_{h \\to 0} h|h| = 0$."
              },
              {
                "title": "Compute f''",
                "content": "$f'(x) = 3x|x| = 3|x|^2 \\cdot \\text{sgn}(x) = 3x|x|$.\n\n$f''(x) = 6|x|$ for all $x$ (verified by computing left and right limits at 0)."
              },
              {
                "title": "Check f'''(0)",
                "content": "$f'''(0) = \\lim_{h \\to 0} \\frac{f''(h) - f''(0)}{h} = \\lim_{h \\to 0} \\frac{6|h|}{h}$.\n\nThis limit doesn't exist: $+6$ from right, $-6$ from left."
              }
            ],
            "conclusion": "$f'(x) = 3x|x|$, $f''(x) = 6|x|$, and $f'''(0)$ does not exist."
          }
        },
        {
          "id": "5-35-2",
          "type": "exercise",
          "number": 5,
          "statement": "Suppose $f$ is defined and differentiable for every $x > 0$, and $f'(x) \\to 0$ as $x \\to +\\infty$. Put $g(x) = f(x + 1) - f(x)$. Prove that $g(x) \\to 0$ as $x \\to +\\infty$.",
          "solution": {
            "steps": [
              {
                "title": "Apply MVT",
                "content": "By MVT, for each $x > 0$ there exists $c_x \\in (x, x+1)$ with:\n$g(x) = f(x+1) - f(x) = f'(c_x) \\cdot 1 = f'(c_x)$"
              },
              {
                "title": "Note c_x → ∞",
                "content": "Since $c_x > x$ and $x \\to +\\infty$, we have $c_x \\to +\\infty$."
              },
              {
                "title": "Use hypothesis",
                "content": "Since $f'(x) \\to 0$ as $x \\to +\\infty$, and $c_x \\to +\\infty$:\n$g(x) = f'(c_x) \\to 0$."
              }
            ],
            "conclusion": "$g(x) \\to 0$ as $x \\to +\\infty$. This says: if the derivative vanishes at infinity, so does the difference $f(x+1) - f(x)$."
          }
        },
        {
          "id": "5-35-3",
          "type": "exercise",
          "number": 6,
          "statement": "Suppose $f$ is continuous on $[a, b]$ and $f'(x)$ exists for every $x \\in (a, b)$. Suppose $f'(x) \\neq 0$ for $x \\in (a, b)$. Prove that there is no $x \\in (a, b)$ such that $f(x) = f(a) = f(b)$.",
          "solution": {
            "steps": [
              {
                "title": "Assume contrary",
                "content": "Suppose there exists $c \\in (a, b)$ with $f(c) = f(a)$."
              },
              {
                "title": "Apply Rolle to [a, c]",
                "content": "$f$ is continuous on $[a, c]$, differentiable on $(a, c)$, and $f(a) = f(c)$.\n\nBy Rolle's theorem, there exists $\\xi \\in (a, c)$ with $f'(\\xi) = 0$."
              },
              {
                "title": "Contradiction",
                "content": "But $\\xi \\in (a, c) \\subset (a, b)$, and we assumed $f'(x) \\neq 0$ for all $x \\in (a, b)$."
              }
            ],
            "conclusion": "If $f' \\neq 0$ on $(a, b)$, then $f$ is strictly monotonic, so $f(x) \\neq f(a)$ for $x \\in (a, b)$."
          }
        }
      ]
    },
    {
      "sectionId": 37,
      "sectionTitle": "L'Hospital's Rule",
      "textbookSection": "5.13",
      "examples": [],
      "exercises": [
        {
          "id": "5-37-1",
          "type": "exercise",
          "number": 7,
          "statement": "Suppose $f$ and $g$ are real differentiable functions on $(a, b)$, $g'(x) \\neq 0$ for $x \\in (a, b)$, and $\\lim_{x \\to a} f(x) = \\lim_{x \\to a} g(x) = 0$. Prove that if $\\lim_{x \\to a} \\frac{f'(x)}{g'(x)} = A$, then $\\lim_{x \\to a} \\frac{f(x)}{g(x)} = A$.",
          "solution": {
            "steps": [
              {
                "title": "Extend f and g to a",
                "content": "Define $f(a) = g(a) = 0$. Then $f$ and $g$ are continuous on $[a, x]$ for $x \\in (a, b)$."
              },
              {
                "title": "Apply Cauchy MVT",
                "content": "For $x \\in (a, b)$, by the generalized MVT, there exists $c \\in (a, x)$ with:\n$\\frac{f(x) - f(a)}{g(x) - g(a)} = \\frac{f'(c)}{g'(c)}$\n\nThat is: $\\frac{f(x)}{g(x)} = \\frac{f'(c)}{g'(c)}$."
              },
              {
                "title": "Take limit",
                "content": "As $x \\to a^+$, we have $c \\to a^+$ (since $a < c < x$).\n\nThus $\\frac{f(x)}{g(x)} = \\frac{f'(c)}{g'(c)} \\to A$."
              }
            ],
            "conclusion": "This is L'Hôpital's rule for the $0/0$ indeterminate form."
          }
        }
      ]
    },
    {
      "sectionId": 39,
      "sectionTitle": "Taylor's Theorem",
      "textbookSection": "5.15",
      "examples": [],
      "exercises": [
        {
          "id": "5-39-1",
          "type": "exercise",
          "number": 8,
          "statement": "Suppose $f$ is a real function on $[a, b]$, $n$ is a positive integer, $f^{(n-1)}$ is continuous on $[a, b]$, and $f^{(n)}$ exists for every $t \\in (a, b)$. Let $\\alpha, \\beta$ be distinct points of $[a, b]$. Define $P(t) = \\sum_{k=0}^{n-1} \\frac{f^{(k)}(\\alpha)}{k!}(t - \\alpha)^k$. Prove that there exists $x \\in (\\alpha, \\beta)$ such that $f(\\beta) = P(\\beta) + \\frac{f^{(n)}(x)}{n!}(\\beta - \\alpha)^n$.",
          "solution": {
            "steps": [
              {
                "title": "Define M",
                "content": "Let $M$ be the unique real number such that $f(\\beta) = P(\\beta) + M(\\beta - \\alpha)^n$."
              },
              {
                "title": "Define g(t)",
                "content": "Let $g(t) = f(t) - P(t) - M(t - \\alpha)^n$."
              },
              {
                "title": "Properties of g",
                "content": "Then $g(\\alpha) = f(\\alpha) - f(\\alpha) - 0 = 0$.\n$g(\\beta) = f(\\beta) - P(\\beta) - M(\\beta - \\alpha)^n = 0$ by choice of $M$.\n\nAlso $g^{(k)}(\\alpha) = 0$ for $k = 0, 1, \\ldots, n-1$ (the Taylor polynomial matches derivatives)."
              },
              {
                "title": "Apply Rolle repeatedly",
                "content": "Since $g(\\alpha) = g(\\beta) = 0$, there exists $x_1 \\in (\\alpha, \\beta)$ with $g'(x_1) = 0$.\nSince $g'(\\alpha) = 0$ and $g'(x_1) = 0$, there exists $x_2$ with $g''(x_2) = 0$.\n...\nContinuing, there exists $x$ with $g^{(n)}(x) = 0$."
              },
              {
                "title": "Compute g^(n)",
                "content": "$g^{(n)}(t) = f^{(n)}(t) - 0 - M \\cdot n! = f^{(n)}(t) - n! M$.\n\nSo $f^{(n)}(x) = n! M$, giving $M = \\frac{f^{(n)}(x)}{n!}$."
              }
            ],
            "conclusion": "This is Taylor's theorem with the Lagrange form of the remainder."
          }
        }
      ]
    }
  ]
}
