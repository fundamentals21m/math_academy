import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as l}from"./LessonLayout-sKo1Ukyt.js";import{D as r,E as i,C as t}from"./Callout-D6GJ8KQY.js";import{M as n,I as s}from"./MathBlock-uz1iP4cD.js";import"./vendor-react-Drj8qL0h.js";import"./index-LWQys88K.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-ySXQbKre.js";function u(){return e.jsxs(l,{sectionId:63,children:[e.jsx("h2",{children:"Smart Contract Integration"}),e.jsx("p",{children:"Integrating FROST signatures with smart contract platforms like Ethereum presents unique challenges, as most platforms natively support ECDSA rather than Schnorr signatures."}),e.jsx("h3",{children:"The Compatibility Challenge"}),e.jsxs(r,{title:"Signature Format Mismatch",children:[e.jsx("p",{children:"Most EVM chains use ECDSA with a specific format:"}),e.jsx(n,{children:"\\text{ECDSA: } (r, s, v) \\text{ format with recovery}"}),e.jsx(n,{children:"\\text{Schnorr (FROST): } (R, z) \\text{ format}"}),e.jsx("p",{className:"mt-4",children:"These formats are incompatible, requiring adaptation strategies."})]}),e.jsx("h3",{children:"Approach 1: Precompile Addition"}),e.jsxs(i,{title:"Schnorr Verification Precompile",children:[e.jsx("p",{children:"The cleanest solution is adding native Schnorr verification to the platform:"}),e.jsx("pre",{className:"bg-gray-800 p-4 rounded text-sm overflow-x-auto mt-3",children:`// Hypothetical Schnorr precompile
function verifySchnorr(
    bytes32 publicKeyX,
    uint8 publicKeyParity,
    bytes32 R_x,
    uint8 R_parity,
    bytes32 z,
    bytes32 message
) returns (bool)`}),e.jsx("p",{className:"mt-3",children:"This requires protocol-level changes (EIP for Ethereum) but provides the most efficient solution."})]}),e.jsx("h3",{children:"Approach 2: Zero-Knowledge Proofs"}),e.jsxs(r,{title:"ZK-SNARK Verification",children:[e.jsx("p",{children:"Verify the FROST signature off-chain, then prove correct verification on-chain:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Public inputs:"})," message ",e.jsx(s,{children:"m"}),", public key ",e.jsx(s,{children:"Y"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Private inputs:"})," signature"," ",e.jsx(s,{children:"(R, z)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Circuit proves:"})," ",e.jsx(s,{children:"[z]G = R + [H(R, Y, m)]Y"})]})]})]}),e.jsxs(i,{title:"ZK Verification Cost",children:[e.jsx("p",{children:"Approximate gas costs on Ethereum:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Native ECDSA:"})," approximately 3,000 gas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Groth16 proof verification:"})," approximately 200,000 gas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"PLONK proof verification:"})," approximately 300,000 gas"]})]}),e.jsx("p",{className:"mt-3",children:"ZK verification is significantly more expensive but works without protocol changes."})]}),e.jsx("h3",{children:"Approach 3: Threshold ECDSA"}),e.jsxs(t,{type:"info",children:[e.jsx("strong",{children:"Alternative:"})," Instead of adapting FROST to smart contracts, use threshold ECDSA which is natively compatible. Trade-offs:",e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[e.jsx("li",{children:"More communication rounds than FROST"}),e.jsx("li",{children:"More complex protocol"}),e.jsx("li",{children:"Native compatibility with existing infrastructure"})]})]}),e.jsx("h3",{children:"Cross-Chain Applications"}),e.jsxs(i,{title:"Bitcoin-Ethereum Bridge",children:[e.jsx("p",{children:"FROST enables trust-minimized cross-chain bridges:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Lock:"})," Bitcoin locked in FROST-controlled address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mint:"})," Wrapped BTC minted on Ethereum"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Burn:"})," Wrapped BTC burned, FROST signs Bitcoin release"]})]}),e.jsx("p",{className:"mt-3",children:"The FROST threshold ensures no single bridge operator can steal funds."})]}),e.jsx("h3",{children:"Ethereum 2.0 / Proof of Stake"}),e.jsxs(r,{title:"Validator Key Management",children:[e.jsx("p",{children:"FROST can protect Ethereum validator keys:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Withdrawal key:"})," FROST-shared for high security"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Signing key:"})," Potentially FROST-shared if latency permits"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Benefit:"})," Slashing protection through threshold control"]})]})]}),e.jsx("h3",{children:"Layer 2 Integration"}),e.jsxs(i,{title:"Rollup Sequencer Keys",children:[e.jsx("p",{children:"Layer 2 rollups can use FROST for sequencer key management:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-3",children:[e.jsx("li",{children:"Multiple sequencer operators share signing authority"}),e.jsx("li",{children:"Threshold prevents single sequencer from censoring"}),e.jsx("li",{children:"On-chain: Still appears as single signature"})]})]}),e.jsxs(t,{type:"warning",children:[e.jsx("strong",{children:"Latency Considerations:"})," Smart contract interactions often require low-latency signing. Ensure FROST participants are geographically distributed appropriately and preprocessing is adequate for expected transaction volume."]})]})}export{u as default};
