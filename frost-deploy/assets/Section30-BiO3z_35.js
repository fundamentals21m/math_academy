import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as t}from"./LessonLayout-MHc1mXdO.js";import{D as r,T as n,E as c,C as l}from"./Callout-D6GJ8KQY.js";import{I as i,M as s}from"./MathBlock-uz1iP4cD.js";import"./vendor-react-Drj8qL0h.js";import"./index-Dwb7rnsM.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-DiUM9hDs.js";function u(){return e.jsxs(t,{sectionId:30,children:[e.jsx("h2",{children:"Phase 2: Preprocessing"}),e.jsx("p",{children:"Preprocessing is what makes FROST achieve single-round signing. Participants generate commitment pairs in advance, enabling fast signature generation when needed without additional communication rounds."}),e.jsx("h3",{children:"Preprocessing Goal"}),e.jsxs(r,{title:"Preprocessing Objective",children:[e.jsxs("p",{children:["Generate reusable commitment pairs ",e.jsx(i,{children:"(D_i, E_i)"})," that can be:"]}),e.jsxs("ul",{className:"space-y-2 mt-3",children:[e.jsx("li",{children:"Created non-interactively (no coordination needed)"}),e.jsx("li",{children:"Prepared in batches well before signing"}),e.jsx("li",{children:"Used exactly once per signature"}),e.jsx("li",{children:"Independent of the message or signing set"})]})]}),e.jsx("h3",{children:"The Generation Process"}),e.jsxs("p",{children:["Each participant ",e.jsx(i,{children:"P_i"})," generates ",e.jsx(i,{children:"\\pi"}),"commitment pairs (where ",e.jsx(i,{children:"\\pi"})," is the batch size):"]}),e.jsxs("div",{className:"space-y-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-indigo-500/30",children:[e.jsx("h4",{className:"font-semibold text-indigo-400 mb-2",children:"Step 1: Sample Random Nonces"}),e.jsxs("p",{className:"text-sm mb-3",children:["For each ",e.jsx(i,{children:"j = 1, \\ldots, \\pi"}),", sample:"]}),e.jsx(s,{children:"d_{i,j}, e_{i,j} \\stackrel{\\$}{\\leftarrow} \\mathbb{Z}_q"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-emerald-500/30",children:[e.jsx("h4",{className:"font-semibold text-emerald-400 mb-2",children:"Step 2: Compute Commitments"}),e.jsx("p",{className:"text-sm mb-3",children:"Compute the corresponding curve points:"}),e.jsx(s,{children:"D_{i,j} = [d_{i,j}]G, \\quad E_{i,j} = [e_{i,j}]G"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-amber-500/30",children:[e.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"Step 3: Publish and Store"}),e.jsx("p",{className:"text-sm",children:"Publish the commitment list:"}),e.jsx(s,{children:"L_i = [(D_{i,1}, E_{i,1}), (D_{i,2}, E_{i,2}), \\ldots, (D_{i,\\pi}, E_{i,\\pi})]"}),e.jsx("p",{className:"text-sm mt-3",children:"Store private values securely for later use:"}),e.jsx(s,{children:"\\{(d_{i,j}, e_{i,j}) : j = 1, \\ldots, \\pi\\}"})]})]}),e.jsx("h3",{children:"Key Properties"}),e.jsx(n,{title:"Preprocessing Properties",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Non-interactive:"})," Each participant generates their commitments independently. No coordination or communication required."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Offline preparation:"})," Can be done in advance during idle time, before any signing request arrives."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"One-time use:"})," Each ",e.jsx(i,{children:"(D_{i,j}, E_{i,j})"}),"pair is used for exactly one signature, then discarded."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Message-independent:"})," Commitments don't depend on what message will be signed, enabling pre-computation."]})]})}),e.jsx("h3",{children:"Storage Requirements"}),e.jsxs(c,{title:"Preprocessing Storage",children:[e.jsxs("p",{className:"mb-4",children:["For a batch size ",e.jsx(i,{children:"\\pi = 1000"}),":"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-emerald-400 font-semibold mb-2",children:"Public (published):"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"1000 pairs of curve points"}),e.jsx("li",{children:"~64 KB per participant"}),e.jsx("li",{children:"Can be stored on coordinator"})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-rose-400 font-semibold mb-2",children:"Private (secure storage):"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"1000 pairs of scalars"}),e.jsx("li",{children:"~64 KB per participant"}),e.jsx("li",{children:"Must be kept secure!"})]})]})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"This enables 1000 signatures before needing new preprocessing."})]}),e.jsx("h3",{children:"Usage During Signing"}),e.jsx("p",{children:"When a signing session begins:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 my-4",children:[e.jsxs("li",{children:["The coordinator selects the next unused commitment from each signer:",e.jsx(s,{children:"\\text{For } i \\in S: \\text{ take next unused } (D_i, E_i)"})]}),e.jsxs("li",{children:["These form the commitment list ",e.jsx(i,{children:"B"})," for binding:",e.jsx(s,{children:"B = [(i_1, D_{i_1}, E_{i_1}), (i_2, D_{i_2}, E_{i_2}), \\ldots]"})]}),e.jsx("li",{children:"After signing, the used commitment pair is marked and never reused"})]}),e.jsxs(l,{type:"error",children:[e.jsx("strong",{children:"Critical Security Rule:"})," Each commitment pair must be used exactly once. Reusing ",e.jsx(i,{children:"(d_i, e_i)"})," with different messages enables key extraction attacks, similar to the nonce reuse catastrophe in standard Schnorr."]}),e.jsx("h3",{children:"Why Two Commitments?"}),e.jsxs("p",{children:["The dual commitment ",e.jsx(i,{children:"(D_i, E_i)"})," structure enables the binding mechanism:"]}),e.jsx(s,{children:"R_i = D_i + [\\rho_i]E_i"}),e.jsx(r,{title:"Dual Commitment Purpose",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{children:[e.jsx(i,{children:"D_i"}),": Provides base randomness independent of session"]}),e.jsxs("li",{children:[e.jsx(i,{children:"E_i"}),": Enables binding via multiplication by ",e.jsx(i,{children:"\\rho_i"})]}),e.jsxs("li",{children:["The combination creates a session-specific commitment while keeping",e.jsx(i,{children:"d_i, e_i"})," hidden"]})]})}),e.jsx("h3",{children:"Batch Size Tradeoffs"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-emerald-500/30",children:[e.jsxs("h4",{className:"font-semibold text-emerald-400 mb-2",children:["Large Batches (",e.jsx(i,{children:"\\pi"})," big)"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"+ More signatures before re-preprocessing"}),e.jsx("li",{children:"+ Better amortization of setup cost"}),e.jsx("li",{children:"- More storage required"}),e.jsx("li",{children:"- Slight security parameter impact"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-amber-500/30",children:[e.jsxs("h4",{className:"font-semibold text-amber-400 mb-2",children:["Small Batches (",e.jsx(i,{children:"\\pi"})," small)"]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"+ Less storage needed"}),e.jsx("li",{children:"+ Tighter security bounds"}),e.jsx("li",{children:"- More frequent preprocessing"}),e.jsx("li",{children:"- Higher amortized cost"})]})]})]}),e.jsx("h3",{children:"Nonce Deletion"}),e.jsxs(n,{title:"Secure Nonce Management",children:[e.jsx("p",{children:"After a commitment pair is used for signing:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-3",children:[e.jsxs("li",{children:["Immediately delete ",e.jsx(i,{children:"d_i, e_i"})," from storage"]}),e.jsx("li",{children:"Mark the commitment as used in the index"}),e.jsx("li",{children:"Never allow the commitment to be selected again"})]}),e.jsx("p",{className:"mt-3",children:"This prevents accidental reuse, which would be catastrophic."})]}),e.jsxs(l,{type:"info",children:[e.jsx("strong",{children:"Implementation Note:"})," Good implementations use a monotonic counter to track which commitments are used, ensuring forward-only progress even if software crashes mid-signing."]}),e.jsx("h3",{children:"Summary"}),e.jsx(r,{title:"Preprocessing Summary",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"When:"})," Anytime before signing (idle periods, setup)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"What:"})," Generate ",e.jsx(i,{children:"\\pi"})," pairs of",e.jsx(i,{children:"(D_i, E_i)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"How:"})," Non-interactively, each participant independently"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Result:"})," Enables single-round signing for next ",e.jsx(i,{children:"\\pi"})," signatures"]})]})}),e.jsx("p",{children:"With preprocessing complete, signing requires only a single round of communicationâ€” the key efficiency advantage of FROST."})]})}export{u as default};
