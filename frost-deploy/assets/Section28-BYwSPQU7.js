import{j as e,m as a,A as u}from"./vendor-animation-0o8UKZ_1.js";import{L as j,D as o,E as b,T as f,C as m}from"./Callout-CQOyP6I7.js";import{I as i}from"./MathBlock-uz1iP4cD.js";import{r as h}from"./vendor-react-Drj8qL0h.js";import"./index-DuspoTuy.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-ySXQbKre.js";const d=[{id:"dkg",title:"DKG",subtitle:"Key Generation",rounds:"2 rounds",color:"#8b5cf6",inputs:["Security parameter","Participant identities","Threshold t, n"],outputs:["Group public key Y","Individual shares sᵢ","Verification shares Yᵢ"],description:"Distributed Key Generation creates the shared secret without any single party knowing it. Each participant contributes randomness, and Feldman commitments enable verification."},{id:"preprocessing",title:"Preprocessing",subtitle:"Commitment Generation",rounds:"0 rounds",color:"#10b981",inputs:["Individual shares sᵢ","Random seed"],outputs:["Commitment pairs (Dᵢ, Eᵢ)","Private nonces (dᵢ, eᵢ)"],description:"Non-interactive phase where participants generate batches of commitment pairs. Can be done offline during idle time. Each pair is used exactly once for signing."},{id:"signing",title:"Signing",subtitle:"Single Round!",rounds:"1 round",color:"#3b82f6",inputs:["Message m","Signing set S","Preprocessed commitments"],outputs:["Signature (R, z)","Standard Schnorr format"],description:"The magic of FROST: signing completes in a single communication round! Coordinator collects commitments, signers compute shares, and the final signature is aggregated."}];function N(){const[t,x]=h.useState(null),[n,c]=h.useState(0),p=s=>{x(t===s?null:s)},g=()=>{c(0);let s=0;const r=setInterval(()=>{s++,c(s),s>=4&&clearInterval(r)},800)};return e.jsxs("div",{className:"p-4 bg-dark-900/80 rounded-xl border border-dark-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-indigo-400",children:"FROST Protocol Overview"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-indigo-500/20 text-indigo-400 rounded-lg text-sm font-medium hover:bg-indigo-500/30 transition-colors border border-indigo-500/50",children:"Animate Flow"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-1 bg-dark-700 -translate-y-1/2 mx-8"}),e.jsx(a.div,{className:"absolute top-1/2 left-8 h-1 bg-gradient-to-r from-violet-500 via-emerald-500 to-blue-500 -translate-y-1/2",initial:{width:0},animate:{width:n>=3?"calc(100% - 4rem)":n>=2?"66%":n>=1?"33%":0},transition:{duration:.6,ease:"easeOut"}}),e.jsx("div",{className:"relative flex justify-between items-center px-4",children:d.map((s,r)=>e.jsxs(a.div,{className:"relative z-10 cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:n>r?1:.5,y:0,scale:t===s.id?1.05:1},transition:{delay:r*.2,duration:.3},onClick:()=>p(s.id),children:[e.jsxs("div",{className:`w-36 p-4 rounded-xl border-2 transition-all ${t===s.id?"bg-dark-800 shadow-lg":"bg-dark-900 hover:bg-dark-800"}`,style:{borderColor:t===s.id?s.color:"#374151"},children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold mb-2 mx-auto",style:{backgroundColor:s.color},children:r+1}),e.jsx("h5",{className:"text-center font-semibold text-dark-100",children:s.title}),e.jsx("p",{className:"text-center text-xs mt-1",style:{color:s.color},children:s.subtitle}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:`${s.color}20`,color:s.color},children:s.rounds})})]}),r<d.length-1&&e.jsx(a.div,{className:"absolute top-1/2 -right-8 -translate-y-1/2",animate:{opacity:n>r?1:.3,x:n>r?[0,4,0]:0},transition:{repeat:1/0,duration:1.5},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:s.color,strokeWidth:"2",children:e.jsx("path",{d:"M9 6l6 6-6 6"})})})]},s.id))})]}),e.jsx(u,{mode:"wait",children:t&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 overflow-hidden",children:d.filter(s=>s.id===t).map(s=>e.jsxs("div",{className:"p-4 rounded-xl border",style:{backgroundColor:`${s.color}10`,borderColor:`${s.color}40`},children:[e.jsx("p",{className:"text-dark-200 mb-4",children:s.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-900/50 rounded-lg",children:[e.jsxs("h6",{className:"text-sm font-semibold text-dark-300 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-rose-400",children:"→"})," Inputs"]}),e.jsx("ul",{className:"space-y-1",children:s.inputs.map((r,l)=>e.jsxs("li",{className:"text-sm text-dark-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-400"}),r]},l))})]}),e.jsxs("div",{className:"p-3 bg-dark-900/50 rounded-lg",children:[e.jsxs("h6",{className:"text-sm font-semibold text-dark-300 mb-2 flex items-center gap-2",children:[e.jsx("span",{className:"text-emerald-400",children:"←"})," Outputs"]}),e.jsx("ul",{className:"space-y-1",children:s.outputs.map((r,l)=>e.jsxs("li",{className:"text-sm text-dark-300 flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),r]},l))})]})]})]},s.id))},t)}),e.jsxs("div",{className:"mt-6 p-4 bg-dark-800/50 rounded-lg border border-dark-700/50",children:[e.jsx("h5",{className:"text-sm font-semibold text-dark-200 mb-3",children:"Communication Rounds Comparison"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-violet-400",children:"2"}),e.jsx("div",{className:"text-xs text-dark-400",children:"DKG (one-time)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:"0"}),e.jsx("div",{className:"text-xs text-dark-400",children:"Preprocessing"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"1"}),e.jsx("div",{className:"text-xs text-dark-400",children:"Each signature"})]})]}),e.jsx("p",{className:"text-center text-sm text-amber-400 mt-3",children:"vs. 3+ rounds for traditional threshold schemes"})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-lg border border-blue-500/30",children:e.jsxs("p",{className:"text-sm text-blue-200",children:[e.jsx("strong",{children:"Key Insight:"})," FROST achieves single-round signing by moving commitment generation to the preprocessing phase. Participants generate batches of (D, E) pairs in advance, enabling instant response when signing is needed."]})})]})}function R(){return e.jsxs(j,{sectionId:28,children:[e.jsx("h2",{children:"Protocol Overview"}),e.jsx("p",{children:"Having explored the mathematical components individually, we now assemble the complete FROST protocol. This section provides the roadmap; subsequent sections detail each phase."}),e.jsx("h3",{children:"The Three Phases"}),e.jsxs(o,{title:"FROST Protocol Structure",children:[e.jsx("p",{children:"FROST operates in three distinct phases:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Key Generation (DKG):"})," Generate long-term key shares (performed once)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Preprocessing:"})," Generate commitment pairs (can be done in advance)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Signing:"})," Produce the threshold signature (fast, single round)"]})]})]}),e.jsx(N,{}),e.jsx("h3",{children:"Participants and Roles"}),e.jsx(b,{title:"Protocol Participants",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsxs("p",{className:"text-indigo-400 font-semibold mb-2",children:["Participants ",e.jsx(i,{children:"P_1, P_2, \\ldots, P_n"})]}),e.jsxs("p",{className:"text-sm",children:["Each holds a secret share ",e.jsx(i,{children:"s_i"})," and verification key ",e.jsx(i,{children:"Y_i"}),". Any ",e.jsx(i,{children:"t"})," of them can cooperate to sign."]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-emerald-400 font-semibold mb-2",children:"Coordinator (optional role)"}),e.jsx("p",{className:"text-sm",children:"Collects commitments and signature shares, aggregates the final signature. Can be any participant; role can rotate."})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsxs("p",{className:"text-amber-400 font-semibold mb-2",children:["Signing Set ",e.jsx(i,{children:"S"})]}),e.jsxs("p",{className:"text-sm",children:["The specific ",e.jsx(i,{children:"t"})," participants cooperating for a particular signature. Different signatures can use different sets."]})]})]})}),e.jsx("h3",{children:"Protocol Parameters"}),e.jsx(o,{title:"FROST Parameters",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:[e.jsx(i,{children:"n"}),": Total number of participants"]}),e.jsxs("li",{children:[e.jsx(i,{children:"t"}),": Threshold (minimum required to sign), where ",e.jsx(i,{children:"1 < t \\leq n"})]}),e.jsxs("li",{children:[e.jsx(i,{children:"\\pi"}),": Preprocessing batch size (commitment pairs per batch)"]}),e.jsxs("li",{children:[e.jsx(i,{children:"G"}),": Elliptic curve generator point"]}),e.jsxs("li",{children:[e.jsx(i,{children:"q"}),": Order of the elliptic curve group"]})]})}),e.jsx("h3",{children:"What Each Phase Produces"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-indigo-500/30",children:[e.jsx("h4",{className:"font-semibold text-indigo-400 mb-3",children:"After DKG"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["Group public key ",e.jsx(i,{children:"Y"})]}),e.jsxs("li",{children:["Each participant's share ",e.jsx(i,{children:"s_i"})]}),e.jsxs("li",{children:["Verification shares ",e.jsx(i,{children:"Y_i"})]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-emerald-500/30",children:[e.jsx("h4",{className:"font-semibold text-emerald-400 mb-3",children:"After Preprocessing"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["Commitment pairs ",e.jsx(i,{children:"(D_i, E_i)"})]}),e.jsxs("li",{children:["Private nonces ",e.jsx(i,{children:"(d_i, e_i)"})]}),e.jsxs("li",{children:[e.jsx(i,{children:"\\pi"})," pairs per batch"]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-amber-500/30",children:[e.jsx("h4",{className:"font-semibold text-amber-400 mb-3",children:"After Signing"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["Signature ",e.jsx(i,{children:"(R, z)"})]}),e.jsx("li",{children:"Valid Schnorr signature"}),e.jsxs("li",{children:["Verifies with ",e.jsx(i,{children:"Y"})]})]})]})]}),e.jsx("h3",{children:"Round Complexity"}),e.jsxs(f,{title:"FROST Communication Rounds",children:[e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"DKG:"})," 2 rounds (commitment broadcast, share distribution)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Preprocessing:"})," 1 round (non-interactive, can be async)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Signing:"})," 1 round (with preprocessing done in advance)"]})]}),e.jsx("p",{className:"mt-4",children:"The key insight: preprocessing amortizes the commitment exchange, making each signature require only a single round of communication."})]}),e.jsxs(m,{type:"success",children:[e.jsx("strong",{children:'"Single-Round" Signing:'})," This is FROST's headline feature. With preprocessing done ahead of time, producing a threshold signature requires only one round of communication among the signing set."]}),e.jsx("h3",{children:"Security Throughout"}),e.jsx("p",{children:"Each phase maintains critical security properties:"}),e.jsxs("div",{className:"space-y-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50",children:[e.jsx("h4",{className:"font-semibold text-indigo-400 mb-2",children:"DKG Security"}),e.jsxs("p",{className:"text-sm",children:["No single party ever knows ",e.jsx(i,{children:"s"}),". Each contributes randomness, and shares are verifiable via Feldman commitments."]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50",children:[e.jsx("h4",{className:"font-semibold text-emerald-400 mb-2",children:"Preprocessing Security"}),e.jsxs("p",{className:"text-sm",children:["Commitments are random and independent. Secret nonces ",e.jsx(i,{children:"d_i, e_i"}),"are used exactly once then deleted."]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-dark-700/50",children:[e.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"Signing Security"}),e.jsx("p",{className:"text-sm",children:"Binding prevents cross-session attacks. Signature shares are verifiable. Final signature is indistinguishable from single-party Schnorr."})]})]}),e.jsx("h3",{children:"What's Next"}),e.jsx("p",{children:"The following sections detail each phase:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Phase 1: DKG"})," — How participants jointly generate the group key without any party knowing the complete secret"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Phase 2: Preprocessing"})," — Non-interactive generation of commitment pairs for future signatures"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Phase 3: Signing"})," — The single-round signing protocol that produces a standard Schnorr signature"]})]}),e.jsxs(m,{type:"info",children:[e.jsx("strong",{children:"Implementation Note:"})," In practice, DKG happens once during setup. Preprocessing runs periodically to replenish commitment pairs. Signing happens as needed, consuming one commitment pair per signature."]})]})}export{R as default};
