import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as a}from"./LessonLayout-sKo1Ukyt.js";import{D as l,E as i,C as d,T as c}from"./Callout-D6GJ8KQY.js";import{I as s,M as r}from"./MathBlock-uz1iP4cD.js";import"./vendor-react-Drj8qL0h.js";import"./index-LWQys88K.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";import"./quizMap-ySXQbKre.js";function f(){return e.jsxs(a,{sectionId:17,children:[e.jsx("h2",{children:"Concrete Example: Share Conversion"}),e.jsx("p",{children:"Let's work through a complete numerical example of converting additive shares to polynomial shares and back. This will cement your understanding of the transformation theorem."}),e.jsx("h3",{children:"Setup"}),e.jsxs("p",{children:["Consider a 3-of-5 threshold scheme where participants ","{1, 2, 3}"," are signing."]}),e.jsx(l,{title:"Our Example Parameters",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{children:["Threshold: ",e.jsx(s,{children:"t = 3"})]}),e.jsxs("li",{children:["Total participants: ",e.jsx(s,{children:"n = 5"})]}),e.jsxs("li",{children:["Signing set: ",e.jsx(s,{children:"S = \\{1, 2, 3\\}"})]})]})}),e.jsx("h3",{children:"Step 1: Generate Additive Nonce Shares"}),e.jsx("p",{children:"Each participant independently generates a random nonce share:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-indigo-500/30",children:[e.jsx("h4",{className:"font-semibold text-indigo-400 mb-2",children:"Participant 1"}),e.jsx(r,{children:"k_1 = 100"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-emerald-500/30",children:[e.jsx("h4",{className:"font-semibold text-emerald-400 mb-2",children:"Participant 2"}),e.jsx(r,{children:"k_2 = 200"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-amber-500/30",children:[e.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"Participant 3"}),e.jsx(r,{children:"k_3 = 150"})]})]}),e.jsx("p",{children:"The group nonce (which no one computes directly) is:"}),e.jsx(r,{children:"k = k_1 + k_2 + k_3 = 100 + 200 + 150 = 450"}),e.jsx("h3",{children:"Step 2: Compute Lagrange Coefficients"}),e.jsx(i,{title:"Lagrange Coefficients for Signing Set {1, 2, 3}",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-indigo-400 font-semibold",children:"For participant 1:"}),e.jsx(r,{children:"\\lambda_1 = \\frac{(0-2)(0-3)}{(1-2)(1-3)} = \\frac{(-2)(-3)}{(-1)(-2)} = \\frac{6}{2} = 3"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-emerald-400 font-semibold",children:"For participant 2:"}),e.jsx(r,{children:"\\lambda_2 = \\frac{(0-1)(0-3)}{(2-1)(2-3)} = \\frac{(-1)(-3)}{(1)(-1)} = \\frac{3}{-1} = -3"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50",children:[e.jsx("p",{className:"text-amber-400 font-semibold",children:"For participant 3:"}),e.jsx(r,{children:"\\lambda_3 = \\frac{(0-1)(0-2)}{(3-1)(3-2)} = \\frac{(-1)(-2)}{(2)(1)} = \\frac{2}{2} = 1"})]})]})}),e.jsxs(d,{type:"info",children:[e.jsx("strong",{children:"Sanity Check:"}),e.jsx(r,{children:"\\lambda_1 + \\lambda_2 + \\lambda_3 = 3 + (-3) + 1 = 1 \\quad \\checkmark"})]}),e.jsx("h3",{children:"Step 3: Convert to Polynomial Shares"}),e.jsxs("p",{children:["Using the transformation ",e.jsx(s,{children:"\\tilde{k}_i = k_i / \\lambda_i"}),":"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 my-6",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-indigo-500/30",children:[e.jsx("h4",{className:"font-semibold text-indigo-400 mb-2",children:"Participant 1"}),e.jsx(r,{children:"\\tilde{k}_1 = \\frac{100}{3} = \\frac{100}{3}"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-emerald-500/30",children:[e.jsx("h4",{className:"font-semibold text-emerald-400 mb-2",children:"Participant 2"}),e.jsx(r,{children:"\\tilde{k}_2 = \\frac{200}{-3} = -\\frac{200}{3}"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-800/50 border border-amber-500/30",children:[e.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"Participant 3"}),e.jsx(r,{children:"\\tilde{k}_3 = \\frac{150}{1} = 150"})]})]}),e.jsxs(d,{type:"warning",children:[e.jsx("strong",{children:"Note:"})," In practice, all arithmetic is done modulo ",e.jsx(s,{children:"q"}),"(the group order), so there are no fractions - division is multiplication by the modular inverse."]}),e.jsx("h3",{children:"Step 4: Verify Reconstruction"}),e.jsxs("p",{children:["Let's verify that the polynomial shares reconstruct to the same ",e.jsx(s,{children:"k"}),":"]}),e.jsx(r,{children:"k = \\sum_{i=1}^{3} \\tilde{k}_i \\cdot \\lambda_i"}),e.jsx(r,{children:"k = \\frac{100}{3} \\cdot 3 + \\left(-\\frac{200}{3}\\right) \\cdot (-3) + 150 \\cdot 1"}),e.jsx(r,{children:"k = 100 + 200 + 150 = 450 \\quad \\checkmark"}),e.jsx(i,{title:"The Complete Transformation",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left p-3",children:"Participant"}),e.jsx("th",{className:"text-left p-3",children:"Additive Share"}),e.jsx("th",{className:"text-left p-3",children:"Lagrange Coeff"}),e.jsx("th",{className:"text-left p-3",children:"Polynomial Share"}),e.jsx("th",{className:"text-left p-3",children:"Contribution"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-dark-700/50",children:[e.jsx("td",{className:"p-3",children:"1"}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"k_1 = 100"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\lambda_1 = 3"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\tilde{k}_1 = 100/3"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"100"})})]}),e.jsxs("tr",{className:"border-b border-dark-700/50",children:[e.jsx("td",{className:"p-3",children:"2"}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"k_2 = 200"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\lambda_2 = -3"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\tilde{k}_2 = -200/3"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"200"})})]}),e.jsxs("tr",{className:"border-b border-dark-700/50",children:[e.jsx("td",{className:"p-3",children:"3"}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"k_3 = 150"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\lambda_3 = 1"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"\\tilde{k}_3 = 150"})}),e.jsx("td",{className:"p-3",children:e.jsx(s,{children:"150"})})]}),e.jsxs("tr",{className:"border-t border-dark-700",children:[e.jsx("td",{className:"p-3 font-semibold",colSpan:4,children:"Total (reconstructed k)"}),e.jsx("td",{className:"p-3 font-semibold",children:e.jsx(s,{children:"450"})})]})]})]})})}),e.jsx("h3",{children:"What About the Inverse?"}),e.jsxs("p",{children:["We can also convert polynomial shares to additive. Given the polynomial shares",e.jsx(s,{children:"s_1, s_2, s_3"})," of the secret key:"]}),e.jsx(r,{children:"\\tilde{s}_i = s_i \\cdot \\lambda_i"}),e.jsx("p",{children:"These are additive shares because:"}),e.jsx(r,{children:"\\sum_i \\tilde{s}_i = \\sum_i s_i \\cdot \\lambda_i = s"}),e.jsxs(i,{title:"Polynomial to Additive Conversion",children:[e.jsxs("p",{className:"mb-4",children:["If our polynomial shares of ",e.jsx(s,{children:"s"})," are:"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsx("div",{className:"p-2 rounded bg-dark-800/50",children:e.jsx(s,{children:"s_1 = 42"})}),e.jsx("div",{className:"p-2 rounded bg-dark-800/50",children:e.jsx(s,{children:"s_2 = 67"})}),e.jsx("div",{className:"p-2 rounded bg-dark-800/50",children:e.jsx(s,{children:"s_3 = 31"})})]}),e.jsx("p",{className:"mb-4",children:"Then the additive equivalents are:"}),e.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[e.jsx("p",{children:e.jsx(s,{children:"\\tilde{s}_1 = 42 \\cdot 3 = 126"})}),e.jsx("p",{children:e.jsx(s,{children:"\\tilde{s}_2 = 67 \\cdot (-3) = -201"})}),e.jsx("p",{children:e.jsx(s,{children:"\\tilde{s}_3 = 31 \\cdot 1 = 31"})})]}),e.jsxs("p",{className:"mt-4",children:["Sum: ",e.jsx(s,{children:"126 + (-201) + 31 = -44 = s"})," (the secret)"]})]}),e.jsx("h3",{children:"Key Takeaway"}),e.jsxs(c,{title:"Share Conversion Principle",children:[e.jsx("p",{children:"Lagrange coefficients bridge additive and polynomial shares:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-3",children:[e.jsxs("li",{children:["Multiply polynomial shares by ",e.jsx(s,{children:"\\lambda_i"})," to get additive"]}),e.jsxs("li",{children:["Divide additive shares by ",e.jsx(s,{children:"\\lambda_i"})," to get polynomial"]}),e.jsx("li",{children:"Both representations reconstruct to the same secret"})]})]}),e.jsx("p",{children:"This transformation is the key insight that enables FROST to combine additively-shared nonces with polynomially-shared secret keys in a single computation."})]})}export{f as default};
