var QE=Object.defineProperty;var JE=(t,e,i)=>e in t?QE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Es=(t,e,i)=>JE(t,typeof e!="symbol"?e+"":e,i);function eq(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(n,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();function tq(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B7={exports:{}},wp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sq=Symbol.for("react.transitional.element"),iq=Symbol.for("react.fragment");function L7(t,e,i){var n=null;if(i!==void 0&&(n=""+i),e.key!==void 0&&(n=""+e.key),"key"in e){i={};for(var r in e)r!=="key"&&(i[r]=e[r])}else i=e;return e=i.ref,{$$typeof:sq,type:t,key:n,ref:e!==void 0?e:null,props:i}}wp.Fragment=iq;wp.jsx=L7;wp.jsxs=L7;B7.exports=wp;var s=B7.exports,U7={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=Symbol.for("react.transitional.element"),nq=Symbol.for("react.portal"),rq=Symbol.for("react.fragment"),aq=Symbol.for("react.strict_mode"),lq=Symbol.for("react.profiler"),oq=Symbol.for("react.consumer"),cq=Symbol.for("react.context"),dq=Symbol.for("react.forward_ref"),hq=Symbol.for("react.suspense"),uq=Symbol.for("react.memo"),F7=Symbol.for("react.lazy"),mq=Symbol.for("react.activity"),o3=Symbol.iterator;function pq(t){return t===null||typeof t!="object"?null:(t=o3&&t[o3]||t["@@iterator"],typeof t=="function"?t:null)}var H7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G7=Object.assign,V7={};function Hc(t,e,i){this.props=t,this.context=e,this.refs=V7,this.updater=i||H7}Hc.prototype.isReactComponent={};Hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W7(){}W7.prototype=Hc.prototype;function B2(t,e,i){this.props=t,this.context=e,this.refs=V7,this.updater=i||H7}var L2=B2.prototype=new W7;L2.constructor=B2;G7(L2,Hc.prototype);L2.isPureReactComponent=!0;var c3=Array.isArray;function q1(){}var It={H:null,A:null,T:null,S:null},Z7=Object.prototype.hasOwnProperty;function U2(t,e,i){var n=i.ref;return{$$typeof:$2,type:t,key:e,ref:n!==void 0?n:null,props:i}}function fq(t,e){return U2(t.type,e,t.props)}function F2(t){return typeof t=="object"&&t!==null&&t.$$typeof===$2}function xq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var d3=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xq(""+t.key):e.toString(36)}function gq(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(q1,q1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Lo(t,e,i,n,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case $2:case nq:l=!0;break;case F7:return l=t._init,Lo(l(t._payload),e,i,n,r)}}if(l)return r=r(t),l=n===""?"."+Af(t,0):n,c3(r)?(i="",l!=null&&(i=l.replace(d3,"$&/")+"/"),Lo(r,e,i,"",function(h){return h})):r!=null&&(F2(r)&&(r=fq(r,i+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(d3,"$&/")+"/")+l)),e.push(r)),1;l=0;var c=n===""?".":n+":";if(c3(t))for(var d=0;d<t.length;d++)n=t[d],a=c+Af(n,d),l+=Lo(n,e,i,a,r);else if(d=pq(t),typeof d=="function")for(t=d.call(t),d=0;!(n=t.next()).done;)n=n.value,a=c+Af(n,d++),l+=Lo(n,e,i,a,r);else if(a==="object"){if(typeof t.then=="function")return Lo(gq(t),e,i,n,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function Fh(t,e,i){if(t==null)return t;var n=[],r=0;return Lo(t,n,"","",function(a){return e.call(i,a,r++)}),n}function bq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var h3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yq={map:Fh,forEach:function(t,e,i){Fh(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!F2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Activity=mq;Ze.Children=yq;Ze.Component=Hc;Ze.Fragment=rq;Ze.Profiler=lq;Ze.PureComponent=B2;Ze.StrictMode=aq;Ze.Suspense=hq;Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;Ze.__COMPILER_RUNTIME={__proto__:null,c:function(t){return It.H.useMemoCache(t)}};Ze.cache=function(t){return function(){return t.apply(null,arguments)}};Ze.cacheSignal=function(){return null};Ze.cloneElement=function(t,e,i){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=G7({},t.props),r=t.key;if(e!=null)for(a in e.key!==void 0&&(r=""+e.key),e)!Z7.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=i;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];n.children=l}return U2(t.type,r,n)};Ze.createContext=function(t){return t={$$typeof:cq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:oq,_context:t},t};Ze.createElement=function(t,e,i){var n,r={},a=null;if(e!=null)for(n in e.key!==void 0&&(a=""+e.key),e)Z7.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(r[n]=e[n]);var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return U2(t,a,r)};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:dq,render:t}};Ze.isValidElement=F2;Ze.lazy=function(t){return{$$typeof:F7,_payload:{_status:-1,_result:t},_init:bq}};Ze.memo=function(t,e){return{$$typeof:uq,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=It.T,i={};It.T=i;try{var n=t(),r=It.S;r!==null&&r(i,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(q1,h3)}catch(a){h3(a)}finally{e!==null&&i.types!==null&&(e.types=i.types),It.T=e}};Ze.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()};Ze.use=function(t){return It.H.use(t)};Ze.useActionState=function(t,e,i){return It.H.useActionState(t,e,i)};Ze.useCallback=function(t,e){return It.H.useCallback(t,e)};Ze.useContext=function(t){return It.H.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t,e){return It.H.useDeferredValue(t,e)};Ze.useEffect=function(t,e){return It.H.useEffect(t,e)};Ze.useEffectEvent=function(t){return It.H.useEffectEvent(t)};Ze.useId=function(){return It.H.useId()};Ze.useImperativeHandle=function(t,e,i){return It.H.useImperativeHandle(t,e,i)};Ze.useInsertionEffect=function(t,e){return It.H.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return It.H.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return It.H.useMemo(t,e)};Ze.useOptimistic=function(t,e){return It.H.useOptimistic(t,e)};Ze.useReducer=function(t,e,i){return It.H.useReducer(t,e,i)};Ze.useRef=function(t){return It.H.useRef(t)};Ze.useState=function(t){return It.H.useState(t)};Ze.useSyncExternalStore=function(t,e,i){return It.H.useSyncExternalStore(t,e,i)};Ze.useTransition=function(){return It.H.useTransition()};Ze.version="19.2.3";U7.exports=Ze;var Z=U7.exports;const vq=tq(Z),jq=eq({__proto__:null,default:vq},[Z]);var Y7={exports:{}},Np={},X7={exports:{}},K7={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(de,xe){var we=de.length;de.push(xe);e:for(;0<we;){var Le=we-1>>>1,Re=de[Le];if(0<r(Re,xe))de[Le]=xe,de[we]=Re,we=Le;else break e}}function i(de){return de.length===0?null:de[0]}function n(de){if(de.length===0)return null;var xe=de[0],we=de.pop();if(we!==xe){de[0]=we;e:for(var Le=0,Re=de.length,Ee=Re>>>1;Le<Ee;){var Ne=2*(Le+1)-1,qe=de[Ne],ht=Ne+1,Ue=de[ht];if(0>r(qe,we))ht<Re&&0>r(Ue,qe)?(de[Le]=Ue,de[ht]=we,Le=ht):(de[Le]=qe,de[Ne]=we,Le=Ne);else if(ht<Re&&0>r(Ue,we))de[Le]=Ue,de[ht]=we,Le=ht;else break e}}return xe}function r(de,xe){var we=de.sortIndex-xe.sortIndex;return we!==0?we:de.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,p=null,f=3,b=!1,N=!1,I=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(de){for(var xe=i(h);xe!==null;){if(xe.callback===null)n(h);else if(xe.startTime<=de)n(h),xe.sortIndex=xe.expirationTime,e(d,xe);else break;xe=i(h)}}function F(de){if(I=!1,P(de),!N)if(i(d)!==null)N=!0,ee||(ee=!0,U());else{var xe=i(h);xe!==null&&Me(F,xe.startTime-de)}}var ee=!1,C=-1,S=5,_=-1;function O(){return D?!0:!(t.unstable_now()-_<S)}function B(){if(D=!1,ee){var de=t.unstable_now();_=de;var xe=!0;try{e:{N=!1,I&&(I=!1,T(C),C=-1),b=!0;var we=f;try{t:{for(P(de),p=i(d);p!==null&&!(p.expirationTime>de&&O());){var Le=p.callback;if(typeof Le=="function"){p.callback=null,f=p.priorityLevel;var Re=Le(p.expirationTime<=de);if(de=t.unstable_now(),typeof Re=="function"){p.callback=Re,P(de),xe=!0;break t}p===i(d)&&n(d),P(de)}else n(d);p=i(d)}if(p!==null)xe=!0;else{var Ee=i(h);Ee!==null&&Me(F,Ee.startTime-de),xe=!1}}break e}finally{p=null,f=we,b=!1}xe=void 0}}finally{xe?U():ee=!1}}}var U;if(typeof A=="function")U=function(){A(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Ae=L.port2;L.port1.onmessage=B,U=function(){Ae.postMessage(null)}}else U=function(){k(B,0)};function Me(de,xe){C=k(function(){de(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(de){switch(f){case 1:case 2:case 3:var xe=3;break;default:xe=f}var we=f;f=xe;try{return de()}finally{f=we}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(de,xe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var we=f;f=de;try{return xe()}finally{f=we}},t.unstable_scheduleCallback=function(de,xe,we){var Le=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Le+we:Le):we=Le,de){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=we+Re,de={id:m++,callback:xe,priorityLevel:de,startTime:we,expirationTime:Re,sortIndex:-1},we>Le?(de.sortIndex=we,e(h,de),i(d)===null&&de===i(h)&&(I?(T(C),C=-1):I=!0,Me(F,we-Le))):(de.sortIndex=Re,e(d,de),N||b||(N=!0,ee||(ee=!0,U()))),de},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(de){var xe=f;return function(){var we=f;f=xe;try{return de.apply(this,arguments)}finally{f=we}}}})(K7);X7.exports=K7;var wq=X7.exports,Q7={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nq=Z;function J7(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ja(){}var ti={d:{f:ja,r:function(){throw Error(J7(522))},D:ja,C:ja,L:ja,m:ja,X:ja,S:ja,M:ja},p:0,findDOMNode:null},kq=Symbol.for("react.portal");function Tq(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kq,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}var K0=Nq.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function kp(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ti;oi.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(J7(299));return Tq(t,e,null,i)};oi.flushSync=function(t){var e=K0.T,i=ti.p;try{if(K0.T=null,ti.p=2,t)return t()}finally{K0.T=e,ti.p=i,ti.d.f()}};oi.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ti.d.C(t,e))};oi.prefetchDNS=function(t){typeof t=="string"&&ti.d.D(t)};oi.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var i=e.as,n=kp(i,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;i==="style"?ti.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:a}):i==="script"&&ti.d.X(t,{crossOrigin:n,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};oi.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var i=kp(e.as,e.crossOrigin);ti.d.M(t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ti.d.M(t)};oi.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var i=e.as,n=kp(i,e.crossOrigin);ti.d.L(t,i,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};oi.preloadModule=function(t,e){if(typeof t=="string")if(e){var i=kp(e.as,e.crossOrigin);ti.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ti.d.m(t)};oi.requestFormReset=function(t){ti.d.r(t)};oi.unstable_batchedUpdates=function(t,e){return t(e)};oi.useFormState=function(t,e,i){return K0.H.useFormState(t,e,i)};oi.useFormStatus=function(){return K0.H.useHostTransitionStatus()};oi.version="19.2.3";function e8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e8)}catch(t){console.error(t)}}e8(),Q7.exports=oi;var Sq=Q7.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=wq,t8=Z,Aq=Sq;function ae(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kd(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function i8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n8(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u3(t){if(Kd(t)!==t)throw Error(ae(188))}function Eq(t){var e=t.alternate;if(!e){if(e=Kd(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var a=r.alternate;if(a===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return u3(r),t;if(a===n)return u3(r),e;a=a.sibling}throw Error(ae(188))}if(i.return!==n.return)i=r,n=a;else{for(var l=!1,c=r.child;c;){if(c===i){l=!0,i=r,n=a;break}if(c===n){l=!0,n=r,i=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===i){l=!0,i=a,n=r;break}if(c===n){l=!0,n=a,i=r;break}c=c.sibling}if(!l)throw Error(ae(189))}}if(i.alternate!==n)throw Error(ae(190))}if(i.tag!==3)throw Error(ae(188));return i.stateNode.current===i?t:e}function r8(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r8(t),e!==null)return e;t=t.sibling}return null}var _t=Object.assign,qq=Symbol.for("react.element"),Hh=Symbol.for("react.transitional.element"),U0=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),a8=Symbol.for("react.strict_mode"),I1=Symbol.for("react.profiler"),l8=Symbol.for("react.consumer"),Ir=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),C1=Symbol.for("react.suspense_list"),G2=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),M1=Symbol.for("react.activity"),Iq=Symbol.for("react.memo_cache_sentinel"),m3=Symbol.iterator;function E0(t){return t===null||typeof t!="object"?null:(t=m3&&t[m3]||t["@@iterator"],typeof t=="function"?t:null)}var _q=Symbol.for("react.client.reference");function z1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_q?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case I1:return"Profiler";case a8:return"StrictMode";case _1:return"Suspense";case C1:return"SuspenseList";case M1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U0:return"Portal";case Ir:return t.displayName||"Context";case l8:return(t._context.displayName||"Context")+".Consumer";case H2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G2:return e=t.displayName||null,e!==null?e:z1(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return z1(t(e))}catch{}}return null}var F0=Array.isArray,Ve=t8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=Aq.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,so={pending:!1,data:null,method:null,action:null},D1=[],Vo=-1;function ir(t){return{current:t}}function Cs(t){0>Vo||(t.current=D1[Vo],D1[Vo]=null,Vo--)}function Nt(t,e){Vo++,D1[Vo]=t.current,t.current=e}var Kn=ir(null),jd=ir(null),Za=ir(null),hm=ir(null);function um(t,e){switch(Nt(Za,e),Nt(jd,t),Nt(Kn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?yv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=yv(e),t=Aw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Cs(Kn),Nt(Kn,t)}function Sc(){Cs(Kn),Cs(jd),Cs(Za)}function R1(t){t.memoizedState!==null&&Nt(hm,t);var e=Kn.current,i=Aw(e,t.type);e!==i&&(Nt(jd,t),Nt(Kn,i))}function mm(t){jd.current===t&&(Cs(Kn),Cs(jd)),hm.current===t&&(Cs(hm),Cd._currentValue=so)}var Ef,p3;function Vl(t){if(Ef===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||"",p3=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ef+t+p3}var qf=!1;function If(t,e){if(!t||qf)return"";qf=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(b){var f=b}Reflect.construct(t,[],p)}else{try{p.call()}catch(b){f=b}t.call(p.prototype)}}else{try{throw Error()}catch(b){f=b}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(b){if(b&&f&&typeof b.stack=="string")return[b.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),l=a[0],c=a[1];if(l&&c){var d=l.split(`
`),h=c.split(`
`);for(r=n=0;n<d.length&&!d[n].includes("DetermineComponentFrameRoot");)n++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(n===d.length||r===h.length)for(n=d.length-1,r=h.length-1;1<=n&&0<=r&&d[n]!==h[r];)r--;for(;1<=n&&0<=r;n--,r--)if(d[n]!==h[r]){if(n!==1||r!==1)do if(n--,r--,0>r||d[n]!==h[r]){var m=`
`+d[n].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=n&&0<=r);break}}}finally{qf=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Vl(i):""}function Cq(t,e){switch(t.tag){case 26:case 27:case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return t.child!==e&&e!==null?Vl("Suspense Fallback"):Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 15:return If(t.type,!1);case 11:return If(t.type.render,!1);case 1:return If(t.type,!0);case 31:return Vl("Activity");default:return""}}function f3(t){try{var e="",i=null;do e+=Cq(t,i),i=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var O1=Object.prototype.hasOwnProperty,V2=js.unstable_scheduleCallback,_f=js.unstable_cancelCallback,Mq=js.unstable_shouldYield,zq=js.unstable_requestPaint,Oi=js.unstable_now,Dq=js.unstable_getCurrentPriorityLevel,o8=js.unstable_ImmediatePriority,c8=js.unstable_UserBlockingPriority,pm=js.unstable_NormalPriority,Rq=js.unstable_LowPriority,d8=js.unstable_IdlePriority,Oq=js.log,Pq=js.unstable_setDisableYieldValue,Qd=null,Pi=null;function Ba(t){if(typeof Oq=="function"&&Pq(t),Pi&&typeof Pi.setStrictMode=="function")try{Pi.setStrictMode(Qd,t)}catch{}}var $i=Math.clz32?Math.clz32:Lq,$q=Math.log,Bq=Math.LN2;function Lq(t){return t>>>=0,t===0?32:31-($q(t)/Bq|0)|0}var Gh=256,Vh=262144,Wh=4194304;function Wl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tp(t,e,i){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var c=n&134217727;return c!==0?(n=c&~a,n!==0?r=Wl(n):(l&=c,l!==0?r=Wl(l):i||(i=c&~t,i!==0&&(r=Wl(i))))):(c=n&~a,c!==0?r=Wl(c):l!==0?r=Wl(l):i||(i=n&~t,i!==0&&(r=Wl(i)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,i=e&-e,a>=i||a===32&&(i&4194048)!==0)?e:r}function Jd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Uq(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h8(){var t=Wh;return Wh<<=1,!(Wh&62914560)&&(Wh=4194304),t}function Cf(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function eh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fq(t,e,i,n,r,a){var l=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var c=t.entanglements,d=t.expirationTimes,h=t.hiddenUpdates;for(i=l&~i;0<i;){var m=31-$i(i),p=1<<m;c[m]=0,d[m]=-1;var f=h[m];if(f!==null)for(h[m]=null,m=0;m<f.length;m++){var b=f[m];b!==null&&(b.lane&=-536870913)}i&=~p}n!==0&&u8(t,n,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(l&~e))}function u8(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-$i(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|i&261930}function m8(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-$i(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}function p8(t,e){var i=e&-e;return i=i&42?1:W2(i),i&(t.suspendedLanes|e)?0:i}function W2(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Z2(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function f8(){var t=dt.p;return t!==0?t:(t=window.event,t===void 0?32:Pw(t.type))}function x3(t,e){var i=dt.p;try{return dt.p=t,e()}finally{dt.p=i}}var wl=Math.random().toString(36).slice(2),$s="__reactFiber$"+wl,Ni="__reactProps$"+wl,Gc="__reactContainer$"+wl,P1="__reactEvents$"+wl,Hq="__reactListeners$"+wl,Gq="__reactHandles$"+wl,g3="__reactResources$"+wl,th="__reactMarker$"+wl;function Y2(t){delete t[$s],delete t[Ni],delete t[P1],delete t[Hq],delete t[Gq]}function Wo(t){var e=t[$s];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Gc]||i[$s]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=kv(t);t!==null;){if(i=t[$s])return i;t=kv(t)}return e}t=i,i=t.parentNode}return null}function Vc(t){if(t=t[$s]||t[Gc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function H0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ae(33))}function hc(t){var e=t[g3];return e||(e=t[g3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _s(t){t[th]=!0}var x8=new Set,g8={};function yo(t,e){Ac(t,e),Ac(t+"Capture",e)}function Ac(t,e){for(g8[t]=e,t=0;t<e.length;t++)x8.add(e[t])}var Vq=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b3={},y3={};function Wq(t){return O1.call(y3,t)?!0:O1.call(b3,t)?!1:Vq.test(t)?y3[t]=!0:(b3[t]=!0,!1)}function Ou(t,e,i){if(Wq(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function Zh(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function br(t,e,i,n){if(n===null)t.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+n)}}function Qi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zq(t,e,i){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $1(t){if(!t._valueTracker){var e=b8(t)?"checked":"value";t._valueTracker=Zq(t,e,""+t[e])}}function y8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=b8(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function fm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yq=/[\n"\\]/g;function tn(t){return t.replace(Yq,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function B1(t,e,i,n,r,a,l,c){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Qi(e)):t.value!==""+Qi(e)&&(t.value=""+Qi(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?L1(t,l,Qi(e)):i!=null?L1(t,l,Qi(i)):n!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Qi(c):t.removeAttribute("name")}function v8(t,e,i,n,r,a,l,c){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||i!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){$1(t);return}i=i!=null?""+Qi(i):"",e=e!=null?""+Qi(e):i,c||e===t.value||(t.value=e),t.defaultValue=e}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=c?t.checked:!!n,t.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),$1(t)}function L1(t,e,i){e==="number"&&fm(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function uc(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+Qi(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function j8(t,e,i){if(e!=null&&(e=""+Qi(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Qi(i):""}function w8(t,e,i,n){if(e==null){if(n!=null){if(i!=null)throw Error(ae(92));if(F0(n)){if(1<n.length)throw Error(ae(93));n=n[0]}i=n}i==null&&(i=""),e=i}i=Qi(e),t.defaultValue=i,n=t.textContent,n===i&&n!==""&&n!==null&&(t.value=n),$1(t)}function Ec(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Xq=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function v3(t,e,i){var n=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,i):typeof i!="number"||i===0||Xq.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function N8(t,e,i){if(e!=null&&typeof e!="object")throw Error(ae(62));if(t=t.style,i!=null){for(var n in i)!i.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var r in e)n=e[r],e.hasOwnProperty(r)&&i[r]!==n&&v3(t,r,n)}else for(var a in e)e.hasOwnProperty(a)&&v3(t,a,e[a])}function X2(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kq=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qq=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pu(t){return Qq.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _r(){}var U1=null;function K2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zo=null,mc=null;function j3(t){var e=Vc(t);if(e&&(t=e.stateNode)){var i=t[Ni]||null;e:switch(t=e.stateNode,e.type){case"input":if(B1(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+tn(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=n[Ni]||null;if(!r)throw Error(ae(90));B1(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<i.length;e++)n=i[e],n.form===t.form&&y8(n)}break e;case"textarea":j8(t,i.value,i.defaultValue);break e;case"select":e=i.value,e!=null&&uc(t,!!i.multiple,e,!1)}}}var Mf=!1;function k8(t,e,i){if(Mf)return t(e,i);Mf=!0;try{var n=t(e);return n}finally{if(Mf=!1,(Zo!==null||mc!==null)&&(Op(),Zo&&(e=Zo,t=mc,mc=Zo=null,j3(e),t)))for(e=0;e<t.length;e++)j3(t[e])}}function wd(t,e){var i=t.stateNode;if(i===null)return null;var n=i[Ni]||null;if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(ae(231,e,typeof i));return i}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F1=!1;if(Wr)try{var q0={};Object.defineProperty(q0,"passive",{get:function(){F1=!0}}),window.addEventListener("test",q0,q0),window.removeEventListener("test",q0,q0)}catch{F1=!1}var La=null,Q2=null,$u=null;function T8(){if($u)return $u;var t,e=Q2,i=e.length,n,r="value"in La?La.value:La.textContent,a=r.length;for(t=0;t<i&&e[t]===r[t];t++);var l=i-t;for(n=1;n<=l&&e[i-n]===r[a-n];n++);return $u=r.slice(t,1<n?1-n:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yh(){return!0}function w3(){return!1}function ki(t){function e(i,n,r,a,l){this._reactName=i,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(i=t[c],this[c]=i?i(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yh:w3,this.isPropagationStopped=w3,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Yh)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Yh)},persist:function(){},isPersistent:Yh}),e}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=ki(vo),sh=_t({},vo,{view:0,detail:0}),Jq=ki(sh),zf,Df,I0,Ap=_t({},sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==I0&&(I0&&t.type==="mousemove"?(zf=t.screenX-I0.screenX,Df=t.screenY-I0.screenY):Df=zf=0,I0=t),zf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),N3=ki(Ap),eI=_t({},Ap,{dataTransfer:0}),tI=ki(eI),sI=_t({},sh,{relatedTarget:0}),Rf=ki(sI),iI=_t({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),nI=ki(iI),rI=_t({},vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aI=ki(rI),lI=_t({},vo,{data:0}),k3=ki(lI),oI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dI[t])?!!e[t]:!1}function J2(){return hI}var uI=_t({},sh,{key:function(t){if(t.key){var e=oI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J2,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mI=ki(uI),pI=_t({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T3=ki(pI),fI=_t({},sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J2}),xI=ki(fI),gI=_t({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),bI=ki(gI),yI=_t({},Ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vI=ki(yI),jI=_t({},vo,{newState:0,oldState:0}),wI=ki(jI),NI=[9,13,27,32],e4=Wr&&"CompositionEvent"in window,Q0=null;Wr&&"documentMode"in document&&(Q0=document.documentMode);var kI=Wr&&"TextEvent"in window&&!Q0,S8=Wr&&(!e4||Q0&&8<Q0&&11>=Q0),S3=" ",A3=!1;function A8(t,e){switch(t){case"keyup":return NI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function TI(t,e){switch(t){case"compositionend":return E8(e);case"keypress":return e.which!==32?null:(A3=!0,S3);case"textInput":return t=e.data,t===S3&&A3?null:t;default:return null}}function SI(t,e){if(Yo)return t==="compositionend"||!e4&&A8(t,e)?(t=T8(),$u=Q2=La=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S8&&e.locale!=="ko"?null:e.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AI[t.type]:e==="textarea"}function q8(t,e,i,n){Zo?mc?mc.push(n):mc=[n]:Zo=n,e=Mm(e,"onChange"),0<e.length&&(i=new Sp("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var J0=null,Nd=null;function EI(t){kw(t,0)}function Ep(t){var e=H0(t);if(y8(e))return t}function q3(t,e){if(t==="change")return e}var I8=!1;if(Wr){var Of;if(Wr){var Pf="oninput"in document;if(!Pf){var I3=document.createElement("div");I3.setAttribute("oninput","return;"),Pf=typeof I3.oninput=="function"}Of=Pf}else Of=!1;I8=Of&&(!document.documentMode||9<document.documentMode)}function _3(){J0&&(J0.detachEvent("onpropertychange",_8),Nd=J0=null)}function _8(t){if(t.propertyName==="value"&&Ep(Nd)){var e=[];q8(e,Nd,t,K2(t)),k8(EI,e)}}function qI(t,e,i){t==="focusin"?(_3(),J0=e,Nd=i,J0.attachEvent("onpropertychange",_8)):t==="focusout"&&_3()}function II(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ep(Nd)}function _I(t,e){if(t==="click")return Ep(e)}function CI(t,e){if(t==="input"||t==="change")return Ep(e)}function MI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ui=typeof Object.is=="function"?Object.is:MI;function kd(t,e){if(Ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!O1.call(e,r)||!Ui(t[r],e[r]))return!1}return!0}function C3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M3(t,e){var i=C3(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=C3(i)}}function C8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=fm(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=fm(t.document)}return e}function t4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var zI=Wr&&"documentMode"in document&&11>=document.documentMode,Xo=null,H1=null,ed=null,G1=!1;function z3(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;G1||Xo==null||Xo!==fm(n)||(n=Xo,"selectionStart"in n&&t4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ed&&kd(ed,n)||(ed=n,n=Mm(H1,"onSelect"),0<n.length&&(e=new Sp("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Xo)))}function Bl(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ko={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionrun:Bl("Transition","TransitionRun"),transitionstart:Bl("Transition","TransitionStart"),transitioncancel:Bl("Transition","TransitionCancel"),transitionend:Bl("Transition","TransitionEnd")},$f={},z8={};Wr&&(z8=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function jo(t){if($f[t])return $f[t];if(!Ko[t])return t;var e=Ko[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in z8)return $f[t]=e[i];return t}var D8=jo("animationend"),R8=jo("animationiteration"),O8=jo("animationstart"),DI=jo("transitionrun"),RI=jo("transitionstart"),OI=jo("transitioncancel"),P8=jo("transitionend"),$8=new Map,V1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");V1.push("scrollEnd");function Rn(t,e){$8.set(t,e),yo(e,[t])}var xm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xi=[],Qo=0,s4=0;function qp(){for(var t=Qo,e=s4=Qo=0;e<t;){var i=Xi[e];Xi[e++]=null;var n=Xi[e];Xi[e++]=null;var r=Xi[e];Xi[e++]=null;var a=Xi[e];if(Xi[e++]=null,n!==null&&r!==null){var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}a!==0&&B8(i,r,a)}}function Ip(t,e,i,n){Xi[Qo++]=t,Xi[Qo++]=e,Xi[Qo++]=i,Xi[Qo++]=n,s4|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function i4(t,e,i,n){return Ip(t,e,i,n),gm(t)}function wo(t,e){return Ip(t,null,null,e),gm(t)}function B8(t,e,i){t.lanes|=i;var n=t.alternate;n!==null&&(n.lanes|=i);for(var r=!1,a=t.return;a!==null;)a.childLanes|=i,n=a.alternate,n!==null&&(n.childLanes|=i),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-$i(i),t=a.hiddenUpdates,n=t[r],n===null?t[r]=[e]:n.push(e),e.lane=i|536870912),a):null}function gm(t){if(50<cd)throw cd=0,mg=null,Error(ae(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Jo={};function PI(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(t,e,i,n){return new PI(t,e,i,n)}function n4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,e){var i=t.alternate;return i===null?(i=Mi(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function L8(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Lu(t,e,i,n,r,a){var l=0;if(n=t,typeof t=="function")n4(t)&&(l=1);else if(typeof t=="string")l=F_(t,i,Kn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case M1:return t=Mi(31,i,e,r),t.elementType=M1,t.lanes=a,t;case Go:return io(i.children,r,a,e);case a8:l=8,r|=24;break;case I1:return t=Mi(12,i,e,r|2),t.elementType=I1,t.lanes=a,t;case _1:return t=Mi(13,i,e,r),t.elementType=_1,t.lanes=a,t;case C1:return t=Mi(19,i,e,r),t.elementType=C1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ir:l=10;break e;case l8:l=9;break e;case H2:l=11;break e;case G2:l=14;break e;case Ia:l=16,n=null;break e}l=29,i=Error(ae(130,t===null?"null":typeof t,"")),n=null}return e=Mi(l,i,e,r),e.elementType=t,e.type=n,e.lanes=a,e}function io(t,e,i,n){return t=Mi(7,t,n,e),t.lanes=i,t}function Bf(t,e,i){return t=Mi(6,t,null,e),t.lanes=i,t}function U8(t){var e=Mi(18,null,null,0);return e.stateNode=t,e}function Lf(t,e,i){return e=Mi(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var D3=new WeakMap;function sn(t,e){if(typeof t=="object"&&t!==null){var i=D3.get(t);return i!==void 0?i:(e={value:t,source:e,stack:f3(e)},D3.set(t,e),e)}return{value:t,source:e,stack:f3(e)}}var ec=[],tc=0,bm=null,Td=0,Ji=[],en=0,ll=null,Fn=1,Hn="";function Ar(t,e){ec[tc++]=Td,ec[tc++]=bm,bm=t,Td=e}function F8(t,e,i){Ji[en++]=Fn,Ji[en++]=Hn,Ji[en++]=ll,ll=t;var n=Fn;t=Hn;var r=32-$i(n)-1;n&=~(1<<r),i+=1;var a=32-$i(e)+r;if(30<a){var l=r-r%5;a=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Fn=1<<32-$i(e)+r|i<<r|n,Hn=a+t}else Fn=1<<a|i<<r|n,Hn=t}function r4(t){t.return!==null&&(Ar(t,1),F8(t,1,0))}function a4(t){for(;t===bm;)bm=ec[--tc],ec[tc]=null,Td=ec[--tc],ec[tc]=null;for(;t===ll;)ll=Ji[--en],Ji[en]=null,Hn=Ji[--en],Ji[en]=null,Fn=Ji[--en],Ji[en]=null}function H8(t,e){Ji[en++]=Fn,Ji[en++]=Hn,Ji[en++]=ll,Fn=e.id,Hn=e.overflow,ll=t}var Bs=null,qt=null,st=!1,Ya=null,nn=!1,W1=Error(ae(519));function ol(t){var e=Error(ae(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sd(sn(e,t)),W1}function R3(t){var e=t.stateNode,i=t.type,n=t.memoizedProps;switch(e[$s]=t,e[Ni]=n,i){case"dialog":Je("cancel",e),Je("close",e);break;case"iframe":case"object":case"embed":Je("load",e);break;case"video":case"audio":for(i=0;i<Id.length;i++)Je(Id[i],e);break;case"source":Je("error",e);break;case"img":case"image":case"link":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"input":Je("invalid",e),v8(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Je("invalid",e);break;case"textarea":Je("invalid",e),w8(e,n.value,n.defaultValue,n.children)}i=n.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||n.suppressHydrationWarning===!0||Sw(e.textContent,i)?(n.popover!=null&&(Je("beforetoggle",e),Je("toggle",e)),n.onScroll!=null&&Je("scroll",e),n.onScrollEnd!=null&&Je("scrollend",e),n.onClick!=null&&(e.onclick=_r),e=!0):e=!1,e||ol(t,!0)}function O3(t){for(Bs=t.return;Bs;)switch(Bs.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Bs=Bs.return}}function Oo(t){if(t!==Bs)return!1;if(!st)return O3(t),st=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||bg(t.type,t.memoizedProps)),i=!i),i&&qt&&ol(t),O3(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));qt=Nv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));qt=Nv(t)}else e===27?(e=qt,Nl(t.type)?(t=wg,wg=null,qt=t):qt=e):qt=Bs?dn(t.stateNode.nextSibling):null;return!0}function co(){qt=Bs=null,st=!1}function Uf(){var t=Ya;return t!==null&&(yi===null?yi=t:yi.push.apply(yi,t),Ya=null),t}function Sd(t){Ya===null?Ya=[t]:Ya.push(t)}var Z1=ir(null),No=null,Cr=null;function Ca(t,e,i){Nt(Z1,e._currentValue),e._currentValue=i}function Lr(t){t._currentValue=Z1.current,Cs(Z1)}function Y1(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function X1(t,e,i,n){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var l=r.child;a=a.firstContext;e:for(;a!==null;){var c=a;a=r;for(var d=0;d<e.length;d++)if(c.context===e[d]){a.lanes|=i,c=a.alternate,c!==null&&(c.lanes|=i),Y1(a.return,i,t),n||(l=null);break e}a=c.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(ae(341));l.lanes|=i,a=l.alternate,a!==null&&(a.lanes|=i),Y1(l,i,t),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===t){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Wc(t,e,i,n){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(ae(387));if(l=l.memoizedProps,l!==null){var c=r.type;Ui(r.pendingProps.value,l.value)||(t!==null?t.push(c):t=[c])}}else if(r===hm.current){if(l=r.alternate,l===null)throw Error(ae(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Cd):t=[Cd])}r=r.return}t!==null&&X1(e,t,i,n),e.flags|=262144}function ym(t){for(t=t.firstContext;t!==null;){if(!Ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ho(t){No=t,Cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ls(t){return G8(No,t)}function Xh(t,e){return No===null&&ho(t),G8(t,e)}function G8(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Cr===null){if(t===null)throw Error(ae(308));Cr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Cr=Cr.next=e;return i}var $I=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},BI=js.unstable_scheduleCallback,LI=js.unstable_NormalPriority,hs={$$typeof:Ir,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l4(){return{controller:new $I,data:new Map,refCount:0}}function ih(t){t.refCount--,t.refCount===0&&BI(LI,function(){t.controller.abort()})}var td=null,K1=0,qc=0,pc=null;function UI(t,e){if(td===null){var i=td=[];K1=0,qc=C4(),pc={status:"pending",value:void 0,then:function(n){i.push(n)}}}return K1++,e.then(P3,P3),e}function P3(){if(--K1===0&&td!==null){pc!==null&&(pc.status="fulfilled");var t=td;td=null,qc=0,pc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function FI(t,e){var i=[],n={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var r=0;r<i.length;r++)(0,i[r])(e)},function(r){for(n.status="rejected",n.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),n}var $3=Ve.S;Ve.S=function(t,e){rw=Oi(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&UI(t,e),$3!==null&&$3(t,e)};var no=ir(null);function o4(){var t=no.current;return t!==null?t:bt.pooledCache}function Uu(t,e){e===null?Nt(no,no.current):Nt(no,e.pool)}function V8(){var t=o4();return t===null?null:{parent:hs._currentValue,pool:t}}var Zc=Error(ae(460)),c4=Error(ae(474)),_p=Error(ae(542)),vm={then:function(){}};function B3(t){return t=t.status,t==="fulfilled"||t==="rejected"}function W8(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(_r,_r),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,U3(t),t;default:if(typeof e.status=="string")e.then(_r,_r);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(ae(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=n}},function(n){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,U3(t),t}throw ro=e,Zc}}function Zl(t){try{var e=t._init;return e(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ro=i,Zc):i}}var ro=null;function L3(){if(ro===null)throw Error(ae(459));var t=ro;return ro=null,t}function U3(t){if(t===Zc||t===_p)throw Error(ae(483))}var fc=null,Ad=0;function Kh(t){var e=Ad;return Ad+=1,fc===null&&(fc=[]),W8(fc,t,e)}function _0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Qh(t,e){throw e.$$typeof===qq?Error(ae(525)):(t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Z8(t){function e(k,T){if(t){var A=k.deletions;A===null?(k.deletions=[T],k.flags|=16):A.push(T)}}function i(k,T){if(!t)return null;for(;T!==null;)e(k,T),T=T.sibling;return null}function n(k){for(var T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function r(k,T){return k=Br(k,T),k.index=0,k.sibling=null,k}function a(k,T,A){return k.index=A,t?(A=k.alternate,A!==null?(A=A.index,A<T?(k.flags|=67108866,T):A):(k.flags|=67108866,T)):(k.flags|=1048576,T)}function l(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function c(k,T,A,P){return T===null||T.tag!==6?(T=Bf(A,k.mode,P),T.return=k,T):(T=r(T,A),T.return=k,T)}function d(k,T,A,P){var F=A.type;return F===Go?m(k,T,A.props.children,P,A.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ia&&Zl(F)===T.type)?(T=r(T,A.props),_0(T,A),T.return=k,T):(T=Lu(A.type,A.key,A.props,null,k.mode,P),_0(T,A),T.return=k,T)}function h(k,T,A,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Lf(A,k.mode,P),T.return=k,T):(T=r(T,A.children||[]),T.return=k,T)}function m(k,T,A,P,F){return T===null||T.tag!==7?(T=io(A,k.mode,P,F),T.return=k,T):(T=r(T,A),T.return=k,T)}function p(k,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Bf(""+T,k.mode,A),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hh:return A=Lu(T.type,T.key,T.props,null,k.mode,A),_0(A,T),A.return=k,A;case U0:return T=Lf(T,k.mode,A),T.return=k,T;case Ia:return T=Zl(T),p(k,T,A)}if(F0(T)||E0(T))return T=io(T,k.mode,A,null),T.return=k,T;if(typeof T.then=="function")return p(k,Kh(T),A);if(T.$$typeof===Ir)return p(k,Xh(k,T),A);Qh(k,T)}return null}function f(k,T,A,P){var F=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return F!==null?null:c(k,T,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Hh:return A.key===F?d(k,T,A,P):null;case U0:return A.key===F?h(k,T,A,P):null;case Ia:return A=Zl(A),f(k,T,A,P)}if(F0(A)||E0(A))return F!==null?null:m(k,T,A,P,null);if(typeof A.then=="function")return f(k,T,Kh(A),P);if(A.$$typeof===Ir)return f(k,T,Xh(k,A),P);Qh(k,A)}return null}function b(k,T,A,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return k=k.get(A)||null,c(T,k,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hh:return k=k.get(P.key===null?A:P.key)||null,d(T,k,P,F);case U0:return k=k.get(P.key===null?A:P.key)||null,h(T,k,P,F);case Ia:return P=Zl(P),b(k,T,A,P,F)}if(F0(P)||E0(P))return k=k.get(A)||null,m(T,k,P,F,null);if(typeof P.then=="function")return b(k,T,A,Kh(P),F);if(P.$$typeof===Ir)return b(k,T,A,Xh(T,P),F);Qh(T,P)}return null}function N(k,T,A,P){for(var F=null,ee=null,C=T,S=T=0,_=null;C!==null&&S<A.length;S++){C.index>S?(_=C,C=null):_=C.sibling;var O=f(k,C,A[S],P);if(O===null){C===null&&(C=_);break}t&&C&&O.alternate===null&&e(k,C),T=a(O,T,S),ee===null?F=O:ee.sibling=O,ee=O,C=_}if(S===A.length)return i(k,C),st&&Ar(k,S),F;if(C===null){for(;S<A.length;S++)C=p(k,A[S],P),C!==null&&(T=a(C,T,S),ee===null?F=C:ee.sibling=C,ee=C);return st&&Ar(k,S),F}for(C=n(C);S<A.length;S++)_=b(C,k,S,A[S],P),_!==null&&(t&&_.alternate!==null&&C.delete(_.key===null?S:_.key),T=a(_,T,S),ee===null?F=_:ee.sibling=_,ee=_);return t&&C.forEach(function(B){return e(k,B)}),st&&Ar(k,S),F}function I(k,T,A,P){if(A==null)throw Error(ae(151));for(var F=null,ee=null,C=T,S=T=0,_=null,O=A.next();C!==null&&!O.done;S++,O=A.next()){C.index>S?(_=C,C=null):_=C.sibling;var B=f(k,C,O.value,P);if(B===null){C===null&&(C=_);break}t&&C&&B.alternate===null&&e(k,C),T=a(B,T,S),ee===null?F=B:ee.sibling=B,ee=B,C=_}if(O.done)return i(k,C),st&&Ar(k,S),F;if(C===null){for(;!O.done;S++,O=A.next())O=p(k,O.value,P),O!==null&&(T=a(O,T,S),ee===null?F=O:ee.sibling=O,ee=O);return st&&Ar(k,S),F}for(C=n(C);!O.done;S++,O=A.next())O=b(C,k,S,O.value,P),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?S:O.key),T=a(O,T,S),ee===null?F=O:ee.sibling=O,ee=O);return t&&C.forEach(function(U){return e(k,U)}),st&&Ar(k,S),F}function D(k,T,A,P){if(typeof A=="object"&&A!==null&&A.type===Go&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Hh:e:{for(var F=A.key;T!==null;){if(T.key===F){if(F=A.type,F===Go){if(T.tag===7){i(k,T.sibling),P=r(T,A.props.children),P.return=k,k=P;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ia&&Zl(F)===T.type){i(k,T.sibling),P=r(T,A.props),_0(P,A),P.return=k,k=P;break e}i(k,T);break}else e(k,T);T=T.sibling}A.type===Go?(P=io(A.props.children,k.mode,P,A.key),P.return=k,k=P):(P=Lu(A.type,A.key,A.props,null,k.mode,P),_0(P,A),P.return=k,k=P)}return l(k);case U0:e:{for(F=A.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){i(k,T.sibling),P=r(T,A.children||[]),P.return=k,k=P;break e}else{i(k,T);break}else e(k,T);T=T.sibling}P=Lf(A,k.mode,P),P.return=k,k=P}return l(k);case Ia:return A=Zl(A),D(k,T,A,P)}if(F0(A))return N(k,T,A,P);if(E0(A)){if(F=E0(A),typeof F!="function")throw Error(ae(150));return A=F.call(A),I(k,T,A,P)}if(typeof A.then=="function")return D(k,T,Kh(A),P);if(A.$$typeof===Ir)return D(k,T,Xh(k,A),P);Qh(k,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(i(k,T.sibling),P=r(T,A),P.return=k,k=P):(i(k,T),P=Bf(A,k.mode,P),P.return=k,k=P),l(k)):i(k,T)}return function(k,T,A,P){try{Ad=0;var F=D(k,T,A,P);return fc=null,F}catch(C){if(C===Zc||C===_p)throw C;var ee=Mi(29,C,null,k.mode);return ee.lanes=P,ee.return=k,ee}finally{}}}var uo=Z8(!0),Y8=Z8(!1),_a=!1;function d4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Q1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ka(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ct&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,e=gm(t),B8(t,null,i),e}return Ip(t,n,e,i),gm(t)}function sd(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,m8(t,i)}}function Ff(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var r=null,a=null;if(i=i.firstBaseUpdate,i!==null){do{var l={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};a===null?r=a=l:a=a.next=l,i=i.next}while(i!==null);a===null?r=a=e:a=a.next=e}else r=a=e;i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var J1=!1;function id(){if(J1){var t=pc;if(t!==null)throw t}}function nd(t,e,i,n){J1=!1;var r=t.updateQueue;_a=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?a=h:l.next=h,l=d;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=d))}if(a!==null){var p=r.baseState;l=0,m=h=d=null,c=a;do{var f=c.lane&-536870913,b=f!==c.lane;if(b?(tt&f)===f:(n&f)===f){f!==0&&f===qc&&(J1=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var N=t,I=c;f=e;var D=i;switch(I.tag){case 1:if(N=I.payload,typeof N=="function"){p=N.call(D,p,f);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=I.payload,f=typeof N=="function"?N.call(D,p,f):N,f==null)break e;p=_t({},p,f);break e;case 2:_a=!0}}f=c.callback,f!==null&&(t.flags|=64,b&&(t.flags|=8192),b=r.callbacks,b===null?r.callbacks=[f]:b.push(f))}else b={lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=b,d=p):m=m.next=b,l|=f;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;b=c,c=b.next,b.next=null,r.lastBaseUpdate=b,r.shared.pending=null}}while(!0);m===null&&(d=p),r.baseState=d,r.firstBaseUpdate=h,r.lastBaseUpdate=m,a===null&&(r.shared.lanes=0),dl|=l,t.lanes=l,t.memoizedState=p}}function X8(t,e){if(typeof t!="function")throw Error(ae(191,t));t.call(e)}function K8(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)X8(i[t],e)}var Ic=ir(null),jm=ir(0);function F3(t,e){t=Kr,Nt(jm,t),Nt(Ic,e),Kr=t|e.baseLanes}function eg(){Nt(jm,Kr),Nt(Ic,Ic.current)}function h4(){Kr=jm.current,Cs(Ic),Cs(jm)}var Fi=ir(null),cn=null;function Ma(t){var e=t.alternate;Nt(is,is.current&1),Nt(Fi,t),cn===null&&(e===null||Ic.current!==null||e.memoizedState!==null)&&(cn=t)}function tg(t){Nt(is,is.current),Nt(Fi,t),cn===null&&(cn=t)}function Q8(t){t.tag===22?(Nt(is,is.current),Nt(Fi,t),cn===null&&(cn=t)):za()}function za(){Nt(is,is.current),Nt(Fi,Fi.current)}function Ci(t){Cs(Fi),cn===t&&(cn=null),Cs(is)}var is=ir(0);function wm(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||vg(i)||jg(i)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zr=0,Ye=null,xt=null,cs=null,Nm=!1,xc=!1,mo=!1,km=0,Ed=0,gc=null,HI=0;function Xt(){throw Error(ae(321))}function u4(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ui(t[i],e[i]))return!1;return!0}function m4(t,e,i,n,r,a){return Zr=a,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ve.H=t===null||t.memoizedState===null?q9:k4,mo=!1,a=i(n,r),mo=!1,xc&&(a=e9(e,i,n,r)),J8(t),a}function J8(t){Ve.H=qd;var e=xt!==null&&xt.next!==null;if(Zr=0,cs=xt=Ye=null,Nm=!1,Ed=0,gc=null,e)throw Error(ae(300));t===null||us||(t=t.dependencies,t!==null&&ym(t)&&(us=!0))}function e9(t,e,i,n){Ye=t;var r=0;do{if(xc&&(gc=null),Ed=0,xc=!1,25<=r)throw Error(ae(301));if(r+=1,cs=xt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ve.H=I9,a=e(i,n)}while(xc);return a}function GI(){var t=Ve.H,e=t.useState()[0];return e=typeof e.then=="function"?nh(e):e,t=t.useState()[0],(xt!==null?xt.memoizedState:null)!==t&&(Ye.flags|=1024),e}function p4(){var t=km!==0;return km=0,t}function f4(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function x4(t){if(Nm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Nm=!1}Zr=0,cs=xt=Ye=null,xc=!1,Ed=km=0,gc=null}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?Ye.memoizedState=cs=t:cs=cs.next=t,cs}function as(){if(xt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=cs===null?Ye.memoizedState:cs.next;if(e!==null)cs=e,xt=t;else{if(t===null)throw Ye.alternate===null?Error(ae(467)):Error(ae(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},cs===null?Ye.memoizedState=cs=t:cs=cs.next=t}return cs}function Cp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(t){var e=Ed;return Ed+=1,gc===null&&(gc=[]),t=W8(gc,t,e),e=Ye,(cs===null?e.memoizedState:cs.next)===null&&(e=e.alternate,Ve.H=e===null||e.memoizedState===null?q9:k4),t}function Mp(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nh(t);if(t.$$typeof===Ir)return Ls(t)}throw Error(ae(438,String(t)))}function g4(t){var e=null,i=Ye.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var n=Ye.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=Cp(),Ye.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),n=0;n<t;n++)i[n]=Iq;return e.index++,i}function Yr(t,e){return typeof e=="function"?e(t):e}function Fu(t){var e=as();return b4(e,xt,t)}function b4(t,e,i){var n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=i;var r=t.baseQueue,a=n.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}e.baseQueue=r=a,n.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var c=l=null,d=null,h=e,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(tt&p)===p:(Zr&p)===p){var f=h.revertLane;if(f===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===qc&&(m=!0);else if((Zr&f)===f){h=h.next,f===qc&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=p,l=a):d=d.next=p,Ye.lanes|=f,dl|=f;p=h.action,mo&&i(a,p),a=h.hasEagerState?h.eagerState:i(a,p)}else f={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},d===null?(c=d=f,l=a):d=d.next=f,Ye.lanes|=p,dl|=p;h=h.next}while(h!==null&&h!==e);if(d===null?l=a:d.next=c,!Ui(a,t.memoizedState)&&(us=!0,m&&(i=pc,i!==null)))throw i;t.memoizedState=a,t.baseState=l,t.baseQueue=d,n.lastRenderedState=a}return r===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Hf(t){var e=as(),i=e.queue;if(i===null)throw Error(ae(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,a=e.memoizedState;if(r!==null){i.pending=null;var l=r=r.next;do a=t(a,l.action),l=l.next;while(l!==r);Ui(a,e.memoizedState)||(us=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),i.lastRenderedState=a}return[a,n]}function t9(t,e,i){var n=Ye,r=as(),a=st;if(a){if(i===void 0)throw Error(ae(407));i=i()}else i=e();var l=!Ui((xt||r).memoizedState,i);if(l&&(r.memoizedState=i,us=!0),r=r.queue,y4(n9.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||cs!==null&&cs.memoizedState.tag&1){if(n.flags|=2048,_c(9,{destroy:void 0},i9.bind(null,n,r,i,e),null),bt===null)throw Error(ae(349));a||Zr&127||s9(n,e,i)}return i}function s9(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ye.updateQueue,e===null?(e=Cp(),Ye.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function i9(t,e,i,n){e.value=i,e.getSnapshot=n,r9(e)&&a9(t)}function n9(t,e,i){return i(function(){r9(e)&&a9(t)})}function r9(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ui(t,i)}catch{return!0}}function a9(t){var e=wo(t,2);e!==null&&wi(e,t,2)}function sg(t){var e=ei();if(typeof t=="function"){var i=t;if(t=i(),mo){Ba(!0);try{i()}finally{Ba(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:t},e}function l9(t,e,i,n){return t.baseState=i,b4(t,xt,typeof n=="function"?n:Yr)}function VI(t,e,i,n,r){if(Dp(t))throw Error(ae(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};Ve.T!==null?i(!0):a.isTransition=!1,n(a),i=e.pending,i===null?(a.next=e.pending=a,o9(e,a)):(a.next=i.next,e.pending=i.next=a)}}function o9(t,e){var i=e.action,n=e.payload,r=t.state;if(e.isTransition){var a=Ve.T,l={};Ve.T=l;try{var c=i(r,n),d=Ve.S;d!==null&&d(l,c),H3(t,e,c)}catch(h){ig(t,e,h)}finally{a!==null&&l.types!==null&&(a.types=l.types),Ve.T=a}}else try{a=i(r,n),H3(t,e,a)}catch(h){ig(t,e,h)}}function H3(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(n){G3(t,e,n)},function(n){return ig(t,e,n)}):G3(t,e,i)}function G3(t,e,i){e.status="fulfilled",e.value=i,c9(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,o9(t,i)))}function ig(t,e,i){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=i,c9(e),e=e.next;while(e!==n)}t.action=null}function c9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function d9(t,e){return e}function V3(t,e){if(st){var i=bt.formState;if(i!==null){e:{var n=Ye;if(st){if(qt){t:{for(var r=qt,a=nn;r.nodeType!==8;){if(!a){r=null;break t}if(r=dn(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){qt=dn(r.nextSibling),n=r.data==="F!";break e}}ol(n)}n=!1}n&&(e=i[0])}}return i=ei(),i.memoizedState=i.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d9,lastRenderedState:e},i.queue=n,i=S9.bind(null,Ye,n),n.dispatch=i,n=sg(!1),a=N4.bind(null,Ye,!1,n.queue),n=ei(),r={state:e,dispatch:null,action:t,pending:null},n.queue=r,i=VI.bind(null,Ye,r,a,i),r.dispatch=i,n.memoizedState=t,[e,i,!1]}function W3(t){var e=as();return h9(e,xt,t)}function h9(t,e,i){if(e=b4(t,e,d9)[0],t=Fu(Yr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=nh(e)}catch(l){throw l===Zc?_p:l}else n=e;e=as();var r=e.queue,a=r.dispatch;return i!==e.memoizedState&&(Ye.flags|=2048,_c(9,{destroy:void 0},WI.bind(null,r,i),null)),[n,a,t]}function WI(t,e){t.action=e}function Z3(t){var e=as(),i=xt;if(i!==null)return h9(e,i,t);as(),e=e.memoizedState,i=as();var n=i.queue.dispatch;return i.memoizedState=t,[e,n,!1]}function _c(t,e,i,n){return t={tag:t,create:i,deps:n,inst:e,next:null},e=Ye.updateQueue,e===null&&(e=Cp(),Ye.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t),t}function u9(){return as().memoizedState}function Hu(t,e,i,n){var r=ei();Ye.flags|=t,r.memoizedState=_c(1|e,{destroy:void 0},i,n===void 0?null:n)}function zp(t,e,i,n){var r=as();n=n===void 0?null:n;var a=r.memoizedState.inst;xt!==null&&n!==null&&u4(n,xt.memoizedState.deps)?r.memoizedState=_c(e,a,i,n):(Ye.flags|=t,r.memoizedState=_c(1|e,a,i,n))}function Y3(t,e){Hu(8390656,8,t,e)}function y4(t,e){zp(2048,8,t,e)}function ZI(t){Ye.flags|=4;var e=Ye.updateQueue;if(e===null)e=Cp(),Ye.updateQueue=e,e.events=[t];else{var i=e.events;i===null?e.events=[t]:i.push(t)}}function m9(t){var e=as().memoizedState;return ZI({ref:e,nextImpl:t}),function(){if(ct&2)throw Error(ae(440));return e.impl.apply(void 0,arguments)}}function p9(t,e){return zp(4,2,t,e)}function f9(t,e){return zp(4,4,t,e)}function x9(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g9(t,e,i){i=i!=null?i.concat([t]):null,zp(4,4,x9.bind(null,e,t),i)}function v4(){}function b9(t,e){var i=as();e=e===void 0?null:e;var n=i.memoizedState;return e!==null&&u4(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function y9(t,e){var i=as();e=e===void 0?null:e;var n=i.memoizedState;if(e!==null&&u4(e,n[1]))return n[0];if(n=t(),mo){Ba(!0);try{t()}finally{Ba(!1)}}return i.memoizedState=[n,e],n}function j4(t,e,i){return i===void 0||Zr&1073741824&&!(tt&261930)?t.memoizedState=e:(t.memoizedState=i,t=lw(),Ye.lanes|=t,dl|=t,i)}function v9(t,e,i,n){return Ui(i,e)?i:Ic.current!==null?(t=j4(t,i,n),Ui(t,e)||(us=!0),t):!(Zr&42)||Zr&1073741824&&!(tt&261930)?(us=!0,t.memoizedState=i):(t=lw(),Ye.lanes|=t,dl|=t,e)}function j9(t,e,i,n,r){var a=dt.p;dt.p=a!==0&&8>a?a:8;var l=Ve.T,c={};Ve.T=c,N4(t,!1,e,i);try{var d=r(),h=Ve.S;if(h!==null&&h(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=FI(d,n);rd(t,e,m,Bi(t))}else rd(t,e,n,Bi(t))}catch(p){rd(t,e,{then:function(){},status:"rejected",reason:p},Bi())}finally{dt.p=a,l!==null&&c.types!==null&&(l.types=c.types),Ve.T=l}}function YI(){}function ng(t,e,i,n){if(t.tag!==5)throw Error(ae(476));var r=w9(t).queue;j9(t,r,e,so,i===null?YI:function(){return N9(t),i(n)})}function w9(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:so,baseState:so,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:so},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function N9(t){var e=w9(t);e.next===null&&(e=t.alternate.memoizedState),rd(t,e.next.queue,{},Bi())}function w4(){return Ls(Cd)}function k9(){return as().memoizedState}function T9(){return as().memoizedState}function XI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Bi();t=Xa(i);var n=Ka(e,t,i);n!==null&&(wi(n,e,i),sd(n,e,i)),e={cache:l4()},t.payload=e;return}e=e.return}}function KI(t,e,i){var n=Bi();i={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Dp(t)?A9(e,i):(i=i4(t,e,i,n),i!==null&&(wi(i,t,n),E9(i,e,n)))}function S9(t,e,i){var n=Bi();rd(t,e,i,n)}function rd(t,e,i,n){var r={lane:n,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Dp(t))A9(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,i);if(r.hasEagerState=!0,r.eagerState=c,Ui(c,l))return Ip(t,e,r,0),bt===null&&qp(),!1}catch{}finally{}if(i=i4(t,e,r,n),i!==null)return wi(i,t,n),E9(i,e,n),!0}return!1}function N4(t,e,i,n){if(n={lane:2,revertLane:C4(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Dp(t)){if(e)throw Error(ae(479))}else e=i4(t,i,n,2),e!==null&&wi(e,t,2)}function Dp(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function A9(t,e){xc=Nm=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function E9(t,e,i){if(i&4194048){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,m8(t,i)}}var qd={readContext:Ls,use:Mp,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};qd.useEffectEvent=Xt;var q9={readContext:Ls,use:Mp,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:Ls,useEffect:Y3,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Hu(4194308,4,x9.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){Hu(4,2,t,e)},useMemo:function(t,e){var i=ei();e=e===void 0?null:e;var n=t();if(mo){Ba(!0);try{t()}finally{Ba(!1)}}return i.memoizedState=[n,e],n},useReducer:function(t,e,i){var n=ei();if(i!==void 0){var r=i(e);if(mo){Ba(!0);try{i(e)}finally{Ba(!1)}}}else r=e;return n.memoizedState=n.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},n.queue=t,t=t.dispatch=KI.bind(null,Ye,t),[n.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:function(t){t=sg(t);var e=t.queue,i=S9.bind(null,Ye,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:v4,useDeferredValue:function(t,e){var i=ei();return j4(i,t,e)},useTransition:function(){var t=sg(!1);return t=j9.bind(null,Ye,t.queue,!0,!1),ei().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var n=Ye,r=ei();if(st){if(i===void 0)throw Error(ae(407));i=i()}else{if(i=e(),bt===null)throw Error(ae(349));tt&127||s9(n,e,i)}r.memoizedState=i;var a={value:i,getSnapshot:e};return r.queue=a,Y3(n9.bind(null,n,a,t),[t]),n.flags|=2048,_c(9,{destroy:void 0},i9.bind(null,n,a,i,e),null),i},useId:function(){var t=ei(),e=bt.identifierPrefix;if(st){var i=Hn,n=Fn;i=(n&~(1<<32-$i(n)-1)).toString(32)+i,e="_"+e+"R_"+i,i=km++,0<i&&(e+="H"+i.toString(32)),e+="_"}else i=HI++,e="_"+e+"r_"+i.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:w4,useFormState:V3,useActionState:V3,useOptimistic:function(t){var e=ei();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=N4.bind(null,Ye,!0,i),i.dispatch=e,[t,e]},useMemoCache:g4,useCacheRefresh:function(){return ei().memoizedState=XI.bind(null,Ye)},useEffectEvent:function(t){var e=ei(),i={impl:t};return e.memoizedState=i,function(){if(ct&2)throw Error(ae(440));return i.impl.apply(void 0,arguments)}}},k4={readContext:Ls,use:Mp,useCallback:b9,useContext:Ls,useEffect:y4,useImperativeHandle:g9,useInsertionEffect:p9,useLayoutEffect:f9,useMemo:y9,useReducer:Fu,useRef:u9,useState:function(){return Fu(Yr)},useDebugValue:v4,useDeferredValue:function(t,e){var i=as();return v9(i,xt.memoizedState,t,e)},useTransition:function(){var t=Fu(Yr)[0],e=as().memoizedState;return[typeof t=="boolean"?t:nh(t),e]},useSyncExternalStore:t9,useId:k9,useHostTransitionStatus:w4,useFormState:W3,useActionState:W3,useOptimistic:function(t,e){var i=as();return l9(i,xt,t,e)},useMemoCache:g4,useCacheRefresh:T9};k4.useEffectEvent=m9;var I9={readContext:Ls,use:Mp,useCallback:b9,useContext:Ls,useEffect:y4,useImperativeHandle:g9,useInsertionEffect:p9,useLayoutEffect:f9,useMemo:y9,useReducer:Hf,useRef:u9,useState:function(){return Hf(Yr)},useDebugValue:v4,useDeferredValue:function(t,e){var i=as();return xt===null?j4(i,t,e):v9(i,xt.memoizedState,t,e)},useTransition:function(){var t=Hf(Yr)[0],e=as().memoizedState;return[typeof t=="boolean"?t:nh(t),e]},useSyncExternalStore:t9,useId:k9,useHostTransitionStatus:w4,useFormState:Z3,useActionState:Z3,useOptimistic:function(t,e){var i=as();return xt!==null?l9(i,xt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:g4,useCacheRefresh:T9};I9.useEffectEvent=m9;function Gf(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:_t({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var rg={enqueueSetState:function(t,e,i){t=t._reactInternals;var n=Bi(),r=Xa(n);r.payload=e,i!=null&&(r.callback=i),e=Ka(t,r,n),e!==null&&(wi(e,t,n),sd(e,t,n))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=Bi(),r=Xa(n);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=Ka(t,r,n),e!==null&&(wi(e,t,n),sd(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Bi(),n=Xa(i);n.tag=2,e!=null&&(n.callback=e),e=Ka(t,n,i),e!==null&&(wi(e,t,i),sd(e,t,i))}};function X3(t,e,i,n,r,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,l):e.prototype&&e.prototype.isPureReactComponent?!kd(i,n)||!kd(r,a):!0}function K3(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&rg.enqueueReplaceState(e,e.state,null)}function po(t,e){var i=e;if("ref"in e){i={};for(var n in e)n!=="ref"&&(i[n]=e[n])}if(t=t.defaultProps){i===e&&(i=_t({},i));for(var r in t)i[r]===void 0&&(i[r]=t[r])}return i}function _9(t){xm(t)}function C9(t){console.error(t)}function M9(t){xm(t)}function Tm(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function Q3(t,e,i){try{var n=t.onCaughtError;n(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ag(t,e,i){return i=Xa(i),i.tag=3,i.payload={element:null},i.callback=function(){Tm(t,e)},i}function z9(t){return t=Xa(t),t.tag=3,t}function D9(t,e,i,n){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var a=n.value;t.payload=function(){return r(a)},t.callback=function(){Q3(e,i,n)}}var l=i.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){Q3(e,i,n),typeof r!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var c=n.stack;this.componentDidCatch(n.value,{componentStack:c!==null?c:""})})}function QI(t,e,i,n,r){if(i.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=i.alternate,e!==null&&Wc(e,i,r,!0),i=Fi.current,i!==null){switch(i.tag){case 31:case 13:return cn===null?Im():i.alternate===null&&Qt===0&&(Qt=3),i.flags&=-257,i.flags|=65536,i.lanes=r,n===vm?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([n]):e.add(n),sx(t,n,r)),!1;case 22:return i.flags|=65536,n===vm?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([n]):i.add(n)),sx(t,n,r)),!1}throw Error(ae(435,i.tag))}return sx(t,n,r),Im(),!1}if(st)return e=Fi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,n!==W1&&(t=Error(ae(422),{cause:n}),Sd(sn(t,i)))):(n!==W1&&(e=Error(ae(423),{cause:n}),Sd(sn(e,i))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,n=sn(n,i),r=ag(t.stateNode,n,r),Ff(t,r),Qt!==4&&(Qt=2)),!1;var a=Error(ae(520),{cause:n});if(a=sn(a,i),od===null?od=[a]:od.push(a),Qt!==4&&(Qt=2),e===null)return!0;n=sn(n,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=r&-r,i.lanes|=t,t=ag(i.stateNode,n,t),Ff(i,t),!1;case 1:if(e=i.type,a=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Qa===null||!Qa.has(a))))return i.flags|=65536,r&=-r,i.lanes|=r,r=z9(r),D9(r,t,i,n),Ff(i,r),!1}i=i.return}while(i!==null);return!1}var T4=Error(ae(461)),us=!1;function Os(t,e,i,n){e.child=t===null?Y8(e,null,i,n):uo(e,t.child,i,n)}function J3(t,e,i,n,r){i=i.render;var a=e.ref;if("ref"in n){var l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}else l=n;return ho(e),n=m4(t,e,i,l,a,r),c=p4(),t!==null&&!us?(f4(t,e,r),Xr(t,e,r)):(st&&c&&r4(e),e.flags|=1,Os(t,e,n,r),e.child)}function ev(t,e,i,n,r){if(t===null){var a=i.type;return typeof a=="function"&&!n4(a)&&a.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=a,R9(t,e,a,n,r)):(t=Lu(i.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!S4(t,r)){var l=a.memoizedProps;if(i=i.compare,i=i!==null?i:kd,i(l,n)&&t.ref===e.ref)return Xr(t,e,r)}return e.flags|=1,t=Br(a,n),t.ref=e.ref,t.return=e,e.child=t}function R9(t,e,i,n,r){if(t!==null){var a=t.memoizedProps;if(kd(a,n)&&t.ref===e.ref)if(us=!1,e.pendingProps=n=a,S4(t,r))t.flags&131072&&(us=!0);else return e.lanes=t.lanes,Xr(t,e,r)}return lg(t,e,i,n,r)}function O9(t,e,i,n){var r=n.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|i:i,t!==null){for(n=e.child=t.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~a}else n=0,e.child=null;return tv(t,e,a,i,n)}if(i&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(e,a!==null?a.cachePool:null),a!==null?F3(e,a):eg(),Q8(e);else return n=e.lanes=536870912,tv(t,e,a!==null?a.baseLanes|i:i,i,n)}else a!==null?(Uu(e,a.cachePool),F3(e,a),za(),e.memoizedState=null):(t!==null&&Uu(e,null),eg(),za());return Os(t,e,r,i),e.child}function G0(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function tv(t,e,i,n,r){var a=o4();return a=a===null?null:{parent:hs._currentValue,pool:a},e.memoizedState={baseLanes:i,cachePool:a},t!==null&&Uu(e,null),eg(),Q8(e),t!==null&&Wc(t,e,n,!0),e.childLanes=r,null}function Gu(t,e){return e=Sm({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function sv(t,e,i){return uo(e,t.child,null,i),t=Gu(e,e.pendingProps),t.flags|=2,Ci(e),e.memoizedState=null,t}function JI(t,e,i){var n=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(st){if(n.mode==="hidden")return t=Gu(e,n),e.lanes=536870912,G0(null,t);if(tg(e),(t=qt)?(t=qw(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ll!==null?{id:Fn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},i=U8(t),i.return=e,e.child=i,Bs=e,qt=null)):t=null,t===null)throw ol(e);return e.lanes=536870912,null}return Gu(e,n)}var a=t.memoizedState;if(a!==null){var l=a.dehydrated;if(tg(e),r)if(e.flags&256)e.flags&=-257,e=sv(t,e,i);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(ae(558));else if(us||Wc(t,e,i,!1),r=(i&t.childLanes)!==0,us||r){if(n=bt,n!==null&&(l=p8(n,i),l!==0&&l!==a.retryLane))throw a.retryLane=l,wo(t,l),wi(n,t,l),T4;Im(),e=sv(t,e,i)}else t=a.treeContext,qt=dn(l.nextSibling),Bs=e,st=!0,Ya=null,nn=!1,t!==null&&H8(e,t),e=Gu(e,n),e.flags|=4096;return e}return t=Br(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Vu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(ae(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function lg(t,e,i,n,r){return ho(e),i=m4(t,e,i,n,void 0,r),n=p4(),t!==null&&!us?(f4(t,e,r),Xr(t,e,r)):(st&&n&&r4(e),e.flags|=1,Os(t,e,i,r),e.child)}function iv(t,e,i,n,r,a){return ho(e),e.updateQueue=null,i=e9(e,n,i,r),J8(t),n=p4(),t!==null&&!us?(f4(t,e,a),Xr(t,e,a)):(st&&n&&r4(e),e.flags|=1,Os(t,e,i,a),e.child)}function nv(t,e,i,n,r){if(ho(e),e.stateNode===null){var a=Jo,l=i.contextType;typeof l=="object"&&l!==null&&(a=Ls(l)),a=new i(n,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=rg,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=n,a.state=e.memoizedState,a.refs={},d4(e),l=i.contextType,a.context=typeof l=="object"&&l!==null?Ls(l):Jo,a.state=e.memoizedState,l=i.getDerivedStateFromProps,typeof l=="function"&&(Gf(e,i,l,n),a.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&rg.enqueueReplaceState(a,a.state,null),nd(e,n,a,r),id(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){a=e.stateNode;var c=e.memoizedProps,d=po(i,c);a.props=d;var h=a.context,m=i.contextType;l=Jo,typeof m=="object"&&m!==null&&(l=Ls(m));var p=i.getDerivedStateFromProps;m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c||h!==l)&&K3(e,a,n,l),_a=!1;var f=e.memoizedState;a.state=f,nd(e,n,a,r),id(),h=e.memoizedState,c||f!==h||_a?(typeof p=="function"&&(Gf(e,i,p,n),h=e.memoizedState),(d=_a||X3(e,i,d,n,f,h,l))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=l,n=d):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Q1(t,e),l=e.memoizedProps,m=po(i,l),a.props=m,p=e.pendingProps,f=a.context,h=i.contextType,d=Jo,typeof h=="object"&&h!==null&&(d=Ls(h)),c=i.getDerivedStateFromProps,(h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||f!==d)&&K3(e,a,n,d),_a=!1,f=e.memoizedState,a.state=f,nd(e,n,a,r),id();var b=e.memoizedState;l!==p||f!==b||_a||t!==null&&t.dependencies!==null&&ym(t.dependencies)?(typeof c=="function"&&(Gf(e,i,c,n),b=e.memoizedState),(m=_a||X3(e,i,m,n,f,b,d)||t!==null&&t.dependencies!==null&&ym(t.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=d,n=m):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return a=n,Vu(t,e),n=(e.flags&128)!==0,a||n?(a=e.stateNode,i=n&&typeof i.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&n?(e.child=uo(e,t.child,null,r),e.child=uo(e,null,i,r)):Os(t,e,i,r),e.memoizedState=a.state,t=e.child):t=Xr(t,e,r),t}function rv(t,e,i,n){return co(),e.flags|=256,Os(t,e,i,n),e.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:V8()}}function Zf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Ri),t}function P9(t,e,i){var n=e.pendingProps,r=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(is.current&2)!==0),l&&(r=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(st){if(r?Ma(e):za(),(t=qt)?(t=qw(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ll!==null?{id:Fn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},i=U8(t),i.return=e,e.child=i,Bs=e,qt=null)):t=null,t===null)throw ol(e);return jg(t)?e.lanes=32:e.lanes=536870912,null}var c=n.children;return n=n.fallback,r?(za(),r=e.mode,c=Sm({mode:"hidden",children:c},r),n=io(n,r,i,null),c.return=e,n.return=e,c.sibling=n,e.child=c,n=e.child,n.memoizedState=Wf(i),n.childLanes=Zf(t,l,i),e.memoizedState=Vf,G0(null,n)):(Ma(e),og(e,c))}var d=t.memoizedState;if(d!==null&&(c=d.dehydrated,c!==null)){if(a)e.flags&256?(Ma(e),e.flags&=-257,e=Yf(t,e,i)):e.memoizedState!==null?(za(),e.child=t.child,e.flags|=128,e=null):(za(),c=n.fallback,r=e.mode,n=Sm({mode:"visible",children:n.children},r),c=io(c,r,i,null),c.flags|=2,n.return=e,c.return=e,n.sibling=c,e.child=n,uo(e,t.child,null,i),n=e.child,n.memoizedState=Wf(i),n.childLanes=Zf(t,l,i),e.memoizedState=Vf,e=G0(null,n));else if(Ma(e),jg(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var h=l.dgst;l=h,n=Error(ae(419)),n.stack="",n.digest=l,Sd({value:n,source:null,stack:null}),e=Yf(t,e,i)}else if(us||Wc(t,e,i,!1),l=(i&t.childLanes)!==0,us||l){if(l=bt,l!==null&&(n=p8(l,i),n!==0&&n!==d.retryLane))throw d.retryLane=n,wo(t,n),wi(l,t,n),T4;vg(c)||Im(),e=Yf(t,e,i)}else vg(c)?(e.flags|=192,e.child=t.child,e=null):(t=d.treeContext,qt=dn(c.nextSibling),Bs=e,st=!0,Ya=null,nn=!1,t!==null&&H8(e,t),e=og(e,n.children),e.flags|=4096);return e}return r?(za(),c=n.fallback,r=e.mode,d=t.child,h=d.sibling,n=Br(d,{mode:"hidden",children:n.children}),n.subtreeFlags=d.subtreeFlags&65011712,h!==null?c=Br(h,c):(c=io(c,r,i,null),c.flags|=2),c.return=e,n.return=e,n.sibling=c,e.child=n,G0(null,n),n=e.child,c=t.child.memoizedState,c===null?c=Wf(i):(r=c.cachePool,r!==null?(d=hs._currentValue,r=r.parent!==d?{parent:d,pool:d}:r):r=V8(),c={baseLanes:c.baseLanes|i,cachePool:r}),n.memoizedState=c,n.childLanes=Zf(t,l,i),e.memoizedState=Vf,G0(t.child,n)):(Ma(e),i=t.child,t=i.sibling,i=Br(i,{mode:"visible",children:n.children}),i.return=e,i.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=i,e.memoizedState=null,i)}function og(t,e){return e=Sm({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Sm(t,e){return t=Mi(22,t,null,e),t.lanes=0,t}function Yf(t,e,i){return uo(e,t.child,null,i),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function av(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Y1(t.return,e,i)}function Xf(t,e,i,n,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r,treeForkCount:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=i,l.tailMode=r,l.treeForkCount=a)}function $9(t,e,i){var n=e.pendingProps,r=n.revealOrder,a=n.tail;n=n.children;var l=is.current,c=(l&2)!==0;if(c?(l=l&1|2,e.flags|=128):l&=1,Nt(is,l),Os(t,e,n,i),n=st?Td:0,!c&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&av(t,i,e);else if(t.tag===19)av(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&wm(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Xf(e,!1,r,i,a,n);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&wm(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Xf(e,!0,i,null,a,n);break;case"together":Xf(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function Xr(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),dl|=e.lanes,!(i&e.childLanes))if(t!==null){if(Wc(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,i=Br(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Br(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function S4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ym(t)))}function e_(t,e,i){switch(e.tag){case 3:um(e,e.stateNode.containerInfo),Ca(e,hs,t.memoizedState.cache),co();break;case 27:case 5:R1(e);break;case 4:um(e,e.stateNode.containerInfo);break;case 10:Ca(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,tg(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Ma(e),e.flags|=128,null):i&e.child.childLanes?P9(t,e,i):(Ma(e),t=Xr(t,e,i),t!==null?t.sibling:null);Ma(e);break;case 19:var r=(t.flags&128)!==0;if(n=(i&e.childLanes)!==0,n||(Wc(t,e,i,!1),n=(i&e.childLanes)!==0),r){if(n)return $9(t,e,i);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Nt(is,is.current),n)break;return null;case 22:return e.lanes=0,O9(t,e,i,e.pendingProps);case 24:Ca(e,hs,t.memoizedState.cache)}return Xr(t,e,i)}function B9(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)us=!0;else{if(!S4(t,i)&&!(e.flags&128))return us=!1,e_(t,e,i);us=!!(t.flags&131072)}else us=!1,st&&e.flags&1048576&&F8(e,Td,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(t=Zl(e.elementType),e.type=t,typeof t=="function")n4(t)?(n=po(t,n),e.tag=1,e=nv(null,e,t,n,i)):(e.tag=0,e=lg(null,e,t,n,i));else{if(t!=null){var r=t.$$typeof;if(r===H2){e.tag=11,e=J3(null,e,t,n,i);break e}else if(r===G2){e.tag=14,e=ev(null,e,t,n,i);break e}}throw e=z1(t)||t,Error(ae(306,e,""))}}return e;case 0:return lg(t,e,e.type,e.pendingProps,i);case 1:return n=e.type,r=po(n,e.pendingProps),nv(t,e,n,r,i);case 3:e:{if(um(e,e.stateNode.containerInfo),t===null)throw Error(ae(387));n=e.pendingProps;var a=e.memoizedState;r=a.element,Q1(t,e),nd(e,n,null,i);var l=e.memoizedState;if(n=l.cache,Ca(e,hs,n),n!==a.cache&&X1(e,[hs],i,!0),id(),n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=rv(t,e,n,i);break e}else if(n!==r){r=sn(Error(ae(424)),e),Sd(r),e=rv(t,e,n,i);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(qt=dn(t.firstChild),Bs=e,st=!0,Ya=null,nn=!0,i=Y8(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(co(),n===r){e=Xr(t,e,i);break e}Os(t,e,n,i)}e=e.child}return e;case 26:return Vu(t,e),t===null?(i=Sv(e.type,null,e.pendingProps,null))?e.memoizedState=i:st||(i=e.type,t=e.pendingProps,n=zm(Za.current).createElement(i),n[$s]=e,n[Ni]=t,Us(n,i,t),_s(n),e.stateNode=n):e.memoizedState=Sv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return R1(e),t===null&&st&&(n=e.stateNode=Iw(e.type,e.pendingProps,Za.current),Bs=e,nn=!0,r=qt,Nl(e.type)?(wg=r,qt=dn(n.firstChild)):qt=r),Os(t,e,e.pendingProps.children,i),Vu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&st&&((r=n=qt)&&(n=I_(n,e.type,e.pendingProps,nn),n!==null?(e.stateNode=n,Bs=e,qt=dn(n.firstChild),nn=!1,r=!0):r=!1),r||ol(e)),R1(e),r=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,n=a.children,bg(r,a)?n=null:l!==null&&bg(r,l)&&(e.flags|=32),e.memoizedState!==null&&(r=m4(t,e,GI,null,null,i),Cd._currentValue=r),Vu(t,e),Os(t,e,n,i),e.child;case 6:return t===null&&st&&((t=i=qt)&&(i=__(i,e.pendingProps,nn),i!==null?(e.stateNode=i,Bs=e,qt=null,t=!0):t=!1),t||ol(e)),null;case 13:return P9(t,e,i);case 4:return um(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=uo(e,null,n,i):Os(t,e,n,i),e.child;case 11:return J3(t,e,e.type,e.pendingProps,i);case 7:return Os(t,e,e.pendingProps,i),e.child;case 8:return Os(t,e,e.pendingProps.children,i),e.child;case 12:return Os(t,e,e.pendingProps.children,i),e.child;case 10:return n=e.pendingProps,Ca(e,e.type,n.value),Os(t,e,n.children,i),e.child;case 9:return r=e.type._context,n=e.pendingProps.children,ho(e),r=Ls(r),n=n(r),e.flags|=1,Os(t,e,n,i),e.child;case 14:return ev(t,e,e.type,e.pendingProps,i);case 15:return R9(t,e,e.type,e.pendingProps,i);case 19:return $9(t,e,i);case 31:return JI(t,e,i);case 22:return O9(t,e,i,e.pendingProps);case 24:return ho(e),n=Ls(hs),t===null?(r=o4(),r===null&&(r=bt,a=l4(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=i),r=a),e.memoizedState={parent:n,cache:r},d4(e),Ca(e,hs,r)):(t.lanes&i&&(Q1(t,e),nd(e,null,null,i),id()),r=t.memoizedState,a=e.memoizedState,r.parent!==n?(r={parent:n,cache:n},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ca(e,hs,n)):(n=a.cache,Ca(e,hs,n),n!==r.cache&&X1(e,[hs],i,!0))),Os(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(ae(156,e.tag))}function yr(t){t.flags|=4}function Kf(t,e,i,n,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(dw())t.flags|=8192;else throw ro=vm,c4}else t.flags&=-16777217}function lv(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Mw(e))if(dw())t.flags|=8192;else throw ro=vm,c4}function Jh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?h8():536870912,t.lanes|=e,Cc|=e)}function C0(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function t_(t,e,i){var n=e.pendingProps;switch(a4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Et(e),null;case 3:return i=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Lr(hs),Sc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Oo(e)?yr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Uf())),Et(e),null;case 26:var r=e.type,a=e.memoizedState;return t===null?(yr(e),a!==null?(Et(e),lv(e,a)):(Et(e),Kf(e,r,null,n,i))):a?a!==t.memoizedState?(yr(e),Et(e),lv(e,a)):(Et(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&yr(e),Et(e),Kf(e,r,t,n,i)),null;case 27:if(mm(e),i=Za.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&yr(e);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return Et(e),null}t=Kn.current,Oo(e)?R3(e):(t=Iw(r,n,i),e.stateNode=t,yr(e))}return Et(e),null;case 5:if(mm(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&yr(e);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return Et(e),null}if(a=Kn.current,Oo(e))R3(e);else{var l=zm(Za.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a=typeof n.is=="string"?l.createElement(r,{is:n.is}):l.createElement(r)}}a[$s]=e,a[Ni]=n;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=a;e:switch(Us(a,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yr(e)}}return Et(e),Kf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,i),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&yr(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(t=Za.current,Oo(e)){if(t=e.stateNode,i=e.memoizedProps,n=null,r=Bs,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}t[$s]=e,t=!!(t.nodeValue===i||n!==null&&n.suppressHydrationWarning===!0||Sw(t.nodeValue,i)),t||ol(e,!0)}else t=zm(t).createTextNode(n),t[$s]=e,e.stateNode=t}return Et(e),null;case 31:if(i=e.memoizedState,t===null||t.memoizedState!==null){if(n=Oo(e),i!==null){if(t===null){if(!n)throw Error(ae(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(557));t[$s]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),t=!1}else i=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return e.flags&256?(Ci(e),e):(Ci(e),null);if(e.flags&128)throw Error(ae(558))}return Et(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Oo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(ae(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ae(317));r[$s]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),r=!1}else r=Uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ci(e),e):(Ci(e),null)}return Ci(e),e.flags&128?(e.lanes=i,e):(i=n!==null,t=t!==null&&t.memoizedState!==null,i&&(n=e.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==r&&(n.flags|=2048)),i!==t&&i&&(e.child.flags|=8192),Jh(e,e.updateQueue),Et(e),null);case 4:return Sc(),t===null&&M4(e.stateNode.containerInfo),Et(e),null;case 10:return Lr(e.type),Et(e),null;case 19:if(Cs(is),n=e.memoizedState,n===null)return Et(e),null;if(r=(e.flags&128)!==0,a=n.rendering,a===null)if(r)C0(n,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=wm(t),a!==null){for(e.flags|=128,C0(n,!1),t=a.updateQueue,e.updateQueue=t,Jh(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)L8(i,t),i=i.sibling;return Nt(is,is.current&1|2),st&&Ar(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Oi()>Em&&(e.flags|=128,r=!0,C0(n,!1),e.lanes=4194304)}else{if(!r)if(t=wm(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Jh(e,t),C0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!st)return Et(e),null}else 2*Oi()-n.renderingStartTime>Em&&i!==536870912&&(e.flags|=128,r=!0,C0(n,!1),e.lanes=4194304);n.isBackwards?(a.sibling=e.child,e.child=a):(t=n.last,t!==null?t.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Oi(),t.sibling=null,i=is.current,Nt(is,r?i&1|2:i&1),st&&Ar(e,n.treeForkCount),t):(Et(e),null);case 22:case 23:return Ci(e),h4(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?i&536870912&&!(e.flags&128)&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),i=e.updateQueue,i!==null&&Jh(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==i&&(e.flags|=2048),t!==null&&Cs(no),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Lr(hs),Et(e),null;case 25:return null;case 30:return null}throw Error(ae(156,e.tag))}function s_(t,e){switch(a4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lr(hs),Sc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return mm(e),null;case 31:if(e.memoizedState!==null){if(Ci(e),e.alternate===null)throw Error(ae(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ci(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Cs(is),null;case 4:return Sc(),null;case 10:return Lr(e.type),null;case 22:case 23:return Ci(e),h4(),t!==null&&Cs(no),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Lr(hs),null;case 25:return null;default:return null}}function L9(t,e){switch(a4(e),e.tag){case 3:Lr(hs),Sc();break;case 26:case 27:case 5:mm(e);break;case 4:Sc();break;case 31:e.memoizedState!==null&&Ci(e);break;case 13:Ci(e);break;case 19:Cs(is);break;case 10:Lr(e.type);break;case 22:case 23:Ci(e),h4(),t!==null&&Cs(no);break;case 24:Lr(hs)}}function rh(t,e){try{var i=e.updateQueue,n=i!==null?i.lastEffect:null;if(n!==null){var r=n.next;i=r;do{if((i.tag&t)===t){n=void 0;var a=i.create,l=i.inst;n=a(),l.destroy=n}i=i.next}while(i!==r)}}catch(c){pt(e,e.return,c)}}function cl(t,e,i){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){var l=n.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,r=e;var d=i,h=c;try{h()}catch(m){pt(r,d,m)}}}n=n.next}while(n!==a)}}catch(m){pt(e,e.return,m)}}function U9(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{K8(e,i)}catch(n){pt(t,t.return,n)}}}function F9(t,e,i){i.props=po(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(n){pt(t,e,n)}}function ad(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof i=="function"?t.refCleanup=i(n):i.current=n}}catch(r){pt(t,e,r)}}function Gn(t,e){var i=t.ref,n=t.refCleanup;if(i!==null)if(typeof n=="function")try{n()}catch(r){pt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){pt(t,e,r)}else i.current=null}function H9(t){var e=t.type,i=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break e;case"img":i.src?n.src=i.src:i.srcSet&&(n.srcset=i.srcSet)}}catch(r){pt(t,t.return,r)}}function Qf(t,e,i){try{var n=t.stateNode;k_(n,t.type,i,e),n[Ni]=e}catch(r){pt(t,t.return,r)}}function G9(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nl(t.type)||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cg(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=_r));else if(n!==4&&(n===27&&Nl(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(cg(t,e,i),t=t.sibling;t!==null;)cg(t,e,i),t=t.sibling}function Am(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(n===27&&Nl(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Am(t,e,i),t=t.sibling;t!==null;)Am(t,e,i),t=t.sibling}function V9(t){var e=t.stateNode,i=t.memoizedProps;try{for(var n=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Us(e,n,i),e[$s]=t,e[Ni]=i}catch(a){pt(t,t.return,a)}}var qr=!1,ds=!1,ex=!1,ov=typeof WeakSet=="function"?WeakSet:Set,Is=null;function i_(t,e){if(t=t.containerInfo,xg=Pm,t=M8(t),t4(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{i.nodeType,a.nodeType}catch{i=null;break e}var l=0,c=-1,d=-1,h=0,m=0,p=t,f=null;t:for(;;){for(var b;p!==i||r!==0&&p.nodeType!==3||(c=l+r),p!==a||n!==0&&p.nodeType!==3||(d=l+n),p.nodeType===3&&(l+=p.nodeValue.length),(b=p.firstChild)!==null;)f=p,p=b;for(;;){if(p===t)break t;if(f===i&&++h===r&&(c=l),f===a&&++m===n&&(d=l),(b=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=b}i=c===-1||d===-1?null:{start:c,end:d}}else i=null}i=i||{start:0,end:0}}else i=null;for(gg={focusedElem:t,selectionRange:i},Pm=!1,Is=e;Is!==null;)if(e=Is,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Is=t;else for(;Is!==null;){switch(e=Is,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)r=t[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,i=e,r=a.memoizedProps,a=a.memoizedState,n=i.stateNode;try{var N=po(i.type,r);t=n.getSnapshotBeforeUpdate(N,a),n.__reactInternalSnapshotBeforeUpdate=t}catch(I){pt(i,i.return,I)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)yg(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ae(163))}if(t=e.sibling,t!==null){t.return=e.return,Is=t;break}Is=e.return}}function W9(t,e,i){var n=i.flags;switch(i.tag){case 0:case 11:case 15:jr(t,i),n&4&&rh(5,i);break;case 1:if(jr(t,i),n&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(l){pt(i,i.return,l)}else{var r=po(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){pt(i,i.return,l)}}n&64&&U9(i),n&512&&ad(i,i.return);break;case 3:if(jr(t,i),n&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{K8(t,e)}catch(l){pt(i,i.return,l)}}break;case 27:e===null&&n&4&&V9(i);case 26:case 5:jr(t,i),e===null&&n&4&&H9(i),n&512&&ad(i,i.return);break;case 12:jr(t,i);break;case 31:jr(t,i),n&4&&X9(t,i);break;case 13:jr(t,i),n&4&&K9(t,i),n&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=u_.bind(null,i),C_(t,i))));break;case 22:if(n=i.memoizedState!==null||qr,!n){e=e!==null&&e.memoizedState!==null||ds,r=qr;var a=ds;qr=n,(ds=e)&&!a?Sr(t,i,(i.subtreeFlags&8772)!==0):jr(t,i),qr=r,ds=a}break;case 30:break;default:jr(t,i)}}function Z9(t){var e=t.alternate;e!==null&&(t.alternate=null,Z9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Y2(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,xi=!1;function vr(t,e,i){for(i=i.child;i!==null;)Y9(t,e,i),i=i.sibling}function Y9(t,e,i){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Qd,i)}catch{}switch(i.tag){case 26:ds||Gn(i,e),vr(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ds||Gn(i,e);var n=Ct,r=xi;Nl(i.type)&&(Ct=i.stateNode,xi=!1),vr(t,e,i),dd(i.stateNode),Ct=n,xi=r;break;case 5:ds||Gn(i,e);case 6:if(n=Ct,r=xi,Ct=null,vr(t,e,i),Ct=n,xi=r,Ct!==null)if(xi)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(i.stateNode)}catch(a){pt(i,e,a)}else try{Ct.removeChild(i.stateNode)}catch(a){pt(i,e,a)}break;case 18:Ct!==null&&(xi?(t=Ct,jv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Rc(t)):jv(Ct,i.stateNode));break;case 4:n=Ct,r=xi,Ct=i.stateNode.containerInfo,xi=!0,vr(t,e,i),Ct=n,xi=r;break;case 0:case 11:case 14:case 15:cl(2,i,e),ds||cl(4,i,e),vr(t,e,i);break;case 1:ds||(Gn(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"&&F9(i,e,n)),vr(t,e,i);break;case 21:vr(t,e,i);break;case 22:ds=(n=ds)||i.memoizedState!==null,vr(t,e,i),ds=n;break;default:vr(t,e,i)}}function X9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rc(t)}catch(i){pt(e,e.return,i)}}}function K9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rc(t)}catch(i){pt(e,e.return,i)}}function n_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new ov),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new ov),e;default:throw Error(ae(435,t.tag))}}function eu(t,e){var i=n_(t);e.forEach(function(n){if(!i.has(n)){i.add(n);var r=m_.bind(null,t,n);n.then(r,r)}})}function pi(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var r=i[n],a=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(Nl(c.type)){Ct=c.stateNode,xi=!1;break e}break;case 5:Ct=c.stateNode,xi=!1;break e;case 3:case 4:Ct=c.stateNode.containerInfo,xi=!0;break e}c=c.return}if(Ct===null)throw Error(ae(160));Y9(a,l,r),Ct=null,xi=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Q9(e,t),e=e.sibling}var En=null;function Q9(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pi(e,t),fi(t),n&4&&(cl(3,t,t.return),rh(3,t),cl(5,t,t.return));break;case 1:pi(e,t),fi(t),n&512&&(ds||i===null||Gn(i,i.return)),n&64&&qr&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?n:i.concat(n))));break;case 26:var r=En;if(pi(e,t),fi(t),n&512&&(ds||i===null||Gn(i,i.return)),n&4){var a=i!==null?i.memoizedState:null;if(n=t.memoizedState,i===null)if(n===null)if(t.stateNode===null){e:{n=t.type,i=t.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":a=r.getElementsByTagName("title")[0],(!a||a[th]||a[$s]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(n),r.head.insertBefore(a,r.querySelector("head > title"))),Us(a,n,i),a[$s]=t,_s(a),n=a;break e;case"link":var l=Ev("link","href",r).get(n+(i.href||""));if(l){for(var c=0;c<l.length;c++)if(a=l[c],a.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&a.getAttribute("rel")===(i.rel==null?null:i.rel)&&a.getAttribute("title")===(i.title==null?null:i.title)&&a.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){l.splice(c,1);break t}}a=r.createElement(n),Us(a,n,i),r.head.appendChild(a);break;case"meta":if(l=Ev("meta","content",r).get(n+(i.content||""))){for(c=0;c<l.length;c++)if(a=l[c],a.getAttribute("content")===(i.content==null?null:""+i.content)&&a.getAttribute("name")===(i.name==null?null:i.name)&&a.getAttribute("property")===(i.property==null?null:i.property)&&a.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&a.getAttribute("charset")===(i.charSet==null?null:i.charSet)){l.splice(c,1);break t}}a=r.createElement(n),Us(a,n,i),r.head.appendChild(a);break;default:throw Error(ae(468,n))}a[$s]=t,_s(a),n=a}t.stateNode=n}else qv(r,t.type,t.stateNode);else t.stateNode=Av(r,n,t.memoizedProps);else a!==n?(a===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):a.count--,n===null?qv(r,t.type,t.stateNode):Av(r,n,t.memoizedProps)):n===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,i.memoizedProps)}break;case 27:pi(e,t),fi(t),n&512&&(ds||i===null||Gn(i,i.return)),i!==null&&n&4&&Qf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(pi(e,t),fi(t),n&512&&(ds||i===null||Gn(i,i.return)),t.flags&32){r=t.stateNode;try{Ec(r,"")}catch(N){pt(t,t.return,N)}}n&4&&t.stateNode!=null&&(r=t.memoizedProps,Qf(t,r,i!==null?i.memoizedProps:r)),n&1024&&(ex=!0);break;case 6:if(pi(e,t),fi(t),n&4){if(t.stateNode===null)throw Error(ae(162));n=t.memoizedProps,i=t.stateNode;try{i.nodeValue=n}catch(N){pt(t,t.return,N)}}break;case 3:if(Yu=null,r=En,En=Dm(e.containerInfo),pi(e,t),En=r,fi(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Rc(e.containerInfo)}catch(N){pt(t,t.return,N)}ex&&(ex=!1,J9(t));break;case 4:n=En,En=Dm(t.stateNode.containerInfo),pi(e,t),fi(t),En=n;break;case 12:pi(e,t),fi(t);break;case 31:pi(e,t),fi(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,eu(t,n)));break;case 13:pi(e,t),fi(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Rp=Oi()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,eu(t,n)));break;case 22:r=t.memoizedState!==null;var d=i!==null&&i.memoizedState!==null,h=qr,m=ds;if(qr=h||r,ds=m||d,pi(e,t),ds=m,qr=h,fi(t),n&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(i===null||d||qr||ds||Yl(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){d=i=e;try{if(a=d.stateNode,r)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=d.stateNode;var p=d.memoizedProps.style,f=p!=null&&p.hasOwnProperty("display")?p.display:null;c.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(N){pt(d,d.return,N)}}}else if(e.tag===6){if(i===null){d=e;try{d.stateNode.nodeValue=r?"":d.memoizedProps}catch(N){pt(d,d.return,N)}}}else if(e.tag===18){if(i===null){d=e;try{var b=d.stateNode;r?wv(b,!0):wv(d.stateNode,!1)}catch(N){pt(d,d.return,N)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(i=n.retryQueue,i!==null&&(n.retryQueue=null,eu(t,i))));break;case 19:pi(e,t),fi(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,eu(t,n)));break;case 30:break;case 21:break;default:pi(e,t),fi(t)}}function fi(t){var e=t.flags;if(e&2){try{for(var i,n=t.return;n!==null;){if(G9(n)){i=n;break}n=n.return}if(i==null)throw Error(ae(160));switch(i.tag){case 27:var r=i.stateNode,a=Jf(t);Am(t,a,r);break;case 5:var l=i.stateNode;i.flags&32&&(Ec(l,""),i.flags&=-33);var c=Jf(t);Am(t,c,l);break;case 3:case 4:var d=i.stateNode.containerInfo,h=Jf(t);cg(t,h,d);break;default:throw Error(ae(161))}}catch(m){pt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J9(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;J9(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function jr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)W9(t,e.alternate,e),e=e.sibling}function Yl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:cl(4,e,e.return),Yl(e);break;case 1:Gn(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&F9(e,e.return,i),Yl(e);break;case 27:dd(e.stateNode);case 26:case 5:Gn(e,e.return),Yl(e);break;case 22:e.memoizedState===null&&Yl(e);break;case 30:Yl(e);break;default:Yl(e)}t=t.sibling}}function Sr(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,r=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(r,a,i),rh(4,a);break;case 1:if(Sr(r,a,i),n=a,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){pt(n,n.return,h)}if(n=a,r=n.updateQueue,r!==null){var c=n.stateNode;try{var d=r.shared.hiddenCallbacks;if(d!==null)for(r.shared.hiddenCallbacks=null,r=0;r<d.length;r++)X8(d[r],c)}catch(h){pt(n,n.return,h)}}i&&l&64&&U9(a),ad(a,a.return);break;case 27:V9(a);case 26:case 5:Sr(r,a,i),i&&n===null&&l&4&&H9(a),ad(a,a.return);break;case 12:Sr(r,a,i);break;case 31:Sr(r,a,i),i&&l&4&&X9(r,a);break;case 13:Sr(r,a,i),i&&l&4&&K9(r,a);break;case 22:a.memoizedState===null&&Sr(r,a,i),ad(a,a.return);break;case 30:break;default:Sr(r,a,i)}e=e.sibling}}function A4(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ih(i))}function E4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ih(t))}function kn(t,e,i,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ew(t,e,i,n),e=e.sibling}function ew(t,e,i,n){var r=e.flags;switch(e.tag){case 0:case 11:case 15:kn(t,e,i,n),r&2048&&rh(9,e);break;case 1:kn(t,e,i,n);break;case 3:kn(t,e,i,n),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ih(t)));break;case 12:if(r&2048){kn(t,e,i,n),t=e.stateNode;try{var a=e.memoizedProps,l=a.id,c=a.onPostCommit;typeof c=="function"&&c(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(d){pt(e,e.return,d)}}else kn(t,e,i,n);break;case 31:kn(t,e,i,n);break;case 13:kn(t,e,i,n);break;case 23:break;case 22:a=e.stateNode,l=e.alternate,e.memoizedState!==null?a._visibility&2?kn(t,e,i,n):ld(t,e):a._visibility&2?kn(t,e,i,n):(a._visibility|=2,Uo(t,e,i,n,(e.subtreeFlags&10256)!==0||!1)),r&2048&&A4(l,e);break;case 24:kn(t,e,i,n),r&2048&&E4(e.alternate,e);break;default:kn(t,e,i,n)}}function Uo(t,e,i,n,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,l=e,c=i,d=n,h=l.flags;switch(l.tag){case 0:case 11:case 15:Uo(a,l,c,d,r),rh(8,l);break;case 23:break;case 22:var m=l.stateNode;l.memoizedState!==null?m._visibility&2?Uo(a,l,c,d,r):ld(a,l):(m._visibility|=2,Uo(a,l,c,d,r)),r&&h&2048&&A4(l.alternate,l);break;case 24:Uo(a,l,c,d,r),r&&h&2048&&E4(l.alternate,l);break;default:Uo(a,l,c,d,r)}e=e.sibling}}function ld(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,n=e,r=n.flags;switch(n.tag){case 22:ld(i,n),r&2048&&A4(n.alternate,n);break;case 24:ld(i,n),r&2048&&E4(n.alternate,n);break;default:ld(i,n)}e=e.sibling}}var V0=8192;function Po(t,e,i){if(t.subtreeFlags&V0)for(t=t.child;t!==null;)tw(t,e,i),t=t.sibling}function tw(t,e,i){switch(t.tag){case 26:Po(t,e,i),t.flags&V0&&t.memoizedState!==null&&H_(i,En,t.memoizedState,t.memoizedProps);break;case 5:Po(t,e,i);break;case 3:case 4:var n=En;En=Dm(t.stateNode.containerInfo),Po(t,e,i),En=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=V0,V0=16777216,Po(t,e,i),V0=n):Po(t,e,i));break;default:Po(t,e,i)}}function sw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function M0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var i=0;i<e.length;i++){var n=e[i];Is=n,nw(n,t)}sw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iw(t),t=t.sibling}function iw(t){switch(t.tag){case 0:case 11:case 15:M0(t),t.flags&2048&&cl(9,t,t.return);break;case 3:M0(t);break;case 12:M0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Wu(t)):M0(t);break;default:M0(t)}}function Wu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var i=0;i<e.length;i++){var n=e[i];Is=n,nw(n,t)}sw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:cl(8,e,e.return),Wu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,Wu(e));break;default:Wu(e)}t=t.sibling}}function nw(t,e){for(;Is!==null;){var i=Is;switch(i.tag){case 0:case 11:case 15:cl(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var n=i.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ih(i.memoizedState.cache)}if(n=i.child,n!==null)n.return=i,Is=n;else e:for(i=t;Is!==null;){n=Is;var r=n.sibling,a=n.return;if(Z9(n),n===i){Is=null;break e}if(r!==null){r.return=a,Is=r;break e}Is=a}}}var r_={getCacheForType:function(t){var e=Ls(hs),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i},cacheSignal:function(){return Ls(hs).controller.signal}},a_=typeof WeakMap=="function"?WeakMap:Map,ct=0,bt=null,et=null,tt=0,ut=0,Ii=null,Ua=!1,Yc=!1,q4=!1,Kr=0,Qt=0,dl=0,ao=0,I4=0,Ri=0,Cc=0,od=null,yi=null,dg=!1,Rp=0,rw=0,Em=1/0,qm=null,Qa=null,bs=0,Ja=null,Mc=null,Ur=0,hg=0,ug=null,aw=null,cd=0,mg=null;function Bi(){return ct&2&&tt!==0?tt&-tt:Ve.T!==null?C4():f8()}function lw(){if(Ri===0)if(!(tt&536870912)||st){var t=Vh;Vh<<=1,!(Vh&3932160)&&(Vh=262144),Ri=t}else Ri=536870912;return t=Fi.current,t!==null&&(t.flags|=32),Ri}function wi(t,e,i){(t===bt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(zc(t,0),Fa(t,tt,Ri,!1)),eh(t,i),(!(ct&2)||t!==bt)&&(t===bt&&(!(ct&2)&&(ao|=i),Qt===4&&Fa(t,tt,Ri,!1)),nr(t))}function ow(t,e,i){if(ct&6)throw Error(ae(327));var n=!i&&(e&127)===0&&(e&t.expiredLanes)===0||Jd(t,e),r=n?c_(t,e):tx(t,e,!0),a=n;do{if(r===0){Yc&&!n&&Fa(t,e,0,!1);break}else{if(i=t.current.alternate,a&&!l_(i)){r=tx(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var c=t;r=od;var d=c.current.memoizedState.isDehydrated;if(d&&(zc(c,l).flags|=256),l=tx(c,l,!1),l!==2){if(q4&&!d){c.errorRecoveryDisabledLanes|=a,ao|=a,r=4;break e}a=yi,yi=r,a!==null&&(yi===null?yi=a:yi.push.apply(yi,a))}r=l}if(a=!1,r!==2)continue}}if(r===1){zc(t,0),Fa(t,e,0,!0);break}e:{switch(n=t,a=r,a){case 0:case 1:throw Error(ae(345));case 4:if((e&4194048)!==e)break;case 6:Fa(n,e,Ri,!Ua);break e;case 2:yi=null;break;case 3:case 5:break;default:throw Error(ae(329))}if((e&62914560)===e&&(r=Rp+300-Oi(),10<r)){if(Fa(n,e,Ri,!Ua),Tp(n,0,!0)!==0)break e;Ur=e,n.timeoutHandle=Ew(cv.bind(null,n,i,yi,qm,dg,e,Ri,ao,Cc,Ua,a,"Throttled",-0,0),r);break e}cv(n,i,yi,qm,dg,e,Ri,ao,Cc,Ua,a,null,-0,0)}}break}while(!0);nr(t)}function cv(t,e,i,n,r,a,l,c,d,h,m,p,f,b){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_r},tw(e,a,p);var N=(a&62914560)===a?Rp-Oi():(a&4194048)===a?rw-Oi():0;if(N=G_(p,N),N!==null){Ur=a,t.cancelPendingCommit=N(hv.bind(null,t,e,a,i,n,r,l,c,d,m,p,null,f,b)),Fa(t,a,l,!h);return}}hv(t,e,a,i,n,r,l,c,d)}function l_(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var n=0;n<i.length;n++){var r=i[n],a=r.getSnapshot;r=r.value;try{if(!Ui(a(),r))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fa(t,e,i,n){e&=~I4,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var r=e;0<r;){var a=31-$i(r),l=1<<a;n[a]=-1,r&=~l}i!==0&&u8(t,i,e)}function Op(){return ct&6?!0:(ah(0),!1)}function _4(){if(et!==null){if(ut===0)var t=et.return;else t=et,Cr=No=null,x4(t),fc=null,Ad=0,t=et;for(;t!==null;)L9(t.alternate,t),t=t.return;et=null}}function zc(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,A_(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ur=0,_4(),bt=t,et=i=Br(t.current,null),tt=e,ut=0,Ii=null,Ua=!1,Yc=Jd(t,e),q4=!1,Cc=Ri=I4=ao=dl=Qt=0,yi=od=null,dg=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var r=31-$i(n),a=1<<r;e|=t[r],n&=~a}return Kr=e,qp(),i}function cw(t,e){Ye=null,Ve.H=qd,e===Zc||e===_p?(e=L3(),ut=3):e===c4?(e=L3(),ut=4):ut=e===T4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ii=e,et===null&&(Qt=1,Tm(t,sn(e,t.current)))}function dw(){var t=Fi.current;return t===null?!0:(tt&4194048)===tt?cn===null:(tt&62914560)===tt||tt&536870912?t===cn:!1}function hw(){var t=Ve.H;return Ve.H=qd,t===null?qd:t}function uw(){var t=Ve.A;return Ve.A=r_,t}function Im(){Qt=4,Ua||(tt&4194048)!==tt&&Fi.current!==null||(Yc=!0),!(dl&134217727)&&!(ao&134217727)||bt===null||Fa(bt,tt,Ri,!1)}function tx(t,e,i){var n=ct;ct|=2;var r=hw(),a=uw();(bt!==t||tt!==e)&&(qm=null,zc(t,e)),e=!1;var l=Qt;e:do try{if(ut!==0&&et!==null){var c=et,d=Ii;switch(ut){case 8:_4(),l=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(e=!0);var h=ut;if(ut=0,Ii=null,sc(t,c,d,h),i&&Yc){l=0;break e}break;default:h=ut,ut=0,Ii=null,sc(t,c,d,h)}}o_(),l=Qt;break}catch(m){cw(t,m)}while(!0);return e&&t.shellSuspendCounter++,Cr=No=null,ct=n,Ve.H=r,Ve.A=a,et===null&&(bt=null,tt=0,qp()),l}function o_(){for(;et!==null;)mw(et)}function c_(t,e){var i=ct;ct|=2;var n=hw(),r=uw();bt!==t||tt!==e?(qm=null,Em=Oi()+500,zc(t,e)):Yc=Jd(t,e);e:do try{if(ut!==0&&et!==null){e=et;var a=Ii;t:switch(ut){case 1:ut=0,Ii=null,sc(t,e,a,1);break;case 2:case 9:if(B3(a)){ut=0,Ii=null,dv(e);break}e=function(){ut!==2&&ut!==9||bt!==t||(ut=7),nr(t)},a.then(e,e);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:B3(a)?(ut=0,Ii=null,dv(e)):(ut=0,Ii=null,sc(t,e,a,7));break;case 5:var l=null;switch(et.tag){case 26:l=et.memoizedState;case 5:case 27:var c=et;if(l?Mw(l):c.stateNode.complete){ut=0,Ii=null;var d=c.sibling;if(d!==null)et=d;else{var h=c.return;h!==null?(et=h,Pp(h)):et=null}break t}}ut=0,Ii=null,sc(t,e,a,5);break;case 6:ut=0,Ii=null,sc(t,e,a,6);break;case 8:_4(),Qt=6;break e;default:throw Error(ae(462))}}d_();break}catch(m){cw(t,m)}while(!0);return Cr=No=null,Ve.H=n,Ve.A=r,ct=i,et!==null?0:(bt=null,tt=0,qp(),Qt)}function d_(){for(;et!==null&&!Mq();)mw(et)}function mw(t){var e=B9(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?Pp(t):et=e}function dv(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=iv(i,e,e.pendingProps,e.type,void 0,tt);break;case 11:e=iv(i,e,e.pendingProps,e.type.render,e.ref,tt);break;case 5:x4(e);default:L9(i,e),e=et=L8(e,Kr),e=B9(i,e,Kr)}t.memoizedProps=t.pendingProps,e===null?Pp(t):et=e}function sc(t,e,i,n){Cr=No=null,x4(e),fc=null,Ad=0;var r=e.return;try{if(QI(t,r,e,i,tt)){Qt=1,Tm(t,sn(i,t.current)),et=null;return}}catch(a){if(r!==null)throw et=r,a;Qt=1,Tm(t,sn(i,t.current)),et=null;return}e.flags&32768?(st||n===1?t=!0:Yc||tt&536870912?t=!1:(Ua=t=!0,(n===2||n===9||n===3||n===6)&&(n=Fi.current,n!==null&&n.tag===13&&(n.flags|=16384))),pw(e,t)):Pp(e)}function Pp(t){var e=t;do{if(e.flags&32768){pw(e,Ua);return}t=e.return;var i=t_(e.alternate,e,Kr);if(i!==null){et=i;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);Qt===0&&(Qt=5)}function pw(t,e){do{var i=s_(t.alternate,t);if(i!==null){i.flags&=32767,et=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){et=t;return}et=t=i}while(t!==null);Qt=6,et=null}function hv(t,e,i,n,r,a,l,c,d){t.cancelPendingCommit=null;do $p();while(bs!==0);if(ct&6)throw Error(ae(327));if(e!==null){if(e===t.current)throw Error(ae(177));if(a=e.lanes|e.childLanes,a|=s4,Fq(t,i,a,l,c,d),t===bt&&(et=bt=null,tt=0),Mc=e,Ja=t,Ur=i,hg=a,ug=r,aw=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,p_(pm,function(){return yw(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=Ve.T,Ve.T=null,r=dt.p,dt.p=2,l=ct,ct|=4;try{i_(t,e,i)}finally{ct=l,dt.p=r,Ve.T=n}}bs=1,fw(),xw(),gw()}}function fw(){if(bs===1){bs=0;var t=Ja,e=Mc,i=(e.flags&13878)!==0;if(e.subtreeFlags&13878||i){i=Ve.T,Ve.T=null;var n=dt.p;dt.p=2;var r=ct;ct|=4;try{Q9(e,t);var a=gg,l=M8(t.containerInfo),c=a.focusedElem,d=a.selectionRange;if(l!==c&&c&&c.ownerDocument&&C8(c.ownerDocument.documentElement,c)){if(d!==null&&t4(c)){var h=d.start,m=d.end;if(m===void 0&&(m=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(m,c.value.length);else{var p=c.ownerDocument||document,f=p&&p.defaultView||window;if(f.getSelection){var b=f.getSelection(),N=c.textContent.length,I=Math.min(d.start,N),D=d.end===void 0?I:Math.min(d.end,N);!b.extend&&I>D&&(l=D,D=I,I=l);var k=M3(c,I),T=M3(c,D);if(k&&T&&(b.rangeCount!==1||b.anchorNode!==k.node||b.anchorOffset!==k.offset||b.focusNode!==T.node||b.focusOffset!==T.offset)){var A=p.createRange();A.setStart(k.node,k.offset),b.removeAllRanges(),I>D?(b.addRange(A),b.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),b.addRange(A))}}}}for(p=[],b=c;b=b.parentNode;)b.nodeType===1&&p.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<p.length;c++){var P=p[c];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Pm=!!xg,gg=xg=null}finally{ct=r,dt.p=n,Ve.T=i}}t.current=e,bs=2}}function xw(){if(bs===2){bs=0;var t=Ja,e=Mc,i=(e.flags&8772)!==0;if(e.subtreeFlags&8772||i){i=Ve.T,Ve.T=null;var n=dt.p;dt.p=2;var r=ct;ct|=4;try{W9(t,e.alternate,e)}finally{ct=r,dt.p=n,Ve.T=i}}bs=3}}function gw(){if(bs===4||bs===3){bs=0,zq();var t=Ja,e=Mc,i=Ur,n=aw;e.subtreeFlags&10256||e.flags&10256?bs=5:(bs=0,Mc=Ja=null,bw(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Qa=null),Z2(i),e=e.stateNode,Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Qd,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Ve.T,r=dt.p,dt.p=2,Ve.T=null;try{for(var a=t.onRecoverableError,l=0;l<n.length;l++){var c=n[l];a(c.value,{componentStack:c.stack})}}finally{Ve.T=e,dt.p=r}}Ur&3&&$p(),nr(t),r=t.pendingLanes,i&261930&&r&42?t===mg?cd++:(cd=0,mg=t):cd=0,ah(0)}}function bw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ih(e)))}function $p(){return fw(),xw(),gw(),yw()}function yw(){if(bs!==5)return!1;var t=Ja,e=hg;hg=0;var i=Z2(Ur),n=Ve.T,r=dt.p;try{dt.p=32>i?32:i,Ve.T=null,i=ug,ug=null;var a=Ja,l=Ur;if(bs=0,Mc=Ja=null,Ur=0,ct&6)throw Error(ae(331));var c=ct;if(ct|=4,iw(a.current),ew(a,a.current,l,i),ct=c,ah(0,!1),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Qd,a)}catch{}return!0}finally{dt.p=r,Ve.T=n,bw(t,e)}}function uv(t,e,i){e=sn(i,e),e=ag(t.stateNode,e,2),t=Ka(t,e,2),t!==null&&(eh(t,2),nr(t))}function pt(t,e,i){if(t.tag===3)uv(t,t,i);else for(;e!==null;){if(e.tag===3){uv(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){t=sn(i,t),i=z9(2),n=Ka(e,i,2),n!==null&&(D9(i,n,e,t),eh(n,2),nr(n));break}}e=e.return}}function sx(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new a_;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(i)||(q4=!0,r.add(i),t=h_.bind(null,t,e,i),e.then(t,t))}function h_(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,bt===t&&(tt&i)===i&&(Qt===4||Qt===3&&(tt&62914560)===tt&&300>Oi()-Rp?!(ct&2)&&zc(t,0):I4|=i,Cc===tt&&(Cc=0)),nr(t)}function vw(t,e){e===0&&(e=h8()),t=wo(t,e),t!==null&&(eh(t,e),nr(t))}function u_(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),vw(t,i)}function m_(t,e){var i=0;switch(t.tag){case 31:case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(i=r.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(ae(314))}n!==null&&n.delete(e),vw(t,i)}function p_(t,e){return V2(t,e)}var _m=null,Fo=null,pg=!1,Cm=!1,ix=!1,Ha=0;function nr(t){t!==Fo&&t.next===null&&(Fo===null?_m=Fo=t:Fo=Fo.next=t),Cm=!0,pg||(pg=!0,x_())}function ah(t,e){if(!ix&&Cm){ix=!0;do for(var i=!1,n=_m;n!==null;){if(t!==0){var r=n.pendingLanes;if(r===0)var a=0;else{var l=n.suspendedLanes,c=n.pingedLanes;a=(1<<31-$i(42|t)+1)-1,a&=r&~(l&~c),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(i=!0,mv(n,a))}else a=tt,a=Tp(n,n===bt?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(a&3)||Jd(n,a)||(i=!0,mv(n,a));n=n.next}while(i);ix=!1}}function f_(){jw()}function jw(){Cm=pg=!1;var t=0;Ha!==0&&S_()&&(t=Ha);for(var e=Oi(),i=null,n=_m;n!==null;){var r=n.next,a=ww(n,e);a===0?(n.next=null,i===null?_m=r:i.next=r,r===null&&(Fo=i)):(i=n,(t!==0||a&3)&&(Cm=!0)),n=r}bs!==0&&bs!==5||ah(t),Ha!==0&&(Ha=0)}function ww(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-$i(a),c=1<<l,d=r[l];d===-1?(!(c&i)||c&n)&&(r[l]=Uq(c,e)):d<=e&&(t.expiredLanes|=c),a&=~c}if(e=bt,i=tt,i=Tp(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,i===0||t===e&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&_f(n),t.callbackNode=null,t.callbackPriority=0;if(!(i&3)||Jd(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(n!==null&&_f(n),Z2(i)){case 2:case 8:i=c8;break;case 32:i=pm;break;case 268435456:i=d8;break;default:i=pm}return n=Nw.bind(null,t),i=V2(i,n),t.callbackPriority=e,t.callbackNode=i,e}return n!==null&&n!==null&&_f(n),t.callbackPriority=2,t.callbackNode=null,2}function Nw(t,e){if(bs!==0&&bs!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if($p()&&t.callbackNode!==i)return null;var n=tt;return n=Tp(t,t===bt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(ow(t,n,e),ww(t,Oi()),t.callbackNode!=null&&t.callbackNode===i?Nw.bind(null,t):null)}function mv(t,e){if($p())return null;ow(t,e,!0)}function x_(){E_(function(){ct&6?V2(o8,f_):jw()})}function C4(){if(Ha===0){var t=qc;t===0&&(t=Gh,Gh<<=1,!(Gh&261888)&&(Gh=256)),Ha=t}return Ha}function pv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pu(""+t)}function fv(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function g_(t,e,i,n,r){if(e==="submit"&&i&&i.stateNode===r){var a=pv((r[Ni]||null).action),l=n.submitter;l&&(e=(e=l[Ni]||null)?pv(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var c=new Sp("action","action",null,n,r);t.push({event:c,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ha!==0){var d=l?fv(r,l):new FormData(r);ng(i,{pending:!0,data:d,method:r.method,action:a},null,d)}}else typeof a=="function"&&(c.preventDefault(),d=l?fv(r,l):new FormData(r),ng(i,{pending:!0,data:d,method:r.method,action:a},a,d))},currentTarget:r}]})}}for(var nx=0;nx<V1.length;nx++){var rx=V1[nx],b_=rx.toLowerCase(),y_=rx[0].toUpperCase()+rx.slice(1);Rn(b_,"on"+y_)}Rn(D8,"onAnimationEnd");Rn(R8,"onAnimationIteration");Rn(O8,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(DI,"onTransitionRun");Rn(RI,"onTransitionStart");Rn(OI,"onTransitionCancel");Rn(P8,"onTransitionEnd");Ac("onMouseEnter",["mouseout","mouseover"]);Ac("onMouseLeave",["mouseout","mouseover"]);Ac("onPointerEnter",["pointerout","pointerover"]);Ac("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Id));function kw(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var l=n.length-1;0<=l;l--){var c=n[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&r.isPropagationStopped())break e;a=c,r.currentTarget=h;try{a(r)}catch(m){xm(m)}r.currentTarget=null,a=d}else for(l=0;l<n.length;l++){if(c=n[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&r.isPropagationStopped())break e;a=c,r.currentTarget=h;try{a(r)}catch(m){xm(m)}r.currentTarget=null,a=d}}}}function Je(t,e){var i=e[P1];i===void 0&&(i=e[P1]=new Set);var n=t+"__bubble";i.has(n)||(Tw(e,t,2,!1),i.add(n))}function ax(t,e,i){var n=0;e&&(n|=4),Tw(i,t,n,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function M4(t){if(!t[tu]){t[tu]=!0,x8.forEach(function(i){i!=="selectionchange"&&(v_.has(i)||ax(i,!1,t),ax(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,ax("selectionchange",!1,e))}}function Tw(t,e,i,n){switch(Pw(e)){case 2:var r=Z_;break;case 8:r=Y_;break;default:r=O4}i=r.bind(null,e,i,t),r=void 0,!F1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):r!==void 0?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function lx(t,e,i,n,r){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===r)break;if(l===4)for(l=n.return;l!==null;){var d=l.tag;if((d===3||d===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;c!==null;){if(l=Wo(c),l===null)return;if(d=l.tag,d===5||d===6||d===26||d===27){n=a=l;continue e}c=c.parentNode}}n=n.return}k8(function(){var h=a,m=K2(i),p=[];e:{var f=$8.get(t);if(f!==void 0){var b=Sp,N=t;switch(t){case"keypress":if(Bu(i)===0)break e;case"keydown":case"keyup":b=mI;break;case"focusin":N="focus",b=Rf;break;case"focusout":N="blur",b=Rf;break;case"beforeblur":case"afterblur":b=Rf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=N3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=tI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=xI;break;case D8:case R8:case O8:b=nI;break;case P8:b=bI;break;case"scroll":case"scrollend":b=Jq;break;case"wheel":b=vI;break;case"copy":case"cut":case"paste":b=aI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=T3;break;case"toggle":case"beforetoggle":b=wI}var I=(e&4)!==0,D=!I&&(t==="scroll"||t==="scrollend"),k=I?f!==null?f+"Capture":null:f;I=[];for(var T=h,A;T!==null;){var P=T;if(A=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||A===null||k===null||(P=wd(T,k),P!=null&&I.push(_d(T,P,A))),D)break;T=T.return}0<I.length&&(f=new b(f,N,null,i,m),p.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",f&&i!==U1&&(N=i.relatedTarget||i.fromElement)&&(Wo(N)||N[Gc]))break e;if((b||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,b?(N=i.relatedTarget||i.toElement,b=h,N=N?Wo(N):null,N!==null&&(D=Kd(N),I=N.tag,N!==D||I!==5&&I!==27&&I!==6)&&(N=null)):(b=null,N=h),b!==N)){if(I=N3,P="onMouseLeave",k="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(I=T3,P="onPointerLeave",k="onPointerEnter",T="pointer"),D=b==null?f:H0(b),A=N==null?f:H0(N),f=new I(P,T+"leave",b,i,m),f.target=D,f.relatedTarget=A,P=null,Wo(m)===h&&(I=new I(k,T+"enter",N,i,m),I.target=A,I.relatedTarget=D,P=I),D=P,b&&N)t:{for(I=j_,k=b,T=N,A=0,P=k;P;P=I(P))A++;P=0;for(var F=T;F;F=I(F))P++;for(;0<A-P;)k=I(k),A--;for(;0<P-A;)T=I(T),P--;for(;A--;){if(k===T||T!==null&&k===T.alternate){I=k;break t}k=I(k),T=I(T)}I=null}else I=null;b!==null&&xv(p,f,b,I,!1),N!==null&&D!==null&&xv(p,D,N,I,!0)}}e:{if(f=h?H0(h):window,b=f.nodeName&&f.nodeName.toLowerCase(),b==="select"||b==="input"&&f.type==="file")var ee=q3;else if(E3(f))if(I8)ee=CI;else{ee=II;var C=qI}else b=f.nodeName,!b||b.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?h&&X2(h.elementType)&&(ee=q3):ee=_I;if(ee&&(ee=ee(t,h))){q8(p,ee,i,m);break e}C&&C(t,f,h),t==="focusout"&&h&&f.type==="number"&&h.memoizedProps.value!=null&&L1(f,"number",f.value)}switch(C=h?H0(h):window,t){case"focusin":(E3(C)||C.contentEditable==="true")&&(Xo=C,H1=h,ed=null);break;case"focusout":ed=H1=Xo=null;break;case"mousedown":G1=!0;break;case"contextmenu":case"mouseup":case"dragend":G1=!1,z3(p,i,m);break;case"selectionchange":if(zI)break;case"keydown":case"keyup":z3(p,i,m)}var S;if(e4)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yo?A8(t,i)&&(_="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(_="onCompositionStart");_&&(S8&&i.locale!=="ko"&&(Yo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yo&&(S=T8()):(La=m,Q2="value"in La?La.value:La.textContent,Yo=!0)),C=Mm(h,_),0<C.length&&(_=new k3(_,t,null,i,m),p.push({event:_,listeners:C}),S?_.data=S:(S=E8(i),S!==null&&(_.data=S)))),(S=kI?TI(t,i):SI(t,i))&&(_=Mm(h,"onBeforeInput"),0<_.length&&(C=new k3("onBeforeInput","beforeinput",null,i,m),p.push({event:C,listeners:_}),C.data=S)),g_(p,t,h,i,m)}kw(p,e)})}function _d(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Mm(t,e){for(var i=e+"Capture",n=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=wd(t,i),r!=null&&n.unshift(_d(t,r,a)),r=wd(t,e),r!=null&&n.push(_d(t,r,a))),t.tag===3)return n;t=t.return}return[]}function j_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xv(t,e,i,n,r){for(var a=e._reactName,l=[];i!==null&&i!==n;){var c=i,d=c.alternate,h=c.stateNode;if(c=c.tag,d!==null&&d===n)break;c!==5&&c!==26&&c!==27||h===null||(d=h,r?(h=wd(i,a),h!=null&&l.unshift(_d(i,h,d))):r||(h=wd(i,a),h!=null&&l.push(_d(i,h,d)))),i=i.return}l.length!==0&&t.push({event:e,listeners:l})}var w_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(w_,`
`).replace(N_,"")}function Sw(t,e){return e=gv(e),gv(t)===e}function ft(t,e,i,n,r,a){switch(i){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||Ec(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&Ec(t,""+n);break;case"className":Zh(t,"class",n);break;case"tabIndex":Zh(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Zh(t,i,n);break;case"style":N8(t,n,a);break;case"data":if(e!=="object"){Zh(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(i);break}n=Pu(""+n),t.setAttribute(i,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(i==="formAction"?(e!=="input"&&ft(t,e,"name",r.name,r,null),ft(t,e,"formEncType",r.formEncType,r,null),ft(t,e,"formMethod",r.formMethod,r,null),ft(t,e,"formTarget",r.formTarget,r,null)):(ft(t,e,"encType",r.encType,r,null),ft(t,e,"method",r.method,r,null),ft(t,e,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(i);break}n=Pu(""+n),t.setAttribute(i,n);break;case"onClick":n!=null&&(t.onclick=_r);break;case"onScroll":n!=null&&Je("scroll",t);break;case"onScrollEnd":n!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ae(61));if(i=n.__html,i!=null){if(r.children!=null)throw Error(ae(60));t.innerHTML=i}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}i=Pu(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(i,""+n):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":n===!0?t.setAttribute(i,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(i,n):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(i,n):t.removeAttribute(i);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(i):t.setAttribute(i,n);break;case"popover":Je("beforetoggle",t),Je("toggle",t),Ou(t,"popover",n);break;case"xlinkActuate":br(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":br(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":br(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":br(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":br(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":br(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":br(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":br(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":br(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Ou(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Kq.get(i)||i,Ou(t,i,n))}}function fg(t,e,i,n,r,a){switch(i){case"style":N8(t,n,a);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(ae(61));if(i=n.__html,i!=null){if(r.children!=null)throw Error(ae(60));t.innerHTML=i}}break;case"children":typeof n=="string"?Ec(t,n):(typeof n=="number"||typeof n=="bigint")&&Ec(t,""+n);break;case"onScroll":n!=null&&Je("scroll",t);break;case"onScrollEnd":n!=null&&Je("scrollend",t);break;case"onClick":n!=null&&(t.onclick=_r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!g8.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),e=i.slice(2,r?i.length-7:void 0),a=t[Ni]||null,a=a!=null?a[i]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof n=="function")){typeof a!="function"&&a!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,n,r);break e}i in t?t[i]=n:n===!0?t.setAttribute(i,""):Ou(t,i,n)}}}function Us(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var n=!1,r=!1,a;for(a in i)if(i.hasOwnProperty(a)){var l=i[a];if(l!=null)switch(a){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,e));default:ft(t,e,a,l,i,null)}}r&&ft(t,e,"srcSet",i.srcSet,i,null),n&&ft(t,e,"src",i.src,i,null);return;case"input":Je("invalid",t);var c=a=l=r=null,d=null,h=null;for(n in i)if(i.hasOwnProperty(n)){var m=i[n];if(m!=null)switch(n){case"name":r=m;break;case"type":l=m;break;case"checked":d=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ae(137,e));break;default:ft(t,e,n,m,i,null)}}v8(t,a,c,d,h,l,r,!1);return;case"select":Je("invalid",t),n=l=a=null;for(r in i)if(i.hasOwnProperty(r)&&(c=i[r],c!=null))switch(r){case"value":a=c;break;case"defaultValue":l=c;break;case"multiple":n=c;default:ft(t,e,r,c,i,null)}e=a,i=l,t.multiple=!!n,e!=null?uc(t,!!n,e,!1):i!=null&&uc(t,!!n,i,!0);return;case"textarea":Je("invalid",t),a=r=n=null;for(l in i)if(i.hasOwnProperty(l)&&(c=i[l],c!=null))switch(l){case"value":n=c;break;case"defaultValue":r=c;break;case"children":a=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(ae(91));break;default:ft(t,e,l,c,i,null)}w8(t,n,r,a);return;case"option":for(d in i)if(i.hasOwnProperty(d)&&(n=i[d],n!=null))switch(d){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ft(t,e,d,n,i,null)}return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(n=0;n<Id.length;n++)Je(Id[n],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in i)if(i.hasOwnProperty(h)&&(n=i[h],n!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,e));default:ft(t,e,h,n,i,null)}return;default:if(X2(e)){for(m in i)i.hasOwnProperty(m)&&(n=i[m],n!==void 0&&fg(t,e,m,n,i,void 0));return}}for(c in i)i.hasOwnProperty(c)&&(n=i[c],n!=null&&ft(t,e,c,n,i,null))}function k_(t,e,i,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,c=null,d=null,h=null,m=null;for(b in i){var p=i[b];if(i.hasOwnProperty(b)&&p!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":d=p;default:n.hasOwnProperty(b)||ft(t,e,b,null,n,p)}}for(var f in n){var b=n[f];if(p=i[f],n.hasOwnProperty(f)&&(b!=null||p!=null))switch(f){case"type":a=b;break;case"name":r=b;break;case"checked":h=b;break;case"defaultChecked":m=b;break;case"value":l=b;break;case"defaultValue":c=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(ae(137,e));break;default:b!==p&&ft(t,e,f,b,n,p)}}B1(t,l,c,d,h,m,a,r);return;case"select":b=l=c=f=null;for(a in i)if(d=i[a],i.hasOwnProperty(a)&&d!=null)switch(a){case"value":break;case"multiple":b=d;default:n.hasOwnProperty(a)||ft(t,e,a,null,n,d)}for(r in n)if(a=n[r],d=i[r],n.hasOwnProperty(r)&&(a!=null||d!=null))switch(r){case"value":f=a;break;case"defaultValue":c=a;break;case"multiple":l=a;default:a!==d&&ft(t,e,r,a,n,d)}e=c,i=l,n=b,f!=null?uc(t,!!i,f,!1):!!n!=!!i&&(e!=null?uc(t,!!i,e,!0):uc(t,!!i,i?[]:"",!1));return;case"textarea":b=f=null;for(c in i)if(r=i[c],i.hasOwnProperty(c)&&r!=null&&!n.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ft(t,e,c,null,n,r)}for(l in n)if(r=n[l],a=i[l],n.hasOwnProperty(l)&&(r!=null||a!=null))switch(l){case"value":f=r;break;case"defaultValue":b=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(ae(91));break;default:r!==a&&ft(t,e,l,r,n,a)}j8(t,f,b);return;case"option":for(var N in i)if(f=i[N],i.hasOwnProperty(N)&&f!=null&&!n.hasOwnProperty(N))switch(N){case"selected":t.selected=!1;break;default:ft(t,e,N,null,n,f)}for(d in n)if(f=n[d],b=i[d],n.hasOwnProperty(d)&&f!==b&&(f!=null||b!=null))switch(d){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ft(t,e,d,f,n,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in i)f=i[I],i.hasOwnProperty(I)&&f!=null&&!n.hasOwnProperty(I)&&ft(t,e,I,null,n,f);for(h in n)if(f=n[h],b=i[h],n.hasOwnProperty(h)&&f!==b&&(f!=null||b!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ae(137,e));break;default:ft(t,e,h,f,n,b)}return;default:if(X2(e)){for(var D in i)f=i[D],i.hasOwnProperty(D)&&f!==void 0&&!n.hasOwnProperty(D)&&fg(t,e,D,void 0,n,f);for(m in n)f=n[m],b=i[m],!n.hasOwnProperty(m)||f===b||f===void 0&&b===void 0||fg(t,e,m,f,n,b);return}}for(var k in i)f=i[k],i.hasOwnProperty(k)&&f!=null&&!n.hasOwnProperty(k)&&ft(t,e,k,null,n,f);for(p in n)f=n[p],b=i[p],!n.hasOwnProperty(p)||f===b||f==null&&b==null||ft(t,e,p,f,n,b)}function bv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,i=performance.getEntriesByType("resource"),n=0;n<i.length;n++){var r=i[n],a=r.transferSize,l=r.initiatorType,c=r.duration;if(a&&c&&bv(l)){for(l=0,c=r.responseEnd,n+=1;n<i.length;n++){var d=i[n],h=d.startTime;if(h>c)break;var m=d.transferSize,p=d.initiatorType;m&&bv(p)&&(d=d.responseEnd,l+=m*(d<c?1:(c-h)/(d-h)))}if(--n,e+=8*(a+l)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xg=null,gg=null;function zm(t){return t.nodeType===9?t:t.ownerDocument}function yv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Aw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function bg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ox=null;function S_(){var t=window.event;return t&&t.type==="popstate"?t===ox?!1:(ox=t,!0):(ox=null,!1)}var Ew=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,E_=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(q_)}:Ew;function q_(t){setTimeout(function(){throw t})}function Nl(t){return t==="head"}function jv(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(n===0){t.removeChild(r),Rc(e);return}n--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")n++;else if(i==="html")dd(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,dd(i);for(var a=i.firstChild;a;){var l=a.nextSibling,c=a.nodeName;a[th]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||i.removeChild(a),a=l}}else i==="body"&&dd(t.ownerDocument.body);i=r}while(i);Rc(e)}function wv(t,e){var i=t;t=0;do{var n=i.nextSibling;if(i.nodeType===1?e?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(e?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),n&&n.nodeType===8)if(i=n.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=n}while(i)}function yg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":yg(i),Y2(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function I_(t,e,i,n){for(;t.nodeType===1;){var r=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[th])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=dn(t.nextSibling),t===null)break}return null}function __(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=dn(t.nextSibling),t===null))return null;return t}function qw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=dn(t.nextSibling),t===null))return null;return t}function vg(t){return t.data==="$?"||t.data==="$~"}function jg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function C_(t,e){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||i.readyState!=="loading")e();else{var n=function(){e(),i.removeEventListener("DOMContentLoaded",n)};i.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var wg=null;function Nv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(e===0)return dn(t.nextSibling);e--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||e++}t=t.nextSibling}return null}function kv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(e===0)return t;e--}else i!=="/$"&&i!=="/&"||e++}t=t.previousSibling}return null}function Iw(t,e,i){switch(e=zm(i),t){case"html":if(t=e.documentElement,!t)throw Error(ae(452));return t;case"head":if(t=e.head,!t)throw Error(ae(453));return t;case"body":if(t=e.body,!t)throw Error(ae(454));return t;default:throw Error(ae(451))}}function dd(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Y2(t)}var un=new Map,Tv=new Set;function Dm(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ca=dt.d;dt.d={f:M_,r:z_,D:D_,C:R_,L:O_,m:P_,X:B_,S:$_,M:L_};function M_(){var t=ca.f(),e=Op();return t||e}function z_(t){var e=Vc(t);e!==null&&e.tag===5&&e.type==="form"?N9(e):ca.r(t)}var Xc=typeof document>"u"?null:document;function _w(t,e,i){var n=Xc;if(n&&typeof e=="string"&&e){var r=tn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),Tv.has(r)||(Tv.add(r),t={rel:t,crossOrigin:i,href:e},n.querySelector(r)===null&&(e=n.createElement("link"),Us(e,"link",t),_s(e),n.head.appendChild(e)))}}function D_(t){ca.D(t),_w("dns-prefetch",t,null)}function R_(t,e){ca.C(t,e),_w("preconnect",t,e)}function O_(t,e,i){ca.L(t,e,i);var n=Xc;if(n&&t&&e){var r='link[rel="preload"][as="'+tn(e)+'"]';e==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+tn(i.imageSizes)+'"]')):r+='[href="'+tn(t)+'"]';var a=r;switch(e){case"style":a=Dc(t);break;case"script":a=Kc(t)}un.has(a)||(t=_t({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),un.set(a,t),n.querySelector(r)!==null||e==="style"&&n.querySelector(lh(a))||e==="script"&&n.querySelector(oh(a))||(e=n.createElement("link"),Us(e,"link",t),_s(e),n.head.appendChild(e)))}}function P_(t,e){ca.m(t,e);var i=Xc;if(i&&t){var n=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+tn(n)+'"][href="'+tn(t)+'"]',a=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Kc(t)}if(!un.has(a)&&(t=_t({rel:"modulepreload",href:t},e),un.set(a,t),i.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(oh(a)))return}n=i.createElement("link"),Us(n,"link",t),_s(n),i.head.appendChild(n)}}}function $_(t,e,i){ca.S(t,e,i);var n=Xc;if(n&&t){var r=hc(n).hoistableStyles,a=Dc(t);e=e||"default";var l=r.get(a);if(!l){var c={loading:0,preload:null};if(l=n.querySelector(lh(a)))c.loading=5;else{t=_t({rel:"stylesheet",href:t,"data-precedence":e},i),(i=un.get(a))&&z4(t,i);var d=l=n.createElement("link");_s(d),Us(d,"link",t),d._p=new Promise(function(h,m){d.onload=h,d.onerror=m}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Zu(l,e,n)}l={type:"stylesheet",instance:l,count:1,state:c},r.set(a,l)}}}function B_(t,e){ca.X(t,e);var i=Xc;if(i&&t){var n=hc(i).hoistableScripts,r=Kc(t),a=n.get(r);a||(a=i.querySelector(oh(r)),a||(t=_t({src:t,async:!0},e),(e=un.get(r))&&D4(t,e),a=i.createElement("script"),_s(a),Us(a,"link",t),i.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}}function L_(t,e){ca.M(t,e);var i=Xc;if(i&&t){var n=hc(i).hoistableScripts,r=Kc(t),a=n.get(r);a||(a=i.querySelector(oh(r)),a||(t=_t({src:t,async:!0,type:"module"},e),(e=un.get(r))&&D4(t,e),a=i.createElement("script"),_s(a),Us(a,"link",t),i.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}}function Sv(t,e,i,n){var r=(r=Za.current)?Dm(r):null;if(!r)throw Error(ae(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Dc(i.href),i=hc(r).hoistableStyles,n=i.get(e),n||(n={type:"style",instance:null,count:0,state:null},i.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Dc(i.href);var a=hc(r).hoistableStyles,l=a.get(t);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,l),(a=r.querySelector(lh(t)))&&!a._p&&(l.instance=a,l.state.loading=5),un.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},un.set(t,i),a||U_(r,t,i,l.state))),e&&n===null)throw Error(ae(528,""));return l}if(e&&n!==null)throw Error(ae(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Kc(i),i=hc(r).hoistableScripts,n=i.get(e),n||(n={type:"script",instance:null,count:0,state:null},i.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(ae(444,t))}}function Dc(t){return'href="'+tn(t)+'"'}function lh(t){return'link[rel="stylesheet"]['+t+"]"}function Cw(t){return _t({},t,{"data-precedence":t.precedence,precedence:null})}function U_(t,e,i,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),Us(e,"link",i),_s(e),t.head.appendChild(e))}function Kc(t){return'[src="'+tn(t)+'"]'}function oh(t){return"script[async]"+t}function Av(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+tn(i.href)+'"]');if(n)return e.instance=n,_s(n),n;var r=_t({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),_s(n),Us(n,"style",r),Zu(n,i.precedence,t),e.instance=n;case"stylesheet":r=Dc(i.href);var a=t.querySelector(lh(r));if(a)return e.state.loading|=4,e.instance=a,_s(a),a;n=Cw(i),(r=un.get(r))&&z4(n,r),a=(t.ownerDocument||t).createElement("link"),_s(a);var l=a;return l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),Us(a,"link",n),e.state.loading|=4,Zu(a,i.precedence,t),e.instance=a;case"script":return a=Kc(i.src),(r=t.querySelector(oh(a)))?(e.instance=r,_s(r),r):(n=i,(r=un.get(a))&&(n=_t({},i),D4(n,r)),t=t.ownerDocument||t,r=t.createElement("script"),_s(r),Us(r,"link",n),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(ae(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,Zu(n,i.precedence,t));return e.instance}function Zu(t,e,i){for(var n=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,a=r,l=0;l<n.length;l++){var c=n[l];if(c.dataset.precedence===e)a=c;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function z4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function D4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Yu=null;function Ev(t,e,i){if(Yu===null){var n=new Map,r=Yu=new Map;r.set(i,n)}else r=Yu,n=r.get(i),n||(n=new Map,r.set(i,n));if(n.has(t))return n;for(n.set(t,null),i=i.getElementsByTagName(t),r=0;r<i.length;r++){var a=i[r];if(!(a[th]||a[$s]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var c=n.get(l);c?c.push(a):n.set(l,[a])}}return n}function qv(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function F_(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Mw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function H_(t,e,i,n){if(i.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var r=Dc(n.href),a=e.querySelector(lh(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Rm.bind(t),e.then(t,t)),i.state.loading|=4,i.instance=a,_s(a);return}a=e.ownerDocument||e,n=Cw(n),(r=un.get(r))&&z4(n,r),a=a.createElement("link"),_s(a);var l=a;l._p=new Promise(function(c,d){l.onload=c,l.onerror=d}),Us(a,"link",n),i.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(t.count++,i=Rm.bind(t),e.addEventListener("load",i),e.addEventListener("error",i))}}var cx=0;function G_(t,e){return t.stylesheets&&t.count===0&&Xu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var n=setTimeout(function(){if(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&cx===0&&(cx=62500*T_());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xu(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>cx?50:800)+e);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function Rm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Om=null;function Xu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Om=new Map,e.forEach(V_,t),Om=null,Rm.call(t))}function V_(t,e){if(!(e.state.loading&4)){var i=Om.get(t);if(i)var n=i.get(null);else{i=new Map,Om.set(t,i);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(i.set(l.dataset.precedence,l),n=l)}n&&i.set(null,n)}r=e.instance,l=r.getAttribute("data-precedence"),a=i.get(l)||n,a===n&&i.set(null,r),i.set(l,r),this.count++,n=Rm.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Cd={$$typeof:Ir,Provider:null,Consumer:null,_currentValue:so,_currentValue2:so,_threadCount:0};function W_(t,e,i,n,r,a,l,c,d){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.hiddenUpdates=Cf(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function zw(t,e,i,n,r,a,l,c,d,h,m,p){return t=new W_(t,e,i,l,d,h,m,p,c),e=1,a===!0&&(e|=24),a=Mi(3,null,null,e),t.current=a,a.stateNode=t,e=l4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:n,isDehydrated:i,cache:e},d4(a),t}function Dw(t){return t?(t=Jo,t):Jo}function Rw(t,e,i,n,r,a){r=Dw(r),n.context===null?n.context=r:n.pendingContext=r,n=Xa(e),n.payload={element:i},a=a===void 0?null:a,a!==null&&(n.callback=a),i=Ka(t,n,e),i!==null&&(wi(i,t,e),sd(i,t,e))}function Iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function R4(t,e){Iv(t,e),(t=t.alternate)&&Iv(t,e)}function Ow(t){if(t.tag===13||t.tag===31){var e=wo(t,67108864);e!==null&&wi(e,t,67108864),R4(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var e=Bi();e=W2(e);var i=wo(t,e);i!==null&&wi(i,t,e),R4(t,e)}}var Pm=!0;function Z_(t,e,i,n){var r=Ve.T;Ve.T=null;var a=dt.p;try{dt.p=2,O4(t,e,i,n)}finally{dt.p=a,Ve.T=r}}function Y_(t,e,i,n){var r=Ve.T;Ve.T=null;var a=dt.p;try{dt.p=8,O4(t,e,i,n)}finally{dt.p=a,Ve.T=r}}function O4(t,e,i,n){if(Pm){var r=Ng(n);if(r===null)lx(t,e,n,$m,i),Cv(t,n);else if(K_(r,t,e,i,n))n.stopPropagation();else if(Cv(t,n),e&4&&-1<X_.indexOf(t)){for(;r!==null;){var a=Vc(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=Wl(a.pendingLanes);if(l!==0){var c=a;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var d=1<<31-$i(l);c.entanglements[1]|=d,l&=~d}nr(a),!(ct&6)&&(Em=Oi()+500,ah(0))}}break;case 31:case 13:c=wo(a,2),c!==null&&wi(c,a,2),Op(),R4(a,2)}if(a=Ng(n),a===null&&lx(t,e,n,$m,i),a===r)break;r=a}r!==null&&n.stopPropagation()}else lx(t,e,n,null,i)}}function Ng(t){return t=K2(t),P4(t)}var $m=null;function P4(t){if($m=null,t=Wo(t),t!==null){var e=Kd(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=i8(e),t!==null)return t;t=null}else if(i===31){if(t=n8(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return $m=t,null}function Pw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dq()){case o8:return 2;case c8:return 8;case pm:case Rq:return 32;case d8:return 268435456;default:return 32}default:return 32}}var kg=!1,el=null,tl=null,sl=null,Md=new Map,zd=new Map,Da=[],X_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(e.pointerId)}}function z0(t,e,i,n,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Vc(e),e!==null&&Ow(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function K_(t,e,i,n,r){switch(e){case"focusin":return el=z0(el,t,e,i,n,r),!0;case"dragenter":return tl=z0(tl,t,e,i,n,r),!0;case"mouseover":return sl=z0(sl,t,e,i,n,r),!0;case"pointerover":var a=r.pointerId;return Md.set(a,z0(Md.get(a)||null,t,e,i,n,r)),!0;case"gotpointercapture":return a=r.pointerId,zd.set(a,z0(zd.get(a)||null,t,e,i,n,r)),!0}return!1}function $w(t){var e=Wo(t.target);if(e!==null){var i=Kd(e);if(i!==null){if(e=i.tag,e===13){if(e=i8(i),e!==null){t.blockedOn=e,x3(t.priority,function(){_v(i)});return}}else if(e===31){if(e=n8(i),e!==null){t.blockedOn=e,x3(t.priority,function(){_v(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Ng(t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);U1=n,i.target.dispatchEvent(n),U1=null}else return e=Vc(i),e!==null&&Ow(e),t.blockedOn=i,!1;e.shift()}return!0}function Mv(t,e,i){Ku(t)&&i.delete(e)}function Q_(){kg=!1,el!==null&&Ku(el)&&(el=null),tl!==null&&Ku(tl)&&(tl=null),sl!==null&&Ku(sl)&&(sl=null),Md.forEach(Mv),zd.forEach(Mv)}function su(t,e){t.blockedOn===e&&(t.blockedOn=null,kg||(kg=!0,js.unstable_scheduleCallback(js.unstable_NormalPriority,Q_)))}var iu=null;function zv(t){iu!==t&&(iu=t,js.unstable_scheduleCallback(js.unstable_NormalPriority,function(){iu===t&&(iu=null);for(var e=0;e<t.length;e+=3){var i=t[e],n=t[e+1],r=t[e+2];if(typeof n!="function"){if(P4(n||i)===null)continue;break}var a=Vc(i);a!==null&&(t.splice(e,3),e-=3,ng(a,{pending:!0,data:r,method:i.method,action:n},n,r))}}))}function Rc(t){function e(d){return su(d,t)}el!==null&&su(el,t),tl!==null&&su(tl,t),sl!==null&&su(sl,t),Md.forEach(e),zd.forEach(e);for(var i=0;i<Da.length;i++){var n=Da[i];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Da.length&&(i=Da[0],i.blockedOn===null);)$w(i),i.blockedOn===null&&Da.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(n=0;n<i.length;n+=3){var r=i[n],a=i[n+1],l=r[Ni]||null;if(typeof a=="function")l||zv(i);else if(l){var c=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Ni]||null)c=l.formAction;else if(P4(r)!==null)continue}else c=l.action;typeof c=="function"?i[n+1]=c:(i.splice(n,3),n-=3),zv(i)}}}function Bw(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),n||setTimeout(i,20)}function i(){if(!n&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(i,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function $4(t){this._internalRoot=t}Bp.prototype.render=$4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));var i=e.current,n=Bi();Rw(i,n,t,e,null,null)};Bp.prototype.unmount=$4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rw(t.current,2,null,t,null,null),Op(),e[Gc]=null}};function Bp(t){this._internalRoot=t}Bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=f8();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Da.length&&e!==0&&e<Da[i].priority;i++);Da.splice(i,0,t),i===0&&$w(t)}};var Dv=t8.version;if(Dv!=="19.2.3")throw Error(ae(527,Dv,"19.2.3"));dt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=Eq(e),t=t!==null?r8(t):null,t=t===null?null:t.stateNode,t};var J_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ve,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Qd=nu.inject(J_),Pi=nu}catch{}}Np.createRoot=function(t,e){if(!s8(t))throw Error(ae(299));var i=!1,n="",r=_9,a=C9,l=M9;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=zw(t,1,!1,null,null,i,n,null,r,a,l,Bw),t[Gc]=e.current,M4(t),new $4(e)};Np.hydrateRoot=function(t,e,i){if(!s8(t))throw Error(ae(299));var n=!1,r="",a=_9,l=C9,c=M9,d=null;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(a=i.onUncaughtError),i.onCaughtError!==void 0&&(l=i.onCaughtError),i.onRecoverableError!==void 0&&(c=i.onRecoverableError),i.formState!==void 0&&(d=i.formState)),e=zw(t,1,!0,e,i??null,n,r,d,a,l,c,Bw),e.context=Dw(null),i=e.current,n=Bi(),n=W2(n),r=Xa(n),r.callback=null,Ka(i,r,n),i=n,e.current.lanes=i,eh(e,i),nr(e),t[Gc]=e.current,M4(t),new Bp(e)};Np.version="19.2.3";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(t){console.error(t)}}Lw(),Y7.exports=Np;var eC=Y7.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Dd.apply(this,arguments)}var Ga;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ga||(Ga={}));const Rv="popstate";function tC(t){t===void 0&&(t={});function e(r,a){let{pathname:l="/",search:c="",hash:d=""}=ko(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Tg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(r,a){let l=r.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=r.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof a=="string"?a:Bm(a))}function n(r,a){Lp(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return iC(e,i,n,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sC(){return Math.random().toString(36).substr(2,8)}function Ov(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,i,n){return i===void 0&&(i=null),Dd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ko(e):e,{state:i,key:e&&e.key||n||sC()})}function Bm(t){let{pathname:e="/",search:i="",hash:n=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ko(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iC(t,e,i,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:a=!1}=n,l=r.history,c=Ga.Pop,d=null,h=m();h==null&&(h=0,l.replaceState(Dd({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){c=Ga.Pop;let D=m(),k=D==null?null:D-h;h=D,d&&d({action:c,location:I.location,delta:k})}function f(D,k){c=Ga.Push;let T=Tg(I.location,D,k);i&&i(T,D),h=m()+1;let A=Ov(T,h),P=I.createHref(T);try{l.pushState(A,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(P)}a&&d&&d({action:c,location:I.location,delta:1})}function b(D,k){c=Ga.Replace;let T=Tg(I.location,D,k);i&&i(T,D),h=m();let A=Ov(T,h),P=I.createHref(T);l.replaceState(A,"",P),a&&d&&d({action:c,location:I.location,delta:0})}function N(D){let k=r.location.origin!=="null"?r.location.origin:r.location.href,T=typeof D=="string"?D:Bm(D);return T=T.replace(/ $/,"%20"),Jt(k,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,k)}let I={get action(){return c},get location(){return t(r,l)},listen(D){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Rv,p),d=D,()=>{r.removeEventListener(Rv,p),d=null}},createHref(D){return e(r,D)},createURL:N,encodeLocation(D){let k=N(D);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:f,replace:b,go(D){return l.go(D)}};return I}var Pv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pv||(Pv={}));function nC(t,e,i){return i===void 0&&(i="/"),rC(t,e,i)}function rC(t,e,i,n){let r=typeof e=="string"?ko(e):e,a=Oc(r.pathname||"/",i);if(a==null)return null;let l=Uw(t);aC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=gC(a);c=fC(l[d],h)}return c}function Uw(t,e,i,n){e===void 0&&(e=[]),i===void 0&&(i=[]),n===void 0&&(n="");let r=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Jt(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=il([n,d.relativePath]),m=i.concat(d);a.children&&a.children.length>0&&(Jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Uw(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:mC(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,l);else for(let d of Fw(a.path))r(a,l,d)}),e}function Fw(t){let e=t.split("/");if(e.length===0)return[];let[i,...n]=e,r=i.endsWith("?"),a=i.replace(/\?$/,"");if(n.length===0)return r?[a,""]:[a];let l=Fw(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),r&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function aC(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:pC(e.routesMeta.map(n=>n.childrenIndex),i.routesMeta.map(n=>n.childrenIndex)))}const lC=/^:[\w-]+$/,oC=3,cC=2,dC=1,hC=10,uC=-2,$v=t=>t==="*";function mC(t,e){let i=t.split("/"),n=i.length;return i.some($v)&&(n+=uC),e&&(n+=cC),i.filter(r=>!$v(r)).reduce((r,a)=>r+(lC.test(a)?oC:a===""?dC:hC),n)}function pC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function fC(t,e,i){let{routesMeta:n}=t,r={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Sg({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),f=d.route;if(!p)return null;Object.assign(r,p.params),l.push({params:r,pathname:il([a,p.pathname]),pathnameBase:wC(il([a,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(a=il([a,p.pathnameBase]))}return l}function Sg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,n]=xC(t.path,t.caseSensitive,t.end),r=e.match(i);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:f,isOptional:b}=m;if(f==="*"){let I=c[p]||"";l=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const N=c[p];return b&&!N?h[f]=void 0:h[f]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function xC(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Lp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function gC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Oc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,n=t.charAt(i);return n&&n!=="/"?null:t.slice(i)||"/"}const bC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yC=t=>bC.test(t);function vC(t,e){e===void 0&&(e="/");let{pathname:i,search:n="",hash:r=""}=typeof t=="string"?ko(t):t,a;if(i)if(yC(i))a=i;else{if(i.includes("//")){let l=i;i=i.replace(/\/\/+/g,"/"),Lp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+i))}i.startsWith("/")?a=Bv(i.substring(1),"/"):a=Bv(i,e)}else a=e;return{pathname:a,search:NC(n),hash:kC(r)}}function Bv(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function dx(t,e,i,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jC(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Hw(t,e){let i=jC(t);return e?i.map((n,r)=>r===i.length-1?n.pathname:n.pathnameBase):i.map(n=>n.pathnameBase)}function Gw(t,e,i,n){n===void 0&&(n=!1);let r;typeof t=="string"?r=ko(t):(r=Dd({},t),Jt(!r.pathname||!r.pathname.includes("?"),dx("?","pathname","search",r)),Jt(!r.pathname||!r.pathname.includes("#"),dx("#","pathname","hash",r)),Jt(!r.search||!r.search.includes("#"),dx("#","search","hash",r)));let a=t===""||r.pathname==="",l=a?"/":r.pathname,c;if(l==null)c=i;else{let p=e.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),p-=1;r.pathname=f.join("/")}c=p>=0?e[p]:"/"}let d=vC(r,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const il=t=>t.join("/").replace(/\/\/+/g,"/"),wC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vw=["post","put","patch","delete"];new Set(Vw);const SC=["get",...Vw];new Set(SC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Rd.apply(this,arguments)}const Up=Z.createContext(null),Ww=Z.createContext(null),kl=Z.createContext(null),Fp=Z.createContext(null),Tl=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),Zw=Z.createContext(null);function AC(t,e){let{relative:i}=e===void 0?{}:e;ch()||Jt(!1);let{basename:n,navigator:r}=Z.useContext(kl),{hash:a,pathname:l,search:c}=Hp(t,{relative:i}),d=l;return n!=="/"&&(d=l==="/"?n:il([n,l])),r.createHref({pathname:d,search:c,hash:a})}function ch(){return Z.useContext(Fp)!=null}function dh(){return ch()||Jt(!1),Z.useContext(Fp).location}function Yw(t){Z.useContext(kl).static||Z.useLayoutEffect(t)}function EC(){let{isDataRoute:t}=Z.useContext(Tl);return t?LC():qC()}function qC(){ch()||Jt(!1);let t=Z.useContext(Up),{basename:e,future:i,navigator:n}=Z.useContext(kl),{matches:r}=Z.useContext(Tl),{pathname:a}=dh(),l=JSON.stringify(Hw(r,i.v7_relativeSplatPath)),c=Z.useRef(!1);return Yw(()=>{c.current=!0}),Z.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=Gw(h,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:il([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,l,a,t])}function Xw(){let{matches:t}=Z.useContext(Tl),e=t[t.length-1];return e?e.params:{}}function Hp(t,e){let{relative:i}=e===void 0?{}:e,{future:n}=Z.useContext(kl),{matches:r}=Z.useContext(Tl),{pathname:a}=dh(),l=JSON.stringify(Hw(r,n.v7_relativeSplatPath));return Z.useMemo(()=>Gw(t,JSON.parse(l),a,i==="path"),[t,l,a,i])}function IC(t,e){return _C(t,e)}function _C(t,e,i,n){ch()||Jt(!1);let{navigator:r}=Z.useContext(kl),{matches:a}=Z.useContext(Tl),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=dh(),m;if(e){var p;let D=typeof e=="string"?ko(e):e;d==="/"||(p=D.pathname)!=null&&p.startsWith(d)||Jt(!1),m=D}else m=h;let f=m.pathname||"/",b=f;if(d!=="/"){let D=d.replace(/^\//,"").split("/");b="/"+f.replace(/^\//,"").split("/").slice(D.length).join("/")}let N=nC(t,{pathname:b}),I=RC(N&&N.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:il([d,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?d:il([d,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,i,n);return e&&I?Z.createElement(Fp.Provider,{value:{location:Rd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ga.Pop}},I):I}function CC(){let t=BC(),e=TC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),i?Z.createElement("pre",{style:r},i):null,null)}const MC=Z.createElement(CC,null);class zC extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?Z.createElement(Tl.Provider,{value:this.props.routeContext},Z.createElement(Zw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DC(t){let{routeContext:e,match:i,children:n}=t,r=Z.useContext(Up);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),Z.createElement(Tl.Provider,{value:e},n)}function RC(t,e,i,n){var r;if(e===void 0&&(e=[]),i===void 0&&(i=null),n===void 0&&(n=null),t==null){var a;if(!i)return null;if(i.errors)t=i.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let l=t,c=(r=i)==null?void 0:r.errors;if(c!=null){let m=l.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);m>=0||Jt(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(i&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let p=l[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:f,errors:b}=i,N=p.route.loader&&f[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||N){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,p,f)=>{let b,N=!1,I=null,D=null;i&&(b=c&&p.route.id?c[p.route.id]:void 0,I=p.route.errorElement||MC,d&&(h<0&&f===0?(UC("route-fallback"),N=!0,D=null):h===f&&(N=!0,D=p.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,f+1)),T=()=>{let A;return b?A=I:N?A=D:p.route.Component?A=Z.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=m,Z.createElement(DC,{match:p,routeContext:{outlet:m,matches:k,isDataRoute:i!=null},children:A})};return i&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?Z.createElement(zC,{location:i.location,revalidation:i.revalidation,component:I,error:b,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}var Kw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kw||{}),Qw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qw||{});function OC(t){let e=Z.useContext(Up);return e||Jt(!1),e}function PC(t){let e=Z.useContext(Ww);return e||Jt(!1),e}function $C(t){let e=Z.useContext(Tl);return e||Jt(!1),e}function Jw(t){let e=$C(),i=e.matches[e.matches.length-1];return i.route.id||Jt(!1),i.route.id}function BC(){var t;let e=Z.useContext(Zw),i=PC(),n=Jw();return e!==void 0?e:(t=i.errors)==null?void 0:t[n]}function LC(){let{router:t}=OC(Kw.UseNavigateStable),e=Jw(Qw.UseNavigateStable),i=Z.useRef(!1);return Yw(()=>{i.current=!0}),Z.useCallback(function(r,a){a===void 0&&(a={}),i.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Rd({fromRouteId:e},a)))},[t,e])}const Lv={};function UC(t,e,i){Lv[t]||(Lv[t]=!0)}function FC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ea(t){Jt(!1)}function HC(t){let{basename:e="/",children:i=null,location:n,navigationType:r=Ga.Pop,navigator:a,static:l=!1,future:c}=t;ch()&&Jt(!1);let d=e.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:d,navigator:a,static:l,future:Rd({v7_relativeSplatPath:!1},c)}),[d,c,a,l]);typeof n=="string"&&(n=ko(n));let{pathname:m="/",search:p="",hash:f="",state:b=null,key:N="default"}=n,I=Z.useMemo(()=>{let D=Oc(m,d);return D==null?null:{location:{pathname:D,search:p,hash:f,state:b,key:N},navigationType:r}},[d,m,p,f,b,N,r]);return I==null?null:Z.createElement(kl.Provider,{value:h},Z.createElement(Fp.Provider,{children:i,value:I}))}function GC(t){let{children:e,location:i}=t;return IC(Ag(e),i)}new Promise(()=>{});function Ag(t,e){e===void 0&&(e=[]);let i=[];return Z.Children.forEach(t,(n,r)=>{if(!Z.isValidElement(n))return;let a=[...e,r];if(n.type===Z.Fragment){i.push.apply(i,Ag(n.props.children,a));return}n.type!==Ea&&Jt(!1),!n.props.index||!n.props.children||Jt(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ag(n.props.children,a)),i.push(l)}),i}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Lm.apply(this,arguments)}function eN(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,a;for(a=0;a<n.length;a++)r=n[a],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}function VC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WC(t,e){return t.button===0&&(!e||e==="_self")&&!VC(t)}const ZC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],XC="6";try{window.__reactRouterVersion=XC}catch{}const KC=Z.createContext({isTransitioning:!1}),QC="startTransition",Uv=jq[QC];function JC(t){let{basename:e,children:i,future:n,window:r}=t,a=Z.useRef();a.current==null&&(a.current=tC({window:r,v5Compat:!0}));let l=a.current,[c,d]=Z.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},m=Z.useCallback(p=>{h&&Uv?Uv(()=>d(p)):d(p)},[d,h]);return Z.useLayoutEffect(()=>l.listen(m),[l,m]),Z.useEffect(()=>FC(n),[n]),Z.createElement(HC,{basename:e,children:i,location:c.location,navigationType:c.action,navigator:l,future:n})}const eM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=Z.forwardRef(function(e,i){let{onClick:n,relative:r,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:p}=e,f=eN(e,ZC),{basename:b}=Z.useContext(kl),N,I=!1;if(typeof h=="string"&&tM.test(h)&&(N=h,eM))try{let A=new URL(window.location.href),P=h.startsWith("//")?new URL(A.protocol+h):new URL(h),F=Oc(P.pathname,b);P.origin===A.origin&&F!=null?h=F+P.search+P.hash:I=!0}catch{}let D=AC(h,{relative:r}),k=iM(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:r,viewTransition:p});function T(A){n&&n(A),A.defaultPrevented||k(A)}return Z.createElement("a",Lm({},f,{href:N||D,onClick:I||a?n:T,ref:i,target:d}))}),hx=Z.forwardRef(function(e,i){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:h,children:m}=e,p=eN(e,YC),f=Hp(d,{relative:p.relative}),b=dh(),N=Z.useContext(Ww),{navigator:I,basename:D}=Z.useContext(kl),k=N!=null&&nM(f)&&h===!0,T=I.encodeLocation?I.encodeLocation(f).pathname:f.pathname,A=b.pathname,P=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;r||(A=A.toLowerCase(),P=P?P.toLowerCase():null,T=T.toLowerCase()),P&&D&&(P=Oc(P,D)||P);const F=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let ee=A===T||!l&&A.startsWith(T)&&A.charAt(F)==="/",C=P!=null&&(P===T||!l&&P.startsWith(T)&&P.charAt(T.length)==="/"),S={isActive:ee,isPending:C,isTransitioning:k},_=ee?n:void 0,O;typeof a=="function"?O=a(S):O=[a,ee?"active":null,C?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let B=typeof c=="function"?c(S):c;return Z.createElement(ys,Lm({},p,{"aria-current":_,className:O,ref:i,style:B,to:d,viewTransition:h}),typeof m=="function"?m(S):m)});var Eg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Eg||(Eg={}));var Fv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fv||(Fv={}));function sM(t){let e=Z.useContext(Up);return e||Jt(!1),e}function iM(t,e){let{target:i,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,d=EC(),h=dh(),m=Hp(t,{relative:l});return Z.useCallback(p=>{if(WC(p,i)){p.preventDefault();let f=n!==void 0?n:Bm(h)===Bm(m);d(t,{replace:f,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,m,n,r,i,t,a,l,c])}function nM(t,e){e===void 0&&(e={});let i=Z.useContext(KC);i==null&&Jt(!1);let{basename:n}=sM(Eg.useViewTransitionState),r=Hp(t,{relative:e.relative});if(!i.isTransitioning)return!1;let a=Oc(i.currentLocation.pathname,n)||i.currentLocation.pathname,l=Oc(i.nextLocation.pathname,n)||i.nextLocation.pathname;return Sg(r.pathname,l)!=null||Sg(r.pathname,a)!=null}const Od="numbers-geometry",B4="Numbers and Geometry",rM="An interactive course exploring the deep connections between numbers and geometry",tN="",aM="https://mathacademy-cyan.vercel.app";var Hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},lM=function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[i++];e[n++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[i++],l=t[i++],c=t[i++],d=((r&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[i++],l=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},iN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const a=t[r],l=r+1<t.length,c=l?t[r+1]:0,d=r+2<t.length,h=d?t[r+2]:0,m=a>>2,p=(a&3)<<4|c>>4;let f=(c&15)<<2|h>>6,b=h&63;d||(b=64,l||(f=64)),n.push(i[m],i[p],i[f],i[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const a=i[t.charAt(r++)],c=r<t.length?i[t.charAt(r)]:0;++r;const h=r<t.length?i[t.charAt(r)]:64;++r;const p=r<t.length?i[t.charAt(r)]:64;if(++r,a==null||c==null||h==null||p==null)throw new oM;const f=a<<2|c>>4;if(n.push(f),h!==64){const b=c<<4&240|h>>2;if(n.push(b),p!==64){const N=h<<6&192|p;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cM=function(t){const e=sN(t);return iN.encodeByteArray(e,!0)},nN=function(t){return cM(t).replace(/\./g,"")},rN=function(t){try{return iN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=()=>dM().__FIREBASE_DEFAULTS__,uM=()=>{if(typeof process>"u"||typeof Hv>"u")return;const t=Hv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rN(t[1]);return e&&JSON.parse(e)},L4=()=>{try{return hM()||uM()||mM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aN=t=>{var e,i;return(i=(e=L4())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},pM=t=>{const e=aN(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),n]:[e.substring(0,i),n]},lN=()=>{var t;return(t=L4())===null||t===void 0?void 0:t.config},oN=t=>{var e;return(e=L4())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ri())}function gM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vM(){const t=ri();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jM(){try{return typeof indexedDB=="object"}catch{return!1}}function wM(){return new Promise((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FirebaseError";class rr extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=NM,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?kM(a,n):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new rr(r,c,n)}}function kM(t,e){return t.replace(TM,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const TM=/\{\$([^}]+)}/g;function SM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Um(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const a=t[r],l=e[r];if(Gv(a)&&Gv(l)){if(!Um(a,l))return!1}else if(a!==l)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function Gv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){const e=[];for(const[i,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function AM(t,e){const i=new EM(t,e);return i.subscribe.bind(i)}class EM{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,n){let r;if(e===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");qM(e,["next","error","complete"])?r=e:r={next:e,error:i,complete:n},r.next===void 0&&(r.next=ux),r.error===void 0&&(r.error=ux),r.complete===void 0&&(r.complete=ux);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qM(t,e){if(typeof t!="object"||t===null)return!1;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function ux(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){return t&&t._delegate?t._delegate:t}class hl{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new fM;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CM(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(i);try{const a=this.getOrInitializeService({instanceIdentifier:r});n.resolve(a)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(r)}return r}onInit(e,i){var n;const r=this.normalizeInstanceIdentifier(i),a=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(n)for(const r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_M(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _M(t){return t===Xl?void 0:t}function CM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new IM(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const zM={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},DM=mt.INFO,RM={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},OM=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=RM[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U4{constructor(e){this.name=e,this._logLevel=DM,this._logHandler=OM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const PM=(t,e)=>e.some(i=>t instanceof i);let Vv,Wv;function $M(){return Vv||(Vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BM(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,qg=new WeakMap,dN=new WeakMap,mx=new WeakMap,F4=new WeakMap;function LM(t){const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{i(nl(t.result)),r()},l=()=>{n(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(i=>{i instanceof IDBCursor&&cN.set(i,t)}).catch(()=>{}),F4.set(e,t),e}function UM(t){if(qg.has(t))return;const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{i(),r()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});qg.set(t,e)}let Ig={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dN.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nl(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FM(t){Ig=t(Ig)}function HM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const n=t.call(px(this),e,...i);return dN.set(n,e.sort?e.sort():[e]),nl(n)}:BM().includes(t)?function(...e){return t.apply(px(this),e),nl(cN.get(this))}:function(...e){return nl(t.apply(px(this),e))}}function GM(t){return typeof t=="function"?HM(t):(t instanceof IDBTransaction&&UM(t),PM(t,$M())?new Proxy(t,Ig):t)}function nl(t){if(t instanceof IDBRequest)return LM(t);if(mx.has(t))return mx.get(t);const e=GM(t);return e!==t&&(mx.set(t,e),F4.set(e,t)),e}const px=t=>F4.get(t);function VM(t,e,{blocked:i,upgrade:n,blocking:r,terminated:a}={}){const l=indexedDB.open(t,e),c=nl(l);return n&&l.addEventListener("upgradeneeded",d=>{n(nl(l.result),d.oldVersion,d.newVersion,nl(l.transaction),d)}),i&&l.addEventListener("blocked",d=>i(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),r&&d.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const WM=["get","getKey","getAll","getAllKeys","count"],ZM=["put","add","delete","clear"],fx=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fx.get(e))return fx.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,r=ZM.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||WM.includes(i)))return;const a=async function(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[i](...c),r&&d.done]))[0]};return fx.set(e,a),a}FM(t=>({...t,get:(e,i,n)=>Zv(e,i)||t.get(e,i,n),has:(e,i)=>!!Zv(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XM(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function XM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _g="@firebase/app",Yv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new U4("@firebase/app"),KM="@firebase/app-compat",QM="@firebase/analytics-compat",JM="@firebase/analytics",ez="@firebase/app-check-compat",tz="@firebase/app-check",sz="@firebase/auth",iz="@firebase/auth-compat",nz="@firebase/database",rz="@firebase/data-connect",az="@firebase/database-compat",lz="@firebase/functions",oz="@firebase/functions-compat",cz="@firebase/installations",dz="@firebase/installations-compat",hz="@firebase/messaging",uz="@firebase/messaging-compat",mz="@firebase/performance",pz="@firebase/performance-compat",fz="@firebase/remote-config",xz="@firebase/remote-config-compat",gz="@firebase/storage",bz="@firebase/storage-compat",yz="@firebase/firestore",vz="@firebase/vertexai-preview",jz="@firebase/firestore-compat",wz="firebase",Nz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",kz={[_g]:"fire-core",[KM]:"fire-core-compat",[JM]:"fire-analytics",[QM]:"fire-analytics-compat",[tz]:"fire-app-check",[ez]:"fire-app-check-compat",[sz]:"fire-auth",[iz]:"fire-auth-compat",[nz]:"fire-rtdb",[rz]:"fire-data-connect",[az]:"fire-rtdb-compat",[lz]:"fire-fn",[oz]:"fire-fn-compat",[cz]:"fire-iid",[dz]:"fire-iid-compat",[hz]:"fire-fcm",[uz]:"fire-fcm-compat",[mz]:"fire-perf",[pz]:"fire-perf-compat",[fz]:"fire-rc",[xz]:"fire-rc-compat",[gz]:"fire-gcs",[bz]:"fire-gcs-compat",[yz]:"fire-fst",[jz]:"fire-fst-compat",[vz]:"fire-vertex","fire-js":"fire-js",[wz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,Tz=new Map,Mg=new Map;function Xv(t,e){try{t.container.addComponent(e)}catch(i){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function fo(t){const e=t.name;if(Mg.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const i of Pd.values())Xv(i,t);for(const i of Tz.values())Xv(i,t);return!0}function H4(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new hh("app","Firebase",Sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=Nz;function hN(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw rl.create("bad-app-name",{appName:String(r)});if(i||(i=lN()),!i)throw rl.create("no-options");const a=Pd.get(r);if(a){if(Um(i,a.options)&&Um(n,a.config))return a;throw rl.create("duplicate-app",{appName:r})}const l=new MM(r);for(const d of Mg.values())l.addComponent(d);const c=new Az(i,n,l);return Pd.set(r,c),c}function uN(t=Cg){const e=Pd.get(t);if(!e&&t===Cg&&lN())return hN();if(!e)throw rl.create("no-app",{appName:t});return e}function Ez(){return Array.from(Pd.values())}function Qn(t,e,i){var n;let r=(n=kz[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(c.join(" "));return}fo(new hl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="firebase-heartbeat-database",Iz=1,$d="firebase-heartbeat-store";let xx=null;function mN(){return xx||(xx=VM(qz,Iz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($d)}catch(i){console.warn(i)}}}}).catch(t=>{throw rl.create("idb-open",{originalErrorMessage:t.message})})),xx}async function _z(t){try{const i=(await mN()).transaction($d),n=await i.objectStore($d).get(pN(t));return await i.done,n}catch(e){if(e instanceof rr)Qr.warn(e.message);else{const i=rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(i.message)}}}async function Kv(t,e){try{const n=(await mN()).transaction($d,"readwrite");await n.objectStore($d).put(e,pN(t)),await n.done}catch(i){if(i instanceof rr)Qr.warn(i.message);else{const n=rl.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Qr.warn(n.message)}}}function pN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=1024,Mz=30*24*60*60*1e3;class zz{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rz(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,i;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Mz}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Qr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qv(),{heartbeatsToSend:n,unsentEntries:r}=Dz(this._heartbeatsCache.heartbeats),a=nN(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(i){return Qr.warn(i),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function Dz(t,e=Cz){const i=[];let n=t.slice();for(const r of t){const a=i.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Jv(i)>e){a.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),Jv(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}class Rz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jM()?wM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _z(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jv(t){return nN(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){fo(new hl("platform-logger",e=>new YM(e),"PRIVATE")),fo(new hl("heartbeat",e=>new zz(e),"PRIVATE")),Qn(_g,Yv,t),Qn(_g,Yv,"esm2017"),Qn("fire-js","")}Oz("");var Pz="firebase",$z="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(Pz,$z,"app");function G4(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}function fN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bz=fN,xN=new hh("auth","Firebase",fN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new U4("@firebase/auth");function Lz(t,...e){Fm.logLevel<=mt.WARN&&Fm.warn(`Auth (${Qc}): ${t}`,...e)}function Qu(t,...e){Fm.logLevel<=mt.ERROR&&Fm.error(`Auth (${Qc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw V4(t,...e)}function Jn(t,...e){return V4(t,...e)}function gN(t,e,i){const n=Object.assign(Object.assign({},Bz()),{[e]:i});return new hh("auth","Firebase",n).create(e,{appName:t.name})}function al(t){return gN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V4(t,...e){if(typeof t!="string"){const i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return xN.create(t,...e)}function We(t,e,...i){if(!t)throw V4(e,...i)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qu(e),new Error(e)}function ea(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Uz(){return e6()==="http:"||e6()==="https:"}function e6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uz()||bM()||"connection"in navigator)?navigator.onLine:!0}function Hz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,i){this.shortDelay=e,this.longDelay=i,ea(i>e,"Short delay should be less than long delay!"),this.isMobile=xM()||yM()}get(){return Fz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){ea(t.emulator,"Emulator should always be set here");const{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{static initialize(e,i,n){this.fetchImpl=e,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=new mh(3e4,6e4);function Gp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jc(t,e,i,n,r={}){return yN(t,r,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=uh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return gM()||(h.referrerPolicy="no-referrer"),bN.fetch()(jN(t,t.config.apiHost,i,c),h)})}async function yN(t,e,i){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Gz),e);try{const r=new Wz(t),a=await Promise.race([i(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ru(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ru(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ru(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ru(t,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw gN(t,m,h);Jr(t,m)}}catch(r){if(r instanceof rr)throw r;Jr(t,"network-request-failed",{message:String(r)})}}async function vN(t,e,i,n,r={}){const a=await Jc(t,e,i,n,r);return"mfaPendingCredential"in a&&Jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function jN(t,e,i,n){const r=`${e}${i}?${n}`;return t.config.emulator?W4(t.config,r):`${t.config.apiScheme}://${r}`}class Wz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(Jn(this.auth,"network-request-failed")),Vz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ru(t,e,i){const n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);const r=Jn(t,e,n);return r.customData._tokenResponse=i,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e){return Jc(t,"POST","/v1/accounts:delete",e)}async function wN(t,e){return Jc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yz(t,e=!1){const i=On(t),n=await i.getIdToken(e),r=Z4(n);We(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:n,authTime:hd(gx(r.auth_time)),issuedAtTime:hd(gx(r.iat)),expirationTime:hd(gx(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function gx(t){return Number(t)*1e3}function Z4(t){const[e,i,n]=t.split(".");if(e===void 0||i===void 0||n===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const r=rN(i);return r?JSON.parse(r):(Qu("Failed to decode base64 JWT payload"),null)}catch(r){return Qu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function t6(t){const e=Z4(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t,e,i=!1){if(i)return e;try{return await e}catch(n){throw n instanceof rr&&Xz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Xz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hd(this.lastLoginAt),this.creationTime=hd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(t){var e;const i=t.auth,n=await t.getIdToken(),r=await Bd(t,wN(i,{idToken:n}));We(r==null?void 0:r.users.length,i,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NN(a.providerUserInfo):[],c=Jz(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=d?h:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function Qz(t){const e=On(t);await Hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jz(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function NN(t){return t.map(e=>{var{providerId:i}=e,n=G4(e,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){const i=await yN(t,{},async()=>{const n=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,l=jN(t,r,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",bN.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tD(t,e){return Jc(t,"POST","/v2/accounts:revokeToken",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){We(e.length!==0,"internal-error");const i=t6(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:n,refreshToken:r,expiresIn:a}=await eD(e,i);this.updateTokensAndExpiration(n,r,Number(a))}updateTokensAndExpiration(e,i,n){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,i){const{refreshToken:n,accessToken:r,expirationTime:a}=i,l=new bc;return n&&(We(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),r&&(We(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(We(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:i,auth:n,stsTokenManager:r}=e,a=G4(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await Bd(this,this.stsTokenManager.getToken(this.auth,e));return We(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Yz(this,e)}reload(){return Qz(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),i&&await Hm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(al(this.auth));const e=await this.getIdToken();return await Bd(this,Zz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var n,r,a,l,c,d,h,m;const p=(n=i.displayName)!==null&&n!==void 0?n:void 0,f=(r=i.email)!==null&&r!==void 0?r:void 0,b=(a=i.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=i.photoURL)!==null&&l!==void 0?l:void 0,I=(c=i.tenantId)!==null&&c!==void 0?c:void 0,D=(d=i._redirectEventId)!==null&&d!==void 0?d:void 0,k=(h=i.createdAt)!==null&&h!==void 0?h:void 0,T=(m=i.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:P,isAnonymous:F,providerData:ee,stsTokenManager:C}=i;We(A&&C,e,"internal-error");const S=bc.fromJSON(this.name,C);We(typeof A=="string",e,"internal-error"),wa(p,e.name),wa(f,e.name),We(typeof P=="boolean",e,"internal-error"),We(typeof F=="boolean",e,"internal-error"),wa(b,e.name),wa(N,e.name),wa(I,e.name),wa(D,e.name),wa(k,e.name),wa(T,e.name);const _=new Dr({uid:A,auth:e,email:f,emailVerified:P,displayName:p,isAnonymous:F,photoURL:N,phoneNumber:b,tenantId:I,stsTokenManager:S,createdAt:k,lastLoginAt:T});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(O=>Object.assign({},O))),D&&(_._redirectEventId=D),_}static async _fromIdTokenResponse(e,i,n=!1){const r=new bc;r.updateFromServerResponse(i);const a=new Dr({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Hm(a),a}static async _fromGetAccountInfoResponse(e,i,n){const r=i.users[0];We(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?NN(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),c=new bc;c.updateFromIdToken(n);const d=new Dr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Dg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Map;function Rr(t){ea(t instanceof Function,"Expected a class definition");let e=s6.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}kN.type="NONE";const i6=kN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,i){return`firebase:${t}:${e}:${i}`}class yc{constructor(e,i,n){this.persistence=e,this.auth=i,this.userKey=n;const{config:r,name:a}=this.auth;this.fullUserKey=Ju(this.userKey,r.apiKey,a),this.fullPersistenceKey=Ju("persistence",r.apiKey,a),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,n="authUser"){if(!i.length)return new yc(Rr(i6),e,n);const r=(await Promise.all(i.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||Rr(i6);const l=Ju(n,e.config.apiKey,e.name);let c=null;for(const h of i)try{const m=await h._get(l);if(m){const p=Dr._fromJSON(e,m);h!==a&&(c=p),a=h;break}}catch{}const d=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new yc(a,e,n):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(i.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new yc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IN(e))return"Blackberry";if(_N(e))return"Webos";if(SN(e))return"Safari";if((e.includes("chrome/")||AN(e))&&!e.includes("edge/"))return"Chrome";if(qN(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(i);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function TN(t=ri()){return/firefox\//i.test(t)}function SN(t=ri()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AN(t=ri()){return/crios\//i.test(t)}function EN(t=ri()){return/iemobile/i.test(t)}function qN(t=ri()){return/android/i.test(t)}function IN(t=ri()){return/blackberry/i.test(t)}function _N(t=ri()){return/webos/i.test(t)}function Y4(t=ri()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sD(t=ri()){var e;return Y4(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iD(){return vM()&&document.documentMode===10}function CN(t=ri()){return Y4(t)||qN(t)||_N(t)||IN(t)||/windows phone/i.test(t)||EN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e=[]){let i;switch(t){case"Browser":i=n6(ri());break;case"Worker":i=`${n6(ri())}-${t}`;break;default:i=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Qc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const n=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});n.onAbort=i,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const n of this.queue)await n(e),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(const r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e={}){return Jc(t,"GET","/v2/passwordPolicy",Gp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=6;class lD{constructor(e){var i,n,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=l.minPasswordLength)!==null&&i!==void 0?i:aD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,n,r,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(i=d.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,i){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=e.length>=n),r&&(i.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,i,n,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,i,n,r){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r6(this),this.idTokenSubscription=new r6(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Rr(i)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await yc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await wN(this,{idToken:e}),n=await Dr._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Hm(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(al(this));const i=e?On(e):null;return i&&We(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),i=new lD(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,i,n){return this.registerStateListener(this.authStateSubscription,e,i,n)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,n){return this.registerStateListener(this.idTokenSubscription,e,i,n)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),await tD(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const n=await this.getOrInitRedirectPersistenceManager(i);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Rr(e)||this._popupRedirectResolver;We(i,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[Rr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,n;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,n,r){if(this._deleted)return()=>{};const a=typeof i=="function"?i:i.next.bind(i);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof i=="function"){const d=e.addObserver(i,n,r);return()=>{l=!0,d()}}else{const d=e.addObserver(i);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(i["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&Lz(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Vp(t){return On(t)}class r6{constructor(e){this.auth=e,this.observer=null,this.addObserver=AM(i=>this.observer=i)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X4={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(t){X4=t}function dD(t){return X4.loadJS(t)}function hD(){return X4.gapiScript}function uD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){const i=H4(t,"auth");if(i.isInitialized()){const r=i.getImmediate(),a=i.getOptions();if(Um(a,e??{}))return r;Jr(r,"already-initialized")}return i.initialize({options:e})}function pD(t,e){const i=(e==null?void 0:e.persistence)||[],n=(Array.isArray(i)?i:[i]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function fD(t,e,i){const n=Vp(t);We(n._canInitEmulator,n,"emulator-config-failed"),We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,a=zN(e),{host:l,port:c}=xD(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${a}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),gD()}function zN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xD(t){const e=zN(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};const n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const a=r[1];return{host:a,port:a6(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:a6(l)}}}function a6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gD(){function t(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,i){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return vN(t,"POST","/v1/accounts:signInWithIdp",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class xo extends DN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Jr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=i,a=G4(i,["providerId","signInMethod"]);if(!n||!r)return null;const l=new xo(n,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const i=this.buildRequest();return vc(e,i)}_linkToIdToken(e,i){const n=this.buildRequest();return n.idToken=i,vc(e,n)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,vc(e,i)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=uh(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends RN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends ph{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return xo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:n}=e;if(!i&&!n)return null;try{return Oa.credential(i,n)}catch{return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com";Oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends ph{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends ph{constructor(){super("twitter.com")}static credential(e,i){return xo._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:n}=e;if(!i||!n)return null;try{return $a.credential(i,n)}catch{return null}}}$a.TWITTER_SIGN_IN_METHOD="twitter.com";$a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,n,r=!1){const a=await Dr._fromIdTokenResponse(e,n,r),l=l6(n);return new go({user:a,providerId:l,_tokenResponse:n,operationType:i})}static async _forOperation(e,i,n){await e._updateTokensIfNecessary(n,!0);const r=l6(n);return new go({user:e,providerId:r,_tokenResponse:n,operationType:i})}}function l6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends rr{constructor(e,i,n,r){var a;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Gm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,i,n,r){return new Gm(e,i,n,r)}}function ON(t,e,i,n){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gm._fromErrorAndOperation(t,a,e,n):a})}async function yD(t,e,i=!1){const n=await Bd(t,e._linkToIdToken(t.auth,await t.getIdToken()),i);return go._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e,i=!1){const{auth:n}=t;if(Mr(n.app))return Promise.reject(al(n));const r="reauthenticate";try{const a=await Bd(t,ON(n,r,e,t),i);We(a.idToken,n,"internal-error");const l=Z4(a.idToken);We(l,n,"internal-error");const{sub:c}=l;return We(t.uid===c,n,"user-mismatch"),go._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Jr(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e,i=!1){if(Mr(t.app))return Promise.reject(al(t));const n="signIn",r=await ON(t,n,e),a=await go._fromIdTokenResponse(t,n,r);return i||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){return vN(t,"POST","/v1/accounts:signInWithCustomToken",Gp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){if(Mr(t.app))return Promise.reject(al(t));const i=Vp(t),n=await wD(i,{token:e,returnSecureToken:!0}),r=await go._fromIdTokenResponse(i,"signIn",n);return await i._updateCurrentUser(r.user),r}function kD(t,e,i,n){return On(t).onIdTokenChanged(e,i,n)}function TD(t,e,i){return On(t).beforeAuthStateChanged(e,i)}function SD(t,e,i,n){return On(t).onAuthStateChanged(e,i,n)}function AD(t){return On(t).signOut()}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1e3,qD=10;class $N extends PN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const n=this.storage.getItem(i),r=this.localCache[i];n!==r&&e(i,r,n)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;i?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(n);!i&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);iD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,qD):r()}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:n}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}$N.type="LOCAL";const ID=$N;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends PN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}BN.type="SESSION";const LN=BN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(r=>r.isListeningto(e));if(i)return i;const n=new Wp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:n,eventType:r,data:a}=i.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;i.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(l).map(async h=>h(i.origin,a)),d=await _D(c);i.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:d})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(Math.random()*10);return t+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const h=K4("",20);r.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:r,onMessage(p){const f=p;if(f.data.eventId===h)switch(f.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(f.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:i},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function MD(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function zD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RD(){return UN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebaseLocalStorageDb",OD=1,Wm="firebaseLocalStorage",HN="fbase_key";class fh{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Zp(t,e){return t.transaction([Wm],e?"readwrite":"readonly").objectStore(Wm)}function PD(){const t=indexedDB.deleteDatabase(FN);return new fh(t).toPromise()}function Rg(){const t=indexedDB.open(FN,OD);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Wm,{keyPath:HN})}catch(r){i(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Wm)?e(n):(n.close(),await PD(),e(await Rg()))})})}async function o6(t,e,i){const n=Zp(t,!0).put({[HN]:e,value:i});return new fh(n).toPromise()}async function $D(t,e){const i=Zp(t,!1).get(e),n=await new fh(i).toPromise();return n===void 0?null:n.value}function c6(t,e){const i=Zp(t,!0).delete(e);return new fh(i).toPromise()}const BD=800,LD=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(e){let i=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(i++>LD)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wp._getInstance(RD()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new CD(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((i=n[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rg();return await o6(e,Vm,"1"),await c6(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(n=>o6(n,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(n=>$D(n,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>c6(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Zp(r,!1).getAll();return new fh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),i.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),i.push(r));return i}notifyListeners(e,i){this.localCache[e]=i;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const UD=GN;new mh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e?Rr(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4 extends DN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,i){return vc(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function HD(t){return jD(t.auth,new Q4(t),t.bypassAuthState)}function GD(t){const{auth:e,user:i}=t;return We(i,e,"internal-error"),vD(i,new Q4(t),t.bypassAuthState)}async function VD(t){const{auth:e,user:i}=t;return We(i,e,"internal-error"),yD(i,new Q4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,i,n,r,a=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:n,postBody:r,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:i,sessionId:n,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return GD;default:Jr(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new mh(2e3,1e4);class ic extends VN{constructor(e,i,n,r,a){super(e,i,r,a),this.provider=n,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=K4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,n;if(!((n=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="pendingRedirect",em=new Map;class YD extends VN{constructor(e,i,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}async execute(){let e=em.get(this.auth._key());if(!e){try{const n=await XD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(i){e=()=>Promise.reject(i)}em.set(this.auth._key(),e)}return this.bypassAuthState||em.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XD(t,e){const i=JD(e),n=QD(t);if(!await n._isAvailable())return!1;const r=await n._get(i)==="true";return await n._remove(i),r}function KD(t,e){em.set(t._key(),e)}function QD(t){return Rr(t._redirectPersistence)}function JD(t){return Ju(ZD,t.config.apiKey,t.name)}async function eR(t,e,i=!1){if(Mr(t.app))return Promise.reject(al(t));const n=Vp(t),r=FD(n,e),l=await new YD(n,r,i).execute();return l&&!i&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=10*60*1e3;class sR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(i=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var n;if(e.error&&!WN(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(Jn(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const n=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tR&&this.cachedEventUids.clear(),this.cachedEventUids.has(d6(e))}saveEventToCache(e){this.cachedEventUids.add(d6(e)),this.lastProcessedEventTime=Date.now()}}function d6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e={}){return Jc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aR=/^https?/;async function lR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nR(t);for(const i of e)try{if(oR(i))return}catch{}Jr(t,"unauthorized-domain")}function oR(t){const e=zg(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&l.hostname===n}if(!aR.test(i))return!1;if(rR.test(t))return n===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new mh(3e4,6e4);function h6(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function dR(t){return new Promise((e,i)=>{var n,r,a;function l(){h6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h6(),i(Jn(t,"network-request-failed"))},timeout:cR.get()})}if(!((r=(n=er().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=er().gapi)===null||a===void 0)&&a.load)l();else{const c=uD("iframefcb");return er()[c]=()=>{gapi.load?l():i(Jn(t,"network-request-failed"))},dD(`${hD()}?onload=${c}`).catch(d=>i(d))}}).catch(e=>{throw tm=null,e})}let tm=null;function hR(t){return tm=tm||dR(t),tm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new mh(5e3,15e3),mR="__/auth/iframe",pR="emulator/auth/iframe",fR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gR(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const i=e.emulator?W4(e,pR):`https://${t.config.authDomain}/${mR}`,n={apiKey:e.apiKey,appName:t.name,v:Qc},r=xR.get(t.config.apiHost);r&&(n.eid=r);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${i}?${uh(n).slice(1)}`}async function bR(t){const e=await hR(t),i=er().gapi;return We(i,t,"internal-error"),e.open({where:document.body,url:gR(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fR,dontclear:!0},n=>new Promise(async(r,a)=>{await n.restyle({setHideOnLeave:!1});const l=Jn(t,"network-request-failed"),c=er().setTimeout(()=>{a(l)},uR.get());function d(){er().clearTimeout(c),r(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vR=500,jR=600,wR="_blank",NR="http://localhost";class u6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(t,e,i,n=vR,r=jR){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},yR),{width:n.toString(),height:r.toString(),top:a,left:l}),h=ri().toLowerCase();i&&(c=AN(h)?wR:i),TN(h)&&(e=e||NR,d.scrollbars="yes");const m=Object.entries(d).reduce((f,[b,N])=>`${f}${b}=${N},`,"");if(sD(h)&&c!=="_self")return TR(e||"",c),new u6(null);const p=window.open(e||"",c,m);We(p,t,"popup-blocked");try{p.focus()}catch{}return new u6(p)}function TR(t,e){const i=document.createElement("a");i.href=t,i.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__/auth/handler",AR="emulator/auth/handler",ER=encodeURIComponent("fac");async function m6(t,e,i,n,r,a){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:Qc,eventId:r};if(e instanceof RN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",SM(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof ph){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${ER}=${encodeURIComponent(d)}`:"";return`${qR(t)}?${uh(c).slice(1)}${h}`}function qR({config:t}){return t.emulator?W4(t,AR):`https://${t.authDomain}/${SR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="webStorageSupport";class IR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LN,this._completeRedirectFn=eR,this._overrideRedirectResult=KD}async _openPopup(e,i,n,r){var a;ea((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await m6(e,i,n,zg(),r);return kR(e,l,K4())}async _openRedirect(e,i,n,r){await this._originValidation(e);const a=await m6(e,i,n,zg(),r);return MD(a),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:r,promise:a}=this.eventManagers[i];return r?Promise.resolve(r):(ea(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}async initAndGetManager(e){const i=await bR(e),n=new sR(e);return i.register("authEvent",r=>(We(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=i,n}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(bx,{type:bx},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[bx];l!==void 0&&i(!!l),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return CN()||SN()||Y4()}}const _R=IR;var p6="@firebase/auth",f6="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zR(t){fo(new hl("auth",(e,{options:i})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MN(t)},h=new oD(n,r,a,d);return pD(h,i),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,n)=>{e.getProvider("auth-internal").initialize()})),fo(new hl("auth-internal",e=>{const i=Vp(e.getProvider("auth").getImmediate());return(n=>new CR(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(p6,f6,MR(t)),Qn(p6,f6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=5*60,RR=oN("authIdTokenMaxAge")||DR;let x6=null;const OR=t=>async e=>{const i=e&&await e.getIdTokenResult(),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>RR)return;const r=i==null?void 0:i.token;x6!==r&&(x6=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function PR(t=uN()){const e=H4(t,"auth");if(e.isInitialized())return e.getImmediate();const i=mD(t,{popupRedirectResolver:_R,persistence:[UD,ID,LN]}),n=oN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=OR(a.toString());TD(i,l,()=>l(i.currentUser)),kD(i,c=>l(c))}}const r=aN("auth");return r&&fD(i,`http://${r}`),i}function $R(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cD({loadJS(t){return new Promise((e,i)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{const a=Jn("internal-error");a.customData=r,i(a)},n.type="text/javascript",n.charset="UTF-8",$R().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zR("Browser");var g6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function _(){}_.prototype=S.prototype,C.D=S.prototype,C.prototype=new _,C.prototype.constructor=C,C.C=function(O,B,U){for(var L=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)L[Ae-2]=arguments[Ae];return S.prototype[B].apply(O,L)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,S,_){_||(_=0);var O=Array(16);if(typeof S=="string")for(var B=0;16>B;++B)O[B]=S.charCodeAt(_++)|S.charCodeAt(_++)<<8|S.charCodeAt(_++)<<16|S.charCodeAt(_++)<<24;else for(B=0;16>B;++B)O[B]=S[_++]|S[_++]<<8|S[_++]<<16|S[_++]<<24;S=C.g[0],_=C.g[1],B=C.g[2];var U=C.g[3],L=S+(U^_&(B^U))+O[0]+3614090360&4294967295;S=_+(L<<7&4294967295|L>>>25),L=U+(B^S&(_^B))+O[1]+3905402710&4294967295,U=S+(L<<12&4294967295|L>>>20),L=B+(_^U&(S^_))+O[2]+606105819&4294967295,B=U+(L<<17&4294967295|L>>>15),L=_+(S^B&(U^S))+O[3]+3250441966&4294967295,_=B+(L<<22&4294967295|L>>>10),L=S+(U^_&(B^U))+O[4]+4118548399&4294967295,S=_+(L<<7&4294967295|L>>>25),L=U+(B^S&(_^B))+O[5]+1200080426&4294967295,U=S+(L<<12&4294967295|L>>>20),L=B+(_^U&(S^_))+O[6]+2821735955&4294967295,B=U+(L<<17&4294967295|L>>>15),L=_+(S^B&(U^S))+O[7]+4249261313&4294967295,_=B+(L<<22&4294967295|L>>>10),L=S+(U^_&(B^U))+O[8]+1770035416&4294967295,S=_+(L<<7&4294967295|L>>>25),L=U+(B^S&(_^B))+O[9]+2336552879&4294967295,U=S+(L<<12&4294967295|L>>>20),L=B+(_^U&(S^_))+O[10]+4294925233&4294967295,B=U+(L<<17&4294967295|L>>>15),L=_+(S^B&(U^S))+O[11]+2304563134&4294967295,_=B+(L<<22&4294967295|L>>>10),L=S+(U^_&(B^U))+O[12]+1804603682&4294967295,S=_+(L<<7&4294967295|L>>>25),L=U+(B^S&(_^B))+O[13]+4254626195&4294967295,U=S+(L<<12&4294967295|L>>>20),L=B+(_^U&(S^_))+O[14]+2792965006&4294967295,B=U+(L<<17&4294967295|L>>>15),L=_+(S^B&(U^S))+O[15]+1236535329&4294967295,_=B+(L<<22&4294967295|L>>>10),L=S+(B^U&(_^B))+O[1]+4129170786&4294967295,S=_+(L<<5&4294967295|L>>>27),L=U+(_^B&(S^_))+O[6]+3225465664&4294967295,U=S+(L<<9&4294967295|L>>>23),L=B+(S^_&(U^S))+O[11]+643717713&4294967295,B=U+(L<<14&4294967295|L>>>18),L=_+(U^S&(B^U))+O[0]+3921069994&4294967295,_=B+(L<<20&4294967295|L>>>12),L=S+(B^U&(_^B))+O[5]+3593408605&4294967295,S=_+(L<<5&4294967295|L>>>27),L=U+(_^B&(S^_))+O[10]+38016083&4294967295,U=S+(L<<9&4294967295|L>>>23),L=B+(S^_&(U^S))+O[15]+3634488961&4294967295,B=U+(L<<14&4294967295|L>>>18),L=_+(U^S&(B^U))+O[4]+3889429448&4294967295,_=B+(L<<20&4294967295|L>>>12),L=S+(B^U&(_^B))+O[9]+568446438&4294967295,S=_+(L<<5&4294967295|L>>>27),L=U+(_^B&(S^_))+O[14]+3275163606&4294967295,U=S+(L<<9&4294967295|L>>>23),L=B+(S^_&(U^S))+O[3]+4107603335&4294967295,B=U+(L<<14&4294967295|L>>>18),L=_+(U^S&(B^U))+O[8]+1163531501&4294967295,_=B+(L<<20&4294967295|L>>>12),L=S+(B^U&(_^B))+O[13]+2850285829&4294967295,S=_+(L<<5&4294967295|L>>>27),L=U+(_^B&(S^_))+O[2]+4243563512&4294967295,U=S+(L<<9&4294967295|L>>>23),L=B+(S^_&(U^S))+O[7]+1735328473&4294967295,B=U+(L<<14&4294967295|L>>>18),L=_+(U^S&(B^U))+O[12]+2368359562&4294967295,_=B+(L<<20&4294967295|L>>>12),L=S+(_^B^U)+O[5]+4294588738&4294967295,S=_+(L<<4&4294967295|L>>>28),L=U+(S^_^B)+O[8]+2272392833&4294967295,U=S+(L<<11&4294967295|L>>>21),L=B+(U^S^_)+O[11]+1839030562&4294967295,B=U+(L<<16&4294967295|L>>>16),L=_+(B^U^S)+O[14]+4259657740&4294967295,_=B+(L<<23&4294967295|L>>>9),L=S+(_^B^U)+O[1]+2763975236&4294967295,S=_+(L<<4&4294967295|L>>>28),L=U+(S^_^B)+O[4]+1272893353&4294967295,U=S+(L<<11&4294967295|L>>>21),L=B+(U^S^_)+O[7]+4139469664&4294967295,B=U+(L<<16&4294967295|L>>>16),L=_+(B^U^S)+O[10]+3200236656&4294967295,_=B+(L<<23&4294967295|L>>>9),L=S+(_^B^U)+O[13]+681279174&4294967295,S=_+(L<<4&4294967295|L>>>28),L=U+(S^_^B)+O[0]+3936430074&4294967295,U=S+(L<<11&4294967295|L>>>21),L=B+(U^S^_)+O[3]+3572445317&4294967295,B=U+(L<<16&4294967295|L>>>16),L=_+(B^U^S)+O[6]+76029189&4294967295,_=B+(L<<23&4294967295|L>>>9),L=S+(_^B^U)+O[9]+3654602809&4294967295,S=_+(L<<4&4294967295|L>>>28),L=U+(S^_^B)+O[12]+3873151461&4294967295,U=S+(L<<11&4294967295|L>>>21),L=B+(U^S^_)+O[15]+530742520&4294967295,B=U+(L<<16&4294967295|L>>>16),L=_+(B^U^S)+O[2]+3299628645&4294967295,_=B+(L<<23&4294967295|L>>>9),L=S+(B^(_|~U))+O[0]+4096336452&4294967295,S=_+(L<<6&4294967295|L>>>26),L=U+(_^(S|~B))+O[7]+1126891415&4294967295,U=S+(L<<10&4294967295|L>>>22),L=B+(S^(U|~_))+O[14]+2878612391&4294967295,B=U+(L<<15&4294967295|L>>>17),L=_+(U^(B|~S))+O[5]+4237533241&4294967295,_=B+(L<<21&4294967295|L>>>11),L=S+(B^(_|~U))+O[12]+1700485571&4294967295,S=_+(L<<6&4294967295|L>>>26),L=U+(_^(S|~B))+O[3]+2399980690&4294967295,U=S+(L<<10&4294967295|L>>>22),L=B+(S^(U|~_))+O[10]+4293915773&4294967295,B=U+(L<<15&4294967295|L>>>17),L=_+(U^(B|~S))+O[1]+2240044497&4294967295,_=B+(L<<21&4294967295|L>>>11),L=S+(B^(_|~U))+O[8]+1873313359&4294967295,S=_+(L<<6&4294967295|L>>>26),L=U+(_^(S|~B))+O[15]+4264355552&4294967295,U=S+(L<<10&4294967295|L>>>22),L=B+(S^(U|~_))+O[6]+2734768916&4294967295,B=U+(L<<15&4294967295|L>>>17),L=_+(U^(B|~S))+O[13]+1309151649&4294967295,_=B+(L<<21&4294967295|L>>>11),L=S+(B^(_|~U))+O[4]+4149444226&4294967295,S=_+(L<<6&4294967295|L>>>26),L=U+(_^(S|~B))+O[11]+3174756917&4294967295,U=S+(L<<10&4294967295|L>>>22),L=B+(S^(U|~_))+O[2]+718787259&4294967295,B=U+(L<<15&4294967295|L>>>17),L=_+(U^(B|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(B+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+B&4294967295,C.g[3]=C.g[3]+U&4294967295}n.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var _=S-this.blockSize,O=this.B,B=this.h,U=0;U<S;){if(B==0)for(;U<=_;)r(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(O[B++]=C.charCodeAt(U++),B==this.blockSize){r(this,O),B=0;break}}else for(;U<S;)if(O[B++]=C[U++],B==this.blockSize){r(this,O),B=0;break}}this.h=B,this.o+=S},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var _=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=_&255,_/=256;for(this.u(C),C=Array(16),S=_=0;4>S;++S)for(var O=0;32>O;O+=8)C[_++]=this.g[S]>>>O&255;return C};function a(C,S){var _=c;return Object.prototype.hasOwnProperty.call(_,C)?_[C]:_[C]=S(C)}function l(C,S){this.h=S;for(var _=[],O=!0,B=C.length-1;0<=B;B--){var U=C[B]|0;O&&U==S||(_[B]=U,O=!1)}this.g=_}var c={};function d(C){return-128<=C&&128>C?a(C,function(S){return new l([S|0],0>S?-1:0)}):new l([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return D(h(-C));for(var S=[],_=1,O=0;C>=_;O++)S[O]=C/_|0,_*=4294967296;return new l(S,0)}function m(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return D(m(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(S,8)),O=p,B=0;B<C.length;B+=8){var U=Math.min(8,C.length-B),L=parseInt(C.substring(B,B+U),S);8>U?(U=h(Math.pow(S,U)),O=O.j(U).add(h(L))):(O=O.j(_),O=O.add(h(L)))}return O}var p=d(0),f=d(1),b=d(16777216);t=l.prototype,t.m=function(){if(I(this))return-D(this).m();for(var C=0,S=1,_=0;_<this.g.length;_++){var O=this.i(_);C+=(0<=O?O:4294967296+O)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(I(this))return"-"+D(this).toString(C);for(var S=h(Math.pow(C,6)),_=this,O="";;){var B=P(_,S).g;_=k(_,B.j(S));var U=((0<_.g.length?_.g[0]:_.h)>>>0).toString(C);if(_=B,N(_))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function I(C){return C.h==-1}t.l=function(C){return C=k(this,C),I(C)?-1:N(C)?0:1};function D(C){for(var S=C.g.length,_=[],O=0;O<S;O++)_[O]=~C.g[O];return new l(_,~C.h).add(f)}t.abs=function(){return I(this)?D(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),_=[],O=0,B=0;B<=S;B++){var U=O+(this.i(B)&65535)+(C.i(B)&65535),L=(U>>>16)+(this.i(B)>>>16)+(C.i(B)>>>16);O=L>>>16,U&=65535,L&=65535,_[B]=L<<16|U}return new l(_,_[_.length-1]&-2147483648?-1:0)};function k(C,S){return C.add(D(S))}t.j=function(C){if(N(this)||N(C))return p;if(I(this))return I(C)?D(this).j(D(C)):D(D(this).j(C));if(I(C))return D(this.j(D(C)));if(0>this.l(b)&&0>C.l(b))return h(this.m()*C.m());for(var S=this.g.length+C.g.length,_=[],O=0;O<2*S;O++)_[O]=0;for(O=0;O<this.g.length;O++)for(var B=0;B<C.g.length;B++){var U=this.i(O)>>>16,L=this.i(O)&65535,Ae=C.i(B)>>>16,Me=C.i(B)&65535;_[2*O+2*B]+=L*Me,T(_,2*O+2*B),_[2*O+2*B+1]+=U*Me,T(_,2*O+2*B+1),_[2*O+2*B+1]+=L*Ae,T(_,2*O+2*B+1),_[2*O+2*B+2]+=U*Ae,T(_,2*O+2*B+2)}for(O=0;O<S;O++)_[O]=_[2*O+1]<<16|_[2*O];for(O=S;O<2*S;O++)_[O]=0;return new l(_,0)};function T(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function A(C,S){this.g=C,this.h=S}function P(C,S){if(N(S))throw Error("division by zero");if(N(C))return new A(p,p);if(I(C))return S=P(D(C),S),new A(D(S.g),D(S.h));if(I(S))return S=P(C,D(S)),new A(D(S.g),S.h);if(30<C.g.length){if(I(C)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var _=f,O=S;0>=O.l(C);)_=F(_),O=F(O);var B=ee(_,1),U=ee(O,1);for(O=ee(O,2),_=ee(_,2);!N(O);){var L=U.add(O);0>=L.l(C)&&(B=B.add(_),U=L),O=ee(O,1),_=ee(_,1)}return S=k(C,B.j(S)),new A(B,S)}for(B=p;0<=C.l(S);){for(_=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(_)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=h(_),L=U.j(S);I(L)||0<L.l(C);)_-=O,U=h(_),L=U.j(S);N(U)&&(U=f),B=B.add(U),C=k(C,L)}return new A(B,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),_=[],O=0;O<S;O++)_[O]=this.i(O)&C.i(O);return new l(_,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),_=[],O=0;O<S;O++)_[O]=this.i(O)|C.i(O);return new l(_,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),_=[],O=0;O<S;O++)_[O]=this.i(O)^C.i(O);return new l(_,this.h^C.h)};function F(C){for(var S=C.g.length+1,_=[],O=0;O<S;O++)_[O]=C.i(O)<<1|C.i(O-1)>>>31;return new l(_,C.h)}function ee(C,S){var _=S>>5;S%=32;for(var O=C.g.length-_,B=[],U=0;U<O;U++)B[U]=0<S?C.i(U+_)>>>S|C.i(U+_+1)<<32-S:C.i(U+_);return new l(B,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,ZN=l}).apply(typeof g6<"u"?g6:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,y,w){return u==Array.prototype||u==Object.prototype||(u[y]=w.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var y=0;y<u.length;++y){var w=u[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=i(this);function r(u,y){if(y)e:{var w=n;u=u.split(".");for(var R=0;R<u.length-1;R++){var te=u[R];if(!(te in w))break e;w=w[te]}u=u[u.length-1],R=w[u],y=y(R),y!=R&&y!=null&&e(w,u,{configurable:!0,writable:!0,value:y})}}function a(u,y){u instanceof String&&(u+="");var w=0,R=!1,te={next:function(){if(!R&&w<u.length){var re=w++;return{value:y(re,u[re]),done:!1}}return R=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}r("Array.prototype.values",function(u){return u||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(u){var y=typeof u;return y=y!="object"?y:u?Array.isArray(u)?"array":y:"null",y=="array"||y=="object"&&typeof u.length=="number"}function h(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function m(u,y,w){return u.call.apply(u.bind,arguments)}function p(u,y,w){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,R),u.apply(y,te)}}return function(){return u.apply(y,arguments)}}function f(u,y,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,f.apply(null,arguments)}function b(u,y){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function N(u,y){function w(){}w.prototype=y.prototype,u.aa=y.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(R,te,re){for(var ye=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ye[gt-2]=arguments[gt];return y.prototype[te].apply(R,ye)}}function I(u){const y=u.length;if(0<y){const w=Array(y);for(let R=0;R<y;R++)w[R]=u[R];return w}return[]}function D(u,y){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(d(R)){const te=u.length||0,re=R.length||0;u.length=te+re;for(let ye=0;ye<re;ye++)u[te+ye]=R[ye]}else u.push(R)}}class k{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function T(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function ee(u,y,w){for(const R in u)y.call(w,u[R],R,u)}function C(u,y){for(const w in u)y.call(void 0,u[w],w,u)}function S(u){const y={};for(const w in u)y[w]=u[w];return y}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,y){let w,R;for(let te=1;te<arguments.length;te++){R=arguments[te];for(w in R)u[w]=R[w];for(let re=0;re<_.length;re++)w=_[re],Object.prototype.hasOwnProperty.call(R,w)&&(u[w]=R[w])}}function B(u){var y=1;u=u.split(":");const w=[];for(;0<y&&u.length;)w.push(u.shift()),y--;return u.length&&w.push(u.join(":")),w}function U(u){c.setTimeout(()=>{throw u},0)}function L(){var u=Le;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,w){const R=Me.get();R.set(y,w),this.h?this.h.next=R:this.g=R,this.h=R}}var Me=new k(()=>new de,u=>u.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,we=!1,Le=new Ae,Re=()=>{const u=c.Promise.resolve(void 0);xe=()=>{u.then(Ee)}};var Ee=()=>{for(var u;u=L();){try{u.h.call(u.g)}catch(w){U(w)}var y=Me;y.j(u),100>y.h&&(y.h++,u.next=y.g,y.g=u)}we=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return u}();function Ue(u,y){if(qe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget){if(F){e:{try{P(y.nodeName);var te=!0;break e}catch{}te=!1}te||(y=null)}}else w=="mouseover"?y=u.fromElement:w=="mouseout"&&(y=u.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Zs[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ue.aa.h.call(this)}}N(Ue,qe);var Zs={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function hi(u,y,w,R,te){this.listener=u,this.proxy=null,this.src=y,this.type=w,this.capture=!!R,this.ha=te,this.key=++Wt,this.da=this.fa=!1}function Ts(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vn(u){this.src=u,this.g={},this.h=0}vn.prototype.add=function(u,y,w,R,te){var re=u.toString();u=this.g[re],u||(u=this.g[re]=[],this.h++);var ye=ui(u,y,R,te);return-1<ye?(y=u[ye],w||(y.fa=!1)):(y=new hi(y,this.src,re,!!R,te),y.fa=w,u.push(y)),y};function Pn(u,y){var w=y.type;if(w in u.g){var R=u.g[w],te=Array.prototype.indexOf.call(R,y,void 0),re;(re=0<=te)&&Array.prototype.splice.call(R,te,1),re&&(Ts(y),u.g[w].length==0&&(delete u.g[w],u.h--))}}function ui(u,y,w,R){for(var te=0;te<u.length;++te){var re=u[te];if(!re.da&&re.listener==y&&re.capture==!!w&&re.ha==R)return te}return-1}var Fs="closure_lm_"+(1e6*Math.random()|0),Ms={};function Vi(u,y,w,R,te){if(Array.isArray(y)){for(var re=0;re<y.length;re++)Vi(u,y[re],w,R,te);return null}return w=ma(w),u&&u[Vt]?u.K(y,w,h(R)?!!R.capture:!1,te):Ei(u,y,w,!1,R,te)}function Ei(u,y,w,R,te,re){if(!y)throw Error("Invalid event type");var ye=h(te)?!!te.capture:!!te,gt=c0(u);if(gt||(u[Fs]=gt=new vn(u)),w=gt.add(y,w,R,ye,re),w.proxy)return w;if(R=Ss(),w.proxy=R,R.src=u,R.listener=w,u.addEventListener)ht||(te=ye),te===void 0&&(te=!1),u.addEventListener(y.toString(),R,te);else if(u.attachEvent)u.attachEvent(o0(y.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ss(){function u(w){return y.call(u.src,u.listener,w)}const y=Eh;return u}function zs(u,y,w,R,te){if(Array.isArray(y))for(var re=0;re<y.length;re++)zs(u,y[re],w,R,te);else R=h(R)?!!R.capture:!!R,w=ma(w),u&&u[Vt]?(u=u.i,y=String(y).toString(),y in u.g&&(re=u.g[y],w=ui(re,w,R,te),-1<w&&(Ts(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete u.g[y],u.h--)))):u&&(u=c0(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ui(y,w,R,te)),(w=-1<u?y[u]:null)&&ua(w))}function ua(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Vt])Pn(y.i,u);else{var w=u.type,R=u.proxy;y.removeEventListener?y.removeEventListener(w,R,u.capture):y.detachEvent?y.detachEvent(o0(w),R):y.addListener&&y.removeListener&&y.removeListener(R),(w=c0(y))?(Pn(w,u),w.h==0&&(w.src=null,y[Fs]=null)):Ts(u)}}}function o0(u){return u in Ms?Ms[u]:Ms[u]="on"+u}function Eh(u,y){if(u.da)u=!0;else{y=new Ue(y,this);var w=u.listener,R=u.ha||u.src;u.fa&&ua(u),u=w.call(R,y)}return u}function c0(u){return u=u[Fs],u instanceof vn?u:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function ma(u){return typeof u=="function"?u:(u[Il]||(u[Il]=function(y){return u.handleEvent(y)}),u[Il])}function Ot(){Ne.call(this),this.i=new vn(this),this.M=this,this.F=null}N(Ot,Ne),Ot.prototype[Vt]=!0,Ot.prototype.removeEventListener=function(u,y,w,R){zs(this,u,y,w,R)};function jt(u,y){var w,R=u.F;if(R)for(w=[];R;R=R.F)w.push(R);if(u=u.M,R=y.type||y,typeof y=="string")y=new qe(y,u);else if(y instanceof qe)y.target=y.target||u;else{var te=y;y=new qe(R,u),O(y,te)}if(te=!0,w)for(var re=w.length-1;0<=re;re--){var ye=y.g=w[re];te=pa(ye,R,!0,y)&&te}if(ye=y.g=u,te=pa(ye,R,!0,y)&&te,te=pa(ye,R,!1,y)&&te,w)for(re=0;re<w.length;re++)ye=y.g=w[re],te=pa(ye,R,!1,y)&&te}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var u=this.i,y;for(y in u.g){for(var w=u.g[y],R=0;R<w.length;R++)Ts(w[R]);delete u.g[y],u.h--}}this.F=null},Ot.prototype.K=function(u,y,w,R){return this.i.add(String(u),y,!1,w,R)},Ot.prototype.L=function(u,y,w,R){return this.i.add(String(u),y,!0,w,R)};function pa(u,y,w,R){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();for(var te=!0,re=0;re<y.length;++re){var ye=y[re];if(ye&&!ye.da&&ye.capture==w){var gt=ye.listener,Ds=ye.ha||ye.src;ye.fa&&Pn(u.i,ye),te=gt.call(Ds,R)!==!1&&te}}return te&&!R.defaultPrevented}function d0(u,y,w){if(typeof u=="function")w&&(u=f(u,w));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(u,y||0)}function h0(u){u.g=d0(()=>{u.g=null,u.i&&(u.i=!1,h0(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class u0 extends Ne{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:h0(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(u){Ne.call(this),this.h=u,this.g={}}N(fa,Ne);var _l=[];function Cl(u){ee(u.g,function(y,w){this.g.hasOwnProperty(w)&&ua(y)},u),u.g={}}fa.prototype.N=function(){fa.aa.N.call(this),Cl(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=c.JSON.stringify,xa=c.JSON.parse,m0=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function Ml(){}Ml.prototype.h=null;function qh(u){return u.h||(u.h=u.i())}function _o(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function p0(){qe.call(this,"d")}N(p0,qe);function ur(){qe.call(this,"c")}N(ur,qe);var ga={},Ih=null;function Pt(){return Ih=Ih||new Ot}ga.La="serverreachability";function mr(u){qe.call(this,ga.La,u)}N(mr,qe);function zl(u){const y=Pt();jt(y,new mr(y))}ga.STAT_EVENT="statevent";function f0(u,y){qe.call(this,ga.STAT_EVENT,u),this.stat=y}N(f0,qe);function fs(u){const y=Pt();jt(y,new f0(y,u))}ga.Ma="timingevent";function x0(u,y){qe.call(this,ga.Ma,u),this.size=y}N(x0,qe);function ba(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function Dl(){this.g=!0}Dl.prototype.xa=function(){this.g=!1};function Wi(u,y,w,R,te,re){u.info(function(){if(u.g)if(re)for(var ye="",gt=re.split("&"),Ds=0;Ds<gt.length;Ds++){var at=gt[Ds].split("=");if(1<at.length){var Hs=at[0];at=at[1];var Gs=Hs.split("_");ye=2<=Gs.length&&Gs[1]=="type"?ye+(Hs+"="+at+"&"):ye+(Hs+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+R+") [attempt "+te+"]: "+y+`
`+w+`
`+ye})}function pr(u,y,w,R,te,re,ye){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+te+"]: "+y+`
`+w+`
`+re+" "+ye})}function fr(u,y,w,R){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+g0(u,w)+(R?" "+R:"")})}function _h(u,y){u.info(function(){return"TIMEOUT: "+y})}Dl.prototype.info=function(){};function g0(u,y){if(!u.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var R=w[u];if(!(2>R.length)){var te=R[1];if(Array.isArray(te)&&!(1>te.length)){var re=te[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<te.length;ye++)te[ye]=""}}}}return qi(w)}catch{return y}}var Co={NO_ERROR:0,TIMEOUT:8},jn={},Mo;function Rl(){}N(Rl,Ml),Rl.prototype.g=function(){return new XMLHttpRequest},Rl.prototype.i=function(){return{}},Mo=new Rl;function wn(u,y,w,R){this.j=u,this.i=y,this.l=w,this.R=R||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}var Ch={},ze={};function Y(u,y,w){u.L=1,u.v=Dh(xr(y)),u.m=w,u.P=!0,me(u,null)}function me(u,y){u.F=Date.now(),ts(u),u.A=xr(u.v);var w=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),By(w.i,"t",R),u.C=0,w=u.j.J,u.h=new b0,u.g=n3(u.j,w?y:null,!u.m),0<u.O&&(u.M=new u0(f(u.Y,u,u.g),u.O)),y=u.U,w=u.g,R=u.ca;var te="readystatechange";Array.isArray(te)||(te&&(_l[0]=te.toString()),te=_l);for(var re=0;re<te.length;re++){var ye=Vi(w,te[re],R||y.handleEvent,!1,y.h||y);if(!ye)break;y.g[ye.key]=ye}y=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,y)):(u.u="GET",u.g.ea(u.A,u.u,null,y)),zl(),Wi(u.i,u.u,u.A,u.l,u.R,u.m)}wn.prototype.ca=function(u){u=u.target;const y=this.M;y&&gr(u)==3?y.j():this.Y(u)},wn.prototype.Y=function(u){try{if(u==this.g)e:{const Gs=gr(this.g);var y=this.g.Ba();const Ro=this.g.Z();if(!(3>Gs)&&(Gs!=3||this.g&&(this.h.h||this.g.oa()||Wy(this.g)))){this.J||Gs!=4||y==7||(y==8||0>=Ro?zl(3):zl(2)),As(this);var w=this.g.Z();this.X=w;t:if(Ce(this)){var R=Wy(this.g);u="";var te=R.length,re=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Ys(this);var ye="";break t}this.h.i=new c.TextDecoder}for(y=0;y<te;y++)this.h.h=!0,u+=this.h.i.decode(R[y],{stream:!(re&&y==te-1)});R.length=0,this.h.g+=u,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=w==200,pr(this.i,this.u,this.A,this.l,this.R,Gs,w),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,Ds=this.g;if((gt=Ds.g?Ds.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(gt)){var at=gt;break t}}at=null}if(w=at)fr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ol(this,w);else{this.o=!1,this.s=3,fs(12),mi(this),Ys(this);break e}}if(this.P){w=!0;let Nn;for(;!this.J&&this.C<ye.length;)if(Nn=wt(this,ye),Nn==ze){Gs==4&&(this.s=4,fs(14),w=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Ch){this.s=4,fs(15),fr(this.i,this.l,ye,"[Invalid Chunk]"),w=!1;break}else fr(this.i,this.l,Nn,null),Ol(this,Nn);if(Ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gs!=4||ye.length!=0||this.h.h||(this.s=1,fs(16),w=!1),this.o=this.o&&w,!w)fr(this.i,this.l,ye,"[Invalid Chunked Response]"),mi(this),Ys(this);else if(0<ye.length&&!this.W){this.W=!0;var Hs=this.j;Hs.g==this&&Hs.ba&&!Hs.M&&(Hs.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Tf(Hs),Hs.M=!0,fs(11))}}else fr(this.i,this.l,ye,null),Ol(this,ye);Gs==4&&mi(this),this.o&&!this.J&&(Gs==4?e3(this.j,this):(this.o=!1,ts(this)))}else XE(this.g),w==400&&0<ye.indexOf("Unknown SID")?(this.s=3,fs(12)):(this.s=0,fs(13)),mi(this),Ys(this)}}}catch{}finally{}};function Ce(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wt(u,y){var w=u.C,R=y.indexOf(`
`,w);return R==-1?ze:(w=Number(y.substring(w,R)),isNaN(w)?Ch:(R+=1,R+w>y.length?ze:(y=y.slice(R,R+w),u.C=R+w,y)))}wn.prototype.cancel=function(){this.J=!0,mi(this)};function ts(u){u.S=Date.now()+u.I,$t(u,u.I)}function $t(u,y){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ba(f(u.ba,u),y)}function As(u){u.B&&(c.clearTimeout(u.B),u.B=null)}wn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_h(this.i,this.A),this.L!=2&&(zl(),fs(17)),mi(this),this.s=2,Ys(this)):$t(this,this.S-u)};function Ys(u){u.j.G==0||u.J||e3(u.j,u)}function mi(u){As(u);var y=u.M;y&&typeof y.ma=="function"&&y.ma(),u.M=null,Cl(u.U),u.g&&(y=u.g,u.g=null,y.abort(),y.ma())}function Ol(u,y){try{var w=u.j;if(w.G!=0&&(w.g==u||vf(w.h,u))){if(!u.K&&vf(w.h,u)&&w.G==3){try{var R=w.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var te=R;if(te[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Lh(w),$h(w);else break e;kf(w),fs(18)}}else w.za=te[1],0<w.za-w.T&&37500>te[2]&&w.F&&w.v==0&&!w.C&&(w.C=ba(f(w.Za,w),6e3));if(1>=_y(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else $l(w,11)}else if((u.K||w.g==u)&&Lh(w),!T(y))for(te=w.Da.g.parse(y),y=0;y<te.length;y++){let at=te[y];if(w.T=at[0],at=at[1],w.G==2)if(at[0]=="c"){w.K=at[1],w.ia=at[2];const Hs=at[3];Hs!=null&&(w.la=Hs,w.j.info("VER="+w.la));const Gs=at[4];Gs!=null&&(w.Aa=Gs,w.j.info("SVER="+w.Aa));const Ro=at[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(R=1.5*Ro,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Nn=u.g;if(Nn){const Uh=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uh){var re=R.h;re.g||Uh.indexOf("spdy")==-1&&Uh.indexOf("quic")==-1&&Uh.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(jf(re,re.h),re.h=null))}if(R.D){const Sf=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sf&&(R.ya=Sf,At(R.I,R.D,Sf))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var ye=u;if(R.qa=i3(R,R.J?R.ia:null,R.W),ye.K){Cy(R.h,ye);var gt=ye,Ds=R.L;Ds&&(gt.I=Ds),gt.B&&(As(gt),ts(gt)),R.g=ye}else Qy(R);0<w.i.length&&Bh(w)}else at[0]!="stop"&&at[0]!="close"||$l(w,7);else w.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?$l(w,7):Nf(w):at[0]!="noop"&&w.l&&w.l.ta(at),w.v=0)}}zl(4)}catch{}}var xs=class{constructor(u,y){this.g=u,this.map=y}};function y0(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function v0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _y(u){return u.h?1:u.g?u.g.size:0}function vf(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function jf(u,y){u.g?u.g.add(y):u.h=y}function Cy(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}y0.prototype.cancel=function(){if(this.i=My(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function My(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const w of u.g.values())y=y.concat(w.D);return y}return I(u.i)}function DE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(d(u)){for(var y=[],w=u.length,R=0;R<w;R++)y.push(u[R]);return y}y=[],w=0;for(R in u)y[w++]=u[R];return y}function RE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(d(u)||typeof u=="string"){var y=[];u=u.length;for(var w=0;w<u;w++)y.push(w);return y}y=[],w=0;for(const R in u)y[w++]=R;return y}}}function zy(u,y){if(u.forEach&&typeof u.forEach=="function")u.forEach(y,void 0);else if(d(u)||typeof u=="string")Array.prototype.forEach.call(u,y,void 0);else for(var w=RE(u),R=DE(u),te=R.length,re=0;re<te;re++)y.call(void 0,R[re],w&&w[re],u)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OE(u,y){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var R=u[w].indexOf("="),te=null;if(0<=R){var re=u[w].substring(0,R);te=u[w].substring(R+1)}else re=u[w];y(re,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Pl(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Pl){this.h=u.h,Mh(this,u.j),this.o=u.o,this.g=u.g,zh(this,u.s),this.l=u.l;var y=u.i,w=new N0;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Ry(this,w),this.m=u.m}else u&&(y=String(u).match(Dy))?(this.h=!1,Mh(this,y[1]||"",!0),this.o=j0(y[2]||""),this.g=j0(y[3]||"",!0),zh(this,y[4]),this.l=j0(y[5]||"",!0),Ry(this,y[6]||"",!0),this.m=j0(y[7]||"")):(this.h=!1,this.i=new N0(null,this.h))}Pl.prototype.toString=function(){var u=[],y=this.j;y&&u.push(w0(y,Oy,!0),":");var w=this.g;return(w||y=="file")&&(u.push("//"),(y=this.o)&&u.push(w0(y,Oy,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(w0(w,w.charAt(0)=="/"?BE:$E,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",w0(w,UE)),u.join("")};function xr(u){return new Pl(u)}function Mh(u,y,w){u.j=w?j0(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function zh(u,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);u.s=y}else u.s=null}function Ry(u,y,w){y instanceof N0?(u.i=y,FE(u.i,u.h)):(w||(y=w0(y,LE)),u.i=new N0(y,u.h))}function At(u,y,w){u.i.set(y,w)}function Dh(u){return At(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function j0(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function w0(u,y,w){return typeof u=="string"?(u=encodeURI(u).replace(y,PE),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function PE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oy=/[#\/\?@]/g,$E=/[#\?:]/g,BE=/[#\?]/g,LE=/[#\?@]/g,UE=/#/g;function N0(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ya(u){u.g||(u.g=new Map,u.h=0,u.i&&OE(u.i,function(y,w){u.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=N0.prototype,t.add=function(u,y){ya(this),this.i=null,u=zo(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(y),this.h+=1,this};function Py(u,y){ya(u),y=zo(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function $y(u,y){return ya(u),y=zo(u,y),u.g.has(y)}t.forEach=function(u,y){ya(this),this.g.forEach(function(w,R){w.forEach(function(te){u.call(y,te,R,this)},this)},this)},t.na=function(){ya(this);const u=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let R=0;R<y.length;R++){const te=u[R];for(let re=0;re<te.length;re++)w.push(y[R])}return w},t.V=function(u){ya(this);let y=[];if(typeof u=="string")$y(this,u)&&(y=y.concat(this.g.get(zo(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)y=y.concat(u[w])}return y},t.set=function(u,y){return ya(this),this.i=null,u=zo(this,u),$y(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=this.V(u),0<u.length?String(u[0]):y):y};function By(u,y,w){Py(u,y),0<w.length&&(u.i=null,u.g.set(zo(u,y),I(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var R=y[w];const re=encodeURIComponent(String(R)),ye=this.V(R);for(R=0;R<ye.length;R++){var te=re;ye[R]!==""&&(te+="="+encodeURIComponent(String(ye[R]))),u.push(te)}}return this.i=u.join("&")};function zo(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function FE(u,y){y&&!u.j&&(ya(u),u.i=null,u.g.forEach(function(w,R){var te=R.toLowerCase();R!=te&&(Py(this,R),By(this,te,w))},u)),u.j=y}function HE(u,y){const w=new Dl;if(c.Image){const R=new Image;R.onload=b(va,w,"TestLoadImage: loaded",!0,y,R),R.onerror=b(va,w,"TestLoadImage: error",!1,y,R),R.onabort=b(va,w,"TestLoadImage: abort",!1,y,R),R.ontimeout=b(va,w,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else y(!1)}function GE(u,y){const w=new Dl,R=new AbortController,te=setTimeout(()=>{R.abort(),va(w,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:R.signal}).then(re=>{clearTimeout(te),re.ok?va(w,"TestPingServer: ok",!0,y):va(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(te),va(w,"TestPingServer: error",!1,y)})}function va(u,y,w,R,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),R(w)}catch{}}function VE(){this.g=new m0}function WE(u,y,w){const R=w||"";try{zy(u,function(te,re){let ye=te;h(te)&&(ye=qi(te)),y.push(R+re+"="+encodeURIComponent(ye))})}catch(te){throw y.push(R+"type="+encodeURIComponent("_badmap")),te}}function Rh(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Rh,Ml),Rh.prototype.g=function(){return new Oh(this.l,this.j)},Rh.prototype.i=function(u){return function(){return u}}({});function Oh(u,y){Ot.call(this),this.D=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Oh,Ot),t=Oh.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=y,this.readyState=1,T0(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(y.body=u),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,k0(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,T0(this)),this.g&&(this.readyState=3,T0(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ly(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ly(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?k0(this):T0(this),this.readyState==3&&Ly(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,k0(this))},t.Qa=function(u){this.g&&(this.response=u,k0(this))},t.ga=function(){this.g&&k0(this)};function k0(u){u.readyState=4,u.l=null,u.j=null,u.v=null,T0(u)}t.setRequestHeader=function(u,y){this.u.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=y.next();return u.join(`\r
`)};function T0(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Uy(u){let y="";return ee(u,function(w,R){y+=R,y+=":",y+=w,y+=`\r
`}),y}function wf(u,y,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Uy(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):At(u,y,w))}function ss(u){Ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(ss,Ot);var ZE=/^https?$/i,YE=["POST","PUT"];t=ss.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,y,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mo.g(),this.v=this.o?qh(this.o):qh(Mo),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(re){Fy(this,re);return}if(u=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var te in R)w.set(te,R[te]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const re of R.keys())w.set(re,R.get(re));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),te=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(YE,y,void 0))||R||te||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of w)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vy(this),this.u=!0,this.g.send(u),this.u=!1}catch(re){Fy(this,re)}};function Fy(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.m=5,Hy(u),Ph(u)}function Hy(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ph(this,!0)),ss.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gy(this):this.bb())},t.bb=function(){Gy(this)};function Gy(u){if(u.h&&typeof l<"u"&&(!u.v[1]||gr(u)!=4||u.Z()!=2)){if(u.u&&gr(u)==4)d0(u.Ea,0,u);else if(jt(u,"readystatechange"),gr(u)==4){u.h=!1;try{const ye=u.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var R;if(R=ye===0){var te=String(u.D).match(Dy)[1]||null;!te&&c.self&&c.self.location&&(te=c.self.location.protocol.slice(0,-1)),R=!ZE.test(te?te.toLowerCase():"")}w=R}if(w)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var re=2<gr(u)?u.g.statusText:""}catch{re=""}u.l=re+" ["+u.Z()+"]",Hy(u)}}finally{Ph(u)}}}}function Ph(u,y){if(u.g){Vy(u);const w=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,y||jt(u,"ready");try{w.onreadystatechange=R}catch{}}}function Vy(u){u.I&&(c.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function gr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),xa(y)}};function Wy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function XE(u){const y={};u=(u.g&&2<=gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(T(u[R]))continue;var w=B(u[R]);const te=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=y[te]||[];y[te]=re,re.push(w)}C(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function S0(u,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||y}function Zy(u){this.Aa=0,this.i=[],this.j=new Dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=S0("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=S0("baseRetryDelayMs",5e3,u),this.cb=S0("retryDelaySeedMs",1e4,u),this.Wa=S0("forwardChannelMaxRetries",2,u),this.wa=S0("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new y0(u&&u.concurrentRequestLimit),this.Da=new VE,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zy.prototype,t.la=8,t.G=1,t.connect=function(u,y,w,R){fs(0),this.W=u,this.H=y||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=i3(this,null,this.W),Bh(this)};function Nf(u){if(Yy(u),u.G==3){var y=u.U++,w=xr(u.I);if(At(w,"SID",u.K),At(w,"RID",y),At(w,"TYPE","terminate"),A0(u,w),y=new wn(u,u.j,y),y.L=2,y.v=Dh(xr(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=n3(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ts(y)}s3(u)}function $h(u){u.g&&(Tf(u),u.g.cancel(),u.g=null)}function Yy(u){$h(u),u.u&&(c.clearTimeout(u.u),u.u=null),Lh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function Bh(u){if(!v0(u.h)&&!u.s){u.s=!0;var y=u.Ga;xe||Re(),we||(xe(),we=!0),Le.add(y,u),u.B=0}}function KE(u,y){return _y(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=y.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ba(f(u.Ga,u,y),t3(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const te=new wn(this,this.j,u);let re=this.o;if(this.S&&(re?(re=S(re),O(re,this.S)):re=this.S),this.m!==null||this.O||(te.H=re,re=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ky(this,te,y),w=xr(this.I),At(w,"RID",u),At(w,"CVER",22),this.D&&At(w,"X-HTTP-Session-Id",this.D),A0(this,w),re&&(this.O?y="headers="+encodeURIComponent(String(Uy(re)))+"&"+y:this.m&&wf(w,this.m,re)),jf(this.h,te),this.Ua&&At(w,"TYPE","init"),this.P?(At(w,"$req",y),At(w,"SID","null"),te.T=!0,Y(te,w,null)):Y(te,w,y),this.G=2}}else this.G==3&&(u?Xy(this,u):this.i.length==0||v0(this.h)||Xy(this))};function Xy(u,y){var w;y?w=y.l:w=u.U++;const R=xr(u.I);At(R,"SID",u.K),At(R,"RID",w),At(R,"AID",u.T),A0(u,R),u.m&&u.o&&wf(R,u.m,u.o),w=new wn(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),y&&(u.i=y.D.concat(u.i)),y=Ky(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),jf(u.h,w),Y(w,R,y)}function A0(u,y){u.H&&ee(u.H,function(w,R){At(y,R,w)}),u.l&&zy({},function(w,R){At(y,R,w)})}function Ky(u,y,w){w=Math.min(u.i.length,w);var R=u.l?f(u.l.Na,u.l,u):null;e:{var te=u.i;let re=-1;for(;;){const ye=["count="+w];re==-1?0<w?(re=te[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let gt=!0;for(let Ds=0;Ds<w;Ds++){let at=te[Ds].g;const Hs=te[Ds].map;if(at-=re,0>at)re=Math.max(0,te[Ds].g-100),gt=!1;else try{WE(Hs,ye,"req"+at+"_")}catch{R&&R(Hs)}}if(gt){R=ye.join("&");break e}}}return u=u.i.splice(0,w),y.D=u,R}function Qy(u){if(!u.g&&!u.u){u.Y=1;var y=u.Fa;xe||Re(),we||(xe(),we=!0),Le.add(y,u),u.v=0}}function kf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ba(f(u.Fa,u),t3(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Jy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ba(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fs(10),$h(this),Jy(this))};function Tf(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function Jy(u){u.g=new wn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var y=xr(u.qa);At(y,"RID","rpc"),At(y,"SID",u.K),At(y,"AID",u.T),At(y,"CI",u.F?"0":"1"),!u.F&&u.ja&&At(y,"TO",u.ja),At(y,"TYPE","xmlhttp"),A0(u,y),u.m&&u.o&&wf(y,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=Dh(xr(y)),w.m=null,w.P=!0,me(w,u)}t.Za=function(){this.C!=null&&(this.C=null,$h(this),kf(this),fs(19))};function Lh(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function e3(u,y){var w=null;if(u.g==y){Lh(u),Tf(u),u.g=null;var R=2}else if(vf(u.h,y))w=y.D,Cy(u.h,y),R=1;else return;if(u.G!=0){if(y.o)if(R==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var te=u.B;R=Pt(),jt(R,new x0(R,w)),Bh(u)}else Qy(u);else if(te=y.s,te==3||te==0&&0<y.X||!(R==1&&KE(u,y)||R==2&&kf(u)))switch(w&&0<w.length&&(y=u.h,y.i=y.i.concat(w)),te){case 1:$l(u,5);break;case 4:$l(u,10);break;case 3:$l(u,6);break;default:$l(u,2)}}}function t3(u,y){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*y}function $l(u,y){if(u.j.info("Error code "+y),y==2){var w=f(u.fb,u),R=u.Xa;const te=!R;R=new Pl(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mh(R,"https"),Dh(R),te?HE(R.toString(),w):GE(R.toString(),w)}else fs(2);u.G=0,u.l&&u.l.sa(y),s3(u),Yy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),fs(2)):(this.j.info("Failed to ping google.com"),fs(1))};function s3(u){if(u.G=0,u.ka=[],u.l){const y=My(u.h);(y.length!=0||u.i.length!=0)&&(D(u.ka,y),D(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function i3(u,y,w){var R=w instanceof Pl?xr(w):new Pl(w);if(R.g!="")y&&(R.g=y+"."+R.g),zh(R,R.s);else{var te=c.location;R=te.protocol,y=y?y+"."+te.hostname:te.hostname,te=+te.port;var re=new Pl(null);R&&Mh(re,R),y&&(re.g=y),te&&zh(re,te),w&&(re.l=w),R=re}return w=u.D,y=u.ya,w&&y&&At(R,w,y),At(R,"VER",u.la),A0(u,R),R}function n3(u,y,w){if(y&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Ca&&!u.pa?new ss(new Rh({eb:w})):new ss(u.pa),y.Ha(u.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function r3(){}t=r3.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zi(u,y){Ot.call(this),this.g=new Zy(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(u?u["X-WebChannel-Client-Profile"]=y.va:u={"X-WebChannel-Client-Profile":y.va}),this.g.S=u,(u=y&&y.Sb)&&!T(u)&&(this.g.m=u),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!T(y)&&(this.g.D=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Do(this)}N(Zi,Ot),Zi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zi.prototype.close=function(){Nf(this.g)},Zi.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=qi(u),u=w);y.i.push(new xs(y.Ya++,u)),y.G==3&&Bh(y)},Zi.prototype.N=function(){this.g.l=null,delete this.j,Nf(this.g),delete this.g,Zi.aa.N.call(this)};function a3(u){p0.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const w in y){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}N(a3,p0);function l3(){ur.call(this),this.status=1}N(l3,ur);function Do(u){this.g=u}N(Do,r3),Do.prototype.ua=function(){jt(this.g,"a")},Do.prototype.ta=function(u){jt(this.g,new a3(u))},Do.prototype.sa=function(u){jt(this.g,new l3)},Do.prototype.ra=function(){jt(this.g,"b")},Zi.prototype.send=Zi.prototype.o,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,Co.NO_ERROR=0,Co.TIMEOUT=8,Co.HTTP_ERROR=6,jn.COMPLETE="complete",_o.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,ss.prototype.listenOnce=ss.prototype.L,ss.prototype.getLastError=ss.prototype.Ka,ss.prototype.getLastErrorCode=ss.prototype.Ba,ss.prototype.getStatus=ss.prototype.Z,ss.prototype.getResponseJson=ss.prototype.Oa,ss.prototype.getResponseText=ss.prototype.oa,ss.prototype.send=ss.prototype.ea,ss.prototype.setWithCredentials=ss.prototype.Ha}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const b6="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new U4("@firebase/firestore");function Mn(t,...e){if(Zm.logLevel<=mt.DEBUG){const i=e.map(XN);Zm.debug(`Firestore (${Yp}): ${t}`,...i)}}function YN(t,...e){if(Zm.logLevel<=mt.ERROR){const i=e.map(XN);Zm.error(`Firestore (${Yp}): ${t}`,...i)}}function XN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t="Unexpected state"){const e=`FIRESTORE (${Yp}) INTERNAL ASSERTION FAILED: `+t;throw YN(e),new Error(e)}function ud(t,e){t||KN()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Cn extends rr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(_i.UNAUTHENTICATED))}shutdown(){}}class UR{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ud(this.o===void 0);let n=this.i;const r=d=>this.i!==n?(n=this.i,i(d)):Promise.resolve();let a=new md;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new md,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new md)}},0),l()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ud(typeof n.accessToken=="string"),new BR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ud(e===null||typeof e=="string"),new _i(e)}}class FR{constructor(e,i,n){this.l=e,this.h=i,this.P=n,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HR{constructor(e,i,n){this.l=e,this.h=i,this.P=n}getToken(){return Promise.resolve(new FR(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){ud(this.o===void 0);const n=a=>{a.error!=null&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Mn("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?i(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const r=a=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ud(typeof i.token=="string"),this.R=i.token,new GR(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WR(t){return t.name==="IndexedDbTransactionError"}class Ym{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Ym("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ym&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y6,it;(it=y6||(y6={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ZN([4294967295,4294967295],0);function yx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i,n=1e3,r=1.5,a=6e4){this.ui=e,this.timerId=i,this.ko=n,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,i-n);r>0&&Mn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,i,n,r,a){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=a,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,n,r,a){const l=Date.now()+n,c=new J4(e,i,l,r,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Cn(_n.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var v6,j6;(j6=v6||(v6={})).ea="default",j6.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Map;function XR(t,e,i,n){if(e===!0&&n===!0)throw new Cn(_n.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){var i,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Cn(_n.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Cn(_n.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YR((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Cn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Cn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Cn(_n.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KR{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N6({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Cn(_n.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Cn(_n.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N6(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new LR;switch(n.type){case"firstParty":return new HR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Cn(_n.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=w6.get(i);n&&(Mn("ComponentProvider","Removing Datastore"),w6.delete(i),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ZR(this,"async_queue_retry"),this.Vu=()=>{const n=yx();n&&Mn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const i=yx();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=yx();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new md;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!WR(e))throw e;Mn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const i=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const r=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw YN("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.du=!1,n))));return this.mu=i,i}enqueueAfterDelay(e,i,n){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const r=J4.createAndSchedule(this,e,i,n,a=>this.yu(a));return this.Tu.push(r),r}fu(){this.Eu&&KN()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}class QR extends KR{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=new k6,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k6(e),this._firestoreClient=void 0,await e}}}(function(e,i=!0){(function(r){Yp=r})(Qc),fo(new hl("firestore",(n,{instanceIdentifier:r,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new QR(new UR(n.getProvider("auth-internal")),new VR(n.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Cn(_n.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ym(h.options.projectId,m)}(l,r),l);return a=Object.assign({useFetchStreams:i},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Qn(b6,"4.7.3",e),Qn(b6,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="type.googleapis.com/google.protobuf.Int64Value",eO="type.googleapis.com/google.protobuf.UInt64Value";function QN(t,e){const i={};for(const n in t)t.hasOwnProperty(n)&&(i[n]=e(t[n]));return i}function Og(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Og(e));if(typeof t=="function"||typeof t=="object")return QN(t,e=>Og(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Xm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case JR:case eO:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Xm(e)):typeof t=="function"||typeof t=="object"?QN(t,e=>Xm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jc extends rr{constructor(e,i,n){super(`${eb}/${e}`,i||""),this.details=n}}function tO(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function sO(t,e){let i=tO(t),n=i,r;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!T6[l])return new jc("internal","internal");i=T6[l],n=l}const c=a.message;typeof c=="string"&&(n=c),r=a.details,r!==void 0&&(r=Xm(r))}}catch{}return i==="ok"?null:new jc(i,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,i,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||n.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:i,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="us-central1";function nO(t){let e=null;return{promise:new Promise((i,n)=>{e=setTimeout(()=>{n(new jc("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class rO{constructor(e,i,n,r,a=Pg,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new iO(i,n,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Pg}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function aO(t,e,i){t.emulatorOrigin=`http://${e}:${i}`}function lO(t,e,i){return n=>cO(t,e,n,{})}async function oO(t,e,i,n){i["Content-Type"]="application/json";let r;try{r=await n(t,{method:"POST",body:JSON.stringify(e),headers:i})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}function cO(t,e,i,n){const r=t._url(e);return dO(t,r,i,n)}async function dO(t,e,i,n){i=Og(i);const r={data:i},a={},l=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const c=n.timeout||7e4,d=nO(c),h=await Promise.race([oO(e,r,a,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!h)throw new jc("cancelled","Firebase Functions instance was deleted.");const m=sO(h.status,h.json);if(m)throw m;if(!h.json)throw new jc("internal","Response is not valid JSON object.");let p=h.json.data;if(typeof p>"u"&&(p=h.json.result),typeof p>"u")throw new jc("internal","Response is missing data field.");return{data:Xm(p)}}const S6="@firebase/functions",A6="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="auth-internal",uO="app-check-internal",mO="messaging-internal";function pO(t,e){const i=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(hO),c=n.getProvider(mO),d=n.getProvider(uO);return new rO(a,l,c,d,r,t)};fo(new hl(eb,i,"PUBLIC").setMultipleInstances(!0)),Qn(S6,A6,e),Qn(S6,A6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t=uN(),e=Pg){const n=H4(On(t),eb).getImmediate({identifier:e}),r=pM("functions");return r&&JN(n,...r),n}function JN(t,e,i){aO(On(t),e,i)}function Vn(t,e,i){return lO(On(t),e)}pO(fetch.bind(self));const $g={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},xO=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let lu=null,vx=null,ou=null;function ek(){if(!lu){const t=Ez();t.length>0?lu=t[0]:lu=hN($g)}return lu}function jx(){return vx||(vx=PR(ek())),vx}function Or(){if(!ou&&(ou=fO(ek()),xO&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{JN(ou,"localhost",5001)}catch{}return ou}function Pr(){return!!$g.apiKey&&$g.apiKey.length>10}const gO=22242,bO=5e3,yO=2e3,tk=3e4,vO=3e4,sk=30*1e3,ik=2e3,jO=60*60*1e3,Bg=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class wO{constructor(e="",i=!0){Es(this,"prefix");Es(this,"enabled");this.prefix=e?`[${e}]`:"",this.enabled=i}log(e,i,n){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${i}`:i;if(e==="debug"||e==="info")return;const a=console[e]||console.log;n!==void 0?a(r,n):a(r)}debug(e,i){this.log("debug",e,i)}info(e,i){this.log("info",e,i)}warn(e,i){this.log("warn",e,i)}error(e,i){this.log("error",e,i)}setEnabled(e){this.enabled=e}}const wx={};function bn(t){const e=t||"__default__";return wx[e]||(wx[e]=new wO(t)),wx[e]}const Jl=bn("NostrUtils"),Lg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",NO=[996825010,642813549,513874426,1027748829,705979059];function nk(t){let e=1;for(const i of t){const n=e>>25;e=(e&33554431)<<5^i;for(let r=0;r<5;r++)n>>r&1&&(e^=NO[r])}return e}function rk(t){const e=[];for(const i of t)e.push(i.charCodeAt(0)>>5);e.push(0);for(const i of t)e.push(i.charCodeAt(0)&31);return e}function kO(t,e){return nk([...rk(t),...e])===1}function TO(t,e){const i=[...rk(t),...e,0,0,0,0,0,0],n=nk(i)^1,r=[];for(let a=0;a<6;a++)r.push(n>>5*(5-a)&31);return r}function ak(t,e,i,n){let r=0,a=0;const l=[],c=(1<<i)-1;for(const d of t){if(d<0||d>>e)return null;for(r=r<<e|d,a+=e;a>=i;)a-=i,l.push(r>>a&c)}if(n)a>0&&l.push(r<<i-a&c);else if(a>=e||r<<i-a&c)return null;return l}function SO(t,e){const i=ak(e,8,5,!0);if(!i)throw new Error("Failed to convert data to 5-bit groups");const n=TO(t,i);let r=t+"1";for(const a of i)r+=Lg[a];for(const a of n)r+=Lg[a];return r}function AO(t){const e=t.toLowerCase(),i=t.toUpperCase();if(t!==e&&t!==i)return null;const n=e,r=n.lastIndexOf("1");if(r<1||r+7>n.length||n.length>90)return null;const a=n.slice(0,r),l=n.slice(r+1),c=[];for(const m of l){const p=Lg.indexOf(m);if(p===-1)return null;c.push(p)}if(!kO(a,c))return null;const d=c.slice(0,-6),h=ak(new Uint8Array(d),5,8,!1);return h?{hrp:a,data:new Uint8Array(h)}:null}function EO(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const e=new Uint8Array(t.length/2);for(let i=0;i<t.length;i+=2)e[i/2]=parseInt(t.slice(i,i+2),16);return e}function qO(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function IO(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const e=EO(t);return SO("npub",e)}function lk(t){const e=AO(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return qO(e.data)}function Km(t,e=8){return t.length<=e*2+3?t:`${t.slice(0,e)}...${t.slice(-e)}`}function Qm(){return typeof window<"u"&&window.nostr!==void 0}function _O(t=3e3){return new Promise(e=>{if(Qm()){e(!0);return}const i=Date.now(),n=setInterval(()=>{Qm()?(clearInterval(n),e(!0)):Date.now()-i>t&&(clearInterval(n),e(!1))},100)})}function ok(t,e){return new Promise(i=>{let n=!1,r=null,a=null;const l=()=>{n||(n=!0,a&&(clearTimeout(a),a=null),r&&r.readyState!==WebSocket.CLOSED&&r.close())};a=setTimeout(()=>{Jl.debug(`WebSocket timeout for relay: ${t}`),l(),i(null)},bO);try{r=new WebSocket(t)}catch(d){Jl.debug(`Failed to create WebSocket for relay ${t}:`,d),l(),i(null);return}const c=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(n||!r)return;const d=JSON.stringify(["REQ",c,{kinds:[0],authors:[e],limit:1}]);r.send(d)},r.onmessage=d=>{if(!n)try{const h=JSON.parse(d.data);if(h[0]==="EVENT"&&h[1]===c){const m=JSON.parse(h[2].content);l(),i({name:m.name||m.display_name,display_name:m.display_name,nip05:m.nip05,picture:m.picture,about:m.about})}else h[0]==="EOSE"&&(l(),i(null))}catch(h){Jl.debug(`Failed to parse WebSocket message from ${t}:`,h)}},r.onerror=d=>{Jl.debug(`WebSocket error for relay ${t}:`,d),l(),i(null)},r.onclose=()=>{n||(l(),i(null))}})}async function CO(t){try{const e=lk(t);for(const i of Bg)try{const n=await ok(i,e);if(n)return n}catch(n){Jl.debug(`Failed to fetch profile from relay ${i}:`,n)}return Jl.debug(`No profile found for npub across ${Bg.length} relays`),null}catch(e){return Jl.debug("Failed to convert npub to hex:",e),null}}async function MO(t){const e=new Map,i=10;for(let n=0;n<t.length;n+=i){const a=t.slice(n,n+i).map(async l=>{const c=await CO(l);c&&e.set(l,c)});await Promise.all(a)}return e}const zO=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","calc_easy","wm","four_pillars","mom","euclid","thales","gauss","human_action","atlas_shrugged","mod-race","man_econ_state","road_to_serfdom"];function DO(t){return zO.includes(t)}function le(t,e,i){function n(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,d);const h=l.prototype,m=Object.keys(h);for(let p=0;p<m.length;p++){const f=m[p];f in c||(c[f]=h[f].bind(c))}}const r=(i==null?void 0:i.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:t});function l(c){var d;const h=i!=null&&i.Parent?new a:this;n(h,c),(d=h._zod).deferred??(d.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var d,h;return i!=null&&i.Parent&&c instanceof i.Parent?!0:(h=(d=c==null?void 0:c._zod)==null?void 0:d.traits)==null?void 0:h.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class wc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ck extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const dk={};function ul(t){return dk}function hk(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,r])=>e.indexOf(+n)===-1).map(([n,r])=>r)}function Ug(t,e){return typeof e=="bigint"?e.toString():e}function tb(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function sb(t){return t==null}function ib(t){const e=t.startsWith("^")?1:0,i=t.endsWith("$")?t.length-1:t.length;return t.slice(e,i)}function RO(t,e){const i=(t.toString().split(".")[1]||"").length,n=e.toString();let r=(n.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d!=null&&d[1]&&(r=Number.parseInt(d[1]))}const a=i>r?i:r,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}const E6=Symbol("evaluating");function kt(t,e,i){let n;Object.defineProperty(t,e,{get(){if(n!==E6)return n===void 0&&(n=E6,n=i()),n},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function To(t,e,i){Object.defineProperty(t,e,{value:i,writable:!0,enumerable:!0,configurable:!0})}function So(...t){const e={};for(const i of t){const n=Object.getOwnPropertyDescriptors(i);Object.assign(e,n)}return Object.defineProperties({},e)}function q6(t){return JSON.stringify(t)}function OO(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const uk="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Jm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const PO=tb(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Pc(t){if(Jm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const i=e.prototype;return!(Jm(i)===!1||Object.prototype.hasOwnProperty.call(i,"isPrototypeOf")===!1)}function mk(t){return Pc(t)?{...t}:Array.isArray(t)?[...t]:t}const $O=new Set(["string","number","symbol"]);function Xp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sl(t,e,i){const n=new t._zod.constr(e??t._zod.def);return(!e||i!=null&&i.parent)&&(n._zod.parent=t),n}function De(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function BO(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const LO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function UO(t,e){const i=t._zod.def,n=So(t._zod.def,{get shape(){const r={};for(const a in e){if(!(a in i.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=i.shape[a])}return To(this,"shape",r),r},checks:[]});return Sl(t,n)}function FO(t,e){const i=t._zod.def,n=So(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const a in e){if(!(a in i.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return To(this,"shape",r),r},checks:[]});return Sl(t,n)}function HO(t,e){if(!Pc(e))throw new Error("Invalid input to extend: expected a plain object");const i=t._zod.def.checks;if(i&&i.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=So(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return To(this,"shape",a),a},checks:[]});return Sl(t,r)}function GO(t,e){if(!Pc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const i={...t._zod.def,get shape(){const n={...t._zod.def.shape,...e};return To(this,"shape",n),n},checks:t._zod.def.checks};return Sl(t,i)}function VO(t,e){const i=So(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return To(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return Sl(t,i)}function WO(t,e,i){const n=So(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(i)for(const l in i){if(!(l in r))throw new Error(`Unrecognized key: "${l}"`);i[l]&&(a[l]=t?new t({type:"optional",innerType:r[l]}):r[l])}else for(const l in r)a[l]=t?new t({type:"optional",innerType:r[l]}):r[l];return To(this,"shape",a),a},checks:[]});return Sl(e,n)}function ZO(t,e,i){const n=So(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(i)for(const l in i){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);i[l]&&(a[l]=new t({type:"nonoptional",innerType:r[l]}))}else for(const l in r)a[l]=new t({type:"nonoptional",innerType:r[l]});return To(this,"shape",a),a},checks:[]});return Sl(e,n)}function nc(t,e=0){var i;if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(((i=t.issues[n])==null?void 0:i.continue)!==!0)return!0;return!1}function rc(t,e){return e.map(i=>{var n;return(n=i).path??(n.path=[]),i.path.unshift(t),i})}function cu(t){return typeof t=="string"?t:t==null?void 0:t.message}function ml(t,e,i){var r,a,l,c,d,h;const n={...t,path:t.path??[]};if(!t.message){const m=cu((l=(a=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??cu((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??cu((d=i.customError)==null?void 0:d.call(i,t))??cu((h=i.localeError)==null?void 0:h.call(i,t))??"Invalid input";n.message=m}return delete n.inst,delete n.continue,e!=null&&e.reportInput||delete n.input,n}function nb(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Ld(...t){const[e,i,n]=t;return typeof e=="string"?{message:e,code:"custom",input:i,inst:n}:{...e}}const pk=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Ug,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},fk=le("$ZodError",pk),xk=le("$ZodError",pk,{Parent:Error});function YO(t,e=i=>i.message){const i={},n=[];for(const r of t.issues)r.path.length>0?(i[r.path[0]]=i[r.path[0]]||[],i[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:i}}function XO(t,e=i=>i.message){const i={_errors:[]},n=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>n({issues:l}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)i._errors.push(e(a));else{let l=i,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(e(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(t),i}const rb=t=>(e,i,n,r)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},l=e._zod.run({value:i,issues:[]},a);if(l instanceof Promise)throw new wc;if(l.issues.length){const c=new((r==null?void 0:r.Err)??t)(l.issues.map(d=>ml(d,a,ul())));throw uk(c,r==null?void 0:r.callee),c}return l.value},ab=t=>async(e,i,n,r)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let l=e._zod.run({value:i,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((r==null?void 0:r.Err)??t)(l.issues.map(d=>ml(d,a,ul())));throw uk(c,r==null?void 0:r.callee),c}return l.value},Kp=t=>(e,i,n)=>{const r=n?{...n,async:!1}:{async:!1},a=e._zod.run({value:i,issues:[]},r);if(a instanceof Promise)throw new wc;return a.issues.length?{success:!1,error:new(t??fk)(a.issues.map(l=>ml(l,r,ul())))}:{success:!0,data:a.value}},KO=Kp(xk),Qp=t=>async(e,i,n)=>{const r=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:i,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>ml(l,r,ul())))}:{success:!0,data:a.value}},QO=Qp(xk),JO=t=>(e,i,n)=>{const r=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return rb(t)(e,i,r)},eP=t=>(e,i,n)=>rb(t)(e,i,n),tP=t=>async(e,i,n)=>{const r=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ab(t)(e,i,r)},sP=t=>async(e,i,n)=>ab(t)(e,i,n),iP=t=>(e,i,n)=>{const r=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Kp(t)(e,i,r)},nP=t=>(e,i,n)=>Kp(t)(e,i,n),rP=t=>async(e,i,n)=>{const r=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Qp(t)(e,i,r)},aP=t=>async(e,i,n)=>Qp(t)(e,i,n),lP=/^[cC][^\s-]{8,}$/,oP=/^[0-9a-z]+$/,cP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dP=/^[0-9a-vA-V]{20}$/,hP=/^[A-Za-z0-9]{27}$/,uP=/^[a-zA-Z0-9_-]{21}$/,mP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,pP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,I6=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,fP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function gP(){return new RegExp(xP,"u")}const bP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,vP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,jP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,wP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,gk=/^[A-Za-z0-9_-]*$/,NP=/^\+(?:[0-9]){6,14}[0-9]$/,bk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",kP=new RegExp(`^${bk}$`);function yk(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function TP(t){return new RegExp(`^${yk(t)}$`)}function SP(t){const e=yk({precision:t.precision}),i=["Z"];t.local&&i.push(""),t.offset&&i.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${e}(?:${i.join("|")})`;return new RegExp(`^${bk}T(?:${n})$`)}const AP=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},EP=/^-?\d+$/,qP=/^-?\d+(?:\.\d+)?/,IP=/^(?:true|false)$/i,_P=/^[^A-Z]*$/,CP=/^[^a-z]*$/,Ti=le("$ZodCheck",(t,e)=>{var i;t._zod??(t._zod={}),t._zod.def=e,(i=t._zod).onattach??(i.onattach=[])}),vk={number:"number",bigint:"bigint",object:"date"},jk=le("$ZodCheckLessThan",(t,e)=>{Ti.init(t,e);const i=vk[typeof e.value];t._zod.onattach.push(n=>{const r=n._zod.bag,a=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:i,code:"too_big",maximum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),wk=le("$ZodCheckGreaterThan",(t,e)=>{Ti.init(t,e);const i=vk[typeof e.value];t._zod.onattach.push(n=>{const r=n._zod.bag,a=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:i,code:"too_small",minimum:e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),MP=le("$ZodCheckMultipleOf",(t,e)=>{Ti.init(t,e),t._zod.onattach.push(i=>{var n;(n=i._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=i=>{if(typeof i.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof i.value=="bigint"?i.value%e.value===BigInt(0):RO(i.value,e.value)===0)||i.issues.push({origin:typeof i.value,code:"not_multiple_of",divisor:e.value,input:i.value,inst:t,continue:!e.abort})}}),zP=le("$ZodCheckNumberFormat",(t,e)=>{var l;Ti.init(t,e),e.format=e.format||"float64";const i=(l=e.format)==null?void 0:l.includes("int"),n=i?"int":"number",[r,a]=LO[e.format];t._zod.onattach.push(c=>{const d=c._zod.bag;d.format=e.format,d.minimum=r,d.maximum=a,i&&(d.pattern=EP)}),t._zod.check=c=>{const d=c.value;if(i){if(!Number.isInteger(d)){c.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,continue:!e.abort});return}}d<r&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),d>a&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:a,inst:t})}}),DP=le("$ZodCheckMaxLength",(t,e)=>{var i;Ti.init(t,e),(i=t._zod.def).when??(i.when=n=>{const r=n.value;return!sb(r)&&r.length!==void 0}),t._zod.onattach.push(n=>{const r=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const r=n.value;if(r.length<=e.maximum)return;const l=nb(r);n.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),RP=le("$ZodCheckMinLength",(t,e)=>{var i;Ti.init(t,e),(i=t._zod.def).when??(i.when=n=>{const r=n.value;return!sb(r)&&r.length!==void 0}),t._zod.onattach.push(n=>{const r=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const r=n.value;if(r.length>=e.minimum)return;const l=nb(r);n.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),OP=le("$ZodCheckLengthEquals",(t,e)=>{var i;Ti.init(t,e),(i=t._zod.def).when??(i.when=n=>{const r=n.value;return!sb(r)&&r.length!==void 0}),t._zod.onattach.push(n=>{const r=n._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=n=>{const r=n.value,a=r.length;if(a===e.length)return;const l=nb(r),c=a>e.length;n.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),Jp=le("$ZodCheckStringFormat",(t,e)=>{var i,n;Ti.init(t,e),t._zod.onattach.push(r=>{const a=r._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(i=t._zod).check??(i.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),PP=le("$ZodCheckRegex",(t,e)=>{Jp.init(t,e),t._zod.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:"regex",input:i.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),$P=le("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=_P),Jp.init(t,e)}),BP=le("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=CP),Jp.init(t,e)}),LP=le("$ZodCheckIncludes",(t,e)=>{Ti.init(t,e);const i=Xp(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${i}`:i);e.pattern=n,t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),UP=le("$ZodCheckStartsWith",(t,e)=>{Ti.init(t,e);const i=new RegExp(`^${Xp(e.prefix)}.*`);e.pattern??(e.pattern=i),t._zod.onattach.push(n=>{const r=n._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),FP=le("$ZodCheckEndsWith",(t,e)=>{Ti.init(t,e);const i=new RegExp(`.*${Xp(e.suffix)}$`);e.pattern??(e.pattern=i),t._zod.onattach.push(n=>{const r=n._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),HP=le("$ZodCheckOverwrite",(t,e)=>{Ti.init(t,e),t._zod.check=i=>{i.value=e.tx(i.value)}});class GP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(l=>l),r=Math.min(...n.map(l=>l.length-l.trimStart().length)),a=n.map(l=>l.slice(r)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,i=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...i,r.join(`
`))}}const VP={major:4,minor:2,patch:1},es=le("$ZodType",(t,e)=>{var r;var i;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=VP;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const a of n)for(const l of a._zod.onattach)l(t);if(n.length===0)(i=t._zod).deferred??(i.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,d,h)=>{let m=nc(c),p;for(const f of d){if(f._zod.def.when){if(!f._zod.def.when(c))continue}else if(m)continue;const b=c.issues.length,N=f._zod.check(c);if(N instanceof Promise&&(h==null?void 0:h.async)===!1)throw new wc;if(p||N instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await N,c.issues.length!==b&&(m||(m=nc(c,b)))});else{if(c.issues.length===b)continue;m||(m=nc(c,b))}}return p?p.then(()=>c):c},l=(c,d,h)=>{if(nc(c))return c.aborted=!0,c;const m=a(d,n,h);if(m instanceof Promise){if(h.async===!1)throw new wc;return m.then(p=>t._zod.parse(p,h))}return t._zod.parse(m,h)};t._zod.run=(c,d)=>{if(d.skipChecks)return t._zod.parse(c,d);if(d.direction==="backward"){const m=t._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return m instanceof Promise?m.then(p=>l(p,c,d)):l(m,c,d)}const h=t._zod.parse(c,d);if(h instanceof Promise){if(d.async===!1)throw new wc;return h.then(m=>a(m,n,d))}return a(h,n,d)}}t["~standard"]={validate:a=>{var l;try{const c=KO(t,a);return c.success?{value:c.data}:{issues:(l=c.error)==null?void 0:l.issues}}catch{return QO(t,a).then(d=>{var h;return d.success?{value:d.data}:{issues:(h=d.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),lb=le("$ZodString",(t,e)=>{var i;es.init(t,e),t._zod.pattern=[...((i=t==null?void 0:t._zod.bag)==null?void 0:i.patterns)??[]].pop()??AP(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),zt=le("$ZodStringFormat",(t,e)=>{Jp.init(t,e),lb.init(t,e)}),WP=le("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=pP),zt.init(t,e)}),ZP=le("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=I6(n))}else e.pattern??(e.pattern=I6());zt.init(t,e)}),YP=le("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=fP),zt.init(t,e)}),XP=le("$ZodURL",(t,e)=>{zt.init(t,e),t._zod.check=i=>{try{const n=i.value.trim(),r=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:i.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:i.value,inst:t,continue:!e.abort})),e.normalize?i.value=r.href:i.value=n;return}catch{i.issues.push({code:"invalid_format",format:"url",input:i.value,inst:t,continue:!e.abort})}}}),KP=le("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=gP()),zt.init(t,e)}),QP=le("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=uP),zt.init(t,e)}),JP=le("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=lP),zt.init(t,e)}),e$=le("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=oP),zt.init(t,e)}),t$=le("$ZodULID",(t,e)=>{e.pattern??(e.pattern=cP),zt.init(t,e)}),s$=le("$ZodXID",(t,e)=>{e.pattern??(e.pattern=dP),zt.init(t,e)}),i$=le("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=hP),zt.init(t,e)}),n$=le("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=SP(e)),zt.init(t,e)}),r$=le("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=kP),zt.init(t,e)}),a$=le("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=TP(e)),zt.init(t,e)}),l$=le("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=mP),zt.init(t,e)}),o$=le("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=bP),zt.init(t,e),t._zod.bag.format="ipv4"}),c$=le("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=yP),zt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=i=>{try{new URL(`http://[${i.value}]`)}catch{i.issues.push({code:"invalid_format",format:"ipv6",input:i.value,inst:t,continue:!e.abort})}}}),d$=le("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=vP),zt.init(t,e)}),h$=le("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=jP),zt.init(t,e),t._zod.check=i=>{const n=i.value.split("/");try{if(n.length!==2)throw new Error;const[r,a]=n;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${r}]`)}catch{i.issues.push({code:"invalid_format",format:"cidrv6",input:i.value,inst:t,continue:!e.abort})}}});function Nk(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const u$=le("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=wP),zt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=i=>{Nk(i.value)||i.issues.push({code:"invalid_format",format:"base64",input:i.value,inst:t,continue:!e.abort})}});function m$(t){if(!gk.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),i=e.padEnd(Math.ceil(e.length/4)*4,"=");return Nk(i)}const p$=le("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=gk),zt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=i=>{m$(i.value)||i.issues.push({code:"invalid_format",format:"base64url",input:i.value,inst:t,continue:!e.abort})}}),f$=le("$ZodE164",(t,e)=>{e.pattern??(e.pattern=NP),zt.init(t,e)});function x$(t,e=null){try{const i=t.split(".");if(i.length!==3)return!1;const[n]=i;if(!n)return!1;const r=JSON.parse(atob(n));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const g$=le("$ZodJWT",(t,e)=>{zt.init(t,e),t._zod.check=i=>{x$(i.value,e.alg)||i.issues.push({code:"invalid_format",format:"jwt",input:i.value,inst:t,continue:!e.abort})}}),kk=le("$ZodNumber",(t,e)=>{es.init(t,e),t._zod.pattern=t._zod.bag.pattern??qP,t._zod.parse=(i,n)=>{if(e.coerce)try{i.value=Number(i.value)}catch{}const r=i.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return i;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return i.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...a?{received:a}:{}}),i}}),b$=le("$ZodNumberFormat",(t,e)=>{zP.init(t,e),kk.init(t,e)}),y$=le("$ZodBoolean",(t,e)=>{es.init(t,e),t._zod.pattern=IP,t._zod.parse=(i,n)=>{if(e.coerce)try{i.value=!!i.value}catch{}const r=i.value;return typeof r=="boolean"||i.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),i}}),v$=le("$ZodUnknown",(t,e)=>{es.init(t,e),t._zod.parse=i=>i}),j$=le("$ZodNever",(t,e)=>{es.init(t,e),t._zod.parse=(i,n)=>(i.issues.push({expected:"never",code:"invalid_type",input:i.value,inst:t}),i)});function _6(t,e,i){t.issues.length&&e.issues.push(...rc(i,t.issues)),e.value[i]=t.value}const w$=le("$ZodArray",(t,e)=>{es.init(t,e),t._zod.parse=(i,n)=>{const r=i.value;if(!Array.isArray(r))return i.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),i;i.value=Array(r.length);const a=[];for(let l=0;l<r.length;l++){const c=r[l],d=e.element._zod.run({value:c,issues:[]},n);d instanceof Promise?a.push(d.then(h=>_6(h,i,l))):_6(d,i,l)}return a.length?Promise.all(a).then(()=>i):i}});function ep(t,e,i,n){t.issues.length&&e.issues.push(...rc(i,t.issues)),t.value===void 0?i in n&&(e.value[i]=void 0):e.value[i]=t.value}function Tk(t){var n,r,a,l;const e=Object.keys(t.shape);for(const c of e)if(!((l=(a=(r=(n=t.shape)==null?void 0:n[c])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const i=BO(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(i)}}function Sk(t,e,i,n,r,a){const l=[],c=r.keySet,d=r.catchall._zod,h=d.def.type;for(const m in e){if(c.has(m))continue;if(h==="never"){l.push(m);continue}const p=d.run({value:e[m],issues:[]},n);p instanceof Promise?t.push(p.then(f=>ep(f,i,m,e))):ep(p,i,m,e)}return l.length&&i.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>i):i}const N$=le("$ZodObject",(t,e)=>{es.init(t,e);const i=Object.getOwnPropertyDescriptor(e,"shape");if(!(i!=null&&i.get)){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const d={...c};return Object.defineProperty(e,"shape",{value:d}),d}})}const n=tb(()=>Tk(e));kt(t._zod,"propValues",()=>{const c=e.shape,d={};for(const h in c){const m=c[h]._zod;if(m.values){d[h]??(d[h]=new Set);for(const p of m.values)d[h].add(p)}}return d});const r=Jm,a=e.catchall;let l;t._zod.parse=(c,d)=>{l??(l=n.value);const h=c.value;if(!r(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),c;c.value={};const m=[],p=l.shape;for(const f of l.keys){const N=p[f]._zod.run({value:h[f],issues:[]},d);N instanceof Promise?m.push(N.then(I=>ep(I,c,f,h))):ep(N,c,f,h)}return a?Sk(m,h,c,d,n.value,t):m.length?Promise.all(m).then(()=>c):c}}),k$=le("$ZodObjectJIT",(t,e)=>{N$.init(t,e);const i=t._zod.parse,n=tb(()=>Tk(e)),r=f=>{const b=new GP(["shape","payload","ctx"]),N=n.value,I=A=>{const P=q6(A);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};b.write("const input = payload.value;");const D=Object.create(null);let k=0;for(const A of N.keys)D[A]=`key_${k++}`;b.write("const newResult = {};");for(const A of N.keys){const P=D[A],F=q6(A);b.write(`const ${P} = ${I(A)};`),b.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${P}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const T=b.compile();return(A,P)=>T(f,A,P)};let a;const l=Jm,c=!dk.jitless,h=c&&PO.value,m=e.catchall;let p;t._zod.parse=(f,b)=>{p??(p=n.value);const N=f.value;return l(N)?c&&h&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=r(e.shape)),f=a(f,b),m?Sk([],N,f,b,p,t):f):i(f,b):(f.issues.push({expected:"object",code:"invalid_type",input:N,inst:t}),f)}});function C6(t,e,i,n){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const r=t.filter(a=>!nc(a));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:i,errors:t.map(a=>a.issues.map(l=>ml(l,n,ul())))}),e)}const T$=le("$ZodUnion",(t,e)=>{es.init(t,e),kt(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),kt(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),kt(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),kt(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>ib(a.source)).join("|")})$`)}});const i=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(r,a)=>{if(i)return n(r,a);let l=!1;const c=[];for(const d of e.options){const h=d._zod.run({value:r.value,issues:[]},a);if(h instanceof Promise)c.push(h),l=!0;else{if(h.issues.length===0)return h;c.push(h)}}return l?Promise.all(c).then(d=>C6(d,r,t,a)):C6(c,r,t,a)}}),S$=le("$ZodIntersection",(t,e)=>{es.init(t,e),t._zod.parse=(i,n)=>{const r=i.value,a=e.left._zod.run({value:r,issues:[]},n),l=e.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([d,h])=>M6(i,d,h)):M6(i,a,l)}});function Fg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Pc(t)&&Pc(e)){const i=Object.keys(e),n=Object.keys(t).filter(a=>i.indexOf(a)!==-1),r={...t,...e};for(const a of n){const l=Fg(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};r[a]=l.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const i=[];for(let n=0;n<t.length;n++){const r=t[n],a=e[n],l=Fg(r,a);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};i.push(l.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}function M6(t,e,i){if(e.issues.length&&t.issues.push(...e.issues),i.issues.length&&t.issues.push(...i.issues),nc(t))return t;const n=Fg(e.value,i.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return t.value=n.data,t}const A$=le("$ZodRecord",(t,e)=>{es.init(t,e),t._zod.parse=(i,n)=>{const r=i.value;if(!Pc(r))return i.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),i;const a=[],l=e.keyType._zod.values;if(l){i.value={};const c=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){c.add(typeof h=="number"?h.toString():h);const m=e.valueType._zod.run({value:r[h],issues:[]},n);m instanceof Promise?a.push(m.then(p=>{p.issues.length&&i.issues.push(...rc(h,p.issues)),i.value[h]=p.value})):(m.issues.length&&i.issues.push(...rc(h,m.issues)),i.value[h]=m.value)}let d;for(const h in r)c.has(h)||(d=d??[],d.push(h));d&&d.length>0&&i.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:d})}else{i.value={};for(const c of Reflect.ownKeys(r)){if(c==="__proto__")continue;const d=e.keyType._zod.run({value:c,issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(d.issues.length){e.mode==="loose"?i.value[c]=r[c]:i.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(m=>ml(m,n,ul())),input:c,path:[c],inst:t});continue}const h=e.valueType._zod.run({value:r[c],issues:[]},n);h instanceof Promise?a.push(h.then(m=>{m.issues.length&&i.issues.push(...rc(c,m.issues)),i.value[d.value]=m.value})):(h.issues.length&&i.issues.push(...rc(c,h.issues)),i.value[d.value]=h.value)}}return a.length?Promise.all(a).then(()=>i):i}}),E$=le("$ZodEnum",(t,e)=>{es.init(t,e);const i=hk(e.entries),n=new Set(i);t._zod.values=n,t._zod.pattern=new RegExp(`^(${i.filter(r=>$O.has(typeof r)).map(r=>typeof r=="string"?Xp(r):r.toString()).join("|")})$`),t._zod.parse=(r,a)=>{const l=r.value;return n.has(l)||r.issues.push({code:"invalid_value",values:i,input:l,inst:t}),r}}),q$=le("$ZodTransform",(t,e)=>{es.init(t,e),t._zod.parse=(i,n)=>{if(n.direction==="backward")throw new ck(t.constructor.name);const r=e.transform(i.value,i);if(n.async)return(r instanceof Promise?r:Promise.resolve(r)).then(l=>(i.value=l,i));if(r instanceof Promise)throw new wc;return i.value=r,i}});function z6(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const I$=le("$ZodOptional",(t,e)=>{es.init(t,e),t._zod.optin="optional",t._zod.optout="optional",kt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),kt(t._zod,"pattern",()=>{const i=e.innerType._zod.pattern;return i?new RegExp(`^(${ib(i.source)})?$`):void 0}),t._zod.parse=(i,n)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(i,n);return r instanceof Promise?r.then(a=>z6(a,i.value)):z6(r,i.value)}return i.value===void 0?i:e.innerType._zod.run(i,n)}}),_$=le("$ZodNullable",(t,e)=>{es.init(t,e),kt(t._zod,"optin",()=>e.innerType._zod.optin),kt(t._zod,"optout",()=>e.innerType._zod.optout),kt(t._zod,"pattern",()=>{const i=e.innerType._zod.pattern;return i?new RegExp(`^(${ib(i.source)}|null)$`):void 0}),kt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(i,n)=>i.value===null?i:e.innerType._zod.run(i,n)}),C$=le("$ZodDefault",(t,e)=>{es.init(t,e),t._zod.optin="optional",kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(i,n)=>{if(n.direction==="backward")return e.innerType._zod.run(i,n);if(i.value===void 0)return i.value=e.defaultValue,i;const r=e.innerType._zod.run(i,n);return r instanceof Promise?r.then(a=>D6(a,e)):D6(r,e)}});function D6(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const M$=le("$ZodPrefault",(t,e)=>{es.init(t,e),t._zod.optin="optional",kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(i,n)=>(n.direction==="backward"||i.value===void 0&&(i.value=e.defaultValue),e.innerType._zod.run(i,n))}),z$=le("$ZodNonOptional",(t,e)=>{es.init(t,e),kt(t._zod,"values",()=>{const i=e.innerType._zod.values;return i?new Set([...i].filter(n=>n!==void 0)):void 0}),t._zod.parse=(i,n)=>{const r=e.innerType._zod.run(i,n);return r instanceof Promise?r.then(a=>R6(a,t)):R6(r,t)}});function R6(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const D$=le("$ZodCatch",(t,e)=>{es.init(t,e),kt(t._zod,"optin",()=>e.innerType._zod.optin),kt(t._zod,"optout",()=>e.innerType._zod.optout),kt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(i,n)=>{if(n.direction==="backward")return e.innerType._zod.run(i,n);const r=e.innerType._zod.run(i,n);return r instanceof Promise?r.then(a=>(i.value=a.value,a.issues.length&&(i.value=e.catchValue({...i,error:{issues:a.issues.map(l=>ml(l,n,ul()))},input:i.value}),i.issues=[]),i)):(i.value=r.value,r.issues.length&&(i.value=e.catchValue({...i,error:{issues:r.issues.map(a=>ml(a,n,ul()))},input:i.value}),i.issues=[]),i)}}),R$=le("$ZodPipe",(t,e)=>{es.init(t,e),kt(t._zod,"values",()=>e.in._zod.values),kt(t._zod,"optin",()=>e.in._zod.optin),kt(t._zod,"optout",()=>e.out._zod.optout),kt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(i,n)=>{if(n.direction==="backward"){const a=e.out._zod.run(i,n);return a instanceof Promise?a.then(l=>du(l,e.in,n)):du(a,e.in,n)}const r=e.in._zod.run(i,n);return r instanceof Promise?r.then(a=>du(a,e.out,n)):du(r,e.out,n)}});function du(t,e,i){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},i)}const O$=le("$ZodReadonly",(t,e)=>{es.init(t,e),kt(t._zod,"propValues",()=>e.innerType._zod.propValues),kt(t._zod,"values",()=>e.innerType._zod.values),kt(t._zod,"optin",()=>{var i,n;return(n=(i=e.innerType)==null?void 0:i._zod)==null?void 0:n.optin}),kt(t._zod,"optout",()=>{var i,n;return(n=(i=e.innerType)==null?void 0:i._zod)==null?void 0:n.optout}),t._zod.parse=(i,n)=>{if(n.direction==="backward")return e.innerType._zod.run(i,n);const r=e.innerType._zod.run(i,n);return r instanceof Promise?r.then(O6):O6(r)}});function O6(t){return t.value=Object.freeze(t.value),t}const P$=le("$ZodCustom",(t,e)=>{Ti.init(t,e),es.init(t,e),t._zod.parse=(i,n)=>i,t._zod.check=i=>{const n=i.value,r=e.fn(n);if(r instanceof Promise)return r.then(a=>P6(a,i,n,t));P6(r,i,n,t)}});function P6(t,e,i,n){if(!t){const r={code:"custom",input:i,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(r.params=n._zod.def.params),e.issues.push(Ld(r))}}var $6;class $${constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...i){const n=i[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const i=this._map.get(e);return i&&typeof i=="object"&&"id"in i&&this._idmap.delete(i.id),this._map.delete(e),this}get(e){const i=e._zod.parent;if(i){const n={...this.get(i)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function B$(){return new $$}($6=globalThis).__zod_globalRegistry??($6.__zod_globalRegistry=B$());const W0=globalThis.__zod_globalRegistry;function L$(t,e){return new t({type:"string",...De(e)})}function U$(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...De(e)})}function B6(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...De(e)})}function F$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...De(e)})}function H$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(e)})}function G$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(e)})}function V$(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(e)})}function W$(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...De(e)})}function Z$(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...De(e)})}function Y$(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(e)})}function X$(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...De(e)})}function K$(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(e)})}function Q$(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...De(e)})}function J$(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...De(e)})}function eB(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(e)})}function tB(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(e)})}function sB(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(e)})}function iB(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(e)})}function nB(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(e)})}function rB(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...De(e)})}function aB(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...De(e)})}function lB(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...De(e)})}function oB(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...De(e)})}function cB(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(e)})}function dB(t,e){return new t({type:"string",format:"date",check:"string_format",...De(e)})}function hB(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...De(e)})}function uB(t,e){return new t({type:"string",format:"duration",check:"string_format",...De(e)})}function mB(t,e){return new t({type:"number",checks:[],...De(e)})}function pB(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...De(e)})}function fB(t,e){return new t({type:"boolean",...De(e)})}function xB(t){return new t({type:"unknown"})}function gB(t,e){return new t({type:"never",...De(e)})}function L6(t,e){return new jk({check:"less_than",...De(e),value:t,inclusive:!1})}function Nx(t,e){return new jk({check:"less_than",...De(e),value:t,inclusive:!0})}function U6(t,e){return new wk({check:"greater_than",...De(e),value:t,inclusive:!1})}function kx(t,e){return new wk({check:"greater_than",...De(e),value:t,inclusive:!0})}function F6(t,e){return new MP({check:"multiple_of",...De(e),value:t})}function Ak(t,e){return new DP({check:"max_length",...De(e),maximum:t})}function tp(t,e){return new RP({check:"min_length",...De(e),minimum:t})}function Ek(t,e){return new OP({check:"length_equals",...De(e),length:t})}function bB(t,e){return new PP({check:"string_format",format:"regex",...De(e),pattern:t})}function yB(t){return new $P({check:"string_format",format:"lowercase",...De(t)})}function vB(t){return new BP({check:"string_format",format:"uppercase",...De(t)})}function jB(t,e){return new LP({check:"string_format",format:"includes",...De(e),includes:t})}function wB(t,e){return new UP({check:"string_format",format:"starts_with",...De(e),prefix:t})}function NB(t,e){return new FP({check:"string_format",format:"ends_with",...De(e),suffix:t})}function e0(t){return new HP({check:"overwrite",tx:t})}function kB(t){return e0(e=>e.normalize(t))}function TB(){return e0(t=>t.trim())}function SB(){return e0(t=>t.toLowerCase())}function AB(){return e0(t=>t.toUpperCase())}function EB(){return e0(t=>OO(t))}function qB(t,e,i){return new t({type:"array",element:e,...De(i)})}function IB(t,e,i){return new t({type:"custom",check:"custom",fn:e,...De(i)})}function _B(t){const e=CB(i=>(i.addIssue=n=>{if(typeof n=="string")i.issues.push(Ld(n,i.value,e._zod.def));else{const r=n;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=i.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),i.issues.push(Ld(r))}},t(i.value,i)));return e}function CB(t,e){const i=new Ti({check:"custom",...De(e)});return i._zod.check=t,i}function qk(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??W0,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function ws(t,e,i={path:[],schemaPath:[]}){var m,p;var n;const r=t._zod.def,a=e.seen.get(t);if(a)return a.count++,i.schemaPath.includes(t)&&(a.cycle=i.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:i.path};e.seen.set(t,l);const c=(p=(m=t._zod).toJSONSchema)==null?void 0:p.call(m);if(c)l.schema=c;else{const f={...i,schemaPath:[...i.schemaPath,t],path:i.path},b=t._zod.parent;if(b)l.ref=b,ws(b,e,f),e.seen.get(b).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,f);else{const N=l.schema,I=e.processors[r.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);I(t,e,N,f)}}const d=e.metadataRegistry.get(t);return d&&Object.assign(l.schema,d),e.io==="input"&&Js(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function Ik(t,e){var a,l,c;const i=t.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=d=>{var b;const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const N=(b=t.external.registry.get(d[0]))==null?void 0:b.id,I=t.external.uri??(k=>k);if(N)return{ref:I(N)};const D=d[1].defId??d[1].schema.id??`schema${t.counter++}`;return d[1].defId=D,{defId:D,ref:`${I("__shared")}#/${h}/${D}`}}if(d[1]===i)return{ref:"#"};const p=`#/${h}/`,f=d[1].schema.id??`__schema${t.counter++}`;return{defId:f,ref:p+f}},r=d=>{if(d[1].schema.$ref)return;const h=d[1],{ref:m,defId:p}=n(d);h.def={...h.schema},p&&(h.defId=p);const f=h.schema;for(const b in f)delete f[b];f.$ref=m};if(t.cycles==="throw")for(const d of t.seen.entries()){const h=d[1];if(h.cycle)throw new Error(`Cycle detected: #/${(a=h.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of t.seen.entries()){const h=d[1];if(e===d[0]){r(d);continue}if(t.external){const p=(l=t.external.registry.get(d[0]))==null?void 0:l.id;if(e!==d[0]&&p){r(d);continue}}if((c=t.metadataRegistry.get(d[0]))==null?void 0:c.id){r(d);continue}if(h.cycle){r(d);continue}if(h.count>1&&t.reused==="ref"){r(d);continue}}}function _k(t,e){var l,c,d;const i=t.seen.get(e);if(!i)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=h=>{const m=t.seen.get(h),p=m.def??m.schema,f={...p};if(m.ref===null)return;const b=m.ref;if(m.ref=null,b){n(b);const N=t.seen.get(b).schema;N.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(N)):(Object.assign(p,N),Object.assign(p,f))}m.isParent||t.override({zodSchema:h,jsonSchema:p,path:m.path??[]})};for(const h of[...t.seen.entries()].reverse())n(h[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const h=(c=t.external.registry.get(e))==null?void 0:c.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(h)}Object.assign(r,i.def??i.schema);const a=((d=t.external)==null?void 0:d.defs)??{};for(const h of t.seen.entries()){const m=h[1];m.def&&m.defId&&(a[m.defId]=m.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:sp(e,"input"),output:sp(e,"output")}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function Js(t,e){const i=e??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);const n=t._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Js(n.element,i);if(n.type==="set")return Js(n.valueType,i);if(n.type==="lazy")return Js(n.getter(),i);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Js(n.innerType,i);if(n.type==="intersection")return Js(n.left,i)||Js(n.right,i);if(n.type==="record"||n.type==="map")return Js(n.keyType,i)||Js(n.valueType,i);if(n.type==="pipe")return Js(n.in,i)||Js(n.out,i);if(n.type==="object"){for(const r in n.shape)if(Js(n.shape[r],i))return!0;return!1}if(n.type==="union"){for(const r of n.options)if(Js(r,i))return!0;return!1}if(n.type==="tuple"){for(const r of n.items)if(Js(r,i))return!0;return!!(n.rest&&Js(n.rest,i))}return!1}const MB=(t,e={})=>i=>{const n=qk({...i,processors:e});return ws(t,n),Ik(n,t),_k(n,t)},sp=(t,e)=>i=>{const{libraryOptions:n,target:r}=i??{},a=qk({...n??{},target:r,io:e,processors:{}});return ws(t,a),Ik(a,t),_k(a,t)},zB={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},DB=(t,e,i,n)=>{const r=i;r.type="string";const{minimum:a,maximum:l,format:c,patterns:d,contentEncoding:h}=t._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof l=="number"&&(r.maxLength=l),c&&(r.format=zB[c]??c,r.format===""&&delete r.format),h&&(r.contentEncoding=h),d&&d.size>0){const m=[...d];m.length===1?r.pattern=m[0].source:m.length>1&&(r.allOf=[...m.map(p=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},RB=(t,e,i,n)=>{const r=i,{minimum:a,maximum:l,format:c,multipleOf:d,exclusiveMaximum:h,exclusiveMinimum:m}=t._zod.bag;typeof c=="string"&&c.includes("int")?r.type="integer":r.type="number",typeof m=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.minimum=m,r.exclusiveMinimum=!0):r.exclusiveMinimum=m),typeof a=="number"&&(r.minimum=a,typeof m=="number"&&e.target!=="draft-04"&&(m>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof l=="number"&&(r.maximum=l,typeof h=="number"&&e.target!=="draft-04"&&(h<=l?delete r.maximum:delete r.exclusiveMaximum)),typeof d=="number"&&(r.multipleOf=d)},OB=(t,e,i,n)=>{i.type="boolean"},PB=(t,e,i,n)=>{i.not={}},$B=(t,e,i,n)=>{},BB=(t,e,i,n)=>{const r=t._zod.def,a=hk(r.entries);a.every(l=>typeof l=="number")&&(i.type="number"),a.every(l=>typeof l=="string")&&(i.type="string"),i.enum=a},LB=(t,e,i,n)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},UB=(t,e,i,n)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},FB=(t,e,i,n)=>{const r=i,a=t._zod.def,{minimum:l,maximum:c}=t._zod.bag;typeof l=="number"&&(r.minItems=l),typeof c=="number"&&(r.maxItems=c),r.type="array",r.items=ws(a.element,e,{...n,path:[...n.path,"items"]})},HB=(t,e,i,n)=>{var h;const r=i,a=t._zod.def;r.type="object",r.properties={};const l=a.shape;for(const m in l)r.properties[m]=ws(l[m],e,{...n,path:[...n.path,"properties",m]});const c=new Set(Object.keys(l)),d=new Set([...c].filter(m=>{const p=a.shape[m]._zod;return e.io==="input"?p.optin===void 0:p.optout===void 0}));d.size>0&&(r.required=Array.from(d)),((h=a.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=ws(a.catchall,e,{...n,path:[...n.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},GB=(t,e,i,n)=>{const r=t._zod.def,a=r.inclusive===!1,l=r.options.map((c,d)=>ws(c,e,{...n,path:[...n.path,a?"oneOf":"anyOf",d]}));a?i.oneOf=l:i.anyOf=l},VB=(t,e,i,n)=>{const r=t._zod.def,a=ws(r.left,e,{...n,path:[...n.path,"allOf",0]}),l=ws(r.right,e,{...n,path:[...n.path,"allOf",1]}),c=h=>"allOf"in h&&Object.keys(h).length===1,d=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];i.allOf=d},WB=(t,e,i,n)=>{const r=i,a=t._zod.def;r.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(r.propertyNames=ws(a.keyType,e,{...n,path:[...n.path,"propertyNames"]})),r.additionalProperties=ws(a.valueType,e,{...n,path:[...n.path,"additionalProperties"]})},ZB=(t,e,i,n)=>{const r=t._zod.def,a=ws(r.innerType,e,n),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=r.innerType,i.nullable=!0):i.anyOf=[a,{type:"null"}]},YB=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType},XB=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType,i.default=JSON.parse(JSON.stringify(r.defaultValue))},KB=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType,e.io==="input"&&(i._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},QB=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType;let l;try{l=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}i.default=l},JB=(t,e,i,n)=>{const r=t._zod.def,a=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;ws(a,e,n);const l=e.seen.get(t);l.ref=a},eL=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType,i.readOnly=!0},tL=(t,e,i,n)=>{const r=t._zod.def;ws(r.innerType,e,n);const a=e.seen.get(t);a.ref=r.innerType},sL=le("ZodISODateTime",(t,e)=>{n$.init(t,e),Gt.init(t,e)});function iL(t){return cB(sL,t)}const nL=le("ZodISODate",(t,e)=>{r$.init(t,e),Gt.init(t,e)});function rL(t){return dB(nL,t)}const aL=le("ZodISOTime",(t,e)=>{a$.init(t,e),Gt.init(t,e)});function lL(t){return hB(aL,t)}const oL=le("ZodISODuration",(t,e)=>{l$.init(t,e),Gt.init(t,e)});function cL(t){return uB(oL,t)}const dL=(t,e)=>{fk.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:i=>XO(t,i)},flatten:{value:i=>YO(t,i)},addIssue:{value:i=>{t.issues.push(i),t.message=JSON.stringify(t.issues,Ug,2)}},addIssues:{value:i=>{t.issues.push(...i),t.message=JSON.stringify(t.issues,Ug,2)}},isEmpty:{get(){return t.issues.length===0}}})},yn=le("ZodError",dL,{Parent:Error}),hL=rb(yn),uL=ab(yn),mL=Kp(yn),pL=Qp(yn),fL=JO(yn),xL=eP(yn),gL=tP(yn),bL=sP(yn),yL=iP(yn),vL=nP(yn),jL=rP(yn),wL=aP(yn),ls=le("ZodType",(t,e)=>(es.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:sp(t,"input"),output:sp(t,"output")}}),t.toJSONSchema=MB(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...i)=>t.clone(So(e,{checks:[...e.checks??[],...i.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),t.clone=(i,n)=>Sl(t,i,n),t.brand=()=>t,t.register=(i,n)=>(i.add(t,n),t),t.parse=(i,n)=>hL(t,i,n,{callee:t.parse}),t.safeParse=(i,n)=>mL(t,i,n),t.parseAsync=async(i,n)=>uL(t,i,n,{callee:t.parseAsync}),t.safeParseAsync=async(i,n)=>pL(t,i,n),t.spa=t.safeParseAsync,t.encode=(i,n)=>fL(t,i,n),t.decode=(i,n)=>xL(t,i,n),t.encodeAsync=async(i,n)=>gL(t,i,n),t.decodeAsync=async(i,n)=>bL(t,i,n),t.safeEncode=(i,n)=>yL(t,i,n),t.safeDecode=(i,n)=>vL(t,i,n),t.safeEncodeAsync=async(i,n)=>jL(t,i,n),t.safeDecodeAsync=async(i,n)=>wL(t,i,n),t.refine=(i,n)=>t.check(mU(i,n)),t.superRefine=i=>t.check(pU(i)),t.overwrite=i=>t.check(e0(i)),t.optional=()=>V6(t),t.nullable=()=>W6(t),t.nullish=()=>V6(W6(t)),t.nonoptional=i=>aU(t,i),t.array=()=>$c(t),t.or=i=>zk([t,i]),t.and=i=>KL(t,i),t.transform=i=>Z6(t,eU(i)),t.default=i=>iU(t,i),t.prefault=i=>rU(t,i),t.catch=i=>oU(t,i),t.pipe=i=>Z6(t,i),t.readonly=()=>hU(t),t.describe=i=>{const n=t.clone();return W0.add(n,{description:i}),n},Object.defineProperty(t,"description",{get(){var i;return(i=W0.get(t))==null?void 0:i.description},configurable:!0}),t.meta=(...i)=>{if(i.length===0)return W0.get(t);const n=t.clone();return W0.add(n,i[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Ck=le("_ZodString",(t,e)=>{lb.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(n,r,a)=>DB(t,n,r);const i=t._zod.bag;t.format=i.format??null,t.minLength=i.minimum??null,t.maxLength=i.maximum??null,t.regex=(...n)=>t.check(bB(...n)),t.includes=(...n)=>t.check(jB(...n)),t.startsWith=(...n)=>t.check(wB(...n)),t.endsWith=(...n)=>t.check(NB(...n)),t.min=(...n)=>t.check(tp(...n)),t.max=(...n)=>t.check(Ak(...n)),t.length=(...n)=>t.check(Ek(...n)),t.nonempty=(...n)=>t.check(tp(1,...n)),t.lowercase=n=>t.check(yB(n)),t.uppercase=n=>t.check(vB(n)),t.trim=()=>t.check(TB()),t.normalize=(...n)=>t.check(kB(...n)),t.toLowerCase=()=>t.check(SB()),t.toUpperCase=()=>t.check(AB()),t.slugify=()=>t.check(EB())}),NL=le("ZodString",(t,e)=>{lb.init(t,e),Ck.init(t,e),t.email=i=>t.check(U$(kL,i)),t.url=i=>t.check(W$(TL,i)),t.jwt=i=>t.check(oB(BL,i)),t.emoji=i=>t.check(Z$(SL,i)),t.guid=i=>t.check(B6(H6,i)),t.uuid=i=>t.check(F$(hu,i)),t.uuidv4=i=>t.check(H$(hu,i)),t.uuidv6=i=>t.check(G$(hu,i)),t.uuidv7=i=>t.check(V$(hu,i)),t.nanoid=i=>t.check(Y$(AL,i)),t.guid=i=>t.check(B6(H6,i)),t.cuid=i=>t.check(X$(EL,i)),t.cuid2=i=>t.check(K$(qL,i)),t.ulid=i=>t.check(Q$(IL,i)),t.base64=i=>t.check(rB(OL,i)),t.base64url=i=>t.check(aB(PL,i)),t.xid=i=>t.check(J$(_L,i)),t.ksuid=i=>t.check(eB(CL,i)),t.ipv4=i=>t.check(tB(ML,i)),t.ipv6=i=>t.check(sB(zL,i)),t.cidrv4=i=>t.check(iB(DL,i)),t.cidrv6=i=>t.check(nB(RL,i)),t.e164=i=>t.check(lB($L,i)),t.datetime=i=>t.check(iL(i)),t.date=i=>t.check(rL(i)),t.time=i=>t.check(lL(i)),t.duration=i=>t.check(cL(i))});function vs(t){return L$(NL,t)}const Gt=le("ZodStringFormat",(t,e)=>{zt.init(t,e),Ck.init(t,e)}),kL=le("ZodEmail",(t,e)=>{YP.init(t,e),Gt.init(t,e)}),H6=le("ZodGUID",(t,e)=>{WP.init(t,e),Gt.init(t,e)}),hu=le("ZodUUID",(t,e)=>{ZP.init(t,e),Gt.init(t,e)}),TL=le("ZodURL",(t,e)=>{XP.init(t,e),Gt.init(t,e)}),SL=le("ZodEmoji",(t,e)=>{KP.init(t,e),Gt.init(t,e)}),AL=le("ZodNanoID",(t,e)=>{QP.init(t,e),Gt.init(t,e)}),EL=le("ZodCUID",(t,e)=>{JP.init(t,e),Gt.init(t,e)}),qL=le("ZodCUID2",(t,e)=>{e$.init(t,e),Gt.init(t,e)}),IL=le("ZodULID",(t,e)=>{t$.init(t,e),Gt.init(t,e)}),_L=le("ZodXID",(t,e)=>{s$.init(t,e),Gt.init(t,e)}),CL=le("ZodKSUID",(t,e)=>{i$.init(t,e),Gt.init(t,e)}),ML=le("ZodIPv4",(t,e)=>{o$.init(t,e),Gt.init(t,e)}),zL=le("ZodIPv6",(t,e)=>{c$.init(t,e),Gt.init(t,e)}),DL=le("ZodCIDRv4",(t,e)=>{d$.init(t,e),Gt.init(t,e)}),RL=le("ZodCIDRv6",(t,e)=>{h$.init(t,e),Gt.init(t,e)}),OL=le("ZodBase64",(t,e)=>{u$.init(t,e),Gt.init(t,e)}),PL=le("ZodBase64URL",(t,e)=>{p$.init(t,e),Gt.init(t,e)}),$L=le("ZodE164",(t,e)=>{f$.init(t,e),Gt.init(t,e)}),BL=le("ZodJWT",(t,e)=>{g$.init(t,e),Gt.init(t,e)}),Mk=le("ZodNumber",(t,e)=>{kk.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(n,r,a)=>RB(t,n,r),t.gt=(n,r)=>t.check(U6(n,r)),t.gte=(n,r)=>t.check(kx(n,r)),t.min=(n,r)=>t.check(kx(n,r)),t.lt=(n,r)=>t.check(L6(n,r)),t.lte=(n,r)=>t.check(Nx(n,r)),t.max=(n,r)=>t.check(Nx(n,r)),t.int=n=>t.check(G6(n)),t.safe=n=>t.check(G6(n)),t.positive=n=>t.check(U6(0,n)),t.nonnegative=n=>t.check(kx(0,n)),t.negative=n=>t.check(L6(0,n)),t.nonpositive=n=>t.check(Nx(0,n)),t.multipleOf=(n,r)=>t.check(F6(n,r)),t.step=(n,r)=>t.check(F6(n,r)),t.finite=()=>t;const i=t._zod.bag;t.minValue=Math.max(i.minimum??Number.NEGATIVE_INFINITY,i.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(i.maximum??Number.POSITIVE_INFINITY,i.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(i.format??"").includes("int")||Number.isSafeInteger(i.multipleOf??.5),t.isFinite=!0,t.format=i.format??null});function Ps(t){return mB(Mk,t)}const LL=le("ZodNumberFormat",(t,e)=>{b$.init(t,e),Mk.init(t,e)});function G6(t){return pB(LL,t)}const UL=le("ZodBoolean",(t,e)=>{y$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>OB(t,i,n)});function FL(t){return fB(UL,t)}const HL=le("ZodUnknown",(t,e)=>{v$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>$B()});function Hg(){return xB(HL)}const GL=le("ZodNever",(t,e)=>{j$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>PB(t,i,n)});function VL(t){return gB(GL,t)}const WL=le("ZodArray",(t,e)=>{w$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>FB(t,i,n,r),t.element=e.element,t.min=(i,n)=>t.check(tp(i,n)),t.nonempty=i=>t.check(tp(1,i)),t.max=(i,n)=>t.check(Ak(i,n)),t.length=(i,n)=>t.check(Ek(i,n)),t.unwrap=()=>t.element});function $c(t,e){return qB(WL,t,e)}const ZL=le("ZodObject",(t,e)=>{k$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>HB(t,i,n,r),kt(t,"shape",()=>e.shape),t.keyof=()=>Vg(Object.keys(t._zod.def.shape)),t.catchall=i=>t.clone({...t._zod.def,catchall:i}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Hg()}),t.loose=()=>t.clone({...t._zod.def,catchall:Hg()}),t.strict=()=>t.clone({...t._zod.def,catchall:VL()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=i=>HO(t,i),t.safeExtend=i=>GO(t,i),t.merge=i=>VO(t,i),t.pick=i=>UO(t,i),t.omit=i=>FO(t,i),t.partial=(...i)=>WO(Rk,t,i[0]),t.required=(...i)=>ZO(Ok,t,i[0])});function zn(t,e){const i={type:"object",shape:t??{},...De(e)};return new ZL(i)}const YL=le("ZodUnion",(t,e)=>{T$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>GB(t,i,n,r),t.options=e.options});function zk(t,e){return new YL({type:"union",options:t,...De(e)})}const XL=le("ZodIntersection",(t,e)=>{S$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>VB(t,i,n,r)});function KL(t,e){return new XL({type:"intersection",left:t,right:e})}const QL=le("ZodRecord",(t,e)=>{A$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>WB(t,i,n,r),t.keyType=e.keyType,t.valueType=e.valueType});function Dk(t,e,i){return new QL({type:"record",keyType:t,valueType:e,...De(i)})}const Gg=le("ZodEnum",(t,e)=>{E$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(n,r,a)=>BB(t,n,r),t.enum=e.entries,t.options=Object.values(e.entries);const i=new Set(Object.keys(e.entries));t.extract=(n,r)=>{const a={};for(const l of n)if(i.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Gg({...e,checks:[],...De(r),entries:a})},t.exclude=(n,r)=>{const a={...e.entries};for(const l of n)if(i.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Gg({...e,checks:[],...De(r),entries:a})}});function Vg(t,e){const i=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Gg({type:"enum",entries:i,...De(e)})}const JL=le("ZodTransform",(t,e)=>{q$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>UB(t,i),t._zod.parse=(i,n)=>{if(n.direction==="backward")throw new ck(t.constructor.name);i.addIssue=a=>{if(typeof a=="string")i.issues.push(Ld(a,i.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=i.value),l.inst??(l.inst=t),i.issues.push(Ld(l))}};const r=e.transform(i.value,i);return r instanceof Promise?r.then(a=>(i.value=a,i)):(i.value=r,i)}});function eU(t){return new JL({type:"transform",transform:t})}const Rk=le("ZodOptional",(t,e)=>{I$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>tL(t,i,n,r),t.unwrap=()=>t._zod.def.innerType});function V6(t){return new Rk({type:"optional",innerType:t})}const tU=le("ZodNullable",(t,e)=>{_$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>ZB(t,i,n,r),t.unwrap=()=>t._zod.def.innerType});function W6(t){return new tU({type:"nullable",innerType:t})}const sU=le("ZodDefault",(t,e)=>{C$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>XB(t,i,n,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function iU(t,e){return new sU({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():mk(e)}})}const nU=le("ZodPrefault",(t,e)=>{M$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>KB(t,i,n,r),t.unwrap=()=>t._zod.def.innerType});function rU(t,e){return new nU({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():mk(e)}})}const Ok=le("ZodNonOptional",(t,e)=>{z$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>YB(t,i,n,r),t.unwrap=()=>t._zod.def.innerType});function aU(t,e){return new Ok({type:"nonoptional",innerType:t,...De(e)})}const lU=le("ZodCatch",(t,e)=>{D$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>QB(t,i,n,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function oU(t,e){return new lU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const cU=le("ZodPipe",(t,e)=>{R$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>JB(t,i,n,r),t.in=e.in,t.out=e.out});function Z6(t,e){return new cU({type:"pipe",in:t,out:e})}const dU=le("ZodReadonly",(t,e)=>{O$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>eL(t,i,n,r),t.unwrap=()=>t._zod.def.innerType});function hU(t){return new dU({type:"readonly",innerType:t})}const uU=le("ZodCustom",(t,e)=>{P$.init(t,e),ls.init(t,e),t._zod.processJSONSchema=(i,n,r)=>LB(t,i)});function mU(t,e={}){return IB(uU,t,e)}function pU(t){return _B(t)}bn("Validation");const Y6=vs().min(1).max(100);vs().regex(/^[a-fA-F0-9]{64}$/);const ef=vs().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),Pk=vs().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);vs().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);zn({challenge:vs().min(10).max(200),expiresAt:Ps().int().positive()});zn({kind:Ps().int(),created_at:Ps().int().nonnegative(),tags:$c($c(vs())),content:vs()});const fU=zn({npub:ef,displayName:Pk.nullable()}),$k=zn({visitedAt:vs().nullable().optional(),completedAt:vs().nullable().optional(),quizAttempts:$c(zn({xpEarned:Ps().int().min(0).optional(),score:Ps().min(0).max(100).optional(),timestamp:vs().optional(),difficulty:Vg(["easy","medium","hard"]).optional(),correctAnswers:Ps().int().min(0).optional(),totalQuestions:Ps().int().min(1).optional()})).optional(),visualizationsInteracted:$c(vs().max(100)).optional(),masteryLevel:zk([Ps().int().min(0).max(3),Vg(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:vs().optional(),timeSpentSeconds:Ps().int().min(0).optional()});zn({user:zn({totalXP:Ps().int().min(0),level:Ps().int().min(1).max(10),sectionsCompleted:$c(Y6)}),sections:Dk(Y6,$k),dailyGoals:zn({lastResetDate:vs().nullable(),currentStreak:Ps().int().min(0),xpEarned:Ps().int().min(0),xpGoal:Ps().int().min(0)}),lastUpdated:Ps().int().nonnegative()});zn({success:FL(),totalXP:Ps().int().min(0)});zn({npub:ef,displayName:Pk.nullable(),xp:Ps().int().min(0),lastSync:vs()});zn({timestamp:vs(),action:vs(),targetNpub:ef.nullable(),performedBy:vs(),details:Dk(vs(),Hg()).nullable()});function Tx(t){return ef.safeParse(t).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function xU(t){const e=$k.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}function gU(t){const e=fU.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid auth state format"}}const Ws={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},wr={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},pd=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],Bk=50,ip=bn("SyncManager"),bU="magic-internet-math-progress";function X6(){try{const t=localStorage.getItem(bU);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const i=e.user.totalXP||0,n={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,man_econ_state:0};for(const[r,a]of Object.entries(e.sections)){const[l]=r.split(":");if(!DO(l))continue;const c=l,d=xU(a);if(!d.valid||!d.data){ip.warn(`Invalid section data for ${r}, skipping`);continue}const h=d.data;if(h.quizAttempts)for(const m of h.quizAttempts)m.xpEarned&&(n[c]+=m.xpEarned);h.visitedAt&&(n[c]+=Ws.SECTION_VISIT),h.completedAt&&(n[c]+=Ws.SECTION_COMPLETE),h.visualizationsInteracted&&(n[c]+=h.visualizationsInteracted.length*Ws.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:n.ba},{courseId:"crypto",xp:n.crypto},{courseId:"aa",xp:n.aa},{courseId:"linalg",xp:n.linalg},{courseId:"advlinalg",xp:n.advlinalg},{courseId:"islr",xp:n.islr},{courseId:"ra",xp:n.ra},{courseId:"calc1",xp:n.calc1},{courseId:"calc_lib_art",xp:n.calc_lib_art},{courseId:"calc_easy",xp:n.calc_easy},{courseId:"wm",xp:n.wm},{courseId:"four_pillars",xp:n.four_pillars},{courseId:"mom",xp:n.mom},{courseId:"euclid",xp:n.euclid},{courseId:"thales",xp:n.thales},{courseId:"gauss",xp:n.gauss},{courseId:"human_action",xp:n.human_action},{courseId:"atlas_shrugged",xp:n.atlas_shrugged}],totalXP:i}}catch(t){return ip.error("Error extracting scores from storage:",t),null}}class yU{constructor(){Es(this,"syncInterval",null);Es(this,"debounceTimeout",null);Es(this,"lastSyncTime",0);Es(this,"isAuthenticated",!1);Es(this,"displayName",null);Es(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},sk),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},ik))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Pr())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<tk)return{success:!1,error:"Rate limited"};try{const i=X6();if(!i)return{success:!1,error:"No scores to sync"};const n=Or(),r=Vn(n,"syncScores"),a={scores:i.scores,totalXP:i.totalXP};this.displayName!==void 0&&(a.displayName=this.displayName);const l=await r(a);return this.lastSyncTime=e,{success:l.data.success,totalXP:l.data.totalXP}}catch(i){return ip.error("Sync failed:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(e=3){for(let i=0;i<e;i++){const n=await this.syncNow();if(n.success||n.error==="Not authenticated"||n.error==="No scores to sync"||n.error==="Firebase not configured")return n;if(i<e-1){const r=1e3*Math.pow(2,i);ip.debug(`Sync retry ${i+1}/${e} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=X6();return e?e.scores.reduce((i,n)=>(i[n.courseId]=n.xp,i),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Sx=null;function Ho(){return Sx||(Sx=new yU),Sx}const qs=bn("NostrAuth"),Lk=Z.createContext(null),D0="magic-internet-math-nostr-auth";function vU({children:t}){const[e,i]=Z.useState(!1),[n,r]=Z.useState(null),[a,l]=Z.useState(null),[c,d]=Z.useState(null),[h,m]=Z.useState(!1),[p,f]=Z.useState(null),[b,N]=Z.useState(!1),[I,D]=Z.useState(!1),[k,T]=Z.useState(null);Z.useEffect(()=>{(async()=>{const O=await _O(yO);N(O),D(!0)})()},[]);const A=Z.useCallback(async _=>{for(const O of Bg)try{const B=await ok(O,_);if(B){B.nip05&&d(B.nip05);const U=B.display_name||B.name;if(U){l(U);const L=Ho();L.setDisplayName(U),L.requestSync()}return}}catch(B){qs.warn(`Failed to fetch profile from ${O}:`,B)}},[]);Z.useEffect(()=>{if(!Pr())return;const _=jx(),O=SD(_,async B=>{if(T(B),B){r(B.uid);try{const L=await B.getIdTokenResult(!0);qs.debug("Token claims:",L.claims),m(L.claims.isAdmin===!0)}catch(L){qs.error("Error getting token:",L),m(!1)}try{const L=localStorage.getItem(D0);if(L){const Ae=JSON.parse(L),Me=gU(Ae);if(!Me.valid||!Me.data){qs.warn("Invalid auth state in localStorage:",Me.error),localStorage.removeItem(D0);return}Me.data.npub===B.uid&&l(Me.data.displayName)}}catch(L){qs.debug("Storage read error:",L)}const U=Ho();U.setAuthenticated(!0),U.startPeriodicSync();try{const L=lk(B.uid);A(L)}catch(L){qs.debug("Npub conversion error:",L)}}else{r(null),d(null),m(!1),l(null);const U=Ho();U.setAuthenticated(!1),U.stopPeriodicSync()}});return()=>O()},[A]);const P=Z.useCallback(async()=>{if(qs.debug("connect() called"),qs.debug("isFirebaseConfigured:",Pr()),qs.debug("hasNostrExtension:",Qm()),!Pr()){qs.info("Firebase not configured, cannot connect");return}if(!Qm()){f("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),qs.warn("No extension found, returning");return}i(!0),f(null),qs.info("Starting Nostr connection...");try{const _=window.nostr,O=Or(),B=await _.getPublicKey(),U=IO(B),Ae=await Vn(O,"createChallenge")({pubkeyHex:B}),{challenge:Me}=Ae.data,de={kind:gO,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Me]],content:Me},xe=await _.signEvent(de),Le=await Vn(O,"verifyNostrAndCreateToken")({signedEvent:xe,challenge:Me}),Re=jx();await ND(Re,Le.data.token);try{const Ne={npub:U,displayName:null};localStorage.setItem(D0,JSON.stringify(Ne))}catch(Ne){qs.warn("Failed to store auth state:",Ne)}Ho().syncNow().catch(Ne=>{qs.warn("Initial sync failed:",Ne)})}catch(_){qs.error("Nostr connect error:",_),f(_ instanceof Error?_.message:"Failed to connect. Please try again.")}finally{i(!1)}},[b]),F=Z.useCallback(async()=>{try{if(Pr()){const _=jx();await AD(_)}try{localStorage.removeItem(D0)}catch(_){qs.warn("Failed to clear auth state from storage:",_)}r(null),l(null),m(!1)}catch(_){qs.error("Disconnect error:",_),f(_ instanceof Error?_.message:"Failed to disconnect")}},[]),ee=Z.useCallback(_=>{if(l(_),n)try{localStorage.setItem(D0,JSON.stringify({npub:n,displayName:_}))}catch(B){qs.warn("Failed to update display name in storage:",B)}const O=Ho();O.setDisplayName(_),O.requestSync()},[n]),C=Z.useCallback(()=>{f(null)},[]),S=Z.useMemo(()=>({isAuthenticated:!!k&&!!n,isConnecting:e,npub:n,displayName:a,nip05:c,isAdmin:h,error:p,hasExtension:b,extensionChecked:I,connect:P,disconnect:F,setDisplayName:ee,clearError:C}),[k,n,e,a,c,h,p,b,I,P,F,ee,C]);return s.jsx(Lk.Provider,{value:S,children:t})}const jU={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function xh(){const t=Z.useContext(Lk);return t||jU}bn("ErrorContext");Z.createContext(null);bn("ErrorBoundary");function K6({className:t="",showDisplayName:e=!0}){var f,b;const{isAuthenticated:i,isConnecting:n,npub:r,displayName:a,hasExtension:l,extensionChecked:c,error:d,connect:h,disconnect:m,clearError:p}=xh();return c?i?s.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((f=a==null?void 0:a[0])==null?void 0:f.toUpperCase())||((b=r==null?void 0:r[5])==null?void 0:b.toUpperCase())||"?"}),s.jsxs("div",{className:"flex flex-col",children:[e&&a&&s.jsx("span",{className:"text-sm font-medium text-dark-100",children:a}),s.jsx("span",{className:"text-xs text-dark-400 font-mono",children:r?Km(r,6):"..."})]})]}),s.jsx("button",{onClick:m,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):s.jsxs("div",{className:`flex flex-col items-center gap-2 ${t}`,children:[s.jsx("button",{onClick:()=>{h()},disabled:n||!l,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${l?n?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!l&&s.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",s.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",s.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),d&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[s.jsx("span",{children:d}),s.jsx("button",{onClick:p,className:"text-dark-400 hover:text-dark-200",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):s.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[s.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function wU(t){switch(t){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${t}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function NU({entry:t,isCurrentUser:e}){var n,r,a;const i=wU(t.rank);return s.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${e?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[s.jsx("div",{className:`
          w-10 h-10 rounded-lg ${i.bgColor} ${i.borderColor} border
          flex items-center justify-center font-bold ${i.textColor}
          ${t.rank<=3?"text-lg":"text-sm"}
        `,children:i.emoji}),s.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${t.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":t.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":t.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((r=(n=t.displayName)==null?void 0:n[0])==null?void 0:r.toUpperCase())||((a=t.npub[5])==null?void 0:a.toUpperCase())||"?"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`font-medium truncate ${e?"text-primary-300":"text-dark-100"}`,children:t.displayName||Km(t.npub,8)}),e&&s.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),t.displayName&&s.jsx("span",{className:"text-xs text-dark-500 font-mono",children:Km(t.npub,6)})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[t.xp.toLocaleString(),s.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),s.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",t.level]})]})]})}function kU(){return s.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(t=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),s.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),s.jsxs("div",{className:"space-y-2 text-right",children:[s.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),s.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},t))})}function TU(){return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),s.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function SU({rankings:t,currentUserNpub:e,isLoading:i=!1}){return i?s.jsx(kU,{}):t.length===0?s.jsx(TU,{}):s.jsx("div",{className:"space-y-2",children:t.map(n=>s.jsx(NU,{entry:n,isCurrentUser:e===n.npub},n.npub))})}function AU({rank:t,totalXP:e,level:i,courseXP:n}){var m,p;const{npub:r,displayName:a,nip05:l}=xh(),[c,d]=Z.useState(!1),h=Z.useCallback(()=>{r&&(navigator.clipboard.writeText(r),d(!0),setTimeout(()=>d(!1),2e3))},[r]);return r?s.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((m=a==null?void 0:a[0])==null?void 0:m.toUpperCase())||((p=r[5])==null?void 0:p.toUpperCase())||"?"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[a&&s.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:a}),l&&s.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[s.jsx("span",{className:"truncate",children:l}),s.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),s.jsxs("button",{onClick:h,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[r,s.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:c?"":""})]})]}),s.jsx("div",{className:"text-right",children:t!==null?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",t]}),s.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),s.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:e.toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:i}),s.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),n&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[s.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[s.jsx("div",{className:"text-sm font-bold text-blue-400",children:(n.ba||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[s.jsx("div",{className:"text-sm font-bold text-green-400",children:(n.crypto||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[s.jsx("div",{className:"text-sm font-bold text-purple-400",children:(n.aa||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[s.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(n.linalg||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[s.jsx("div",{className:"text-sm font-bold text-pink-400",children:(n.advlinalg||0).toLocaleString()}),s.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const EU=bn("AdminPanel");function qU({className:t=""}){const{isAdmin:e}=xh(),[i,n]=Z.useState(""),[r,a]=Z.useState(""),[l,c]=Z.useState(!1),[d,h]=Z.useState(null),[m,p]=Z.useState([]),[f,b]=Z.useState(!1),N=Z.useCallback(async()=>{if(!(!Pr()||!e))try{const A=Or(),F=await Vn(A,"getAdminLogs")({limit:20});p(F.data.logs)}catch(A){EU.error("Failed to load admin logs:",A)}},[e]);Z.useEffect(()=>{f&&N()},[f,N]);const I=async()=>{const A=i.trim();if(!A){h({type:"error",text:"Please enter an npub"});return}const P=Tx(A);if(!P.valid){h({type:"error",text:P.error||"Invalid npub format"});return}c(!0),h(null);try{const F=Or();await Vn(F,"banUser")({targetNpub:i.trim(),reason:r.trim()||void 0}),h({type:"success",text:"User banned successfully"}),n(""),a(""),f&&N()}catch(F){h({type:"error",text:F instanceof Error?F.message:"Failed to ban user"})}finally{c(!1)}},D=async()=>{const A=i.trim();if(!A){h({type:"error",text:"Please enter an npub"});return}const P=Tx(A);if(!P.valid){h({type:"error",text:P.error||"Invalid npub format"});return}c(!0),h(null);try{const F=Or();await Vn(F,"unbanUser")({targetNpub:i.trim()}),h({type:"success",text:"User unbanned successfully"}),n(""),f&&N()}catch(F){h({type:"error",text:F instanceof Error?F.message:"Failed to unban user"})}finally{c(!1)}},k=async()=>{const A=i.trim();if(!A){h({type:"error",text:"Please enter an npub"});return}const P=Tx(A);if(!P.valid){h({type:"error",text:P.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){c(!0),h(null);try{const F=Or();await Vn(F,"resetUserScores")({targetNpub:i.trim(),reason:r.trim()||void 0}),h({type:"success",text:"User scores reset successfully"}),n(""),a(""),f&&N()}catch(F){h({type:"error",text:F instanceof Error?F.message:"Failed to reset scores"})}finally{c(!1)}}},T=A=>new Date(A.seconds*1e3).toLocaleString();return e?s.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${t}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),s.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),s.jsx("input",{type:"text",value:i,onChange:A=>n(A.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),s.jsx("input",{type:"text",value:r,onChange:A=>a(A.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:I,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),s.jsx("button",{onClick:D,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),s.jsx("button",{onClick:k,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),d&&s.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${d.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:d.text}),s.jsxs("button",{onClick:()=>b(!f),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[f?"Hide":"Show"," Admin Logs",s.jsx("svg",{className:`w-4 h-4 transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[s.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),m.length===0?s.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(A=>s.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`font-medium ${A.action==="ban"?"text-red-400":A.action==="unban"?"text-green-400":"text-orange-400"}`,children:A.action.toUpperCase()}),s.jsx("span",{className:"text-dark-500",children:T(A.timestamp)})]}),s.jsxs("div",{className:"text-dark-400",children:["Target: ",s.jsx("span",{className:"font-mono",children:Km(A.targetNpub,8)})]}),A.reason&&s.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",A.reason]})]},A.id))})]})]}):null}const IU=bn("Leaderboard"),Uk="magic-internet-math-leaderboard-cache";function _U(t){try{const e=localStorage.getItem(Uk);if(!e)return null;const i=JSON.parse(e);return i.tab!==t||Date.now()-i.timestamp>jO?null:i}catch{return null}}function CU(t,e,i){try{const n={rankings:t,userRank:e,timestamp:Date.now(),tab:i};localStorage.setItem(Uk,JSON.stringify(n))}catch{}}function Q6(t){if(t instanceof Error){const e=t.message.toLowerCase();if(e.includes("unauthenticated")||e.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(e.includes("permission")||e.includes("denied"))return"You don't have permission to access this resource.";if(e.includes("not-found")||e.includes("not found"))return"The requested data was not found.";if(e.includes("network")||e.includes("fetch")||e.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(e.includes("timeout")||e.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const J6=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"mom",label:"Men of Mathematics",shortLabel:"MoM"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function MU({className:t=""}){var B;const{isAuthenticated:e,npub:i,displayName:n,setDisplayName:r,isAdmin:a}=xh(),[l,c]=Z.useState("overall"),[d,h]=Z.useState([]),[m,p]=Z.useState(null),[f,b]=Z.useState(!0),[N,I]=Z.useState(null),[D,k]=Z.useState(!1),[T,A]=Z.useState(n||""),P=Z.useRef(new Map),F=Z.useCallback(async()=>{if(!Pr()){I("Firebase not configured"),b(!1);return}b(!0),I(null);try{const U=Or(),Ae=await Vn(U,"getLeaderboard")({courseId:l,limit:50});h(Ae.data.rankings),p(Ae.data.userRank),CU(Ae.data.rankings,Ae.data.userRank,l)}catch(U){IU.error("Failed to load leaderboard:",U);const L=_U(l);L?(h(L.rankings),p(L.userRank),I("Showing cached data. "+Q6(U))):I(Q6(U))}finally{b(!1)}},[l]);Z.useEffect(()=>{F()},[F]),Z.useEffect(()=>{(async()=>{const L=d.filter(Me=>!Me.displayName&&!P.current.has(Me.npub)).map(Me=>Me.npub);if(L.length===0)return;const Ae=await MO(L);Ae.forEach((Me,de)=>{P.current.set(de,Me)}),Ae.size>0&&h(Me=>Me.map(de=>{const xe=P.current.get(de.npub);return!de.displayName&&xe?{...de,displayName:xe.display_name||xe.name||null}:de}))})()},[d]),Z.useEffect(()=>{const U=setInterval(F,vO);return()=>clearInterval(U)},[F]);const C=Ho().getLocalScores(),S=C?Object.values(C).reduce((U,L)=>U+(L||0),0):0,_=Math.floor(Math.sqrt(S/100))+1,O=()=>{const U=T.trim().slice(0,30);r(U||null),k(!1)};return s.jsxs("div",{className:`max-w-2xl mx-auto ${t}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),s.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),s.jsx(K6,{showDisplayName:!1})]}),e&&s.jsxs("div",{className:"mb-6",children:[s.jsx(AU,{rank:m,totalXP:S,level:_,courseXP:C||void 0}),s.jsx("div",{className:"mt-3 flex items-center gap-2",children:D?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",value:T,onChange:U=>A(U.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:U=>{U.key==="Enter"&&O(),U.key==="Escape"&&k(!1)}}),s.jsx("button",{onClick:O,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),s.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):s.jsx("button",{onClick:()=>{A(n||""),k(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:n?"Edit display name":"Set display name"})})]}),!e&&s.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),s.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),s.jsx(K6,{})]}),s.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:J6.map(U=>s.jsxs("button",{onClick:()=>c(U.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${l===U.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[s.jsx("span",{className:"hidden sm:inline",children:U.label}),s.jsx("span",{className:"sm:hidden",children:U.shortLabel})]},U.id))}),N&&s.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[N,s.jsx("button",{onClick:F,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),s.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"font-semibold text-dark-100",children:[(B=J6.find(U=>U.id===l))==null?void 0:B.label," Rankings"]}),s.jsx("button",{onClick:F,disabled:f,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:f?"Loading...":"Refresh"})]}),s.jsx(SU,{rankings:d,currentUserNpub:i,isLoading:f})]}),a&&s.jsx(qU,{className:"mt-6"}),s.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}let Ki=class Fk{constructor(e,i,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=n}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new Fk(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}},Dn=class Hk{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new Hk(i,Ki.range(this,e))}},fe=class Gk{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,r,a,l=i&&i.loc;if(l&&l.start<=l.end){var c=l.lexer.input;r=l.start,a=l.end,r===c.length?n+=" at end of input: ":n+=" at position "+(r+1)+": ";var d=c.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+c.slice(r-15,r):h=c.slice(0,r);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),n+=h+d+m}var p=new Error(n);return p.name="ParseError",p.__proto__=Gk.prototype,p.position=r,r!=null&&a!=null&&(p.length=a-r),p.rawMessage=e,p}};fe.prototype.__proto__=Error.prototype;var zU=function(e,i){return e===void 0?i:e},DU=/([A-Z])/g,RU=function(e){return e.replace(DU,"-$1").toLowerCase()},OU={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},PU=/[&><"']/g;function $U(t){return String(t).replace(PU,e=>OU[e])}var Vk=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},BU=function(e){var i=Vk(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},LU=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},UU=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},lt={deflt:zU,escape:$U,hyphenate:RU,getBaseElem:Vk,isCharacterBox:BU,protocolFromUrl:UU},sm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function FU(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let ob=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in sm)if(sm.hasOwnProperty(i)){var n=sm[i];this[i]=e[i]!==void 0?n.processor?n.processor(e[i]):e[i]:FU(n)}}reportNonstrict(e,i,n){var r=this.strict;if(typeof r=="function"&&(r=r(e,i,n)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new fe("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),n);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,n){var r=this.strict;if(typeof r=="function")try{r=r(e,i,n)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=lt.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}},Na=class{constructor(e,i,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=n}sup(){return Ln[HU[this.id]]}sub(){return Ln[GU[this.id]]}fracNum(){return Ln[VU[this.id]]}fracDen(){return Ln[WU[this.id]]}cramp(){return Ln[ZU[this.id]]}text(){return Ln[YU[this.id]]}isTight(){return this.size>=2}};var cb=0,np=1,Nc=2,Fr=3,Ud=4,an=5,Bc=6,si=7,Ln=[new Na(cb,0,!1),new Na(np,0,!0),new Na(Nc,1,!1),new Na(Fr,1,!0),new Na(Ud,2,!1),new Na(an,2,!0),new Na(Bc,3,!1),new Na(si,3,!0)],HU=[Ud,an,Ud,an,Bc,si,Bc,si],GU=[an,an,an,an,si,si,si,si],VU=[Nc,Fr,Ud,an,Bc,si,Bc,si],WU=[Fr,Fr,an,an,si,si,si,si],ZU=[np,np,Fr,Fr,an,an,si,si],YU=[cb,np,Nc,Fr,Nc,Fr,Nc,Fr],$e={DISPLAY:Ln[cb],TEXT:Ln[Nc],SCRIPT:Ln[Ud],SCRIPTSCRIPT:Ln[Bc]},Wg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function XU(t){for(var e=0;e<Wg.length;e++)for(var i=Wg[e],n=0;n<i.blocks.length;n++){var r=i.blocks[n];if(t>=r[0]&&t<=r[1])return i.name}return null}var im=[];Wg.forEach(t=>t.blocks.forEach(e=>im.push(...e)));function Wk(t){for(var e=0;e<im.length;e+=2)if(t>=im[e]&&t<=im[e+1])return!0;return!1}var $o=80,KU=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},QU=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},JU=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},eF=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},tF=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},sF=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},iF=function(e,i,n){var r=n-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},nF=function(e,i,n){i=1e3*i;var r="";switch(e){case"sqrtMain":r=KU(i,$o);break;case"sqrtSize1":r=QU(i,$o);break;case"sqrtSize2":r=JU(i,$o);break;case"sqrtSize3":r=eF(i,$o);break;case"sqrtSize4":r=tF(i,$o);break;case"sqrtTall":r=iF(i,$o,n)}return r},rF=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},e5={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},aF=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let gh=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}};var Wn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},uu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},t5={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function lF(t,e){Wn[t]=e}function db(t,e,i){if(!Wn[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),r=Wn[e][n];if(!r&&t[0]in t5&&(n=t5[t[0]].charCodeAt(0),r=Wn[e][n]),!r&&i==="text"&&Wk(n)&&(r=Wn[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Ax={};function oF(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Ax[e]){var i=Ax[e]={cssEmPerMu:uu.quad[e]/18};for(var n in uu)uu.hasOwnProperty(n)&&(i[n]=uu[n][e])}return Ax[e]}var cF=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],s5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],i5=function(e,i){return i.size<2?e:cF[e-1][i.size-1]};let Zk=class Kl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Kl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=s5[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return new Kl(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:i5(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:s5[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=i5(Kl.BASESIZE,e);return this.size===i&&this.textSize===Kl.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Kl.BASESIZE?["sizing","reset-size"+this.size,"size"+Kl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=oF(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};Zk.BASESIZE=6;var Zg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},dF={ex:!0,em:!0,mu:!0},Yk=function(e){return typeof e!="string"&&(e=e.unit),e in Zg||e in dF||e==="ex"},Ut=function(e,i){var n;if(e.unit in Zg)n=Zg[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")n=i.fontMetrics().cssEmPerMu;else{var r;if(i.style.isTight()?r=i.havingStyle(i.style.text()):r=i,e.unit==="ex")n=r.fontMetrics().xHeight;else if(e.unit==="em")n=r.fontMetrics().quad;else throw new fe("Invalid unit: '"+e.unit+"'");r!==i&&(n*=r.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*n,i.maxSize)},ge=function(e){return+e.toFixed(4)+"em"},pl=function(e){return e.filter(i=>i).join(" ")},Xk=function(e,i,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},i){i.style.isTight()&&this.classes.push("mtight");var r=i.getColor();r&&(this.style.color=r)}},Kk=function(e){var i=document.createElement(e);i.className=pl(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(i.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&i.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)i.appendChild(this.children[a].toNode());return i},hF=/[\s"'>/=\x00-\x1f]/,Qk=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+lt.escape(pl(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=lt.hyphenate(r)+":"+this.style[r]+";");n&&(i+=' style="'+lt.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(hF.test(a))throw new fe("Invalid attribute name '"+a+"'");i+=" "+a+'="'+lt.escape(this.attributes[a])+'"'}i+=">";for(var l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</"+e+">",i};let bh=class{constructor(e,i,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Xk.call(this,e,n,r),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return Kk.call(this,"span")}toMarkup(){return Qk.call(this,"span")}},hb=class{constructor(e,i,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Xk.call(this,i,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return Kk.call(this,"a")}toMarkup(){return Qk.call(this,"a")}},uF=class{constructor(e,i,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+lt.escape(this.src)+'"'+(' alt="'+lt.escape(this.alt)+'"'),i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=lt.hyphenate(n)+":"+this.style[n]+";");return i&&(e+=' style="'+lt.escape(i)+'"'),e+="'/>",e}};var mF={:"",:"",:"",:""};let mn=class{constructor(e,i,n,r,a,l,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=n||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var h=XU(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=mF[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=ge(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=pl(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(i=i||document.createElement("span"),i.style[n]=this.style[n]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=lt.escape(pl(this.classes)),i+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=lt.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,i+=' style="'+lt.escape(n)+'"');var a=lt.escape(this.text);return e?(i+=">",i+=a,i+="</span>",i):a}},ta=class{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&i.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)i.appendChild(this.children[r].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+lt.escape(this.attributes[i])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}},fl=class{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",e5[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+lt.escape(this.alternate)+'"/>':'<path d="'+lt.escape(e5[this.pathName])+'"/>'}},Yg=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&i.setAttribute(n,this.attributes[n]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+lt.escape(this.attributes[i])+'"');return e+="/>",e}};function n5(t){if(t instanceof mn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function pF(t){if(t instanceof bh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var fF={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xF={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Tt={math:{},text:{}};function x(t,e,i,n,r,a){Tt[t][r]={font:e,group:i,replace:n},a&&n&&(Tt[t][n]=Tt[t][r])}var v="math",oe="text",E="main",H="ams",Dt="accent-token",Ie="bin",ci="close",t0="inner",Oe="mathord",ms="op-token",Hi="open",tf="punct",V="rel",da="spacing",Q="textord";x(v,E,V,"","\\equiv",!0);x(v,E,V,"","\\prec",!0);x(v,E,V,"","\\succ",!0);x(v,E,V,"","\\sim",!0);x(v,E,V,"","\\perp");x(v,E,V,"","\\preceq",!0);x(v,E,V,"","\\succeq",!0);x(v,E,V,"","\\simeq",!0);x(v,E,V,"","\\mid",!0);x(v,E,V,"","\\ll",!0);x(v,E,V,"","\\gg",!0);x(v,E,V,"","\\asymp",!0);x(v,E,V,"","\\parallel");x(v,E,V,"","\\bowtie",!0);x(v,E,V,"","\\smile",!0);x(v,E,V,"","\\sqsubseteq",!0);x(v,E,V,"","\\sqsupseteq",!0);x(v,E,V,"","\\doteq",!0);x(v,E,V,"","\\frown",!0);x(v,E,V,"","\\ni",!0);x(v,E,V,"","\\propto",!0);x(v,E,V,"","\\vdash",!0);x(v,E,V,"","\\dashv",!0);x(v,E,V,"","\\owns");x(v,E,tf,".","\\ldotp");x(v,E,tf,"","\\cdotp");x(v,E,Q,"#","\\#");x(oe,E,Q,"#","\\#");x(v,E,Q,"&","\\&");x(oe,E,Q,"&","\\&");x(v,E,Q,"","\\aleph",!0);x(v,E,Q,"","\\forall",!0);x(v,E,Q,"","\\hbar",!0);x(v,E,Q,"","\\exists",!0);x(v,E,Q,"","\\nabla",!0);x(v,E,Q,"","\\flat",!0);x(v,E,Q,"","\\ell",!0);x(v,E,Q,"","\\natural",!0);x(v,E,Q,"","\\clubsuit",!0);x(v,E,Q,"","\\wp",!0);x(v,E,Q,"","\\sharp",!0);x(v,E,Q,"","\\diamondsuit",!0);x(v,E,Q,"","\\Re",!0);x(v,E,Q,"","\\heartsuit",!0);x(v,E,Q,"","\\Im",!0);x(v,E,Q,"","\\spadesuit",!0);x(v,E,Q,"","\\S",!0);x(oe,E,Q,"","\\S");x(v,E,Q,"","\\P",!0);x(oe,E,Q,"","\\P");x(v,E,Q,"","\\dag");x(oe,E,Q,"","\\dag");x(oe,E,Q,"","\\textdagger");x(v,E,Q,"","\\ddag");x(oe,E,Q,"","\\ddag");x(oe,E,Q,"","\\textdaggerdbl");x(v,E,ci,"","\\rmoustache",!0);x(v,E,Hi,"","\\lmoustache",!0);x(v,E,ci,"","\\rgroup",!0);x(v,E,Hi,"","\\lgroup",!0);x(v,E,Ie,"","\\mp",!0);x(v,E,Ie,"","\\ominus",!0);x(v,E,Ie,"","\\uplus",!0);x(v,E,Ie,"","\\sqcap",!0);x(v,E,Ie,"","\\ast");x(v,E,Ie,"","\\sqcup",!0);x(v,E,Ie,"","\\bigcirc",!0);x(v,E,Ie,"","\\bullet",!0);x(v,E,Ie,"","\\ddagger");x(v,E,Ie,"","\\wr",!0);x(v,E,Ie,"","\\amalg");x(v,E,Ie,"&","\\And");x(v,E,V,"","\\longleftarrow",!0);x(v,E,V,"","\\Leftarrow",!0);x(v,E,V,"","\\Longleftarrow",!0);x(v,E,V,"","\\longrightarrow",!0);x(v,E,V,"","\\Rightarrow",!0);x(v,E,V,"","\\Longrightarrow",!0);x(v,E,V,"","\\leftrightarrow",!0);x(v,E,V,"","\\longleftrightarrow",!0);x(v,E,V,"","\\Leftrightarrow",!0);x(v,E,V,"","\\Longleftrightarrow",!0);x(v,E,V,"","\\mapsto",!0);x(v,E,V,"","\\longmapsto",!0);x(v,E,V,"","\\nearrow",!0);x(v,E,V,"","\\hookleftarrow",!0);x(v,E,V,"","\\hookrightarrow",!0);x(v,E,V,"","\\searrow",!0);x(v,E,V,"","\\leftharpoonup",!0);x(v,E,V,"","\\rightharpoonup",!0);x(v,E,V,"","\\swarrow",!0);x(v,E,V,"","\\leftharpoondown",!0);x(v,E,V,"","\\rightharpoondown",!0);x(v,E,V,"","\\nwarrow",!0);x(v,E,V,"","\\rightleftharpoons",!0);x(v,H,V,"","\\nless",!0);x(v,H,V,"","\\@nleqslant");x(v,H,V,"","\\@nleqq");x(v,H,V,"","\\lneq",!0);x(v,H,V,"","\\lneqq",!0);x(v,H,V,"","\\@lvertneqq");x(v,H,V,"","\\lnsim",!0);x(v,H,V,"","\\lnapprox",!0);x(v,H,V,"","\\nprec",!0);x(v,H,V,"","\\npreceq",!0);x(v,H,V,"","\\precnsim",!0);x(v,H,V,"","\\precnapprox",!0);x(v,H,V,"","\\nsim",!0);x(v,H,V,"","\\@nshortmid");x(v,H,V,"","\\nmid",!0);x(v,H,V,"","\\nvdash",!0);x(v,H,V,"","\\nvDash",!0);x(v,H,V,"","\\ntriangleleft");x(v,H,V,"","\\ntrianglelefteq",!0);x(v,H,V,"","\\subsetneq",!0);x(v,H,V,"","\\@varsubsetneq");x(v,H,V,"","\\subsetneqq",!0);x(v,H,V,"","\\@varsubsetneqq");x(v,H,V,"","\\ngtr",!0);x(v,H,V,"","\\@ngeqslant");x(v,H,V,"","\\@ngeqq");x(v,H,V,"","\\gneq",!0);x(v,H,V,"","\\gneqq",!0);x(v,H,V,"","\\@gvertneqq");x(v,H,V,"","\\gnsim",!0);x(v,H,V,"","\\gnapprox",!0);x(v,H,V,"","\\nsucc",!0);x(v,H,V,"","\\nsucceq",!0);x(v,H,V,"","\\succnsim",!0);x(v,H,V,"","\\succnapprox",!0);x(v,H,V,"","\\ncong",!0);x(v,H,V,"","\\@nshortparallel");x(v,H,V,"","\\nparallel",!0);x(v,H,V,"","\\nVDash",!0);x(v,H,V,"","\\ntriangleright");x(v,H,V,"","\\ntrianglerighteq",!0);x(v,H,V,"","\\@nsupseteqq");x(v,H,V,"","\\supsetneq",!0);x(v,H,V,"","\\@varsupsetneq");x(v,H,V,"","\\supsetneqq",!0);x(v,H,V,"","\\@varsupsetneqq");x(v,H,V,"","\\nVdash",!0);x(v,H,V,"","\\precneqq",!0);x(v,H,V,"","\\succneqq",!0);x(v,H,V,"","\\@nsubseteqq");x(v,H,Ie,"","\\unlhd");x(v,H,Ie,"","\\unrhd");x(v,H,V,"","\\nleftarrow",!0);x(v,H,V,"","\\nrightarrow",!0);x(v,H,V,"","\\nLeftarrow",!0);x(v,H,V,"","\\nRightarrow",!0);x(v,H,V,"","\\nleftrightarrow",!0);x(v,H,V,"","\\nLeftrightarrow",!0);x(v,H,V,"","\\vartriangle");x(v,H,Q,"","\\hslash");x(v,H,Q,"","\\triangledown");x(v,H,Q,"","\\lozenge");x(v,H,Q,"","\\circledS");x(v,H,Q,"","\\circledR");x(oe,H,Q,"","\\circledR");x(v,H,Q,"","\\measuredangle",!0);x(v,H,Q,"","\\nexists");x(v,H,Q,"","\\mho");x(v,H,Q,"","\\Finv",!0);x(v,H,Q,"","\\Game",!0);x(v,H,Q,"","\\backprime");x(v,H,Q,"","\\blacktriangle");x(v,H,Q,"","\\blacktriangledown");x(v,H,Q,"","\\blacksquare");x(v,H,Q,"","\\blacklozenge");x(v,H,Q,"","\\bigstar");x(v,H,Q,"","\\sphericalangle",!0);x(v,H,Q,"","\\complement",!0);x(v,H,Q,"","\\eth",!0);x(oe,E,Q,"","");x(v,H,Q,"","\\diagup");x(v,H,Q,"","\\diagdown");x(v,H,Q,"","\\square");x(v,H,Q,"","\\Box");x(v,H,Q,"","\\Diamond");x(v,H,Q,"","\\yen",!0);x(oe,H,Q,"","\\yen",!0);x(v,H,Q,"","\\checkmark",!0);x(oe,H,Q,"","\\checkmark");x(v,H,Q,"","\\beth",!0);x(v,H,Q,"","\\daleth",!0);x(v,H,Q,"","\\gimel",!0);x(v,H,Q,"","\\digamma",!0);x(v,H,Q,"","\\varkappa");x(v,H,Hi,"","\\@ulcorner",!0);x(v,H,ci,"","\\@urcorner",!0);x(v,H,Hi,"","\\@llcorner",!0);x(v,H,ci,"","\\@lrcorner",!0);x(v,H,V,"","\\leqq",!0);x(v,H,V,"","\\leqslant",!0);x(v,H,V,"","\\eqslantless",!0);x(v,H,V,"","\\lesssim",!0);x(v,H,V,"","\\lessapprox",!0);x(v,H,V,"","\\approxeq",!0);x(v,H,Ie,"","\\lessdot");x(v,H,V,"","\\lll",!0);x(v,H,V,"","\\lessgtr",!0);x(v,H,V,"","\\lesseqgtr",!0);x(v,H,V,"","\\lesseqqgtr",!0);x(v,H,V,"","\\doteqdot");x(v,H,V,"","\\risingdotseq",!0);x(v,H,V,"","\\fallingdotseq",!0);x(v,H,V,"","\\backsim",!0);x(v,H,V,"","\\backsimeq",!0);x(v,H,V,"","\\subseteqq",!0);x(v,H,V,"","\\Subset",!0);x(v,H,V,"","\\sqsubset",!0);x(v,H,V,"","\\preccurlyeq",!0);x(v,H,V,"","\\curlyeqprec",!0);x(v,H,V,"","\\precsim",!0);x(v,H,V,"","\\precapprox",!0);x(v,H,V,"","\\vartriangleleft");x(v,H,V,"","\\trianglelefteq");x(v,H,V,"","\\vDash",!0);x(v,H,V,"","\\Vvdash",!0);x(v,H,V,"","\\smallsmile");x(v,H,V,"","\\smallfrown");x(v,H,V,"","\\bumpeq",!0);x(v,H,V,"","\\Bumpeq",!0);x(v,H,V,"","\\geqq",!0);x(v,H,V,"","\\geqslant",!0);x(v,H,V,"","\\eqslantgtr",!0);x(v,H,V,"","\\gtrsim",!0);x(v,H,V,"","\\gtrapprox",!0);x(v,H,Ie,"","\\gtrdot");x(v,H,V,"","\\ggg",!0);x(v,H,V,"","\\gtrless",!0);x(v,H,V,"","\\gtreqless",!0);x(v,H,V,"","\\gtreqqless",!0);x(v,H,V,"","\\eqcirc",!0);x(v,H,V,"","\\circeq",!0);x(v,H,V,"","\\triangleq",!0);x(v,H,V,"","\\thicksim");x(v,H,V,"","\\thickapprox");x(v,H,V,"","\\supseteqq",!0);x(v,H,V,"","\\Supset",!0);x(v,H,V,"","\\sqsupset",!0);x(v,H,V,"","\\succcurlyeq",!0);x(v,H,V,"","\\curlyeqsucc",!0);x(v,H,V,"","\\succsim",!0);x(v,H,V,"","\\succapprox",!0);x(v,H,V,"","\\vartriangleright");x(v,H,V,"","\\trianglerighteq");x(v,H,V,"","\\Vdash",!0);x(v,H,V,"","\\shortmid");x(v,H,V,"","\\shortparallel");x(v,H,V,"","\\between",!0);x(v,H,V,"","\\pitchfork",!0);x(v,H,V,"","\\varpropto");x(v,H,V,"","\\blacktriangleleft");x(v,H,V,"","\\therefore",!0);x(v,H,V,"","\\backepsilon");x(v,H,V,"","\\blacktriangleright");x(v,H,V,"","\\because",!0);x(v,H,V,"","\\llless");x(v,H,V,"","\\gggtr");x(v,H,Ie,"","\\lhd");x(v,H,Ie,"","\\rhd");x(v,H,V,"","\\eqsim",!0);x(v,E,V,"","\\Join");x(v,H,V,"","\\Doteq",!0);x(v,H,Ie,"","\\dotplus",!0);x(v,H,Ie,"","\\smallsetminus");x(v,H,Ie,"","\\Cap",!0);x(v,H,Ie,"","\\Cup",!0);x(v,H,Ie,"","\\doublebarwedge",!0);x(v,H,Ie,"","\\boxminus",!0);x(v,H,Ie,"","\\boxplus",!0);x(v,H,Ie,"","\\divideontimes",!0);x(v,H,Ie,"","\\ltimes",!0);x(v,H,Ie,"","\\rtimes",!0);x(v,H,Ie,"","\\leftthreetimes",!0);x(v,H,Ie,"","\\rightthreetimes",!0);x(v,H,Ie,"","\\curlywedge",!0);x(v,H,Ie,"","\\curlyvee",!0);x(v,H,Ie,"","\\circleddash",!0);x(v,H,Ie,"","\\circledast",!0);x(v,H,Ie,"","\\centerdot");x(v,H,Ie,"","\\intercal",!0);x(v,H,Ie,"","\\doublecap");x(v,H,Ie,"","\\doublecup");x(v,H,Ie,"","\\boxtimes",!0);x(v,H,V,"","\\dashrightarrow",!0);x(v,H,V,"","\\dashleftarrow",!0);x(v,H,V,"","\\leftleftarrows",!0);x(v,H,V,"","\\leftrightarrows",!0);x(v,H,V,"","\\Lleftarrow",!0);x(v,H,V,"","\\twoheadleftarrow",!0);x(v,H,V,"","\\leftarrowtail",!0);x(v,H,V,"","\\looparrowleft",!0);x(v,H,V,"","\\leftrightharpoons",!0);x(v,H,V,"","\\curvearrowleft",!0);x(v,H,V,"","\\circlearrowleft",!0);x(v,H,V,"","\\Lsh",!0);x(v,H,V,"","\\upuparrows",!0);x(v,H,V,"","\\upharpoonleft",!0);x(v,H,V,"","\\downharpoonleft",!0);x(v,E,V,"","\\origof",!0);x(v,E,V,"","\\imageof",!0);x(v,H,V,"","\\multimap",!0);x(v,H,V,"","\\leftrightsquigarrow",!0);x(v,H,V,"","\\rightrightarrows",!0);x(v,H,V,"","\\rightleftarrows",!0);x(v,H,V,"","\\twoheadrightarrow",!0);x(v,H,V,"","\\rightarrowtail",!0);x(v,H,V,"","\\looparrowright",!0);x(v,H,V,"","\\curvearrowright",!0);x(v,H,V,"","\\circlearrowright",!0);x(v,H,V,"","\\Rsh",!0);x(v,H,V,"","\\downdownarrows",!0);x(v,H,V,"","\\upharpoonright",!0);x(v,H,V,"","\\downharpoonright",!0);x(v,H,V,"","\\rightsquigarrow",!0);x(v,H,V,"","\\leadsto");x(v,H,V,"","\\Rrightarrow",!0);x(v,H,V,"","\\restriction");x(v,E,Q,"","`");x(v,E,Q,"$","\\$");x(oe,E,Q,"$","\\$");x(oe,E,Q,"$","\\textdollar");x(v,E,Q,"%","\\%");x(oe,E,Q,"%","\\%");x(v,E,Q,"_","\\_");x(oe,E,Q,"_","\\_");x(oe,E,Q,"_","\\textunderscore");x(v,E,Q,"","\\angle",!0);x(v,E,Q,"","\\infty",!0);x(v,E,Q,"","\\prime");x(v,E,Q,"","\\triangle");x(v,E,Q,"","\\Gamma",!0);x(v,E,Q,"","\\Delta",!0);x(v,E,Q,"","\\Theta",!0);x(v,E,Q,"","\\Lambda",!0);x(v,E,Q,"","\\Xi",!0);x(v,E,Q,"","\\Pi",!0);x(v,E,Q,"","\\Sigma",!0);x(v,E,Q,"","\\Upsilon",!0);x(v,E,Q,"","\\Phi",!0);x(v,E,Q,"","\\Psi",!0);x(v,E,Q,"","\\Omega",!0);x(v,E,Q,"A","");x(v,E,Q,"B","");x(v,E,Q,"E","");x(v,E,Q,"Z","");x(v,E,Q,"H","");x(v,E,Q,"I","");x(v,E,Q,"K","");x(v,E,Q,"M","");x(v,E,Q,"N","");x(v,E,Q,"O","");x(v,E,Q,"P","");x(v,E,Q,"T","");x(v,E,Q,"X","");x(v,E,Q,"","\\neg",!0);x(v,E,Q,"","\\lnot");x(v,E,Q,"","\\top");x(v,E,Q,"","\\bot");x(v,E,Q,"","\\emptyset");x(v,H,Q,"","\\varnothing");x(v,E,Oe,"","\\alpha",!0);x(v,E,Oe,"","\\beta",!0);x(v,E,Oe,"","\\gamma",!0);x(v,E,Oe,"","\\delta",!0);x(v,E,Oe,"","\\epsilon",!0);x(v,E,Oe,"","\\zeta",!0);x(v,E,Oe,"","\\eta",!0);x(v,E,Oe,"","\\theta",!0);x(v,E,Oe,"","\\iota",!0);x(v,E,Oe,"","\\kappa",!0);x(v,E,Oe,"","\\lambda",!0);x(v,E,Oe,"","\\mu",!0);x(v,E,Oe,"","\\nu",!0);x(v,E,Oe,"","\\xi",!0);x(v,E,Oe,"","\\omicron",!0);x(v,E,Oe,"","\\pi",!0);x(v,E,Oe,"","\\rho",!0);x(v,E,Oe,"","\\sigma",!0);x(v,E,Oe,"","\\tau",!0);x(v,E,Oe,"","\\upsilon",!0);x(v,E,Oe,"","\\phi",!0);x(v,E,Oe,"","\\chi",!0);x(v,E,Oe,"","\\psi",!0);x(v,E,Oe,"","\\omega",!0);x(v,E,Oe,"","\\varepsilon",!0);x(v,E,Oe,"","\\vartheta",!0);x(v,E,Oe,"","\\varpi",!0);x(v,E,Oe,"","\\varrho",!0);x(v,E,Oe,"","\\varsigma",!0);x(v,E,Oe,"","\\varphi",!0);x(v,E,Ie,"","*",!0);x(v,E,Ie,"+","+");x(v,E,Ie,"","-",!0);x(v,E,Ie,"","\\cdot",!0);x(v,E,Ie,"","\\circ",!0);x(v,E,Ie,"","\\div",!0);x(v,E,Ie,"","\\pm",!0);x(v,E,Ie,"","\\times",!0);x(v,E,Ie,"","\\cap",!0);x(v,E,Ie,"","\\cup",!0);x(v,E,Ie,"","\\setminus",!0);x(v,E,Ie,"","\\land");x(v,E,Ie,"","\\lor");x(v,E,Ie,"","\\wedge",!0);x(v,E,Ie,"","\\vee",!0);x(v,E,Q,"","\\surd");x(v,E,Hi,"","\\langle",!0);x(v,E,Hi,"","\\lvert");x(v,E,Hi,"","\\lVert");x(v,E,ci,"?","?");x(v,E,ci,"!","!");x(v,E,ci,"","\\rangle",!0);x(v,E,ci,"","\\rvert");x(v,E,ci,"","\\rVert");x(v,E,V,"=","=");x(v,E,V,":",":");x(v,E,V,"","\\approx",!0);x(v,E,V,"","\\cong",!0);x(v,E,V,"","\\ge");x(v,E,V,"","\\geq",!0);x(v,E,V,"","\\gets");x(v,E,V,">","\\gt",!0);x(v,E,V,"","\\in",!0);x(v,E,V,"","\\@not");x(v,E,V,"","\\subset",!0);x(v,E,V,"","\\supset",!0);x(v,E,V,"","\\subseteq",!0);x(v,E,V,"","\\supseteq",!0);x(v,H,V,"","\\nsubseteq",!0);x(v,H,V,"","\\nsupseteq",!0);x(v,E,V,"","\\models");x(v,E,V,"","\\leftarrow",!0);x(v,E,V,"","\\le");x(v,E,V,"","\\leq",!0);x(v,E,V,"<","\\lt",!0);x(v,E,V,"","\\rightarrow",!0);x(v,E,V,"","\\to");x(v,H,V,"","\\ngeq",!0);x(v,H,V,"","\\nleq",!0);x(v,E,da,"","\\ ");x(v,E,da,"","\\space");x(v,E,da,"","\\nobreakspace");x(oe,E,da,"","\\ ");x(oe,E,da,""," ");x(oe,E,da,"","\\space");x(oe,E,da,"","\\nobreakspace");x(v,E,da,null,"\\nobreak");x(v,E,da,null,"\\allowbreak");x(v,E,tf,",",",");x(v,E,tf,";",";");x(v,H,Ie,"","\\barwedge",!0);x(v,H,Ie,"","\\veebar",!0);x(v,E,Ie,"","\\odot",!0);x(v,E,Ie,"","\\oplus",!0);x(v,E,Ie,"","\\otimes",!0);x(v,E,Q,"","\\partial",!0);x(v,E,Ie,"","\\oslash",!0);x(v,H,Ie,"","\\circledcirc",!0);x(v,H,Ie,"","\\boxdot",!0);x(v,E,Ie,"","\\bigtriangleup");x(v,E,Ie,"","\\bigtriangledown");x(v,E,Ie,"","\\dagger");x(v,E,Ie,"","\\diamond");x(v,E,Ie,"","\\star");x(v,E,Ie,"","\\triangleleft");x(v,E,Ie,"","\\triangleright");x(v,E,Hi,"{","\\{");x(oe,E,Q,"{","\\{");x(oe,E,Q,"{","\\textbraceleft");x(v,E,ci,"}","\\}");x(oe,E,Q,"}","\\}");x(oe,E,Q,"}","\\textbraceright");x(v,E,Hi,"{","\\lbrace");x(v,E,ci,"}","\\rbrace");x(v,E,Hi,"[","\\lbrack",!0);x(oe,E,Q,"[","\\lbrack",!0);x(v,E,ci,"]","\\rbrack",!0);x(oe,E,Q,"]","\\rbrack",!0);x(v,E,Hi,"(","\\lparen",!0);x(v,E,ci,")","\\rparen",!0);x(oe,E,Q,"<","\\textless",!0);x(oe,E,Q,">","\\textgreater",!0);x(v,E,Hi,"","\\lfloor",!0);x(v,E,ci,"","\\rfloor",!0);x(v,E,Hi,"","\\lceil",!0);x(v,E,ci,"","\\rceil",!0);x(v,E,Q,"\\","\\backslash");x(v,E,Q,"","|");x(v,E,Q,"","\\vert");x(oe,E,Q,"|","\\textbar",!0);x(v,E,Q,"","\\|");x(v,E,Q,"","\\Vert");x(oe,E,Q,"","\\textbardbl");x(oe,E,Q,"~","\\textasciitilde");x(oe,E,Q,"\\","\\textbackslash");x(oe,E,Q,"^","\\textasciicircum");x(v,E,V,"","\\uparrow",!0);x(v,E,V,"","\\Uparrow",!0);x(v,E,V,"","\\downarrow",!0);x(v,E,V,"","\\Downarrow",!0);x(v,E,V,"","\\updownarrow",!0);x(v,E,V,"","\\Updownarrow",!0);x(v,E,ms,"","\\coprod");x(v,E,ms,"","\\bigvee");x(v,E,ms,"","\\bigwedge");x(v,E,ms,"","\\biguplus");x(v,E,ms,"","\\bigcap");x(v,E,ms,"","\\bigcup");x(v,E,ms,"","\\int");x(v,E,ms,"","\\intop");x(v,E,ms,"","\\iint");x(v,E,ms,"","\\iiint");x(v,E,ms,"","\\prod");x(v,E,ms,"","\\sum");x(v,E,ms,"","\\bigotimes");x(v,E,ms,"","\\bigoplus");x(v,E,ms,"","\\bigodot");x(v,E,ms,"","\\oint");x(v,E,ms,"","\\oiint");x(v,E,ms,"","\\oiiint");x(v,E,ms,"","\\bigsqcup");x(v,E,ms,"","\\smallint");x(oe,E,t0,"","\\textellipsis");x(v,E,t0,"","\\mathellipsis");x(oe,E,t0,"","\\ldots",!0);x(v,E,t0,"","\\ldots",!0);x(v,E,t0,"","\\@cdots",!0);x(v,E,t0,"","\\ddots",!0);x(v,E,Q,"","\\varvdots");x(oe,E,Q,"","\\varvdots");x(v,E,Dt,"","\\acute");x(v,E,Dt,"","\\grave");x(v,E,Dt,"","\\ddot");x(v,E,Dt,"~","\\tilde");x(v,E,Dt,"","\\bar");x(v,E,Dt,"","\\breve");x(v,E,Dt,"","\\check");x(v,E,Dt,"^","\\hat");x(v,E,Dt,"","\\vec");x(v,E,Dt,"","\\dot");x(v,E,Dt,"","\\mathring");x(v,E,Oe,"","\\@imath");x(v,E,Oe,"","\\@jmath");x(v,E,Q,"","");x(v,E,Q,"","");x(oe,E,Q,"","\\i",!0);x(oe,E,Q,"","\\j",!0);x(oe,E,Q,"","\\ss",!0);x(oe,E,Q,"","\\ae",!0);x(oe,E,Q,"","\\oe",!0);x(oe,E,Q,"","\\o",!0);x(oe,E,Q,"","\\AE",!0);x(oe,E,Q,"","\\OE",!0);x(oe,E,Q,"","\\O",!0);x(oe,E,Dt,"","\\'");x(oe,E,Dt,"","\\`");x(oe,E,Dt,"","\\^");x(oe,E,Dt,"","\\~");x(oe,E,Dt,"","\\=");x(oe,E,Dt,"","\\u");x(oe,E,Dt,"","\\.");x(oe,E,Dt,"","\\c");x(oe,E,Dt,"","\\r");x(oe,E,Dt,"","\\v");x(oe,E,Dt,"",'\\"');x(oe,E,Dt,"","\\H");x(oe,E,Dt,"","\\textcircled");var Jk={"--":!0,"---":!0,"``":!0,"''":!0};x(oe,E,Q,"","--",!0);x(oe,E,Q,"","\\textendash");x(oe,E,Q,"","---",!0);x(oe,E,Q,"","\\textemdash");x(oe,E,Q,"","`",!0);x(oe,E,Q,"","\\textquoteleft");x(oe,E,Q,"","'",!0);x(oe,E,Q,"","\\textquoteright");x(oe,E,Q,"","``",!0);x(oe,E,Q,"","\\textquotedblleft");x(oe,E,Q,"","''",!0);x(oe,E,Q,"","\\textquotedblright");x(v,E,Q,"","\\degree",!0);x(oe,E,Q,"","\\degree");x(oe,E,Q,"","\\textdegree",!0);x(v,E,Q,"","\\pounds");x(v,E,Q,"","\\mathsterling",!0);x(oe,E,Q,"","\\pounds");x(oe,E,Q,"","\\textsterling",!0);x(v,H,Q,"","\\maltese");x(oe,H,Q,"","\\maltese");var r5='0123456789/@."';for(var Ex=0;Ex<r5.length;Ex++){var a5=r5.charAt(Ex);x(v,E,Q,a5,a5)}var l5='0123456789!@*()-=+";:?/.,';for(var qx=0;qx<l5.length;qx++){var o5=l5.charAt(qx);x(oe,E,Q,o5,o5)}var rp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ix=0;Ix<rp.length;Ix++){var mu=rp.charAt(Ix);x(v,E,Oe,mu,mu),x(oe,E,Q,mu,mu)}x(v,H,Q,"C","");x(oe,H,Q,"C","");x(v,H,Q,"H","");x(oe,H,Q,"H","");x(v,H,Q,"N","");x(oe,H,Q,"N","");x(v,H,Q,"P","");x(oe,H,Q,"P","");x(v,H,Q,"Q","");x(oe,H,Q,"Q","");x(v,H,Q,"R","");x(oe,H,Q,"R","");x(v,H,Q,"Z","");x(oe,H,Q,"Z","");x(v,E,Oe,"h","");x(oe,E,Oe,"h","");var Fe="";for(var Xs=0;Xs<rp.length;Xs++){var Zt=rp.charAt(Xs);Fe=String.fromCharCode(55349,56320+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56372+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56424+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56580+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56684+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56736+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56788+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56840+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56944+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Xs<26&&(Fe=String.fromCharCode(55349,56632+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe),Fe=String.fromCharCode(55349,56476+Xs),x(v,E,Oe,Zt,Fe),x(oe,E,Q,Zt,Fe))}Fe="";x(v,E,Oe,"k",Fe);x(oe,E,Q,"k",Fe);for(var Ll=0;Ll<10;Ll++){var ka=Ll.toString();Fe=String.fromCharCode(55349,57294+Ll),x(v,E,Oe,ka,Fe),x(oe,E,Q,ka,Fe),Fe=String.fromCharCode(55349,57314+Ll),x(v,E,Oe,ka,Fe),x(oe,E,Q,ka,Fe),Fe=String.fromCharCode(55349,57324+Ll),x(v,E,Oe,ka,Fe),x(oe,E,Q,ka,Fe),Fe=String.fromCharCode(55349,57334+Ll),x(v,E,Oe,ka,Fe),x(oe,E,Q,ka,Fe)}var Xg="";for(var _x=0;_x<Xg.length;_x++){var pu=Xg.charAt(_x);x(v,E,Oe,pu,pu),x(oe,E,Q,pu,pu)}var fu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],c5=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],gF=function(e,i){var n=e.charCodeAt(0),r=e.charCodeAt(1),a=(n-55296)*1024+(r-56320)+65536,l=i==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[fu[c][2],fu[c][l]]}else if(120782<=a&&a<=120831){var d=Math.floor((a-120782)/10);return[c5[d][2],c5[d][l]]}else{if(a===120485||a===120486)return[fu[0][2],fu[0][l]];if(120486<a&&a<120782)return["",""];throw new fe("Unsupported character: "+e)}},sf=function(e,i,n){return Tt[n][e]&&Tt[n][e].replace&&(e=Tt[n][e].replace),{value:e,metrics:db(e,i,n)}},qn=function(e,i,n,r,a){var l=sf(e,i,n),c=l.metrics;e=l.value;var d;if(c){var h=c.italic;(n==="text"||r&&r.font==="mathit")&&(h=0),d=new mn(e,c.height,c.depth,h,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+n+"'")),d=new mn(e,0,0,0,0,0,a);if(r){d.maxFontSize=r.sizeMultiplier,r.style.isTight()&&d.classes.push("mtight");var m=r.getColor();m&&(d.style.color=m)}return d},bF=function(e,i,n,r){return r===void 0&&(r=[]),n.font==="boldsymbol"&&sf(e,"Main-Bold",i).metrics?qn(e,"Main-Bold",i,n,r.concat(["mathbf"])):e==="\\"||Tt[i][e].font==="main"?qn(e,"Main-Regular",i,n,r):qn(e,"AMS-Regular",i,n,r.concat(["amsrm"]))},yF=function(e,i,n,r,a){return a!=="textord"&&sf(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},vF=function(e,i,n){var r=e.mode,a=e.text,l=["mord"],c=r==="math"||r==="text"&&i.font,d=c?i.font:i.fontFamily,h="",m="";if(a.charCodeAt(0)===55349&&([h,m]=gF(a,r)),h.length>0)return qn(a,h,r,i,l.concat(m));if(d){var p,f;if(d==="boldsymbol"){var b=yF(a,r,i,l,n);p=b.fontName,f=[b.fontClass]}else c?(p=sT[d].fontName,f=[d]):(p=xu(d,i.fontWeight,i.fontShape),f=[d,i.fontWeight,i.fontShape]);if(sf(a,p,r).metrics)return qn(a,p,r,i,l.concat(f));if(Jk.hasOwnProperty(a)&&p.slice(0,10)==="Typewriter"){for(var N=[],I=0;I<a.length;I++)N.push(qn(a[I],p,r,i,l.concat(f)));return tT(N)}}if(n==="mathord")return qn(a,"Math-Italic",r,i,l.concat(["mathnormal"]));if(n==="textord"){var D=Tt[r][a]&&Tt[r][a].font;if(D==="ams"){var k=xu("amsrm",i.fontWeight,i.fontShape);return qn(a,k,r,i,l.concat("amsrm",i.fontWeight,i.fontShape))}else if(D==="main"||!D){var T=xu("textrm",i.fontWeight,i.fontShape);return qn(a,T,r,i,l.concat(i.fontWeight,i.fontShape))}else{var A=xu(D,i.fontWeight,i.fontShape);return qn(a,A,r,i,l.concat(A,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},jF=(t,e)=>{if(pl(t.classes)!==pl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},wF=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],n=t[e+1];i instanceof mn&&n instanceof mn&&jF(i,n)&&(i.text+=n.text,i.height=Math.max(i.height,n.height),i.depth=Math.max(i.depth,n.depth),i.italic=n.italic,t.splice(e+1,1),e--)}return t},ub=function(e){for(var i=0,n=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>i&&(i=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=i,e.depth=n,e.maxFontSize=r},gi=function(e,i,n,r){var a=new bh(e,i,n,r);return ub(a),a},eT=(t,e,i,n)=>new bh(t,e,i,n),NF=function(e,i,n){var r=gi([e],[],i);return r.height=Math.max(n||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),r.style.borderBottomWidth=ge(r.height),r.maxFontSize=1,r},kF=function(e,i,n,r){var a=new hb(e,i,n,r);return ub(a),a},tT=function(e){var i=new gh(e);return ub(i),i},TF=function(e,i){return e instanceof gh?gi([],[e],i):e},SF=function(e){if(e.positionType==="individualShift"){for(var i=e.children,n=[i[0]],r=-i[0].shift-i[0].elem.depth,a=r,l=1;l<i.length;l++){var c=-i[l].shift-a-i[l].elem.depth,d=c-(i[l-1].elem.height+i[l-1].elem.depth);a=a+c,n.push({type:"kern",size:d}),n.push(i[l])}return{children:n,depth:r}}var h;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var f=e.children[p];m-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}h=m}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},AF=function(e,i){for(var{children:n,depth:r}=SF(e),a=0,l=0;l<n.length;l++){var c=n[l];if(c.type==="elem"){var d=c.elem;a=Math.max(a,d.maxFontSize,d.height)}}a+=2;var h=gi(["pstrut"],[]);h.style.height=ge(a);for(var m=[],p=r,f=r,b=r,N=0;N<n.length;N++){var I=n[N];if(I.type==="kern")b+=I.size;else{var D=I.elem,k=I.wrapperClasses||[],T=I.wrapperStyle||{},A=gi(k,[h,D],void 0,T);A.style.top=ge(-a-b-D.depth),I.marginLeft&&(A.style.marginLeft=I.marginLeft),I.marginRight&&(A.style.marginRight=I.marginRight),m.push(A),b+=D.height+D.depth}p=Math.min(p,b),f=Math.max(f,b)}var P=gi(["vlist"],m);P.style.height=ge(f);var F;if(p<0){var ee=gi([],[]),C=gi(["vlist"],[ee]);C.style.height=ge(-p);var S=gi(["vlist-s"],[new mn("")]);F=[gi(["vlist-r"],[P,S]),gi(["vlist-r"],[C])]}else F=[gi(["vlist-r"],[P])];var _=gi(["vlist-t"],F);return F.length===2&&_.classes.push("vlist-t2"),_.height=f,_.depth=-p,_},EF=(t,e)=>{var i=gi(["mspace"],[],e),n=Ut(t,e);return i.style.marginRight=ge(n),i},xu=function(e,i,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return i==="textbf"&&n==="textit"?a="BoldItalic":i==="textbf"?a="Bold":i==="textit"?a="Italic":a="Regular",r+"-"+a},sT={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},iT={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},qF=function(e,i){var[n,r,a]=iT[e],l=new fl(n),c=new ta([l],{width:ge(r),height:ge(a),style:"width:"+ge(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),d=eT(["overlay"],[c],i);return d.height=a,d.style.height=ge(a),d.style.width=ge(r),d},se={fontMap:sT,makeSymbol:qn,mathsym:bF,makeSpan:gi,makeSvgSpan:eT,makeLineSpan:NF,makeAnchor:kF,makeFragment:tT,wrapFragment:TF,makeVList:AF,makeOrd:vF,makeGlue:EF,staticSvg:qF,svgData:iT,tryCombineChars:wF},Bt={number:3,unit:"mu"},Ul={number:4,unit:"mu"},Nr={number:5,unit:"mu"},IF={mord:{mop:Bt,mbin:Ul,mrel:Nr,minner:Bt},mop:{mord:Bt,mop:Bt,mrel:Nr,minner:Bt},mbin:{mord:Ul,mop:Ul,mopen:Ul,minner:Ul},mrel:{mord:Nr,mop:Nr,mopen:Nr,minner:Nr},mopen:{},mclose:{mop:Bt,mbin:Ul,mrel:Nr,minner:Bt},mpunct:{mord:Bt,mop:Bt,mrel:Nr,mopen:Bt,mclose:Bt,mpunct:Bt,minner:Bt},minner:{mord:Bt,mop:Bt,mbin:Ul,mrel:Nr,mopen:Bt,mpunct:Bt,minner:Bt}},_F={mord:{mop:Bt},mop:{mord:Bt,mop:Bt},mbin:{},mrel:{},mopen:{},mclose:{mop:Bt},mpunct:{},minner:{mop:Bt}},nT={},ap={},lp={};function Te(t){for(var{type:e,names:i,props:n,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:r},d=0;d<i.length;++d)nT[i[d]]=c;e&&(a&&(ap[e]=a),l&&(lp[e]=l))}function Ao(t){var{type:e,htmlBuilder:i,mathmlBuilder:n}=t;Te({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:n})}var op=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},ns=function(e){return e.type==="ordgroup"?e.body:[e]},sa=se.makeSpan,CF=["leftmost","mbin","mopen","mrel","mop","mpunct"],MF=["rightmost","mrel","mclose","mpunct"],zF={display:$e.DISPLAY,text:$e.TEXT,script:$e.SCRIPT,scriptscript:$e.SCRIPTSCRIPT},DF={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ns=function(e,i,n,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=nt(e[l],i);if(c instanceof gh){var d=c.children;a.push(...d)}else a.push(c)}if(se.tryCombineChars(a),!n)return a;var h=i;if(e.length===1){var m=e[0];m.type==="sizing"?h=i.havingSize(m.size):m.type==="styling"&&(h=i.havingStyle(zF[m.style]))}var p=sa([r[0]||"leftmost"],[],i),f=sa([r[1]||"rightmost"],[],i),b=n==="root";return d5(a,(N,I)=>{var D=I.classes[0],k=N.classes[0];D==="mbin"&&MF.includes(k)?I.classes[0]="mord":k==="mbin"&&CF.includes(D)&&(N.classes[0]="mord")},{node:p},f,b),d5(a,(N,I)=>{var D=Kg(I),k=Kg(N),T=D&&k?N.hasClass("mtight")?_F[D][k]:IF[D][k]:null;if(T)return se.makeGlue(T,h)},{node:p},f,b),a},d5=function t(e,i,n,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var c=e[l],d=rT(c);if(d){t(d.children,i,n,null,a);continue}var h=!c.hasClass("mspace");if(h){var m=i(c,n.node);m&&(n.insertAfter?n.insertAfter(m):(e.unshift(m),l++))}h?n.node=c:a&&c.hasClass("newline")&&(n.node=sa(["leftmost"])),n.insertAfter=(p=>f=>{e.splice(p+1,0,f),l++})(l)}r&&e.pop()},rT=function(e){return e instanceof gh||e instanceof hb||e instanceof bh&&e.hasClass("enclosing")?e:null},RF=function t(e,i){var n=rT(e);if(n){var r=n.children;if(r.length){if(i==="right")return t(r[r.length-1],"right");if(i==="left")return t(r[0],"left")}}return e},Kg=function(e,i){return e?(i&&(e=RF(e,i)),DF[e.classes[0]]||null):null},Fd=function(e,i){var n=["nulldelimiter"].concat(e.baseSizingClasses());return sa(i.concat(n))},nt=function(e,i,n){if(!e)return sa();if(ap[e.type]){var r=ap[e.type](e,i);if(n&&i.size!==n.size){r=sa(i.sizingClasses(n),[r],i);var a=i.sizeMultiplier/n.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new fe("Got group of unknown type: '"+e.type+"'")};function gu(t,e){var i=sa(["base"],t,e),n=sa(["strut"]);return n.style.height=ge(i.height+i.depth),i.depth&&(n.style.verticalAlign=ge(-i.depth)),i.children.unshift(n),i}function Qg(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var n=Ns(t,e,"root"),r;n.length===2&&n[1].hasClass("tag")&&(r=n.pop());for(var a=[],l=[],c=0;c<n.length;c++)if(l.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var d=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,l.push(n[c]),n[c].hasClass("nobreak")&&(d=!0);d||(a.push(gu(l,e)),l=[])}else n[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(gu(l,e)),l=[]),a.push(n[c]));l.length>0&&a.push(gu(l,e));var h;i?(h=gu(Ns(i,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var m=sa(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=ge(m.height+m.depth),m.depth&&(p.style.verticalAlign=ge(-m.depth))}return m}function aT(t){return new gh(t)}let zi=class{constructor(e,i,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=n||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=pl(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Zn&&this.children[n+1]instanceof Zn){for(var r=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Zn;)r+=this.children[++n].toText();e.appendChild(new Zn(r).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=lt.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+lt.escape(pl(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Zn=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return lt.escape(this.toText())}toText(){return this.text}},OF=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ge(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ge(this.width)+'"/>'}toText(){return this.character?this.character:" "}};var he={MathNode:zi,TextNode:Zn,SpaceNode:OF,newDocumentFragment:aT},pn=function(e,i,n){return Tt[i][e]&&Tt[i][e].replace&&e.charCodeAt(0)!==55349&&!(Jk.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Tt[i][e].replace),new he.TextNode(e)},mb=function(e){return e.length===1?e[0]:new he.MathNode("mrow",e)},pb=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var n=i.font;if(!n||n==="mathnormal")return null;var r=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Tt[r][a]&&Tt[r][a].replace&&(a=Tt[r][a].replace);var l=se.fontMap[n].fontName;return db(a,l,r)?se.fontMap[n].variant:null};function Cx(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Zn&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof Zn&&i.text===","}else return!1}var Si=function(e,i,n){if(e.length===1){var r=yt(e[0],i);return n&&r instanceof zi&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,c=0;c<e.length;c++){var d=yt(e[c],i);if(d instanceof zi&&l instanceof zi){if(d.type==="mtext"&&l.type==="mtext"&&d.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...d.children);continue}else if(d.type==="mn"&&l.type==="mn"){l.children.push(...d.children);continue}else if(Cx(d)&&l.type==="mn"){l.children.push(...d.children);continue}else if(d.type==="mn"&&Cx(l))d.children=[...l.children,...d.children],a.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(l.type==="mn"||Cx(l))){var h=d.children[0];h instanceof zi&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Zn&&m.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var p=d.children[0];p instanceof Zn&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),a.pop())}}}a.push(d),l=d}return a},xl=function(e,i,n){return mb(Si(e,i,n))},yt=function(e,i){if(!e)return new he.MathNode("mrow");if(lp[e.type]){var n=lp[e.type](e,i);return n}else throw new fe("Got group of unknown type: '"+e.type+"'")};function h5(t,e,i,n,r){var a=Si(t,i),l;a.length===1&&a[0]instanceof zi&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new he.MathNode("mrow",a);var c=new he.MathNode("annotation",[new he.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var d=new he.MathNode("semantics",[l,c]),h=new he.MathNode("math",[d]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var m=r?"katex":"katex-mathml";return se.makeSpan([m],[h])}var lT=function(e){return new Zk({style:e.displayMode?$e.DISPLAY:$e.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},oT=function(e,i){if(i.displayMode){var n=["katex-display"];i.leqno&&n.push("leqno"),i.fleqn&&n.push("fleqn"),e=se.makeSpan(n,[e])}return e},PF=function(e,i,n){var r=lT(n),a;if(n.output==="mathml")return h5(e,i,r,n.displayMode,!0);if(n.output==="html"){var l=Qg(e,r);a=se.makeSpan(["katex"],[l])}else{var c=h5(e,i,r,n.displayMode,!1),d=Qg(e,r);a=se.makeSpan(["katex"],[c,d])}return oT(a,n)},$F=function(e,i,n){var r=lT(n),a=Qg(e,r),l=se.makeSpan(["katex"],[a]);return oT(l,n)},BF={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},LF=function(e){var i=new he.MathNode("mo",[new he.TextNode(BF[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},UF={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},FF=function(e){return e.type==="ordgroup"?e.body.length:1},HF=function(e,i){function n(){var c=4e5,d=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var h=e,m=FF(h.base),p,f,b;if(m>5)d==="widehat"||d==="widecheck"?(p=420,c=2364,b=.42,f=d+"4"):(p=312,c=2340,b=.34,f="tilde4");else{var N=[1,1,2,2,3,3][m];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][N],p=[0,239,300,360,420][N],b=[0,.24,.3,.3,.36,.42][N],f=d+N):(c=[0,600,1033,2339,2340][N],p=[0,260,286,306,312][N],b=[0,.26,.286,.3,.306,.34][N],f="tilde"+N)}var I=new fl(f),D=new ta([I],{width:"100%",height:ge(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:se.makeSvgSpan([],[D],i),minWidth:0,height:b}}else{var k=[],T=UF[d],[A,P,F]=T,ee=F/1e3,C=A.length,S,_;if(C===1){var O=T[3];S=["hide-tail"],_=[O]}else if(C===2)S=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else if(C===3)S=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var B=0;B<C;B++){var U=new fl(A[B]),L=new ta([U],{width:"400em",height:ge(ee),viewBox:"0 0 "+c+" "+F,preserveAspectRatio:_[B]+" slice"}),Ae=se.makeSvgSpan([S[B]],[L],i);if(C===1)return{span:Ae,minWidth:P,height:ee};Ae.style.height=ge(ee),k.push(Ae)}return{span:se.makeSpan(["stretchy"],k,i),minWidth:P,height:ee}}}var{span:r,minWidth:a,height:l}=n();return r.height=l,r.style.height=ge(l),a>0&&(r.style.minWidth=ge(a)),r},GF=function(e,i,n,r,a){var l,c=e.height+e.depth+n+r;if(/fbox|color|angl/.test(i)){if(l=se.makeSpan(["stretchy",i],[],a),i==="fbox"){var d=a.color&&a.getColor();d&&(l.style.borderColor=d)}}else{var h=[];/^[bx]cancel$/.test(i)&&h.push(new Yg({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&h.push(new Yg({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ta(h,{width:"100%",height:ge(c)});l=se.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=ge(c),l},ia={encloseSpan:GF,mathMLnode:LF,svgSpan:HF};function Xe(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function fb(t){var e=nf(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function nf(t){return t&&(t.type==="atom"||xF.hasOwnProperty(t.type))?t:null}var xb=(t,e)=>{var i,n,r;t&&t.type==="supsub"?(n=Xe(t.base,"accent"),i=n.base,t.base=i,r=pF(nt(t,e)),t.base=n):(n=Xe(t,"accent"),i=n.base);var a=nt(i,e.havingCrampedStyle()),l=n.isShifty&&lt.isCharacterBox(i),c=0;if(l){var d=lt.getBaseElem(i),h=nt(d,e.havingCrampedStyle());c=n5(h).skew}var m=n.label==="\\c",p=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),f;if(n.isStretchy)f=ia.svgSpan(n,e),f=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ge(2*c)+")",marginLeft:ge(2*c)}:void 0}]},e);else{var b,N;n.label==="\\vec"?(b=se.staticSvg("vec",e),N=se.svgData.vec[1]):(b=se.makeOrd({mode:n.mode,text:n.label},e,"textord"),b=n5(b),b.italic=0,N=b.width,m&&(p+=b.depth)),f=se.makeSpan(["accent-body"],[b]);var I=n.label==="\\textcircled";I&&(f.classes.push("accent-full"),p=a.height);var D=c;I||(D-=N/2),f.style.left=ge(D),n.label==="\\textcircled"&&(f.style.top=".2em"),f=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:f}]},e)}var k=se.makeSpan(["mord","accent"],[f],e);return r?(r.children[0]=k,r.height=Math.max(k.height,r.height),r.classes[0]="mord",r):k},cT=(t,e)=>{var i=t.isStretchy?ia.mathMLnode(t.label):new he.MathNode("mo",[pn(t.label,t.mode)]),n=new he.MathNode("mover",[yt(t.base,e),i]);return n.setAttribute("accent","true"),n},VF=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Te({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=op(e[0]),n=!VF.test(t.funcName),r=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:r,base:i}},htmlBuilder:xb,mathmlBuilder:cT});Te({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:xb,mathmlBuilder:cT});Te({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"accentUnder",mode:i.mode,label:n,base:r}},htmlBuilder:(t,e)=>{var i=nt(t.base,e),n=ia.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=se.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:i}]},e);return se.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var i=ia.mathMLnode(t.label),n=new he.MathNode("munder",[yt(t.base,e),i]);return n.setAttribute("accentunder","true"),n}});var bu=t=>{var e=new he.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Te({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:n,funcName:r}=t;return{type:"xArrow",mode:n.mode,label:r,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,n=e.havingStyle(i.sup()),r=se.wrapFragment(nt(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(n=e.havingStyle(i.sub()),l=se.wrapFragment(nt(t.below,n,e),e),l.classes.push(a+"-arrow-pad"));var c=ia.svgSpan(t,e),d=-e.fontMetrics().axisHeight+.5*c.height,h=-e.fontMetrics().axisHeight-.5*c.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:c,shift:d},{type:"elem",elem:l,shift:p}]},e)}else m=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:c,shift:d}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),se.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var i=ia.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var r=bu(yt(t.body,e));if(t.below){var a=bu(yt(t.below,e));n=new he.MathNode("munderover",[i,a,r])}else n=new he.MathNode("mover",[i,r])}else if(t.below){var l=bu(yt(t.below,e));n=new he.MathNode("munder",[i,l])}else n=bu(),n=new he.MathNode("mover",[i,n]);return n}});var WF=se.makeSpan;function dT(t,e){var i=Ns(t.body,e,!0);return WF([t.mclass],i,e)}function hT(t,e){var i,n=Si(t.body,e);return t.mclass==="minner"?i=new he.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(i=n[0],i.type="mi"):i=new he.MathNode("mi",n):(t.isCharacterBox?(i=n[0],i.type="mo"):i=new he.MathNode("mo",n),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}Te({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+n.slice(5),body:ns(r),isCharacterBox:lt.isCharacterBox(r)}},htmlBuilder:dT,mathmlBuilder:hT});var rf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Te({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:rf(e[0]),body:ns(e[1]),isCharacterBox:lt.isCharacterBox(e[1])}}});Te({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:n}=t,r=e[1],a=e[0],l;n!=="\\stackrel"?l=rf(r):l="mrel";var c={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:ns(r)},d={type:"supsub",mode:a.mode,base:c,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:i.mode,mclass:l,body:[d],isCharacterBox:lt.isCharacterBox(d)}},htmlBuilder:dT,mathmlBuilder:hT});Te({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:rf(e[0]),body:ns(e[0])}},htmlBuilder(t,e){var i=Ns(t.body,e,!0),n=se.makeSpan([t.mclass],i,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var i=Si(t.body,e),n=new he.MathNode("mstyle",i);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var ZF={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},u5=()=>({type:"styling",body:[],mode:"math",style:"display"}),m5=t=>t.type==="textord"&&t.text==="@",YF=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function XF(t,e,i){var n=ZF[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=i.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},l=i.callFunction("\\Big",[a],[]),c=i.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[r,l,c]};return i.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function KF(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new fe("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],r=[n],a=0;a<e.length;a++){for(var l=e[a],c=u5(),d=0;d<l.length;d++)if(!m5(l[d]))c.body.push(l[d]);else{n.push(c),d+=1;var h=fb(l[d]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var f=!0,b=d+1;b<l.length;b++){if(YF(l[b],h)){f=!1,d=b;break}if(m5(l[b]))throw new fe("Missing a "+h+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(f)throw new fe("Missing a "+h+" character to complete a CD arrow.",l[d])}else throw new fe('Expected one of "<>AV=|." after @',l[d]);var N=XF(h,m,t),I={type:"styling",body:[N],mode:"math",style:"display"};n.push(I),c=u5()}a%2===0?n.push(c):n.shift(),n=[],r.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var D=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:D,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Te({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t;return{type:"cdlabel",mode:i.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),n=se.wrapFragment(nt(t.label,i,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=ge(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var i=new he.MathNode("mrow",[yt(t.label,e)]);return i=new he.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new he.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});Te({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=se.wrapFragment(nt(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new he.MathNode("mrow",[yt(t.fragment,e)])}});Te({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,n=Xe(e[0],"ordgroup"),r=n.body,a="",l=0;l<r.length;l++){var c=Xe(r[l],"textord");a+=c.text}var d=parseInt(a),h;if(isNaN(d))throw new fe("\\@char has non-numeric argument "+a);if(d<0||d>=1114111)throw new fe("\\@char with invalid code point "+a);return d<=65535?h=String.fromCharCode(d):(d-=65536,h=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:i.mode,text:h}}});var uT=(t,e)=>{var i=Ns(t.body,e.withColor(t.color),!1);return se.makeFragment(i)},mT=(t,e)=>{var i=Si(t.body,e.withColor(t.color)),n=new he.MathNode("mstyle",i);return n.setAttribute("mathcolor",t.color),n};Te({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,n=Xe(e[0],"color-token").color,r=e[1];return{type:"color",mode:i.mode,color:n,body:ns(r)}},htmlBuilder:uT,mathmlBuilder:mT});Te({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:n}=t,r=Xe(e[0],"color-token").color;i.gullet.macros.set("\\current@color",r);var a=i.parseExpression(!0,n);return{type:"color",mode:i.mode,color:r,body:a}},htmlBuilder:uT,mathmlBuilder:mT});Te({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:n}=t,r=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:r&&Xe(r,"size").value}},htmlBuilder(t,e){var i=se.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=ge(Ut(t.size,e)))),i},mathmlBuilder(t,e){var i=new he.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",ge(Ut(t.size,e)))),i}});var Jg={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},pT=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new fe("Expected a control sequence",t);return e},QF=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},fT=(t,e,i,n)=>{var r=t.gullet.macros.get(i.text);r==null&&(i.noexpand=!0,r={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,r,n)};Te({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var n=e.fetch();if(Jg[n.text])return(i==="\\global"||i==="\\\\globallong")&&(n.text=Jg[n.text]),Xe(e.parseFunction(),"internal");throw new fe("Invalid token after macro prefix",n)}});Te({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=e.gullet.popToken(),r=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new fe("Expected a control sequence",n);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new fe('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new fe('Argument number "'+n.text+'" out of order');a++,c.push([])}else{if(n.text==="EOF")throw new fe("Expected a macro definition");c[a].push(n.text)}var{tokens:d}=e.gullet.consumeArg();return l&&d.unshift(l),(i==="\\edef"||i==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(r,{tokens:d,numArgs:a,delimiters:c},i===Jg[i]),{type:"internal",mode:e.mode}}});Te({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=pT(e.gullet.popToken());e.gullet.consumeSpaces();var r=QF(e);return fT(e,n,r,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});Te({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=pT(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return fT(e,n,a,i==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var Z0=function(e,i,n){var r=Tt.math[e]&&Tt.math[e].replace,a=db(r||e,i,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return a},gb=function(e,i,n,r){var a=n.havingBaseStyle(i),l=se.makeSpan(r.concat(a.sizingClasses(n)),[e],n),c=a.sizeMultiplier/n.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},xT=function(e,i,n){var r=i.havingBaseStyle(n),a=(1-i.sizeMultiplier/r.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ge(a),e.height-=a,e.depth+=a},JF=function(e,i,n,r,a,l){var c=se.makeSymbol(e,"Main-Regular",a,r),d=gb(c,i,r,l);return n&&xT(d,r,i),d},eH=function(e,i,n,r){return se.makeSymbol(e,"Size"+i+"-Regular",n,r)},gT=function(e,i,n,r,a,l){var c=eH(e,i,a,r),d=gb(se.makeSpan(["delimsizing","size"+i],[c],r),$e.TEXT,r,l);return n&&xT(d,r,$e.TEXT),d},Mx=function(e,i,n){var r;i==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=se.makeSpan(["delimsizinginner",r],[se.makeSpan([],[se.makeSymbol(e,i,n)])]);return{type:"elem",elem:a}},zx=function(e,i,n){var r=Wn["Size4-Regular"][e.charCodeAt(0)]?Wn["Size4-Regular"][e.charCodeAt(0)][4]:Wn["Size1-Regular"][e.charCodeAt(0)][4],a=new fl("inner",rF(e,Math.round(1e3*i))),l=new ta([a],{width:ge(r),height:ge(i),style:"width:"+ge(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),c=se.makeSvgSpan([],[l],n);return c.height=i,c.style.height=ge(i),c.style.width=ge(r),{type:"elem",elem:c}},e2=.008,yu={type:"kern",size:-1*e2},tH=["|","\\lvert","\\rvert","\\vert"],sH=["\\|","\\lVert","\\rVert","\\Vert"],bT=function(e,i,n,r,a,l){var c,d,h,m,p="",f=0;c=h=m=e,d=null;var b="Size1-Regular";e==="\\uparrow"?h=m="":e==="\\Uparrow"?h=m="":e==="\\downarrow"?c=h="":e==="\\Downarrow"?c=h="":e==="\\updownarrow"?(c="\\uparrow",h="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",h="",m="\\Downarrow"):tH.includes(e)?(h="",p="vert",f=333):sH.includes(e)?(h="",p="doublevert",f=556):e==="["||e==="\\lbrack"?(c="",h="",m="",b="Size4-Regular",p="lbrack",f=667):e==="]"||e==="\\rbrack"?(c="",h="",m="",b="Size4-Regular",p="rbrack",f=667):e==="\\lfloor"||e===""?(h=c="",m="",b="Size4-Regular",p="lfloor",f=667):e==="\\lceil"||e===""?(c="",h=m="",b="Size4-Regular",p="lceil",f=667):e==="\\rfloor"||e===""?(h=c="",m="",b="Size4-Regular",p="rfloor",f=667):e==="\\rceil"||e===""?(c="",h=m="",b="Size4-Regular",p="rceil",f=667):e==="("||e==="\\lparen"?(c="",h="",m="",b="Size4-Regular",p="lparen",f=875):e===")"||e==="\\rparen"?(c="",h="",m="",b="Size4-Regular",p="rparen",f=875):e==="\\{"||e==="\\lbrace"?(c="",d="",m="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",d="",m="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",h="",b="Size4-Regular");var N=Z0(c,b,a),I=N.height+N.depth,D=Z0(h,b,a),k=D.height+D.depth,T=Z0(m,b,a),A=T.height+T.depth,P=0,F=1;if(d!==null){var ee=Z0(d,b,a);P=ee.height+ee.depth,F=2}var C=I+A+P,S=Math.max(0,Math.ceil((i-C)/(F*k))),_=C+S*F*k,O=r.fontMetrics().axisHeight;n&&(O*=r.sizeMultiplier);var B=_/2-O,U=[];if(p.length>0){var L=_-I-A,Ae=Math.round(_*1e3),Me=aF(p,Math.round(L*1e3)),de=new fl(p,Me),xe=(f/1e3).toFixed(3)+"em",we=(Ae/1e3).toFixed(3)+"em",Le=new ta([de],{width:xe,height:we,viewBox:"0 0 "+f+" "+Ae}),Re=se.makeSvgSpan([],[Le],r);Re.height=Ae/1e3,Re.style.width=xe,Re.style.height=we,U.push({type:"elem",elem:Re})}else{if(U.push(Mx(m,b,a)),U.push(yu),d===null){var Ee=_-I-A+2*e2;U.push(zx(h,Ee,r))}else{var Ne=(_-I-A-P)/2+2*e2;U.push(zx(h,Ne,r)),U.push(yu),U.push(Mx(d,b,a)),U.push(yu),U.push(zx(h,Ne,r))}U.push(yu),U.push(Mx(c,b,a))}var qe=r.havingBaseStyle($e.TEXT),ht=se.makeVList({positionType:"bottom",positionData:B,children:U},qe);return gb(se.makeSpan(["delimsizing","mult"],[ht],qe),$e.TEXT,r,l)},Dx=80,Rx=.08,Ox=function(e,i,n,r,a){var l=nF(e,r,n),c=new fl(e,l),d=new ta([c],{width:"400em",height:ge(i),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return se.makeSvgSpan(["hide-tail"],[d],a)},iH=function(e,i){var n=i.havingBaseSizing(),r=wT("\\surd",e*n.sizeMultiplier,jT,n),a=n.sizeMultiplier,l=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),c,d=0,h=0,m=0,p;return r.type==="small"?(m=1e3+1e3*l+Dx,e<1?a=1:e<1.4&&(a=.7),d=(1+l+Rx)/a,h=(1+l)/a,c=Ox("sqrtMain",d,m,l,i),c.style.minWidth="0.853em",p=.833/a):r.type==="large"?(m=(1e3+Dx)*fd[r.size],h=(fd[r.size]+l)/a,d=(fd[r.size]+l+Rx)/a,c=Ox("sqrtSize"+r.size,d,m,l,i),c.style.minWidth="1.02em",p=1/a):(d=e+l+Rx,h=e+l,m=Math.floor(1e3*e+l)+Dx,c=Ox("sqrtTall",d,m,l,i),c.style.minWidth="0.742em",p=1.056),c.height=h,c.style.height=ge(d),{span:c,advanceWidth:p,ruleWidth:(i.fontMetrics().sqrtRuleThickness+l)*a}},yT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],nH=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],vT=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],fd=[0,1.2,1.8,2.4,3],rH=function(e,i,n,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),yT.includes(e)||vT.includes(e))return gT(e,i,!1,n,r,a);if(nH.includes(e))return bT(e,fd[i],!1,n,r,a);throw new fe("Illegal delimiter: '"+e+"'")},aH=[{type:"small",style:$e.SCRIPTSCRIPT},{type:"small",style:$e.SCRIPT},{type:"small",style:$e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],lH=[{type:"small",style:$e.SCRIPTSCRIPT},{type:"small",style:$e.SCRIPT},{type:"small",style:$e.TEXT},{type:"stack"}],jT=[{type:"small",style:$e.SCRIPTSCRIPT},{type:"small",style:$e.SCRIPT},{type:"small",style:$e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],oH=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},wT=function(e,i,n,r){for(var a=Math.min(2,3-r.style.size),l=a;l<n.length&&n[l].type!=="stack";l++){var c=Z0(e,oH(n[l]),"math"),d=c.height+c.depth;if(n[l].type==="small"){var h=r.havingBaseStyle(n[l].style);d*=h.sizeMultiplier}if(d>i)return n[l]}return n[n.length-1]},NT=function(e,i,n,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;vT.includes(e)?c=aH:yT.includes(e)?c=jT:c=lH;var d=wT(e,i,c,r);return d.type==="small"?JF(e,d.style,n,r,a,l):d.type==="large"?gT(e,d.size,n,r,a,l):bT(e,i,n,r,a,l)},cH=function(e,i,n,r,a,l){var c=r.fontMetrics().axisHeight*r.sizeMultiplier,d=901,h=5/r.fontMetrics().ptPerEm,m=Math.max(i-c,n+c),p=Math.max(m/500*d,2*m-h);return NT(e,p,!0,r,a,l)},Hr={sqrtImage:iH,sizedDelim:rH,sizeToMaxHeight:fd,customSizedDelim:NT,leftRightDelim:cH},p5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dH=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function af(t,e){var i=nf(t);if(i&&dH.includes(i.text))return i;throw i?new fe("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new fe("Invalid delimiter type '"+t.type+"'",t)}Te({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=af(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:p5[t.funcName].size,mclass:p5[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?se.makeSpan([t.mclass]):Hr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(pn(t.delim,t.mode));var i=new he.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var n=ge(Hr.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",n),i.setAttribute("maxsize",n),i}});function f5(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Te({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new fe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:af(e[0],t).text,color:i}}});Te({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=af(e[0],t),n=t.parser;++n.leftrightDepth;var r=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Xe(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:r,left:i.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{f5(t);for(var i=Ns(t.body,e,!0,["mopen","mclose"]),n=0,r=0,a=!1,l=0;l<i.length;l++)i[l].isMiddle?a=!0:(n=Math.max(i[l].height,n),r=Math.max(i[l].depth,r));n*=e.sizeMultiplier,r*=e.sizeMultiplier;var c;if(t.left==="."?c=Fd(e,["mopen"]):c=Hr.leftRightDelim(t.left,n,r,e,t.mode,["mopen"]),i.unshift(c),a)for(var d=1;d<i.length;d++){var h=i[d],m=h.isMiddle;m&&(i[d]=Hr.leftRightDelim(m.delim,n,r,m.options,t.mode,[]))}var p;if(t.right===".")p=Fd(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;p=Hr.leftRightDelim(t.right,n,r,f,t.mode,["mclose"])}return i.push(p),se.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{f5(t);var i=Si(t.body,e);if(t.left!=="."){var n=new he.MathNode("mo",[pn(t.left,t.mode)]);n.setAttribute("fence","true"),i.unshift(n)}if(t.right!=="."){var r=new he.MathNode("mo",[pn(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),i.push(r)}return mb(i)}});Te({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=af(e[0],t);if(!t.parser.leftrightDepth)throw new fe("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=Fd(e,[]);else{i=Hr.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};i.isMiddle=n}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?pn("|","text"):pn(t.delim,t.mode),n=new he.MathNode("mo",[i]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var bb=(t,e)=>{var i=se.wrapFragment(nt(t.body,e),e),n=t.label.slice(1),r=e.sizeMultiplier,a,l=0,c=lt.isCharacterBox(t.body);if(n==="sout")a=se.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var d=Ut({number:.6,unit:"pt"},e),h=Ut({number:.35,unit:"ex"},e),m=e.havingBaseSizing();r=r/m.sizeMultiplier;var p=i.height+i.depth+d+h;i.style.paddingLeft=ge(p/2+d);var f=Math.floor(1e3*p*r),b=sF(f),N=new ta([new fl("phase",b)],{width:"400em",height:ge(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=se.makeSvgSpan(["hide-tail"],[N],e),a.style.height=ge(p),l=i.depth+d+h}else{/cancel/.test(n)?c||i.classes.push("cancel-pad"):n==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var I=0,D=0,k=0;/box/.test(n)?(k=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),I=e.fontMetrics().fboxsep+(n==="colorbox"?0:k),D=I):n==="angl"?(k=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),I=4*k,D=Math.max(0,.25-i.depth)):(I=c?.2:0,D=I),a=ia.encloseSpan(i,n,I,D,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=ge(k)):n==="angl"&&k!==.049&&(a.style.borderTopWidth=ge(k),a.style.borderRightWidth=ge(k)),l=i.depth+D,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var T;if(t.backgroundColor)T=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:i,shift:0}]},e);else{var A=/cancel|phase/.test(n)?["svg-align"]:[];T=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(n)&&(T.height=i.height,T.depth=i.depth),/cancel/.test(n)&&!c?se.makeSpan(["mord","cancel-lap"],[T],e):se.makeSpan(["mord"],[T],e)},yb=(t,e)=>{var i=0,n=new he.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[yt(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*i+"pt"),n.setAttribute("height","+"+2*i+"pt"),n.setAttribute("lspace",i+"pt"),n.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Te({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:n,funcName:r}=t,a=Xe(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:n.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:bb,mathmlBuilder:yb});Te({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:n,funcName:r}=t,a=Xe(e[0],"color-token").color,l=Xe(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:n.mode,label:r,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:bb,mathmlBuilder:yb});Te({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});Te({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"enclose",mode:i.mode,label:n,body:r}},htmlBuilder:bb,mathmlBuilder:yb});Te({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var kT={};function ar(t){for(var{type:e,names:i,props:n,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},d=0;d<i.length;++d)kT[i[d]]=c;a&&(ap[e]=a),l&&(lp[e]=l)}var TT={};function M(t,e){TT[t]=e}function x5(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var lf=t=>{var e=t.parser.settings;if(!e.displayMode)throw new fe("{"+t.envName+"} can be used only in display mode.")};function vb(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Al(t,e,i){var{hskipBeforeAndAfter:n,addJot:r,cols:a,arraystretch:l,colSeparationType:c,autoTag:d,singleRow:h,emptySingleRow:m,maxNumCols:p,leqno:f}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new fe("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var N=[],I=[N],D=[],k=[],T=d!=null?[]:void 0;function A(){d&&t.gullet.macros.set("\\@eqnsw","1",!0)}function P(){T&&(t.gullet.macros.get("\\df@tag")?(T.push(t.subparse([new Dn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!d&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),k.push(x5(t));;){var F=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),F={type:"ordgroup",mode:t.mode,body:F},i&&(F={type:"styling",mode:t.mode,style:i,body:[F]}),N.push(F);var ee=t.fetch().text;if(ee==="&"){if(p&&N.length===p){if(h||c)throw new fe("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(ee==="\\end"){P(),N.length===1&&F.type==="styling"&&F.body[0].body.length===0&&(I.length>1||!m)&&I.pop(),k.length<I.length+1&&k.push([]);break}else if(ee==="\\\\"){t.consume();var C=void 0;t.gullet.future().text!==" "&&(C=t.parseSizeGroup(!0)),D.push(C?C.value:null),P(),k.push(x5(t)),N=[],I.push(N),A()}else throw new fe("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:I,cols:a,rowGaps:D,hskipBeforeAndAfter:n,hLinesBeforeRow:k,colSeparationType:c,tags:T,leqno:f}}function jb(t){return t.slice(0,1)==="d"?"display":"text"}var lr=function(e,i){var n,r,a=e.body.length,l=e.hLinesBeforeRow,c=0,d=new Array(a),h=[],m=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),p=1/i.fontMetrics().ptPerEm,f=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=i.havingStyle($e.SCRIPT).sizeMultiplier;f=.2778*(b/i.sizeMultiplier)}var N=e.colSeparationType==="CD"?Ut({number:3,unit:"ex"},i):12*p,I=3*p,D=e.arraystretch*N,k=.7*D,T=.3*D,A=0;function P(Ss){for(var zs=0;zs<Ss.length;++zs)zs>0&&(A+=.25),h.push({pos:A,isDashed:Ss[zs]})}for(P(l[0]),n=0;n<e.body.length;++n){var F=e.body[n],ee=k,C=T;c<F.length&&(c=F.length);var S=new Array(F.length);for(r=0;r<F.length;++r){var _=nt(F[r],i);C<_.depth&&(C=_.depth),ee<_.height&&(ee=_.height),S[r]=_}var O=e.rowGaps[n],B=0;O&&(B=Ut(O,i),B>0&&(B+=T,C<B&&(C=B),B=0)),e.addJot&&(C+=I),S.height=ee,S.depth=C,A+=ee,S.pos=A,A+=C+B,d[n]=S,P(l[n+1])}var U=A/2+i.fontMetrics().axisHeight,L=e.cols||[],Ae=[],Me,de,xe=[];if(e.tags&&e.tags.some(Ss=>Ss))for(n=0;n<a;++n){var we=d[n],Le=we.pos-U,Re=e.tags[n],Ee=void 0;Re===!0?Ee=se.makeSpan(["eqn-num"],[],i):Re===!1?Ee=se.makeSpan([],[],i):Ee=se.makeSpan([],Ns(Re,i,!0),i),Ee.depth=we.depth,Ee.height=we.height,xe.push({type:"elem",elem:Ee,shift:Le})}for(r=0,de=0;r<c||de<L.length;++r,++de){for(var Ne=L[de]||{},qe=!0;Ne.type==="separator";){if(qe||(Me=se.makeSpan(["arraycolsep"],[]),Me.style.width=ge(i.fontMetrics().doubleRuleSep),Ae.push(Me)),Ne.separator==="|"||Ne.separator===":"){var ht=Ne.separator==="|"?"solid":"dashed",Ue=se.makeSpan(["vertical-separator"],[],i);Ue.style.height=ge(A),Ue.style.borderRightWidth=ge(m),Ue.style.borderRightStyle=ht,Ue.style.margin="0 "+ge(-m/2);var Zs=A-U;Zs&&(Ue.style.verticalAlign=ge(-Zs)),Ae.push(Ue)}else throw new fe("Invalid separator type: "+Ne.separator);de++,Ne=L[de]||{},qe=!1}if(!(r>=c)){var Vt=void 0;(r>0||e.hskipBeforeAndAfter)&&(Vt=lt.deflt(Ne.pregap,f),Vt!==0&&(Me=se.makeSpan(["arraycolsep"],[]),Me.style.width=ge(Vt),Ae.push(Me)));var Wt=[];for(n=0;n<a;++n){var hi=d[n],Ts=hi[r];if(Ts){var vn=hi.pos-U;Ts.depth=hi.depth,Ts.height=hi.height,Wt.push({type:"elem",elem:Ts,shift:vn})}}Wt=se.makeVList({positionType:"individualShift",children:Wt},i),Wt=se.makeSpan(["col-align-"+(Ne.align||"c")],[Wt]),Ae.push(Wt),(r<c-1||e.hskipBeforeAndAfter)&&(Vt=lt.deflt(Ne.postgap,f),Vt!==0&&(Me=se.makeSpan(["arraycolsep"],[]),Me.style.width=ge(Vt),Ae.push(Me)))}}if(d=se.makeSpan(["mtable"],Ae),h.length>0){for(var Pn=se.makeLineSpan("hline",i,m),ui=se.makeLineSpan("hdashline",i,m),Fs=[{type:"elem",elem:d,shift:0}];h.length>0;){var Ms=h.pop(),Vi=Ms.pos-U;Ms.isDashed?Fs.push({type:"elem",elem:ui,shift:Vi}):Fs.push({type:"elem",elem:Pn,shift:Vi})}d=se.makeVList({positionType:"individualShift",children:Fs},i)}if(xe.length===0)return se.makeSpan(["mord"],[d],i);var Ei=se.makeVList({positionType:"individualShift",children:xe},i);return Ei=se.makeSpan(["tag"],[Ei],i),se.makeFragment([d,Ei])},hH={c:"center ",l:"left ",r:"right "},or=function(e,i){for(var n=[],r=new he.MathNode("mtd",[],["mtr-glue"]),a=new he.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],d=[],h=0;h<c.length;h++)d.push(new he.MathNode("mtd",[yt(c[h],i)]));e.tags&&e.tags[l]&&(d.unshift(r),d.push(r),e.leqno?d.unshift(a):d.push(a)),n.push(new he.MathNode("mtr",d))}var m=new he.MathNode("mtable",n),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",ge(p));var f="",b="";if(e.cols&&e.cols.length>0){var N=e.cols,I="",D=!1,k=0,T=N.length;N[0].type==="separator"&&(f+="top ",k=1),N[N.length-1].type==="separator"&&(f+="bottom ",T-=1);for(var A=k;A<T;A++)N[A].type==="align"?(b+=hH[N[A].align],D&&(I+="none "),D=!0):N[A].type==="separator"&&D&&(I+=N[A].separator==="|"?"solid ":"dashed ",D=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(I)&&m.setAttribute("columnlines",I.trim())}if(e.colSeparationType==="align"){for(var P=e.cols||[],F="",ee=1;ee<P.length;ee++)F+=ee%2?"0em ":"1em ";m.setAttribute("columnspacing",F.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var C="",S=e.hLinesBeforeRow;f+=S[0].length>0?"left ":"",f+=S[S.length-1].length>0?"right ":"";for(var _=1;_<S.length-1;_++)C+=S[_].length===0?"none ":S[_][0]?"dashed ":"solid ";return/[sd]/.test(C)&&m.setAttribute("rowlines",C.trim()),f!==""&&(m=new he.MathNode("menclose",[m]),m.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(m=new he.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},ST=function(e,i){e.envName.indexOf("ed")===-1&&lf(e);var n=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=Al(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:vb(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,d=0,h={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var m="",p=0;p<i[0].body.length;p++){var f=Xe(i[0].body[p],"textord");m+=f.text}c=Number(m),d=c*2}var b=!d;l.body.forEach(function(k){for(var T=1;T<k.length;T+=2){var A=Xe(k[T],"styling"),P=Xe(A.body[0],"ordgroup");P.body.unshift(h)}if(b)d<k.length&&(d=k.length);else{var F=k.length/2;if(c<F)throw new fe("Too many math in a row: "+("expected "+c+", but got "+F),k[0])}});for(var N=0;N<d;++N){var I="r",D=0;N%2===1?I="l":N>0&&b&&(D=1),n[N]={type:"align",align:I,pregap:D,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};ar({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=nf(e[0]),n=i?[e[0]]:Xe(e[0],"ordgroup").body,r=n.map(function(l){var c=fb(l),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new fe("Unknown column alignment: "+d,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Al(t.parser,a,jb(t.envName))},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),i=r.fetch().text,"lcr".indexOf(i)===-1)throw new fe("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),n.cols=[{type:"align",align:i}]}}var a=Al(t.parser,n,jb(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=Al(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=nf(e[0]),n=i?[e[0]]:Xe(e[0],"ordgroup").body,r=n.map(function(l){var c=fb(l),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new fe("Unknown column alignment: "+d,l)});if(r.length>1)throw new fe("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Al(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new fe("{subarray} can contain only one column");return a},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=Al(t.parser,e,jb(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ST,htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&lf(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:vb(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Al(t.parser,e,"display")},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ST,htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){lf(t);var e={autoTag:vb(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Al(t.parser,e,"display")},htmlBuilder:lr,mathmlBuilder:or});ar({type:"array",names:["CD"],props:{numArgs:0},handler(t){return lf(t),KF(t.parser)},htmlBuilder:lr,mathmlBuilder:or});M("\\nonumber","\\gdef\\@eqnsw{0}");M("\\notag","\\nonumber");Te({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new fe(t.funcName+" valid only within array environment")}});var g5=kT;Te({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];if(r.type!=="ordgroup")throw new fe("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=Xe(r.body[l],"textord").text;if(n==="\\begin"){if(!g5.hasOwnProperty(a))throw new fe("No such environment: "+a,r);var c=g5[a],{args:d,optArgs:h}=i.parseArguments("\\begin{"+a+"}",c),m={mode:i.mode,envName:a,parser:i},p=c.handler(m,d,h);i.expect("\\end",!1);var f=i.nextToken,b=Xe(i.parseFunction(),"environment");if(b.name!==a)throw new fe("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",f);return p}return{type:"environment",mode:i.mode,name:a,nameGroup:r}}});var AT=(t,e)=>{var i=t.font,n=e.withFont(i);return nt(t.body,n)},ET=(t,e)=>{var i=t.font,n=e.withFont(i);return yt(t.body,n)},b5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Te({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=op(e[0]),a=n;return a in b5&&(a=b5[a]),{type:"font",mode:i.mode,font:a.slice(1),body:r}},htmlBuilder:AT,mathmlBuilder:ET});Te({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,n=e[0],r=lt.isCharacterBox(n);return{type:"mclass",mode:i.mode,mclass:rf(n),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:n}],isCharacterBox:r}}});Te({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n,breakOnTokenText:r}=t,{mode:a}=i,l=i.parseExpression(!0,r),c="math"+n.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:i.mode,body:l}}},htmlBuilder:AT,mathmlBuilder:ET});var qT=(t,e)=>{var i=e;return t==="display"?i=i.id>=$e.SCRIPT.id?i.text():$e.DISPLAY:t==="text"&&i.size===$e.DISPLAY.size?i=$e.TEXT:t==="script"?i=$e.SCRIPT:t==="scriptscript"&&(i=$e.SCRIPTSCRIPT),i},wb=(t,e)=>{var i=qT(t.size,e.style),n=i.fracNum(),r=i.fracDen(),a;a=e.havingStyle(n);var l=nt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<d?d:l.depth}a=e.havingStyle(r);var h=nt(t.denom,a,e),m,p,f;t.hasBarLine?(t.barSize?(p=Ut(t.barSize,e),m=se.makeLineSpan("frac-line",e,p)):m=se.makeLineSpan("frac-line",e),p=m.height,f=m.height):(m=null,p=0,f=e.fontMetrics().defaultRuleThickness);var b,N,I;i.size===$e.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?N=3*f:N=7*f,I=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,N=f):(b=e.fontMetrics().num3,N=3*f),I=e.fontMetrics().denom2);var D;if(m){var T=e.fontMetrics().axisHeight;b-l.depth-(T+.5*p)<N&&(b+=N-(b-l.depth-(T+.5*p))),T-.5*p-(h.height-I)<N&&(I+=N-(T-.5*p-(h.height-I)));var A=-(T-.5*p);D=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:I},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var k=b-l.depth-(h.height-I);k<N&&(b+=.5*(N-k),I+=.5*(N-k)),D=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:I},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(i),D.height*=a.sizeMultiplier/e.sizeMultiplier,D.depth*=a.sizeMultiplier/e.sizeMultiplier;var P;i.size===$e.DISPLAY.size?P=e.fontMetrics().delim1:i.size===$e.SCRIPTSCRIPT.size?P=e.havingStyle($e.SCRIPT).fontMetrics().delim2:P=e.fontMetrics().delim2;var F,ee;return t.leftDelim==null?F=Fd(e,["mopen"]):F=Hr.customSizedDelim(t.leftDelim,P,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?ee=se.makeSpan([]):t.rightDelim==null?ee=Fd(e,["mclose"]):ee=Hr.customSizedDelim(t.rightDelim,P,!0,e.havingStyle(i),t.mode,["mclose"]),se.makeSpan(["mord"].concat(a.sizingClasses(e)),[F,se.makeSpan(["mfrac"],[D]),ee],e)},Nb=(t,e)=>{var i=new he.MathNode("mfrac",[yt(t.numer,e),yt(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var n=Ut(t.barSize,e);i.setAttribute("linethickness",ge(n))}var r=qT(t.size,e.style);if(r.size!==e.style.size){i=new he.MathNode("mstyle",[i]);var a=r.size===$e.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",a),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new he.MathNode("mo",[new he.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(i),t.rightDelim!=null){var d=new he.MathNode("mo",[new he.TextNode(t.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),l.push(d)}return mb(l)}return i};Te({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=e[1],l,c=null,d=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",d=")";break;case"\\\\bracefrac":l=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":l=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:c,rightDelim:d,size:h,barSize:null}},htmlBuilder:wb,mathmlBuilder:Nb});Te({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Te({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:n}=t,r;switch(i){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:n}}});var y5=["display","text","script","scriptscript"],v5=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};Te({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,n=e[4],r=e[5],a=op(e[0]),l=a.type==="atom"&&a.family==="open"?v5(a.text):null,c=op(e[1]),d=c.type==="atom"&&c.family==="close"?v5(c.text):null,h=Xe(e[2],"size"),m,p=null;h.isBlank?m=!0:(p=h.value,m=p.number>0);var f="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var N=Xe(b.body[0],"textord");f=y5[Number(N.text)]}}else b=Xe(b,"textord"),f=y5[Number(b.text)];return{type:"genfrac",mode:i.mode,numer:n,denom:r,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:d,size:f}},htmlBuilder:wb,mathmlBuilder:Nb});Te({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:n,token:r}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Xe(e[0],"size").value,token:r}}});Te({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=LU(Xe(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:i.mode,numer:r,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:wb,mathmlBuilder:Nb});var IT=(t,e)=>{var i=e.style,n,r;t.type==="supsub"?(n=t.sup?nt(t.sup,e.havingStyle(i.sup()),e):nt(t.sub,e.havingStyle(i.sub()),e),r=Xe(t.base,"horizBrace")):r=Xe(t,"horizBrace");var a=nt(r.base,e.havingBaseStyle($e.DISPLAY)),l=ia.svgSpan(r,e),c;if(r.isOver?(c=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=se.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),n){var d=se.makeSpan(["mord",r.isOver?"mover":"munder"],[c],e);r.isOver?c=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},e):c=se.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return se.makeSpan(["mord",r.isOver?"mover":"munder"],[c],e)},uH=(t,e)=>{var i=ia.mathMLnode(t.label);return new he.MathNode(t.isOver?"mover":"munder",[yt(t.base,e),i])};Te({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t;return{type:"horizBrace",mode:i.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:IT,mathmlBuilder:uH});Te({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[1],r=Xe(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:i.mode,href:r,body:ns(n)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=Ns(t.body,e,!1);return se.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=xl(t.body,e);return i instanceof zi||(i=new zi("mrow",[i])),i.setAttribute("href",t.href),i}});Te({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=Xe(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:n}))return i.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:i.mode,font:"\\texttt",body:r};return{type:"href",mode:i.mode,href:n,body:ns(c)}}});Te({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:ns(e[0])}},htmlBuilder(t,e){var i=Ns(t.body,e,!1);return se.makeFragment(i)},mathmlBuilder(t,e){return new he.MathNode("mrow",Si(t.body,e))}});Te({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n,token:r}=t,a=Xe(e[0],"raw").string,l=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(n){case"\\htmlClass":d.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":d.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":d.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),m=0;m<h.length;m++){var p=h[m],f=p.indexOf("=");if(f<0)throw new fe("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,f),N=p.slice(f+1);d["data-"+b.trim()]=N}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(c)?{type:"html",mode:i.mode,attributes:d,body:ns(l)}:i.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var i=Ns(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var r=se.makeSpan(n,i,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>xl(t.body,e)});Te({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:ns(e[0]),mathml:ns(e[1])}},htmlBuilder:(t,e)=>{var i=Ns(t.html,e,!1);return se.makeFragment(i)},mathmlBuilder:(t,e)=>xl(t.mathml,e)});var Px=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new fe("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(i[1]+i[2]),unit:i[3]};if(!Yk(n))throw new fe("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Te({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:n}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(i[0])for(var d=Xe(i[0],"raw").string,h=d.split(","),m=0;m<h.length;m++){var p=h[m].split("=");if(p.length===2){var f=p[1].trim();switch(p[0].trim()){case"alt":c=f;break;case"width":r=Px(f);break;case"height":a=Px(f);break;case"totalheight":l=Px(f);break;default:throw new fe("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=Xe(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:n.mode,alt:c,width:r,height:a,totalheight:l,src:b}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=Ut(t.height,e),n=0;t.totalheight.number>0&&(n=Ut(t.totalheight,e)-i);var r=0;t.width.number>0&&(r=Ut(t.width,e));var a={height:ge(i+n)};r>0&&(a.width=ge(r)),n>0&&(a.verticalAlign=ge(-n));var l=new uF(t.src,t.alt,a);return l.height=i,l.depth=n,l},mathmlBuilder:(t,e)=>{var i=new he.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var n=Ut(t.height,e),r=0;if(t.totalheight.number>0&&(r=Ut(t.totalheight,e)-n,i.setAttribute("valign",ge(-r))),i.setAttribute("height",ge(n+r)),t.width.number>0){var a=Ut(t.width,e);i.setAttribute("width",ge(a))}return i.setAttribute("src",t.src),i}});Te({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:n}=t,r=Xe(e[0],"size");if(i.settings.strict){var a=n[1]==="m",l=r.value.unit==="mu";a?(l||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+r.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:r.value}},htmlBuilder(t,e){return se.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=Ut(t.dimension,e);return new he.SpaceNode(i)}});Te({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"lap",mode:i.mode,alignment:n.slice(5),body:r}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=se.makeSpan([],[nt(t.body,e)]),i=se.makeSpan(["inner"],[i],e)):i=se.makeSpan(["inner"],[nt(t.body,e)]);var n=se.makeSpan(["fix"],[]),r=se.makeSpan([t.alignment],[i,n],e),a=se.makeSpan(["strut"]);return a.style.height=ge(r.height+r.depth),r.depth&&(a.style.verticalAlign=ge(-r.depth)),r.children.unshift(a),r=se.makeSpan(["thinbox"],[r],e),se.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var i=new he.MathNode("mpadded",[yt(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",n+"width")}return i.setAttribute("width","0px"),i}});Te({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:n}=t,r=n.mode;n.switchMode("math");var a=i==="\\("?"\\)":"$",l=n.parseExpression(!1,a);return n.expect(a),n.switchMode(r),{type:"styling",mode:n.mode,style:"text",body:l}}});Te({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new fe("Mismatched "+t.funcName)}});var j5=(t,e)=>{switch(e.style.size){case $e.DISPLAY.size:return t.display;case $e.TEXT.size:return t.text;case $e.SCRIPT.size:return t.script;case $e.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Te({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:ns(e[0]),text:ns(e[1]),script:ns(e[2]),scriptscript:ns(e[3])}},htmlBuilder:(t,e)=>{var i=j5(t,e),n=Ns(i,e,!1);return se.makeFragment(n)},mathmlBuilder:(t,e)=>{var i=j5(t,e);return xl(i,e)}});var _T=(t,e,i,n,r,a,l)=>{t=se.makeSpan([],[t]);var c=i&&lt.isCharacterBox(i),d,h;if(e){var m=nt(e,n.havingStyle(r.sup()),n);h={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(i){var p=nt(i,n.havingStyle(r.sub()),n);d={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var f;if(h&&d){var b=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+t.depth+l;f=se.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ge(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ge(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var N=t.height-l;f=se.makeVList({positionType:"top",positionData:N,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ge(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t}]},n)}else if(h){var I=t.depth+l;f=se.makeVList({positionType:"bottom",positionData:I,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ge(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var D=[f];if(d&&a!==0&&!c){var k=se.makeSpan(["mspace"],[],n);k.style.marginRight=ge(a),D.unshift(k)}return se.makeSpan(["mop","op-limits"],D,n)},CT=["\\smallint"],s0=(t,e)=>{var i,n,r=!1,a;t.type==="supsub"?(i=t.sup,n=t.sub,a=Xe(t.base,"op"),r=!0):a=Xe(t,"op");var l=e.style,c=!1;l.size===$e.DISPLAY.size&&a.symbol&&!CT.includes(a.name)&&(c=!0);var d;if(a.symbol){var h=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),d=se.makeSymbol(a.name,h,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=d.italic,f=se.staticSvg(m+"Size"+(c?"2":"1"),e);d=se.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:f,shift:c?.08:0}]},e),a.name="\\"+m,d.classes.unshift("mop"),d.italic=p}}else if(a.body){var b=Ns(a.body,e,!0);b.length===1&&b[0]instanceof mn?(d=b[0],d.classes[0]="mop"):d=se.makeSpan(["mop"],b,e)}else{for(var N=[],I=1;I<a.name.length;I++)N.push(se.mathsym(a.name[I],a.mode,e));d=se.makeSpan(["mop"],N,e)}var D=0,k=0;return(d instanceof mn||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(D=(d.height-d.depth)/2-e.fontMetrics().axisHeight,k=d.italic),r?_T(d,i,n,e,l,k,D):(D&&(d.style.position="relative",d.style.top=ge(D)),d)},yh=(t,e)=>{var i;if(t.symbol)i=new zi("mo",[pn(t.name,t.mode)]),CT.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new zi("mo",Si(t.body,e));else{i=new zi("mi",[new Zn(t.name.slice(1))]);var n=new zi("mo",[pn("","text")]);t.parentIsSupSub?i=new zi("mrow",[i,n]):i=aT([i,n])}return i},mH={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Te({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=n;return r.length===1&&(r=mH[r]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:s0,mathmlBuilder:yh});Te({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ns(n)}},htmlBuilder:s0,mathmlBuilder:yh});var pH={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Te({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:s0,mathmlBuilder:yh});Te({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:s0,mathmlBuilder:yh});Te({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,n=i;return n.length===1&&(n=pH[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:s0,mathmlBuilder:yh});var MT=(t,e)=>{var i,n,r=!1,a;t.type==="supsub"?(i=t.sup,n=t.sub,a=Xe(t.base,"operatorname"),r=!0):a=Xe(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(p=>{var f=p.text;return typeof f=="string"?{type:"textord",mode:p.mode,text:f}:p}),d=Ns(c,e.withFont("mathrm"),!0),h=0;h<d.length;h++){var m=d[h];m instanceof mn&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=se.makeSpan(["mop"],d,e)}else l=se.makeSpan(["mop"],[],e);return r?_T(l,i,n,e,e.style,0,0):l},fH=(t,e)=>{for(var i=Si(t.body,e.withFont("mathrm")),n=!0,r=0;r<i.length;r++){var a=i[r];if(!(a instanceof he.SpaceNode))if(a instanceof he.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof he.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=i.map(m=>m.toText()).join("");i=[new he.TextNode(c)]}var d=new he.MathNode("mi",i);d.setAttribute("mathvariant","normal");var h=new he.MathNode("mo",[pn("","text")]);return t.parentIsSupSub?new he.MathNode("mrow",[d,h]):he.newDocumentFragment([d,h])};Te({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"operatorname",mode:i.mode,body:ns(r),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:MT,mathmlBuilder:fH});M("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ao({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?se.makeFragment(Ns(t.body,e,!1)):se.makeSpan(["mord"],Ns(t.body,e,!0),e)},mathmlBuilder(t,e){return xl(t.body,e,!0)}});Te({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,n=e[0];return{type:"overline",mode:i.mode,body:n}},htmlBuilder(t,e){var i=nt(t.body,e.havingCrampedStyle()),n=se.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n},{type:"kern",size:r}]},e);return se.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var i=new he.MathNode("mo",[new he.TextNode("")]);i.setAttribute("stretchy","true");var n=new he.MathNode("mover",[yt(t.body,e),i]);return n.setAttribute("accent","true"),n}});Te({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"phantom",mode:i.mode,body:ns(n)}},htmlBuilder:(t,e)=>{var i=Ns(t.body,e.withPhantom(),!1);return se.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=Si(t.body,e);return new he.MathNode("mphantom",i)}});Te({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"hphantom",mode:i.mode,body:n}},htmlBuilder:(t,e)=>{var i=se.makeSpan([],[nt(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var n=0;n<i.children.length;n++)i.children[n].height=0,i.children[n].depth=0;return i=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),se.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=Si(ns(t.body),e),n=new he.MathNode("mphantom",i),r=new he.MathNode("mpadded",[n]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Te({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"vphantom",mode:i.mode,body:n}},htmlBuilder:(t,e)=>{var i=se.makeSpan(["inner"],[nt(t.body,e.withPhantom())]),n=se.makeSpan(["fix"],[]);return se.makeSpan(["mord","rlap"],[i,n],e)},mathmlBuilder:(t,e)=>{var i=Si(ns(t.body),e),n=new he.MathNode("mphantom",i),r=new he.MathNode("mpadded",[n]);return r.setAttribute("width","0px"),r}});Te({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,n=Xe(e[0],"size").value,r=e[1];return{type:"raisebox",mode:i.mode,dy:n,body:r}},htmlBuilder(t,e){var i=nt(t.body,e),n=Ut(t.dy,e);return se.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new he.MathNode("mpadded",[yt(t.body,e)]),n=t.dy.number+t.dy.unit;return i.setAttribute("voffset",n),i}});Te({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Te({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:n}=t,r=i[0],a=Xe(e[0],"size"),l=Xe(e[1],"size");return{type:"rule",mode:n.mode,shift:r&&Xe(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var i=se.makeSpan(["mord","rule"],[],e),n=Ut(t.width,e),r=Ut(t.height,e),a=t.shift?Ut(t.shift,e):0;return i.style.borderRightWidth=ge(n),i.style.borderTopWidth=ge(r),i.style.bottom=ge(a),i.width=n,i.height=r+a,i.depth=-a,i.maxFontSize=r*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=Ut(t.width,e),n=Ut(t.height,e),r=t.shift?Ut(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new he.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",ge(i)),l.setAttribute("height",ge(n));var c=new he.MathNode("mpadded",[l]);return r>=0?c.setAttribute("height",ge(r)):(c.setAttribute("height",ge(r)),c.setAttribute("depth",ge(-r))),c.setAttribute("voffset",ge(r)),c}});function zT(t,e,i){for(var n=Ns(t,e,!1),r=e.sizeMultiplier/i.sizeMultiplier,a=0;a<n.length;a++){var l=n[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(i)):n[a].classes[l+1]==="reset-size"+e.size&&(n[a].classes[l+1]="reset-size"+i.size),n[a].height*=r,n[a].depth*=r}return se.makeFragment(n)}var w5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],xH=(t,e)=>{var i=e.havingSize(t.size);return zT(t.body,i,e)};Te({type:"sizing",names:w5,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:n,parser:r}=t,a=r.parseExpression(!1,i);return{type:"sizing",mode:r.mode,size:w5.indexOf(n)+1,body:a}},htmlBuilder:xH,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),n=Si(t.body,i),r=new he.MathNode("mstyle",n);return r.setAttribute("mathsize",ge(i.sizeMultiplier)),r}});Te({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:n}=t,r=!1,a=!1,l=i[0]&&Xe(i[0],"ordgroup");if(l)for(var c="",d=0;d<l.body.length;++d){var h=l.body[d];if(c=h.text,c==="t")r=!0;else if(c==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var m=e[0];return{type:"smash",mode:n.mode,body:m,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var i=se.makeSpan([],[nt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var n=0;n<i.children.length;n++)i.children[n].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var r=0;r<i.children.length;r++)i.children[r].depth=0;var a=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return se.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var i=new he.MathNode("mpadded",[yt(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});Te({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:n}=t,r=i[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:r}},htmlBuilder(t,e){var i=nt(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=se.wrapFragment(i,e);var n=e.fontMetrics(),r=n.defaultRuleThickness,a=r;e.style.id<$e.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,c=i.height+i.depth+l+r,{span:d,ruleWidth:h,advanceWidth:m}=Hr.sqrtImage(c,e),p=d.height-h;p>i.height+i.depth+l&&(l=(l+p-i.height-i.depth)/2);var f=d.height-i.height-l-h;i.style.paddingLeft=ge(m);var b=se.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+f)},{type:"elem",elem:d},{type:"kern",size:h}]},e);if(t.index){var N=e.havingStyle($e.SCRIPTSCRIPT),I=nt(t.index,N,e),D=.6*(b.height-b.depth),k=se.makeVList({positionType:"shift",positionData:-D,children:[{type:"elem",elem:I}]},e),T=se.makeSpan(["root"],[k]);return se.makeSpan(["mord","sqrt"],[T,b],e)}else return se.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:i,index:n}=t;return n?new he.MathNode("mroot",[yt(i,e),yt(n,e)]):new he.MathNode("msqrt",[yt(i,e)])}});var N5={display:$e.DISPLAY,text:$e.TEXT,script:$e.SCRIPT,scriptscript:$e.SCRIPTSCRIPT};Te({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:n,parser:r}=t,a=r.parseExpression(!0,i),l=n.slice(1,n.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var i=N5[t.style],n=e.havingStyle(i).withFont("");return zT(t.body,n,e)},mathmlBuilder(t,e){var i=N5[t.style],n=e.havingStyle(i),r=Si(t.body,n),a=new he.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var gH=function(e,i){var n=e.base;if(n)if(n.type==="op"){var r=n.limits&&(i.style.size===$e.DISPLAY.size||n.alwaysHandleSupSub);return r?s0:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(i.style.size===$e.DISPLAY.size||n.limits);return a?MT:null}else{if(n.type==="accent")return lt.isCharacterBox(n.base)?xb:null;if(n.type==="horizBrace"){var l=!e.sub;return l===n.isOver?IT:null}else return null}else return null};Ao({type:"supsub",htmlBuilder(t,e){var i=gH(t,e);if(i)return i(t,e);var{base:n,sup:r,sub:a}=t,l=nt(n,e),c,d,h=e.fontMetrics(),m=0,p=0,f=n&&lt.isCharacterBox(n);if(r){var b=e.havingStyle(e.style.sup());c=nt(r,b,e),f||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var N=e.havingStyle(e.style.sub());d=nt(a,N,e),f||(p=l.depth+N.fontMetrics().subDrop*N.sizeMultiplier/e.sizeMultiplier)}var I;e.style===$e.DISPLAY?I=h.sup1:e.style.cramped?I=h.sup3:I=h.sup2;var D=e.sizeMultiplier,k=ge(.5/h.ptPerEm/D),T=null;if(d){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof mn||A)&&(T=ge(-l.italic))}var P;if(c&&d){m=Math.max(m,I,c.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var F=h.defaultRuleThickness,ee=4*F;if(m-c.depth-(d.height-p)<ee){p=ee-(m-c.depth)+d.height;var C=.8*h.xHeight-(m-c.depth);C>0&&(m+=C,p-=C)}var S=[{type:"elem",elem:d,shift:p,marginRight:k,marginLeft:T},{type:"elem",elem:c,shift:-m,marginRight:k}];P=se.makeVList({positionType:"individualShift",children:S},e)}else if(d){p=Math.max(p,h.sub1,d.height-.8*h.xHeight);var _=[{type:"elem",elem:d,marginLeft:T,marginRight:k}];P=se.makeVList({positionType:"shift",positionData:p,children:_},e)}else if(c)m=Math.max(m,I,c.depth+.25*h.xHeight),P=se.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:k}]},e);else throw new Error("supsub must have either sup or sub.");var O=Kg(l,"right")||"mord";return se.makeSpan([O],[l,se.makeSpan(["msupsub"],[P])],e)},mathmlBuilder(t,e){var i=!1,n,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(i=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[yt(t.base,e)];t.sub&&a.push(yt(t.sub,e)),t.sup&&a.push(yt(t.sup,e));var l;if(i)l=n?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===$e.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===$e.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===$e.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===$e.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===$e.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===$e.DISPLAY)?l="mover":l="msup"}return new he.MathNode(l,a)}});Ao({type:"atom",htmlBuilder(t,e){return se.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new he.MathNode("mo",[pn(t.text,t.mode)]);if(t.family==="bin"){var n=pb(t,e);n==="bold-italic"&&i.setAttribute("mathvariant",n)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var DT={mi:"italic",mn:"normal",mtext:"normal"};Ao({type:"mathord",htmlBuilder(t,e){return se.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new he.MathNode("mi",[pn(t.text,t.mode,e)]),n=pb(t,e)||"italic";return n!==DT[i.type]&&i.setAttribute("mathvariant",n),i}});Ao({type:"textord",htmlBuilder(t,e){return se.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=pn(t.text,t.mode,e),n=pb(t,e)||"normal",r;return t.mode==="text"?r=new he.MathNode("mtext",[i]):/[0-9]/.test(t.text)?r=new he.MathNode("mn",[i]):t.text==="\\prime"?r=new he.MathNode("mo",[i]):r=new he.MathNode("mi",[i]),n!==DT[r.type]&&r.setAttribute("mathvariant",n),r}});var $x={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Bx={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ao({type:"spacing",htmlBuilder(t,e){if(Bx.hasOwnProperty(t.text)){var i=Bx[t.text].className||"";if(t.mode==="text"){var n=se.makeOrd(t,e,"textord");return n.classes.push(i),n}else return se.makeSpan(["mspace",i],[se.mathsym(t.text,t.mode,e)],e)}else{if($x.hasOwnProperty(t.text))return se.makeSpan(["mspace",$x[t.text]],[],e);throw new fe('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(Bx.hasOwnProperty(t.text))i=new he.MathNode("mtext",[new he.TextNode("")]);else{if($x.hasOwnProperty(t.text))return new he.MathNode("mspace");throw new fe('Unknown type of space "'+t.text+'"')}return i}});var k5=()=>{var t=new he.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ao({type:"tag",mathmlBuilder(t,e){var i=new he.MathNode("mtable",[new he.MathNode("mtr",[k5(),new he.MathNode("mtd",[xl(t.body,e)]),k5(),new he.MathNode("mtd",[xl(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var T5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},S5={"\\textbf":"textbf","\\textmd":"textmd"},bH={"\\textit":"textit","\\textup":"textup"},A5=(t,e)=>{var i=t.font;if(i){if(T5[i])return e.withTextFontFamily(T5[i]);if(S5[i])return e.withTextFontWeight(S5[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(bH[i])};Te({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"text",mode:i.mode,body:ns(r),font:n}},htmlBuilder(t,e){var i=A5(t,e),n=Ns(t.body,i,!0);return se.makeSpan(["mord","text"],n,i)},mathmlBuilder(t,e){var i=A5(t,e);return xl(t.body,i)}});Te({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=nt(t.body,e),n=se.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=se.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:r},{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i}]},e);return se.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var i=new he.MathNode("mo",[new he.TextNode("")]);i.setAttribute("stretchy","true");var n=new he.MathNode("munder",[yt(t.body,e),i]);return n.setAttribute("accentunder","true"),n}});Te({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=nt(t.body,e),n=e.fontMetrics().axisHeight,r=.5*(i.height-n-(i.depth+n));return se.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new he.MathNode("mpadded",[yt(t.body,e)],["vcenter"])}});Te({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new fe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=E5(t),n=[],r=e.havingStyle(e.style.text()),a=0;a<i.length;a++){var l=i[a];l==="~"&&(l="\\textasciitilde"),n.push(se.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return se.makeSpan(["mord","text"].concat(r.sizingClasses(e)),se.tryCombineChars(n),r)},mathmlBuilder(t,e){var i=new he.TextNode(E5(t)),n=new he.MathNode("mtext",[i]);return n.setAttribute("mathvariant","monospace"),n}});var E5=t=>t.body.replace(/ /g,t.star?"":""),Va=nT,RT=`[ \r
	]`,yH="\\\\[a-zA-Z@]+",vH="\\\\[^\uD800-\uDFFF]",jH="("+yH+")"+RT+"*",wH=`\\\\(
|[ \r	]+
?)[ \r	]*`,t2="[-]",NH=new RegExp(t2+"+$"),kH="("+RT+"+)|"+(wH+"|")+"([!-\\[\\]---]"+(t2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(t2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+jH)+("|"+vH+")");let q5=class{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(kH,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new Dn("EOF",new Ki(this,i,i));var n=this.tokenRegex.exec(e);if(n===null||n.index!==i)throw new fe("Unexpected character: '"+e[i]+"'",new Dn(e[i],new Ki(this,i,i+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Dn(r,new Ki(this,i,this.tokenRegex.lastIndex))}},TH=class{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new fe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,n){if(n===void 0&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}};var SH=TT;M("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});M("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});M("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});M("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});M("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});M("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");M("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var I5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};M("\\char",function(t){var e=t.popToken(),i,n="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new fe("\\char` missing argument");n=e.text.charCodeAt(0)}else i=10;if(i){if(n=I5[e.text],n==null||n>=i)throw new fe("Invalid base-"+i+" digit "+e.text);for(var r;(r=I5[t.future().text])!=null&&r<i;)n*=i,n+=r,t.popToken()}return"\\@char{"+n+"}"});var kb=(t,e,i,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new fe("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new fe("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!i)throw new fe("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var d="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)d+=h.text,h=t.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new fe("Invalid number of arguments: "+d);c=parseInt(d),r=t.consumeArg().tokens}return l&&n||t.macros.set(a,{tokens:r,numArgs:c}),""};M("\\newcommand",t=>kb(t,!1,!0,!1));M("\\renewcommand",t=>kb(t,!0,!1,!1));M("\\providecommand",t=>kb(t,!0,!0,!0));M("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});M("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});M("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),Va[i],Tt.math[i],Tt.text[i]),""});M("\\bgroup","{");M("\\egroup","}");M("~","\\nobreakspace");M("\\lq","`");M("\\rq","'");M("\\aa","\\r a");M("\\AA","\\r A");M("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");M("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");M("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");M("","\\mathscr{B}");M("","\\mathscr{E}");M("","\\mathscr{F}");M("","\\mathscr{H}");M("","\\mathscr{I}");M("","\\mathscr{L}");M("","\\mathscr{M}");M("","\\mathscr{R}");M("","\\mathfrak{C}");M("","\\mathfrak{H}");M("","\\mathfrak{Z}");M("\\Bbbk","\\Bbb{k}");M("","\\cdotp");M("\\llap","\\mathllap{\\textrm{#1}}");M("\\rlap","\\mathrlap{\\textrm{#1}}");M("\\clap","\\mathclap{\\textrm{#1}}");M("\\mathstrut","\\vphantom{(}");M("\\underbar","\\underline{\\text{#1}}");M("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');M("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");M("\\ne","\\neq");M("","\\neq");M("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");M("","\\notin");M("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");M("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");M("","\\perp");M("","\\mathclose{!\\mkern-0.8mu!}");M("","\\notni");M("","\\ulcorner");M("","\\urcorner");M("","\\llcorner");M("","\\lrcorner");M("","\\copyright");M("","\\textregistered");M("","\\textregistered");M("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');M("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');M("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');M("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');M("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");M("","\\vdots");M("\\varGamma","\\mathit{\\Gamma}");M("\\varDelta","\\mathit{\\Delta}");M("\\varTheta","\\mathit{\\Theta}");M("\\varLambda","\\mathit{\\Lambda}");M("\\varXi","\\mathit{\\Xi}");M("\\varPi","\\mathit{\\Pi}");M("\\varSigma","\\mathit{\\Sigma}");M("\\varUpsilon","\\mathit{\\Upsilon}");M("\\varPhi","\\mathit{\\Phi}");M("\\varPsi","\\mathit{\\Psi}");M("\\varOmega","\\mathit{\\Omega}");M("\\substack","\\begin{subarray}{c}#1\\end{subarray}");M("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");M("\\boxed","\\fbox{$\\displaystyle{#1}$}");M("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");M("\\implies","\\DOTSB\\;\\Longrightarrow\\;");M("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");M("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");M("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var _5={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};M("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in _5?e=_5[i]:(i.slice(0,4)==="\\not"||i in Tt.math&&["bin","rel"].includes(Tt.math[i].group))&&(e="\\dotsb"),e});var Tb={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};M("\\dotso",function(t){var e=t.future().text;return e in Tb?"\\ldots\\,":"\\ldots"});M("\\dotsc",function(t){var e=t.future().text;return e in Tb&&e!==","?"\\ldots\\,":"\\ldots"});M("\\cdots",function(t){var e=t.future().text;return e in Tb?"\\@cdots\\,":"\\@cdots"});M("\\dotsb","\\cdots");M("\\dotsm","\\cdots");M("\\dotsi","\\!\\cdots");M("\\dotsx","\\ldots\\,");M("\\DOTSI","\\relax");M("\\DOTSB","\\relax");M("\\DOTSX","\\relax");M("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");M("\\,","\\tmspace+{3mu}{.1667em}");M("\\thinspace","\\,");M("\\>","\\mskip{4mu}");M("\\:","\\tmspace+{4mu}{.2222em}");M("\\medspace","\\:");M("\\;","\\tmspace+{5mu}{.2777em}");M("\\thickspace","\\;");M("\\!","\\tmspace-{3mu}{.1667em}");M("\\negthinspace","\\!");M("\\negmedspace","\\tmspace-{4mu}{.2222em}");M("\\negthickspace","\\tmspace-{5mu}{.277em}");M("\\enspace","\\kern.5em ");M("\\enskip","\\hskip.5em\\relax");M("\\quad","\\hskip1em\\relax");M("\\qquad","\\hskip2em\\relax");M("\\tag","\\@ifstar\\tag@literal\\tag@paren");M("\\tag@paren","\\tag@literal{({#1})}");M("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new fe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});M("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");M("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");M("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");M("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");M("\\newline","\\\\\\relax");M("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var OT=ge(Wn["Main-Regular"][84][1]-.7*Wn["Main-Regular"][65][1]);M("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+OT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");M("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+OT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");M("\\hspace","\\@ifstar\\@hspacer\\@hspace");M("\\@hspace","\\hskip #1\\relax");M("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");M("\\ordinarycolon",":");M("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");M("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');M("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');M("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');M("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');M("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');M("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');M("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');M("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');M("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');M("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');M("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');M("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');M("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');M("","\\dblcolon");M("","\\eqcolon");M("","\\coloneqq");M("","\\eqqcolon");M("","\\Coloneqq");M("\\ratio","\\vcentcolon");M("\\coloncolon","\\dblcolon");M("\\colonequals","\\coloneqq");M("\\coloncolonequals","\\Coloneqq");M("\\equalscolon","\\eqqcolon");M("\\equalscoloncolon","\\Eqqcolon");M("\\colonminus","\\coloneq");M("\\coloncolonminus","\\Coloneq");M("\\minuscolon","\\eqcolon");M("\\minuscoloncolon","\\Eqcolon");M("\\coloncolonapprox","\\Colonapprox");M("\\coloncolonsim","\\Colonsim");M("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");M("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");M("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");M("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");M("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");M("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");M("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");M("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");M("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");M("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");M("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");M("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");M("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");M("\\ngeqq","\\html@mathml{\\@ngeqq}{}");M("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");M("\\nleqq","\\html@mathml{\\@nleqq}{}");M("\\nleqslant","\\html@mathml{\\@nleqslant}{}");M("\\nshortmid","\\html@mathml{\\@nshortmid}{}");M("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");M("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");M("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");M("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");M("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");M("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");M("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");M("\\imath","\\html@mathml{\\@imath}{}");M("\\jmath","\\html@mathml{\\@jmath}{}");M("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");M("","\\llbracket");M("","\\rrbracket");M("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");M("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");M("","\\lBrace");M("","\\rBrace");M("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");M("","\\minuso");M("\\darr","\\downarrow");M("\\dArr","\\Downarrow");M("\\Darr","\\Downarrow");M("\\lang","\\langle");M("\\rang","\\rangle");M("\\uarr","\\uparrow");M("\\uArr","\\Uparrow");M("\\Uarr","\\Uparrow");M("\\N","\\mathbb{N}");M("\\R","\\mathbb{R}");M("\\Z","\\mathbb{Z}");M("\\alef","\\aleph");M("\\alefsym","\\aleph");M("\\Alpha","\\mathrm{A}");M("\\Beta","\\mathrm{B}");M("\\bull","\\bullet");M("\\Chi","\\mathrm{X}");M("\\clubs","\\clubsuit");M("\\cnums","\\mathbb{C}");M("\\Complex","\\mathbb{C}");M("\\Dagger","\\ddagger");M("\\diamonds","\\diamondsuit");M("\\empty","\\emptyset");M("\\Epsilon","\\mathrm{E}");M("\\Eta","\\mathrm{H}");M("\\exist","\\exists");M("\\harr","\\leftrightarrow");M("\\hArr","\\Leftrightarrow");M("\\Harr","\\Leftrightarrow");M("\\hearts","\\heartsuit");M("\\image","\\Im");M("\\infin","\\infty");M("\\Iota","\\mathrm{I}");M("\\isin","\\in");M("\\Kappa","\\mathrm{K}");M("\\larr","\\leftarrow");M("\\lArr","\\Leftarrow");M("\\Larr","\\Leftarrow");M("\\lrarr","\\leftrightarrow");M("\\lrArr","\\Leftrightarrow");M("\\Lrarr","\\Leftrightarrow");M("\\Mu","\\mathrm{M}");M("\\natnums","\\mathbb{N}");M("\\Nu","\\mathrm{N}");M("\\Omicron","\\mathrm{O}");M("\\plusmn","\\pm");M("\\rarr","\\rightarrow");M("\\rArr","\\Rightarrow");M("\\Rarr","\\Rightarrow");M("\\real","\\Re");M("\\reals","\\mathbb{R}");M("\\Reals","\\mathbb{R}");M("\\Rho","\\mathrm{P}");M("\\sdot","\\cdot");M("\\sect","\\S");M("\\spades","\\spadesuit");M("\\sub","\\subset");M("\\sube","\\subseteq");M("\\supe","\\supseteq");M("\\Tau","\\mathrm{T}");M("\\thetasym","\\vartheta");M("\\weierp","\\wp");M("\\Zeta","\\mathrm{Z}");M("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");M("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");M("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");M("\\bra","\\mathinner{\\langle{#1}|}");M("\\ket","\\mathinner{|{#1}\\rangle}");M("\\braket","\\mathinner{\\langle{#1}\\rangle}");M("\\Bra","\\left\\langle#1\\right|");M("\\Ket","\\left|#1\\right\\rangle");var PT=t=>e=>{var i=e.consumeArg().tokens,n=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var d=p=>f=>{t&&(f.macros.set("|",l),r.length&&f.macros.set("\\|",c));var b=p;if(!p&&r.length){var N=f.future();N.text==="|"&&(f.popToken(),b=!0)}return{tokens:b?r:n,numArgs:0}};e.macros.set("|",d(!1)),r.length&&e.macros.set("\\|",d(!0));var h=e.consumeArg().tokens,m=e.expandTokens([...a,...h,...i]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};M("\\bra@ket",PT(!1));M("\\bra@set",PT(!0));M("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");M("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");M("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");M("\\angln","{\\angl n}");M("\\blue","\\textcolor{##6495ed}{#1}");M("\\orange","\\textcolor{##ffa500}{#1}");M("\\pink","\\textcolor{##ff00af}{#1}");M("\\red","\\textcolor{##df0030}{#1}");M("\\green","\\textcolor{##28ae7b}{#1}");M("\\gray","\\textcolor{gray}{#1}");M("\\purple","\\textcolor{##9d38bd}{#1}");M("\\blueA","\\textcolor{##ccfaff}{#1}");M("\\blueB","\\textcolor{##80f6ff}{#1}");M("\\blueC","\\textcolor{##63d9ea}{#1}");M("\\blueD","\\textcolor{##11accd}{#1}");M("\\blueE","\\textcolor{##0c7f99}{#1}");M("\\tealA","\\textcolor{##94fff5}{#1}");M("\\tealB","\\textcolor{##26edd5}{#1}");M("\\tealC","\\textcolor{##01d1c1}{#1}");M("\\tealD","\\textcolor{##01a995}{#1}");M("\\tealE","\\textcolor{##208170}{#1}");M("\\greenA","\\textcolor{##b6ffb0}{#1}");M("\\greenB","\\textcolor{##8af281}{#1}");M("\\greenC","\\textcolor{##74cf70}{#1}");M("\\greenD","\\textcolor{##1fab54}{#1}");M("\\greenE","\\textcolor{##0d923f}{#1}");M("\\goldA","\\textcolor{##ffd0a9}{#1}");M("\\goldB","\\textcolor{##ffbb71}{#1}");M("\\goldC","\\textcolor{##ff9c39}{#1}");M("\\goldD","\\textcolor{##e07d10}{#1}");M("\\goldE","\\textcolor{##a75a05}{#1}");M("\\redA","\\textcolor{##fca9a9}{#1}");M("\\redB","\\textcolor{##ff8482}{#1}");M("\\redC","\\textcolor{##f9685d}{#1}");M("\\redD","\\textcolor{##e84d39}{#1}");M("\\redE","\\textcolor{##bc2612}{#1}");M("\\maroonA","\\textcolor{##ffbde0}{#1}");M("\\maroonB","\\textcolor{##ff92c6}{#1}");M("\\maroonC","\\textcolor{##ed5fa6}{#1}");M("\\maroonD","\\textcolor{##ca337c}{#1}");M("\\maroonE","\\textcolor{##9e034e}{#1}");M("\\purpleA","\\textcolor{##ddd7ff}{#1}");M("\\purpleB","\\textcolor{##c6b9fc}{#1}");M("\\purpleC","\\textcolor{##aa87ff}{#1}");M("\\purpleD","\\textcolor{##7854ab}{#1}");M("\\purpleE","\\textcolor{##543b78}{#1}");M("\\mintA","\\textcolor{##f5f9e8}{#1}");M("\\mintB","\\textcolor{##edf2df}{#1}");M("\\mintC","\\textcolor{##e0e5cc}{#1}");M("\\grayA","\\textcolor{##f6f7f7}{#1}");M("\\grayB","\\textcolor{##f0f1f2}{#1}");M("\\grayC","\\textcolor{##e3e5e6}{#1}");M("\\grayD","\\textcolor{##d6d8da}{#1}");M("\\grayE","\\textcolor{##babec2}{#1}");M("\\grayF","\\textcolor{##888d93}{#1}");M("\\grayG","\\textcolor{##626569}{#1}");M("\\grayH","\\textcolor{##3b3e40}{#1}");M("\\grayI","\\textcolor{##21242c}{#1}");M("\\kaBlue","\\textcolor{##314453}{#1}");M("\\kaGreen","\\textcolor{##71B307}{#1}");var $T={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let AH=class{constructor(e,i,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new TH(SH,i.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new q5(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,n,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:r,end:n}=this.consumeArg(["]"])}else({tokens:r,start:i,end:n}=this.consumeArg());return this.pushToken(new Dn("EOF",n.loc)),this.pushTokens(r),new Dn("",Ki.range(i,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],n=e&&e.length>0;n||this.consumeSpaces();var r=this.future(),a,l=0,c=0;do{if(a=this.popToken(),i.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new fe("Extra }",a)}else if(a.text==="EOF")throw new fe("Unexpected end of input in a macro argument, expected '"+(e&&n?e[c]:"}")+"'",a);if(e&&n)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){i.splice(-c,c);break}}else c=0}while(l!==0||n);return r.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:r,end:a}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new fe("The length of delimiters doesn't match the number of args!");for(var n=i[0],r=0;r<n.length;r++){var a=this.popToken();if(n[r]!==a.text)throw new fe("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(i&&i[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new fe("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),n=i.text,r=i.noexpand?null:this._getExpansion(n);if(r==null||e&&r.unexpandable){if(e&&r==null&&n[0]==="\\"&&!this.isDefined(n))throw new fe("Undefined control sequence: "+n);return this.pushToken(i),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var d=a[c];if(d.text==="#"){if(c===0)throw new fe("Incomplete placeholder at end of macro body",d);if(d=a[--c],d.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(d.text))a.splice(c,2,...l[+d.text-1]);else throw new fe("Not a valid argument number",d)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Dn(e)]):void 0}expandTokens(e){var i=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),i.push(r)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(n=>n.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var r=typeof i=="function"?i(this):i;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new q5(r,this.settings),d=[],h=c.lex();h.text!=="EOF";)d.push(h),h=c.lex();d.reverse();var m={tokens:d,numArgs:a};return m}return r}isDefined(e){return this.macros.has(e)||Va.hasOwnProperty(e)||Tt.math.hasOwnProperty(e)||Tt.text.hasOwnProperty(e)||$T.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:Va.hasOwnProperty(e)&&!Va[e].primitive}};var C5=/^[]/,vu=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Lx={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},M5={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let BT=class LT{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new AH(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new fe("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new Dn("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,n}parseExpression(e,i){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(LT.endOfExpression.indexOf(r.text)!==-1||i&&r.text===i||e&&Va[r.text]&&Va[r.text].infix)break;var a=this.parseAtom(i);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var i=-1,n,r=0;r<e.length;r++)if(e[r].type==="infix"){if(i!==-1)throw new fe("only one infix operator per group",e[r].token);i=r,n=e[r].replaceWith}if(i!==-1&&n){var a,l,c=e.slice(0,i),d=e.slice(i+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?l=d[0]:l={type:"ordgroup",mode:this.mode,body:d};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[a,e[i],l],[]):h=this.callFunction(n,[a,l],[]),[h]}else return e}handleSupSubscript(e){var i=this.fetch(),n=i.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new fe("Expected group after '"+n+"'",i);return r}formatUnsupportedCmd(e){for(var i=[],n=0;n<e.length;n++)i.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:i},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var n,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(i&&i.type==="op"){var l=a.text==="\\limits";i.limits=l,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=a.text==="\\limits");else throw new fe("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new fe("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new fe("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new fe("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else if(vu[a.text]){var h=C5.test(a.text),m=[];for(m.push(new Dn(vu[a.text])),this.consume();;){var p=this.fetch().text;if(!vu[p]||C5.test(p)!==h)break;m.unshift(new Dn(vu[p])),this.consume()}var f=this.subparse(m);h?r={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||r?{type:"supsub",mode:this.mode,base:i,sup:n,sub:r}:i}parseFunction(e,i){var n=this.fetch(),r=n.text,a=Va[r];if(!a)return null;if(this.consume(),i&&i!=="atom"&&!a.allowedInArgument)throw new fe("Got function '"+r+"' with no arguments"+(i?" as "+i:""),n);if(this.mode==="text"&&!a.allowedInText)throw new fe("Can't use function '"+r+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new fe("Can't use function '"+r+"' in math mode",n);var{args:l,optArgs:c}=this.parseArguments(r,a);return this.callFunction(r,l,c,n,e)}callFunction(e,i,n,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},c=Va[e];if(c&&c.handler)return c.handler(l,i,n);throw new fe("No function handler for "+e)}parseArguments(e,i){var n=i.numArgs+i.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<n;l++){var c=i.argTypes&&i.argTypes[l],d=l<i.numOptionalArgs;(i.primitive&&c==null||i.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",c,d);if(d)a.push(h);else if(h!=null)r.push(h);else throw new fe("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,i,n){switch(i){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,i);case"hbox":{var r=this.parseArgumentGroup(n,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new fe("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new fe("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new fe("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var n=this.gullet.scanArgument(i);if(n==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,i){for(var n=this.fetch(),r=n,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new fe("Invalid "+i+": '"+n.text+"'",n);return n.range(r,a)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!n)throw new fe("Invalid color: '"+i.text+"'",i);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var i,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!r)throw new fe("Invalid size: '"+i.text+"'",i);var a={number:+(r[1]+r[2]),unit:r[3]};if(!Yk(a))throw new fe("Invalid unit: '"+a.unit+"'",i);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var n=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,i){var n=this.gullet.scanArgument(e);if(n==null)return null;var r=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return i&&this.switchMode(r),l}parseGroup(e,i){var n=this.fetch(),r=n.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),d=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Ki.range(n,d),body:c,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(i,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!$T.hasOwnProperty(r)){if(this.settings.throwOnError)throw new fe("Undefined control sequence: "+r,n);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var i=e.length-1,n=0;n<i;++n){var r=e[n],a=r.text;a==="-"&&e[n+1].text==="-"&&(n+1<i&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:Ki.range(r,e[n+2]),text:"---"}),i-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:Ki.range(r,e[n+1]),text:"--"}),i-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:Ki.range(r,e[n+1]),text:a+a}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var n=i.slice(5),r=n.charAt(0)==="*";if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new fe(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:r}}M5.hasOwnProperty(i[0])&&!Tt[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=M5[i[0]]+i.slice(1));var a=NH.exec(i);a&&(i=i.substring(0,a.index),i==="i"?i="":i==="j"&&(i=""));var l;if(Tt[this.mode][i]){this.settings.strict&&this.mode==="math"&&Xg.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var c=Tt[this.mode][i].group,d=Ki.range(e),h;if(fF.hasOwnProperty(c)){var m=c;h={type:"atom",mode:this.mode,family:m,loc:d,text:i}}else h={type:c,mode:this.mode,loc:d,text:i};l=h}else if(i.charCodeAt(0)>=128)this.settings.strict&&(Wk(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Ki.range(e),text:i};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var f=a[0][p];if(!Lx[f])throw new fe("Unknown accent ' "+f+"'",e);var b=Lx[f][this.mode]||Lx[f].text;if(!b)throw new fe("Accent "+f+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Ki.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}};BT.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Sb=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new BT(e,i);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new fe("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new Dn("\\df@tag")])}]}return r},UT=function(e,i,n){i.textContent="";var r=Ab(e,n).toNode();i.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),UT=function(){throw new fe("KaTeX doesn't work in quirks mode.")});var EH=function(e,i){var n=Ab(e,i).toMarkup();return n},qH=function(e,i){var n=new ob(i);return Sb(e,n)},FT=function(e,i,n){if(n.throwOnError||!(e instanceof fe))throw e;var r=se.makeSpan(["katex-error"],[new mn(i)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},Ab=function(e,i){var n=new ob(i);try{var r=Sb(e,n);return PF(r,e,n)}catch(a){return FT(a,e,n)}},IH=function(e,i){var n=new ob(i);try{var r=Sb(e,n);return $F(r,e,n)}catch(a){return FT(a,e,n)}},_H="0.16.27",CH={Span:bh,Anchor:hb,SymbolNode:mn,SvgNode:ta,PathNode:fl,LineNode:Yg},z5={version:_H,render:UT,renderToString:EH,ParseError:fe,SETTINGS_SCHEMA:sm,__parse:qH,__renderToDomTree:Ab,__renderToHTMLTree:IH,__setFontMetrics:lF,__defineSymbol:x,__defineFunction:Te,__defineMacro:M,__domTree:CH};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:HT,setPrototypeOf:D5,isFrozen:MH,getPrototypeOf:zH,getOwnPropertyDescriptor:DH}=Object;let{freeze:ai,seal:fn,create:s2}=Object,{apply:i2,construct:n2}=typeof Reflect<"u"&&Reflect;ai||(ai=function(e){return e});fn||(fn=function(e){return e});i2||(i2=function(e,i){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.apply(i,r)});n2||(n2=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new e(...n)});const ju=li(Array.prototype.forEach),RH=li(Array.prototype.lastIndexOf),R5=li(Array.prototype.pop),R0=li(Array.prototype.push),OH=li(Array.prototype.splice),nm=li(String.prototype.toLowerCase),Ux=li(String.prototype.toString),Fx=li(String.prototype.match),O0=li(String.prototype.replace),PH=li(String.prototype.indexOf),$H=li(String.prototype.trim),Sn=li(Object.prototype.hasOwnProperty),Ks=li(RegExp.prototype.test),P0=BH(TypeError);function li(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return i2(t,e,n)}}function BH(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return n2(t,i)}}function Qe(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nm;D5&&D5(t,null);let n=e.length;for(;n--;){let r=e[n];if(typeof r=="string"){const a=i(r);a!==r&&(MH(e)||(e[n]=a),r=a)}t[r]=!0}return t}function LH(t){for(let e=0;e<t.length;e++)Sn(t,e)||(t[e]=null);return t}function Bn(t){const e=s2(null);for(const[i,n]of HT(t))Sn(t,i)&&(Array.isArray(n)?e[i]=LH(n):n&&typeof n=="object"&&n.constructor===Object?e[i]=Bn(n):e[i]=n);return e}function $0(t,e){for(;t!==null;){const n=DH(t,e);if(n){if(n.get)return li(n.get);if(typeof n.value=="function")return li(n.value)}t=zH(t)}function i(){return null}return i}const O5=ai(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hx=ai(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gx=ai(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),UH=ai(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vx=ai(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),FH=ai(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P5=ai(["#text"]),$5=ai(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wx=ai(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B5=ai(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wu=ai(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),HH=fn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),GH=fn(/<%[\w\W]*|[\w\W]*%>/gm),VH=fn(/\$\{[\w\W]*/gm),WH=fn(/^data-[\-\w.\u00B7-\uFFFF]+$/),ZH=fn(/^aria-[\-\w]+$/),GT=fn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YH=fn(/^(?:\w+script|data):/i),XH=fn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),VT=fn(/^html$/i),KH=fn(/^[a-z][.\w]*(-[.\w]+)+$/i);var L5=Object.freeze({__proto__:null,ARIA_ATTR:ZH,ATTR_WHITESPACE:XH,CUSTOM_ELEMENT:KH,DATA_ATTR:WH,DOCTYPE_NAME:VT,ERB_EXPR:GH,IS_ALLOWED_URI:GT,IS_SCRIPT_OR_DATA:YH,MUSTACHE_EXPR:HH,TMPLIT_EXPR:VH});const B0={element:1,text:3,progressingInstruction:7,comment:8,document:9},QH=function(){return typeof window>"u"?null:window},JH=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";i&&i.hasAttribute(r)&&(n=i.getAttribute(r));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},U5=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function WT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:QH();const e=ze=>WT(ze);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==B0.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const n=i,r=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:d,NodeFilter:h,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:b}=t,N=d.prototype,I=$0(N,"cloneNode"),D=$0(N,"remove"),k=$0(N,"nextSibling"),T=$0(N,"childNodes"),A=$0(N,"parentNode");if(typeof l=="function"){const ze=i.createElement("template");ze.content&&ze.content.ownerDocument&&(i=ze.content.ownerDocument)}let P,F="";const{implementation:ee,createNodeIterator:C,createDocumentFragment:S,getElementsByTagName:_}=i,{importNode:O}=n;let B=U5();e.isSupported=typeof HT=="function"&&typeof A=="function"&&ee&&ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:L,TMPLIT_EXPR:Ae,DATA_ATTR:Me,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:xe,ATTR_WHITESPACE:we,CUSTOM_ELEMENT:Le}=L5;let{IS_ALLOWED_URI:Re}=L5,Ee=null;const Ne=Qe({},[...O5,...Hx,...Gx,...Vx,...P5]);let qe=null;const ht=Qe({},[...$5,...Wx,...B5,...wu]);let Ue=Object.seal(s2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Zs=null,Vt=null;const Wt=Object.seal(s2(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let hi=!0,Ts=!0,vn=!1,Pn=!0,ui=!1,Fs=!0,Ms=!1,Vi=!1,Ei=!1,Ss=!1,zs=!1,ua=!1,o0=!0,Eh=!1;const c0="user-content-";let Il=!0,ma=!1,Ot={},jt=null;const pa=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let d0=null;const h0=Qe({},["audio","video","img","source","image","track"]);let u0=null;const fa=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_l="http://www.w3.org/1998/Math/MathML",Cl="http://www.w3.org/2000/svg",qi="http://www.w3.org/1999/xhtml";let xa=qi,m0=!1,Ml=null;const qh=Qe({},[_l,Cl,qi],Ux);let _o=Qe({},["mi","mo","mn","ms","mtext"]),$n=Qe({},["annotation-xml"]);const p0=Qe({},["title","style","font","a","script"]);let ur=null;const ga=["application/xhtml+xml","text/html"],Ih="text/html";let Pt=null,mr=null;const zl=i.createElement("form"),f0=function(Y){return Y instanceof RegExp||Y instanceof Function},fs=function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mr&&mr===Y)){if((!Y||typeof Y!="object")&&(Y={}),Y=Bn(Y),ur=ga.indexOf(Y.PARSER_MEDIA_TYPE)===-1?Ih:Y.PARSER_MEDIA_TYPE,Pt=ur==="application/xhtml+xml"?Ux:nm,Ee=Sn(Y,"ALLOWED_TAGS")?Qe({},Y.ALLOWED_TAGS,Pt):Ne,qe=Sn(Y,"ALLOWED_ATTR")?Qe({},Y.ALLOWED_ATTR,Pt):ht,Ml=Sn(Y,"ALLOWED_NAMESPACES")?Qe({},Y.ALLOWED_NAMESPACES,Ux):qh,u0=Sn(Y,"ADD_URI_SAFE_ATTR")?Qe(Bn(fa),Y.ADD_URI_SAFE_ATTR,Pt):fa,d0=Sn(Y,"ADD_DATA_URI_TAGS")?Qe(Bn(h0),Y.ADD_DATA_URI_TAGS,Pt):h0,jt=Sn(Y,"FORBID_CONTENTS")?Qe({},Y.FORBID_CONTENTS,Pt):pa,Zs=Sn(Y,"FORBID_TAGS")?Qe({},Y.FORBID_TAGS,Pt):Bn({}),Vt=Sn(Y,"FORBID_ATTR")?Qe({},Y.FORBID_ATTR,Pt):Bn({}),Ot=Sn(Y,"USE_PROFILES")?Y.USE_PROFILES:!1,hi=Y.ALLOW_ARIA_ATTR!==!1,Ts=Y.ALLOW_DATA_ATTR!==!1,vn=Y.ALLOW_UNKNOWN_PROTOCOLS||!1,Pn=Y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ui=Y.SAFE_FOR_TEMPLATES||!1,Fs=Y.SAFE_FOR_XML!==!1,Ms=Y.WHOLE_DOCUMENT||!1,Ss=Y.RETURN_DOM||!1,zs=Y.RETURN_DOM_FRAGMENT||!1,ua=Y.RETURN_TRUSTED_TYPE||!1,Ei=Y.FORCE_BODY||!1,o0=Y.SANITIZE_DOM!==!1,Eh=Y.SANITIZE_NAMED_PROPS||!1,Il=Y.KEEP_CONTENT!==!1,ma=Y.IN_PLACE||!1,Re=Y.ALLOWED_URI_REGEXP||GT,xa=Y.NAMESPACE||qi,_o=Y.MATHML_TEXT_INTEGRATION_POINTS||_o,$n=Y.HTML_INTEGRATION_POINTS||$n,Ue=Y.CUSTOM_ELEMENT_HANDLING||{},Y.CUSTOM_ELEMENT_HANDLING&&f0(Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ue.tagNameCheck=Y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&f0(Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ue.attributeNameCheck=Y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Y.CUSTOM_ELEMENT_HANDLING&&typeof Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ue.allowCustomizedBuiltInElements=Y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ui&&(Ts=!1),zs&&(Ss=!0),Ot&&(Ee=Qe({},P5),qe=[],Ot.html===!0&&(Qe(Ee,O5),Qe(qe,$5)),Ot.svg===!0&&(Qe(Ee,Hx),Qe(qe,Wx),Qe(qe,wu)),Ot.svgFilters===!0&&(Qe(Ee,Gx),Qe(qe,Wx),Qe(qe,wu)),Ot.mathMl===!0&&(Qe(Ee,Vx),Qe(qe,B5),Qe(qe,wu))),Y.ADD_TAGS&&(typeof Y.ADD_TAGS=="function"?Wt.tagCheck=Y.ADD_TAGS:(Ee===Ne&&(Ee=Bn(Ee)),Qe(Ee,Y.ADD_TAGS,Pt))),Y.ADD_ATTR&&(typeof Y.ADD_ATTR=="function"?Wt.attributeCheck=Y.ADD_ATTR:(qe===ht&&(qe=Bn(qe)),Qe(qe,Y.ADD_ATTR,Pt))),Y.ADD_URI_SAFE_ATTR&&Qe(u0,Y.ADD_URI_SAFE_ATTR,Pt),Y.FORBID_CONTENTS&&(jt===pa&&(jt=Bn(jt)),Qe(jt,Y.FORBID_CONTENTS,Pt)),Y.ADD_FORBID_CONTENTS&&(jt===pa&&(jt=Bn(jt)),Qe(jt,Y.ADD_FORBID_CONTENTS,Pt)),Il&&(Ee["#text"]=!0),Ms&&Qe(Ee,["html","head","body"]),Ee.table&&(Qe(Ee,["tbody"]),delete Zs.tbody),Y.TRUSTED_TYPES_POLICY){if(typeof Y.TRUSTED_TYPES_POLICY.createHTML!="function")throw P0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw P0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');P=Y.TRUSTED_TYPES_POLICY,F=P.createHTML("")}else P===void 0&&(P=JH(b,r)),P!==null&&typeof F=="string"&&(F=P.createHTML(""));ai&&ai(Y),mr=Y}},x0=Qe({},[...Hx,...Gx,...UH]),ba=Qe({},[...Vx,...FH]),Dl=function(Y){let me=A(Y);(!me||!me.tagName)&&(me={namespaceURI:xa,tagName:"template"});const Ce=nm(Y.tagName),wt=nm(me.tagName);return Ml[Y.namespaceURI]?Y.namespaceURI===Cl?me.namespaceURI===qi?Ce==="svg":me.namespaceURI===_l?Ce==="svg"&&(wt==="annotation-xml"||_o[wt]):!!x0[Ce]:Y.namespaceURI===_l?me.namespaceURI===qi?Ce==="math":me.namespaceURI===Cl?Ce==="math"&&$n[wt]:!!ba[Ce]:Y.namespaceURI===qi?me.namespaceURI===Cl&&!$n[wt]||me.namespaceURI===_l&&!_o[wt]?!1:!ba[Ce]&&(p0[Ce]||!x0[Ce]):!!(ur==="application/xhtml+xml"&&Ml[Y.namespaceURI]):!1},Wi=function(Y){R0(e.removed,{element:Y});try{A(Y).removeChild(Y)}catch{D(Y)}},pr=function(Y,me){try{R0(e.removed,{attribute:me.getAttributeNode(Y),from:me})}catch{R0(e.removed,{attribute:null,from:me})}if(me.removeAttribute(Y),Y==="is")if(Ss||zs)try{Wi(me)}catch{}else try{me.setAttribute(Y,"")}catch{}},fr=function(Y){let me=null,Ce=null;if(Ei)Y="<remove></remove>"+Y;else{const $t=Fx(Y,/^[\r\n\t ]+/);Ce=$t&&$t[0]}ur==="application/xhtml+xml"&&xa===qi&&(Y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Y+"</body></html>");const wt=P?P.createHTML(Y):Y;if(xa===qi)try{me=new f().parseFromString(wt,ur)}catch{}if(!me||!me.documentElement){me=ee.createDocument(xa,"template",null);try{me.documentElement.innerHTML=m0?F:wt}catch{}}const ts=me.body||me.documentElement;return Y&&Ce&&ts.insertBefore(i.createTextNode(Ce),ts.childNodes[0]||null),xa===qi?_.call(me,Ms?"html":"body")[0]:Ms?me.documentElement:ts},_h=function(Y){return C.call(Y.ownerDocument||Y,Y,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},g0=function(Y){return Y instanceof p&&(typeof Y.nodeName!="string"||typeof Y.textContent!="string"||typeof Y.removeChild!="function"||!(Y.attributes instanceof m)||typeof Y.removeAttribute!="function"||typeof Y.setAttribute!="function"||typeof Y.namespaceURI!="string"||typeof Y.insertBefore!="function"||typeof Y.hasChildNodes!="function")},Co=function(Y){return typeof c=="function"&&Y instanceof c};function jn(ze,Y,me){ju(ze,Ce=>{Ce.call(e,Y,me,mr)})}const Mo=function(Y){let me=null;if(jn(B.beforeSanitizeElements,Y,null),g0(Y))return Wi(Y),!0;const Ce=Pt(Y.nodeName);if(jn(B.uponSanitizeElement,Y,{tagName:Ce,allowedTags:Ee}),Fs&&Y.hasChildNodes()&&!Co(Y.firstElementChild)&&Ks(/<[/\w!]/g,Y.innerHTML)&&Ks(/<[/\w!]/g,Y.textContent)||Y.nodeType===B0.progressingInstruction||Fs&&Y.nodeType===B0.comment&&Ks(/<[/\w]/g,Y.data))return Wi(Y),!0;if(!(Wt.tagCheck instanceof Function&&Wt.tagCheck(Ce))&&(!Ee[Ce]||Zs[Ce])){if(!Zs[Ce]&&wn(Ce)&&(Ue.tagNameCheck instanceof RegExp&&Ks(Ue.tagNameCheck,Ce)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(Ce)))return!1;if(Il&&!jt[Ce]){const wt=A(Y)||Y.parentNode,ts=T(Y)||Y.childNodes;if(ts&&wt){const $t=ts.length;for(let As=$t-1;As>=0;--As){const Ys=I(ts[As],!0);Ys.__removalCount=(Y.__removalCount||0)+1,wt.insertBefore(Ys,k(Y))}}}return Wi(Y),!0}return Y instanceof d&&!Dl(Y)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&Ks(/<\/no(script|embed|frames)/i,Y.innerHTML)?(Wi(Y),!0):(ui&&Y.nodeType===B0.text&&(me=Y.textContent,ju([U,L,Ae],wt=>{me=O0(me,wt," ")}),Y.textContent!==me&&(R0(e.removed,{element:Y.cloneNode()}),Y.textContent=me)),jn(B.afterSanitizeElements,Y,null),!1)},Rl=function(Y,me,Ce){if(o0&&(me==="id"||me==="name")&&(Ce in i||Ce in zl))return!1;if(!(Ts&&!Vt[me]&&Ks(Me,me))){if(!(hi&&Ks(de,me))){if(!(Wt.attributeCheck instanceof Function&&Wt.attributeCheck(me,Y))){if(!qe[me]||Vt[me]){if(!(wn(Y)&&(Ue.tagNameCheck instanceof RegExp&&Ks(Ue.tagNameCheck,Y)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(Y))&&(Ue.attributeNameCheck instanceof RegExp&&Ks(Ue.attributeNameCheck,me)||Ue.attributeNameCheck instanceof Function&&Ue.attributeNameCheck(me,Y))||me==="is"&&Ue.allowCustomizedBuiltInElements&&(Ue.tagNameCheck instanceof RegExp&&Ks(Ue.tagNameCheck,Ce)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(Ce))))return!1}else if(!u0[me]){if(!Ks(Re,O0(Ce,we,""))){if(!((me==="src"||me==="xlink:href"||me==="href")&&Y!=="script"&&PH(Ce,"data:")===0&&d0[Y])){if(!(vn&&!Ks(xe,O0(Ce,we,"")))){if(Ce)return!1}}}}}}}return!0},wn=function(Y){return Y!=="annotation-xml"&&Fx(Y,Le)},b0=function(Y){jn(B.beforeSanitizeAttributes,Y,null);const{attributes:me}=Y;if(!me||g0(Y))return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:qe,forceKeepAttr:void 0};let wt=me.length;for(;wt--;){const ts=me[wt],{name:$t,namespaceURI:As,value:Ys}=ts,mi=Pt($t),Ol=Ys;let xs=$t==="value"?Ol:$H(Ol);if(Ce.attrName=mi,Ce.attrValue=xs,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,jn(B.uponSanitizeAttribute,Y,Ce),xs=Ce.attrValue,Eh&&(mi==="id"||mi==="name")&&(pr($t,Y),xs=c0+xs),Fs&&Ks(/((--!?|])>)|<\/(style|title|textarea)/i,xs)){pr($t,Y);continue}if(mi==="attributename"&&Fx(xs,"href")){pr($t,Y);continue}if(Ce.forceKeepAttr)continue;if(!Ce.keepAttr){pr($t,Y);continue}if(!Pn&&Ks(/\/>/i,xs)){pr($t,Y);continue}ui&&ju([U,L,Ae],v0=>{xs=O0(xs,v0," ")});const y0=Pt(Y.nodeName);if(!Rl(y0,mi,xs)){pr($t,Y);continue}if(P&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!As)switch(b.getAttributeType(y0,mi)){case"TrustedHTML":{xs=P.createHTML(xs);break}case"TrustedScriptURL":{xs=P.createScriptURL(xs);break}}if(xs!==Ol)try{As?Y.setAttributeNS(As,$t,xs):Y.setAttribute($t,xs),g0(Y)?Wi(Y):R5(e.removed)}catch{pr($t,Y)}}jn(B.afterSanitizeAttributes,Y,null)},Ch=function ze(Y){let me=null;const Ce=_h(Y);for(jn(B.beforeSanitizeShadowDOM,Y,null);me=Ce.nextNode();)jn(B.uponSanitizeShadowNode,me,null),Mo(me),b0(me),me.content instanceof a&&ze(me.content);jn(B.afterSanitizeShadowDOM,Y,null)};return e.sanitize=function(ze){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=null,Ce=null,wt=null,ts=null;if(m0=!ze,m0&&(ze="<!-->"),typeof ze!="string"&&!Co(ze))if(typeof ze.toString=="function"){if(ze=ze.toString(),typeof ze!="string")throw P0("dirty is not a string, aborting")}else throw P0("toString is not a function");if(!e.isSupported)return ze;if(Vi||fs(Y),e.removed=[],typeof ze=="string"&&(ma=!1),ma){if(ze.nodeName){const Ys=Pt(ze.nodeName);if(!Ee[Ys]||Zs[Ys])throw P0("root node is forbidden and cannot be sanitized in-place")}}else if(ze instanceof c)me=fr("<!---->"),Ce=me.ownerDocument.importNode(ze,!0),Ce.nodeType===B0.element&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?me=Ce:me.appendChild(Ce);else{if(!Ss&&!ui&&!Ms&&ze.indexOf("<")===-1)return P&&ua?P.createHTML(ze):ze;if(me=fr(ze),!me)return Ss?null:ua?F:""}me&&Ei&&Wi(me.firstChild);const $t=_h(ma?ze:me);for(;wt=$t.nextNode();)Mo(wt),b0(wt),wt.content instanceof a&&Ch(wt.content);if(ma)return ze;if(Ss){if(zs)for(ts=S.call(me.ownerDocument);me.firstChild;)ts.appendChild(me.firstChild);else ts=me;return(qe.shadowroot||qe.shadowrootmode)&&(ts=O.call(n,ts,!0)),ts}let As=Ms?me.outerHTML:me.innerHTML;return Ms&&Ee["!doctype"]&&me.ownerDocument&&me.ownerDocument.doctype&&me.ownerDocument.doctype.name&&Ks(VT,me.ownerDocument.doctype.name)&&(As="<!DOCTYPE "+me.ownerDocument.doctype.name+`>
`+As),ui&&ju([U,L,Ae],Ys=>{As=O0(As,Ys," ")}),P&&ua?P.createHTML(As):As},e.setConfig=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fs(ze),Vi=!0},e.clearConfig=function(){mr=null,Vi=!1},e.isValidAttribute=function(ze,Y,me){mr||fs({});const Ce=Pt(ze),wt=Pt(Y);return Rl(Ce,wt,me)},e.addHook=function(ze,Y){typeof Y=="function"&&R0(B[ze],Y)},e.removeHook=function(ze,Y){if(Y!==void 0){const me=RH(B[ze],Y);return me===-1?void 0:OH(B[ze],me,1)[0]}return R5(B[ze])},e.removeHooks=function(ze){B[ze]=[]},e.removeAllHooks=function(){B=U5()},e}var eG=WT();function Zx(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function tG(t){if(!t)return[];const e=[];let i=0;const n=[],r=/\$\$([^$]*?)\$\$/g;let a;for(;(a=r.exec(t))!==null;)n.push({type:"display",latex:a[1],start:a.index,end:a.index+a[0].length});const l=/\$([^$]+?)\$/g;let c;for(;(c=l.exec(t))!==null;)n.some(h=>c.index>=h.start&&c.index<h.end)||n.push({type:"inline",latex:c[1],start:c.index,end:c.index+c[0].length});return n.sort((d,h)=>d.start-h.start),n.forEach(d=>{const h=t.slice(i,d.start);h&&e.push({type:"text",content:h}),e.push({type:d.type==="display"?"display-math":"inline-math",content:d.latex}),i=d.end}),i<t.length&&e.push({type:"text",content:t.slice(i)}),e}function sG(t){if(!t)return"";const i=tG(t).map(n=>{if(n.type==="text")return Zx(n.content);if(n.type==="inline-math")try{return z5.renderToString(n.content,{throwOnError:!1,displayMode:!1})}catch{return Zx(n.content)}else if(n.type==="display-math")try{return z5.renderToString(n.content,{throwOnError:!1,displayMode:!0})}catch{return Zx(n.content)}return""}).join("");return eG.sanitize(i,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function Yx(t){return typeof t=="string"?sG(t):t.map(e=>(e.type==="text",e.content)).join("")}const rn=bn("Storage"),r2="magic-internet-math-progress",Xx=2;function ZT(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function YT(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const i=e.user;if(typeof i.totalXP!="number"||typeof i.level!="number"||!Array.isArray(i.sectionsCompleted)||!Array.isArray(i.partsCompleted))return!1;const n=e.streak;return!(typeof n.currentStreak!="number"||typeof n.longestStreak!="number")}function bo(){if(!ZT())return rn.warn("localStorage is not available"),null;try{const t=localStorage.getItem(r2);if(!t)return null;const e=JSON.parse(t);return YT(e)?(e.version!==Xx&&(rn.info(`Migrating state from v${e.version} to v${Xx}`),e.version=Xx),e):(rn.warn("Invalid gamification state structure in localStorage"),null)}catch(t){rn.error("Failed to load gamification state:",t);try{localStorage.removeItem(r2),rn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function of(t){if(!ZT()){rn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(r2,JSON.stringify(t))}catch(e){rn.error("Failed to save gamification state:",e)}}const iG=1;function nG(){const t=bo();if(!t){rn.warn("No progress data to export");return}const e={version:iG,exportedAt:new Date().toISOString(),source:window.location.hostname,state:t},i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(i),r=document.createElement("a");r.href=n,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),rn.info("Progress exported successfully")}function rG(t){if(t===null||typeof t!="object")return!1;const e=t;return!(typeof e.version!="number"||typeof e.exportedAt!="string"||typeof e.source!="string"||!YT(e.state))}async function aG(t){return new Promise(e=>{const i=new FileReader;i.onload=n=>{var r;try{const a=(r=n.target)==null?void 0:r.result;if(typeof a!="string"){e({success:!1,message:"Failed to read file"});return}const l=JSON.parse(a);if(!rG(l)){e({success:!1,message:"Invalid backup file format"});return}const c=bo(),d=(c==null?void 0:c.user.totalXP)??0,h=l.state.user.totalXP;if(d>h){e({success:!1,message:`Current progress (${d} XP) is higher than backup (${h} XP). Import cancelled.`});return}of(l.state),rn.info(`Progress imported: ${h} XP from backup dated ${l.exportedAt}`),e({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(a){rn.error("Failed to parse backup file:",a),e({success:!1,message:"Failed to parse backup file. Please check the file format."})}},i.onerror=()=>{e({success:!1,message:"Failed to read file"})},i.readAsText(t)})}function lG(){const t=bo();return t?{totalXP:t.user.totalXP,level:t.user.level,sectionsCompleted:t.user.sectionsCompleted.length}:null}function oG(){const t=bo();t&&(t.migratedToServer=!0,of(t),rn.info("Marked progress as migrated to server"))}function cG(){const t=bo();if(!t)return!1;const e=t.user.totalXP>0||Object.keys(t.sections).length>0,i=!t.migratedToServer;return e&&i}function XT(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:dG(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:Bk,completed:!1},lastUpdated:t}}function dG(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const hG=50;function F5(t){return Math.round(t/hG*100)}const uG=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>F5(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>F5(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function mG(t){const e=[];for(const i of uG){const n=t.achievements.find(a=>a.id===i.id);if(n!=null&&n.unlockedAt)continue;i.check(t)>=i.target&&e.push({id:i.id,title:i.title,description:i.description,category:i.category,xpReward:i.xpReward,timestamp:Date.now()})}return e}function vh(t){for(let e=pd.length-1;e>=0;e--)if(t>=pd[e])return e+1;return 1}function pG(t,e){if(e>=pd.length)return 100;const i=pd[e-1],n=pd[e],r=(t-i)/(n-i)*100;return Math.min(100,Math.max(0,r))}function KT(t,e){const i={easy:Ws.QUIZ_EASY,medium:Ws.QUIZ_MEDIUM,hard:Ws.QUIZ_HARD}[t];return Math.round(i*(e/100))}const fG=1e3*60*60*24;function xG(t){const e=new Date,i=e.toISOString().split("T")[0],n=t.streak.lastActivityDate;if(t.dailyGoals.date!==i&&(t={...t,dailyGoals:{date:i,xpEarned:0,xpGoal:Bk,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!n)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:i}};const r=new Date(n),a=Math.floor((e.getTime()-r.getTime())/fG);if(a===0)return t;if(a===1){const l=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:l,longestStreak:Math.max(l,t.streak.longestStreak),lastActivityDate:i}}}return a===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:i}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:i}}}function QT(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const i=Math.max(...e.map(a=>a.score)),n=e.reduce((a,l)=>a+l.score,0)/e.length;return e.filter(a=>a.score===100).length>=1||n>=90&&e.length>=3?"mastered":i>=80||n>=70&&e.length>=2?"familiar":"learning"}function gG(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Eb=bn("GamificationReducer");function bG(t,e,i){const n=t.sections[e];if(n!=null&&n.visitedAt)return t;const r=t.user.totalXP+Ws.SECTION_VISIT;return{...t,user:{...t.user,totalXP:r,level:vh(r)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:i,completedAt:(n==null?void 0:n.completedAt)??null,timeSpentSeconds:(n==null?void 0:n.timeSpentSeconds)??0,quizAttempts:(n==null?void 0:n.quizAttempts)??[],masteryLevel:(n==null?void 0:n.masteryLevel)??"learning",visualizationsInteracted:(n==null?void 0:n.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ws.SECTION_VISIT},lastUpdated:i}}function yG(t,e,i){const n=t.sections[e];if(n!=null&&n.completedAt)return t;if(!n)return Eb.warn(`Attempted to complete unvisited section: ${e}`),t;const r=t.user.totalXP+Ws.SECTION_COMPLETE,a=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:r,level:vh(r),sectionsCompleted:a},sections:{...t.sections,[e]:{...n,completedAt:i,masteryLevel:QT(n)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ws.SECTION_COMPLETE},lastUpdated:i}}function vG(t,e,i){const{sectionId:n,difficulty:r,score:a,correctAnswers:l,totalQuestions:c}=e,d=t.sections[n];if(!d)return Eb.warn(`Section ${n} was not visited before quiz`),t;const h=KT(r,a),m=l===c,p=m?Math.round(h*(1+Ws.QUIZ_PERFECT_BONUS)):h,f=t.user.totalXP+p,b={timestamp:i,difficulty:r,score:a,correctAnswers:l,totalQuestions:c,xpEarned:p},N=[...d.quizAttempts,b],I={...d,quizAttempts:N},D=QT(I),k=a>=80&&!d.completedAt,T=k&&!t.user.sectionsCompleted.includes(n),A=T?Ws.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:f+A,level:vh(f+A),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:m?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:T?[...t.user.sectionsCompleted,n]:t.user.sectionsCompleted},sections:{...t.sections,[n]:{...I,masteryLevel:D,completedAt:k?d.completedAt||i:d.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+p+A},lastUpdated:i}}function jG(t,e,i,n){const r=t.sections[e];if(r!=null&&r.visualizationsInteracted.includes(i))return t;if(!r)return Eb.warn(`Section ${e} was not visited before visualization`),t;const a=t.user.totalXP+Ws.VISUALIZATION_USE,l=[...r.visualizationsInteracted,i];return{...t,user:{...t.user,totalXP:a,level:vh(a),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...r,visualizationsInteracted:l}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ws.VISUALIZATION_USE},lastUpdated:n}}function wG(t,e,i){let n=wr.GAME_PARTICIPATION;const r=wr.TIER_MULTIPLIER[e.tier],a=Math.floor(Math.max(0,e.score)/wr.POINTS_PER_XP_UNIT*Ws.QUIZ_MEDIUM*r);if(n+=a,e.correctAnswers===e.totalQuestions&&e.totalQuestions>=10&&(n+=wr.PERFECT_GAME_BONUS),e.fastAnswers>=10&&(n+=wr.SPEED_DEMON_BONUS),e.maxStreak>=10&&(n+=wr.STREAK_MASTER_BONUS),e.isMultiplayer&&e.placement)switch(e.placement){case 1:n+=wr.FIRST_PLACE_BONUS;break;case 2:n+=wr.SECOND_PLACE_BONUS;break;case 3:n+=wr.THIRD_PLACE_BONUS;break}const l=t.user.totalXP+n,c=t.racingStats,d=e.score>((c==null?void 0:c.highScore)??0),h=e.isMultiplayer&&e.placement===1,m={gamesPlayed:((c==null?void 0:c.gamesPlayed)??0)+1,multiplayerGamesPlayed:((c==null?void 0:c.multiplayerGamesPlayed)??0)+(e.isMultiplayer?1:0),totalPoints:((c==null?void 0:c.totalPoints)??0)+Math.max(0,e.score),highScore:d?e.score:(c==null?void 0:c.highScore)??0,highestTierUnlocked:Math.max((c==null?void 0:c.highestTierUnlocked)??1,e.tier),longestStreak:Math.max((c==null?void 0:c.longestStreak)??0,e.maxStreak),fastAnswers:((c==null?void 0:c.fastAnswers)??0)+e.fastAnswers,totalCorrect:((c==null?void 0:c.totalCorrect)??0)+e.correctAnswers,totalAttempted:((c==null?void 0:c.totalAttempted)??0)+e.totalQuestions,multiplayerWins:((c==null?void 0:c.multiplayerWins)??0)+(h?1:0),lastPlayedAt:i},p=t.achievements.map(f=>{if(f.unlockedAt)return f;switch(f.id){case"racing-rookie":if(m.gamesPlayed>=1)return{...f,progress:1,unlockedAt:i};break;case"speed-demon":return m.fastAnswers>=50?{...f,progress:50,unlockedAt:i}:{...f,progress:Math.min(m.fastAnswers,50)};case"streak-legend":return m.longestStreak>=20?{...f,progress:20,unlockedAt:i}:{...f,progress:Math.min(m.longestStreak,20)};case"tier-climber":return m.highestTierUnlocked>=6?{...f,progress:6,unlockedAt:i}:{...f,progress:m.highestTierUnlocked};case"modular-master":return m.totalPoints>=1e4?{...f,progress:1e4,unlockedAt:i}:{...f,progress:Math.min(m.totalPoints,1e4)};case"multiplayer-champion":return m.multiplayerWins>=5?{...f,progress:5,unlockedAt:i}:{...f,progress:Math.min(m.multiplayerWins,5)}}return f});return{...t,user:{...t.user,totalXP:l,level:vh(l)},racingStats:m,achievements:p,dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+n},lastUpdated:i}}function NG(t,e){const i=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"LOAD_FROM_SERVER":return{...e.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...e.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...t,migratedToServer:!0,lastUpdated:i};case"VISIT_SECTION":return bG(t,e.payload.sectionId,i);case"COMPLETE_SECTION":return yG(t,e.payload.sectionId,i);case"RECORD_QUIZ":return vG(t,e.payload,i);case"USE_VISUALIZATION":return jG(t,e.payload.sectionId,e.payload.name,i);case"UPDATE_STREAK":return xG(t);case"RESET_PROGRESS":return XT();case"RECORD_RACE_GAME":return wG(t,e.payload,i);default:return t}}const kG=["none","learning","familiar","mastered"];function H5(t){return kG.indexOf(t)}function TG(t,e){return H5(t)>=H5(e)?t:e}function a2(t,e){return t?e?new Date(t)<new Date(e)?t:e:t:e}function SG(t,e){const i=new Set,n=[];for(const r of[...t,...e]){const a=`${r.timestamp}-${r.difficulty}-${r.score}`;i.has(a)||(i.add(a),n.push(r))}return n.sort((r,a)=>new Date(r.timestamp).getTime()-new Date(a.timestamp).getTime())}function AG(t,e){return t?e?{sectionId:t.sectionId,visitedAt:a2(t.visitedAt,e.visitedAt),completedAt:a2(t.completedAt,e.completedAt),timeSpentSeconds:Math.max(t.timeSpentSeconds,e.timeSpentSeconds),quizAttempts:SG(t.quizAttempts,e.quizAttempts),masteryLevel:TG(t.masteryLevel,e.masteryLevel),visualizationsInteracted:[...new Set([...t.visualizationsInteracted,...e.visualizationsInteracted])]}:t:e}function EG(t,e){const i=new Set([...Object.keys(t),...Object.keys(e)]),n={};for(const r of i){const a=AG(t[r],e[r]);a&&(n[r]=a)}return n}function qG(t,e){return{totalXP:Math.max(t.totalXP,e.totalXP),level:Math.max(t.level,e.level),sectionsCompleted:[...new Set([...t.sectionsCompleted,...e.sectionsCompleted])],partsCompleted:[...new Set([...t.partsCompleted,...e.partsCompleted])],quizzesTaken:Math.max(t.quizzesTaken,e.quizzesTaken),perfectQuizzes:Math.max(t.perfectQuizzes,e.perfectQuizzes),visualizationsUsed:Math.max(t.visualizationsUsed,e.visualizationsUsed),totalTimeSpentMinutes:Math.max(t.totalTimeSpentMinutes,e.totalTimeSpentMinutes),joinedAt:a2(t.joinedAt,e.joinedAt)||t.joinedAt}}function IG(t,e){const i=new Map;for(const n of[...e,...t]){const r=i.get(n.id);r?(n.unlockedAt&&!r.unlockedAt||!n.unlockedAt&&!r.unlockedAt&&n.progress>r.progress)&&i.set(n.id,n):i.set(n.id,n)}return Array.from(i.values())}function _G(t,e){return{...t.longestStreak>=e.longestStreak?t:e,longestStreak:Math.max(t.longestStreak,e.longestStreak),freezesRemaining:Math.max(t.freezesRemaining,e.freezesRemaining)}}function CG(t,e){return t.date>e.date?t:e.date>t.date?e:{date:t.date,xpEarned:Math.max(t.xpEarned,e.xpEarned),xpGoal:t.xpGoal,completed:t.completed||e.completed}}function MG(t,e){return{version:Math.max(t.version,e.version),user:qG(t.user,e.user),sections:EG(t.sections,e.sections),achievements:IG(t.achievements,e.achievements),streak:_G(t.streak,e.streak),dailyGoals:CG(t.dailyGoals,e.dailyGoals),lastUpdated:new Date().toISOString()}}const kr=bn("ProgressSync");class zG{constructor(){Es(this,"syncInterval",null);Es(this,"debounceTimeout",null);Es(this,"lastSyncTime",0);Es(this,"lastSyncedAt",null);Es(this,"isAuthenticated",!1);Es(this,"pendingState",null);Es(this,"_status","idle");Es(this,"statusListeners",new Set);Es(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)})}get status(){return this._status}onStatusChange(e){return this.statusListeners.add(e),()=>this.statusListeners.delete(e)}setStatus(e){this._status=e;for(const i of this.statusListeners)i(e)}setAuthenticated(e){this.isAuthenticated=e,e||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(e){this.lastSyncedAt=e}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Pr())return kr.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const e=Or(),n=await Vn(e,"getProgress")({});return n.data.found&&n.data.progress&&(this.lastSyncedAt=n.data.lastSyncedAt,kr.info("Fetched progress from server")),n.data}catch(e){return kr.error("Failed to fetch progress from server:",e),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};kr.info("Starting migration of local progress to server");const i=await this.fetchServerProgress();let n;i.found&&i.progress?(kr.info("Server has existing progress, merging with local"),n=MG(e,i.progress)):n=e;const r=await this.syncNow(n);return r.success?(kr.info("Migration complete"),{success:!0,state:r.state||n,merged:i.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},sk),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(e){this.isAuthenticated&&(this.pendingState=e,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(e)},ik))}async syncNow(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Pr())return{success:!1,error:"Firebase not configured"};const i=Date.now();if(i-this.lastSyncTime<tk)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const n=Or(),a=await Vn(n,"syncProgress")({progress:e,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=i,this.lastSyncedAt=a.data.lastSyncedAt,this.pendingState=null,a.data.merged&&a.data.serverProgress?(kr.info("Server merged states due to conflict"),of(a.data.serverProgress),this.setStatus("success"),{success:!0,state:a.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:e,merged:!1})}catch(n){return kr.error("Sync failed:",n),this.setStatus("error"),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(e,i=3){for(let n=0;n<i;n++){const r=await this.syncNow(e);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(n<i-1){const a=1e3*Math.pow(2,n);kr.debug(`Sync retry ${n+1}/${i} in ${a}ms`),await new Promise(l=>setTimeout(l,a)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let Kx=null;function G5(){return Kx||(Kx=new zG),Kx}const Ta=bn("GamificationProgress"),DG=500,RG=()=>{var t,e;return!!((e=(t=window.webkit)==null?void 0:t.messageHandlers)!=null&&e.progressHandler)},Nu=(t,e)=>{RG()&&window.webkit.messageHandlers.progressHandler.postMessage({type:t,...e})},JT=Z.createContext(null);function OG({children:t,courseId:e}){const[i,n]=Z.useReducer(NG,XT()),[r,a]=Z.useState(!0),[l,c]=Z.useState([]),[d,h]=Z.useState("idle"),m=Z.useRef(null),p=Z.useRef(!1),f=Z.useRef(!1),{isAuthenticated:b,npub:N}=xh(),I=Z.useCallback(S=>`${e}:${S}`,[e]);Z.useEffect(()=>{const S=bo();S&&n({type:"LOAD_STATE",payload:S}),b||a(!1)},[]),Z.useEffect(()=>{const S=G5(),_=S.onStatusChange(h),O=f.current;return f.current=b,b&&!O?(Ta.info("User authenticated, fetching progress from server"),S.setAuthenticated(!0),(async()=>{a(!0);try{const U=cG(),L=bo();if(U&&L){Ta.info("Migrating local progress to server");const Ae=await S.migrateLocalProgress(L);Ae.success&&Ae.state?(n({type:"MERGE_WITH_SERVER",payload:Ae.state}),oG(),Ta.info("Migration complete")):Ta.warn("Migration failed, using local state")}else{const Ae=await S.fetchServerProgress();Ae.found&&Ae.progress?(Ta.info("Loaded progress from server"),n({type:"LOAD_FROM_SERVER",payload:Ae.progress}),S.setLastSyncedAt(Ae.lastSyncedAt)):Ta.info("No server progress found, using local state")}}catch(U){Ta.error("Failed to sync with server:",U)}finally{a(!1),p.current=!0}})(),S.startPeriodicSync()):!b&&O?(Ta.info("User logged out"),S.setAuthenticated(!1),S.stopPeriodicSync(),p.current=!1):b||a(!1),()=>{_()}},[b,N]),Z.useEffect(()=>{r||(of(i),b&&p.current&&G5().requestSync(i))},[i,r,b]),Z.useEffect(()=>{r||n({type:"UPDATE_STREAK"})},[r]),Z.useEffect(()=>{if(!r)return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{const S=mG(i);S.length>0&&c(_=>[..._,...S])},DG),()=>{m.current&&clearTimeout(m.current)}},[i,r]);const D=Z.useCallback(S=>{n({type:"VISIT_SECTION",payload:{sectionId:I(S)}})},[I]),k=Z.useCallback(S=>{n({type:"COMPLETE_SECTION",payload:{sectionId:I(S)}}),Nu("sectionCompleted",{sectionId:I(S),courseId:e})},[I,e]),T=Z.useCallback((S,_,O,B,U)=>{const L=I(S);n({type:"RECORD_QUIZ",payload:{sectionId:L,difficulty:_,score:O,correctAnswers:B,totalQuestions:U}}),Nu("quizCompleted",{sectionId:L,courseId:e,score:O,correctAnswers:B,totalQuestions:U}),O>=80&&Nu("sectionCompleted",{sectionId:L,courseId:e})},[I,e]),A=Z.useCallback((S,_)=>{n({type:"USE_VISUALIZATION",payload:{sectionId:I(S),name:_}})},[I]),P=Z.useCallback(S=>{c(_=>_.filter(O=>O.id!==S))},[]),F=Z.useCallback(()=>{n({type:"RESET_PROGRESS"})},[]),ee=Z.useCallback(S=>{n({type:"RECORD_RACE_GAME",payload:S}),Nu("raceGameCompleted",{courseId:e,score:S.score,tier:S.tier,correctAnswers:S.correctAnswers,totalQuestions:S.totalQuestions,isMultiplayer:S.isMultiplayer})},[e]),C=Z.useMemo(()=>({state:i,isLoading:r,notifications:l,syncStatus:d,visitSection:D,completeSection:k,recordQuiz:T,useVisualization:A,dismissNotification:P,resetProgress:F,recordRaceGame:ee,dispatch:n}),[i,r,l,d,D,k,T,A,P,F,ee,n]);return s.jsx(JT.Provider,{value:C,children:t})}function Eo(){const t=Z.useContext(JT);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}const PG=Od;function $G(t){return`${PG}:${t}`}function BG({children:t}){return s.jsx(OG,{courseId:Od,children:t})}const qb=Z.createContext({});function Ib(t){const e=Z.useRef(null);return e.current===null&&(e.current=t()),e.current}const _b=typeof window<"u",eS=_b?Z.useLayoutEffect:Z.useEffect,cf=Z.createContext(null);function Cb(t,e){t.indexOf(e)===-1&&t.push(e)}function Mb(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const na=(t,e,i)=>i>e?e:i<t?t:i;let zb=()=>{};const ra={},tS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sS(t){return typeof t=="object"&&t!==null}const iS=t=>/^0[^.\s]+$/u.test(t);function Db(t){let e;return()=>(e===void 0&&(e=t()),e)}const hn=t=>t,LG=(t,e)=>i=>e(t(i)),jh=(...t)=>t.reduce(LG),Hd=(t,e,i)=>{const n=e-t;return n===0?1:(i-t)/n};class Rb{constructor(){this.subscriptions=[]}add(e){return Cb(this.subscriptions,e),()=>Mb(this.subscriptions,e)}notify(e,i,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,i,n);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,i,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tr=t=>t*1e3,ln=t=>t/1e3;function nS(t,e){return e?t*(1e3/e):0}const rS=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,UG=1e-7,FG=12;function HG(t,e,i,n,r){let a,l,c=0;do l=e+(i-e)/2,a=rS(l,n,r)-t,a>0?i=l:e=l;while(Math.abs(a)>UG&&++c<FG);return l}function wh(t,e,i,n){if(t===e&&i===n)return hn;const r=a=>HG(a,0,1,t,i);return a=>a===0||a===1?a:rS(r(a),e,n)}const aS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lS=t=>e=>1-t(1-e),oS=wh(.33,1.53,.69,.99),Ob=lS(oS),cS=aS(Ob),dS=t=>(t*=2)<1?.5*Ob(t):.5*(2-Math.pow(2,-10*(t-1))),Pb=t=>1-Math.sin(Math.acos(t)),hS=lS(Pb),uS=aS(Pb),GG=wh(.42,0,1,1),VG=wh(0,0,.58,1),mS=wh(.42,0,.58,1),WG=t=>Array.isArray(t)&&typeof t[0]!="number",pS=t=>Array.isArray(t)&&typeof t[0]=="number",ZG={linear:hn,easeIn:GG,easeInOut:mS,easeOut:VG,circIn:Pb,circInOut:uS,circOut:hS,backIn:Ob,backInOut:cS,backOut:oS,anticipate:dS},YG=t=>typeof t=="string",V5=t=>{if(pS(t)){zb(t.length===4);const[e,i,n,r]=t;return wh(e,i,n,r)}else if(YG(t))return ZG[t];return t},ku=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function XG(t,e){let i=new Set,n=new Set,r=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,p=!1,f=!1)=>{const N=f&&r?i:n;return p&&l.add(m),N.has(m)||N.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,r){a=!0;return}r=!0,[i,n]=[n,i],i.forEach(d),i.clear(),r=!1,a&&(a=!1,h.process(m))}};return h}const KG=40;function fS(t,e){let i=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>i=!0,l=ku.reduce((A,P)=>(A[P]=XG(a),A),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:p,preRender:f,render:b,postRender:N}=l,I=()=>{const A=ra.useManualTiming?r.timestamp:performance.now();i=!1,ra.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(A-r.timestamp,KG),1)),r.timestamp=A,r.isProcessing=!0,c.process(r),d.process(r),h.process(r),m.process(r),p.process(r),f.process(r),b.process(r),N.process(r),r.isProcessing=!1,i&&e&&(n=!1,t(I))},D=()=>{i=!0,n=!0,r.isProcessing||t(I)};return{schedule:ku.reduce((A,P)=>{const F=l[P];return A[P]=(ee,C=!1,S=!1)=>(i||D(),F.schedule(ee,C,S)),A},{}),cancel:A=>{for(let P=0;P<ku.length;P++)l[ku[P]].cancel(A)},state:r,steps:l}}const{schedule:Mt,cancel:gl,state:Rs,steps:Qx}=fS(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let rm;function QG(){rm=void 0}const ji={now:()=>(rm===void 0&&ji.set(Rs.isProcessing||ra.useManualTiming?Rs.timestamp:performance.now()),rm),set:t=>{rm=t,queueMicrotask(QG)}},xS=t=>e=>typeof e=="string"&&e.startsWith(t),gS=xS("--"),JG=xS("var(--"),$b=t=>JG(t)?eV.test(t.split("/*")[0].trim()):!1,eV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,i0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gd={...i0,transform:t=>na(0,1,t)},Tu={...i0,default:1},xd=t=>Math.round(t*1e5)/1e5,Bb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tV(t){return t==null}const sV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lb=(t,e)=>i=>!!(typeof i=="string"&&sV.test(i)&&i.startsWith(t)||e&&!tV(i)&&Object.prototype.hasOwnProperty.call(i,e)),bS=(t,e,i)=>n=>{if(typeof n!="string")return n;const[r,a,l,c]=n.match(Bb);return{[t]:parseFloat(r),[e]:parseFloat(a),[i]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},iV=t=>na(0,255,t),Jx={...i0,transform:t=>Math.round(iV(t))},eo={test:Lb("rgb","red"),parse:bS("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:n=1})=>"rgba("+Jx.transform(t)+", "+Jx.transform(e)+", "+Jx.transform(i)+", "+xd(Gd.transform(n))+")"};function nV(t){let e="",i="",n="",r="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),e+=e,i+=i,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const l2={test:Lb("#"),parse:nV,transform:eo.transform},Nh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qa=Nh("deg"),sr=Nh("%"),Ge=Nh("px"),rV=Nh("vh"),aV=Nh("vw"),W5={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},ac={test:Lb("hsl","hue"),parse:bS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:n=1})=>"hsla("+Math.round(t)+", "+sr.transform(xd(e))+", "+sr.transform(xd(i))+", "+xd(Gd.transform(n))+")"},os={test:t=>eo.test(t)||l2.test(t)||ac.test(t),parse:t=>eo.test(t)?eo.parse(t):ac.test(t)?ac.parse(t):l2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?eo.transform(t):ac.transform(t),getAnimatableNone:t=>{const e=os.parse(t);return e.alpha=0,os.transform(e)}},lV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oV(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Bb))==null?void 0:e.length)||0)+(((i=t.match(lV))==null?void 0:i.length)||0)>0}const yS="number",vS="color",cV="var",dV="var(",Z5="${}",hV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vd(t){const e=t.toString(),i=[],n={color:[],number:[],var:[]},r=[];let a=0;const c=e.replace(hV,d=>(os.test(d)?(n.color.push(a),r.push(vS),i.push(os.parse(d))):d.startsWith(dV)?(n.var.push(a),r.push(cV),i.push(d)):(n.number.push(a),r.push(yS),i.push(parseFloat(d))),++a,Z5)).split(Z5);return{values:i,split:c,indexes:n,types:r}}function jS(t){return Vd(t).values}function wS(t){const{split:e,types:i}=Vd(t),n=e.length;return r=>{let a="";for(let l=0;l<n;l++)if(a+=e[l],r[l]!==void 0){const c=i[l];c===yS?a+=xd(r[l]):c===vS?a+=os.transform(r[l]):a+=r[l]}return a}}const uV=t=>typeof t=="number"?0:os.test(t)?os.getAnimatableNone(t):t;function mV(t){const e=jS(t);return wS(t)(e.map(uV))}const bl={test:oV,parse:jS,createTransformer:wS,getAnimatableNone:mV};function e1(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function pV({hue:t,saturation:e,lightness:i,alpha:n}){t/=360,e/=100,i/=100;let r=0,a=0,l=0;if(!e)r=a=l=i;else{const c=i<.5?i*(1+e):i+e-i*e,d=2*i-c;r=e1(d,c,t+1/3),a=e1(d,c,t),l=e1(d,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function cp(t,e){return i=>i>0?e:t}const Ht=(t,e,i)=>t+(e-t)*i,t1=(t,e,i)=>{const n=t*t,r=i*(e*e-n)+n;return r<0?0:Math.sqrt(r)},fV=[l2,eo,ac],xV=t=>fV.find(e=>e.test(t));function Y5(t){const e=xV(t);if(!e)return!1;let i=e.parse(t);return e===ac&&(i=pV(i)),i}const X5=(t,e)=>{const i=Y5(t),n=Y5(e);if(!i||!n)return cp(t,e);const r={...i};return a=>(r.red=t1(i.red,n.red,a),r.green=t1(i.green,n.green,a),r.blue=t1(i.blue,n.blue,a),r.alpha=Ht(i.alpha,n.alpha,a),eo.transform(r))},o2=new Set(["none","hidden"]);function gV(t,e){return o2.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function bV(t,e){return i=>Ht(t,e,i)}function Ub(t){return typeof t=="number"?bV:typeof t=="string"?$b(t)?cp:os.test(t)?X5:jV:Array.isArray(t)?NS:typeof t=="object"?os.test(t)?X5:yV:cp}function NS(t,e){const i=[...t],n=i.length,r=t.map((a,l)=>Ub(a)(a,e[l]));return a=>{for(let l=0;l<n;l++)i[l]=r[l](a);return i}}function yV(t,e){const i={...t,...e},n={};for(const r in i)t[r]!==void 0&&e[r]!==void 0&&(n[r]=Ub(t[r])(t[r],e[r]));return r=>{for(const a in n)i[a]=n[a](r);return i}}function vV(t,e){const i=[],n={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],l=t.indexes[a][n[a]],c=t.values[l]??0;i[r]=c,n[a]++}return i}const jV=(t,e)=>{const i=bl.createTransformer(e),n=Vd(t),r=Vd(e);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?o2.has(t)&&!r.values.length||o2.has(e)&&!n.values.length?gV(t,e):jh(NS(vV(n,r),r.values),i):cp(t,e)};function kS(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Ht(t,e,i):Ub(t)(t,e)}const wV=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>Mt.update(e,i),stop:()=>gl(e),now:()=>Rs.isProcessing?Rs.timestamp:ji.now()}},TS=(t,e,i=10)=>{let n="";const r=Math.max(Math.round(e/i),2);for(let a=0;a<r;a++)n+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},dp=2e4;function Fb(t){let e=0;const i=50;let n=t.next(e);for(;!n.done&&e<dp;)e+=i,n=t.next(e);return e>=dp?1/0:e}function NV(t,e=100,i){const n=i({...t,keyframes:[0,e]}),r=Math.min(Fb(n),dp);return{type:"keyframes",ease:a=>n.next(r*a).value/e,duration:ln(r)}}const kV=5;function SS(t,e,i){const n=Math.max(e-kV,0);return nS(i-t(n),e-n)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},s1=.001;function TV({duration:t=Kt.duration,bounce:e=Kt.bounce,velocity:i=Kt.velocity,mass:n=Kt.mass}){let r,a,l=1-e;l=na(Kt.minDamping,Kt.maxDamping,l),t=na(Kt.minDuration,Kt.maxDuration,ln(t)),l<1?(r=h=>{const m=h*l,p=m*t,f=m-i,b=c2(h,l),N=Math.exp(-p);return s1-f/b*N},a=h=>{const p=h*l*t,f=p*i+i,b=Math.pow(l,2)*Math.pow(h,2)*t,N=Math.exp(-p),I=c2(Math.pow(h,2),l);return(-r(h)+s1>0?-1:1)*((f-b)*N)/I}):(r=h=>{const m=Math.exp(-h*t),p=(h-i)*t+1;return-s1+m*p},a=h=>{const m=Math.exp(-h*t),p=(i-h)*(t*t);return m*p});const c=5/t,d=AV(r,a,c);if(t=tr(t),isNaN(d))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const SV=12;function AV(t,e,i){let n=i;for(let r=1;r<SV;r++)n=n-t(n)/e(n);return n}function c2(t,e){return t*Math.sqrt(1-e*e)}const EV=["duration","bounce"],qV=["stiffness","damping","mass"];function K5(t,e){return e.some(i=>t[i]!==void 0)}function IV(t){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...t};if(!K5(t,qV)&&K5(t,EV))if(t.visualDuration){const i=t.visualDuration,n=2*Math.PI/(i*1.2),r=n*n,a=2*na(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Kt.mass,stiffness:r,damping:a}}else{const i=TV(t);e={...e,...i,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function hp(t=Kt.visualDuration,e=Kt.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:r}=i;const a=i.keyframes[0],l=i.keyframes[i.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:p,velocity:f,isResolvedFromDuration:b}=IV({...i,velocity:-ln(i.velocity||0)}),N=f||0,I=h/(2*Math.sqrt(d*m)),D=l-a,k=ln(Math.sqrt(d/m)),T=Math.abs(D)<5;n||(n=T?Kt.restSpeed.granular:Kt.restSpeed.default),r||(r=T?Kt.restDelta.granular:Kt.restDelta.default);let A;if(I<1){const F=c2(k,I);A=ee=>{const C=Math.exp(-I*k*ee);return l-C*((N+I*k*D)/F*Math.sin(F*ee)+D*Math.cos(F*ee))}}else if(I===1)A=F=>l-Math.exp(-k*F)*(D+(N+k*D)*F);else{const F=k*Math.sqrt(I*I-1);A=ee=>{const C=Math.exp(-I*k*ee),S=Math.min(F*ee,300);return l-C*((N+I*k*D)*Math.sinh(S)+F*D*Math.cosh(S))/F}}const P={calculatedDuration:b&&p||null,next:F=>{const ee=A(F);if(b)c.done=F>=p;else{let C=F===0?N:0;I<1&&(C=F===0?tr(N):SS(A,F,ee));const S=Math.abs(C)<=n,_=Math.abs(l-ee)<=r;c.done=S&&_}return c.value=c.done?l:ee,c},toString:()=>{const F=Math.min(Fb(P),dp),ee=TS(C=>P.next(F*C).value,F,30);return F+"ms "+ee},toTransition:()=>{}};return P}hp.applyToOptions=t=>{const e=NV(t,100,hp);return t.ease=e.ease,t.duration=tr(e.duration),t.type="keyframes",t};function d2({keyframes:t,velocity:e=0,power:i=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const p=t[0],f={done:!1,value:p},b=S=>c!==void 0&&S<c||d!==void 0&&S>d,N=S=>c===void 0?d:d===void 0||Math.abs(c-S)<Math.abs(d-S)?c:d;let I=i*e;const D=p+I,k=l===void 0?D:l(D);k!==D&&(I=k-p);const T=S=>-I*Math.exp(-S/n),A=S=>k+T(S),P=S=>{const _=T(S),O=A(S);f.done=Math.abs(_)<=h,f.value=f.done?k:O};let F,ee;const C=S=>{b(f.value)&&(F=S,ee=hp({keyframes:[f.value,N(f.value)],velocity:SS(A,S,f.value),damping:r,stiffness:a,restDelta:h,restSpeed:m}))};return C(0),{calculatedDuration:null,next:S=>{let _=!1;return!ee&&F===void 0&&(_=!0,P(S),C(S)),F!==void 0&&S>=F?ee.next(S-F):(!_&&P(S),f)}}}function _V(t,e,i){const n=[],r=i||ra.mix||kS,a=t.length-1;for(let l=0;l<a;l++){let c=r(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||hn:e;c=jh(d,c)}n.push(c)}return n}function CV(t,e,{clamp:i=!0,ease:n,mixer:r}={}){const a=t.length;if(zb(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=_V(e,n,r),d=c.length,h=m=>{if(l&&m<t[0])return e[0];let p=0;if(d>1)for(;p<t.length-2&&!(m<t[p+1]);p++);const f=Hd(t[p],t[p+1],m);return c[p](f)};return i?m=>h(na(t[0],t[a-1],m)):h}function MV(t,e){const i=t[t.length-1];for(let n=1;n<=e;n++){const r=Hd(0,e,n);t.push(Ht(i,1,r))}}function zV(t){const e=[0];return MV(e,t.length-1),e}function DV(t,e){return t.map(i=>i*e)}function RV(t,e){return t.map(()=>e||mS).splice(0,t.length-1)}function gd({duration:t=300,keyframes:e,times:i,ease:n="easeInOut"}){const r=WG(n)?n.map(V5):V5(n),a={done:!1,value:e[0]},l=DV(i&&i.length===e.length?i:zV(e),t),c=CV(l,e,{ease:Array.isArray(r)?r:RV(e,r)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const OV=t=>t!==null;function Hb(t,{repeat:e,repeatType:i="loop"},n,r=1){const a=t.filter(OV),c=r<0||e&&i!=="loop"&&e%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const PV={decay:d2,inertia:d2,tween:gd,keyframes:gd,spring:hp};function AS(t){typeof t.type=="string"&&(t.type=PV[t.type])}class Gb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const $V=t=>t/100;class Vb extends Gb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:i}=this.options;i&&i.updatedAt!==ji.now()&&this.tick(ji.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;AS(e);const{type:i=gd,repeat:n=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=i||gd;d!==gd&&typeof c[0]!="number"&&(this.mixKeyframes=jh($V,kS(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Fb(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:n,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:p,repeatType:f,repeatDelay:b,type:N,onUpdate:I,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let A=this.currentTime,P=n;if(p){const S=Math.min(this.currentTime,r)/c;let _=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(f==="reverse"?(O=1-O,b&&(O-=b/c)):f==="mirror"&&(P=l)),A=na(0,1,O)*c}const F=T?{done:!1,value:m[0]}:P.next(A);a&&(F.value=a(F.value));let{done:ee}=F;!T&&d!==null&&(ee=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ee);return C&&N!==d2&&(F.value=Hb(m,this.options,D,this.speed)),I&&I(F.value),C&&this.finish(),F}then(e,i){return this.finished.then(e,i)}get duration(){return ln(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(this.currentTime)}set time(e){var i;e=tr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ji.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=ln(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=wV,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(r=this.options).onPlay)==null||a.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=i??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ji.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function BV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const to=t=>t*180/Math.PI,h2=t=>{const e=to(Math.atan2(t[1],t[0]));return u2(e)},LV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:h2,rotateZ:h2,skewX:t=>to(Math.atan(t[1])),skewY:t=>to(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},u2=t=>(t=t%360,t<0&&(t+=360),t),Q5=h2,J5=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ej=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),UV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J5,scaleY:ej,scale:t=>(J5(t)+ej(t))/2,rotateX:t=>u2(to(Math.atan2(t[6],t[5]))),rotateY:t=>u2(to(Math.atan2(-t[2],t[0]))),rotateZ:Q5,rotate:Q5,skewX:t=>to(Math.atan(t[4])),skewY:t=>to(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function m2(t){return t.includes("scale")?1:0}function p2(t,e){if(!t||t==="none")return m2(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(i)n=UV,r=i;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=LV,r=c}if(!r)return m2(e);const a=n[e],l=r[1].split(",").map(HV);return typeof a=="function"?a(l):l[a]}const FV=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return p2(i,e)};function HV(t){return parseFloat(t.trim())}const n0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],r0=new Set(n0),tj=t=>t===i0||t===Ge,GV=new Set(["x","y","z"]),VV=n0.filter(t=>!GV.has(t));function WV(t){const e=[];return VV.forEach(i=>{const n=t.getValue(i);n!==void 0&&(e.push([i,n.get()]),n.set(i.startsWith("scale")?1:0))}),e}const lo={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>p2(e,"x"),y:(t,{transform:e})=>p2(e,"y")};lo.translateX=lo.x;lo.translateY=lo.y;const oo=new Set;let f2=!1,x2=!1,g2=!1;function ES(){if(x2){const t=Array.from(oo).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),i=new Map;e.forEach(n=>{const r=WV(n);r.length&&(i.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const r=i.get(n);r&&r.forEach(([a,l])=>{var c;(c=n.getValue(a))==null||c.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}x2=!1,f2=!1,oo.forEach(t=>t.complete(g2)),oo.clear()}function qS(){oo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(x2=!0)})}function ZV(){g2=!0,qS(),ES(),g2=!1}class Wb{constructor(e,i,n,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=n,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),f2||(f2=!0,Mt.read(qS),Mt.resolveKeyframes(ES))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:n,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&i){const c=n.readValue(i,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}BV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YV=t=>t.startsWith("--");function XV(t,e,i){YV(e)?t.style.setProperty(e,i):t.style[e]=i}const KV=Db(()=>window.ScrollTimeline!==void 0),QV={};function JV(t,e){const i=Db(t);return()=>QV[e]??i()}const IS=JV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Y0=([t,e,i,n])=>`cubic-bezier(${t}, ${e}, ${i}, ${n})`,sj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Y0([0,.65,.55,1]),circOut:Y0([.55,0,1,.45]),backIn:Y0([.31,.01,.66,-.59]),backOut:Y0([.33,1.53,.69,.99])};function _S(t,e){if(t)return typeof t=="function"?IS()?TS(t,e):"ease-out":pS(t)?Y0(t):Array.isArray(t)?t.map(i=>_S(i,e)||sj.easeOut):sj[t]}function eW(t,e,i,{delay:n=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:i};d&&(m.offset=d);const p=_S(c,r);Array.isArray(p)&&(m.easing=p);const f={delay:n,duration:r,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(f.pseudoElement=h),t.animate(m,f)}function CS(t){return typeof t=="function"&&"applyToOptions"in t}function tW({type:t,...e}){return CS(t)&&IS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sW extends Gb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:n,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,zb(typeof e.type!="string");const h=tW(e);this.animation=eW(i,n,r,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=Hb(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):XV(i,n,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,n;const e=((n=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:n.call(i).duration)||0;return ln(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=tr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&KV()?(this.animation.timeline=e,hn):i(this)}}const MS={anticipate:dS,backInOut:cS,circInOut:uS};function iW(t){return t in MS}function nW(t){typeof t.ease=="string"&&iW(t.ease)&&(t.ease=MS[t.ease])}const ij=10;class rW extends sW{constructor(e){nW(e),AS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:n,onComplete:r,element:a,...l}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const c=new Vb({...l,autoplay:!1}),d=tr(this.finishedTime??this.time);i.setWithVelocity(c.sample(d-ij).value,c.sample(d).value,ij),c.stop()}}const nj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bl.test(t)||t==="0")&&!t.startsWith("url("));function aW(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function lW(t,e,i,n){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=nj(r,e),c=nj(a,e);return!l||!c?!1:aW(t)||(i==="spring"||CS(i))&&n}function b2(t){t.duration=0,t.type="keyframes"}const oW=new Set(["opacity","clipPath","filter","transform"]),cW=Db(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dW(t){var m;const{motionValue:e,name:i,repeatDelay:n,repeatType:r,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return cW()&&i&&oW.has(i)&&(i!=="transform"||!h)&&!d&&!n&&r!=="mirror"&&a!==0&&l!=="inertia"}const hW=40;class uW extends Gb{constructor({autoplay:e=!0,delay:i=0,type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...p}){var N;super(),this.stop=()=>{var I,D;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=ji.now();const f={autoplay:e,delay:i,type:n,repeat:r,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:m,...p},b=(m==null?void 0:m.KeyframeResolver)||Wb;this.keyframeResolver=new b(c,(I,D,k)=>this.onKeyframesResolved(I,D,f,!k),d,h,m),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,i,n,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=n;this.resolvedAt=ji.now(),lW(e,a,l,c)||((ra.instantAnimations||!d)&&(m==null||m(Hb(e,n,i))),e[0]=e[e.length-1],b2(n),n.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>hW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...n,keyframes:e},b=!h&&dW(f)?new rW({...f,element:f.motionValue.owner.current}):new Vb(f);b.finished.then(()=>this.notifyFinished()).catch(hn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ZV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const mW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pW(t){const e=mW.exec(t);if(!e)return[,];const[,i,n,r]=e;return[`--${i??n}`,r]}function zS(t,e,i=1){const[n,r]=pW(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const l=a.trim();return tS(l)?parseFloat(l):l}return $b(r)?zS(r,e,i+1):r}function Zb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DS=new Set(["width","height","top","left","right","bottom",...n0]),fW={test:t=>t==="auto",parse:t=>t},RS=t=>e=>e.test(t),OS=[i0,Ge,sr,qa,aV,rV,fW],rj=t=>OS.find(RS(t));function xW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iS(t):!0}const gW=new Set(["brightness","contrast","saturate","opacity"]);function bW(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=i.match(Bb)||[];if(!n)return t;const r=i.replace(n,"");let a=gW.has(e)?1:0;return n!==i&&(a*=100),e+"("+a+r+")"}const yW=/\b([a-z-]*)\(.*?\)/gu,y2={...bl,getAnimatableNone:t=>{const e=t.match(yW);return e?e.map(bW).join(" "):t}},aj={...i0,transform:Math.round},vW={rotate:qa,rotateX:qa,rotateY:qa,rotateZ:qa,scale:Tu,scaleX:Tu,scaleY:Tu,scaleZ:Tu,skew:qa,skewX:qa,skewY:qa,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:Gd,originX:W5,originY:W5,originZ:Ge},Yb={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...vW,zIndex:aj,fillOpacity:Gd,strokeOpacity:Gd,numOctaves:aj},jW={...Yb,color:os,backgroundColor:os,outlineColor:os,fill:os,stroke:os,borderColor:os,borderTopColor:os,borderRightColor:os,borderBottomColor:os,borderLeftColor:os,filter:y2,WebkitFilter:y2},PS=t=>jW[t];function $S(t,e){let i=PS(t);return i!==y2&&(i=bl),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const wW=new Set(["auto","none","0"]);function NW(t,e,i){let n=0,r;for(;n<t.length&&!r;){const a=t[n];typeof a=="string"&&!wW.has(a)&&Vd(a).values.length&&(r=t[n]),n++}if(r&&i)for(const a of e)t[a]=$S(i,r)}class kW extends Wb{constructor(e,i,n,r,a){super(e,i,n,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:n}=this;if(!i||!i.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),$b(h))){const m=zS(h,i.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!DS.has(n)||e.length!==2)return;const[r,a]=e,l=rj(r),c=rj(a);if(l!==c)if(tj(l)&&tj(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else lo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,n=[];for(let r=0;r<e.length;r++)(e[r]===null||xW(e[r]))&&n.push(r);n.length&&NW(e,n,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&e.getValue(n,r).jump(r,!1)}measureEndState(){var c;const{element:e,name:i,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(i);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=lo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function TW(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=(i==null?void 0:i[t])??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const BS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function LS(t){return sS(t)&&"offsetHeight"in t}const lj=30,SW=t=>!isNaN(parseFloat(t));class AW{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const r=ji.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=ji.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Rb);const n=this.events[e].add(i);return e==="change"?()=>{n(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,n){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ji.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lj)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,lj);return nS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lc(t,e){return new AW(t,e)}const{schedule:Xb}=fS(queueMicrotask,!1),An={x:!1,y:!1};function US(){return An.x||An.y}function EW(t){return t==="x"||t==="y"?An[t]?null:(An[t]=!0,()=>{An[t]=!1}):An.x||An.y?null:(An.x=An.y=!0,()=>{An.x=An.y=!1})}function FS(t,e){const i=TW(t),n=new AbortController,r={passive:!0,...e,signal:n.signal};return[i,r,()=>n.abort()]}function oj(t){return!(t.pointerType==="touch"||US())}function qW(t,e,i={}){const[n,r,a]=FS(t,i),l=c=>{if(!oj(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=p=>{oj(p)&&(h(p),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,r)};return n.forEach(c=>{c.addEventListener("pointerenter",l,r)}),a}const HS=(t,e)=>e?t===e?!0:HS(t,e.parentElement):!1,Kb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _W(t){return IW.has(t.tagName)||t.tabIndex!==-1}const am=new WeakSet;function cj(t){return e=>{e.key==="Enter"&&t(e)}}function i1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CW=(t,e)=>{const i=t.currentTarget;if(!i)return;const n=cj(()=>{if(am.has(i))return;i1(i,"down");const r=cj(()=>{i1(i,"up")}),a=()=>i1(i,"cancel");i.addEventListener("keyup",r,e),i.addEventListener("blur",a,e)});i.addEventListener("keydown",n,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",n),e)};function dj(t){return Kb(t)&&!US()}function MW(t,e,i={}){const[n,r,a]=FS(t,i),l=c=>{const d=c.currentTarget;if(!dj(c))return;am.add(d);const h=e(d,c),m=(b,N)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",f),am.has(d)&&am.delete(d),dj(b)&&typeof h=="function"&&h(b,{success:N})},p=b=>{m(b,d===window||d===document||i.useGlobalTarget||HS(d,b.target))},f=b=>{m(b,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",f,r)};return n.forEach(c=>{(i.useGlobalTarget?window:c).addEventListener("pointerdown",l,r),LS(c)&&(c.addEventListener("focus",h=>CW(h,r)),!_W(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function GS(t){return sS(t)&&"ownerSVGElement"in t}function zW(t){return GS(t)&&t.tagName==="svg"}const Vs=t=>!!(t&&t.getVelocity),DW=[...OS,os,bl],RW=t=>DW.find(RS(t)),Qb=Z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function hj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OW(...t){return e=>{let i=!1;const n=t.map(r=>{const a=hj(r,e);return!i&&typeof a=="function"&&(i=!0),a});if(i)return()=>{for(let r=0;r<n.length;r++){const a=n[r];typeof a=="function"?a():hj(t[r],null)}}}}function PW(...t){return Z.useCallback(OW(...t),t)}class $W extends Z.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const n=i.offsetParent,r=LS(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=i.offsetHeight||0,a.width=i.offsetWidth||0,a.top=i.offsetTop,a.left=i.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function BW({children:t,isPresent:e,anchorX:i,root:n}){const r=Z.useId(),a=Z.useRef(null),l=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=Z.useContext(Qb),d=PW(a,t==null?void 0:t.ref);return Z.useInsertionEffect(()=>{const{width:h,height:m,top:p,left:f,right:b}=l.current;if(e||!a.current||!h||!m)return;const N=i==="left"?`left: ${f}`:`right: ${b}`;a.current.dataset.motionPopId=r;const I=document.createElement("style");c&&(I.nonce=c);const D=n??document.head;return D.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${N}px !important;
            top: ${p}px !important;
          }
        `),()=>{D.contains(I)&&D.removeChild(I)}},[e]),s.jsx($W,{isPresent:e,childRef:a,sizeRef:l,children:Z.cloneElement(t,{ref:d})})}const LW=({children:t,initial:e,isPresent:i,onExitComplete:n,custom:r,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const h=Ib(UW),m=Z.useId();let p=!0,f=Z.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:i,custom:r,onExitComplete:b=>{h.set(b,!0);for(const N of h.values())if(!N)return;n&&n()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[i,h,n]);return a&&p&&(f={...f}),Z.useMemo(()=>{h.forEach((b,N)=>h.set(N,!1))},[i]),Z.useEffect(()=>{!i&&!h.size&&n&&n()},[i]),l==="popLayout"&&(t=s.jsx(BW,{isPresent:i,anchorX:c,root:d,children:t})),s.jsx(cf.Provider,{value:f,children:t})};function UW(){return new Map}function VS(t=!0){const e=Z.useContext(cf);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:n,register:r}=e,a=Z.useId();Z.useEffect(()=>{if(t)return r(a)},[t]);const l=Z.useCallback(()=>t&&n&&n(a),[a,n,t]);return!i&&n?[!1,l]:[!0]}const Su=t=>t.key||"";function uj(t){const e=[];return Z.Children.forEach(t,i=>{Z.isValidElement(i)&&e.push(i)}),e}const up=({children:t,custom:e,initial:i=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,m]=VS(l),p=Z.useMemo(()=>uj(t),[t]),f=l&&!h?[]:p.map(Su),b=Z.useRef(!0),N=Z.useRef(p),I=Ib(()=>new Map),[D,k]=Z.useState(p),[T,A]=Z.useState(p);eS(()=>{b.current=!1,N.current=p;for(let ee=0;ee<T.length;ee++){const C=Su(T[ee]);f.includes(C)?I.delete(C):I.get(C)!==!0&&I.set(C,!1)}},[T,f.length,f.join("-")]);const P=[];if(p!==D){let ee=[...p];for(let C=0;C<T.length;C++){const S=T[C],_=Su(S);f.includes(_)||(ee.splice(C,0,S),P.push(S))}return a==="wait"&&P.length&&(ee=P),A(uj(ee)),k(p),null}const{forceRender:F}=Z.useContext(qb);return s.jsx(s.Fragment,{children:T.map(ee=>{const C=Su(ee),S=l&&!h?!1:p===T||f.includes(C),_=()=>{if(I.has(C))I.set(C,!0);else return;let O=!0;I.forEach(B=>{B||(O=!1)}),O&&(F==null||F(),A(N.current),l&&(m==null||m()),n&&n())};return s.jsx(LW,{isPresent:S,initial:!b.current||i?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:d,onExitComplete:S?void 0:_,anchorX:c,children:ee},C)})})},WS=Z.createContext({strict:!1}),mj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uc={};for(const t in mj)Uc[t]={isEnabled:e=>mj[t].some(i=>!!e[i])};function FW(t){for(const e in t)Uc[e]={...Uc[e],...t[e]}}const HW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HW.has(t)}let ZS=t=>!mp(t);function GW(t){typeof t=="function"&&(ZS=e=>e.startsWith("on")?!mp(e):t(e))}try{GW(require("@emotion/is-prop-valid").default)}catch{}function VW(t,e,i){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||(ZS(r)||i===!0&&mp(r)||!e&&!mp(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}const df=Z.createContext({});function hf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wd(t){return typeof t=="string"||Array.isArray(t)}const Jb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ey=["initial",...Jb];function uf(t){return hf(t.animate)||ey.some(e=>Wd(t[e]))}function YS(t){return!!(uf(t)||t.variants)}function WW(t,e){if(uf(t)){const{initial:i,animate:n}=t;return{initial:i===!1||Wd(i)?i:void 0,animate:Wd(n)?n:void 0}}return t.inherit!==!1?e:{}}function ZW(t){const{initial:e,animate:i}=WW(t,Z.useContext(df));return Z.useMemo(()=>({initial:e,animate:i}),[pj(e),pj(i)])}function pj(t){return Array.isArray(t)?t.join(" "):t}function fj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const L0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const i=fj(t,e.target.x),n=fj(t,e.target.y);return`${i}% ${n}%`}},YW={correct:(t,{treeScale:e,projectionDelta:i})=>{const n=t,r=bl.parse(t);if(r.length>5)return n;const a=bl.createTransformer(t),l=typeof r[0]!="number"?1:0,c=i.x.scale*e.x,d=i.y.scale*e.y;r[0+l]/=c,r[1+l]/=d;const h=Ht(c,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),a(r)}},v2={borderRadius:{...L0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:L0,borderTopRightRadius:L0,borderBottomLeftRadius:L0,borderBottomRightRadius:L0,boxShadow:YW};function XS(t,{layout:e,layoutId:i}){return r0.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!v2[t]||t==="opacity")}const XW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KW=n0.length;function QW(t,e,i){let n="",r=!0;for(let a=0;a<KW;a++){const l=n0[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||i){const h=BS(c,Yb[l]);if(!d){r=!1;const m=XW[l]||l;n+=`${m}(${h}) `}i&&(e[l]=h)}}return n=n.trim(),i?n=i(e,r?"":n):r&&(n="none"),n}function ty(t,e,i){const{style:n,vars:r,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(r0.has(d)){l=!0;continue}else if(gS(d)){r[d]=h;continue}else{const m=BS(h,Yb[d]);d.startsWith("origin")?(c=!0,a[d]=m):n[d]=m}}if(e.transform||(l||i?n.transform=QW(e,t.transform,i):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;n.transformOrigin=`${d} ${h} ${m}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KS(t,e,i){for(const n in e)!Vs(e[n])&&!XS(n,i)&&(t[n]=e[n])}function JW({transformTemplate:t},e){return Z.useMemo(()=>{const i=sy();return ty(i,e,t),Object.assign({},i.vars,i.style)},[e])}function eZ(t,e){const i=t.style||{},n={};return KS(n,i,t),Object.assign(n,JW(t,e)),n}function tZ(t,e){const i={},n=eZ(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=n,i}const sZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},iZ={offset:"strokeDashoffset",array:"strokeDasharray"};function nZ(t,e,i=1,n=0,r=!0){t.pathLength=1;const a=r?sZ:iZ;t[a.offset]=Ge.transform(-n);const l=Ge.transform(e),c=Ge.transform(i);t[a.array]=`${l} ${c}`}function QS(t,{attrX:e,attrY:i,attrScale:n,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...c},d,h,m){if(ty(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:f}=t;p.transform&&(f.transform=p.transform,delete p.transform),(f.transform||p.transformOrigin)&&(f.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),f.transform&&(f.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),i!==void 0&&(p.y=i),n!==void 0&&(p.scale=n),r!==void 0&&nZ(p,r,a,l,!1)}const JS=()=>({...sy(),attrs:{}}),eA=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rZ(t,e,i,n){const r=Z.useMemo(()=>{const a=JS();return QS(a,e,eA(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};KS(a,t.style,t),r.style={...a,...r.style}}return r}const aZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iy(t){return typeof t!="string"||t.includes("-")?!1:!!(aZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function lZ(t,e,i,{latestValues:n},r,a=!1){const c=(iy(t)?rZ:tZ)(e,n,r,t),d=VW(e,typeof t=="string",a),h=t!==Z.Fragment?{...d,...c,ref:i}:{},{children:m}=e,p=Z.useMemo(()=>Vs(m)?m.get():m,[m]);return Z.createElement(t,{...h,children:p})}function xj(t){const e=[{},{}];return t==null||t.values.forEach((i,n)=>{e[0][n]=i.get(),e[1][n]=i.getVelocity()}),e}function ny(t,e,i,n){if(typeof e=="function"){const[r,a]=xj(n);e=e(i!==void 0?i:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=xj(n);e=e(i!==void 0?i:t.custom,r,a)}return e}function lm(t){return Vs(t)?t.get():t}function oZ({scrapeMotionValuesFromProps:t,createRenderState:e},i,n,r){return{latestValues:cZ(i,n,r,t),renderState:e()}}function cZ(t,e,i,n){const r={},a=n(t,{});for(const f in a)r[f]=lm(a[f]);let{initial:l,animate:c}=t;const d=uf(t),h=YS(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=i?i.initial===!1:!1;m=m||l===!1;const p=m?c:l;if(p&&typeof p!="boolean"&&!hf(p)){const f=Array.isArray(p)?p:[p];for(let b=0;b<f.length;b++){const N=ny(t,f[b]);if(N){const{transitionEnd:I,transition:D,...k}=N;for(const T in k){let A=k[T];if(Array.isArray(A)){const P=m?A.length-1:0;A=A[P]}A!==null&&(r[T]=A)}for(const T in I)r[T]=I[T]}}}return r}const tA=t=>(e,i)=>{const n=Z.useContext(df),r=Z.useContext(cf),a=()=>oZ(t,e,n,r);return i?a():Ib(a)};function ry(t,e,i){var a;const{style:n}=t,r={};for(const l in n)(Vs(n[l])||e.style&&Vs(e.style[l])||XS(l,t)||((a=i==null?void 0:i.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(r[l]=n[l]);return r}const dZ=tA({scrapeMotionValuesFromProps:ry,createRenderState:sy});function sA(t,e,i){const n=ry(t,e,i);for(const r in t)if(Vs(t[r])||Vs(e[r])){const a=n0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=t[r]}return n}const hZ=tA({scrapeMotionValuesFromProps:sA,createRenderState:JS}),uZ=Symbol.for("motionComponentSymbol");function lc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mZ(t,e,i){return Z.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),i&&(typeof i=="function"?i(n):lc(i)&&(i.current=n))},[e])}const ay=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pZ="framerAppearId",iA="data-"+ay(pZ),nA=Z.createContext({});function fZ(t,e,i,n,r){var I,D;const{visualElement:a}=Z.useContext(df),l=Z.useContext(WS),c=Z.useContext(cf),d=Z.useContext(Qb).reducedMotion,h=Z.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:i,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=Z.useContext(nA);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&xZ(h.current,i,r,p);const f=Z.useRef(!1);Z.useInsertionEffect(()=>{m&&f.current&&m.update(i,c)});const b=i[iA],N=Z.useRef(!!b&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,b))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,b)));return eS(()=>{m&&(f.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),N.current&&m.animationState&&m.animationState.animateChanges())}),Z.useEffect(()=>{m&&(!N.current&&m.animationState&&m.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,b)}),N.current=!1),m.enteringChildren=void 0)}),m}function xZ(t,e,i,n){const{layoutId:r,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:rA(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||c&&lc(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:h})}function rA(t){if(t)return t.options.allowProjection!==!1?t.projection:rA(t.parent)}function n1(t,{forwardMotionProps:e=!1}={},i,n){i&&FW(i);const r=iy(t)?hZ:dZ;function a(c,d){let h;const m={...Z.useContext(Qb),...c,layoutId:gZ(c)},{isStatic:p}=m,f=ZW(c),b=r(c,p);if(!p&&_b){bZ();const N=yZ(m);h=N.MeasureLayout,f.visualElement=fZ(t,b,m,n,N.ProjectionNode)}return s.jsxs(df.Provider,{value:f,children:[h&&f.visualElement?s.jsx(h,{visualElement:f.visualElement,...m}):null,lZ(t,c,mZ(b,f.visualElement,d),b,p,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=Z.forwardRef(a);return l[uZ]=t,l}function gZ({layoutId:t}){const e=Z.useContext(qb).id;return e&&t!==void 0?e+"-"+t:t}function bZ(t,e){Z.useContext(WS).strict}function yZ(t){const{drag:e,layout:i}=Uc;if(!e&&!i)return{};const n={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function vZ(t,e){if(typeof Proxy>"u")return n1;const i=new Map,n=(a,l)=>n1(a,l,t,e),r=(a,l)=>n(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?n:(i.has(l)||i.set(l,n1(l,void 0,t,e)),i.get(l))})}function aA({top:t,left:e,right:i,bottom:n}){return{x:{min:e,max:i},y:{min:t,max:n}}}function jZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wZ(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:n.y,right:n.x}}function r1(t){return t===void 0||t===1}function j2({scale:t,scaleX:e,scaleY:i}){return!r1(t)||!r1(e)||!r1(i)}function Ql(t){return j2(t)||lA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lA(t){return gj(t.x)||gj(t.y)}function gj(t){return t&&t!=="0%"}function pp(t,e,i){const n=t-i,r=e*n;return i+r}function bj(t,e,i,n,r){return r!==void 0&&(t=pp(t,r,n)),pp(t,i,n)+e}function w2(t,e=0,i=1,n,r){t.min=bj(t.min,e,i,n,r),t.max=bj(t.max,e,i,n,r)}function oA(t,{x:e,y:i}){w2(t.x,e.translate,e.scale,e.originPoint),w2(t.y,i.translate,i.scale,i.originPoint)}const yj=.999999999999,vj=1.0000000000001;function NZ(t,e,i,n=!1){const r=i.length;if(!r)return;e.x=e.y=1;let a,l;for(let c=0;c<r;c++){a=i[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&cc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,oA(t,l)),n&&Ql(a.latestValues)&&cc(t,a.latestValues))}e.x<vj&&e.x>yj&&(e.x=1),e.y<vj&&e.y>yj&&(e.y=1)}function oc(t,e){t.min=t.min+e,t.max=t.max+e}function jj(t,e,i,n,r=.5){const a=Ht(t.min,t.max,r);w2(t,e,i,a,n)}function cc(t,e){jj(t.x,e.x,e.scaleX,e.scale,e.originX),jj(t.y,e.y,e.scaleY,e.scale,e.originY)}function cA(t,e){return aA(wZ(t.getBoundingClientRect(),e))}function kZ(t,e,i){const n=cA(t,i),{scroll:r}=e;return r&&(oc(n.x,r.offset.x),oc(n.y,r.offset.y)),n}const wj=()=>({translate:0,scale:1,origin:0,originPoint:0}),dc=()=>({x:wj(),y:wj()}),Nj=()=>({min:0,max:0}),gs=()=>({x:Nj(),y:Nj()}),N2={current:null},dA={current:!1};function TZ(){if(dA.current=!0,!!_b)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>N2.current=t.matches;t.addEventListener("change",e),e()}else N2.current=!1}const SZ=new WeakMap;function AZ(t,e,i){for(const n in e){const r=e[n],a=i[n];if(Vs(r))t.addValue(n,r);else if(Vs(a))t.addValue(n,Lc(r,{owner:t}));else if(a!==r)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(n);t.addValue(n,Lc(l!==void 0?l:r,{owner:t}))}}for(const n in i)e[n]===void 0&&t.removeValue(n);return e}const kj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EZ{scrapeMotionValuesFromProps(e,i,n){return{}}constructor({parent:e,props:i,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ji.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Mt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=i.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=i,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=uf(i),this.isVariantNode=YS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(i,{},this);for(const f in p){const b=p[f];d[f]!==void 0&&Vs(b)&&b.set(d[f])}}mount(e){var i;this.current=e,SZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dA.current||TZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N2.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),gl(this.notifyUpdate),gl(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const n=this.features[i];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=r0.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uc){const i=Uc[e];if(!i)continue;const{isEnabled:n,Feature:r}=i;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let n=0;n<kj.length;n++){const r=kj[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=AZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const n=this.values.get(e);i!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&i!==void 0&&(n=Lc(i===null?void 0:i,{owner:this}),this.addValue(e,n)),n}readValue(e,i){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(tS(n)||iS(n))?n=parseFloat(n):!RW(n)&&bl.test(i)&&(n=$S(e,i)),this.setBaseTarget(e,Vs(n)?n.get():n)),Vs(n)?n.get():n}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var a;const{initial:i}=this.props;let n;if(typeof i=="string"||typeof i=="object"){const l=ny(this.props,i,(a=this.presenceContext)==null?void 0:a.custom);l&&(n=l[e])}if(i&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Vs(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Rb),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){Xb.render(this.render)}}class hA extends EZ{constructor(){super(...arguments),this.KeyframeResolver=kW}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:n}){delete i[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vs(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function uA(t,{style:e,vars:i},n,r){const a=t.style;let l;for(l in e)a[l]=e[l];r==null||r.applyProjectionStyles(a,n);for(l in i)a.setProperty(l,i[l])}function qZ(t){return window.getComputedStyle(t)}class IZ extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=uA}readValueFromInstance(e,i){var n;if(r0.has(i))return(n=this.projection)!=null&&n.isProjecting?m2(i):FV(e,i);{const r=qZ(e),a=(gS(i)?r.getPropertyValue(i):r[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:i}){return cA(e,i)}build(e,i,n){ty(e,i,n.transformTemplate)}scrapeMotionValuesFromProps(e,i,n){return ry(e,i,n)}}const mA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _Z(t,e,i,n){uA(t,e,void 0,n);for(const r in e.attrs)t.setAttribute(mA.has(r)?r:ay(r),e.attrs[r])}class CZ extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gs}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(r0.has(i)){const n=PS(i);return n&&n.default||0}return i=mA.has(i)?i:ay(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,n){return sA(e,i,n)}build(e,i,n){QS(e,i,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,i,n,r){_Z(e,i,n,r)}mount(e){this.isSVGTag=eA(e.tagName),super.mount(e)}}const MZ=(t,e)=>iy(t)?new CZ(e):new IZ(e,{allowProjection:t!==Z.Fragment});function kc(t,e,i){const n=t.getProps();return ny(n,e,i!==void 0?i:n.custom,t)}const k2=t=>Array.isArray(t);function zZ(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Lc(i))}function DZ(t){return k2(t)?t[t.length-1]||0:t}function RZ(t,e){const i=kc(t,e);let{transitionEnd:n={},transition:r={},...a}=i||{};a={...a,...n};for(const l in a){const c=DZ(a[l]);zZ(t,l,c)}}function OZ(t){return!!(Vs(t)&&t.add)}function T2(t,e){const i=t.getValue("willChange");if(OZ(i))return i.add(e);if(!i&&ra.WillChange){const n=new ra.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function pA(t){return t.props[iA]}const PZ=t=>t!==null;function $Z(t,{repeat:e,repeatType:i="loop"},n){const r=t.filter(PZ),a=e&&i!=="loop"&&e%2===1?0:r.length-1;return r[a]}const BZ={type:"spring",stiffness:500,damping:25,restSpeed:10},LZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UZ={type:"keyframes",duration:.8},FZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HZ=(t,{keyframes:e})=>e.length>2?UZ:r0.has(t)?t.startsWith("scale")?LZ(e[1]):BZ:FZ;function GZ({when:t,delay:e,delayChildren:i,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const ly=(t,e,i,n={},r,a)=>l=>{const c=Zb(n,t)||{},d=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-tr(d);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:f=>{e.set(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:r};GZ(c)||Object.assign(m,HZ(t,m)),m.duration&&(m.duration=tr(m.duration)),m.repeatDelay&&(m.repeatDelay=tr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let p=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(b2(m),m.delay===0&&(p=!0)),(ra.instantAnimations||ra.skipAnimations)&&(p=!0,b2(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,p&&!a&&e.get()!==void 0){const f=$Z(m.keyframes,c);if(f!==void 0){Mt.update(()=>{m.onUpdate(f),m.onComplete()});return}}return c.isSync?new Vb(m):new uW(m)};function VZ({protectedKeys:t,needsAnimating:e},i){const n=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,n}function fA(t,e,{delay:i=0,transitionOverride:n,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(a=n);const d=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const m in c){const p=t.getValue(m,t.latestValues[m]??null),f=c[m];if(f===void 0||h&&VZ(h,m))continue;const b={delay:i,...Zb(a||{},m)},N=p.get();if(N!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===N&&!b.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const k=pA(t);if(k){const T=window.MotionHandoffAnimation(k,m,Mt);T!==null&&(b.startTime=T,I=!0)}}T2(t,m),p.start(ly(m,p,f,t.shouldReduceMotion&&DS.has(m)?{type:!1}:b,t,I));const D=p.animation;D&&d.push(D)}return l&&Promise.all(d).then(()=>{Mt.update(()=>{l&&RZ(t,l)})}),d}function xA(t,e,i,n=0,r=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*n;return typeof i=="function"?i(a,l):r===1?a*n:c-a*n}function S2(t,e,i={}){var d;const n=kc(t,e,i.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=n||{};i.transitionOverride&&(r=i.transitionOverride);const a=n?()=>Promise.all(fA(t,n,i)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:f}=r;return WZ(t,e,h,m,p,f,i)}:()=>Promise.resolve(),{when:c}=r;if(c){const[h,m]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(i.delay)])}function WZ(t,e,i=0,n=0,r=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(S2(d,e,{...l,delay:i+(typeof n=="function"?0:n)+xA(t.variantChildren,d,n,r,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function ZZ(t,e,i={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const r=e.map(a=>S2(t,a,i));n=Promise.all(r)}else if(typeof e=="string")n=S2(t,e,i);else{const r=typeof e=="function"?kc(t,e,i.custom):e;n=Promise.all(fA(t,r,i))}return n.then(()=>{t.notify("AnimationComplete",e)})}function gA(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}const YZ=ey.length;function bA(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?bA(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<YZ;i++){const n=ey[i],r=t.props[n];(Wd(r)||r===!1)&&(e[n]=r)}return e}const XZ=[...Jb].reverse(),KZ=Jb.length;function QZ(t){return e=>Promise.all(e.map(({animation:i,options:n})=>ZZ(t,i,n)))}function JZ(t){let e=QZ(t),i=Tj(),n=!0;const r=d=>(h,m)=>{var f;const p=kc(t,m,d==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(p){const{transition:b,transitionEnd:N,...I}=p;h={...h,...I,...N}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,m=bA(t.parent)||{},p=[],f=new Set;let b={},N=1/0;for(let D=0;D<KZ;D++){const k=XZ[D],T=i[k],A=h[k]!==void 0?h[k]:m[k],P=Wd(A),F=k===d?T.isActive:null;F===!1&&(N=D);let ee=A===m[k]&&A!==h[k]&&P;if(ee&&n&&t.manuallyAnimateOnMount&&(ee=!1),T.protectedKeys={...b},!T.isActive&&F===null||!A&&!T.prevProp||hf(A)||typeof A=="boolean")continue;const C=eY(T.prevProp,A);let S=C||k===d&&T.isActive&&!ee&&P||D>N&&P,_=!1;const O=Array.isArray(A)?A:[A];let B=O.reduce(r(k),{});F===!1&&(B={});const{prevResolvedValues:U={}}=T,L={...U,...B},Ae=xe=>{S=!0,f.has(xe)&&(_=!0,f.delete(xe)),T.needsAnimating[xe]=!0;const we=t.getValue(xe);we&&(we.liveStyle=!1)};for(const xe in L){const we=B[xe],Le=U[xe];if(b.hasOwnProperty(xe))continue;let Re=!1;k2(we)&&k2(Le)?Re=!gA(we,Le):Re=we!==Le,Re?we!=null?Ae(xe):f.add(xe):we!==void 0&&f.has(xe)?Ae(xe):T.protectedKeys[xe]=!0}T.prevProp=A,T.prevResolvedValues=B,T.isActive&&(b={...b,...B}),n&&t.blockInitialAnimation&&(S=!1);const Me=ee&&C;S&&(!Me||_)&&p.push(...O.map(xe=>{const we={type:k};if(typeof xe=="string"&&n&&!Me&&t.manuallyAnimateOnMount&&t.parent){const{parent:Le}=t,Re=kc(Le,xe);if(Le.enteringChildren&&Re){const{delayChildren:Ee}=Re.transition||{};we.delay=xA(Le.enteringChildren,t,Ee)}}return{animation:xe,options:we}}))}if(f.size){const D={};if(typeof h.initial!="boolean"){const k=kc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(D.transition=k.transition)}f.forEach(k=>{const T=t.getBaseTarget(k),A=t.getValue(k);A&&(A.liveStyle=!0),D[k]=T??null}),p.push({animation:D})}let I=!!p.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(I=!1),n=!1,I?e(p):Promise.resolve()}function c(d,h){var p;if(i[d].isActive===h)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(f=>{var b;return(b=f.animationState)==null?void 0:b.setActive(d,h)}),i[d].isActive=h;const m=l(d);for(const f in i)i[f].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>i,reset:()=>{i=Tj()}}}function eY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gA(e,t):!1}function Fl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tj(){return{animate:Fl(!0),whileInView:Fl(),whileHover:Fl(),whileTap:Fl(),whileDrag:Fl(),whileFocus:Fl(),exit:Fl()}}class El{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tY extends El{constructor(e){super(e),e.animationState||(e.animationState=JZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let sY=0;class iY extends El{constructor(){super(...arguments),this.id=sY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);i&&!e&&r.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nY={animation:{Feature:tY},exit:{Feature:iY}};function Zd(t,e,i,n={passive:!0}){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i)}function kh(t){return{point:{x:t.pageX,y:t.pageY}}}const rY=t=>e=>Kb(e)&&t(e,kh(e));function bd(t,e,i,n){return Zd(t,e,rY(i),n)}const yA=1e-4,aY=1-yA,lY=1+yA,vA=.01,oY=0-vA,cY=0+vA;function ii(t){return t.max-t.min}function dY(t,e,i){return Math.abs(t-e)<=i}function Sj(t,e,i,n=.5){t.origin=n,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=ii(i)/ii(e),t.translate=Ht(i.min,i.max,t.origin)-t.originPoint,(t.scale>=aY&&t.scale<=lY||isNaN(t.scale))&&(t.scale=1),(t.translate>=oY&&t.translate<=cY||isNaN(t.translate))&&(t.translate=0)}function yd(t,e,i,n){Sj(t.x,e.x,i.x,n?n.originX:void 0),Sj(t.y,e.y,i.y,n?n.originY:void 0)}function Aj(t,e,i){t.min=i.min+e.min,t.max=t.min+ii(e)}function hY(t,e,i){Aj(t.x,e.x,i.x),Aj(t.y,e.y,i.y)}function Ej(t,e,i){t.min=e.min-i.min,t.max=t.min+ii(e)}function fp(t,e,i){Ej(t.x,e.x,i.x),Ej(t.y,e.y,i.y)}function Yi(t){return[t("x"),t("y")]}const jA=({current:t})=>t?t.ownerDocument.defaultView:null,qj=(t,e)=>Math.abs(t-e);function uY(t,e){const i=qj(t.x,e.x),n=qj(t.y,e.y);return Math.sqrt(i**2+n**2)}class wA{constructor(e,i,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=l1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,N=uY(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!N)return;const{point:I}=f,{timestamp:D}=Rs;this.history.push({...I,timestamp:D});const{onStart:k,onMove:T}=this.handlers;b||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,f)},this.handlePointerMove=(f,b)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=a1(b,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(f,b)=>{this.end();const{onEnd:N,onSessionEnd:I,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=l1(f.type==="pointercancel"?this.lastMoveEventInfo:a1(b,this.transformPagePoint),this.history);this.startEvent&&N&&N(f,k),I&&I(f,k)},!Kb(e))return;this.dragSnapToOrigin=a,this.handlers=i,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const c=kh(e),d=a1(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=Rs;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=i;p&&p(e,l1(d,this.history)),this.removeListeners=jh(bd(this.contextWindow,"pointermove",this.handlePointerMove),bd(this.contextWindow,"pointerup",this.handlePointerUp),bd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gl(this.updatePoint)}}function a1(t,e){return e?{point:e(t.point)}:t}function Ij(t,e){return{x:t.x-e.x,y:t.y-e.y}}function l1({point:t},e){return{point:t,delta:Ij(t,NA(e)),offset:Ij(t,mY(e)),velocity:pY(e,.1)}}function mY(t){return t[0]}function NA(t){return t[t.length-1]}function pY(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,n=null;const r=NA(t);for(;i>=0&&(n=t[i],!(r.timestamp-n.timestamp>tr(e)));)i--;if(!n)return{x:0,y:0};const a=ln(r.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function fY(t,{min:e,max:i},n){return e!==void 0&&t<e?t=n?Ht(e,t,n.min):Math.max(t,e):i!==void 0&&t>i&&(t=n?Ht(i,t,n.max):Math.min(t,i)),t}function _j(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function xY(t,{top:e,left:i,bottom:n,right:r}){return{x:_j(t.x,i,r),y:_j(t.y,e,n)}}function Cj(t,e){let i=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,n]=[n,i]),{min:i,max:n}}function gY(t,e){return{x:Cj(t.x,e.x),y:Cj(t.y,e.y)}}function bY(t,e){let i=.5;const n=ii(t),r=ii(e);return r>n?i=Hd(e.min,e.max-n,t.min):n>r&&(i=Hd(t.min,t.max-r,e.min)),na(0,1,i)}function yY(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const A2=.35;function vY(t=A2){return t===!1?t=0:t===!0&&(t=A2),{x:Mj(t,"left","right"),y:Mj(t,"top","bottom")}}function Mj(t,e,i){return{min:zj(t,e),max:zj(t,i)}}function zj(t,e){return typeof t=="number"?t:t[e]||0}const jY=new WeakMap;class wY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(kh(p).point)},l=(p,f)=>{const{drag:b,dragPropagation:N,onDragStart:I}=this.getProps();if(b&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EW(b),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yi(k=>{let T=this.getAxisMotionValue(k).get()||0;if(sr.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const P=A.layout.layoutBox[k];P&&(T=ii(P)*(parseFloat(T)/100))}}this.originPoint[k]=T}),I&&Mt.postRender(()=>I(p,f)),T2(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f;const{dragPropagation:b,dragDirectionLock:N,onDirectionLock:I,onDrag:D}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=f;if(N&&this.currentDirection===null){this.currentDirection=NY(k),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),D&&D(p,f)},d=(p,f)=>{this.latestPointerEvent=p,this.latestPanInfo=f,this.stop(p,f),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Yi(p=>{var f;return this.getAnimationState(p)==="paused"&&((f=this.getAxisMotionValue(p).animation)==null?void 0:f.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new wA(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:jA(this.visualElement)})}stop(e,i){const n=e||this.latestPointerEvent,r=i||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Mt.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,n){const{drag:r}=this.getProps();if(!n||!Au(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=fY(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:i}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&lc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=xY(n.layoutBox,e):this.constraints=!1,this.elastic=vY(i),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Yi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=yY(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!lc(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=kZ(n,r.root,this.visualElement.getTransformPagePoint());let l=gY(r.layout.layoutBox,a);if(i){const c=i(jZ(l));this.hasMutatedConstraints=!!c,c&&(l=aA(c))}return l}startAnimation(e){const{drag:i,dragMomentum:n,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Yi(m=>{if(!Au(m,i,this.currentDirection))return;let p=d&&d[m]||{};l&&(p={min:0,max:0});const f=r?200:1e6,b=r?40:1e7,N={type:"inertia",velocity:n?e[m]:0,bounceStiffness:f,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...p};return this.startAxisValueAnimation(m,N)});return Promise.all(h).then(c)}startAxisValueAnimation(e,i){const n=this.getAxisMotionValue(e);return T2(this.visualElement,e),n.start(ly(e,n,0,i,this.visualElement,!1))}stopAnimation(){Yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yi(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[i];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Yi(i=>{const{drag:n}=this.getProps();if(!Au(i,n,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(i);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[i];a.set(e[i]-Ht(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:n}=this.visualElement;if(!lc(i)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Yi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();r[l]=bY({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yi(l=>{if(!Au(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Ht(d,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;jY.set(this.visualElement,this);const e=this.visualElement.current,i=bd(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();lc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Mt.read(n);const l=Zd(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Yi(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),i(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=A2,dragMomentum:c=!0}=e;return{...e,drag:i,dragDirectionLock:n,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Au(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function NY(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class kY extends El{constructor(e){super(e),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new wY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dj=t=>(e,i)=>{t&&Mt.postRender(()=>t(e,i))};class TY extends El{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(e){this.session=new wA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dj(e),onStart:Dj(i),onMove:n,onEnd:(a,l)=>{delete this.session,r&&Mt.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=bd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const om={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let o1=!1;class SY extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:n,layoutId:r}=this.props,{projection:a}=e;a&&(i.group&&i.group.add(a),n&&n.register&&r&&n.register(a),o1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),om.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:n,drag:r,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,o1=!0,r||e.layoutDependency!==i||i===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Mt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Xb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:n}=this.props,{projection:r}=e;o1=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kA(t){const[e,i]=VS(),n=Z.useContext(qb);return s.jsx(SY,{...t,layoutGroup:n,switchLayoutGroup:Z.useContext(nA),isPresent:e,safeToRemove:i})}function AY(t,e,i){const n=Vs(t)?t:Lc(t);return n.start(ly("",n,e,i)),n.animation}const EY=(t,e)=>t.depth-e.depth;class qY{constructor(){this.children=[],this.isDirty=!1}add(e){Cb(this.children,e),this.isDirty=!0}remove(e){Mb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EY),this.isDirty=!1,this.children.forEach(e)}}function IY(t,e){const i=ji.now(),n=({timestamp:r})=>{const a=r-i;a>=e&&(gl(n),t(a-e))};return Mt.setup(n,!0),()=>gl(n)}const TA=["TopLeft","TopRight","BottomLeft","BottomRight"],_Y=TA.length,Rj=t=>typeof t=="string"?parseFloat(t):t,Oj=t=>typeof t=="number"||Ge.test(t);function CY(t,e,i,n,r,a){r?(t.opacity=Ht(0,i.opacity??1,MY(n)),t.opacityExit=Ht(e.opacity??1,0,zY(n))):a&&(t.opacity=Ht(e.opacity??1,i.opacity??1,n));for(let l=0;l<_Y;l++){const c=`border${TA[l]}Radius`;let d=Pj(e,c),h=Pj(i,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Oj(d)===Oj(h)?(t[c]=Math.max(Ht(Rj(d),Rj(h),n),0),(sr.test(h)||sr.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||i.rotate)&&(t.rotate=Ht(e.rotate||0,i.rotate||0,n))}function Pj(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MY=SA(0,.5,hS),zY=SA(.5,.95,hn);function SA(t,e,i){return n=>n<t?0:n>e?1:i(Hd(t,e,n))}function $j(t,e){t.min=e.min,t.max=e.max}function Tn(t,e){$j(t.x,e.x),$j(t.y,e.y)}function Bj(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lj(t,e,i,n,r){return t-=e,t=pp(t,1/i,n),r!==void 0&&(t=pp(t,1/r,n)),t}function DY(t,e=0,i=1,n=.5,r,a=t,l=t){if(sr.test(e)&&(e=parseFloat(e),e=Ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ht(a.min,a.max,n);t===a&&(c-=e),t.min=Lj(t.min,e,i,c,r),t.max=Lj(t.max,e,i,c,r)}function Uj(t,e,[i,n,r],a,l){DY(t,e[i],e[n],e[r],e.scale,a,l)}const RY=["x","scaleX","originX"],OY=["y","scaleY","originY"];function Fj(t,e,i,n){Uj(t.x,e,RY,i?i.x:void 0,n?n.x:void 0),Uj(t.y,e,OY,i?i.y:void 0,n?n.y:void 0)}function Hj(t){return t.translate===0&&t.scale===1}function AA(t){return Hj(t.x)&&Hj(t.y)}function Gj(t,e){return t.min===e.min&&t.max===e.max}function PY(t,e){return Gj(t.x,e.x)&&Gj(t.y,e.y)}function Vj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EA(t,e){return Vj(t.x,e.x)&&Vj(t.y,e.y)}function Wj(t){return ii(t.x)/ii(t.y)}function Zj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class $Y{constructor(){this.members=[]}add(e){Cb(this.members,e),e.scheduleRender()}remove(e){if(Mb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(r=>e===r);if(i===0)return!1;let n;for(let r=i;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,i){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,i&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:n}=e;i.onExitComplete&&i.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BY(t,e,i){let n="";const r=t.x.translate/e.x,a=t.y.translate/e.y,l=(i==null?void 0:i.z)||0;if((r||a||l)&&(n=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:h,rotate:m,rotateX:p,rotateY:f,skewX:b,skewY:N}=i;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),p&&(n+=`rotateX(${p}deg) `),f&&(n+=`rotateY(${f}deg) `),b&&(n+=`skewX(${b}deg) `),N&&(n+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const c1=["","X","Y","Z"],LY=1e3;let UY=0;function d1(t,e,i,n){const{latestValues:r}=e;r[t]&&(i[t]=r[t],e.setStaticValue(t,0),n&&(n[t]=0))}function qA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=pA(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Mt,!(r||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&qA(n)}function IA({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},c=e==null?void 0:e()){this.id=UY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GY),this.nodes.forEach(YY),this.nodes.forEach(XY),this.nodes.forEach(VY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new qY)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Rb),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=GS(l)&&!zW(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,p=0;const f=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{p=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==p&&(p=b,this.root.updateBlockedByResize=!0,m&&m(),m=IY(f,250),om.hasAnimatedSinceResize&&(om.hasAnimatedSinceResize=!1,this.nodes.forEach(Kj)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeLayoutChanged:f,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||tX,{onLayoutAnimationStart:I,onLayoutAnimationComplete:D}=h.getProps(),k=!this.targetLayout||!EA(this.targetLayout,b),T=!p&&f;if(this.options.layoutRoot||this.resumeFrom||T||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Zb(N,"layout"),onPlay:I,onComplete:D};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(m,T)}else p||Kj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const p=this.path[m];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Xj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(ZY),this.nodes.forEach(FY),this.nodes.forEach(HY)):this.nodes.forEach(Xj),this.clearAllSnapshots();const c=ji.now();Rs.delta=na(0,1e3/60,c-Rs.timestamp),Rs.timestamp=c,Rs.isProcessing=!0,Qx.update.process(Rs),Qx.preRender.process(Rs),Qx.render.process(Rs),Rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WY),this.sharedNodes.forEach(QY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ii(this.snapshot.measuredBox.x)&&!ii(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!AA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ql(this.latestValues)||m)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),sX(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return gs();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(iX))){const{scroll:m}=this.root;m&&(oc(c.x,m.offset.x),oc(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=gs();if(Tn(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:p,options:f}=m;m!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Tn(c,l),oc(c.x,p.offset.x),oc(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=gs();Tn(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&cc(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ql(m.latestValues)&&cc(d,m.latestValues)}return Ql(this.latestValues)&&cc(d,this.latestValues),d}removeTransform(l){const c=gs();Tn(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Ql(h.latestValues))continue;j2(h.latestValues)&&h.updateSnapshot();const m=gs(),p=h.measurePageBox();Tn(m,p),Fj(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Ql(this.latestValues)&&Fj(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!this.layout||!(m||p))return;this.resolvedRelativeTargetAt=Rs.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gs(),this.targetWithTransforms=gs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),oA(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||j2(this.parent.latestValues)||lA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gs(),this.relativeTargetOrigin=gs(),fp(this.relativeTargetOrigin,c,d),Tn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Rs.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Tn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,f=this.treeScale.y;NZ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gs());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bj(this.prevProjectionDelta.x,this.projectionDelta.x),Bj(this.prevProjectionDelta.y,this.projectionDelta.y)),yd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==f||!Zj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dc(),this.projectionDelta=dc(),this.projectionDeltaWithTransform=dc()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},p=dc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const f=gs(),b=d?d.source:void 0,N=this.layout?this.layout.source:void 0,I=b!==N,D=this.getStack(),k=!D||D.members.length<=1,T=!!(I&&!k&&this.options.crossfade===!0&&!this.path.some(eX));this.animationProgress=0;let A;this.mixTargetDelta=P=>{const F=P/1e3;Qj(p.x,l.x,F),Qj(p.y,l.y,F),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JY(this.relativeTarget,this.relativeTargetOrigin,f,F),A&&PY(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=gs()),Tn(A,this.relativeTarget)),I&&(this.animationValues=m,CY(m,h,this.latestValues,F,T,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{om.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lc(0)),this.currentAnimation=AY(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&_A(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||gs();const p=ii(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+p;const f=ii(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+f}Tn(c,d),cc(c,m),yd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $Y),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&d1("z",l,h,this.animationValues);for(let m=0;m<c1.length;m++)d1(`rotate${c1[m]}`,l,h,this.animationValues),d1(`skew${c1[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=lm(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=lm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ql(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=BY(this.projectionDeltaWithTransform,this.treeScale,m);d&&(p=d(m,p)),l.transform=p;const{x:f,y:b}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const N in v2){if(m[N]===void 0)continue;const{correct:I,applyTo:D,isCSSVariable:k}=v2[N],T=p==="none"?m[N]:I(m[N],h);if(D){const A=D.length;for(let P=0;P<A;P++)l[D[P]]=T}else k?this.options.visualElement.renderState.vars[N]=T:l[N]=T}this.options.layoutId&&(l.pointerEvents=h===this?lm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Yj),this.root.sharedNodes.clear()}}}function FY(t){t.updateLayout()}function HY(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Yi(p=>{const f=l?e.measuredBox[p]:e.layoutBox[p],b=ii(f);f.min=n[p].min,f.max=f.min+b}):_A(a,e.layoutBox,n)&&Yi(p=>{const f=l?e.measuredBox[p]:e.layoutBox[p],b=ii(n[p]);f.max=f.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const c=dc();yd(c,n,e.layoutBox);const d=dc();l?yd(d,t.applyTransform(r,!0),e.measuredBox):yd(d,n,e.layoutBox);const h=!AA(c);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:b}=p;if(f&&b){const N=gs();fp(N,e.layoutBox,f.layoutBox);const I=gs();fp(I,n,b.layoutBox),EA(N,I)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=N,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function GY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WY(t){t.clearSnapshot()}function Yj(t){t.clearMeasurements()}function Xj(t){t.isLayoutDirty=!1}function ZY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Kj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YY(t){t.resolveTargetDelta()}function XY(t){t.calcProjection()}function KY(t){t.resetSkewAndRotation()}function QY(t){t.removeLeadSnapshot()}function Qj(t,e,i){t.translate=Ht(e.translate,0,i),t.scale=Ht(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Jj(t,e,i,n){t.min=Ht(e.min,i.min,n),t.max=Ht(e.max,i.max,n)}function JY(t,e,i,n){Jj(t.x,e.x,i.x,n),Jj(t.y,e.y,i.y,n)}function eX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tX={duration:.45,ease:[.4,0,.1,1]},e7=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),t7=e7("applewebkit/")&&!e7("chrome/")?Math.round:hn;function s7(t){t.min=t7(t.min),t.max=t7(t.max)}function sX(t){s7(t.x),s7(t.y)}function _A(t,e,i){return t==="position"||t==="preserve-aspect"&&!dY(Wj(e),Wj(i),.2)}function iX(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nX=IA({attachResizeListener:(t,e)=>Zd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h1={current:void 0},CA=IA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h1.current){const t=new nX({});t.mount(window),t.setOptions({layoutScroll:!0}),h1.current=t}return h1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rX={pan:{Feature:TY},drag:{Feature:kY,ProjectionNode:CA,MeasureLayout:kA}};function i7(t,e,i){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,a=n[r];a&&Mt.postRender(()=>a(e,kh(e)))}class aX extends El{mount(){const{current:e}=this.node;e&&(this.unmount=qW(e,(i,n)=>(i7(this.node,n,"Start"),r=>i7(this.node,r,"End"))))}unmount(){}}class lX extends El{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jh(Zd(this.node.current,"focus",()=>this.onFocus()),Zd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n7(t,e,i){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),a=n[r];a&&Mt.postRender(()=>a(e,kh(e)))}class oX extends El{mount(){const{current:e}=this.node;e&&(this.unmount=MW(e,(i,n)=>(n7(this.node,n,"Start"),(r,{success:a})=>n7(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E2=new WeakMap,u1=new WeakMap,cX=t=>{const e=E2.get(t.target);e&&e(t)},dX=t=>{t.forEach(cX)};function hX({root:t,...e}){const i=t||document;u1.has(i)||u1.set(i,{});const n=u1.get(i),r=JSON.stringify(e);return n[r]||(n[r]=new IntersectionObserver(dX,{root:t,...e})),n[r]}function uX(t,e,i){const n=hX(e);return E2.set(t,i),n.observe(t),()=>{E2.delete(t),n.unobserve(t)}}const mX={some:0,all:1};class pX extends El{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:n,amount:r="some",once:a}=e,l={root:i?i.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:mX[r]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:p}=this.node.getProps(),f=h?m:p;f&&f(d)};return uX(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(fX(e,i))&&this.startObserver()}unmount(){}}function fX({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const xX={inView:{Feature:pX},tap:{Feature:oX},focus:{Feature:lX},hover:{Feature:aX}},gX={layout:{ProjectionNode:CA,MeasureLayout:kA}},bX={...nY,...xX,...rX,...gX},$r=vZ(bX,MZ);function MA({xp:t,level:e,compact:i=!1}){const n=pG(t,e);return i?s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",e]}),s.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-white",children:e})}),s.jsxs("div",{className:"flex-1 min-w-[80px]",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsxs("span",{className:"text-dark-400",children:["Level ",e]}),s.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),s.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:s.jsx($r.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${n}%`},transition:{duration:.5}})})]})]})}function zA({streak:t}){return t===0?null:s.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[s.jsx("span",{className:"text-orange-400",children:""}),s.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function yX({level:t,showLabel:e=!1}){const{label:i,color:n,symbol:r}=gG(t);return s.jsxs("div",{className:`flex items-center gap-1.5 ${n}`,children:[s.jsx("span",{className:"text-sm",children:r}),e&&s.jsx("span",{className:"text-xs",children:i})]})}const vX={progress:"",mastery:"",dedication:"",exploration:""};function jX({notification:t,onDismiss:e}){return Z.useEffect(()=>{const i=setTimeout(e,5e3);return()=>clearTimeout(i)},[e]),s.jsx($r.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:vX[t.category]||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),s.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),s.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),s.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),s.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function wX(){const{notifications:t,dismissNotification:e}=Eo();return s.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:s.jsx(up,{mode:"popLayout",children:t.map(i=>s.jsx(jX,{notification:i,onDismiss:()=>e(i.id)},i.id))})})}function NX({onImportSuccess:t}){const[e,i]=Z.useState(!1),[n,r]=Z.useState(null),[a,l]=Z.useState(!1),c=Z.useRef(null),d=lG(),h=()=>{nG(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},m=()=>{var f;(f=c.current)==null||f.click()},p=async f=>{var I;const b=(I=f.target.files)==null?void 0:I[0];if(!b)return;l(!0),r(null);const N=await aG(b);l(!1),r({type:N.success?"success":"error",text:N.message}),N.success&&(t==null||t(),setTimeout(()=>{window.location.reload()},1500)),c.current&&(c.current.value="")};return s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>i(!e),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:s.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),e&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),s.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),d&&s.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[s.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-accent-400 font-semibold",children:[d.totalXP," XP"]}),s.jsxs("span",{className:"text-dark-300",children:["Level ",d.level]}),s.jsxs("span",{className:"text-dark-400",children:[d.sectionsCompleted," sections"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:h,disabled:!d,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),s.jsxs("button",{onClick:m,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a?"Importing...":"Import Backup"]}),s.jsx("input",{ref:c,type:"file",accept:".json",onChange:p,className:"hidden"})]}),n&&s.jsx("div",{className:`mt-3 p-2 rounded text-xs ${n.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:n.text}),s.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function oy({onToggleSidebar:t,sidebarOpen:e}){const n=Eo();return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":e?"Close sidebar":"Open sidebar",children:s.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsxs(ys,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[s.jsx("span",{className:"text-2xl",children:tN}),s.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:B4})]})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx("a",{href:aM,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),s.jsx(ys,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.jsx(ys,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.jsx(ys,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.jsx(ys,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[n&&s.jsxs(s.Fragment,{children:[s.jsx(zA,{streak:n.state.streak.currentStreak}),s.jsx(MA,{xp:n.state.user.totalXP,level:n.state.user.level})]}),s.jsx(NX,{})]})]})})}const qo=[{id:1,title:"Arithmetic",slug:"arithmetic",sections:[{id:0,title:"The Natural Numbers",slug:"natural-numbers",description:"Introduction to natural numbers and their basic properties."},{id:1,title:"Division, Divisors, and Primes",slug:"division-divisors-primes",description:"The division algorithm, divisibility, and prime numbers."},{id:2,title:"The Mysterious Sequence of Primes",slug:"sequence-of-primes",description:"Exploring patterns and mysteries in the distribution of primes."},{id:3,title:"Integers and Rationals",slug:"integers-rationals",description:"Extending the natural numbers to integers and rational numbers."},{id:4,title:"Linear Equations",slug:"linear-equations",description:"Solving linear equations with integer coefficients."},{id:5,title:"Unique Prime Factorization",slug:"unique-prime-factorization",description:"The Fundamental Theorem of Arithmetic."},{id:6,title:"Prime Factorization and Divisors",slug:"factorization-divisors",description:"Using prime factorization to understand divisibility."},{id:7,title:"Induction",slug:"induction",description:"Mathematical induction as a proof technique."},{id:8,title:"Foundations",slug:"foundations",description:"Advanced: Foundational questions about natural numbers."},{id:9,title:"Discussion",slug:"arithmetic-discussion",description:"Historical and mathematical perspectives on arithmetic."}]},{id:2,title:"Geometry",slug:"geometry",sections:[{id:10,title:"Geometric Intuition",slug:"geometric-intuition",description:"Developing geometric reasoning and visualization."},{id:11,title:"Constructions",slug:"constructions",description:"Compass and straightedge constructions."},{id:12,title:"Parallels and Angles",slug:"parallels-angles",description:"Parallel lines and angle relationships."},{id:13,title:"Angles and Circles",slug:"angles-circles",description:"Inscribed angles and circle theorems."},{id:14,title:"Length and Area",slug:"length-area",description:"Measuring lengths and areas of geometric figures."},{id:15,title:"The Pythagorean Theorem",slug:"pythagorean-theorem",description:"The most famous theorem in geometry and its proofs."},{id:16,title:"Volume",slug:"volume",description:"Measuring volumes of three-dimensional figures."},{id:17,title:"The Whole and the Part",slug:"whole-and-part",description:"Advanced: Comparing infinite sets and paradoxes."},{id:18,title:"Discussion",slug:"geometry-discussion",description:"Historical development of geometry from Euclid onwards."}]},{id:3,title:"Coordinates",slug:"coordinates",sections:[{id:19,title:"Lines and Circles",slug:"lines-circles",description:"Equations for lines and circles in the coordinate plane."},{id:20,title:"Intersections",slug:"intersections",description:"Finding intersections of geometric objects algebraically."},{id:21,title:"The Real Numbers",slug:"real-numbers",description:"Defining and understanding the real number system."},{id:22,title:"The Line",slug:"the-line",description:"The real line as a geometric and algebraic object."},{id:23,title:"The Euclidean Plane",slug:"euclidean-plane",description:"Coordinate geometry in the Euclidean plane."},{id:24,title:"Isometries of the Euclidean Plane",slug:"isometries",description:"Distance-preserving transformations: rotations, reflections, translations."},{id:25,title:"The Triangle Inequality",slug:"triangle-inequality",description:"A fundamental property of distance in geometry."},{id:26,title:"Klein's Definition of Geometry",slug:"klein-geometry",description:"Advanced: Geometry as the study of invariants under transformations."},{id:27,title:"The Non-Euclidean Plane",slug:"non-euclidean-plane",description:"Advanced: Introduction to hyperbolic geometry."},{id:28,title:"Discussion",slug:"coordinates-discussion",description:"The marriage of algebra and geometry through coordinates."}]},{id:4,title:"Rational Points",slug:"rational-points",sections:[{id:29,title:"Pythagorean Triples",slug:"pythagorean-triples",description:"Integer solutions to x + y = z."},{id:30,title:"Pythagorean Triples in Euclid",slug:"triples-euclid",description:"Euclid's formula for generating Pythagorean triples."},{id:31,title:"Pythagorean Triples in Diophantus",slug:"triples-diophantus",description:"Diophantus's approach using rational points on circles."},{id:32,title:"Rational Triangles",slug:"rational-triangles",description:"Triangles with rational side lengths and areas."},{id:33,title:"Rational Points on Quadratic Curves",slug:"rational-quadratic-curves",description:"Finding rational solutions to quadratic equations."},{id:34,title:"Rational Points on the Sphere",slug:"rational-sphere",description:"Advanced: Extending to three dimensions."},{id:35,title:"The Area of Rational Right Triangles",slug:"rational-triangle-area",description:"Advanced: Which numbers can be areas of rational right triangles?"},{id:36,title:"Discussion",slug:"rational-points-discussion",description:"Connections to number theory and Diophantine equations."}]},{id:5,title:"Trigonometry",slug:"trigonometry",sections:[{id:37,title:"Angle Measure",slug:"angle-measure",description:"Degrees, radians, and measuring angles."},{id:38,title:"Circular Functions",slug:"circular-functions",description:"Sine, cosine, and other trigonometric functions."},{id:39,title:"Addition Formulas",slug:"addition-formulas",description:"Formulas for sin(a+b) and cos(a+b)."},{id:40,title:"A Rational Addition Formula",slug:"rational-addition",description:"The tangent half-angle substitution."},{id:41,title:"Hilbert's Third Problem",slug:"hilbert-third",description:"Advanced: Can a tetrahedron be cut into a cube?"},{id:42,title:"The Dehn Invariant",slug:"dehn-invariant",description:"Advanced: An obstruction to scissors congruence."},{id:43,title:"Additive Functions",slug:"additive-functions",description:"Advanced: Functions satisfying f(x+y) = f(x) + f(y)."},{id:44,title:"The Tetrahedron and the Cube",slug:"tetrahedron-cube",description:"Advanced: Comparing volumes through dissection."},{id:45,title:"Discussion",slug:"trigonometry-discussion",description:"The role of trigonometry in mathematics and science."}]},{id:6,title:"Finite Arithmetic",slug:"finite-arithmetic",sections:[{id:46,title:"Three Examples",slug:"three-examples",description:"Clock arithmetic, calendars, and check digits."},{id:47,title:"Arithmetic mod n",slug:"arithmetic-mod-n",description:"The basics of modular arithmetic."},{id:48,title:"The Ring Z/nZ",slug:"ring-z-mod-n",description:"The algebraic structure of integers modulo n."},{id:49,title:"Inverses mod n",slug:"inverses-mod-n",description:"When and how to divide in modular arithmetic."},{id:50,title:"The Theorems of Fermat and Wilson",slug:"fermat-wilson",description:"Fermat's Little Theorem and Wilson's Theorem."},{id:51,title:"The Chinese Remainder Theorem",slug:"chinese-remainder",description:"Solving systems of congruences."},{id:52,title:"Squares mod p",slug:"squares-mod-p",description:"Quadratic residues and non-residues."},{id:53,title:"The Quadratic Character of -1 and 2",slug:"quadratic-character",description:"Advanced: When are -1 and 2 squares mod p?"},{id:54,title:"Quadratic Reciprocity",slug:"quadratic-reciprocity",description:"Advanced: The golden theorem of number theory."},{id:55,title:"Discussion",slug:"finite-arithmetic-discussion",description:"Applications of modular arithmetic in cryptography and beyond."}]},{id:7,title:"Complex Numbers",slug:"complex-numbers",sections:[{id:56,title:"Addition, Multiplication, and Absolute Value",slug:"complex-operations",description:"Basic operations with complex numbers."},{id:57,title:"Argument and the Square Root of -1",slug:"argument-sqrt-minus-one",description:"The polar form of complex numbers."},{id:58,title:"Isometries of the Plane",slug:"complex-isometries",description:"Using complex numbers to describe geometric transformations."},{id:59,title:"The Gaussian Integers",slug:"gaussian-integers",description:"Integers in the complex plane: a + bi where a, b are integers."},{id:60,title:"Unique Gaussian Prime Factorization",slug:"gaussian-factorization",description:"The Fundamental Theorem of Arithmetic for Gaussian integers."},{id:61,title:"Fermat's Two Squares Theorem",slug:"two-squares-theorem",description:"Which primes are sums of two squares?"},{id:62,title:"Factorizing a Sum of Two Squares",slug:"factorizing-sum-squares",description:"Advanced: Using Gaussian integers to factor."},{id:63,title:"Discussion",slug:"complex-discussion",description:"The power and elegance of complex numbers."}]},{id:8,title:"Conic Sections",slug:"conic-sections",sections:[{id:64,title:"Too Much, Too Little, and Just Right",slug:"conic-intro",description:"Ellipses, hyperbolas, and parabolas from slicing a cone."},{id:65,title:"Properties of Conic Sections",slug:"conic-properties",description:"Focus-directrix and reflective properties."},{id:66,title:"Quadratic Curves",slug:"quadratic-curves",description:"The general equation of a conic section."},{id:67,title:"Intersections",slug:"conic-intersections",description:"Advanced: Where conics meet lines and other conics."},{id:68,title:"Integer Points on Conics",slug:"integer-points-conics",description:"Finding integer solutions on conic sections."},{id:69,title:"Square Roots and the Euclidean Algorithm",slug:"sqrt-euclidean",description:"Advanced: Continued fractions and square roots."},{id:70,title:"Pell's Equation",slug:"pell-equation",description:"Advanced: The equation x - Dy = 1."},{id:71,title:"Discussion",slug:"conic-discussion",description:"Conic sections from ancient Greece to modern applications."}]},{id:9,title:"Elementary Functions",slug:"elementary-functions",sections:[{id:72,title:"Algebraic and Transcendental Functions",slug:"algebraic-transcendental",description:"Classifying functions by their defining equations."},{id:73,title:"The Area Bounded by a Curve",slug:"area-under-curve",description:"Introduction to integration through area."},{id:74,title:"The Natural Logarithm and the Exponential",slug:"ln-and-exp",description:"Defining log and exp through areas and inverses."},{id:75,title:"The Exponential Function",slug:"exponential-function",description:"Properties and applications of e^x."},{id:76,title:"The Hyperbolic Functions",slug:"hyperbolic-functions",description:"Sinh, cosh, and their connection to the hyperbola."},{id:77,title:"The Pell Equation Revisited",slug:"pell-revisited",description:"Solving Pell's equation using hyperbolic functions."},{id:78,title:"Discussion",slug:"functions-discussion",description:"The unity of mathematics revealed through functions."}]}];function DA(t){for(const e of qo){const i=e.sections.find(n=>n.id===t);if(i)return i}}function RA(t){return qo.find(e=>e.sections.some(i=>i.id===t))}function kX(t){const e=qo.flatMap(n=>n.sections),i=e.findIndex(n=>n.id===t);return{prev:i>0?e[i-1]:null,next:i<e.length-1?e[i+1]:null}}function OA(){return qo.reduce((t,e)=>t+e.sections.length,0)}function TX(){return qo.flatMap(t=>t.sections)}function SX(t){return TX().findIndex(i=>i.id===t)}function cy({isOpen:t,onClose:e}){const[i,n]=Z.useState(new Set([1])),a=Eo(),l=d=>{n(h=>{const m=new Set(h);return m.has(d)?m.delete(d):m.add(d),m})},c=d=>{var m;if(!a)return"none";const h=`${Od}:${d}`;return((m=a.state.sections[h])==null?void 0:m.masteryLevel)??"none"};return s.jsxs(s.Fragment,{children:[s.jsx(up,{children:t&&s.jsx($r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),s.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:s.jsxs("nav",{className:"p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),s.jsxs("ul",{className:"space-y-0.5",children:[s.jsx("li",{children:s.jsxs(hx,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[s.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),s.jsx("li",{children:s.jsxs(hx,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[s.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),s.jsx("div",{className:"space-y-2",children:qo.map(d=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>l(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),s.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),s.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${i.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s.jsx(up,{children:i.has(d.id)&&s.jsx($r.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(h=>s.jsx("li",{children:s.jsxs(hx,{to:`/section/${h.id}`,onClick:()=>{window.innerWidth<1024&&e()},className:({isActive:m})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[s.jsx("span",{className:"truncate",children:h.title}),s.jsx(yX,{level:c(h.id)})]})},h.id))})})]},d.id))})]})})]})}function r7(){const e=Eo(),i=OA(),n=e?e.state.user.sectionsCompleted.filter(a=>a.startsWith(Od)).length:0,r=Math.round(n/i*100);return s.jsx("div",{className:"py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("span",{className:"text-6xl mb-4 block",children:tN}),s.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:B4}),s.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:rM})]}),e&&s.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),s.jsx(zA,{streak:e.state.streak.currentStreak})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{children:s.jsx(MA,{xp:e.state.user.totalXP,level:e.state.user.level})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-dark-400",children:"Course Progress"}),s.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),s.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),s.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[n," of ",i," sections"]})]}),s.jsxs("div",{className:"flex flex-col justify-center items-end",children:[s.jsx("div",{className:"text-2xl font-bold text-dark-100",children:e.state.user.quizzesTaken}),s.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),s.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),s.jsx("div",{className:"space-y-4",children:qo.map(a=>s.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-bold text-primary-400",children:a.id})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:a.title}),s.jsxs("p",{className:"text-sm text-dark-400",children:[a.sections.length," sections"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:a.sections.map(l=>{const c=`${Od}:${l.id}`,d=e==null?void 0:e.state.user.sectionsCompleted.includes(c);return s.jsxs(ys,{to:`/section/${l.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:d?s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("span",{className:"text-xs",children:l.id})}),s.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:l.title})]},l.id)})})]},a.id))})]})})}function AX(){return s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsx(MU,{})})}const PA=[{id:1,type:"multiple-choice",question:"What are the natural numbers?",options:["All positive and negative whole numbers","The objects produced by the counting process: $1, 2, 3, 4, \\ldots$","All fractions between 0 and 1","Numbers that occur in nature"],correctIndex:1,difficulty:"easy",explanation:"Natural numbers are defined as the objects produced by the counting process: $1, 2, 3, 4, \\ldots$ They are the simplest mathematical objects, yet they are defined by an infinite process."},{id:2,type:"multiple-choice",question:'What is the technique of "infinite descent" used to prove?',options:["That certain things exist","That certain things are impossible","That sequences always converge","That all numbers are rational"],correctIndex:1,difficulty:"easy",explanation:"Infinite descent proves impossibility: if assuming something exists leads to an infinite descending sequence of natural numbers (which is impossible), then the assumption must be false."},{id:3,type:"multiple-choice",question:"In the proof that $\\sqrt{2}$ is irrational, what happens when we assume $m^2 = 2n^2$?",options:["We find that $m$ and $n$ must both be odd","We get smaller numbers $m_1, n_1$ with $m_1^2 = 2n_1^2$, leading to infinite descent","We prove that $m = n$","We find a unique solution"],correctIndex:1,difficulty:"medium",explanation:"Starting from $m^2 = 2n^2$, we show both $m$ and $n$ are even, giving $m_1^2 = 2n_1^2$ with $m_1 < m$. Repeating creates an infinite descending sequence, which is impossible."},{id:4,type:"multiple-choice",question:'What does "irrational" mean in the context of numbers?',options:["The number makes no sense","The number is negative","The number is not a ratio of natural numbers","The number is very large"],correctIndex:2,difficulty:"easy",explanation:'The word "irrational" simply means "not a ratio." An irrational number like $\\sqrt{2}$ cannot be expressed as a fraction $m/n$ where $m$ and $n$ are natural numbers.'},{id:5,type:"multiple-choice",question:"What is an Egyptian fraction?",options:["A fraction used only in ancient Egypt","A sum of distinct unit fractions (fractions of the form $1/n$)","Any fraction less than 1","A fraction with denominator 10"],correctIndex:1,difficulty:"easy",explanation:"An Egyptian fraction is a sum of distinct unit fractions. For example, $\\frac{2}{3} = \\frac{1}{2} + \\frac{1}{6}$ is an Egyptian fraction representation."},{id:6,type:"multiple-choice",question:"Which fraction equals $\\frac{1}{2} + \\frac{1}{6}$?",options:["$\\frac{1}{3}$","$\\frac{2}{3}$","$\\frac{1}{8}$","$\\frac{3}{4}$"],correctIndex:1,difficulty:"medium",explanation:"$\\frac{1}{2} + \\frac{1}{6} = \\frac{3}{6} + \\frac{1}{6} = \\frac{4}{6} = \\frac{2}{3}$"},{id:7,type:"multiple-choice",question:"In Fibonacci's method for Egyptian fractions, why does the process always terminate?",options:["Because the denominator increases","Because the numerator decreases, and we cannot descend infinitely","Because fractions have a maximum size","Because there are only finitely many unit fractions"],correctIndex:1,difficulty:"hard",explanation:"Fibonacci's method works by repeatedly subtracting the largest unit fraction. Each step decreases the numerator of the remaining fraction. By infinite descent, a decreasing sequence of natural numbers must terminate."},{id:8,type:"multiple-choice",question:"If $m^2 = 2n^2$ and $m$ is even, what can we conclude about $n$?",options:["$n$ must be odd","$n$ must also be even","$n$ must equal $m$","Nothing can be concluded about $n$"],correctIndex:1,difficulty:"medium",explanation:"If $m = 2m_1$, then $4m_1^2 = 2n^2$, so $n^2 = 2m_1^2$. This means $n^2$ is even, which implies $n$ is even (since the square of an odd number is odd)."}],EX={0:PA};function q2(t){return EX[t]??null}function je({sectionId:t,children:e}){const i=DA(t),n=RA(t),{prev:r,next:a}=kX(t),l=OA(),c=SX(t),h=Eo();Z.useEffect(()=>{h&&h.visitSection(t)},[t,h]);const m=(h==null?void 0:h.state.user.sectionsCompleted.includes($G(t)))??!1;if(!i||!n)return s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx("p",{className:"text-dark-400",children:"Section not found"})});const p=(c+1)/l*100,f=q2(t)&&q2(t).length>0;return s.jsxs("div",{className:"min-h-screen relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),s.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-primary-500 to-cyan-400 transition-all duration-500 ease-out",style:{width:`${p}%`}})}),s.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:s.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[s.jsxs(ys,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsxs("span",{className:"text-dark-500",children:["Part ",n.id]}),s.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsxs("span",{className:"text-dark-300 font-medium",children:["S",i.id]})]})}),s.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[s.jsxs("header",{className:"mb-14",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 rounded-full border border-primary-500/20",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400"}),"Section ",i.id]}),s.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",n.id,": ",n.title]})]}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:s.jsx("span",{className:"text-gradient",children:i.title})}),s.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl",children:i.description}),s.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/50"}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/30"}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/10"})]}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),s.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:e})]}),s.jsxs("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:[f&&s.jsx("div",{className:"mb-6",children:s.jsxs(ys,{to:`/quiz/section/${t}`,className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-amber-600/20 to-amber-500/10 border border-amber-500/20 text-amber-400 hover:from-amber-600/30 hover:to-amber-500/20 transition-all duration-300",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),s.jsx("span",{className:"font-semibold",children:"Take Section Quiz"}),s.jsx("span",{className:"text-amber-300/70 text-sm",children:"Test your knowledge"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r?s.jsxs(ys,{to:`/section/${r.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),s.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:r.title})]})]}):s.jsx("div",{}),a?s.jsxs(ys,{to:`/section/${a.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),s.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:a.title})]})]}):s.jsxs("div",{className:"flex flex-col gap-3",children:[!m&&s.jsxs("button",{onClick:()=>h==null?void 0:h.completeSection(t),className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-semibold shadow-lg shadow-emerald-500/20 hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-[1.02] transition-all duration-300",children:[s.jsx("span",{children:"Mark Complete"}),s.jsx("span",{className:"text-emerald-200 text-sm",children:"+25 XP"})]}),s.jsxs(ys,{to:"/",className:`group flex items-center justify-center gap-3 p-5 rounded-2xl font-semibold transition-all duration-300 ${m?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30 hover:scale-[1.02]":"bg-dark-800/60 text-dark-300 hover:bg-dark-700/60"}`,children:[s.jsx("span",{children:m?"Course Complete!":"Return Home"}),s.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:m?"M5 13l4 4L19 7":"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})]})]})]})]})}class vi{constructor(e,i,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=i,this.end=n}static range(e,i){return i?!e||!e.loc||!i.loc||e.loc.lexer!==i.loc.lexer?null:new vi(e.loc.lexer,e.loc.start,i.loc.end):e&&e.loc}}class Li{constructor(e,i){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=i}range(e,i){return new Li(i,vi.range(this,e))}}class pe{constructor(e,i){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,r,a,l=i&&i.loc;if(l&&l.start<=l.end){var c=l.lexer.input;r=l.start,a=l.end,r===c.length?n+=" at end of input: ":n+=" at position "+(r+1)+": ";var d=c.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+c.slice(r-15,r):h=c.slice(0,r);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),n+=h+d+m}var p=new Error(n);return p.name="ParseError",p.__proto__=pe.prototype,p.position=r,r!=null&&a!=null&&(p.length=a-r),p.rawMessage=e,p}}pe.prototype.__proto__=Error.prototype;var qX=function(e,i){return e===void 0?i:e},IX=/([A-Z])/g,_X=function(e){return e.replace(IX,"-$1").toLowerCase()},CX={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},MX=/[&><"']/g;function zX(t){return String(t).replace(MX,e=>CX[e])}var $A=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},DX=function(e){var i=$A(e);return i.type==="mathord"||i.type==="textord"||i.type==="atom"},RX=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},OX=function(e){var i=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return i?i[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(i[1])?null:i[1].toLowerCase():"_relative"},ot={deflt:qX,escape:zX,hyphenate:_X,getBaseElem:$A,isCharacterBox:DX,protocolFromUrl:OX},cm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function PX(t){if(t.default)return t.default;var e=t.type,i=Array.isArray(e)?e[0]:e;if(typeof i!="string")return i.enum[0];switch(i){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class dy{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var i in cm)if(cm.hasOwnProperty(i)){var n=cm[i];this[i]=e[i]!==void 0?n.processor?n.processor(e[i]):e[i]:PX(n)}}reportNonstrict(e,i,n){var r=this.strict;if(typeof r=="function"&&(r=r(e,i,n)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new pe("LaTeX-incompatible input and strict mode is set to 'error': "+(i+" ["+e+"]"),n);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+i+" ["+e+"]"))}}useStrictBehavior(e,i,n){var r=this.strict;if(typeof r=="function")try{r=r(e,i,n)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(i+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+i+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var i=ot.protocolFromUrl(e.url);if(i==null)return!1;e.protocol=i}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class Sa{constructor(e,i,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=i,this.cramped=n}sup(){return Un[$X[this.id]]}sub(){return Un[BX[this.id]]}fracNum(){return Un[LX[this.id]]}fracDen(){return Un[UX[this.id]]}cramp(){return Un[FX[this.id]]}text(){return Un[HX[this.id]]}isTight(){return this.size>=2}}var hy=0,xp=1,Tc=2,Gr=3,Yd=4,on=5,Fc=6,ni=7,Un=[new Sa(hy,0,!1),new Sa(xp,0,!0),new Sa(Tc,1,!1),new Sa(Gr,1,!0),new Sa(Yd,2,!1),new Sa(on,2,!0),new Sa(Fc,3,!1),new Sa(ni,3,!0)],$X=[Yd,on,Yd,on,Fc,ni,Fc,ni],BX=[on,on,on,on,ni,ni,ni,ni],LX=[Tc,Gr,Yd,on,Fc,ni,Fc,ni],UX=[Gr,Gr,on,on,ni,ni,ni,ni],FX=[xp,xp,Gr,Gr,on,on,ni,ni],HX=[hy,xp,Tc,Gr,Tc,Gr,Tc,Gr],Be={DISPLAY:Un[hy],TEXT:Un[Tc],SCRIPT:Un[Yd],SCRIPTSCRIPT:Un[Fc]},I2=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function GX(t){for(var e=0;e<I2.length;e++)for(var i=I2[e],n=0;n<i.blocks.length;n++){var r=i.blocks[n];if(t>=r[0]&&t<=r[1])return i.name}return null}var dm=[];I2.forEach(t=>t.blocks.forEach(e=>dm.push(...e)));function BA(t){for(var e=0;e<dm.length;e+=2)if(t>=dm[e]&&t<=dm[e+1])return!0;return!1}var Bo=80,VX=function(e,i){return"M95,"+(622+e+i)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},WX=function(e,i){return"M263,"+(601+e+i)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},ZX=function(e,i){return"M983 "+(10+e+i)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+i+"h400000v"+(40+e)+"h-400000z"},YX=function(e,i){return"M424,"+(2398+e+i)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+i+`
h400000v`+(40+e)+"h-400000z"},XX=function(e,i){return"M473,"+(2713+e+i)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+i+"h400000v"+(40+e)+"H1017.7z"},KX=function(e){var i=e/2;return"M400000 "+e+" H0 L"+i+" 0 l65 45 L145 "+(e-80)+" H400000z"},QX=function(e,i,n){var r=n-54-i-e;return"M702 "+(e+i)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+i+"H400000v"+(40+e)+"H742z"},JX=function(e,i,n){i=1e3*i;var r="";switch(e){case"sqrtMain":r=VX(i,Bo);break;case"sqrtSize1":r=WX(i,Bo);break;case"sqrtSize2":r=ZX(i,Bo);break;case"sqrtSize3":r=YX(i,Bo);break;case"sqrtSize4":r=XX(i,Bo);break;case"sqrtTall":r=QX(i,Bo,n)}return r},eK=function(e,i){switch(e){case"":return"M291 0 H417 V"+i+" H291z M291 0 H417 V"+i+" H291z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z";case"":return"M145 0 H188 V"+i+" H145z M145 0 H188 V"+i+" H145z"+("M367 0 H410 V"+i+" H367z M367 0 H410 V"+i+" H367z");case"":return"M457 0 H583 V"+i+" H457z M457 0 H583 V"+i+" H457z";case"":return"M319 0 H403 V"+i+" H319z M319 0 H403 V"+i+" H319z";case"":return"M263 0 H347 V"+i+" H263z M263 0 H347 V"+i+" H263z";case"":return"M384 0 H504 V"+i+" H384z M384 0 H504 V"+i+" H384z";case"":return"M312 0 H355 V"+i+" H312z M312 0 H355 V"+i+" H312z";case"":return"M257 0 H300 V"+i+" H257z M257 0 H300 V"+i+" H257z"+("M478 0 H521 V"+i+" H478z M478 0 H521 V"+i+" H478z");default:return""}},a7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tK=function(e,i){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+i+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+i+" v1759 h84z";case"vert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+" v585 h43z";case"doublevert":return"M145 15 v585 v"+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+i+` v585 h43z
M367 15 v585 v`+i+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-i+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+i+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+i+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+i+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+i+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+i+` v602 h84z
M403 1759 V0 H319 V1759 v`+i+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+i+` v602 h84z
M347 1759 V0 h-84 V1759 v`+i+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(i+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(i+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(i+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(i+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Th{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),i=0;i<this.children.length;i++)e.appendChild(this.children[i].toNode());return e}toMarkup(){for(var e="",i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e}toText(){var e=i=>i.toText();return this.children.map(e).join("")}}var Yn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Eu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},l7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function sK(t,e){Yn[t]=e}function uy(t,e,i){if(!Yn[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),r=Yn[e][n];if(!r&&t[0]in l7&&(n=l7[t[0]].charCodeAt(0),r=Yn[e][n]),!r&&i==="text"&&BA(n)&&(r=Yn[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var m1={};function iK(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!m1[e]){var i=m1[e]={cssEmPerMu:Eu.quad[e]/18};for(var n in Eu)Eu.hasOwnProperty(n)&&(i[n]=Eu[n][e])}return m1[e]}var nK=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],o7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],c7=function(e,i){return i.size<2?e:nK[e-1][i.size-1]};class Er{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Er.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=o7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var i={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return new Er(i)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:c7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:o7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var i=c7(Er.BASESIZE,e);return this.size===i&&this.textSize===Er.BASESIZE&&this.style===e?this:this.extend({style:e,size:i})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Er.BASESIZE?["sizing","reset-size"+this.size,"size"+Er.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=iK(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Er.BASESIZE=6;var _2={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},rK={ex:!0,em:!0,mu:!0},LA=function(e){return typeof e!="string"&&(e=e.unit),e in _2||e in rK||e==="ex"},Ft=function(e,i){var n;if(e.unit in _2)n=_2[e.unit]/i.fontMetrics().ptPerEm/i.sizeMultiplier;else if(e.unit==="mu")n=i.fontMetrics().cssEmPerMu;else{var r;if(i.style.isTight()?r=i.havingStyle(i.style.text()):r=i,e.unit==="ex")n=r.fontMetrics().xHeight;else if(e.unit==="em")n=r.fontMetrics().quad;else throw new pe("Invalid unit: '"+e.unit+"'");r!==i&&(n*=r.sizeMultiplier/i.sizeMultiplier)}return Math.min(e.number*n,i.maxSize)},be=function(e){return+e.toFixed(4)+"em"},yl=function(e){return e.filter(i=>i).join(" ")},UA=function(e,i,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},i){i.style.isTight()&&this.classes.push("mtight");var r=i.getColor();r&&(this.style.color=r)}},FA=function(e){var i=document.createElement(e);i.className=yl(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(i.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&i.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)i.appendChild(this.children[a].toNode());return i},aK=/[\s"'>/=\x00-\x1f]/,HA=function(e){var i="<"+e;this.classes.length&&(i+=' class="'+ot.escape(yl(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=ot.hyphenate(r)+":"+this.style[r]+";");n&&(i+=' style="'+ot.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(aK.test(a))throw new pe("Invalid attribute name '"+a+"'");i+=" "+a+'="'+ot.escape(this.attributes[a])+'"'}i+=">";for(var l=0;l<this.children.length;l++)i+=this.children[l].toMarkup();return i+="</"+e+">",i};class Sh{constructor(e,i,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,UA.call(this,e,n,r),this.children=i||[]}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return FA.call(this,"span")}toMarkup(){return HA.call(this,"span")}}class my{constructor(e,i,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,UA.call(this,i,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,i){this.attributes[e]=i}hasClass(e){return this.classes.includes(e)}toNode(){return FA.call(this,"a")}toMarkup(){return HA.call(this,"a")}}class lK{constructor(e,i,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=i,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var i in this.style)this.style.hasOwnProperty(i)&&(e.style[i]=this.style[i]);return e}toMarkup(){var e='<img src="'+ot.escape(this.src)+'"'+(' alt="'+ot.escape(this.alt)+'"'),i="";for(var n in this.style)this.style.hasOwnProperty(n)&&(i+=ot.hyphenate(n)+":"+this.style[n]+";");return i&&(e+=' style="'+ot.escape(i)+'"'),e+="'/>",e}}var oK={:"",:"",:"",:""};class xn{constructor(e,i,n,r,a,l,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=i||0,this.depth=n||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var h=GX(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=oK[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),i=null;this.italic>0&&(i=document.createElement("span"),i.style.marginRight=be(this.italic)),this.classes.length>0&&(i=i||document.createElement("span"),i.className=yl(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(i=i||document.createElement("span"),i.style[n]=this.style[n]);return i?(i.appendChild(e),i):e}toMarkup(){var e=!1,i="<span";this.classes.length&&(e=!0,i+=' class="',i+=ot.escape(yl(this.classes)),i+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=ot.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,i+=' style="'+ot.escape(n)+'"');var a=ot.escape(this.text);return e?(i+=">",i+=a,i+="</span>",i):a}}class aa{constructor(e,i){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=i||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&i.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)i.appendChild(this.children[r].toNode());return i}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+ot.escape(this.attributes[i])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class vl{constructor(e,i){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=i}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"path");return this.alternate?i.setAttribute("d",this.alternate):i.setAttribute("d",a7[this.pathName]),i}toMarkup(){return this.alternate?'<path d="'+ot.escape(this.alternate)+'"/>':'<path d="'+ot.escape(a7[this.pathName])+'"/>'}}class C2{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",i=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&i.setAttribute(n,this.attributes[n]);return i}toMarkup(){var e="<line";for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="'+ot.escape(this.attributes[i])+'"');return e+="/>",e}}function d7(t){if(t instanceof xn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function cK(t){if(t instanceof Sh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var dK={bin:1,close:1,inner:1,open:1,punct:1,rel:1},hK={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},St={math:{},text:{}};function g(t,e,i,n,r,a){St[t][r]={font:e,group:i,replace:n},a&&n&&(St[t][n]=St[t][r])}var j="math",ce="text",q="main",G="ams",Rt="accent-token",_e="bin",di="close",a0="inner",Pe="mathord",ps="op-token",Gi="open",mf="punct",W="rel",ha="spacing",J="textord";g(j,q,W,"","\\equiv",!0);g(j,q,W,"","\\prec",!0);g(j,q,W,"","\\succ",!0);g(j,q,W,"","\\sim",!0);g(j,q,W,"","\\perp");g(j,q,W,"","\\preceq",!0);g(j,q,W,"","\\succeq",!0);g(j,q,W,"","\\simeq",!0);g(j,q,W,"","\\mid",!0);g(j,q,W,"","\\ll",!0);g(j,q,W,"","\\gg",!0);g(j,q,W,"","\\asymp",!0);g(j,q,W,"","\\parallel");g(j,q,W,"","\\bowtie",!0);g(j,q,W,"","\\smile",!0);g(j,q,W,"","\\sqsubseteq",!0);g(j,q,W,"","\\sqsupseteq",!0);g(j,q,W,"","\\doteq",!0);g(j,q,W,"","\\frown",!0);g(j,q,W,"","\\ni",!0);g(j,q,W,"","\\propto",!0);g(j,q,W,"","\\vdash",!0);g(j,q,W,"","\\dashv",!0);g(j,q,W,"","\\owns");g(j,q,mf,".","\\ldotp");g(j,q,mf,"","\\cdotp");g(j,q,J,"#","\\#");g(ce,q,J,"#","\\#");g(j,q,J,"&","\\&");g(ce,q,J,"&","\\&");g(j,q,J,"","\\aleph",!0);g(j,q,J,"","\\forall",!0);g(j,q,J,"","\\hbar",!0);g(j,q,J,"","\\exists",!0);g(j,q,J,"","\\nabla",!0);g(j,q,J,"","\\flat",!0);g(j,q,J,"","\\ell",!0);g(j,q,J,"","\\natural",!0);g(j,q,J,"","\\clubsuit",!0);g(j,q,J,"","\\wp",!0);g(j,q,J,"","\\sharp",!0);g(j,q,J,"","\\diamondsuit",!0);g(j,q,J,"","\\Re",!0);g(j,q,J,"","\\heartsuit",!0);g(j,q,J,"","\\Im",!0);g(j,q,J,"","\\spadesuit",!0);g(j,q,J,"","\\S",!0);g(ce,q,J,"","\\S");g(j,q,J,"","\\P",!0);g(ce,q,J,"","\\P");g(j,q,J,"","\\dag");g(ce,q,J,"","\\dag");g(ce,q,J,"","\\textdagger");g(j,q,J,"","\\ddag");g(ce,q,J,"","\\ddag");g(ce,q,J,"","\\textdaggerdbl");g(j,q,di,"","\\rmoustache",!0);g(j,q,Gi,"","\\lmoustache",!0);g(j,q,di,"","\\rgroup",!0);g(j,q,Gi,"","\\lgroup",!0);g(j,q,_e,"","\\mp",!0);g(j,q,_e,"","\\ominus",!0);g(j,q,_e,"","\\uplus",!0);g(j,q,_e,"","\\sqcap",!0);g(j,q,_e,"","\\ast");g(j,q,_e,"","\\sqcup",!0);g(j,q,_e,"","\\bigcirc",!0);g(j,q,_e,"","\\bullet",!0);g(j,q,_e,"","\\ddagger");g(j,q,_e,"","\\wr",!0);g(j,q,_e,"","\\amalg");g(j,q,_e,"&","\\And");g(j,q,W,"","\\longleftarrow",!0);g(j,q,W,"","\\Leftarrow",!0);g(j,q,W,"","\\Longleftarrow",!0);g(j,q,W,"","\\longrightarrow",!0);g(j,q,W,"","\\Rightarrow",!0);g(j,q,W,"","\\Longrightarrow",!0);g(j,q,W,"","\\leftrightarrow",!0);g(j,q,W,"","\\longleftrightarrow",!0);g(j,q,W,"","\\Leftrightarrow",!0);g(j,q,W,"","\\Longleftrightarrow",!0);g(j,q,W,"","\\mapsto",!0);g(j,q,W,"","\\longmapsto",!0);g(j,q,W,"","\\nearrow",!0);g(j,q,W,"","\\hookleftarrow",!0);g(j,q,W,"","\\hookrightarrow",!0);g(j,q,W,"","\\searrow",!0);g(j,q,W,"","\\leftharpoonup",!0);g(j,q,W,"","\\rightharpoonup",!0);g(j,q,W,"","\\swarrow",!0);g(j,q,W,"","\\leftharpoondown",!0);g(j,q,W,"","\\rightharpoondown",!0);g(j,q,W,"","\\nwarrow",!0);g(j,q,W,"","\\rightleftharpoons",!0);g(j,G,W,"","\\nless",!0);g(j,G,W,"","\\@nleqslant");g(j,G,W,"","\\@nleqq");g(j,G,W,"","\\lneq",!0);g(j,G,W,"","\\lneqq",!0);g(j,G,W,"","\\@lvertneqq");g(j,G,W,"","\\lnsim",!0);g(j,G,W,"","\\lnapprox",!0);g(j,G,W,"","\\nprec",!0);g(j,G,W,"","\\npreceq",!0);g(j,G,W,"","\\precnsim",!0);g(j,G,W,"","\\precnapprox",!0);g(j,G,W,"","\\nsim",!0);g(j,G,W,"","\\@nshortmid");g(j,G,W,"","\\nmid",!0);g(j,G,W,"","\\nvdash",!0);g(j,G,W,"","\\nvDash",!0);g(j,G,W,"","\\ntriangleleft");g(j,G,W,"","\\ntrianglelefteq",!0);g(j,G,W,"","\\subsetneq",!0);g(j,G,W,"","\\@varsubsetneq");g(j,G,W,"","\\subsetneqq",!0);g(j,G,W,"","\\@varsubsetneqq");g(j,G,W,"","\\ngtr",!0);g(j,G,W,"","\\@ngeqslant");g(j,G,W,"","\\@ngeqq");g(j,G,W,"","\\gneq",!0);g(j,G,W,"","\\gneqq",!0);g(j,G,W,"","\\@gvertneqq");g(j,G,W,"","\\gnsim",!0);g(j,G,W,"","\\gnapprox",!0);g(j,G,W,"","\\nsucc",!0);g(j,G,W,"","\\nsucceq",!0);g(j,G,W,"","\\succnsim",!0);g(j,G,W,"","\\succnapprox",!0);g(j,G,W,"","\\ncong",!0);g(j,G,W,"","\\@nshortparallel");g(j,G,W,"","\\nparallel",!0);g(j,G,W,"","\\nVDash",!0);g(j,G,W,"","\\ntriangleright");g(j,G,W,"","\\ntrianglerighteq",!0);g(j,G,W,"","\\@nsupseteqq");g(j,G,W,"","\\supsetneq",!0);g(j,G,W,"","\\@varsupsetneq");g(j,G,W,"","\\supsetneqq",!0);g(j,G,W,"","\\@varsupsetneqq");g(j,G,W,"","\\nVdash",!0);g(j,G,W,"","\\precneqq",!0);g(j,G,W,"","\\succneqq",!0);g(j,G,W,"","\\@nsubseteqq");g(j,G,_e,"","\\unlhd");g(j,G,_e,"","\\unrhd");g(j,G,W,"","\\nleftarrow",!0);g(j,G,W,"","\\nrightarrow",!0);g(j,G,W,"","\\nLeftarrow",!0);g(j,G,W,"","\\nRightarrow",!0);g(j,G,W,"","\\nleftrightarrow",!0);g(j,G,W,"","\\nLeftrightarrow",!0);g(j,G,W,"","\\vartriangle");g(j,G,J,"","\\hslash");g(j,G,J,"","\\triangledown");g(j,G,J,"","\\lozenge");g(j,G,J,"","\\circledS");g(j,G,J,"","\\circledR");g(ce,G,J,"","\\circledR");g(j,G,J,"","\\measuredangle",!0);g(j,G,J,"","\\nexists");g(j,G,J,"","\\mho");g(j,G,J,"","\\Finv",!0);g(j,G,J,"","\\Game",!0);g(j,G,J,"","\\backprime");g(j,G,J,"","\\blacktriangle");g(j,G,J,"","\\blacktriangledown");g(j,G,J,"","\\blacksquare");g(j,G,J,"","\\blacklozenge");g(j,G,J,"","\\bigstar");g(j,G,J,"","\\sphericalangle",!0);g(j,G,J,"","\\complement",!0);g(j,G,J,"","\\eth",!0);g(ce,q,J,"","");g(j,G,J,"","\\diagup");g(j,G,J,"","\\diagdown");g(j,G,J,"","\\square");g(j,G,J,"","\\Box");g(j,G,J,"","\\Diamond");g(j,G,J,"","\\yen",!0);g(ce,G,J,"","\\yen",!0);g(j,G,J,"","\\checkmark",!0);g(ce,G,J,"","\\checkmark");g(j,G,J,"","\\beth",!0);g(j,G,J,"","\\daleth",!0);g(j,G,J,"","\\gimel",!0);g(j,G,J,"","\\digamma",!0);g(j,G,J,"","\\varkappa");g(j,G,Gi,"","\\@ulcorner",!0);g(j,G,di,"","\\@urcorner",!0);g(j,G,Gi,"","\\@llcorner",!0);g(j,G,di,"","\\@lrcorner",!0);g(j,G,W,"","\\leqq",!0);g(j,G,W,"","\\leqslant",!0);g(j,G,W,"","\\eqslantless",!0);g(j,G,W,"","\\lesssim",!0);g(j,G,W,"","\\lessapprox",!0);g(j,G,W,"","\\approxeq",!0);g(j,G,_e,"","\\lessdot");g(j,G,W,"","\\lll",!0);g(j,G,W,"","\\lessgtr",!0);g(j,G,W,"","\\lesseqgtr",!0);g(j,G,W,"","\\lesseqqgtr",!0);g(j,G,W,"","\\doteqdot");g(j,G,W,"","\\risingdotseq",!0);g(j,G,W,"","\\fallingdotseq",!0);g(j,G,W,"","\\backsim",!0);g(j,G,W,"","\\backsimeq",!0);g(j,G,W,"","\\subseteqq",!0);g(j,G,W,"","\\Subset",!0);g(j,G,W,"","\\sqsubset",!0);g(j,G,W,"","\\preccurlyeq",!0);g(j,G,W,"","\\curlyeqprec",!0);g(j,G,W,"","\\precsim",!0);g(j,G,W,"","\\precapprox",!0);g(j,G,W,"","\\vartriangleleft");g(j,G,W,"","\\trianglelefteq");g(j,G,W,"","\\vDash",!0);g(j,G,W,"","\\Vvdash",!0);g(j,G,W,"","\\smallsmile");g(j,G,W,"","\\smallfrown");g(j,G,W,"","\\bumpeq",!0);g(j,G,W,"","\\Bumpeq",!0);g(j,G,W,"","\\geqq",!0);g(j,G,W,"","\\geqslant",!0);g(j,G,W,"","\\eqslantgtr",!0);g(j,G,W,"","\\gtrsim",!0);g(j,G,W,"","\\gtrapprox",!0);g(j,G,_e,"","\\gtrdot");g(j,G,W,"","\\ggg",!0);g(j,G,W,"","\\gtrless",!0);g(j,G,W,"","\\gtreqless",!0);g(j,G,W,"","\\gtreqqless",!0);g(j,G,W,"","\\eqcirc",!0);g(j,G,W,"","\\circeq",!0);g(j,G,W,"","\\triangleq",!0);g(j,G,W,"","\\thicksim");g(j,G,W,"","\\thickapprox");g(j,G,W,"","\\supseteqq",!0);g(j,G,W,"","\\Supset",!0);g(j,G,W,"","\\sqsupset",!0);g(j,G,W,"","\\succcurlyeq",!0);g(j,G,W,"","\\curlyeqsucc",!0);g(j,G,W,"","\\succsim",!0);g(j,G,W,"","\\succapprox",!0);g(j,G,W,"","\\vartriangleright");g(j,G,W,"","\\trianglerighteq");g(j,G,W,"","\\Vdash",!0);g(j,G,W,"","\\shortmid");g(j,G,W,"","\\shortparallel");g(j,G,W,"","\\between",!0);g(j,G,W,"","\\pitchfork",!0);g(j,G,W,"","\\varpropto");g(j,G,W,"","\\blacktriangleleft");g(j,G,W,"","\\therefore",!0);g(j,G,W,"","\\backepsilon");g(j,G,W,"","\\blacktriangleright");g(j,G,W,"","\\because",!0);g(j,G,W,"","\\llless");g(j,G,W,"","\\gggtr");g(j,G,_e,"","\\lhd");g(j,G,_e,"","\\rhd");g(j,G,W,"","\\eqsim",!0);g(j,q,W,"","\\Join");g(j,G,W,"","\\Doteq",!0);g(j,G,_e,"","\\dotplus",!0);g(j,G,_e,"","\\smallsetminus");g(j,G,_e,"","\\Cap",!0);g(j,G,_e,"","\\Cup",!0);g(j,G,_e,"","\\doublebarwedge",!0);g(j,G,_e,"","\\boxminus",!0);g(j,G,_e,"","\\boxplus",!0);g(j,G,_e,"","\\divideontimes",!0);g(j,G,_e,"","\\ltimes",!0);g(j,G,_e,"","\\rtimes",!0);g(j,G,_e,"","\\leftthreetimes",!0);g(j,G,_e,"","\\rightthreetimes",!0);g(j,G,_e,"","\\curlywedge",!0);g(j,G,_e,"","\\curlyvee",!0);g(j,G,_e,"","\\circleddash",!0);g(j,G,_e,"","\\circledast",!0);g(j,G,_e,"","\\centerdot");g(j,G,_e,"","\\intercal",!0);g(j,G,_e,"","\\doublecap");g(j,G,_e,"","\\doublecup");g(j,G,_e,"","\\boxtimes",!0);g(j,G,W,"","\\dashrightarrow",!0);g(j,G,W,"","\\dashleftarrow",!0);g(j,G,W,"","\\leftleftarrows",!0);g(j,G,W,"","\\leftrightarrows",!0);g(j,G,W,"","\\Lleftarrow",!0);g(j,G,W,"","\\twoheadleftarrow",!0);g(j,G,W,"","\\leftarrowtail",!0);g(j,G,W,"","\\looparrowleft",!0);g(j,G,W,"","\\leftrightharpoons",!0);g(j,G,W,"","\\curvearrowleft",!0);g(j,G,W,"","\\circlearrowleft",!0);g(j,G,W,"","\\Lsh",!0);g(j,G,W,"","\\upuparrows",!0);g(j,G,W,"","\\upharpoonleft",!0);g(j,G,W,"","\\downharpoonleft",!0);g(j,q,W,"","\\origof",!0);g(j,q,W,"","\\imageof",!0);g(j,G,W,"","\\multimap",!0);g(j,G,W,"","\\leftrightsquigarrow",!0);g(j,G,W,"","\\rightrightarrows",!0);g(j,G,W,"","\\rightleftarrows",!0);g(j,G,W,"","\\twoheadrightarrow",!0);g(j,G,W,"","\\rightarrowtail",!0);g(j,G,W,"","\\looparrowright",!0);g(j,G,W,"","\\curvearrowright",!0);g(j,G,W,"","\\circlearrowright",!0);g(j,G,W,"","\\Rsh",!0);g(j,G,W,"","\\downdownarrows",!0);g(j,G,W,"","\\upharpoonright",!0);g(j,G,W,"","\\downharpoonright",!0);g(j,G,W,"","\\rightsquigarrow",!0);g(j,G,W,"","\\leadsto");g(j,G,W,"","\\Rrightarrow",!0);g(j,G,W,"","\\restriction");g(j,q,J,"","`");g(j,q,J,"$","\\$");g(ce,q,J,"$","\\$");g(ce,q,J,"$","\\textdollar");g(j,q,J,"%","\\%");g(ce,q,J,"%","\\%");g(j,q,J,"_","\\_");g(ce,q,J,"_","\\_");g(ce,q,J,"_","\\textunderscore");g(j,q,J,"","\\angle",!0);g(j,q,J,"","\\infty",!0);g(j,q,J,"","\\prime");g(j,q,J,"","\\triangle");g(j,q,J,"","\\Gamma",!0);g(j,q,J,"","\\Delta",!0);g(j,q,J,"","\\Theta",!0);g(j,q,J,"","\\Lambda",!0);g(j,q,J,"","\\Xi",!0);g(j,q,J,"","\\Pi",!0);g(j,q,J,"","\\Sigma",!0);g(j,q,J,"","\\Upsilon",!0);g(j,q,J,"","\\Phi",!0);g(j,q,J,"","\\Psi",!0);g(j,q,J,"","\\Omega",!0);g(j,q,J,"A","");g(j,q,J,"B","");g(j,q,J,"E","");g(j,q,J,"Z","");g(j,q,J,"H","");g(j,q,J,"I","");g(j,q,J,"K","");g(j,q,J,"M","");g(j,q,J,"N","");g(j,q,J,"O","");g(j,q,J,"P","");g(j,q,J,"T","");g(j,q,J,"X","");g(j,q,J,"","\\neg",!0);g(j,q,J,"","\\lnot");g(j,q,J,"","\\top");g(j,q,J,"","\\bot");g(j,q,J,"","\\emptyset");g(j,G,J,"","\\varnothing");g(j,q,Pe,"","\\alpha",!0);g(j,q,Pe,"","\\beta",!0);g(j,q,Pe,"","\\gamma",!0);g(j,q,Pe,"","\\delta",!0);g(j,q,Pe,"","\\epsilon",!0);g(j,q,Pe,"","\\zeta",!0);g(j,q,Pe,"","\\eta",!0);g(j,q,Pe,"","\\theta",!0);g(j,q,Pe,"","\\iota",!0);g(j,q,Pe,"","\\kappa",!0);g(j,q,Pe,"","\\lambda",!0);g(j,q,Pe,"","\\mu",!0);g(j,q,Pe,"","\\nu",!0);g(j,q,Pe,"","\\xi",!0);g(j,q,Pe,"","\\omicron",!0);g(j,q,Pe,"","\\pi",!0);g(j,q,Pe,"","\\rho",!0);g(j,q,Pe,"","\\sigma",!0);g(j,q,Pe,"","\\tau",!0);g(j,q,Pe,"","\\upsilon",!0);g(j,q,Pe,"","\\phi",!0);g(j,q,Pe,"","\\chi",!0);g(j,q,Pe,"","\\psi",!0);g(j,q,Pe,"","\\omega",!0);g(j,q,Pe,"","\\varepsilon",!0);g(j,q,Pe,"","\\vartheta",!0);g(j,q,Pe,"","\\varpi",!0);g(j,q,Pe,"","\\varrho",!0);g(j,q,Pe,"","\\varsigma",!0);g(j,q,Pe,"","\\varphi",!0);g(j,q,_e,"","*",!0);g(j,q,_e,"+","+");g(j,q,_e,"","-",!0);g(j,q,_e,"","\\cdot",!0);g(j,q,_e,"","\\circ",!0);g(j,q,_e,"","\\div",!0);g(j,q,_e,"","\\pm",!0);g(j,q,_e,"","\\times",!0);g(j,q,_e,"","\\cap",!0);g(j,q,_e,"","\\cup",!0);g(j,q,_e,"","\\setminus",!0);g(j,q,_e,"","\\land");g(j,q,_e,"","\\lor");g(j,q,_e,"","\\wedge",!0);g(j,q,_e,"","\\vee",!0);g(j,q,J,"","\\surd");g(j,q,Gi,"","\\langle",!0);g(j,q,Gi,"","\\lvert");g(j,q,Gi,"","\\lVert");g(j,q,di,"?","?");g(j,q,di,"!","!");g(j,q,di,"","\\rangle",!0);g(j,q,di,"","\\rvert");g(j,q,di,"","\\rVert");g(j,q,W,"=","=");g(j,q,W,":",":");g(j,q,W,"","\\approx",!0);g(j,q,W,"","\\cong",!0);g(j,q,W,"","\\ge");g(j,q,W,"","\\geq",!0);g(j,q,W,"","\\gets");g(j,q,W,">","\\gt",!0);g(j,q,W,"","\\in",!0);g(j,q,W,"","\\@not");g(j,q,W,"","\\subset",!0);g(j,q,W,"","\\supset",!0);g(j,q,W,"","\\subseteq",!0);g(j,q,W,"","\\supseteq",!0);g(j,G,W,"","\\nsubseteq",!0);g(j,G,W,"","\\nsupseteq",!0);g(j,q,W,"","\\models");g(j,q,W,"","\\leftarrow",!0);g(j,q,W,"","\\le");g(j,q,W,"","\\leq",!0);g(j,q,W,"<","\\lt",!0);g(j,q,W,"","\\rightarrow",!0);g(j,q,W,"","\\to");g(j,G,W,"","\\ngeq",!0);g(j,G,W,"","\\nleq",!0);g(j,q,ha,"","\\ ");g(j,q,ha,"","\\space");g(j,q,ha,"","\\nobreakspace");g(ce,q,ha,"","\\ ");g(ce,q,ha,""," ");g(ce,q,ha,"","\\space");g(ce,q,ha,"","\\nobreakspace");g(j,q,ha,null,"\\nobreak");g(j,q,ha,null,"\\allowbreak");g(j,q,mf,",",",");g(j,q,mf,";",";");g(j,G,_e,"","\\barwedge",!0);g(j,G,_e,"","\\veebar",!0);g(j,q,_e,"","\\odot",!0);g(j,q,_e,"","\\oplus",!0);g(j,q,_e,"","\\otimes",!0);g(j,q,J,"","\\partial",!0);g(j,q,_e,"","\\oslash",!0);g(j,G,_e,"","\\circledcirc",!0);g(j,G,_e,"","\\boxdot",!0);g(j,q,_e,"","\\bigtriangleup");g(j,q,_e,"","\\bigtriangledown");g(j,q,_e,"","\\dagger");g(j,q,_e,"","\\diamond");g(j,q,_e,"","\\star");g(j,q,_e,"","\\triangleleft");g(j,q,_e,"","\\triangleright");g(j,q,Gi,"{","\\{");g(ce,q,J,"{","\\{");g(ce,q,J,"{","\\textbraceleft");g(j,q,di,"}","\\}");g(ce,q,J,"}","\\}");g(ce,q,J,"}","\\textbraceright");g(j,q,Gi,"{","\\lbrace");g(j,q,di,"}","\\rbrace");g(j,q,Gi,"[","\\lbrack",!0);g(ce,q,J,"[","\\lbrack",!0);g(j,q,di,"]","\\rbrack",!0);g(ce,q,J,"]","\\rbrack",!0);g(j,q,Gi,"(","\\lparen",!0);g(j,q,di,")","\\rparen",!0);g(ce,q,J,"<","\\textless",!0);g(ce,q,J,">","\\textgreater",!0);g(j,q,Gi,"","\\lfloor",!0);g(j,q,di,"","\\rfloor",!0);g(j,q,Gi,"","\\lceil",!0);g(j,q,di,"","\\rceil",!0);g(j,q,J,"\\","\\backslash");g(j,q,J,"","|");g(j,q,J,"","\\vert");g(ce,q,J,"|","\\textbar",!0);g(j,q,J,"","\\|");g(j,q,J,"","\\Vert");g(ce,q,J,"","\\textbardbl");g(ce,q,J,"~","\\textasciitilde");g(ce,q,J,"\\","\\textbackslash");g(ce,q,J,"^","\\textasciicircum");g(j,q,W,"","\\uparrow",!0);g(j,q,W,"","\\Uparrow",!0);g(j,q,W,"","\\downarrow",!0);g(j,q,W,"","\\Downarrow",!0);g(j,q,W,"","\\updownarrow",!0);g(j,q,W,"","\\Updownarrow",!0);g(j,q,ps,"","\\coprod");g(j,q,ps,"","\\bigvee");g(j,q,ps,"","\\bigwedge");g(j,q,ps,"","\\biguplus");g(j,q,ps,"","\\bigcap");g(j,q,ps,"","\\bigcup");g(j,q,ps,"","\\int");g(j,q,ps,"","\\intop");g(j,q,ps,"","\\iint");g(j,q,ps,"","\\iiint");g(j,q,ps,"","\\prod");g(j,q,ps,"","\\sum");g(j,q,ps,"","\\bigotimes");g(j,q,ps,"","\\bigoplus");g(j,q,ps,"","\\bigodot");g(j,q,ps,"","\\oint");g(j,q,ps,"","\\oiint");g(j,q,ps,"","\\oiiint");g(j,q,ps,"","\\bigsqcup");g(j,q,ps,"","\\smallint");g(ce,q,a0,"","\\textellipsis");g(j,q,a0,"","\\mathellipsis");g(ce,q,a0,"","\\ldots",!0);g(j,q,a0,"","\\ldots",!0);g(j,q,a0,"","\\@cdots",!0);g(j,q,a0,"","\\ddots",!0);g(j,q,J,"","\\varvdots");g(ce,q,J,"","\\varvdots");g(j,q,Rt,"","\\acute");g(j,q,Rt,"","\\grave");g(j,q,Rt,"","\\ddot");g(j,q,Rt,"~","\\tilde");g(j,q,Rt,"","\\bar");g(j,q,Rt,"","\\breve");g(j,q,Rt,"","\\check");g(j,q,Rt,"^","\\hat");g(j,q,Rt,"","\\vec");g(j,q,Rt,"","\\dot");g(j,q,Rt,"","\\mathring");g(j,q,Pe,"","\\@imath");g(j,q,Pe,"","\\@jmath");g(j,q,J,"","");g(j,q,J,"","");g(ce,q,J,"","\\i",!0);g(ce,q,J,"","\\j",!0);g(ce,q,J,"","\\ss",!0);g(ce,q,J,"","\\ae",!0);g(ce,q,J,"","\\oe",!0);g(ce,q,J,"","\\o",!0);g(ce,q,J,"","\\AE",!0);g(ce,q,J,"","\\OE",!0);g(ce,q,J,"","\\O",!0);g(ce,q,Rt,"","\\'");g(ce,q,Rt,"","\\`");g(ce,q,Rt,"","\\^");g(ce,q,Rt,"","\\~");g(ce,q,Rt,"","\\=");g(ce,q,Rt,"","\\u");g(ce,q,Rt,"","\\.");g(ce,q,Rt,"","\\c");g(ce,q,Rt,"","\\r");g(ce,q,Rt,"","\\v");g(ce,q,Rt,"",'\\"');g(ce,q,Rt,"","\\H");g(ce,q,Rt,"","\\textcircled");var GA={"--":!0,"---":!0,"``":!0,"''":!0};g(ce,q,J,"","--",!0);g(ce,q,J,"","\\textendash");g(ce,q,J,"","---",!0);g(ce,q,J,"","\\textemdash");g(ce,q,J,"","`",!0);g(ce,q,J,"","\\textquoteleft");g(ce,q,J,"","'",!0);g(ce,q,J,"","\\textquoteright");g(ce,q,J,"","``",!0);g(ce,q,J,"","\\textquotedblleft");g(ce,q,J,"","''",!0);g(ce,q,J,"","\\textquotedblright");g(j,q,J,"","\\degree",!0);g(ce,q,J,"","\\degree");g(ce,q,J,"","\\textdegree",!0);g(j,q,J,"","\\pounds");g(j,q,J,"","\\mathsterling",!0);g(ce,q,J,"","\\pounds");g(ce,q,J,"","\\textsterling",!0);g(j,G,J,"","\\maltese");g(ce,G,J,"","\\maltese");var h7='0123456789/@."';for(var p1=0;p1<h7.length;p1++){var u7=h7.charAt(p1);g(j,q,J,u7,u7)}var m7='0123456789!@*()-=+";:?/.,';for(var f1=0;f1<m7.length;f1++){var p7=m7.charAt(f1);g(ce,q,J,p7,p7)}var gp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var x1=0;x1<gp.length;x1++){var qu=gp.charAt(x1);g(j,q,Pe,qu,qu),g(ce,q,J,qu,qu)}g(j,G,J,"C","");g(ce,G,J,"C","");g(j,G,J,"H","");g(ce,G,J,"H","");g(j,G,J,"N","");g(ce,G,J,"N","");g(j,G,J,"P","");g(ce,G,J,"P","");g(j,G,J,"Q","");g(ce,G,J,"Q","");g(j,G,J,"R","");g(ce,G,J,"R","");g(j,G,J,"Z","");g(ce,G,J,"Z","");g(j,q,Pe,"h","");g(ce,q,Pe,"h","");var He="";for(var Qs=0;Qs<gp.length;Qs++){var Yt=gp.charAt(Qs);He=String.fromCharCode(55349,56320+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56372+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56424+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56580+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56684+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56736+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56788+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56840+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56944+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),Qs<26&&(He=String.fromCharCode(55349,56632+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He),He=String.fromCharCode(55349,56476+Qs),g(j,q,Pe,Yt,He),g(ce,q,J,Yt,He))}He="";g(j,q,Pe,"k",He);g(ce,q,J,"k",He);for(var Hl=0;Hl<10;Hl++){var Aa=Hl.toString();He=String.fromCharCode(55349,57294+Hl),g(j,q,Pe,Aa,He),g(ce,q,J,Aa,He),He=String.fromCharCode(55349,57314+Hl),g(j,q,Pe,Aa,He),g(ce,q,J,Aa,He),He=String.fromCharCode(55349,57324+Hl),g(j,q,Pe,Aa,He),g(ce,q,J,Aa,He),He=String.fromCharCode(55349,57334+Hl),g(j,q,Pe,Aa,He),g(ce,q,J,Aa,He)}var M2="";for(var g1=0;g1<M2.length;g1++){var Iu=M2.charAt(g1);g(j,q,Pe,Iu,Iu),g(ce,q,J,Iu,Iu)}var _u=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],f7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],uK=function(e,i){var n=e.charCodeAt(0),r=e.charCodeAt(1),a=(n-55296)*1024+(r-56320)+65536,l=i==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[_u[c][2],_u[c][l]]}else if(120782<=a&&a<=120831){var d=Math.floor((a-120782)/10);return[f7[d][2],f7[d][l]]}else{if(a===120485||a===120486)return[_u[0][2],_u[0][l]];if(120486<a&&a<120782)return["",""];throw new pe("Unsupported character: "+e)}},pf=function(e,i,n){return St[n][e]&&St[n][e].replace&&(e=St[n][e].replace),{value:e,metrics:uy(e,i,n)}},In=function(e,i,n,r,a){var l=pf(e,i,n),c=l.metrics;e=l.value;var d;if(c){var h=c.italic;(n==="text"||r&&r.font==="mathit")&&(h=0),d=new xn(e,c.height,c.depth,h,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+i+"' and mode '"+n+"'")),d=new xn(e,0,0,0,0,0,a);if(r){d.maxFontSize=r.sizeMultiplier,r.style.isTight()&&d.classes.push("mtight");var m=r.getColor();m&&(d.style.color=m)}return d},mK=function(e,i,n,r){return r===void 0&&(r=[]),n.font==="boldsymbol"&&pf(e,"Main-Bold",i).metrics?In(e,"Main-Bold",i,n,r.concat(["mathbf"])):e==="\\"||St[i][e].font==="main"?In(e,"Main-Regular",i,n,r):In(e,"AMS-Regular",i,n,r.concat(["amsrm"]))},pK=function(e,i,n,r,a){return a!=="textord"&&pf(e,"Math-BoldItalic",i).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},fK=function(e,i,n){var r=e.mode,a=e.text,l=["mord"],c=r==="math"||r==="text"&&i.font,d=c?i.font:i.fontFamily,h="",m="";if(a.charCodeAt(0)===55349&&([h,m]=uK(a,r)),h.length>0)return In(a,h,r,i,l.concat(m));if(d){var p,f;if(d==="boldsymbol"){var b=pK(a,r,i,l,n);p=b.fontName,f=[b.fontClass]}else c?(p=ZA[d].fontName,f=[d]):(p=Cu(d,i.fontWeight,i.fontShape),f=[d,i.fontWeight,i.fontShape]);if(pf(a,p,r).metrics)return In(a,p,r,i,l.concat(f));if(GA.hasOwnProperty(a)&&p.slice(0,10)==="Typewriter"){for(var N=[],I=0;I<a.length;I++)N.push(In(a[I],p,r,i,l.concat(f)));return WA(N)}}if(n==="mathord")return In(a,"Math-Italic",r,i,l.concat(["mathnormal"]));if(n==="textord"){var D=St[r][a]&&St[r][a].font;if(D==="ams"){var k=Cu("amsrm",i.fontWeight,i.fontShape);return In(a,k,r,i,l.concat("amsrm",i.fontWeight,i.fontShape))}else if(D==="main"||!D){var T=Cu("textrm",i.fontWeight,i.fontShape);return In(a,T,r,i,l.concat(i.fontWeight,i.fontShape))}else{var A=Cu(D,i.fontWeight,i.fontShape);return In(a,A,r,i,l.concat(A,i.fontWeight,i.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},xK=(t,e)=>{if(yl(t.classes)!==yl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var i=t.classes[0];if(i==="mbin"||i==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},gK=t=>{for(var e=0;e<t.length-1;e++){var i=t[e],n=t[e+1];i instanceof xn&&n instanceof xn&&xK(i,n)&&(i.text+=n.text,i.height=Math.max(i.height,n.height),i.depth=Math.max(i.depth,n.depth),i.italic=n.italic,t.splice(e+1,1),e--)}return t},py=function(e){for(var i=0,n=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>i&&(i=l.height),l.depth>n&&(n=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=i,e.depth=n,e.maxFontSize=r},bi=function(e,i,n,r){var a=new Sh(e,i,n,r);return py(a),a},VA=(t,e,i,n)=>new Sh(t,e,i,n),bK=function(e,i,n){var r=bi([e],[],i);return r.height=Math.max(n||i.fontMetrics().defaultRuleThickness,i.minRuleThickness),r.style.borderBottomWidth=be(r.height),r.maxFontSize=1,r},yK=function(e,i,n,r){var a=new my(e,i,n,r);return py(a),a},WA=function(e){var i=new Th(e);return py(i),i},vK=function(e,i){return e instanceof Th?bi([],[e],i):e},jK=function(e){if(e.positionType==="individualShift"){for(var i=e.children,n=[i[0]],r=-i[0].shift-i[0].elem.depth,a=r,l=1;l<i.length;l++){var c=-i[l].shift-a-i[l].elem.depth,d=c-(i[l-1].elem.height+i[l-1].elem.depth);a=a+c,n.push({type:"kern",size:d}),n.push(i[l])}return{children:n,depth:r}}var h;if(e.positionType==="top"){for(var m=e.positionData,p=0;p<e.children.length;p++){var f=e.children[p];m-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}h=m}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},wK=function(e,i){for(var{children:n,depth:r}=jK(e),a=0,l=0;l<n.length;l++){var c=n[l];if(c.type==="elem"){var d=c.elem;a=Math.max(a,d.maxFontSize,d.height)}}a+=2;var h=bi(["pstrut"],[]);h.style.height=be(a);for(var m=[],p=r,f=r,b=r,N=0;N<n.length;N++){var I=n[N];if(I.type==="kern")b+=I.size;else{var D=I.elem,k=I.wrapperClasses||[],T=I.wrapperStyle||{},A=bi(k,[h,D],void 0,T);A.style.top=be(-a-b-D.depth),I.marginLeft&&(A.style.marginLeft=I.marginLeft),I.marginRight&&(A.style.marginRight=I.marginRight),m.push(A),b+=D.height+D.depth}p=Math.min(p,b),f=Math.max(f,b)}var P=bi(["vlist"],m);P.style.height=be(f);var F;if(p<0){var ee=bi([],[]),C=bi(["vlist"],[ee]);C.style.height=be(-p);var S=bi(["vlist-s"],[new xn("")]);F=[bi(["vlist-r"],[P,S]),bi(["vlist-r"],[C])]}else F=[bi(["vlist-r"],[P])];var _=bi(["vlist-t"],F);return F.length===2&&_.classes.push("vlist-t2"),_.height=f,_.depth=-p,_},NK=(t,e)=>{var i=bi(["mspace"],[],e),n=Ft(t,e);return i.style.marginRight=be(n),i},Cu=function(e,i,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return i==="textbf"&&n==="textit"?a="BoldItalic":i==="textbf"?a="Bold":i==="textit"?a="Italic":a="Regular",r+"-"+a},ZA={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},YA={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},kK=function(e,i){var[n,r,a]=YA[e],l=new vl(n),c=new aa([l],{width:be(r),height:be(a),style:"width:"+be(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),d=VA(["overlay"],[c],i);return d.height=a,d.style.height=be(a),d.style.width=be(r),d},ie={fontMap:ZA,makeSymbol:In,mathsym:mK,makeSpan:bi,makeSvgSpan:VA,makeLineSpan:bK,makeAnchor:yK,makeFragment:WA,wrapFragment:vK,makeVList:wK,makeOrd:fK,makeGlue:NK,staticSvg:kK,svgData:YA,tryCombineChars:gK},Lt={number:3,unit:"mu"},Gl={number:4,unit:"mu"},Tr={number:5,unit:"mu"},TK={mord:{mop:Lt,mbin:Gl,mrel:Tr,minner:Lt},mop:{mord:Lt,mop:Lt,mrel:Tr,minner:Lt},mbin:{mord:Gl,mop:Gl,mopen:Gl,minner:Gl},mrel:{mord:Tr,mop:Tr,mopen:Tr,minner:Tr},mopen:{},mclose:{mop:Lt,mbin:Gl,mrel:Tr,minner:Lt},mpunct:{mord:Lt,mop:Lt,mrel:Tr,mopen:Lt,mclose:Lt,mpunct:Lt,minner:Lt},minner:{mord:Lt,mop:Lt,mbin:Gl,mrel:Tr,mopen:Lt,mpunct:Lt,minner:Lt}},SK={mord:{mop:Lt},mop:{mord:Lt,mop:Lt},mbin:{},mrel:{},mopen:{},mclose:{mop:Lt},mpunct:{},minner:{mop:Lt}},XA={},bp={},yp={};function Se(t){for(var{type:e,names:i,props:n,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:r},d=0;d<i.length;++d)XA[i[d]]=c;e&&(a&&(bp[e]=a),l&&(yp[e]=l))}function Io(t){var{type:e,htmlBuilder:i,mathmlBuilder:n}=t;Se({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:i,mathmlBuilder:n})}var vp=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},rs=function(e){return e.type==="ordgroup"?e.body:[e]},la=ie.makeSpan,AK=["leftmost","mbin","mopen","mrel","mop","mpunct"],EK=["rightmost","mrel","mclose","mpunct"],qK={display:Be.DISPLAY,text:Be.TEXT,script:Be.SCRIPT,scriptscript:Be.SCRIPTSCRIPT},IK={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ks=function(e,i,n,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=rt(e[l],i);if(c instanceof Th){var d=c.children;a.push(...d)}else a.push(c)}if(ie.tryCombineChars(a),!n)return a;var h=i;if(e.length===1){var m=e[0];m.type==="sizing"?h=i.havingSize(m.size):m.type==="styling"&&(h=i.havingStyle(qK[m.style]))}var p=la([r[0]||"leftmost"],[],i),f=la([r[1]||"rightmost"],[],i),b=n==="root";return x7(a,(N,I)=>{var D=I.classes[0],k=N.classes[0];D==="mbin"&&EK.includes(k)?I.classes[0]="mord":k==="mbin"&&AK.includes(D)&&(N.classes[0]="mord")},{node:p},f,b),x7(a,(N,I)=>{var D=z2(I),k=z2(N),T=D&&k?N.hasClass("mtight")?SK[D][k]:TK[D][k]:null;if(T)return ie.makeGlue(T,h)},{node:p},f,b),a},x7=function t(e,i,n,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var c=e[l],d=KA(c);if(d){t(d.children,i,n,null,a);continue}var h=!c.hasClass("mspace");if(h){var m=i(c,n.node);m&&(n.insertAfter?n.insertAfter(m):(e.unshift(m),l++))}h?n.node=c:a&&c.hasClass("newline")&&(n.node=la(["leftmost"])),n.insertAfter=(p=>f=>{e.splice(p+1,0,f),l++})(l)}r&&e.pop()},KA=function(e){return e instanceof Th||e instanceof my||e instanceof Sh&&e.hasClass("enclosing")?e:null},_K=function t(e,i){var n=KA(e);if(n){var r=n.children;if(r.length){if(i==="right")return t(r[r.length-1],"right");if(i==="left")return t(r[0],"left")}}return e},z2=function(e,i){return e?(i&&(e=_K(e,i)),IK[e.classes[0]]||null):null},Xd=function(e,i){var n=["nulldelimiter"].concat(e.baseSizingClasses());return la(i.concat(n))},rt=function(e,i,n){if(!e)return la();if(bp[e.type]){var r=bp[e.type](e,i);if(n&&i.size!==n.size){r=la(i.sizingClasses(n),[r],i);var a=i.sizeMultiplier/n.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new pe("Got group of unknown type: '"+e.type+"'")};function Mu(t,e){var i=la(["base"],t,e),n=la(["strut"]);return n.style.height=be(i.height+i.depth),i.depth&&(n.style.verticalAlign=be(-i.depth)),i.children.unshift(n),i}function D2(t,e){var i=null;t.length===1&&t[0].type==="tag"&&(i=t[0].tag,t=t[0].body);var n=ks(t,e,"root"),r;n.length===2&&n[1].hasClass("tag")&&(r=n.pop());for(var a=[],l=[],c=0;c<n.length;c++)if(l.push(n[c]),n[c].hasClass("mbin")||n[c].hasClass("mrel")||n[c].hasClass("allowbreak")){for(var d=!1;c<n.length-1&&n[c+1].hasClass("mspace")&&!n[c+1].hasClass("newline");)c++,l.push(n[c]),n[c].hasClass("nobreak")&&(d=!0);d||(a.push(Mu(l,e)),l=[])}else n[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Mu(l,e)),l=[]),a.push(n[c]));l.length>0&&a.push(Mu(l,e));var h;i?(h=Mu(ks(i,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var m=la(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=be(m.height+m.depth),m.depth&&(p.style.verticalAlign=be(-m.depth))}return m}function QA(t){return new Th(t)}class Di{constructor(e,i,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=i||[],this.classes=n||[]}setAttribute(e,i){this.attributes[e]=i}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&e.setAttribute(i,this.attributes[i]);this.classes.length>0&&(e.className=yl(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Xn&&this.children[n+1]instanceof Xn){for(var r=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Xn;)r+=this.children[++n].toText();e.appendChild(new Xn(r).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&(e+=" "+i+'="',e+=ot.escape(this.attributes[i]),e+='"');this.classes.length>0&&(e+=' class ="'+ot.escape(yl(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Xn{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ot.escape(this.toText())}toText(){return this.text}}class CK{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",be(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+be(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ue={MathNode:Di,TextNode:Xn,SpaceNode:CK,newDocumentFragment:QA},gn=function(e,i,n){return St[i][e]&&St[i][e].replace&&e.charCodeAt(0)!==55349&&!(GA.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=St[i][e].replace),new ue.TextNode(e)},fy=function(e){return e.length===1?e[0]:new ue.MathNode("mrow",e)},xy=function(e,i){if(i.fontFamily==="texttt")return"monospace";if(i.fontFamily==="textsf")return i.fontShape==="textit"&&i.fontWeight==="textbf"?"sans-serif-bold-italic":i.fontShape==="textit"?"sans-serif-italic":i.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(i.fontShape==="textit"&&i.fontWeight==="textbf")return"bold-italic";if(i.fontShape==="textit")return"italic";if(i.fontWeight==="textbf")return"bold";var n=i.font;if(!n||n==="mathnormal")return null;var r=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;St[r][a]&&St[r][a].replace&&(a=St[r][a].replace);var l=ie.fontMap[n].fontName;return uy(a,l,r)?ie.fontMap[n].variant:null};function b1(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Xn&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var i=t.children[0];return i instanceof Xn&&i.text===","}else return!1}var Ai=function(e,i,n){if(e.length===1){var r=vt(e[0],i);return n&&r instanceof Di&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,c=0;c<e.length;c++){var d=vt(e[c],i);if(d instanceof Di&&l instanceof Di){if(d.type==="mtext"&&l.type==="mtext"&&d.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...d.children);continue}else if(d.type==="mn"&&l.type==="mn"){l.children.push(...d.children);continue}else if(b1(d)&&l.type==="mn"){l.children.push(...d.children);continue}else if(d.type==="mn"&&b1(l))d.children=[...l.children,...d.children],a.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(l.type==="mn"||b1(l))){var h=d.children[0];h instanceof Di&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Xn&&m.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var p=d.children[0];p instanceof Xn&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),a.pop())}}}a.push(d),l=d}return a},jl=function(e,i,n){return fy(Ai(e,i,n))},vt=function(e,i){if(!e)return new ue.MathNode("mrow");if(yp[e.type]){var n=yp[e.type](e,i);return n}else throw new pe("Got group of unknown type: '"+e.type+"'")};function g7(t,e,i,n,r){var a=Ai(t,i),l;a.length===1&&a[0]instanceof Di&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new ue.MathNode("mrow",a);var c=new ue.MathNode("annotation",[new ue.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var d=new ue.MathNode("semantics",[l,c]),h=new ue.MathNode("math",[d]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var m=r?"katex":"katex-mathml";return ie.makeSpan([m],[h])}var JA=function(e){return new Er({style:e.displayMode?Be.DISPLAY:Be.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},eE=function(e,i){if(i.displayMode){var n=["katex-display"];i.leqno&&n.push("leqno"),i.fleqn&&n.push("fleqn"),e=ie.makeSpan(n,[e])}return e},MK=function(e,i,n){var r=JA(n),a;if(n.output==="mathml")return g7(e,i,r,n.displayMode,!0);if(n.output==="html"){var l=D2(e,r);a=ie.makeSpan(["katex"],[l])}else{var c=g7(e,i,r,n.displayMode,!1),d=D2(e,r);a=ie.makeSpan(["katex"],[c,d])}return eE(a,n)},zK=function(e,i,n){var r=JA(n),a=D2(e,r),l=ie.makeSpan(["katex"],[a]);return eE(l,n)},DK={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},RK=function(e){var i=new ue.MathNode("mo",[new ue.TextNode(DK[e.replace(/^\\/,"")])]);return i.setAttribute("stretchy","true"),i},OK={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},PK=function(e){return e.type==="ordgroup"?e.body.length:1},$K=function(e,i){function n(){var c=4e5,d=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var h=e,m=PK(h.base),p,f,b;if(m>5)d==="widehat"||d==="widecheck"?(p=420,c=2364,b=.42,f=d+"4"):(p=312,c=2340,b=.34,f="tilde4");else{var N=[1,1,2,2,3,3][m];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][N],p=[0,239,300,360,420][N],b=[0,.24,.3,.3,.36,.42][N],f=d+N):(c=[0,600,1033,2339,2340][N],p=[0,260,286,306,312][N],b=[0,.26,.286,.3,.306,.34][N],f="tilde"+N)}var I=new vl(f),D=new aa([I],{width:"100%",height:be(b),viewBox:"0 0 "+c+" "+p,preserveAspectRatio:"none"});return{span:ie.makeSvgSpan([],[D],i),minWidth:0,height:b}}else{var k=[],T=OK[d],[A,P,F]=T,ee=F/1e3,C=A.length,S,_;if(C===1){var O=T[3];S=["hide-tail"],_=[O]}else if(C===2)S=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else if(C===3)S=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var B=0;B<C;B++){var U=new vl(A[B]),L=new aa([U],{width:"400em",height:be(ee),viewBox:"0 0 "+c+" "+F,preserveAspectRatio:_[B]+" slice"}),Ae=ie.makeSvgSpan([S[B]],[L],i);if(C===1)return{span:Ae,minWidth:P,height:ee};Ae.style.height=be(ee),k.push(Ae)}return{span:ie.makeSpan(["stretchy"],k,i),minWidth:P,height:ee}}}var{span:r,minWidth:a,height:l}=n();return r.height=l,r.style.height=be(l),a>0&&(r.style.minWidth=be(a)),r},BK=function(e,i,n,r,a){var l,c=e.height+e.depth+n+r;if(/fbox|color|angl/.test(i)){if(l=ie.makeSpan(["stretchy",i],[],a),i==="fbox"){var d=a.color&&a.getColor();d&&(l.style.borderColor=d)}}else{var h=[];/^[bx]cancel$/.test(i)&&h.push(new C2({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(i)&&h.push(new C2({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new aa(h,{width:"100%",height:be(c)});l=ie.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=be(c),l},oa={encloseSpan:BK,mathMLnode:RK,svgSpan:$K};function Ke(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function gy(t){var e=ff(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function ff(t){return t&&(t.type==="atom"||hK.hasOwnProperty(t.type))?t:null}var by=(t,e)=>{var i,n,r;t&&t.type==="supsub"?(n=Ke(t.base,"accent"),i=n.base,t.base=i,r=cK(rt(t,e)),t.base=n):(n=Ke(t,"accent"),i=n.base);var a=rt(i,e.havingCrampedStyle()),l=n.isShifty&&ot.isCharacterBox(i),c=0;if(l){var d=ot.getBaseElem(i),h=rt(d,e.havingCrampedStyle());c=d7(h).skew}var m=n.label==="\\c",p=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),f;if(n.isStretchy)f=oa.svgSpan(n,e),f=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+be(2*c)+")",marginLeft:be(2*c)}:void 0}]},e);else{var b,N;n.label==="\\vec"?(b=ie.staticSvg("vec",e),N=ie.svgData.vec[1]):(b=ie.makeOrd({mode:n.mode,text:n.label},e,"textord"),b=d7(b),b.italic=0,N=b.width,m&&(p+=b.depth)),f=ie.makeSpan(["accent-body"],[b]);var I=n.label==="\\textcircled";I&&(f.classes.push("accent-full"),p=a.height);var D=c;I||(D-=N/2),f.style.left=be(D),n.label==="\\textcircled"&&(f.style.top=".2em"),f=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:f}]},e)}var k=ie.makeSpan(["mord","accent"],[f],e);return r?(r.children[0]=k,r.height=Math.max(k.height,r.height),r.classes[0]="mord",r):k},tE=(t,e)=>{var i=t.isStretchy?oa.mathMLnode(t.label):new ue.MathNode("mo",[gn(t.label,t.mode)]),n=new ue.MathNode("mover",[vt(t.base,e),i]);return n.setAttribute("accent","true"),n},LK=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Se({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var i=vp(e[0]),n=!LK.test(t.funcName),r=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:r,base:i}},htmlBuilder:by,mathmlBuilder:tE});Se({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var i=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:i}},htmlBuilder:by,mathmlBuilder:tE});Se({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"accentUnder",mode:i.mode,label:n,base:r}},htmlBuilder:(t,e)=>{var i=rt(t.base,e),n=oa.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=ie.makeVList({positionType:"top",positionData:i.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:i}]},e);return ie.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var i=oa.mathMLnode(t.label),n=new ue.MathNode("munder",[vt(t.base,e),i]);return n.setAttribute("accentunder","true"),n}});var zu=t=>{var e=new ue.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Se({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:n,funcName:r}=t;return{type:"xArrow",mode:n.mode,label:r,body:e[0],below:i[0]}},htmlBuilder(t,e){var i=e.style,n=e.havingStyle(i.sup()),r=ie.wrapFragment(rt(t.body,n,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(n=e.havingStyle(i.sub()),l=ie.wrapFragment(rt(t.below,n,e),e),l.classes.push(a+"-arrow-pad"));var c=oa.svgSpan(t,e),d=-e.fontMetrics().axisHeight+.5*c.height,h=-e.fontMetrics().axisHeight-.5*c.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var m;if(l){var p=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:c,shift:d},{type:"elem",elem:l,shift:p}]},e)}else m=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:c,shift:d}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),ie.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var i=oa.mathMLnode(t.label);i.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var r=zu(vt(t.body,e));if(t.below){var a=zu(vt(t.below,e));n=new ue.MathNode("munderover",[i,a,r])}else n=new ue.MathNode("mover",[i,r])}else if(t.below){var l=zu(vt(t.below,e));n=new ue.MathNode("munder",[i,l])}else n=zu(),n=new ue.MathNode("mover",[i,n]);return n}});var UK=ie.makeSpan;function sE(t,e){var i=ks(t.body,e,!0);return UK([t.mclass],i,e)}function iE(t,e){var i,n=Ai(t.body,e);return t.mclass==="minner"?i=new ue.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(i=n[0],i.type="mi"):i=new ue.MathNode("mi",n):(t.isCharacterBox?(i=n[0],i.type="mo"):i=new ue.MathNode("mo",n),t.mclass==="mbin"?(i.attributes.lspace="0.22em",i.attributes.rspace="0.22em"):t.mclass==="mpunct"?(i.attributes.lspace="0em",i.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(i.attributes.lspace="0em",i.attributes.rspace="0em"):t.mclass==="minner"&&(i.attributes.lspace="0.0556em",i.attributes.width="+0.1111em")),i}Se({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"mclass",mode:i.mode,mclass:"m"+n.slice(5),body:rs(r),isCharacterBox:ot.isCharacterBox(r)}},htmlBuilder:sE,mathmlBuilder:iE});var xf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Se({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:i}=t;return{type:"mclass",mode:i.mode,mclass:xf(e[0]),body:rs(e[1]),isCharacterBox:ot.isCharacterBox(e[1])}}});Se({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:i,funcName:n}=t,r=e[1],a=e[0],l;n!=="\\stackrel"?l=xf(r):l="mrel";var c={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:rs(r)},d={type:"supsub",mode:a.mode,base:c,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:i.mode,mclass:l,body:[d],isCharacterBox:ot.isCharacterBox(d)}},htmlBuilder:sE,mathmlBuilder:iE});Se({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"pmb",mode:i.mode,mclass:xf(e[0]),body:rs(e[0])}},htmlBuilder(t,e){var i=ks(t.body,e,!0),n=ie.makeSpan([t.mclass],i,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var i=Ai(t.body,e),n=new ue.MathNode("mstyle",i);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var FK={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},b7=()=>({type:"styling",body:[],mode:"math",style:"display"}),y7=t=>t.type==="textord"&&t.text==="@",HK=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function GK(t,e,i){var n=FK[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return i.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=i.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},l=i.callFunction("\\Big",[a],[]),c=i.callFunction("\\\\cdright",[e[1]],[]),d={type:"ordgroup",mode:"math",body:[r,l,c]};return i.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return i.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return i.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function VK(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var i=t.fetch().text;if(i==="&"||i==="\\\\")t.consume();else if(i==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new pe("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],r=[n],a=0;a<e.length;a++){for(var l=e[a],c=b7(),d=0;d<l.length;d++)if(!y7(l[d]))c.body.push(l[d]);else{n.push(c),d+=1;var h=gy(l[d]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var f=!0,b=d+1;b<l.length;b++){if(HK(l[b],h)){f=!1,d=b;break}if(y7(l[b]))throw new pe("Missing a "+h+" character to complete a CD arrow.",l[b]);m[p].body.push(l[b])}if(f)throw new pe("Missing a "+h+" character to complete a CD arrow.",l[d])}else throw new pe('Expected one of "<>AV=|." after @',l[d]);var N=GK(h,m,t),I={type:"styling",body:[N],mode:"math",style:"display"};n.push(I),c=b7()}a%2===0?n.push(c):n.shift(),n=[],r.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var D=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:D,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Se({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t;return{type:"cdlabel",mode:i.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var i=e.havingStyle(e.style.sup()),n=ie.wrapFragment(rt(t.label,i,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=be(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var i=new ue.MathNode("mrow",[vt(t.label,e)]);return i=new ue.MathNode("mpadded",[i]),i.setAttribute("width","0"),t.side==="left"&&i.setAttribute("lspace","-1width"),i.setAttribute("voffset","0.7em"),i=new ue.MathNode("mstyle",[i]),i.setAttribute("displaystyle","false"),i.setAttribute("scriptlevel","1"),i}});Se({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:i}=t;return{type:"cdlabelparent",mode:i.mode,fragment:e[0]}},htmlBuilder(t,e){var i=ie.wrapFragment(rt(t.fragment,e),e);return i.classes.push("cd-vert-arrow"),i},mathmlBuilder(t,e){return new ue.MathNode("mrow",[vt(t.fragment,e)])}});Se({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:i}=t,n=Ke(e[0],"ordgroup"),r=n.body,a="",l=0;l<r.length;l++){var c=Ke(r[l],"textord");a+=c.text}var d=parseInt(a),h;if(isNaN(d))throw new pe("\\@char has non-numeric argument "+a);if(d<0||d>=1114111)throw new pe("\\@char with invalid code point "+a);return d<=65535?h=String.fromCharCode(d):(d-=65536,h=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:i.mode,text:h}}});var nE=(t,e)=>{var i=ks(t.body,e.withColor(t.color),!1);return ie.makeFragment(i)},rE=(t,e)=>{var i=Ai(t.body,e.withColor(t.color)),n=new ue.MathNode("mstyle",i);return n.setAttribute("mathcolor",t.color),n};Se({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:i}=t,n=Ke(e[0],"color-token").color,r=e[1];return{type:"color",mode:i.mode,color:n,body:rs(r)}},htmlBuilder:nE,mathmlBuilder:rE});Se({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:i,breakOnTokenText:n}=t,r=Ke(e[0],"color-token").color;i.gullet.macros.set("\\current@color",r);var a=i.parseExpression(!0,n);return{type:"color",mode:i.mode,color:r,body:a}},htmlBuilder:nE,mathmlBuilder:rE});Se({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,i){var{parser:n}=t,r=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:r&&Ke(r,"size").value}},htmlBuilder(t,e){var i=ie.makeSpan(["mspace"],[],e);return t.newLine&&(i.classes.push("newline"),t.size&&(i.style.marginTop=be(Ft(t.size,e)))),i},mathmlBuilder(t,e){var i=new ue.MathNode("mspace");return t.newLine&&(i.setAttribute("linebreak","newline"),t.size&&i.setAttribute("height",be(Ft(t.size,e)))),i}});var R2={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},aE=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new pe("Expected a control sequence",t);return e},WK=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},lE=(t,e,i,n)=>{var r=t.gullet.macros.get(i.text);r==null&&(i.noexpand=!0,r={tokens:[i],numArgs:0,unexpandable:!t.gullet.isExpandable(i.text)}),t.gullet.macros.set(e,r,n)};Se({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:i}=t;e.consumeSpaces();var n=e.fetch();if(R2[n.text])return(i==="\\global"||i==="\\\\globallong")&&(n.text=R2[n.text]),Ke(e.parseFunction(),"internal");throw new pe("Invalid token after macro prefix",n)}});Se({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=e.gullet.popToken(),r=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new pe("Expected a control sequence",n);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new pe('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new pe('Argument number "'+n.text+'" out of order');a++,c.push([])}else{if(n.text==="EOF")throw new pe("Expected a macro definition");c[a].push(n.text)}var{tokens:d}=e.gullet.consumeArg();return l&&d.unshift(l),(i==="\\edef"||i==="\\xdef")&&(d=e.gullet.expandTokens(d),d.reverse()),e.gullet.macros.set(r,{tokens:d,numArgs:a,delimiters:c},i===R2[i]),{type:"internal",mode:e.mode}}});Se({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=aE(e.gullet.popToken());e.gullet.consumeSpaces();var r=WK(e);return lE(e,n,r,i==="\\\\globallet"),{type:"internal",mode:e.mode}}});Se({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:i}=t,n=aE(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return lE(e,n,a,i==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var X0=function(e,i,n){var r=St.math[e]&&St.math[e].replace,a=uy(r||e,i,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+i+".");return a},yy=function(e,i,n,r){var a=n.havingBaseStyle(i),l=ie.makeSpan(r.concat(a.sizingClasses(n)),[e],n),c=a.sizeMultiplier/n.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},oE=function(e,i,n){var r=i.havingBaseStyle(n),a=(1-i.sizeMultiplier/r.sizeMultiplier)*i.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=be(a),e.height-=a,e.depth+=a},ZK=function(e,i,n,r,a,l){var c=ie.makeSymbol(e,"Main-Regular",a,r),d=yy(c,i,r,l);return n&&oE(d,r,i),d},YK=function(e,i,n,r){return ie.makeSymbol(e,"Size"+i+"-Regular",n,r)},cE=function(e,i,n,r,a,l){var c=YK(e,i,a,r),d=yy(ie.makeSpan(["delimsizing","size"+i],[c],r),Be.TEXT,r,l);return n&&oE(d,r,Be.TEXT),d},y1=function(e,i,n){var r;i==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=ie.makeSpan(["delimsizinginner",r],[ie.makeSpan([],[ie.makeSymbol(e,i,n)])]);return{type:"elem",elem:a}},v1=function(e,i,n){var r=Yn["Size4-Regular"][e.charCodeAt(0)]?Yn["Size4-Regular"][e.charCodeAt(0)][4]:Yn["Size1-Regular"][e.charCodeAt(0)][4],a=new vl("inner",eK(e,Math.round(1e3*i))),l=new aa([a],{width:be(r),height:be(i),style:"width:"+be(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*i),preserveAspectRatio:"xMinYMin"}),c=ie.makeSvgSpan([],[l],n);return c.height=i,c.style.height=be(i),c.style.width=be(r),{type:"elem",elem:c}},O2=.008,Du={type:"kern",size:-1*O2},XK=["|","\\lvert","\\rvert","\\vert"],KK=["\\|","\\lVert","\\rVert","\\Vert"],dE=function(e,i,n,r,a,l){var c,d,h,m,p="",f=0;c=h=m=e,d=null;var b="Size1-Regular";e==="\\uparrow"?h=m="":e==="\\Uparrow"?h=m="":e==="\\downarrow"?c=h="":e==="\\Downarrow"?c=h="":e==="\\updownarrow"?(c="\\uparrow",h="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",h="",m="\\Downarrow"):XK.includes(e)?(h="",p="vert",f=333):KK.includes(e)?(h="",p="doublevert",f=556):e==="["||e==="\\lbrack"?(c="",h="",m="",b="Size4-Regular",p="lbrack",f=667):e==="]"||e==="\\rbrack"?(c="",h="",m="",b="Size4-Regular",p="rbrack",f=667):e==="\\lfloor"||e===""?(h=c="",m="",b="Size4-Regular",p="lfloor",f=667):e==="\\lceil"||e===""?(c="",h=m="",b="Size4-Regular",p="lceil",f=667):e==="\\rfloor"||e===""?(h=c="",m="",b="Size4-Regular",p="rfloor",f=667):e==="\\rceil"||e===""?(c="",h=m="",b="Size4-Regular",p="rceil",f=667):e==="("||e==="\\lparen"?(c="",h="",m="",b="Size4-Regular",p="lparen",f=875):e===")"||e==="\\rparen"?(c="",h="",m="",b="Size4-Regular",p="rparen",f=875):e==="\\{"||e==="\\lbrace"?(c="",d="",m="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",d="",m="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",h="",b="Size4-Regular");var N=X0(c,b,a),I=N.height+N.depth,D=X0(h,b,a),k=D.height+D.depth,T=X0(m,b,a),A=T.height+T.depth,P=0,F=1;if(d!==null){var ee=X0(d,b,a);P=ee.height+ee.depth,F=2}var C=I+A+P,S=Math.max(0,Math.ceil((i-C)/(F*k))),_=C+S*F*k,O=r.fontMetrics().axisHeight;n&&(O*=r.sizeMultiplier);var B=_/2-O,U=[];if(p.length>0){var L=_-I-A,Ae=Math.round(_*1e3),Me=tK(p,Math.round(L*1e3)),de=new vl(p,Me),xe=(f/1e3).toFixed(3)+"em",we=(Ae/1e3).toFixed(3)+"em",Le=new aa([de],{width:xe,height:we,viewBox:"0 0 "+f+" "+Ae}),Re=ie.makeSvgSpan([],[Le],r);Re.height=Ae/1e3,Re.style.width=xe,Re.style.height=we,U.push({type:"elem",elem:Re})}else{if(U.push(y1(m,b,a)),U.push(Du),d===null){var Ee=_-I-A+2*O2;U.push(v1(h,Ee,r))}else{var Ne=(_-I-A-P)/2+2*O2;U.push(v1(h,Ne,r)),U.push(Du),U.push(y1(d,b,a)),U.push(Du),U.push(v1(h,Ne,r))}U.push(Du),U.push(y1(c,b,a))}var qe=r.havingBaseStyle(Be.TEXT),ht=ie.makeVList({positionType:"bottom",positionData:B,children:U},qe);return yy(ie.makeSpan(["delimsizing","mult"],[ht],qe),Be.TEXT,r,l)},j1=80,w1=.08,N1=function(e,i,n,r,a){var l=JX(e,r,n),c=new vl(e,l),d=new aa([c],{width:"400em",height:be(i),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ie.makeSvgSpan(["hide-tail"],[d],a)},QK=function(e,i){var n=i.havingBaseSizing(),r=pE("\\surd",e*n.sizeMultiplier,mE,n),a=n.sizeMultiplier,l=Math.max(0,i.minRuleThickness-i.fontMetrics().sqrtRuleThickness),c,d=0,h=0,m=0,p;return r.type==="small"?(m=1e3+1e3*l+j1,e<1?a=1:e<1.4&&(a=.7),d=(1+l+w1)/a,h=(1+l)/a,c=N1("sqrtMain",d,m,l,i),c.style.minWidth="0.853em",p=.833/a):r.type==="large"?(m=(1e3+j1)*vd[r.size],h=(vd[r.size]+l)/a,d=(vd[r.size]+l+w1)/a,c=N1("sqrtSize"+r.size,d,m,l,i),c.style.minWidth="1.02em",p=1/a):(d=e+l+w1,h=e+l,m=Math.floor(1e3*e+l)+j1,c=N1("sqrtTall",d,m,l,i),c.style.minWidth="0.742em",p=1.056),c.height=h,c.style.height=be(d),{span:c,advanceWidth:p,ruleWidth:(i.fontMetrics().sqrtRuleThickness+l)*a}},hE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],JK=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],uE=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vd=[0,1.2,1.8,2.4,3],eQ=function(e,i,n,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),hE.includes(e)||uE.includes(e))return cE(e,i,!1,n,r,a);if(JK.includes(e))return dE(e,vd[i],!1,n,r,a);throw new pe("Illegal delimiter: '"+e+"'")},tQ=[{type:"small",style:Be.SCRIPTSCRIPT},{type:"small",style:Be.SCRIPT},{type:"small",style:Be.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],sQ=[{type:"small",style:Be.SCRIPTSCRIPT},{type:"small",style:Be.SCRIPT},{type:"small",style:Be.TEXT},{type:"stack"}],mE=[{type:"small",style:Be.SCRIPTSCRIPT},{type:"small",style:Be.SCRIPT},{type:"small",style:Be.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],iQ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},pE=function(e,i,n,r){for(var a=Math.min(2,3-r.style.size),l=a;l<n.length&&n[l].type!=="stack";l++){var c=X0(e,iQ(n[l]),"math"),d=c.height+c.depth;if(n[l].type==="small"){var h=r.havingBaseStyle(n[l].style);d*=h.sizeMultiplier}if(d>i)return n[l]}return n[n.length-1]},fE=function(e,i,n,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;uE.includes(e)?c=tQ:hE.includes(e)?c=mE:c=sQ;var d=pE(e,i,c,r);return d.type==="small"?ZK(e,d.style,n,r,a,l):d.type==="large"?cE(e,d.size,n,r,a,l):dE(e,i,n,r,a,l)},nQ=function(e,i,n,r,a,l){var c=r.fontMetrics().axisHeight*r.sizeMultiplier,d=901,h=5/r.fontMetrics().ptPerEm,m=Math.max(i-c,n+c),p=Math.max(m/500*d,2*m-h);return fE(e,p,!0,r,a,l)},Vr={sqrtImage:QK,sizedDelim:eQ,sizeToMaxHeight:vd,customSizedDelim:fE,leftRightDelim:nQ},v7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},rQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function gf(t,e){var i=ff(t);if(i&&rQ.includes(i.text))return i;throw i?new pe("Invalid delimiter '"+i.text+"' after '"+e.funcName+"'",t):new pe("Invalid delimiter type '"+t.type+"'",t)}Se({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var i=gf(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:v7[t.funcName].size,mclass:v7[t.funcName].mclass,delim:i.text}},htmlBuilder:(t,e)=>t.delim==="."?ie.makeSpan([t.mclass]):Vr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(gn(t.delim,t.mode));var i=new ue.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?i.setAttribute("fence","true"):i.setAttribute("fence","false"),i.setAttribute("stretchy","true");var n=be(Vr.sizeToMaxHeight[t.size]);return i.setAttribute("minsize",n),i.setAttribute("maxsize",n),i}});function j7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Se({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=t.parser.gullet.macros.get("\\current@color");if(i&&typeof i!="string")throw new pe("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:gf(e[0],t).text,color:i}}});Se({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=gf(e[0],t),n=t.parser;++n.leftrightDepth;var r=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Ke(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:r,left:i.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{j7(t);for(var i=ks(t.body,e,!0,["mopen","mclose"]),n=0,r=0,a=!1,l=0;l<i.length;l++)i[l].isMiddle?a=!0:(n=Math.max(i[l].height,n),r=Math.max(i[l].depth,r));n*=e.sizeMultiplier,r*=e.sizeMultiplier;var c;if(t.left==="."?c=Xd(e,["mopen"]):c=Vr.leftRightDelim(t.left,n,r,e,t.mode,["mopen"]),i.unshift(c),a)for(var d=1;d<i.length;d++){var h=i[d],m=h.isMiddle;m&&(i[d]=Vr.leftRightDelim(m.delim,n,r,m.options,t.mode,[]))}var p;if(t.right===".")p=Xd(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;p=Vr.leftRightDelim(t.right,n,r,f,t.mode,["mclose"])}return i.push(p),ie.makeSpan(["minner"],i,e)},mathmlBuilder:(t,e)=>{j7(t);var i=Ai(t.body,e);if(t.left!=="."){var n=new ue.MathNode("mo",[gn(t.left,t.mode)]);n.setAttribute("fence","true"),i.unshift(n)}if(t.right!=="."){var r=new ue.MathNode("mo",[gn(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),i.push(r)}return fy(i)}});Se({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var i=gf(e[0],t);if(!t.parser.leftrightDepth)throw new pe("\\middle without preceding \\left",i);return{type:"middle",mode:t.parser.mode,delim:i.text}},htmlBuilder:(t,e)=>{var i;if(t.delim===".")i=Xd(e,[]);else{i=Vr.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};i.isMiddle=n}return i},mathmlBuilder:(t,e)=>{var i=t.delim==="\\vert"||t.delim==="|"?gn("|","text"):gn(t.delim,t.mode),n=new ue.MathNode("mo",[i]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var vy=(t,e)=>{var i=ie.wrapFragment(rt(t.body,e),e),n=t.label.slice(1),r=e.sizeMultiplier,a,l=0,c=ot.isCharacterBox(t.body);if(n==="sout")a=ie.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var d=Ft({number:.6,unit:"pt"},e),h=Ft({number:.35,unit:"ex"},e),m=e.havingBaseSizing();r=r/m.sizeMultiplier;var p=i.height+i.depth+d+h;i.style.paddingLeft=be(p/2+d);var f=Math.floor(1e3*p*r),b=KX(f),N=new aa([new vl("phase",b)],{width:"400em",height:be(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=ie.makeSvgSpan(["hide-tail"],[N],e),a.style.height=be(p),l=i.depth+d+h}else{/cancel/.test(n)?c||i.classes.push("cancel-pad"):n==="angl"?i.classes.push("anglpad"):i.classes.push("boxpad");var I=0,D=0,k=0;/box/.test(n)?(k=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),I=e.fontMetrics().fboxsep+(n==="colorbox"?0:k),D=I):n==="angl"?(k=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),I=4*k,D=Math.max(0,.25-i.depth)):(I=c?.2:0,D=I),a=oa.encloseSpan(i,n,I,D,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=be(k)):n==="angl"&&k!==.049&&(a.style.borderTopWidth=be(k),a.style.borderRightWidth=be(k)),l=i.depth+D,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var T;if(t.backgroundColor)T=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:i,shift:0}]},e);else{var A=/cancel|phase/.test(n)?["svg-align"]:[];T=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(n)&&(T.height=i.height,T.depth=i.depth),/cancel/.test(n)&&!c?ie.makeSpan(["mord","cancel-lap"],[T],e):ie.makeSpan(["mord"],[T],e)},jy=(t,e)=>{var i=0,n=new ue.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vt(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(i=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*i+"pt"),n.setAttribute("height","+"+2*i+"pt"),n.setAttribute("lspace",i+"pt"),n.setAttribute("voffset",i+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Se({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,i){var{parser:n,funcName:r}=t,a=Ke(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:n.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:vy,mathmlBuilder:jy});Se({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,i){var{parser:n,funcName:r}=t,a=Ke(e[0],"color-token").color,l=Ke(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:n.mode,label:r,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:vy,mathmlBuilder:jy});Se({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\fbox",body:e[0]}}});Se({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"enclose",mode:i.mode,label:n,body:r}},htmlBuilder:vy,mathmlBuilder:jy});Se({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"enclose",mode:i.mode,label:"\\angl",body:e[0]}}});var xE={};function cr(t){for(var{type:e,names:i,props:n,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},d=0;d<i.length;++d)xE[i[d]]=c;a&&(bp[e]=a),l&&(yp[e]=l)}var gE={};function z(t,e){gE[t]=e}function w7(t){var e=[];t.consumeSpaces();var i=t.fetch().text;for(i==="\\relax"&&(t.consume(),t.consumeSpaces(),i=t.fetch().text);i==="\\hline"||i==="\\hdashline";)t.consume(),e.push(i==="\\hdashline"),t.consumeSpaces(),i=t.fetch().text;return e}var bf=t=>{var e=t.parser.settings;if(!e.displayMode)throw new pe("{"+t.envName+"} can be used only in display mode.")};function wy(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ql(t,e,i){var{hskipBeforeAndAfter:n,addJot:r,cols:a,arraystretch:l,colSeparationType:c,autoTag:d,singleRow:h,emptySingleRow:m,maxNumCols:p,leqno:f}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new pe("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var N=[],I=[N],D=[],k=[],T=d!=null?[]:void 0;function A(){d&&t.gullet.macros.set("\\@eqnsw","1",!0)}function P(){T&&(t.gullet.macros.get("\\df@tag")?(T.push(t.subparse([new Li("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!d&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),k.push(w7(t));;){var F=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),F={type:"ordgroup",mode:t.mode,body:F},i&&(F={type:"styling",mode:t.mode,style:i,body:[F]}),N.push(F);var ee=t.fetch().text;if(ee==="&"){if(p&&N.length===p){if(h||c)throw new pe("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(ee==="\\end"){P(),N.length===1&&F.type==="styling"&&F.body[0].body.length===0&&(I.length>1||!m)&&I.pop(),k.length<I.length+1&&k.push([]);break}else if(ee==="\\\\"){t.consume();var C=void 0;t.gullet.future().text!==" "&&(C=t.parseSizeGroup(!0)),D.push(C?C.value:null),P(),k.push(w7(t)),N=[],I.push(N),A()}else throw new pe("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:I,cols:a,rowGaps:D,hskipBeforeAndAfter:n,hLinesBeforeRow:k,colSeparationType:c,tags:T,leqno:f}}function Ny(t){return t.slice(0,1)==="d"?"display":"text"}var dr=function(e,i){var n,r,a=e.body.length,l=e.hLinesBeforeRow,c=0,d=new Array(a),h=[],m=Math.max(i.fontMetrics().arrayRuleWidth,i.minRuleThickness),p=1/i.fontMetrics().ptPerEm,f=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var b=i.havingStyle(Be.SCRIPT).sizeMultiplier;f=.2778*(b/i.sizeMultiplier)}var N=e.colSeparationType==="CD"?Ft({number:3,unit:"ex"},i):12*p,I=3*p,D=e.arraystretch*N,k=.7*D,T=.3*D,A=0;function P(Ss){for(var zs=0;zs<Ss.length;++zs)zs>0&&(A+=.25),h.push({pos:A,isDashed:Ss[zs]})}for(P(l[0]),n=0;n<e.body.length;++n){var F=e.body[n],ee=k,C=T;c<F.length&&(c=F.length);var S=new Array(F.length);for(r=0;r<F.length;++r){var _=rt(F[r],i);C<_.depth&&(C=_.depth),ee<_.height&&(ee=_.height),S[r]=_}var O=e.rowGaps[n],B=0;O&&(B=Ft(O,i),B>0&&(B+=T,C<B&&(C=B),B=0)),e.addJot&&(C+=I),S.height=ee,S.depth=C,A+=ee,S.pos=A,A+=C+B,d[n]=S,P(l[n+1])}var U=A/2+i.fontMetrics().axisHeight,L=e.cols||[],Ae=[],Me,de,xe=[];if(e.tags&&e.tags.some(Ss=>Ss))for(n=0;n<a;++n){var we=d[n],Le=we.pos-U,Re=e.tags[n],Ee=void 0;Re===!0?Ee=ie.makeSpan(["eqn-num"],[],i):Re===!1?Ee=ie.makeSpan([],[],i):Ee=ie.makeSpan([],ks(Re,i,!0),i),Ee.depth=we.depth,Ee.height=we.height,xe.push({type:"elem",elem:Ee,shift:Le})}for(r=0,de=0;r<c||de<L.length;++r,++de){for(var Ne=L[de]||{},qe=!0;Ne.type==="separator";){if(qe||(Me=ie.makeSpan(["arraycolsep"],[]),Me.style.width=be(i.fontMetrics().doubleRuleSep),Ae.push(Me)),Ne.separator==="|"||Ne.separator===":"){var ht=Ne.separator==="|"?"solid":"dashed",Ue=ie.makeSpan(["vertical-separator"],[],i);Ue.style.height=be(A),Ue.style.borderRightWidth=be(m),Ue.style.borderRightStyle=ht,Ue.style.margin="0 "+be(-m/2);var Zs=A-U;Zs&&(Ue.style.verticalAlign=be(-Zs)),Ae.push(Ue)}else throw new pe("Invalid separator type: "+Ne.separator);de++,Ne=L[de]||{},qe=!1}if(!(r>=c)){var Vt=void 0;(r>0||e.hskipBeforeAndAfter)&&(Vt=ot.deflt(Ne.pregap,f),Vt!==0&&(Me=ie.makeSpan(["arraycolsep"],[]),Me.style.width=be(Vt),Ae.push(Me)));var Wt=[];for(n=0;n<a;++n){var hi=d[n],Ts=hi[r];if(Ts){var vn=hi.pos-U;Ts.depth=hi.depth,Ts.height=hi.height,Wt.push({type:"elem",elem:Ts,shift:vn})}}Wt=ie.makeVList({positionType:"individualShift",children:Wt},i),Wt=ie.makeSpan(["col-align-"+(Ne.align||"c")],[Wt]),Ae.push(Wt),(r<c-1||e.hskipBeforeAndAfter)&&(Vt=ot.deflt(Ne.postgap,f),Vt!==0&&(Me=ie.makeSpan(["arraycolsep"],[]),Me.style.width=be(Vt),Ae.push(Me)))}}if(d=ie.makeSpan(["mtable"],Ae),h.length>0){for(var Pn=ie.makeLineSpan("hline",i,m),ui=ie.makeLineSpan("hdashline",i,m),Fs=[{type:"elem",elem:d,shift:0}];h.length>0;){var Ms=h.pop(),Vi=Ms.pos-U;Ms.isDashed?Fs.push({type:"elem",elem:ui,shift:Vi}):Fs.push({type:"elem",elem:Pn,shift:Vi})}d=ie.makeVList({positionType:"individualShift",children:Fs},i)}if(xe.length===0)return ie.makeSpan(["mord"],[d],i);var Ei=ie.makeVList({positionType:"individualShift",children:xe},i);return Ei=ie.makeSpan(["tag"],[Ei],i),ie.makeFragment([d,Ei])},aQ={c:"center ",l:"left ",r:"right "},hr=function(e,i){for(var n=[],r=new ue.MathNode("mtd",[],["mtr-glue"]),a=new ue.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],d=[],h=0;h<c.length;h++)d.push(new ue.MathNode("mtd",[vt(c[h],i)]));e.tags&&e.tags[l]&&(d.unshift(r),d.push(r),e.leqno?d.unshift(a):d.push(a)),n.push(new ue.MathNode("mtr",d))}var m=new ue.MathNode("mtable",n),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",be(p));var f="",b="";if(e.cols&&e.cols.length>0){var N=e.cols,I="",D=!1,k=0,T=N.length;N[0].type==="separator"&&(f+="top ",k=1),N[N.length-1].type==="separator"&&(f+="bottom ",T-=1);for(var A=k;A<T;A++)N[A].type==="align"?(b+=aQ[N[A].align],D&&(I+="none "),D=!0):N[A].type==="separator"&&D&&(I+=N[A].separator==="|"?"solid ":"dashed ",D=!1);m.setAttribute("columnalign",b.trim()),/[sd]/.test(I)&&m.setAttribute("columnlines",I.trim())}if(e.colSeparationType==="align"){for(var P=e.cols||[],F="",ee=1;ee<P.length;ee++)F+=ee%2?"0em ":"1em ";m.setAttribute("columnspacing",F.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var C="",S=e.hLinesBeforeRow;f+=S[0].length>0?"left ":"",f+=S[S.length-1].length>0?"right ":"";for(var _=1;_<S.length-1;_++)C+=S[_].length===0?"none ":S[_][0]?"dashed ":"solid ";return/[sd]/.test(C)&&m.setAttribute("rowlines",C.trim()),f!==""&&(m=new ue.MathNode("menclose",[m]),m.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(m=new ue.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},bE=function(e,i){e.envName.indexOf("ed")===-1&&bf(e);var n=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=ql(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:wy(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,d=0,h={type:"ordgroup",mode:e.mode,body:[]};if(i[0]&&i[0].type==="ordgroup"){for(var m="",p=0;p<i[0].body.length;p++){var f=Ke(i[0].body[p],"textord");m+=f.text}c=Number(m),d=c*2}var b=!d;l.body.forEach(function(k){for(var T=1;T<k.length;T+=2){var A=Ke(k[T],"styling"),P=Ke(A.body[0],"ordgroup");P.body.unshift(h)}if(b)d<k.length&&(d=k.length);else{var F=k.length/2;if(c<F)throw new pe("Too many math in a row: "+("expected "+c+", but got "+F),k[0])}});for(var N=0;N<d;++N){var I="r",D=0;N%2===1?I="l":N>0&&b&&(D=1),n[N]={type:"align",align:I,pregap:D,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};cr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var i=ff(e[0]),n=i?[e[0]]:Ke(e[0],"ordgroup").body,r=n.map(function(l){var c=gy(l),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new pe("Unknown column alignment: "+d,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return ql(t.parser,a,Ny(t.envName))},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],i="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:i}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),i=r.fetch().text,"lcr".indexOf(i)===-1)throw new pe("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),n.cols=[{type:"align",align:i}]}}var a=ql(t.parser,n,Ny(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:i}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},i=ql(t.parser,e,"script");return i.colSeparationType="small",i},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var i=ff(e[0]),n=i?[e[0]]:Ke(e[0],"ordgroup").body,r=n.map(function(l){var c=gy(l),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new pe("Unknown column alignment: "+d,l)});if(r.length>1)throw new pe("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=ql(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new pe("{subarray} can contain only one column");return a},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},i=ql(t.parser,e,Ny(t.envName));return{type:"leftright",mode:t.mode,body:[i],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:bE,htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&bf(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:wy(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ql(t.parser,e,"display")},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:bE,htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){bf(t);var e={autoTag:wy(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ql(t.parser,e,"display")},htmlBuilder:dr,mathmlBuilder:hr});cr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return bf(t),VK(t.parser)},htmlBuilder:dr,mathmlBuilder:hr});z("\\nonumber","\\gdef\\@eqnsw{0}");z("\\notag","\\nonumber");Se({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new pe(t.funcName+" valid only within array environment")}});var N7=xE;Se({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];if(r.type!=="ordgroup")throw new pe("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=Ke(r.body[l],"textord").text;if(n==="\\begin"){if(!N7.hasOwnProperty(a))throw new pe("No such environment: "+a,r);var c=N7[a],{args:d,optArgs:h}=i.parseArguments("\\begin{"+a+"}",c),m={mode:i.mode,envName:a,parser:i},p=c.handler(m,d,h);i.expect("\\end",!1);var f=i.nextToken,b=Ke(i.parseFunction(),"environment");if(b.name!==a)throw new pe("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",f);return p}return{type:"environment",mode:i.mode,name:a,nameGroup:r}}});var yE=(t,e)=>{var i=t.font,n=e.withFont(i);return rt(t.body,n)},vE=(t,e)=>{var i=t.font,n=e.withFont(i);return vt(t.body,n)},k7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Se({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=vp(e[0]),a=n;return a in k7&&(a=k7[a]),{type:"font",mode:i.mode,font:a.slice(1),body:r}},htmlBuilder:yE,mathmlBuilder:vE});Se({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:i}=t,n=e[0],r=ot.isCharacterBox(n);return{type:"mclass",mode:i.mode,mclass:xf(n),body:[{type:"font",mode:i.mode,font:"boldsymbol",body:n}],isCharacterBox:r}}});Se({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n,breakOnTokenText:r}=t,{mode:a}=i,l=i.parseExpression(!0,r),c="math"+n.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:i.mode,body:l}}},htmlBuilder:yE,mathmlBuilder:vE});var jE=(t,e)=>{var i=e;return t==="display"?i=i.id>=Be.SCRIPT.id?i.text():Be.DISPLAY:t==="text"&&i.size===Be.DISPLAY.size?i=Be.TEXT:t==="script"?i=Be.SCRIPT:t==="scriptscript"&&(i=Be.SCRIPTSCRIPT),i},ky=(t,e)=>{var i=jE(t.size,e.style),n=i.fracNum(),r=i.fracDen(),a;a=e.havingStyle(n);var l=rt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,d=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<d?d:l.depth}a=e.havingStyle(r);var h=rt(t.denom,a,e),m,p,f;t.hasBarLine?(t.barSize?(p=Ft(t.barSize,e),m=ie.makeLineSpan("frac-line",e,p)):m=ie.makeLineSpan("frac-line",e),p=m.height,f=m.height):(m=null,p=0,f=e.fontMetrics().defaultRuleThickness);var b,N,I;i.size===Be.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,p>0?N=3*f:N=7*f,I=e.fontMetrics().denom1):(p>0?(b=e.fontMetrics().num2,N=f):(b=e.fontMetrics().num3,N=3*f),I=e.fontMetrics().denom2);var D;if(m){var T=e.fontMetrics().axisHeight;b-l.depth-(T+.5*p)<N&&(b+=N-(b-l.depth-(T+.5*p))),T-.5*p-(h.height-I)<N&&(I+=N-(T-.5*p-(h.height-I)));var A=-(T-.5*p);D=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:I},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-b}]},e)}else{var k=b-l.depth-(h.height-I);k<N&&(b+=.5*(N-k),I+=.5*(N-k)),D=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:I},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(i),D.height*=a.sizeMultiplier/e.sizeMultiplier,D.depth*=a.sizeMultiplier/e.sizeMultiplier;var P;i.size===Be.DISPLAY.size?P=e.fontMetrics().delim1:i.size===Be.SCRIPTSCRIPT.size?P=e.havingStyle(Be.SCRIPT).fontMetrics().delim2:P=e.fontMetrics().delim2;var F,ee;return t.leftDelim==null?F=Xd(e,["mopen"]):F=Vr.customSizedDelim(t.leftDelim,P,!0,e.havingStyle(i),t.mode,["mopen"]),t.continued?ee=ie.makeSpan([]):t.rightDelim==null?ee=Xd(e,["mclose"]):ee=Vr.customSizedDelim(t.rightDelim,P,!0,e.havingStyle(i),t.mode,["mclose"]),ie.makeSpan(["mord"].concat(a.sizingClasses(e)),[F,ie.makeSpan(["mfrac"],[D]),ee],e)},Ty=(t,e)=>{var i=new ue.MathNode("mfrac",[vt(t.numer,e),vt(t.denom,e)]);if(!t.hasBarLine)i.setAttribute("linethickness","0px");else if(t.barSize){var n=Ft(t.barSize,e);i.setAttribute("linethickness",be(n))}var r=jE(t.size,e.style);if(r.size!==e.style.size){i=new ue.MathNode("mstyle",[i]);var a=r.size===Be.DISPLAY.size?"true":"false";i.setAttribute("displaystyle",a),i.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new ue.MathNode("mo",[new ue.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(i),t.rightDelim!=null){var d=new ue.MathNode("mo",[new ue.TextNode(t.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),l.push(d)}return fy(l)}return i};Se({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=e[1],l,c=null,d=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",d=")";break;case"\\\\bracefrac":l=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":l=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:c,rightDelim:d,size:h,barSize:null}},htmlBuilder:ky,mathmlBuilder:Ty});Se({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=e[1];return{type:"genfrac",mode:i.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Se({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:i,token:n}=t,r;switch(i){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:n}}});var T7=["display","text","script","scriptscript"],S7=function(e){var i=null;return e.length>0&&(i=e,i=i==="."?null:i),i};Se({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:i}=t,n=e[4],r=e[5],a=vp(e[0]),l=a.type==="atom"&&a.family==="open"?S7(a.text):null,c=vp(e[1]),d=c.type==="atom"&&c.family==="close"?S7(c.text):null,h=Ke(e[2],"size"),m,p=null;h.isBlank?m=!0:(p=h.value,m=p.number>0);var f="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var N=Ke(b.body[0],"textord");f=T7[Number(N.text)]}}else b=Ke(b,"textord"),f=T7[Number(b.text)];return{type:"genfrac",mode:i.mode,numer:n,denom:r,continued:!1,hasBarLine:m,barSize:p,leftDelim:l,rightDelim:d,size:f}},htmlBuilder:ky,mathmlBuilder:Ty});Se({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:i,funcName:n,token:r}=t;return{type:"infix",mode:i.mode,replaceWith:"\\\\abovefrac",size:Ke(e[0],"size").value,token:r}}});Se({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0],a=RX(Ke(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:i.mode,numer:r,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ky,mathmlBuilder:Ty});var wE=(t,e)=>{var i=e.style,n,r;t.type==="supsub"?(n=t.sup?rt(t.sup,e.havingStyle(i.sup()),e):rt(t.sub,e.havingStyle(i.sub()),e),r=Ke(t.base,"horizBrace")):r=Ke(t,"horizBrace");var a=rt(r.base,e.havingBaseStyle(Be.DISPLAY)),l=oa.svgSpan(r,e),c;if(r.isOver?(c=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ie.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),n){var d=ie.makeSpan(["mord",r.isOver?"mover":"munder"],[c],e);r.isOver?c=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:n}]},e):c=ie.makeVList({positionType:"bottom",positionData:d.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:d}]},e)}return ie.makeSpan(["mord",r.isOver?"mover":"munder"],[c],e)},lQ=(t,e)=>{var i=oa.mathMLnode(t.label);return new ue.MathNode(t.isOver?"mover":"munder",[vt(t.base,e),i])};Se({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:i,funcName:n}=t;return{type:"horizBrace",mode:i.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:wE,mathmlBuilder:lQ});Se({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[1],r=Ke(e[0],"url").url;return i.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:i.mode,href:r,body:rs(n)}:i.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var i=ks(t.body,e,!1);return ie.makeAnchor(t.href,[],i,e)},mathmlBuilder:(t,e)=>{var i=jl(t.body,e);return i instanceof Di||(i=new Di("mrow",[i])),i.setAttribute("href",t.href),i}});Se({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=Ke(e[0],"url").url;if(!i.settings.isTrusted({command:"\\url",url:n}))return i.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:i.mode,font:"\\texttt",body:r};return{type:"href",mode:i.mode,href:n,body:rs(c)}}});Se({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:i}=t;return{type:"hbox",mode:i.mode,body:rs(e[0])}},htmlBuilder(t,e){var i=ks(t.body,e,!1);return ie.makeFragment(i)},mathmlBuilder(t,e){return new ue.MathNode("mrow",Ai(t.body,e))}});Se({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n,token:r}=t,a=Ke(e[0],"raw").string,l=e[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(n){case"\\htmlClass":d.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":d.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":d.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),m=0;m<h.length;m++){var p=h[m],f=p.indexOf("=");if(f<0)throw new pe("\\htmlData key/value '"+p+"' missing equals sign");var b=p.slice(0,f),N=p.slice(f+1);d["data-"+b.trim()]=N}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(c)?{type:"html",mode:i.mode,attributes:d,body:rs(l)}:i.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var i=ks(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var r=ie.makeSpan(n,i,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>jl(t.body,e)});Se({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"htmlmathml",mode:i.mode,html:rs(e[0]),mathml:rs(e[1])}},htmlBuilder:(t,e)=>{var i=ks(t.html,e,!1);return ie.makeFragment(i)},mathmlBuilder:(t,e)=>jl(t.mathml,e)});var k1=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!i)throw new pe("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(i[1]+i[2]),unit:i[3]};if(!LA(n))throw new pe("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Se({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,i)=>{var{parser:n}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(i[0])for(var d=Ke(i[0],"raw").string,h=d.split(","),m=0;m<h.length;m++){var p=h[m].split("=");if(p.length===2){var f=p[1].trim();switch(p[0].trim()){case"alt":c=f;break;case"width":r=k1(f);break;case"height":a=k1(f);break;case"totalheight":l=k1(f);break;default:throw new pe("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var b=Ke(e[0],"url").url;return c===""&&(c=b,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:n.mode,alt:c,width:r,height:a,totalheight:l,src:b}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var i=Ft(t.height,e),n=0;t.totalheight.number>0&&(n=Ft(t.totalheight,e)-i);var r=0;t.width.number>0&&(r=Ft(t.width,e));var a={height:be(i+n)};r>0&&(a.width=be(r)),n>0&&(a.verticalAlign=be(-n));var l=new lK(t.src,t.alt,a);return l.height=i,l.depth=n,l},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mglyph",[]);i.setAttribute("alt",t.alt);var n=Ft(t.height,e),r=0;if(t.totalheight.number>0&&(r=Ft(t.totalheight,e)-n,i.setAttribute("valign",be(-r))),i.setAttribute("height",be(n+r)),t.width.number>0){var a=Ft(t.width,e);i.setAttribute("width",be(a))}return i.setAttribute("src",t.src),i}});Se({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:n}=t,r=Ke(e[0],"size");if(i.settings.strict){var a=n[1]==="m",l=r.value.unit==="mu";a?(l||i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+r.value.unit+" units")),i.mode!=="math"&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):l&&i.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:i.mode,dimension:r.value}},htmlBuilder(t,e){return ie.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var i=Ft(t.dimension,e);return new ue.SpaceNode(i)}});Se({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"lap",mode:i.mode,alignment:n.slice(5),body:r}},htmlBuilder:(t,e)=>{var i;t.alignment==="clap"?(i=ie.makeSpan([],[rt(t.body,e)]),i=ie.makeSpan(["inner"],[i],e)):i=ie.makeSpan(["inner"],[rt(t.body,e)]);var n=ie.makeSpan(["fix"],[]),r=ie.makeSpan([t.alignment],[i,n],e),a=ie.makeSpan(["strut"]);return a.style.height=be(r.height+r.depth),r.depth&&(a.style.verticalAlign=be(-r.depth)),r.children.unshift(a),r=ie.makeSpan(["thinbox"],[r],e),ie.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mpadded",[vt(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";i.setAttribute("lspace",n+"width")}return i.setAttribute("width","0px"),i}});Se({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:i,parser:n}=t,r=n.mode;n.switchMode("math");var a=i==="\\("?"\\)":"$",l=n.parseExpression(!1,a);return n.expect(a),n.switchMode(r),{type:"styling",mode:n.mode,style:"text",body:l}}});Se({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new pe("Mismatched "+t.funcName)}});var A7=(t,e)=>{switch(e.style.size){case Be.DISPLAY.size:return t.display;case Be.TEXT.size:return t.text;case Be.SCRIPT.size:return t.script;case Be.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Se({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:i}=t;return{type:"mathchoice",mode:i.mode,display:rs(e[0]),text:rs(e[1]),script:rs(e[2]),scriptscript:rs(e[3])}},htmlBuilder:(t,e)=>{var i=A7(t,e),n=ks(i,e,!1);return ie.makeFragment(n)},mathmlBuilder:(t,e)=>{var i=A7(t,e);return jl(i,e)}});var NE=(t,e,i,n,r,a,l)=>{t=ie.makeSpan([],[t]);var c=i&&ot.isCharacterBox(i),d,h;if(e){var m=rt(e,n.havingStyle(r.sup()),n);h={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(i){var p=rt(i,n.havingStyle(r.sub()),n);d={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var f;if(h&&d){var b=n.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+t.depth+l;f=ie.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:be(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:be(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(d){var N=t.height-l;f=ie.makeVList({positionType:"top",positionData:N,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:be(-a)},{type:"kern",size:d.kern},{type:"elem",elem:t}]},n)}else if(h){var I=t.depth+l;f=ie.makeVList({positionType:"bottom",positionData:I,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:be(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var D=[f];if(d&&a!==0&&!c){var k=ie.makeSpan(["mspace"],[],n);k.style.marginRight=be(a),D.unshift(k)}return ie.makeSpan(["mop","op-limits"],D,n)},kE=["\\smallint"],l0=(t,e)=>{var i,n,r=!1,a;t.type==="supsub"?(i=t.sup,n=t.sub,a=Ke(t.base,"op"),r=!0):a=Ke(t,"op");var l=e.style,c=!1;l.size===Be.DISPLAY.size&&a.symbol&&!kE.includes(a.name)&&(c=!0);var d;if(a.symbol){var h=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),d=ie.makeSymbol(a.name,h,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var p=d.italic,f=ie.staticSvg(m+"Size"+(c?"2":"1"),e);d=ie.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:f,shift:c?.08:0}]},e),a.name="\\"+m,d.classes.unshift("mop"),d.italic=p}}else if(a.body){var b=ks(a.body,e,!0);b.length===1&&b[0]instanceof xn?(d=b[0],d.classes[0]="mop"):d=ie.makeSpan(["mop"],b,e)}else{for(var N=[],I=1;I<a.name.length;I++)N.push(ie.mathsym(a.name[I],a.mode,e));d=ie.makeSpan(["mop"],N,e)}var D=0,k=0;return(d instanceof xn||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(D=(d.height-d.depth)/2-e.fontMetrics().axisHeight,k=d.italic),r?NE(d,i,n,e,l,k,D):(D&&(d.style.position="relative",d.style.top=be(D)),d)},Ah=(t,e)=>{var i;if(t.symbol)i=new Di("mo",[gn(t.name,t.mode)]),kE.includes(t.name)&&i.setAttribute("largeop","false");else if(t.body)i=new Di("mo",Ai(t.body,e));else{i=new Di("mi",[new Xn(t.name.slice(1))]);var n=new Di("mo",[gn("","text")]);t.parentIsSupSub?i=new Di("mrow",[i,n]):i=QA([i,n])}return i},oQ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Se({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=n;return r.length===1&&(r=oQ[r]),{type:"op",mode:i.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:l0,mathmlBuilder:Ah});Se({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"op",mode:i.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:rs(n)}},htmlBuilder:l0,mathmlBuilder:Ah});var cQ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Se({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:l0,mathmlBuilder:Ah});Se({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:i}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:i}},htmlBuilder:l0,mathmlBuilder:Ah});Se({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:i}=t,n=i;return n.length===1&&(n=cQ[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:l0,mathmlBuilder:Ah});var TE=(t,e)=>{var i,n,r=!1,a;t.type==="supsub"?(i=t.sup,n=t.sub,a=Ke(t.base,"operatorname"),r=!0):a=Ke(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(p=>{var f=p.text;return typeof f=="string"?{type:"textord",mode:p.mode,text:f}:p}),d=ks(c,e.withFont("mathrm"),!0),h=0;h<d.length;h++){var m=d[h];m instanceof xn&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ie.makeSpan(["mop"],d,e)}else l=ie.makeSpan(["mop"],[],e);return r?NE(l,i,n,e,e.style,0,0):l},dQ=(t,e)=>{for(var i=Ai(t.body,e.withFont("mathrm")),n=!0,r=0;r<i.length;r++){var a=i[r];if(!(a instanceof ue.SpaceNode))if(a instanceof ue.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof ue.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var c=i.map(m=>m.toText()).join("");i=[new ue.TextNode(c)]}var d=new ue.MathNode("mi",i);d.setAttribute("mathvariant","normal");var h=new ue.MathNode("mo",[gn("","text")]);return t.parentIsSupSub?new ue.MathNode("mrow",[d,h]):ue.newDocumentFragment([d,h])};Se({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:i,funcName:n}=t,r=e[0];return{type:"operatorname",mode:i.mode,body:rs(r),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:TE,mathmlBuilder:dQ});z("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Io({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ie.makeFragment(ks(t.body,e,!1)):ie.makeSpan(["mord"],ks(t.body,e,!0),e)},mathmlBuilder(t,e){return jl(t.body,e,!0)}});Se({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:i}=t,n=e[0];return{type:"overline",mode:i.mode,body:n}},htmlBuilder(t,e){var i=rt(t.body,e.havingCrampedStyle()),n=ie.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n},{type:"kern",size:r}]},e);return ie.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[new ue.TextNode("")]);i.setAttribute("stretchy","true");var n=new ue.MathNode("mover",[vt(t.body,e),i]);return n.setAttribute("accent","true"),n}});Se({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"phantom",mode:i.mode,body:rs(n)}},htmlBuilder:(t,e)=>{var i=ks(t.body,e.withPhantom(),!1);return ie.makeFragment(i)},mathmlBuilder:(t,e)=>{var i=Ai(t.body,e);return new ue.MathNode("mphantom",i)}});Se({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"hphantom",mode:i.mode,body:n}},htmlBuilder:(t,e)=>{var i=ie.makeSpan([],[rt(t.body,e.withPhantom())]);if(i.height=0,i.depth=0,i.children)for(var n=0;n<i.children.length;n++)i.children[n].height=0,i.children[n].depth=0;return i=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e),ie.makeSpan(["mord"],[i],e)},mathmlBuilder:(t,e)=>{var i=Ai(rs(t.body),e),n=new ue.MathNode("mphantom",i),r=new ue.MathNode("mpadded",[n]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Se({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:i}=t,n=e[0];return{type:"vphantom",mode:i.mode,body:n}},htmlBuilder:(t,e)=>{var i=ie.makeSpan(["inner"],[rt(t.body,e.withPhantom())]),n=ie.makeSpan(["fix"],[]);return ie.makeSpan(["mord","rlap"],[i,n],e)},mathmlBuilder:(t,e)=>{var i=Ai(rs(t.body),e),n=new ue.MathNode("mphantom",i),r=new ue.MathNode("mpadded",[n]);return r.setAttribute("width","0px"),r}});Se({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:i}=t,n=Ke(e[0],"size").value,r=e[1];return{type:"raisebox",mode:i.mode,dy:n,body:r}},htmlBuilder(t,e){var i=rt(t.body,e),n=Ft(t.dy,e);return ie.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){var i=new ue.MathNode("mpadded",[vt(t.body,e)]),n=t.dy.number+t.dy.unit;return i.setAttribute("voffset",n),i}});Se({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Se({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,i){var{parser:n}=t,r=i[0],a=Ke(e[0],"size"),l=Ke(e[1],"size");return{type:"rule",mode:n.mode,shift:r&&Ke(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var i=ie.makeSpan(["mord","rule"],[],e),n=Ft(t.width,e),r=Ft(t.height,e),a=t.shift?Ft(t.shift,e):0;return i.style.borderRightWidth=be(n),i.style.borderTopWidth=be(r),i.style.bottom=be(a),i.width=n,i.height=r+a,i.depth=-a,i.maxFontSize=r*1.125*e.sizeMultiplier,i},mathmlBuilder(t,e){var i=Ft(t.width,e),n=Ft(t.height,e),r=t.shift?Ft(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new ue.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",be(i)),l.setAttribute("height",be(n));var c=new ue.MathNode("mpadded",[l]);return r>=0?c.setAttribute("height",be(r)):(c.setAttribute("height",be(r)),c.setAttribute("depth",be(-r))),c.setAttribute("voffset",be(r)),c}});function SE(t,e,i){for(var n=ks(t,e,!1),r=e.sizeMultiplier/i.sizeMultiplier,a=0;a<n.length;a++){var l=n[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(i)):n[a].classes[l+1]==="reset-size"+e.size&&(n[a].classes[l+1]="reset-size"+i.size),n[a].height*=r,n[a].depth*=r}return ie.makeFragment(n)}var E7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],hQ=(t,e)=>{var i=e.havingSize(t.size);return SE(t.body,i,e)};Se({type:"sizing",names:E7,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:i,funcName:n,parser:r}=t,a=r.parseExpression(!1,i);return{type:"sizing",mode:r.mode,size:E7.indexOf(n)+1,body:a}},htmlBuilder:hQ,mathmlBuilder:(t,e)=>{var i=e.havingSize(t.size),n=Ai(t.body,i),r=new ue.MathNode("mstyle",n);return r.setAttribute("mathsize",be(i.sizeMultiplier)),r}});Se({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,i)=>{var{parser:n}=t,r=!1,a=!1,l=i[0]&&Ke(i[0],"ordgroup");if(l)for(var c="",d=0;d<l.body.length;++d){var h=l.body[d];if(c=h.text,c==="t")r=!0;else if(c==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var m=e[0];return{type:"smash",mode:n.mode,body:m,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var i=ie.makeSpan([],[rt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return i;if(t.smashHeight&&(i.height=0,i.children))for(var n=0;n<i.children.length;n++)i.children[n].height=0;if(t.smashDepth&&(i.depth=0,i.children))for(var r=0;r<i.children.length;r++)i.children[r].depth=0;var a=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i}]},e);return ie.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var i=new ue.MathNode("mpadded",[vt(t.body,e)]);return t.smashHeight&&i.setAttribute("height","0px"),t.smashDepth&&i.setAttribute("depth","0px"),i}});Se({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,i){var{parser:n}=t,r=i[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:r}},htmlBuilder(t,e){var i=rt(t.body,e.havingCrampedStyle());i.height===0&&(i.height=e.fontMetrics().xHeight),i=ie.wrapFragment(i,e);var n=e.fontMetrics(),r=n.defaultRuleThickness,a=r;e.style.id<Be.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,c=i.height+i.depth+l+r,{span:d,ruleWidth:h,advanceWidth:m}=Vr.sqrtImage(c,e),p=d.height-h;p>i.height+i.depth+l&&(l=(l+p-i.height-i.depth)/2);var f=d.height-i.height-l-h;i.style.paddingLeft=be(m);var b=ie.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:-(i.height+f)},{type:"elem",elem:d},{type:"kern",size:h}]},e);if(t.index){var N=e.havingStyle(Be.SCRIPTSCRIPT),I=rt(t.index,N,e),D=.6*(b.height-b.depth),k=ie.makeVList({positionType:"shift",positionData:-D,children:[{type:"elem",elem:I}]},e),T=ie.makeSpan(["root"],[k]);return ie.makeSpan(["mord","sqrt"],[T,b],e)}else return ie.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:i,index:n}=t;return n?new ue.MathNode("mroot",[vt(i,e),vt(n,e)]):new ue.MathNode("msqrt",[vt(i,e)])}});var q7={display:Be.DISPLAY,text:Be.TEXT,script:Be.SCRIPT,scriptscript:Be.SCRIPTSCRIPT};Se({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:i,funcName:n,parser:r}=t,a=r.parseExpression(!0,i),l=n.slice(1,n.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var i=q7[t.style],n=e.havingStyle(i).withFont("");return SE(t.body,n,e)},mathmlBuilder(t,e){var i=q7[t.style],n=e.havingStyle(i),r=Ai(t.body,n),a=new ue.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var uQ=function(e,i){var n=e.base;if(n)if(n.type==="op"){var r=n.limits&&(i.style.size===Be.DISPLAY.size||n.alwaysHandleSupSub);return r?l0:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(i.style.size===Be.DISPLAY.size||n.limits);return a?TE:null}else{if(n.type==="accent")return ot.isCharacterBox(n.base)?by:null;if(n.type==="horizBrace"){var l=!e.sub;return l===n.isOver?wE:null}else return null}else return null};Io({type:"supsub",htmlBuilder(t,e){var i=uQ(t,e);if(i)return i(t,e);var{base:n,sup:r,sub:a}=t,l=rt(n,e),c,d,h=e.fontMetrics(),m=0,p=0,f=n&&ot.isCharacterBox(n);if(r){var b=e.havingStyle(e.style.sup());c=rt(r,b,e),f||(m=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var N=e.havingStyle(e.style.sub());d=rt(a,N,e),f||(p=l.depth+N.fontMetrics().subDrop*N.sizeMultiplier/e.sizeMultiplier)}var I;e.style===Be.DISPLAY?I=h.sup1:e.style.cramped?I=h.sup3:I=h.sup2;var D=e.sizeMultiplier,k=be(.5/h.ptPerEm/D),T=null;if(d){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof xn||A)&&(T=be(-l.italic))}var P;if(c&&d){m=Math.max(m,I,c.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var F=h.defaultRuleThickness,ee=4*F;if(m-c.depth-(d.height-p)<ee){p=ee-(m-c.depth)+d.height;var C=.8*h.xHeight-(m-c.depth);C>0&&(m+=C,p-=C)}var S=[{type:"elem",elem:d,shift:p,marginRight:k,marginLeft:T},{type:"elem",elem:c,shift:-m,marginRight:k}];P=ie.makeVList({positionType:"individualShift",children:S},e)}else if(d){p=Math.max(p,h.sub1,d.height-.8*h.xHeight);var _=[{type:"elem",elem:d,marginLeft:T,marginRight:k}];P=ie.makeVList({positionType:"shift",positionData:p,children:_},e)}else if(c)m=Math.max(m,I,c.depth+.25*h.xHeight),P=ie.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:k}]},e);else throw new Error("supsub must have either sup or sub.");var O=z2(l,"right")||"mord";return ie.makeSpan([O],[l,ie.makeSpan(["msupsub"],[P])],e)},mathmlBuilder(t,e){var i=!1,n,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(i=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[vt(t.base,e)];t.sub&&a.push(vt(t.sub,e)),t.sup&&a.push(vt(t.sup,e));var l;if(i)l=n?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===Be.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===Be.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var d=t.base;d&&d.type==="op"&&d.limits&&(e.style===Be.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||e.style===Be.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Be.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Be.DISPLAY)?l="mover":l="msup"}return new ue.MathNode(l,a)}});Io({type:"atom",htmlBuilder(t,e){return ie.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[gn(t.text,t.mode)]);if(t.family==="bin"){var n=xy(t,e);n==="bold-italic"&&i.setAttribute("mathvariant",n)}else t.family==="punct"?i.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&i.setAttribute("stretchy","false");return i}});var AE={mi:"italic",mn:"normal",mtext:"normal"};Io({type:"mathord",htmlBuilder(t,e){return ie.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var i=new ue.MathNode("mi",[gn(t.text,t.mode,e)]),n=xy(t,e)||"italic";return n!==AE[i.type]&&i.setAttribute("mathvariant",n),i}});Io({type:"textord",htmlBuilder(t,e){return ie.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var i=gn(t.text,t.mode,e),n=xy(t,e)||"normal",r;return t.mode==="text"?r=new ue.MathNode("mtext",[i]):/[0-9]/.test(t.text)?r=new ue.MathNode("mn",[i]):t.text==="\\prime"?r=new ue.MathNode("mo",[i]):r=new ue.MathNode("mi",[i]),n!==AE[r.type]&&r.setAttribute("mathvariant",n),r}});var T1={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},S1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Io({type:"spacing",htmlBuilder(t,e){if(S1.hasOwnProperty(t.text)){var i=S1[t.text].className||"";if(t.mode==="text"){var n=ie.makeOrd(t,e,"textord");return n.classes.push(i),n}else return ie.makeSpan(["mspace",i],[ie.mathsym(t.text,t.mode,e)],e)}else{if(T1.hasOwnProperty(t.text))return ie.makeSpan(["mspace",T1[t.text]],[],e);throw new pe('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var i;if(S1.hasOwnProperty(t.text))i=new ue.MathNode("mtext",[new ue.TextNode("")]);else{if(T1.hasOwnProperty(t.text))return new ue.MathNode("mspace");throw new pe('Unknown type of space "'+t.text+'"')}return i}});var I7=()=>{var t=new ue.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Io({type:"tag",mathmlBuilder(t,e){var i=new ue.MathNode("mtable",[new ue.MathNode("mtr",[I7(),new ue.MathNode("mtd",[jl(t.body,e)]),I7(),new ue.MathNode("mtd",[jl(t.tag,e)])])]);return i.setAttribute("width","100%"),i}});var _7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},C7={"\\textbf":"textbf","\\textmd":"textmd"},mQ={"\\textit":"textit","\\textup":"textup"},M7=(t,e)=>{var i=t.font;if(i){if(_7[i])return e.withTextFontFamily(_7[i]);if(C7[i])return e.withTextFontWeight(C7[i]);if(i==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(mQ[i])};Se({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:i,funcName:n}=t,r=e[0];return{type:"text",mode:i.mode,body:rs(r),font:n}},htmlBuilder(t,e){var i=M7(t,e),n=ks(t.body,i,!0);return ie.makeSpan(["mord","text"],n,i)},mathmlBuilder(t,e){var i=M7(t,e);return jl(t.body,i)}});Se({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:i}=t;return{type:"underline",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=rt(t.body,e),n=ie.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ie.makeVList({positionType:"top",positionData:i.height,children:[{type:"kern",size:r},{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i}]},e);return ie.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var i=new ue.MathNode("mo",[new ue.TextNode("")]);i.setAttribute("stretchy","true");var n=new ue.MathNode("munder",[vt(t.body,e),i]);return n.setAttribute("accentunder","true"),n}});Se({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:i}=t;return{type:"vcenter",mode:i.mode,body:e[0]}},htmlBuilder(t,e){var i=rt(t.body,e),n=e.fontMetrics().axisHeight,r=.5*(i.height-n-(i.depth+n));return ie.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:i}]},e)},mathmlBuilder(t,e){return new ue.MathNode("mpadded",[vt(t.body,e)],["vcenter"])}});Se({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,i){throw new pe("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var i=z7(t),n=[],r=e.havingStyle(e.style.text()),a=0;a<i.length;a++){var l=i[a];l==="~"&&(l="\\textasciitilde"),n.push(ie.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return ie.makeSpan(["mord","text"].concat(r.sizingClasses(e)),ie.tryCombineChars(n),r)},mathmlBuilder(t,e){var i=new ue.TextNode(z7(t)),n=new ue.MathNode("mtext",[i]);return n.setAttribute("mathvariant","monospace"),n}});var z7=t=>t.body.replace(/ /g,t.star?"":""),Wa=XA,EE=`[ \r
	]`,pQ="\\\\[a-zA-Z@]+",fQ="\\\\[^\uD800-\uDFFF]",xQ="("+pQ+")"+EE+"*",gQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,P2="[-]",bQ=new RegExp(P2+"+$"),yQ="("+EE+"+)|"+(gQ+"|")+"([!-\\[\\]---]"+(P2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(P2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+xQ)+("|"+fQ+")");class D7{constructor(e,i){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=i,this.tokenRegex=new RegExp(yQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,i){this.catcodes[e]=i}lex(){var e=this.input,i=this.tokenRegex.lastIndex;if(i===e.length)return new Li("EOF",new vi(this,i,i));var n=this.tokenRegex.exec(e);if(n===null||n.index!==i)throw new pe("Unexpected character: '"+e[i]+"'",new Li(e[i],new vi(this,i,i+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Li(r,new vi(this,i,this.tokenRegex.lastIndex))}}class vQ{constructor(e,i){e===void 0&&(e={}),i===void 0&&(i={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=i,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new pe("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var i in e)e.hasOwnProperty(i)&&(e[i]==null?delete this.current[i]:this.current[i]=e[i])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,i,n){if(n===void 0&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=i)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}i==null?delete this.current[e]:this.current[e]=i}}var jQ=gE;z("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});z("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});z("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});z("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});z("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var i=t.future();return e[0].length===1&&e[0][0].text===i.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});z("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");z("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var R7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};z("\\char",function(t){var e=t.popToken(),i,n="";if(e.text==="'")i=8,e=t.popToken();else if(e.text==='"')i=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new pe("\\char` missing argument");n=e.text.charCodeAt(0)}else i=10;if(i){if(n=R7[e.text],n==null||n>=i)throw new pe("Invalid base-"+i+" digit "+e.text);for(var r;(r=R7[t.future().text])!=null&&r<i;)n*=i,n+=r,t.popToken()}return"\\@char{"+n+"}"});var Sy=(t,e,i,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new pe("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new pe("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!i)throw new pe("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var d="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)d+=h.text,h=t.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new pe("Invalid number of arguments: "+d);c=parseInt(d),r=t.consumeArg().tokens}return l&&n||t.macros.set(a,{tokens:r,numArgs:c}),""};z("\\newcommand",t=>Sy(t,!1,!0,!1));z("\\renewcommand",t=>Sy(t,!0,!1,!1));z("\\providecommand",t=>Sy(t,!0,!0,!0));z("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(i=>i.text).join("")),""});z("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(i=>i.text).join("")),""});z("\\show",t=>{var e=t.popToken(),i=e.text;return console.log(e,t.macros.get(i),Wa[i],St.math[i],St.text[i]),""});z("\\bgroup","{");z("\\egroup","}");z("~","\\nobreakspace");z("\\lq","`");z("\\rq","'");z("\\aa","\\r a");z("\\AA","\\r A");z("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");z("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");z("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");z("","\\mathscr{B}");z("","\\mathscr{E}");z("","\\mathscr{F}");z("","\\mathscr{H}");z("","\\mathscr{I}");z("","\\mathscr{L}");z("","\\mathscr{M}");z("","\\mathscr{R}");z("","\\mathfrak{C}");z("","\\mathfrak{H}");z("","\\mathfrak{Z}");z("\\Bbbk","\\Bbb{k}");z("","\\cdotp");z("\\llap","\\mathllap{\\textrm{#1}}");z("\\rlap","\\mathrlap{\\textrm{#1}}");z("\\clap","\\mathclap{\\textrm{#1}}");z("\\mathstrut","\\vphantom{(}");z("\\underbar","\\underline{\\text{#1}}");z("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');z("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");z("\\ne","\\neq");z("","\\neq");z("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");z("","\\notin");z("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");z("","\\perp");z("","\\mathclose{!\\mkern-0.8mu!}");z("","\\notni");z("","\\ulcorner");z("","\\urcorner");z("","\\llcorner");z("","\\lrcorner");z("","\\copyright");z("","\\textregistered");z("","\\textregistered");z("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');z("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');z("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');z("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');z("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");z("","\\vdots");z("\\varGamma","\\mathit{\\Gamma}");z("\\varDelta","\\mathit{\\Delta}");z("\\varTheta","\\mathit{\\Theta}");z("\\varLambda","\\mathit{\\Lambda}");z("\\varXi","\\mathit{\\Xi}");z("\\varPi","\\mathit{\\Pi}");z("\\varSigma","\\mathit{\\Sigma}");z("\\varUpsilon","\\mathit{\\Upsilon}");z("\\varPhi","\\mathit{\\Phi}");z("\\varPsi","\\mathit{\\Psi}");z("\\varOmega","\\mathit{\\Omega}");z("\\substack","\\begin{subarray}{c}#1\\end{subarray}");z("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");z("\\boxed","\\fbox{$\\displaystyle{#1}$}");z("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");z("\\implies","\\DOTSB\\;\\Longrightarrow\\;");z("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");z("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");z("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var O7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};z("\\dots",function(t){var e="\\dotso",i=t.expandAfterFuture().text;return i in O7?e=O7[i]:(i.slice(0,4)==="\\not"||i in St.math&&["bin","rel"].includes(St.math[i].group))&&(e="\\dotsb"),e});var Ay={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};z("\\dotso",function(t){var e=t.future().text;return e in Ay?"\\ldots\\,":"\\ldots"});z("\\dotsc",function(t){var e=t.future().text;return e in Ay&&e!==","?"\\ldots\\,":"\\ldots"});z("\\cdots",function(t){var e=t.future().text;return e in Ay?"\\@cdots\\,":"\\@cdots"});z("\\dotsb","\\cdots");z("\\dotsm","\\cdots");z("\\dotsi","\\!\\cdots");z("\\dotsx","\\ldots\\,");z("\\DOTSI","\\relax");z("\\DOTSB","\\relax");z("\\DOTSX","\\relax");z("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");z("\\,","\\tmspace+{3mu}{.1667em}");z("\\thinspace","\\,");z("\\>","\\mskip{4mu}");z("\\:","\\tmspace+{4mu}{.2222em}");z("\\medspace","\\:");z("\\;","\\tmspace+{5mu}{.2777em}");z("\\thickspace","\\;");z("\\!","\\tmspace-{3mu}{.1667em}");z("\\negthinspace","\\!");z("\\negmedspace","\\tmspace-{4mu}{.2222em}");z("\\negthickspace","\\tmspace-{5mu}{.277em}");z("\\enspace","\\kern.5em ");z("\\enskip","\\hskip.5em\\relax");z("\\quad","\\hskip1em\\relax");z("\\qquad","\\hskip2em\\relax");z("\\tag","\\@ifstar\\tag@literal\\tag@paren");z("\\tag@paren","\\tag@literal{({#1})}");z("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new pe("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});z("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");z("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");z("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");z("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");z("\\newline","\\\\\\relax");z("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var qE=be(Yn["Main-Regular"][84][1]-.7*Yn["Main-Regular"][65][1]);z("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+qE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");z("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+qE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");z("\\hspace","\\@ifstar\\@hspacer\\@hspace");z("\\@hspace","\\hskip #1\\relax");z("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");z("\\ordinarycolon",":");z("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");z("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');z("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');z("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');z("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');z("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');z("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');z("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');z("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');z("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');z("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');z("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');z("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');z("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');z("","\\dblcolon");z("","\\eqcolon");z("","\\coloneqq");z("","\\eqqcolon");z("","\\Coloneqq");z("\\ratio","\\vcentcolon");z("\\coloncolon","\\dblcolon");z("\\colonequals","\\coloneqq");z("\\coloncolonequals","\\Coloneqq");z("\\equalscolon","\\eqqcolon");z("\\equalscoloncolon","\\Eqqcolon");z("\\colonminus","\\coloneq");z("\\coloncolonminus","\\Coloneq");z("\\minuscolon","\\eqcolon");z("\\minuscoloncolon","\\Eqcolon");z("\\coloncolonapprox","\\Colonapprox");z("\\coloncolonsim","\\Colonsim");z("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");z("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");z("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");z("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");z("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");z("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");z("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");z("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");z("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");z("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");z("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");z("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");z("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");z("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");z("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");z("\\ngeqq","\\html@mathml{\\@ngeqq}{}");z("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");z("\\nleqq","\\html@mathml{\\@nleqq}{}");z("\\nleqslant","\\html@mathml{\\@nleqslant}{}");z("\\nshortmid","\\html@mathml{\\@nshortmid}{}");z("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");z("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");z("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");z("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");z("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");z("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");z("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");z("\\imath","\\html@mathml{\\@imath}{}");z("\\jmath","\\html@mathml{\\@jmath}{}");z("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");z("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");z("","\\llbracket");z("","\\rrbracket");z("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");z("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");z("","\\lBrace");z("","\\rBrace");z("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");z("","\\minuso");z("\\darr","\\downarrow");z("\\dArr","\\Downarrow");z("\\Darr","\\Downarrow");z("\\lang","\\langle");z("\\rang","\\rangle");z("\\uarr","\\uparrow");z("\\uArr","\\Uparrow");z("\\Uarr","\\Uparrow");z("\\N","\\mathbb{N}");z("\\R","\\mathbb{R}");z("\\Z","\\mathbb{Z}");z("\\alef","\\aleph");z("\\alefsym","\\aleph");z("\\Alpha","\\mathrm{A}");z("\\Beta","\\mathrm{B}");z("\\bull","\\bullet");z("\\Chi","\\mathrm{X}");z("\\clubs","\\clubsuit");z("\\cnums","\\mathbb{C}");z("\\Complex","\\mathbb{C}");z("\\Dagger","\\ddagger");z("\\diamonds","\\diamondsuit");z("\\empty","\\emptyset");z("\\Epsilon","\\mathrm{E}");z("\\Eta","\\mathrm{H}");z("\\exist","\\exists");z("\\harr","\\leftrightarrow");z("\\hArr","\\Leftrightarrow");z("\\Harr","\\Leftrightarrow");z("\\hearts","\\heartsuit");z("\\image","\\Im");z("\\infin","\\infty");z("\\Iota","\\mathrm{I}");z("\\isin","\\in");z("\\Kappa","\\mathrm{K}");z("\\larr","\\leftarrow");z("\\lArr","\\Leftarrow");z("\\Larr","\\Leftarrow");z("\\lrarr","\\leftrightarrow");z("\\lrArr","\\Leftrightarrow");z("\\Lrarr","\\Leftrightarrow");z("\\Mu","\\mathrm{M}");z("\\natnums","\\mathbb{N}");z("\\Nu","\\mathrm{N}");z("\\Omicron","\\mathrm{O}");z("\\plusmn","\\pm");z("\\rarr","\\rightarrow");z("\\rArr","\\Rightarrow");z("\\Rarr","\\Rightarrow");z("\\real","\\Re");z("\\reals","\\mathbb{R}");z("\\Reals","\\mathbb{R}");z("\\Rho","\\mathrm{P}");z("\\sdot","\\cdot");z("\\sect","\\S");z("\\spades","\\spadesuit");z("\\sub","\\subset");z("\\sube","\\subseteq");z("\\supe","\\supseteq");z("\\Tau","\\mathrm{T}");z("\\thetasym","\\vartheta");z("\\weierp","\\wp");z("\\Zeta","\\mathrm{Z}");z("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");z("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");z("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");z("\\bra","\\mathinner{\\langle{#1}|}");z("\\ket","\\mathinner{|{#1}\\rangle}");z("\\braket","\\mathinner{\\langle{#1}\\rangle}");z("\\Bra","\\left\\langle#1\\right|");z("\\Ket","\\left|#1\\right\\rangle");var IE=t=>e=>{var i=e.consumeArg().tokens,n=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var d=p=>f=>{t&&(f.macros.set("|",l),r.length&&f.macros.set("\\|",c));var b=p;if(!p&&r.length){var N=f.future();N.text==="|"&&(f.popToken(),b=!0)}return{tokens:b?r:n,numArgs:0}};e.macros.set("|",d(!1)),r.length&&e.macros.set("\\|",d(!0));var h=e.consumeArg().tokens,m=e.expandTokens([...a,...h,...i]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};z("\\bra@ket",IE(!1));z("\\bra@set",IE(!0));z("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");z("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");z("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");z("\\angln","{\\angl n}");z("\\blue","\\textcolor{##6495ed}{#1}");z("\\orange","\\textcolor{##ffa500}{#1}");z("\\pink","\\textcolor{##ff00af}{#1}");z("\\red","\\textcolor{##df0030}{#1}");z("\\green","\\textcolor{##28ae7b}{#1}");z("\\gray","\\textcolor{gray}{#1}");z("\\purple","\\textcolor{##9d38bd}{#1}");z("\\blueA","\\textcolor{##ccfaff}{#1}");z("\\blueB","\\textcolor{##80f6ff}{#1}");z("\\blueC","\\textcolor{##63d9ea}{#1}");z("\\blueD","\\textcolor{##11accd}{#1}");z("\\blueE","\\textcolor{##0c7f99}{#1}");z("\\tealA","\\textcolor{##94fff5}{#1}");z("\\tealB","\\textcolor{##26edd5}{#1}");z("\\tealC","\\textcolor{##01d1c1}{#1}");z("\\tealD","\\textcolor{##01a995}{#1}");z("\\tealE","\\textcolor{##208170}{#1}");z("\\greenA","\\textcolor{##b6ffb0}{#1}");z("\\greenB","\\textcolor{##8af281}{#1}");z("\\greenC","\\textcolor{##74cf70}{#1}");z("\\greenD","\\textcolor{##1fab54}{#1}");z("\\greenE","\\textcolor{##0d923f}{#1}");z("\\goldA","\\textcolor{##ffd0a9}{#1}");z("\\goldB","\\textcolor{##ffbb71}{#1}");z("\\goldC","\\textcolor{##ff9c39}{#1}");z("\\goldD","\\textcolor{##e07d10}{#1}");z("\\goldE","\\textcolor{##a75a05}{#1}");z("\\redA","\\textcolor{##fca9a9}{#1}");z("\\redB","\\textcolor{##ff8482}{#1}");z("\\redC","\\textcolor{##f9685d}{#1}");z("\\redD","\\textcolor{##e84d39}{#1}");z("\\redE","\\textcolor{##bc2612}{#1}");z("\\maroonA","\\textcolor{##ffbde0}{#1}");z("\\maroonB","\\textcolor{##ff92c6}{#1}");z("\\maroonC","\\textcolor{##ed5fa6}{#1}");z("\\maroonD","\\textcolor{##ca337c}{#1}");z("\\maroonE","\\textcolor{##9e034e}{#1}");z("\\purpleA","\\textcolor{##ddd7ff}{#1}");z("\\purpleB","\\textcolor{##c6b9fc}{#1}");z("\\purpleC","\\textcolor{##aa87ff}{#1}");z("\\purpleD","\\textcolor{##7854ab}{#1}");z("\\purpleE","\\textcolor{##543b78}{#1}");z("\\mintA","\\textcolor{##f5f9e8}{#1}");z("\\mintB","\\textcolor{##edf2df}{#1}");z("\\mintC","\\textcolor{##e0e5cc}{#1}");z("\\grayA","\\textcolor{##f6f7f7}{#1}");z("\\grayB","\\textcolor{##f0f1f2}{#1}");z("\\grayC","\\textcolor{##e3e5e6}{#1}");z("\\grayD","\\textcolor{##d6d8da}{#1}");z("\\grayE","\\textcolor{##babec2}{#1}");z("\\grayF","\\textcolor{##888d93}{#1}");z("\\grayG","\\textcolor{##626569}{#1}");z("\\grayH","\\textcolor{##3b3e40}{#1}");z("\\grayI","\\textcolor{##21242c}{#1}");z("\\kaBlue","\\textcolor{##314453}{#1}");z("\\kaGreen","\\textcolor{##71B307}{#1}");var _E={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class wQ{constructor(e,i,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=i,this.expansionCount=0,this.feed(e),this.macros=new vQ(jQ,i.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new D7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var i,n,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;i=this.popToken(),{tokens:r,end:n}=this.consumeArg(["]"])}else({tokens:r,start:i,end:n}=this.consumeArg());return this.pushToken(new Li("EOF",n.loc)),this.pushTokens(r),new Li("",vi.range(i,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var i=[],n=e&&e.length>0;n||this.consumeSpaces();var r=this.future(),a,l=0,c=0;do{if(a=this.popToken(),i.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new pe("Extra }",a)}else if(a.text==="EOF")throw new pe("Unexpected end of input in a macro argument, expected '"+(e&&n?e[c]:"}")+"'",a);if(e&&n)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){i.splice(-c,c);break}}else c=0}while(l!==0||n);return r.text==="{"&&i[i.length-1].text==="}"&&(i.pop(),i.shift()),i.reverse(),{tokens:i,start:r,end:a}}consumeArgs(e,i){if(i){if(i.length!==e+1)throw new pe("The length of delimiters doesn't match the number of args!");for(var n=i[0],r=0;r<n.length;r++){var a=this.popToken();if(n[r]!==a.text)throw new pe("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(i&&i[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new pe("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var i=this.popToken(),n=i.text,r=i.noexpand?null:this._getExpansion(n);if(r==null||e&&r.unexpandable){if(e&&r==null&&n[0]==="\\"&&!this.isDefined(n))throw new pe("Undefined control sequence: "+n);return this.pushToken(i),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var d=a[c];if(d.text==="#"){if(c===0)throw new pe("Incomplete placeholder at end of macro body",d);if(d=a[--c],d.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(d.text))a.splice(c,2,...l[+d.text-1]);else throw new pe("Not a valid argument number",d)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Li(e)]):void 0}expandTokens(e){var i=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),i.push(r)}return this.countExpansion(i.length),i}expandMacroAsText(e){var i=this.expandMacro(e);return i&&i.map(n=>n.text).join("")}_getExpansion(e){var i=this.macros.get(e);if(i==null)return i;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var r=typeof i=="function"?i(this):i;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new D7(r,this.settings),d=[],h=c.lex();h.text!=="EOF";)d.push(h),h=c.lex();d.reverse();var m={tokens:d,numArgs:a};return m}return r}isDefined(e){return this.macros.has(e)||Wa.hasOwnProperty(e)||St.math.hasOwnProperty(e)||St.text.hasOwnProperty(e)||_E.hasOwnProperty(e)}isExpandable(e){var i=this.macros.get(e);return i!=null?typeof i=="string"||typeof i=="function"||!i.unexpandable:Wa.hasOwnProperty(e)&&!Wa[e].primitive}}var P7=/^[]/,Ru=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),A1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},$7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class yf{constructor(e,i){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new wQ(e,i,this.mode),this.settings=i,this.leftrightDepth=0}expect(e,i){if(i===void 0&&(i=!0),this.fetch().text!==e)throw new pe("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());i&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var i=this.nextToken;this.consume(),this.gullet.pushToken(new Li("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=i,n}parseExpression(e,i){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(yf.endOfExpression.indexOf(r.text)!==-1||i&&r.text===i||e&&Wa[r.text]&&Wa[r.text].infix)break;var a=this.parseAtom(i);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var i=-1,n,r=0;r<e.length;r++)if(e[r].type==="infix"){if(i!==-1)throw new pe("only one infix operator per group",e[r].token);i=r,n=e[r].replaceWith}if(i!==-1&&n){var a,l,c=e.slice(0,i),d=e.slice(i+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?l=d[0]:l={type:"ordgroup",mode:this.mode,body:d};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[a,e[i],l],[]):h=this.callFunction(n,[a,l],[]),[h]}else return e}handleSupSubscript(e){var i=this.fetch(),n=i.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new pe("Expected group after '"+n+"'",i);return r}formatUnsupportedCmd(e){for(var i=[],n=0;n<e.length;n++)i.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:i},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var i=this.parseGroup("atom",e);if((i==null?void 0:i.type)==="internal"||this.mode==="text")return i;for(var n,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(i&&i.type==="op"){var l=a.text==="\\limits";i.limits=l,i.alwaysHandleSupSub=!0}else if(i&&i.type==="operatorname")i.alwaysHandleSupSub&&(i.limits=a.text==="\\limits");else throw new pe("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new pe("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new pe("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new pe("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:d}}else if(Ru[a.text]){var h=P7.test(a.text),m=[];for(m.push(new Li(Ru[a.text])),this.consume();;){var p=this.fetch().text;if(!Ru[p]||P7.test(p)!==h)break;m.unshift(new Li(Ru[p])),this.consume()}var f=this.subparse(m);h?r={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||r?{type:"supsub",mode:this.mode,base:i,sup:n,sub:r}:i}parseFunction(e,i){var n=this.fetch(),r=n.text,a=Wa[r];if(!a)return null;if(this.consume(),i&&i!=="atom"&&!a.allowedInArgument)throw new pe("Got function '"+r+"' with no arguments"+(i?" as "+i:""),n);if(this.mode==="text"&&!a.allowedInText)throw new pe("Can't use function '"+r+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new pe("Can't use function '"+r+"' in math mode",n);var{args:l,optArgs:c}=this.parseArguments(r,a);return this.callFunction(r,l,c,n,e)}callFunction(e,i,n,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},c=Wa[e];if(c&&c.handler)return c.handler(l,i,n);throw new pe("No function handler for "+e)}parseArguments(e,i){var n=i.numArgs+i.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<n;l++){var c=i.argTypes&&i.argTypes[l],d=l<i.numOptionalArgs;(i.primitive&&c==null||i.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",c,d);if(d)a.push(h);else if(h!=null)r.push(h);else throw new pe("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,i,n){switch(i){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,i);case"hbox":{var r=this.parseArgumentGroup(n,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new pe("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new pe("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new pe("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,i){var n=this.gullet.scanArgument(i);if(n==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,i){for(var n=this.fetch(),r=n,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new pe("Invalid "+i+": '"+n.text+"'",n);return n.range(r,a)}parseColorGroup(e){var i=this.parseStringGroup("color",e);if(i==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(i.text);if(!n)throw new pe("Invalid color: '"+i.text+"'",i);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var i,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?i=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):i=this.parseStringGroup("size",e),!i)return null;!e&&i.text.length===0&&(i.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(i.text);if(!r)throw new pe("Invalid size: '"+i.text+"'",i);var a={number:+(r[1]+r[2]),unit:r[3]};if(!LA(a))throw new pe("Invalid unit: '"+a.unit+"'",i);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var i=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),i==null)return null;var n=i.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,i){var n=this.gullet.scanArgument(e);if(n==null)return null;var r=this.mode;i&&this.switchMode(i),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return i&&this.switchMode(r),l}parseGroup(e,i){var n=this.fetch(),r=n.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),d=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:vi.range(n,d),body:c,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(i,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!_E.hasOwnProperty(r)){if(this.settings.throwOnError)throw new pe("Undefined control sequence: "+r,n);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var i=e.length-1,n=0;n<i;++n){var r=e[n],a=r.text;a==="-"&&e[n+1].text==="-"&&(n+1<i&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:vi.range(r,e[n+2]),text:"---"}),i-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:vi.range(r,e[n+1]),text:"--"}),i-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:vi.range(r,e[n+1]),text:a+a}),i-=1)}}parseSymbol(){var e=this.fetch(),i=e.text;if(/^\\verb[^a-zA-Z]/.test(i)){this.consume();var n=i.slice(5),r=n.charAt(0)==="*";if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new pe(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:r}}$7.hasOwnProperty(i[0])&&!St[this.mode][i[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+i[0]+'" used in math mode',e),i=$7[i[0]]+i.slice(1));var a=bQ.exec(i);a&&(i=i.substring(0,a.index),i==="i"?i="":i==="j"&&(i=""));var l;if(St[this.mode][i]){this.settings.strict&&this.mode==="math"&&M2.indexOf(i)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+i[0]+'" used in math mode',e);var c=St[this.mode][i].group,d=vi.range(e),h;if(dK.hasOwnProperty(c)){var m=c;h={type:"atom",mode:this.mode,family:m,loc:d,text:i}}else h={type:c,mode:this.mode,loc:d,text:i};l=h}else if(i.charCodeAt(0)>=128)this.settings.strict&&(BA(i.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+i[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+i[0]+'"'+(" ("+i.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:vi.range(e),text:i};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var f=a[0][p];if(!A1[f])throw new pe("Unknown accent ' "+f+"'",e);var b=A1[f][this.mode]||A1[f].text;if(!b)throw new pe("Accent "+f+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:vi.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}yf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ey=function(e,i){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new yf(e,i);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!i.displayMode)throw new pe("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new Li("\\df@tag")])}]}return r},CE=function(e,i,n){i.textContent="";var r=qy(e,n).toNode();i.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),CE=function(){throw new pe("KaTeX doesn't work in quirks mode.")});var NQ=function(e,i){var n=qy(e,i).toMarkup();return n},kQ=function(e,i){var n=new dy(i);return Ey(e,n)},ME=function(e,i,n){if(n.throwOnError||!(e instanceof pe))throw e;var r=ie.makeSpan(["katex-error"],[new xn(i)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},qy=function(e,i){var n=new dy(i);try{var r=Ey(e,n);return MK(r,e,n)}catch(a){return ME(a,e,n)}},TQ=function(e,i){var n=new dy(i);try{var r=Ey(e,n);return zK(r,e,n)}catch(a){return ME(a,e,n)}},SQ="0.16.27",AQ={Span:Sh,Anchor:my,SymbolNode:xn,SvgNode:aa,PathNode:vl,LineNode:C2},zE={version:SQ,render:CE,renderToString:NQ,ParseError:pe,SETTINGS_SCHEMA:cm,__parse:kQ,__renderToDomTree:qy,__renderToHTMLTree:TQ,__setFontMetrics:sK,__defineSymbol:g,__defineFunction:Se,__defineMacro:z,__domTree:AQ};function Iy(t){if(typeof t=="string")return t;if(typeof t=="number")return String(t);if(!t)return"";if(Array.isArray(t))return t.map(Iy).join("");const e=[];return Z.Children.forEach(t,i=>{(typeof i=="string"||typeof i=="number")&&e.push(String(i))}),e.join("")}function o({children:t,math:e,className:i=""}){const n=Z.useRef(null),r=e??Iy(t);return Z.useEffect(()=>{if(n.current&&r)try{zE.render(r,n.current,{throwOnError:!1,displayMode:!1})}catch(a){console.error("KaTeX render error:",a)}},[r]),s.jsx("span",{ref:n,className:`inline-block ${i}`})}function $({children:t,math:e,inline:i,display:n,className:r=""}){const a=Z.useRef(null),l=e??Iy(t),c=i===!0||n===!1;return Z.useEffect(()=>{if(a.current&&l)try{zE.render(l,a.current,{throwOnError:!1,displayMode:!c})}catch(d){console.error("KaTeX render error:",d)}},[l,c]),c?s.jsx("span",{ref:a,className:`inline-block ${r}`}):s.jsx("div",{ref:a,className:`my-6 text-center text-lg overflow-x-auto ${r}`})}const jp=[{id:"def-sample",title:"Sample Definition",statement:"A function $f: A \\to B$ is a mapping from set $A$ to set $B$.",sectionId:1,category:"Fundamentals",type:"definition"},{id:"thm-sample",title:"Sample Theorem",statement:"If $A \\subseteq B$ and $B \\subseteq A$, then $A = B$",sectionId:2,category:"Fundamentals",type:"theorem",hasProof:!0,proof:`
      Let $x \\in A$. Since $A \\subseteq B$, we have $x \\in B$ by definition of subset.
      Therefore, every element of $A$ is in $B$.
      
      Now, let $y \\in B$. Since $B \\subseteq A$, we have $y \\in A$ by definition.
      Therefore, every element of $B$ is in $A$.
      
      Since $A \\subseteq B$ and $B \\subseteq A$, the two sets contain exactly the same elements.
      Thus, $A = B$.
    `}];function EQ(){return[...new Set(jp.map(t=>t.category).filter(t=>!!t))]}function qQ(t){const e=t.toLowerCase();return jp.filter(i=>i.title.toLowerCase().includes(e)||i.statement.toLowerCase().includes(e))}function IQ(){const[t,e]=Z.useState(!1),[i,n]=Z.useState(""),[r,a]=Z.useState(null),l=i?qQ(i):jp,c=i?[{category:"Search Results",items:l}]:EQ().map(m=>({category:m,items:jp.filter(p=>p.category===m)})),d=m=>{a(r===m?null:m)},h={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[s.jsx(oy,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),s.jsx(cy,{isOpen:t,onClose:()=>e(!1)}),s.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),s.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",B4]}),s.jsx("div",{className:"mb-8",children:s.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:i,onChange:m=>n(m.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:s.jsxs("p",{className:"text-amber-300 text-sm",children:[s.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),s.jsx("div",{className:"space-y-8",children:c.map(({category:m,items:p})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[s.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:p.length}),m]}),s.jsx("div",{className:"space-y-2",children:p.map(f=>s.jsx(ys,{to:`/section/${f.sectionId}`,className:"block group",children:s.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"pl-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[f.type&&s.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${h[f.type]||"text-dark-400 bg-dark-700"}`,children:f.type}),s.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",f.sectionId]}),f.sectionTitle&&s.jsx("span",{className:"text-[10px] text-dark-600",children:f.sectionTitle}),f.hasProof&&f.proof&&s.jsx("span",{onClick:b=>{b.preventDefault(),d(f.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:r===f.id?"Hide Proof":"View Proof"})]}),s.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:f.title}),s.jsx("p",{className:"text-sm text-dark-400 mt-1",children:f.statement}),f.hasProof&&f.proof&&s.jsx("div",{className:"mt-3",children:s.jsx(up,{children:r===f.id?s.jsx($r.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:s.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[s.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),s.jsx($,{children:f.proof})]})}):null})})]})]})},f.id))})]},m))}),l.length===0&&s.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),s.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:s.jsxs(ys,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const E1=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function _Q(){const[t,e]=Z.useState(!1),[i,n]=Z.useState(null),r=[...new Set(E1.map(l=>l.category))],a=i?E1.filter(l=>l.category===i):E1;return s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[s.jsx(oy,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),s.jsx(cy,{isOpen:t,onClose:()=>e(!1)}),s.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),s.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[s.jsx("button",{onClick:()=>n(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),r.map(l=>s.jsx("button",{onClick:()=>n(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${i===l?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:l},l))]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(l=>s.jsx(ys,{to:`/section/${l.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:l.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:l.title}),s.jsx("p",{className:"text-sm text-dark-400 mt-1",children:l.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:l.category}),s.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",l.sectionId]})]})]})]})},l.id))}),a.length===0&&s.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function ve({sectionId:t,questions:e,title:i="Section Quiz"}){var we,Le,Re;const r=Eo(),[a,l]=Z.useState(0),[c,d]=Z.useState(null),[h,m]=Z.useState(null),[p,f]=Z.useState(""),[b,N]=Z.useState(!1),[I,D]=Z.useState(0),[k,T]=Z.useState([]),[A,P]=Z.useState(!1),[F,ee]=Z.useState(""),[C,S]=Z.useState(0),_=Z.useMemo(()=>[...e].sort(()=>globalThis.Math.random()-.5).slice(0,5),[e]),O=_[a],B=_.length,U=(O==null?void 0:O.type)??"multiple-choice",L=Ee=>{if(c!==null)return;d(Ee);const Ne=Ee===O.correctIndex;Ne&&D(qe=>qe+1),T(qe=>[...qe,Ne]),N(!0)},Ae=()=>{if(h===null||Number.isNaN(h)){ee("Please enter a number");return}const{min:Ee,max:Ne}=O.numericRange??{};if(Ee!==void 0&&h<Ee){ee(`Answer must be at least ${Ee}`);return}if(Ne!==void 0&&h>Ne){ee(`Answer must be at most ${Ne}`);return}ee("");const qe=h===O.correctAnswer;qe&&D(ht=>ht+1),T(ht=>[...ht,qe]),N(!0)},Me=()=>{const Ee=p.trim();if(Ee==="")return;const Ne=Ee.toLowerCase()===String(O.correctAnswer??"").toLowerCase();Ne&&D(qe=>qe+1),T(qe=>[...qe,Ne]),N(!0)},de=()=>{if(a<B-1)l(Ee=>Ee+1),d(null),m(null),f(""),N(!1),ee("");else{P(!0);const Ee=I+(b&&(U==="multiple-choice"&&c===O.correctIndex||U==="numeric"&&h===O.correctAnswer||U==="text"&&p.toLowerCase()===String(O.correctAnswer??"").toLowerCase())?1:0),Ne=globalThis.Math.round(Ee/B*100);let qe=KT(O.difficulty,Ne);Ne===100&&(qe=globalThis.Math.round(qe*(1+Ws.QUIZ_PERFECT_BONUS))),S(qe),r&&r.recordQuiz(t,O.difficulty,Ne,Ee,B)}},xe=()=>{l(0),d(null),m(null),f(""),N(!1),D(0),T([]),P(!1),ee(""),S(0)};if(A){const Ee=k.filter(Boolean).length,Ne=globalThis.Math.round(Ee/B*100);return s.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:Ne>=80?"":Ne>=60?"":""}),s.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),s.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",Ee," out of ",B," (",Ne,"%)"]}),C>0&&s.jsxs($r.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",C," XP"]}),Ne===100&&s.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),s.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:k.map((qe,ht)=>s.jsx("div",{className:`w-3 h-3 rounded-full ${qe?"bg-emerald-500":"bg-red-500"}`},ht))}),s.jsx("button",{onClick:xe,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return s.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:i}),s.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",a+1," of ",B]})]}),s.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:s.jsx($r.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(a+1)/B*100}%`}})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${O.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":O.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:O.difficulty.charAt(0).toUpperCase()+O.difficulty.slice(1)})}),s.jsx("p",{className:"text-lg text-dark-200 mb-6",children:s.jsx("span",{dangerouslySetInnerHTML:{__html:Yx(O.question)}})}),U==="multiple-choice"&&O.options&&s.jsx("div",{className:"space-y-3 mb-6",children:O.options.map((Ee,Ne)=>{const qe=c===Ne,ht=Ne===O.correctIndex,Ue=b&&ht,Zs=b&&qe&&!ht;return s.jsx("button",{onClick:()=>L(Ne),disabled:b,className:`w-full p-4 rounded-xl text-left transition-all ${Ue?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":Zs?"bg-red-500/20 border-red-500/50 text-red-300":qe?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+Ne)}),s.jsx("span",{dangerouslySetInnerHTML:{__html:Yx(Ee)}})]})},Ne)})}),U==="numeric"&&s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("input",{type:"number",step:(we=O.numericRange)!=null&&we.precision?1/globalThis.Math.pow(10,O.numericRange.precision):1,min:(Le=O.numericRange)==null?void 0:Le.min,max:(Re=O.numericRange)==null?void 0:Re.max,value:h??"",onChange:Ee=>{const Ne=Ee.target.value;m(Ne===""?null:parseFloat(Ne))},disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),F&&s.jsx("p",{className:"text-red-400 text-sm",children:F}),s.jsx("button",{onClick:Ae,disabled:b||h===null||Number.isNaN(h),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),U==="text"&&s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsx("input",{type:"text",value:p,onChange:Ee=>f(Ee.target.value),disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),s.jsx("button",{onClick:Me,disabled:b||!p.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),b&&O.explanation&&s.jsx($r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:s.jsxs("p",{className:"text-sm text-dark-300",children:[s.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),s.jsx("span",{dangerouslySetInnerHTML:{__html:Yx(O.explanation)}})]})}),b&&s.jsx($r.button,{initial:{opacity:0},animate:{opacity:1},onClick:de,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:a<B-1?"Next Question":"See Results"})]})}function CQ(){const{id:t}=Xw(),e=parseInt(t||"0",10),i=q2(e),n=DA(e),r=RA(e),l=Eo();return Z.useEffect(()=>{l&&l.visitSection(e)},[e,l]),!i||i.length===0?s.jsxs("div",{className:"min-h-screen relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),s.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),s.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),s.jsxs(ys,{to:`/section/${e}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):s.jsxs("div",{className:"min-h-screen relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),s.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:s.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[s.jsxs(ys,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),s.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsxs(ys,{to:`/section/${e}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",e]}),s.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsxs("header",{className:"mb-10",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),r&&s.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",r.id,": ",r.title]})]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:s.jsx("span",{className:"text-gradient",children:n==null?void 0:n.title})}),s.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",i.length," question",i.length!==1?"s":"","."]}),s.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),s.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),s.jsx(ve,{sectionId:e,questions:i}),s.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:s.jsxs(ys,{to:`/section/${e}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",e]})})]})]})}const MQ={info:{bg:"bg-blue-500/5",border:"border-blue-500/30",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/5",border:"border-yellow-500/30",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",iconColor:"text-yellow-400"},danger:{bg:"bg-red-500/5",border:"border-red-500/30",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-red-400"},success:{bg:"bg-emerald-500/5",border:"border-emerald-500/30",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-emerald-400"},note:{bg:"bg-purple-500/5",border:"border-purple-500/30",icon:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",iconColor:"text-purple-400"}};function ne({type:t="info",title:e,children:i,className:n=""}){const r=MQ[t];return s.jsx("div",{className:`my-6 p-4 rounded-xl ${r.bg} border ${r.border} ${n}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:`w-5 h-5 ${r.iconColor} flex-shrink-0 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.icon})}),s.jsxs("div",{className:"flex-1",children:[e&&s.jsx("h4",{className:`font-semibold ${r.iconColor} mb-1`,children:e}),s.jsx("div",{className:"text-dark-300 text-sm",children:i})]})]})})}const zQ={none:"",sm:"p-4",md:"p-6",lg:"p-8"};function X({children:t,className:e="",padding:i="md"}){return s.jsx("div",{className:`rounded-2xl bg-dark-800/50 border border-dark-700/50 ${zQ[i]} ${e}`,children:t})}function K({title:t,subtitle:e,action:i,className:n=""}){return s.jsxs("div",{className:`flex items-center justify-between mb-4 ${n}`,children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t}),e&&s.jsx("p",{className:"text-sm text-dark-400 mt-0.5",children:e})]}),i&&s.jsx("div",{children:i})]})}const DQ={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},RQ={sm:"gap-3",md:"gap-4",lg:"gap-6"};function ke({children:t,columns:e=2,gap:i="md",className:n=""}){return s.jsx("div",{className:`grid ${DQ[e]} ${RQ[i]} ${n}`,children:t})}const OQ=[{id:1,type:"multiple-choice",question:"When we write $7 = 2 \\times 3 + 1$, what is the quotient and what is the remainder?",options:["Quotient = 1, Remainder = 2","Quotient = 2, Remainder = 1","Quotient = 3, Remainder = 1","Quotient = 7, Remainder = 0"],correctIndex:1,difficulty:"easy",explanation:"In the division $7 = 2 \\times 3 + 1$, we have 7 divided by 3. The quotient is 2 (the multiplier of 3) and the remainder is 1."},{id:2,type:"multiple-choice",question:"What does it mean for $b$ to divide $a$?",options:["$a$ is larger than $b$","There exists a natural number $q$ such that $a = qb$","$a$ and $b$ are both prime","The remainder when $a$ is divided by $b$ is 1"],correctIndex:1,difficulty:"easy",explanation:"We say $b$ divides $a$ if there is a natural number $q$ such that $a = qb$. This means the division has no remainder."},{id:3,type:"multiple-choice",question:"Which of the following is the definition of a prime number?",options:["A number greater than 10","A number divisible only by 1 and itself (and greater than 1)","An odd number","A number with exactly 3 divisors"],correctIndex:1,difficulty:"easy",explanation:'A prime number $p > 1$ is a natural number divisible only by 1 and $p$. Primes are the "atoms" of multiplication because they cannot be factored further.'},{id:4,type:"multiple-choice",question:"Why is 1 not considered a prime number?",options:["Because 1 is too small","Because 1 is even","Because factors of 1 are redundant in factorizations","Because 1 has no divisors"],correctIndex:2,difficulty:"medium",explanation:"The number 1 is not considered prime because factors of 1 are redundant. Including 1 as a prime would make factorizations non-unique (e.g., $6 = 2 \\times 3 = 1 \\times 2 \\times 3$)."},{id:5,type:"multiple-choice",question:"If $m = 2\\ell + 1$ (m is odd), what form does $m^2$ take?",options:["$m^2 = 2k$ for some $k$ (even)","$m^2 = 2k + 1$ for some $k$ (odd)","$m^2 = 4k$ for some $k$","$m^2 = 3k$ for some $k$"],correctIndex:1,difficulty:"medium",explanation:"If $m = 2\\ell + 1$, then $m^2 = (2\\ell + 1)^2 = 4\\ell^2 + 4\\ell + 1 = 2(2\\ell^2 + 2\\ell) + 1$, which is odd."},{id:6,type:"multiple-choice",question:"What is a Mersenne prime?",options:["A prime of the form $n^2 + 1$","A prime of the form $2^p - 1$ where $p$ is prime","A prime of the form $2^{2^n} + 1$","Any prime greater than 100"],correctIndex:1,difficulty:"medium",explanation:"A Mersenne prime is a prime of the form $2^p - 1$. For $2^p - 1$ to be prime, $p$ itself must be prime (though not all such values give primes)."},{id:7,type:"numeric",question:"What is $2^5 - 1$? (This is the Mersenne number for $p = 5$.)",correctAnswer:31,numericRange:{min:0,max:100,precision:0},difficulty:"easy",explanation:"$2^5 - 1 = 32 - 1 = 31$. Since 31 has no divisors other than 1 and 31, it is indeed a Mersenne prime."},{id:8,type:"multiple-choice",question:"Which statement about $2^{11} - 1 = 2047$ is correct?",options:["It is prime because 11 is prime","It is not prime; $2047 = 23 \\times 89$","It is not prime; $2047 = 7 \\times 293$","It equals 2048"],correctIndex:1,difficulty:"hard",explanation:"Even though 11 is prime, $2^{11} - 1 = 2047 = 23 \\times 89$ is not prime. Being of the form $2^p - 1$ with $p$ prime is necessary but not sufficient for primality."}],PQ=[{id:1,type:"multiple-choice",question:"What does Euclid's theorem state about prime numbers?",options:["There are exactly 100 prime numbers","There are infinitely many primes","All primes are odd","The largest prime is less than $10^{100}$"],correctIndex:1,difficulty:"easy",explanation:"Euclid's theorem, proven over 2000 years ago, states that there are infinitely many primes. The proof shows that any finite list of primes can always be extended."},{id:2,type:"multiple-choice",question:"In Euclid's proof, why is $n = p_1 p_2 \\cdots p_k + 1$ important?",options:["It is always prime","It has a prime divisor not in the list $p_1, \\ldots, p_k$","It equals $p_{k+1}$","It is always even"],correctIndex:1,difficulty:"medium",explanation:"The number $n = p_1 p_2 \\cdots p_k + 1$ leaves remainder 1 when divided by any of the primes $p_1, \\ldots, p_k$. But $n$ must have some prime divisor (by infinite descent), and this prime must be different from all the $p_i$."},{id:3,type:"multiple-choice",question:"Which statement about $n = 2 \\times 3 \\times 5 \\times 7 + 1 = 211$ is correct?",options:["$n$ must be composite because it is large","$n$ is guaranteed to be prime by Euclid's construction","$n$ has a prime divisor different from 2, 3, 5, and 7 (which could be $n$ itself)","$n$ must be divisible by 11"],correctIndex:2,difficulty:"medium",explanation:"Euclid's construction guarantees that $n$ has a prime divisor not in the original list. In this case, $211$ is actually prime, but the construction doesn't guarantee primality  only that any prime divisor is new."},{id:4,type:"numeric",question:"Calculate $2 \\times 3 \\times 7 + 1$. (This is the fourth step in Euclid's construction starting with $p_1 = 2$.)",correctAnswer:43,numericRange:{min:0,max:100,precision:0},difficulty:"easy",explanation:"$2 \\times 3 \\times 7 + 1 = 42 + 1 = 43$. This is prime, so it becomes $p_4$ in our sequence."},{id:5,type:"multiple-choice",question:"What are the two types of odd primes based on division by 4?",options:["$4n$ and $4n + 2$","$4n + 1$ and $4n + 3$","$2n$ and $2n + 1$","$4n + 1$ and $4n + 2$"],correctIndex:1,difficulty:"easy",explanation:"Any odd number is either of the form $4n + 1$ or $4n + 3$. (Forms $4n$ and $4n + 2$ are even.) So odd primes split into these two types."},{id:6,type:"multiple-choice",question:"What is the product $(4a + 1)(4b + 1)$ in terms of its form?",options:["$4n$ (a multiple of 4)","$4n + 1$","$4n + 2$","$4n + 3$"],correctIndex:1,difficulty:"medium",explanation:"$(4a + 1)(4b + 1) = 16ab + 4a + 4b + 1 = 4(4ab + a + b) + 1$, which is of the form $4n + 1$."},{id:7,type:"multiple-choice",question:"What does Dirichlet's theorem (1837) say about primes in arithmetic progressions?",options:["There are no primes in any arithmetic progression","Every arithmetic progression $an + b$ with $\\gcd(a,b) = 1$ contains infinitely many primes","Only progressions with $a = 1$ contain primes","There are exactly 10 primes in any arithmetic progression"],correctIndex:1,difficulty:"hard",explanation:"Dirichlet proved that any arithmetic progression $an + b$ where $a$ and $b$ have no common divisor contains infinitely many primes. This is much harder to prove than Euclid's theorem."},{id:8,type:"multiple-choice",question:"Why are there no primes of the form $6n + 3$ (except for 3 itself)?",options:["Because $6n + 3 = 3(2n + 1)$, so 3 divides any such number","Because all such numbers are even","Because Dirichlet's theorem excludes them","Because they are all perfect squares"],correctIndex:0,difficulty:"medium",explanation:"$6n + 3 = 3(2n + 1)$, which means 3 divides every number of this form. So none of them can be prime (except 3 itself when $n = 0$). This is why Dirichlet's theorem requires $\\gcd(a,b) = 1$."}],$Q=[{id:1,type:"multiple-choice",question:"Why do mathematicians extend $\\mathbb{N}$ to $\\mathbb{Z}$?",options:["To make counting easier","To make subtraction always possible","To make multiplication faster","To eliminate fractions"],correctIndex:1,difficulty:"easy",explanation:"The natural numbers $\\mathbb{N}$ don't permit unlimited subtraction (we can't take 7 from 3). By adding 0 and negative integers, we get $\\mathbb{Z}$ where any subtraction is possible."},{id:2,type:"multiple-choice",question:"What is the additive inverse of $-5$?",options:["$-5$","$0$","$5$","$1/5$"],correctIndex:2,difficulty:"easy",explanation:"The additive inverse of $a$ is the number $b$ such that $a + b = 0$. Since $(-5) + 5 = 0$, the additive inverse of $-5$ is $5$. In general, $-(-a) = a$."},{id:3,type:"multiple-choice",question:"Which property states that $a + (b + c) = (a + b) + c$?",options:["Commutative law","Distributive law","Associative law","Identity property"],correctIndex:2,difficulty:"easy",explanation:"The associative law says that the grouping of terms doesn't matter: $a + (b + c) = (a + b) + c$. This is different from the commutative law ($a + b = b + a$), which says the order doesn't matter."},{id:4,type:"multiple-choice",question:"What does the distributive law state?",options:["$a + b = b + a$","$a \\times 1 = a$","$a \\times (b + c) = a \\times b + a \\times c$","$a + 0 = a$"],correctIndex:2,difficulty:"medium",explanation:`The distributive law connects multiplication and addition: $a \\times (b + c) = a \\times b + a \\times c$. It's the key property that lets us "distribute" multiplication over addition.`},{id:5,type:"multiple-choice",question:"Why does $(-1) \\times (-1) = 1$?",options:["By definition of negative numbers","Because $a \\times (-1) = -a$, so $(-1) \\times (-1) = -(-1) = 1$","Because multiplication is commutative","Because $-1 + (-1) = -2$"],correctIndex:1,difficulty:"medium",explanation:"Using the ring properties, we can prove that $a \\times (-1) = -a$ for any $a$. Therefore $(-1) \\times (-1) = -(-1) = 1$, since the additive inverse of $-1$ is $1$."},{id:6,type:"multiple-choice",question:"What is the multiplicative inverse of $3$?",options:["$-3$","$0$","$1/3$","$3$"],correctIndex:2,difficulty:"easy",explanation:"The multiplicative inverse of $a$ (written $a^{-1}$) is the number such that $a \\times a^{-1} = 1$. Since $3 \\times (1/3) = 1$, the multiplicative inverse of $3$ is $1/3$."},{id:7,type:"multiple-choice",question:"What is the difference between a ring and a field?",options:["A field has addition, a ring doesn't","A ring has the commutative law, a field doesn't","A field has multiplicative inverses for all nonzero elements, a ring doesn't necessarily","There is no difference"],correctIndex:2,difficulty:"medium",explanation:"Both rings and fields satisfy the ring properties (associative, commutative, distributive laws, etc.). A field additionally requires that every nonzero element has a multiplicative inverse. $\\mathbb{Z}$ is a ring but not a field; $\\mathbb{Q}$ is a field."},{id:8,type:"multiple-choice",question:"Calculate $\\frac{2}{3} + \\frac{1}{4}$ using the formula $\\frac{a}{b} + \\frac{c}{d} = \\frac{ad + bc}{bd}$.",options:["$\\frac{3}{7}$","$\\frac{11}{12}$","$\\frac{8}{12}$","$\\frac{5}{7}$"],correctIndex:1,difficulty:"medium",explanation:"Using the formula: $\\frac{2}{3} + \\frac{1}{4} = \\frac{2 \\cdot 4 + 1 \\cdot 3}{3 \\cdot 4} = \\frac{8 + 3}{12} = \\frac{11}{12}$."}],BQ=[{id:1,type:"multiple-choice",question:"Why does $15x + 12y = 4$ have no integer solution?",options:["Because 15 and 12 are too large","Because $\\gcd(15, 12) = 3$ does not divide 4","Because 4 is even","Because there are two unknowns"],correctIndex:1,difficulty:"easy",explanation:"Any common divisor of 15 and 12 must also divide $15x + 12y$ for any integers $x, y$. Since $\\gcd(15, 12) = 3$ and 3 does not divide 4, no integer solution exists."},{id:2,type:"multiple-choice",question:"When does $ax + by = c$ have an integer solution?",options:["Always","Only when $a = b$","If and only if $\\gcd(a, b)$ divides $c$","Only when $c = 0$"],correctIndex:2,difficulty:"medium",explanation:"The equation $ax + by = c$ has an integer solution if and only if $\\gcd(a, b)$ divides $c$. This is because $\\gcd(a, b)$ can be expressed as $ax + by$ for some integers $x, y$."},{id:3,type:"multiple-choice",question:"What does the Euclidean algorithm compute?",options:["The product of two numbers","The greatest common divisor of two numbers","The least common multiple of two numbers","The prime factorization of a number"],correctIndex:1,difficulty:"easy",explanation:"The Euclidean algorithm computes $\\gcd(a, b)$ by repeatedly subtracting the smaller number from the larger until both numbers are equal."},{id:4,type:"numeric",question:"What is $\\gcd(17, 12)$?",correctAnswer:1,numericRange:{min:1,max:20,precision:0},difficulty:"easy",explanation:"Since 17 is prime and does not divide 12, the only common divisor of 17 and 12 is 1. Therefore $\\gcd(17, 12) = 1$."},{id:5,type:"multiple-choice",question:"In the Euclidean algorithm, what operation is repeated?",options:["Multiplying the two numbers","Adding the two numbers","Subtracting the smaller from the larger","Dividing both numbers by 2"],correctIndex:2,difficulty:"easy",explanation:"The Euclidean algorithm repeatedly subtracts the smaller number from the larger, keeping the smaller, until both numbers are equal. That final value is the gcd."},{id:6,type:"multiple-choice",question:"Why does the Euclidean algorithm terminate?",options:["Because the numbers always become prime","Because we cannot descend through natural numbers indefinitely (infinite descent)","Because we always reach 0","Because there are only finitely many primes"],correctIndex:1,difficulty:"medium",explanation:"Each step produces a smaller positive number (or keeps a number the same). Since we cannot descend through natural numbers indefinitely, the algorithm must terminate."},{id:7,type:"multiple-choice",question:"If $\\gcd(a, b) = d$, which statement is true?",options:["$d = a + b$","$d$ can be written as $ax + by$ for some integers $x, y$","$d$ is always prime","$d$ divides neither $a$ nor $b$"],correctIndex:1,difficulty:"medium",explanation:"A key result of the Euclidean algorithm is that $\\gcd(a, b)$ can always be expressed as a linear combination $ax + by$ for some integers $x$ and $y$. This is called the linear representation of the gcd."},{id:8,type:"multiple-choice",question:"Given that $17 \\times 5 + 12 \\times (-7) = 1$, find a solution to $17x + 12y = 3$.",options:["$x = 5, y = -7$","$x = 15, y = -21$","$x = 3, y = 3$","$x = 1, y = 1$"],correctIndex:1,difficulty:"hard",explanation:"Since $17(5) + 12(-7) = 1$, multiply both sides by 3: $17(15) + 12(-21) = 3$. So $x = 15, y = -21$ is a solution."}],LQ=[{id:1,type:"multiple-choice",question:"What does the prime divisor property state?",options:["Every number has a prime divisor","If a prime $p$ divides $ab$, then $p$ divides $a$ or $p$ divides $b$","Every prime divides every product","Primes only divide odd numbers"],correctIndex:1,difficulty:"easy",explanation:"The prime divisor property says: if a prime $p$ divides the product $ab$, then $p$ must divide at least one of $a$ or $b$. This is a key property that makes primes special."},{id:2,type:"multiple-choice",question:"What is another name for the unique prime factorization theorem?",options:["The Prime Number Theorem","Fermat's Last Theorem","The Fundamental Theorem of Arithmetic","The Euclidean Algorithm"],correctIndex:2,difficulty:"easy",explanation:"Unique prime factorization is also called the Fundamental Theorem of Arithmetic because it is the foundation of number theory  every natural number factors into primes in exactly one way."},{id:3,type:"multiple-choice",question:"In the proof of the prime divisor property, what key fact is used?",options:["That all primes are odd","That $\\gcd(a, p) = ax + py$ when $p$ doesn't divide $a$","That $p$ is always larger than $a$","That $ab$ is always even"],correctIndex:1,difficulty:"medium",explanation:"When $p$ is prime and doesn't divide $a$, we have $\\gcd(a, p) = 1$. By the linear representation of gcd, $1 = ax + py$ for some integers $x, y$. Multiplying by $b$ gives the result."},{id:4,type:"multiple-choice",question:"What is the prime factorization of 60?",options:["$2 \\times 30$","$4 \\times 15$","$2^2 \\times 3 \\times 5$","$6 \\times 10$"],correctIndex:2,difficulty:"easy",explanation:"$60 = 2 \\times 30 = 2 \\times 2 \\times 15 = 2 \\times 2 \\times 3 \\times 5 = 2^2 \\times 3 \\times 5$. This is the unique prime factorization (the other options contain composite factors)."},{id:5,type:"multiple-choice",question:"If $p_1 p_2 \\cdots p_s = q_1 q_2 \\cdots q_t$ are two prime factorizations of the same number, what can we conclude?",options:["The factorizations must be completely different","We must have $s \\neq t$","The primes $p_i$ and $q_j$ are the same (up to reordering)","One factorization uses only 2s"],correctIndex:2,difficulty:"medium",explanation:"By unique prime factorization, both sides must have the same primes with the same multiplicities. The only difference can be the order in which we write them."},{id:6,type:"multiple-choice",question:"How does unique prime factorization help prove $\\sqrt{2}$ is irrational?",options:["It shows 2 is prime","It shows that in $m^2 = 2n^2$, the prime 2 appears an odd number of times on one side","It shows all square roots are irrational","It has nothing to do with irrationality"],correctIndex:1,difficulty:"hard",explanation:"In $m^2$, every prime appears an even number of times. In $2n^2$, the prime 2 appears an odd number of times (the evens from $n^2$ plus one more). This contradicts unique factorization, so no such $m, n$ exist."},{id:7,type:"multiple-choice",question:"Which of the following is irrational by the unique prime factorization argument?",options:["$\\sqrt{4}$","$\\sqrt{9}$","$\\sqrt{6}$","$\\sqrt{25}$"],correctIndex:2,difficulty:"medium",explanation:"$\\sqrt{4} = 2$, $\\sqrt{9} = 3$, and $\\sqrt{25} = 5$ are all rational (perfect squares). But $6 = 2 \\times 3$ is not a perfect square, so $\\sqrt{6}$ is irrational."},{id:8,type:"multiple-choice",question:'Why is unique prime factorization called "fundamental"?',options:["Because it was the first theorem ever proved","Because it is very easy to prove","Because it is the foundation upon which number theory is built","Because it only applies to fundamental particles"],correctIndex:2,difficulty:"easy",explanation:"Unique prime factorization is called the Fundamental Theorem of Arithmetic because it establishes that primes are the basic building blocks of all natural numbers  the foundation of number theory."}],UQ=[{id:1,type:"multiple-choice",question:"How many divisors does $30 = 2 \\times 3 \\times 5$ have?",options:["3","6","8","30"],correctIndex:2,difficulty:"easy",explanation:"For $30 = 2^1 \\times 3^1 \\times 5^1$, the number of divisors is $(1+1)(1+1)(1+1) = 2 \\times 2 \\times 2 = 8$. They are: 1, 2, 3, 5, 6, 10, 15, 30."},{id:2,type:"multiple-choice",question:"If $n = p_1^{e_1} p_2^{e_2} \\cdots p_k^{e_k}$, how many divisors does $n$ have?",options:["$e_1 + e_2 + \\cdots + e_k$","$e_1 \\times e_2 \\times \\cdots \\times e_k$","$(e_1 + 1)(e_2 + 1) \\cdots (e_k + 1)$","$p_1 + p_2 + \\cdots + p_k$"],correctIndex:2,difficulty:"medium",explanation:"Each divisor is $p_1^{d_1} \\cdots p_k^{d_k}$ where $0 \\leq d_i \\leq e_i$. There are $e_i + 1$ choices for each $d_i$, giving $(e_1+1)(e_2+1)\\cdots(e_k+1)$ total divisors."},{id:3,type:"numeric",question:"How many divisors does $72 = 2^3 \\times 3^2$ have?",correctAnswer:12,numericRange:{min:1,max:100,precision:0},difficulty:"medium",explanation:"Number of divisors = $(3+1)(2+1) = 4 \\times 3 = 12$."},{id:4,type:"multiple-choice",question:"To find $\\gcd(m, n)$ using prime factorizations, we take:",options:["The maximum exponent of each prime","The minimum exponent of each prime","The sum of all exponents","The product of all primes"],correctIndex:1,difficulty:"easy",explanation:"The gcd is found by taking the minimum exponent of each prime that appears in both factorizations. This gives the largest number that divides both $m$ and $n$."},{id:5,type:"multiple-choice",question:"What is $\\gcd(12, 18)$ if $12 = 2^2 \\times 3$ and $18 = 2 \\times 3^2$?",options:["2","3","6","36"],correctIndex:2,difficulty:"medium",explanation:"$\\gcd(12, 18) = 2^{\\min(2,1)} \\times 3^{\\min(1,2)} = 2^1 \\times 3^1 = 6$."},{id:6,type:"multiple-choice",question:"What elegant formula relates gcd, lcm, and the product $mn$?",options:["$\\gcd(m,n) + \\text{lcm}(m,n) = mn$","$\\gcd(m,n) \\times \\text{lcm}(m,n) = mn$","$\\gcd(m,n) \\times \\text{lcm}(m,n) = m + n$","$\\gcd(m,n) = \\text{lcm}(m,n)$"],correctIndex:1,difficulty:"medium",explanation:"$\\gcd(m,n) \\times \\text{lcm}(m,n) = mn$. This allows computing lcm without factorization: find gcd by Euclidean algorithm, then divide into $mn$."},{id:7,type:"multiple-choice",question:"A perfect number is one that:",options:["Is divisible by all primes","Equals the sum of its proper divisors","Has exactly two divisors","Is both a square and a cube"],correctIndex:1,difficulty:"easy",explanation:"A perfect number equals the sum of its proper divisors (all divisors except itself). For example, $6 = 1 + 2 + 3$ and $28 = 1 + 2 + 4 + 7 + 14$."},{id:8,type:"multiple-choice",question:"According to Euclid, $2^{n-1}(2^n - 1)$ is perfect when:",options:["$n$ is any natural number","$n$ is even","$2^n - 1$ is prime (a Mersenne prime)","$n$ is a perfect square"],correctIndex:2,difficulty:"hard",explanation:"Euclid proved that if $p = 2^n - 1$ is prime, then $2^{n-1}p$ is perfect. For example, $n=2$ gives $p=3$, and $2^1 \\times 3 = 6$ is perfect."}],FQ=[{id:1,type:"multiple-choice",question:"What does the principle of descent (downward induction) state?",options:["Every natural number can be reached by counting from 1","Any descending sequence of natural numbers has a least member","The sum of natural numbers is always finite","Every natural number has a successor"],correctIndex:1,difficulty:"easy",explanation:"Descent says that any descending sequence of natural numbers must eventually stopit has a least member. This is because you cannot go down forever starting from a natural number."},{id:2,type:"multiple-choice",question:"What are the two steps required in a proof by (ascent) induction?",options:["Existence step and uniqueness step","Base step and induction step","Forward step and backward step","Initial step and final step"],correctIndex:1,difficulty:"easy",explanation:"Proof by induction requires: (1) a base step showing S(1) is true, and (2) an induction step showing S(i) implies S(i+1). Together, these prove S(n) for all natural numbers."},{id:3,type:"multiple-choice",question:"Which of the following results was proved using descent?",options:["The formula for the sum of first n natural numbers","The geometric series formula","Unique prime factorization","The sum of cubes formula"],correctIndex:2,difficulty:"medium",explanation:"Unique prime factorization is proved by descent: if a counterexample exists, there is a least one. The sum formulas are typically proved by ascent (upward) induction."},{id:4,type:"multiple-choice",question:"What is $1 + 2 + 3 + \\cdots + n$ equal to?",options:["$n^2$","$\\frac{n(n+1)}{2}$","$\\frac{n(n-1)}{2}$","$2^n - 1$"],correctIndex:1,difficulty:"easy",explanation:"The sum of the first n natural numbers is $\\frac{n(n+1)}{2}$. This can be proved by induction or discovered using Gauss's trick of pairing terms."},{id:5,type:"numeric",question:"What is $1 + 2 + 3 + \\cdots + 10$?",correctAnswer:55,numericRange:{min:1,max:100,precision:0},difficulty:"easy",explanation:"Using the formula: $\\frac{10(11)}{2} = \\frac{110}{2} = 55$. Or pair: (1+10)+(2+9)+...+(5+6) = 511 = 55."},{id:6,type:"multiple-choice",question:"In the induction step, we assume $S(i)$ is true and prove:",options:["$S(1)$ is true","$S(i-1)$ is true","$S(i+1)$ is true","$S(n)$ is true for all n"],correctIndex:2,difficulty:"easy",explanation:'The induction step assumes S(i) is true (the "induction hypothesis") and uses this to prove S(i+1) is true. Combined with the base step, this proves S(n) for all n.'},{id:7,type:"multiple-choice",question:"What is the formula for the geometric series $1 + r + r^2 + \\cdots + r^n$?",options:["$\\frac{r^n - 1}{r - 1}$","$\\frac{1 - r^{n+1}}{1 - r}$","$\\frac{r^{n+1}}{1 + r}$","$nr$"],correctIndex:1,difficulty:"medium",explanation:"The geometric series $1 + r + r^2 + \\cdots + r^n = \\frac{1 - r^{n+1}}{1 - r}$. This can be proved by induction or derived by multiplying both sides by $(1-r)$."},{id:8,type:"multiple-choice",question:"Why is the sum of cubes formula $1^3 + 2^3 + \\cdots + n^3 = (1 + 2 + \\cdots + n)^2$ remarkable?",options:["It was discovered by Euclid","It connects the sum of cubes to the square of the sum","It only works for prime n","It requires calculus to prove"],correctIndex:1,difficulty:"medium",explanation:"The remarkable fact is that $1^3 + 2^3 + \\cdots + n^3 = \\left(\\frac{n(n+1)}{2}\\right)^2 = (1 + 2 + \\cdots + n)^2$. The sum of cubes equals the square of the sum!"}],HQ=[{id:1,type:"multiple-choice",question:"Who discovered that addition and multiplication can be defined inductively?",options:["Euclid","Gauss","Grassmann","Von Neumann"],correctIndex:2,difficulty:"easy",explanation:"Hermann Grassmann (1861) made the breakthrough by noticing that induction can be used not only for proofs but also for definitions."},{id:2,type:"multiple-choice",question:"In Grassmann's inductive definition, $m + (i + 1)$ is defined as:",options:["$m + i$","$(m + i) + 1$","$m \\times (i + 1)$","$(m + 1) + i$"],correctIndex:1,difficulty:"medium",explanation:"The inductive definition says $m + (i + 1) = (m + i) + 1$. This defines addition for $n = i+1$ in terms of addition for $n = i$."},{id:3,type:"multiple-choice",question:"According to Dedekind, which property must the successor function have?",options:["It must be defined on a finite set","It must be onto the whole set","It must be one-to-one","It must have a fixed point"],correctIndex:2,difficulty:"medium",explanation:"The successor function must be one-to-one (unequal numbers have unequal successors), defined on an infinite set, and NOT onto (1 is not a successor)."},{id:4,type:"multiple-choice",question:"In von Neumann's definition, what is the number 2?",options:["The empty set","$\\{0\\}$","$\\{0, 1\\}$","$\\{1, 2\\}$"],correctIndex:2,difficulty:"easy",explanation:"Von Neumann defines each natural number as the set of its predecessors. So $0 = \\{\\}$, $1 = \\{0\\}$, $2 = \\{0, 1\\}$, etc."},{id:5,type:"multiple-choice",question:"Why is von Neumann's definition considered elegant?",options:["It requires calculus","It uses only prime numbers","Ordering is captured by set membership: $m < n \\Leftrightarrow m \\in n$","It avoids the use of sets"],correctIndex:2,difficulty:"medium",explanation:"The elegance lies in reducing ordering to membership: $m < n$ if and only if $m$ is a member of $n$. Everything is built from the empty set."},{id:6,type:"multiple-choice",question:"The axiom of infinity asserts:",options:["All numbers are finite","There exists an infinite set","Induction always works","Every set has a successor"],correctIndex:1,difficulty:"easy",explanation:"The axiom of infinity states that there exists a set $\\Omega$ containing the empty set and closed under the successor operationthus an infinite set exists."},{id:7,type:"multiple-choice",question:"What crucial insight did Grassmann have about induction?",options:["It can only be used for sums","It fails for multiplication","It can be used for definitions, not just proofs","It requires the axiom of infinity"],correctIndex:2,difficulty:"medium",explanation:"Grassmann's breakthrough was realizing that induction can serve as a method of definition, not just proof. This allowed defining + and  inductively."},{id:8,type:"multiple-choice",question:"What can be derived from the inductive definitions of + and ?",options:["Only the commutative law","All ring properties of $\\mathbb{Z}$","The prime number theorem","The fundamental theorem of calculus"],correctIndex:1,difficulty:"hard",explanation:"From the inductive definitions, Grassmann proved all ring properties: associativity, commutativity, and distributivity. Thus arithmetic is entirely based on induction!"}],GQ=[{id:1,type:"multiple-choice",question:"In how many different cultures was the Euclidean algorithm independently discovered?",options:["One (Greece only)","Two (Greece and India)","Three (Greece, India, and China)","Four (Greece, India, China, and Arabia)"],correctIndex:2,difficulty:"easy",explanation:"The Euclidean algorithm was discovered independently in ancient Greece (Euclid), India (Aryabhata, Bhaskara I around 500 AD), and China, for different mathematical purposes."},{id:2,type:"multiple-choice",question:"What did Indian mathematicians discover about the gcd?",options:["That it always equals 1","The linear representation $\\gcd(a,b) = ma + nb$","That it divides all primes","The prime factorization method"],correctIndex:1,difficulty:"medium",explanation:"Indian mathematicians (Aryabhata and Bhaskara I) discovered the linear representation $\\gcd(a,b) = ma + nb$, which was important for solving equations $ax + by = c$."},{id:3,type:"multiple-choice",question:'Who first precisely formulated the "base step, induction step" format?',options:["Euclid","Fermat","Pascal","Gauss"],correctIndex:2,difficulty:"medium",explanation:`Blaise Pascal (1654) first clearly used the "base step, induction step" format to prove properties of Pascal's triangle.`},{id:4,type:"multiple-choice",question:"What did Fermat's method of infinite descent prove?",options:["The infinity of primes","There are no natural numbers with $a^4 + b^4 = c^2$","The Pythagorean theorem","Every number has a prime factorization"],correctIndex:1,difficulty:"hard",explanation:"Fermat's most famous descent proof showed that there are no natural numbers $a, b, c$ with $a^4 + b^4 = c^2$."},{id:5,type:"multiple-choice",question:"Why was descent preferred over ascent historically?",options:["It was discovered later","It requires no base step and occurs more naturally","It was endorsed by Gauss","It works only for primes"],correctIndex:1,difficulty:"medium",explanation:"Descent is simpler because no base step is needed, and it seems to occur more naturally at lower levels of mathematics. Examples date from Euclid (~300 BC)."},{id:6,type:"numeric",question:"In what year did Pascal first formulate induction precisely?",correctAnswer:1654,numericRange:{min:1600,max:1700,precision:0},difficulty:"easy",explanation:`Pascal formulated the "base step, induction step" format in 1654 while studying Pascal's triangle.`},{id:7,type:"multiple-choice",question:"Grassmann and Dedekind's work on inductive definitions ultimately led to:",options:["The discovery of calculus","Proof of the Riemann hypothesis","Recursive function theory and computer science","The theory of relativity"],correctIndex:2,difficulty:"medium",explanation:"Their method of definition by induction led to the theory of recursive functions, which is fundamental to computer programming and computer science."},{id:8,type:"multiple-choice",question:"What happened to Grassmann's revolutionary textbook (1861)?",options:["It became immediately famous","Gauss praised it publicly","It fell into obscurityhe was ahead of his time","It was translated into all major languages"],correctIndex:2,difficulty:"easy",explanation:"Sadly, Grassmann was a generation ahead of his time. His work fell into obscurity so fast that even like-minded mathematicians of the 1880s were unaware of it."}],VQ=[{id:1,type:"multiple-choice",question:"How does geometry contrast with arithmetic?",options:["Both are discrete and computational","Geometry is continuous and visual; arithmetic is discrete and logical","Arithmetic is continuous; geometry is discrete","They have no relationship to each other"],correctIndex:1,difficulty:"easy",explanation:"Geometry is continuous, fluid, dynamic, and visual, while arithmetic is discrete, static, computational, and logical. They are complementary."},{id:2,type:"multiple-choice",question:"The Pythagorean theorem states that:",options:["$a + b = c$","$a^2 + b^2 = c^2$ where $c$ is the hypotenuse","$a \\times b = c^2$","The sum of angles in a triangle is 180"],correctIndex:1,difficulty:"easy",explanation:"The Pythagorean theorem states that in a right triangle, the square on the hypotenuse equals the sum of squares on the other two sides: $a^2 + b^2 = c^2$."},{id:3,type:"multiple-choice",question:"Who gave a beautiful visual proof of the Pythagorean theorem in the 12th century?",options:["Euclid","Pythagoras","Bhaskara II","Descartes"],correctIndex:2,difficulty:"medium",explanation:"Bhaskara II, an Indian mathematician of the 12th century, gave a very immediate visual proof of the Pythagorean theorem."},{id:4,type:"multiple-choice",question:"What is the main weakness of synthetic geometry?",options:["It requires calculus","It fails to explain the similarity between geometry and arithmetic","It was invented too recently","It cannot prove the Pythagorean theorem"],correctIndex:1,difficulty:"medium",explanation:"Synthetic geometry is self-contained and close to intuition, but it fails to explain why geometric quantities (like numbers) can be added, subtracted, and multiplied."},{id:5,type:"multiple-choice",question:"Who initiated analytic geometry?",options:["Euclid (300 BC)","Thales (6th century BC)","Ren Descartes (1637)","David Hilbert (1899)"],correctIndex:2,difficulty:"easy",explanation:"Analytic geometry was initiated by Ren Descartes in his Geometry (1637). It uses coordinates and algebra to study geometric objects."},{id:6,type:"multiple-choice",question:"According to legend, who proved that any right-angled triangle fits in a semicircle?",options:["Pythagoras","Thales","Euclid","Gauss"],correctIndex:1,difficulty:"medium",explanation:"According to legend, Thales in the 6th century BC proved that any right-angled triangle fits in a semicircle, with the hypotenuse as diameter."},{id:7,type:"multiple-choice",question:'Why is geometric intuition described as both a "blessing and a curse"?',options:["It is easy to learn but hard to master","It gives direct access to results, but they must still be validated by logic","It works in 2D but not 3D","It was useful in ancient times but not today"],correctIndex:1,difficulty:"medium",explanation:"Intuition gives amazingly direct access to mathematical results, but we cannot be satisfied until they have been validated by logicintuition alone is not proof."},{id:8,type:"multiple-choice",question:"What new mathematical world does analytic geometry open?",options:["Set theory and logic","Algebra and calculus","Number theory only","Topology and manifolds"],correctIndex:1,difficulty:"easy",explanation:"Analytic geometry enriches both arithmetic and geometry with new concepts, opening the whole new mathematical world of algebra and calculus."}],WQ=[{id:1,type:"multiple-choice",question:"What are the two basic tools of Euclidean geometry?",options:["Protractor and ruler","Ruler and compass","Compass and calculator","Ruler and set square"],correctIndex:1,difficulty:"easy",explanation:"Euclidean geometry uses the ruler (for drawing straight lines) and the compass (for drawing circles) as its two basic construction tools."},{id:2,type:"multiple-choice",question:"What is Euclid's first proposition in the Elements?",options:["The Pythagorean theorem","Construction of an equilateral triangle","The parallel postulate","Bisecting an angle"],correctIndex:1,difficulty:"easy",explanation:"Euclid's first proposition shows how to construct an equilateral triangle with a given side, using two intersecting circles."},{id:3,type:"multiple-choice",question:"How do you construct a perpendicular to a line through an external point $O$?",options:["Use a protractor","Draw a circle centered at $O$ that cuts the line at two points, then bisect the angle","It is impossible with ruler and compass","Draw parallel lines"],correctIndex:1,difficulty:"medium",explanation:"Draw a circle centered at O large enough to cut the line at points A and B. The bisector of angle AOB is the required perpendicular."},{id:4,type:"multiple-choice",question:"What year did Gauss discover how to construct the regular 17-gon?",options:["1637","1796","1837","1899"],correctIndex:1,difficulty:"medium",explanation:"Gauss discovered the construction of the regular 17-gon in 1796, leading to a complete algebraic theory of constructibility."},{id:5,type:"multiple-choice",question:"The regular $n$-gon is constructible if and only if $n$ is:",options:["Any prime number","A power of 2","A product of a power of 2 and distinct Fermat primes","Any odd number"],correctIndex:2,difficulty:"hard",explanation:"The Gauss-Wantzel theorem states that the regular n-gon is constructible iff n is a product of a power of 2 by distinct Fermat primes (primes of the form $2^{2^k} + 1$)."},{id:6,type:"multiple-choice",question:"To divide segment $AB$ into $n$ equal parts, you need to construct:",options:["Perpendicular lines","Parallel lines","Circles only","Nothingit cannot be done"],correctIndex:1,difficulty:"medium",explanation:"To divide AB into n equal parts, mark n equally spaced points on any line through A, join the last to B, then draw parallels through the others. These cut AB into n equal parts."},{id:7,type:"multiple-choice",question:"Who completed the algebraic theory of constructibility started by Gauss?",options:["Euclid","Descartes","Pierre Wantzel","Hilbert"],correctIndex:2,difficulty:"medium",explanation:"Pierre Wantzel completed the theory in 1837, proving which regular polygons can and cannot be constructed with ruler and compass."},{id:8,type:"multiple-choice",question:"Why can the regular 7-gon NOT be constructed with ruler and compass?",options:["It was simply never discovered",'7 is not of the form "power of 2 times distinct Fermat primes"',"The ancient Greeks forbade it","It requires a protractor"],correctIndex:1,difficulty:"hard",explanation:"The regular 7-gon is impossible because 7 is not a Fermat prime (it is not of the form $2^{2^k} + 1$) and cannot be expressed as required by the Gauss-Wantzel theorem."}],ZQ=[{id:1,type:"multiple-choice",question:"According to Playfair's axiom, how many lines through a point $P$ are parallel to a line $\\mathcal{L}$ (not containing $P$)?",options:["None","Exactly one","Exactly two","Infinitely many"],correctIndex:1,difficulty:"easy",explanation:"Playfair's axiom (1795) states that through any point not on a line, there is exactly one line parallel to it."},{id:2,type:"multiple-choice",question:"What is the sum of the interior angles of a triangle in Euclidean geometry?",options:["90 (one right angle)","180 (two right angles)","270 (three right angles)","360 (four right angles)"],correctIndex:1,difficulty:"easy",explanation:"In Euclidean geometry, the angle sum of any triangle is 180 (two right angles). This is a consequence of the parallel axiom."},{id:3,type:"multiple-choice",question:"Two lines cut by a transversal are parallel when their interior angles sum to:",options:["90","180","270","360"],correctIndex:1,difficulty:"medium",explanation:"When a transversal cuts two lines, they are parallel if and only if the interior angles on the same side sum to 180 (two right angles)."},{id:4,type:"multiple-choice",question:"Vertically opposite angles are:",options:["Always supplementary (sum to 180)","Always complementary (sum to 90)","Always equal","Always right angles"],correctIndex:2,difficulty:"easy",explanation:"When two lines cross, vertically opposite angles are always equal. Each angle plus its adjacent angle equals 180."},{id:5,type:"numeric",question:"What is the sum of the interior angles (in degrees) of a quadrilateral?",correctAnswer:360,numericRange:{min:0,max:720,precision:0},difficulty:"easy",explanation:"A quadrilateral can be divided into two triangles, so its angle sum is 2  180 = 360 (four right angles)."},{id:6,type:"multiple-choice",question:"Which statement is NOT equivalent to the parallel axiom?",options:["The angle sum of a triangle is 180","Rectangles of any size exist","Every number has a prime factorization","Exactly one parallel exists through any external point"],correctIndex:2,difficulty:"hard",explanation:"The prime factorization theorem is from arithmetic, not geometry. The other three are all equivalent formulations of the parallel axiom."},{id:7,type:"multiple-choice",question:"Why is the existence of rectangles important?",options:["It proves the Pythagorean theorem","It is the key to the concept of area and connecting geometry to arithmetic","It shows that all angles are equal","It disproves non-Euclidean geometry"],correctIndex:1,difficulty:"medium",explanation:"The existence of rectangles is key to the intuitive concept of area and to finding a common ground for geometry and arithmetic."},{id:8,type:"multiple-choice",question:"In a quadrilateral with all equal angles, each angle is:",options:["60","90 (a right angle)","120","180"],correctIndex:1,difficulty:"medium",explanation:"Since the angles sum to 360 and are all equal, each must be 360  4 = 90. This is why rectangles have right angles."}],YQ=[{id:1,type:"multiple-choice",question:"An isosceles triangle is one with:",options:["All sides different","Two equal sides","All sides equal","All angles equal to 60"],correctIndex:1,difficulty:"easy",explanation:'An isosceles triangle has two equal sides. The word comes from Greek meaning "equal legs."'},{id:2,type:"multiple-choice",question:"What property do the base angles of an isosceles triangle have?",options:["They are right angles","They are equal","They sum to 90","One is twice the other"],correctIndex:1,difficulty:"easy",explanation:"The base angles of an isosceles triangle (the angles opposite the equal sides) are equal to each other."},{id:3,type:"multiple-choice",question:"Who found the most elegant proof that the base angles of an isosceles triangle are equal?",options:["Euclid","Pythagoras","Pappus","Thales"],correctIndex:2,difficulty:"medium",explanation:"Pappus (around 300 AD) gave the elegant proof: flip the triangle over and it fills the same space, so the base angles must be equal."},{id:4,type:"multiple-choice",question:"The inscribed angle theorem states that an arc subtends at the center:",options:["The same angle as at the circumference","Half the angle at the circumference","Twice the angle at the circumference","A right angle"],correctIndex:2,difficulty:"medium",explanation:"The inscribed angle theorem states that an arc subtends twice the angle at the center as it does at the circumference."},{id:5,type:"multiple-choice",question:"According to Thales' theorem, an angle inscribed in a semicircle is:",options:["45","60","90","180"],correctIndex:2,difficulty:"easy",explanation:"When the arc is a semicircle (180 at center), the inscribed angle is half of that: 90 (a right angle). This is Thales' theorem."},{id:6,type:"multiple-choice",question:"Which is NOT a valid triangle congruence criterion?",options:["Side-Angle-Side (SAS)","Angle-Side-Angle (ASA)","Side-Side-Side (SSS)","Angle-Angle-Angle (AAA)"],correctIndex:3,difficulty:"medium",explanation:"AAA (three equal angles) does not guarantee congruencethe triangles could be similar but different sizes. SAS, ASA, and SSS are valid criteria."},{id:7,type:"multiple-choice",question:"A chord of a circle viewed from any point on the same arc appears:",options:["To have different sizes","To have the same size (same inscribed angle)","To be invisible","To be perpendicular to the radius"],correctIndex:1,difficulty:"medium",explanation:"Since the inscribed angle is half the central angle, and the central angle is constant for a given arc, the inscribed angle is constant. The chord looks the same size from any point on the arc."},{id:8,type:"multiple-choice",question:"The inscribed angle theorem relies on which property of isosceles triangles?",options:["The sides are all equal","The base angles are equal","The area is half base times height","The perimeter is finite"],correctIndex:1,difficulty:"hard",explanation:"The proof uses that radii are equal, making triangles isosceles. The equal base angles in these isosceles triangles lead to the angle relationship."}],XQ=[{id:1,type:"multiple-choice",question:"Area is measured by counting:",options:["Unit lengths","Unit squares","Unit cubes","Angles"],correctIndex:1,difficulty:"easy",explanation:"Just as length is measured by counting unit lengths, area is measured by counting unit squares (squares with sides of unit length)."},{id:2,type:"numeric",question:"What is the area of a rectangle with height 4 and width 7?",correctAnswer:28,numericRange:{min:0,max:100,precision:0},difficulty:"easy",explanation:"Area of a rectangle = height  width = 4  7 = 28 unit squares."},{id:3,type:"multiple-choice",question:"What problem did $\\sqrt{2}$ pose for the Greeks?",options:["They couldn't draw it","It was too large","It is irrational, so they didn't regard it as a number","It doesn't exist"],correctIndex:2,difficulty:"medium",explanation:"Since $\\sqrt{2}$ is irrational, Greeks didn't consider it a number. They kept a separate arithmetic of lengths and areas."},{id:4,type:"multiple-choice",question:"How did the Greeks define $\\sqrt{2}$?",options:["As 1.414...","As the diagonal of a unit square","As the side of a square of area 2","They didn't define it at all"],correctIndex:2,difficulty:"medium",explanation:'Greeks defined $\\sqrt{2}$ geometrically as the side of a square with area 2, avoiding the issue of whether it was a "number."'},{id:5,type:"multiple-choice",question:"The area of a parallelogram is:",options:["side  side","base  height","  base  height","base + height"],correctIndex:1,difficulty:"easy",explanation:"The area of a parallelogram equals base  height. This is shown by cutting a triangle from one end and pasting it to the other to form a rectangle."},{id:6,type:"multiple-choice",question:"The area of a triangle is:",options:["base  height","2  base  height","  base  height","(base + height) / 2"],correctIndex:2,difficulty:"easy",explanation:"The area of a triangle is   base  height. This follows because a triangle is half of a parallelogram."},{id:7,type:"multiple-choice",question:"How can we find the area of any polygon?",options:["Measure it with a ruler","Cut it into triangles and sum their areas","It's impossible for non-rectangles","Use only multiplication"],correctIndex:1,difficulty:"medium",explanation:"Any polygon can be cut into triangles. Since we know the formula for triangle area, we can compute any polygon's area."},{id:8,type:"multiple-choice",question:'The word "geometry" comes from the Greek for:',options:["Earth measurement (land measurement)","Number counting","Circle drawing","Line extending"],correctIndex:0,difficulty:"easy",explanation:'"Geometry" comes from Greek words meaning "earth/land measurement" (geo = earth, metry = measurement).'}],KQ=[{id:1,type:"multiple-choice",question:"Euclid's proof of the Pythagorean theorem uses:",options:["Only algebra","Triangle-parallelogram area relationships","Calculus","Prime factorization"],correctIndex:1,difficulty:"medium",explanation:"Euclid's proof uses the fact that a triangle has half the area of a parallelogram with the same base and height, combined with congruence."},{id:2,type:"multiple-choice",question:"The Pythagoreans discovered that:",options:["All numbers are rational","$\\sqrt{2}$ is rational","$\\sqrt{2}$ is irrational","The theorem is false"],correctIndex:2,difficulty:"easy",explanation:'The Pythagoreans discovered both the Pythagorean theorem and that $\\sqrt{2}$ is irrational, which conflicted with their belief that "all is number."'},{id:3,type:"multiple-choice",question:"The irrationality of $\\sqrt{2}$ led to:",options:["Abandonment of mathematics","Separation of arithmetic and geometry","Proof that the theorem is wrong","Discovery of calculus"],correctIndex:1,difficulty:"medium",explanation:'The Greeks responded by separating arithmetic from geometry and developing a "geometric algebra" for lengths and areas.'},{id:4,type:"multiple-choice",question:'In "geometric algebra," lengths are multiplied by:',options:["Converting to decimals","Forming rectangles with them as sides","Adding them repeatedly","Using prime factorization"],correctIndex:1,difficulty:"medium",explanation:'In geometric algebra, the "product" of two lengths is the area of the rectangle with those lengths as adjacent sides.'},{id:5,type:"multiple-choice",question:"Who initiated the reconciliation of arithmetic and geometry?",options:["Euclid and Pythagoras","Fermat and Descartes","Gauss and Hilbert","Newton and Leibniz"],correctIndex:1,difficulty:"medium",explanation:"Fermat and Descartes initiated analytic geometry in the 17th century, beginning the reconciliation of arithmetic and geometry."},{id:6,type:"multiple-choice",question:"Who completed the reconciliation by defining real numbers?",options:["Euclid","Gauss","Dedekind","Pythagoras"],correctIndex:2,difficulty:"medium",explanation:"Dedekind (1858) defined the concept of real number to capture all possible lengths, completing the reconciliation of arithmetic and geometry."},{id:7,type:"multiple-choice",question:"The Pythagorean theorem is valuable because:",options:["It avoids using numbers","It relates lengths simply via their squares, even when the lengths have no simple ratio","It only works for rational numbers","It proves all numbers are rational"],correctIndex:1,difficulty:"hard",explanation:"The theorem relates the sides and hypotenuse simply via their squares ($a^2 + b^2 = c^2$), even though the lengths themselves may not be simply related."},{id:8,type:"numeric",question:"In what year did Dedekind define real numbers?",correctAnswer:1858,numericRange:{min:1800,max:1900,precision:0},difficulty:"medium",explanation:"Dedekind realized in 1858 that calculus, geometry, and the concept of irrational could all be clarified by defining real numbers."}],QQ=[{id:1,type:"multiple-choice",question:"The unit of volume is:",options:["The unit length","The unit square","The unit cube","The unit circle"],correctIndex:2,difficulty:"easy",explanation:"Just as area is measured by unit squares, volume is measured by unit cubes (cubes with sides of unit length)."},{id:2,type:"multiple-choice",question:"A parallelepiped is:",options:["A 2D shape with parallel sides","The 3D analog of a parallelogram","A regular polygon","A type of prism with circular base"],correctIndex:1,difficulty:"easy",explanation:"A parallelepiped is the three-dimensional figure analogous to the parallelogram, with six faces that are parallelograms."},{id:3,type:"multiple-choice",question:"Why is the tetrahedron important for volume theory?",options:["It is the simplest 3D shape","All polyhedra can be built from tetrahedra","It has the smallest volume","It is the only shape with flat faces"],correctIndex:1,difficulty:"medium",explanation:"Just as any polygon can be cut into triangles, any polyhedron can be built from tetrahedra, making the tetrahedron volume formula fundamental."},{id:4,type:"multiple-choice",question:"How did the Greeks find the volume of a tetrahedron?",options:["By finite cutting and pasting","By using calculus","By an infinite construction filling it with prisms","They could not find it"],correctIndex:2,difficulty:"medium",explanation:"The Greeks were unable to cut and paste the tetrahedron into a cuboid, so they used infinite constructions, like filling it with infinitely many prisms."},{id:5,type:"multiple-choice",question:"The volume of a tetrahedron is:",options:["base  height","$\\frac{1}{2}$  base  height","$\\frac{1}{3}$  base  height","$\\frac{1}{4}$  base  height"],correctIndex:2,difficulty:"easy",explanation:"The volume of a tetrahedron is (1/3)  base  height, derived using infinite geometric series."},{id:6,type:"multiple-choice",question:"What did Max Dehn prove in 1900?",options:["The tetrahedron volume formula","A tetrahedron cannot be converted to a cube by finite cuts","All polyhedra have rational volume","The cube can be cut into tetrahedra"],correctIndex:1,difficulty:"hard",explanation:"Dehn proved it is impossible to convert a regular tetrahedron into a cube by cutting it into a finite number of polyhedral pieces. This solved Hilbert's third problem."},{id:7,type:"multiple-choice",question:"In Euclid's proof, what is the combined volume of the first two prisms?",options:["$\\frac{1}{2}$  base  height","$\\frac{1}{3}$  base  height","$\\frac{1}{4}$  base  height","$\\frac{1}{8}$  base  height"],correctIndex:2,difficulty:"medium",explanation:"Each prism has volume (1/8)  base  height, so the two prisms combined give (1/4)  base  height."},{id:8,type:"multiple-choice",question:"Figures like parallelepipeds and prisms have what special property?",options:["They have curved surfaces","They have constant cross section","They cannot be cut into cubes","They have irrational volume"],correctIndex:1,difficulty:"medium",explanation:"Parallelepipeds and prisms have constant cross section, which is why their volumes can be found by cut-and-paste methods similar to those used for parallelograms and triangles in 2D."}],JQ=[{id:1,type:"multiple-choice",question:"What assumption about area is made implicitly in cutting and pasting?",options:["Areas can only be integers","Areas are always positive","Area is conserved","Area depends on color"],correctIndex:2,difficulty:"easy",explanation:"When we cut and paste, we assume area is conservedthat we never get a polygon larger or smaller than the one we started with."},{id:2,type:"multiple-choice",question:"What axiom did Euclid use because he couldn't prove it?",options:["The parallel postulate","The whole is greater than the part","Area equals base times height","All right angles are equal"],correctIndex:1,difficulty:"medium",explanation:'Euclid could not prove that a polygon could not be cut and pasted onto a smaller part of itself, so he assumed "the whole is greater than the part."'},{id:3,type:"multiple-choice",question:"Triangles with the same angles are called:",options:["Congruent","Similar","Equal","Identical"],correctIndex:1,difficulty:"easy",explanation:"Triangles with the same angles are called similar. Euclid proved that the corresponding sides of similar triangles are proportional."},{id:4,type:"multiple-choice",question:"In any triangle, the product of a side by its corresponding height is:",options:["Different for each side","Always an integer","Constant (the same for all sides)","Zero for acute triangles"],correctIndex:2,difficulty:"medium",explanation:"The product of base  height is constant regardless of which side is chosen as the base. This is proved using similar triangles."},{id:5,type:"multiple-choice",question:"Who proved that different subdivisions give the same area?",options:["Euclid","Pythagoras","Hilbert","Gauss"],correctIndex:2,difficulty:"medium",explanation:"Hilbert (1899) proved that different subdivisions of the same polygon give the same numerical area, using the concept of signed area."},{id:6,type:"multiple-choice",question:"What is the key feature of Hilbert's signed area [ABC]?",options:["It is always positive","It changes sign with vertex order","It only works for rectangles","It requires calculus"],correctIndex:1,difficulty:"medium",explanation:"Signed area [ABC] is positive when vertices are clockwise and negative when counterclockwise. This sign convention makes interior edges cancel when summing."},{id:7,type:"multiple-choice",question:"Two polygons are equidecomposable if:",options:["They have the same number of sides","One can be cut into pieces that reassemble into the other","They are congruent","They have the same perimeter"],correctIndex:1,difficulty:"easy",explanation:"Polygons are equidecomposable if one can be cut into polygonal pieces that can be pasted together to form the other."},{id:8,type:"multiple-choice",question:"What does the Bolyai-Gerwien theorem state?",options:["All triangles have the same area","Polygons with equal area are equidecomposable","The tetrahedron cannot be cut into a cube","Area is not conserved under cutting"],correctIndex:1,difficulty:"hard",explanation:"The Bolyai-Gerwien theorem states that any two polygons of equal numerical area are equidecomposablethey can be cut into the same pieces."}],eJ=[{id:1,type:"multiple-choice",question:"How did the Pythagoreans discover the power of numbers?",options:["Through astronomy","Through studying plucked strings and music","Through calculus","Through measuring land"],correctIndex:1,difficulty:"easy",explanation:"The Pythagoreans discovered that musical harmony corresponds to simple integer ratios in string lengths, leading them to believe numbers explain all things."},{id:2,type:"multiple-choice",question:"What ratio corresponds to the musical octave?",options:["3:2","4:3","2:1","5:4"],correctIndex:2,difficulty:"easy",explanation:"The octave corresponds to a string length ratio of 2:1. The perfect fifth is 3:2 and the perfect fourth is 4:3."},{id:3,type:"multiple-choice",question:'What was the "harmony of the spheres"?',options:["A musical instrument","An attempt to explain planetary positions using numbers","A proof of the Pythagorean theorem","A type of geometric shape"],correctIndex:1,difficulty:"medium",explanation:"The harmony of the spheres was an idea that planetary positions could be explained by numerical ratios, similar to musical harmonies."},{id:4,type:"multiple-choice",question:"Who provided a better explanation for planetary motion than the harmony of the spheres?",options:["Kepler","Aristotle","Newton","Pythagoras"],correctIndex:2,difficulty:"medium",explanation:"Newton's theory of gravitation explained planetary motion through inverse-square forces, replacing the Pythagorean musical explanation."},{id:5,type:"multiple-choice",question:"What is the Pythagorean comma?",options:["A type of punctuation","The small difference between 7 octaves and 12 perfect fifths","A musical instrument","A theorem about triangles"],correctIndex:1,difficulty:"hard",explanation:"The Pythagorean comma is the small discrepancy between 7 octaves (2^7 = 128) and 12 perfect fifths ((3/2)^12  129.75), showing perfect tuning is impossible."},{id:6,type:"multiple-choice",question:'Why is Pythagorean music theory "fundamentally irrational"?',options:["The Pythagoreans were irrational people","Musical harmony involves irrational ratios","The ratio of octave to fifth involves irrational numbers","Music cannot be described mathematically"],correctIndex:2,difficulty:"hard",explanation:"Comparing intervals like the octave and perfect fifth leads to irrational numbers. The ratio of their sizes cannot be expressed as a ratio of integers."},{id:7,type:"numeric",question:"What is $2^7$, the multiplier for 7 octaves?",correctAnswer:128,numericRange:{min:0,max:200,precision:0},difficulty:"easy",explanation:"2^7 = 128. This is the factor by which string length is multiplied when lowered by 7 octaves."},{id:8,type:"multiple-choice",question:"How was the Pythagorean dream ultimately fulfilled?",options:["By abandoning mathematics","By restricting to rational numbers only","By expanding numbers to include all real numbers","By rejecting the connection between numbers and nature"],correctIndex:2,difficulty:"medium",explanation:"The dream of understanding nature through numbers succeeded by expanding the number concept from rationals to all real numbers, allowing irrational lengths to be represented."}],tJ=[{id:1,type:"multiple-choice",question:"Who introduced coordinates in his Geometry of 1637?",options:["Euclid","Fermat","Descartes","Pythagoras"],correctIndex:2,difficulty:"easy",explanation:"Descartes introduced coordinates in his Geometry of 1637. Fermat independently discovered the same idea in 1629 but did not publish at the time."},{id:2,type:"multiple-choice",question:"What are the coordinates of the origin?",options:["(1, 1)","(0, 1)","(1, 0)","(0, 0)"],correctIndex:3,difficulty:"easy",explanation:"The origin O has coordinates (0, 0), as it lies at the intersection of the perpendicular axes."},{id:3,type:"multiple-choice",question:"The equation $y = mx$ represents:",options:["A circle centered at the origin","A straight line through the origin","A parabola","An ellipse"],correctIndex:1,difficulty:"easy",explanation:"The equation y = mx represents a straight line through the origin, where m is the slope (ratio y/x)."},{id:4,type:"multiple-choice",question:'Why are equations of the form $ax + by = c$ called "linear"?',options:["They were invented by a mathematician named Linear","They describe straight lines","They have only one solution","The coefficients are integers"],correctIndex:1,difficulty:"medium",explanation:'Equations ax + by = c are called linear because they describe straight lines. The name comes from "line."'},{id:5,type:"multiple-choice",question:"The equation of a circle with center at the origin and radius $r$ is:",options:["$x + y = r$","$x^2 + y^2 = r$","$x^2 + y^2 = r^2$","$(x - r)^2 + (y - r)^2 = 1$"],correctIndex:2,difficulty:"easy",explanation:"By the Pythagorean theorem, a point (x, y) is at distance r from the origin when x + y = r."},{id:6,type:"multiple-choice",question:"What theorem is used to derive the equation of a circle from coordinates?",options:["Thales' theorem","The parallel axiom","The Pythagorean theorem","The fundamental theorem of arithmetic"],correctIndex:2,difficulty:"medium",explanation:"The Pythagorean theorem tells us that a point at distance r from the origin satisfies x + y = r, since r is the hypotenuse of a right triangle with sides x and y."},{id:7,type:"multiple-choice",question:"In analytic geometry, how are points, lines, and circles typically found?",options:["By ruler and compass construction","By solving equations","By physical measurement","By trial and error"],correctIndex:1,difficulty:"medium",explanation:"Analytic geometry finds geometric objects by solving equations, unlike synthetic geometry which uses ruler and compass constructions (Euclid's approach)."},{id:8,type:"numeric",question:"In what year did Descartes publish his Geometry?",correctAnswer:1637,numericRange:{min:1600,max:1700,precision:0},difficulty:"medium",explanation:"Descartes published his Geometry in 1637, introducing the coordinate system that now bears his name (Cartesian coordinates)."}],sJ=[{id:1,type:"multiple-choice",question:"What defect exists in Euclid's axioms regarding circle intersections?",options:["Circles cannot be drawn","His axioms guarantee circles exist but not their intersections","Circles have no center","There is no defect"],correctIndex:1,difficulty:"medium",explanation:"Euclid's axioms guarantee that circles can be drawn, but they do not guarantee that two circles actually intersect. Coordinates solve this by turning the question into one about solutions of equations."},{id:2,type:"multiple-choice",question:"When finding the intersection of two circles analytically, what number appears in the equilateral triangle example?",options:["$\\sqrt{2}$","$\\sqrt{3}$","$\\sqrt{5}$","$\\pi$"],correctIndex:1,difficulty:"medium",explanation:"When circles centered at (1, 0) and (1, 0) with radius 2 intersect, the y-coordinates of the intersection points are 3."},{id:3,type:"multiple-choice",question:"Points constructible by ruler and compass have coordinates involving only:",options:["Integers","Rational numbers","Rational operations and square roots","Cube roots"],correctIndex:2,difficulty:"medium",explanation:"Constructible points have coordinates obtainable from 1 by the rational operations (+, , , ) and square roots. Cube roots cannot be constructed."},{id:4,type:"multiple-choice",question:"The intersection of two lines is found using what type of operations?",options:["Only square roots","Only rational operations","Cube roots","Trigonometric functions"],correctIndex:1,difficulty:"easy",explanation:"Solving two linear equations to find their intersection requires only rational operations (addition, subtraction, multiplication, division)."},{id:5,type:"multiple-choice",question:"Finding where a line meets a circle requires:",options:["Only rational operations","Rational operations and square roots","Cube roots","Trigonometry"],correctIndex:1,difficulty:"medium",explanation:"Substituting the line equation into the circle equation gives a quadratic, which is solved using the quadratic formularequiring rational operations plus a square root."},{id:6,type:"multiple-choice",question:"Why is the cube root of 2 ($\\sqrt[3]{2}$) not constructible by ruler and compass?",options:["It is too large","It is irrational","It cannot be expressed using rational operations and square roots alone","Euclid forbade it"],correctIndex:2,difficulty:"hard",explanation:'Cube root of 2 satisfies x = 2, which cannot be reduced to equations solvable by rational operations and square roots. This proves "doubling the cube" is impossible.'},{id:7,type:"multiple-choice",question:"How is the product of two lengths $a$ and $b$ constructed?",options:["By joining them end to end","Using similar triangles","By drawing a circle","It cannot be constructed"],correctIndex:1,difficulty:"medium",explanation:"Similar triangles can be used to construct the product ab. If you have lengths 1, a, and b, proportionality gives a length equal to ab."},{id:8,type:"multiple-choice",question:"For how many years did mathematicians try to solve problems like doubling the cube before they were proven impossible?",options:["About 100 years","About 500 years","About 2000 years","About 5000 years"],correctIndex:2,difficulty:"medium",explanation:"Problems like doubling the cube, trisecting the angle, and squaring the circle were attempted for about 2000 years before being proven impossible using algebraic methods in the 19th century."}],iJ=[{id:1,type:"multiple-choice",question:"Who discovered the definition of real numbers using cuts?",options:["Euclid","Gauss","Dedekind","Descartes"],correctIndex:2,difficulty:"easy",explanation:'Dedekind discovered in 1858 that irrational numbers could be defined as "cuts" in the rational numbers.'},{id:2,type:"numeric",question:"In what year did Dedekind discover his definition of real numbers?",correctAnswer:1858,numericRange:{min:1800,max:1900,precision:0},difficulty:"medium",explanation:"Dedekind realized in 1858 that calculus, geometry, and irrational numbers could all be clarified with his definition."},{id:3,type:"multiple-choice",question:"What is a Dedekind cut?",options:["A way to divide a line segment","A partition of rationals into lower and upper sets (L, U)","A type of geometric construction","A method for computing square roots"],correctIndex:1,difficulty:"medium",explanation:"A Dedekind cut is a partition of the rational numbers into two sets L and U, where every member of L is less than every member of U."},{id:4,type:"multiple-choice",question:"In the definition of an irrational number as a cut (L, U):",options:["L has a greatest member","U has a least member","Neither L nor U has an extreme member","Both L and U have extreme members"],correctIndex:2,difficulty:"hard",explanation:'For an irrational number, L has no greatest member and U has no least member. The "missing" number is the irrational itself.'},{id:5,type:"multiple-choice",question:"What makes the Dedekind cut definition elegant?",options:["It uses complex numbers","It requires only sets of rationals, which already exist","It uses infinite decimal expansions","It requires physical measurements"],correctIndex:1,difficulty:"medium",explanation:"Dedekind cuts define irrationals using only sets of rational numbers, which are already assumed to exist. No new objects need to be invented."},{id:6,type:"multiple-choice",question:"How does a rational number $a$ differ from an irrational as a cut?",options:["Rationals cannot be represented as cuts","For a rational, the upper set U has a least member (namely a)","For a rational, the lower set L has a greatest member","There is no difference"],correctIndex:1,difficulty:"hard",explanation:"For a rational number a, the cut has U_a = {rationals  a}, so U has a least member. For irrationals, neither L nor U has an extreme member."},{id:7,type:"multiple-choice",question:"Dedekind's definition resolved problems in which areas of mathematics?",options:["Only geometry","Only calculus","Geometry, algebra, and calculus","Only number theory"],correctIndex:2,difficulty:"medium",explanation:"Dedekind realized that his definition clarified problems in geometry (irrational lengths), calculus (limits), and algebra (complete ordered fields) all at once."},{id:8,type:"multiple-choice",question:"The set L for $\\sqrt{2}$ consists of positive rationals whose squares are:",options:["Greater than 2","Less than 2","Equal to 2","Negative"],correctIndex:1,difficulty:"easy",explanation:'L contains all positive rationals with squares less than 2. These are the rationals "below" 2. The set U contains those with squares greater than 2.'}],nJ=[{id:1,type:"multiple-choice",question:"What two properties make the real numbers suitable as a model for the geometric line?",options:["Addition and multiplication","Order and completeness","Positivity and negativity","Finiteness and infinity"],correctIndex:1,difficulty:"easy",explanation:"The real numbers have order (any two distinct reals can be compared) and completeness (no gaps), which are exactly the properties needed to model the geometric line."},{id:2,type:"multiple-choice",question:"How is the order $\\alpha \\leq \\beta$ defined for real numbers represented as Dedekind cuts?",options:["$L_\\alpha$ contains $L_\\beta$","$L_\\alpha$ is contained in $L_\\beta$","$U_\\alpha$ contains $U_\\beta$","They have the same upper set"],correctIndex:1,difficulty:"medium",explanation:"We say    if and only if the lower set L_ is contained in L_. This captures the idea that  separates rationals at a position  where  separates them."},{id:3,type:"multiple-choice",question:'What does "completeness" of the real numbers mean?',options:["Every real number can be computed","There are no gaps in the real numbers","The real numbers are finite","Every equation has a solution"],correctIndex:1,difficulty:"easy",explanation:"Completeness means the real numbers have no gaps. Any separation into lower and upper sets has either a greatest lower element or a least upper elementno gap remains."},{id:4,type:"multiple-choice",question:'Why is there no "next number" after any real number?',options:["Real numbers are infinite","Between any two distinct reals lies their average","Real numbers are irrational","Dedekind forbade it"],correctIndex:1,difficulty:"medium",explanation:'If  and  are distinct real numbers, then ( + )/2 lies strictly between them. This shows there is always another number between any two, so no "next number" exists.'},{id:5,type:"multiple-choice",question:"What is a least upper bound (LUB) of a set S?",options:["The smallest element in S","The largest element in S","The smallest number  all members of S","The average of all members of S"],correctIndex:2,difficulty:"medium",explanation:"The least upper bound (LUB) of a set S is the smallest number  that is  all members of S. The existence of LUBs is equivalent to completeness."},{id:6,type:"multiple-choice",question:"What does the Archimedean axiom state?",options:["Infinitely small numbers exist","Any positive number exceeds all rationals","For positive  < , some multiple n > ","All numbers are rational"],correctIndex:2,difficulty:"medium",explanation:"The Archimedean axiom says that if  and  are positive with  < , then there exists a natural number n such that n > . This rules out infinitesimals."},{id:7,type:"multiple-choice",question:"Why is 0.999... equal to 1?",options:["It is a rounding convention","There is no real number between them","They have the same decimal representation","Dedekind defined them to be equal"],correctIndex:1,difficulty:"hard",explanation:'There is no "infinitesimal amount" by which 0.999... could differ from 1. Since the reals have no infinitesimals and no gaps, 0.999... and 1 must be the same number.'},{id:8,type:"multiple-choice",question:"What is $\\mathbb{R}$ called as the completion of $\\mathbb{Q}$?",options:["The rational line","The complex line","The real line","The integer line"],correctIndex:2,difficulty:"easy",explanation:"The set  of real numbers is called the real line. It is the completion of the rationals all gaps in  have been filled by irrational numbers."}],rJ=[{id:1,type:"multiple-choice",question:"What is the Euclidean plane defined as?",options:["The set of all real numbers","The Cartesian product $\\mathbb{R} \\times \\mathbb{R}$ with Euclidean distance","The set of all rational points","The set of all integers"],correctIndex:1,difficulty:"easy",explanation:"The Euclidean plane is defined as the Cartesian product    (ordered pairs of real numbers) together with the Euclidean distance formula based on the Pythagorean theorem."},{id:2,type:"multiple-choice",question:"What is the Euclidean distance between $(x_1, y_1)$ and $(x_2, y_2)$?",options:["$|x_2 - x_1| + |y_2 - y_1|$","$\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}$","$(x_2 - x_1)^2 + (y_2 - y_1)^2$","$\\max(|x_2 - x_1|, |y_2 - y_1|)$"],correctIndex:1,difficulty:"easy",explanation:"The Euclidean distance formula is the square root of the sum of the squared differences in coordinates. This comes from the Pythagorean theorem."},{id:3,type:"multiple-choice",question:'Why is the Pythagorean theorem true "by definition" in the Euclidean plane?',options:["Euclid proved it","The distance formula is based on it","It is an axiom","It was discovered by Descartes"],correctIndex:1,difficulty:"medium",explanation:"The distance formula d(P, P) = [(x-x) + (y-y)] is precisely the Pythagorean theorem applied to the right triangle with legs (x-x) and (y-y). So the theorem is true by definition."},{id:4,type:"multiple-choice",question:"The set of points equidistant from two distinct points forms:",options:["A circle","A line","A point","A parabola"],correctIndex:1,difficulty:"easy",explanation:"The set of all points equidistant from two distinct points P and Q is a linespecifically, the perpendicular bisector of the segment PQ."},{id:5,type:"multiple-choice",question:"What is an isometry?",options:["A function that doubles all distances","A function that preserves distances","A function that rotates angles","A function that maps lines to circles"],correctIndex:1,difficulty:"easy",explanation:'An isometry is a function f such that d(f(P), f(P)) = d(P, P) for any two points. The word comes from Greek meaning "same distance."'},{id:6,type:"multiple-choice",question:"Reflection in the y-axis sends $(x, y)$ to:",options:["$(x, -y)$","$(-x, y)$","$(-x, -y)$","$(y, x)$"],correctIndex:1,difficulty:"easy",explanation:"Reflection in the y-axis (the line x = 0) sends each point (x, y) to its mirror image (x, y). The y-coordinate stays the same while x changes sign."},{id:7,type:"multiple-choice",question:"To prove the base angles of an isosceles triangle are equal, we can:",options:["Use the quadratic formula","Reflect the triangle in its axis of symmetry","Compute the area","Use polar coordinates"],correctIndex:1,difficulty:"medium",explanation:"By placing the isosceles triangle symmetrically about the y-axis and reflecting, the triangle maps onto itself. The angle at one base vertex maps to the angle at the other, proving equality."},{id:8,type:"multiple-choice",question:"Each point of the plane is determined by its distances from how many non-collinear points?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"medium",explanation:"Each point is uniquely determined by its distances from three points not in a line. With fewer points, there would be multiple candidates; with three non-collinear points, there is exactly one."}],aJ=[{id:1,type:"multiple-choice",question:"An isometry of the Euclidean plane is determined by the images of:",options:["One point","Two points","Three non-collinear points","Four points"],correctIndex:2,difficulty:"easy",explanation:"An isometry is completely determined by where it sends three non-collinear points. This is because any other point Q is determined by its distances from these three points, and isometries preserve distances."},{id:2,type:"multiple-choice",question:"According to the Three Reflections Theorem, every Euclidean isometry is a composite of:",options:["Exactly three reflections","At most two reflections","One, two, or three reflections","Any number of reflections"],correctIndex:2,difficulty:"medium",explanation:"The Three Reflections Theorem states that each isometry of the Euclidean plane is the composite of one, two, or three reflections. This covers all cases: reflections (1), rotations and translations (2), and glide reflections (3)."},{id:3,type:"multiple-choice",question:"The composite of reflections in two intersecting lines is:",options:["A translation","A rotation","Another reflection","A glide reflection"],correctIndex:1,difficulty:"medium",explanation:"When two reflection lines intersect, their composite is a rotation about the point of intersection. The rotation angle is twice the angle between the lines."},{id:4,type:"multiple-choice",question:"The composite of reflections in two parallel lines is:",options:["A translation","A rotation","A reflection","A glide reflection"],correctIndex:0,difficulty:"medium",explanation:"When two reflection lines are parallel, their composite is a translation in the direction perpendicular to the lines, by twice the distance between them."},{id:5,type:"multiple-choice",question:"What is a glide reflection?",options:["A rotation followed by a reflection","A translation combined with reflection in a parallel line","Two perpendicular reflections","A single reflection"],correctIndex:1,difficulty:"medium",explanation:"A glide reflection is the composite of a translation with a reflection in a line parallel to the direction of translation. It requires three reflections."},{id:6,type:"multiple-choice",question:"Is composition of isometries commutative?",options:["Always","Never","Only for translations","Generally not"],correctIndex:3,difficulty:"medium",explanation:"Composition of isometries is generally not commutative. For example, ff may differ from ff. The order in which transformations are applied matters."},{id:7,type:"multiple-choice",question:"The half turn about O sends $(x, y)$ to:",options:["$(x, -y)$","$(-x, y)$","$(-x, -y)$","$(y, x)$"],correctIndex:2,difficulty:"easy",explanation:"The half turn (rotation through ) about the origin sends (x, y) to (x, y). It is the composite of reflections in the x-axis and y-axis."},{id:8,type:"multiple-choice",question:"In the notation $f_2 f_1$, which transformation is applied first?",options:["$f_2$","$f_1$","Both simultaneously","It depends on the context"],correctIndex:1,difficulty:"easy",explanation:'In function composition notation, ff means "apply f first, then f." This is the standard convention: read right to left.'}],lJ=[{id:1,type:"multiple-choice",question:"The triangle inequality states that for non-collinear points A, B, C:",options:["$d(A, C) = d(A, B) + d(B, C)$","$d(A, C) > d(A, B) + d(B, C)$","$d(A, C) < d(A, B) + d(B, C)$","$d(A, C) \\geq d(A, B) \\cdot d(B, C)$"],correctIndex:2,difficulty:"easy",explanation:"The triangle inequality states that the direct distance d(A, C) is strictly less than the sum d(A, B) + d(B, C) when A, B, C are not collinear. Going directly is shorter than any detour."},{id:2,type:"multiple-choice",question:'Why is the triangle inequality called "obvious"?',options:["It is an axiom","Even a dog knows the shortest path to food is a straight line","It was proven by the ancient Egyptians","It follows immediately from Pythagorean theorem"],correctIndex:1,difficulty:"easy",explanation:"The text notes that even a dog knows the triangle inequality intuitively: a dog goes straight to a bone rather than via an intermediate point. The shortest path is always direct."},{id:3,type:"multiple-choice",question:"What technique simplifies the proof of the triangle inequality?",options:["Using complex numbers","Applying isometries to position the triangle conveniently","Assuming the result is true","Using calculus"],correctIndex:1,difficulty:"medium",explanation:"By applying a translation to move B to the origin and possibly a reflection to place A on the x-axis, the calculation becomes much simpler. Isometries preserve distances, so the inequality still holds."},{id:4,type:"multiple-choice",question:"When does equality hold in the triangle inequality?",options:["When the triangle is equilateral","When A, B, C are collinear (B is on segment AC)","Never","When the triangle is isosceles"],correctIndex:1,difficulty:"medium",explanation:'Equality d(A, C) = d(A, B) + d(B, C) holds if and only if the three points are collinear, with B lying on the segment from A to C. Only then is the "detour" not actually a detour.'},{id:5,type:"multiple-choice",question:'The phrase "a straight line is the shortest distance between two points" expresses:',options:["The parallel axiom","The triangle inequality","The Pythagorean theorem","The definition of distance"],correctIndex:1,difficulty:"easy",explanation:"This common saying is an informal statement of the triangle inequality. Any path from A to C via other points is at least as long as the direct path, with equality only for points on the line AC."},{id:6,type:"multiple-choice",question:"In Euclid's Elements, the triangle inequality appears in which proposition of Book I?",options:["Proposition 1","Proposition 5","Proposition 20","Proposition 47"],correctIndex:2,difficulty:"hard",explanation:"Euclid proves the triangle inequality in Proposition 20 of Book I. His proof is longer because he does not assume the parallel axiom, making the result valid in non-Euclidean geometry too."},{id:7,type:"multiple-choice",question:"How is the length of a curve defined?",options:["The maximum distance between any two points on it","The least upper bound of polygonal path lengths with vertices on the curve","The integral of 1 along the curve","It cannot be defined"],correctIndex:1,difficulty:"hard",explanation:"The length of a curve is defined as the least upper bound of the lengths of all polygonal paths from A to B with vertices on the curve. The triangle inequality helps establish upper bounds, and completeness of  ensures the LUB exists."},{id:8,type:"multiple-choice",question:"What property of $\\mathbb{R}$ ensures arc length exists?",options:["The Archimedean property","Completeness (existence of least upper bounds)","The ordering of real numbers","The density of rationals"],correctIndex:1,difficulty:"medium",explanation:"The triangle inequality gives an upper bound for polygonal approximations to a curve. By completeness of , a bounded set has a least upper bound. This LUB is the arc length."}],oJ=[{id:1,type:"multiple-choice",question:"According to Klein, what defines a geometry?",options:["Its axioms","Its coordinate system","Its group of isometries","Its dimensionality"],correctIndex:2,difficulty:"easy",explanation:"Klein's Erlangen Program (1872) proposed that geometry is defined by its group of isometries. Euclidean geometry is everything preserved by Euclidean isometries."},{id:2,type:"numeric",question:"In what year did Klein announce his Erlangen Program defining geometry via isometries?",correctAnswer:1872,numericRange:{min:1800,max:1900,precision:0},difficulty:"medium",explanation:"Felix Klein announced his revolutionary viewpoint in 1872, showing that different groups of transformations give rise to different geometries."},{id:3,type:"multiple-choice",question:'In spherical geometry, what are the "lines"?',options:["Small circles","Great circles","Parallels of latitude","Meridians only"],correctIndex:1,difficulty:"medium",explanation:'In spherical geometry, the "lines" are great circlesthe intersections of the sphere with planes through its center. These are the "equidistant sets" of the spherical reflections.'},{id:4,type:"multiple-choice",question:"What is a group of transformations?",options:["Any set of transformations","A set closed under composition and inverses","A finite set of rotations","A set containing only reflections"],correctIndex:1,difficulty:"medium",explanation:"A group of transformations is a set of one-to-one functions that is closed under composition (combining two gives another in the set) and inverses (the reverse of each transformation is also in the set)."},{id:5,type:"multiple-choice",question:"Why is each reflection its own inverse?",options:["Reflections are undefined","Reflecting twice returns to the original","Reflections preserve distance","Klein defined them that way"],correctIndex:1,difficulty:"easy",explanation:"Reflecting in the same line twice returns every point to its original position. So the composite of a reflection with itself is the identity function, meaning the reflection is its own inverse."},{id:6,type:"multiple-choice",question:"What is the orientation-preserving subgroup?",options:["All isometries","Only translations","Composites of an even number of reflections","Composites of an odd number of reflections"],correctIndex:2,difficulty:"medium",explanation:"The orientation-preserving subgroup consists of isometries that are composites of an even number of reflections. This includes rotations and translations, but not single reflections or glide reflections."},{id:7,type:"multiple-choice",question:"How do we know that orientation is a real geometric property?",options:["Euclid defined it","The orientation-preserving subgroup differs from the whole group","All isometries preserve it","It is visible on a clock face"],correctIndex:1,difficulty:"hard",explanation:"Orientation is a real property because the orientation-preserving subgroup is strictly smaller than the whole isometry group. A reflection maps exactly one line onto itself, while even composites (rotations, translations) have different behavior."},{id:8,type:"multiple-choice",question:"On the sphere, what is the composite of two reflections?",options:["A translation","Always a rotation","A glide reflection","Another reflection"],correctIndex:1,difficulty:"hard",explanation:'On the sphere, any two "lines" (great circles) intersect, so the composite of two reflections is always a rotation. There are no translations on the sphere because there are no parallel lines.'}],cJ=[{id:1,type:"multiple-choice",question:"Who introduced the upper half-plane model of non-Euclidean geometry?",options:["Euclid","Klein","Poincar","Dedekind"],correctIndex:2,difficulty:"easy",explanation:"Henri Poincar introduced this model of non-Euclidean geometry in 1882. It uses the upper half-plane with reflection in circles as the fundamental transformation."},{id:2,type:"numeric",question:"In what year did Poincar introduce his non-Euclidean model?",correctAnswer:1882,numericRange:{min:1800,max:1900,precision:0},difficulty:"medium",explanation:"Poincar introduced his upper half-plane model of non-Euclidean geometry in 1882."},{id:3,type:"multiple-choice",question:'In the Poincar model, what are the "lines"?',options:["Only horizontal lines","Vertical half-lines and semicircles centered on the x-axis","All circles","Only straight Euclidean lines"],correctIndex:1,difficulty:"medium",explanation:'The "lines" in the Poincar model are vertical Euclidean half-lines (x = constant, y > 0) and Euclidean semicircles with centers on the x-axis.'},{id:4,type:"multiple-choice",question:"The reflection of P in a circle with center Z and radius r satisfies:",options:["$ZP + ZP' = r$","$ZP \\cdot ZP' = r^2$","$ZP = ZP' = r$","$ZP - ZP' = r$"],correctIndex:1,difficulty:"medium",explanation:`Reflection in a circle is defined so that the product ZP  ZP' = r. This is called "inversion in the circle."`},{id:5,type:"multiple-choice",question:"Which Euclidean axiom fails in the Poincar model?",options:["Two points determine a unique line","The parallel axiom","A circle can be drawn with any center and radius","All right angles are equal"],correctIndex:1,difficulty:"easy",explanation:'The parallel axiom fails: through a point not on a "line" L, there are multiple "lines" that do not meet L. All other Euclidean axioms hold in the Poincar model.'},{id:6,type:"multiple-choice",question:'In the Poincar model, angles between "lines" are:',options:["Always 90","Undefined","Ordinary Euclidean angles (between tangents)","Always acute"],correctIndex:2,difficulty:"medium",explanation:'A pleasant property of the Poincar model is that non-Euclidean "angles" are ordinary Euclidean angles between the tangent lines at the point of intersection.'},{id:7,type:"multiple-choice",question:"Why is the x-axis infinitely far from every point in the non-Euclidean plane?",options:["The x-axis is not part of the plane","Non-Euclidean distances compress as y  0","The x-axis is a circle","It is a definition"],correctIndex:1,difficulty:"hard",explanation:'A "translation" by reflection in concentric semicircles shows that points (0, 1), (0, 1/4), (0, 1/16), ... are equally spaced in non-Euclidean distance. It takes infinitely many such steps to reach y = 0.'},{id:8,type:"multiple-choice",question:'What is a "limit rotation" in the Poincar model?',options:["A rotation about a point in the half-plane","A rotation about a point on the x-axis (at infinity)","A translation","A reflection"],correctIndex:1,difficulty:"hard",explanation:'When two "lines" of reflection meet on the x-axis (which is at infinity), the composite is called a limit rotation. The center of rotation is infinitely far away in non-Euclidean distance.'}],dJ=[{id:1,type:"multiple-choice",question:"What are the two sides of geometry described in this chapter?",options:["Euclidean and non-Euclidean","Synthetic (visual) and analytic (algebraic)","Plane and solid","Finite and infinite"],correctIndex:1,difficulty:"easy",explanation:"Geometry has two sides: the synthetic (visual, self-contained) side that seems intuitively natural, and the analytic (algebraic) side that integrates geometry into the larger world of mathematics."},{id:2,type:"multiple-choice",question:"What discovery sparked the conflict between arithmetic and geometry?",options:["The Pythagorean theorem","Non-Euclidean geometry","Irrational numbers like $\\sqrt{2}$","The parallel postulate"],correctIndex:2,difficulty:"easy",explanation:"The conflict began with the discovery of irrational lengths such as 2. At the time, numbers were rational by definition, so irrational lengths could not be numbers, and geometry could not be based on arithmetic."},{id:3,type:"numeric",question:"In what year did Cantor discover that $\\mathbb{R}$ is uncountable?",correctAnswer:1874,numericRange:{min:1800,max:1900,precision:0},difficulty:"medium",explanation:"Cantor discovered in 1874 that not all infinite sets have the same cardinality. In particular,  is uncountablethere is no way to list its members."},{id:4,type:"multiple-choice",question:"Why is $\\mathbb{Q}$ called countable?",options:["It contains only finitely many elements","Its members can be listed (paired with natural numbers)","Each rational has a unique decimal expansion","It is a subset of $\\mathbb{R}$"],correctIndex:1,difficulty:"medium",explanation:"The sets , , and  are called countable because their members can be listedgiven a first member, second member, third member, and so on. This means they can be paired with the natural numbers."},{id:5,type:"multiple-choice",question:"What algebraic structure is the appropriate setting for geometry?",options:["Group","Ring","Field","Vector space"],correctIndex:2,difficulty:"medium",explanation:"Around 1900, it became clear that the concept of field was the appropriate algebraic setting for geometry. We can build Euclid's geometry using the field , and conversely, we can build a field from Euclid's geometric concepts."},{id:6,type:"multiple-choice",question:'What distinguished "potential infinity" from "actual infinity" for the Greeks?',options:["Potential infinity is smaller","Potential infinity is a process; actual infinity is a completed set","They are the same concept","Actual infinity applies only to geometry"],correctIndex:1,difficulty:"hard",explanation:"The Greeks accepted potential infinity (a process that continues indefinitely, like generating  by repeatedly adding 1) but not actual infinity (a completed infinite set). Real numbers require actual infinity because they involve infinite subsets of  given all at once."},{id:7,type:"multiple-choice",question:"What is a similarity in Euclidean geometry?",options:["A map that preserves all distances","A map that multiplies all lengths by a constant","A reflection in a line","A map that preserves only angles less than 90"],correctIndex:1,difficulty:"medium",explanation:"A similarity is a mapping of    that multiplies all lengths by a constant c. A typical example is the dilatation that sends (x, y) to (cx, cy)."},{id:8,type:"multiple-choice",question:"Why can beings in a non-Euclidean world determine size from shape alone?",options:["Non-Euclidean geometry has no shapes","All figures in non-Euclidean geometry are congruent","There are no similarities (except isometries), so each shape exists in only one size","Non-Euclidean distance is always 1"],correctIndex:2,difficulty:"hard",explanation:"In the non-Euclidean plane, the only angle-preserving maps are isometries. There are no maps that multiply all lengths by a constant  1. This means each shape (of a triangle, say) exists in only one size."}],hJ=[{id:1,type:"multiple-choice",question:"What is a Pythagorean triple?",options:["Any three consecutive integers","Three natural numbers $(a, b, c)$ with $a^2 + b^2 = c^2$","The sides of any triangle","Three prime numbers"],correctIndex:1,difficulty:"easy",explanation:"A Pythagorean triple is a triple (a, b, c) of natural numbers satisfying a + b = c. By the converse Pythagorean theorem, these are also the side lengths of right-angled triangles."},{id:2,type:"numeric",question:"Approximately what year B.C. does the Plimpton 322 tablet date from?",correctAnswer:1800,numericRange:{min:1700,max:1900,precision:0},difficulty:"medium",explanation:"The Plimpton 322 tablet dates from around 1800 B.C. It is one of the most astonishing documents in the history of mathematics, containing a list of Pythagorean triples."},{id:3,type:"multiple-choice",question:"The Babylonians used what number base for their arithmetic?",options:["Base 2","Base 10","Base 12","Base 60"],correctIndex:3,difficulty:"medium",explanation:'The Babylonians wrote their numbers in base 60 (sexagesimal). This is why multiples of 60 appear as "round" numbers in the Plimpton 322 tablet.'},{id:4,type:"multiple-choice",question:"Which is the smallest Pythagorean triple?",options:["(1, 2, 3)","(2, 3, 4)","(3, 4, 5)","(5, 12, 13)"],correctIndex:2,difficulty:"easy",explanation:"(3, 4, 5) is the smallest Pythagorean triple: 3 + 4 = 9 + 16 = 25 = 5. (1, 2, 3) does not work since 1 + 4  9."},{id:5,type:"multiple-choice",question:"If $(3, 4, 5)$ is a Pythagorean triple, which of these is also?",options:["(4, 5, 6)","(6, 8, 10)","(3, 5, 7)","(9, 16, 25)"],correctIndex:1,difficulty:"medium",explanation:"If (a, b, c) is a Pythagorean triple, then so is (ka, kb, kc) for any natural number k. Here (6, 8, 10) = 2  (3, 4, 5), so 36 + 64 = 100."},{id:6,type:"multiple-choice",question:'What does it mean for a Pythagorean triple to be "primitive"?',options:["It was known to ancient people","The numbers a, b, c have no common divisor > 1","The numbers are all prime","The triple contains an odd number"],correctIndex:1,difficulty:"medium",explanation:"A Pythagorean triple (a, b, c) is primitive if gcd(a, b, c) = 1, meaning the three numbers share no common divisor greater than 1. Every triple is a multiple of a unique primitive triple."},{id:7,type:"multiple-choice",question:'Why do multiples of a Pythagorean triple represent the "same" triangle?',options:["They have the same angles","They have the same perimeter","Multiplication changes nothing","They are congruent"],correctIndex:0,difficulty:"hard",explanation:"Multiplying all sides by a constant k changes the size but not the shape of the triangle. The angles remain the sameit's just a different choice of unit length. This is why we focus on primitive triples."},{id:8,type:"multiple-choice",question:"Who discovered the meaning of the numbers on Plimpton 322?",options:["Pythagoras","Euclid","Neugebauer and Sachs","Diophantus"],correctIndex:2,difficulty:"hard",explanation:"Otto Neugebauer and Abraham Sachs discovered the meaning of the pairs (b, c) on Plimpton 322 in 1945. They showed that c - b is always a perfect square, revealing the tablet as a list of Pythagorean triples."}],uJ=[{id:1,type:"multiple-choice",question:"Euclid's formula for Pythagorean triples is:",options:["$a = u + v$, $b = u - v$, $c = uv$","$a = 2uv$, $b = u^2 - v^2$, $c = u^2 + v^2$","$a = u^2$, $b = v^2$, $c = u^2 + v^2$","$a = u$, $b = v$, $c = \\sqrt{u^2 + v^2}$"],correctIndex:1,difficulty:"easy",explanation:"Euclid's formula is a = 2uv, b = u - v, c = u + v. Substituting any natural numbers u > v gives a Pythagorean triple."},{id:2,type:"multiple-choice",question:"Using Euclid's formula with $u = 2$, $v = 1$, which triple do we get?",options:["(3, 4, 5)","(5, 12, 13)","(8, 15, 17)","(6, 8, 10)"],correctIndex:0,difficulty:"medium",explanation:"With u = 2, v = 1: a = 2(2)(1) = 4, b = 4 - 1 = 3, c = 4 + 1 = 5. So we get the triple (3, 4, 5)."},{id:3,type:"multiple-choice",question:"What key theorem from number theory is used to prove Euclid's parameterization?",options:["The Pythagorean theorem","Unique prime factorization","Fermat's Last Theorem","The quadratic formula"],correctIndex:1,difficulty:"medium",explanation:"The proof relies on unique prime factorization. If the product of relatively prime numbers is a square, then each factor must itself be a square."},{id:4,type:"multiple-choice",question:'What does "relatively prime" mean?',options:["Both numbers are prime","$\\gcd(x, y) = 1$","The numbers differ by 1","One number divides the other"],correctIndex:1,difficulty:"easy",explanation:"Two numbers x and y are relatively prime when gcd(x, y) = 1, meaning they share no common prime divisor."},{id:5,type:"multiple-choice",question:"For a primitive Pythagorean triple using Euclid's formula, which conditions on $u$ and $v$ are required?",options:["$u$ and $v$ are both odd","$u$ and $v$ are both even","$\\gcd(u, v) = 1$ and opposite parities","$u = 2v$"],correctIndex:2,difficulty:"hard",explanation:"For a primitive triple, we need gcd(u, v) = 1 (relatively prime) and one of u, v even while the other is odd (opposite parities). This ensures the triple has no common divisor."},{id:6,type:"numeric",question:"Using $u = 3$, $v = 2$ in Euclid's formula, what is the value of $c = u^2 + v^2$?",correctAnswer:13,numericRange:{min:1,max:100,precision:0},difficulty:"easy",explanation:"c = u + v = 9 + 4 = 13. This gives the triple (5, 12, 13)."},{id:7,type:"multiple-choice",question:"If relatively prime numbers $x$ and $y$ have product $xy$ that is a square, what can we conclude?",options:["$x = y$","$x$ and $y$ are both squares","$x + y$ is a square","Nothing special"],correctIndex:1,difficulty:"hard",explanation:"If gcd(x, y) = 1 and xy is a square, then both x and y must be squares. This follows from unique prime factorization: each prime appears an even number of times in the product, and since x and y share no primes, each must have even exponents."},{id:8,type:"multiple-choice",question:"In which book of Euclid's Elements does the treatment of Pythagorean triples appear?",options:["Book I","Book V","Book X","Book XIII"],correctIndex:2,difficulty:"hard",explanation:"Euclid treats Pythagorean triples in Book X (Lemma 1 to Proposition 28), where he sets out to find two square numbers whose sum is also a square."}],mJ=[{id:1,type:"multiple-choice",question:"Around what year did Diophantus discover his method for Pythagorean triples?",options:["500 B.C.","300 B.C.","250 A.D.","1000 A.D."],correctIndex:2,difficulty:"medium",explanation:"Diophantus discovered his method around 250 A.D. and presented it in his book the Arithmetica."},{id:2,type:"multiple-choice",question:'What is a "rational point" on the unit circle?',options:["Any point on the circle","A point with both coordinates rational","A point at a rational angle","The center of the circle"],correctIndex:1,difficulty:"easy",explanation:"A rational point is a point (x, y) where both x and y are rational numbers. Finding rational points on x + y = 1 is equivalent to finding Pythagorean triples."},{id:3,type:"multiple-choice",question:"What known point on the unit circle does Diophantus use to start his construction?",options:["(0, 0)","(1, 0)","(-1, 0)","(0, 1)"],correctIndex:2,difficulty:"easy",explanation:"Diophantus uses the obvious rational point (-1, 0) on the unit circle. Lines through this point with rational slope intersect the circle at other rational points."},{id:4,type:"multiple-choice",question:"Diophantus's formula for rational points on $x^2 + y^2 = 1$ is:",options:["$x = t$, $y = 1-t$","$x = \\frac{1-t^2}{1+t^2}$, $y = \\frac{2t}{1+t^2}$","$x = \\cos t$, $y = \\sin t$","$x = t^2$, $y = 1-t^2$"],correctIndex:1,difficulty:"medium",explanation:"Diophantus's formula is x = (1-t)/(1+t), y = 2t/(1+t). These give all rational points on the circle except (-1, 0) as t varies over rational values."},{id:5,type:"multiple-choice",question:"How does Diophantus's formula relate to Euclid's?",options:["They are completely different","Setting $t = v/u$ recovers Euclid's formula","Euclid's is more general","Diophantus came first"],correctIndex:1,difficulty:"medium",explanation:"Setting t = v/u in Diophantus's formula and clearing denominators gives (2uv, u - v, u + v), which is exactly Euclid's formula."},{id:6,type:"multiple-choice",question:'What is a "rational function"?',options:["A function whose values are always rational","A function built from a variable and constants by +, , , ","A function that equals a ratio","A function with rational domain"],correctIndex:1,difficulty:"medium",explanation:"A rational function is built from a variable t and constants using only the rational operations: addition, subtraction, multiplication, and division."},{id:7,type:"multiple-choice",question:`Which function can be "rationalized" using Diophantus's substitution?`,options:["$\\sqrt{1 - x^3}$","$\\sqrt{1 - x^2}$","$\\sqrt{1 - x^4}$","$\\sqrt{x}$"],correctIndex:1,difficulty:"hard",explanation:"(1-x) can be rationalized by substituting x = (1-t)/(1+t), giving (1-x) = 2t/(1+t). In contrast, (1-x) and (1-x) cannot be rationalizeda deep fact."},{id:8,type:"multiple-choice",question:"Why is Diophantus's formula simpler than Euclid's?",options:["It uses smaller numbers","It uses only one parameter instead of three","It avoids square roots","It works for all triangles"],correctIndex:1,difficulty:"hard",explanation:"Diophantus's formula uses only the single parameter t, while Euclid's requires three parameters u, v, and w. Working with rationals instead of integers simplifies the story considerably."}],pJ=[{id:1,type:"multiple-choice",question:'What defines a "rational triangle"?',options:["A triangle with integer sides","A triangle with rational sides and rational area","A right-angled triangle","A triangle with rational angles"],correctIndex:1,difficulty:"easy",explanation:"A rational triangle has both rational side lengths and rational area. Since area =  base  height, this is equivalent to having all altitudes rational."},{id:2,type:"numeric",question:"In what year A.D. did Brahmagupta publish his treatment of rational triangles?",correctAnswer:628,numericRange:{min:600,max:700,precision:0},difficulty:"medium",explanation:"Brahmagupta treated rational triangles thoroughly in his Brahma-sphuta-siddhanta of 628 A.D., the first comprehensive treatment of this topic."},{id:3,type:"multiple-choice",question:"What key property do all rational triangles have?",options:["They are equilateral","They split into two rational right triangles","Their perimeter is rational","They have a 90 angle"],correctIndex:1,difficulty:"medium",explanation:"Every rational triangle splits into two rational right-angled triangles when you drop an altitude. This follows from the parameterization of rational right triangles."},{id:4,type:"multiple-choice",question:"Triangles with rational sides and area are sometimes called:",options:["Pythagorean","Euclidean","Heronian","Diophantine"],correctIndex:2,difficulty:"medium",explanation:"Such triangles are called Heronian after the Greek mathematician Hero (first century A.D.), who is also known for Hero's formula for the area of a triangle."},{id:5,type:"multiple-choice",question:"Hero's formula for the area of a triangle with sides $a, b, c$ and semiperimeter $s$ is:",options:["$\\frac{1}{2}ab$","$\\sqrt{s(s-a)(s-b)(s-c)}$","$\\frac{abc}{4R}$","$(a+b+c)/2$"],correctIndex:1,difficulty:"easy",explanation:"Hero's formula states that Area = [s(s-a)(s-b)(s-c)], where s = (a+b+c)/2 is the semiperimeter."},{id:6,type:"multiple-choice",question:"The triangle (13, 14, 15) splits into which two right triangles?",options:["(3, 4, 5) and (5, 12, 13)","(5, 12, 13) and (9, 12, 15)","(6, 8, 10) and (7, 14, 15)","(5, 12, 13) and (8, 15, 17)"],correctIndex:1,difficulty:"hard",explanation:"The triangle (13, 14, 15) splits into (5, 12, 13) and (9, 12, 15) = 3(3, 4, 5). The altitude is h = 12, and it splits side 14 into segments 5 and 9."},{id:7,type:"multiple-choice",question:`Why did Hero's formula "defy" Greek geometric tradition?`,options:["It used irrational numbers","It multiplied four lengths together","It was discovered by a non-Greek","It required calculus"],correctIndex:1,difficulty:"hard",explanation:"Hero's formula multiplies four lengths (s, s-a, s-b, s-c) together, which the Greeks usually rejected as physically meaningless. Geometrically, this corresponds to a 4-dimensional volume."},{id:8,type:"multiple-choice",question:"If a triangle has altitude $h = 2u$, what is the relationship with Brahmagupta's parameters?",options:["$u$ is the area","$u$ determines the altitude via $h = 2u$","$u$ is the perimeter","$u$ is one of the sides"],correctIndex:1,difficulty:"medium",explanation:"In Brahmagupta's parameterization, the altitude is h = 2u. The rational triangle is assembled from two rational right triangles sharing this common altitude."}],fJ=[{id:1,type:"multiple-choice",question:"What is required for Diophantus's method to find all rational points on a quadratic curve?",options:["The curve must be a circle","The curve must have rational coefficients","The curve must pass through the origin","The curve must be symmetric"],correctIndex:1,difficulty:"medium",explanation:"The curve must have rational coefficients. Otherwise, a line with rational slope through a rational point may intersect the curve at an irrational point."},{id:2,type:"multiple-choice",question:"If a quadratic curve with rational coefficients has one rational point, how many does it have?",options:["Exactly one","Exactly two","Finitely many","Infinitely many"],correctIndex:3,difficulty:"easy",explanation:"If a quadratic curve with rational coefficients has one rational point, it has infinitely many, because there are infinitely many lines of rational slope through any point."},{id:3,type:"multiple-choice",question:"The curve $x^2 + y^2 = 3$ has:",options:["Infinitely many rational points","Exactly one rational point","No rational points","Exactly four rational points"],correctIndex:2,difficulty:"medium",explanation:"The curve x + y = 3 has no rational points. This can be proved by considering remainders modulo 4: the sum of two squares cannot leave remainder 3 mod 4."},{id:4,type:"multiple-choice",question:"Why does the curve $y = \\sqrt{2}x^2$ fail to have the expected rational points?",options:["It has no rational point to start from","Its coefficient is irrational","It is not a quadratic curve","It is not a closed curve"],correctIndex:1,difficulty:"hard",explanation:"The curve y = 2x has irrational coefficient 2. Even though (0,0) is a rational point and y = x has rational slope, the second intersection x = 1/2 is irrational."},{id:5,type:"multiple-choice",question:"For the hyperbola $x^2 - dy^2 = 1$, what are the rational points (except $(-1,0)$)?",options:["$x = \\frac{1-t^2}{1+t^2}$, $y = \\frac{2t}{1+t^2}$","$x = \\frac{1+dt^2}{1-dt^2}$, $y = \\frac{2t}{1-dt^2}$","$x = t^2$, $y = t$","$x = 1+t$, $y = t$"],correctIndex:1,difficulty:"hard",explanation:"The rational points on x - dy = 1 (other than (-1,0)) are given by x = (1+dt)/(1-dt), y = 2t/(1-dt) for rational t."},{id:6,type:"multiple-choice",question:"What argument shows that $x^2 + y^2 = 3$ has no rational points?",options:["The equation has no real solutions","Consider remainders modulo 4","The discriminant is negative","Apply Fermat's Last Theorem"],correctIndex:1,difficulty:"medium",explanation:"Squares modulo 4 are 0 or 1. So u + v mod 4 can only be 0, 1, or 2. But 3w mod 4 is 0 or 3. Since these don't overlap (except both 0, which forces a common factor), there's no solution."},{id:7,type:"multiple-choice",question:"Who first stated that $x^2 + y^2 = 15$ has no rational solution?",options:["Euclid","Pythagoras","Diophantus","Brahmagupta"],correctIndex:2,difficulty:"hard",explanation:"Diophantus stated in his Arithmetica (Book VI, Problem 14) that x + y = 15 has no rational solution. The argument is the same as for x + y = 3, since 15  3 (mod 4)."},{id:8,type:"multiple-choice",question:"What is the dichotomy for rational points on quadratic curves with rational coefficients?",options:["Either 0 or 1 rational points","Either finitely many or countably many","Either 0 or infinitely many rational points","Either rational or irrational points"],correctIndex:2,difficulty:"medium",explanation:"A quadratic curve with rational coefficients has either no rational points or infinitely many. There is no in-between: one rational point generates all others via lines of rational slope."}],xJ=[{id:1,type:"multiple-choice",question:"What is stereographic projection?",options:["A map from sphere to sphere","A map from plane to sphere (or vice versa) via lines through a pole","A rotation of the sphere","A projection onto a tangent plane"],correctIndex:1,difficulty:"easy",explanation:'Stereographic projection maps the plane to the sphere (or vice versa) by connecting points to the "north pole" (0, 0, 1). Each line through the pole hits both the plane and the sphere.'},{id:2,type:"multiple-choice",question:'What is the "north pole" in stereographic projection of the unit sphere?',options:["(0, 0, 0)","(1, 0, 0)","(0, 1, 0)","(0, 0, 1)"],correctIndex:3,difficulty:"easy",explanation:'The "north pole" is N = (0, 0, 1), the topmost point of the unit sphere x + y + z = 1. Lines through this point connect plane points to sphere points.'},{id:3,type:"multiple-choice",question:"What does stereographic projection tell us about rational points on the sphere?",options:["There are no rational points","Rational (u, v) in the plane give rational (p, q, r) on the sphere","Only integer points are preserved","The projection distorts all rationals"],correctIndex:1,difficulty:"medium",explanation:"The formulas show that p, q, r are rational if and only if u and v are rational. So rational points in the plane correspond exactly to rational points on the sphere (except the north pole)."},{id:4,type:"multiple-choice",question:"Rational points on the unit sphere correspond to integer solutions of:",options:["$a + b + c = d$","$a^2 + b^2 = c^2$","$a^2 + b^2 + c^2 = d^2$","$a^3 + b^3 + c^3 = d^3$"],correctIndex:2,difficulty:"medium",explanation:"Each rational point (a/d, b/d, c/d) on the sphere satisfies (a/d) + (b/d) + (c/d) = 1, which gives a + b + c = d. Stereographic projection finds all such quadruples."},{id:5,type:"multiple-choice",question:"The formula for $r$ in stereographic projection (plane to sphere) is:",options:["$r = \\frac{2u}{u^2 + v^2 + 1}$","$r = \\frac{2v}{u^2 + v^2 + 1}$","$r = \\frac{u^2 + v^2 - 1}{u^2 + v^2 + 1}$","$r = u^2 + v^2$"],correctIndex:2,difficulty:"medium",explanation:"The z-coordinate of the projected point is r = (u + v - 1)/(u + v + 1). Note that r ranges from -1 (at the origin) toward 1 (as u + v  )."},{id:6,type:"multiple-choice",question:"Why does the sphere $x^2 + y^2 + z^2 = 7$ have no rational points?",options:["7 is prime","Consider remainders modulo 8","The sphere is too small","7 is not a perfect square"],correctIndex:1,difficulty:"hard",explanation:"Squares modulo 8 are 0, 1, or 4. The sum of three squares mod 8 can be 0, 1, 2, 3, 4, 5, or 6, but not 7. So a + b + c = 7d is impossible, meaning no rational points exist."},{id:7,type:"multiple-choice",question:"What is the inverse formula for stereographic projection (sphere to plane)?",options:["$u = p(1-r)$, $v = q(1-r)$","$u = p/(1-r)$, $v = q/(1-r)$","$u = p + r$, $v = q + r$","$u = p/r$, $v = q/r$"],correctIndex:1,difficulty:"medium",explanation:"To go from sphere point (p, q, r) back to plane point (u, v), use u = p/(1-r) and v = q/(1-r). This formula breaks down at the north pole where r = 1."},{id:8,type:"multiple-choice",question:"Stereographic projection generalizes to n-dimensional spheres. What do rational points correspond to?",options:["Integer solutions to $x_1 + \\cdots + x_n = x_{n+1}$","Integer solutions to $x_1^2 + \\cdots + x_n^2 = x_{n+1}^2$","Real solutions only","Complex points"],correctIndex:1,difficulty:"hard",explanation:"In n dimensions, rational points on the unit sphere correspond to integer solutions of x + x +  + x = x. The stereographic projection formulas generalize naturally."}],gJ=[{id:1,type:"multiple-choice",question:"What did Fermat prove about the area of rational right triangles?",options:["The area is always rational","The area is never a perfect square","The area is always odd","The area equals the perimeter"],correctIndex:1,difficulty:"easy",explanation:"Fermat proved in 1640 that the area of a rational right triangle is never a perfect square. This is proved using infinite descent."},{id:2,type:"numeric",question:"In what year did Fermat prove his theorem on rational right triangles?",correctAnswer:1640,numericRange:{min:1600,max:1700,precision:0},difficulty:"medium",explanation:"Fermat proved his theorem in 1640, using his method of infinite descent applied to Pythagorean triples."},{id:3,type:"multiple-choice",question:"What proof technique did Fermat use?",options:["Mathematical induction","Contradiction","Infinite descent","Exhaustive search"],correctIndex:2,difficulty:"easy",explanation:"Fermat used infinite descent: if a rational right triangle with square area existed, we could construct a smaller one with the same property, and repeat foreverimpossible."},{id:4,type:"multiple-choice",question:"Who first asked if a rational right triangle can have square area?",options:["Euclid","Diophantus","Fibonacci","Fermat"],correctIndex:2,difficulty:"medium",explanation:"Fibonacci raised the question in his Liber Quadratorum (Book of Squares) in 1225. It took over 400 years until Fermat answered it."},{id:5,type:"multiple-choice",question:"For a primitive Pythagorean triple $(a, b, c)$ with $a = 2uv$, $b = u^2 - v^2$, what is the area?",options:["$uv$","$uv(u-v)(u+v)$","$u^2 + v^2$","$(u-v)(u+v)$"],correctIndex:1,difficulty:"medium",explanation:"The area is ab/2 = (2uv)(u - v)/2 = uv(u - v) = uv(u-v)(u+v). For this to be a square, each factor must be a square."},{id:6,type:"multiple-choice",question:"Which equation is proved impossible by Fermat's theorem on right triangles?",options:["$a^2 + b^2 = c^2$","$a^4 - b^4 = c^2$","$a^3 + b^3 = c^3$","$a^2 - b^2 = c$"],correctIndex:1,difficulty:"hard",explanation:"Fermat's theorem implies a - b = c has no natural number solutions. If it did, the triangle (a - b, 2ab, a + b) would have square area abc."},{id:7,type:"multiple-choice",question:"What special case of Fermat's Last Theorem follows from this result?",options:["$x^2 + y^2 = z^2$ has no solutions","$x^3 + y^3 = z^3$ has no solutions","$x^4 + y^4 = z^4$ has no solutions","$x^5 + y^5 = z^5$ has no solutions"],correctIndex:2,difficulty:"medium",explanation:"The case n = 4 of Fermat's Last Theorem follows: if x + y = z, then z - y = (x), contradicting the impossibility of a - b = c."},{id:8,type:"numeric",question:"In what year was Fermat's Last Theorem finally proved in full?",correctAnswer:1995,numericRange:{min:1990,max:2e3,precision:0},difficulty:"hard",explanation:"Fermat's Last Theorem was proved by Andrew Wiles in 1995, over 350 years after Fermat claimed to have a proof. The n = 4 case was the only case Fermat actually proved."}],bJ=[{id:1,type:"multiple-choice",question:"When did Diophantus of Alexandria live?",options:["500-400 B.C.","300-200 B.C.","150-300 A.D.","500-600 A.D."],correctIndex:2,difficulty:"medium",explanation:"Diophantus lived sometime between 150 A.D. and 300 A.D. in Alexandria. His exact dates are uncertain, but he represents the last peak of classical Greek mathematics."},{id:2,type:"multiple-choice",question:"What is Diophantus's major surviving work called?",options:["Elements","Arithmetica","Almagest","Conics"],correctIndex:1,difficulty:"easy",explanation:"Diophantus's major work is the Arithmetica, a collection of problems about finding integers or rationals satisfying various conditions. It inspired Fermat and Euler."},{id:3,type:"multiple-choice",question:'What are "Diophantine equations"?',options:["Equations with complex solutions","Equations to be solved in integers or rationals","Quadratic equations only","Equations without solutions"],correctIndex:1,difficulty:"easy",explanation:"Diophantine equations are equations to be solved in integers or rational numbers, named in honor of Diophantus. They combine algebra, geometry, and number theory."},{id:4,type:"multiple-choice",question:`Which famous mathematician praised Diophantus's methods as "as general as those in use today"?`,options:["Newton","Gauss","Euler","Fermat"],correctIndex:2,difficulty:"medium",explanation:'Euler praised Diophantus, writing that his methods "are as general as those which are in use today" and that "there is hardly any method yet invented... of which there are not sufficiently distinct traces to be discovered in Diophantus."'},{id:5,type:"multiple-choice",question:"What is special about rational points on cubic curves (elliptic curves)?",options:["There are always infinitely many","There are always none","They form a finitely generated group","They cannot be studied geometrically"],correctIndex:2,difficulty:"hard",explanation:"Mordell's theorem (1922) states that the rational points on an elliptic curve form a finitely generated group. This is much more subtle than the quadratic case, where there are either 0 or infinitely many points."},{id:6,type:"numeric",question:"In what year was Fermat's Last Theorem finally proved by Andrew Wiles?",correctAnswer:1995,numericRange:{min:1990,max:2e3,precision:0},difficulty:"medium",explanation:"Andrew Wiles proved Fermat's Last Theorem in 1995, using deep connections between elliptic curves and modular forms. The theorem had remained unproved for over 350 years."},{id:7,type:"multiple-choice",question:"Why is Diophantus's method of lines powerful for quadratic curves?",options:["It avoids all computation","One rational point generates infinitely many via lines of rational slope","It works for all polynomial equations","It finds integer points directly"],correctIndex:1,difficulty:"medium",explanation:"For quadratic curves with rational coefficients, one rational point plus lines of rational slope generate all rational points. This is why such curves have either 0 or infinitely many rational points."},{id:8,type:"multiple-choice",question:"What is the Birch and Swinnerton-Dyer (BSD) conjecture about?",options:["Prime numbers","Rational points on elliptic curves","Pythagorean triples","Non-Euclidean geometry"],correctIndex:1,difficulty:"hard",explanation:"The BSD conjecture connects the number of rational points on an elliptic curve to properties of an associated analytic function. It is one of the Millennium Prize Problems, with a $1 million reward."}],yJ=[{id:1,type:"multiple-choice",question:"Why did Euclid avoid measuring angles with numbers?",options:["He did not know about numbers","Angle measure is a deep concept beyond traditional geometry","The Greeks only worked with integers","Angles cannot be measured"],correctIndex:1,difficulty:"medium",explanation:"Euclid compared angles but never assigned numbers to them. This suggests angle measure is a deeper concept than traditional geometric methods can handle directly."},{id:2,type:"multiple-choice",question:"How is the measure of an angle defined in this approach?",options:["As the area of a triangle","As the arc length on a unit circle","As the number of degrees","As the ratio of two sides"],correctIndex:1,difficulty:"easy",explanation:"We define angle measure as the length of the arc cut off on a unit circle centered at the vertex of the angle."},{id:3,type:"multiple-choice",question:"How is arc length formally defined?",options:["As the product of radius and angle","As the least upper bound of inscribed polygon lengths","As twice the chord length","As the perimeter divided by 2"],correctIndex:1,difficulty:"medium",explanation:"Arc length is defined as the least upper bound (supremum) of the lengths of polygons inscribed in the arc, using the completeness of real numbers."},{id:4,type:"multiple-choice",question:"What is the definition of  in this approach?",options:["The ratio of circumference to diameter","The length of a semicircle of radius 1","The area of a unit circle","All of the above are equivalent"],correctIndex:3,difficulty:"medium",explanation:" can be defined as the length of a semicircle of radius 1, or equivalently as half the circumference, or as the area of the unit circle. All these definitions give the same value."},{id:5,type:"multiple-choice",question:"What did Archimedes prove about  using 96-sided polygons?",options:[" = 3"," = 22/7 exactly","3 + 10/71 <  < 3 + 1/7"," is irrational"],correctIndex:2,difficulty:"hard",explanation:"Archimedes used inner and outer 96-sided polygons to prove 3 + 10/71 <  < 3 + 1/7, giving approximately 3.140 <  < 3.143."},{id:6,type:"numeric",question:"How many radians are in a full circle?",correctAnswer:6.28,numericRange:{min:6.25,max:6.32,precision:2},difficulty:"easy",explanation:"A full circle equals 2 radians, which is approximately 6.28 radians."},{id:7,type:"multiple-choice",question:"Why is arc length additive?",options:["Because angles are defined that way","Because of the least upper bound property","Because the circle is round","It is not actually additive"],correctIndex:1,difficulty:"medium",explanation:"Arc length is additive because of how the least upper bound works: polygons in adjacent arcs can be combined into a polygon in the union, and vice versa."},{id:8,type:"multiple-choice",question:"What problem shows that the ancient Greeks understood the depth of angle measure?",options:["Trisecting the angle","Squaring the circle","Duplicating the cube","The parallel postulate"],correctIndex:1,difficulty:"medium",explanation:"Squaring the circle requires constructing , which is the natural measure of a straight angle. The Greeks' failure to solve this problem hints at the transcendental nature of angle measure."}],vJ=[{id:1,type:"multiple-choice",question:"How are cos  and sin  defined using the unit circle?",options:["As the lengths of sides of a triangle","As the coordinates of a point at angle  on the unit circle","As the area and perimeter of a sector","As roots of a polynomial equation"],correctIndex:1,difficulty:"easy",explanation:"On the unit circle, the point at angle  has coordinates (cos , sin ). This extends the trigonometric ratios to all real angles."},{id:2,type:"multiple-choice",question:"What is the Pythagorean identity for cos and sin?",options:["cos  + sin  = 1","cos  + sin  = 1","cos   sin  = 1","cos  - sin  = 1"],correctIndex:1,difficulty:"easy",explanation:"Since (cos , sin ) lies on the unit circle x + y = 1, we have cos  + sin  = 1."},{id:3,type:"multiple-choice",question:"What is the period of the cosine and sine functions?",options:["","2","/2","4"],correctIndex:1,difficulty:"easy",explanation:"Both cos and sin have period 2, meaning cos( + 2) = cos  and sin( + 2) = sin . This corresponds to one complete rotation around the circle."},{id:4,type:"multiple-choice",question:"Why are cos and sin called transcendental functions?",options:["They are very complex","They transcend human understanding","They cannot be expressed as roots of polynomials","They were discovered by transcendental meditation"],correctIndex:2,difficulty:"medium",explanation:"Transcendental functions cannot be expressed as algebraic functions (solutions to polynomial equations). The sine curve meets the line y = 0 infinitely often, which is impossible for any algebraic curve."},{id:5,type:"multiple-choice",question:"What is lim(0) sin  / ?",options:["0","1","","Does not exist"],correctIndex:1,difficulty:"medium",explanation:"This fundamental limit equals 1. It can be proved by the squeeze theorem using sin  <  < tan  for small positive ."},{id:6,type:"multiple-choice",question:"What physical phenomenon does cos  model when  represents time?",options:["Constant motion","Simple harmonic motion (vibration)","Exponential growth","Random motion"],correctIndex:1,difficulty:"medium",explanation:"When a point moves uniformly around a circle, its x-coordinate traces out cos , which models simple harmonic motionthe basis of musical tones and many vibrations."},{id:7,type:"multiple-choice",question:"If sin  = 3/5 and  is in the first quadrant, what is cos ?",options:["3/5","4/5","5/4","5/3"],correctIndex:1,difficulty:"medium",explanation:"Using cos  + sin  = 1, we get cos  = 1 - 9/25 = 16/25, so cos  = 4/5 (positive in the first quadrant)."},{id:8,type:"multiple-choice",question:"Why does the graph of sin lag behind cos by /2?",options:["They are unrelated functions","Because sin  = cos( - /2)","Because of a computational error","They have different periods"],correctIndex:1,difficulty:"hard",explanation:"From the unit circle, sin  = cos(/2 - ) = cos(-( - /2)) = cos( - /2). So the sine wave is the cosine wave shifted right by /2."}],jJ=[{id:1,type:"multiple-choice",question:"What is cos( + )?",options:["cos  + cos ","cos  cos  + sin  sin ","cos  cos  - sin  sin ","sin  cos  + cos  sin "],correctIndex:2,difficulty:"easy",explanation:"The addition formula for cosine is cos( + ) = cos  cos  - sin  sin . Note the minus sign between the two products."},{id:2,type:"multiple-choice",question:"What is sin( + )?",options:["sin  + sin ","sin  cos  - cos  sin ","cos  cos  - sin  sin ","sin  cos  + cos  sin "],correctIndex:3,difficulty:"easy",explanation:"The addition formula for sine is sin( + ) = sin  cos  + cos  sin . Note the plus sign between the two products."},{id:3,type:"multiple-choice",question:"What is the double angle formula for cos 2?",options:["2 cos ","cos  + sin ","cos  - sin ","2 cos  sin "],correctIndex:2,difficulty:"easy",explanation:"Setting  =  in the cosine addition formula gives cos 2 = cos  - sin . This can also be written as 2cos  - 1 or 1 - 2sin ."},{id:4,type:"multiple-choice",question:"What is sin 2?",options:["2 sin ","2 sin  cos ","sin  - cos ","sin  + cos "],correctIndex:1,difficulty:"easy",explanation:"Setting  =  in the sine addition formula gives sin 2 = sin  cos  + cos  sin  = 2 sin  cos ."},{id:5,type:"multiple-choice",question:"What does de Moivre's formula state?",options:["cos  + sin  = 1","(cos  + i sin )(cos  + i sin ) = cos(+) + i sin(+)","cos  + sin  = 1","i = -1"],correctIndex:1,difficulty:"medium",explanation:"De Moivre's formula unifies both addition formulas: (cos  + i sin )(cos  + i sin ) = cos(+) + i sin(+). This shows the multiplicative nature of rotations."},{id:6,type:"numeric",question:"In what year was de Moivre's formula discovered?",correctAnswer:1730,numericRange:{min:1700,max:1800,precision:0},difficulty:"hard",explanation:"De Moivre's formula dates to around 1730, discovered by Abraham de Moivre, showing the connection between complex numbers and trigonometry."},{id:7,type:"multiple-choice",question:"What is the derivative of sin x (found using the addition formula)?",options:["-cos x","cos x","sin x","-sin x"],correctIndex:1,difficulty:"medium",explanation:"Using the sine addition formula and the limits lim(0) sin / = 1 and lim(0) (cos  - 1)/ = 0, we can show that the derivative of sin x is cos x."},{id:8,type:"multiple-choice",question:"What is cos 3 in terms of cos ?",options:["3 cos ","4 cos  - 3 cos ","3 cos  - 4 cos ","cos  + 3 cos "],correctIndex:1,difficulty:"hard",explanation:"Using de Moivre or the addition formulas repeatedly: cos 3 = 4cos  - 3cos . Vite used such formulas to solve polynomial equations."}],wJ=[{id:1,type:"multiple-choice",question:"What is tan( + ) in terms of tan  and tan ?",options:["tan  + tan ","tan  tan ","(tan  + tan )/(1 - tan  tan )","(tan  - tan )/(1 + tan  tan )"],correctIndex:2,difficulty:"easy",explanation:"The tangent addition formula is tan( + ) = (tan  + tan )/(1 - tan  tan ), derived from the sine and cosine addition formulas."},{id:2,type:"multiple-choice",question:"What is special about the tangent addition formula?",options:["It involves square roots","It is purely rationalif s and t are rational, so is (s+t)/(1-st)","It only works for small angles","It requires complex numbers"],correctIndex:1,difficulty:"easy",explanation:"The tangent addition formula is rational: if both input slopes s and t are rational, the output (s+t)/(1-st) is also rational."},{id:3,type:"multiple-choice",question:"Starting with slope s = 7/24, what is the slope at angle 2?",options:["14/48","336/527","49/576","7/12"],correctIndex:1,difficulty:"medium",explanation:"Using the double angle formula: 2s/(1-s) = (27/24)/(1-49/576) = (14/24)/(527/576) = 336/527."},{id:4,type:"multiple-choice",question:"What problem does the rational addition formula solve?",options:["Squaring the circle","Trisecting any angle","Finding equally spaced rational points on a circle","Computing  exactly"],correctIndex:2,difficulty:"medium",explanation:"The formula lets us generate equally spaced rational points on a circle arc, which is what the Babylonians were attempting with Plimpton 322."},{id:5,type:"multiple-choice",question:'If Pythagorean triples can be "multiplied," what is the "square" of (3, 4, 5)?',options:["(6, 8, 10)","(9, 16, 25)","(-7, 24, 25)","(5, 12, 13)"],correctIndex:2,difficulty:"hard",explanation:"Using complex multiplication: (3 + 4i) = 9 + 24i - 16 = -7 + 24i, giving the triple (-7, 24, 25)."},{id:6,type:"multiple-choice",question:"Into how many equal parts can the unit circle be divided by rational points?",options:["Any number of parts","Only powers of 2","Only 2 or 4 parts","It is impossible to divide it at all"],correctIndex:2,difficulty:"hard",explanation:"The circle can only be divided into 2 or 4 equal parts by rational points. This follows from properties of angles with rational tangent."},{id:7,type:"multiple-choice",question:"How does the half-angle substitution t = tan(/2) relate to Diophantus?",options:["It is unrelated","It gives the same parametrization of rational points on the circle","It was discovered by Diophantus","It contradicts his work"],correctIndex:1,difficulty:"medium",explanation:"The formulas cos  = (1-t)/(1+t) and sin  = 2t/(1+t) are exactly Diophantus's parametrization of rational points on the unit circle."},{id:8,type:"multiple-choice",question:"What is an important application of the t = tan(/2) substitution in calculus?",options:["Computing derivatives of polynomials","Converting trigonometric integrals to rational function integrals","Solving differential equations","Finding Taylor series"],correctIndex:1,difficulty:"medium",explanation:"The Weierstrass substitution t = tan(/2) transforms any rational expression in sin and cos into a rational function of t, making integration easier."}],NJ=[{id:1,type:"multiple-choice",question:"What is Hilbert's Third Problem?",options:["Can a square be dissected into a circle?","Can a tetrahedron be cut into pieces and reassembled into a cube?","Can  be computed exactly?","Can any angle be trisected?"],correctIndex:1,difficulty:"easy",explanation:"Hilbert's Third Problem asks whether a regular tetrahedron can be cut into finitely many pieces and reassembled into a cube of equal volume."},{id:2,type:"multiple-choice",question:"What is a dihedral angle?",options:["An angle in a triangle","The angle between two faces of a polyhedron","Half of a full rotation","An angle measured in radians"],correctIndex:1,difficulty:"easy",explanation:"A dihedral angle is the angle between two faces of a polyhedron, measured along their common edge."},{id:3,type:"multiple-choice",question:"What is the dihedral angle of a cube?",options:["/3","/4","/2","2/3"],correctIndex:2,difficulty:"easy",explanation:"The faces of a cube meet at right angles, so the dihedral angle is /2 (90 degrees)."},{id:4,type:"multiple-choice",question:"What is the cosine of the dihedral angle  of a regular tetrahedron?",options:["1/2","1/3","2/2","3/2"],correctIndex:1,difficulty:"medium",explanation:"Using the double angle formula and geometric calculation, cos  = 1/3 for the regular tetrahedron."},{id:5,type:"numeric",question:"In what year did Hilbert pose his famous list of problems including the Third Problem?",correctAnswer:1900,numericRange:{min:1895,max:1905,precision:0},difficulty:"medium",explanation:"Hilbert presented his 23 problems at the International Congress of Mathematicians in Paris in 1900."},{id:6,type:"multiple-choice",question:"Who solved Hilbert's Third Problem?",options:["David Hilbert","Max Dehn","Henri Poincar","Felix Klein"],correctIndex:1,difficulty:"medium",explanation:"Max Dehn, Hilbert's student, solved the problem just a few months after it was posed, showing the answer is no."},{id:7,type:"multiple-choice",question:"What makes 3D scissors congruence different from 2D scissors congruence?",options:["They are the same","In 2D, equal-area polygons can always be dissected into each other; in 3D this fails","3D is easier because there are more dimensions","Neither works in general"],correctIndex:1,difficulty:"medium",explanation:"In 2D, any two polygons of equal area are scissors congruent. In 3D, polyhedra of equal volume may not be scissors congruent."},{id:8,type:"multiple-choice",question:"Why does Hilbert's Third Problem matter for the theory of volume?",options:["It shows volume cannot be defined","It shows that 3D volume fundamentally requires limits, unlike 2D area","It proves volume equals area","It has no mathematical significance"],correctIndex:1,difficulty:"hard",explanation:"The negative answer means volume cannot be defined through finite dissections aloneunlike area, it inherently requires limits or calculus."}],kJ=[{id:1,type:"multiple-choice",question:"What is the Dehn invariant of a polyhedron?",options:["Its volume","Its surface area","A sum of edge lengths tensored with dihedral angles","The number of vertices"],correctIndex:2,difficulty:"easy",explanation:"The Dehn invariant is D(S) =  l  , where l are edge lengths and  are the corresponding dihedral angles."},{id:2,type:"multiple-choice",question:"According to Rule 3, what is l  ?",options:["l","","0","l"],correctIndex:2,difficulty:"easy",explanation:"Rule 3 states l   = 0, because an edge with dihedral angle  is not a real edgethe faces are coplanar."},{id:3,type:"multiple-choice",question:"What is the Dehn invariant of a unit cube?",options:["12","/2","6","0"],correctIndex:3,difficulty:"medium",explanation:"The cube has 12 edges with angle /2, giving 12  /2. But two copies of 1  /2 sum to 1   = 0, so the total is 0."},{id:4,type:"multiple-choice",question:"If two polyhedra have different Dehn invariants, what can we conclude?",options:["They have different volumes","They cannot be cut and pasted into each other","They have different surface areas","Nothing can be concluded"],correctIndex:1,difficulty:"medium",explanation:"The Dehn invariant is preserved under cutting and pasting. Different invariants means equidecomposability is impossible."},{id:5,type:"multiple-choice",question:"What does Rule 1 (l  ( + ) = l   + l  ) describe geometrically?",options:["Cutting an edge in half","Cutting along an edge, splitting a dihedral angle","Rotating the polyhedron","Measuring the volume"],correctIndex:1,difficulty:"medium",explanation:"Rule 1 describes what happens when a cut is made along an edge, splitting its dihedral angle  +  into two angles  and ."},{id:6,type:"multiple-choice",question:"The mathematical objects l   obeying Rules 1 and 2 are called:",options:["Vectors","Matrices","Tensors","Polynomials"],correctIndex:2,difficulty:"medium",explanation:"These objects are called tensors. The set of them forms a tensor product, denoted   /."},{id:7,type:"multiple-choice",question:"What does the notation / represent?",options:["The real numbers divided by ","Angles where we treat  as equivalent to 0","Rational numbers","Complex numbers"],correctIndex:1,difficulty:"hard",explanation:"/ is the set of real numbers where  = 0 (and hence all integer multiples of  equal 0). It represents angles modulo ."},{id:8,type:"multiple-choice",question:'Why is the Dehn invariant called an "invariant"?',options:["It varies with temperature","It stays the same under cutting and pasting","It was invented by a mathematician named Invariant","It is always equal to 0"],correctIndex:1,difficulty:"easy",explanation:"An invariant is a quantity that does not change under certain transformations. The Dehn invariant is unchanged by cutting and pasting."}],TJ=[{id:1,type:"multiple-choice",question:"What is an additive function?",options:["A function that adds numbers","A function satisfying f( + ) = f() + f()","A function that is always positive","A function defined only on integers"],correctIndex:1,difficulty:"easy",explanation:"An additive function f satisfies the functional equation f( + ) = f() + f() for all  and  in its domain."},{id:2,type:"multiple-choice",question:"The simplest additive functions from  to  are f(x) = kx. Why doesn't this help for the Dehn invariant?",options:["They are too complicated","If f() = 0, then k = 0, giving only the zero function","They do help directly","They are not continuous"],correctIndex:1,difficulty:"medium",explanation:"For the Dehn invariant we need f() = 0. If f(x) = kx, then k = 0 implies k = 0, so f is identically zeronot useful!"},{id:3,type:"multiple-choice",question:'What does "rationally independent" mean for a set of numbers?',options:["They are all irrational","No nontrivial rational linear combination equals zero","They have no common factors","They are all independent random variables"],correctIndex:1,difficulty:"medium",explanation:"Numbers , ...,  are rationally independent if r + ... + r = 0 (with rational r) implies all r = 0."},{id:4,type:"multiple-choice",question:'What is a "basis over " for a finite set S of reals?',options:["The smallest element of S","A set of rationally independent numbers that generate S via rational combinations","The average of S","The GCD of elements of S"],correctIndex:1,difficulty:"hard",explanation:"A basis over  for S is a rationally independent set {, ..., } such that every element of S is a rational combination of the ."},{id:5,type:"multiple-choice",question:"If  and  are rationally independent, what can we say about l  ?",options:["It equals 0","It equals l  ","It is nonzero whenever l  0","It depends on the cube"],correctIndex:2,difficulty:"medium",explanation:"The Rational Independence Theorem: if  and  are rationally independent, then l   = 0 only if l = 0."},{id:6,type:"multiple-choice",question:"Can a 2  (1/2) rectangle be converted to a 1  1 square by horizontal and vertical cuts?",options:["Yes, because they have the same area","No, because 2 and 1 are rationally independent","Yes, with exactly 4 cuts","It depends on the starting orientation"],correctIndex:1,difficulty:"hard",explanation:"Though they have equal area, the tensor 2  (1/2)  1  1 in    because 2 and 1 are rationally independent."},{id:7,type:"multiple-choice",question:"Why is the Rational Independence Theorem crucial for Hilbert's Third Problem?",options:["It calculates volumes","It links number theory (rational independence) to geometry (equidecomposability)","It proves all polyhedra are equidecomposable","It defines the tetrahedron"],correctIndex:1,difficulty:"hard",explanation:"The theorem bridges number theory and geometry: if the tetrahedron's dihedral angle is rationally independent of , its Dehn invariant is nonzero."},{id:8,type:"multiple-choice",question:"What property makes the construction of bases over  possible for any finite set?",options:["All finite sets are countable","We can select rationally independent elements one at a time","Finite sets have finitely many subsets","The set must contain "],correctIndex:1,difficulty:"medium",explanation:"Starting with any element, we add elements that are rationally independent of previous choices until all elements are rational combinations of the basis."}],SJ=[{id:1,type:"multiple-choice",question:"What is Dehn's Theorem?",options:["All polyhedra of equal volume are equidecomposable","The regular tetrahedron is not equidecomposable with the cube","The cube has the largest volume among polyhedra","All dihedral angles are rational multiples of "],correctIndex:1,difficulty:"easy",explanation:"Dehn's Theorem states that the regular tetrahedron cannot be cut into finitely many pieces and reassembled into a cube."},{id:2,type:"multiple-choice",question:"What key property must be proved about the tetrahedron's dihedral angle ?",options:["cos  = 0"," is a rational multiple of "," is NOT a rational multiple of "," = /4"],correctIndex:2,difficulty:"medium",explanation:"We must prove  is not a rational multiple of . This ensures the Dehn invariant 6    0."},{id:3,type:"multiple-choice",question:"In the inductive proof, what form does cos(n) take?",options:["An integer","q/3 where q is not divisible by 3","A power of 2","n"],correctIndex:1,difficulty:"medium",explanation:"The induction proves cos(n) = q/3 where q is an integer not divisible by 3, for all positive integers n."},{id:4,type:"multiple-choice",question:"What identity is used in the inductive step?",options:["sin + cos = 1","cos((k+1)) + cos((k-1)) = 2cos(k)cos()","tan() = sin()/cos()","e^(i) = cos() + i sin()"],correctIndex:1,difficulty:"hard",explanation:"Adding the cosine addition formulas for cos((k+1)) and cos((k-1)) gives this identity."},{id:5,type:"multiple-choice",question:"Why is q = 2q - 9q not divisible by 3?",options:["Because 9 is divisible by 3","Because 2q is not divisible by 3, while 9q is","Because q is always odd","By definition of divisibility"],correctIndex:1,difficulty:"hard",explanation:"9q is divisible by 3, but 2q is not (since q is not divisible by 3). The difference of a multiple of 3 and a non-multiple is not a multiple of 3."},{id:6,type:"multiple-choice",question:"If  were a rational multiple of  (say  = m/n), what would cos(n) equal?",options:["1/3","0","1","n"],correctIndex:2,difficulty:"medium",explanation:"If  = m/n, then n = m, so cos(n) = cos(m) = 1 depending on whether m is even or odd."},{id:7,type:"multiple-choice",question:"What three mathematical areas combine in the proof of Dehn's Theorem?",options:["Calculus, statistics, combinatorics","Trigonometry, number theory, abstract algebra","Geometry, probability, analysis","Linear algebra, topology, logic"],correctIndex:1,difficulty:"medium",explanation:"The proof uses the cosine addition formula (trigonometry), divisibility arguments (number theory), and tensor products (abstract algebra)."},{id:8,type:"multiple-choice",question:"What is the Dehn invariant of the regular tetrahedron with unit edges?",options:["0","6   where cos() = 1/3","12  /2","4  /3"],correctIndex:1,difficulty:"medium",explanation:"The tetrahedron has 6 edges of length 1, each with dihedral angle  where cos() = 1/3. So D = 6  ."}],AJ=[{id:1,type:"multiple-choice",question:"What is the Leibniz formula for /4?",options:["/4 = 1 + 1/2 + 1/3 + 1/4 + ...","/4 = 1 - 1/3 + 1/5 - 1/7 + ...","/4 = 1/1 + 1/2 + 1/3 + ...","/4 = 2/2"],correctIndex:1,difficulty:"easy",explanation:"The Leibniz formula is /4 = 1 - 1/3 + 1/5 - 1/7 + ..., an alternating sum of reciprocals of odd numbers."},{id:2,type:"multiple-choice",question:"What was mathematically significant about Vite's product formula for ?",options:["It was the first approximation of ","It was the first infinite product in mathematics","It proved  is rational","It used only whole numbers"],correctIndex:1,difficulty:"medium",explanation:"Vite's formula (1593) was the first infinite product in mathematics, expressing 2/ as an infinite product of nested square roots."},{id:3,type:"multiple-choice",question:'What does the word "trigonometry" literally mean?',options:["Circle measurement","Triangle measurement","Angle calculation","Wave analysis"],correctIndex:1,difficulty:"easy",explanation:"From Greek: trigonon (triangle) + metron (measure). Though the subject has grown far beyond triangles."},{id:4,type:"multiple-choice",question:"Which formula connects trigonometry to complex numbers?",options:["The Pythagorean theorem","De Moivre's formula: e^(i) = cos  + i sin ","The law of cosines","The tangent addition formula"],correctIndex:1,difficulty:"medium",explanation:"De Moivre's formula (and Euler's formula e^(i) = cos  + i sin ) beautifully connects trigonometry to complex numbers."},{id:5,type:"numeric",question:"In what year was the Leibniz formula for  rediscovered in Europe (approximately)?",correctAnswer:1670,numericRange:{min:1660,max:1680,precision:0},difficulty:"medium",explanation:"The formula was discovered in India around 1500 A.D. and rediscovered in Europe around 1670 by Leibniz and others."},{id:6,type:"multiple-choice",question:"What physical phenomena are described by circular functions?",options:["Only planetary orbits","Waves, vibrations, and harmonic motion","Only sound waves","Linear motion"],correctIndex:1,difficulty:"easy",explanation:"Circular functions describe all kinds of periodic phenomena: sound waves, light waves, vibrations, tides, and any oscillating system."},{id:7,type:"multiple-choice",question:"What connects the tangent addition formula to Pythagorean triples?",options:["They are unrelated","Rational slopes correspond to rational points on the circle, hence Pythagorean triples","Both use the number 3","Both were discovered by Pythagoras"],correctIndex:1,difficulty:"hard",explanation:"A rational slope t gives a rational point ((1-t)/(1+t), 2t/(1+t)) on the circle, corresponding to a Pythagorean triple."},{id:8,type:"multiple-choice",question:"What topic follows Trigonometry in this course?",options:["Calculus","Finite Arithmetic","Complex Numbers","Differential Equations"],correctIndex:1,difficulty:"easy",explanation:"The next chapter explores Finite Arithmeticmodular arithmetic, clock math, and algebraic structures based on remainders."}],EJ=[{id:1,type:"multiple-choice",question:"If it is 9 o'clock now, what time will it be in 17 hours (mod 12)?",options:["2 o'clock","5 o'clock","8 o'clock","26 o'clock"],correctIndex:0,difficulty:"easy",explanation:"9 + 17 = 26  2 (mod 12). So the answer is 2 o'clock."},{id:2,type:"multiple-choice",question:"Which of the following cannot be written as a sum of two squares?",options:["5","13","15","25"],correctIndex:2,difficulty:"medium",explanation:"15  3 (mod 4), so it cannot be a sum of two squares. The others can: 5 = 1 + 2, 13 = 2 + 3, 25 = 3 + 4."},{id:3,type:"multiple-choice",question:"What is the result of odd + odd in arithmetic mod 2?",options:["0 (even)","1 (odd)","2","undefined"],correctIndex:0,difficulty:"easy",explanation:"odd + odd = 1 + 1 = 2  0 (mod 2), which represents an even number."},{id:4,type:"multiple-choice",question:"What are the possible values of a perfect square mod 4?",options:["0 only","1 only","0 or 1","0, 1, or 2"],correctIndex:2,difficulty:"medium",explanation:"Checking 0 = 0, 1 = 1, 2 = 4  0, 3 = 9  1 (mod 4). So squares can only be 0 or 1 mod 4."},{id:5,type:"multiple-choice",question:"If today is Wednesday (day 3) and you count 100 days forward, what day of the week is it?",options:["Wednesday","Thursday","Friday","Saturday"],correctIndex:2,difficulty:"medium",explanation:"3 + 100 = 103. 103 = 14  7 + 5, so 103  5 (mod 7). Day 5 is Friday."},{id:6,type:"multiple-choice",question:"Which mathematician initiated the systematic study of modular arithmetic?",options:["Euler","Fermat","Gauss","Lagrange"],correctIndex:2,difficulty:"easy",explanation:"Carl Friedrich Gauss developed the systematic theory of modular arithmetic in his Disquisitiones Arithmeticae (1801)."},{id:7,type:"numeric",question:"What is 37 mod 7?",correctAnswer:2,numericRange:{min:2,max:2,precision:0},difficulty:"easy",explanation:"37 = 5  7 + 2, so 37  2 (mod 7)."},{id:8,type:"multiple-choice",question:"If a sum of two squares equals n, which value of n mod 4 is impossible?",options:["0","1","2","3"],correctIndex:3,difficulty:"medium",explanation:"Since squares are 0 or 1 mod 4, sums of two squares can be 0+0=0, 0+1=1, or 1+1=2 mod 4. So 3 is impossible."}],qJ=[{id:1,type:"multiple-choice",question:"What does a  b (mod n) mean?",options:["a equals b","n divides a - b","a is less than b","a times b equals n"],correctIndex:1,difficulty:"easy",explanation:"The congruence a  b (mod n) means that n divides a - b, or equivalently, a and b have the same remainder when divided by n."},{id:2,type:"multiple-choice",question:"Which of the following is true?",options:["15  2 (mod 5)","15  3 (mod 5)","15  0 (mod 5)","15  5 (mod 5)"],correctIndex:2,difficulty:"easy",explanation:"15 = 3  5 + 0, so 15  0 (mod 5). Also, 15  5 (mod 5) is equivalent, but 0 is the standard representative."},{id:3,type:"multiple-choice",question:"If a  3 (mod 7) and b  5 (mod 7), what is a + b mod 7?",options:["0","1","8","15"],correctIndex:1,difficulty:"medium",explanation:"3 + 5 = 8  1 (mod 7). We can add congruences."},{id:4,type:"multiple-choice",question:"Congruence mod n is an equivalence relation. Which property states that if a  b and b  c, then a  c?",options:["Reflexive","Symmetric","Transitive","Commutative"],correctIndex:2,difficulty:"medium",explanation:'Transitivity is the property that allows us to "chain" congruences together.'},{id:5,type:"numeric",question:"How many residue classes are there mod 12?",correctAnswer:12,numericRange:{min:12,max:12,precision:0},difficulty:"easy",explanation:"There are exactly n residue classes mod n, namely [0], [1], ..., [n-1]. So mod 12 has 12 classes."},{id:6,type:"multiple-choice",question:"If a  2 (mod 5), what is a mod 5?",options:["0","2","4","9"],correctIndex:2,difficulty:"medium",explanation:"Since a  2, we have a  2 = 4 (mod 5). We can compute with representatives."},{id:7,type:"multiple-choice",question:"What is -7 mod 10 (as a number from 0 to 9)?",options:["3","7","-7","-3"],correctIndex:0,difficulty:"medium",explanation:"-7 = -1  10 + 3, so -7  3 (mod 10). The standard representative is 3."},{id:8,type:"multiple-choice",question:"Who introduced the congruence notation a  b (mod n)?",options:["Euler","Fermat","Gauss","Legendre"],correctIndex:2,difficulty:"easy",explanation:"Carl Friedrich Gauss introduced this notation in his Disquisitiones Arithmeticae (1801)."}],IJ=[{id:1,type:"multiple-choice",question:"What is a ring?",options:["A set with only addition","A set with addition and multiplication satisfying certain axioms","A circular structure","A field with zero divisors"],correctIndex:1,difficulty:"easy",explanation:"A ring is a set with two operations (addition and multiplication) satisfying associativity, distributivity, and having additive inverses."},{id:2,type:"multiple-choice",question:"In Z/6Z, what is 2  3?",options:["6","0","1","5"],correctIndex:1,difficulty:"easy",explanation:"2  3 = 6  0 (mod 6). This shows that 2 and 3 are zero divisors in Z/6Z."},{id:3,type:"multiple-choice",question:"What is a zero divisor?",options:["An element equal to zero","A non-zero element whose product with some non-zero element is zero","An element that divides every other element","The multiplicative identity"],correctIndex:1,difficulty:"medium",explanation:"A zero divisor is a non-zero element a such that ab = 0 for some non-zero b."},{id:4,type:"multiple-choice",question:"When is Z/nZ a field?",options:["When n is even","When n is a perfect square","When n is prime","Always"],correctIndex:2,difficulty:"medium",explanation:"Z/nZ is a field if and only if n is prime. In this case, every non-zero element has a multiplicative inverse."},{id:5,type:"numeric",question:"How many elements does Z/7Z have?",correctAnswer:7,numericRange:{min:7,max:7,precision:0},difficulty:"easy",explanation:"Z/nZ has exactly n elements: the residue classes [0], [1], ..., [n-1]."},{id:6,type:"multiple-choice",question:"In Z/5Z, what is 3  2?",options:["0","1","6","11"],correctIndex:1,difficulty:"medium",explanation:"3  2 = 6  1 (mod 5). This shows that 3 and 2 are multiplicative inverses in Z/5Z."},{id:7,type:"multiple-choice",question:"Which of the following has zero divisors?",options:["Z/7Z","Z/11Z","Z/12Z","Z/13Z"],correctIndex:2,difficulty:"medium",explanation:"Z/12Z has zero divisors because 12 is composite. For example, 3  4 = 12  0. The others are fields (prime moduli)."},{id:8,type:"multiple-choice",question:"What is the difference between a ring and a field?",options:["A field has more elements","In a field, every non-zero element has a multiplicative inverse","A ring has no zero element","They are the same thing"],correctIndex:1,difficulty:"medium",explanation:"A field is a ring where every non-zero element has a multiplicative inverse. This means fields have no zero divisors."}],_J=[{id:1,type:"multiple-choice",question:"When does a have a multiplicative inverse mod n?",options:["When a < n","When gcd(a, n) = 1","When a is prime","When n is even"],correctIndex:1,difficulty:"easy",explanation:"An element a has an inverse mod n if and only if gcd(a, n) = 1, meaning a and n are coprime."},{id:2,type:"multiple-choice",question:"What is 3 mod 7?",options:["2","3","5","6"],correctIndex:2,difficulty:"medium",explanation:"We need 3x  1 (mod 7). Testing: 3  5 = 15 = 2  7 + 1  1. So 3  5 (mod 7)."},{id:3,type:"multiple-choice",question:"Which element does NOT have an inverse mod 10?",options:["1","3","4","7"],correctIndex:2,difficulty:"medium",explanation:"gcd(4, 10) = 2  1, so 4 has no inverse mod 10. The others (1, 3, 7) are coprime to 10."},{id:4,type:"numeric",question:"What is (7)?",correctAnswer:6,numericRange:{min:6,max:6,precision:0},difficulty:"easy",explanation:"For prime p, (p) = p - 1. Since 7 is prime, (7) = 6."},{id:5,type:"multiple-choice",question:"Which algorithm finds multiplicative inverses?",options:["Sieve of Eratosthenes","Extended Euclidean Algorithm","Newton's method","Binary search"],correctIndex:1,difficulty:"medium",explanation:"The extended Euclidean algorithm finds x, y such that ax + ny = gcd(a,n). When gcd(a,n) = 1, x is the inverse of a mod n."},{id:6,type:"numeric",question:"What is (8)?",correctAnswer:4,numericRange:{min:4,max:4,precision:0},difficulty:"medium",explanation:"(8) = (2) = 2(2-1) = 4. The units mod 8 are {1, 3, 5, 7}."},{id:7,type:"multiple-choice",question:"In RSA cryptography, what makes computing (n) difficult?",options:["n is very large","n = pq for large unknown primes p and q","(n) doesn't exist for composite n","The algorithm is too slow"],correctIndex:1,difficulty:"hard",explanation:"For n = pq, (n) = (p-1)(q-1). Without knowing p and q, computing (n) is as hard as factoring n."},{id:8,type:"multiple-choice",question:"What is the group of units (Z/6Z)*?",options:["{1, 2, 3, 4, 5}","{1, 5}","{1, 2, 4, 5}","{0, 1, 2, 3, 4, 5}"],correctIndex:1,difficulty:"medium",explanation:"The units mod 6 are elements coprime to 6. Only 1 and 5 have gcd 1 with 6. So (Z/6Z)* = {1, 5}."}],CJ=[{id:1,type:"multiple-choice",question:"What does Fermat's Little Theorem state?",options:["a^n  1 (mod n) for all a","a^(p-1)  1 (mod p) when gcd(a,p) = 1 and p is prime","(p-1)!  1 (mod p)","p divides a^p - a for all primes p"],correctIndex:1,difficulty:"easy",explanation:"Fermat's Little Theorem states that a^(p-1)  1 (mod p) when p is prime and a is not divisible by p."},{id:2,type:"multiple-choice",question:"Using Fermat's theorem, what is 2^10 mod 11?",options:["0","1","2","10"],correctIndex:1,difficulty:"medium",explanation:"Since 11 is prime, Fermat says 2^10  1 (mod 11). Indeed, p-1 = 10."},{id:3,type:"multiple-choice",question:"What does Wilson's Theorem state?",options:["n!  0 (mod n) for all n","(p-1)!  -1 (mod p) if and only if p is prime","(p-1)!  1 (mod p) for prime p","p!  p (mod p)"],correctIndex:1,difficulty:"medium",explanation:"Wilson's Theorem characterizes primes: p > 1 is prime if and only if (p-1)!  -1 (mod p)."},{id:4,type:"numeric",question:"What is 4! mod 5?",correctAnswer:4,numericRange:{min:4,max:4,precision:0},difficulty:"easy",explanation:"4! = 24 = 25 - 1 = 5  5 - 1  -1  4 (mod 5). This verifies Wilson's theorem for p = 5."},{id:5,type:"multiple-choice",question:"Why is Wilson's theorem impractical for primality testing?",options:["It only works for some primes","Computing (p-1)! is too slow for large p","It gives probabilistic results","It requires knowing (p)"],correctIndex:1,difficulty:"medium",explanation:"Computing (p-1)! requires p-2 multiplications and the number grows extremely fast. For large p, this is impractical."},{id:6,type:"multiple-choice",question:"What is Euler's generalization of Fermat's theorem?",options:["a^n  1 (mod n)","a^(n)  1 (mod n) when gcd(a,n) = 1","(n-1)!  -1 (mod n)","a^n  a (mod n)"],correctIndex:1,difficulty:"medium",explanation:"Euler's theorem states a^(n)  1 (mod n) when gcd(a,n) = 1. For prime n, (n) = n-1, giving Fermat."},{id:7,type:"multiple-choice",question:"In the proof of Fermat's theorem, what key fact is used about multiplication by a (mod p)?",options:["It adds 1 to each element","It permutes the non-zero elements","It maps everything to 0","It doubles each element"],correctIndex:1,difficulty:"hard",explanation:"Since gcd(a,p) = 1, multiplying by a is a bijection on (Z/pZ)*. The set {a, 2a, ..., (p-1)a} is a permutation of {1, 2, ..., p-1}."},{id:8,type:"numeric",question:"Using Fermat's theorem, if 3^6  1 (mod 7), what is 3^100 mod 7?",correctAnswer:4,numericRange:{min:4,max:4,precision:0},difficulty:"hard",explanation:"100 = 6  16 + 4. So 3^100 = (3^6)^16  3^4  1  81  81 mod 7 = 77 + 4 = 4."}],MJ=[{id:1,type:"multiple-choice",question:"What condition must the moduli satisfy for the Chinese Remainder Theorem?",options:["They must all be prime","They must be pairwise coprime","They must be consecutive integers","They must all be even"],correctIndex:1,difficulty:"easy",explanation:"CRT requires the moduli to be pairwise coprime, meaning gcd(m, m) = 1 for all i  j."},{id:2,type:"multiple-choice",question:"If m = 3 and m = 5, what is the modulus of the unique solution guaranteed by CRT?",options:["8","15","3","5"],correctIndex:1,difficulty:"easy",explanation:"The solution is unique modulo M = m  m = 3  5 = 15."},{id:3,type:"numeric",question:"Find x such that x  1 (mod 2) and x  2 (mod 3). Give the smallest positive answer.",correctAnswer:5,numericRange:{min:5,max:5,precision:0},difficulty:"medium",explanation:"We need odd numbers: 1, 3, 5, 7, ... and check mod 3. 1  1, 3  0, 5  2 (mod 3). So x = 5."},{id:4,type:"multiple-choice",question:"Who is credited with the earliest form of the Chinese Remainder Theorem?",options:["Euclid","Sun Zi","Fermat","Euler"],correctIndex:1,difficulty:"easy",explanation:"The Chinese mathematician Sun Zi (3rd century) posed problems that led to this theorem."},{id:5,type:"multiple-choice",question:"What algebraic structure does CRT establish between Z/mnZ and Z/mZ  Z/nZ?",options:["Homomorphism","Isomorphism","Subset relationship","No relationship"],correctIndex:1,difficulty:"medium",explanation:"When gcd(m,n) = 1, CRT gives a ring isomorphism: Z/mnZ  Z/mZ  Z/nZ."},{id:6,type:"multiple-choice",question:"Why can CRT speed up RSA decryption?",options:["It makes factoring easier","Operations can be done mod p and mod q separately","It reduces the key size","It eliminates the need for prime numbers"],correctIndex:1,difficulty:"hard",explanation:"In RSA with n = pq, CRT allows computing x^d mod p and x^d mod q separately, then combining. This is faster."},{id:7,type:"multiple-choice",question:"If gcd(m,n) = 1, what does CRT imply about (mn)?",options:["(mn) = (m) + (n)","(mn) = (m)  (n)","(mn) = (m) - (n)","(mn) = (m)/(n)"],correctIndex:1,difficulty:"medium",explanation:"CRT implies the multiplicativity of Euler's totient: (mn) = (m)(n) when gcd(m,n) = 1."},{id:8,type:"multiple-choice",question:"Can we apply CRT to solve x  1 (mod 4) and x  3 (mod 6)?",options:["Yes, the answer is unique mod 24","Yes, but there are multiple solutions","No, because 4 and 6 are not coprime","No, because the remainders are different"],correctIndex:2,difficulty:"medium",explanation:"gcd(4, 6) = 2  1, so CRT does not directly apply. We would need additional conditions for a solution."}],zJ=[{id:1,type:"multiple-choice",question:"What is a quadratic residue mod p?",options:["An element divisible by p","An element that is a perfect square in (Z/pZ)*","An element equal to (p-1)/2","Any odd element mod p"],correctIndex:1,difficulty:"easy",explanation:"A quadratic residue mod p is a non-zero element a such that x  a (mod p) for some x."},{id:2,type:"multiple-choice",question:"How many quadratic residues are there mod 11?",options:["4","5","6","10"],correctIndex:1,difficulty:"medium",explanation:"For an odd prime p, there are exactly (p-1)/2 quadratic residues. For p = 11: (11-1)/2 = 5."},{id:3,type:"multiple-choice",question:"What is the Legendre symbol (3/7)?",options:["0","1","-1","3"],correctIndex:1,difficulty:"medium",explanation:"Using Euler's criterion: 3^((7-1)/2) = 3 = 27 = 37 + 6  6  -1 (mod 7). Wait, let me recompute: 3 = 27 = 28 - 1  -1. So (3/7) = -1. Actually checking: 1=1, 2=4, 3=2, 4=2, 5=4, 6=1. So QRs are {1,2,4} and 3 is NOT a QR. (3/7) = -1."},{id:4,type:"multiple-choice",question:"What does Euler's criterion state?",options:["(a/p) = a^(p-1)","(a/p)  a^((p-1)/2) (mod p)","(a/p) = a/p","(a/p) = p^a"],correctIndex:1,difficulty:"medium",explanation:"Euler's criterion states that (a/p)  a^((p-1)/2) (mod p), giving a computational method."},{id:5,type:"multiple-choice",question:"Is 2 a quadratic residue mod 7?",options:["Yes, because 3  2 (mod 7)","Yes, because 2 < 7","No, because 2 is even","No, because 2^3  1 (mod 7)"],correctIndex:0,difficulty:"medium",explanation:"3 = 9 = 7 + 2  2 (mod 7), so 2 is a quadratic residue with square root 3 (and also 4)."},{id:6,type:"multiple-choice",question:"What is the product of two quadratic non-residues mod p?",options:["A non-residue","A residue","0","Undefined"],correctIndex:1,difficulty:"medium",explanation:"Since the Legendre symbol is multiplicative: (-1)(-1) = 1. The product of two non-residues is a residue."},{id:7,type:"multiple-choice",question:"Which property does the Legendre symbol satisfy?",options:["Additive: (a+b/p) = (a/p) + (b/p)","Multiplicative: (ab/p) = (a/p)(b/p)","Exponential: (a^b/p) = (a/p)^b","None of the above"],correctIndex:1,difficulty:"hard",explanation:"The Legendre symbol is multiplicative: (ab/p) = (a/p)(b/p). This follows from Euler's criterion."},{id:8,type:"numeric",question:"Using Euler's criterion, compute 2^5 mod 11. (Hint: this gives the Legendre symbol (2/11).)",correctAnswer:10,numericRange:{min:10,max:10,precision:0},difficulty:"hard",explanation:"2^5 = 32 = 33 - 1 = 311 - 1  -1  10 (mod 11). So (2/11) = -1, meaning 2 is not a square mod 11."}],DJ=[{id:1,type:"multiple-choice",question:"When is -1 a quadratic residue mod p?",options:["When p  1 (mod 2)","When p  1 (mod 4)","When p  3 (mod 4)","Always"],correctIndex:1,difficulty:"medium",explanation:"(-1/p) = (-1)^((p-1)/2) = 1 iff (p-1)/2 is even, iff 4 | (p-1), iff p  1 (mod 4)."},{id:2,type:"multiple-choice",question:"Is -1 a square mod 13?",options:["Yes, because 13  1 (mod 4)","Yes, because 13 is prime","No, because 13  1 (mod 4)","No, because 13  1 (mod 3)"],correctIndex:0,difficulty:"medium",explanation:"13 = 12 + 1  1 (mod 4), so -1 is a square mod 13. Indeed, 5 = 25 = 26 - 1  -1 (mod 13)."},{id:3,type:"multiple-choice",question:"When is 2 a quadratic residue mod p?",options:["When p  1 (mod 4)","When p  1 (mod 8)","When p  3 (mod 8)","When p is odd"],correctIndex:1,difficulty:"medium",explanation:"(2/p) = (-1)^((p-1)/8) = 1 iff p  1 (mod 8), i.e., p  1 or 7 (mod 8)."},{id:4,type:"multiple-choice",question:"Is 2 a square mod 17?",options:["Yes, because 17  1 (mod 8)","No, because 17  1 (mod 8)","Yes, because 17 is prime","No, because 2 is even"],correctIndex:0,difficulty:"medium",explanation:"17 = 16 + 1 = 2  8 + 1  1 (mod 8), so 2 is a square mod 17. Indeed, 6 = 36 = 34 + 2  2."},{id:5,type:"multiple-choice",question:"For p = 7, what are (-1/p) and (2/p)?",options:["(-1/7) = 1, (2/7) = 1","(-1/7) = -1, (2/7) = 1","(-1/7) = 1, (2/7) = -1","(-1/7) = -1, (2/7) = -1"],correctIndex:1,difficulty:"hard",explanation:"7  3 (mod 4), so (-1/7) = -1. And 7  -1 (mod 8), so (2/7) = 1."},{id:6,type:"multiple-choice",question:"What does Gauss's lemma count to compute (2/p)?",options:["The number of primes less than p","The number of even residues that become negative in (-p/2, p/2)","The number of quadratic residues","The number of divisors of p"],correctIndex:1,difficulty:"hard",explanation:"Gauss's lemma counts how many of {2, 4, 6, ..., p-1}, when reduced to (-p/2, p/2), are negative."},{id:7,type:"numeric",question:"For p = 11, compute (p - 1)/8. (This determines the sign of (2/p).)",correctAnswer:15,numericRange:{min:15,max:15,precision:0},difficulty:"medium",explanation:"(11 - 1)/8 = (121 - 1)/8 = 120/8 = 15. Since 15 is odd, (2/11) = (-1)^15 = -1."},{id:8,type:"multiple-choice",question:"If p  5 (mod 8), which statements are true?",options:["-1 is a square, 2 is a square","-1 is a square, 2 is not a square","-1 is not a square, 2 is a square","-1 is not a square, 2 is not a square"],correctIndex:1,difficulty:"hard",explanation:"p  5 (mod 8) means p  1 (mod 4), so -1 is a square. But p  5  -3 (mod 8), so 2 is not a square."}],RJ=[{id:1,type:"multiple-choice",question:"What is the quadratic reciprocity law?",options:["(p/q) = (q/p) always","(p/q)(q/p) = (-1)^((p-1)/2  (q-1)/2)","(p/q) + (q/p) = 0","(pq) is always a square"],correctIndex:1,difficulty:"medium",explanation:"The quadratic reciprocity law states that (p/q)(q/p) = (-1)^((p-1)/2  (q-1)/2) for distinct odd primes p, q."},{id:2,type:"multiple-choice",question:"When are (p/q) and (q/p) opposite in sign?",options:["When both p and q are  1 (mod 4)","When both p and q are  3 (mod 4)","When p + q is even","Never"],correctIndex:1,difficulty:"medium",explanation:"The product (p/q)(q/p) = -1 exactly when (p-1)/2 and (q-1)/2 are both odd, i.e., both p, q  3 (mod 4)."},{id:3,type:"multiple-choice",question:"Who first proved quadratic reciprocity?",options:["Euler","Fermat","Gauss","Legendre"],correctIndex:2,difficulty:"easy",explanation:"Gauss gave the first complete proof in 1796 at age 18. Euler and Legendre had conjectured it earlier."},{id:4,type:"multiple-choice",question:"Using reciprocity, if p = 5 and q = 11, what is (p/q)(q/p)?",options:["-1","1","0","5"],correctIndex:1,difficulty:"medium",explanation:"p = 5  1 (mod 4), so (p-1)/2 = 2 is even. Thus (5/11)(11/5) = (-1)^(25) = (-1)^10 = 1."},{id:5,type:"multiple-choice",question:"What name did Gauss give to the quadratic reciprocity theorem?",options:["Theorema primum","Theorema aureum (golden theorem)","Theorema magnum","Theorema fundamentale"],correctIndex:1,difficulty:"easy",explanation:'Gauss called it the "theorema aureum" (golden theorem), reflecting its central importance.'},{id:6,type:"multiple-choice",question:"For p = 3, q = 7 (both  3 mod 4), if (3/7) = -1, what is (7/3)?",options:["-1","1","0","7"],correctIndex:1,difficulty:"hard",explanation:"Since both are  3 (mod 4), (3/7)(7/3) = -1. Given (3/7) = -1, we have (-1)(7/3) = -1, so (7/3) = 1."},{id:7,type:"multiple-choice",question:"What mathematical objects are used in Gauss's elegant proof of reciprocity?",options:["Matrices","Gauss sums","Differential equations","Continued fractions"],correctIndex:1,difficulty:"hard",explanation:"Gauss sums are exponential sums involving the Legendre symbol. Their properties lead to quadratic reciprocity."},{id:8,type:"multiple-choice",question:"Which major area of modern mathematics grew from attempts to generalize quadratic reciprocity?",options:["Calculus","Class field theory and the Langlands program","Topology","Probability theory"],correctIndex:1,difficulty:"hard",explanation:"The quest to generalize QR to higher powers and number fields led to class field theory and eventually the Langlands program."}],OJ=[{id:1,type:"multiple-choice",question:"What foundational work established modern number theory?",options:["Euclid's Elements","Newton's Principia","Gauss's Disquisitiones Arithmeticae","Euler's Introductio"],correctIndex:2,difficulty:"easy",explanation:"Gauss's Disquisitiones Arithmeticae (1801) founded modern number theory with its treatment of congruences and quadratic reciprocity."},{id:2,type:"multiple-choice",question:"Which modern technology relies heavily on modular arithmetic?",options:["Weather forecasting","RSA cryptography","Medical imaging","GPS navigation"],correctIndex:1,difficulty:"easy",explanation:"RSA cryptography relies on modular arithmetic, specifically the difficulty of factoring large numbers and computing discrete logarithms."},{id:3,type:"multiple-choice",question:"What makes Z/pZ special compared to Z/nZ for composite n?",options:["It has more elements","It is a field (every non-zero element has an inverse)","It has more zero divisors","It has no additive identity"],correctIndex:1,difficulty:"medium",explanation:"When p is prime, Z/pZ is a field: every non-zero element has a multiplicative inverse. For composite n, Z/nZ has zero divisors."},{id:4,type:"multiple-choice",question:"The Chinese Remainder Theorem shows that Z/mnZ is isomorphic to what (when gcd(m,n)=1)?",options:["Z/mZ + Z/nZ","Z/mZ  Z/nZ","Z/(m+n)Z","Z/gcd(m,n)Z"],correctIndex:1,difficulty:"medium",explanation:"CRT establishes a ring isomorphism Z/mnZ  Z/mZ  Z/nZ when gcd(m,n) = 1."},{id:5,type:"multiple-choice",question:"Which theorem characterizes primes exactly?",options:["Fermat's Little Theorem","Wilson's Theorem","Chinese Remainder Theorem","Euler's Theorem"],correctIndex:1,difficulty:"medium",explanation:`Wilson's Theorem is an "if and only if": p > 1 is prime iff (p-1)!  -1 (mod p). Fermat's theorem has pseudoprimes.`},{id:6,type:"multiple-choice",question:"What major area of mathematics grew from generalizing quadratic reciprocity?",options:["Real analysis","Topology","Class field theory","Differential geometry"],correctIndex:2,difficulty:"hard",explanation:"Class field theory (and later the Langlands program) grew from attempts to generalize quadratic reciprocity to higher powers and number fields."},{id:7,type:"multiple-choice",question:"What topic follows Finite Arithmetic in this course?",options:["Trigonometry","Complex Numbers","Calculus","Probability"],correctIndex:1,difficulty:"easy",explanation:"The next chapter explores Complex Numbersanother extension of our number systems."},{id:8,type:"multiple-choice",question:"Which statement best captures the theme of this chapter?",options:["Remainders are just for division","Finite structures reveal deep patterns in integers","Primes are random","Modular arithmetic is only useful for clocks"],correctIndex:1,difficulty:"medium",explanation:"The chapter shows how studying finite structures (Z/nZ) reveals profound patterns: Fermat's theorem, Wilson's theorem, and quadratic reciprocity."}],PJ=[{id:1,type:"multiple-choice",question:"What is i?",options:["1","-1","i","-i"],correctIndex:1,difficulty:"easy",explanation:"By definition, i = (-1), so i = -1. This is the fundamental property of the imaginary unit."},{id:2,type:"multiple-choice",question:"What is (2 + 3i) + (4 - i)?",options:["6 + 2i","6 + 4i","8 + 2i","2 + 4i"],correctIndex:0,difficulty:"easy",explanation:"Add real parts: 2 + 4 = 6. Add imaginary parts: 3 + (-1) = 2. So the answer is 6 + 2i."},{id:3,type:"multiple-choice",question:"What is (1 + i)(1 - i)?",options:["0","1","2","-2i"],correctIndex:2,difficulty:"medium",explanation:"(1 + i)(1 - i) = 1 - i = 1 - (-1) = 2. This is a difference of squares pattern."},{id:4,type:"multiple-choice",question:"What is the absolute value |3 + 4i|?",options:["5","7","12","25"],correctIndex:0,difficulty:"medium",explanation:"|3 + 4i| = (3 + 4) = (9 + 16) = 25 = 5. This is a 3-4-5 right triangle!"},{id:5,type:"multiple-choice",question:"What is i?",options:["1","-1","i","-i"],correctIndex:3,difficulty:"medium",explanation:"i = i  i = (-1)  i = -i. The powers of i cycle: i, -1, -i, 1, i, ..."},{id:6,type:"multiple-choice",question:"Which property does the absolute value of complex numbers satisfy?",options:["|z + z| = |z| + |z|","|zz| = |z|  |z|","|z - z| = |z| - |z|","|z/z| = |z| + |z|"],correctIndex:1,difficulty:"medium",explanation:"The absolute value is multiplicative: |zz| = |z|  |z|. This is equivalent to the Diophantus identity."},{id:7,type:"multiple-choice",question:"Who first rigorously defined complex numbers as ordered pairs?",options:["Euler","Gauss","Hamilton","Cauchy"],correctIndex:2,difficulty:"easy",explanation:"William Rowan Hamilton in 1833 defined complex numbers as ordered pairs (a, b) with specific addition and multiplication rules."},{id:8,type:"numeric",question:"What is |5 - 12i|?",correctAnswer:13,numericRange:{min:13,max:13,precision:0},difficulty:"medium",explanation:"|5 - 12i| = (5 + 12) = (25 + 144) = 169 = 13. This is a 5-12-13 Pythagorean triple."}],$J=[{id:1,type:"multiple-choice",question:"What is the argument of i?",options:["0","/4","/2",""],correctIndex:2,difficulty:"easy",explanation:"The number i lies on the positive imaginary axis, which is at angle /2 from the positive real axis."},{id:2,type:"multiple-choice",question:"What geometric transformation does multiplication by i represent?",options:["Reflection in the real axis","Rotation by 90 counterclockwise","Scaling by factor 2","Translation by 1 unit"],correctIndex:1,difficulty:"medium",explanation:"Multiplying by i adds /2 to the argument, which is a 90 counterclockwise rotation."},{id:3,type:"multiple-choice",question:"What is i?",options:["1","-1","i","-i"],correctIndex:0,difficulty:"easy",explanation:"i = (i) = (-1) = 1. The powers of i cycle with period 4."},{id:4,type:"multiple-choice",question:"When multiplying two complex numbers in polar form, what happens to their arguments?",options:["They are multiplied","They are added","They are subtracted","The larger one is taken"],correctIndex:1,difficulty:"medium",explanation:"In polar form multiplication, absolute values multiply and arguments add."},{id:5,type:"multiple-choice",question:"What are the fourth roots of unity?",options:["1, 2, 3, 4","1, -1","1, i, -1, -i","1, , ,  where  = e^(i/2)"],correctIndex:2,difficulty:"medium",explanation:"The fourth roots of unity are 1, i, -1, -ievenly spaced around the unit circle at 90 intervals."},{id:6,type:"multiple-choice",question:"What is i?",options:["1","-1","i","-i"],correctIndex:0,difficulty:"medium",explanation:"100 = 4  25, so 100  0 (mod 4). Thus i = i = 1."},{id:7,type:"multiple-choice",question:"Which mathematician discovered that multiplication adds arguments?",options:["Euler","Vite","Gauss","Newton"],correctIndex:1,difficulty:"easy",explanation:"Franois Vite discovered around 1590 that the product of triangles adds their angles."},{id:8,type:"multiple-choice",question:"What does the Fundamental Theorem of Algebra state?",options:["Every equation has a real solution","Every polynomial equation has a complex solution","Complex numbers form a field","i = -1"],correctIndex:1,difficulty:"medium",explanation:"The Fundamental Theorem of Algebra states that every polynomial equation has a solution in the complex numbers."}],BJ=[{id:1,type:"multiple-choice",question:"What property defines an isometry?",options:["Preserves angles","Preserves distances","Preserves areas","Fixes the origin"],correctIndex:1,difficulty:"easy",explanation:"An isometry is a transformation that preserves distances between points."},{id:2,type:"multiple-choice",question:"Which complex function represents rotation by angle  about the origin?",options:["f(z) = z + ","f(z) = z","f(z) = e^(i)z","f(z) = z"],correctIndex:2,difficulty:"medium",explanation:"Rotation by  is f(z) = e^(i)z, which multiplies the argument by  while preserving absolute value."},{id:3,type:"multiple-choice",question:"What geometric operation does complex conjugation z perform?",options:["Rotation by 90","Rotation by 180","Reflection in the real axis","Translation by 1"],correctIndex:2,difficulty:"easy",explanation:"Conjugation z = a - bi reflects the point z = a + bi in the real axis."},{id:4,type:"multiple-choice",question:"How many fixed points does a non-identity rotation have?",options:["None","Exactly one","Exactly two","Infinitely many"],correctIndex:1,difficulty:"medium",explanation:"A rotation has exactly one fixed pointits center of rotation."},{id:5,type:"multiple-choice",question:"What is z  z equal to?",options:["z","|z|","|z|","2z"],correctIndex:2,difficulty:"medium",explanation:"z  z = (a + bi)(a - bi) = a + b = |z|."},{id:6,type:"multiple-choice",question:"Which isometry reverses orientation?",options:["Translation","Rotation","Reflection","Both rotation and translation"],correctIndex:2,difficulty:"medium",explanation:"Reflection reverses orientation (switches handedness), while rotations and translations preserve it."},{id:7,type:"multiple-choice",question:"What is the general form of an orientation-preserving isometry?",options:["f(z) = z + c","f(z) = e^(i)z + c","f(z) = e^(i)z + c","f(z) = |z|"],correctIndex:1,difficulty:"hard",explanation:"Every orientation-preserving isometry can be written as f(z) = e^(i)z + c (rotation + translation)."},{id:8,type:"multiple-choice",question:"To rotate about a point c (not the origin), we use:",options:["f(z) = e^(i)z + c","f(z) = e^(i)(z - c) + c","f(z) = e^(i)z - c","f(z) = c  e^(i)z"],correctIndex:1,difficulty:"hard",explanation:"We translate c to the origin (z - c), rotate (e^(i)), then translate back (+ c)."}],LJ=[{id:1,type:"multiple-choice",question:"What is a Gaussian integer?",options:["Any complex number","a + bi where a, b are integers","a + bi where a, b are rational","Any real number"],correctIndex:1,difficulty:"easy",explanation:"A Gaussian integer is a complex number a + bi where both a and b are ordinary integers."},{id:2,type:"multiple-choice",question:"What is the norm N(3 + 4i)?",options:["5","7","12","25"],correctIndex:3,difficulty:"easy",explanation:"N(3 + 4i) = 3 + 4 = 9 + 16 = 25."},{id:3,type:"multiple-choice",question:"How many units are there in the Gaussian integers?",options:["2","4","8","Infinitely many"],correctIndex:1,difficulty:"medium",explanation:"The units are 1, -1, i, and -iexactly the Gaussian integers with norm 1."},{id:4,type:"multiple-choice",question:"What is N(z) equal to?",options:["z","|z|","z  z","|z|"],correctIndex:2,difficulty:"medium",explanation:"N(z) = z  z = |z|. For z = a + bi, this equals a + b."},{id:5,type:"multiple-choice",question:"What is (1 + i)(1 - i)?",options:["0","1","2","2i"],correctIndex:2,difficulty:"easy",explanation:"(1 + i)(1 - i) = 1 - i = 1 - (-1) = 2."},{id:6,type:"multiple-choice",question:"If  divides  in Z[i], what can we conclude about their norms?",options:["N() = N()","N() divides N()","N() > N()","Nothing in general"],correctIndex:1,difficulty:"medium",explanation:"If  | , then  = , so N() = N()N(), meaning N() | N()."},{id:7,type:"multiple-choice",question:"What is i in Z[i]?",options:["1","-1","i","-i"],correctIndex:3,difficulty:"medium",explanation:"i = 1/i = i/i = i/(-1) = -i. Check: i  (-i) = -i = 1 "},{id:8,type:"numeric",question:"What is N(2 + i)?",correctAnswer:5,numericRange:{min:5,max:5,precision:0},difficulty:"easy",explanation:"N(2 + i) = 2 + 1 = 4 + 1 = 5."}],UJ=[{id:1,type:"multiple-choice",question:"Is 2 a Gaussian prime?",options:["Yes, all ordinary primes are Gaussian primes","No, 2 = (1 + i)(1 - i)","Yes, because 2 is even","No, 2 = i  (2i)"],correctIndex:1,difficulty:"medium",explanation:"2 = (1 + i)(1 - i), a product of non-units, so 2 is not a Gaussian prime."},{id:2,type:"multiple-choice",question:"Which ordinary prime remains prime in Z[i]?",options:["2","5","3","13"],correctIndex:2,difficulty:"medium",explanation:"3  3 (mod 4), so it remains prime in Z[i]. The others split: 5 = (2+i)(2-i), etc."},{id:3,type:"multiple-choice",question:"What is the Gaussian factorization of 5?",options:["5 is a Gaussian prime","5 = (2 + i)(2 - i)","5 = (1 + 2i)(1 - 2i)","5 = (1 + i)"],correctIndex:1,difficulty:"medium",explanation:"5 = (2 + i)(2 - i). Note that N(2 + i) = 5."},{id:4,type:"multiple-choice",question:"If N() is an ordinary prime, what can we conclude?",options:[" is a unit"," is a Gaussian prime"," = 1 + i","Nothing"],correctIndex:1,difficulty:"medium",explanation:"If N() is prime and  = , then N()N() is prime, so one factor is a unit."},{id:5,type:"multiple-choice",question:"How does an ordinary prime p  1 (mod 4) factor in Z[i]?",options:["Stays prime","Splits as p = ","Equals (1 + i)","Has no factorization"],correctIndex:1,difficulty:"hard",explanation:"Primes p  1 (mod 4) split into conjugate Gaussian primes: p =  where N() = p."},{id:6,type:"multiple-choice",question:"What are associates of 3 in Z[i]?",options:["3 only","3 and -3","3, -3, 3i, -3i","3 and 3i"],correctIndex:2,difficulty:"easy",explanation:"Associates differ by unit factors. The units are 1, -1, i, -i, giving 3, -3, 3i, -3i."},{id:7,type:"multiple-choice",question:"Is 7 a Gaussian prime?",options:["No, 7 = (2 + i)(2 - i) + 2","Yes, 7  3 (mod 4)","No, 7 = (1 + i)(1 - i)","Yes, 7 is odd"],correctIndex:1,difficulty:"medium",explanation:"7  3 (mod 4), so 7 remains prime in Z[i]. Primes  3 (mod 4) don't split."},{id:8,type:"multiple-choice",question:"What does unique factorization in Z[i] mean?",options:["Every element has exactly one factorization","Factorization is unique up to order and associates","Only primes can be factored","The factorization never uses i"],correctIndex:1,difficulty:"medium",explanation:"Like integers, factorization is unique up to reordering and multiplying by units."}],FJ=[{id:1,type:"multiple-choice",question:"Which condition guarantees an odd prime p is a sum of two squares?",options:["p  0 (mod 4)","p  1 (mod 4)","p  2 (mod 4)","p  3 (mod 4)"],correctIndex:1,difficulty:"medium",explanation:"Fermat's theorem: an odd prime p is a sum of two squares if and only if p  1 (mod 4)."},{id:2,type:"multiple-choice",question:"Is 7 a sum of two squares?",options:["Yes: 7 = 1 + 2 + something","Yes: 7 = 2 + 3","No, because 7  3 (mod 4)","No, because 7 is odd"],correctIndex:2,difficulty:"easy",explanation:"7  3 (mod 4), so by Fermat's theorem, 7 cannot be written as a sum of two squares."},{id:3,type:"multiple-choice",question:"Write 13 as a sum of two squares:",options:["13 = 1 + 12","13 = 2 + 3","13 = 3 + 4","13 cannot be so written"],correctIndex:1,difficulty:"easy",explanation:"13 = 4 + 9 = 2 + 3. Since 13  1 (mod 4), it must be a sum of two squares."},{id:4,type:"multiple-choice",question:"What is the connection between sums of two squares and Gaussian integers?",options:["They share the same prime factors","n = a + b iff n = N(a + bi)","They use the same division algorithm","There is no connection"],correctIndex:1,difficulty:"medium",explanation:"An integer is a sum of two squares if and only if it is the norm of some Gaussian integer."},{id:5,type:"multiple-choice",question:"Is 45 a sum of two squares?",options:["No, 45 = 9  5 has a factor  3 (mod 4)","Yes, because 3 appears, so even power of 3","No, 45 is odd","Cannot determine without more information"],correctIndex:1,difficulty:"hard",explanation:"45 = 3  5. The prime 3  3 (mod 4) appears to even power (2), so 45 = 3 + 6."},{id:6,type:"multiple-choice",question:"Why can no integer  3 (mod 4) be a sum of two squares?",options:["Because squares are always even","Because squares mod 4 are only 0 or 1","Because 3 is prime","Because i = -1"],correctIndex:1,difficulty:"medium",explanation:"Squares mod 4 are 0 or 1. So a + b  0, 1, or 2 (mod 4), never 3."},{id:7,type:"multiple-choice",question:"Is 21 a sum of two squares?",options:["Yes: 21 = 4 + 2 + 1","Yes: 21 = 3 + 12","No: 21 = 3  7, both  3 (mod 4) to odd powers","No: 21 is odd"],correctIndex:2,difficulty:"medium",explanation:"21 = 3  7. Both 3 and 7 are  3 (mod 4) and appear to odd power (1), so 21 is not a sum of two squares."},{id:8,type:"multiple-choice",question:"What is 17 as a sum of two squares?",options:["17 = 1 + 4","17 = 2 + 3","17 = 3 + 4","17 = 0 + 17"],correctIndex:0,difficulty:"easy",explanation:"17 = 1 + 16 = 1 + 4. Since 17  1 (mod 4), it must be expressible as a sum of two squares."}],HJ=[{id:1,type:"multiple-choice",question:"What is the first step in finding a + b = p for prime p  1 (mod 4)?",options:["Compute the GCD of p and i","Find m with m  -1 (mod p)","Factor p as a product of primes","Compute p mod 4"],correctIndex:1,difficulty:"medium",explanation:"We first find m such that m  -1 (mod p), which exists since p  1 (mod 4)."},{id:2,type:"multiple-choice",question:"Once we have m  -1 (mod p), what do we compute next?",options:["m (mod p)","gcd(p, m + i) in Z[i]","p/m","The prime factorization of m"],correctIndex:1,difficulty:"medium",explanation:"We compute gcd(p, m + i) using the Euclidean algorithm in the Gaussian integers."},{id:3,type:"multiple-choice",question:"What is the Diophantus identity?",options:["(a + b) = a + 2ab + b","(a + b)(c + d) = (ac - bd) + (ad + bc)","a + b = (a + bi)(a - bi)","gcd(a, b)  lcm(a, b) = ab"],correctIndex:1,difficulty:"hard",explanation:"The Diophantus identity shows the product of two sums of squares is a sum of squares."},{id:4,type:"multiple-choice",question:"What is 9 mod 41?",options:["1","-1 (i.e., 40)","0","9"],correctIndex:1,difficulty:"medium",explanation:"9 = 81 = 2  41 - 1 = 82 - 1, so 9  -1 (mod 41)."},{id:5,type:"multiple-choice",question:"Why does the algorithm work?",options:["Because p is prime","Because gcd(p, m + i) gives a Gaussian prime with norm p","Because m = -1 exactly","Because the Euclidean algorithm always terminates"],correctIndex:1,difficulty:"hard",explanation:"The GCD is a Gaussian prime  with N() = p, giving us p = a + b where  = a + bi."},{id:6,type:"multiple-choice",question:"Using Diophantus identity, what is 5  13 as a sum of two squares?",options:["65 = 8 + 1","65 = 7 + 4","65 = 6 + 5","Both A and B"],correctIndex:3,difficulty:"hard",explanation:"5 = 1 + 2, 13 = 2 + 3. The identity gives 65 = 4 + 7 or 65 = 1 + 8 (two different ways)."},{id:7,type:"multiple-choice",question:"How is the Diophantus identity related to Gaussian integers?",options:["It proves the existence of i","It is equivalent to N() = N()N()","It defines multiplication in Z[i]","It proves unique factorization"],correctIndex:1,difficulty:"medium",explanation:"The identity follows from the multiplicativity of the norm: || = ||||."},{id:8,type:"numeric",question:"What is N(5 - 4i)?",correctAnswer:41,numericRange:{min:41,max:41,precision:0},difficulty:"easy",explanation:"N(5 - 4i) = 5 + (-4) = 25 + 16 = 41."}],GJ=[{id:1,type:"multiple-choice",question:"Who first defined complex numbers rigorously as ordered pairs?",options:["Euler","Gauss","Hamilton","Cardano"],correctIndex:2,difficulty:"easy",explanation:"Hamilton in 1833 defined complex numbers as ordered pairs (a, b) with specific operations."},{id:2,type:"multiple-choice",question:"What are quaternions?",options:["Complex numbers with three imaginary units","4-dimensional extension of complex numbers","Complex numbers modulo 4","Gaussian integers with norm 4"],correctIndex:1,difficulty:"medium",explanation:"Quaternions are 4-dimensional: a + bi + cj + dk, where i = j = k = ijk = -1."},{id:3,type:"multiple-choice",question:"Which ring does NOT have unique factorization?",options:["Z","Z[i]","Z[(-5)]","Q"],correctIndex:2,difficulty:"hard",explanation:"In Z[(-5)], we have 6 = 2  3 = (1 + (-5))(1 - (-5)), two different irreducible factorizations."},{id:4,type:"multiple-choice",question:'What does "multiplication by i is rotation by 90" illustrate?',options:["The failure of commutativity","The union of algebra and geometry","The definition of a ring","The Euclidean algorithm"],correctIndex:1,difficulty:"easy",explanation:"This shows how algebraic operations (i) have geometric meaning (rotation)."},{id:5,type:"multiple-choice",question:"What made unique factorization work in Z[i]?",options:["The ring has infinitely many elements","The norm satisfies the Euclidean property","Gauss proved it by induction","Complex numbers are closed under addition"],correctIndex:1,difficulty:"hard",explanation:"The Euclidean property (division with smaller remainder) ensures unique factorization."},{id:6,type:"multiple-choice",question:"Who discovered that complex numbers could represent rotations?",options:["Euler (1707-1783)","Wessel and Argand (1797-1806)","Cardano (1501-1576)","Hamilton (1805-1865)"],correctIndex:1,difficulty:"medium",explanation:"Wessel (1797) and Argand (1806) independently discovered the geometric interpretation."},{id:7,type:"multiple-choice",question:"What is the main theme connecting sums of squares to complex numbers?",options:["Both use the variable i","a + b = N(a + bi), the norm","Both were discovered by Fermat","Squares and multiplication both use "],correctIndex:1,difficulty:"medium",explanation:"A number is a sum of two squares iff it's the norm of a Gaussian integer."},{id:8,type:"multiple-choice",question:"What is special about quaternion multiplication?",options:["It is always zero","It is not commutative","It equals the norm","It only works for integers"],correctIndex:1,difficulty:"medium",explanation:"Quaternions form a non-commutative algebra: ij = k but ji = -k."}],VJ=[{id:1,type:"multiple-choice",question:"What is a conic section?",options:["A curve of degree 3","A curve obtained by cutting a cone with a plane","A circle with a different radius","A line segment on a cone"],correctIndex:1,difficulty:"easy",explanation:"Conic sections are curves obtained by intersecting a cone with a plane."},{id:2,type:"multiple-choice",question:'What does "hyperbola" roughly mean in Greek?',options:["Too little","Just right","Too much","Perfect circle"],correctIndex:2,difficulty:"easy",explanation:'Hyperbola means "too much" (the plane slopes too steeply, cutting both halves of the cone).'},{id:3,type:"multiple-choice",question:"Which equation represents a hyperbola?",options:["x/4 + y/9 = 1","x/4 - y/9 = 1","y = 2x","x + y = 4"],correctIndex:1,difficulty:"medium",explanation:"A hyperbola has opposite signs for x and y coefficients."},{id:4,type:"multiple-choice",question:"What degree are conic section equations?",options:["1","2","3","4"],correctIndex:1,difficulty:"easy",explanation:"Conic sections are quadratic curvestheir equations have degree 2."},{id:5,type:"multiple-choice",question:"Which conic section is the transitional case?",options:["Circle","Ellipse","Hyperbola","Parabola"],correctIndex:3,difficulty:"medium",explanation:'The parabola is the "just right" transitional case between hyperbola and ellipse.'},{id:6,type:"multiple-choice",question:"What is the equation x + y = r an example of?",options:["A hyperbola","A parabola","A circle (special ellipse)","A line"],correctIndex:2,difficulty:"easy",explanation:"A circle is a special case of an ellipse where a = b = r."},{id:7,type:"multiple-choice",question:"How can you identify a parabola from its equation?",options:["Both x and y have positive coefficients","Both x and y have opposite signs","One of x or y is missing","The equation is linear"],correctIndex:2,difficulty:"medium",explanation:"A parabola has only one squared term (e.g., y = ax)."},{id:8,type:"multiple-choice",question:"Who discovered that all conics are quadratic curves?",options:["Euclid","Apollonius","Fermat and Descartes","Newton"],correctIndex:2,difficulty:"medium",explanation:"Fermat and Descartes independently made this discovery when they invented analytic geometry."}],WJ=[{id:1,type:"multiple-choice",question:"What is the eccentricity of a parabola?",options:["e = 0","e < 1","e = 1","e > 1"],correctIndex:2,difficulty:"easy",explanation:"A parabola has eccentricity exactly 1, the transitional case between ellipse and hyperbola."},{id:2,type:"multiple-choice",question:"What happens to parallel rays hitting a parabolic mirror?",options:["They scatter randomly","They all reflect through the focus","They reflect back parallel","They are absorbed"],correctIndex:1,difficulty:"medium",explanation:"The focal property of the parabola: parallel rays reflect through the focus."},{id:3,type:"multiple-choice",question:"What is true about the sum of focal distances for any point on an ellipse?",options:["It varies depending on the point","It equals the eccentricity","It is constant (= 2a)","It equals 1"],correctIndex:2,difficulty:"medium",explanation:"For any point P on an ellipse, FP + FP = 2a (the length of the major axis)."},{id:4,type:"multiple-choice",question:'What does "focus" mean in Latin?',options:["Point","Center","Fireplace","Reflection"],correctIndex:2,difficulty:"easy",explanation:'Focus means "fireplace" in Latinnamed by Kepler for where heat concentrates.'},{id:5,type:"multiple-choice",question:"For an ellipse x/a + y/b = 1 with a > b, what is the eccentricity?",options:["e = a/b","e = b/a","e = (1 - b/a)","e = (1 - a/b)"],correctIndex:2,difficulty:"hard",explanation:"The eccentricity of an ellipse is e = (1 - b/a), which is less than 1."},{id:6,type:"multiple-choice",question:"Who first proved the focal property of the parabola?",options:["Euclid","Apollonius","Diocles","Archimedes"],correctIndex:2,difficulty:"medium",explanation:'Diocles proved this around 200 B.C. in his book "On Burning Mirrors."'},{id:7,type:"multiple-choice",question:'What is the "thread construction" used for?',options:["Drawing a parabola","Drawing an ellipse","Drawing a hyperbola","Measuring eccentricity"],correctIndex:1,difficulty:"easy",explanation:"Tying thread to two foci and pulling taut traces an ellipse."},{id:8,type:"multiple-choice",question:"In planetary motion, where is the sun located?",options:["At the center of the ellipse","At one focus of the orbit","At the directrix","Outside the orbit"],correctIndex:1,difficulty:"medium",explanation:"By Kepler's first law, planets orbit in ellipses with the sun at one focus."}],ZJ=[{id:1,type:"multiple-choice",question:"What is the discriminant of the quadratic equation ax + bxy + cy + dx + ey + f = 0?",options:["a + c","b - 4ac","ac - b","d + e"],correctIndex:1,difficulty:"easy",explanation:"The discriminant is b - 4ac, which determines the type of conic section."},{id:2,type:"multiple-choice",question:"If the discriminant b - 4ac < 0, what type of conic is it?",options:["Hyperbola","Parabola","Ellipse","Two parallel lines"],correctIndex:2,difficulty:"easy",explanation:"A negative discriminant indicates an ellipse (or circle, or degenerate point)."},{id:3,type:"multiple-choice",question:"Why do we rotate the coordinate axes?",options:["To make the curve larger","To eliminate the xy term","To change the discriminant","To add linear terms"],correctIndex:1,difficulty:"medium",explanation:"Rotation eliminates the xy term, simplifying the equation toward standard form."},{id:4,type:"multiple-choice",question:"What is true about the discriminant under rotation?",options:["It changes sign","It doubles","It is invariant","It becomes zero"],correctIndex:2,difficulty:"medium",explanation:"The discriminant is an invariantit remains the same regardless of coordinate transformations."},{id:5,type:"multiple-choice",question:"What type of conic is xy = 1?",options:["Ellipse","Parabola","Hyperbola","Circle"],correctIndex:2,difficulty:"easy",explanation:"For xy = 1, we have a = 0, b = 1, c = 0, so  = 1 > 0, making it a hyperbola."},{id:6,type:"multiple-choice",question:"What is a degenerate conic?",options:["A conic with eccentricity 1","A conic that is a point, line, or pair of lines","A conic with no focus","A conic that extends to infinity"],correctIndex:1,difficulty:"medium",explanation:"Degenerate conics occur when the plane passes through the cone's apex, giving points or lines."},{id:7,type:"multiple-choice",question:"What is the discriminant of x + y = 1?",options:["0","1","-4","4"],correctIndex:2,difficulty:"medium",explanation:"Here a = 1, b = 0, c = 1, so  = 0 - 4(1)(1) = -4 < 0, confirming it's an ellipse (circle)."},{id:8,type:"multiple-choice",question:"For the equation xy + x - y = 1, what type of conic is this?",options:["Ellipse","Circle","Parabola","Hyperbola"],correctIndex:3,difficulty:"hard",explanation:"With a = 0, b = 1, c = 0, we get  = 1 > 0, so it's a hyperbola."}],YJ=[{id:1,type:"multiple-choice",question:"What did Menaechmus construct using two parabolas?",options:["2","2","","e"],correctIndex:1,difficulty:"easy",explanation:"Menaechmus showed how to construct 2 (cube root of 2) by intersecting two parabolas."},{id:2,type:"multiple-choice",question:"According to Bzout's theorem, how many points can a degree 2 curve and a degree 3 curve have in common?",options:["At most 3","At most 5","At most 6","At most 9"],correctIndex:2,difficulty:"medium",explanation:"By Bzout's theorem, curves of degree m and n intersect in at most mn points: 2  3 = 6."},{id:3,type:"multiple-choice",question:"How many intersection points can two conics have?",options:["At most 2","At most 3","At most 4","At most 8"],correctIndex:2,difficulty:"easy",explanation:"Two conics (degree 2 curves) can intersect in at most 2  2 = 4 points."},{id:4,type:"multiple-choice",question:"Who discovered how to solve quartic equations using conic intersections?",options:["Menaechmus","Ferrari","Cardano","Tartaglia"],correctIndex:1,difficulty:"medium",explanation:"Lodovico Ferrari (1522-1565) discovered that quartics could be solved via conic intersections."},{id:5,type:"multiple-choice",question:"Why is the Menaechmus construction important?",options:["It proved  is irrational","It showed compass-and-straightedge cannot construct 2","It solved problems beyond compass-and-straightedge","It discovered the parabola"],correctIndex:2,difficulty:"medium",explanation:"Menaechmus showed that conic sections could solve problems (like doubling the cube) that compass and straightedge cannot."},{id:6,type:"multiple-choice",question:"What is Bzout's theorem about?",options:["The area of triangles","The number of intersection points of curves","The discriminant of polynomials","The focus of a parabola"],correctIndex:1,difficulty:"easy",explanation:"Bzout's theorem states that curves of degree m and n intersect in at most mn points."},{id:7,type:"multiple-choice",question:"In Menaechmus's construction, what are the two curves?",options:["Two circles","A circle and a line","Two parabolas","An ellipse and a hyperbola"],correctIndex:2,difficulty:"easy",explanation:"Menaechmus used two parabolas: y = x and x = y/2."},{id:8,type:"multiple-choice",question:"A quartic equation has how many roots (counting multiplicities)?",options:["2","3","4","5"],correctIndex:2,difficulty:"easy",explanation:"A quartic (degree 4) polynomial has exactly 4 roots when counted with multiplicity over the complex numbers."}],XJ=[{id:1,type:"multiple-choice",question:"What is the norm of x + yd?",options:["x + y","x + dy","x - dy","xy"],correctIndex:2,difficulty:"easy",explanation:"The norm is defined as N(x + yd) = x - dy, which measures distance from the hyperbola."},{id:2,type:"multiple-choice",question:"Why is the norm multiplicative useful?",options:["It makes calculations easier","It means products of norm-1 elements have norm 1","It proves the equation has no solutions","It relates to areas"],correctIndex:1,difficulty:"medium",explanation:"If N() = 1 and N() = 1, then N() = N()N() = 1, so products of solutions give solutions."},{id:3,type:"multiple-choice",question:"What is the fundamental solution to x - 2y = 1?",options:["(1, 0)","(3, 2)","(17, 12)","(2, 1)"],correctIndex:1,difficulty:"medium",explanation:"(3, 2) is the smallest positive solution since 9 - 8 = 1, and (1,0) is trivial."},{id:4,type:"multiple-choice",question:"How do you generate (17, 12) from (3, 2)?",options:["Add 14 and 10","Square (3 + 22)","Multiply by 5","Use the discriminant"],correctIndex:1,difficulty:"medium",explanation:"(3 + 22) = 17 + 122, so squaring the fundamental solution gives the next solution."},{id:5,type:"multiple-choice",question:"What structure do the solutions to x - dy = 1 form?",options:["A finite group","An infinite cyclic group","A vector space","A ring"],correctIndex:1,difficulty:"hard",explanation:"The positive solutions form an infinite cyclic group generated by the fundamental solution."},{id:6,type:"multiple-choice",question:"Check: Does (99, 70) satisfy x - 2y = 1?",options:["No, 99 - 2(70) = 0","No, 99 - 2(70) = 2","Yes, 9801 - 9800 = 1","Yes, 9801 - 4900 = 4901"],correctIndex:2,difficulty:"easy",explanation:"99 = 9801 and 270 = 24900 = 9800, so 9801 - 9800 = 1. "},{id:7,type:"multiple-choice",question:"What is the connection to Pythagorean triples?",options:["Both involve circles","Both use multiplicative norms for generation","Both have exactly 4 solutions","There is no connection"],correctIndex:1,difficulty:"medium",explanation:"Pythagorean triples use i = (-1) for generation; hyperbola solutions use d similarly."},{id:8,type:"multiple-choice",question:"If (a, b) solves x - dy = -1, what does (a + bd) solve?",options:["x - dy = -1","x - dy = 1","x - dy = -2","x + dy = 1"],correctIndex:1,difficulty:"hard",explanation:"N((a + bd)) = N(a + bd) = (-1) = 1, so the square gives a solution to x - dy = 1."}],KJ=[{id:1,type:"multiple-choice",question:"What is the continued fraction expansion of 2?",options:["[1; 1, 1, 1, ...]","[1; 2, 2, 2, ...]","[2; 1, 1, 1, ...]","[1; 1, 2, 1, ...]"],correctIndex:1,difficulty:"easy",explanation:"2 = [1; 2, 2, 2, ...] = [1; 2], where the 2 repeats forever."},{id:2,type:"multiple-choice",question:"What does Lagrange's theorem say about d (d not a perfect square)?",options:["Its continued fraction terminates","Its continued fraction is eventually periodic","Its continued fraction has no pattern","Its continued fraction equals d"],correctIndex:1,difficulty:"medium",explanation:"Lagrange proved that the continued fraction of d is eventually periodic, always ending with 2a."},{id:3,type:"multiple-choice",question:"What is a convergent of a continued fraction?",options:["The sum of all terms","A rational approximation from truncation","The limit as terms go to infinity","The product of numerators"],correctIndex:1,difficulty:"easy",explanation:"Convergents are rational numbers obtained by truncating the continued fraction at each step."},{id:4,type:"multiple-choice",question:"Why are convergents special?",options:["They are always integers","They are the best rational approximations","They have period 1","They equal the original number"],correctIndex:1,difficulty:"medium",explanation:"Convergents are optimal: no fraction with smaller denominator can be closer to the target."},{id:5,type:"multiple-choice",question:"The convergent 3/2 approximates 2. Check: 3 - 2(2) = ?",options:["0","1","-1","2"],correctIndex:1,difficulty:"easy",explanation:"3 - 2(2) = 9 - 8 = 1, showing (3, 2) solves x - 2y = 1."},{id:6,type:"multiple-choice",question:"In the continued fraction [a; a, a, ...] for d, the period ends with:",options:["a","2a","a","1"],correctIndex:1,difficulty:"medium",explanation:"By Lagrange's theorem, the periodic part always ends with 2a."},{id:7,type:"multiple-choice",question:"How is the continued fraction of d computed?",options:["Using derivatives","Using the Euclidean algorithm","Using Newton's method","Using Taylor series"],correctIndex:1,difficulty:"medium",explanation:"The continued fraction comes from repeatedly taking floor and reciprocalthe Euclidean algorithm!"},{id:8,type:"multiple-choice",question:"The convergent 17/12 for 2 satisfies 17 - 2(12) = ?",options:["0","1","-1","2"],correctIndex:1,difficulty:"medium",explanation:"17 - 2(12) = 289 - 288 = 1, so (17, 12) is a solution to Pell's equation."}],QJ=[{id:1,type:"multiple-choice",question:"What is Pell's equation?",options:["x + y = 1","x - dy = 1","x + dy = d","xy = d"],correctIndex:1,difficulty:"easy",explanation:"Pell's equation is x - dy = 1, where d is a positive non-square integer."},{id:2,type:"multiple-choice",question:"Who developed the complete theory of Pell's equation using continued fractions?",options:["Pell","Fermat","Lagrange","Euler"],correctIndex:2,difficulty:"medium",explanation:"Lagrange (1770) proved the complete theory using continued fractions, though the equation is named after Pell."},{id:3,type:"multiple-choice",question:"What is the fundamental solution to x - 3y = 1?",options:["(1, 0)","(2, 1)","(7, 4)","(3, 1)"],correctIndex:1,difficulty:"medium",explanation:"2 - 3(1) = 4 - 3 = 1, and (2, 1) is the smallest positive solution."},{id:4,type:"multiple-choice",question:"For d not a perfect square, how many solutions does x - dy = 1 have?",options:["None","Exactly one","Finitely many","Infinitely many"],correctIndex:3,difficulty:"easy",explanation:"Pell's equation always has infinitely many integer solutions for non-square d."},{id:5,type:"multiple-choice",question:"How are all solutions generated from the fundamental solution?",options:["By addition","By multiplication","By taking powers","By division"],correctIndex:2,difficulty:"medium",explanation:"All solutions come from taking powers of (x + yd) where (x, y) is the fundamental solution."},{id:6,type:"multiple-choice",question:"Why is the fundamental solution for x - 61y = 1 notable?",options:["It equals (61, 1)","It is very small","It is extremely large (10 digits)","It doesn't exist"],correctIndex:2,difficulty:"medium",explanation:"The fundamental solution (1766319049, 226153980) is surprisingly large, a fact that challenged mathematicians."},{id:7,type:"multiple-choice",question:"What does Dirichlet's approximation theorem guarantee?",options:["Irrationals are algebraic","Good rational approximations exist for any irrational","All equations have solutions","Continued fractions terminate"],correctIndex:1,difficulty:"hard",explanation:"Dirichlet's theorem guarantees that any irrational can be approximated well by rationals."},{id:8,type:"multiple-choice",question:"Which mathematician challenged others to solve x - 61y = 1?",options:["Euler","Fermat","Gauss","Newton"],correctIndex:1,difficulty:"medium",explanation:"Fermat famously posed this as a challenge, knowing the solution required advanced techniques."}],JJ=[{id:1,type:"multiple-choice",question:"Who wrote the definitive ancient treatise on conic sections?",options:["Euclid","Apollonius","Archimedes","Pythagoras"],correctIndex:1,difficulty:"easy",explanation:'Apollonius of Perga wrote "Conics" around 200 BC, the definitive ancient work on the subject.'},{id:2,type:"multiple-choice",question:"In projective geometry, where do parallel lines meet?",options:["Nowhere","At a point at infinity","At the origin","At the focus"],correctIndex:1,difficulty:"medium",explanation:"Projective geometry adds points at infinity where parallel lines meet, unifying geometry."},{id:3,type:"multiple-choice",question:"How does a parabola relate to the line at infinity?",options:["It doesn't intersect it","It intersects it twice","It is tangent to it","It equals it"],correctIndex:2,difficulty:"medium",explanation:"A parabola is tangent to the line at infinity (touches it at one point), which explains its single asymptotic direction."},{id:4,type:"multiple-choice",question:"What are homogeneous coordinates?",options:["Coordinates on a hyperbola","Coordinates where multiples represent the same point","Coordinates in 2D only","Coordinates measured from the focus"],correctIndex:1,difficulty:"medium",explanation:"In homogeneous coordinates (X:Y:Z), multiples like (2X:2Y:2Z) represent the same point as (X:Y:Z)."},{id:5,type:"multiple-choice",question:"In projective geometry, how many points do two conics intersect in?",options:["At most 4","Exactly 4","At most 2","Exactly 2"],correctIndex:1,difficulty:"medium",explanation:"Over the complex projective plane, Bzout's theorem gives exactly 22 = 4 intersection points."},{id:6,type:"multiple-choice",question:"What field of mathematics generalizes the study of conics?",options:["Topology","Algebraic geometry","Differential equations","Statistics"],correctIndex:1,difficulty:"easy",explanation:"Algebraic geometry studies solutions to polynomial equations geometrically, with conics being degree 2 curves."},{id:7,type:"multiple-choice",question:"What are elliptic curves?",options:["Ellipses in 3D","Degree 3 algebraic curves","Circles with varying radius","Curves with eccentricity 0"],correctIndex:1,difficulty:"medium",explanation:"Elliptic curves are degree 3 (cubic) curves, the next step beyond conics in algebraic geometry."},{id:8,type:"multiple-choice",question:"Which three areas of mathematics does this chapter connect?",options:["Calculus, statistics, logic","Geometry, algebra, number theory","Topology, analysis, combinatorics","Set theory, category theory, algebra"],correctIndex:1,difficulty:"easy",explanation:"Conics unite geometry (shapes), algebra (equations), and number theory (integer solutions)."}],eee=[{id:1,type:"multiple-choice",question:"What is an algebraic function?",options:["Any function that uses algebra","A function satisfying a polynomial equation p(x, y) = 0","A function that is always continuous","A function defined by a formula"],correctIndex:1,difficulty:"easy",explanation:"An algebraic function y of x satisfies a polynomial equation p(x, y) = 0."},{id:2,type:"multiple-choice",question:'What does "transcendental" mean for a function?',options:["It is infinite","It is complex-valued","It is not algebraic (transcends algebra)","It is periodic"],correctIndex:2,difficulty:"easy",explanation:'Transcendental functions "transcend" algebrathey cannot be defined by any polynomial equation.'},{id:3,type:"multiple-choice",question:"Why is sin x transcendental?",options:["It is defined using angles","Its graph meets the x-axis infinitely many times","It involves ","It is not continuous"],correctIndex:1,difficulty:"medium",explanation:"An algebraic curve meets the x-axis only finitely many times, but y = sin x meets it at 0, , 2, ..."},{id:4,type:"multiple-choice",question:"Which of the following is an algebraic function?",options:["sin x","log x","x","e"],correctIndex:2,difficulty:"easy",explanation:"x is algebraic because y = x satisfies y - x = 0, a polynomial equation."},{id:5,type:"multiple-choice",question:"Why must periodic functions be transcendental?",options:["They are defined by integrals","They repeat, meeting horizontal lines infinitely many times","They involve ","They cannot be computed exactly"],correctIndex:1,difficulty:"medium",explanation:"A periodic function meets horizontal lines infinitely often, but algebraic curves have only finite intersections."},{id:6,type:"multiple-choice",question:"What geometric object will define the exponential function?",options:["The circle","The parabola","The hyperbola","The ellipse"],correctIndex:2,difficulty:"easy",explanation:"The exponential function inherits its properties from the area under the hyperbola xy = 1."},{id:7,type:"multiple-choice",question:"Is the arc length of a circle algebraic?",options:["Yes, it equals r","Yes, it is a polynomial in r","No, it is transcendental","It depends on the radius"],correctIndex:2,difficulty:"medium",explanation:"Arc length of the circle involves  and is transcendentalotherwise sin and cos would be algebraic."},{id:8,type:"multiple-choice",question:"What is the degree of an algebraic curve?",options:["The number of variables","The highest power in the defining polynomial","The number of intersection points","The dimension of the curve"],correctIndex:1,difficulty:"easy",explanation:"The degree is the highest total power of the polynomial p(x, y), e.g., x + xy + y has degree 2."}],tee=[{id:1,type:"multiple-choice",question:"How is the area under a curve defined?",options:["By a formula involving x and y","As the least upper bound of polygon areas","By counting grid squares","Using calculus only"],correctIndex:1,difficulty:"easy",explanation:"The area is defined as the least upper bound of all polygon areas contained in the region."},{id:2,type:"multiple-choice",question:"If a region is scaled by M in x and N in y, how does area change?",options:["Multiplied by M + N","Multiplied by M  N","Multiplied by M","Unchanged"],correctIndex:1,difficulty:"easy",explanation:"Scaling by M in x and N in y multiplies area by MNthis is why circle area is proportional to r."},{id:3,type:"multiple-choice",question:"Who first determined a curved area?",options:["Archimedes","Euclid","Hippocrates of Chios","Pythagoras"],correctIndex:2,difficulty:"medium",explanation:"Hippocrates of Chios (430 BC) found that a certain lune has the same area as a triangle."},{id:4,type:"multiple-choice",question:"What is the area under y = x from x = 0 to x = 1?",options:["1/2","1/3","1/4","1"],correctIndex:1,difficulty:"easy",explanation:"Archimedes showed this area is 1/3 by summing squares 1 + 2 + ... + (n-1) and taking the limit."},{id:5,type:"multiple-choice",question:"Why is the parabola special among algebraic curves?",options:["It has the largest area","Its area function is algebraic (not transcendental)","It is the only curve with finite area","It was discovered first"],correctIndex:1,difficulty:"medium",explanation:"The parabola's area function (x/3) is algebraic, unlike the circle or hyperbola."},{id:6,type:"multiple-choice",question:"For a unit circle sector with angle , what is the area?",options:["","/2","2",""],correctIndex:1,difficulty:"medium",explanation:"A sector with angle  has area /2, so the parameter in (cos , sin ) is twice the area."},{id:7,type:"multiple-choice",question:"Why do we use area rather than arc length to define transcendental functions?",options:["Arc length is undefined","Area is always finite","Area is usually more manageable","Arc length is always algebraic"],correctIndex:2,difficulty:"medium",explanation:"For most curves, area functions are easier to work with than arc length functions."},{id:8,type:"multiple-choice",question:"The sum 1 + 2 + ... + n equals:",options:["n(n+1)/2","n(n+1)(2n+1)/6","n(n+1)/4","n/3"],correctIndex:1,difficulty:"hard",explanation:"This formula, known to Archimedes, is n(n+1)(2n+1)/6 and is key to finding the parabola area."}],see=[{id:1,type:"multiple-choice",question:"How is the natural logarithm defined?",options:["As the inverse of 10","As the area under xy = 1 from x = 1 to x = t","As the arc length of a hyperbola","As the solution to x = t"],correctIndex:1,difficulty:"easy",explanation:"log t is defined as the area under the hyperbola xy = 1 from x = 1 to x = t."},{id:2,type:"multiple-choice",question:"What is log 1?",options:["1","0","e","Undefined"],correctIndex:1,difficulty:"easy",explanation:"log 1 = 0 because there is no area from x = 1 to x = 1."},{id:3,type:"multiple-choice",question:"What is the additive property of log?",options:["log(a + b) = log a + log b","log(ab) = log a + log b","log(a) = a log b","log(a/b) = log a + log b"],correctIndex:1,difficulty:"easy",explanation:"The additive property states log(ab) = log a + log b, which comes from the geometry of y = 1/x."},{id:4,type:"multiple-choice",question:"How is the number e defined?",options:["e = 2.71828","e is the number with log e = 1","e =  - 0.4","e is the smallest transcendental number"],correctIndex:1,difficulty:"medium",explanation:"e is defined as the unique number whose natural logarithm equals 1: log e = 1."},{id:5,type:"multiple-choice",question:"What is the relationship between e and log x?",options:["They are the same function","They are inverse functions","e = 1/log x","e + log x = 1"],correctIndex:1,difficulty:"easy",explanation:"The exponential e and natural logarithm are inverse functions: x = e  y = log x."},{id:6,type:"multiple-choice",question:"Why does the additive property of log hold?",options:["By definition of addition","From the geometry of y = 1/x (scaling preserves area)","From calculus","From the definition of e"],correctIndex:1,difficulty:"medium",explanation:"The region from a to ab is a  1/a = 1 times the area from 1 to b, due to y = 1/x."},{id:7,type:"multiple-choice",question:"What is log(a) for integer n?",options:["a log a","n + log a","n log a","(log a)"],correctIndex:2,difficulty:"easy",explanation:"By the additive property applied n times: log(a) = log(aa...a) = n log a."},{id:8,type:"multiple-choice",question:"Is the number e algebraic or transcendental?",options:["Algebraic (it satisfies x - e = 0)","Algebraic (it is a ratio of integers)","Transcendental (proved by Hermite in 1873)","Neither"],correctIndex:2,difficulty:"medium",explanation:"Hermite proved in 1873 that e is transcendentalnot the root of any polynomial with integer coefficients."}],iee=[{id:1,type:"multiple-choice",question:"What is the addition formula for e?",options:["e = e + e","e = e  e","e = (e)","e = e"],correctIndex:1,difficulty:"easy",explanation:"The addition formula e = e  e is the fundamental property of exponentials."},{id:2,type:"multiple-choice",question:"What is Euler's formula?",options:["e = mc","e = cos  + i sin ","e = 2.718...","e +  = i"],correctIndex:1,difficulty:"easy",explanation:"Euler's formula e = cos  + i sin  unifies exponential and trigonometric functions."},{id:3,type:"multiple-choice",question:"What is e?",options:["1","0","-1","i"],correctIndex:2,difficulty:"easy",explanation:"By Euler's formula: e = cos  + i sin  = -1 + 0 = -1."},{id:4,type:"multiple-choice",question:"Which limit formula defines e?",options:["lim (1/n) as n  ","lim (1 + 1/n) as n  ","lim (1 + n)^(1/n) as n  ","lim n/(n+1) as n  "],correctIndex:1,difficulty:"medium",explanation:"e = lim (1 + 1/n) as n  , which approaches approximately 2.71828."},{id:5,type:"multiple-choice",question:"Why is e transcendental?",options:["Because e is irrational","Because e = 1 has infinitely many solutions (x = 2in)","Because it cannot be computed exactly","Because it grows too fast"],correctIndex:1,difficulty:"hard",explanation:"If e were algebraic, e = 1 would have finitely many solutions, but x = 2in works for all integers n."},{id:6,type:"multiple-choice",question:"The series for e is:",options:["1 + x + x + x + ...","1 + x/1! + x/2! + x/3! + ...","x + x/2 + x/3 + ...","1 - x + x - x + ..."],correctIndex:1,difficulty:"medium",explanation:"e = 1 + x/1! + x/2! + x/3! + ..., where n! = n(n-1)(n-2)...1."},{id:7,type:"multiple-choice",question:"Who proved that e is transcendental?",options:["Euler","Gauss","Hermite","Lindemann"],correctIndex:2,difficulty:"medium",explanation:"Charles Hermite proved in 1873 that e is transcendentalthe first known transcendental number."},{id:8,type:"multiple-choice",question:"What five constants appear in e + 1 = 0?",options:["e, i, , 2, 0","e, i, , 1, 0","e, i, 2, 1, -1","e, -1, , -1, 0"],correctIndex:1,difficulty:"easy",explanation:"The equation e + 1 = 0 connects e, i, , 1, and 0five fundamental constants."}],nee=[{id:1,type:"multiple-choice",question:"What is the definition of cosh ?",options:["(e - e)/2","(e + e)/2","e/2","e + e"],correctIndex:1,difficulty:"easy",explanation:"cosh  = (e + e)/2, the hyperbolic cosine."},{id:2,type:"multiple-choice",question:"What is the hyperbolic identity?",options:["cosh + sinh = 1","cosh - sinh = 1","cosh  + sinh  = 1","cosh  - sinh  = 1"],correctIndex:1,difficulty:"easy",explanation:"cosh - sinh = 1, analogous to cos + sin = 1 for circular functions."},{id:3,type:"multiple-choice",question:"What curve does (cosh , sinh ) parametrize?",options:["The circle x + y = 1","The hyperbola x - y = 1","The parabola y = x","The ellipse x/4 + y/9 = 1"],correctIndex:1,difficulty:"easy",explanation:"Since cosh - sinh = 1, the point (cosh , sinh ) lies on x - y = 1."},{id:4,type:"multiple-choice",question:"Is cosh  always  1?",options:["No, it can be negative","No, it can be between 0 and 1","Yes, cosh   1 always","Only for  > 0"],correctIndex:2,difficulty:"medium",explanation:"cosh  = (e + e)/2  (e  e) = 1 by AM-GM, with equality when  = 0."},{id:5,type:"multiple-choice",question:"What is cosh( + )?",options:["cosh  cosh  - sinh  sinh ","cosh  cosh  + sinh  sinh ","sinh  cosh  + cosh  sinh ","cosh  + cosh "],correctIndex:1,difficulty:"medium",explanation:"cosh( + ) = cosh  cosh  + sinh  sinh  (note the + sign, unlike cos)."},{id:6,type:"multiple-choice",question:"How are cos  and cosh  related?",options:["They are unrelated","cos  = cosh(i)","cos  = cosh ","cos  = i cosh "],correctIndex:1,difficulty:"hard",explanation:"By Euler's formula, cos  = cosh(i), connecting circular and hyperbolic functions."},{id:7,type:"multiple-choice",question:"What does adding points P + P on the hyperbola mean?",options:["Adding their coordinates","Taking the point P+","Averaging their positions","Finding their intersection"],correctIndex:1,difficulty:"medium",explanation:"Adding points on the hyperbola means adding their parameters: P + P = P+."},{id:8,type:"multiple-choice",question:"What is sinh(-)?",options:["sinh ","-sinh ","cosh ","-cosh "],correctIndex:1,difficulty:"easy",explanation:"sinh(-) = -sinh  because sinh is an odd function (like sin)."}],ree=[{id:1,type:"multiple-choice",question:"How is x - dy = 1 parametrized?",options:["x = cos , y = sin ","x = cosh , y = (1/d) sinh ","x = e, y = e","x = , y = ( - 1)"],correctIndex:1,difficulty:"medium",explanation:"The parametrization x = cosh , y = (1/d) sinh  satisfies x - dy = 1."},{id:2,type:"multiple-choice",question:"What is the rule for x_{+} on x - dy = 1?",options:["x + x","x  x","x  x + d  y  y","x  y + y  x"],correctIndex:2,difficulty:"medium",explanation:"x_{+} = x  x + d  y  y, from the hyperbolic addition formulas."},{id:3,type:"multiple-choice",question:"What algebraic structure do the integer points on x - dy = 1 form?",options:["A field","A finite group","An infinite cyclic group","A ring"],correctIndex:2,difficulty:"medium",explanation:"The integer points form an infinite cyclic group generated by the fundamental solution."},{id:4,type:"multiple-choice",question:"What is the identity element for point addition on x - dy = 1?",options:["(0, 0)","(1, 0)","(1, 1)","(0, 1)"],correctIndex:1,difficulty:"easy",explanation:"(1, 0) is the identity, corresponding to  = 0 since cosh 0 = 1, sinh 0 = 0."},{id:5,type:"multiple-choice",question:"The point addition formula is equivalent to multiplying:",options:["x + y by x + y","(x + yd)(x + yd)","x  y by x  y","cosh  by cosh "],correctIndex:1,difficulty:"medium",explanation:"x_{+} + y_{+}d = (x + yd)(x + yd), the same multiplication from Chapter 8."},{id:6,type:"multiple-choice",question:"For x - 2y = 1, adding (3, 2) to itself gives:",options:["(6, 4)","(9, 4)","(17, 12)","(11, 8)"],correctIndex:2,difficulty:"medium",explanation:"x = 33 + 222 = 17, y = 32 + 23 = 12, giving (17, 12)."},{id:7,type:"multiple-choice",question:"What generates all integer solutions to x - dy = 1?",options:["The point (d, 1)","The fundamental solution nearest to (1, 0)","Any integer point","The point (d, 1)"],correctIndex:1,difficulty:"easy",explanation:"All integer solutions come from repeatedly adding the fundamental solution (nearest to (1, 0))."},{id:8,type:"multiple-choice",question:"What is the inverse of an integer point (x, y) on x - dy = 1?",options:["(x, y)","(-x, -y)","(x, -y)","(y, x)"],correctIndex:2,difficulty:"easy",explanation:"The inverse is (x, -y), corresponding to parameter - since sinh(-) = -sinh ."}],aee=[{id:1,type:"multiple-choice",question:"What structure is preserved when extending         ?",options:["Order structure","Field structure (add, subtract, multiply, divide)","Countability","Finiteness"],correctIndex:1,difficulty:"medium",explanation:"Field structure (allowing +, -, , ) is preserved and guides all extensions of the number system."},{id:2,type:"multiple-choice",question:"What did Cantor prove about  in 1874?",options:[" is finite"," is countable"," is uncountable"," is algebraic"],correctIndex:2,difficulty:"easy",explanation:"Cantor proved  is uncountable, showing there are more real numbers than can be listed."},{id:3,type:"multiple-choice",question:"Why do transcendental numbers exist?",options:["Because some numbers are very large","Because algebraic numbers are countable but  is uncountable","Because  and e were computed","Because of the fundamental theorem of algebra"],correctIndex:1,difficulty:"medium",explanation:"Since algebraic numbers are countable but  is uncountable, most real numbers must be transcendental."},{id:4,type:"multiple-choice",question:"What does the logarithm provide between multiplicative and additive groups?",options:["A homomorphism","An isomorphism","An embedding","A bijection"],correctIndex:1,difficulty:"hard",explanation:"The logarithm is an isomorphism: it maps (positive reals, ) to (all reals, +) bijectively, preserving structure."},{id:5,type:"multiple-choice",question:"What unifies the circle and hyperbola parametrizations?",options:["They have the same equation","The exponential function and Euler's formula","They are both degree 2 curves","Complex numbers"],correctIndex:1,difficulty:"medium",explanation:"e = cos  + i sin  unifies circular (cos, sin) and hyperbolic (cosh, sinh) functions via the exponential."},{id:6,type:"multiple-choice",question:"What area of mathematics studies Z[d] and similar rings?",options:["Algebraic geometry","Algebraic number theory","Complex analysis","Group theory"],correctIndex:1,difficulty:"easy",explanation:"Algebraic number theory studies number rings like Z[d], extending unique factorization ideas."},{id:7,type:"multiple-choice",question:'What is the main theme of "Numbers and Geometry"?',options:["Arithmetic and geometry are separate","Geometry is more important than arithmetic","The creative tension between arithmetic and geometry","All mathematics reduces to numbers"],correctIndex:2,difficulty:"easy",explanation:"The book's theme is that arithmetic and geometry enrich each other through creative tension."},{id:8,type:"multiple-choice",question:"How did 2 prove its worth in number theory?",options:["By being the first irrational number","By generating solutions to x - 2y = 1","By appearing in the Pythagorean theorem","By defining the real numbers"],correctIndex:1,difficulty:"medium",explanation:"2 generates integer solutions to Pell's equation x - 2y = 1 via (x + y2)."}];function lee(){return s.jsxs(je,{sectionId:0,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Natural Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The beauty and fascination of numbers can be summed up by one simple fact: anyone can count ",s.jsx(o,{children:"1, 2, 3, 4, \\ldots"}),", but no one knows all the implications of this simple process."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We all realize that the sequence ",s.jsx(o,{children:"1, 2, 3, 4, \\ldots"})," continues"," ",s.jsx(o,{children:"5, 6, 7, 8, \\ldots"}),", and that we can continue indefinitely adding 1. The objects produced by this counting process are what mathematicians call the ",s.jsx("strong",{children:"natural numbers"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["What do ",s.jsx(o,{children:"1, 2, 3, 17, 643, 100097801"})," have in common? They are all produced by the counting process. This is slightly troubling: the simplest mathematical objects are defined by an ",s.jsx("em",{children:"infinite"})," process!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Natural Numbers and Infinity"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The concept of natural number is inseparable from the concept of infinity. We must learn to live with this and, if possible, use it to our advantage."}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One of the most powerful methods in mathematics draws its strength from the infinite counting process. This is ",s.jsx("strong",{children:"mathematical induction"}),", which may be formulated in several ways, each basically a restatement of the fact that any natural number can be reached by counting."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Infinite Descent"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['The first form of induction we consider expresses the fact that from each natural number we can "count down" to 1 by finitely often subtracting 1. It follows that an ',s.jsx("strong",{children:"infinite descending sequence"})," of natural numbers is impossible."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"The Key Principle"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"There is no infinite sequence of natural numbers"}),s.jsx($,{children:"n_1 > n_2 > n_3 > n_4 > \\cdots"}),s.jsx("p",{className:"text-sm text-dark-400 mt-2",children:"Eventually, we must reach 1 (or 0)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Proof Technique"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"To prove something is impossible, assume it exists and construct an infinite descending sequence."}),s.jsx("p",{className:"text-sm text-dark-400",children:"This contradiction proves the original assumption was false."})]})]}),s.jsxs("p",{className:"text-dark-200 mt-6 mb-6",children:["This technique is called ",s.jsx("strong",{children:"infinite descent"}),", and it dates back to around 500 B.C. The most famous example is the proof that"," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is irrational."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Irrationality of ",s.jsxs(o,{children:["\\sqrt","{2}"]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["There are no natural numbers ",s.jsx(o,{children:"m"})," and"," ",s.jsx(o,{children:"n"})," such that ",s.jsx(o,{children:"m^2 = 2n^2"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['This result is better known as "the irrationality of ',s.jsxs(o,{children:["\\sqrt","{2}"]}),'." If ',s.jsxs(o,{children:["\\sqrt","{2}"]})," were a ratio ",s.jsx(o,{children:"m/n"}),", then squaring both sides of ",s.jsxs(o,{children:["\\sqrt","{2}"," = m/n"]})," would give ",s.jsx(o,{children:"2 = m^2/n^2"}),", hence ",s.jsx(o,{children:"m^2 = 2n^2"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Proof by Infinite Descent"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Assume ",s.jsx(o,{children:"m^2 = 2n^2"})," for some natural numbers"," ",s.jsx(o,{children:"m, n"}),". We derive a contradiction:"]}),s.jsxs("div",{className:"space-y-3 text-dark-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx(o,{children:"m^2 = 2n^2"})," implies ",s.jsx(o,{children:"m^2"})," is even"]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Therefore ",s.jsx(o,{children:"m"})," is even, say ",s.jsx(o,{children:"m = 2m_1"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Substituting: ",s.jsx(o,{children:"4m_1^2 = 2n^2"}),", so ",s.jsx(o,{children:"2m_1^2 = n^2"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["This means ",s.jsx(o,{children:"n^2"})," is even, so ",s.jsx(o,{children:"n"})," is even, say ",s.jsx(o,{children:"n = 2n_1"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Now ",s.jsx(o,{children:"m_1^2 = 2n_1^2"})," with ",s.jsxs(o,{children:["m ",">"," m_1 ",">"," 0"]})]})]})]}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Repeating this argument gives an infinite descending sequence"," ",s.jsxs(o,{children:["m ",">"," m_1 ",">"," m_2 ",">"," \\cdots"]}),", which is impossible!"]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:['The word "irrational" simply means "not a ratio." The proof shows that'," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," cannot be expressed as a ratio of natural numbers. Whatever ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is, its irrationality is a fact about natural numbers."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Egyptian Fractions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Another beautiful application of descent comes from ancient Egypt (around 4000 years ago). The Egyptians had a curious arithmetic of fractions that depended on expressing each fraction between 0 and 1 as a sum of ",s.jsx("strong",{children:"distinct unit fractions"})," ","(fractions of the form ",s.jsx(o,{children:"1/n"}),")."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Example: 2/3"}),s.jsx($,{children:"\\frac{2}{3} = \\frac{1}{2} + \\frac{1}{6}"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Example: 3/5"}),s.jsx($,{children:"\\frac{3}{5} = \\frac{1}{2} + \\frac{1}{10}"})]})]}),s.jsxs("p",{className:"text-dark-200 mt-6 mb-6",children:["Such sums are called ",s.jsx("strong",{children:"Egyptian fractions"}),". A systematic method for finding them was developed by Fibonacci in his book ",s.jsx("em",{children:"Liber Abacci"})," (1202)."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-cyan-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-cyan-400",children:"Fibonacci's Method"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Given a fraction ",s.jsx(o,{children:"a/b"})," between 0 and 1:"]}),s.jsxs("ol",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Find the largest unit fraction ",s.jsx(o,{children:"1/n"})," less than"," ",s.jsx(o,{children:"a/b"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Compute the remainder: ",s.jsx(o,{children:"a'/b' = a/b - 1/n"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The numerator ",s.jsx(o,{children:"a'"})," is smaller than ",s.jsx(o,{children:"a"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsx("span",{children:"Repeat until the remainder is a unit fraction"})]})]}),s.jsx("p",{className:"text-dark-200 mt-4",children:"By descent on the numerator, this process must terminate!"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Natural numbers"})," are the objects produced by the counting process: ",s.jsx(o,{children:"1, 2, 3, 4, \\ldots"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The concept of natural number is inherently tied to ",s.jsx("strong",{children:"infinity"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Infinite descent"})," proves impossibility by showing that an assumption leads to an infinite descending sequence."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The ",s.jsxs("strong",{children:["irrationality of ",s.jsxs(o,{children:["\\sqrt","{2}"]})]})," ","follows from descent: assuming ",s.jsx(o,{children:"m^2 = 2n^2"})," leads to smaller and smaller solutions forever."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Egyptian fractions"})," show that any fraction can be written as a sum of distinct unit fractions, proved by descent on the numerator."]})]})]})}),s.jsx(ve,{sectionId:0,questions:PA})]})}function oee(){return s.jsxs(je,{sectionId:1,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Division, Divisors, and Primes"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:`We have taken addition and multiplication for granted, but we cannot do the same for division. Division cannot always be done in the natural numbers: as you learned in primary school, "3 into 7 won't go."`}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Division with Remainder"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The exact relation between 3 and 7 is:"}),s.jsx($,{children:"7 = 2 \\times 3 + 1"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["We say that ",s.jsx("strong",{children:"2 is the quotient"})," when 7 is divided by 3, and ",s.jsx("strong",{children:"1 is the remainder"}),". Only when there is no remainder (as when 3 divides 6) is true division possible in the natural numbers."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"The Division Property"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["For any natural numbers ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"}),", we can write:"]}),s.jsx($,{children:"a = qb + r, \\quad \\text{with } 0 \\leq r < b"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["where ",s.jsx(o,{children:"q"})," is the ",s.jsx("strong",{children:"quotient"})," and"," ",s.jsx(o,{children:"r"})," is the ",s.jsx("strong",{children:"remainder"}),"."]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The division property follows from infinite descent: if we descend through"," ",s.jsx(o,{children:"a, a-b, a-2b, a-3b, \\ldots"})," we must eventually reach a number ",s.jsx(o,{children:"r = a - qb"})," smaller than ",s.jsx(o,{children:"b"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Divisibility"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," are natural numbers, we say that ",s.jsxs("strong",{children:[s.jsx(o,{children:"b"})," divides ",s.jsx(o,{children:"a"})]})," ","if there is a natural number ",s.jsx(o,{children:"q"})," such that:"]}),s.jsx($,{children:"a = qb"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Equivalent Statements"}),s.jsxs("ul",{className:"text-sm text-dark-300 space-y-2",children:[s.jsxs("li",{children:[s.jsx(o,{children:"b"})," divides ",s.jsx(o,{children:"a"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"a"})," is divisible by ",s.jsx(o,{children:"b"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"b"})," is a divisor of ",s.jsx(o,{children:"a"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"a"})," is a multiple of ",s.jsx(o,{children:"b"})]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Examples"}),s.jsxs("ul",{className:"text-sm text-dark-300 space-y-2",children:[s.jsxs("li",{children:["3 divides 12 because ",s.jsx(o,{children:"12 = 4 \\times 3"})]}),s.jsxs("li",{children:["5 divides 35 because ",s.jsx(o,{children:"35 = 7 \\times 5"})]}),s.jsx("li",{children:"7 does not divide 15 (remainder 1)"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Factorization and Prime Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When a natural number is written as a product ",s.jsx(o,{children:"a = n_1 n_2 \\cdots n_k"}),", the divisors ",s.jsx(o,{children:"n_i"})," are called ",s.jsx("strong",{children:"factors"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The simplest numbers, from the standpoint of factorization, are the"," ",s.jsx("strong",{children:"primes"}),"  natural numbers ",s.jsx(o,{children:"p"})," divisible only by 1 and ",s.jsx(o,{children:"p"})," itself."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Definition: Prime Number"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["A natural number ",s.jsxs(o,{children:["p ",">"," 1"]})," is ",s.jsx("strong",{children:"prime"})," if its only divisors are 1 and ",s.jsx(o,{children:"p"}),"."]}),s.jsx("p",{className:"text-dark-200",children:'Primes may be regarded as "atoms" because they cannot be split into smaller factors. Note: 1 is not considered a prime (factors of 1 are redundant).'})]}),s.jsx("p",{className:"text-dark-200 mb-4",children:"The first few prime numbers are:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-4 mb-6 font-mono text-center text-amber-400",children:"2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, ..."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Algebraic Factorization"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In the proof that ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is irrational, we used the fact that ",s.jsx(o,{children:"m^2"})," is even if and only if"," ",s.jsx(o,{children:"m"})," is even. Let's verify this using algebra:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4 text-dark-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-semibold mb-2",children:"If 2 divides m:"}),s.jsx($,{children:"m = 2\\ell \\Rightarrow m^2 = 4\\ell^2 = 2(2\\ell^2) \\Rightarrow \\text{2 divides } m^2"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-semibold mb-2",children:"If 2 does not divide m:"}),s.jsx($,{children:"m = 2\\ell + 1 \\Rightarrow m^2 = 4\\ell^2 + 4\\ell + 1 = 2(2\\ell^2 + 2\\ell) + 1"}),s.jsxs("p",{className:"mt-2",children:["So 2 does not divide ",s.jsx(o,{children:"m^2"}),"."]})]})]})}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["The same idea proves the irrationality of ",s.jsxs(o,{children:["\\sqrt","{3}"]}),": show that ",s.jsx(o,{children:"m^2"})," is a multiple of 3 only if"," ",s.jsx(o,{children:"m"})," is a multiple of 3, then use infinite descent!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Mersenne and Fermat Primes"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"An important algebraic factorization helps us understand when certain numbers can be prime:"}),s.jsx($,{children:"x^n - 1 = (x-1)(x^{n-1} + x^{n-2} + \\cdots + x + 1)"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Mersenne Primes"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Primes of the form ",s.jsx(o,{children:"2^p - 1"})]}),s.jsxs("p",{className:"text-sm text-dark-400 mb-2",children:["If ",s.jsx(o,{children:"m = np"}),", then ",s.jsx(o,{children:"2^m - 1"})," is divisible by ",s.jsx(o,{children:"2^p - 1"}),"."]}),s.jsxs("p",{className:"text-sm text-emerald-400",children:["So ",s.jsx(o,{children:"2^p - 1"})," can only be prime if ",s.jsx(o,{children:"p"})," is prime."]}),s.jsxs("p",{className:"text-xs text-dark-500 mt-2",children:["Examples: ",s.jsx(o,{children:"2^2-1=3"}),", ",s.jsx(o,{children:"2^3-1=7"}),","," ",s.jsx(o,{children:"2^5-1=31"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Fermat Primes"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Primes of the form ",s.jsxs(o,{children:["2^","{2^n}"," + 1"]})]}),s.jsxs("p",{className:"text-sm text-dark-400 mb-2",children:["Similarly, ",s.jsx(o,{children:"2^m + 1"})," can only be prime if"," ",s.jsx(o,{children:"m"})," is a power of 2."]}),s.jsx("p",{className:"text-sm text-emerald-400",children:"Only 5 Fermat primes are known: 3, 5, 17, 257, 65537."}),s.jsxs("p",{className:"text-xs text-dark-500 mt-2",children:["(for ",s.jsx(o,{children:"n = 0, 1, 2, 3, 4"}),")"]})]})]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Not all numbers of these forms are prime! For example,"," ",s.jsxs(o,{children:["2^","{11}"," - 1 = 2047 = 23 \\times 89"]})," is not prime, even though 11 is prime. And 641 divides ",s.jsxs(o,{children:["2^","{32}"," + 1"]}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"division property"})," says any ",s.jsx(o,{children:"a"})," can be written as ",s.jsx(o,{children:"a = qb + r"})," with ",s.jsxs(o,{children:["0 \\leq r ","<"," b"]}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx(o,{children:"b"})," ",s.jsx("strong",{children:"divides"})," ",s.jsx(o,{children:"a"})," ","means ",s.jsx(o,{children:"a = qb"})," for some natural number ",s.jsx(o,{children:"q"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"prime"})," is a natural number ",s.jsxs(o,{children:["p ",">"," 1"]})," ","divisible only by 1 and ",s.jsx(o,{children:"p"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebraic factorization"})," helps prove facts about divisibility (e.g., 2 divides ",s.jsx(o,{children:"m^2"})," iff 2 divides ",s.jsx(o,{children:"m"}),")."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Mersenne primes"})," (",s.jsx(o,{children:"2^p - 1"}),") and"," ",s.jsx("strong",{children:"Fermat primes"})," (",s.jsxs(o,{children:["2^","{2^n}"," + 1"]}),") are special families of primes."]})]})]})}),s.jsx(ve,{sectionId:1,questions:OQ})]})}function cee(){return s.jsxs(je,{sectionId:2,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Mysterious Sequence of Primes"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"It is relatively easy to continue the list of primes, especially with the help of a computer, but one never gets a clear picture of where it is going. Somehow, the two simplest aspects of the natural numbers  their ability to be ordered and their ability to be factored  interact in an incredibly complex way."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Unpredictable Nature of Primes"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Listing the primes in increasing order produces no apparent pattern; one cannot even be sure the list continues indefinitely. On the other hand, the ",s.jsx("em",{children:"concept"})," ","of prime is surely simple, so maybe we can prove that there are infinitely many primes, without knowing their pattern."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-4 mb-6 font-mono text-center text-amber-400",children:"2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, ..."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This is in fact what Euclid did, more than 2000 years ago. His simple proof appears in Proposition 20, Book IX of the ",s.jsx("em",{children:"Elements"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Theorem: Infinitely Many Primes"}),s.jsx("p",{className:"text-dark-200",children:"There are infinitely many primes."})]}),s.jsx("p",{className:"text-dark-200 mb-4",children:"The proof has two parts:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Part 1: Every n has a prime divisor"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Take any divisor ",s.jsx(o,{children:"d"})," of ",s.jsx(o,{children:"n"}),". If ",s.jsx(o,{children:"d"})," is prime, we're done."]}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["If not, ",s.jsx(o,{children:"d"})," has a smaller divisor"," ",s.jsx(o,{children:"e \\neq 1"}),". This ",s.jsx(o,{children:"e"})," also divides ",s.jsx(o,{children:"n"}),"."]}),s.jsx("p",{className:"text-sm text-dark-400",children:"By infinite descent, we eventually find a prime divisor."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Part 2: Extend any list of primes"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Given primes ",s.jsx(o,{children:"p_1, p_2, \\ldots, p_k"}),", consider:"]}),s.jsx($,{children:"n = p_1 p_2 \\cdots p_k + 1"}),s.jsxs("p",{className:"text-sm text-dark-300 mt-2",children:["This ",s.jsx(o,{children:"n"})," is not divisible by any of the given primes (they all leave remainder 1)."]}),s.jsxs("p",{className:"text-sm text-emerald-400 mt-2",children:["But ",s.jsx(o,{children:"n"})," has some prime divisor ",s.jsx(o,{children:"p"}),", which must be different from all the ",s.jsx(o,{children:"p_i"}),"."]})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 my-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Example: Generating New Primes"}),s.jsxs("div",{className:"space-y-3 text-dark-200 text-sm",children:[s.jsxs("p",{children:["Starting with ",s.jsx(o,{children:"p_1 = 2"}),":"]}),s.jsxs("ul",{className:"space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx(o,{children:"n = 2 + 1 = 3"}),"  a new prime ",s.jsx(o,{children:"p_2"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"n = 2 \\times 3 + 1 = 7"}),"  a new prime ",s.jsx(o,{children:"p_3"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"n = 2 \\times 3 \\times 7 + 1 = 43"}),"  a new prime ",s.jsx(o,{children:"p_4"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"n = 2 \\times 3 \\times 7 \\times 43 + 1 = 1807 = 13 \\times 139"}),"  not prime!"]})]}),s.jsxs("p",{className:"text-dark-400 mt-2",children:["Note: ",s.jsx(o,{children:"n"})," itself doesn't have to be prime  it just has a prime divisor not in our original list."]})]})]}),s.jsx(ne,{type:"success",children:s.jsx("p",{children:"This proof is one of the most admired in mathematics, and one's admiration for it only increases the more one knows about primes. Euclid devised a proof that did not need to know the pattern of primes!"})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Two Types of Odd Primes"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Apart from the number 2, all primes are odd. Odd numbers come in two types: those of the form ",s.jsx(o,{children:"4n + 1"})," and those of the form"," ",s.jsx(o,{children:"4n + 3"}),". It turns out to be helpful to split the odd primes this way, because the two types often behave differently."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Primes of form 4n + 1"}),s.jsx("div",{className:"font-mono text-amber-400 text-sm",children:"5, 13, 17, 29, 37, 41, 53, 61, ..."}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"(5 = 41+1, 13 = 43+1, etc.)"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Primes of form 4n + 3"}),s.jsx("div",{className:"font-mono text-amber-400 text-sm",children:"3, 7, 11, 19, 23, 31, 43, 47, ..."}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"(3 = 40+3, 7 = 41+3, etc.)"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Infinitely Many Primes of Form 4n + 3"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We can extend Euclid's idea to prove there are infinitely many primes of the form ",s.jsx(o,{children:"4n + 3"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4 text-dark-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-semibold mb-2",children:"Key Observation:"}),s.jsxs("p",{children:["The product of two numbers of the form ",s.jsx(o,{children:"4a + 1"})," and"," ",s.jsx(o,{children:"4b + 1"})," is again of the form ",s.jsx(o,{children:"4n + 1"}),"."]}),s.jsx($,{children:"(4a + 1)(4b + 1) = 16ab + 4a + 4b + 1 = 4(4ab + a + b) + 1"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-semibold mb-2",children:"Consequence:"}),s.jsxs("p",{children:["Any number of the form ",s.jsx(o,{children:"4m + 3"})," must have at least one prime factor of the form ",s.jsx(o,{children:"4n + 3"}),"."]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-400 font-semibold mb-2",children:"The Argument:"}),s.jsxs("p",{children:["Given odd primes ",s.jsx(o,{children:"p_1, p_2, \\ldots, p_k"}),", consider"," ",s.jsx(o,{children:"2p_1 p_2 \\cdots p_k + 1"}),". This is of the form"," ",s.jsx(o,{children:"4n + 3"}),", so it has a prime factor of form"," ",s.jsx(o,{children:"4n + 3"})," not equal to any ",s.jsx(o,{children:"p_i"}),"."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dirichlet's Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Dirichlet's Theorem (1837)"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Any sequence of the form ",s.jsx(o,{children:"an + b"}),", where"," ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," are natural numbers with no common divisor, contains infinitely many primes."]}),s.jsxs("p",{className:"text-sm text-dark-400",children:["For example: infinitely many primes of the form ",s.jsx(o,{children:"6n + 1"})," ","and ",s.jsx(o,{children:"6n + 5"}),", but none of the form ",s.jsx(o,{children:"6n + 3"})," ","(since 3 divides any such number)."]})]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["The form ",s.jsx(o,{children:"an + b"})," is called a ",s.jsx("strong",{children:"linear form"}),". Virtually nothing is known about primes in higher-degree forms. For example, we do not know whether there are infinitely many primes of the form"," ",s.jsx(o,{children:"n^2 + 1"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The sequence of primes has no known pattern, yet we can prove"," ",s.jsx("strong",{children:"there are infinitely many"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Euclid's proof"}),": Given primes ",s.jsx(o,{children:"p_1, \\ldots, p_k"}),", the number ",s.jsx(o,{children:"p_1 \\cdots p_k + 1"})," has a prime divisor not in the list."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Every natural number has a ",s.jsx("strong",{children:"prime divisor"})," (by infinite descent)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Odd primes split into two types: ",s.jsx(o,{children:"4n + 1"})," and"," ",s.jsx(o,{children:"4n + 3"}),", each with infinitely many primes."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Dirichlet's theorem"})," generalizes: any ",s.jsx(o,{children:"an + b"})," ","with ",s.jsx(o,{children:"\\gcd(a, b) = 1"})," contains infinitely many primes."]})]})]})}),s.jsx(ve,{sectionId:2,questions:PQ})]})}function dee(){return s.jsxs(je,{sectionId:3,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integers and Rationals"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:'Everyone will agree that the natural numbers 1, 2, 3, 4, ... deserve the name "natural," but mathematicians feel they are not natural enough. The natural numbers are fine for counting, but not for arithmetic, because they do not permit unlimited subtraction. We cannot take 7 from 3, for example.'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Natural Numbers to Integers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To make subtraction always possible, we extend the set ",s.jsxs(o,{children:["\\mathbb","{N}"]})," ","of natural numbers to the set ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," of ",s.jsx("strong",{children:"integers"})," ","by adjoining 0 and the negative integers ",s.jsx(o,{children:"-1, -2, -3, -4, \\ldots"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"The Integers"}),s.jsx($,{children:"\\mathbb{Z} = \\{\\ldots, -3, -2, -1, 0, 1, 2, 3, \\ldots\\}"}),s.jsxs("p",{className:"text-dark-400 text-sm mt-3",children:["The letter ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),' stands for "Zahlen," the German word for "numbers."']})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The natural numbers now start a new life as the ",s.jsx("strong",{children:"positive integers"}),". Each positive integer ",s.jsx(o,{children:"a"})," has an ",s.jsx("strong",{children:"additive inverse"})," ",s.jsx(o,{children:"-a"}),", and the additive inverse of ",s.jsx(o,{children:"-a"})," is defined to be ",s.jsx(o,{children:"a"}),". If we also define ",s.jsx(o,{children:"-0 = 0"}),", then in all cases ",s.jsx(o,{children:"-(-a) = a"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Properties of Addition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["How do ",s.jsx(o,{children:"+"})," and ",s.jsx(o,{children:"-"})," behave? We insist they behave on ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," the same way they behave on"," ",s.jsxs(o,{children:["\\mathbb","{N}"]}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a + (b + c) = (a + b) + c"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(associative law)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a + b = b + a"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(commutative law)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a + (-a) = 0"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(additive inverse)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a + 0 = a"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(identity of 0)"})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["From these rules we can prove ",s.jsx("strong",{children:"uniqueness of additive inverse"}),":"," ",s.jsx(o,{children:"-a"})," is the only integer ",s.jsx(o,{children:"b"})," such that ",s.jsx(o,{children:"a + b = 0"}),'. This is what we normally call "solving for ',s.jsx(o,{children:"b"}),'."']})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Properties of Multiplication"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["There is a similar set of rules describing the behavior of ",s.jsx(o,{children:"\\times"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a \\times (b \\times c) = (a \\times b) \\times c"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(associative law)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a \\times b = b \\times a"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(commutative law)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a \\times 1 = a"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(identity of 1)"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($,{children:"a \\times 0 = 0"}),s.jsx("span",{className:"text-amber-400 text-sm",children:"(property of 0)"})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["And finally, a rule for the interaction of ",s.jsx(o,{children:"+"})," and"," ",s.jsx(o,{children:"\\times"}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"The Distributive Law"}),s.jsx($,{children:"a \\times (b + c) = a \\times b + a \\times c"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Does (-1)  (-1) = 1?"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["From these rules we can deduce that ",s.jsx(o,{children:"a \\times (-1) = -a"})," for any integer ",s.jsx(o,{children:"a"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-2 text-dark-200 text-sm",children:[s.jsx("p",{children:s.jsx(o,{children:"a + a \\times (-1)"})}),s.jsxs("p",{className:"pl-4",children:[s.jsx(o,{children:"= a \\times 1 + a \\times (-1)"})," ",s.jsx("span",{className:"text-dark-500 ml-2",children:"(identity property of 1)"})]}),s.jsxs("p",{className:"pl-4",children:[s.jsx(o,{children:"= a \\times (1 + (-1))"})," ",s.jsx("span",{className:"text-dark-500 ml-2",children:"(distributive law)"})]}),s.jsxs("p",{className:"pl-4",children:[s.jsx(o,{children:"= a \\times 0"})," ",s.jsx("span",{className:"text-dark-500 ml-2",children:"(additive inverse property)"})]}),s.jsxs("p",{className:"pl-4",children:[s.jsx(o,{children:"= 0"})," ",s.jsx("span",{className:"text-dark-500 ml-2",children:"(property of 0)"})]}),s.jsxs("p",{className:"mt-2",children:[s.jsx(o,{children:"\\Rightarrow a \\times (-1) = -a"})," ",s.jsx("span",{className:"text-dark-500 ml-2",children:"(uniqueness of additive inverse)"})]})]})}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["It follows that ",s.jsx(o,{children:"(-1) \\times (-1) = -(-1) = 1"}),", because the additive inverse of ",s.jsx(o,{children:"-1"})," is ",s.jsx(o,{children:"1"}),". More generally, ",s.jsx(o,{children:"(-a)(-b) = ab"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Integers to Rationals"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We extend the set ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," of integers to the set"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," of ",s.jsx("strong",{children:"rational numbers"})," (or simply",s.jsx("em",{children:" rationals"}),") by adjoining a ",s.jsx("strong",{children:"multiplicative inverse"})," ",s.jsxs(o,{children:["a^","{-1}"]})," of each nonzero integer ",s.jsx(o,{children:"a"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Multiplicative Inverse Property"}),s.jsx($,{children:"a \\times a^{-1} = 1"}),s.jsxs("p",{className:"text-dark-400 text-sm mt-3",children:["The symbol ",s.jsxs(o,{children:["\\mathbb","{Q}"]}),' stands for "quotients."']})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The quotient ",s.jsx(o,{children:"a \\div b"})," or ",s.jsx(o,{children:"a/b"})," is the same as ",s.jsxs(o,{children:["a \\times b^","{-1}"]}),". We add and multiply fractions according to familiar rules:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Adding Fractions"}),s.jsx($,{children:"\\frac{a}{b} + \\frac{c}{d} = \\frac{ad + bc}{bd}"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Multiplying Fractions"}),s.jsx($,{children:"\\frac{a}{b} \\cdot \\frac{c}{d} = \\frac{ac}{bd}"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rings and Fields"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The rules governing ",s.jsx(o,{children:"+"}),", ",s.jsx(o,{children:"-"}),", and"," ",s.jsx(o,{children:"\\times"})," are called the ",s.jsx("strong",{children:"ring properties"}),". Any set with operations ",s.jsx(o,{children:"+"})," and ",s.jsx(o,{children:"\\times"})," ","satisfying these rules is called a ",s.jsx("strong",{children:"ring"}),"."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Ring"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["A set with ",s.jsx(o,{children:"+"})," and ",s.jsx(o,{children:"\\times"})," ","satisfying the ring properties."]}),s.jsxs("p",{className:"text-sm text-emerald-400",children:["Example: ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," (the integers)"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Field"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"A ring with the multiplicative inverse property (for nonzero elements)."}),s.jsxs("p",{className:"text-sm text-emerald-400",children:["Example: ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," (the rationals)"]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The way we extended ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," to"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]}),' is an instance of a common construction called "forming the ',s.jsx("strong",{children:"field of fractions"}),'."']})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Rationals Matter"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Questions about the arithmetic of ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," are really equivalent to questions about ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),", or even"," ",s.jsxs(o,{children:["\\mathbb","{N}"]}),", but the extra properties of"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," sometimes make life easier. This is particularly the case in geometry, where the rational numbers pave the way for interpreting ",s.jsx("strong",{children:"points as numbers"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"integers"})," ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," extend"," ",s.jsxs(o,{children:["\\mathbb","{N}"]})," by adding 0 and negatives, making subtraction always possible."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"ring properties"})," govern ",s.jsx(o,{children:"+"}),","," ",s.jsx(o,{children:"-"}),", and ",s.jsx(o,{children:"\\times"}),": associative, commutative, identity, inverse, and distributive laws."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["From the ring properties we can prove ",s.jsx(o,{children:"(-1) \\times (-1) = 1"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"rationals"})," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," extend"," ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," by adding multiplicative inverses, making division (by nonzero) always possible."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"ring"})," satisfies the ring properties; a ",s.jsx("strong",{children:"field"})," ","is a ring where every nonzero element has a multiplicative inverse."]})]})]})}),s.jsx(ve,{sectionId:3,questions:$Q})]})}function hee(){return s.jsxs(je,{sectionId:4,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Linear Equations"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The humble linear equation ",s.jsx(o,{children:"ax + by = c"})," takes on a new interest when we seek ",s.jsx("strong",{children:"integer solutions"})," ",s.jsx(o,{children:"x"})," ","and ",s.jsx(o,{children:"y"})," for given integers ",s.jsx(o,{children:"a"}),","," ",s.jsx(o,{children:"b"}),", and ",s.jsx(o,{children:"c"}),". It can very easily fail to have an integer solution, so the problem is first to decide whether there is an integer solution, and if so, how to find it."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When Solutions Don't Exist"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Take the example ",s.jsx(o,{children:"15x + 12y = 4"}),". For any integers"," ",s.jsx(o,{children:"x"})," and ",s.jsx(o,{children:"y"}),", 3 divides"," ",s.jsx(o,{children:"15x + 12y"}),", because 3 divides both 15 and 12. But 3 does not divide 4, hence there is ",s.jsx("strong",{children:"no integer solution"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-red-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-red-400",children:"No Solution Criterion"}),s.jsxs("p",{className:"text-dark-200",children:["The equation ",s.jsx(o,{children:"ax + by = c"})," has no integer solution if"," ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," have a common divisor that does not divide ",s.jsx(o,{children:"c"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When Solutions Exist"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["But what if all divisors of ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," ","divide ",s.jsx(o,{children:"c"}),"? Consider ",s.jsx(o,{children:"17x + 12y = 1"}),". The only divisors of both 17 and 12 are ",s.jsx(o,{children:"\\pm 1"}),", which certainly divide 1. And with some difficulty, we find a solution:"," ",s.jsx(o,{children:"x = 5"})," and ",s.jsx(o,{children:"y = -7"}),"."]}),s.jsx($,{children:"17 \\times 5 + 12 \\times (-7) = 85 - 84 = 1 \\quad \\checkmark"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The key is the ",s.jsx("strong",{children:"greatest common divisor"})," of ",s.jsx(o,{children:"a"})," ","and ",s.jsx(o,{children:"b"}),", written ",s.jsx(o,{children:"\\gcd(a, b)"}),". Any divisor of ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," is also a divisor of ",s.jsx(o,{children:"ax + by"})," for any integers ",s.jsx(o,{children:"x"})," ","and ",s.jsx(o,{children:"y"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Euclidean Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["There is a famous algorithm for finding ",s.jsx(o,{children:"\\gcd(a, b)"}),". It is called the ",s.jsx("strong",{children:"Euclidean algorithm"}),', described by Euclid as "repeatedly subtracting the smaller number from the larger."']}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"The Euclidean Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Given natural numbers ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"}),", produce pairs ",s.jsx(o,{children:"(a_1, b_1), (a_2, b_2), \\ldots"})," where:"]}),s.jsxs("ul",{className:"text-dark-200 space-y-2 mb-4",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"(a_1, b_1) = (a, b)"})]}),s.jsxs("li",{children:[" ",s.jsxs(o,{children:["a_","{i+1}"," = \\max(a_i, b_i) - \\min(a_i, b_i)"]})," (larger minus smaller)"]}),s.jsxs("li",{children:[" ",s.jsxs(o,{children:["b_","{i+1}"," = \\min(a_i, b_i)"]})," (keep the smaller)"]})]}),s.jsxs("p",{className:"text-dark-200",children:["Stop when ",s.jsx(o,{children:"a_k = b_k"}),". Then ",s.jsx(o,{children:"\\gcd(a, b) = a_k = b_k"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: gcd(17, 12)"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 overflow-x-auto",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-amber-400",children:[s.jsx("th",{className:"text-left py-2",children:"Step"}),s.jsx("th",{className:"text-left py-2",children:"Pair"}),s.jsx("th",{className:"text-left py-2",children:"In terms of a, b"})]})}),s.jsxs("tbody",{className:"text-dark-200",children:[s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"1"}),s.jsx("td",{children:s.jsx(o,{children:"(17, 12)"})}),s.jsx("td",{children:s.jsx(o,{children:"(a, b)"})})]}),s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"2"}),s.jsx("td",{children:s.jsx(o,{children:"(5, 12)"})}),s.jsx("td",{children:s.jsx(o,{children:"(a - b, b)"})})]}),s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"3"}),s.jsx("td",{children:s.jsx(o,{children:"(7, 5)"})}),s.jsx("td",{children:s.jsx(o,{children:"(2b - a, a - b)"})})]}),s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"4"}),s.jsx("td",{children:s.jsx(o,{children:"(2, 5)"})}),s.jsx("td",{children:s.jsx(o,{children:"(3b - 2a, a - b)"})})]}),s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"5"}),s.jsx("td",{children:s.jsx(o,{children:"(3, 2)"})}),s.jsx("td",{children:s.jsx(o,{children:"(3a - 4b, 3b - 2a)"})})]}),s.jsxs("tr",{className:"border-t border-dark-700",children:[s.jsx("td",{className:"py-2",children:"6"}),s.jsx("td",{children:s.jsx(o,{children:"(1, 2)"})}),s.jsx("td",{children:s.jsx(o,{children:"(5a - 7b, 3b - 2a)"})})]})]})]}),s.jsxs("p",{className:"text-emerald-400 mt-4",children:["The last step shows ",s.jsx(o,{children:"\\gcd(17, 12) = 1 = 5a - 7b = 5(17) - 7(12)"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why the Algorithm Works"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Termination"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["The algorithm reaches a pair of equal numbers because the sequence"," ",s.jsx(o,{children:"a_1, a_2, a_3, \\ldots"})," cannot decrease indefinitely (infinite descent)."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Correctness"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["Each pair has the same common divisors (any divisor of two numbers divides their difference and sum). So ",s.jsx(o,{children:"\\gcd(a_k, b_k) = \\gcd(a, b)"}),"."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Linear Representation of the GCD"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Key Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["All numbers ",s.jsx(o,{children:"a_i, b_i"})," produced by the Euclidean algorithm are of the form ",s.jsx(o,{children:"ax + by"})," for some integers"," ",s.jsx(o,{children:"x"})," and ",s.jsx(o,{children:"y"}),"."]}),s.jsxs("p",{className:"text-dark-200",children:["Hence ",s.jsx(o,{children:"\\gcd(a, b) = ax + by"})," for some integers"," ",s.jsx(o,{children:"x"})," and ",s.jsx(o,{children:"y"}),"."]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Proof:"})," The first pair ",s.jsx(o,{children:"a, b"})," are certainly of the form ",s.jsx(o,{children:"ax + by"})," (with ",s.jsx(o,{children:"x=1, y=0"})," ","and ",s.jsx(o,{children:"x=0, y=1"}),"). All subsequent numbers are differences of previous ones, so they remain of this form."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Test for Integer Solvability"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["The equation ",s.jsx(o,{children:"ax + by = c"})," has an integer solution if and only if ",s.jsx(o,{children:"\\gcd(a, b)"})," divides ",s.jsx(o,{children:"c"}),"."]}),s.jsxs("div",{className:"text-sm text-dark-400 mt-4 space-y-2",children:[s.jsxs("p",{children:[s.jsxs("strong",{children:["If ",s.jsx(o,{children:"\\gcd(a,b)"})," doesn't divide ",s.jsx(o,{children:"c"}),":"]})," ","No solution (as we saw with ",s.jsx(o,{children:"15x + 12y = 4"}),")."]}),s.jsxs("p",{children:[s.jsxs("strong",{children:["If ",s.jsx(o,{children:"\\gcd(a,b)"})," divides ",s.jsx(o,{children:"c"}),":"]})," ","Let ",s.jsx(o,{children:"c = \\gcd(a,b) \\times d"}),". We know"," ",s.jsx(o,{children:"\\gcd(a,b) = ax' + by'"})," for some ",s.jsx(o,{children:"x', y'"}),". Then ",s.jsx(o,{children:"x = x'd"}),", ",s.jsx(o,{children:"y = y'd"})," is a solution."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Efficiency of the Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In practice, we speed up the Euclidean algorithm by ",s.jsx("strong",{children:"dividing"})," the larger number by the smaller and keeping the remainder (instead of repeated subtraction). This is much faster when ",s.jsx(o,{children:"a"})," is much larger than"," ",s.jsx(o,{children:"b"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["If ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," are integers with many digits, the Euclidean algorithm completes in roughly as many steps as there are digits  exponentially faster than listing multiples!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx(o,{children:"ax + by = c"})," has an integer solution iff"," ",s.jsx(o,{children:"\\gcd(a, b)"})," divides ",s.jsx(o,{children:"c"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Euclidean algorithm"})," finds ",s.jsx(o,{children:"\\gcd(a, b)"})," ","by repeatedly subtracting the smaller from the larger."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The algorithm terminates by ",s.jsx("strong",{children:"infinite descent"})," (we can't decrease forever)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\gcd(a, b)"})," can always be written as"," ",s.jsx(o,{children:"ax + by"})," for some integers ",s.jsx(o,{children:"x, y"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The division form of the algorithm is very efficient  roughly"," ",s.jsx(o,{children:"O(\\log a)"})," steps."]})]})]})}),s.jsx(ve,{sectionId:4,questions:BQ})]})}function uee(){return s.jsxs(je,{sectionId:5,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Unique Prime Factorization"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The discovery that ",s.jsx(o,{children:"\\gcd(a, b)"})," can be written in the form"," ",s.jsx(o,{children:"ax + by"})," has important repercussions for prime divisors. It leads to one of the most fundamental theorems in all of mathematics: the unique prime factorization theorem."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Prime Divisor Property"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Prime Divisor Property"}),s.jsxs("p",{className:"text-dark-200",children:["If a prime ",s.jsx(o,{children:"p"})," divides the product of integers"," ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"}),", then"," ",s.jsx(o,{children:"p"})," divides either ",s.jsx(o,{children:"a"})," or"," ",s.jsx(o,{children:"b"})," (or both)."]})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Proof:"})," Suppose ",s.jsx(o,{children:"p"})," divides"," ",s.jsx(o,{children:"ab"})," and ",s.jsx(o,{children:"p"})," does not divide"," ",s.jsx(o,{children:"a"}),". We must show that ",s.jsx(o,{children:"p"})," divides"," ",s.jsx(o,{children:"b"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-3 text-dark-200 text-sm",children:[s.jsxs("p",{children:["Since ",s.jsx(o,{children:"p"})," does not divide ",s.jsx(o,{children:"a"}),", and ",s.jsx(o,{children:"p"})," is prime, 1 is the only divisor of"," ",s.jsx(o,{children:"p"})," that divides ",s.jsx(o,{children:"a"}),"."]}),s.jsx("p",{children:"Therefore:"}),s.jsx($,{children:"1 = \\gcd(a, p) = ax + py \\quad \\text{for some integers } x, y"}),s.jsxs("p",{children:["Multiplying both sides by ",s.jsx(o,{children:"b"}),":"]}),s.jsx($,{children:"b = abx + pby"}),s.jsxs("p",{children:["But ",s.jsx(o,{children:"p"})," divides each term on the right: it divides"," ",s.jsx(o,{children:"ab"})," by assumption, and it divides ",s.jsx(o,{children:"pby"})," ","obviously."]}),s.jsxs("p",{className:"text-emerald-400 font-semibold",children:["Hence ",s.jsx(o,{children:"p"})," divides ",s.jsx(o,{children:"b"}),". "]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This property was known to Euclid, along with many of its important consequences. The key insight is using the linear representation"," ",s.jsx(o,{children:"\\gcd(a, p) = ax + py"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Fundamental Theorem of Arithmetic"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Unique Prime Factorization"}),s.jsxs("p",{className:"text-dark-200",children:["Each natural number is expressible in ",s.jsx("strong",{children:"only one way"})," as a product of primes, apart from the order of factors."]})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Proof:"})," By repeatedly finding prime divisors (Section 1.3), we can factorize any natural number into primes. Now suppose, contrary to the theorem, that some natural number has two ",s.jsx("em",{children:"different"})," prime factorizations:"]}),s.jsx($,{children:"p_1 p_2 p_3 \\cdots p_s = q_1 q_2 q_3 \\cdots q_t"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 my-6",children:s.jsxs("div",{className:"space-y-3 text-dark-200 text-sm",children:[s.jsx("p",{children:"Assume any factor common to both sides has been canceled, so no factor on the left appears on the right."}),s.jsxs("p",{children:["But ",s.jsx(o,{children:"p_1"})," divides the left-hand side, so it divides the right side, which is ",s.jsx(o,{children:"q_1 \\times (q_2 q_3 \\cdots q_t)"}),"."]}),s.jsxs("p",{children:["By the prime divisor property: either ",s.jsx(o,{children:"p_1 = q_1"})," ","(since ",s.jsx(o,{children:"q_1"})," is prime), or ",s.jsx(o,{children:"p_1"})," ","divides ",s.jsx(o,{children:"q_2 q_3 \\cdots q_t"}),"."]}),s.jsx("p",{children:"Continuing this way, we eventually find:"}),s.jsx($,{children:"p_1 = q_1 \\quad \\text{or} \\quad p_1 = q_2 \\quad \\text{or} \\quad \\cdots \\quad \\text{or} \\quad p_1 = q_t"}),s.jsxs("p",{className:"text-red-400",children:["But this contradicts our assumption that ",s.jsx(o,{children:"p_1"})," is not on the right side!"]}),s.jsx("p",{className:"text-emerald-400 font-semibold",children:"Thus there is no natural number with two different prime factorizations. "})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Factorizations"}),s.jsxs("ul",{className:"text-sm text-dark-300 space-y-2",children:[s.jsx("li",{children:s.jsx(o,{children:"12 = 2^2 \\times 3"})}),s.jsx("li",{children:s.jsx(o,{children:"60 = 2^2 \\times 3 \\times 5"})}),s.jsx("li",{children:s.jsx(o,{children:"100 = 2^2 \\times 5^2"})}),s.jsx("li",{children:s.jsx(o,{children:"2023 = 7 \\times 17^2"})})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-2",children:"Each factorization is unique (up to order)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Why Order Doesn't Matter"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:s.jsx(o,{children:"2 \\times 3 \\times 5 = 3 \\times 2 \\times 5 = 5 \\times 3 \\times 2"})}),s.jsx("p",{className:"text-sm text-dark-400",children:'These are all the "same" factorization  just different orderings of the same prime factors.'})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Application: Proving Irrationality"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Unique prime factorization gives a powerful way to prove irrationality results. Earlier we proved ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is irrational using properties of even and odd numbers. That required special properties of 2. With unique prime factorization, the argument depends only on the presence of primes, not which particular ones they are."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:["Theorem: ",s.jsxs(o,{children:["\\sqrt","{n}"]})," is irrational unless"," ",s.jsx(o,{children:"n"})," is a perfect square"]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["If ",s.jsx(o,{children:"n"})," is not a perfect square, then"," ",s.jsxs(o,{children:["\\sqrt","{n}"]})," is irrational."]}),s.jsxs("div",{className:"text-sm text-dark-400",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Proof sketch:"})," Suppose ",s.jsxs(o,{children:["\\sqrt","{n}"," = m/k"]})," ","for integers ",s.jsx(o,{children:"m, k"}),". Then ",s.jsx(o,{children:"n k^2 = m^2"}),"."]}),s.jsxs("p",{children:["By unique prime factorization, each prime in ",s.jsx(o,{children:"m^2"})," appears an even number of times. The same for ",s.jsx(o,{children:"k^2"}),". So each prime in ",s.jsx(o,{children:"n"})," must appear an even number of times  meaning"," ",s.jsx(o,{children:"n"})," is a perfect square."]})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["This single argument proves the irrationality of ",s.jsxs(o,{children:["\\sqrt","{2}"]}),","," ",s.jsxs(o,{children:["\\sqrt","{3}"]}),", ",s.jsxs(o,{children:["\\sqrt","{5}"]}),","," ",s.jsxs(o,{children:["\\sqrt","{6}"]}),", and infinitely many others  all at once!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why This Theorem Matters"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The unique prime factorization theorem is sometimes called the"," ",s.jsx("strong",{children:"Fundamental Theorem of Arithmetic"}),' because it is the foundation of number theory. It tells us that primes are truly the "atoms" of multiplication: every natural number is built from primes in exactly one way.']}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Unique prime factorization is ",s.jsx("em",{children:"not"})," true in all number systems! In some extended number systems (like ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{-5}","]"]}),"), unique factorization fails. Understanding when it holds and when it fails is a major theme of algebraic number theory."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Prime divisor property:"})," If ",s.jsx(o,{children:"p"})," divides"," ",s.jsx(o,{children:"ab"}),", then ",s.jsx(o,{children:"p"})," divides"," ",s.jsx(o,{children:"a"})," or ",s.jsx(o,{children:"b"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The proof uses the fact that ",s.jsx(o,{children:"\\gcd(a, p) = ax + py"})," when"," ",s.jsx(o,{children:"p"})," doesn't divide ",s.jsx(o,{children:"a"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Unique prime factorization:"})," Every natural number factors into primes in exactly one way (up to order)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["This theorem proves ",s.jsxs(o,{children:["\\sqrt","{n}"]})," is irrational whenever"," ",s.jsx(o,{children:"n"})," is not a perfect square."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Also known as the ",s.jsx("strong",{children:"Fundamental Theorem of Arithmetic"}),"  the foundation of number theory."]})]})]})}),s.jsx(ve,{sectionId:5,questions:LQ})]})}function mee(){return s.jsxs(je,{sectionId:6,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Prime Factorization and Divisors"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Unique prime factorization, first stated explicitly by Gauss (1801), allows us to describe ",s.jsx("strong",{children:"all the divisors"})," of a given natural number. This leads to elegant formulas for gcd, lcm, and even the ancient concept of perfect numbers."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Describing All Divisors"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider ",s.jsx(o,{children:"30 = 2 \\times 3 \\times 5"}),". The divisors of 30 are all products of subsets of its prime factors:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"1"}),s.jsx("p",{className:"text-xs text-dark-500",children:"(empty)"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"2"}),s.jsx("p",{className:"text-xs text-dark-500",children:"2"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"3"}),s.jsx("p",{className:"text-xs text-dark-500",children:"3"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"5"}),s.jsx("p",{className:"text-xs text-dark-500",children:"5"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"6"}),s.jsx("p",{className:"text-xs text-dark-500",children:"23"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"10"}),s.jsx("p",{className:"text-xs text-dark-500",children:"25"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"15"}),s.jsx("p",{className:"text-xs text-dark-500",children:"35"})]}),s.jsxs("div",{className:"text-dark-200",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"30"}),s.jsx("p",{className:"text-xs text-dark-500",children:"235"})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Any divisor ",s.jsx(o,{children:"a"})," of 30 satisfies"," ",s.jsx(o,{children:"30 = ab"})," for some ",s.jsx(o,{children:"b"}),". By uniqueness, the prime factorization of ",s.jsx(o,{children:"ab"})," is"," ",s.jsx(o,{children:"2 \\times 3 \\times 5"}),", so ",s.jsx(o,{children:"a"})," ","must be part of this factorization."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The General Formula"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Divisors from Prime Factorization"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["If ",s.jsxs(o,{children:["n = p_1^","{e_1}"," p_2^","{e_2}"," \\cdots p_k^","{e_k}"]}),", then the divisors of ",s.jsx(o,{children:"n"})," are exactly:"]}),s.jsx($,{children:"p_1^{d_1} p_2^{d_2} \\cdots p_k^{d_k}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["where ",s.jsx(o,{children:"0 \\leq d_1 \\leq e_1"}),","," ",s.jsx(o,{children:"0 \\leq d_2 \\leq e_2"}),", ...,"," ",s.jsx(o,{children:"0 \\leq d_k \\leq e_k"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Counting Divisors"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This formula tells us how many divisors ",s.jsx(o,{children:"n"})," has:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Number of Divisors"}),s.jsx($,{children:"\\tau(n) = (e_1 + 1)(e_2 + 1) \\cdots (e_k + 1)"}),s.jsxs("p",{className:"text-dark-200 mt-4 text-sm",children:["Each exponent ",s.jsx(o,{children:"d_i"})," can be chosen in"," ",s.jsx(o,{children:"e_i + 1"})," ways (from 0 to ",s.jsx(o,{children:"e_i"}),")."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Example: 5040"}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Plato noted that ",s.jsx(o,{children:"5040 = 2^4 \\times 3^2 \\times 5 \\times 7"})," ","is divisible by all numbers from 1 to 10."]}),s.jsxs("p",{className:"text-dark-200",children:["Number of divisors: ",s.jsx(o,{children:"(4+1)(2+1)(1+1)(1+1) = 5 \\times 3 \\times 2 \\times 2 = 60"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"GCD and LCM from Prime Factorizations"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Greatest Common Divisor"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Take the ",s.jsx("strong",{children:"minimum"})," exponent for each prime:"]}),s.jsx($,{children:"\\gcd(m, n) = \\prod p_i^{\\min(e_i, f_i)}"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Least Common Multiple"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["Take the ",s.jsx("strong",{children:"maximum"})," exponent for each prime:"]}),s.jsx($,{children:"\\text{lcm}(m, n) = \\prod p_i^{\\max(e_i, f_i)}"})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 my-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Example"}),s.jsxs("p",{className:"text-dark-200 mb-2",children:[s.jsx(o,{children:"m = 12 = 2^2 \\times 3"})," and"," ",s.jsx(o,{children:"n = 18 = 2 \\times 3^2"})]}),s.jsxs("ul",{className:"text-dark-200 space-y-1 text-sm",children:[s.jsx("li",{children:s.jsxs(o,{children:["\\gcd(12, 18) = 2^","{\\min(2,1)}"," \\times 3^","{\\min(1,2)}"," = 2^1 \\times 3^1 = 6"]})}),s.jsx("li",{children:s.jsxs(o,{children:["\\text","{lcm}","(12, 18) = 2^","{\\max(2,1)}"," \\times 3^","{\\max(1,2)}"," = 2^2 \\times 3^2 = 36"]})})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"An Elegant Relationship"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Product Formula"}),s.jsx($,{children:"\\gcd(m, n) \\times \\text{lcm}(m, n) = m \\times n"}),s.jsxs("p",{className:"text-dark-200 mt-4 text-sm",children:["This formula lets us compute ",s.jsxs(o,{children:["\\text","{lcm}","(m, n)"]})," ",s.jsx("em",{children:"without"})," prime factorization: use the Euclidean algorithm for gcd, then divide into ",s.jsx(o,{children:"mn"}),"."]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Check: ",s.jsxs(o,{children:["\\gcd(12, 18) \\times \\text","{lcm}","(12, 18) = 6 \\times 36 = 216 = 12 \\times 18"]})," "]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Perfect Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A natural number ",s.jsx(o,{children:"n"})," is called ",s.jsx("strong",{children:"perfect"})," ",'if it equals the sum of its proper divisors (all divisors except itself). The Greeks thought of proper divisors as the "parts" of a number, so a perfect number is the "sum of its parts."']}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"6 is perfect"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Divisors: 1, 2, 3, 6"}),s.jsxs("p",{className:"text-sm text-emerald-400 mt-2",children:[s.jsx(o,{children:"1 + 2 + 3 = 6"})," "]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"28 is perfect"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Divisors: 1, 2, 4, 7, 14, 28"}),s.jsxs("p",{className:"text-sm text-emerald-400 mt-2",children:[s.jsx(o,{children:"1 + 2 + 4 + 7 + 14 = 28"})," "]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Theorem on Perfect Numbers"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Theorem (Euclid)"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsx(o,{children:"p = 2^n - 1"})," is prime (a Mersenne prime), then"," ",s.jsxs(o,{children:["2^","{n-1}"," p"]})," is perfect."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Examples"}),s.jsxs("ul",{className:"text-dark-200 space-y-2 text-sm",children:[s.jsxs("li",{children:[s.jsx(o,{children:"n = 2"}),": ",s.jsx(o,{children:"p = 2^2 - 1 = 3"})," (prime), so ",s.jsx(o,{children:"2^1 \\times 3 = 6"})," is perfect"]}),s.jsxs("li",{children:[s.jsx(o,{children:"n = 3"}),": ",s.jsx(o,{children:"p = 2^3 - 1 = 7"})," (prime), so ",s.jsx(o,{children:"2^2 \\times 7 = 28"})," is perfect"]}),s.jsxs("li",{children:[s.jsx(o,{children:"n = 5"}),": ",s.jsx(o,{children:"p = 2^5 - 1 = 31"})," (prime), so ",s.jsx(o,{children:"2^4 \\times 31 = 496"})," is perfect"]})]})]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Euler proved the converse: every ",s.jsx("em",{children:"even"})," perfect number has the form"," ",s.jsxs(o,{children:["2^","{n-1}","(2^n - 1)"]})," where ",s.jsx(o,{children:"2^n - 1"})," ","is prime. Whether any ",s.jsx("strong",{children:"odd perfect numbers"})," exist remains an open problem!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Prime factorization describes ",s.jsx("strong",{children:"all divisors"}),": vary each exponent from 0 to its value in ",s.jsx(o,{children:"n"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Number of divisors:"})," ",s.jsx(o,{children:"\\tau(n) = (e_1+1)(e_2+1)\\cdots(e_k+1)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\gcd"})," uses ",s.jsx("strong",{children:"min"})," of exponents;"," ",s.jsxs(o,{children:["\\text","{lcm}"]})," uses ",s.jsx("strong",{children:"max"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsx("span",{children:s.jsxs(o,{children:["\\gcd(m,n) \\times \\text","{lcm}","(m,n) = mn"]})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"perfect number"})," equals the sum of its proper divisors. Euclid: ",s.jsxs(o,{children:["2^","{n-1}","(2^n-1)"]})," is perfect when"," ",s.jsx(o,{children:"2^n-1"})," is prime."]})]})]})}),s.jsx(ve,{sectionId:6,questions:UQ})]})}function pee(){return s.jsxs(je,{sectionId:7,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Induction"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["We claimed that arithmetic rests on the counting process and that proofs draw their strength from the logical essence of counting:"," ",s.jsx("strong",{children:"mathematical induction"}),". Induction has been quietly intervening at crucial moments throughout our study of arithmetic."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Descent: Downward Induction"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The form of induction called ",s.jsx("strong",{children:"descent"})," says that any descending sequence of natural numbers must have a least member. We've already used descent to prove fundamental results:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Results Proved by Descent"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400",children:"*"}),s.jsx("span",{children:"The division property (Section 1.2)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400",children:"*"}),s.jsx("span",{children:"Existence of a prime divisor (Section 1.3)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400",children:"*"}),s.jsx("span",{children:"Termination of the Euclidean algorithm (Section 1.5)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400",children:"*"}),s.jsx("span",{children:"Unique prime factorization (Section 1.6)"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Ascent: Upward Induction"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In addition to descent, we use a form of induction called ",s.jsx("strong",{children:"ascent"}),": if a sequence of natural numbers includes 1, and includes"," ",s.jsx(o,{children:"i + 1"})," when it includes ",s.jsx(o,{children:"i"}),", then the sequence includes ",s.jsx("em",{children:"all"})," natural numbers. This principle follows immediately from the definition of natural numbers by counting."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"The Principle of Induction"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["To prove a statement ",s.jsx(o,{children:"S(n)"})," for all natural numbers"," ",s.jsx(o,{children:"n"}),", we prove:"]}),s.jsxs("ol",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("div",{children:[s.jsx("strong",{children:"Base step:"})," ",s.jsx(o,{children:"S(n)"})," is true for"," ",s.jsx(o,{children:"n = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("div",{children:[s.jsx("strong",{children:"Induction step:"})," ",s.jsx(o,{children:"S(n)"})," is true for"," ",s.jsx(o,{children:"n = i + 1"})," when it is true for"," ",s.jsx(o,{children:"n = i"})]})]})]}),s.jsxs("p",{className:"text-dark-200 mt-4 text-sm",children:["Then ",s.jsx(o,{children:"S(n)"})," is true for ",s.jsx("em",{children:"all"})," natural numbers"," ",s.jsx(o,{children:"n"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Using Ascent in Proofs"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Ascent induction was used in two crucial results:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Correctness of Euclidean Algorithm"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["We proved ",s.jsx(o,{children:"S_n"}),":"," ",s.jsx(o,{children:"\\gcd(a_n, b_n) = \\gcd(a, b)"})]}),s.jsxs("ul",{className:"text-xs text-dark-400 space-y-1",children:[s.jsxs("li",{children:["Base: ",s.jsx(o,{children:"(a_1, b_1) = (a, b)"})," "]}),s.jsxs("li",{children:["Step: ",s.jsxs(o,{children:["\\gcd(a_i, b_i) = \\gcd(a_","{i+1}",", b_","{i+1}",")"]})]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Linear Representation of GCD"}),s.jsxs("p",{className:"text-sm text-dark-300 mb-2",children:["We proved ",s.jsx(o,{children:"a_n"})," and ",s.jsx(o,{children:"b_n"})," have the form ",s.jsx(o,{children:"ax + by"})]}),s.jsxs("ul",{className:"text-xs text-dark-400 space-y-1",children:[s.jsxs("li",{children:["Base: ",s.jsx(o,{children:"a_1 = a"}),", ",s.jsx(o,{children:"b_1 = b"})," "]}),s.jsx("li",{children:"Step: differences preserve the form"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Classic Example"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The ascent form of induction is often used to prove equations involving sums. Consider the famous formula:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Sum of First n Natural Numbers"}),s.jsx($,{children:"S(n): 1 + 2 + \\cdots + n = \\frac{n(n+1)}{2}"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Proof by Induction"}),s.jsxs("div",{className:"space-y-4 text-dark-200 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-emerald-400",children:"Base step"})," (",s.jsx(o,{children:"n = 1"}),"):",s.jsxs("p",{className:"mt-1",children:["LHS = 1, RHS = ",s.jsxs(o,{children:["\\frac","{1(2)}","{2}"," = 1"]}),". "]})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"text-emerald-400",children:"Induction step"}),": Assume ",s.jsx(o,{children:"S(i)"})," is true. Add ",s.jsx(o,{children:"(i+1)"})," to both sides:",s.jsx($,{children:"1 + 2 + \\cdots + i + (i+1) = \\frac{i(i+1)}{2} + (i+1)"}),s.jsx($,{children:"= \\frac{i(i+1) + 2(i+1)}{2} = \\frac{(i+1)(i+2)}{2}"}),s.jsxs("p",{className:"mt-1",children:["This is exactly ",s.jsx(o,{children:"S(i+1)"}),". "]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Discovering vs. Proving"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A frequent complaint about induction proofs is that one must guess the formula before proving it. However, clever methods can ",s.jsx("em",{children:"discover"})," formulas too."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Gauss's Trick"}),s.jsx("p",{className:"text-dark-200 mb-3 text-sm",children:"Write the sum twice, once forwards and once backwards:"}),s.jsxs("div",{className:"font-mono text-sm text-dark-300 space-y-1",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{children:"1"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"2"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"..."}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"(n-1)"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"n"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("span",{children:"n"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"(n-1)"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"..."}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"2"}),s.jsx("span",{children:"+"}),s.jsx("span",{children:"1"})]})]}),s.jsxs("p",{className:"text-dark-200 mt-3 text-sm",children:["Each column sums to ",s.jsx(o,{children:"n + 1"}),", and there are"," ",s.jsx(o,{children:"n"})," columns. So"," ",s.jsx(o,{children:"2(1 + 2 + \\cdots + n) = n(n+1)"}),"."]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:['Such "non-inductive" proofs still use induction implicitlyhere, to verify that each column sums to ',s.jsx(o,{children:"n + 1"}),". The base step and induction step are just so easy they need not be spelled out."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"More Sum Formulas"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Sum of Squares"}),s.jsx($,{children:"1^2 + 2^2 + \\cdots + n^2 = \\frac{n(n+1)(2n+1)}{6}"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Sum of Cubes"}),s.jsx($,{children:"1^3 + 2^3 + \\cdots + n^3 = \\left(\\frac{n(n+1)}{2}\\right)^2"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"= (1 + 2 + ... + n)"})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Geometric Series"}),s.jsx($,{children:"1 + r + r^2 + r^3 + \\cdots + r^n = \\frac{1 - r^{n+1}}{1 - r}"}),s.jsxs("p",{className:"text-dark-200 mt-3 text-sm",children:["This can be proved by induction or discovered by multiplying both sides by"," ",s.jsx(o,{children:"(1 - r)"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Descent vs. Ascent"}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Descent"})," and ",s.jsx("strong",{children:"ascent"}),` are two sides of the same coinboth capture the essence of the counting process. Descent says "you can't go down forever"; ascent says "starting from 1, you can reach any number."`]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Zermelo's Proof of Unique Factorization"}),s.jsxs("p",{className:"text-dark-200 text-sm",children:["If there exists a natural number with two different prime factorizations, then by descent there is a ",s.jsx("em",{children:"least"})," such number"," ",s.jsx(o,{children:"n"}),". This ",s.jsx(o,{children:"n"})," must have two factorizations with no common prime factor (otherwise we could cancel to get a smaller counterexample). This leads to a contradiction."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Descent"})," (downward induction): any descending sequence of natural numbers has a least member."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Ascent"})," (upward induction): prove ",s.jsx(o,{children:"S(1)"})," ","and ",s.jsx(o,{children:"S(i) \\Rightarrow S(i+1)"})," to conclude"," ",s.jsx(o,{children:"S(n)"})," for all ",s.jsx(o,{children:"n"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsx("span",{children:"Induction underlies all major results in arithmetic: division, primes, Euclidean algorithm, unique factorization."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Classic sum formulas like ",s.jsxs(o,{children:["1 + 2 + \\cdots + n = \\frac","{n(n+1)}","{2}"]})," ","are proved by induction."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsx("span",{children:"Induction captures the logical essence of countingthe foundation of all arithmetic."})]})]})}),s.jsx(ve,{sectionId:7,questions:FQ})]})}function fee(){return s.jsxs(je,{sectionId:8,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Foundations"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"The aim of mathematics is to prove things, which is hard, so mathematicians continually search for clearer and more powerful methods of proof. In the 19th and 20th centuries, this search led to a remarkable discovery about the foundations of arithmetic itself."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Surprising Discovery"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The new foundations of arithmetic showed why induction is crucial: the ring properties (associativity, commutativity, distributivity) can be"," ",s.jsx("em",{children:"derived from induction"}),". Thus arithmetic is entirely about the implications of the counting process!"]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This surprising discovery, which had been missed by all mathematicians from Euclid to Gauss, is due mainly to ",s.jsx("strong",{children:"Hermann Grassmann"})," ","(1861) and ",s.jsx("strong",{children:"Richard Dedekind"})," (1888)."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Grassmann: Induction as Definition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Grassmann made the breakthrough by noticing that induction can be used not only as a method of ",s.jsx("em",{children:"proof"}),", but as a method of ",s.jsx("em",{children:"definition"}),". To define a function ",s.jsx(o,{children:"f"})," on the natural numbers by induction, one writes down:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Inductive Definition"}),s.jsxs("ol",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["A value of ",s.jsx(o,{children:"f(1)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["A definition of ",s.jsx(o,{children:"f(i+1)"})," in terms of"," ",s.jsx(o,{children:"f(i)"})]})]})]}),s.jsxs("p",{className:"text-dark-300 mt-3 text-sm",children:["By induction, ",s.jsx(o,{children:"f(n)"})," is then defined for any natural number ",s.jsx(o,{children:"n"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Defining Addition Inductively"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"successor function"})," ",s.jsx(o,{children:"f(n) = n + 1"})," ",'comes "for free" with the natural numbers. Grassmann showed that addition can be defined inductively from it:']}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Inductive Definition of +"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"(1)"}),s.jsx($,{children:"m + 1 = m + 1"}),s.jsx("span",{className:"text-dark-400 text-sm",children:"for all m"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"(i+1)"}),s.jsx($,{children:"m + (i + 1) = (m + i) + 1"}),s.jsx("span",{className:"text-dark-400 text-sm",children:"for all m, i"})]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["These equations are not as empty as they look! Equation (1) defines"," ",s.jsx(o,{children:"m + n"})," for ",s.jsx(o,{children:"n = 1"})," as the successor of ",s.jsx(o,{children:"m"}),". Equation (i+1) defines"," ",s.jsx(o,{children:"m + (i+1)"})," as the successor of"," ",s.jsx(o,{children:"m + i"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Defining Multiplication Inductively"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Once ",s.jsx(o,{children:"+"})," is defined, multiplication can be defined inductively:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Inductive Definition of "}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"(1)"}),s.jsx($,{children:"m \\times 1 = m"}),s.jsx("span",{className:"text-dark-400 text-sm",children:"for all m"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 font-mono",children:"(i+1)"}),s.jsx($,{children:"m \\times (i + 1) = m \\times i + m"}),s.jsx("span",{className:"text-dark-400 text-sm",children:"for all m, i"})]})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["The advantage of defining ",s.jsx(o,{children:"+"})," and"," ",s.jsx(o,{children:"\\times"})," this way is that their properties can also be ",s.jsx("em",{children:"proved"})," by induction. Grassmann found inductive proofs of all the ring properties of ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),"!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dedekind: The Successor Function"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Richard Dedekind (1888) asked: what are the ",s.jsx("em",{children:"essential properties"})," ","of the successor function that allow it to serve as a basis for arithmetic? He found the answer in terms of sets:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Properties of the Successor Function"}),s.jsxs("ol",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 font-bold",children:"1."}),s.jsxs("span",{children:["It is defined on an ",s.jsx("strong",{children:"infinite set"})," (the natural numbers)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 font-bold",children:"2."}),s.jsxs("span",{children:["It is ",s.jsx("strong",{children:"one-to-one"})," (unequal numbers have unequal successors)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-emerald-400 font-bold",children:"3."}),s.jsxs("span",{children:["It is ",s.jsx("strong",{children:"not onto"})," the whole set (1 is not a successor)"]})]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Dedekind realized that ",s.jsx("em",{children:"any"})," function ",s.jsx(o,{children:"f"}),' with these properties gives rise to a set that "behaves like" the natural numbers. If ',s.jsx(o,{children:"a"})," is not a value of ",s.jsx(o,{children:"f"}),", then ",s.jsx(o,{children:"a, f(a), f(f(a)), \\ldots"})," behave like"," ",s.jsx(o,{children:"1, 2, 3, \\ldots"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Von Neumann: Numbers as Sets"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"John von Neumann (1923) suggested the most elegant way to define the natural numbers in set theory: each natural number is the set of its predecessors, starting from the empty set representing zero."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Von Neumann's Definition"}),s.jsxs("div",{className:"font-mono text-dark-200 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 w-12",children:"0 ="}),s.jsx("span",{children:"{ }"}),s.jsx("span",{className:"text-dark-400 text-sm ml-4",children:"(the empty set)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 w-12",children:"1 ="}),s.jsx("span",{children:"{ 0 }"}),s.jsx("span",{className:"text-dark-400 text-sm ml-4",children:"(set whose only member is 0)"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 w-12",children:"2 ="}),s.jsx("span",{children:"{ 0, 1 }"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-amber-400 w-12",children:"3 ="}),s.jsx("span",{children:"{ 0, 1, 2 }"})]}),s.jsx("div",{className:"text-dark-400",children:"..."})]})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Economy"}),s.jsx("p",{className:"text-sm text-dark-300",children:'Everything is built out of "nothing"the empty set. Pure logical construction!'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Elegance"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["The ordering is captured by membership:"," ",s.jsxs(o,{children:["m ","<"," n \\Leftrightarrow m \\in n"]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Axiom of Infinity"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["However, it is a deep philosophical question whether infinite sets can actually be proved to exist. The existence of infinite sets is taken as an axiomthe ",s.jsx("strong",{children:"axiom of infinity"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"The Axiom of Infinity"}),s.jsxs("p",{className:"text-dark-200",children:["There exists a set ",s.jsx(o,{children:"\\Omega"})," such that:"]}),s.jsxs("ul",{className:"mt-3 space-y-2 text-dark-300 text-sm",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"\\Omega"})," contains the empty set"]}),s.jsxs("li",{children:[" If ",s.jsx(o,{children:"X \\in \\Omega"}),", then the successor"," ",s.jsxs(o,{children:["X \\cup \\","{X}","\\"]})," is also in"," ",s.jsx(o,{children:"\\Omega"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Grassmann"})," showed that addition and multiplication can be ",s.jsx("em",{children:"defined"})," inductively from the successor function."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["All ring properties of ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," can be ",s.jsx("em",{children:"proved"})," from these inductive definitions."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Dedekind"})," identified the essential properties of the successor function: one-to-one but not onto an infinite set."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Von Neumann"})," defined natural numbers as sets:"," ",s.jsxs(o,{children:["n = \\","{0, 1, ..., n-1}","\\"]}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsx("span",{children:"The existence of infinite sets is an axiom, not a theoremthe foundation on which all of arithmetic rests."})]})]})}),s.jsx(ve,{sectionId:8,questions:HQ})]})}function xee(){return s.jsxs(je,{sectionId:9,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"This chapter concludes with a historical discussion of the Euclidean algorithm and mathematical inductiontwo tools that are fundamental to arithmetic but took centuries to be fully appreciated."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Euclidean Algorithm"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The Euclidean algorithm is a splendid example of the universality of mathematics. It seems to have been discovered in three different cultures and for several different mathematical purposes."}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Ancient Greece (~300 BC)"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Crucial in Euclid's theory of divisibility and primes, and in the study of irrational numbers."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"India & China (~500 AD)"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["Aryabhata and Bhaskara I discovered the linear representation"," ",s.jsx(o,{children:"\\gcd(a,b) = ma + nb"})," for solving equations."]})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Gauss's Avoidance"}),s.jsxs("p",{className:"text-dark-200 text-sm mb-3",children:["Surprisingly, Gauss avoided the Euclidean algorithm in his"," ",s.jsx("em",{children:"Disquisitiones Arithmeticae"})," (1801). He gave rules for computing gcd and lcm from prime factorizations, saying only:"]}),s.jsx("blockquote",{className:"border-l-2 border-dark-600 pl-4 text-dark-300 italic text-sm",children:'"We know from elementary considerations how to solve these problems when the resolution of the numbers into factors are not given."'})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Dirichlet reinstated the algorithm in his ",s.jsx("em",{children:"Vorlesungen ber Zahlentheorie"})," ","(1867), recognizing its power:"]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{className:"text-sm",children:['"It is now clear that the whole structure rests on a ',s.jsx("em",{children:"single"})," ",'foundation, namely the algorithm for finding the greatest common divisor of two numbers."',s.jsx("span",{className:"block mt-2 text-dark-400",children:" Dirichlet (1867)"})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Beyond Ordinary Integers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In 1831, Gauss found the Euclidean algorithm useful for a new kind of number: the ",s.jsx("strong",{children:"Gaussian integers"})," ",s.jsxs(o,{children:["a + b\\sqrt","{-1}"]}),". The key to their arithmetic was the applicability of the Euclidean algorithm."]}),s.jsx(ne,{type:"success",children:s.jsx("p",{children:'Dirichlet noted: "Any analogous theory, for which there is a similar algorithm for the greatest common divisor, must also have consequences analogous to those in our theory."'})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The History of Induction"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The "base step, induction step" format is now indispensable, but the first clear statement appeared only in 1654! How did mathematicians manage so long without it?'}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Descent Came First"}),s.jsxs("p",{className:"text-dark-200 text-sm",children:["Mathematicians preferred ",s.jsx("strong",{children:"descent"})," because:"]}),s.jsxs("ul",{className:"mt-3 space-y-2 text-dark-300 text-sm",children:[s.jsx("li",{children:` No "base step" is neededit's simpler`}),s.jsx("li",{children:" It occurs more naturally at lower levels of mathematics"}),s.jsxs("li",{children:[" Examples date from Euclid's ",s.jsx("em",{children:"Elements"})," (~300 BC)"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Descent"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"In Book VII, Proposition 31, Euclid proves that any composite number has a prime divisor. His argument uses descent explicitly:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("blockquote",{className:"border-l-2 border-amber-400 pl-4 text-dark-300 italic text-sm",children:['"For, if [a prime divisor] is not found, an infinite series of numbers will measure the number A, each of which is less than the other: which is impossible in numbers."',s.jsx("span",{className:"block mt-2 text-dark-500",children:" Euclid, Elements VII.31"})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fermat's Method of Infinite Descent"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'Around 1640, Fermat announced spectacular results claimed to follow from a "method of infinite descent." His most famous proof shows:'}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Fermat's Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["There are no natural numbers ",s.jsx(o,{children:"a, b, c"})," such that"," ",s.jsx(o,{children:"a^4 + b^4 = c^2"}),"."]}),s.jsx("p",{className:"text-dark-300 mt-3 text-sm",children:'If a solution existed, Fermat showed how to "descend" to a smaller solutioncontradicting that the natural numbers have a least element.'})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This proof made mathematicians conscious of descent for the first time. Unfortunately, the logical principle was buried under the technical problem of finding the descent step."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Pascal's Breakthrough (1654)"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The induction step came to light not in number theory but in"," ",s.jsx("strong",{children:"combinatorics"}),". The first precise formulation of induction was by ",s.jsx("strong",{children:"Blaise Pascal"}),` (1654), who clearly used the "base step, induction step" format to prove properties of Pascal's triangle.`]}),s.jsx(ne,{type:"warning",children:s.jsx("p",{children:"Understanding did not advance much between 1654 and 1861. Ascending and descending forms were used without recognition of their importance or even their equivalence!"})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Grassmann's Revolutionary Textbook"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One would not think the time was ripe for a high school teacher to write a textbook using mathematical induction as the ",s.jsx("em",{children:"sole basis"})," of arithmetic! Enter Hermann Grassmann."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Lehrbuch der Arithmetik (1861)"}),s.jsxs("p",{className:"text-dark-200 text-sm",children:["Grassmann's textbook contained the fundamental idea that everyone else had missed: ",s.jsx("em",{children:"the whole of arithmetic follows from the process of succession"}),". He defined + and  from the successor function and proved all ring properties of ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Sadly, Grassmann was a generation ahead of his time. His work fell into obscurity so fast that even like-minded mathematicians of the 1880s were unaware of it. Dedekind (1888) rediscovered the inductive definitions independently."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Modern Impact"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Dedekind's use of set theory was influential in the development of logic and set theory in the 20th century. Perhaps most surprisingly:"}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Grassmann and Dedekind's method of ",s.jsx("strong",{children:"definition by induction"})," ","led to the theory of ",s.jsx("strong",{children:"recursive functions"}),", and ultimately to computer programming and computer science. Mathematics often finds its way into the real world, without being asked!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Euclidean algorithm"})," was discovered independently in Greece, India, and China for different purposes."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Descent"})," was used since Euclid (~300 BC), but the principle wasn't formally recognized until Fermat (~1640)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Pascal"}),' (1654) first precisely formulated the "base step, induction step" format.']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Grassmann"})," (1861) showed that all of arithmetic follows from inductiona generation ahead of his time."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Inductive definitions led to ",s.jsx("strong",{children:"recursive function theory"})," ","and modern ",s.jsx("strong",{children:"computer science"}),"."]})]})]})}),s.jsx(ve,{sectionId:9,questions:GQ})]})}function gee(){return s.jsxs(je,{sectionId:10,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Geometric Intuition"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"Geometry is in many ways opposite or complementary to arithmetic. Arithmetic is discrete, static, computational, and logical; geometry is continuous, fluid, dynamic, and visual."}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Arithmetic"}),s.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[s.jsx("li",{children:" Discrete"}),s.jsx("li",{children:" Static"}),s.jsx("li",{children:" Computational"}),s.jsx("li",{children:" Logical"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Geometry"}),s.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[s.jsx("li",{children:" Continuous"}),s.jsx("li",{children:" Fluid, dynamic"}),s.jsx("li",{children:" Visual"}),s.jsx("li",{children:" Intuitive"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Pythagorean Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A good example of geometric intuition at work is the ",s.jsx("strong",{children:"Pythagorean theorem"}),": the square on the hypotenuse of a right-angled triangle equals (in area) the sum of the squares on the other two sides."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Pythagorean Theorem"}),s.jsx($,{children:"a^2 + b^2 = c^2"}),s.jsxs("p",{className:"text-dark-300 mt-3 text-sm",children:["where ",s.jsx(o,{children:"c"})," is the hypotenuse and"," ",s.jsx(o,{children:"a, b"})," are the other two sides."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This theorem has been known since ancient times and was probably first noticed by someone playing with squares and triangles. A beautiful visual proof was given by ",s.jsx("strong",{children:"Bhaskara II"})," in 12th century India."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Visual Proof Idea"}),s.jsxs("p",{className:"text-dark-200 text-sm mb-3",children:["Consider a large square with side ",s.jsx(o,{children:"a + b"}),":"]}),s.jsxs("ul",{className:"text-dark-300 text-sm space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Arrangement 1:"})," Remove four copies of the right triangle. What remains equals the squares on the two sides:"," ",s.jsx(o,{children:"a^2 + b^2"})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Arrangement 2:"})," Remove the same four triangles differently. What remains is the square on the hypotenuse: ",s.jsx(o,{children:"c^2"})]})]}),s.jsxs("p",{className:"text-dark-300 mt-3 text-sm",children:["Since both remainders come from the same square minus the same triangles, they must be equal: ",s.jsx(o,{children:"a^2 + b^2 = c^2"}),". Q.E.D."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Blessing and Curse of Intuition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In the physical world, exact triangles and squares do not existthe theorem is about ",s.jsx("em",{children:"ideal"})," or ",s.jsx("em",{children:"abstract"})," objects. Yet we use experience with actual shapes to draw conclusions about abstract ones."]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["The gift of geometric intuition is both a ",s.jsx("strong",{children:"blessing"})," and a ",s.jsx("strong",{children:"curse"}),". It gives us amazingly direct access to mathematical results; yet we cannot be satisfied until results have been ",s.jsx("em",{children:"validated by logic"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Two Approaches to Geometry"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Synthetic Geometry"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"Theorems derived by pure logic from visually plausible axioms about points, lines, circles, and planes."}),s.jsxs("p",{className:"text-xs text-dark-400",children:["Initiated by Euclid's ",s.jsx("em",{children:"Elements"})," (~300 BC), perfected by Hilbert (1899)."]}),s.jsxs("div",{className:"mt-3 text-xs",children:[s.jsx("span",{className:"text-emerald-400",children:"+"})," Self-contained, close to intuition"]}),s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-red-400",children:""})," Fails to explain similarity to arithmetic"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Analytic Geometry"}),s.jsx("p",{className:"text-sm text-dark-300 mb-2",children:"Uses coordinates and algebra to study geometric objects. Unifies geometry with arithmetic."}),s.jsxs("p",{className:"text-xs text-dark-400",children:["Initiated by Descartes' ",s.jsx("em",{children:"Geometry"})," (1637), also perfected by Hilbert."]}),s.jsxs("div",{className:"mt-3 text-xs",children:[s.jsx("span",{className:"text-emerald-400",children:"+"})," More efficient, more fruitful"]}),s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-emerald-400",children:"+"})," Opens door to algebra and calculus"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Search for Common Ground"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Geometric quantitieslike numberscan be added, subtracted, and (in the case of lengths) even multiplied. This mysterious similarity suggests that geometry and arithmetic share a ",s.jsx("strong",{children:"common ground"}),", and mathematics should explain why."]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["The search for this common ground led to ",s.jsx("strong",{children:"analytic geometry"}),", which enriches both arithmetic and geometry with new concepts, opening the whole new mathematical world of algebra and calculus!"]})}),s.jsx("p",{className:"text-dark-200 my-6",children:"As we shall see in later chapters, the new world is not separate from the oldalgebra not only throws new light on geometry, it also enables us to solve problems about the natural numbers that were previously beyond reach."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Thales' Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Another ancient theorem states that any right-angled triangle fits in a semicircle, with the hypotenuse as diameter. According to legend, synthetic geometry began with a proof of this theorem by"," ",s.jsx("strong",{children:"Thales"})," in the 6th century BC."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Thales' Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsx(o,{children:"AB"})," is a diameter of a circle and"," ",s.jsx(o,{children:"C"})," is any other point on the circle, then angle ",s.jsx(o,{children:"ACB"})," is a right angle."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Geometry is ",s.jsx("strong",{children:"continuous and visual"}),", complementing the discrete, computational nature of arithmetic."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Pythagorean theorem"})," exemplifies how intuition leads to results, but these must be validated by logic."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Synthetic geometry"})," (Euclid) stays close to intuition; ",s.jsx("strong",{children:"analytic geometry"})," (Descartes) connects to algebra."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Geometry and arithmetic share a ",s.jsx("strong",{children:"common ground"}),"both admit addition, subtraction, and (for lengths) multiplication."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Analytic geometry opens the door to ",s.jsx("strong",{children:"algebra and calculus"}),", which solve problems in both geometry and number theory."]})]})]})}),s.jsx(ve,{sectionId:10,questions:VQ})]})}function bee(){return s.jsxs(je,{sectionId:11,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Constructions"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The aim of Euclid's geometry is to study the properties of the simplest curvesthe straight line and the circle. These are drawn by the simplest instruments: the ",s.jsx("strong",{children:"ruler"})," and the ",s.jsx("strong",{children:"compass"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Construction Axioms"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Two of Euclid's axioms state the basic constructions that are possible:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"The Two Basic Constructions"}),s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["To draw a ",s.jsx("strong",{children:"straight line"})," from any point to any other point."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["To draw a ",s.jsx("strong",{children:"circle"})," with any center and radius."]})]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euclid's axioms do not state the existence of anything else, so all other figures are shown to exist by actually ",s.jsx("em",{children:"constructing"})," them. Given certain points, lines, and circles, new ones are constructed using ruler and compass until the required figure is obtained."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Equilateral Triangle"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euclid's first proposition is that it is possible to construct an"," ",s.jsx("strong",{children:"equilateral triangle"})," with a given side"," ",s.jsx(o,{children:"AB"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Construction"}),s.jsxs("ol",{className:"space-y-2 text-dark-200 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"1."}),s.jsxs("span",{children:["Draw the circle with center ",s.jsx(o,{children:"A"})," and radius"," ",s.jsx(o,{children:"AB"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"2."}),s.jsxs("span",{children:["Draw the circle with center ",s.jsx(o,{children:"B"})," and radius"," ",s.jsx(o,{children:"BA"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"3."}),s.jsxs("span",{children:["Connect ",s.jsx(o,{children:"A"})," and ",s.jsx(o,{children:"B"})," by straight lines to one intersection, ",s.jsx(o,{children:"C"}),", of these circles"]})]})]}),s.jsxs("p",{className:"text-dark-300 mt-4 text-sm",children:["Triangle ",s.jsx(o,{children:"ABC"})," is equilateral because"," ",s.jsx(o,{children:"AC = AB"})," (radius of first circle) and"," ",s.jsx(o,{children:"BC = BA"})," (radius of second circle)."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Important Derived Constructions"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"1. Bisecting an Angle"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Draw a circle centered at the apex to mark equal sides. Construct an equilateral triangle on those points. The line from apex to the new vertex bisects the angle."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"2. Bisecting a Segment"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["Given segment ",s.jsx(o,{children:"AB"}),", construct equilateral triangle ",s.jsx(o,{children:"ABC"}),". The bisector of angle"," ",s.jsx(o,{children:"ACB"})," also bisects ",s.jsx(o,{children:"AB"}),"."]})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"3. Perpendicular Through External Point"}),s.jsxs("p",{className:"text-dark-200 text-sm",children:["To construct the perpendicular to a line through a point"," ",s.jsx(o,{children:"O"})," not on it:"]}),s.jsxs("ol",{className:"mt-3 space-y-1 text-dark-300 text-sm",children:[s.jsxs("li",{children:["1. Draw a circle centered at ",s.jsx(o,{children:"O"}),", large enough to cut the line at points ",s.jsx(o,{children:"A"})," and ",s.jsx(o,{children:"B"})]}),s.jsxs("li",{children:["2. The bisector of angle ",s.jsx(o,{children:"AOB"})," is the required perpendicular"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Replicating Lengths and Angles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The compass gives an easy way to ",s.jsx("strong",{children:"replicate a line segment"}),"just set the compass to the given length and draw an arc from a new point. It is also possible to ",s.jsx("strong",{children:"replicate a given angle"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Euclid uses angle replication to construct a ",s.jsx("strong",{children:"parallel"})," ","to a given line through a given point. He chooses a point on the line, joins it to the given point, then replicates the angle at the new point."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dividing into Equal Parts"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The construction of parallels allows us to divide a line segment"," ",s.jsx(o,{children:"AB"})," into ",s.jsx(o,{children:"n"})," equal parts for any natural number ",s.jsx(o,{children:"n"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:["Dividing ",s.jsx(o,{children:"AB"})," into ",s.jsx(o,{children:"n"})," Equal Parts"]}),s.jsxs("ol",{className:"space-y-2 text-dark-200 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"1."}),s.jsxs("span",{children:["Along any line through ",s.jsx(o,{children:"A"})," (other than"," ",s.jsx(o,{children:"AB"}),"), mark ",s.jsx(o,{children:"n"})," equally spaced points ",s.jsx(o,{children:"P_1, P_2, \\ldots, P_n"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"2."}),s.jsxs("span",{children:["Join ",s.jsx(o,{children:"P_n"})," to ",s.jsx(o,{children:"B"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:"3."}),s.jsxs("span",{children:["Draw parallels to ",s.jsx(o,{children:"P_nB"})," through"," ",s.jsxs(o,{children:["P_1, P_2, \\ldots, P_","{n-1}"]})]})]})]}),s.jsxs("p",{className:"text-dark-300 mt-3 text-sm",children:["These parallels cut ",s.jsx(o,{children:"AB"})," into"," ",s.jsx(o,{children:"n"})," equal parts."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Gauss and the Regular 17-gon"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The Greeks found constructions for the equilateral triangle, square, pentagon, and hexagon, but no essentially new constructions were found until ",s.jsx("strong",{children:"Gauss in 1796"})," discovered how to construct the regular ",s.jsx("strong",{children:"17-gon"}),"!"]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Gauss's discovery led to an algebraic theory of constructibility, completed by ",s.jsx("strong",{children:"Pierre Wantzel"})," (1837). The astonishing result: the regular ",s.jsx(o,{children:"n"}),"-gon is constructible if and only if ",s.jsx(o,{children:"n"})," is a product of a power of 2 by distinct ",s.jsx("strong",{children:"Fermat primes"}),"."]})}),s.jsxs("p",{className:"text-dark-200 mt-6 mb-6",children:["This explains why no constructions had been found for the regular 7-gon, 11-gon, and othersthey are provably ",s.jsx("em",{children:"impossible"})," with ruler and compass!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Euclidean geometry studies lines and circles using"," ",s.jsx("strong",{children:"ruler and compass"})," constructions."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Euclid's first proposition constructs an ",s.jsx("strong",{children:"equilateral triangle"})," using two intersecting circles."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Key constructions include ",s.jsx("strong",{children:"bisecting angles"}),","," ",s.jsx("strong",{children:"bisecting segments"}),", and ",s.jsx("strong",{children:"drawing perpendiculars"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Parallels allow dividing any segment into ",s.jsx(o,{children:"n"})," ","equal parts."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Gauss"})," (1796) discovered the 17-gon construction, leading to a complete theory of which regular polygons are constructible."]})]})]})}),s.jsx(ve,{sectionId:11,questions:WQ})]})}function yee(){return s.jsxs(je,{sectionId:12,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Parallels and Angles"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:[`The crucial assumption in Euclid's geometrythe one that makes it "Euclidean"is the `,s.jsx("strong",{children:"parallel axiom"}),". It can be stated in many different ways."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Playfair's Axiom (1795)"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsxs(o,{children:["\\mathcal","{L}"]})," is a line and"," ",s.jsx(o,{children:"P"})," is a point not on"," ",s.jsxs(o,{children:["\\mathcal","{L}"]}),", then there is"," ",s.jsx("strong",{children:"exactly one line"})," through ",s.jsx(o,{children:"P"})," ","that does not meet ",s.jsxs(o,{children:["\\mathcal","{L}"]}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The single line through ",s.jsx(o,{children:"P"})," that does not meet"," ",s.jsxs(o,{children:["\\mathcal","{L}"]})," is called the"," ",s.jsx("strong",{children:"parallel"})," to ",s.jsxs(o,{children:["\\mathcal","{L}"]})," ","through ",s.jsx(o,{children:"P"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Original Statement"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Euclid's statement involves angles, which seems inelegant but is actually more informative:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("blockquote",{className:"border-l-2 border-amber-400 pl-4 text-dark-300 italic text-sm",children:'"That, if a straight line falling on two straight lines make the interior angles on the same side less than two right angles, the two straight lines, if produced indefinitely, meet on that side on which are the angles less than the two right angles."'}),s.jsx("p",{className:"text-dark-500 text-xs mt-2",children:" Euclid's Elements, Book I"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Interior Angles and Parallels"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When a transversal line crosses two other lines, it creates interior angles ",s.jsx(o,{children:"\\alpha"})," and ",s.jsx(o,{children:"\\beta"}),":"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Non-Parallel Lines"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["If ",s.jsxs(o,{children:["\\alpha + \\beta ","<"," 180"]}),", the lines meet on that side. If ",s.jsxs(o,{children:["\\alpha + \\beta ",">"," 180"]}),", they meet on the opposite side."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Parallel Lines"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["If ",s.jsx(o,{children:"\\alpha + \\beta = 180"})," (two right angles), the lines are ",s.jsx("strong",{children:"parallel"}),"they never meet."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Vertically Opposite Angles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When two lines cross, they form two pairs of ",s.jsx("strong",{children:"vertically opposite angles"}),". These angles are always equal:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 text-sm",children:["If angles ",s.jsx(o,{children:"\\alpha"})," and"," ",s.jsx(o,{children:"\\beta"})," are on a straight line, then"," ",s.jsx(o,{children:"\\alpha + \\beta = 180"}),"."]}),s.jsxs("p",{className:"text-dark-200 text-sm mt-3",children:["The two angles marked ",s.jsx(o,{children:"\\alpha"})," (vertically opposite) are equal because each plus ",s.jsx(o,{children:"\\beta"})," ","equals ",s.jsx(o,{children:"180"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Angle Sum of a Triangle"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The most important consequence of the parallel axiom is:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Triangle Angle Sum Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["The angle sum of any triangle is ",s.jsx("strong",{children:"two right angles"})," ","(180)."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Proof"}),s.jsx("p",{className:"text-dark-200 text-sm",children:"Draw a parallel to one side of the triangle through the opposite vertex. The angles of the triangle appear along this parallel line (by the properties of parallel lines), and together they form a straight line (180)."})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["It follows by pasting triangles together that the angle sum of any"," ",s.jsx("strong",{children:"quadrilateral"})," is ",s.jsx("strong",{children:"four right angles"})," ","(360)."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Existence of Rectangles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In a quadrilateral with equal angles, each angle must be a"," ",s.jsx("strong",{children:"right angle"}),". This means:"]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Rectangles and squares of any size exist."})," This seemingly obvious fact actually follows from the parallel axiom! The existence of rectangles is the key to the intuitive concept of area and to finding a common ground for geometry and arithmetic."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Equivalent Statements"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The crucial role of the parallel axiom can be seen from the number of important statements that are ",s.jsx("em",{children:"equivalent"})," to it:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-300 text-sm mb-3",children:["The following statements are all ",s.jsx("strong",{children:"logically equivalent"}),":"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200 text-sm",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400",children:""}),s.jsx("span",{children:"Playfair's axiom (exactly one parallel through a point)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400",children:""}),s.jsx("span",{children:"Euclid's version (interior angles sum to two right angles)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400",children:""}),s.jsx("span",{children:"The angle sum of a triangle is 180"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400",children:""}),s.jsx("span",{children:"Rectangles of any size exist"})]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["None of these can be proved without the othersthey all capture the essence of ",s.jsx("strong",{children:"Euclidean geometry"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"parallel axiom"}),' is what makes Euclidean geometry "Euclidean."']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Playfair's version:"})," Through any point not on a line, there is exactly one parallel."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Vertically opposite angles"})," are equal; angles on a line sum to 180."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The angle sum of a ",s.jsx("strong",{children:"triangle is 180"}),"; of a quadrilateral, 360."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The parallel axiom implies that ",s.jsx("strong",{children:"rectangles of any size exist"}),"key to connecting geometry and arithmetic."]})]})]})}),s.jsx(ve,{sectionId:12,questions:ZQ})]})}function vee(){return s.jsxs(je,{sectionId:13,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Angles and Circles"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["One of the first theorems in Euclid's Elements says that the base angles of an ",s.jsx("strong",{children:"isosceles"}),' ("equal sides") triangle are equal. This simple fact leads to profound results about circles.']}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Isosceles Triangle Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["The base angles of an isosceles triangle are ",s.jsx("strong",{children:"equal"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most elegant proof was found by ",s.jsx("strong",{children:"Pappus"})," (around 300 AD): if triangle ",s.jsx(o,{children:"ABC"})," has ",s.jsx(o,{children:"AB = BC"}),', then it can be "turned over" so that ',s.jsx(o,{children:"BC"})," replaces"," ",s.jsx(o,{children:"AB"}),". Since the triangle exactly fills the same space, the base angles must be equal."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Congruence of Triangles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Triangles that occupy the same space are called ",s.jsx("strong",{children:"congruent"}),'. Euclid used the idea of "moving" one triangle to coincide with another.']}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Side-Angle-Side (SAS)"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Two triangles agree in two sides and the included angle."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Angle-Side-Angle (ASA)"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Two triangles agree in two angles and the included side."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Side-Side-Side (SSS)"}),s.jsx("p",{className:"text-sm text-dark-300",children:"Two triangles agree in all three sides."})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Later mathematicians (like Hilbert, 1899) stated triangle congruence as",s.jsx("em",{children:" axioms"})," rather than using the idea of motion. The idea of motion came back in Felix Klein's definition of geometry."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Inscribed Angle Theorem"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Perhaps the most important result derived from the isosceles triangle theorem is the relationship between angles in a circle:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Inscribed Angle Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["An arc of a circle subtends ",s.jsx("strong",{children:"twice the angle"})," at the center as it does at the circumference."]}),s.jsx($,{children:"\\text{angle at center} = 2 \\times \\text{angle at circumference}"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Proof Sketch"}),s.jsxs("p",{className:"text-dark-200 text-sm mb-3",children:["Let ",s.jsx(o,{children:"P"})," be a point on the circle, and"," ",s.jsx(o,{children:"O"})," be the center. Draw radii"," ",s.jsx(o,{children:"OA"})," and ",s.jsx(o,{children:"OP"}),"."]}),s.jsxs("ul",{className:"space-y-2 text-dark-300 text-sm",children:[s.jsxs("li",{children:[" Since ",s.jsx(o,{children:"OA = OP"})," (both radii), triangle"," ",s.jsx(o,{children:"POA"})," is isosceles with equal base angles"," ",s.jsx(o,{children:"\\alpha"})]}),s.jsxs("li",{children:[" The external angle at ",s.jsx(o,{children:"O"})," is therefore"," ",s.jsx(o,{children:"2\\alpha"})]}),s.jsxs("li",{children:[" Similarly for triangle ",s.jsx(o,{children:"POB"})," with angles"," ",s.jsx(o,{children:"\\beta"})]}),s.jsxs("li",{children:[" Thus the angle ",s.jsx(o,{children:"2(\\alpha + \\beta)"})," at the center is twice the angle ",s.jsx(o,{children:"\\alpha + \\beta"})," at the circumference"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Thales' Theorem Revisited"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"A special case of the inscribed angle theorem gives Thales' theorem:"}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["When the arc is half the circumference (a semicircle), the angle at the center is ",s.jsx(o,{children:"180"})," (straight), so the angle at the circumference is ",s.jsx(o,{children:"90"}),"a"," ",s.jsx("strong",{children:"right angle"}),"!"]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This explains why any triangle inscribed in a semicircle is right-angled. The inscribed angle theorem also implies that the angle at the circumference is ",s.jsx("em",{children:"constant"}),"a chord looks the same size from any point on the same arc!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"base angles"})," of an isosceles triangle are equal (Pappus's elegant proof)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Congruent triangles"})," can be proven using SAS, ASA, or SSS."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inscribed Angle Theorem:"})," An arc subtends twice the angle at the center as at the circumference."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Thales' theorem"})," is a special case: a semicircle subtends a right angle at the circumference."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["A chord looks the ",s.jsx("strong",{children:"same size"})," from any point on the same arc."]})]})]})}),s.jsx(ve,{sectionId:13,questions:YQ})]})}function jee(){return s.jsxs(je,{sectionId:14,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Length and Area"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Arithmetic and geometry come together in the idea of"," ",s.jsx("strong",{children:"measurement"}),'. In fact, the very word "geometry" comes from the Greek for "land measurement."']}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Measuring Length"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To measure lengths, we choose a fixed line segment as the"," ",s.jsx("strong",{children:"unit of length"})," and express other lengths as multiples of it."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200 text-sm",children:[s.jsxs("li",{children:[" Join copies of the unit end to end  any ",s.jsx("strong",{children:"natural number"})," ","multiple"]}),s.jsxs("li",{children:[" Divide these into equal parts  any ",s.jsx("strong",{children:"rational"})," multiple"]}),s.jsx("li",{children:" For most practical purposes, rational multiples suffice"})]})}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["However, we know that ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is"," ",s.jsx("em",{children:"not"})," rational! Mathematicians would like to speak of a length"," ",s.jsxs(o,{children:["\\sqrt","{2}"]}),", even though 1.414 might be close enough for carpentry."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Measuring Area"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Just as length is measured by counting unit lengths, ",s.jsx("strong",{children:"area"})," ","is measured by counting ",s.jsx("strong",{children:"unit squares"}),"squares whose sides are of unit length."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-emerald-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-emerald-400",children:"Area of a Rectangle"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["A rectangle of height 3 and width 5 can be cut into"," ",s.jsx(o,{children:"3 \\times 5 = 15"})," unit squares, so its area is 15."]}),s.jsx($,{children:"\\text{Area} = \\text{height} \\times \\text{width}"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['How convenient that we call it a "3  5 rectangle"! ',s.jsx("strong",{children:"Multiplication"})," ","is the natural symbol because it gives the number of unit squares."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rectangles with Fractional Sides"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The same idea works for rational dimensions. A rectangle of height"," ",s.jsx(o,{children:"3/2"})," and width ",s.jsx(o,{children:"5/2"})," can be cut into 15 squares of side ",s.jsx(o,{children:"1/2"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 text-sm",children:["Each small square has area ",s.jsx(o,{children:"1/4"})," (four make a unit square), so:"]}),s.jsx($,{children:"\\text{Area} = \\frac{3}{2} \\times \\frac{5}{2} = \\frac{15}{4}"})]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The ",s.jsxs(o,{children:["\\sqrt","{2}"]})," Problem"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["What about a square with side ",s.jsxs(o,{children:["\\sqrt","{2}"]}),"? Is its area ",s.jsxs(o,{children:["\\sqrt","{2}"," \\times \\sqrt","{2}"," = 2"]}),"?"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Modern Approach"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["The area of an ",s.jsx(o,{children:"r \\times r"})," square should be close to a ",s.jsxs(o,{children:["\\sqrt","{2}"," \\times \\sqrt","{2}"]})," ","square when ",s.jsx(o,{children:"r"})," is close to"," ",s.jsxs(o,{children:["\\sqrt","{2}"]}),". So yes, the area is 2."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Greek Approach"}),s.jsxs("p",{className:"text-sm text-dark-300",children:["Greeks ",s.jsx("em",{children:"defined"})," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," as the side of a square of area 2. But they didn't regard it as a number, requiring a separate arithmetic of lengths."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Areas by Cutting and Pasting"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Once we know the area of a rectangle is height  width, we can find areas of other polygons by ",s.jsx("strong",{children:"cutting and pasting"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Area of a Parallelogram"}),s.jsx("p",{className:"text-dark-200 text-sm mb-3",children:"Cut a triangle off one end and paste it on the other to form a rectangle:"}),s.jsx($,{children:"\\text{Area of parallelogram} = \\text{base} \\times \\text{height}"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Area of a Triangle"}),s.jsx("p",{className:"text-dark-200 text-sm mb-3",children:"A triangle is half of a parallelogram (paste two copies together):"}),s.jsx($,{children:"\\text{Area of triangle} = \\frac{1}{2} \\times \\text{base} \\times \\text{height}"})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Any polygon can be cut into triangles, so the area of ",s.jsx("em",{children:"any"})," ","polygon can be computed from the triangle formula!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Length"})," is measured by counting unit lengths;"," ",s.jsx("strong",{children:"area"})," by counting unit squares."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rectangle area"})," = height  width. Multiplication naturally describes rectangles."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Irrational lengths like ",s.jsxs(o,{children:["\\sqrt","{2}"]})," posed a problemGreeks kept geometry and arithmetic separate."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Parallelogram area"})," = base  height (by cut and paste)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Triangle area"})," =   base  height. All polygon areas follow from this."]})]})]})}),s.jsx(ve,{sectionId:14,questions:XQ})]})}function wee(){return s.jsxs(je,{sectionId:15,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Pythagorean Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Having seen the main ideas of Greek geometry, we return to the Pythagorean theorem to see where it fits in the big picture. Logically, it comes ",s.jsx("em",{children:"after"})," the basic theory of area."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Proof"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Euclid uses the fact that a triangle has half the area of a parallelogram with the same base and height. His proof relates squares on the sides to rectangles carved from the square on the hypotenuse."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"The Argument"}),s.jsxs("p",{className:"text-dark-200 text-sm mb-2",children:["For square ",s.jsx(o,{children:"ABFG"})," on one side of the triangle:"]}),s.jsxs("ul",{className:"space-y-2 text-dark-300 text-sm",children:[s.jsxs("li",{children:["Square ",s.jsx(o,{children:"ABFG"})," = 2  triangle"," ",s.jsx(o,{children:"CFB"})," (same base and height)"]}),s.jsxs("li",{children:["= 2  triangle ",s.jsx(o,{children:"ABD"})," (congruent by SAS)"]}),s.jsxs("li",{children:["= rectangle ",s.jsx(o,{children:"BMLD"})," (same base and height)"]})]}),s.jsx("p",{className:"text-dark-300 mt-3 text-sm",children:"Similarly, the square on the other side equals another rectangle, so the two squares sum to the square on the hypotenuse."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Discovery"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The Pythagorean theorem was discovered in several different cultures, some ",s.jsx("em",{children:"long before"})," Pythagoras. However, the Pythagoreans deserve special mention because they also discovered that"," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," is irrational."]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:['According to legend, this discovery caused great dismay because it conflicted with the Pythagorean philosophy that "',s.jsx("strong",{children:"all is number"}),'." They initially believed all lengths could be measured by natural numbers or their ratios.']})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Yet the diagonal of the unit square is a length, and by the Pythagorean theorem its square equals 2. So the side and diagonal are ",s.jsx("em",{children:"not"})," ","natural number multiples of a common unit!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Consequences of the Conflict"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The first fruits of the conflict were "bitter" but hugely influential:'}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Separation"})," of arithmetic and geometry"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:"2."}),s.jsxs("span",{children:["Development of a separate ",s.jsx("strong",{children:"arithmetic of lengths and areas"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:"3."}),s.jsxs("span",{children:["Preference for ",s.jsx("strong",{children:'"geometric algebra"'}),"lengths added by joining, multiplied by forming rectangles"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Geometric Algebra"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'In geometric algebra, lengths are added by joining end to end and "multiplied" by forming rectangles. Areas are added by pasting.'}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The Pythagorean theorem itself exemplifies this approach: the sides and hypotenuse are ",s.jsx("strong",{children:"simply related via their squares"}),", even though they are not simply related as lengths."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Eventual Reconciliation"}),s.jsx("p",{className:"text-dark-200 mb-6",children:`The "sweeter fruits" came from reconciling arithmetic and geometry. This began only in the 17th century with Fermat and Descartes (analytic geometry) and wasn't completed until the late 19th century.`}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"The Difficulties"}),s.jsxs("ul",{className:"text-xs text-dark-300 space-y-1",children:[s.jsx("li",{children:" Different styles of thought"}),s.jsx("li",{children:" Subtle defects in Euclid's geometry"}),s.jsx("li",{children:" Arithmetic needed a clear concept of number"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"The Solutions"}),s.jsxs("ul",{className:"text-xs text-dark-300 space-y-1",children:[s.jsx("li",{children:" 16th c. algebra made arithmetic competitive"}),s.jsx("li",{children:" Calculus answered questions about curves"}),s.jsx("li",{children:" Dedekind (1858) defined real numbers"})]})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["In 1858, ",s.jsx("strong",{children:"Dedekind"})," realized that calculus, geometry, and the concept of irrational could all be clarified at once. He defined ",s.jsx("strong",{children:"real numbers"})," to capture all possible lengths, completing the reconciliation."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Euclid's proof"})," uses triangle-parallelogram area relationships and congruence."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Pythagoreans"})," discovered both the theorem and the irrationality of ",s.jsxs(o,{children:["\\sqrt","{2}"]}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The conflict led to ",s.jsx("strong",{children:"separation"}),' of arithmetic and geometry and "geometric algebra."']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Reconciliation"})," came through algebra (16th c.), calculus (17th c.), and Dedekind's real numbers (19th c.)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The theorem relates lengths via ",s.jsx("strong",{children:"squares"}),", even when the lengths themselves have no simple ratio."]})]})]})}),s.jsx(ve,{sectionId:15,questions:KQ})]})}function Nee(){return s.jsxs(je,{sectionId:16,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Volume"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The theory of volume looks much the same as the theory of area at first. The unit of volume is the cube with sides of unit length, and this leads easily to the volume formula for a ",s.jsx("strong",{children:"cuboid"}),"the figure whose faces are rectangles."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Volume of a Cuboid"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"For a cuboid with integer sides we see immediately that:"}),s.jsx($,{children:"\\text{volume} = \\text{width} \\times \\text{height} \\times \\text{depth}"}),s.jsx("p",{className:"text-dark-200 my-6",children:"This follows by cutting the cuboid into unit cubes. The same formula holds for rational sides (by cutting into fractional cubes) and for irrational sides (by definition of the product of three lengths)."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Parallelepipeds and Prisms"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"From the cuboid, we can obtain certain other volumes by cutting and pasting:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Parallelepiped"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The 3D analog of a parallelogram. Volume = base area  height. Obtained by cutting a prism off one end of a cuboid and pasting it to the other."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Triangular Prism"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Obtained by cutting a parallelepiped in half. Volume = base area  height."})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["These figures have ",s.jsx("strong",{children:"constant cross section"}),". All we have done so far is operate within their cross sections the way we did in the plane with parallelograms and triangles."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Tetrahedron Problem"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["What we really need is the volume of a ",s.jsx("strong",{children:"tetrahedron"}),"the 3D counterpart of the trianglebecause all polyhedra can be built from tetrahedra."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-red-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-red-400",children:"The Difficulty"}),s.jsxs("p",{className:"text-dark-300 text-sm",children:["The Greeks were ",s.jsx("em",{children:"unable"})," to cut and paste the tetrahedron into a cuboid! They found its volume by various ingenious ",s.jsx("strong",{children:"infinite constructions"})," instead."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Infinite Construction"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Euclid fills up the tetrahedron with infinitely many prisms. He cuts the tetrahedron into:"}),s.jsxs("ul",{className:"list-disc list-inside text-dark-300 mb-6 space-y-2",children:[s.jsx("li",{children:"Two smaller tetrahedra (half the height of the original)"}),s.jsx("li",{children:"Two triangular prisms of equal volume"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Each prism has volume ",s.jsxs(o,{children:["\\frac","{1}","{8}"]}),"  base  height of the tetrahedron, so combined they give"," ",s.jsxs(o,{children:["\\frac","{1}","{4}"]}),"  base  height."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Continuing this process inside the smaller tetrahedra, the total volume of all prisms is:"}),s.jsx($,{children:"\\left(\\frac{1}{4} + \\frac{1}{4^2} + \\frac{1}{4^3} + \\cdots\\right) \\times \\text{base} \\times \\text{height} = \\frac{1}{3} \\times \\text{base} \\times \\text{height}"}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["The prisms exhaust the volume of the tetrahedron (their size shrinks toward zero), so the volume of the tetrahedron is"," ",s.jsxs(o,{children:["\\frac","{1}","{3}"]}),"  base  height."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Remarkable Impossibility"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["With such a simple result, it is all the more mysterious that we cannot derive it by cutting and pasting ",s.jsx("em",{children:"finitely"})," often, as with the area of a triangle."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Hilbert's Third Problem (1900)"}),s.jsxs("p",{className:"text-dark-300 text-sm",children:["It can be ",s.jsx("em",{children:"proved"})," that it is impossible to convert a regular tetrahedron into a cube by cutting it into a finite number of polyhedral pieces. This was solved by Max Dehn in 1900."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Cuboid volume"})," = width  height  depth, derived by counting unit cubes."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Parallelepiped"})," and ",s.jsx("strong",{children:"prism"})," volumes follow from cut-and-paste with the cuboid."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Tetrahedron volume"})," ="," ",s.jsxs(o,{children:["\\frac","{1}","{3}"]}),"  base  height, but requires an infinite construction to prove."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["It is ",s.jsx("strong",{children:"impossible"})," to convert a tetrahedron to a cube by finite cutting and pasting (Dehn, 1900)."]})]})]})}),s.jsx(ve,{sectionId:16,questions:QQ})]})}function kee(){return s.jsxs(je,{sectionId:17,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Whole and the Part"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["There is an unconscious assumption in cutting and pasting: we assume that area is ",s.jsx("strong",{children:"conserved"}),"that if we repeatedly cut and paste, we never get a polygon larger or smaller than the one we started with."]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["This is a blatantly ",s.jsx("strong",{children:"physical assumption"}),", like conservation of mass. A conscientious geometer would want to prove it if possible."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Problem"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"If we assume lengths and areas are numbers, several alarming questions arise:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:"?"}),s.jsx("span",{children:"There is more than one way to cut a polygon into triangleswhat if different ways give different areas?"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:"?"}),s.jsxs("span",{children:["What if the area ",s.jsxs(o,{children:["\\frac","{1}","{2}"]}),"  base  height of a triangle depends on which side we choose as the base?"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Constancy of Base  Height"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The latter concern can be resolved using ",s.jsx("strong",{children:"similar triangles"}),". Triangles are called ",s.jsx("em",{children:"similar"})," if they have the same angles, and Euclid proved that the corresponding sides of similar triangles are proportional."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Theorem: Constancy of Base  Height"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"In any triangle, the product of any side by the corresponding height is constant."}),s.jsxs("p",{className:"text-dark-400 text-xs",children:[s.jsx("strong",{children:"Proof sketch:"})," Take triangle ABC with perpendiculars AD and BE. Triangles ADC and BEC have equal angles (they share angle C and both have a right angle). By proportionality of similar triangles:"]}),s.jsx($,{children:"\\frac{BC}{BE} = \\frac{AC}{AD}"}),s.jsx("p",{className:"text-dark-400 text-xs",children:"Therefore BC  AD = AC  BE."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Greeks' Approach"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The first concerndifferent subdivisions giving different areasis more difficult. For the Greeks, polygons that could be cut and pasted onto each other had equal area ",s.jsx("em",{children:"by definition"}),"."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:'Their problem was showing that a polygon could not be cut and pasted onto one that was intuitively "smaller"a part of itself. They could not prove this, so Euclid made it an axiom:'}),s.jsxs(ne,{type:"info",children:[s.jsx("p",{className:"text-lg font-semibold",children:'"The whole is greater than the part."'}),s.jsx("p",{className:"text-sm mt-2",children:" Euclid's fifth Common Notion"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Hilbert's Solution (1899)"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"When areas are numbers (numerical areas), the problem becomes solvable. Hilbert proved that different subdivisions of the same polygon give the same numerical area."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Signed Area [ABC]"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-2",children:["Hilbert used a concept of ",s.jsx("strong",{children:"signed area"}),":"]}),s.jsxs("ul",{className:"text-dark-300 text-sm space-y-1",children:[s.jsxs("li",{children:["[ABC] = ",s.jsxs(o,{children:["\\frac","{1}","{2}"]}),"  base  height when A, B, C are in clockwise order"]}),s.jsxs("li",{children:["[ABC] = ",s.jsxs(o,{children:["\\frac","{1}","{2}"]}),"  base  height when A, B, C are in counterclockwise order"]})]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The key property is that for any point O (inside or outside the triangle):"}),s.jsx($,{children:"[ABC] = [OAB] + [OBC] + [OCA]"}),s.jsx("p",{className:"text-dark-200 my-6",children:"When a triangle is subdivided, the areas spanned by interior edges cancel out, leaving only the original triangle's area."}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["This clinches the case for ",s.jsx("strong",{children:"using numbers in geometry"}),". Numerical areas behave consistently regardless of how we subdivide."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Equidecomposability"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Two polygons are ",s.jsx("strong",{children:"equidecomposable"})," if one can be cut into pieces that can be reassembled into the other. A remarkable theorem states:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Bolyai-Gerwien Theorem (19th century)"}),s.jsx("p",{className:"text-dark-300 text-sm",children:"Any two polygons of equal numerical area are equidecomposable."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Conservation of area"}),' under cutting and pasting is not obviousEuclid assumed "the whole is greater than the part."']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Base  height is constant"})," for any triangle, regardless of which side is chosen as the base."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hilbert (1899)"})," proved that numerical areas are well-defined using signed areas."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Equidecomposability:"})," Polygons with equal area can be cut into the same pieces (in 2D, but not always in 3D!)."]})]})]})}),s.jsx(ve,{sectionId:17,questions:JQ})]})}function Tee(){return s.jsxs(je,{sectionId:18,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion: The Pythagorean Influence"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:'The Pythagorean philosophy that "all is number" has come down to us through legends rather than hard evidence. Nevertheless, these legends were persistent enough to influence the development of mathematics and physics until the present day.'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Discovery of Musical Harmony"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The story goes that the Pythagoreans came to believe in the power of numbers through discovering their role in ",s.jsx("strong",{children:"music"}),". They found, by studying the sounds of plucked strings, that the most harmonious notes were produced by strings whose lengths were in simple integer ratios."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Musical Intervals"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"For strings of the same material, thickness, and tension:"}),s.jsxs("ul",{className:"space-y-2 text-dark-300",children:[s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-purple-400 font-mono",children:"2:1"}),s.jsx("span",{children:" Octave"})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-purple-400 font-mono",children:"3:2"}),s.jsx("span",{children:" Perfect Fifth"})]}),s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-purple-400 font-mono",children:"4:3"}),s.jsx("span",{children:" Perfect Fourth"})]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["If the subjective experience of harmony can be explained by numbers, perhaps ",s.jsx("em",{children:"anything"})," canor so the Pythagoreans may have thought."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Harmony of the Spheres"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The best-known example of Pythagorean influence was the "harmony of the spheres," which tried to explain the positions of the planets by numbers.'}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"The Dream"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Planetary positions determined by musical ratios. Haunted astronomy from Aristotle (~350 BC) to Kepler (15711630)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"The Reality"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Newton's theory of gravitation provided a better explanation, based on inverse-square forces rather than integer ratios."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Irony of Pythagorean Music Theory"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['If the Pythagoreans really believed that "all is number" (meaning natural numbers and their ratios), then it is ironic that their own philosophy was brought down by the Pythagorean theorem and the irrationality of'," ",s.jsxs(o,{children:["\\sqrt","{2}"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"An Even Greater Irony"}),s.jsxs("p",{className:"text-dark-300 text-sm",children:["Pythagorean music theory ",s.jsx("em",{children:"itself"}),' is fundamentally irrational! This becomes apparent when comparing the "size" of different musical intervals.']})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Pythagorean Comma"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"According to legend, Pythagoras himself tried to compare the octave and the perfect fifth, finding that:"}),s.jsxs("ul",{className:"list-disc list-inside text-dark-300 mb-6 space-y-2",children:[s.jsxs("li",{children:["7 octaves corresponds to multiplying string length by"," ",s.jsx(o,{children:"2^7 = 128"})]}),s.jsxs("li",{children:["12 perfect fifths corresponds to multiplying by"," ",s.jsxs(o,{children:["(3/2)^","{12}"," = 129.746..."]})]})]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["These are ",s.jsx("strong",{children:"very close, but not equal"}),". The small difference is called the ",s.jsx("em",{children:"Pythagorean comma"}),", and it makes it impossible to tune an instrument perfectly using only integer ratios."]})}),s.jsx("p",{className:"text-dark-200 my-6",children:"This means that the ratio of an octave to a perfect fifth is:"}),s.jsx($,{children:"\\frac{7 \\text{ octaves}}{12 \\text{ fifths}} = \\frac{\\log 2^7}{\\log (3/2)^{12}} = \\frac{7 \\log 2}{12(\\log 3 - \\log 2)}"}),s.jsx("p",{className:"text-dark-200 my-6",children:"which is irrational! Perfect tuning using pure ratios is mathematically impossible."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Broader Reconciliation"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Despite these ironies, the Pythagorean dream of understanding nature through numbers has been remarkably successfuljust not in the way they imagined:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:["Numbers describe naturebut ",s.jsx("strong",{children:"real numbers"}),", not just rationals"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:["Arithmetic and geometry are unifiedthrough ",s.jsx("strong",{children:"analytic geometry"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:["Simple laws govern complex phenomenathrough ",s.jsx("strong",{children:"calculus"})," ","and differential equations"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The Pythagoreans discovered that ",s.jsx("strong",{children:"musical harmony"})," ","corresponds to simple integer ratios (2:1, 3:2, 4:3)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:['The "harmony of the spheres" tried to explain astronomy through numbers, until ',s.jsx("strong",{children:"Newton's gravitation"})," provided a better theory."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Ironically, ",s.jsx("strong",{children:"music theory itself"})," involves irrational numbersthe Pythagorean comma shows perfect tuning is impossible."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The Pythagorean dream succeeded by ",s.jsx("strong",{children:"expanding"})," the number concept to include all real numbers."]})]})]})}),s.jsx(ve,{sectionId:18,questions:eJ})]})}function See(){return s.jsxs(je,{sectionId:19,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Lines and Circles"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The most important step in geometry since ancient times was the introduction of ",s.jsx("strong",{children:"coordinates"})," by Descartes in his"," ",s.jsx("em",{children:"Geometry"})," of 1637. Coordinates are a simple idea, but not much use without algebra and symbolic notation."]}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"Fermat in 1629 hit on the same idea as Descartes, but his results were not published at the time. The development of algebra over the preceding century made coordinates practical."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Coordinates of a Point"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"coordinates"})," of a point P in the plane are its distances ",s.jsx(o,{children:"(x, y)"})," from perpendicular axes OY and OX. The point O is called the ",s.jsx("strong",{children:"origin"}),", with coordinates"," ",s.jsx(o,{children:"(0, 0)"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Extending to All Quadrants"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["Fermat and Descartes only considered the ",s.jsx("strong",{children:"positive quadrant"})," (x ",">"," 0, y ",">"," 0). But if we allow negative coordinates:"]}),s.jsxs("ul",{className:"text-dark-300 text-sm space-y-1",children:[s.jsx("li",{children:" Points to the left of O have negative x coordinates"}),s.jsx("li",{children:" Points below O have negative y coordinates"}),s.jsx("li",{children:" Everything works smoothly thanks to the rules for negative numbers"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Equation of a Straight Line"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A straight line through the origin (other than the y-axis) has the property that the ratio ",s.jsx(o,{children:"y/x"})," is constant:"]}),s.jsx($,{children:"y = mx"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This is why we call equations like ",s.jsx(o,{children:"ax + by = c"})," ",s.jsx("strong",{children:"linear"}),"they describe straight lines."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"General Equation of a Line"}),s.jsx($,{children:"ax + by = c"}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"By suitable choice of constants a, b, and c, this equation gives any straight line in the plane."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Equation of a Circle"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A circle consists of all points at constant distance r (the"," ",s.jsx("strong",{children:"radius"}),") from its center. Using the Pythagorean theorem, if the center is at the origin:"]}),s.jsx($,{children:"x^2 + y^2 = r^2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["For a circle with center at an arbitrary point"," ",s.jsx(o,{children:"(a, b)"}),":"]}),s.jsx($,{children:"(x - a)^2 + (y - b)^2 = r^2"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Coordinates Define Euclidean Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In deriving these equations, we used several facts characteristic of",s.jsx("strong",{children:" Euclidean geometry"}),":"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Rectangles"}),s.jsx("p",{className:"text-xs text-dark-300",children:"We assumed rectangles exist (to set up perpendicular axes)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Similar Triangles"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Similar triangles of different sizes exist (used for the line equation)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Pythagoras"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The Pythagorean theorem holds (used for the circle equation)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Parallel Axiom"}),s.jsx("p",{className:"text-xs text-dark-300",children:"All of these are equivalent to the parallel axiom."})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Coordinates give yet another way to ",s.jsx("strong",{children:"define"})," Euclidean geometry. When we look at geometry this way, Euclidean geometry turns out to be the one with the ",s.jsx("strong",{children:"simplest equations"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Analytic vs. Synthetic Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Coordinate geometry is called ",s.jsx("strong",{children:"analytic"}),' because situations are "analyzed" rather than "synthesized":']}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:"Synthetic:"}),s.jsx("span",{children:"Ruler and compass constructions (Euclid's approach)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"Analytic:"}),s.jsx("span",{children:"Solving equations to find points, lines, and circles"})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Thanks to the power of algebra, analysis has much greater scope. It can even show the ",s.jsx("strong",{children:"impossibility"})," of certain constructions sought by the Greeks."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Coordinates"})," (x, y) locate points by distances from perpendicular axes."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Lines"})," have equation ax + by = c (linear)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Circles"})," have equation"," ",s.jsx(o,{children:"(x-a)^2 + (y-b)^2 = r^2"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["These equations assume ",s.jsx("strong",{children:"Euclidean geometry"})," ","(parallel axiom)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analytic geometry"})," uses algebra instead of ruler and compass."]})]})]})}),s.jsx(ve,{sectionId:19,questions:tJ})]})}function Aee(){return s.jsxs(je,{sectionId:20,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Intersections"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"The difference between analytic and synthetic geometry can be illustrated with Euclid's very first proposition: the construction of an equilateral triangle on a line segment AB."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Equilateral Triangle"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Recall that Euclid constructs an equilateral triangle by finding the intersection of two circlesone centered at A with radius AB, the other centered at B with radius BA."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Analytic Approach"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"If A = (1, 0) and B = (1, 0), the two circles have radius 2:"}),s.jsx($,{children:"(x+1)^2 + y^2 = 4"}),s.jsx($,{children:"(x-1)^2 + y^2 = 4"}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"Subtracting: x = 0. Substituting back: y = 3."}),s.jsxs("p",{className:"text-dark-300 text-sm mt-2",children:["The intersections are ",s.jsxs(o,{children:["(0, \\sqrt","{3}",")"]})," and"," ",s.jsxs(o,{children:["(0, -\\sqrt","{3}",")"]}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Defect in Euclid's Axioms"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Euclid's argument is short and sweet, but it has one defect:"," ",s.jsx("strong",{children:"it does not follow from his axioms!"})," His axioms guarantee only the existence of circles, not their intersections."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The great advantage of coordinates is that all questions about intersections become questions about ",s.jsx("strong",{children:"solutions of equations"}),", which algebra can answer. In this case, the algebra shows that existence of the intersection depends on existence of the number ",s.jsxs(o,{children:["\\sqrt","{3}"]}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Nature of Constructible Points"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Key Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["Points constructible by ruler and compass have coordinates obtainable from 1 by the ",s.jsx("strong",{children:"rational operations"})," (+, , , ) and"," ",s.jsx("strong",{children:"square roots"}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This follows because ruler and compass constructions involve only:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Line through two points:"})," Equation has coefficients from rational operations on the points' coordinates."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Circle with center and radius:"})," Equation has coefficients from rational operations."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Intersection of two lines:"})," Found by rational operations (solving linear equations)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Line meets circle:"})," Gives a quadratic equationsolved by rational operations plus one square root."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Two circles:"})," Reduces to line-circle case after subtracting equations."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Solving Ancient Problems"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If a number is ",s.jsx("em",{children:"not"})," expressible by rational operations and square roots, the corresponding point is ",s.jsx("strong",{children:"not constructible"})," by ruler and compass. This opens the way for algebraic attack on problems of constructibility."]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["After 2000 years of unsuccessful attempts, some Greek problems were finally shown to be ",s.jsx("strong",{children:"impossible"}),". For example,"," ",s.jsxs(o,{children:["\\sqrt[3]","{2}"]})," is not constructibleso the famous problem of ",s.jsx("strong",{children:"doubling the cube"})," has no solution!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Converse"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["There is also a converse: any point with coordinates expressible by rational operations and square roots ",s.jsx("em",{children:"is"})," constructible. The key constructions are:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Addition/Subtraction"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Join lengths end to end, or mark off one from another."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Multiplication"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Use similar triangles to construct ab from a and b."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Division"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Use similar triangles to construct a/b."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Square Root"}),s.jsx("p",{className:"text-xs text-dark-300",children:"A semicircle construction gives a from a."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Intersections"})," in analytic geometry reduce to solving equations."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Euclid's axioms have a ",s.jsx("strong",{children:"defect"}),": they don't guarantee that circles intersect!"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Constructible points"})," have coordinates involving only +, , , , and ."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\sqrt[3]","{2}"]})," is ",s.jsx("strong",{children:"not"})," ","constructible, proving doubling the cube is impossible."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"converse"})," also holds: rational operations and square roots give constructible lengths."]})]})]})}),s.jsx(ve,{sectionId:20,questions:sJ})]})}function Eee(){return s.jsxs(je,{sectionId:21,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Real Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The results of the last section show that all lengths needed in the geometry of straight lines and circles arise from"," ",s.jsx("strong",{children:"rational operations and square roots"}),". If we want to treat these lengths as numbers, we need to understand square rootsand ultimately, all irrational numbers."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Challenge"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Not only do we have to understand ",s.jsxs(o,{children:["\\sqrt","{2}"]}),","," ",s.jsxs(o,{children:["\\sqrt","{3}"]}),", and so on, but also more complicated numbers like:"]}),s.jsx($,{children:"\\sqrt{1 + \\sqrt{2}} \\quad\\text{and}\\quad \\sqrt{\\sqrt{2} + \\sqrt{3}}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["because these lengths are all constructible. The simplest solution was discovered by ",s.jsx("strong",{children:"Dedekind in 1858"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dedekind's Insight"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[`Dedekind's idea comes from reflecting on the "position" an irrational number occupies among the rationals. Consider`," ",s.jsxs(o,{children:["\\sqrt","{2}"]}),":"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Upper Bounds"}),s.jsx("p",{className:"text-xs text-dark-300 font-mono",children:"2, 1.5, 1.42, 1.415, 1.4143, 1.41422, 1.414214, ..."}),s.jsxs("p",{className:"text-xs text-dark-400 mt-2",children:["Each has square ",">"," 2"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Lower Bounds"}),s.jsx("p",{className:"text-xs text-dark-300 font-mono",children:"1, 1.4, 1.41, 1.414, 1.4142, 1.41421, 1.414213, ..."}),s.jsxs("p",{className:"text-xs text-dark-400 mt-2",children:["Each has square ","<"," 2"]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The exact position of ",s.jsxs(o,{children:["\\sqrt","{2}"]})," can be specified by the set ",s.jsx("strong",{children:"L"})," of all positive rationals with squares ","<"," 2, and the set ",s.jsx("strong",{children:"U"})," of positive rationals with squares ",">"," 2, because there is no other number that fits between these two sets."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Revolutionary Step"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Dedekind's Definition"}),s.jsxs("p",{className:"text-dark-200",children:[s.jsxs(o,{children:["\\sqrt","{2}"]})," ",s.jsx("em",{children:"is"})," the pair of sets (L, U). More generally, a ",s.jsx("strong",{children:"cut"})," in the rationals"," ",s.jsx("em",{children:"defines"})," an irrational number."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["It takes a while to absorb this idea. Everyone thinks that"," ",s.jsxs(o,{children:["\\sqrt","{2}"]}),' is already "there," and we only have to compute it. But the real problem is to ',s.jsx("em",{children:"define"})," it."]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["The beauty of Dedekind's definition is that it requires nothing new, only sets of objects already assumed to exist:"," ",s.jsx("strong",{children:"the rational numbers"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Formal Definitions"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Positive Irrational Number"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"A pair (L, U) of sets of positive rationals such that:"}),s.jsxs("ul",{className:"text-dark-300 text-sm space-y-2",children:[s.jsx("li",{children:" L and U together include all positive rationals"}),s.jsx("li",{children:" Each member of L is less than every member of U"}),s.jsx("li",{children:" L has no greatest member and U has no least member"})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Each rational number ",s.jsx("em",{children:"a"})," also makes a cut: into L",s.jsx("sub",{children:"a"})," ="," ","{","rationals ","<"," a","}"," and U",s.jsx("sub",{children:"a"})," = ","{","rationals  a","}",". The only difference is that U",s.jsx("sub",{children:"a"})," has a least member, namely a."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Positive Real Number"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"A pair (L, U) of sets of positive rationals such that:"}),s.jsxs("ul",{className:"text-dark-300 text-sm space-y-2",children:[s.jsx("li",{children:" L and U together include all positive rationals"}),s.jsx("li",{children:" Each member of L is less than every member of U"}),s.jsx("li",{children:" L has no greatest member"})]}),s.jsx("p",{className:"text-dark-400 text-xs mt-4",children:"(This includes both rationals and irrationals)"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why This Matters"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Dedekind's definition solved multiple problems at once:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Geometry:"})," Every length can be represented by a real number"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Calculus:"})," Limits and continuity can be defined rigorously"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebra:"})," The real numbers form a complete ordered field"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Dedekind realized in 1858 that calculus, geometry, and the concept of irrational could all be clarified in ",s.jsx("strong",{children:"one fell swoop"}),". This completed the reconciliation of arithmetic and geometry begun by Fermat and Descartes."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["An irrational number can be identified by its"," ",s.jsx("strong",{children:"position"})," among the rationals."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"Dedekind cut"})," (L, U) partitions rationals into those below and above the number."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The cut ",s.jsx("em",{children:"is"}),' the numberno need for a number to already "exist."']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Real numbers"})," = rationals + irrationals, all defined via cuts."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["This definition united ",s.jsx("strong",{children:"geometry, algebra, and calculus"})," on a common foundation."]})]})]})}),s.jsx(ve,{sectionId:21,questions:iJ})]})}function qee(){return s.jsxs(je,{sectionId:22,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Line"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Having seen how individual lengths like ",s.jsxs(o,{children:["\\sqrt","{2}"]})," can be reborn as numbers (via Dedekind cuts), the next step is to see whether these numbers make up anything we would recognize as a ",s.jsx("strong",{children:"line"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Property 1: Order"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One crucial property the real numbers have is ",s.jsx("strong",{children:"order"}),": if"," ",s.jsx(o,{children:"\\alpha"})," and ",s.jsx(o,{children:"\\beta"})," are any distinct real numbers, then either"," ",s.jsx(o,{children:"\\alpha \\leq \\beta"})," or"," ",s.jsx(o,{children:"\\beta \\leq \\alpha"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Ordering Real Numbers"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["If ",s.jsx(o,{children:"\\alpha = (L_\\alpha, U_\\alpha)"})," and"," ",s.jsx(o,{children:"\\beta = (L_\\beta, U_\\beta)"}),", we say:"]}),s.jsx($,{children:"\\alpha \\leq \\beta \\quad\\text{if and only if}\\quad L_\\alpha \\subseteq L_\\beta"}),s.jsxs("p",{className:"text-dark-400 text-xs mt-4",children:["This captures the idea that ",s.jsx(o,{children:"\\alpha"})," separates the rationals at a position ","<"," the position where"," ",s.jsx(o,{children:"\\beta"})," separates them."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Property 2: Completeness"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The second crucial property of the line is what Dedekind called its"," ",s.jsx("strong",{children:"continuity"}),", or absence of gaps. Do the real numbers have this property?"]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Yes!"})," The real numbers were created precisely by filling all the gaps in the rationals. A gap occurs where the rationals split into L (no greatest member) and U (no least member), and we filled each such gap with the irrational (L, U)."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["We could even say that the number (L, U) ",s.jsx("em",{children:"is"})," the gap in the rationals! But can the resulting set ",s.jsxs(o,{children:["\\mathbb","{R}"]})," ","of reals have gaps?"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"No Gaps in the Reals"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["If ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is separated into a lower set ",s.jsxs(o,{children:["\\mathcal","{L}"]})," and an upper set"," ",s.jsxs(o,{children:["\\mathcal","{U}"]}),", consider:"]}),s.jsx($,{children:"L = \\{r : r \\leq \\text{some member of } \\mathcal{L}\\}"}),s.jsx($,{children:"U = \\{r : r \\geq \\text{some member of } \\mathcal{U}\\}"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["These define a number (L, U) which is either the least member of"," ",s.jsxs(o,{children:["\\mathcal","{U}"]})," or the greatest member of"," ",s.jsxs(o,{children:["\\mathcal","{L}"]}),"so there is no gap!"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['The "no gaps" property of ',s.jsxs(o,{children:["\\mathbb","{R}"]})," is now called ",s.jsx("strong",{children:"completeness"}),". We also say that"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is the"," ",s.jsx("strong",{children:"completion"})," of the rationals"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Real Line"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Ordering and completeness are exactly what we were looking for to model the concept of ",s.jsx("strong",{children:"line"})," in geometry. So"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," fits the bill. We often call"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," the ",s.jsx("strong",{children:"real line"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Settling Infinitesimal Questions"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'Identifying the line with the real numbers has advantages beyond allowing free use of arithmetic in geometry. It gives answers to questions that cannot be settled by geometric intuition alone, because they involve the "infinitely small."'}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"No 'Next Point'"}),s.jsxs("p",{className:"text-xs text-dark-300",children:['There is no "next real number." If ',s.jsx(o,{children:"\\alpha"})," and"," ",s.jsx(o,{children:"\\beta"})," are distinct, then"," ",s.jsx(o,{children:"(\\alpha + \\beta)/2"})," lies strictly between them."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"No Infinitesimals"}),s.jsx("p",{className:"text-xs text-dark-300",children:'There are no "infinitesimal distances"no positive number less than all positive rationals. The lower set for any positive real must contain a positive rational.'})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:`For example, most people feel that 0.999999... cannot equal 1, because it seems less by an "infinitesimal amount." Such feelings are dispelled by Dedekind's picture: there is no room for a number between 0.999... and 1!`}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Least Upper Bounds"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"The LUB Property"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["If the numbers in some set S are all ","<"," some number"," ",s.jsx(o,{children:"\\alpha"}),", then there is a ",s.jsx("strong",{children:"least"})," ","number ",s.jsx(o,{children:"\\lambda \\geq"})," all members of S."]}),s.jsxs("p",{className:"text-dark-400 text-xs",children:["This number ",s.jsx(o,{children:"\\lambda"})," is called the"," ",s.jsx("strong",{children:"least upper bound"})," (LUB) of S. The existence of LUBs is another way to state completeness."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Archimedean Axiom"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The "no infinitesimals" property can be stated another way, going back to Archimedes:'}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Archimedean Axiom"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsx(o,{children:"\\alpha"})," and ",s.jsx(o,{children:"\\beta"})," ","are positive numbers with ",s.jsxs(o,{children:["\\alpha ","<"," \\beta"]}),", then there is a natural number n with"," ",s.jsxs(o,{children:["n\\alpha ",">"," \\beta"]}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In other words, no matter how small ",s.jsx(o,{children:"\\alpha"})," is, enough copies of it will exceed any given"," ",s.jsx(o,{children:"\\beta"}),". This rules out infinitesimals."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Real numbers have a natural ",s.jsx("strong",{children:"order"})," based on containment of their lower sets."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\mathbb","{R}"]})," is"," ",s.jsx("strong",{children:"complete"}),"it has no gaps."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"real line"})," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," models the geometric concept of line."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:['There is no "next point" and no'," ",s.jsx("strong",{children:"infinitesimal distances"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Archimedean axiom"})," rules out infinitesimals: enough small steps exceed any bound."]})]})]})}),s.jsx(ve,{sectionId:22,questions:nJ})]})}function Iee(){return s.jsxs(je,{sectionId:23,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Euclidean Plane"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Now that we have the line as the set ",s.jsxs(o,{children:["\\mathbb","{R}"]})," ","of real numbers x, the plane is obtained by a simple trick: it is the set of ",s.jsx("strong",{children:"ordered pairs"})," of real numbers, (x, y)."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Cartesian Product"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Definition of the Plane"}),s.jsxs("p",{className:"text-dark-200",children:["In honor of Descartes, the set of ordered pairs"," ",s.jsx(o,{children:"(x, y)"})," is called the"," ",s.jsx("strong",{children:"Cartesian product"})," ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The main difference between Descartes and us is that he supposed the plane to exist, then gave each point a coordinate pair (x, y). We suppose only that ",s.jsx("em",{children:"numbers"})," exist, we say the coordinate pair (x, y)"," ",s.jsx("em",{children:"is"})," a point, and that the set of these points is the plane."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclidean Distance"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We also have to define the ",s.jsx("strong",{children:"distance"})," between points. We know what it should be from previous experience with the Pythagorean theorem."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Euclidean Distance Formula"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["The Euclidean distance between"," ",s.jsx(o,{children:"P_1 = (x_1, y_1)"})," and"," ",s.jsx(o,{children:"P_2 = (x_2, y_2)"})," is:"]}),s.jsx($,{children:"d(P_1, P_2) = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}"})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This is prompted by the ",s.jsx("strong",{children:"Pythagorean theorem"}),", because the segment from ",s.jsx(o,{children:"(x_1, y_1)"})," to"," ",s.jsx(o,{children:"(x_2, y_2)"})," is the hypotenuse of a right triangle with legs ",s.jsx(o,{children:"x_2 - x_1"})," and"," ",s.jsx(o,{children:"y_2 - y_1"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Euclidean Plane Defined"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The set ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]})," with this distance function is called the ",s.jsx("strong",{children:"Euclidean plane"}),". The Pythagorean theorem is now true ",s.jsx("em",{children:"by definition"}),"!"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Lines"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["A line is the set of points (x, y) satisfying"," ",s.jsx(o,{children:"ax + by = c"}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Circles"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["A circle is the set of points at constant distance r from (a, b):"," ",s.jsx(o,{children:"(x-a)^2 + (y-b)^2 = r^2"}),"."]})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["We can re-create Euclid's geometry in terms of numbers, with the added advantage that Euclid's unstated assumptions about"," ",s.jsx("strong",{children:"existence of intersections"})," are guaranteed. There are enough real numbers to solve all the equations that arise."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Basic Properties of Distance"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-4 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"1."}),s.jsxs("span",{children:["The set of points ",s.jsx("strong",{children:"equidistant"})," from two distinct points is a line."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"2."}),s.jsxs("span",{children:["Any line is the ",s.jsx("strong",{children:"equidistant set"})," of two points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"3."}),s.jsxs("span",{children:["Each point is determined by its ",s.jsx("strong",{children:"distances from three points"})," not in a line."]})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["For example, if ",s.jsx(o,{children:"P = (-a, 0)"})," and"," ",s.jsx(o,{children:"Q = (a, 0)"}),", then a point (x, y) is equidistant from P and Q if and only if:"]}),s.jsx($,{children:"(x + a)^2 + y^2 = (x - a)^2 + y^2"}),s.jsxs("p",{className:"text-dark-200 my-4",children:["which simplifies to ",s.jsx(o,{children:"x = 0"}),"the equation of the y-axis. So the y-axis is the equidistant set of P and Q."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Moving Figures: Isometries"}),s.jsx("p",{className:"text-dark-200 mb-6",children:`Another advantage of this definition of the Euclidean plane is that it admits a concept of "moving" one figure until it coincides with another, like in Pappus' proof about isosceles triangles.`}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-amber-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Definition: Isometry"}),s.jsxs("p",{className:"text-dark-200",children:["A function f on ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]})," ","is an ",s.jsx("strong",{children:"isometry"}),' (from the Greek for "same distance") if']}),s.jsx($,{children:"d(f(P_1), f(P_2)) = d(P_1, P_2)"}),s.jsx("p",{className:"text-dark-400 text-xs mt-2",children:"for any two points P and P."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: Reflection"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An example of an isometry is the function"," ",s.jsxs(o,{children:["\\text","{ref}","_","{OY}"]})," that sends each point (x, y) to (x, y). This is ",s.jsx("strong",{children:"reflection in the y-axis"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"To verify it preserves distances:"}),s.jsx($,{children:"d(\\text{ref}_{OY}(P_1), \\text{ref}_{OY}(P_2)) = \\sqrt{(-x_2 + x_1)^2 + (y_2 - y_1)^2}"}),s.jsx($,{children:"= \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} = d(P_1, P_2)"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proving Triangle Properties"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Suppose triangle ABC has CA = CB. We can re-create Pappus' proof by placing the triangle with A and B on the x-axis, with O at their midpoint: A = (a, 0) and B = (a, 0)."}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Because C is equidistant from A and B, it must be on the y-axis. If we then ",s.jsx("strong",{children:"reflect"})," triangle ABC in the y-axis, it maps onto itself. In particular, the angle at A maps onto the angle at Bhence these two angles are equal!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Euclidean plane"})," is"," ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]})," with distance from the Pythagorean theorem."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Lines"})," have equation ax + by = c;"," ",s.jsx("strong",{children:"circles"})," have equation"," ",s.jsx(o,{children:"(x-a)^2 + (y-b)^2 = r^2"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"equidistant set"})," of two points is a line; any line is the equidistant set of two points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["An ",s.jsx("strong",{children:"isometry"})," is a distance-preserving function."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Reflection"})," in a line is an isometry that can prove theorems about equal angles."]})]})]})}),s.jsx(ve,{sectionId:23,questions:rJ})]})}function _ee(){return s.jsxs(je,{sectionId:24,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Isometries of the Euclidean Plane"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"Isometries of the Euclidean plane are actually not much more complicated than reflection, though this is not clear from the bare definition. The situation is crucially simplified by a fundamental property."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Basic Property"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Key Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["An isometry is ",s.jsx("strong",{children:"determined"})," by the images of three points not in a line."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This theorem is based on the property that each point is determined by its distances from three non-collinear points. If t is any isometry and A, B, C are vertices of an equilateral triangle, then t(A), t(B), t(C) are also not in a line. For any point Q, its image t(Q) has the same distances from t(A), t(B), t(C) as Q has from A, B, Cso t(Q) is uniquely determined."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Reflection in a Line"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most convenient isometries for building all others are"," ",s.jsx("strong",{children:"reflections"}),". Each line is the equidistant set of two points, and any two points can be exchanged by reflection in their equidistant line."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Reflection in ax + by = c"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["The reflection sends each point ",s.jsx(o,{children:"(x_1, y_1)"})," to"," ",s.jsx(o,{children:"(x_2, y_2)"})," where (assuming"," ",s.jsx(o,{children:"a^2 + b^2 = 1"}),"):"]}),s.jsx($,{children:"x_2 = x_1(1 - 2a^2) - 2aby_1 + 2ac"}),s.jsx($,{children:"y_2 = y_1(1 - 2b^2) - 2abx_1 + 2bc"})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The work involved in formalizing reflection is worthwhile because it gives us ",s.jsx("strong",{children:"all isometries"})," of the Euclidean plane. We get them as composites of reflections."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Three Reflections Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Fundamental Theorem"}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx("strong",{children:"Each isometry"})," of the Euclidean plane is the composite of ",s.jsx("strong",{children:"one, two, or three reflections"}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The proof constructs reflections f, f, f that successively move points P, P, P to their images under the given isometry. Since an isometry is determined by where it sends three non-collinear points, this composite equals the original isometry."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Types of Isometries"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Reflection"}),s.jsx("p",{className:"text-xs text-dark-300",children:"One reflection. Flips the plane across a line. Sends (x, y) to its mirror image."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Rotation"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Two reflections in ",s.jsx("em",{children:"intersecting"})," lines. Rotates through twice the angle between them."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Translation"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Two reflections in ",s.jsx("em",{children:"parallel"})," lines. Moves every point by the same vector."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Glide Reflection"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Three reflections. A translation combined with reflection in a parallel line."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Order Matters in Composition"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["The composite ff is ",s.jsx("strong",{children:"not"})," necessarily the same as ff! For example, if f is reflection in the x-axis and f is reflection in the line y = x, then ff is a quarter turn anticlockwise and ff is a quarter turn clockwise."]})}),s.jsx("p",{className:"text-dark-200 my-6",children:'The notation ff means "f first, then f." This is the standard convention for composition of functions.'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: The Half Turn"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Rotation Through "}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["The ",s.jsx("strong",{children:"half turn"})," about O sends (x, y) to (x, y). It is the composite of reflections in the x-axis and y-axis:"]}),s.jsx($,{children:"\\text{rot}_{O,\\pi} = \\text{ref}_{OY} \\circ \\text{ref}_{OX}"}),s.jsx("p",{className:"text-dark-400 text-xs mt-4",children:"This can be used to prove that vertically opposite angles are equal."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: Translation"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The translation ",s.jsxs(o,{children:["\\text","{tran}","_","{a,b}"]})," moves each point (x, y) to (x + a, y + b). It is the composite of reflection in the equidistant line of O and (a, b), and reflection in the parallel to this line through (a, b)."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"General Properties of Isometries"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"From the three reflections theorem, all isometries:"}),s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"1."}),s.jsxs("span",{children:["Are ",s.jsx("strong",{children:"invertible"})," functions, and their inverses are also isometries."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"2."}),s.jsxs("span",{children:["Map ",s.jsx("strong",{children:"lines to lines"}),"."]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["An isometry is ",s.jsx("strong",{children:"determined"})," by the images of three non-collinear points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Every isometry"})," is a composite of one, two, or three reflections."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Two reflections give ",s.jsx("strong",{children:"rotations"})," (intersecting lines) or ",s.jsx("strong",{children:"translations"})," (parallel lines)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Three reflections give ",s.jsx("strong",{children:"glide reflections"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Composition of isometries is ",s.jsx("strong",{children:"not commutative"}),"order matters!"]})]})]})}),s.jsx(ve,{sectionId:24,questions:aJ})]})}function Cee(){return s.jsxs(je,{sectionId:25,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Triangle Inequality"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Another crucial property of distance is the so-called"," ",s.jsx("strong",{children:"triangle inequality"}),": if A, B, and C are three points not in a line, then"]}),s.jsx($,{children:"d(A, C) < d(A, B) + d(B, C)"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Self-Evident Truth?"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This property is so obvious that even a ",s.jsx("strong",{children:"dog"})," knows it: a dog will go straight from A to a bone at C rather than go via B. However, in mathematics, even obvious statements need not be accepted if they can be ",s.jsx("em",{children:"proven"}),"."]})}),s.jsx("p",{className:"text-dark-200 my-6",children:"The triangle inequality can indeed be proved from the standard assumptions of geometry. Euclid arrives at it only in his Proposition 20, and it depends on most of his earlier propositions. A proof in our coordinate setup is not trivial but takes only a few lines of algebra."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proof Using Coordinates"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"We can simplify the calculation by applying isometries to move triangle ABC to a convenient position:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:"1."}),s.jsxs("span",{children:["Apply a ",s.jsx("strong",{children:"translation"})," to move B to the origin."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:"2."}),s.jsxs("span",{children:["If A is not on the x-axis, apply a ",s.jsx("strong",{children:"reflection"})," to place it on the x-axis."]})]})]})}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The result is a triangle with coordinates:"}),s.jsx($,{children:"A = (a_1, 0), \\quad B = (0, 0), \\quad C = (c_1, c_2)"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["where ",s.jsxs(o,{children:["c_2 ",">"," 0"]})," if the three points are not in a line."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Calculation"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The required inequality"}),s.jsx($,{children:"d(A, C) < d(A, B) + d(B, C)"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"becomes:"}),s.jsx($,{children:"\\sqrt{(c_1 - a_1)^2 + c_2^2} < a_1 + \\sqrt{c_1^2 + c_2^2}"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Verification"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"Squaring both sides and simplifying:"}),s.jsx($,{children:"(\\text{RHS})^2 - (\\text{LHS})^2 = 2a_1\\sqrt{c_1^2 + c_2^2} - 2a_1c_1 > 0"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["This is positive because ",s.jsxs(o,{children:["c_2 ",">"," 0"]})," implies"," ",s.jsxs(o,{children:["\\sqrt","{c_1^2 + c_2^2}"," ",">"," c_1"]}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When Equality Holds"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The calculation also shows that"," ",s.jsx(o,{children:"d(A, C) = d(A, B) + d(B, C)"})," only when"," ",s.jsx(o,{children:"c_2 = 0"}),"that is, when the three points are"," ",s.jsx("strong",{children:"in a line"}),"."]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Summary:"})," The straight line from A to C is shorter than any detour via B, unless B is already on the line AC."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Shortest Path Between Two Points"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'A less formal way to express the triangle inequality is the old saying: "A straight line is the shortest distance between two points."'}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Polygonal Paths"}),s.jsx("p",{className:"text-xs text-dark-300",children:"By induction, a line segment AB is the shortest polygonal path from A to B (a sequence of line segments AA, AA, ...)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Curves"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The length of a curve is the least upper bound of lengths of polygonal paths with vertices on the curve."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: The Circle's Circumference"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"We can use the triangle inequality to prove an upper bound for the length of the circle. Consider a quarter circle from A to C with center at B."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"Any polygonal path with vertices on the quarter circle from A to C has total length less than d(A, B) + d(B, C)."}),s.jsxs("p",{className:"text-dark-400 text-xs",children:["By completeness of the reals, this upper bound implies the"," ",s.jsx("strong",{children:"least upper bound"})," (the arc length) exists."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Comparison with Euclid"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One reason Euclid's proof of the triangle inequality is longer than ours is that he assumes less. He proves it ",s.jsx("em",{children:"without"})," assuming the parallel axiom, so his argument also applies to the geometry of the"," ",s.jsx("strong",{children:"non-Euclidean plane"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"triangle inequality"})," states:"," ",s.jsxs(o,{children:["d(A, C) ","<"," d(A, B) + d(B, C)"]})," for non-collinear A, B, C."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Isometries"})," simplify the proof by placing the triangle in a convenient position."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Equality"})," holds if and only if B lies on the segment AC."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The straight line is the ",s.jsx("strong",{children:"shortest path"})," between two points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The triangle inequality helps prove the"," ",s.jsx("strong",{children:"existence of arc length"})," via the completeness of ."]})]})]})}),s.jsx(ve,{sectionId:25,questions:lJ})]})}function Mee(){return s.jsxs(je,{sectionId:26,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Klein's Definition of Geometry"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"The history of geometry is a story with a shifting point of view. From Euclid's visual axioms, to Fermat and Descartes' coordinates, to Dedekind's definition of numbers as the raw material for points, lines, and planeseach era brought a new perspective."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Klein's Revolutionary Idea"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"In 1872, Felix Klein made yet another dramatic shift when he realized that:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"The Erlangen Program"}),s.jsx("p",{className:"text-dark-200 text-lg",children:s.jsx("strong",{children:"The isometries make the geometry."})}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["Euclidean plane geometry is everything that is"," ",s.jsx("em",{children:"preserved by Euclidean isometries"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The fundamental quantity preserved by Euclidean isometries is the distance ",s.jsx(o,{children:"d(P_1, P_2)"}),". We saw that any reflection preserves distance, and any isometry is a composite of reflectionshence distance is preserved by all isometries."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Discovering Distance from Reflections"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'In principle, we could start with the set of reflections and "discover" the idea of Euclidean distance by calculating:'}),s.jsx($,{children:"\\sqrt{(x'_2 - x_2)^2 + (y'_2 - y_2)^2}"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"for mirror images P = (x, y) and P' = (x', y') under any reflection, and finding it equals the corresponding quantity for the original points."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Since ",s.jsx("strong",{children:"line"})," (equidistant set of two points) and"," ",s.jsx("strong",{children:"circle"})," (equidistant set of one point) can be defined in terms of distance, as soon as distance is derived from isometries, we have the whole Euclidean geometry!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Other Geometries"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Klein's viewpoint shows us that Euclidean geometry is just one of several structurally similar geometries. Different sets of isometries give different geometries."}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Euclidean Space"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Isometries are composites of reflections in planes. The 3D analog of planar Euclidean geometry."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Spherical Geometry"}),s.jsx("p",{className:"text-xs text-dark-300",children:`Isometries are reflections in planes through the sphere's center. "Lines" are great circles.`})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Spherical Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[`The geometry of the sphere is a familiar relative of Euclidean geometry. Its isometries are composites of reflections in planes through the sphere's center. The "equidistant sets" are intersections with these planesthe `,s.jsx("strong",{children:"great circles"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Properties of Spherical Geometry"}),s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"1."}),s.jsx("span",{children:'Any two "lines" (great circles) have a point in common.'})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"2."}),s.jsx("span",{children:"Hence the composite of two reflections is always a rotation."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"3."}),s.jsx("span",{children:"Any isometry is the composite of one, two, or three reflections."})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Group of Isometries"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An important part of Klein's concept is that isometries form a"," ",s.jsx("strong",{children:"group of transformations"}),": a set of one-to-one functions closed under composites and inverses."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Why Isometries Form a Group"}),s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"Each reflection is its own inverse (reflecting twice returns to the original). If ff...f_k is a composite of reflections, its inverse is:"}),s.jsx($,{children:"f_k^{-1} \\cdots f_2^{-1} f_1^{-1}"}),s.jsx("p",{className:"text-dark-400 text-xs mt-4",children:"Composing these gives successive cancellations, yielding the identity."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Orientation-Preserving Subgroup"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider isometries that are composites of an ",s.jsx("em",{children:"even"})," number of reflections. These form a ",s.jsx("strong",{children:"subgroup"}),"a subset that is also a group."]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Intuitively, this is the subgroup that preserves"," ",s.jsx("strong",{children:"orientation"}),' (or "handedness" or "clockwiseness"). Reflections reverse orientation; composites of two reflections (like rotations and translations) preserve it.']})}),s.jsx("p",{className:"text-dark-200 my-6",children:'We escape the tricky problem of defining "orientation" by letting the subgroup define it: a property depends on orientation if it is preserved by the subgroup but not by the whole group.'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proving Orientation Exists"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Does the orientation-preserving subgroup differ from the whole group? Yes! We can prove that a reflection cannot be a composite of an even number of reflections:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"A single reflection maps exactly one line onto itself."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"A composite of two reflections is a rotation (no line onto itself) or translation (infinitely many lines onto themselves)."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"Thus a reflection cannot be a composite of two reflectionsand by extension, cannot be any even composite."})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Conclusion:"})," The orientation-preserving subgroup is not the whole isometry group, and hence there is such a thing as orientation!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Klein's insight: ",s.jsx("strong",{children:"isometries make the geometry"}),". Geometry is what isometries preserve."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Different sets of isometries give"," ",s.jsx("strong",{children:"different geometries"})," (Euclidean, spherical, non-Euclidean)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Isometries form a ",s.jsx("strong",{children:"group"}),": closed under composition and inverses."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"orientation-preserving subgroup"})," consists of even composites of reflections."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Orientation exists"})," because reflections cannot be even composites of reflections."]})]})]})}),s.jsx(ve,{sectionId:26,questions:oJ})]})}function zee(){return s.jsxs(je,{sectionId:27,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Non-Euclidean Plane"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["A beautiful example of how isometries create geometry is the"," ",s.jsx("strong",{children:"non-Euclidean plane"})," of Henri Poincar (1882). Poincar found a geometry in which there is ",s.jsx("em",{children:"more than one parallel"}),' to a given "line" through a given point.']}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Poincar's Upper Half-Plane"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:'The Non-Euclidean "Plane"'}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["The upper half (y ",">"," 0) of"," ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]}),"."]}),s.jsxs("p",{className:"text-dark-300 text-sm",children:['The "reflection" is a generalization of ordinary reflection called'," ",s.jsx("strong",{children:"reflection in a circle"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Reflection in a Circle"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The reflection of a point P in a circle C with center Z and radius r is defined to be the point P' on the Euclidean line ZP such that:"}),s.jsx($,{children:"ZP \\cdot ZP' = r^2"}),s.jsx("p",{className:"text-dark-200 my-6",children:"Ordinary reflection can be regarded as the limiting case of reflection in a circle as the center Z tends to infinity."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:'Non-Euclidean "Lines"'}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The reflections generating non-Euclidean isometries include:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Vertical Half-Lines"}),s.jsx("p",{className:"text-xs text-dark-300",children:'Ordinary reflections in vertical lines x = constant. These are "lines" in the non-Euclidean plane.'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Semicircles"}),s.jsx("p",{className:"text-xs text-dark-300",children:'Reflections in circles with centers on the x-axis. The resulting semicircles are also "lines."'})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:['The "lines" of the non-Euclidean plane are obtained as the'," ",s.jsx("strong",{children:"fixed point sets"})," of the reflections: vertical Euclidean half-lines and Euclidean semicircles with centers on the x-axis."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Failure of the Parallel Axiom"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:['Through any point P not on a "line" L, there are'," ",s.jsx("strong",{children:'multiple "lines"'})," that do not meet L. The"," ",s.jsx("strong",{children:"parallel axiom fails"})," in non-Euclidean geometry!"]})}),s.jsx("p",{className:"text-dark-200 my-6",children:`Apart from the parallel axiom, all other axioms of Euclid's geometry hold in the non-Euclidean plane. For example, there is exactly one "line" through any two points P and Q, and it can be found by ruler and compass construction.`}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Constructing Non-Euclidean Lines"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:'To find the non-Euclidean "line" through P and Q:'}),s.jsxs("ul",{className:"space-y-2 text-dark-300 text-sm",children:[s.jsx("li",{children:"1. Draw the Euclidean line PQ."}),s.jsx("li",{children:"2. If PQ is not vertical, construct its perpendicular bisector."}),s.jsx("li",{children:'3. The bisector meets the x-axis at the center of the semicircle that is the non-Euclidean "line" PQ.'})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Pleasant Properties of the Model"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Poincar's model has some nice features:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Angles"})," are ordinary angles (between tangent lines at intersection points)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:["Non-Euclidean ",s.jsx("strong",{children:'"circles"'})," are Euclidean circles (with different centers)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:["Non-Euclidean constructions can all be done within"," ",s.jsx("strong",{children:"Euclidean geometry"}),"."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Non-Euclidean Isometries"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The orientation-preserving isometries (composites of two reflections) come in three types, depending on how the "lines" of reflection meet:'}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Rotations"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Lines" meet at a point in the half-plane. Non-Euclidean rotations about that point.'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Limit Rotations"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Lines" meet on the x-axis (at infinity). The center is infinitely far away.'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Translations"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Lines" do not meet at all. Non-Euclidean translations along a common perpendicular.'})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Infinite Distance to the x-Axis"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'An example of a non-Euclidean "translation" is the composite of reflections in semicircles with center O and radii 1 and 2. This sends each (x, y) to (4x, 4y).'}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The points (0, 1), (0, 1/4), (0, 1/16), ... are equally spaced in"," ",s.jsx("strong",{children:"non-Euclidean distance"})," because each is mapped to its predecessor by this translation. This explains why the"," ",s.jsx("strong",{children:"x-axis is infinitely far away"})," from all points of the non-Euclidean plane, and why non-Euclidean lines are infinitely long."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Study Non-Euclidean Geometry?"}),s.jsx("p",{className:"text-dark-200 mb-6",children:`This may seem like a strange geometry, with semicircles called "lines" of infinite "length." But because all but one of Euclid's axioms hold, it is feasible to use ordinary geometric reasoning.`}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Poincar introduced this model because he wanted to study transformations generated by reflections in circles, and he found that"," ",s.jsx("strong",{children:"geometric language made them easier to understand"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Poincar's ",s.jsx("strong",{children:"non-Euclidean plane"})," is the upper half-plane with reflection in circles."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsx("span",{children:'"Lines" are vertical half-lines and semicircles centered on the x-axis.'})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"parallel axiom fails"}),': multiple "parallels" exist through a point.']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Angles"})," in the model are ordinary Euclidean angles."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"x-axis is infinitely far away"}),' in non-Euclidean distance; "lines" are infinitely long.']})]})]})}),s.jsx(ve,{sectionId:27,questions:cJ})]})}function Dee(){return s.jsxs(je,{sectionId:28,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion: Algebra and Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The main message of the last two chapters is that geometry has"," ",s.jsx("strong",{children:"two sides"}),". First there is the visual, self-contained, synthetic side, which seems intuitively natural; then the algebraic, analytic side, which takes over when intuition fails and integrates geometry into the larger world of mathematics."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Two Faces of Geometry"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Synthetic Geometry"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Visual, self-contained, intuitively natural. Led to Euclid's Elements, the most influential mathematics book ever written."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Analytic Geometry"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Algebraic, coordinate-based. Takes over when intuition fails and integrates geometry into broader mathematics."})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"Visualization will surely continue to inspire new discoveries in geometry, but algebra will rule geometry as long as it is more efficient and more conducive to mathematical unity."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Fruitful Conflict"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"There is an apparent conflict between these two sides, and this conflict has been extraordinarily fruitful for the development of mathematics."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The conflict began with the discovery of ",s.jsx("strong",{children:"irrational lengths"}),", such as ",s.jsxs(o,{children:["\\sqrt","{2}"]}),". At the time, numbers were rational by definition, so irrational lengths could not be numbers, and hence geometry could not be based on arithmetic."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Doing geometry without arithmetic turned out to be fruitful, however, because it led to Euclid's ",s.jsx("em",{children:"Elements"}),". It was only when Euclid's influence began to wane in the 19th century that mathematicians finally resolved the conflict by extending the concept of number."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fields: The Language of Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The 19th century saw a great enlargement in the scope of algebra, which allowed the operations +, , , and  to be applied to objects that are not necessarily numbers. This led to the definitions of"," ",s.jsx("strong",{children:"ring"})," and ",s.jsx("strong",{children:"field"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Around 1900"}),s.jsxs("p",{className:"text-dark-200",children:["It became clear that the concept of ",s.jsx("strong",{children:"field"})," was the appropriate algebraic setting for geometry. We can build Euclid's geometry using the field ",s.jsxs(o,{children:["\\mathbb","{R}"]})," of real numbers, and conversely, we can build a field from Euclid's geometric concepts."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Doing geometry analytically is ",s.jsx("em",{children:"almost"})," equivalent to doing geometry synthetically. The only extra ingredient in analytic geometry is ",s.jsx("strong",{children:"completeness"}),"assigning a number to each point on the line. This is precisely the step the Greeks refused to take."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Jump from ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," to"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Dedekind's definition of real numbers as cuts in"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," is exquisitely simple, but deceptive: it hides the fact that"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is a far less comprehensible set than ",s.jsxs(o,{children:["\\mathbb","{Q}"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Countable Sets"}),s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["The sets ",s.jsxs(o,{children:["\\mathbb","{N}"]}),","," ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),", and"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," are called"," ",s.jsx("strong",{children:"countable"})," because we can list their members:"]}),s.jsx($,{children:"\\mathbb{Z} = \\{0, 1, -1, 2, -2, 3, -3, \\ldots\\}"}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"To list the rationals, we order positive fractions by the sum of numerator and denominator, then alternate positive and negative."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Cantor's Discovery (1874)"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Cantor discovered that ",s.jsx("strong",{children:"not all infinite sets"})," have the same cardinality. In particular,"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is"," ",s.jsx("strong",{children:"uncountable"}),"there is no way to list its members."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This means ",s.jsxs(o,{children:["\\mathbb","{R}"]})," can only be comprehended as a ",s.jsx("em",{children:"completed whole"}),". To understand"," ",s.jsxs(o,{children:["\\mathbb","{R}"]}),", we must grasp all the cuts in"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," at once!"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The reason ",s.jsxs(o,{children:["\\mathbb","{R}"]})," can be comprehended only as a completed whole is precisely its ",s.jsx("strong",{children:"completeness"})," ","in the mathematical sense. Any countable set A of numbers contains a gap, and hence is not complete."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Potential vs. Actual Infinity"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This is what makes the concept of"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," really remote from Greek mathematics."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Potential Infinity"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The Greeks accepted this: a process that continues indefinitely, like generating"," ",s.jsxs(o,{children:["\\mathbb","{N}"]})," by repeatedly adding 1."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Actual Infinity"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The Greeks rejected this: a completed infinite set. But real numbers require infinite subsets of"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," given without generating processes."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"An Alternative Definition of Euclidean Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One characteristic feature of Euclidean plane geometry is the existence of ",s.jsx("strong",{children:"similarities"}),": mappings that multiply all lengths by a constant. A typical similarity is the ",s.jsx("em",{children:"dilatation"})," ",s.jsxs(o,{children:["\\text","{dil}","_c"]})," that sends each point"," ",s.jsx(o,{children:"(x, y)"})," to ",s.jsx(o,{children:"(cx, cy)"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We take the existence of similarities for granted in real lifescale models, maps, and blueprints are all faithful representations. But this means ",s.jsx("strong",{children:"length is not essential"})," to Euclidean geometry. The important properties of a triangle are not the lengths of its sides, but their ",s.jsx("em",{children:"ratios"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Similarity Geometry"}),s.jsxs("p",{className:"text-dark-200",children:["We could define Euclidean geometry using the ",s.jsx("strong",{children:"group of similarities"})," rather than the group of isometries. Similarities preserve angles, and a remarkable theorem shows that similarities are the ",s.jsx("em",{children:"only"})," maps of"," ",s.jsxs(o,{children:["\\mathbb","{R}"," \\times \\mathbb","{R}"]})," that preserve all angles."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Remarkable Contrast"}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["In the ",s.jsx("strong",{children:"non-Euclidean plane"}),", the only angle-preserving maps are the isometries. There are ",s.jsx("em",{children:"no"})," maps that multiply all lengths by a constant  1. Beings in a non-Euclidean world would not enjoy scale models, but they could determine the ",s.jsx("strong",{children:"size"})," ","of a figure from its shape alone!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Geometry has ",s.jsx("strong",{children:"two sides"}),": synthetic (visual) and analytic (algebraic)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The conflict between themsparked by irrational numbershas been extraordinarily ",s.jsx("strong",{children:"fruitful"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Fields"})," provide the appropriate algebraic setting for geometry."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\mathbb","{R}"]})," is"," ",s.jsx("strong",{children:"uncountable"}),", unlike"," ",s.jsxs(o,{children:["\\mathbb","{Q}"]}),"this is why the Greeks could not conceive of real numbers."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["Euclidean geometry can be defined by ",s.jsx("strong",{children:"similarities"}),"; non-Euclidean geometry cannot."]})]})]})}),s.jsx(ve,{sectionId:28,questions:dJ})]})}function Ree(){return s.jsxs(je,{sectionId:29,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pythagorean Triples"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["One of the most astonishing documents in the history of mathematics is a clay tablet in the Columbia University collection of Babylonian artifacts. Known as ",s.jsx("strong",{children:"Plimpton 322"}),", it dates from around"," ",s.jsx("strong",{children:"1800 B.C."})," and contains columns of numbers that reveal a deep understanding of what we now call"," ",s.jsx("strong",{children:"Pythagorean triples"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Pythagorean Triple"}),s.jsxs("p",{className:"text-dark-200",children:["A ",s.jsx("strong",{children:"Pythagorean triple"})," is a triple"," ",s.jsx(o,{children:"(a, b, c)"})," of natural numbers satisfying:"]}),s.jsx($,{children:"a^2 + b^2 = c^2"}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:"By the converse Pythagorean theorem, these are also the side lengths of right-angled triangles."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Plimpton 322 Tablet"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The tablet contains pairs ",s.jsx(o,{children:"(b, c)"})," with a remarkable property: in every case,"," ",s.jsx(o,{children:"c^2 - b^2"})," is a perfect square"," ",s.jsx(o,{children:"a^2"}),". This leaves no doubt about what they are: a list of Pythagorean triples."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Sample Entries from Plimpton 322"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[s.jsx("div",{className:"font-bold text-dark-300",children:"b"}),s.jsx("div",{className:"font-bold text-dark-300",children:"c"}),s.jsx("div",{className:"font-bold text-dark-300",children:"a = (c - b)"}),s.jsx("div",{children:"119"}),s.jsx("div",{children:"169"}),s.jsx("div",{children:"120"}),s.jsx("div",{children:"65"}),s.jsx("div",{children:"97"}),s.jsx("div",{children:"72"}),s.jsx("div",{children:"319"}),s.jsx("div",{children:"481"}),s.jsx("div",{children:"360"}),s.jsx("div",{children:"45"}),s.jsx("div",{children:"75"}),s.jsx("div",{children:"60"})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Triples as large as ",s.jsx(o,{children:"(13500, 12709, 18541)"})," ","appear on the tabletfar too large to have been found by trial and error. The Babylonians must have had a systematic method!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Babylonian Number System"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The meaning of the pairs ",s.jsx(o,{children:"(b, c)"})," was discovered by Otto Neugebauer and Abraham Sachs in 1945. Computing the values"," ",s.jsxs(o,{children:["a = \\sqrt","{c^2 - b^2}"]}),' is interesting because many turn out to be remarkably "round" numbers.']}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-300 text-sm",children:["All but three of the ",s.jsx(o,{children:"a"})," values are multiples of 60. The Babylonians wrote their numbers in ",s.jsx("strong",{children:"base 60"}),', so multiples of 60 were the "roundest" numbers in their notation. The divisors 12 and 30 of 60 were also considered "round."']})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Famous Pythagorean Triples"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"(3, 4, 5)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The smallest Pythagorean triple. Check: 9 + 16 = 25."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(5, 12, 13)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Another classic. Check: 25 + 144 = 169."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(8, 15, 17)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Check: 64 + 225 = 289."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(7, 24, 25)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Check: 49 + 576 = 625."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Multiples of Triples"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"(a, b, c)"})," is a Pythagorean triple, then so is ",s.jsx(o,{children:"(ka, kb, kc)"})," for any natural number"," ",s.jsx(o,{children:"k"}),". For example, the multiples of"," ",s.jsx(o,{children:"(3, 4, 5)"})," include:"]}),s.jsx($,{children:"(6, 8, 10), \\quad (9, 12, 15), \\quad (12, 16, 20), \\quad \\ldots"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Geometrically, these all represent the ",s.jsx("em",{children:"same"})," right triangle, just with different choices of the unit of length."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Primitive Triples"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Primitive Pythagorean Triple"}),s.jsxs("p",{className:"text-dark-200",children:["A Pythagorean triple ",s.jsx(o,{children:"(a, b, c)"})," is called"," ",s.jsx("strong",{children:"primitive"})," if ",s.jsx(o,{children:"a"}),","," ",s.jsx(o,{children:"b"}),", and ",s.jsx(o,{children:"c"})," have no common divisor greater than 1."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Every Pythagorean triple is a multiple of a unique primitive triple. Thus, the main problem is to find all ",s.jsx("em",{children:"primitive"})," triplesonce we know ",s.jsx(o,{children:"(3, 4, 5)"}),", it's trivial to list its multiples."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What's Next?"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["For enlightenment on the ",s.jsx("em",{children:"method"})," of finding Pythagorean triples, we must turn to ancient Greece. In the following sections, we'll see how Euclid found ",s.jsx("em",{children:"all"})," Pythagorean triples using a formula, and how Diophantus simplified the problem using rational numbers."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"Pythagorean triple"})," is"," ",s.jsx(o,{children:"(a, b, c)"})," with"," ",s.jsx(o,{children:"a^2 + b^2 = c^2"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Plimpton 322"})," tablet (1800 B.C.) shows the Babylonians knew many large triples."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Multiples of a triple are also triplesthey represent the"," ",s.jsx("strong",{children:"same triangle"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"primitive"})," triple has"," ",s.jsx(o,{children:"\\gcd(a, b, c) = 1"}),"."]})]})]})}),s.jsx(ve,{sectionId:29,questions:hJ})]})}function Oee(){return s.jsxs(je,{sectionId:30,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pythagorean Triples in Euclid"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The easiest way to find big Pythagorean triples is to use a"," ",s.jsx("strong",{children:"formula"}),". Formulas for generating triples were probably known in ancient Babylon, Greece, India, and China, but the first"," ",s.jsx("em",{children:"rigorous treatment"})," occurs in Euclid's ",s.jsx("em",{children:"Elements"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Formula"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Formula for Pythagorean Triples"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["For any natural numbers ",s.jsx(o,{children:"u"})," and"," ",s.jsx(o,{children:"v"})," with ",s.jsxs(o,{children:["u ",">"," v"]}),":"]}),s.jsx($,{children:"a = 2uv, \\quad b = u^2 - v^2, \\quad c = u^2 + v^2"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["This gives ",s.jsx(o,{children:"a^2 + b^2 = c^2"})," for any values of"," ",s.jsx(o,{children:"u"})," and ",s.jsx(o,{children:"v"}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Let's verify this formula works:"}),s.jsx($,{children:"a^2 + b^2 = (2uv)^2 + (u^2 - v^2)^2 = 4u^2v^2 + u^4 - 2u^2v^2 + v^4"}),s.jsx($,{children:"= u^4 + 2u^2v^2 + v^4 = (u^2 + v^2)^2 = c^2 \\quad \\checkmark"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"u = 2, v = 1"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"a = 4"}),", ",s.jsx(o,{children:"b = 3"}),","," ",s.jsx(o,{children:"c = 5"}),s.jsx("br",{}),"Gives ",s.jsx(o,{children:"(3, 4, 5)"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"u = 3, v = 2"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"a = 12"}),", ",s.jsx(o,{children:"b = 5"}),","," ",s.jsx(o,{children:"c = 13"}),s.jsx("br",{}),"Gives ",s.jsx(o,{children:"(5, 12, 13)"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"u = 4, v = 1"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"a = 8"}),", ",s.jsx(o,{children:"b = 15"}),","," ",s.jsx(o,{children:"c = 17"}),s.jsx("br",{}),"Gives ",s.jsx(o,{children:"(8, 15, 17)"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"u = 4, v = 3"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"a = 24"}),", ",s.jsx(o,{children:"b = 7"}),","," ",s.jsx(o,{children:"c = 25"}),s.jsx("br",{}),"Gives ",s.jsx(o,{children:"(7, 24, 25)"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euclid's Approach"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euclid set out to solve a simpler problem: ",s.jsx("em",{children:"find two square numbers whose sum is also a square"})," (Elements, Book X). He started with the identity:"]}),s.jsx($,{children:"xy + \\left(\\frac{x-y}{2}\\right)^2 = \\left(\\frac{x+y}{2}\\right)^2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["He observed that it's enough to choose ",s.jsx(o,{children:"x"})," and"," ",s.jsx(o,{children:"y"})," so that ",s.jsx(o,{children:"xy"})," is a square. This happens when ",s.jsx(o,{children:"x"})," and"," ",s.jsx(o,{children:"y"})," are ",s.jsx("strong",{children:"similar plane numbers"}),":"]}),s.jsx($,{children:"x = u^2 w, \\quad y = v^2 w"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Complete Parameterization"}),s.jsxs(ne,{type:"success",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Parameterization of Pythagorean Triples:"})," Any Pythagorean triple is of the form"]}),s.jsx($,{children:"a = uvw, \\quad b = \\frac{u^2 - v^2}{2}w, \\quad c = \\frac{u^2 + v^2}{2}w"}),s.jsxs("p",{children:["for some natural numbers ",s.jsx(o,{children:"u"}),","," ",s.jsx(o,{children:"v"}),", and ",s.jsx(o,{children:"w"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why This Works"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euclid proved that ",s.jsx(o,{children:"xy"})," is a square only if"," ",s.jsx(o,{children:"x = u^2 w"})," and"," ",s.jsx(o,{children:"y = v^2 w"}),". The key insight uses"," ",s.jsx("strong",{children:"unique prime factorization"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-300 text-sm",children:["If ",s.jsx(o,{children:"x'"})," and ",s.jsx(o,{children:"y'"})," are"," ",s.jsx("em",{children:"relatively prime"})," (gcd = 1) and their product"," ",s.jsx(o,{children:"x'y'"})," is a square, then"," ",s.jsx(o,{children:"x'"})," and ",s.jsx(o,{children:"y'"})," must"," ",s.jsx("em",{children:"each"})," be squares. This follows from unique prime factorization: each prime exponent in a square must be even."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Primitive Triples"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["For ",s.jsx("em",{children:"primitive"})," Pythagorean triples (where"," ",s.jsx(o,{children:"\\gcd(a, b, c) = 1"}),"), we need additional conditions:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Primitive Pythagorean Triples"}),s.jsx("p",{className:"text-dark-200 mb-3",children:"Each primitive triple (suitably ordered) is:"}),s.jsx($,{children:"a = 2uv, \\quad b = u^2 - v^2, \\quad c = u^2 + v^2"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["where ",s.jsx(o,{children:"\\gcd(u, v) = 1"})," and one of"," ",s.jsx(o,{children:"u, v"})," is even, the other odd."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Euclid's formula"," ",s.jsx(o,{children:"a = 2uv, b = u^2 - v^2, c = u^2 + v^2"})," ","generates all Pythagorean triples."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The proof relies on"," ",s.jsx("strong",{children:"unique prime factorization"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Relatively prime"})," means"," ",s.jsx(o,{children:"\\gcd(x, y) = 1"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Primitive triples require ",s.jsx(o,{children:"\\gcd(u, v) = 1"})," ","with opposite parities."]})]})]})}),s.jsx(ve,{sectionId:30,questions:uJ})]})}function Pee(){return s.jsxs(je,{sectionId:31,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pythagorean Triples in Diophantus"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Pythagorean triples may be grouped into ",s.jsx("strong",{children:"classes"}),' where each member is an integer multiple of the smallest. These multiples represent the "same" triangle with different units of length. By using'," ",s.jsx("strong",{children:"rational numbers"}),", Diophantus found a simpler approach around 250 A.D."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Integers to Rationals"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The many integer triples ",s.jsx(o,{children:"(a, b, c)"}),' that are really the "same" can be condensed to a single'," ",s.jsx("strong",{children:"rational triple"})," ",s.jsx(o,{children:"(a/c, b/c, 1)"}),". If"," ",s.jsx(o,{children:"(a, b, c)"})," and"," ",s.jsx(o,{children:"(a', b', c')"})," are multiples of the same triple, then ",s.jsx(o,{children:"a/c = a'/c'"})," and"," ",s.jsx(o,{children:"b/c = b'/c'"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The problem of finding Pythagorean triples becomes: find"," ",s.jsx("strong",{children:"rational points"})," on the unit circle"," ",s.jsx(o,{children:"x^2 + y^2 = 1"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Diophantus's Geometric Method"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The brilliant idea is to use ",s.jsx("em",{children:"lines through a known point"}),". The point ",s.jsx(o,{children:"(-1, 0)"})," is obviously on the unit circle. If ",s.jsx(o,{children:"(x_0, y_0)"})," is any other rational point, the line between them has rational slope"," ",s.jsx(o,{children:"t = y_0 / (x_0 + 1)"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:[s.jsx("strong",{children:"Key Insight:"})," Conversely, if"," ",s.jsx(o,{children:"y = t(x + 1)"})," is any line through"," ",s.jsx(o,{children:"(-1, 0)"})," with ",s.jsx("em",{children:"rational"})," slope"," ",s.jsx(o,{children:"t"}),", then its second intersection with the unit circle is a ",s.jsx("em",{children:"rational"})," point!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Finding the Formula"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The intersection of ",s.jsx(o,{children:"y = t(x + 1)"})," with"," ",s.jsx(o,{children:"x^2 + y^2 = 1"})," occurs where:"]}),s.jsx($,{children:"x^2 + t^2(x + 1)^2 = 1"}),s.jsx("p",{className:"text-dark-200 my-4",children:"Expanding and using the quadratic formula:"}),s.jsx($,{children:"x^2(1 + t^2) + 2t^2 x + t^2 - 1 = 0"}),s.jsxs("p",{className:"text-dark-200 my-4",children:["One solution is ",s.jsx(o,{children:"x = -1"})," (the point we started from). The other solution gives:"]}),s.jsx($,{children:"x = \\frac{1 - t^2}{1 + t^2}"}),s.jsxs("p",{className:"text-dark-200 my-4",children:["And substituting back: ",s.jsx(o,{children:"y = t(x + 1)"}),":"]}),s.jsx($,{children:"y = t \\cdot \\frac{2}{1 + t^2} = \\frac{2t}{1 + t^2}"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 my-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Parameterization of Rational Pythagorean Triples"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["The nonzero rationals ",s.jsx(o,{children:"x"})," and"," ",s.jsx(o,{children:"y"})," such that"," ",s.jsx(o,{children:"x^2 + y^2 = 1"})," are exactly the pairs:"]}),s.jsx($,{children:"x = \\frac{1 - t^2}{1 + t^2}, \\quad y = \\frac{2t}{1 + t^2}"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["for rational numbers ",s.jsx(o,{children:"t \\neq 0, \\pm 1"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Euclid's Formula"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["By putting ",s.jsx(o,{children:"t = v/u"})," for integers"," ",s.jsx(o,{children:"u"})," and ",s.jsx(o,{children:"v"}),", we recover Euclid's formula:"]}),s.jsx($,{children:"x = \\frac{1 - v^2/u^2}{1 + v^2/u^2} = \\frac{u^2 - v^2}{u^2 + v^2}, \\quad y = \\frac{2v/u}{1 + v^2/u^2} = \\frac{2uv}{u^2 + v^2}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Clearing denominators gives the integer triple"," ",s.jsx(o,{children:"(2uv, u^2 - v^2, u^2 + v^2)"}),"exactly Euclid's formula!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rational Functions"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Parametric Equations"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The formulas"," ",s.jsxs(o,{children:["x = \\frac","{1-t^2}{1+t^2}"]}),","," ",s.jsxs(o,{children:["y = \\frac","{2t}{1+t^2}"]})," give parametric equations for the circle as ",s.jsx(o,{children:"t"})," varies over all reals (except ",s.jsx(o,{children:"(-1, 0)"}),")."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Rational Functions"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Functions built from a variable and constants by"," ",s.jsx(o,{children:"+, -, \\times, \\div"})," are called"," ",s.jsx("strong",{children:"rational functions"}),". They're simpler than sin and cos!"]})]})]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Rationalizing ",s.jsxs(o,{children:["\\sqrt","{1-x^2}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An important application: the irrational function"," ",s.jsxs(o,{children:["\\sqrt","{1-x^2}"]})," can be"," ",s.jsx("strong",{children:"rationalized"})," by substituting"," ",s.jsxs(o,{children:["x = \\frac","{1-t^2}{1+t^2}"]}),". Then:"]}),s.jsx($,{children:"\\sqrt{1 - x^2} = \\sqrt{1 - \\frac{(1-t^2)^2}{(1+t^2)^2}} = \\frac{2t}{1+t^2}"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["In contrast, ",s.jsxs(o,{children:["\\sqrt","{1-x^3}"]})," and"," ",s.jsxs(o,{children:["\\sqrt","{1-x^4}"]})," can ",s.jsx("em",{children:"not"})," be rationalized! This marks an important boundary between quadratic and higher-degree curves."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rational points"})," on"," ",s.jsx(o,{children:"x^2 + y^2 = 1"})," correspond to Pythagorean triples."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Lines through ",s.jsx(o,{children:"(-1, 0)"})," with rational slope"," ",s.jsx(o,{children:"t"})," hit the circle at rational points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Diophantus's formula uses only ",s.jsx("strong",{children:"one parameter"})," ",s.jsx(o,{children:"t"}),", simpler than Euclid's"," ",s.jsx(o,{children:"u, v, w"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["This method ",s.jsx("strong",{children:"rationalizes"})," ",s.jsxs(o,{children:["\\sqrt","{1-x^2}"]}),"useful in calculus."]})]})]})}),s.jsx(ve,{sectionId:31,questions:mJ})]})}function $ee(){return s.jsxs(je,{sectionId:32,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Rational Triangles"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["After the discovery of rational right-angled triangles, one might ask about ",s.jsx("strong",{children:"rational triangles in general"}),'. Any three rational numbers can be sides of a triangle, but a "rational triangle" should be rational in more than just its sides.']}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Rational Triangle"}),s.jsxs("p",{className:"text-dark-200",children:["A ",s.jsx("strong",{children:"rational triangle"})," is one with"," ",s.jsx("em",{children:"rational side lengths"})," and ",s.jsx("em",{children:"rational area"}),"."]}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:"Since Area =  base  height, a triangle with rational sides has rational area if and only if all its altitudes are rational."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Brahmagupta's Discovery"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Questions about rational triangles rarely occur in Greek mathematics. The first thorough treatment was by the Indian mathematician"," ",s.jsx("strong",{children:"Brahmagupta"})," in his ",s.jsx("em",{children:"Brahma-sphuta-siddhanta"})," of"," ",s.jsx("strong",{children:"628 A.D."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Parameterization of Rational Triangles"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Brahmagupta's Formula"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["A triangle with rational sides ",s.jsx(o,{children:"a, b, c"})," and rational area is of the form:"]}),s.jsx($,{children:"a = \\frac{u^2 + v^2}{v}, \\quad b = \\frac{u^2 + w^2}{w}, \\quad c = \\frac{u^2 - v^2}{v} + \\frac{u^2 - w^2}{w}"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["for some rational numbers ",s.jsx(o,{children:"u, v, w"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Key Insight"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Any rational triangle splits into two rational right-angled triangles."})," This follows from the parameterization of rational right-angled triangles."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The altitude ",s.jsx(o,{children:"h = 2u"})," splits side"," ",s.jsx(o,{children:"c"})," into segments"," ",s.jsxs(o,{children:["c_1 = \\frac","{u^2 - v^2}{v}"]})," and"," ",s.jsxs(o,{children:["c_2 = \\frac","{u^2 - w^2}{w}"]}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why It Works"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-300 text-sm mb-4",children:["For any triangle with rational sides ",s.jsx(o,{children:"a, b, c"}),", the altitude ",s.jsx(o,{children:"h"})," splits"," ",s.jsx(o,{children:"c"})," into segments"," ",s.jsx(o,{children:"c_1"})," and ",s.jsx(o,{children:"c_2"}),". By the Pythagorean theorem:"]}),s.jsx($,{children:"a^2 = c_1^2 + h^2, \\quad b^2 = c_2^2 + h^2"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["Subtracting:"," ",s.jsx(o,{children:"a^2 - b^2 = c_1^2 - c_2^2 = (c_1 - c_2)(c_1 + c_2)"}),". Since ",s.jsx(o,{children:"c_1 + c_2 = c"}),", we get"," ",s.jsx(o,{children:"c_1 - c_2 = (a^2 - b^2)/c"}),", which is rational."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Thus if the area (and hence the altitude ",s.jsx(o,{children:"h"}),") is also rational, the triangle splits into two rational right-angled triangles with sides ",s.jsx(o,{children:"c_1, h, a"})," and"," ",s.jsx(o,{children:"c_2, h, b"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Using Diophantus's Method"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["From Diophantus, any rational right-angled triangle with altitude"," ",s.jsx(o,{children:"2u"})," has sides:"]}),s.jsx($,{children:"\\frac{u^2 - v^2}{v}, \\quad 2u, \\quad \\frac{u^2 + v^2}{v}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Any ",s.jsx("em",{children:"two"})," such triangles (with the same altitude) have the form:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"First Triangle"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Sides:"," ",s.jsxs(o,{children:["\\frac","{u^2 - v^2}{v}",", 2u, \\frac","{u^2 + v^2}{v}"]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Second Triangle"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Sides:"," ",s.jsxs(o,{children:["\\frac","{u^2 - w^2}{w}",", 2u, \\frac","{u^2 + w^2}{w}"]})]})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"Putting them together (sharing the altitude) gives an arbitrary rational triangle."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Heronian Triangles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Triangles with rational (or integer) sides and rational (or integer) area are sometimes called ",s.jsx("strong",{children:"Heronian"}),", after the Greek mathematician Hero (first century A.D.)."]}),s.jsxs(ne,{type:"success",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Hero's Formula:"})," The area of a triangle with sides"," ",s.jsx(o,{children:"a, b, c"})," and semiperimeter"," ",s.jsx(o,{children:"s = (a + b + c)/2"})," is:"]}),s.jsx($,{children:"\\text{Area} = \\sqrt{s(s-a)(s-b)(s-c)}"})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"Hero's formula can be derived from Brahmagupta's parameterization. It defies the Greek geometric tradition by multiplying four lengthsusually rejected as physically meaningless!"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: (13, 14, 15)"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The triangle with sides 13, 14, 15 splits into two integer right-angled triangles:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("ul",{className:"space-y-2 text-dark-300 text-sm",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"(5, 12, 13)"}),"  a classic Pythagorean triple"]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"(9, 12, 15) = 3 \\times (3, 4, 5)"})]})]}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["The altitude is ",s.jsx(o,{children:"h = 12"}),", and side"," ",s.jsx(o,{children:"c = 14"})," is split into"," ",s.jsx(o,{children:"c_1 = 5"})," and"," ",s.jsx(o,{children:"c_2 = 9"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"rational triangle"})," has rational sides and rational area."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Brahmagupta"})," (628 A.D.) found a complete parameterization."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Every rational triangle ",s.jsx("strong",{children:"splits"})," into two rational right triangles."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hero's formula"})," gives area from side lengths."]})]})]})}),s.jsx(ve,{sectionId:32,questions:pJ})]})}function Bee(){return s.jsxs(je,{sectionId:33,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Rational Points on Quadratic Curves"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Diophantus's method for finding rational points on the circle extends to"," ",s.jsx("strong",{children:"any quadratic curve"})," with rational coefficients. The key idea: if we know ",s.jsx("em",{children:"one"})," rational point, we can find"," ",s.jsx("em",{children:"all"})," of them."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The General Method"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Lines Through a Known Point"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["If we know one rational point ",s.jsx(o,{children:"P"})," on a curve:"]}),s.jsxs("ul",{className:"space-y-2 text-dark-300 text-sm",children:[s.jsxs("li",{children:[" Any other rational point ",s.jsx(o,{children:"Q"})," gives a line"," ",s.jsx(o,{children:"PQ"})," with ",s.jsx("em",{children:"rational slope"}),"."]}),s.jsxs("li",{children:[" Conversely, any line through ",s.jsx(o,{children:"P"})," with rational slope meets the curve at a rational point."]})]})]}),s.jsxs(ne,{type:"success",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Rational Points on Quadratic Curves:"})," If a curve"," ",s.jsxs(o,{children:["\\mathcal","{K}"]})," is given by a quadratic equation with ",s.jsx("em",{children:"rational coefficients"}),", then its rational points consist of:"]}),s.jsxs("ol",{className:"list-decimal ml-6 mt-2 space-y-1",children:[s.jsxs("li",{children:["Any single rational point ",s.jsx(o,{children:"P"})]}),s.jsxs("li",{children:["The points where lines through ",s.jsx(o,{children:"P"})," with rational slope meet ",s.jsxs(o,{children:["\\mathcal","{K}"]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Rational Coefficients Matter"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider the curve ",s.jsxs(o,{children:["y = \\sqrt","{2}","x^2"]}),". It has one rational point ",s.jsx(o,{children:"(0, 0)"}),". The line"," ",s.jsx(o,{children:"y = x"})," through this point has slope 1 (rational). But it meets the curve again where ",s.jsxs(o,{children:["x = \\sqrt","{2}","x^2"]}),", that is, at ",s.jsxs(o,{children:["x = 1/\\sqrt","{2}"]}),"an"," ",s.jsx("em",{children:"irrational"})," point!"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This shows that ",s.jsx("strong",{children:"rational coefficients"})," are essential for the method to work."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Example: ",s.jsx(o,{children:"x^2 + 3y^2 = 1"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider the ellipse ",s.jsx(o,{children:"x^2 + 3y^2 = 1"}),". It has the obvious rational point ",s.jsx(o,{children:"(-1, 0)"}),". Taking the line"," ",s.jsx(o,{children:"y = t(x + 1)"})," through this point with rational slope ",s.jsx(o,{children:"t"}),":"]}),s.jsx($,{children:"x^2 + 3t^2(x+1)^2 = 1"}),s.jsxs("p",{className:"text-dark-200 my-4",children:["Since ",s.jsx(o,{children:"x = -1"})," is a root, we can factor and find the other intersection. The key insight: the coefficients are rational (built from ",s.jsx(o,{children:"t"}),"), so the other root is rational!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Curves with No Rational Points"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-red-400",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-3 text-red-400",children:["Example: ",s.jsx(o,{children:"x^2 + y^2 = 3"})]}),s.jsxs("p",{className:"text-dark-200",children:["This curve has ",s.jsx("strong",{children:"no rational points"}),". Here's why:"]})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Any rational point ",s.jsx(o,{children:"(u/w, v/w)"})," gives integers with ",s.jsx(o,{children:"u^2 + v^2 = 3w^2"}),". Assume"," ",s.jsx(o,{children:"\\gcd(u, v, w) = 1"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-300 text-sm",children:[s.jsxs("li",{children:[" If ",s.jsx(o,{children:"u, v"})," are both odd:"," ",s.jsxs(o,{children:["u^2 + v^2 \\equiv 2 \\pmod","{4}"]}),", but"," ",s.jsx(o,{children:"3w^2 \\equiv 0"})," or"," ",s.jsxs(o,{children:["3 \\pmod","{4}"]}),". Contradiction!"]}),s.jsxs("li",{children:[" If one of ",s.jsx(o,{children:"u, v"})," is odd, the other even:"," ",s.jsxs(o,{children:["u^2 + v^2 \\equiv 1 \\pmod","{4}"]}),". But"," ",s.jsx(o,{children:"3w^2"})," can't leave remainder 1. Contradiction!"]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Diophantus himself stated that"," ",s.jsx(o,{children:"x^2 + y^2 = 15"})," has no rational solutionthe same argument applies (since 15  3 mod 4)."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Hyperbolas: ",s.jsx(o,{children:"x^2 - dy^2 = 1"})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Rational Points"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The rational points (except ",s.jsx(o,{children:"(-1, 0)"}),") are:",s.jsx("br",{}),s.jsxs(o,{children:["x = \\frac","{1 + dt^2}{1 - dt^2}",", \\quad y = \\frac","{2t}{1 - dt^2}"]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Integer Points"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Finding ",s.jsx("em",{children:"integer"})," points is much harder! This leads to Pell's equation, studied in Chapters 8 and 9."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Infinitely Many or None"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["If a quadratic curve with rational coefficients has ",s.jsx("em",{children:"one"})," ","rational point, it has ",s.jsx("strong",{children:"infinitely many"}),", because there are infinitely many lines of rational slope through any point."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This is a remarkable dichotomy: a quadratic curve with rational coefficients either has ",s.jsx("strong",{children:"no"})," rational points or"," ",s.jsx("strong",{children:"infinitely many"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rational coefficients"})," are needed to find rational points via lines."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsx("span",{children:"One rational point + lines of rational slope = all rational points."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx(o,{children:"x^2 + y^2 = 3"})," has"," ",s.jsx("strong",{children:"no"})," rational points (mod 4 argument)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Quadratic curves have ",s.jsx("strong",{children:"zero or infinitely many"})," ","rational points."]})]})]})}),s.jsx(ve,{sectionId:33,questions:fJ})]})}function Lee(){return s.jsxs(je,{sectionId:34,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Rational Points on the Sphere"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The projection from line to circle generalizes to a beautiful technique called ",s.jsx("strong",{children:"stereographic projection"}),", which maps a plane onto a sphere. This gives us a way to find all rational points on the unit sphere ",s.jsx(o,{children:"x^2 + y^2 + z^2 = 1"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Stereographic Projection"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx(o,{children:"(x, y)"}),"-plane in"," ",s.jsx(o,{children:"(x, y, z)"}),"-space is mapped to the unit sphere by projection toward the ",s.jsx("strong",{children:'"north pole"'})," ",s.jsx(o,{children:"N = (0, 0, 1)"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-300 text-sm",children:["Each point ",s.jsx(o,{children:"P = (u, v)"})," in the plane is connected to ",s.jsx(o,{children:"N"})," by a line, which hits the sphere at a unique point ",s.jsx(o,{children:"P' = (p, q, r)"})," ","(other than ",s.jsx(o,{children:"N"}),")."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Formulas for Stereographic Projection"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Plane  Sphere"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["If ",s.jsx(o,{children:"P = (u, v)"})," is in the plane:"]}),s.jsx($,{children:"p = \\frac{2u}{u^2 + v^2 + 1}, \\quad q = \\frac{2v}{u^2 + v^2 + 1}, \\quad r = \\frac{u^2 + v^2 - 1}{u^2 + v^2 + 1}"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Sphere  Plane"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["If ",s.jsx(o,{children:"P' = (p, q, r)"})," is on the sphere:"]}),s.jsx($,{children:"u = \\frac{p}{1 - r}, \\quad v = \\frac{q}{1 - r}"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why It Works"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The line through ",s.jsx(o,{children:"N = (0, 0, 1)"})," and"," ",s.jsx(o,{children:"P = (u, v, 0)"})," has direction components"," ",s.jsx(o,{children:"u, v, -1"}),", hence parametric equations:"]}),s.jsx($,{children:"x = ut, \\quad y = vt, \\quad z = 1 - t"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Substituting into the sphere equation"," ",s.jsx(o,{children:"x^2 + y^2 + z^2 = 1"}),":"]}),s.jsx($,{children:"u^2 t^2 + v^2 t^2 + (1-t)^2 = 1"}),s.jsx($,{children:"t^2(u^2 + v^2 + 1) - 2t = 0"}),s.jsx($,{children:"t = 0 \\quad \\text{or} \\quad t = \\frac{2}{u^2 + v^2 + 1}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The solution ",s.jsx(o,{children:"t = 0"})," corresponds to"," ",s.jsx(o,{children:"N"}),". The other solution gives the formulas above."]}),s.jsxs(ne,{type:"success",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Rational Points on the Sphere:"})," The formulas show that"," ",s.jsx(o,{children:"p, q, r"})," are rational if and only if"," ",s.jsx(o,{children:"u"})," and ",s.jsx(o,{children:"v"})," are rational. Hence the rational points ",s.jsx(o,{children:"(p, q, r) \\neq (0, 0, 1)"})," ","on the unit sphere are:"]}),s.jsx($,{children:"p = \\frac{2u}{u^2 + v^2 + 1}, \\quad q = \\frac{2v}{u^2 + v^2 + 1}, \\quad r = \\frac{u^2 + v^2 - 1}{u^2 + v^2 + 1}"}),s.jsxs("p",{className:"mt-2",children:["for rational ",s.jsx(o,{children:"u"})," and ",s.jsx(o,{children:"v"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Sums of Three Squares"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Each rational point"," ",s.jsx(o,{children:"(a/d, b/d, c/d)"})," on the sphere corresponds to an integer quadruple ",s.jsx(o,{children:"(a, b, c, d)"})," such that:"]}),s.jsx($,{children:"a^2 + b^2 + c^2 = d^2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["So stereographic projection gives us a way to find"," ",s.jsx("strong",{children:"all"})," integer solutions to this equation!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Higher Dimensions"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"n-Dimensional Sphere"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The unit sphere in"," ",s.jsx(o,{children:"n"}),"-space has equation"," ",s.jsx(o,{children:"x_1^2 + x_2^2 + \\cdots + x_n^2 = 1"}),". Stereographic projection generalizes naturally."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"General Formulas"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Connect ",s.jsx(o,{children:"(0, \\ldots, 0, 1)"})," to"," ",s.jsxs(o,{children:["(u_1, \\ldots, u_","{n-1}",", 0)"]}),". The formulas generalize in the expected way."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"General Quadratic Surfaces"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The projection method extends to any surface given by a quadratic equation in ",s.jsx(o,{children:"x, y, z"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["As with curves, a quadratic surface with rational coefficients has either ",s.jsx("strong",{children:"no"})," rational points or"," ",s.jsx("strong",{children:"infinitely many"}),"."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:["For example, the sphere ",s.jsx(o,{children:"x^2 + y^2 + z^2 = 7"})," ","has ",s.jsx("strong",{children:"no"})," rational points (proved by considering remainders modulo 8)."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Stereographic projection"})," maps the plane to the sphere via lines through the north pole."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsx("span",{children:"Rational points in the plane correspond to rational points on the sphere."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["This gives all integer solutions to"," ",s.jsx(o,{children:"a^2 + b^2 + c^2 = d^2"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The method generalizes to ",s.jsx("strong",{children:"higher dimensions"})," and other quadratic surfaces."]})]})]})}),s.jsx(ve,{sectionId:34,questions:xJ})]})}function Uee(){return s.jsxs(je,{sectionId:35,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Area of Rational Right Triangles"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Given a rational right triangle ",s.jsx(o,{children:"(a, b, c)"})," with"," ",s.jsx(o,{children:"a^2 + b^2 = c^2"}),", what can we say about its area ",s.jsx(o,{children:"ab/2"}),`? This question leads to one of Fermat's most beautiful theorems and connects to his famous "Last Theorem."`]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Background"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Diophantus found many triangles whose area"," ",s.jsx(o,{children:"ab/2"})," is a square plus or minus various quantities. However, he ignored the possibility of the area being"," ",s.jsx("em",{children:"exactly"})," a square!"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Fibonacci (1225)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"First asked: is there a rational right triangle whose area is a perfect square?"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Fermat (1640)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Proved the answer is ",s.jsx("strong",{children:"no"})," using his method of infinite descent."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fermat's Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-red-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-red-400",children:"Fermat's Theorem on Rational Right Triangles"}),s.jsx("p",{className:"text-dark-200",children:s.jsx("strong",{children:"The area of a rational right triangle is not a square."})})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proof Strategy"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The proof uses ",s.jsx("strong",{children:"infinite descent"}),". If there were a rational right triangle with square area, we could find a"," ",s.jsx("em",{children:"smaller"})," one with the same propertyand repeat indefinitely, which is impossible."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["We may assume the sides are integers with no common prime divisor (by clearing denominators and canceling). If there's a rational right triangle with square area, there's a"," ",s.jsx("strong",{children:"primitive Pythagorean triple"})," ",s.jsx(o,{children:"(a, b, c)"})," with"," ",s.jsx(o,{children:"ab/2"})," a square."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Steps of the Proof"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-300 text-sm mb-4",children:"Using the formula for primitive Pythagorean triples:"}),s.jsx($,{children:"a = 2uv, \\quad b = u^2 - v^2, \\quad c = u^2 + v^2"}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"The area is:"}),s.jsx($,{children:"\\frac{ab}{2} = uv(u^2 - v^2) = uv(u-v)(u+v)"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The factors ",s.jsx(o,{children:"u, v, u-v, u+v"})," have no common prime divisor. If their product is a square, each factor must be a square (by unique prime factorization)."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This means ",s.jsx(o,{children:"u^2 - v^2 = (u-v)(u+v)"})," is a product of squares, hence also a square, say ",s.jsx(o,{children:"w^2"}),". Then:"]}),s.jsx($,{children:"v^2 + w^2 = u^2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["So ",s.jsx(o,{children:"(v, w, u)"})," is another Pythagorean triple! Continuing this analysis produces a"," ",s.jsx("strong",{children:"smaller"})," triangle with square areathe descent."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Remarkable Corollaries"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Corollary 1"}),s.jsxs("p",{className:"text-dark-200",children:["There are no natural numbers ",s.jsx(o,{children:"a, b, c"})," such that ",s.jsx(o,{children:"a^4 - b^4 = c^2"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof:"})," The triangle with sides"," ",s.jsx(o,{children:"a^4 - b^4"}),","," ",s.jsx(o,{children:"2a^2 b^2"}),","," ",s.jsx(o,{children:"a^4 + b^4"})," is a right triangle (check:"," ",s.jsx(o,{children:"(a^4 - b^4)^2 + (2a^2 b^2)^2 = (a^4 + b^4)^2"}),"). If ",s.jsx(o,{children:"a^4 - b^4 = c^2"}),", its area would be the square ",s.jsx(o,{children:"a^2 b^2 c^2"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Corollary 2: Special Case of Fermat's Last Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["There are no natural numbers ",s.jsx(o,{children:"x, y, z"})," such that ",s.jsx(o,{children:"x^4 + y^4 = z^4"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof:"})," If"," ",s.jsx(o,{children:"x^4 + y^4 = z^4"}),", then"," ",s.jsx(o,{children:"z^4 - y^4 = x^4 = (x^2)^2"}),", which contradicts Corollary 1."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Fermat's Last Theorem"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:["Fermat claimed to have proved that"," ",s.jsx(o,{children:"x^n + y^n = z^n"})," has no natural number solutions for any ",s.jsxs(o,{children:["n ",">"," 2"]}),". The case"," ",s.jsx(o,{children:"n = 4"})," follows from the theorem above. The general case was finally proved by Andrew Wiles in 1995!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The area of a rational right triangle is"," ",s.jsx("strong",{children:"never a perfect square"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Fermat proved this using ",s.jsx("strong",{children:"infinite descent"})," (1640)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["This implies ",s.jsx(o,{children:"a^4 - b^4 = c^2"})," has no natural number solutions."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["As a corollary, ",s.jsx(o,{children:"x^4 + y^4 = z^4"})," is impossiblea special case of Fermat's Last Theorem."]})]})]})}),s.jsx(ve,{sectionId:35,questions:gJ})]})}function Fee(){return s.jsxs(je,{sectionId:36,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion: Diophantus and His Legacy"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The last peak in classical Greek mathematics was reached by"," ",s.jsx("strong",{children:"Diophantus of Alexandria"}),", sometime between 150 A.D. and 300 A.D. His surviving work, the ",s.jsx("em",{children:"Arithmetica"}),", has inspired mathematicians for nearly two millennia."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Arithmetica"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["At first glance, the ",s.jsx("em",{children:"Arithmetica"}),` seems quite elementarya collection of solved problems about numbers with no general theorems and no apparent "depth" (later results don't depend on earlier ones, unlike Euclid's `,s.jsx("em",{children:"Elements"}),")."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This apparent simplicity is deceptive. The problems of Diophantus effectively illustrate general theorems, and some were deep enough to inspire ",s.jsx("strong",{children:"Fermat"})," and ",s.jsx("strong",{children:"Euler"}),", the greatest number theorists of the 17th and 18th centuries."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euler's Praise"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("p",{className:"text-dark-200 italic",children:'"Diophantus himself gives only the most special solutions of all the questions which he treats... But it must not be supposed that his method is restricted to these very special solutions... The actual methods which he uses for solving any of his problems are as general as those which are in use today; nay, we are obliged to admit that there is hardly any method yet invented in this kind of analysis of which there are not sufficiently distinct traces to be discovered in Diophantus."'}),s.jsx("p",{className:"text-dark-400 text-sm mt-3",children:" Leonhard Euler"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Diophantine Equations"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Equations to be solved in integers or rational numbers are now called"," ",s.jsx("strong",{children:"Diophantine equations"})," in his honor. The study of such equations combines algebra, geometry, and number theory in fascinating ways."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Linear Equations"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"ax + by = c"}),": solved completely using the Euclidean algorithm."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Quadratic Curves"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Rational points found using Diophantus's line method. Either 0 or  solutions."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Cubic Curves"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Much more mysterious! Can have any finite number of rational points."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Higher Degree"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Generally intractable. Fermat's Last Theorem took 350+ years to resolve!"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Power of Geometric Methods"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Diophantus's method of finding rational points on curves by using lines through known points is remarkably powerful. It shows that:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebra and geometry complement each other."})," Lines (geometry) give rational solutions (algebra)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"One solution generates all."})," For quadratic curves, a single rational point yields infinitely many."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rational numbers simplify integer problems."})," The parameter ",s.jsx(o,{children:"t"})," is cleaner than"," ",s.jsx(o,{children:"u, v, w"}),"."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connections to Modern Mathematics"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The study of rational points on curves has blossomed into one of the deepest areas of modern mathematics:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Elliptic Curves"}),s.jsx("p",{className:"text-xs text-dark-300",children:'Cubic curves with a rational point form groups under a geometric "addition" law.'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Mordell's Theorem"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The rational points on an elliptic curve form a finitely generated group (1922)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Wiles's Proof"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Fermat's Last Theorem was proved using deep connections to elliptic curves (1995)."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"BSD Conjecture"}),s.jsx("p",{className:"text-xs text-dark-300",children:"A million-dollar problem connecting rational points to analysisstill unsolved!"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What We've Learned in This Chapter"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Pythagorean triples"})," were known to the Babylonians 1800 years before Pythagoras."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Euclid"})," found a formula giving all triples, using unique prime factorization."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Diophantus"})," simplified by using rational numbers and geometric projection."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Brahmagupta"})," extended to general rational triangles (628 A.D.)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Fermat"})," proved the area of a rational right triangle is never a square."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"6."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Stereographic projection"})," extends these ideas to spheres and higher dimensions."]})]})]})}),s.jsx(ne,{type:"success",children:s.jsx("p",{children:"The ideas in this chapterunique factorization, rational points, infinite descentwill return throughout the rest of the book. They connect to trigonometry, complex numbers, conic sections, and beyond!"})}),s.jsx(ve,{sectionId:36,questions:bJ})]})}function Hee(){return s.jsxs(je,{sectionId:37,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Angle Measure"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The word ",s.jsx("em",{children:"trigonometry"}),' comes from the Greek for "triangle measurement." But Euclid never actually ',s.jsx("em",{children:"measures"})," angleshe compares them but doesn't assign numbers. This suggests that angle measure is a deep concept, perhaps beyond traditional geometry."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Mystery of Angle Measure"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euclid has theorems about equal angles, sums of angles, and one angle being twice anotherbut he never represents angles by numbers, lengths, or areas. The Greeks had some inkling of the depth of this concept when they tried unsuccessfully to ",s.jsx("strong",{children:"square the circle"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Squaring the circle amounts to constructing the number"," ",s.jsx(o,{children:"\\pi"}),", which is the area of the unit circle, half its circumference, and the natural measure of a straight angle (two right angles). So constructing ",s.jsx(o,{children:"\\pi"})," is a fundamental question about measuring angles!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Measuring Angles via Arc Length"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To measure an angle ",s.jsx(o,{children:"AOB"}),", we draw a unit circle centered at ",s.jsx(o,{children:"O"})," and define the angle's measure as the ",s.jsx("strong",{children:"length of the arc"})," between the rays."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Arc Length Definition"}),s.jsxs("p",{className:"text-dark-200",children:["The length of an arc from ",s.jsx(o,{children:"P"})," to"," ",s.jsx(o,{children:"Q"})," on the unit circle is defined as the"," ",s.jsx("strong",{children:"least upper bound"})," of the lengths of polygons"," ",s.jsx(o,{children:"P_1 P_2 \\ldots P_n"})," joining points on the arc in order."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This least upper bound exists by the ",s.jsx("strong",{children:"completeness"})," of the real numbers (Chapter 3). We can then define"," ",s.jsx(o,{children:"\\pi"})," as the length of a semicircle of radius 1."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Approximating ",s.jsx(o,{children:"\\pi"})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Biblical Approximation"}),s.jsxs("p",{className:"text-xs text-dark-300",children:['1 Kings 7:23 describes a "molten sea" 10 cubits across and 30 cubits around, implying ',s.jsx(o,{children:"\\pi = 3"}),". Too small!"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Archimedes (250 B.C.)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Used 96-sided polygons to prove"," ",s.jsxs(o,{children:["3\\frac","{10}{71}"," ","<"," \\pi ","<"," 3\\frac","{1}{7}"]}),", giving ",s.jsx(o,{children:"\\pi \\approx 3.14"}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Inner Polygons"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["A regular hexagon inscribed in a circle has perimeter 6, showing"," ",s.jsxs(o,{children:["\\pi ",">"," 3"]}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Outer Polygons"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Circumscribed polygons give upper bounds. Inner and outer bounds can be made arbitrarily close."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Radians vs. Degrees"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When angle measure equals arc length on the unit circle, we measure in"," ",s.jsx("strong",{children:"radians"}),". This is the natural choice for mathematics, though degrees (where a full circle = 360) are traditional."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\text{Full circle} = 2\\pi \\text{ radians} = 360"}),s.jsx($,{children:"\\text{Right angle} = \\frac{\\pi}{2} \\text{ radians} = 90"}),s.jsx($,{children:"\\text{Straight angle} = \\pi \\text{ radians} = 180"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Addition of Angles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When angles are added by joining them along a common ray, their arcs are joined at a common point. The key property is that arc length is"," ",s.jsx("strong",{children:"additive"}),":"]}),s.jsx($,{children:"\\text{length}(AC) = \\text{length}(AB) + \\text{length}(BC)"}),s.jsx("p",{className:"text-dark-200 my-6",children:"This follows from the definition as a least upper bound: any polygon inside the combined arc can be split at the joining point into polygons inside the two pieces."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Angle measure"})," is a deep concept that Euclid avoided."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["We define angle measure as ",s.jsx("strong",{children:"arc length"})," on the unit circle."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Arc length is defined via the ",s.jsx("strong",{children:"least upper bound"})," ","of inscribed polygon lengths."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\pi"})," is defined as the length of a semicircle (half the circumference)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Radians"})," are the natural unit for angle measure."]})]})]})}),s.jsx(ve,{sectionId:37,questions:yJ})]})}function Gee(){return s.jsxs(je,{sectionId:38,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Circular Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["We first meet ",s.jsx("strong",{children:"sine"})," and ",s.jsx("strong",{children:"cosine"})," as ratios of sides in right triangles. But this definition limits them to angles less than ",s.jsx(o,{children:"\\pi/2"}),". The circle gives us a way to extend them to all real numbers."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Triangle Definition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In a right triangle with angle ",s.jsx(o,{children:"\\theta"}),", adjacent side ",s.jsx(o,{children:"a"}),", opposite side"," ",s.jsx(o,{children:"b"}),", and hypotenuse ",s.jsx(o,{children:"c"}),":"]}),s.jsx($,{children:"\\cos\\theta = \\frac{a}{c}, \\qquad \\sin\\theta = \\frac{b}{c}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["These ratios depend only on ",s.jsx(o,{children:"\\theta"}),", not on the size of the triangle, because similar triangles have proportional sides."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Circular Definition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To extend cos and sin beyond acute angles, we use the"," ",s.jsx("strong",{children:"unit circle"}),". A point ",s.jsx(o,{children:"P"})," on the unit circle at angle ",s.jsx(o,{children:"\\theta"})," has coordinates:"]}),s.jsx($,{children:"P = (\\cos\\theta, \\sin\\theta)"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Key Extension"}),s.jsxs("p",{className:"text-dark-200",children:["This definition works for all ",s.jsx(o,{children:"\\theta"})," from"," ",s.jsx(o,{children:"0"})," to ",s.jsx(o,{children:"2\\pi"}),", and we extend further by making cos and sin ",s.jsx("strong",{children:"periodic"}),":"]}),s.jsx($,{children:"\\cos(\\theta + 2\\pi) = \\cos\\theta, \\qquad \\sin(\\theta + 2\\pi) = \\sin\\theta"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Pythagorean Identity"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Since ",s.jsx(o,{children:"(\\cos\\theta, \\sin\\theta)"})," lies on the unit circle ",s.jsx(o,{children:"x^2 + y^2 = 1"}),", we have:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:s.jsx($,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"})}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This allows us to express either function in terms of the other:"}),s.jsx($,{children:"\\cos\\theta = \\sqrt{1 - \\sin^2\\theta}, \\qquad \\sin\\theta = \\sqrt{1 - \\cos^2\\theta}"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Circular Functions?"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Rotation & Vibration"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["If ",s.jsx(o,{children:"P"})," moves around the circle at constant speed, its coordinates are cos and sin of time."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Simple Harmonic Motion"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The shadow of a rotating point under vertical light traces out"," ",s.jsx(o,{children:"x = \\cos\\theta"}),"the basis of musical tones."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Waves"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The graphs of cos and sin are ",s.jsx("em",{children:"sine waves"}),", fundamental to physics and engineering."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Addition Formulas"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["There are beautiful formulas for"," ",s.jsx(o,{children:"\\cos(\\theta + \\phi)"})," and"," ",s.jsx(o,{children:"\\sin(\\theta + \\phi)"}),"."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Transcendental Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The circular functions are ",s.jsx("strong",{children:"transcendental"}),"they cannot be expressed as algebraic functions (roots of polynomials). The key observation: ",s.jsx(o,{children:"y = \\sin x"})," meets the line"," ",s.jsx(o,{children:"y = 0"})," infinitely often (at"," ",s.jsx(o,{children:"x = n\\pi"})," for all integers"," ",s.jsx(o,{children:"n"}),"), but a polynomial can only have finitely many roots."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Any ",s.jsx("strong",{children:"periodic"})," function (where"," ",s.jsx(o,{children:"f(x + \\alpha) = f(x)"})," for some"," ",s.jsx(o,{children:"\\alpha \\neq 0"}),") is transcendental, because its graph meets horizontal lines infinitely often."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Fundamental Limit"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"One of the most important properties of the sine function is:"}),s.jsx($,{children:"\\lim_{\\theta \\to 0} \\frac{\\sin\\theta}{\\theta} = 1"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This can be seen geometrically: for small angles,"," ",s.jsxs(o,{children:["\\sin\\theta ","<"," \\theta ","<"," \\tan\\theta"]}),", which gives"," ",s.jsxs(o,{children:["\\cos\\theta ","<"," \\frac","{\\sin\\theta}{\\theta}"," ","<"," 1"]}),". As ",s.jsx(o,{children:"\\theta \\to 0"}),","," ",s.jsx(o,{children:"\\cos\\theta \\to 1"}),", so the ratio is squeezed to 1."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\cos\\theta"})," and"," ",s.jsx(o,{children:"\\sin\\theta"})," are coordinates of a point on the unit circle."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["They satisfy"," ",s.jsx(o,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["They are ",s.jsx("strong",{children:"periodic"})," with period"," ",s.jsx(o,{children:"2\\pi"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["They are ",s.jsx("strong",{children:"transcendental"}),", not algebraic."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\lim_","\\theta \\to 0"," \\sin\\theta/\\theta = 1"]})," ","is fundamental to calculus."]})]})]})}),s.jsx(ve,{sectionId:38,questions:vJ})]})}function Vee(){return s.jsxs(je,{sectionId:39,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Addition Formulas"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["After the Pythagorean identity"," ",s.jsx(o,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"}),", the most important relations between cos and sin are the"," ",s.jsx("strong",{children:"addition formulas"}),". These tell us how to compute cos and sin of a sum from the cos and sin of the parts."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Addition Formulas"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Addition Formulas for Cosine and Sine"}),s.jsx($,{children:"\\cos(\\theta + \\phi) = \\cos\\theta\\cos\\phi - \\sin\\theta\\sin\\phi"}),s.jsx($,{children:"\\sin(\\theta + \\phi) = \\sin\\theta\\cos\\phi + \\cos\\theta\\sin\\phi"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Geometric Proof"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The cosine formula can be proved by a clever geometric construction. Consider a point ",s.jsx(o,{children:"C"})," at unit distance from"," ",s.jsx(o,{children:"O"})," at angle ",s.jsx(o,{children:"\\theta + \\phi"}),". We can decompose the horizontal distance ",s.jsx(o,{children:"\\cos(\\theta + \\phi)"})," ","by:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" First moving to angle ",s.jsx(o,{children:"\\phi"})," (distance"," ",s.jsx(o,{children:"\\cos\\phi"})," horizontally)"]}),s.jsxs("li",{children:[" Then rotating by ",s.jsx(o,{children:"\\theta"}),", which projects the horizontal and vertical components"]}),s.jsxs("li",{children:[" The result: ",s.jsx(o,{children:"\\cos\\theta\\cos\\phi - \\sin\\theta\\sin\\phi"})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"De Moivre's Formula"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["By a kind of miracle, both addition formulas unite in one simple formula using ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"De Moivre's Formula (1730)"}),s.jsx($,{children:"\\cos(\\theta + \\phi) + i\\sin(\\theta + \\phi) = (\\cos\\theta + i\\sin\\theta)(\\cos\\phi + i\\sin\\phi)"})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["If we abbreviate ",s.jsx(o,{children:"\\cos\\theta + i\\sin\\theta"})," as"," ",s.jsxs(o,{children:["\\text","{cis}","\\,\\theta"]}),", then the addition formulas become spectacularly simple:"," ",s.jsxs(o,{children:["\\text","{cis}","(\\theta + \\phi) = \\text","{cis}","\\,\\theta \\cdot \\text","{cis}","\\,\\phi"]}),". This multiplicative property hints at a connection to exponentials!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Double Angle Formulas"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Setting ",s.jsx(o,{children:"\\phi = \\theta"})," gives the"," ",s.jsx("strong",{children:"double angle formulas"}),":"]}),s.jsx($,{children:"\\cos 2\\theta = \\cos^2\\theta - \\sin^2\\theta"}),s.jsx($,{children:"\\sin 2\\theta = 2\\sin\\theta\\cos\\theta"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Using ",s.jsx(o,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"}),", the cosine formula can be rewritten:"]}),s.jsx($,{children:"\\cos 2\\theta = 2\\cos^2\\theta - 1 = 1 - 2\\sin^2\\theta"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Applications"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Multiple Angles"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"\\cos n\\theta"})," is a polynomial in"," ",s.jsx(o,{children:"\\cos\\theta"}),". Vite used this to solve 45th-degree equations!"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Calculus"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The addition formulas help prove that the derivative of"," ",s.jsx(o,{children:"\\sin x"})," is ",s.jsx(o,{children:"\\cos x"}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Vite's Product"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Repeated use gives ",s.jsxs(o,{children:["\\frac","{2}{\\pi}"," = \\cos\\frac","{\\pi}{4}","\\cos\\frac","{\\pi}{8}","\\cos\\frac","{\\pi}{16}","\\cdots"]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Triple Angle"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"\\cos 3\\theta = 4\\cos^3\\theta - 3\\cos\\theta"}),","," ",s.jsx(o,{children:"\\sin 3\\theta = 3\\sin\\theta - 4\\sin^3\\theta"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Calculus"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Using the addition formula for sine and the limits from Section 38:"}),s.jsx($,{children:"\\frac{\\sin(\\alpha + \\theta) - \\sin\\alpha}{\\theta} = \\sin\\alpha \\cdot \\frac{\\cos\\theta - 1}{\\theta} + \\cos\\alpha \\cdot \\frac{\\sin\\theta}{\\theta}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["As ",s.jsx(o,{children:"\\theta \\to 0"}),", this approaches"," ",s.jsx(o,{children:"\\cos\\alpha"}),". This shows that the"," ",s.jsx("strong",{children:"derivative"})," of ",s.jsx(o,{children:"\\sin x"})," at"," ",s.jsx(o,{children:"x = \\alpha"})," is ",s.jsx(o,{children:"\\cos\\alpha"}),". Similarly, the derivative of ",s.jsx(o,{children:"\\cos x"})," is"," ",s.jsx(o,{children:"-\\sin x"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsx("span",{children:s.jsx(o,{children:"\\cos(\\theta + \\phi) = \\cos\\theta\\cos\\phi - \\sin\\theta\\sin\\phi"})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsx("span",{children:s.jsx(o,{children:"\\sin(\\theta + \\phi) = \\sin\\theta\\cos\\phi + \\cos\\theta\\sin\\phi"})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"De Moivre's formula"})," unifies both using complex numbers."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Double angle:"})," ",s.jsx(o,{children:"\\cos 2\\theta = \\cos^2\\theta - \\sin^2\\theta"}),","," ",s.jsx(o,{children:"\\sin 2\\theta = 2\\sin\\theta\\cos\\theta"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:["These formulas are essential for ",s.jsx("strong",{children:"calculus"})," and higher mathematics."]})]})]})}),s.jsx(ve,{sectionId:39,questions:jJ})]})}function Wee(){return s.jsxs(je,{sectionId:40,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"A Rational Addition Formula"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The addition formulas for sine and cosine involve irrational functions. But there's a remarkable rational formula for ",s.jsx("strong",{children:"tangent"})," ","that connects beautifully to our earlier work on Pythagorean triples and rational points on the circle."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Half-Angle Substitution"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Recall from Section 31 that a point on the unit circle at angle"," ",s.jsx(o,{children:"\\theta"})," can be parameterized by the slope"," ",s.jsx(o,{children:"t = \\tan(\\theta/2)"})," of the line from"," ",s.jsx(o,{children:"(-1, 0)"}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-green-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-400",children:"Half-Angle Formulas"}),s.jsx($,{children:"\\cos\\theta = \\frac{1 - t^2}{1 + t^2}, \\qquad \\sin\\theta = \\frac{2t}{1 + t^2}"}),s.jsxs("p",{className:"text-dark-300 mt-3 text-sm",children:["where ",s.jsx(o,{children:"t = \\tan(\\theta/2)"})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This is exactly Diophantus's parametrization! When"," ",s.jsx(o,{children:"t"})," is rational, we get a rational point on the circle, which corresponds to a Pythagorean triple."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Tangent Addition Formula"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Using the addition formulas for sine and cosine, we can derive:"}),s.jsx($,{children:"\\tan(\\theta + \\phi) = \\frac{\\sin(\\theta + \\phi)}{\\cos(\\theta + \\phi)} = \\frac{\\tan\\theta + \\tan\\phi}{1 - \\tan\\theta\\tan\\phi}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This gives us a purely ",s.jsx("strong",{children:"rational"})," formula:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Rational Addition Formula"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["If the line through ",s.jsx(o,{children:"O"})," at angle"," ",s.jsx(o,{children:"\\theta"})," has slope ",s.jsx(o,{children:"s"})," ","and the line at angle ",s.jsx(o,{children:"\\phi"})," has slope"," ",s.jsx(o,{children:"t"}),", then the line at angle"," ",s.jsx(o,{children:"\\theta + \\phi"})," has slope:"]}),s.jsx($,{children:"\\frac{s + t}{1 - st}"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Solving the Babylonian Problem"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["With this formula, we can finally solve the problem the Babylonians were trying to solve with their table of Pythagorean triples (Plimpton 322). They were looking for ",s.jsx("strong",{children:"equally spaced rational points"})," on an arc of the unit circle."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Starting with a point that has a small angle ",s.jsx(o,{children:"\\theta"})," ","and a rational slope relative to ",s.jsx(o,{children:"O"}),", we can find points at angles ",s.jsx(o,{children:"2\\theta, 3\\theta, \\ldots"})," by repeated application of the formula."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Example: From (24, 7, 25)"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["Start with the Pythagorean triple ",s.jsx(o,{children:"(24, 7, 25)"}),", which has slope ",s.jsx(o,{children:"s = 7/24"})," at angle"," ",s.jsx(o,{children:"\\theta \\approx 16"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["The point at angle ",s.jsx(o,{children:"2\\theta"})," has slope:"]}),s.jsx($,{children:"t = \\frac{2s}{1 - s^2} = \\frac{2 \\times 7/24}{1 - 49/576} = \\frac{336}{527}"}),s.jsxs("p",{className:"text-dark-200 mt-3",children:["This corresponds to the triple ",s.jsx(o,{children:"(527, 336, 625)"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:'Pythagorean Triple "Multiplication"'}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Using complex numbers, we can view this as ",s.jsx("strong",{children:"multiplication"})," ","of Pythagorean triples:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" Replace ",s.jsx(o,{children:"(a, b, c)"})," by the point"," ",s.jsx(o,{children:"(a/c, b/c)"})," on the unit circle"]}),s.jsxs("li",{children:[" Think of ",s.jsx(o,{children:"(a/c, b/c)"})," as"," ",s.jsx(o,{children:"\\cos\\theta + i\\sin\\theta"})]}),s.jsx("li",{children:" Multiply two such numbers to get a new rational point"})]})}),s.jsx($,{children:"(a_1 + ib_1)(a_2 + ib_2) = a_3 + ib_3"}),s.jsxs("p",{className:"text-dark-200 my-6",children:['The product of two Pythagorean triples gives another Pythagorean triple! For example, the "square" of ',s.jsx(o,{children:"(3, 4, 5)"})," is"," ",s.jsx(o,{children:"(-7, 24, 25)"}),"."]}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"A Limitation:"})," We never return to the initial rational point by continuing this process. In fact, it is impossible to divide the circle into more than ",s.jsx("strong",{children:"four equal parts"})," by rational points!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Applications"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Plimpton 322"}),s.jsx("p",{className:"text-xs text-dark-300",children:'Some triples in the Babylonian tablet can be "factorized" as products of simpler triplesangles that are sums of smaller angles.'})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Integration"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The substitution ",s.jsx(o,{children:"t = \\tan(\\theta/2)"})," converts trigonometric integrals into rational function integrals."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Stereographic"}),s.jsx("p",{className:"text-xs text-dark-300",children:"This connects to stereographic projection from a sphere to a plane."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Number Theory"}),s.jsx("p",{className:"text-xs text-dark-300",children:'The "multiplication" of triples reveals deep connections between geometry and algebra.'})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsx("span",{children:s.jsxs(o,{children:["\\tan(\\theta + \\phi) = \\frac","{\\tan\\theta + \\tan\\phi}{1 - \\tan\\theta\\tan\\phi}"]})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Rational slopes add via"," ",s.jsx(o,{children:"(s + t)/(1 - st)"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Pythagorean triples can be ",s.jsx("strong",{children:'"multiplied"'})," using complex numbers."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["This solves the ",s.jsx("strong",{children:"Babylonian problem"})," of finding equally spaced rational points."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsx("span",{children:"The circle can only be divided into 2 or 4 equal parts by rational points."})]})]})}),s.jsx(ve,{sectionId:40,questions:wJ})]})}function Zee(){return s.jsxs(je,{sectionId:41,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Hilbert's Third Problem"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"})," This section covers more challenging material that connects trigonometry to a famous problem in geometry."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["Can a regular tetrahedron be cut into finitely many pieces and reassembled into a cube? This question, known as ",s.jsx("strong",{children:"Hilbert's Third Problem"}),", was one of 23 problems David Hilbert posed in 1900 as challenges for 20th century mathematicians."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Background: Scissors Congruence"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In Section 14, we saw that any two polygons of equal area can be cut into pieces and reassembled into each other. This is called"," ",s.jsx("strong",{children:"scissors congruence"})," or ",s.jsx("strong",{children:"equidecomposability"}),"."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Does the same hold in three dimensions? Can any two polyhedra of equal volume be cut and pasted into each other? This is the essence of Hilbert's Third Problem."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why This Problem Matters"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If the tetrahedron could be cut and pasted into a cube, we could develop a theory of volume using only ",s.jsx("strong",{children:"finite processes"}),"no need for limits or calculus. The impossibility of this means that three-dimensional volume is fundamentally more complex than two-dimensional area."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"2D: Solvable"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Any two polygons of equal area are scissors congruent. Area can be defined through finite dissection."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"3D: Not Solvable"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Polyhedra of equal volume need not be scissors congruent. Volume requires infinite processes (limits)."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dihedral Angles"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Dehn's solution focuses on ",s.jsx("strong",{children:"dihedral angles"}),"the angles between faces of a polyhedron. For a cube, all dihedral angles are"," ",s.jsx(o,{children:"\\pi/2"})," (right angles)."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"For a regular tetrahedron, we must calculate the dihedral angle. Using the Pythagorean theorem on the triangle formed by the edge and face midpoints:"}),s.jsx($,{children:"\\cos\\frac{\\alpha}{2} = \\frac{2}{\\sqrt{2}\\sqrt{3}}, \\quad \\text{so} \\quad \\cos\\alpha = 2\\cos^2\\frac{\\alpha}{2} - 1 = \\frac{1}{3}"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 my-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Tetrahedron Dihedral Angle"}),s.jsxs("p",{className:"text-dark-200",children:["The dihedral angle ",s.jsx(o,{children:"\\alpha"})," of a regular tetrahedron satisfies ",s.jsx(o,{children:"\\cos\\alpha = 1/3"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Key Insight"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['If a tetrahedron can be cut and pasted into a cube, we would need to "build" right angles (',s.jsx(o,{children:"\\pi/2"}),") from the tetrahedron's dihedral angles. But cuts can create new dihedral angles in the interior."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Dehn's genius was realizing that the relationship between these angles is governed by a deeper principle involving ",s.jsx("strong",{children:"rational independence"}),"and the addition formulas."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The question becomes: Is the dihedral angle ",s.jsx(o,{children:"\\alpha"})," ","(where ",s.jsx(o,{children:"\\cos\\alpha = 1/3"}),") a"," ",s.jsx("strong",{children:"rational multiple of "}),"? If not, something fundamental prevents the dissection."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Context"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Hilbert posed this problem in Paris in 1900. It was solved just a few months later by his student ",s.jsx("strong",{children:"Max Dehn"})," with surprisingly simple methods. It remains the most elementary of Hilbert's problems and one of the few that can be completely explained without advanced mathematics."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hilbert's Third Problem"}),": Can a tetrahedron be cut into a cube?"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"dihedral angle"})," of a regular tetrahedron has"," ",s.jsx(o,{children:"\\cos\\alpha = 1/3"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsx("span",{children:"This is fundamentally different from 2D, where equal-area polygons can always be dissected into each other."})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Dehn solved this problem in 1900 using ",s.jsx("strong",{children:"trigonometry"})," ","and ",s.jsx("strong",{children:"number theory"}),"."]})]})]})}),s.jsx(ve,{sectionId:41,questions:NJ})]})}function Yee(){return s.jsxs(je,{sectionId:42,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Dehn Invariant"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"})," This section introduces the Dehn invariant, a quantity that is preserved under cutting and pasting of polyhedra."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["Dehn solved Hilbert's Third Problem by discovering that volume is not the only thing conserved when cutting and pasting a polyhedron. He found another quantitynow called the ",s.jsx("strong",{children:"Dehn invariant"}),"that encodes the dihedral angles and edge lengths."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Dihedral Content"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An edge of length ",s.jsx(o,{children:"l"})," and dihedral angle"," ",s.jsx(o,{children:"\\alpha"})," contributes"," ",s.jsx(o,{children:"l \\otimes \\alpha"})," to the"," ",s.jsx("strong",{children:"dihedral content"}),". The total for a polyhedron is:"]}),s.jsx($,{children:"D(S) = l_1 \\otimes \\alpha_1 + l_2 \\otimes \\alpha_2 + \\cdots + l_k \\otimes \\alpha_k"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["where ",s.jsx(o,{children:"l_1, l_2, \\ldots, l_k"})," are edge lengths and"," ",s.jsx(o,{children:"\\alpha_1, \\alpha_2, \\ldots, \\alpha_k"})," are their dihedral angles."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rules for Cutting and Pasting"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"When we cut or paste a polyhedron, the Dehn invariant transforms according to three simple rules:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Rule 1: Splitting angles"}),s.jsx($,{children:"l \\otimes (\\alpha + \\beta) = l \\otimes \\alpha + l \\otimes \\beta"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-2",children:["When a cut splits a dihedral angle ",s.jsx(o,{children:"\\alpha + \\beta"})," ","into ",s.jsx(o,{children:"\\alpha"})," and ",s.jsx(o,{children:"\\beta"}),"."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Rule 2: Splitting edges"}),s.jsx($,{children:"(l + m) \\otimes \\alpha = l \\otimes \\alpha + m \\otimes \\alpha"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-2",children:["When a cut splits an edge of length ",s.jsx(o,{children:"l + m"}),"."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-purple-400 font-semibold mb-2",children:"Rule 3: Flat angles vanish"}),s.jsx($,{children:"l \\otimes \\pi = 0"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-2",children:["An edge with angle ",s.jsx(o,{children:"\\pi"})," is not a real edge."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: The Cube"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-amber-400",children:"Dehn Invariant of the Unit Cube"}),s.jsxs("p",{className:"text-dark-200 mb-3",children:["The cube has 12 edges, each of length 1 with dihedral angle"," ",s.jsx(o,{children:"\\pi/2"}),". So:"]}),s.jsx($,{children:"D(\\text{cube}) = 12 \\otimes \\frac{\\pi}{2}"}),s.jsxs("p",{className:"text-dark-200 mt-3",children:["But by Rule 1:"," ",s.jsxs(o,{children:["1 \\otimes \\frac","pi",2," + 1 \\otimes \\frac","pi",2," = 1 \\otimes \\pi = 0"]})]}),s.jsxs("p",{className:"text-dark-200 mt-2",children:["Therefore, ",s.jsxs(o,{children:["D(\\text","{cube}",") = 0"]}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Invariance Property"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Dehn's Key Result"}),s.jsxs("p",{className:"text-dark-200",children:["If two polyhedra ",s.jsx(o,{children:"P"})," and ",s.jsx(o,{children:"Q"})," ","are ",s.jsx("strong",{children:"equidecomposable"})," (can be cut and pasted into each other), then ",s.jsx(o,{children:"D(P) = D(Q)"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This means the Dehn invariant is a ",s.jsx("strong",{children:"necessary condition"})," ","for scissors congruence. If two polyhedra have different Dehn invariants, they cannot be cut into each other!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Mathematical Structure: Tensors"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The objects ",s.jsx(o,{children:"l \\otimes \\alpha"})," obeying Rules 1 and 2 are called ",s.jsx("strong",{children:"tensors"}),". The set of all such expressions is denoted ",s.jsxs(o,{children:["\\mathbb","{R}"," \\otimes \\mathbb","{R}","/\\pi\\mathbb","{Z}"]}),"the"," ",s.jsx("strong",{children:"tensor product"})," of real numbers and angles (where we treat ",s.jsx(o,{children:"\\pi"})," as equivalent to 0)."]}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"Tensor products are normally studied in advanced algebra, but Dehn proved what he needed from first principles. The simple rules hide deep mathematical structure."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"Dehn invariant"})," ",s.jsx(o,{children:"D(S) = \\sum l_i \\otimes \\alpha_i"})," is conserved under cutting and pasting."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Three rules govern how it transforms: angle splitting, edge splitting, and ",s.jsx(o,{children:"l \\otimes \\pi = 0"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The cube has Dehn invariant ",s.jsx("strong",{children:"0"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["If ",s.jsx(o,{children:"D(P) \\neq D(Q)"}),", then"," ",s.jsx(o,{children:"P"})," and ",s.jsx(o,{children:"Q"})," are"," ",s.jsx("strong",{children:"not equidecomposable"}),"."]})]})]})}),s.jsx(ve,{sectionId:42,questions:kJ})]})}function Xee(){return s.jsxs(je,{sectionId:43,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Additive Functions"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"})," This section introduces the concept of additive functions and their role in proving the Dehn invariant distinguishes non-equidecomposable polyhedra."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["To show that the tetrahedron and cube have ",s.jsx("em",{children:"different"})," Dehn invariants, we need to understand when tensors like"," ",s.jsx(o,{children:"l_1 \\otimes \\alpha_1 + \\cdots + l_k \\otimes \\alpha_k"})," ","can equal zero. The key tool is ",s.jsx("strong",{children:"additive functions"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Tensors to Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The nearest thing to a tensor"," ",s.jsx(o,{children:"l_1 \\otimes \\alpha_1 + \\cdots + l_k \\otimes \\alpha_k"})," ","in ordinary algebra is an expression"," ",s.jsx(o,{children:"l_1 f(\\alpha_1) + \\cdots + l_k f(\\alpha_k)"}),", where"," ",s.jsx(o,{children:"f"})," satisfies properties analogous to the tensor rules:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"f(\\alpha + \\beta) = f(\\alpha) + f(\\beta)"})," ","(additivity)"]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"f(\\pi) = 0"})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What Are Additive Functions?"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A function ",s.jsxs(o,{children:["f: \\mathbb","{R}"," \\to \\mathbb","{R}"]})," is"," ",s.jsx("strong",{children:"additive"})," if:"]}),s.jsx($,{children:"f(\\alpha + \\beta) = f(\\alpha) + f(\\beta)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The simplest additive functions are ",s.jsx(o,{children:"f(x) = kx"})," ","for constant ",s.jsx(o,{children:"k"}),". But if ",s.jsx(o,{children:"f(\\pi) = 0"})," ","as well, then ",s.jsx(o,{children:"k\\pi = 0"}),", so"," ",s.jsx(o,{children:"k = 0"}),". This gives only the trivial zero function!"]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The key insight: we don't need additive functions defined on"," ",s.jsx("em",{children:"all"})," of ",s.jsxs(o,{children:["\\mathbb","{R}"]}),". We only need them on ",s.jsx("strong",{children:"finite sets"})," of angles, and these can be constructed."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Bases Over "}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A ",s.jsx("strong",{children:"basis over "})," for a finite set"," ",s.jsx(o,{children:"S"})," of real numbers is a set"," ",s.jsx(o,{children:"\\{\\beta_1, \\beta_2, \\ldots, \\beta_n\\}"})," ","such that:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ol",{className:"space-y-3 text-dark-200 list-decimal list-inside",children:[s.jsxs("li",{children:["Each ",s.jsx(o,{children:"x"})," in ",s.jsx(o,{children:"S"})," is a"," ",s.jsx("strong",{children:"rational combination"}),":"," ",s.jsx(o,{children:"x = r_1\\beta_1 + r_2\\beta_2 + \\cdots + r_n\\beta_n"})]}),s.jsxs("li",{children:["The ",s.jsx(o,{children:"\\beta_i"})," are ",s.jsx("strong",{children:"rationally independent"}),":"," ",s.jsx(o,{children:"r_1\\beta_1 + \\cdots + r_n\\beta_n = 0"})," only if all ",s.jsx(o,{children:"r_i = 0"})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Any finite set of reals has such a basis. From it, we can define additive functions ",s.jsx(o,{children:"f_i(x) = r_i"})," that extract the coefficient of each basis element."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Rational Independence Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"Rational Independence Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsx(o,{children:"\\alpha_1, \\alpha_2, \\ldots, \\alpha_k"})," and"," ",s.jsx(o,{children:"\\pi"})," are ",s.jsx("strong",{children:"rationally independent"}),", then:"]}),s.jsx($,{children:"l_1 \\otimes \\alpha_1 + l_2 \\otimes \\alpha_2 + \\cdots + l_k \\otimes \\alpha_k = 0"}),s.jsxs("p",{className:"text-dark-200 mt-3",children:["only if ",s.jsx(o,{children:"l_1 = l_2 = \\cdots = l_k = 0"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This is the crucial link between rational independence and equidecomposability! If the dihedral angle ",s.jsx(o,{children:"\\alpha"})," of a tetrahedron is rationally independent of ",s.jsx(o,{children:"\\pi"}),", then"," ",s.jsx(o,{children:"l \\otimes \\alpha \\neq 0"})," for any"," ",s.jsx(o,{children:"l \\neq 0"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Application: Rectangle Dissection"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The same ideas apply to a simpler problem: can a rectangle with sides"," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," and ",s.jsxs(o,{children:["1/\\sqrt","{2}"]})," ","(area 1) be converted to a unit square by horizontal and vertical cuts?"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Using ",s.jsxs(o,{children:["\\mathbb","{R}"," \\otimes \\mathbb","{R}"]})," (tensors for rectangles), we can show it's ",s.jsx("strong",{children:"impossible"})," because"," ",s.jsxs(o,{children:["\\sqrt","{2}"]})," and ",s.jsx(o,{children:"1"})," are rationally independent."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Additive functions"})," satisfy"," ",s.jsx(o,{children:"f(\\alpha + \\beta) = f(\\alpha) + f(\\beta)"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["A ",s.jsx("strong",{children:"basis over "})," lets us construct useful additive functions on finite sets."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rational independence"})," of angles with"," ",s.jsx(o,{children:"\\pi"})," implies the tensor is nonzero."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["This links ",s.jsx("strong",{children:"number theory"})," to"," ",s.jsx("strong",{children:"equidecomposability"}),"."]})]})]})}),s.jsx(ve,{sectionId:43,questions:TJ})]})}function Kee(){return s.jsxs(je,{sectionId:44,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Tetrahedron and the Cube"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"})," This section completes Dehn's proof that a regular tetrahedron cannot be cut into a cube."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["We now have all the tools to prove ",s.jsx("strong",{children:"Dehn's Theorem"}),": the regular tetrahedron is not equidecomposable with the cube. The proof beautifully combines the addition formula for cosine with elementary number theory."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Setting Up the Proof"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"From Section 42, we know:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" The Dehn invariant of the ",s.jsx("strong",{children:"cube"})," is ",s.jsx(o,{children:"0"})]}),s.jsxs("li",{children:[" The Dehn invariant of the ",s.jsx("strong",{children:"tetrahedron"})," with unit edges is ",s.jsx(o,{children:"6 \\otimes \\alpha"}),", where"," ",s.jsx(o,{children:"\\cos\\alpha = 1/3"})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["From Section 43, we know that ",s.jsx(o,{children:"l \\otimes \\alpha \\neq 0"})," ","if ",s.jsx(o,{children:"l \\neq 0"})," and ",s.jsx(o,{children:"\\alpha"})," ","is rationally independent of ",s.jsx(o,{children:"\\pi"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-blue-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-blue-400",children:"What We Must Prove"}),s.jsxs("p",{className:"text-dark-200",children:["The dihedral angle ",s.jsx(o,{children:"\\alpha"})," of the regular tetrahedron (where ",s.jsx(o,{children:"\\cos\\alpha = 1/3"}),") is"," ",s.jsx("strong",{children:"not"})," a rational multiple of ",s.jsx(o,{children:"\\pi"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Proof Strategy"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"\\alpha = m\\pi/n"})," for some integers"," ",s.jsx(o,{children:"m"})," and ",s.jsx(o,{children:"n"}),", then"," ",s.jsx(o,{children:"n\\alpha = m\\pi"}),", so"," ",s.jsx(o,{children:"\\cos(n\\alpha) = \\pm 1"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We'll prove by ",s.jsx("strong",{children:"induction"})," that"," ",s.jsx(o,{children:"\\cos(n\\alpha) \\neq \\pm 1"})," for any positive integer"," ",s.jsx(o,{children:"n"}),". The key is showing:"]}),s.jsx($,{children:"\\cos(n\\alpha) = \\frac{q_n}{3^n}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["where ",s.jsx(o,{children:"q_n"})," is an integer ",s.jsx("strong",{children:"not divisible by 3"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Inductive Proof"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Base case:"})," ",s.jsx(o,{children:"\\cos\\alpha = 1/3 = q_1/3^1"}),", where ",s.jsx(o,{children:"q_1 = 1"})," is not divisible by 3. "]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Inductive step:"})," Assume the statement holds for all"," ",s.jsx(o,{children:"k \\leq n"}),". We use the identity:"]}),s.jsx($,{children:"\\cos((k+1)\\alpha) + \\cos((k-1)\\alpha) = 2\\cos(k\\alpha)\\cos\\alpha"}),s.jsx("p",{className:"text-dark-200 my-4",children:"which comes from adding the addition formulas:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\cos((k+1)\\alpha) = \\cos(k\\alpha)\\cos\\alpha - \\sin(k\\alpha)\\sin\\alpha"}),s.jsx($,{children:"\\cos((k-1)\\alpha) = \\cos(k\\alpha)\\cos\\alpha + \\sin(k\\alpha)\\sin\\alpha"})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["So:"," ",s.jsx(o,{children:"\\cos((k+1)\\alpha) = 2\\cos(k\\alpha)\\cos\\alpha - \\cos((k-1)\\alpha)"})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["By induction hypothesis:"," ",s.jsx(o,{children:"\\cos(k\\alpha) = q_k/3^k"})," and"," ",s.jsxs(o,{children:["\\cos((k-1)\\alpha) = q_","k-1","/3^","{k-1}"]}),"."]}),s.jsx($,{children:"\\cos((k+1)\\alpha) = \\frac{(2/3)q_k}{3^k} - \\frac{q_{k-1}}{3^{k-1}} = \\frac{2q_k - 9q_{k-1}}{3^{k+1}}"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Number Theory Step"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Let ",s.jsxs(o,{children:["q_","k+1"," = 2q_k - 9q_","k-1"]}),". Is"," ",s.jsxs(o,{children:["q_","k+1"]})," divisible by 3?"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" ",s.jsxs(o,{children:["9q_","k-1"]})," is divisible by 3"]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"2q_k"})," is NOT divisible by 3 (since"," ",s.jsx(o,{children:"q_k"})," is not divisible by 3)"]}),s.jsxs("li",{children:[" Therefore ",s.jsxs(o,{children:["2q_k - 9q_","k-1"]})," is NOT divisible by 3"]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Since ",s.jsx(o,{children:"q_n"})," is never divisible by 3, we have"," ",s.jsx(o,{children:"\\cos(n\\alpha) = q_n/3^n"})," is never"," ",s.jsx(o,{children:"\\pm 1"})," (which would require"," ",s.jsx(o,{children:"q_n = \\pm 3^n"}),")."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dehn's Theorem"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"Dehn's Theorem (1900)"}),s.jsx("p",{className:"text-dark-200",children:s.jsx("strong",{children:"The regular tetrahedron is not equidecomposable with the cube."})}),s.jsxs("p",{className:"text-dark-200 mt-3",children:["Proof: The dihedral angle ",s.jsx(o,{children:"\\alpha"})," is not a rational multiple of ",s.jsx(o,{children:"\\pi"}),", so"," ",s.jsx(o,{children:"6 \\otimes \\alpha \\neq 0"}),". But the cube has Dehn invariant 0. Since equidecomposable polyhedra have equal Dehn invariants, the tetrahedron and cube cannot be equidecomposable. "]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["This elegant proof combines ",s.jsx("strong",{children:"trigonometry"})," (the addition formula), ",s.jsx("strong",{children:"number theory"})," (divisibility by 3), and"," ",s.jsx("strong",{children:"abstract algebra"})," (tensors)a beautiful example of how mathematics connects seemingly disparate areas."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Key Takeaways"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\cos(n\\alpha) = q_n/3^n"})," where"," ",s.jsx(o,{children:"q_n"})," is never divisible by 3."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Therefore ",s.jsx(o,{children:"\\alpha"})," is not a rational multiple of ",s.jsx(o,{children:"\\pi"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The tetrahedron has Dehn invariant"," ",s.jsx(o,{children:"6 \\otimes \\alpha \\neq 0"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The cube has Dehn invariant 0, so they are ",s.jsx("strong",{children:"not equidecomposable"}),"."]})]})]})}),s.jsx(ve,{sectionId:44,questions:SJ})]})}function Qee(){return s.jsxs(je,{sectionId:45,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["In this chapter, we've explored ",s.jsx("strong",{children:"trigonometry"}),"the study of circular functions and their remarkable properties. Let's reflect on the key themes and their connections to broader mathematics."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Formulas for "}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Finding the value of ",s.jsx(o,{children:"\\pi"}),", the circumference of a circle with diameter 1, is one of the oldest problems in mathematics. The Greeks could only find approximations like Archimedes' bounds:"]}),s.jsx($,{children:"3\\frac{10}{71} < \\pi < 3\\frac{1}{7}"}),s.jsx("p",{className:"text-dark-200 my-6",children:"But around 1500 A.D., mathematicians in India discovered an exact infinite descriptionmiraculously simple:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 border-l-4 border-purple-400",children:[s.jsx("h4",{className:"text-lg font-semibold mb-3 text-purple-400",children:"The Leibniz Formula"}),s.jsx($,{children:"\\frac{\\pi}{4} = 1 - \\frac{1}{3} + \\frac{1}{5} - \\frac{1}{7} + \\cdots"}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:'"God loves odd numbers!"  Leibniz, upon rediscovering this formula'})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This beautiful formula expresses ",s.jsx(o,{children:"\\pi"})," as an alternating sum of reciprocals of odd numbersthe first exact description of ",s.jsx(o,{children:"\\pi"})," that transcends finite approximation."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Vite's Product"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Another remarkable formula comes from the half-angle identities. Franois Vite (1593) discovered:"}),s.jsx($,{children:"\\frac{2}{\\pi} = \\frac{\\sqrt{2}}{2} \\cdot \\frac{\\sqrt{2 + \\sqrt{2}}}{2} \\cdot \\frac{\\sqrt{2 + \\sqrt{2 + \\sqrt{2}}}}{2} \\cdots"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This was the ",s.jsx("strong",{children:"first infinite product"})," in mathematicsa pioneering step toward calculus."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Major Themes"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Circles & Angles"}),s.jsx("p",{className:"text-xs text-dark-300",children:"The unit circle gives meaning to sin and cos for all angles, not just those in right triangles."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Addition Formulas"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["The formulas for ",s.jsx(o,{children:"\\sin(\\theta + \\phi)"})," and"," ",s.jsx(o,{children:"\\cos(\\theta + \\phi)"})," unify in de Moivre's formula."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Rational Trigonometry"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Tangent gives a rational addition formula, connecting to Pythagorean triples and Diophantus."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Dehn's Theorem"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Trigonometry proves a tetrahedron cannot be cut into a cubea beautiful application to 3D geometry."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connections Across Mathematics"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Trigonometry is far more than a tool for surveying and navigation. It connects deeply to:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Complex Numbers:"})," De Moivre's formula shows"," ",s.jsxs(o,{children:["e^","{i\\theta}"," = \\cos\\theta + i\\sin\\theta"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Calculus:"})," The derivatives"," ",s.jsx(o,{children:"(\\sin x)' = \\cos x"})," and"," ",s.jsx(o,{children:"(\\cos x)' = -\\sin x"})," come from the addition formulas"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Number Theory:"})," Rational points on the circle, Pythagorean triples, rational independence"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Abstract Algebra:"})," The Dehn invariant introduces tensor products"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Physics:"})," Waves, vibrations, and harmonic motion are all described by circular functions"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:['The word "trigonometry" comes from Greek: ',s.jsx("em",{children:"trigonon"})," (triangle) +"," ",s.jsx("em",{children:"metron"})," (measure). But the subject has grown far beyond trianglesit is really about ",s.jsx("strong",{children:"periodic functions"})," and the"," ",s.jsx("strong",{children:"circle"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Looking Ahead"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In the next chapter, we'll explore ",s.jsx("strong",{children:"finite arithmetic"}),"the mathematics of clock arithmetic, modular systems, and the algebraic structures that arise when we compute with remainders. This will take us toward cryptography and deeper number theory."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Chapter Summary"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Angle measure"})," is defined via arc length on the unit circle, giving rise to radians."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Circular functions"})," cos and sin extend trigonometry to all real numbers and are transcendental."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"addition formulas"})," are the most important properties after ",s.jsx(o,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"tangent addition formula"})," is rational and connects to Pythagorean triples."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hilbert's Third Problem"})," was solved by Dehn using trigonometry and number theory."]})]})]})}),s.jsx(ve,{sectionId:45,questions:AJ})]})}function Jee(){return s.jsxs(je,{sectionId:46,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Three Examples"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Before diving into the formal theory of ",s.jsx("strong",{children:"finite arithmetic"}),", let's explore three familiar examples that motivate the subject. These examples show that arithmetic with remainders is both natural and useful."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Clock Arithmetic"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most intuitive example of finite arithmetic is the ",s.jsx("strong",{children:"clock"}),". When we add hours, we work modulo 12 (or 24). For example:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"If it's 10 o'clock now, what time will it be in 5 hours?"}),s.jsx($,{children:"10 + 5 = 15 \\equiv 3 \\pmod{12}"}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:`The answer is 3 o'clockwe "wrap around" after 12.`})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Similarly, days of the week cycle through 7 values. If today is Friday (day 5), what day is it in 10 days?"}),s.jsx($,{children:"5 + 10 = 15 \\equiv 1 \\pmod 7"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["So it's Monday (day 1). This is ",s.jsx("strong",{children:"arithmetic mod 7"}),"we only care about the remainder when dividing by 7."]}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"Calendar calculations are a rich source of modular arithmetic. The determination of Easter, for example, involves arithmetic mod 7 (for days), mod 19 (for the Metonic cycle), and mod 30 (for phases of the moon)."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Even and Odd Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The simplest example of modular arithmetic is ",s.jsx("strong",{children:"parity"}),"the distinction between even and odd numbers. This is arithmetic mod 2:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Even = 0"}),s.jsx("p",{className:"text-xs text-dark-300",children:"An even number has remainder 0 when divided by 2."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Odd = 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"An odd number has remainder 1 when divided by 2."})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"The familiar rules for parity follow from the arithmetic of 0 and 1 mod 2:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"even + even = even:"})," ",s.jsx(o,{children:"0 + 0 = 0"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"even + odd = odd:"})," ",s.jsx(o,{children:"0 + 1 = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"odd + odd = even:"})," ",s.jsx(o,{children:"1 + 1 = 0"})," (mod 2)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"even  anything = even:"})," ",s.jsx(o,{children:"0 \\times x = 0"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"odd  odd = odd:"})," ",s.jsx(o,{children:"1 \\times 1 = 1"})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Sums of Squares mod 4"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A deeper example involves ",s.jsx("strong",{children:"sums of squares"}),". Consider the question: which integers can be written as the sum of two squares?"]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Working mod 4 gives a powerful obstruction. Every perfect square has a specific form mod 4:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"0^2 = 0 \\equiv 0"})," (mod 4)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"1^2 = 1 \\equiv 1"})," (mod 4)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"2^2 = 4 \\equiv 0"})," (mod 4)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"3^2 = 9 \\equiv 1"})," (mod 4)"]})]}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"Every square is congruent to 0 or 1 mod 4."})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Therefore, a sum of two squares can only be congruent to:"}),s.jsx($,{children:"0 + 0 = 0, \\quad 0 + 1 = 1, \\quad 1 + 1 = 2 \\pmod 4"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 my-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Key Observation"}),s.jsxs("p",{className:"text-dark-200",children:["A sum of two squares is ",s.jsx("em",{children:"never"})," congruent to 3 mod 4. This means numbers like 3, 7, 11, 15, 19, ... cannot be expressed as sums of two squares."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["More generally, a number of the form ",s.jsx(o,{children:"4k + 3"})," ","cannot be a sum of two squares. This is our first glimpse of how modular arithmetic can prove things about ordinary integers!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Common Pattern"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"All three examples share a common structure:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ol",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["We fix a ",s.jsx("strong",{children:"modulus"})," ",s.jsx(o,{children:"n"})," (12 for hours, 7 for days, 2 for parity, 4 for sums of squares)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Two integers are considered ",s.jsx("strong",{children:"equivalent"})," if they differ by a multiple of ",s.jsx(o,{children:"n"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Addition and multiplication"})," are well-defined on equivalence classes"]})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In the next section, we'll make this precise using Gauss's powerful notation and develop the general theory of ",s.jsx("strong",{children:"arithmetic mod n"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The systematic study of modular arithmetic was initiated by"," ",s.jsx("strong",{children:"Carl Friedrich Gauss"})," in his masterwork"," ",s.jsx("em",{children:"Disquisitiones Arithmeticae"})," (1801), written when he was just 24 years old. This book transformed number theory into a rigorous mathematical discipline."]})}),s.jsx(ve,{sectionId:46,questions:EJ})]})}function ete(){return s.jsxs(je,{sectionId:47,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Arithmetic mod n"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Gauss introduced a precise notation for modular arithmetic that has become standard in mathematics. His insight was to focus on ",s.jsx("strong",{children:"equivalence classes"})," rather than individual numbers."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Congruence"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Let ",s.jsx(o,{children:"n"})," be a positive integer. We say"," ",s.jsx(o,{children:"a"})," is ",s.jsx("strong",{children:"congruent"})," to"," ",s.jsx(o,{children:"b"})," modulo ",s.jsx(o,{children:"n"}),", written"]}),s.jsx($,{children:"a \\equiv b \\pmod n"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["if ",s.jsx(o,{children:"n"})," divides ",s.jsx(o,{children:"a - b"}),". Equivalently, ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," ","leave the same remainder when divided by ",s.jsx(o,{children:"n"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The notation ",s.jsx(o,{children:"a \\equiv b \\pmod n"})," was introduced by Gauss in his ",s.jsx("em",{children:"Disquisitiones Arithmeticae"})," (1801). It emphasizes that congruence is an ",s.jsx("strong",{children:"equivalence relation"}),"like equality, but coarser."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["17 \\equiv 5 \\pmod",12]})," since"," ",s.jsx(o,{children:"17 - 5 = 12"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"-3 \\equiv 4 \\pmod 7"})," since"," ",s.jsx(o,{children:"-3 - 4 = -7"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["100 \\equiv 0 \\pmod",10]})," since"," ",s.jsx(o,{children:"10 \\mid 100"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"n \\equiv 0 \\pmod n"})," for any"," ",s.jsx(o,{children:"n"})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Properties of Congruence"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Congruence mod ",s.jsx(o,{children:"n"})," is an ",s.jsx("strong",{children:"equivalence relation"}),", meaning it satisfies three key properties:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Reflexive"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"a \\equiv a \\pmod n"})," for all"," ",s.jsx(o,{children:"a"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Symmetric"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["If ",s.jsx(o,{children:"a \\equiv b"}),", then"," ",s.jsx(o,{children:"b \\equiv a"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Transitive"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["If ",s.jsx(o,{children:"a \\equiv b"})," and"," ",s.jsx(o,{children:"b \\equiv c"}),", then"," ",s.jsx(o,{children:"a \\equiv c"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Arithmetic with Congruences"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The power of congruences comes from the fact that we can ",s.jsx("strong",{children:"add, subtract, and multiply"})," them like equations:"]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Arithmetic Rules"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["If ",s.jsx(o,{children:"a \\equiv b \\pmod n"})," and"," ",s.jsx(o,{children:"c \\equiv d \\pmod n"}),", then:"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"a + c \\equiv b + d \\pmod n"})," (addition)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"a - c \\equiv b - d \\pmod n"})," (subtraction)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"ac \\equiv bd \\pmod n"})," (multiplication)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"a^k \\equiv b^k \\pmod n"})," (powers)"]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["These rules let us simplify calculations. For example, to find"," ",s.jsxs(o,{children:["3^",100," \\pmod 7"]}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-2",children:["First note that ",s.jsx(o,{children:"3^2 = 9 \\equiv 2 \\pmod 7"})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Then ",s.jsx(o,{children:"3^3 = 3 \\cdot 9 \\equiv 3 \\cdot 2 = 6 \\equiv -1 \\pmod 7"})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["So ",s.jsx(o,{children:"3^6 \\equiv (-1)^2 = 1 \\pmod 7"})]}),s.jsxs("p",{className:"text-dark-200",children:["Since ",s.jsx(o,{children:"100 = 6 \\cdot 16 + 4"}),", we have"," ",s.jsxs(o,{children:["3^","{100}"," = (3^6)^","{16}"," \\cdot 3^4 \\equiv 1 \\cdot 81 \\equiv 4 \\pmod 7"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Residue Classes"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An equivalence relation partitions the integers into disjoint"," ",s.jsx("strong",{children:"equivalence classes"}),". For congruence mod"," ",s.jsx(o,{children:"n"}),", these are called ",s.jsx("strong",{children:"residue classes"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"For mod 3, the residue classes are:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsxs(o,{children:["[0]_3 = \\","{","\\ldots, -6, -3, 0, 3, 6, 9, \\ldots\\","}"]})}),s.jsx("li",{children:s.jsxs(o,{children:["[1]_3 = \\","{","\\ldots, -5, -2, 1, 4, 7, 10, \\ldots\\","}"]})}),s.jsx("li",{children:s.jsxs(o,{children:["[2]_3 = \\","{","\\ldots, -4, -1, 2, 5, 8, 11, \\ldots\\","}"]})})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Every integer belongs to exactly one of these three classes. We typically represent each class by its smallest non-negative member:"," ",s.jsx(o,{children:"0, 1, 2"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The set of residue classes mod ",s.jsx(o,{children:"n"})," is denoted"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," or"," ",s.jsxs(o,{children:["\\mathbb","{Z}","_n"]}),". It contains exactly"," ",s.jsx(o,{children:"n"})," elements: the classes"," ",s.jsx(o,{children:"[0], [1], \\ldots, [n-1]"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Division Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The foundation of modular arithmetic is the ",s.jsx("strong",{children:"division algorithm"}),": given integers ",s.jsx(o,{children:"a"})," and ",s.jsxs(o,{children:["n ",">"," 0"]}),", there exist unique integers ",s.jsx(o,{children:"q"})," (quotient) and"," ",s.jsx(o,{children:"r"})," (remainder) such that:"]}),s.jsx($,{children:"a = qn + r \\quad \\text{where } 0 \\le r < n"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The remainder ",s.jsx(o,{children:"r"})," is the unique representative of"," ",s.jsx(o,{children:"a"}),"'s residue class in the range"," ",s.jsxs(o,{children:["\\","{","0, 1, \\ldots, n-1\\","}"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"a \\equiv b \\pmod n"})," means"," ",s.jsx(o,{children:"n \\mid (a - b)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Congruence is an equivalence relation (reflexive, symmetric, transitive)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"We can add, subtract, and multiply congruences"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["There are exactly ",s.jsx(o,{children:"n"})," residue classes mod"," ",s.jsx(o,{children:"n"})]})]})]})]}),s.jsx(ve,{sectionId:47,questions:qJ})]})}function tte(){return s.jsxs(je,{sectionId:48,children:[s.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["The Ring ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The residue classes mod ",s.jsx(o,{children:"n"})," form an algebraic structure called a ",s.jsx("strong",{children:"ring"}),". Understanding this structure reveals why some modular arithmetic behaves like ordinary integersand some doesn't."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What is a Ring?"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200",children:["A ",s.jsx("strong",{children:"ring"})," is a set with two operations (addition and multiplication) satisfying:"]}),s.jsxs("ul",{className:"mt-3 space-y-2 text-dark-200",children:[s.jsx("li",{children:" Addition is commutative and associative"}),s.jsx("li",{children:" There's an additive identity (0) and additive inverses (-a)"}),s.jsx("li",{children:" Multiplication is associative"}),s.jsxs("li",{children:[" Distributive law: ",s.jsx(o,{children:"a(b + c) = ab + ac"})]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The integers ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," form a ring, and so do the residue classes ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," with operations defined by:"]}),s.jsx($,{children:"[a] + [b] = [a + b] \\quad \\text{and} \\quad [a] \\cdot [b] = [ab]"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Well-Defined Operations"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A key point is that these operations are ",s.jsx("strong",{children:"well-defined"}),": the result doesn't depend on which representative we choose for each class."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," In ",s.jsxs(o,{children:["\\mathbb","{Z}","/5\\mathbb","{Z}"]}),", we can compute ",s.jsx(o,{children:"[3] + [4]"})," using any representatives:"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:["Using 3 and 4: ",s.jsx(o,{children:"3 + 4 = 7 \\equiv 2"})]}),s.jsxs("li",{children:["Using 8 and -1: ",s.jsx(o,{children:"8 + (-1) = 7 \\equiv 2"})]}),s.jsxs("li",{children:["Using -2 and 9: ",s.jsx(o,{children:"-2 + 9 = 7 \\equiv 2"})]})]}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:"All give the same residue class [2]."})]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Arithmetic in ",s.jsxs(o,{children:["\\mathbb","{Z}","/5\\mathbb","{Z}"]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Here are the complete addition and multiplication tables for mod 5:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[s.jsx("h4",{className:"text-center font-semibold mb-3 text-blue-400",children:"Addition"}),s.jsxs("table",{className:"w-full text-center text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-dark-400",children:[s.jsx("th",{className:"p-2",children:"+"}),s.jsx("th",{className:"p-2",children:"0"}),s.jsx("th",{className:"p-2",children:"1"}),s.jsx("th",{className:"p-2",children:"2"}),s.jsx("th",{className:"p-2",children:"3"}),s.jsx("th",{className:"p-2",children:"4"})]})}),s.jsxs("tbody",{className:"text-dark-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"0"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"1"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"2"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"1"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"3"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"4"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"3"})]})]})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[s.jsx("h4",{className:"text-center font-semibold mb-3 text-green-400",children:"Multiplication"}),s.jsxs("table",{className:"w-full text-center text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-dark-400",children:[s.jsx("th",{className:"p-2",children:""}),s.jsx("th",{className:"p-2",children:"0"}),s.jsx("th",{className:"p-2",children:"1"}),s.jsx("th",{className:"p-2",children:"2"}),s.jsx("th",{className:"p-2",children:"3"}),s.jsx("th",{className:"p-2",children:"4"})]})}),s.jsxs("tbody",{className:"text-dark-200",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"0"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"1"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"4"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"2"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"3"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"3"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"1"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"2"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-2 text-dark-400",children:"4"}),s.jsx("td",{className:"p-2",children:"0"}),s.jsx("td",{className:"p-2",children:"4"}),s.jsx("td",{className:"p-2",children:"3"}),s.jsx("td",{className:"p-2",children:"2"}),s.jsx("td",{className:"p-2",children:"1"})]})]})]})]})]}),s.jsx(ne,{type:"success",children:s.jsxs("p",{children:["Notice in the multiplication table: every non-zero element appears in every row and column (except the 0 row/column). This means every non-zero element has a ",s.jsx("strong",{children:"multiplicative inverse"})," in"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/5\\mathbb","{Z}"]}),"!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Zero Divisors"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Something strange happens in ",s.jsxs(o,{children:["\\mathbb","{Z}","/6\\mathbb","{Z}"]}),". Consider the multiplication ",s.jsx(o,{children:"2 \\times 3 = 6 \\equiv 0"}),":"]}),s.jsx($,{children:"[2] \\cdot [3] = [0] \\quad \\text{in } \\mathbb{Z}/6\\mathbb{Z}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Neither 2 nor 3 is zero, yet their product is zero! Such elements are called ",s.jsx("strong",{children:"zero divisors"}),"."]}),s.jsxs("div",{className:"bg-red-900/30 border border-red-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200",children:["A ",s.jsx("strong",{children:"zero divisor"})," in a ring is a non-zero element"," ",s.jsx(o,{children:"a"})," such that ",s.jsx(o,{children:"ab = 0"})," ","for some non-zero ",s.jsx(o,{children:"b"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Zero divisors cause problems: if ",s.jsx(o,{children:"a"})," is a zero divisor, then ",s.jsx(o,{children:"a"})," cannot have a multiplicative inverse. (Why? If ",s.jsxs(o,{children:["a^","{-1}"]})," existed, then"," ",s.jsx(o,{children:"ab = 0"})," would imply"," ",s.jsxs(o,{children:["b = a^","{-1}","(ab) = 0"]}),".)"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When is Z/nZ a Field?"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Ring"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Has addition, subtraction, multiplication. May have zero divisors. Example: ",s.jsxs(o,{children:["\\mathbb","{Z}","/6\\mathbb","{Z}"]})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Field"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["A ring where every non-zero element has a multiplicative inverse. No zero divisors. Example: ",s.jsxs(o,{children:["\\mathbb","{Z}","/5\\mathbb","{Z}"]})]})]})]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 my-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Key Theorem"}),s.jsxs("p",{className:"text-dark-200",children:[s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," is a field if and only if ",s.jsx(o,{children:"n"})," is ",s.jsx("strong",{children:"prime"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When ",s.jsx(o,{children:"n = p"})," is prime, we often write"," ",s.jsxs(o,{children:["\\mathbb","{F}","_p"]})," or"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/p\\mathbb","{Z}"]})," and call it the"," ",s.jsx("strong",{children:"field with p elements"}),". These finite fields are fundamental in cryptography and coding theory."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," is a ring with"," ",s.jsx(o,{children:"n"})," elements"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Operations are well-defined on equivalence classes"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Zero divisors exist when ",s.jsx(o,{children:"n"})," is composite"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\mathbb","{Z}","/p\\mathbb","{Z}"]})," is a field when"," ",s.jsx(o,{children:"p"})," is prime"]})]})]})]}),s.jsx(ve,{sectionId:48,questions:IJ})]})}function ste(){return s.jsxs(je,{sectionId:49,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Inverses mod n"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Understanding when an element has a ",s.jsx("strong",{children:"multiplicative inverse"})," ","in ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," is crucial for modular arithmetic and its applications to cryptography."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What is a Multiplicative Inverse?"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200",children:["An element ",s.jsx(o,{children:"a"})," has a ",s.jsx("strong",{children:"multiplicative inverse"})," mod ",s.jsx(o,{children:"n"})," if there exists"," ",s.jsx(o,{children:"b"})," such that:"]}),s.jsx($,{children:"ab \\equiv 1 \\pmod n"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["We write ",s.jsxs(o,{children:["b = a^","{-1}"]})," and call it the"," ",s.jsx("strong",{children:"inverse of a mod n"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["3^","{-1}"," \\equiv 2 \\pmod 5"]})," because"," ",s.jsx(o,{children:"3 \\times 2 = 6 \\equiv 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["7^","{-1}"," \\equiv 7 \\pmod",48]})," because"," ",s.jsx(o,{children:"7 \\times 7 = 49 \\equiv 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"2"})," has no inverse mod 6 (since"," ",s.jsx(o,{children:"\\gcd(2, 6) = 2 \\neq 1"}),")"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When Does an Inverse Exist?"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx(o,{children:"a"})," has a multiplicative inverse mod"," ",s.jsx(o,{children:"n"})," if and only if"," ",s.jsx(o,{children:"\\gcd(a, n) = 1"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof sketch:"})," If ",s.jsx(o,{children:"\\gcd(a, n) = 1"}),", then by Bzout's identity there exist integers ",s.jsx(o,{children:"x, y"})," ","with ",s.jsx(o,{children:"ax + ny = 1"}),". Taking this equation mod"," ",s.jsx(o,{children:"n"})," gives ",s.jsx(o,{children:"ax \\equiv 1"}),", so"," ",s.jsx(o,{children:"x"})," is the inverse."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Conversely, if ",s.jsxs(o,{children:["d = \\gcd(a, n) ",">"," 1"]}),", then for any ",s.jsx(o,{children:"b"}),", the product ",s.jsx(o,{children:"ab"})," ","is divisible by ",s.jsx(o,{children:"d"}),", so"," ",s.jsx(o,{children:"ab \\not\\equiv 1 \\pmod n"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Finding Inverses with Extended Euclidean Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"extended Euclidean algorithm"})," not only computes"," ",s.jsx(o,{children:"\\gcd(a, n)"})," but also finds the coefficients in Bzout's identity, giving us the inverse."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Find ",s.jsxs(o,{children:["11^","{-1}"," \\pmod",26]})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Apply extended Euclidean algorithm to find"," ",s.jsx(o,{children:"\\gcd(26, 11)"}),":"]}),s.jsxs("ul",{className:"space-y-1 text-dark-300 text-sm font-mono",children:[s.jsx("li",{children:"26 = 2  11 + 4"}),s.jsx("li",{children:"11 = 2  4 + 3"}),s.jsx("li",{children:"4 = 1  3 + 1"}),s.jsx("li",{children:"3 = 3  1 + 0"})]}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Working backwards: ",s.jsx(o,{children:"1 = 4 - 1 \\times 3 = 4 - (11 - 2 \\times 4) = 3 \\times 4 - 11 = 3(26 - 2 \\times 11) - 11 = 3 \\times 26 - 7 \\times 11"})]}),s.jsxs("p",{className:"text-dark-200 mt-2",children:["So ",s.jsxs(o,{children:["-7 \\times 11 \\equiv 1 \\pmod",26]}),", meaning"," ",s.jsxs(o,{children:["11^","{-1}"," \\equiv -7 \\equiv 19 \\pmod",26]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Group of Units"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The elements of ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," that have inverses form a ",s.jsx("strong",{children:"group"})," under multiplication, called the"," ",s.jsx("strong",{children:"group of units"}),":"]}),s.jsx($,{children:"(\\mathbb{Z}/n\\mathbb{Z})^* = \\{a \\in \\mathbb{Z}/n\\mathbb{Z} : \\gcd(a, n) = 1\\}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The size of this group is given by ",s.jsx("strong",{children:"Euler's totient function"})," ",s.jsx(o,{children:"\\phi(n)"}),": the count of integers from 1 to"," ",s.jsx(o,{children:"n"})," that are coprime to ",s.jsx(o,{children:"n"}),"."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"(p)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["For prime ",s.jsx(o,{children:"p"}),":"," ",s.jsx(o,{children:"\\phi(p) = p - 1"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(p^k)"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsxs(o,{children:["\\phi(p^k) = p^","{k-1}","(p - 1)"]})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(mn)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["If ",s.jsx(o,{children:"\\gcd(m, n) = 1"}),":"," ",s.jsx(o,{children:"\\phi(mn) = \\phi(m)\\phi(n)"})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["(\\mathbb","{Z}","/5\\mathbb","{Z}",")^* = \\","{","1, 2, 3, 4\\","}"]})," ","with ",s.jsx(o,{children:"\\phi(5) = 4"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["(\\mathbb","{Z}","/8\\mathbb","{Z}",")^* = \\","{","1, 3, 5, 7\\","}"]})," ","with ",s.jsx(o,{children:"\\phi(8) = 4"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["(\\mathbb","{Z}","/12\\mathbb","{Z}",")^* = \\","{","1, 5, 7, 11\\","}"]})," ","with ",s.jsx(o,{children:"\\phi(12) = 4"})]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The group of units is central to ",s.jsx("strong",{children:"RSA cryptography"}),". The security of RSA relies on the difficulty of computing"," ",s.jsx(o,{children:"\\phi(n)"})," when ",s.jsx(o,{children:"n = pq"})," ","is a product of two large primes."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["a^","{-1}"]})," exists mod ",s.jsx(o,{children:"n"})," ","iff ",s.jsx(o,{children:"\\gcd(a, n) = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The extended Euclidean algorithm computes inverses"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["(\\mathbb","{Z}","/n\\mathbb","{Z}",")^*"]})," has"," ",s.jsx(o,{children:"\\phi(n)"})," elements"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\phi(p) = p - 1"})," for prime"," ",s.jsx(o,{children:"p"})]})]})]})]}),s.jsx(ve,{sectionId:49,questions:_J})]})}function ite(){return s.jsxs(je,{sectionId:50,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Theorems of Fermat and Wilson"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Two fundamental theorems about arithmetic modulo a prime"," ",s.jsx(o,{children:"p"})," reveal deep structure in the group of units. These results, due to Fermat and Wilson, are cornerstones of number theory."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fermat's Little Theorem"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Fermat's Little Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["If ",s.jsx(o,{children:"p"})," is prime and"," ",s.jsx(o,{children:"\\gcd(a, p) = 1"}),", then:"]}),s.jsx($,{children:"a^{p-1} \\equiv 1 \\pmod p"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Equivalently, for any integer ",s.jsx(o,{children:"a"}),":"]}),s.jsx($,{children:"a^p \\equiv a \\pmod p"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof:"})," Consider the ",s.jsx(o,{children:"p - 1"})," ","non-zero residues mod ",s.jsx(o,{children:"p"}),":"," ",s.jsx(o,{children:"1, 2, 3, \\ldots, p-1"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Multiply each by ",s.jsx(o,{children:"a"})," to get"," ",s.jsx(o,{children:"a, 2a, 3a, \\ldots, (p-1)a"}),". Since"," ",s.jsx(o,{children:"\\gcd(a, p) = 1"}),", multiplication by"," ",s.jsx(o,{children:"a"})," is a bijection on"," ",s.jsxs(o,{children:["(\\mathbb","{Z}","/p\\mathbb","{Z}",")^*"]}),". So this is just a rearrangement of ",s.jsx(o,{children:"1, 2, \\ldots, p-1"}),"."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Taking products:"}),s.jsx($,{children:"(a)(2a)(3a)\\cdots((p-1)a) \\equiv 1 \\cdot 2 \\cdot 3 \\cdots (p-1) \\pmod p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This gives ",s.jsxs(o,{children:["a^","{p-1}"," \\cdot (p-1)! \\equiv (p-1)!"]}),". Since ",s.jsx(o,{children:"(p-1)!"})," is coprime to ",s.jsx(o,{children:"p"}),", we can divide both sides to get ",s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1"]}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Applications"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Compute ",s.jsxs(o,{children:["2^","{100}"," \\pmod",13]})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["By Fermat's theorem, ",s.jsxs(o,{children:["2^","{12}"," \\equiv 1 \\pmod",13]})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Since ",s.jsx(o,{children:"100 = 12 \\times 8 + 4"}),":"]}),s.jsx($,{children:"2^{100} = (2^{12})^8 \\cdot 2^4 \\equiv 1^8 \\cdot 16 \\equiv 3 \\pmod{13}"})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Fermat's Little Theorem is the basis of ",s.jsx("strong",{children:"primality testing"}),". If ",s.jsxs(o,{children:["a^","{n-1}"," \\not\\equiv 1 \\pmod n"]})," for some"," ",s.jsx(o,{children:"a"}),", then ",s.jsx(o,{children:"n"})," is definitely composite."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Wilson's Theorem"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Wilson's Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["An integer ",s.jsxs(o,{children:["p ",">"," 1"]})," is prime if and only if:"]}),s.jsx($,{children:"(p-1)! \\equiv -1 \\pmod p"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof (for prime p):"})," In"," ",s.jsxs(o,{children:["(\\mathbb","{Z}","/p\\mathbb","{Z}",")^*"]}),", every element except 1 and ",s.jsx(o,{children:"-1"})," can be paired with its inverse (which is distinct from itself)."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"These pairs multiply to 1, so:"}),s.jsx($,{children:"(p-1)! = 1 \\cdot 2 \\cdot 3 \\cdots (p-1) \\equiv 1 \\cdot (-1) = -1 \\pmod p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["All the middle terms pair up and cancel (multiply to 1), leaving just"," ",s.jsx(o,{children:"1"})," and ",s.jsx(o,{children:"p - 1 \\equiv -1"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples of Wilson's Theorem"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"p = 5"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"4! = 24 = 5 \\times 5 - 1 \\equiv -1"})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 7"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"6! = 720 = 7 \\times 103 - 1 \\equiv -1"})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 11"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"10! = 3628800 \\equiv -1"})," (mod 11)"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Comparing the Two Theorems"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-dark-400 border-b border-dark-600",children:[s.jsx("th",{className:"text-left p-3",children:"Aspect"}),s.jsx("th",{className:"text-left p-3",children:"Fermat's Little Theorem"}),s.jsx("th",{className:"text-left p-3",children:"Wilson's Theorem"})]})}),s.jsxs("tbody",{className:"text-dark-200",children:[s.jsxs("tr",{className:"border-b border-dark-700",children:[s.jsx("td",{className:"p-3",children:"Statement"}),s.jsx("td",{className:"p-3",children:s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1"]})}),s.jsx("td",{className:"p-3",children:s.jsx(o,{children:"(p-1)! \\equiv -1"})})]}),s.jsxs("tr",{className:"border-b border-dark-700",children:[s.jsx("td",{className:"p-3",children:"Characterizes primes?"}),s.jsx("td",{className:"p-3",children:"No (pseudoprimes exist)"}),s.jsx("td",{className:"p-3",children:"Yes (if and only if)"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-3",children:"Practical for testing?"}),s.jsx("td",{className:"p-3",children:"Yes (fast to compute)"}),s.jsx("td",{className:"p-3",children:"No (factorial too large)"})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euler's Generalization"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Euler extended Fermat's theorem to composite moduli:"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Euler's Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["If ",s.jsx(o,{children:"\\gcd(a, n) = 1"}),", then:"]}),s.jsx($,{children:"a^{\\phi(n)} \\equiv 1 \\pmod n"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["When ",s.jsx(o,{children:"n = p"})," is prime,"," ",s.jsx(o,{children:"\\phi(p) = p - 1"}),", recovering Fermat's theorem. Euler's theorem is fundamental to RSA encryption."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Fermat: ",s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1 \\pmod p"]})," ","for ",s.jsx(o,{children:"\\gcd(a, p) = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Wilson: ",s.jsx(o,{children:"(p-1)! \\equiv -1 \\pmod p"})," iff"," ",s.jsx(o,{children:"p"})," is prime"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Euler generalizes Fermat:"," ",s.jsxs(o,{children:["a^","{\\phi(n)}"," \\equiv 1 \\pmod n"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"These theorems are essential for cryptography and primality testing"})]})]})]}),s.jsx(ve,{sectionId:50,questions:CJ})]})}function nte(){return s.jsxs(je,{sectionId:51,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Chinese Remainder Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The ",s.jsx("strong",{children:"Chinese Remainder Theorem"})," (CRT) is one of the oldest and most useful results in number theory. It tells us when we can solve simultaneous congruences with different moduli."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The theorem dates back to the 3rd century Chinese mathematician"," ",s.jsx("strong",{children:"Sun Zi"}),', who posed the problem: "Find a number that leaves remainder 2 when divided by 3, remainder 3 when divided by 5, and remainder 2 when divided by 7."']})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Theorem"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Chinese Remainder Theorem"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Let ",s.jsx(o,{children:"m_1, m_2, \\ldots, m_k"})," be pairwise coprime positive integers (i.e., ",s.jsx(o,{children:"\\gcd(m_i, m_j) = 1"})," ","for ",s.jsx(o,{children:"i \\neq j"}),"). Then the system of congruences:"]}),s.jsx($,{children:`\\begin{aligned}
x &\\equiv a_1 \\pmod{m_1} \\\\
x &\\equiv a_2 \\pmod{m_2} \\\\
&\\vdots \\\\
x &\\equiv a_k \\pmod{m_k}
\\end{aligned}`}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["has a ",s.jsx("strong",{children:"unique solution"})," modulo"," ",s.jsx(o,{children:"M = m_1 m_2 \\cdots m_k"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Sun Zi's Example"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Find ",s.jsx(o,{children:"x"})," such that:"]}),s.jsx($,{children:"x \\equiv 2 \\pmod 3, \\quad x \\equiv 3 \\pmod 5, \\quad x \\equiv 2 \\pmod 7"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 my-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Solution:"})," Let ",s.jsx(o,{children:"M = 3 \\times 5 \\times 7 = 105"})]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Define ",s.jsx(o,{children:"M_1 = M/3 = 35"}),","," ",s.jsx(o,{children:"M_2 = M/5 = 21"}),","," ",s.jsx(o,{children:"M_3 = M/7 = 15"})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Find inverses: ",s.jsxs(o,{children:["35^","{-1}"," \\equiv 2 \\pmod 3"]}),","," ",s.jsxs(o,{children:["21^","{-1}"," \\equiv 1 \\pmod 5"]}),","," ",s.jsxs(o,{children:["15^","{-1}"," \\equiv 1 \\pmod 7"]})]}),s.jsx("p",{className:"text-dark-200 mb-2",children:"Then:"}),s.jsx($,{children:"x = 2 \\cdot 35 \\cdot 2 + 3 \\cdot 21 \\cdot 1 + 2 \\cdot 15 \\cdot 1 = 140 + 63 + 30 = 233"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Reducing: ",s.jsxs(o,{children:["233 \\equiv 23 \\pmod",105]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Let's verify: ",s.jsx(o,{children:"23 = 7 \\times 3 + 2 \\equiv 2 \\pmod 3"}),","," ",s.jsx(o,{children:"23 = 4 \\times 5 + 3 \\equiv 3 \\pmod 5"}),","," ",s.jsx(o,{children:"23 = 3 \\times 7 + 2 \\equiv 2 \\pmod 7"}),". "]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"General Construction"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The proof gives an explicit formula. For each ",s.jsx(o,{children:"i"}),", define ",s.jsx(o,{children:"M_i = M/m_i"}),", and let"," ",s.jsx(o,{children:"y_i"})," be the inverse of"," ",s.jsx(o,{children:"M_i"})," mod ",s.jsx(o,{children:"m_i"}),"."]}),s.jsx($,{children:"x = \\sum_{i=1}^k a_i M_i y_i \\pmod M"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Each term ",s.jsx(o,{children:"a_i M_i y_i"})," is designed to contribute"," ",s.jsx(o,{children:"a_i"})," to the ",s.jsx(o,{children:"i"}),"-th congruence and 0 to all others."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Ring Isomorphism View"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The Chinese Remainder Theorem can be stated more elegantly as a"," ",s.jsx("strong",{children:"ring isomorphism"}),":"]}),s.jsx($,{children:"\\mathbb{Z}/M\\mathbb{Z} \\cong \\mathbb{Z}/m_1\\mathbb{Z} \\times \\mathbb{Z}/m_2\\mathbb{Z} \\times \\cdots \\times \\mathbb{Z}/m_k\\mathbb{Z}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This says that arithmetic mod ",s.jsx(o,{children:"M"}),' "decomposes" into independent arithmetic mod each ',s.jsx(o,{children:"m_i"}),"."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Forward Map"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"x \\mapsto (x \\bmod m_1, \\ldots, x \\bmod m_k)"})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Inverse Map"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Given by the CRT construction: recover"," ",s.jsx(o,{children:"x"})," from its remainders"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Applications"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"RSA Speedup:"})," Private key operations can be done mod ",s.jsx(o,{children:"p"})," and mod ",s.jsx(o,{children:"q"})," ","separately, then combined"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Parallel Computation:"})," Large problems decompose into smaller independent ones"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Secret Sharing:"})," Split a secret into shares that only reconstruct when combined"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Calendar Calculations:"})," Days, weeks, months involve coprime cycles"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Multiplicativity of "}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["CRT implies that Euler's totient function is ",s.jsx("strong",{children:"multiplicative"}),": if ",s.jsx(o,{children:"\\gcd(m, n) = 1"}),", then"]}),s.jsx($,{children:"\\phi(mn) = \\phi(m) \\phi(n)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This follows because the units"," ",s.jsxs(o,{children:["(\\mathbb","{Z}","/mn\\mathbb","{Z}",")^*"]})," correspond bijectively to pairs in"," ",s.jsxs(o,{children:["(\\mathbb","{Z}","/m\\mathbb","{Z}",")^* \\times (\\mathbb","{Z}","/n\\mathbb","{Z}",")^*"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"CRT: Simultaneous congruences with coprime moduli have unique solutions"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The solution is constructive via the formula"," ",s.jsx(o,{children:"x = \\sum a_i M_i y_i"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Algebraically:"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/mn\\mathbb","{Z}"," \\cong \\mathbb","{Z}","/m\\mathbb","{Z}"," \\times \\mathbb","{Z}","/n\\mathbb","{Z}"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"CRT is used in cryptography, computing, and calendar calculations"})]})]})]}),s.jsx(ve,{sectionId:51,questions:MJ})]})}function rte(){return s.jsxs(je,{sectionId:52,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Squares mod p"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Which elements of ",s.jsxs(o,{children:["(\\mathbb","{Z}","/p\\mathbb","{Z}",")^*"]})," ","are perfect squares? This question leads to the elegant theory of"," ",s.jsx("strong",{children:"quadratic residues"})," and the celebrated"," ",s.jsx("strong",{children:"quadratic reciprocity law"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Quadratic Residues"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200",children:["Let ",s.jsx(o,{children:"p"})," be an odd prime. A non-zero element"," ",s.jsx(o,{children:"a"})," mod ",s.jsx(o,{children:"p"})," is a"," ",s.jsx("strong",{children:"quadratic residue"})," if there exists"," ",s.jsx(o,{children:"x"})," such that"," ",s.jsx(o,{children:"x^2 \\equiv a \\pmod p"}),". Otherwise,"," ",s.jsx(o,{children:"a"})," is a ",s.jsx("strong",{children:"quadratic non-residue"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example: Squares mod 7"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["Computing ",s.jsx(o,{children:"x^2 \\pmod 7"})," for"," ",s.jsx(o,{children:"x = 1, 2, 3, 4, 5, 6"}),":"]}),s.jsxs("ul",{className:"space-y-1 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"1^2 = 1"})}),s.jsx("li",{children:s.jsx(o,{children:"2^2 = 4"})}),s.jsx("li",{children:s.jsx(o,{children:"3^2 = 9 \\equiv 2"})}),s.jsx("li",{children:s.jsx(o,{children:"4^2 = 16 \\equiv 2"})}),s.jsx("li",{children:s.jsx(o,{children:"5^2 = 25 \\equiv 4"})}),s.jsx("li",{children:s.jsx(o,{children:"6^2 = 36 \\equiv 1"})})]}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["Quadratic residues mod 7: ",s.jsxs(o,{children:["\\","{","1, 2, 4\\","}"]}),s.jsx("br",{}),"Non-residues: ",s.jsxs(o,{children:["\\","{","3, 5, 6\\","}"]})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Notice that we get exactly ",s.jsx(o,{children:"(p-1)/2 = 3"})," distinct squares. This is because ",s.jsx(o,{children:"x"})," and"," ",s.jsx(o,{children:"-x"})," give the same square."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Legendre Symbol"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["For odd prime ",s.jsx(o,{children:"p"})," and"," ",s.jsx(o,{children:"\\gcd(a, p) = 1"}),", the"," ",s.jsx("strong",{children:"Legendre symbol"})," is:"]}),s.jsx($,{children:`\\left(\\frac{a}{p}\\right) = \\begin{cases}
1 & \\text{if } a \\text{ is a quadratic residue mod } p \\\\
-1 & \\text{if } a \\text{ is a quadratic non-residue mod } p
\\end{cases}`})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The Legendre symbol encodes whether ",s.jsx(o,{children:"a"})," is a square mod ",s.jsx(o,{children:"p"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euler's Criterion"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["For odd prime ",s.jsx(o,{children:"p"})," and"," ",s.jsx(o,{children:"\\gcd(a, p) = 1"}),":"]}),s.jsx($,{children:"\\left(\\frac{a}{p}\\right) \\equiv a^{(p-1)/2} \\pmod p"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof sketch:"})," By Fermat's theorem,"," ",s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1"]}),", so"," ",s.jsxs(o,{children:["a^","{(p-1)/2}"]})," is a square root of 1 mod"," ",s.jsx(o,{children:"p"}),". Since ",s.jsx(o,{children:"p"})," is prime, the only square roots of 1 are ",s.jsx(o,{children:"\\pm 1"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"a = x^2"}),", then"," ",s.jsxs(o,{children:["a^","{(p-1)/2}"," = x^","{p-1}"," \\equiv 1"]}),". Conversely, if ",s.jsx(o,{children:"a"})," is not a square, the result is"," ",s.jsx(o,{children:"-1"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"Is 2 a square mod 7?"}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["By Euler's criterion: ",s.jsxs(o,{children:["2^","{(7-1)/2}"," = 2^3 = 8 \\equiv 1 \\pmod 7"]})]}),s.jsxs("p",{className:"text-dark-200",children:["Yes! And indeed ",s.jsx(o,{children:"3^2 = 9 \\equiv 2 \\pmod 7"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Properties of the Legendre Symbol"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Multiplicative"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"(ab/p) = (a/p)(b/p)"})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Periodic"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"(a/p) = (a + p)/p)"})," (depends only on"," ",s.jsx(o,{children:"a \\bmod p"}),")"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"(-1/p)"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsxs(o,{children:["(-1/p) = (-1)^","{(p-1)/2}"]})})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The multiplicativity is particularly useful: to check if"," ",s.jsx(o,{children:"ab"})," is a square, we can check"," ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," separately."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Counting Quadratic Residues"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["For an odd prime ",s.jsx(o,{children:"p"}),":"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["There are exactly ",s.jsx(o,{children:"(p-1)/2"})," quadratic residues"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["There are exactly ",s.jsx(o,{children:"(p-1)/2"})," quadratic non-residues"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The product of two residues is a residue"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The product of two non-residues is a residue"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The product of a residue and non-residue is a non-residue"})]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["These rules are exactly like the multiplication rules for"," ",s.jsx(o,{children:"+1"})," and ",s.jsx(o,{children:"-1"}),", since the Legendre symbol takes those values!"]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["A quadratic residue mod ",s.jsx(o,{children:"p"})," is a perfect square in ",s.jsxs(o,{children:["(\\mathbb","{Z}","/p\\mathbb","{Z}",")^*"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The Legendre symbol ",s.jsx(o,{children:"(a/p) = \\pm 1"})," indicates square or non-square"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Euler's criterion: ",s.jsxs(o,{children:["(a/p) = a^","{(p-1)/2}"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The Legendre symbol is multiplicative"})]})]})]}),s.jsx(ve,{sectionId:52,questions:zJ})]})}function ate(){return s.jsxs(je,{sectionId:53,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Quadratic Character of 1 and 2"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"})," This section develops explicit formulas for when 1 and 2 are quadratic residues, preparing for the full quadratic reciprocity law."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["Before tackling the general reciprocity law, we determine when the specific numbers ",s.jsx(o,{children:"-1"})," and ",s.jsx(o,{children:"2"})," ","are squares modulo an odd prime ",s.jsx(o,{children:"p"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When is 1 a Square mod p?"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["For an odd prime ",s.jsx(o,{children:"p"}),":"]}),s.jsx($,{children:`\\left(\\frac{-1}{p}\\right) = (-1)^{(p-1)/2} = \\begin{cases}
1 & \\text{if } p \\equiv 1 \\pmod 4 \\\\
-1 & \\text{if } p \\equiv 3 \\pmod 4
\\end{cases}`})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Proof:"})," By Euler's criterion,"," ",s.jsxs(o,{children:["(-1/p) \\equiv (-1)^","{(p-1)/2}"," \\pmod p"]}),". Since the result is ",s.jsx(o,{children:"\\pm 1"})," and"," ",s.jsxs(o,{children:["p ",">"," 2"]}),", this congruence is an equality."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Now ",s.jsxs(o,{children:["(-1)^","{(p-1)/2}"," = 1"]})," iff"," ",s.jsx(o,{children:"(p-1)/2"})," is even, i.e.,"," ",s.jsx(o,{children:"4 \\mid (p-1)"}),", i.e.,"," ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"p = 5  1 (mod 4)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"2^2 = 4 \\equiv -1 \\pmod 5"}),s.jsx("br",{}),"Yes, 1 is a square"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 7  3 (mod 4)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["No ",s.jsx(o,{children:"x"})," with"," ",s.jsx(o,{children:"x^2 \\equiv -1 \\pmod 7"}),s.jsx("br",{}),"1 is not a square"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 13  1 (mod 4)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsxs(o,{children:["5^2 = 25 \\equiv -1 \\pmod",13]}),s.jsx("br",{}),"Yes, 1 is a square"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 11  3 (mod 4)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["No solution to"," ",s.jsxs(o,{children:["x^2 \\equiv -1 \\pmod",11]}),s.jsx("br",{}),"1 is not a square"]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{className:"mt-4",children:["This result connects to ",s.jsx("strong",{children:"Gaussian integers"}),":"," ",s.jsx(o,{children:"p"})," remains prime in"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})," iff"," ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"}),". When"," ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),", it splits as"," ",s.jsx(o,{children:"p = (a + bi)(a - bi)"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"When is 2 a Square mod p?"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["For an odd prime ",s.jsx(o,{children:"p"}),":"]}),s.jsx($,{children:`\\left(\\frac{2}{p}\\right) = (-1)^{(p^2-1)/8} = \\begin{cases}
1 & \\text{if } p \\equiv \\pm 1 \\pmod 8 \\\\
-1 & \\text{if } p \\equiv \\pm 3 \\pmod 8
\\end{cases}`})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This is more subtle than the case of 1. The exponent"," ",s.jsx(o,{children:"(p^2 - 1)/8"})," is always an integer for odd"," ",s.jsx(o,{children:"p"})," (since"," ",s.jsx(o,{children:"p^2 - 1 = (p-1)(p+1)"})," is divisible by 8)."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p = 7 \\equiv -1 \\pmod 8"}),":"," ",s.jsx(o,{children:"3^2 = 9 \\equiv 2"}),". Yes!"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p = 17 \\equiv 1 \\pmod 8"}),":"," ",s.jsx(o,{children:"6^2 = 36 \\equiv 2"}),". Yes!"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p = 3 \\equiv 3 \\pmod 8"}),": No square root of 2"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p = 5 \\equiv -3 \\pmod 8"}),": No square root of 2"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proof Idea for (2/p)"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The proof uses ",s.jsx("strong",{children:"Gauss's lemma"}),": Consider the set"," ",s.jsxs(o,{children:["S = \\","{","2, 4, 6, \\ldots, p-1\\","}"]})," (the positive even numbers less than ",s.jsx(o,{children:"p"}),")."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Count how many of these, when reduced mod ",s.jsx(o,{children:"p"})," to the range ",s.jsx(o,{children:"(-p/2, p/2)"}),", are negative. Call this count ",s.jsx(o,{children:"\\nu"}),". Then:"]}),s.jsx($,{children:"\\left(\\frac{2}{p}\\right) = (-1)^\\nu"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["A careful count shows ",s.jsx(o,{children:"\\nu = \\lfloor(p^2 - 1)/8\\rfloor \\bmod 2"}),", yielding the formula."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Summary"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-dark-400 border-b border-dark-600",children:[s.jsx("th",{className:"text-left p-3",children:"p mod 8"}),s.jsx("th",{className:"text-center p-3",children:"(1/p)"}),s.jsx("th",{className:"text-center p-3",children:"(2/p)"}),s.jsx("th",{className:"text-left p-3",children:"Example"})]})}),s.jsxs("tbody",{className:"text-dark-200",children:[s.jsxs("tr",{className:"border-b border-dark-700",children:[s.jsx("td",{className:"p-3",children:"1"}),s.jsx("td",{className:"text-center p-3 text-green-400",children:"+1"}),s.jsx("td",{className:"text-center p-3 text-green-400",children:"+1"}),s.jsx("td",{className:"p-3",children:"p = 17"})]}),s.jsxs("tr",{className:"border-b border-dark-700",children:[s.jsx("td",{className:"p-3",children:"3"}),s.jsx("td",{className:"text-center p-3 text-red-400",children:"1"}),s.jsx("td",{className:"text-center p-3 text-red-400",children:"1"}),s.jsx("td",{className:"p-3",children:"p = 3, 11"})]}),s.jsxs("tr",{className:"border-b border-dark-700",children:[s.jsx("td",{className:"p-3",children:"5"}),s.jsx("td",{className:"text-center p-3 text-green-400",children:"+1"}),s.jsx("td",{className:"text-center p-3 text-red-400",children:"1"}),s.jsx("td",{className:"p-3",children:"p = 5, 13"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-3",children:"7"}),s.jsx("td",{className:"text-center p-3 text-red-400",children:"1"}),s.jsx("td",{className:"text-center p-3 text-green-400",children:"+1"}),s.jsx("td",{className:"p-3",children:"p = 7"})]})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"(-1/p) = 1"})," iff"," ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"(2/p) = 1"})," iff"," ",s.jsx(o,{children:"p \\equiv \\pm 1 \\pmod 8"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"These are special cases of quadratic reciprocity"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The formulas connect to splitting of primes in quadratic fields"})]})]})]}),s.jsx(ve,{sectionId:53,questions:DJ})]})}function lte(){return s.jsxs(je,{sectionId:54,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Quadratic Reciprocity"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Section:"}),' Quadratic reciprocity is called "the most beautiful theorem in number theory" by many mathematicians. Gauss gave eight different proofs and called it the'," ",s.jsx("em",{children:"theorema aureum"})," (golden theorem)."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["Given two distinct odd primes ",s.jsx(o,{children:"p"})," and"," ",s.jsx(o,{children:"q"}),", the ",s.jsx("strong",{children:"quadratic reciprocity law"})," ",'relates the questions "Is ',s.jsx(o,{children:"p"})," a square mod"," ",s.jsx(o,{children:"q"}),'?" and "Is ',s.jsx(o,{children:"q"})," a square mod ",s.jsx(o,{children:"p"}),'?"']}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Quadratic Reciprocity Law"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Theorem (Gauss, 1796)"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["For distinct odd primes ",s.jsx(o,{children:"p"})," and"," ",s.jsx(o,{children:"q"}),":"]}),s.jsx($,{children:"\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2} \\cdot \\frac{q-1}{2}}"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This can be restated more explicitly: the two Legendre symbols"," ",s.jsx(o,{children:"(p/q)"})," and ",s.jsx(o,{children:"(q/p)"})," are:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Equal"})," if at least one of"," ",s.jsx(o,{children:"p, q \\equiv 1 \\pmod 4"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Opposite"})," if both"," ",s.jsx(o,{children:"p, q \\equiv 3 \\pmod 4"})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"p = 3, q = 7"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Both  3 (mod 4): signs are opposite",s.jsx("br",{}),s.jsx(o,{children:"(3/7) = -1"}),","," ",s.jsx(o,{children:"(7/3) = (1/3) = 1"}),s.jsx("br",{}),"Product: ",s.jsx(o,{children:"(-1)(1) = -1"})," "]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 5, q = 7"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["5  1 (mod 4): signs are equal",s.jsx("br",{}),s.jsx(o,{children:"(5/7)"})," and ",s.jsx(o,{children:"(7/5) = (2/5)"}),s.jsx("br",{}),"Both compute to ",s.jsx(o,{children:"-1"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 5, q = 11"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["5  1 (mod 4): signs are equal",s.jsx("br",{}),s.jsx(o,{children:"(5/11) = (11/5) = (1/5) = 1"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p = 11, q = 19"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Both  3 (mod 4): signs are opposite",s.jsx("br",{}),"Use reciprocity to compute one from the other"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Power of Reciprocity"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Reciprocity, combined with the formulas for ",s.jsx(o,{children:"(-1/p)"})," ","and ",s.jsx(o,{children:"(2/p)"}),", allows efficient computation of any Legendre symbol without finding square roots."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Compute ",s.jsx(o,{children:"(713/1009)"}),"where both are prime"]}),s.jsxs("p",{className:"text-dark-200 mb-2",children:["Since ",s.jsx(o,{children:"713 \\equiv 1 \\pmod 4"}),":"]}),s.jsx($,{children:"\\left(\\frac{713}{1009}\\right) = \\left(\\frac{1009}{713}\\right)"}),s.jsxs("p",{className:"text-dark-200 my-2",children:["Now ",s.jsxs(o,{children:["1009 \\equiv 296 \\pmod",713]}),":"]}),s.jsx($,{children:"= \\left(\\frac{296}{713}\\right) = \\left(\\frac{8}{713}\\right)\\left(\\frac{37}{713}\\right)"}),s.jsxs("p",{className:"text-dark-200 mt-2",children:["Continue reducing using ",s.jsx(o,{children:"(8/713) = (2/713)^3"})," ","and reciprocity for ",s.jsx(o,{children:"(37/713)"}),"..."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Significance"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Quadratic reciprocity was conjectured by Euler and Legendre, but first proved by Gauss at age 18. He later published eight different proofs, each revealing different aspects of the theorem."}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"The quest to generalize quadratic reciprocity drove much of 19th and 20th century number theory, leading to class field theory and the Langlands programsome of the deepest mathematics ever created."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Complete Package"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'Together with the "supplementary laws" for 1 and 2, quadratic reciprocity gives a complete algorithm:'}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ol",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsx("span",{children:s.jsxs(o,{children:["(-1/p) = (-1)^","{(p-1)/2}"]})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsx("span",{children:s.jsxs(o,{children:["(2/p) = (-1)^","{(p^2-1)/8}"]})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsx("span",{children:s.jsxs(o,{children:["(p/q)(q/p) = (-1)^","{\\frac{p-1}{2} \\cdot \\frac{q-1}{2}}"]})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["Multiplicativity: ",s.jsx(o,{children:"(ab/p) = (a/p)(b/p)"})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proof Idea"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["One elegant proof uses ",s.jsx("strong",{children:"Gauss sums"}),". Define the quadratic Gauss sum:"]}),s.jsx($,{children:"g = \\sum_{a=1}^{p-1} \\left(\\frac{a}{p}\\right) e^{2\\pi i a/p}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Then one can show ",s.jsxs(o,{children:["g^2 = (-1)^","{(p-1)/2}"," p"]}),", and by computing ",s.jsx(o,{children:"g^q \\pmod q"})," in two ways, the reciprocity law emerges."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["QR relates ",s.jsx(o,{children:"(p/q)"})," to"," ",s.jsx(o,{children:"(q/p)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The product equals ",s.jsxs(o,{children:["(-1)^","{(p-1)(q-1)/4}"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Equal signs unless both primes are  3 (mod 4)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"First proved by Gauss; central to modern number theory"})]})]})]}),s.jsx(ve,{sectionId:54,questions:RJ})]})}function ote(){return s.jsxs(je,{sectionId:55,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["In this chapter, we've explored ",s.jsx("strong",{children:"finite arithmetic"}),"the mathematics of computing with remainders. Let's reflect on the key themes and their remarkable connections."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Simple to Profound"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We began with the most elementary examples: clock arithmetic, even and odd numbers, and sums of squares. These led us naturally to Gauss's powerful congruence notation and the algebraic structure of"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]}),"."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The journey culminated in quadratic reciprocityone of the deepest theorems in elementary number theory. This progression from simple to profound is characteristic of great mathematics."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Major Themes"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Algebraic Structures"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," is a ring;"," ",s.jsxs(o,{children:["\\mathbb","{Z}","/p\\mathbb","{Z}"]})," is a field. The group of units has size ",s.jsx(o,{children:"\\phi(n)"}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Inverses & Primes"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsxs(o,{children:["a^","{-1}"]})," exists mod"," ",s.jsx(o,{children:"n"})," iff ",s.jsx(o,{children:"\\gcd(a,n) = 1"}),". Prime moduli have no zero divisors."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Fermat & Wilson"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1"]})," and"," ",s.jsx(o,{children:"(p-1)! \\equiv -1"})," reveal the structure of"," ",s.jsxs(o,{children:["(\\mathbb","{Z}","/p\\mathbb","{Z}",")^*"]}),"."]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"CRT"}),s.jsxs("p",{className:"text-xs text-dark-300",children:["Arithmetic mod ",s.jsx(o,{children:"mn"})," decomposes into independent parts when ",s.jsx(o,{children:"\\gcd(m,n) = 1"}),"."]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Beauty of Quadratic Residues"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The study of squares mod ",s.jsx(o,{children:"p"}),' led to the Legendre symbol and quadratic reciprocity. The reciprocity law is remarkable: it relates "Is ',s.jsx(o,{children:"p"})," a square mod"," ",s.jsx(o,{children:"q"}),'?" to "Is ',s.jsx(o,{children:"q"})," a square mod ",s.jsx(o,{children:"p"}),'?"two apparently independent questions!']}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2} \\cdot \\frac{q-1}{2}}"}),s.jsx("p",{className:"text-dark-300 text-sm mt-3 text-center",children:"The golden theorem of number theory"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connections"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Cryptography:"})," RSA, Diffie-Hellman, and elliptic curve cryptography all rely on modular arithmetic"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Computer Science:"})," Hash functions, checksums, and random number generators use modular arithmetic"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-purple-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Abstract Algebra:"})," Finite fields are central to coding theory and algebraic geometry"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebraic Number Theory:"})," Quadratic reciprocity generalizes to class field theory"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Gauss's ",s.jsx("em",{children:"Disquisitiones Arithmeticae"})," (1801) founded modern number theory. In it, he developed the theory of congruences, quadratic forms, and quadratic reciprocity. He was just 24 years old."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Looking Ahead"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The next chapter explores ",s.jsx("strong",{children:"complex numbers"}),"another way to extend our number systems. We'll see how complex numbers connect to geometry, how Gaussian integers refine our understanding of primes, and how the fundamental theorem of algebra crowns our number systems."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Chapter Summary"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6",children:s.jsxs("ol",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Congruence"})," ",s.jsx(o,{children:"a \\equiv b \\pmod n"})," means"," ",s.jsx(o,{children:"n \\mid (a - b)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\mathbb","{Z}","/n\\mathbb","{Z}"]})," is a ring; it's a field when ",s.jsx(o,{children:"n"})," is prime"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["Inverses exist exactly when ",s.jsx(o,{children:"\\gcd(a, n) = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Fermat:"})," ",s.jsxs(o,{children:["a^","{p-1}"," \\equiv 1 \\pmod p"]}),";"," ",s.jsx("strong",{children:"Wilson:"})," ",s.jsx(o,{children:"(p-1)! \\equiv -1 \\pmod p"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"5."}),s.jsxs("span",{children:[s.jsx("strong",{children:"CRT:"})," Simultaneous congruences with coprime moduli have unique solutions"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"6."}),s.jsxs("span",{children:[s.jsx("strong",{children:"Quadratic reciprocity"})," relates squares mod"," ",s.jsx(o,{children:"p"})," to squares mod ",s.jsx(o,{children:"q"})]})]})]})}),s.jsx(ve,{sectionId:55,questions:OJ})]})}function cte(){return s.jsxs(je,{sectionId:56,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Addition, Multiplication, and Absolute Value"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Complex numbers are objects of the form ",s.jsx(o,{children:"a + bi"}),", where ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"})," are real numbers and ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]}),". They extend our number system in a beautiful way, uniting algebra and geometry."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Mathematicians worried about what ",s.jsxs(o,{children:["\\sqrt","{-1}"]})," ",'"really is" for centuries. As Hilbert said: "In mathematics, existence means freedom from contradiction." Complex numbers were accepted because they ',s.jsx("em",{children:"worked"}),", not because they could be defined easily."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Imaginary Unit"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We assume there exists a number ",s.jsx(o,{children:"i"})," with the property:"]}),s.jsx($,{children:"i^2 = -1"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The number ",s.jsx(o,{children:"i"})," behaves like any other number in arithmetic, except for this special property. A ",s.jsx("strong",{children:"complex number"})," ","is any expression ",s.jsx(o,{children:"a + bi"})," where"," ",s.jsxs(o,{children:["a, b \\in \\mathbb","{R}"]}),"."]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Real Part"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsxs(o,{children:["\\text","{Re}","(a + bi) = a"]})})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Imaginary Part"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsxs(o,{children:["\\text","{Im}","(a + bi) = b"]})})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Addition"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Addition of complex numbers is straightforwardjust add the real and imaginary parts separately:"}),s.jsx($,{children:"(a_1 + ib_1) + (a_2 + ib_2) = (a_1 + a_2) + i(b_1 + b_2)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["If we think of ",s.jsx(o,{children:"a + bi"})," as an ordered pair"," ",s.jsx(o,{children:"(a, b)"}),", addition is component-wise:"]}),s.jsx($,{children:"(a_1, b_1) + (a_2, b_2) = (a_1 + a_2, b_1 + b_2)"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Multiplication"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Multiplication is where ",s.jsx(o,{children:"i^2 = -1"})," becomes important. Using the distributive law:"]}),s.jsx($,{children:"(a_1 + ib_1)(a_2 + ib_2) = a_1a_2 + ia_1b_2 + ib_1a_2 + i^2b_1b_2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Since ",s.jsx(o,{children:"i^2 = -1"}),":"]}),s.jsx($,{children:"(a_1 + ib_1)(a_2 + ib_2) = (a_1a_2 - b_1b_2) + i(a_1b_2 + b_1a_2)"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Compute ",s.jsx(o,{children:"(2 + 3i)(1 + 4i)"})]}),s.jsx($,{children:"(2 + 3i)(1 + 4i) = 2 \\cdot 1 - 3 \\cdot 4 + i(2 \\cdot 4 + 3 \\cdot 1) = -10 + 11i"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Hamilton's Definition"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In 1833, Hamilton gave a rigorous definition of complex numbers as"," ",s.jsx("strong",{children:"ordered pairs"})," ",s.jsx(o,{children:"(a, b)"})," with specific addition and multiplication rules:"]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"(a_1, b_1) + (a_2, b_2) = (a_1 + a_2, b_1 + b_2)"}),s.jsx($,{children:"(a_1, b_1) \\times (a_2, b_2) = (a_1a_2 - b_1b_2, b_1a_2 + a_1b_2)"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["With this definition, ",s.jsx(o,{children:"i = (0, 1)"})," and"," ",s.jsx(o,{children:"(0, 1)^2 = (-1, 0)"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Absolute Value"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"absolute value"})," (or ",s.jsx("strong",{children:"modulus"}),") of a complex number is its distance from the origin in the complex plane:"]}),s.jsx($,{children:"|a + bi| = \\sqrt{a^2 + b^2}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This is just the Pythagorean theorem! The complex number"," ",s.jsx(o,{children:"a + bi"})," corresponds to the point"," ",s.jsx(o,{children:"(a, b)"}),", and its absolute value is the hypotenuse of the right triangle with legs"," ",s.jsx(o,{children:"a"})," and ",s.jsx(o,{children:"b"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Multiplicative Property"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Key Property"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["The absolute value is ",s.jsx("strong",{children:"multiplicative"}),":"]}),s.jsx($,{children:"|z_1 z_2| = |z_1| \\cdot |z_2|"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This is equivalent to the ",s.jsx("strong",{children:"Diophantus identity"}),":"]}),s.jsx($,{children:"(a_1^2 + b_1^2)(a_2^2 + b_2^2) = (a_1a_2 - b_1b_2)^2 + (a_1b_2 + b_1a_2)^2"}),s.jsx("p",{className:"text-dark-200 my-6",children:"Diophantus knew this identity in the 3rd century A.D.! He observed that the product of sums of two squares is itself a sum of two squares."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Complex Plane"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We visualize complex numbers as points in a plane, with the real part on the horizontal axis and the imaginary part on the vertical axis. This is called the ",s.jsx("strong",{children:"complex plane"})," or"," ",s.jsx("strong",{children:"Argand diagram"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"Addition is vector addition (parallelogram rule)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"Absolute value is distance from origin"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"Real numbers lie on the horizontal axis"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsx("span",{children:"Pure imaginary numbers lie on the vertical axis"})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Complex numbers: ",s.jsx(o,{children:"z = a + bi"})," with"," ",s.jsx(o,{children:"i^2 = -1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Addition: ",s.jsx(o,{children:"(a_1 + ib_1) + (a_2 + ib_2) = (a_1 + a_2) + i(b_1 + b_2)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Multiplication: ",s.jsx(o,{children:"(a_1 + ib_1)(a_2 + ib_2) = (a_1a_2 - b_1b_2) + i(a_1b_2 + b_1a_2)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Absolute value: ",s.jsxs(o,{children:["|a + bi| = \\sqrt","{a^2 + b^2}"]})," ","is multiplicative"]})]})]})]}),s.jsx(ve,{sectionId:56,questions:PJ})]})}function dte(){return s.jsxs(je,{sectionId:57,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Argument and the Square Root of 1"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The geometric picture of complex numbers becomes complete when we introduce the ",s.jsx("strong",{children:"argument"}),"the angle that a complex number makes with the positive real axis. This reveals the deep connection between multiplication and rotation."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Polar Form"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A complex number ",s.jsx(o,{children:"z = a + bi"})," can be written in"," ",s.jsx("strong",{children:"polar form"})," using its absolute value"," ",s.jsx(o,{children:"r = |z|"})," and its ",s.jsx("strong",{children:"argument"})," ",s.jsx(o,{children:"\\theta"}),":"]}),s.jsx($,{children:"z = r(\\cos\\theta + i\\sin\\theta)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Here ",s.jsxs(o,{children:["r = \\sqrt","{a^2 + b^2}"]})," is the distance from the origin, and ",s.jsx(o,{children:"\\theta"})," is the angle measured counterclockwise from the positive real axis."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"The conversion between forms:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"a = r\\cos\\theta"})}),s.jsx("li",{children:s.jsx(o,{children:"b = r\\sin\\theta"})}),s.jsx("li",{children:s.jsxs(o,{children:["r = \\sqrt","{a^2 + b^2}"]})}),s.jsxs("li",{children:[s.jsx(o,{children:"\\tan\\theta = b/a"})," (when ",s.jsx(o,{children:"a \\neq 0"}),")"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Multiplication in Polar Form"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Key Discovery"}),s.jsx("p",{className:"text-dark-200 mb-4",children:"When we multiply two complex numbers in polar form:"}),s.jsx($,{children:"r_1(\\cos\\theta_1 + i\\sin\\theta_1) \\cdot r_2(\\cos\\theta_2 + i\\sin\\theta_2) = r_1r_2(\\cos(\\theta_1 + \\theta_2) + i\\sin(\\theta_1 + \\theta_2))"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["Absolute values ",s.jsx("strong",{children:"multiply"}),", arguments ",s.jsx("strong",{children:"add"}),"!"]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This remarkable fact was discovered by Vite around 1590. It follows from the addition formulas for sine and cosine."}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Meaning of ",s.jsx(o,{children:"i"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In polar form, ",s.jsx(o,{children:"i"})," has absolute value 1 and argument ",s.jsx(o,{children:"\\pi/2"}),":"]}),s.jsx($,{children:"i = \\cos\\frac{\\pi}{2} + i\\sin\\frac{\\pi}{2}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Since multiplication by ",s.jsx(o,{children:"i"})," adds"," ",s.jsx(o,{children:"\\pi/2"})," to the argument:"]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Geometric Interpretation"}),s.jsx("p",{className:"text-dark-200",children:s.jsxs("strong",{children:["Multiplication by ",s.jsx(o,{children:"i"})," is rotation by 90 counterclockwise."]})})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This makes ",s.jsx(o,{children:"i^2 = -1"})," completely natural: two 90 rotations give a 180 rotation, which is multiplication by"," ",s.jsx(o,{children:"-1"}),"!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Powers of i"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The powers of ",s.jsx(o,{children:"i"})," cycle with period 4:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"i = 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"0 rotation"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"i = i"}),s.jsx("p",{className:"text-xs text-dark-300",children:"90 rotation"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"i = 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"180 rotation"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"i = i"}),s.jsx("p",{className:"text-xs text-dark-300",children:"270 rotation"})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Then ",s.jsx(o,{children:"i^4 = 1"}),", and the cycle repeats. To find"," ",s.jsx(o,{children:"i^n"}),", just reduce ",s.jsx(o,{children:"n"})," mod 4."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Roots of Unity"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"From the additive property of argument, we can find nth roots of 1:"}),s.jsx($,{children:"\\left(\\cos\\frac{2\\pi}{n} + i\\sin\\frac{2\\pi}{n}\\right)^n = \\cos 2\\pi + i\\sin 2\\pi = 1"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["So ",s.jsx(o,{children:"\\cos(2\\pi/n) + i\\sin(2\\pi/n)"})," is an"," ",s.jsx("strong",{children:"nth root of unity"}),". The nth roots of 1 are evenly spaced around the unit circle."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Examples:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:["Square roots of 1: ",s.jsx(o,{children:"1, -1"})]}),s.jsxs("li",{children:["Cube roots of 1: ",s.jsx(o,{children:"1, \\omega, \\omega^2"})," where"," ",s.jsxs(o,{children:["\\omega = -\\frac","{1}","{2}"," + \\frac","sqrt{3}","{2}","i"]})]}),s.jsxs("li",{children:["Fourth roots of 1: ",s.jsx(o,{children:"1, i, -1, -i"})]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The ",s.jsx("strong",{children:"Fundamental Theorem of Algebra"})," states that every polynomial equation ",s.jsx(o,{children:"p(x) = 0"})," with complex coefficients has a solution in ",s.jsxs(o,{children:["\\mathbb","{C}"]}),". Complex numbers are ",s.jsx("em",{children:"algebraically closed"}),"no further extension is needed!"]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Polar form: ",s.jsx(o,{children:"z = r(\\cos\\theta + i\\sin\\theta)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Multiplication: multiply absolute values, add arguments"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"i = \\cos(\\pi/2) + i\\sin(\\pi/2)"})," represents 90 rotation"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Powers of ",s.jsx(o,{children:"i"})," cycle with period 4"]})]})]})]}),s.jsx(ve,{sectionId:57,questions:$J})]})}function hte(){return s.jsxs(je,{sectionId:58,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Isometries of the Plane"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The geometric interpretation of complex numbers leads to a beautiful description of all ",s.jsx("strong",{children:"isometries"}),"distance-preserving transformationsof the Euclidean plane."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"What is an Isometry?"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An ",s.jsx("strong",{children:"isometry"})," of the plane is a transformation that preserves distances: if points ",s.jsx(o,{children:"P"})," and"," ",s.jsx(o,{children:"Q"})," are at distance ",s.jsx(o,{children:"d"}),", their images ",s.jsx(o,{children:"P'"})," and ",s.jsx(o,{children:"Q'"})," ","are also at distance ",s.jsx(o,{children:"d"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Key property:"})," In terms of complex numbers, an isometry ",s.jsx(o,{children:"f"})," satisfies:"]}),s.jsx($,{children:"|f(z_1) - f(z_2)| = |z_1 - z_2|"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["for all complex numbers ",s.jsx(o,{children:"z_1, z_2"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Types of Isometries"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Translation"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"f(z) = z + c"})}),s.jsxs("p",{className:"text-xs text-dark-400 mt-2",children:["Shifts every point by ",s.jsx(o,{children:"c"})]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Rotation"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsxs(o,{children:["f(z) = e^","{i\\theta}","z"]})}),s.jsxs("p",{className:"text-xs text-dark-400 mt-2",children:["Rotates by angle ",s.jsx(o,{children:"\\theta"})," about origin"]})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Reflection"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"f(z) = \\bar z"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Reflects in the real axis"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Glide Reflection"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"f(z) = \\bar z + c"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Reflection followed by translation"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Translations"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The simplest isometry is a ",s.jsx("strong",{children:"translation"}),":"]}),s.jsx($,{children:"f(z) = z + c"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This shifts every point by the complex number ",s.jsx(o,{children:"c"}),". If ",s.jsx(o,{children:"c = a + bi"}),", it moves ",s.jsx(o,{children:"a"})," ","units horizontally and ",s.jsx(o,{children:"b"})," units vertically."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Translation preserves distance because:"}),s.jsx($,{children:"|f(z_1) - f(z_2)| = |(z_1 + c) - (z_2 + c)| = |z_1 - z_2|"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rotations"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A ",s.jsx("strong",{children:"rotation"})," about the origin by angle"," ",s.jsx(o,{children:"\\theta"})," is:"]}),s.jsx($,{children:"f(z) = e^{i\\theta} z = (\\cos\\theta + i\\sin\\theta)z"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This uses the multiplicative property of argument: multiplying by"," ",s.jsxs(o,{children:["e^","{i\\theta}"]})," adds ",s.jsx(o,{children:"\\theta"})," ","to the argument while keeping the absolute value the same."]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Special Case: Rotation by 90"}),s.jsxs("p",{className:"text-dark-200",children:["When ",s.jsx(o,{children:"\\theta = \\pi/2"}),", we get"," ",s.jsxs(o,{children:["e^","{i\\pi/2}"," = i"]}),", confirming that multiplication by ",s.jsx(o,{children:"i"})," is rotation by 90."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To rotate about a point ",s.jsx(o,{children:"c"})," instead of the origin:"]}),s.jsx($,{children:"f(z) = e^{i\\theta}(z - c) + c"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This translates ",s.jsx(o,{children:"c"})," to the origin, rotates, then translates back."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Reflections"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"complex conjugate"})," of ",s.jsx(o,{children:"z = a + bi"})," is:"]}),s.jsx($,{children:"\\bar{z} = a - bi"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Geometrically, conjugation reflects in the real axis. The map"," ",s.jsx(o,{children:"f(z) = \\bar z"})," is an isometry because:"]}),s.jsx($,{children:"|\\bar{z}| = |z|"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Properties of conjugation:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsxs(o,{children:["\\overline","{z_1 + z_2}"," = \\bar z_1 + \\bar z_2"]})}),s.jsx("li",{children:s.jsxs(o,{children:["\\overline","{z_1 z_2}"," = \\bar z_1 \\bar z_2"]})}),s.jsx("li",{children:s.jsx(o,{children:"z \\bar z = |z|^2"})}),s.jsx("li",{children:s.jsxs(o,{children:["\\bar","{\\bar z}"," = z"]})})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To reflect in a line through the origin making angle"," ",s.jsx(o,{children:"\\alpha"})," with the real axis:"]}),s.jsx($,{children:"f(z) = e^{2i\\alpha} \\bar{z}"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Classification of Isometries"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Isometry Classification Theorem"}),s.jsx("p",{className:"text-dark-200 mb-4",children:"Every isometry of the plane has one of these forms:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsxs(o,{children:["f(z) = e^","{i\\theta}","z + c"]})," ","(rotation + translation)"]}),s.jsxs("li",{children:[s.jsxs(o,{children:["f(z) = e^","{i\\theta}","\\bar z + c"]})," ","(reflection + translation)"]})]}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:"The first type preserves orientation; the second reverses it."})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Orientation-preserving"})," isometries (rotations and translations) form a ",s.jsx("em",{children:"group"})," under composition. This group is crucial in understanding plane geometry and crystallography."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fixed Points"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A ",s.jsx("strong",{children:"fixed point"})," of an isometry ",s.jsx(o,{children:"f"})," ","is a point ",s.jsx(o,{children:"z_0"})," where ",s.jsx(o,{children:"f(z_0) = z_0"}),"."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Translation:"})," No fixed points (unless ",s.jsx(o,{children:"c = 0"}),")"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Rotation:"})," One fixed point (the center)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Reflection:"})," A line of fixed points (the mirror)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-blue-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Glide reflection:"})," No fixed points"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The study of isometries connects complex numbers to group theory. The group of orientation-preserving isometries is called the"," ",s.jsx("strong",{children:"Euclidean group"})," and has deep connections to physics and crystallography."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Isometries preserve distances:"," ",s.jsx(o,{children:"|f(z_1) - f(z_2)| = |z_1 - z_2|"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Translation: ",s.jsx(o,{children:"f(z) = z + c"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Rotation: ",s.jsxs(o,{children:["f(z) = e^","{i\\theta}","z"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Reflection: ",s.jsx(o,{children:"f(z) = \\bar z"})," (conjugation)"]})]})]})]}),s.jsx(ve,{sectionId:58,questions:BJ})]})}function ute(){return s.jsxs(je,{sectionId:59,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Gaussian Integers"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Just as we extended the integers ",s.jsxs(o,{children:["\\mathbb","{Z}"]})," ","to rational numbers, we can extend them to include ",s.jsx(o,{children:"i"}),". The ",s.jsx("strong",{children:"Gaussian integers"})," form a beautiful number system with its own arithmetic."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Definition"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Gaussian Integers"}),s.jsxs("p",{className:"text-dark-200",children:["The ",s.jsx("strong",{children:"Gaussian integers"})," are complex numbers of the form"," ",s.jsx(o,{children:"a + bi"})," where ",s.jsxs(o,{children:["a, b \\in \\mathbb","{Z}"]}),":"]}),s.jsx($,{children:"\\mathbb{Z}[i] = \\{a + bi : a, b \\in \\mathbb{Z}\\}"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The Gaussian integers form a ",s.jsx("strong",{children:"ring"}),": they are closed under addition, subtraction, and multiplication."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Example calculations:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"(3 + 2i) + (1 - 4i) = 4 - 2i"}),"  (Gaussian integer)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"(2 + i)(3 + i) = 6 + 2i + 3i + i^2 = 5 + 5i"}),"  (Gaussian integer)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"(1 + i)^2 = 1 + 2i + i^2 = 2i"}),"  (Gaussian integer)"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Norm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"norm"})," of a Gaussian integer is the square of its absolute value:"]}),s.jsx($,{children:"N(a + bi) = a^2 + b^2 = |a + bi|^2"}),s.jsx("p",{className:"text-dark-200 my-6",children:"The norm can also be computed as:"}),s.jsx($,{children:"N(z) = z \\cdot \\bar{z}"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Key Property: Multiplicativity"}),s.jsxs("p",{className:"text-dark-200",children:["The norm is ",s.jsx("strong",{children:"multiplicative"}),":"]}),s.jsx($,{children:"N(z_1 z_2) = N(z_1) \\cdot N(z_2)"}),s.jsx("p",{className:"text-dark-300 text-sm mt-3",children:"This follows from the multiplicativity of the absolute value."})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," ",s.jsx(o,{children:"N(3 + 4i) = 9 + 16 = 25"})]}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx("strong",{children:"Verify:"})," ",s.jsx(o,{children:"(3 + 4i)(3 - 4i) = 9 + 16 = 25"})," "]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Units"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A ",s.jsx("strong",{children:"unit"})," in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})," is a Gaussian integer that has a multiplicative inverse that is also a Gaussian integer."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The units are exactly the Gaussian integers with norm 1:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"N(1) = 1"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"-1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"N(-1) = 1"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"i"}),s.jsx("p",{className:"text-xs text-dark-300",children:"N(i) = 1"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"-i"}),s.jsx("p",{className:"text-xs text-dark-300",children:"N(-i) = 1"})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"These are exactly the fourth roots of unity! Any other Gaussian integer has norm at least 2, so its inverse is not a Gaussian integer."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["In the ordinary integers, the only units are ",s.jsx(o,{children:"\\pm 1"}),". The Gaussian integers have four units because of the extra symmetry provided by ",s.jsx(o,{children:"i"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Divisibility"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We say ",s.jsx(o,{children:"\\alpha"})," ",s.jsx("strong",{children:"divides"})," ",s.jsx(o,{children:"\\beta"})," in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})," ","if ",s.jsx(o,{children:"\\beta = \\alpha \\gamma"})," for some"," ",s.jsxs(o,{children:["\\gamma \\in \\mathbb","{Z}","[i]"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Key observation:"})," If"," ",s.jsx(o,{children:"\\alpha | \\beta"}),", then"," ",s.jsx(o,{children:"N(\\alpha) | N(\\beta)"})," in"," ",s.jsxs(o,{children:["\\mathbb","{Z}"]}),"."]}),s.jsxs("p",{className:"text-dark-200",children:["This is because ",s.jsx(o,{children:"N(\\beta) = N(\\alpha)N(\\gamma)"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Example:"})," Does ",s.jsx(o,{children:"1 + i"})," divide"," ",s.jsx(o,{children:"2"}),"?"]}),s.jsx($,{children:"\\frac{2}{1+i} = \\frac{2(1-i)}{(1+i)(1-i)} = \\frac{2-2i}{2} = 1 - i"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Yes! Since ",s.jsxs(o,{children:["1 - i \\in \\mathbb","{Z}","[i]"]}),", we have"," ",s.jsx(o,{children:"2 = (1 + i)(1 - i)"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Division with Remainder"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Like the integers, Gaussian integers have a division algorithm:"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Gaussian Division Algorithm"}),s.jsxs("p",{className:"text-dark-200",children:["For any ",s.jsxs(o,{children:["\\alpha, \\beta \\in \\mathbb","{Z}","[i]"]})," ","with ",s.jsx(o,{children:"\\beta \\neq 0"}),", there exist"," ",s.jsxs(o,{children:["\\gamma, \\rho \\in \\mathbb","{Z}","[i]"]})," such that:"]}),s.jsx($,{children:"\\alpha = \\beta \\gamma + \\rho \\quad \\text{with} \\quad N(\\rho) < N(\\beta)"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The idea: divide ",s.jsx(o,{children:"\\alpha/\\beta"})," in"," ",s.jsxs(o,{children:["\\mathbb","{C}"]}),", then round to the nearest Gaussian integer to get ",s.jsx(o,{children:"\\gamma"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Gaussian integers: ",s.jsxs(o,{children:["\\mathbb","{Z}","[i] = \\","{a + bi : a, b \\in \\mathbb{Z}}","\\"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Norm: ",s.jsx(o,{children:"N(a + bi) = a^2 + b^2"}),", multiplicative"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Units: ",s.jsx(o,{children:"1, -1, i, -i"})," (norm 1 elements)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Division algorithm works with ",s.jsx(o,{children:"N(\\rho) < N(\\beta)"})]})]})]})]}),s.jsx(ve,{sectionId:59,questions:LJ})]})}function mte(){return s.jsxs(je,{sectionId:60,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Unique Gaussian Prime Factorization"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"The ordinary integers have unique prime factorization. Remarkably, the Gaussian integers do toobut the primes are different! This leads to surprising connections between ordinary primes and sums of squares."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Gaussian Primes"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition"}),s.jsxs("p",{className:"text-dark-200",children:["A Gaussian integer ",s.jsx(o,{children:"\\pi"})," is"," ",s.jsx("strong",{children:"prime"})," if ",s.jsx(o,{children:"\\pi"})," is not a unit and its only divisors are units and associates of ",s.jsx(o,{children:"\\pi"}),"."]}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["Two Gaussian integers are ",s.jsx("strong",{children:"associates"})," if they differ by a unit factor."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["For example, ",s.jsx(o,{children:"3"}),", ",s.jsx(o,{children:"-3"}),","," ",s.jsx(o,{children:"3i"}),", and ",s.jsx(o,{children:"-3i"})," are all associates."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Which Ordinary Primes Remain Prime?"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Not every ordinary prime is a Gaussian prime! Consider:"}),s.jsx($,{children:"2 = (1 + i)(1 - i)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Since ",s.jsx(o,{children:"1 + i"})," and ",s.jsx(o,{children:"1 - i"})," ","are not units (both have norm 2), this is a genuine factorization. So ",s.jsx(o,{children:"2"})," is ",s.jsx("em",{children:"not"})," a Gaussian prime!"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Similarly:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"5 = (2 + i)(2 - i)"})}),s.jsx("li",{children:s.jsx(o,{children:"13 = (3 + 2i)(3 - 2i)"})}),s.jsx("li",{children:s.jsx(o,{children:"17 = (4 + i)(4 - i)"})})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["But ",s.jsx(o,{children:"3"})," has no such factorizationit is a Gaussian prime!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Classification of Gaussian Primes"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Gaussian Prime Theorem"}),s.jsx("p",{className:"text-dark-200 mb-4",children:"The Gaussian primes are exactly:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"1 + i"})," (and its associates)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"a + bi"})," where ",s.jsx(o,{children:"a^2 + b^2 = p"})," ","for an ordinary prime ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"})]}),s.jsxs("li",{children:["Ordinary primes ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"})]})]})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"p = 2"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"2 = -i(1+i)^2"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Special case: ramified"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p  1 (mod 4)"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"p = \\pi \\bar\\pi"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Splits into conjugate pair"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p  3 (mod 4)"}),s.jsxs("p",{className:"text-xs text-dark-300",children:[s.jsx(o,{children:"p"})," stays prime"]}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Inert: remains Gaussian prime"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Unique Factorization"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Fundamental Theorem for Gaussian Integers"}),s.jsxs("p",{className:"text-dark-200",children:["Every nonzero Gaussian integer can be written as a unit times a product of Gaussian primes, and this factorization is ",s.jsx("strong",{children:"unique"})," ","up to order and associates."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The proof uses the Gaussian division algorithm from the previous section. It's analogous to the proof for ordinary integers!"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Factor ",s.jsx(o,{children:"30"})," in"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]}),":"]}),s.jsx($,{children:"30 = 2 \\cdot 3 \\cdot 5"}),s.jsx($,{children:"= (1+i)(1-i) \\cdot 3 \\cdot (2+i)(2-i)"}),s.jsx("p",{className:"text-dark-200 mt-4",children:"(up to units and reordering)"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Using the Norm"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The norm is a powerful tool for determining primality:"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["If ",s.jsx(o,{children:"N(\\alpha)"})," is an ordinary prime, then"," ",s.jsx(o,{children:"\\alpha"})," is a Gaussian prime."]})}),s.jsxs("p",{className:"text-dark-200 my-6",children:[s.jsx("strong",{children:"Proof:"})," If ",s.jsx(o,{children:"\\alpha = \\beta\\gamma"}),", then ",s.jsx(o,{children:"N(\\alpha) = N(\\beta)N(\\gamma)"}),". Since"," ",s.jsx(o,{children:"N(\\alpha)"})," is prime, one of"," ",s.jsx(o,{children:"N(\\beta), N(\\gamma)"})," equals 1, making that factor a unit."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Example:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"N(2 + i) = 5"})," (prime)  ",s.jsx(o,{children:"2 + i"})," is Gaussian prime"]}),s.jsxs("li",{children:[s.jsx(o,{children:"N(3 + 2i) = 13"})," (prime)  ",s.jsx(o,{children:"3 + 2i"})," is Gaussian prime"]}),s.jsxs("li",{children:[s.jsx(o,{children:"N(2 + 2i) = 8"})," (not prime)  need to check further"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"GCD in Gaussian Integers"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The Euclidean algorithm works for Gaussian integers, giving us GCDs and a Bzout identity:"}),s.jsx($,{children:"\\gcd(\\alpha, \\beta) = \\alpha u + \\beta v"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["for some ",s.jsxs(o,{children:["u, v \\in \\mathbb","{Z}","[i]"]}),"."]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This leads to all the familiar consequences: Euclid's lemma, unique factorization, and properties of prime divisibility."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Gaussian primes: irreducible elements in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),": splits as"," ",s.jsx(o,{children:"p = \\pi\\bar\\pi"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"p \\equiv 3 \\pmod 4"}),": stays prime"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Unique factorization holds in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})]})]})]})]}),s.jsx(ve,{sectionId:60,questions:UJ})]})}function pte(){return s.jsxs(je,{sectionId:61,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Fermat's Two Squares Theorem"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"Which integers can be written as a sum of two squares? This ancient question has a beautiful answer discovered by Fermat, with a proof that uses Gaussian integers in an essential way."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Question"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Consider the first few sums of two squares:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"1 = 0^2 + 1^2"})}),s.jsx("li",{children:s.jsx(o,{children:"2 = 1^2 + 1^2"})}),s.jsx("li",{children:s.jsx(o,{children:"4 = 0^2 + 2^2"})}),s.jsx("li",{children:s.jsx(o,{children:"5 = 1^2 + 2^2"})}),s.jsx("li",{children:s.jsx(o,{children:"8 = 2^2 + 2^2"})}),s.jsx("li",{children:s.jsx(o,{children:"9 = 0^2 + 3^2"})}),s.jsx("li",{children:s.jsx(o,{children:"10 = 1^2 + 3^2"})}),s.jsx("li",{children:s.jsx(o,{children:"13 = 2^2 + 3^2"})})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Notice that 3, 6, 7, 11, 12 are ",s.jsx("em",{children:"not"})," on this list. Is there a pattern?"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Fermat's Theorem"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Fermat's Two Squares Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["An odd prime ",s.jsx(o,{children:"p"})," is a sum of two squares if and only if ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),"."]}),s.jsx($,{children:"p = a^2 + b^2 \\iff p \\equiv 1 \\pmod 4"})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"p  1 (mod 4)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Sum of two squares"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"5, 13, 17, 29, 37, ..."})]}),s.jsxs(X,{children:[s.jsx(K,{title:"p  3 (mod 4)"}),s.jsx("p",{className:"text-xs text-dark-300",children:"NOT a sum of two squares"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"3, 7, 11, 19, 23, ..."})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Gaussian Connection"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Here's the key insight: ",s.jsx(o,{children:"n = a^2 + b^2"})," if and only if ",s.jsx(o,{children:"n"})," is the norm of a Gaussian integer!"]}),s.jsx($,{children:"n = a^2 + b^2 = N(a + bi)"}),s.jsx("p",{className:"text-dark-200 my-6",children:'So asking "which integers are sums of two squares?" is the same as asking "which integers are norms of Gaussian integers?"'}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Norm Interpretation"}),s.jsxs("p",{className:"text-dark-200",children:["An integer ",s.jsx(o,{children:"n"})," is a sum of two squares if and only if in the Gaussian prime factorization of ",s.jsx(o,{children:"n"}),", every prime ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"})," appears to an even power."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Proof Idea"}),s.jsx("p",{className:"text-dark-200 mb-6",children:s.jsx("strong",{children:"Why p  1 (mod 4)  p is a sum of two squares:"})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),", then ",s.jsx(o,{children:"-1"})," ","is a quadratic residue mod ",s.jsx(o,{children:"p"})," (by properties of the Legendre symbol). So there exists ",s.jsx(o,{children:"m"})," with:"]}),s.jsx($,{children:"m^2 \\equiv -1 \\pmod p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This means ",s.jsx(o,{children:"p | (m^2 + 1) = (m + i)(m - i)"})," in"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"p"})," were a Gaussian prime, then"," ",s.jsx(o,{children:"p | (m + i)"})," or ",s.jsx(o,{children:"p | (m - i)"}),". But neither is true! (Think about the imaginary parts.)"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["So ",s.jsx(o,{children:"p"})," is ",s.jsx("em",{children:"not"})," a Gaussian prime, meaning it factors: ",s.jsx(o,{children:"p = \\pi_1 \\pi_2"})," with neither factor a unit."]}),s.jsx($,{children:"p = N(\\pi_1) = |\\pi_1|^2 = a^2 + b^2"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Why Not for p  3 (mod 4)?"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Suppose"})," ",s.jsx(o,{children:"p = a^2 + b^2"})," for some odd prime ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"}),". Looking mod 4:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"Squares mod 4 are only 0 or 1:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"0^2 \\equiv 0 \\pmod 4"})}),s.jsx("li",{children:s.jsx(o,{children:"1^2 \\equiv 1 \\pmod 4"})}),s.jsx("li",{children:s.jsx(o,{children:"2^2 \\equiv 0 \\pmod 4"})}),s.jsx("li",{children:s.jsx(o,{children:"3^2 \\equiv 1 \\pmod 4"})})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["So ",s.jsxs(o,{children:["a^2 + b^2 \\equiv 0, 1, \\text","{or}"," 2 \\pmod 4"]}),", never 3. Contradiction!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Complete Characterization"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Sum of Two Squares Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["A positive integer ",s.jsx(o,{children:"n"})," is a sum of two squares if and only if in its prime factorization, every prime"," ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"})," appears to an even power."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Examples:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"45 = 9 \\cdot 5 = 3^2 \\cdot 5"}),": Yes!"," ",s.jsx(o,{children:"45 = 3^2 + 6^2"})]}),s.jsxs("li",{children:[s.jsx(o,{children:"21 = 3 \\cdot 7"}),": No (both are  3 mod 4, odd powers)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"63 = 9 \\cdot 7 = 3^2 \\cdot 7"}),": No (7 appears to odd power)"]}),s.jsxs("li",{children:[s.jsx(o,{children:"441 = 9 \\cdot 49 = 3^2 \\cdot 7^2"}),": Yes!"," ",s.jsx(o,{children:"441 = 0^2 + 21^2"})]})]})]}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"This theorem beautifully connects number theory (primes mod 4), algebra (Gaussian integers), and geometry (lattice points on circles). It was one of Fermat's proudest discoveries."})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"n = a^2 + b^2"}),"  ",s.jsx(o,{children:"n = N(a + bi)"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Odd prime ",s.jsx(o,{children:"p"}),": sum of two squares "," ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["General ",s.jsx(o,{children:"n"}),": sum of two squares  primes"," ",s.jsx(o,{children:"p \\equiv 3 \\pmod 4"})," appear to even powers"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The proof uses unique factorization in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})]})]})]})]}),s.jsx(ve,{sectionId:61,questions:FJ})]})}function fte(){return s.jsxs(je,{sectionId:62,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Factorizing a Sum of Two Squares"}),s.jsx(ne,{type:"warning",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Topic:"})," This section develops algorithmic methods for finding the representation of a prime as a sum of two squares."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 mt-6 text-lg leading-relaxed",children:["We know that primes ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"})," can be written as ",s.jsx(o,{children:"p = a^2 + b^2"}),". But how do we"," ",s.jsx("em",{children:"find"})," the values of ",s.jsx(o,{children:"a"})," and"," ",s.jsx(o,{children:"b"}),"? Gaussian integers provide an algorithm."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Problem"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Given a prime ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),", find"," ",s.jsxs(o,{children:["a, b \\in \\mathbb","{Z}"]})," such that"," ",s.jsx(o,{children:"p = a^2 + b^2"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," For ",s.jsx(o,{children:"p = 41"}),":"]}),s.jsxs("p",{className:"text-dark-200",children:["We want ",s.jsx(o,{children:"41 = a^2 + b^2"}),". Answer:"," ",s.jsx(o,{children:"41 = 4^2 + 5^2 = 16 + 25"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Step 1: Find a Square Root of 1 mod p"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Since ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"}),", the number"," ",s.jsx(o,{children:"-1"})," is a quadratic residue mod"," ",s.jsx(o,{children:"p"}),". We need to find ",s.jsx(o,{children:"m"})," ","such that:"]}),s.jsx($,{children:"m^2 \\equiv -1 \\pmod p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["One way to find such an ",s.jsx(o,{children:"m"})," is to compute:"]}),s.jsx($,{children:"m \\equiv n^{(p-1)/4} \\pmod p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["for various values of ",s.jsx(o,{children:"n"}),". If"," ",s.jsx(o,{children:"n"})," is a quadratic non-residue, this will give a square root of ",s.jsx(o,{children:"-1"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," For ",s.jsx(o,{children:"p = 41"}),":"]}),s.jsxs("p",{className:"text-dark-200",children:["Since 2 is a quadratic non-residue mod 41:"," ",s.jsxs(o,{children:["m \\equiv 2^","{10}"," \\equiv 9 \\pmod","{41}"]}),"."]}),s.jsxs("p",{className:"text-dark-200 mt-2",children:["Check: ",s.jsxs(o,{children:["9^2 = 81 = 2 \\cdot 41 - 1 \\equiv -1 \\pmod","{41}"]})," "]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Step 2: Use the Euclidean Algorithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Now we know that ",s.jsx(o,{children:"p | (m^2 + 1) = (m + i)(m - i)"})," ","in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]}),". Since ",s.jsx(o,{children:"p"})," ","doesn't divide either factor (their imaginary parts are 1), we have:"]}),s.jsx($,{children:"\\gcd(p, m + i) \\neq 1 \\text{ and } \\neq p"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The Euclidean algorithm in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})," ","finds this GCD, which is a Gaussian prime ",s.jsx(o,{children:"\\pi"})," ","with ",s.jsx(o,{children:"N(\\pi) = p"}),"."]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Key Insight"}),s.jsxs("p",{className:"text-dark-200",children:["Computing ",s.jsx(o,{children:"\\gcd(p, m + i)"})," gives us"," ",s.jsx(o,{children:"\\pi = a + bi"}),", and then"," ",s.jsx(o,{children:"p = N(\\pi) = a^2 + b^2"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Complete Example: p = 41"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We found ",s.jsx(o,{children:"m = 9"})," with"," ",s.jsxs(o,{children:["9^2 \\equiv -1 \\pmod","{41}"]}),". Now compute"," ",s.jsx(o,{children:"\\gcd(41, 9 + i)"}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Division step:"})}),s.jsx($,{children:"\\frac{41}{9 + i} = \\frac{41(9 - i)}{(9+i)(9-i)} = \\frac{41(9-i)}{82} = \\frac{9-i}{2}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Rounding to nearest Gaussian integer: ",s.jsx(o,{children:"4 - 0i = 4"})]}),s.jsxs("p",{className:"text-dark-200 mt-2",children:["Remainder: ",s.jsx(o,{children:"41 - 4(9 + i) = 41 - 36 - 4i = 5 - 4i"})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Now compute ",s.jsx(o,{children:"\\gcd(9 + i, 5 - 4i)"}),":"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\frac{9 + i}{5 - 4i} = \\frac{(9+i)(5+4i)}{41} = \\frac{41 + 41i}{41} = 1 + i"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Remainder: ",s.jsx(o,{children:"(9 + i) - (1 + i)(5 - 4i) = (9 + i) - (9 + i) = 0"})]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["So ",s.jsx(o,{children:"\\gcd(41, 9 + i) = 5 - 4i"})," (up to units)."]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Result"}),s.jsx("p",{className:"text-dark-200",children:s.jsx(o,{children:"41 = N(5 - 4i) = 5^2 + 4^2 = 25 + 16"})})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Products of Sums of Squares"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The multiplicativity of the norm gives the ",s.jsx("strong",{children:"Diophantus identity"}),":"]}),s.jsx($,{children:"(a^2 + b^2)(c^2 + d^2) = (ac - bd)^2 + (ad + bc)^2"}),s.jsx("p",{className:"text-dark-200 my-6",children:"This lets us factor any sum of two squares into products of primes, each of which is a sum of two squares."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," ",s.jsx(o,{children:"65 = 5 \\times 13"})]}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx(o,{children:"5 = 1^2 + 2^2"})," and"," ",s.jsx(o,{children:"13 = 2^2 + 3^2"})]}),s.jsx($,{children:"65 = (1^2 + 2^2)(2^2 + 3^2) = (1 \\cdot 2 - 2 \\cdot 3)^2 + (1 \\cdot 3 + 2 \\cdot 2)^2 = (-4)^2 + 7^2"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Or using the other formula: ",s.jsx(o,{children:"65 = 1^2 + 8^2"})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The Diophantus identity is equivalent to the multiplicativity of the norm: ",s.jsx(o,{children:"N(\\alpha\\beta) = N(\\alpha)N(\\beta)"}),". It was known to Diophantus in the 3rd century!"]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Algorithm Summary"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-200",children:[s.jsxs("li",{children:["Find ",s.jsx(o,{children:"m"})," with"," ",s.jsx(o,{children:"m^2 \\equiv -1 \\pmod p"})]}),s.jsxs("li",{children:["Compute ",s.jsx(o,{children:"\\pi = \\gcd(p, m + i)"})," using Euclidean algorithm in ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})]}),s.jsxs("li",{children:["Write ",s.jsx(o,{children:"\\pi = a + bi"}),"; then"," ",s.jsx(o,{children:"p = a^2 + b^2"})]})]})]}),s.jsx(ve,{sectionId:62,questions:HJ})]})}function xte(){return s.jsxs(je,{sectionId:63,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"The journey through complex numbers reveals deep connections between algebra, geometry, and number theory. Let's reflect on the major themes and look ahead to further developments."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Perspective"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Complex numbers emerged reluctantly from the solution of polynomial equations. For centuries, mathematicians computed with them while questioning their legitimacy."}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"16th Century"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Cardano, Bombelli: Use (-1) to solve cubics"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"1797"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Wessel, Argand: Geometric interpretation"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"1833"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Hamilton: Ordered pairs definition"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"1832"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Gauss: Gaussian integers, unique factorization"})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Hamilton's definition as ordered pairs finally put complex numbers on a rigorous foundation. His bold approachdefining ",s.jsx(o,{children:"i"})," ","rather than discovering itrevolutionized algebra."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Unifying Themes"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"1. Algebra and Geometry Unite"}),s.jsxs("p",{className:"text-dark-200",children:["Complex multiplication is rotation. This simple fact connects abstract algebra with Euclidean geometry. The formula"," ",s.jsxs(o,{children:["e^","{i\\theta}"," = \\cos\\theta + i\\sin\\theta"]})," ","(Euler's formula) encapsulates this unity."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"2. Number Theory Deepens"}),s.jsxs("p",{className:"text-dark-200",children:["The Gaussian integers ",s.jsxs(o,{children:["\\mathbb","{Z}","[i]"]})," extend unique factorization to a new domain. This revealed that ordinary primes can split, remain inert, or ramifya pattern that recurs throughout algebraic number theory."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"3. The Norm as Bridge"}),s.jsxs("p",{className:"text-dark-200",children:["The multiplicative norm ",s.jsx(o,{children:"N(a + bi) = a^2 + b^2"})," ","connects complex arithmetic to sums of squares. Fermat's two squares theorem becomes a statement about norms, revealing hidden structure."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Further Directions"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Complex numbers open doors to rich mathematical territories:"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Quaternions"}),s.jsxs("p",{className:"text-dark-200",children:["Hamilton spent years seeking a 3D extension of complex numbers. In 1843, he discovered that you need ",s.jsx("em",{children:"four"})," dimensions: the"," ",s.jsx("strong",{children:"quaternions"})," ",s.jsx(o,{children:"a + bi + cj + dk"}),". Fascinatingly, multiplication is no longer commutative!"]})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Algebraic Number Theory"}),s.jsxs("p",{className:"text-dark-200",children:["The Gaussian integers are just the beginning. Rings like"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{-5}","]"]})," and"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\omega]"]})," (where"," ",s.jsxs(o,{children:["\\omega = e^","{2\\pi i/3}"]}),") lead to the study of general algebraic integersa vast generalization of what we've seen."]})]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Complex Analysis"}),s.jsx("p",{className:"text-dark-200",children:"Calculus with complex functions leads to profound results. The connection between integrals and sums (residue calculus), the Riemann hypothesis about the zeros of the zeta function, and conformal mappings all depend on complex numbers."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"A Cautionary Tale"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Not all extensions of integers have unique factorization. In"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{-5}","]"]}),":"]}),s.jsx($,{children:"6 = 2 \\times 3 = (1 + \\sqrt{-5})(1 - \\sqrt{-5})"}),s.jsx("p",{className:"text-dark-200 my-6",children:"Both factorizations are into irreducibles, but they're different! Kummer's solution (ideal numbers, 1840s) led to modern algebraic number theory."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The Gaussian integers are special: unique factorization holds because the norm satisfies the ",s.jsx("strong",{children:"Euclidean property"}),". This fails for some other rings, requiring deeper tools to restore order."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Chapter Summary"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"In this chapter, we have seen:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Complex operations:"})," Addition is component-wise; multiplication uses ",s.jsx(o,{children:"i^2 = -1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Polar form:"})," Arguments add under multiplication, giving rotation"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Isometries:"})," Complex numbers describe all distance-preserving plane transformations"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Gaussian integers:"})," A ring with unique prime factorization"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Fermat's theorem:"})," Primes"," ",s.jsx(o,{children:"p \\equiv 1 \\pmod 4"})," are sums of two squares"]})]})]})}),s.jsx("p",{className:"text-dark-200 mb-6",children:'The complex numbers stand at the crossroads of algebra, geometry, and analysis. As Hadamard famously said: "The shortest path between two truths in the real domain passes through the complex domain."'}),s.jsx(ve,{sectionId:63,questions:GJ})]})}function gte(){return s.jsxs(je,{sectionId:64,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Too Much, Too Little, and Just Right"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:[s.jsx("strong",{children:"Conic sections"})," are curves obtained by cutting a cone with a plane. They have been studied since ancient times and appear throughout mathematics and physicsin the paths of planets and comets, in optics, and in the construction of numbers."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Conic sections are the ",s.jsx("em",{children:"simplest"})," curves after straight lines. Their equations have degree 2, making them natural to study and surprisingly ubiquitous in applications."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Cone"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Consider the cone defined by:"}),s.jsx($,{children:"x^2 + y^2 = k^2 z^2"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Horizontal sections ",s.jsxs(o,{children:["z = \\text","{constant}"]})," are circles, and vertical sections through the z-axis are pairs of lines. The surface is formed by rotating the lines ",s.jsx(o,{children:"y = \\pm kz"})," ","about the z-axis."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Three Types of Sections"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"A plane not passing through the origin can cut the cone in three different ways, yielding curves named from Greek:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Hyperbola"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Too much"'}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Plane cuts both halves of cone"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Ellipse"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Too little"'}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Plane cuts cone in closed curve"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Parabola"}),s.jsx("p",{className:"text-xs text-dark-300",children:'"Just right"'}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Plane parallel to a line in cone"})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:'The parabola is the exceptional, transitional case between hyperbola and ellipse. This "too much, too little, just right" classification appears throughout mathematics!'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Standard Form Equations"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"By choosing suitable coordinates, every conic can be written in one of these standard forms:"}),s.jsx("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"Hyperbola:"}),s.jsx($,{children:"\\frac{x^2}{a^2} - \\frac{y^2}{b^2} = 1"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"Ellipse:"}),s.jsx($,{children:"\\frac{x^2}{a^2} + \\frac{y^2}{b^2} = 1"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"Parabola:"}),s.jsx($,{children:"y = ax^2"})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Algebraic Classification"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The type of conic section can be recognized by the signs of the coefficients of ",s.jsx(o,{children:"x^2"})," and ",s.jsx(o,{children:"y^2"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-red-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hyperbola:"})," Opposite signs (one positive, one negative)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Ellipse:"})," Same signs (both positive or both negative)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Parabola:"})," One coefficient is zero"]})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Example:"})," Classify ",s.jsx(o,{children:"9x^2 - 4y^2 = 36"})]}),s.jsxs("p",{className:"text-dark-200",children:["The coefficients 9 and -4 have opposite signs, so this is a"," ",s.jsx("strong",{children:"hyperbola"}),". Dividing by 36 gives the standard form:"]}),s.jsx($,{children:"\\frac{x^2}{4} - \\frac{y^2}{9} = 1"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Circle as a Special Case"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The circle ",s.jsx(o,{children:"x^2 + y^2 = r^2"})," is a special case of the ellipse where ",s.jsx(o,{children:"a = b = r"}),". It's also a conic sectiona horizontal cut through the cone!"]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The discovery that all conic sections are quadratic curves (degree 2) was made independently by ",s.jsx("strong",{children:"Fermat"})," and"," ",s.jsx("strong",{children:"Descartes"})," when they invented analytic geometry. This showed that algebraic degree is geometrically significant."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Conic sections are curves from cutting a cone with a plane"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Three types: hyperbola, ellipse, parabola"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"All conics are degree 2 (quadratic) curves"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Classification by coefficient signs determines type"})]})]})]}),s.jsx(ve,{sectionId:64,questions:VJ})]})}function bte(){return s.jsxs(je,{sectionId:65,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Properties of Conic Sections"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Beyond their origin as cone sections, conics have remarkable geometric properties involving ",s.jsx("strong",{children:"foci"})," and ",s.jsx("strong",{children:"directrices"}),". These properties explain why conics appear in optics and planetary motion."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Focus and Directrix"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A conic section can be defined in terms of a point ",s.jsx(o,{children:"F"})," ","(the ",s.jsx("strong",{children:"focus"}),") and a line ",s.jsxs(o,{children:["\\mathcal","{D}"]})," ","(the ",s.jsx("strong",{children:"directrix"}),"):"]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Focus-Directrix Definition"}),s.jsxs("p",{className:"text-dark-200",children:["A conic is the set of points ",s.jsx(o,{children:"P"})," whose distance from ",s.jsx(o,{children:"F"})," is ",s.jsx(o,{children:"e"})," times its perpendicular distance from ",s.jsxs(o,{children:["\\mathcal","{D}"]}),":"]}),s.jsx($,{children:"\\frac{FP}{PQ} = e"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["The constant ",s.jsx(o,{children:"e"})," is called the ",s.jsx("strong",{children:"eccentricity"}),"."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Eccentricity"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The eccentricity ",s.jsx(o,{children:"e"})," determines the type of conic:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"e < 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Ellipse"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Closed curve"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"e = 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Parabola"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Open, one branch"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"e > 1"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Hyperbola"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Open, two branches"})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["A circle is the limiting case ",s.jsx(o,{children:"e = 0"}),", where the focus is at the center and the directrix is at infinity."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Focal Property of the Parabola"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Reflection Property"}),s.jsx("p",{className:"text-dark-200",children:"Lines parallel to the axis of symmetry of a parabola are all reflected through the focus."})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This property was first proved by the Greek mathematician"," ",s.jsx("strong",{children:"Diocles"})," around 200 B.C. in his book ",s.jsx("em",{children:"On Burning Mirrors"}),". Legend has it that Archimedes used parabolic mirrors against Roman ships!"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Why it works:"})," For any point ",s.jsx(o,{children:"P"})," on the parabola, the distances ",s.jsx(o,{children:"FP"})," (to focus) and"," ",s.jsx(o,{children:"PQ"})," (to directrix) are equal. The tangent at"," ",s.jsx(o,{children:"P"})," is the perpendicular bisector of"," ",s.jsx(o,{children:"FQ"}),", making equal angles with the incoming and outgoing rays."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Focal Property of the Ellipse"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ellipse ",s.jsxs(o,{children:["\\frac","{x^2}","{a^2}"," + \\frac","{y^2}","{b^2}"," = 1"]})," ","has ",s.jsx("em",{children:"two"})," foci at ",s.jsx(o,{children:"(\\pm ae, 0)"}),", where"," ",s.jsxs(o,{children:["e = \\sqrt","{1 - b^2/a^2}"]}),"."]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Sum of Focal Distances"}),s.jsx("p",{className:"text-dark-200",children:"The sum of distances from any point on the ellipse to both foci is constant:"}),s.jsx($,{children:"F_1P + F_2P = 2a"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This leads to the famous ",s.jsx("strong",{children:"thread construction"}),": tie a thread to two pins at the foci, pull it taut with a pencil, and trace an ellipse."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Apollonius's Focal Property"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Apollonius"})," (around 200 B.C.) proved that the lines from the two foci to any point on the ellipse make equal angles with the tangent at that point."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Physical interpretation:"}),` If the inside of an ellipse is a mirror, a light ray from one focus will reflect to the other focus. This is why some rooms (like the "whispering galleries" in St. Paul's Cathedral) are built with elliptical ceilings!`]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The focus is physically significant in ",s.jsx("strong",{children:"Newton's theory of gravitation"}),': planets and comets travel on conic sections with the sun at one focus. The word "focus" (Latin for "fireplace") was coined by ',s.jsx("strong",{children:"Kepler"}),"."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Conics defined by focus, directrix, and eccentricity ",s.jsx(o,{children:"e"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Ellipse: ",s.jsx(o,{children:"e < 1"}),", Parabola: ",s.jsx(o,{children:"e = 1"}),", Hyperbola: ",s.jsx(o,{children:"e > 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Parabola: parallel rays reflect through focus"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Ellipse: sum of focal distances is constant; equal angle reflection"})]})]})]}),s.jsx(ve,{sectionId:65,questions:WJ})]})}function yte(){return s.jsxs(je,{sectionId:66,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Quadratic Curves"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The standard forms for conics assume special coordinate systems. Can",s.jsx("em",{children:" every"})," quadratic curve be transformed into standard form? Yes! Through ",s.jsx("strong",{children:"rotation"})," and ",s.jsx("strong",{children:"translation"})," of axes, any quadratic curve reveals its true nature."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The General Quadratic Equation"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The most general degree 2 equation in two variables is:"}),s.jsx($,{children:"ax^2 + bxy + cy^2 + dx + ey + f = 0"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The presence of the ",s.jsx(o,{children:"xy"})," term (when"," ",s.jsx(o,{children:"b \\neq 0"}),") indicates that the coordinate axes are not aligned with the natural axes of the curve."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rotation of Axes"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["To eliminate the ",s.jsx(o,{children:"xy"})," term, we rotate the coordinate system by an angle ",s.jsx(o,{children:"\\theta"}),":"]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Rotation Formulas"}),s.jsx($,{children:"x = X\\cos\\theta - Y\\sin\\theta"}),s.jsx($,{children:"y = X\\sin\\theta + Y\\cos\\theta"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["Here ",s.jsx(o,{children:"(X, Y)"})," are the new coordinates after rotation by ",s.jsx(o,{children:"\\theta"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx(o,{children:"xy"})," term vanishes when we choose"," ",s.jsx(o,{children:"\\theta"})," such that:"]}),s.jsx($,{children:"\\tan 2\\theta = \\frac{b}{a - c}"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Translation of Axes"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["After eliminating the ",s.jsx(o,{children:"xy"})," term, we have an equation of the form:"]}),s.jsx($,{children:"AX^2 + CY^2 + DX + EY + F = 0"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["Translation (shifting the origin) eliminates the linear terms"," ",s.jsx(o,{children:"DX"})," and ",s.jsx(o,{children:"EY"}),", bringing the equation to standard form."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Discriminant"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Remarkably, we can determine the type of conic ",s.jsx("em",{children:"without"})," doing any transformationusing the ",s.jsx("strong",{children:"discriminant"}),":"]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Classification by Discriminant"}),s.jsx($,{children:"\\Delta = b^2 - 4ac"}),s.jsxs("div",{className:"mt-4 space-y-2 text-dark-200",children:[s.jsxs("p",{children:[s.jsx(o,{children:"\\Delta < 0"}),": ",s.jsx("strong",{children:"Ellipse"})," (or circle, or degenerate)"]}),s.jsxs("p",{children:[s.jsx(o,{children:"\\Delta = 0"}),": ",s.jsx("strong",{children:"Parabola"})," (or degenerate)"]}),s.jsxs("p",{children:[s.jsx(o,{children:"\\Delta > 0"}),": ",s.jsx("strong",{children:"Hyperbola"})," ","(or degenerate)"]})]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The discriminant ",s.jsx(o,{children:"b^2 - 4ac"})," is ",s.jsx("em",{children:"invariant"})," ","under rotation and translation! It depends only on the curve itself, not on the coordinate system."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Example"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Classify:"})," ",s.jsx(o,{children:"xy + x - y = 1"})]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Here ",s.jsx(o,{children:"a = 0"}),", ",s.jsx(o,{children:"b = 1"}),","," ",s.jsx(o,{children:"c = 0"}),", so:"]}),s.jsx($,{children:"\\Delta = 1^2 - 4(0)(0) = 1 > 0"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Since ",s.jsx(o,{children:"\\Delta > 0"}),", this is a"," ",s.jsx("strong",{children:"hyperbola"}),". The asymptotes are parallel to the x and y axes (rotated 45 from the standard position)."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Degenerate Cases"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Not every quadratic equation gives a conic section. The"," ",s.jsx("strong",{children:"degenerate"})," cases include:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Point"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"x^2 + y^2 = 0"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Degenerate ellipse"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Intersecting Lines"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"xy = 0"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Degenerate hyperbola"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Parallel Lines"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"x^2 = 1"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Degenerate parabola"})]})]}),s.jsx("p",{className:"text-dark-200 my-6",children:"When the quadratic factors completely, we get lines instead of curves. These cases arise when the cutting plane passes through the apex of the cone."}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Hyperbola ",s.jsx(o,{children:"xy = 1"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The equation ",s.jsx(o,{children:"xy = 1"})," represents a hyperbola with asymptotes along the coordinate axes. Its connection to number theory will be crucial in the coming sections!"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("p",{className:"text-dark-200",children:["The curve ",s.jsx(o,{children:"xy = 1"})," passes through"," ",s.jsx(o,{children:"(1, 1)"})," and ",s.jsx(o,{children:"(-1, -1)"}),". After a 45 rotation, it becomes"," ",s.jsxs(o,{children:["\\frac","{X^2}",2," - \\frac","{Y^2}",2," = 1"]}),", the standard form of a hyperbola."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Any quadratic curve can be transformed to standard form"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Rotation eliminates the ",s.jsx(o,{children:"xy"})," term; translation eliminates linear terms"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Discriminant ",s.jsx(o,{children:"b^2 - 4ac"})," classifies conics invariantly"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Degenerate cases give points or lines instead of curves"})]})]})]}),s.jsx(ve,{sectionId:66,questions:ZJ})]})}function vte(){return s.jsxs(je,{sectionId:67,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Intersections"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Topic:"})," This section explores how intersections of curves can solve algebraic problems, including the ancient problem of doubling the cube."]})}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:"The intersection of two curves can yield remarkable information. The Greeks discovered that conic sections could solve problems beyond compass-and-straightedge constructions."}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Menaechmus and ",s.jsxs(o,{children:["\\sqrt[3]","{2}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Around 350 B.C., ",s.jsx("strong",{children:"Menaechmus"})," discovered that doubling the cubeconstructing ",s.jsxs(o,{children:["\\sqrt[3]","{2}"]}),"can be achieved by intersecting two parabolas."]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Menaechmus's Construction"}),s.jsx("p",{className:"text-dark-200 mb-4",children:"Consider the two parabolas:"}),s.jsx($,{children:"y = x^2 \\quad \\text{and} \\quad x = \\frac{y^2}{2}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Substituting ",s.jsx(o,{children:"y = x^2"})," into the second equation:"]}),s.jsx($,{children:"x = \\frac{(x^2)^2}{2} = \\frac{x^4}{2}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["So ",s.jsx(o,{children:"2x = x^4"}),", giving"," ",s.jsx(o,{children:"x^3 = 2"}),", hence"," ",s.jsxs(o,{children:["x = \\sqrt[3]","{2}"]}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This was groundbreaking: Menaechmus showed that problems unsolvable with compass and straightedge could be solved with conic sections!"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Bzout's Theorem"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"A fundamental principle governs curve intersections:"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Bzout's Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["A curve of degree ",s.jsx(o,{children:"m"})," and a curve of degree"," ",s.jsx(o,{children:"n"})," intersect in at most"," ",s.jsx(o,{children:"mn"})," points (counted with multiplicity, in the projective plane over ",s.jsxs(o,{children:["\\mathbb","{C}"]}),")."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"For example:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200 mb-6 ml-4",children:[s.jsxs("li",{children:[" Two lines (",s.jsx(o,{children:"m = n = 1"}),"): at most"," ",s.jsx(o,{children:"1 \\times 1 = 1"})," point"]}),s.jsxs("li",{children:[" A line and a conic (",s.jsx(o,{children:"m = 1, n = 2"}),"): at most"," ",s.jsx(o,{children:"1 \\times 2 = 2"})," points"]}),s.jsxs("li",{children:[" Two conics (",s.jsx(o,{children:"m = n = 2"}),"): at most"," ",s.jsx(o,{children:"2 \\times 2 = 4"})," points"]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Ferrari's Method for Quartics"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Lodovico Ferrari"})," (15221565) discovered that quartic equations can be solved by finding intersections of conics."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["To solve a quartic equation like ",s.jsx(o,{children:"x^4 + px^2 + qx + r = 0"}),", we can write it as an intersection:"]}),s.jsx($,{children:"y = x^2 \\quad \\text{(parabola)}"}),s.jsx($,{children:"y^2 + py + qx + r = 0 \\quad \\text{(conic)}"}),s.jsx("p",{className:"text-dark-200 mt-4",children:"By Bzout's theorem, these degree-2 curves meet in at most 4 points, corresponding to the 4 roots of the quartic!"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Solving Higher Degree Equations"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This geometric approach extends to higher degrees:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 3:"}),' Line meets cubic in 3 points (hence the "depressed cubic" technique)']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 4:"})," Two conics meet in 4 points (Ferrari)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 6:"})," A conic and cubic meet in 6 points"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"The power of algebraic geometry: geometric intersections correspond to algebraic solutions. This connection, fully developed in the 19th century, became one of the most profound branches of mathematics."})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Menaechmus constructed ",s.jsxs(o,{children:["\\sqrt[3]","{2}"]})," ","by intersecting parabolas"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Bzout's theorem: degree ",s.jsx(o,{children:"m"})," and"," ",s.jsx(o,{children:"n"})," curves meet in "," ",s.jsx(o,{children:"mn"})," points"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Ferrari solved quartics via conic intersections"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Algebraic equations  geometric intersections"})]})]})]}),s.jsx(ve,{sectionId:67,questions:YJ})]})}function jte(){return s.jsxs(je,{sectionId:68,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Integer Points on Conics"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Which points on a conic have ",s.jsx("em",{children:"integer"})," coordinates? This deceptively simple question leads to deep number theory and connects back to our study of Pythagorean triples."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Hyperbola ",s.jsx(o,{children:"x^2 - dy^2 = 1"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider the hyperbola ",s.jsx(o,{children:"x^2 - 2y^2 = 1"}),". Does it have any integer points besides ",s.jsx(o,{children:"(1, 0)"})," and"," ",s.jsx(o,{children:"(-1, 0)"}),"?"]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:["Integer Solutions to ",s.jsx(o,{children:"x^2 - 2y^2 = 1"})]}),s.jsxs("div",{className:"text-dark-200 space-y-2",children:[s.jsxs("p",{children:[s.jsx(o,{children:"(1, 0)"}),": ",s.jsx(o,{children:"1 - 0 = 1"})," ",""]}),s.jsxs("p",{children:[s.jsx(o,{children:"(3, 2)"}),": ",s.jsx(o,{children:"9 - 8 = 1"})," ",""]}),s.jsxs("p",{children:[s.jsx(o,{children:"(17, 12)"}),":"," ",s.jsx(o,{children:"289 - 288 = 1"})," "]}),s.jsxs("p",{children:[s.jsx(o,{children:"(99, 70)"}),":"," ",s.jsx(o,{children:"9801 - 9800 = 1"})," "]})]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"There are infinitely many! But how do we find them systematically?"}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Generation Using ",s.jsxs(o,{children:["\\sqrt","{d}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The key insight: if ",s.jsx(o,{children:"(x, y)"})," satisfies"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"}),", consider the number"," ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]}),"."]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"The Norm Formula"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Define the ",s.jsx("strong",{children:"norm"})," of"," ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]})," as:"]}),s.jsx($,{children:"N(x + y\\sqrt{d}) = x^2 - dy^2"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:[s.jsx("strong",{children:"Key property:"})," The norm is ",s.jsx("em",{children:"multiplicative"}),":"]}),s.jsx($,{children:"N(\\alpha \\cdot \\beta) = N(\\alpha) \\cdot N(\\beta)"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This means: if ",s.jsx(o,{children:"\\alpha"})," has norm 1, then so does"," ",s.jsx(o,{children:"\\alpha^2"}),", ",s.jsx(o,{children:"\\alpha^3"}),", ..."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Generating Solutions for ",s.jsx(o,{children:"x^2 - 2y^2 = 1"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["Start with ",s.jsxs(o,{children:["\\alpha = 3 + 2\\sqrt","{2}"]})," (from the solution ",s.jsx(o,{children:"(3, 2)"}),")."]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["Compute ",s.jsx(o,{children:"\\alpha^2"}),":"]}),s.jsx($,{children:"(3 + 2\\sqrt{2})^2 = 9 + 12\\sqrt{2} + 8 = 17 + 12\\sqrt{2}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["So ",s.jsx(o,{children:"(17, 12)"})," is a solution!"]}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Compute ",s.jsx(o,{children:"\\alpha^3"}),":"]}),s.jsx($,{children:"(17 + 12\\sqrt{2})(3 + 2\\sqrt{2}) = 51 + 34\\sqrt{2} + 36\\sqrt{2} + 48 = 99 + 70\\sqrt{2}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["So ",s.jsx(o,{children:"(99, 70)"})," is a solution!"]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Group of Solutions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The integer solutions to ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," form an ",s.jsx("strong",{children:"infinite cyclic group"})," under multiplication of the corresponding ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]})," values!"]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The smallest solution ",s.jsx(o,{children:"(x_1, y_1)"})," with"," ",s.jsx(o,{children:"x_1, y_1 > 0"})," is called the"," ",s.jsx("strong",{children:"fundamental solution"}),". All other positive solutions are generated by taking powers of"," ",s.jsxs(o,{children:["x_1 + y_1\\sqrt","{d}"]}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Pythagorean Triples"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Recall that Pythagorean triples come from rational points on the unit circle ",s.jsx(o,{children:"x^2 + y^2 = 1"}),". Similarly:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Circle"})," ",s.jsx(o,{children:"x^2 + y^2 = 1"}),": Uses ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]})," for generation"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hyperbola"})," ",s.jsx(o,{children:"x^2 - dy^2 = 1"}),": Uses ",s.jsxs(o,{children:["\\sqrt","{d}"]})," for generation"]})]})]})}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The multiplicative property of norms is the same in both casesonly the sign under the square root changes!"}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Equation ",s.jsx(o,{children:"x^2 - dy^2 = -1"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Sometimes ",s.jsx(o,{children:"x^2 - dy^2 = -1"})," also has integer solutions. For example, ",s.jsx(o,{children:"2^2 - 5 \\cdot 1^2 = -1"}),"."]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["If ",s.jsx(o,{children:"(a, b)"})," solves"," ",s.jsx(o,{children:"x^2 - dy^2 = -1"}),", then"," ",s.jsxs(o,{children:["(a + b\\sqrt","{d}",")^2"]})," has norm"," ",s.jsx(o,{children:"(-1)^2 = 1"}),", giving a solution to"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"}),"!"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"x^2 - dy^2 = 1"})," has infinitely many integer solutions"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Solutions correspond to ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]})," ","with norm 1"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Multiplication in ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{d}","]"]})," ","generates all solutions"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The fundamental solution generates an infinite cyclic group"})]})]})]}),s.jsx(ve,{sectionId:68,questions:XJ})]})}function wte(){return s.jsxs(je,{sectionId:69,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Square Roots and the Euclidean Algorithm"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Topic:"})," This section explores continued fractions for square roots and their remarkable periodicitythe key to finding fundamental solutions of Pell's equation."]})}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:["The Euclidean algorithm applies not just to integers, but to certain irrational numbers too! Applying it to ",s.jsxs(o,{children:["\\sqrt","{d}"]})," ","reveals beautiful periodic patterns."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Continued Fractions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["A ",s.jsx("strong",{children:"continued fraction"})," expresses a number as:"]}),s.jsx($,{children:"a_0 + \\cfrac{1}{a_1 + \\cfrac{1}{a_2 + \\cfrac{1}{a_3 + \\cdots}}}"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["We write this compactly as ",s.jsx(o,{children:"[a_0; a_1, a_2, a_3, \\ldots]"}),"."]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"The Euclidean Process"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["To find the continued fraction of ",s.jsx(o,{children:"x"}),":"]}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-200",children:[s.jsxs("li",{children:["Set ",s.jsx(o,{children:"a_0 = \\lfloor x \\rfloor"})," (floor of"," ",s.jsx(o,{children:"x"}),")"]}),s.jsxs("li",{children:["If ",s.jsx(o,{children:"x - a_0 \\neq 0"}),", compute"," ",s.jsx(o,{children:"x_1 = 1/(x - a_0)"})]}),s.jsxs("li",{children:["Repeat with ",s.jsx(o,{children:"x_1"})]})]})]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Example: ",s.jsxs(o,{children:["\\sqrt","{2}"]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["For ",s.jsxs(o,{children:["\\sqrt","{2}"," \\approx 1.414"]}),":"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[s.jsx(o,{children:"a_0 = 1"}),", remainder"," ",s.jsxs(o,{children:["\\sqrt","{2}"," - 1 \\approx 0.414"]})]}),s.jsx("li",{children:s.jsxs(o,{children:["x_1 = 1/(\\sqrt","{2}"," - 1) = \\sqrt","{2}"," + 1 \\approx 2.414"]})}),s.jsxs("li",{children:[s.jsx(o,{children:"a_1 = 2"}),", remainder"," ",s.jsxs(o,{children:["\\sqrt","{2}"," - 1"]})]}),s.jsx("li",{children:"The pattern repeats!"})]}),s.jsx("p",{className:"text-dark-200 mt-4 font-semibold",children:s.jsxs(o,{children:["\\sqrt","{2}"," = [1; 2, 2, 2, 2, \\ldots] = [1; \\overline","{2}","]"]})})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Lagrange's Periodicity Theorem"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Lagrange's Theorem (1770)"}),s.jsxs("p",{className:"text-dark-200",children:["The continued fraction expansion of ",s.jsxs(o,{children:["\\sqrt","{d}"]})," ","(for ",s.jsx(o,{children:"d"})," not a perfect square) is"," ",s.jsx("em",{children:"eventually periodic"}),". In fact, it has the form:"]}),s.jsx($,{children:"\\sqrt{d} = [a_0; \\overline{a_1, a_2, \\ldots, a_n, 2a_0}]"}),s.jsxs("p",{className:"text-dark-300 text-sm mt-3",children:["The period always ends with ",s.jsx(o,{children:"2a_0"}),"!"]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"More Continued Fractions"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"space-y-3 text-dark-200",children:[s.jsx("p",{children:s.jsxs(o,{children:["\\sqrt","{3}"," = [1; \\overline","{1, 2}","]"]})}),s.jsx("p",{children:s.jsxs(o,{children:["\\sqrt","{5}"," = [2; \\overline","{4}","]"]})}),s.jsx("p",{children:s.jsxs(o,{children:["\\sqrt","{7}"," = [2; \\overline","{1, 1, 1, 4}","]"]})}),s.jsx("p",{children:s.jsxs(o,{children:["\\sqrt","{13}"," = [3; \\overline","{1, 1, 1, 1, 6}","]"]})})]}),s.jsx("p",{className:"text-dark-300 text-sm mt-4",children:"Notice: the last term in each period is twice the initial term."})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Convergents"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Truncating a continued fraction gives ",s.jsx("strong",{children:"convergents"}),"rational approximations to the irrational number:"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["For ",s.jsxs(o,{children:["\\sqrt","{2}"," = [1; 2, 2, 2, \\ldots]"]}),":"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsx("li",{children:s.jsx(o,{children:"p_0/q_0 = 1/1 = 1"})}),s.jsx("li",{children:s.jsx(o,{children:"p_1/q_1 = 1 + 1/2 = 3/2 = 1.5"})}),s.jsx("li",{children:s.jsx(o,{children:"p_2/q_2 = 1 + 1/(2 + 1/2) = 7/5 = 1.4"})}),s.jsx("li",{children:s.jsx(o,{children:"p_3/q_3 = 17/12 \\approx 1.4167"})})]}),s.jsxs("p",{className:"text-dark-300 text-sm mt-4",children:["These converge rapidly to ",s.jsxs(o,{children:["\\sqrt","{2}"," \\approx 1.4142"]}),"!"]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Convergents are the ",s.jsx("em",{children:"best"})," rational approximationsno fraction with a smaller denominator can be closer to the target!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Pell's Equation"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The remarkable fact: convergents ",s.jsx(o,{children:"p_n/q_n"})," of"," ",s.jsxs(o,{children:["\\sqrt","{d}"]})," satisfy"," ",s.jsx(o,{children:"p_n^2 - dq_n^2 = \\pm 1"})," at the end of each period!"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200",children:["For ",s.jsxs(o,{children:["\\sqrt","{2}"]}),":"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200 mt-3",children:[s.jsx("li",{children:s.jsx(o,{children:"1^2 - 2 \\cdot 1^2 = -1"})}),s.jsxs("li",{children:[s.jsx(o,{children:"3^2 - 2 \\cdot 2^2 = 9 - 8 = 1"})," "]}),s.jsx("li",{children:s.jsx(o,{children:"7^2 - 2 \\cdot 5^2 = 49 - 50 = -1"})}),s.jsxs("li",{children:[s.jsx(o,{children:"17^2 - 2 \\cdot 12^2 = 289 - 288 = 1"})," "]})]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Continued fractions express numbers as nested reciprocals"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\sqrt","{d}"]})," has a periodic continued fraction (Lagrange)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Convergents give optimal rational approximations"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Convergents at period end solve Pell's equation"})]})]})]}),s.jsx(ve,{sectionId:69,questions:KJ})]})}function Nte(){return s.jsxs(je,{sectionId:70,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Pell's Equation"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Advanced Topic:"})," Pell's equation"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," is one of the most famous equations in number theory, connecting conics, continued fractions, and algebraic number theory."]})}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed mt-6",children:"Named after John Pell (though he didn't study it!), this equation has fascinated mathematicians since ancient times. Its solutions arise naturally from continued fractions."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Background"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The equation ",s.jsx(o,{children:"x^2 - 2y^2 = 1"})," was studied by the ancient Greeks, who found that solutions give excellent rational approximations to ",s.jsxs(o,{children:["\\sqrt","{2}"]}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["Indian mathematicians (especially ",s.jsx("strong",{children:"Brahmagupta"})," in the 7th century) developed systematic methods to solve"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," for various"," ",s.jsx(o,{children:"d"}),"."]}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx("strong",{children:"Lagrange"})," (1770) proved the complete theory using continued fractions."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Main Theorem"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Existence of Solutions"}),s.jsxs("p",{className:"text-dark-200",children:["For any positive integer ",s.jsx(o,{children:"d"})," that is not a perfect square, the equation ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," ","has infinitely many positive integer solutions."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The proof uses continued fractions: the convergent"," ",s.jsx(o,{children:"p_n/q_n"})," at the end of the first period of"," ",s.jsxs(o,{children:["\\sqrt","{d}"]})," gives the fundamental solution!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Finding the Fundamental Solution"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Algorithm"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-200",children:[s.jsxs("li",{children:["Compute the continued fraction of ",s.jsxs(o,{children:["\\sqrt","{d}"]})]}),s.jsxs("li",{children:["Find the period length ",s.jsx(o,{children:"n"})]}),s.jsxs("li",{children:["If ",s.jsx(o,{children:"n"})," is even, the fundamental solution is"," ",s.jsxs(o,{children:["(p_","n-1",", q_","n-1",")"]})]}),s.jsxs("li",{children:["If ",s.jsx(o,{children:"n"})," is odd, use"," ",s.jsxs(o,{children:["(p_","2n-1",", q_","2n-1",")"]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Examples"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-dark-200 font-semibold",children:s.jsx(o,{children:"x^2 - 2y^2 = 1"})}),s.jsxs("p",{className:"text-dark-300",children:[s.jsxs(o,{children:["\\sqrt","{2}"," = [1; \\overline","{2}","]"]}),", period = 1"]}),s.jsxs("p",{className:"text-dark-300",children:["Fundamental solution: ",s.jsx(o,{children:"(3, 2)"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-dark-200 font-semibold",children:s.jsx(o,{children:"x^2 - 3y^2 = 1"})}),s.jsxs("p",{className:"text-dark-300",children:[s.jsxs(o,{children:["\\sqrt","{3}"," = [1; \\overline","{1, 2}","]"]}),", period = 2"]}),s.jsxs("p",{className:"text-dark-300",children:["Fundamental solution: ",s.jsx(o,{children:"(2, 1)"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-dark-200 font-semibold",children:s.jsx(o,{children:"x^2 - 61y^2 = 1"})}),s.jsx("p",{className:"text-dark-300",children:"Period = 11 (long!)"}),s.jsxs("p",{className:"text-dark-300",children:["Fundamental solution: ",s.jsx(o,{children:"(1766319049, 226153980)"})]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The fundamental solution can be surprisingly large! For"," ",s.jsx(o,{children:"d = 61"}),", it has 10 digits. Fermat famously challenged mathematicians to find it."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Dirichlet's Approximation Theorem"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The existence of solutions to Pell's equation follows from a general principle about approximating irrationals:"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Dirichlet's Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["For any irrational ",s.jsx(o,{children:"\\alpha"})," and any"," ",s.jsx(o,{children:"N"}),", there exist integers"," ",s.jsx(o,{children:"p, q"})," with"," ",s.jsx(o,{children:"1 \\leq q \\leq N"})," such that:"]}),s.jsx($,{children:"\\left| \\alpha - \\frac{p}{q} \\right| < \\frac{1}{qN}"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:['This guarantees infinitely many "good" rational approximations. For'," ",s.jsxs(o,{children:["\\alpha = \\sqrt","{d}"]}),", these approximations come from convergents, which solve Pell's equation!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Applications"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Approximating square roots:"})," Solutions give excellent rational approximations"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Units in number fields:"})," Solutions correspond to units in ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{d}","]"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Cryptography:"})," The discrete log problem in the multiplicative group"]})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Pell's equation ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," always has infinitely many solutions"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The fundamental solution comes from continued fractions"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"All solutions are powers of the fundamental solution"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Dirichlet's theorem guarantees good rational approximations"})]})]})]}),s.jsx(ve,{sectionId:70,questions:QJ})]})}function kte(){return s.jsxs(je,{sectionId:71,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"Conic sections connect geometry, algebra, and number theory in profound ways. Let's reflect on the key themes and look ahead to deeper structures."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Historical Arc"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The study of conics spans over two millennia:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"~350 BC"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Menaechmus"})," discovers conics while trying to duplicate the cube"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"~200 BC"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Apollonius"})," writes the definitive treatise"," ",s.jsx("em",{children:"Conics"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"~1600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Kepler"})," discovers planetary orbits are ellipses"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1637"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Descartes & Fermat"})," show conics are quadratic curves"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1770"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Lagrange"})," solves Pell's equation via continued fractions"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Toward Projective Geometry"}),s.jsx("p",{className:"text-dark-200 mb-6",children:`In ordinary (Euclidean) geometry, parallel lines don't meet. But from certain perspectives, they appear to meet "at infinity"think of railroad tracks converging at the horizon.`}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Points at Infinity"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:[s.jsx("strong",{children:"Projective geometry"}),' formalizes this by adding "points at infinity" where parallel lines meet. Each direction has exactly one such point.']}),s.jsx("p",{className:"text-dark-200",children:'In projective geometry, the distinction between ellipse, parabola, and hyperbola becomes a distinction about how the conic meets the "line at infinity."'})]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Ellipse"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Doesn't meet line at "}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"No asymptotes"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Parabola"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Tangent to line at "}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"One point at infinity"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Hyperbola"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Crosses line at  twice"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Two asymptotic directions"})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Homogeneous Coordinates"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The projective plane is described using ",s.jsx("strong",{children:"homogeneous coordinates"})," ",s.jsx(o,{children:"(X : Y : Z)"}),", where multiples represent the same point:"]}),s.jsx($,{children:"(X : Y : Z) \\equiv (\\lambda X : \\lambda Y : \\lambda Z)"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The ordinary point ",s.jsx(o,{children:"(x, y)"})," corresponds to"," ",s.jsx(o,{children:"(x : y : 1)"}),". Points at infinity have"," ",s.jsx(o,{children:"Z = 0"}),"."]}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"In homogeneous coordinates, all nondegenerate conics become equivalent! They can all be transformed into each other. The projective viewpoint unifies the three types of conics."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Bzout's Theorem Revisited"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"In projective geometry, Bzout's theorem becomes exact:"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Projective Bzout"}),s.jsxs("p",{className:"text-dark-200",children:["A curve of degree ",s.jsx(o,{children:"m"})," and a curve of degree"," ",s.jsx(o,{children:"n"})," in the projective plane over"," ",s.jsxs(o,{children:["\\mathbb","{C}"]})," intersect in"," ",s.jsx("strong",{children:"exactly"})," ",s.jsx(o,{children:"mn"})," points (counted with multiplicity)."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:'No more "at most"the projective plane and complex numbers give us exactness!'}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Preview: Algebraic Geometry"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The study of conics is the beginning of ",s.jsx("strong",{children:"algebraic geometry"}),"the study of solutions to polynomial equations using geometric methods."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 1:"})," Lines (linear algebra)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 2:"})," Conics (this chapter!)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Degree 3:"})," Elliptic curves (deep number theory)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Higher degree:"})," Abelian varieties, schemes, ..."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Big Picture"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"In this chapter, we've seen how conics unite:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Geometry"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Slicing cones, foci, directrices, reflection"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Algebra"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Quadratic equations, discriminant, classification"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Number Theory"}),s.jsx("p",{className:"text-xs text-dark-300",children:"Integer points, Pell's equation, continued fractions"})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["This interplay between different areas of mathematicsgeometry, algebra, and arithmeticis a recurring theme in ",s.jsx("em",{children:"Numbers and Geometry"}),"and in mathematics as a whole."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Chapter Summary"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Conic sections come from slicing a cone; they are quadratic curves"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Eccentricity and the discriminant classify conics"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Focal properties explain optics and planetary motion"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Integer points on hyperbolas lead to Pell's equation"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Continued fractions solve Pell's equation systematically"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Projective geometry unifies all conics"})]})]})]}),s.jsx(ve,{sectionId:71,questions:JJ})]})}function Tte(){return s.jsxs(je,{sectionId:72,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Algebraic and Transcendental Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The main theme of this book has been the tension between arithmetic and geometry and its creative role in the development of mathematics. In this final chapter, we explore functions that ",s.jsx("em",{children:"transcend"})," ","algebrafunctions that cannot be captured by polynomial equations."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Algebraic Curves and Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["An ",s.jsx("strong",{children:"algebraic curve"})," is defined by a polynomial equation in two variables:"]}),s.jsx($,{children:"p(x, y) = 0"}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The corresponding ",s.jsx("strong",{children:"algebraic function"})," ",s.jsx(o,{children:"y"})," of ",s.jsx(o,{children:"x"})," satisfies this equation. Examples include:"]}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"Lines"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"ax + by + c = 0"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Degree 1"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Conics"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"ax^2 + bxy + cy^2 + \\cdots = 0"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Degree 2"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"Square Root"}),s.jsx("p",{className:"text-xs text-dark-300",children:s.jsx(o,{children:"y^2 - x = 0"})}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:s.jsxs(o,{children:["y = \\sqrt","{x}"]})})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Transcendental Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Functions that are ",s.jsx("em",{children:"not"})," algebraic are called"," ",s.jsx("strong",{children:"transcendental"}),'they "transcend" algebra. The most familiar examples are the trigonometric functions.']}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:["Why ",s.jsx(o,{children:"\\sin x"})," is Transcendental"]}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["The curve ",s.jsx(o,{children:"y = \\sin x"})," meets the x-axis at infinitely many points: ",s.jsx(o,{children:"x = 0, \\pm\\pi, \\pm 2\\pi, \\ldots"})]}),s.jsxs("p",{className:"text-dark-200",children:["But an algebraic curve ",s.jsx(o,{children:"p(x, y) = 0"})," meets the x-axis where ",s.jsx(o,{children:"p(x, 0) = 0"}),", which has only"," ",s.jsx("em",{children:"finitely many"})," solutions (the degree of the polynomial)."]})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Any ",s.jsx("strong",{children:"periodic"})," nonconstant function must be transcendental, for the same reason: its graph meets horizontal lines infinitely many times."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Arc Length and Area"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"arc length"})," of almost any algebraic curve is a transcendental function. This is why we defined sine and cosine in terms of arc lengththe resulting functions cannot be algebraic!"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Similarly, the ",s.jsx("strong",{children:"area"})," function of most curves is transcendental. However, area turns out to be more manageable than arc length, and it will be our key to defining the exponential function."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Exponential Function"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most important transcendental function is the"," ",s.jsx("strong",{children:"exponential"})," ",s.jsx(o,{children:"e^x"}),". Remarkably, it inherits its basic properties from the geometry of the"," ",s.jsx("strong",{children:"hyperbola"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:"In the coming sections, we will see that:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The ",s.jsx("strong",{children:"natural logarithm"})," is defined as area under the hyperbola ",s.jsx(o,{children:"xy = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The exponential function is the ",s.jsx("em",{children:"inverse"})," of the logarithm"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Euler's formula ",s.jsxs(o,{children:["e^","{i\\theta}"," = \\cos\\theta + i\\sin\\theta"]})," ","unifies exponential and trigonometric functions"]})]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Arithmetic-Geometry Tension"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Throughout this book, we've seen arithmetic confront geometry and both emerge stronger:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\sqrt","{2}"]})," challenged arithmetic but generated solutions to ",s.jsx(o,{children:"x^2 - 2y^2 = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsx("span",{children:"Coordinates described curves algebraically, fusing geometry with polynomials"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsx("span",{children:"Complex numbers completed algebra while modeling plane geometry"})]})]})}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Now we encounter functions that go beyond algebra entirely, yet reveal deep connections between geometry and number theory."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Algebraic functions satisfy polynomial equations"," ",s.jsx(o,{children:"p(x, y) = 0"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Transcendental functions (like sin, cos, exp) are not algebraic"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Periodic functions are transcendental (infinite intersections)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The exponential function inherits properties from the hyperbola"})]})]})]}),s.jsx(ve,{sectionId:72,questions:eee})]})}function Ste(){return s.jsxs(je,{sectionId:73,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Area Bounded by a Curve"}),s.jsx("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:"Just as we define the length of a curve as the least upper bound of polygon lengths, we can define the area under a curve as the least upper bound of polygon areas. This concept will lead us to the logarithm and exponential functions."}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Defining Area Under a Curve"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider the curve ",s.jsx(o,{children:"y = f(x)"})," and the region bounded by the curve, the x-axis, and the vertical lines"," ",s.jsx(o,{children:"x = a"})," and ",s.jsx(o,{children:"x = b"}),"."]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Definition of Area"}),s.jsxs("p",{className:"text-dark-200",children:["The ",s.jsx("strong",{children:"area"})," of the region is the"," ",s.jsx("em",{children:"least upper bound"})," of the areas of all polygons"," ",s.jsx(o,{children:"\\Pi"})," contained in it."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This definition exists whenever there is an upper bound to the polygon areasfor example, when ",s.jsx(o,{children:"f(x)"})," is bounded on the interval from ",s.jsx(o,{children:"a"})," to ",s.jsx(o,{children:"b"}),"."]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Students of calculus will recognize this as essentially the"," ",s.jsx("strong",{children:"definite integral"})," of ",s.jsx(o,{children:"f(x)"})," ","from ",s.jsx(o,{children:"a"})," to ",s.jsx(o,{children:"b"}),". But we shall derive basic properties of area without calculus!"]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Magnification Property"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"A fundamental property inherited from polygon areas:"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Scaling of Area"}),s.jsxs("p",{className:"text-dark-200",children:["If a region is magnified by a factor ",s.jsx(o,{children:"M"})," in the x-direction and a factor ",s.jsx(o,{children:"N"})," in the y-direction, then its area is magnified by a factor"," ",s.jsx(o,{children:"MN"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Special case:"})," Magnification by ",s.jsx(o,{children:"M"})," ","in all directions magnifies area by ",s.jsx(o,{children:"M^2"}),". This is why the area of a circle of radius ",s.jsx(o,{children:"R"})," is proportional to ",s.jsx(o,{children:"R^2"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Examples"}),s.jsx("h4",{className:"text-lg font-medium mt-6 mb-3",children:"The Lune of Hippocrates (430 BC)"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Hippocrates of Chios"})," made the first determination of a curved area. He found that a certain ",s.jsx("em",{children:"lune"})," (crescent-shaped region between two circular arcs) has the same area as a triangle."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsx("p",{className:"text-dark-200",children:"This was groundbreaking: it showed curved areas are within the grasp of mathematics! However, the result doesn't tell us the area of the circle itselfthe circular areas cancel out."})}),s.jsx("h4",{className:"text-lg font-medium mt-6 mb-3",children:"Archimedes and the Parabola (250 BC)"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:[s.jsx("strong",{children:"Archimedes"})," found the area under the parabola"," ",s.jsx(o,{children:"y = x^2"})," from ",s.jsx(o,{children:"x = 0"})," to"," ",s.jsx(o,{children:"x = 1"})," by approximating with step polygons."]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Area Under the Parabola"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["The area of a step polygon with ",s.jsx(o,{children:"n"})," steps is:"]}),s.jsx($,{children:"\\frac{1^2 + 2^2 + 3^2 + \\cdots + (n-1)^2}{n^3}"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["Using the formula"," ",s.jsxs(o,{children:["1^2 + 2^2 + \\cdots + k^2 = \\frac","{k(k+1)(2k+1)}","{6}"]}),", this approaches ",s.jsxs(o,{children:["\\frac","{1}","{3}"]})," as"," ",s.jsx(o,{children:"n \\to \\infty"}),"."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The parabola is special: its area function is ",s.jsx("strong",{children:"algebraic"}),". Most curves, including the circle and hyperbola, have transcendental area functions."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Area vs. Arc Length"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"For most curves, the area function is more manageable than arc length. This is why we will use area (not arc length) to define the transcendental functions in the remainder of this chapter."}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Special case: the circle"})}),s.jsxs("p",{className:"text-dark-200",children:["For the unit circle, arc length and area are closely related: a sector with angle ",s.jsx(o,{children:"\\theta"})," has area"," ",s.jsx(o,{children:"\\theta/2"}),". So the parameter"," ",s.jsx(o,{children:"\\theta"})," in"," ",s.jsx(o,{children:"x = \\cos\\theta"}),","," ",s.jsx(o,{children:"y = \\sin\\theta"})," is twice the sector area."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Area under a curve = least upper bound of polygon areas"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Magnification by ",s.jsx(o,{children:"M \\times N"})," scales area by ",s.jsx(o,{children:"MN"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Hippocrates found the first curved area (lune); Archimedes found the area under a parabola"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["The parabola has an algebraic area function ("," ",s.jsx(o,{children:"x^3/3"}),"); most curves are transcendental"]})]})]})]}),s.jsx(ve,{sectionId:73,questions:tee})]})}function Ate(){return s.jsxs(je,{sectionId:74,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Natural Logarithm and the Exponential"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The area under the hyperbola ",s.jsx(o,{children:"xy = 1"})," gives rise to the ",s.jsx("strong",{children:"natural logarithm"}),"one of the most important functions in mathematics. Its inverse is the"," ",s.jsx("strong",{children:"exponential function"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Defining the Natural Logarithm"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The hyperbola ",s.jsx(o,{children:"xy = 1"})," (or"," ",s.jsx(o,{children:"y = 1/x"}),") has a transcendental area function, but one with beautiful properties."]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:["Definition of ",s.jsx(o,{children:"\\log t"})]}),s.jsxs("p",{className:"text-dark-200",children:["The ",s.jsx("strong",{children:"natural logarithm"})," of ",s.jsx(o,{children:"t"})," ","is the area under the curve ",s.jsx(o,{children:"xy = 1"})," from"," ",s.jsx(o,{children:"x = 1"})," to ",s.jsx(o,{children:"x = t"}),"."]}),s.jsx($,{children:"\\log t = \\text{area from } x = 1 \\text{ to } x = t"})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"By this definition:"}),s.jsxs("ul",{className:"space-y-2 text-dark-200 mb-6 ml-4",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"\\log 1 = 0"})," (no area when"," ",s.jsx(o,{children:"t = 1"}),")"]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"\\log t > 0"})," for"," ",s.jsx(o,{children:"t > 1"})]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"\\log t < 0"})," for"," ",s.jsx(o,{children:"0 < t < 1"})," (area with negative sign)"]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Additive Property"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most remarkable property of the logarithm follows directly from the geometry of ",s.jsx(o,{children:"y = 1/x"}),":"]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Additive Property of log"}),s.jsxs("p",{className:"text-dark-200 mb-4",children:["For positive real numbers ",s.jsx(o,{children:"a"})," and"," ",s.jsx(o,{children:"b"}),":"]}),s.jsx($,{children:"\\log(ab) = \\log a + \\log b"})]}),s.jsx("h4",{className:"text-lg font-medium mt-6 mb-3",children:"Proof"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Consider the area from ",s.jsx(o,{children:"x = 1"})," to"," ",s.jsx(o,{children:"x = ab"}),". Split it at"," ",s.jsx(o,{children:"x = a"}),":"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1."}),s.jsxs("span",{children:["Area from ",s.jsx(o,{children:"1"})," to ",s.jsx(o,{children:"a"})," ","is ",s.jsx(o,{children:"\\log a"})," by definition."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"2."}),s.jsxs("span",{children:["Area from ",s.jsx(o,{children:"a"})," to ",s.jsx(o,{children:"ab"})," ","is ",s.jsx(o,{children:"a"})," times as long as from"," ",s.jsx(o,{children:"1"})," to ",s.jsx(o,{children:"b"}),"."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"3."}),s.jsxs("span",{children:["But it's also ",s.jsx(o,{children:"1/a"})," times as high (because"," ",s.jsx(o,{children:"y = 1/x"}),")."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"4."}),s.jsxs("span",{children:["So the areas are equal: area from ",s.jsx(o,{children:"a"})," to"," ",s.jsx(o,{children:"ab"})," = ",s.jsx(o,{children:"\\log b"}),"."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Consequences of the Additive Property"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"1."}),s.jsxs("span",{children:[s.jsx(o,{children:"\\log a^n = n \\log a"})," for any integer"," ",s.jsx(o,{children:"n"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"2."}),s.jsx("span",{children:"The log function takes each real value exactly once"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"3."}),s.jsxs("span",{children:["There exists a number ",s.jsx(o,{children:"e"})," with"," ",s.jsx(o,{children:"\\log e = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:"4."}),s.jsxs("span",{children:[s.jsx(o,{children:"x = e^y"})," if and only if"," ",s.jsx(o,{children:"y = \\log x"})]})]})]})}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Number ",s.jsx(o,{children:"e"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The number ",s.jsx(o,{children:"e"})," is defined as the unique number whose natural logarithm equals 1:"]}),s.jsx($,{children:"\\log e = 1, \\quad e \\approx 2.71828..."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["The number ",s.jsx(o,{children:"e"})," is ",s.jsx("strong",{children:"transcendental"}),"it's not the root of any polynomial with integer coefficients. This was proved by Charles Hermite in 1873."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Exponential Function"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The ",s.jsx("strong",{children:"exponential function"})," ",s.jsx(o,{children:"e^x"})," ","is defined as the inverse of the logarithm:"]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:["Definition of ",s.jsx(o,{children:"e^x"})]}),s.jsxs("p",{className:"text-dark-200",children:[s.jsx(o,{children:"e^y"})," is the number ",s.jsx(o,{children:"x"})," ","whose logarithm is ",s.jsx(o,{children:"y"}),":"]}),s.jsx($,{children:"x = e^y \\iff y = \\log x"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The graph of ",s.jsx(o,{children:"t = e^y"})," is obtained by swapping the axes of ",s.jsx(o,{children:"y = \\log t"}),". It shows exponential growth: slow for negative ",s.jsx(o,{children:"y"}),", rapid for positive ",s.jsx(o,{children:"y"}),"."]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\log t"})," = area under"," ",s.jsx(o,{children:"xy = 1"})," from 1 to"," ",s.jsx(o,{children:"t"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Additive property: ",s.jsx(o,{children:"\\log(ab) = \\log a + \\log b"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"e \\approx 2.718"})," is defined by"," ",s.jsx(o,{children:"\\log e = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"e^x"})," is the inverse of"," ",s.jsx(o,{children:"\\log x"})]})]})]})]}),s.jsx(ve,{sectionId:74,questions:see})]})}function Ete(){return s.jsxs(je,{sectionId:75,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Exponential Function"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The exponential function ",s.jsx(o,{children:"e^x"})," is arguably the most important function in mathematics. Its simple addition formula and deep connections to trigonometry make it central to both pure and applied mathematics."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Addition Formula"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The additive property of log translates into a multiplicative property for the exponential:"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:["Addition Formula for ",s.jsx(o,{children:"e^x"})]}),s.jsx($,{children:"e^{a+b} = e^a \\cdot e^b"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["This is the characteristic property of exponentsit justifies treating ",s.jsx(o,{children:"e^x"})," as a power of"," ",s.jsx(o,{children:"e"}),"."]})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Proof:"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" ",s.jsxs(o,{children:["e^","{a+b}"]})," is the number whose log is"," ",s.jsx(o,{children:"a + b"})]}),s.jsxs("li",{children:[" By the additive property of log,"," ",s.jsx(o,{children:"a + b = \\log(e^a \\cdot e^b)"})]}),s.jsxs("li",{children:[" Therefore ",s.jsxs(o,{children:["e^","{a+b}"," = e^a \\cdot e^b"]})]})]})]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Why Use ",s.jsx(o,{children:"e"}),"?"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["We could use powers of any positive number, like"," ",s.jsx(o,{children:"2^x"})," or ",s.jsx(o,{children:"10^x"}),". Why is"," ",s.jsx(o,{children:"e"})," special?"]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The properties of ",s.jsx(o,{children:"a^x"})," often involve"," ",s.jsx(o,{children:"\\log a"}),". Since ",s.jsx(o,{children:"\\log e = 1"}),", formulas are simplest when the base is ",s.jsx(o,{children:"e"}),"."]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Formulas for ",s.jsx(o,{children:"e"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The number ",s.jsx(o,{children:"e"})," can be computed from these remarkable formulas:"]}),s.jsx("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Limit formula:"}),s.jsx($,{children:"e = \\lim_{n \\to \\infty} \\left(1 + \\frac{1}{n}\\right)^n"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Series formula:"}),s.jsx($,{children:"e^x = 1 + \\frac{x}{1!} + \\frac{x^2}{2!} + \\frac{x^3}{3!} + \\cdots"})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Setting ",s.jsx(o,{children:"x = 1"})," gives:"]}),s.jsx($,{children:"e = 1 + 1 + \\frac{1}{2} + \\frac{1}{6} + \\frac{1}{24} + \\cdots \\approx 2.71828"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Euler's Formula"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The most spectacular connection of ",s.jsx(o,{children:"e"})," to other mathematics comes from Euler (1748):"]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Euler's Formula"}),s.jsx($,{children:"e^{i\\theta} = \\cos\\theta + i\\sin\\theta"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["This remarkable formula unifies exponential and trigonometric functions! The special case ",s.jsx(o,{children:"\\theta = \\pi"}),"gives:"]}),s.jsx($,{children:"e^{i\\pi} = -1"}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["This equation, ",s.jsxs(o,{children:["e^","{i\\pi}"," + 1 = 0"]}),", connects five fundamental constants:"," ",s.jsx(o,{children:"e"}),", ",s.jsx(o,{children:"i"}),","," ",s.jsx(o,{children:"\\pi"}),", ",s.jsx(o,{children:"1"}),", and"," ",s.jsx(o,{children:"0"}),'. It is often called "the most beautiful equation in mathematics."']})}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Transcendence of ",s.jsx(o,{children:"e^x"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Euler's formula proves that ",s.jsx(o,{children:"e^x"})," is transcendental:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" If ",s.jsx(o,{children:"e^x"})," were algebraic, the equation"," ",s.jsx(o,{children:"e^x = 1"})," would have only finitely many solutions."]}),s.jsxs("li",{children:[" But ",s.jsxs(o,{children:["e^","{2\\pi in}"," = (\\cos 2\\pi + i\\sin 2\\pi)^n = 1"]})," ","for all integers ",s.jsx(o,{children:"n"}),"."]}),s.jsxs("li",{children:[" So ",s.jsx(o,{children:"e^x = 1"})," has infinitely many solutions:"," ",s.jsx(o,{children:"x = 2\\pi in"}),"."]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Historical Note"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1873"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hermite"})," proved ",s.jsx(o,{children:"e"}),' is transcendentalthe first "known" transcendental number.']})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"1882"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Lindemann"})," proved ",s.jsx(o,{children:"\\pi"})," is transcendental, building on Hermite's method."]})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Addition formula: ",s.jsxs(o,{children:["e^","{a+b}"," = e^a \\cdot e^b"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:s.jsx(o,{children:"e = \\lim(1 + 1/n)^n = 1 + 1 + 1/2! + 1/3! + \\cdots"})})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Euler's formula:"," ",s.jsxs(o,{children:["e^","{i\\theta}"," = \\cos\\theta + i\\sin\\theta"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["e^","{i\\pi}"," + 1 = 0"]})," connects five fundamental constants"]})]})]})]}),s.jsx(ve,{sectionId:75,questions:iee})]})}function qte(){return s.jsxs(je,{sectionId:76,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Hyperbolic Functions"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["Just as the circle ",s.jsx(o,{children:"x^2 + y^2 = 1"})," is parametrized by ",s.jsx(o,{children:"\\cos\\theta"})," and"," ",s.jsx(o,{children:"\\sin\\theta"}),", the hyperbola"," ",s.jsx(o,{children:"x^2 - y^2 = 1"})," is parametrized by the"," ",s.jsx("strong",{children:"hyperbolic cosine"})," and ",s.jsx("strong",{children:"hyperbolic sine"}),"."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Definitions"}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Hyperbolic Cosine and Sine"}),s.jsx($,{children:"\\cosh\\theta = \\frac{e^\\theta + e^{-\\theta}}{2}"}),s.jsx($,{children:"\\sinh\\theta = \\frac{e^\\theta - e^{-\\theta}}{2}"})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"These names are justified by the fundamental identity:"}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"The Hyperbolic Identity"}),s.jsx($,{children:"\\cosh^2\\theta - \\sinh^2\\theta = 1"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["This is the hyperbolic analog of ",s.jsx(o,{children:"\\cos^2\\theta + \\sin^2\\theta = 1"}),"."]})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:s.jsx("strong",{children:"Proof:"})}),s.jsx($,{children:"\\cosh^2\\theta - \\sinh^2\\theta = \\frac{(e^\\theta + e^{-\\theta})^2}{4} - \\frac{(e^\\theta - e^{-\\theta})^2}{4} = \\frac{4}{4} = 1"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Properties"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\cosh(-\\theta) = \\cosh\\theta"})," (even function)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\sinh(-\\theta) = -\\sinh\\theta"})," (odd function)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\cosh\\theta \\geq 1"})," for all"," ",s.jsx(o,{children:"\\theta"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\sinh\\theta"})," takes each real value exactly once"]})]})]})}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Thus each point on the positive branch (",s.jsx(o,{children:"x > 0"}),") of ",s.jsx(o,{children:"x^2 - y^2 = 1"})," corresponds to a unique"," ",s.jsx(o,{children:"\\theta"}),":"]}),s.jsx($,{children:"P_\\theta = (\\cosh\\theta, \\sinh\\theta)"}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Addition Formulas"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The hyperbolic functions satisfy addition formulas similar to"," ",s.jsx(o,{children:"\\cos"})," and ",s.jsx(o,{children:"\\sin"}),":"]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\cosh(\\theta + \\phi) = \\cosh\\theta\\cosh\\phi + \\sinh\\theta\\sinh\\phi"}),s.jsx($,{children:"\\sinh(\\theta + \\phi) = \\sinh\\theta\\cosh\\phi + \\cosh\\theta\\sinh\\phi"})]}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Notice the ",s.jsx(o,{children:"+"})," in the cosh formula (vs."," ",s.jsx(o,{children:"-"})," for cos). This is because"," ",s.jsx(o,{children:"\\cosh i\\theta = \\cos\\theta"})," and"," ",s.jsx(o,{children:"\\sinh i\\theta = i\\sin\\theta"}),"."]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Adding Points on the Hyperbola"}),s.jsx("p",{className:"text-dark-200 mb-6",children:'Points on the hyperbola can be "added" by adding their parameters:'}),s.jsx($,{children:"P_\\theta + P_\\phi = P_{\\theta + \\phi}"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The coordinates of ",s.jsxs(o,{children:["P_","{\\theta + \\phi}"]}),` are computed using the addition formulas. This "addition" of points has remarkable connections to integer solutions of Pell's equation!`]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Connection to Circular Functions"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Euler's formula reveals the deep connection between hyperbolic and circular functions:"}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"\\cos\\theta = \\cosh(i\\theta)"}),s.jsx($,{children:"\\sin\\theta = \\frac{1}{i}\\sinh(i\\theta)"}),s.jsx("p",{className:"text-dark-200 mt-4",children:"The circular and hyperbolic functions are the same function with different argumentsreal for hyperbolic, imaginary for circular!"})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Area Interpretation"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Just as ",s.jsx(o,{children:"\\theta"})," in"," ",s.jsx(o,{children:"(\\cos\\theta, \\sin\\theta)"})," is twice the sector area of the circle, the parameter ",s.jsx(o,{children:"\\theta"})," in"," ",s.jsx(o,{children:"(\\cosh\\theta, \\sinh\\theta)"}),' is twice the area of a hyperbolic "sector."']}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsxs(o,{children:["\\cosh\\theta = (e^\\theta + e^","{-\\theta}",")/2"]}),","," ",s.jsxs(o,{children:["\\sinh\\theta = (e^\\theta - e^","{-\\theta}",")/2"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"\\cosh^2\\theta - \\sinh^2\\theta = 1"})," (hyperbolic identity)"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Points ",s.jsx(o,{children:"P_\\theta = (\\cosh\\theta, \\sinh\\theta)"})," ","lie on ",s.jsx(o,{children:"x^2 - y^2 = 1"})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:'Addition formulas allow "adding" points on the hyperbola'})]})]})]}),s.jsx(ve,{sectionId:76,questions:nee})]})}function Ite(){return s.jsxs(je,{sectionId:77,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"The Pell Equation Revisited"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["The hyperbolic functions provide a beautiful new perspective on Pell's equation ",s.jsx(o,{children:"x^2 - dy^2 = 1"}),'. The rule for generating integer solutions turns out to be the same as "adding points" using hyperbolic function addition formulas!']}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Parametrizing ",s.jsx(o,{children:"x^2 - dy^2 = 1"})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["For any nonsquare positive integer ",s.jsx(o,{children:"d"}),", the hyperbola ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," is parametrized by:"]}),s.jsxs("div",{className:"bg-blue-900/30 border border-blue-500/30 rounded-lg p-6 mb-6",children:[s.jsx($,{children:"x = \\cosh\\theta, \\quad y = \\frac{1}{\\sqrt{d}}\\sinh\\theta"}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["This gives a one-to-one correspondence between real numbers"," ",s.jsx(o,{children:"\\theta"})," and points on the positive branch."]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Rule for Adding Points"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["Let ",s.jsx(o,{children:"P_\\theta = (x_\\theta, y_\\theta)"})," and"," ",s.jsx(o,{children:"P_\\phi = (x_\\phi, y_\\phi)"})," be points on"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"}),'. Their "sum"'," ",s.jsxs(o,{children:["P_","{\\theta + \\phi}"]})," has coordinates:"]}),s.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-purple-400 mb-3",children:"Point Addition Formula"}),s.jsx($,{children:"x_{\\theta+\\phi} = x_\\theta x_\\phi + d \\cdot y_\\theta y_\\phi"}),s.jsx($,{children:"y_{\\theta+\\phi} = x_\\theta y_\\phi + y_\\theta x_\\phi"})]}),s.jsx("p",{className:"text-dark-200 mb-6",children:"This formula can also be written:"}),s.jsx($,{children:"x_{\\theta+\\phi} + y_{\\theta+\\phi}\\sqrt{d} = (x_\\theta + y_\\theta\\sqrt{d})(x_\\phi + y_\\phi\\sqrt{d})"}),s.jsx(ne,{type:"info",children:s.jsx("p",{children:"This is exactly the multiplication rule we used in Chapter 8 to generate integer solutions! The hyperbolic functions reveal that it's really just addition of parameter values."})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Integer Points Form a Group"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The integer points on the positive branch of"," ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," form a ",s.jsx("strong",{children:"subgroup"})," ","of all points (under the addition operation)."]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Closure:"})," The sum of two integer points is an integer point (by the addition formula)."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Identity:"})," The point ",s.jsx(o,{children:"(1, 0)"})," ","is the identity (parameter ",s.jsx(o,{children:"\\theta = 0"}),")."]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Inverses:"})," If ",s.jsx(o,{children:"(x, y)"})," is an integer point, so is ",s.jsx(o,{children:"(x, -y)"}),"."]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"An Infinite Cyclic Group"}),s.jsxs("div",{className:"bg-green-900/30 border border-green-500/30 rounded-lg p-6 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-3",children:"Generation Theorem"}),s.jsxs("p",{className:"text-dark-200",children:["All integer points on ",s.jsx(o,{children:"x^2 - dy^2 = 1"})," result from ",s.jsx(o,{children:"(1, 0)"})," and the ",s.jsx("strong",{children:"nearest"})," ","integer point to it by addition and subtraction."]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["In other words, the integer points form an ",s.jsx("strong",{children:"infinite cyclic group"})," generated by the fundamental solution!"]}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["Example: ",s.jsx(o,{children:"x^2 - 2y^2 = 1"})]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsxs("p",{className:"text-dark-200 mb-4",children:["The fundamental solution is ",s.jsx(o,{children:"(3, 2)"}),". Adding this to itself:"]}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" ",s.jsx(o,{children:"P_1 = (3, 2)"})]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"P_1 + P_1 = P_2"}),":"," ",s.jsx(o,{children:"x = 3 \\cdot 3 + 2 \\cdot 2 \\cdot 2 = 17"}),","," ",s.jsx(o,{children:"y = 3 \\cdot 2 + 2 \\cdot 3 = 12"})]}),s.jsxs("li",{children:[" ",s.jsx(o,{children:"P_2 + P_1 = P_3"}),":"," ",s.jsx(o,{children:"(99, 70)"})]})]}),s.jsxs("p",{className:"text-dark-200 mt-4",children:["These are ",s.jsx("em",{children:"all"})," the positive integer solutions!"]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Big Picture"}),s.jsx("p",{className:"text-dark-200 mb-6",children:`This connection between hyperbolic functions and Pell's equation shows a remarkable "pre-established harmony" between:`}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Arithmetic:"})," Integer solutions generated by multiplying ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Geometry:"})," Points on a hyperbola added by parameter values"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Analysis:"})," Hyperbolic functions defined via exponentials"]})]})]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Key Points"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx(o,{children:"x^2 - dy^2 = 1"})," parametrized by"," ",s.jsxs(o,{children:["(\\cosh\\theta, \\frac","{1}","{\\sqrt{d}}","\\sinh\\theta)"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsxs("span",{children:["Point addition  multiplication of"," ",s.jsxs(o,{children:["x + y\\sqrt","{d}"]})]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"Integer points form an infinite cyclic group"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:""}),s.jsx("span",{children:"The fundamental solution generates all solutions"})]})]})]}),s.jsx(ve,{sectionId:77,questions:ree})]})}function _te(){return s.jsxs(je,{sectionId:78,children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Discussion"}),s.jsxs("p",{className:"text-dark-200 mb-6 text-lg leading-relaxed",children:["We have reached the end of our journey through ",s.jsx("em",{children:"Numbers and Geometry"}),". This final chapter reveals that arithmetic and geometry, far from being separate subjects, are deeply unified through the language of functions."]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"From Natural Numbers to Complex Numbers"}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The march of the number concept from ",s.jsxs(o,{children:["\\mathbb","{N}"]})," ","to ",s.jsxs(o,{children:["\\mathbb","{C}"]})," is one of the great sagas of mathematics:"]}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:s.jsxs(o,{children:["\\mathbb","{N}"," \\to \\mathbb","{Z}"]})}),s.jsx("span",{children:"Adding negatives, enabling unlimited subtraction"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:s.jsxs(o,{children:["\\mathbb","{Z}"," \\to \\mathbb","{Q}"]})}),s.jsx("span",{children:"Adding fractions, enabling division (except by 0)"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:s.jsxs(o,{children:["\\mathbb","{Q}"," \\to \\mathbb","{R}"]})}),s.jsx("span",{children:"Completing the rationals, modeling the geometric line"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:s.jsxs(o,{children:["\\mathbb","{R}"," \\to \\mathbb","{C}"]})}),s.jsxs("span",{children:["Adding ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]}),", completing algebra"]})]})]})}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:["Each extension preserves ",s.jsx("strong",{children:"field structure"}),"the ability to add, subtract, multiply, and divide (except by 0). This structure is so fruitful that it guides all further extensions."]})}),s.jsxs("h3",{className:"text-xl font-semibold mt-10 mb-4",children:["The Profound Step to ",s.jsxs(o,{children:["\\mathbb","{R}"]})]}),s.jsxs("p",{className:"text-dark-200 mb-6",children:["The step from ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," to"," ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is the deepest, because it bridges discrete and continuous. It commits us to ",s.jsx("strong",{children:"set theory"}),": we need infinite sets and uncountably many of them!"]}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-dark-200 mb-4",children:s.jsx("strong",{children:"Cantor's discoveries (1874):"})}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{children:[" ",s.jsxs(o,{children:["\\mathbb","{Q}"]})," is countable (can be listed)"]}),s.jsx("li",{children:" Algebraic numbers are countable (roots of polynomials)"}),s.jsxs("li",{children:[" ",s.jsxs(o,{children:["\\mathbb","{R}"]})," is ",s.jsx("em",{children:"uncountable"})]}),s.jsxs("li",{children:[" Therefore ",s.jsx("strong",{children:"transcendental numbers exist"})," (and are the vast majority!)"]})]})]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Exponential Function"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The exponential function is an amazing confluence of arithmetic and geometric ideas:"}),s.jsxs(ke,{children:[s.jsxs(X,{children:[s.jsx(K,{title:"In "}),s.jsx("p",{className:"text-xs text-dark-300",children:"Powers of 2: 2  2 = 2"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Exponents add when multiplying"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"In "}),s.jsx("p",{className:"text-xs text-dark-300",children:"e for all real x"}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Extends to continuous domain"})]}),s.jsxs(X,{children:[s.jsx(K,{title:"In "}),s.jsx("p",{className:"text-xs text-dark-300",children:"e = cos  + i sin "}),s.jsx("p",{className:"text-xs text-dark-400 mt-2",children:"Unifies with trigonometry"})]})]}),s.jsxs("p",{className:"text-dark-200 my-6",children:["The logarithm provides an ",s.jsx("strong",{children:"isomorphism"})," between the multiplicative group of positive reals and the additive group of all reals. This was the key to practical computation before electronic calculators!"]}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"The Unity of Mathematics"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"Throughout this book, we have seen the same themes reappear in different guises:"}),s.jsx("div",{className:"bg-purple-900/30 border border-purple-500/30 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"space-y-4 text-dark-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"The circle"}),s.jsxs("p",{children:["Parametrized by ",s.jsx(o,{children:"(\\cos\\theta, \\sin\\theta)"}),", generating Pythagorean triples, connected to"," ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"The hyperbola"}),s.jsxs("p",{children:["Parametrized by ",s.jsx(o,{children:"(\\cosh\\theta, \\sinh\\theta)"}),", generating Pell equation solutions, connected to"," ",s.jsxs(o,{children:["\\sqrt","{d}"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-400 font-semibold",children:"The exponential"}),s.jsxs("p",{children:["Unifies circle and hyperbola via"," ",s.jsxs(o,{children:["e^","{i\\theta}"," = \\cos\\theta + i\\sin\\theta"]})]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Looking Forward"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The ideas in this book are the foundation for advanced mathematics:"}),s.jsx("div",{className:"bg-dark-800 rounded-lg p-6 mb-6",children:s.jsxs("ul",{className:"space-y-3 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebraic number theory:"})," Studying"," ",s.jsxs(o,{children:["\\mathbb","{Z}","[\\sqrt","{d}","]"]})," and other number rings"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Algebraic geometry:"})," Curves like elliptic curves (degree 3), building on conics"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Complex analysis:"})," The exponential and its inverse in the complex plane"]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-green-400 font-bold",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Group theory:"})," The groups we've seen on curves and in modular arithmetic"]})]})]})}),s.jsx("h3",{className:"text-xl font-semibold mt-10 mb-4",children:"Final Reflection"}),s.jsx("p",{className:"text-dark-200 mb-6",children:"The tension between arithmetic and geometry has been creative throughout history. Numbers forced us to go beyond counting; geometry forced us to go beyond algebra. Yet at every step, the two domains have enriched each other."}),s.jsx(ne,{type:"info",children:s.jsxs("p",{children:[s.jsxs(o,{children:["\\sqrt","{2}"]})," challenged arithmetic but proved its worth by solving ",s.jsx(o,{children:"x^2 - 2y^2 = 1"}),"."," ",s.jsxs(o,{children:["i = \\sqrt","{-1}"]})," seemed impossible but completed algebra and unified geometry. The transcendental functions go beyond both, yet reveal the deepest connections between numbers and curves."]})}),s.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 mt-8",children:[s.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Course Summary"}),s.jsxs("ul",{className:"space-y-2 text-dark-200",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 1"}),s.jsx("span",{children:"Arithmetic: primes, factorization, induction"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 2"}),s.jsx("span",{children:"Geometry: Euclid, constructions, area, volume"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 3"}),s.jsx("span",{children:"Coordinates: the real line and plane, isometries"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 4"}),s.jsx("span",{children:"Rational points: Pythagorean triples, Diophantine problems"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 5"}),s.jsx("span",{children:"Trigonometry: angles, addition formulas, Dehn invariant"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 6"}),s.jsx("span",{children:"Finite arithmetic: modular arithmetic, quadratic reciprocity"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 7"}),s.jsx("span",{children:"Complex numbers: Gaussian integers, sums of squares"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 8"}),s.jsx("span",{children:"Conic sections: conics, Pell's equation, continued fractions"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-amber-400 font-bold",children:"Ch 9"}),s.jsx("span",{children:"Elementary functions: log, exp, hyperbolic functions"})]})]})]}),s.jsx(ve,{sectionId:78,questions:aee})]})}const Cte={0:lee,1:oee,2:cee,3:dee,4:hee,5:uee,6:mee,7:pee,8:fee,9:xee,10:gee,11:bee,12:yee,13:vee,14:jee,15:wee,16:Nee,17:kee,18:Tee,19:See,20:Aee,21:Eee,22:qee,23:Iee,24:_ee,25:Cee,26:Mee,27:zee,28:Dee,29:Ree,30:Oee,31:Pee,32:$ee,33:Bee,34:Lee,35:Uee,36:Fee,37:Hee,38:Gee,39:Vee,40:Wee,41:Zee,42:Yee,43:Xee,44:Kee,45:Qee,46:Jee,47:ete,48:tte,49:ste,50:ite,51:nte,52:rte,53:ate,54:lte,55:ote,56:cte,57:dte,58:hte,59:ute,60:mte,61:pte,62:fte,63:xte,64:gte,65:bte,66:yte,67:vte,68:jte,69:wte,70:Nte,71:kte,72:Tte,73:Ste,74:Ate,75:Ete,76:qte,77:Ite,78:_te};function Mte({children:t}){const[e,i]=Z.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[s.jsx(oy,{sidebarOpen:e,onToggleSidebar:()=>i(!e)}),s.jsx(cy,{isOpen:e,onClose:()=>i(!1)}),s.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function zte(){const{id:t}=Xw(),e=parseInt(t||"0",10),i=Cte[e];return i?s.jsx(i,{}):s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),s.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function Dte(){return s.jsxs(s.Fragment,{children:[s.jsx(Mte,{children:s.jsxs(GC,{children:[s.jsx(Ea,{path:"/",element:s.jsx(r7,{})}),s.jsx(Ea,{path:"/leaderboard",element:s.jsx(AX,{})}),s.jsx(Ea,{path:"/theorems",element:s.jsx(IQ,{})}),s.jsx(Ea,{path:"/interactive",element:s.jsx(_Q,{})}),s.jsx(Ea,{path:"/section/:id",element:s.jsx(zte,{})}),s.jsx(Ea,{path:"/quiz/section/:id",element:s.jsx(CQ,{})}),s.jsx(Ea,{path:"*",element:s.jsx(r7,{})})]})}),s.jsx(wX,{})]})}function Rte(){return s.jsx(JC,{children:s.jsx(vU,{children:s.jsx(BG,{children:s.jsx(Dte,{})})})})}eC.createRoot(document.getElementById("root")).render(s.jsx(Z.StrictMode,{children:s.jsx(Rte,{})}));
