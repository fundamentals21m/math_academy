import{k as I,p as G,r as p,g as X,a as U,b as Y,c as J,d as K,u as _,j as e,L as k,H as V,S as Z,m as C}from"./index-ACWvXSXN.js";function A(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function ee(t){if(!t)return[];const i=[];let d=0;const r=[],o=/\$\$([^$]*?)\$\$/g;let u;for(;(u=o.exec(t))!==null;)r.push({type:"display",latex:u[1],start:u.index,end:u.index+u[0].length});const b=/\$([^$]+?)\$/g;let l;for(;(l=b.exec(t))!==null;)r.some(x=>l.index>=x.start&&l.index<x.end)||r.push({type:"inline",latex:l[1],start:l.index,end:l.index+l[0].length});return r.sort((m,x)=>m.start-x.start),r.forEach(m=>{const x=t.slice(d,m.start);x&&i.push({type:"text",content:x}),i.push({type:m.type==="display"?"display-math":"inline-math",content:m.latex}),d=m.end}),d<t.length&&i.push({type:"text",content:t.slice(d)}),i}function te(t){if(!t)return"";const d=ee(t).map(r=>{if(r.type==="text")return A(r.content);if(r.type==="inline-math")try{return I.renderToString(r.content,{throwOnError:!1,displayMode:!1})}catch{return A(r.content)}else if(r.type==="display-math")try{return I.renderToString(r.content,{throwOnError:!1,displayMode:!0})}catch{return A(r.content)}return""}).join("");return G.sanitize(d,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function L(t){return typeof t=="string"?te(t):t.map(i=>(i.type==="text",i.content)).join("")}function ae({sectionId:t,children:i}){const[d,r]=p.useState(!1),o=X(t),u=U(t),{prev:b,next:l}=Y(t),m=J(),x=K(t);if(_(),p.useEffect(()=>{},[t,null]),!o||!u)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),e.jsx(k,{to:"/",className:"text-primary-400 hover:text-primary-300",children:"Return to Home"})]})});const h=(x+1)/m*100;return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(V,{onToggleSidebar:()=>r(!d),sidebarOpen:d}),e.jsx(Z,{isOpen:d,onClose:()=>r(!1)}),e.jsx("div",{className:"fixed top-16 left-0 right-0 z-30 h-1 bg-dark-800 lg:left-72",children:e.jsx(C.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.5}})}),e.jsx("main",{className:"pt-20 pb-24 px-4 lg:pl-80 lg:pr-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("nav",{className:"mb-6 flex items-center gap-2 text-sm text-dark-400",children:[e.jsx(k,{to:"/",className:"hover:text-dark-200 transition-colors",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-dark-500",children:u.title}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-dark-200",children:o.title})]}),e.jsxs("header",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-primary-400",children:["Section ",t]}),e.jsx("span",{className:"text-dark-600",children:"â€¢"}),e.jsx("span",{className:"text-sm text-dark-500",children:u.title})]}),e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-3",children:o.title}),e.jsx("p",{className:"text-dark-400 text-lg",children:o.description})]}),e.jsx("article",{className:"prose prose-invert prose-lg max-w-none",children:i}),e.jsxs("nav",{className:"mt-16 flex items-center justify-between gap-4 pt-8 border-t border-dark-800",children:[b?e.jsxs(k,{to:`/section/${b.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs text-dark-500",children:"Previous"}),e.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:b.title})]})]}):e.jsx("div",{}),l?e.jsxs(k,{to:`/section/${l.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-dark-500",children:"Next"}),e.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:l.title})]}),e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsxs(k,{to:"/",className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-primary-500/10 hover:bg-primary-500/20 transition-colors text-primary-400",children:[e.jsx("span",{children:"Complete Course"}),e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})})]})}function le({sectionId:t,questions:i,title:d="Section Quiz"}){var E,z,H;_();const[r,o]=p.useState(0),[u,b]=p.useState(null),[l,m]=p.useState(null),[x,N]=p.useState(""),[h,y]=p.useState(!1),[se,v]=p.useState(0),[$,w]=p.useState([]),[B,T]=p.useState(!1),[M,g]=p.useState(""),R=p.useMemo(()=>[...i].sort(()=>globalThis.Math.random()-.5).slice(0,5),[i]),s=R[r],j=R.length,S=(s==null?void 0:s.type)??"multiple-choice",O=n=>{if(u!==null)return;b(n);const a=n===s.correctIndex;a&&v(c=>c+1),w(c=>[...c,a]),y(!0)},D=()=>{if(l===null){g("Please enter a number");return}const{min:n,max:a}=s.numericRange??{};if(n!==void 0&&l<n){g(`Answer must be at least ${n}`);return}if(a!==void 0&&l>a){g(`Answer must be at most ${a}`);return}g("");const c=l===s.correctAnswer;c&&v(f=>f+1),w(f=>[...f,c]),y(!0)},Q=()=>{const n=x.trim();if(n==="")return;const a=n.toLowerCase()===String(s.correctAnswer??"").toLowerCase();a&&v(c=>c+1),w(c=>[...c,a]),y(!0)},P=()=>{r<j-1?(o(n=>n+1),b(null),m(null),N(""),y(!1),g("")):T(!0)},W=()=>{o(0),b(null),m(null),N(""),y(!1),v(0),w([]),T(!1),g("")};if(B){const n=$.filter(Boolean).length,a=globalThis.Math.round(n/j*100);return e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:a>=80?"ðŸŽ‰":a>=60?"ðŸ‘":"ðŸ“š"}),e.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-dark-400 mb-6",children:["You scored ",n," out of ",j," (",a,"%)"]}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:$.map((c,f)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${c?"bg-emerald-500":"bg-red-500"}`},f))}),e.jsx("button",{onClick:W,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return e.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:d}),e.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",r+1," of ",j]})]}),e.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:e.jsx(C.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(r+1)/j*100}%`}})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${s.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":s.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:s.difficulty.charAt(0).toUpperCase()+s.difficulty.slice(1)})}),e.jsx("p",{className:"text-lg text-dark-200 mb-6",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:L(s.question)}})}),S==="multiple-choice"&&s.options&&e.jsx("div",{className:"space-y-3 mb-6",children:s.options.map((n,a)=>{const c=u===a,f=a===s.correctIndex,q=h&&f,F=h&&c&&!f;return e.jsx("button",{onClick:()=>O(a),disabled:h,className:`w-full p-4 rounded-xl text-left transition-all ${q?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":F?"bg-red-500/20 border-red-500/50 text-red-300":c?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+a)}),e.jsx("span",{dangerouslySetInnerHTML:{__html:L(n)}})]})},a)})}),S==="numeric"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"number",step:(E=s.numericRange)!=null&&E.precision?1/globalThis.Math.pow(10,s.numericRange.precision):1,min:(z=s.numericRange)==null?void 0:z.min,max:(H=s.numericRange)==null?void 0:H.max,value:l??"",onChange:n=>m(parseFloat(n.target.value)||null),disabled:h,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),M&&e.jsx("p",{className:"text-red-400 text-sm",children:M}),e.jsx("button",{onClick:D,disabled:h||l===null,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),S==="text"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"text",value:x,onChange:n=>N(n.target.value),disabled:h,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),e.jsx("button",{onClick:Q,disabled:h||!x.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),h&&s.explanation&&e.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:e.jsxs("p",{className:"text-sm text-dark-300",children:[e.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),e.jsx("span",{dangerouslySetInnerHTML:{__html:L(s.explanation)}})]})}),h&&e.jsx(C.button,{initial:{opacity:0},animate:{opacity:1},onClick:P,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:r<j-1?"Next Question":"See Results"})]})}const re={info:{bg:"bg-blue-500/5",border:"border-blue-500/30",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/5",border:"border-yellow-500/30",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",iconColor:"text-yellow-400"},danger:{bg:"bg-red-500/5",border:"border-red-500/30",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-red-400"},success:{bg:"bg-emerald-500/5",border:"border-emerald-500/30",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-emerald-400"}};function ie({type:t="info",title:i,children:d,className:r=""}){const o=re[t];return e.jsx("div",{className:`my-6 p-4 rounded-xl ${o.bg} border ${o.border} ${r}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:`w-5 h-5 ${o.iconColor} flex-shrink-0 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:o.icon})}),e.jsxs("div",{className:"flex-1",children:[i&&e.jsx("h4",{className:`font-semibold ${o.iconColor} mb-1`,children:i}),e.jsx("div",{className:"text-dark-300 text-sm",children:d})]})]})})}export{ie as C,ae as L,le as S};
