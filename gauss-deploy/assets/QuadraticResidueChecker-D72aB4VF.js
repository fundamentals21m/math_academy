import{j as r,m as f}from"./vendor-animation-0o8UKZ_1.js";import{r as m}from"./vendor-react-Drj8qL0h.js";function k({className:u=""}){const[s,p]=m.useState(13),[c,x]=m.useState(3),b=e=>{if(e<2)return!1;if(e===2)return!0;if(e%2===0)return!1;for(let l=3;l*l<=e;l+=2)if(e%l===0)return!1;return!0},h=(e,l,d)=>{if(d===1)return 0;let t=1;for(e=(e%d+d)%d;l>0;)l%2===1&&(t=t*e%d),l=Math.floor(l/2),e=e*e%d;return t},o=b(s)&&s>2&&s<=47,i=m.useMemo(()=>{if(!o)return null;const e=new Map;for(let t=1;t<s;t++){const n=t*t%s;e.has(n)||e.set(n,[]),e.get(n).push(t)}const l=[...e.keys()].sort((t,n)=>t-n),d=[];for(let t=1;t<s;t++)e.has(t)||d.push(t);return{qr:l,nr:d,squares:e}},[s,o]),a=m.useMemo(()=>{if(!o||!i)return null;const e=(c%s+s)%s;if(e===0)return{isQR:!1,eulerValue:0,roots:[],message:"Divisible by p"};const l=h(e,(s-1)/2,s),d=l===1,t=i.squares.get(e)||[];return{isQR:d,eulerValue:l,roots:t,a:e}},[c,s,o,i]),g=a!=null&&a.isQR?1:(a==null?void 0:a.eulerValue)===0?0:-1;return r.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${u}`,children:[r.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-4",children:"Quadratic Residue Checker"}),r.jsx("p",{className:"text-dark-400 text-sm mb-6",children:"Check if a number is a quadratic residue modulo a prime using Euler's criterion."}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"Prime p (3-47)"}),r.jsx("input",{type:"number",min:"3",max:"47",value:s,onChange:e=>p(parseInt(e.target.value)||3),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 focus:border-primary-500 focus:outline-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"Check value a"}),r.jsx("input",{type:"number",value:c,onChange:e=>x(parseInt(e.target.value)||0),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 focus:border-primary-500 focus:outline-none"})]})]}),!o&&r.jsx("div",{className:"p-4 rounded-xl bg-rose-500/10 border border-rose-500/30 text-rose-400 mb-6",children:"Please enter a valid odd prime between 3 and 47."}),o&&i&&a&&r.jsxs(r.Fragment,{children:[r.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border mb-6 ${a.isQR?"bg-emerald-500/10 border-emerald-500/30":"bg-rose-500/10 border-rose-500/30"}`,children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsxs("div",{className:"text-3xl font-bold mb-2",children:[r.jsx("span",{className:"text-dark-400",children:"("}),r.jsx("span",{className:"text-amber-400",children:a.a}),r.jsx("span",{className:"text-dark-400",children:"/"}),r.jsx("span",{className:"text-blue-400",children:s}),r.jsx("span",{className:"text-dark-400",children:") = "}),r.jsx("span",{className:a.isQR?"text-emerald-400":"text-rose-400",children:g})]}),r.jsxs("div",{className:`text-lg font-semibold ${a.isQR?"text-emerald-400":"text-rose-400"}`,children:[a.a," is ",a.isQR?"a Quadratic Residue":"NOT a Quadratic Residue"," mod ",s]})]}),r.jsxs("div",{className:"p-3 rounded-lg bg-dark-800/50 text-sm",children:[r.jsxs("div",{className:"text-dark-300",children:["Euler's Criterion: ",a.a,"^(",s-1,"/2) = ",a.a,"^",(s-1)/2," ≡"," ",r.jsx("span",{className:a.eulerValue===1?"text-emerald-400":"text-rose-400",children:a.eulerValue})," ","(mod ",s,")"]}),a.isQR&&a.roots.length>0&&r.jsxs("div",{className:"text-emerald-400 mt-2",children:["Square roots: x ≡ ±",a.roots[0]," (mod ",s,")",a.roots.length>1&&` → {${a.roots.join(", ")}}`]})]})]},`${c}-${s}`),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30",children:[r.jsxs("h4",{className:"text-sm font-semibold text-emerald-400 mb-2",children:["Quadratic Residues (",i.qr.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:i.qr.map(e=>r.jsx("span",{onClick:()=>x(e),className:`px-2 py-0.5 rounded text-xs font-mono cursor-pointer transition-colors ${a.a===e?"bg-emerald-500 text-white":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:e},e))})]}),r.jsxs("div",{className:"p-4 rounded-xl bg-rose-500/10 border border-rose-500/30",children:[r.jsxs("h4",{className:"text-sm font-semibold text-rose-400 mb-2",children:["Non-Residues (",i.nr.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:i.nr.map(e=>r.jsx("span",{onClick:()=>x(e),className:`px-2 py-0.5 rounded text-xs font-mono cursor-pointer transition-colors ${a.a===e?"bg-rose-500 text-white":"bg-rose-500/20 text-rose-300 hover:bg-rose-500/30"}`,children:e},e))})]})]}),r.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-dark-700/30 text-sm text-dark-400",children:["For prime p = ",s,", there are exactly (p-1)/2 = ",(s-1)/2," quadratic residues and ",(s-1)/2," non-residues among ","{1, 2, ..., p-1}","."]})]})]})}export{k as Q};
