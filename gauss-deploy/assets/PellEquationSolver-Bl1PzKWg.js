import{j as e,m as f}from"./vendor-animation-0o8UKZ_1.js";import{r as p}from"./vendor-react-Drj8qL0h.js";function B({className:y=""}){const[s,j]=p.useState(2),[b,k]=p.useState(5),N=t=>{const a=Math.floor(Math.sqrt(t));return a*a===t},m=s>0&&!N(s)&&s<=100,i=p.useMemo(()=>{if(!m)return null;const t=Math.floor(Math.sqrt(s));let a=BigInt(1),n=BigInt(t),d=BigInt(0),r=BigInt(1);if(n*n-BigInt(s)*r*r===BigInt(1))return{xVal:n,yVal:r};let l=0,x=1,c=t;for(let g=0;g<1e3;g++){l=x*c-l,x=Math.floor((s-l*l)/x),c=Math.floor((t+l)/x);const u=BigInt(c)*n+a,h=BigInt(c)*r+d;if(u*u-BigInt(s)*h*h===BigInt(1))return{xVal:u,yVal:h};a=n,n=u,d=r,r=h}return null},[s,m]),v=p.useMemo(()=>{if(!i)return[];const t=[],{xVal:a,yVal:n}=i;let d=a,r=n;for(let l=1;l<=b;l++){t.push({xVal:d,yVal:r,index:l});const x=d*a+r*n*BigInt(s),c=d*n+r*a;d=x,r=c}return t},[i,b,s]),o=t=>{const a=t.toString();return a.length<=15?a:a.slice(0,6)+"..."+a.slice(-6)+` (${a.length} digits)`};return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${y}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-4",children:"Pell Equation Solver"}),e.jsx("p",{className:"text-dark-400 text-sm mb-6",children:"Find solutions to x² - Dy² = 1 using continued fractions."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"D (non-square, 2-100)"}),e.jsx("input",{type:"number",min:"2",max:"100",value:s,onChange:t=>j(parseInt(t.target.value)||2),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 focus:border-primary-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"Number of solutions"}),e.jsx("input",{type:"number",min:"1",max:"10",value:b,onChange:t=>k(Math.min(10,Math.max(1,parseInt(t.target.value)||1))),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 focus:border-primary-500 focus:outline-none"})]})]}),e.jsx("div",{className:"p-4 rounded-xl bg-dark-900/50 border border-dark-700 mb-6 text-center",children:e.jsxs("span",{className:"text-2xl font-mono",children:[e.jsx("span",{className:"text-primary-400",children:"x²"}),e.jsx("span",{className:"text-dark-400",children:" - "}),e.jsx("span",{className:"text-amber-400",children:s}),e.jsx("span",{className:"text-primary-400",children:"y²"}),e.jsx("span",{className:"text-dark-400",children:" = "}),e.jsx("span",{className:"text-emerald-400",children:"1"})]})}),!m&&e.jsx("div",{className:"p-4 rounded-xl bg-rose-500/10 border border-rose-500/30 text-rose-400 mb-6",children:N(s)?`${s} is a perfect square. D must be a non-square positive integer.`:s<=0?"D must be a positive integer.":"D must be between 2 and 100."}),m&&i&&e.jsxs(e.Fragment,{children:[e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/30 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-emerald-400 mb-2",children:"Fundamental Solution (smallest positive)"}),e.jsxs("div",{className:"font-mono text-lg",children:[e.jsxs("span",{className:"text-primary-400",children:["x₁ = ",o(i.xVal)]}),e.jsx("span",{className:"text-dark-400 mx-3",children:","}),e.jsxs("span",{className:"text-primary-400",children:["y₁ = ",o(i.yVal)]})]}),e.jsxs("p",{className:"text-dark-400 text-sm mt-2",children:["Verify: ",o(i.xVal),"² - ",s," × ",o(i.yVal),"² = 1"]})]},s),e.jsxs("div",{className:"p-4 rounded-xl bg-dark-700/30 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-dark-300 mb-2",children:"Generating More Solutions"}),e.jsxs("p",{className:"text-dark-400 text-sm font-mono",children:["xₙ₊₁ + yₙ₊₁√",s," = (x₁ + y₁√",s,")ⁿ"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-600",children:[e.jsx("th",{className:"p-3 text-dark-300",children:"n"}),e.jsx("th",{className:"p-3 text-dark-300",children:"xₙ"}),e.jsx("th",{className:"p-3 text-dark-300",children:"yₙ"}),e.jsx("th",{className:"p-3 text-dark-300",children:"Verification"})]})}),e.jsx("tbody",{children:v.map(t=>{const a=t.xVal*t.xVal-BigInt(s)*t.yVal*t.yVal;return e.jsxs(f.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:t.index*.1},className:"border-b border-dark-700",children:[e.jsx("td",{className:"p-3 font-mono text-amber-400",children:t.index}),e.jsx("td",{className:"p-3 font-mono text-dark-200 text-sm",children:o(t.xVal)}),e.jsx("td",{className:"p-3 font-mono text-dark-200 text-sm",children:o(t.yVal)}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:a===BigInt(1)?"text-emerald-400":"text-rose-400",children:a===BigInt(1)?"= 1 ✓":`= ${a.toString()}`})})]},t.index)})})]})}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-sm text-dark-400 mr-2",children:"Try D ="}),[2,3,5,7,11,13,61].map(t=>e.jsx("button",{onClick:()=>j(t),className:`px-3 py-1 rounded-lg text-xs transition-colors ${s===t?"bg-primary-500 text-white":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:t},t))]}),s===61&&e.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-amber-500/10 border border-amber-500/30 text-sm text-amber-300",children:[e.jsx("strong",{children:"Historical Note:"})," The equation x² - 61y² = 1 was proposed by Fermat as a challenge. The smallest solution has x = 1,766,319,049 and y = 226,153,980!"]})]})]})}export{B as P};
