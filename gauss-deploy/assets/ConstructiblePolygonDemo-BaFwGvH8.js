import{j as e,m as x}from"./vendor-animation-0o8UKZ_1.js";import{r as c}from"./vendor-react-Drj8qL0h.js";const f=[3,5,17,257,65537];function v({className:g=""}){const[n,d]=c.useState(17),[m,j]=c.useState(!1),b=t=>{if(t<3)return{constructible:!1,factorization:"",reason:"n must be at least 3"};let s=t,r=0;const o=[];for(;s%2===0;)s/=2,r++;for(const l of f)if(s%l===0){if(s/=l,s%l===0)return{constructible:!1,factorization:h(t),reason:`Fermat prime ${l} appears more than once`};o.push(l)}if(s!==1)return{constructible:!1,factorization:h(t),reason:"Contains non-Fermat odd prime factor(s)"};const a=[];return r>0&&a.push(r===1?"2":`2^${r}`),a.push(...o.map(String)),{constructible:!0,factorization:a.join(" × ")||"1",reason:"Product of power of 2 and distinct Fermat primes"}},h=t=>{const s=[];let r=t,o=0;for(;r%2===0;)r/=2,o++;o>0&&s.push(o===1?"2":`2^${o}`);for(let a=3;a*a<=r;a+=2){for(o=0;r%a===0;)r/=a,o++;o>0&&s.push(o===1?String(a):`${a}^${o}`)}return r>1&&s.push(String(r)),s.join(" × ")||"1"},i=c.useMemo(()=>b(n),[n]),p=c.useMemo(()=>{const t=[];for(let s=3;s<=100;s++)b(s).constructible&&t.push(s);return t},[]),u=c.useMemo(()=>{const t=[];for(let a=0;a<n;a++){const l=2*Math.PI*a/n-Math.PI/2,y=100+80*Math.cos(l),N=100+80*Math.sin(l);t.push(`${y},${N}`)}return t.join(" ")},[n]);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${g}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-4",children:"Constructible Polygons"}),e.jsx("p",{className:"text-dark-400 text-sm mb-6",children:"Explore which regular n-gons can be constructed with compass and straightedge."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm text-dark-400 mb-2",children:"Number of sides (n)"}),e.jsx("input",{type:"number",min:"3",max:"100",value:n,onChange:t=>d(Math.max(3,Math.min(100,parseInt(t.target.value)||3))),className:"w-full px-4 py-2 rounded-xl bg-dark-700 border border-dark-600 text-dark-100 focus:border-primary-500 focus:outline-none"})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("svg",{width:"200",height:"200",className:"drop-shadow-lg",children:[e.jsx("circle",{cx:"100",cy:"100",r:"85",fill:"none",stroke:"#374151",strokeWidth:"1",strokeDasharray:"4"}),e.jsx(x.polygon,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},points:u,fill:i.constructible?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)",stroke:i.constructible?"#10b981":"#ef4444",strokeWidth:"2"},n),n<=30&&u.split(" ").map((t,s)=>{const[r,o]=t.split(",").map(Number);return e.jsx("circle",{cx:r,cy:o,r:"4",fill:i.constructible?"#10b981":"#ef4444"},s)}),e.jsx("text",{x:"100",y:"105",textAnchor:"middle",className:"fill-dark-300 text-2xl font-bold",children:n})]})}),e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-4 rounded-xl border mb-6 ${i.constructible?"bg-emerald-500/10 border-emerald-500/30":"bg-rose-500/10 border-rose-500/30"}`,children:[e.jsx("div",{className:"text-center mb-2",children:e.jsx("span",{className:`text-xl font-bold ${i.constructible?"text-emerald-400":"text-rose-400"}`,children:i.constructible?"Constructible!":"Not Constructible"})}),e.jsxs("div",{className:"text-sm text-dark-300 text-center",children:[e.jsxs("div",{children:[n," = ",i.factorization]}),e.jsx("div",{className:"text-dark-500 mt-1",children:i.reason})]})]},n),e.jsxs("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/30 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Known Fermat Primes:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.slice(0,4).map((t,s)=>e.jsxs("span",{onClick:()=>d(t),className:"px-3 py-1 rounded-lg bg-amber-500/20 text-amber-300 font-mono text-sm cursor-pointer hover:bg-amber-500/30",children:["F_",s," = ",t]},t)),e.jsx("span",{className:"px-3 py-1 rounded-lg bg-amber-500/20 text-amber-300 font-mono text-sm",children:"F_4 = 65537"})]}),e.jsx("p",{className:"text-dark-400 text-xs mt-2",children:"Only 5 Fermat primes are known. Whether there are more is an open problem!"})]}),e.jsxs("button",{onClick:()=>j(!m),className:"w-full px-4 py-2 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-300 text-sm transition-colors mb-4",children:[m?"Hide":"Show"," all constructible n-gons (3-100)"]}),m&&e.jsxs(x.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(t=>e.jsx("span",{onClick:()=>d(t),className:`px-2 py-1 rounded text-xs font-mono cursor-pointer transition-colors ${n===t?"bg-emerald-500 text-white":"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30"}`,children:t},t))}),e.jsxs("p",{className:"text-dark-500 text-xs mt-3",children:[p.length," constructible regular polygons with 3-100 sides"]})]}),e.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-dark-700/30 text-sm text-dark-400",children:[e.jsx("strong",{className:"text-amber-400",children:"Gauss (1796):"})," Discovered at age 19 that the regular 17-gon is constructible, the first new constructible polygon found since antiquity."]})]})}export{v as C};
