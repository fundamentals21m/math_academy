const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Leaderboard-Cnjp4GJm.js","assets/vendor-animation-0o8UKZ_1.js","assets/vendor-react-Drj8qL0h.js","assets/vendor-math-p018AHG0.js","assets/Theorems-KwEu3G7Y.js","assets/MathBlock-D5AMPR82.js","assets/InteractiveModules-y0p38lOL.js","assets/SectionQuizPage-coCR7Bp7.js","assets/quizMap-BRt4g-6A.js","assets/Section01-BosFXcER.js","assets/ContentBlocks-CVNuU54r.js","assets/Section02-CSkAled8.js","assets/Section03-GW_Co8y-.js","assets/Section04-RUt0O2OF.js","assets/Section05-DD3fTyir.js","assets/Section06-CwtyPauO.js","assets/Section07-Dj9uU-bh.js","assets/Section08-DHR-GUVH.js","assets/Section09-D57kPN68.js"])))=>i.map(i=>d[i]);
var cE=Object.defineProperty;var fE=(e,t,n)=>t in e?cE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ke=(e,t,n)=>fE(e,typeof t!="symbol"?t+"":t,n);import{j as h,m as hu,A as Ff}from"./vendor-animation-0o8UKZ_1.js";import{r as P,a as dE,L as gs,N as Hc,H as hE,R as mE,b as Rr,u as pE}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var W0={exports:{}},sc={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,X){var F=H.length;H.push(X);e:for(;0<F;){var fe=F-1>>>1,be=H[fe];if(0<r(be,X))H[fe]=X,H[F]=be,F=fe;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],F=H.pop();if(F!==X){H[0]=F;e:for(var fe=0,be=H.length,_e=be>>>1;fe<_e;){var Me=2*(fe+1)-1,J=H[Me],qt=Me+1,ae=H[qt];if(0>r(J,F))qt<be&&0>r(ae,J)?(H[fe]=ae,H[qt]=F,fe=qt):(H[fe]=J,H[Me]=F,fe=Me);else if(qt<be&&0>r(ae,F))H[fe]=ae,H[qt]=F,fe=qt;else break e}}return X}function r(H,X){var F=H.sortIndex-X.sortIndex;return F!==0?F:H.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],m=1,b=null,y=3,x=!1,D=!1,I=!1,V=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(H){for(var X=n(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=H)i(d),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(d)}}function L(H){if(I=!1,k(H),!D)if(n(u)!==null)D=!0,Z||(Z=!0,N());else{var X=n(d);X!==null&&ce(L,X.startTime-H)}}var Z=!1,S=-1,p=5,v=-1;function E(){return V?!0:!(e.unstable_now()-v<p)}function w(){if(V=!1,Z){var H=e.unstable_now();v=H;var X=!0;try{e:{D=!1,I&&(I=!1,T(S),S=-1),x=!0;var F=y;try{t:{for(k(H),b=n(u);b!==null&&!(b.expirationTime>H&&E());){var fe=b.callback;if(typeof fe=="function"){b.callback=null,y=b.priorityLevel;var be=fe(b.expirationTime<=H);if(H=e.unstable_now(),typeof be=="function"){b.callback=be,k(H),X=!0;break t}b===n(u)&&i(u),k(H)}else i(u);b=n(u)}if(b!==null)X=!0;else{var _e=n(d);_e!==null&&ce(L,_e.startTime-H),X=!1}}break e}finally{b=null,y=F,x=!1}X=void 0}}finally{X?N():Z=!1}}}var N;if(typeof A=="function")N=function(){A(w)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,ne=_.port2;_.port1.onmessage=w,N=function(){ne.postMessage(null)}}else N=function(){C(w,0)};function ce(H,X){S=C(function(){H(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var F=y;y=X;try{return H()}finally{y=F}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=y;y=H;try{return X()}finally{y=F}},e.unstable_scheduleCallback=function(H,X,F){var fe=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?fe+F:fe):F=fe,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=F+be,H={id:m++,callback:X,priorityLevel:H,startTime:F,expirationTime:be,sortIndex:-1},F>fe?(H.sortIndex=F,t(d,H),n(u)===null&&H===n(d)&&(I?(T(S),S=-1):I=!0,ce(L,F-fe))):(H.sortIndex=be,t(u,H),D||x||(D=!0,Z||(Z=!0,N()))),H},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(H){var X=y;return function(){var F=y;y=X;try{return H.apply(this,arguments)}finally{y=F}}}})(ty);ey.exports=ty;var gE=ey.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=gE,ny=P,yE=dE;function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ry(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sy(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(Bo(e)!==e)throw Error(M(188))}function vE(e){var t=e.alternate;if(!t){if(t=Bo(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return ap(r),e;if(s===i)return ap(r),t;s=s.sibling}throw Error(M(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ay(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ay(e),t!==null)return t;e=e.sibling}return null}var Ce=Object.assign,bE=Symbol.for("react.element"),Sl=Symbol.for("react.transitional.element"),Ka=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),ly=Symbol.for("react.consumer"),ei=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),Jf=Symbol.for("react.activity"),_E=Symbol.for("react.memo_cache_sentinel"),op=Symbol.iterator;function La(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var SE=Symbol.for("react.client.reference");function Wf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===SE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case Yf:return"Profiler";case oy:return"StrictMode";case Kf:return"Suspense";case Qf:return"SuspenseList";case Jf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ka:return"Portal";case ei:return e.displayName||"Context";case ly:return(e._context.displayName||"Context")+".Consumer";case fh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dh:return t=e.displayName||null,t!==null?t:Wf(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return Wf(e(t))}catch{}}return null}var Qa=Array.isArray,Y=ny.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=yE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ur={pending:!1,data:null,method:null,action:null},ed=[],Ss=-1;function jn(e){return{current:e}}function st(e){0>Ss||(e.current=ed[Ss],ed[Ss]=null,Ss--)}function Te(e,t){Ss++,ed[Ss]=e.current,e.current=t}var Dn=jn(null),So=jn(null),Ki=jn(null),mu=jn(null);function pu(e,t){switch(Te(Ki,t),Te(So,e),Te(Dn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hg(t),e=Cb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(Dn),Te(Dn,e)}function Xs(){st(Dn),st(So),st(Ki)}function td(e){e.memoizedState!==null&&Te(mu,e);var t=Dn.current,n=Cb(t,e.type);t!==n&&(Te(So,e),Te(Dn,n))}function gu(e){So.current===e&&(st(Dn),st(So)),mu.current===e&&(st(mu),Do._currentValue=Ur)}var Vc,lp;function zr(e){if(Vc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vc=t&&t[1]||"",lp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vc+e+lp}var Zc=!1;function Gc(e,t){if(!e||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var b=function(){throw Error()};if(Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(x){var y=x}Reflect.construct(e,[],b)}else{try{b.call()}catch(x){y=x}e.call(b.prototype)}}else{try{throw Error()}catch(x){y=x}(b=e())&&typeof b.catch=="function"&&b.catch(function(){})}}catch(x){if(x&&y&&typeof x.stack=="string")return[x.stack,y.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),o=s[0],l=s[1];if(o&&l){var u=o.split(`
`),d=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<d.length&&!d[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===d.length)for(i=u.length-1,r=d.length-1;1<=i&&0<=r&&u[i]!==d[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==d[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==d[r]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=r);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?zr(n):""}function EE(e,t){switch(e.tag){case 26:case 27:case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return e.child!==t&&t!==null?zr("Suspense Fallback"):zr("Suspense");case 19:return zr("SuspenseList");case 0:case 15:return Gc(e.type,!1);case 11:return Gc(e.type.render,!1);case 1:return Gc(e.type,!0);case 31:return zr("Activity");default:return""}}function up(e){try{var t="",n=null;do t+=EE(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var nd=Object.prototype.hasOwnProperty,hh=We.unstable_scheduleCallback,qc=We.unstable_cancelCallback,TE=We.unstable_shouldYield,AE=We.unstable_requestPaint,Pt=We.unstable_now,xE=We.unstable_getCurrentPriorityLevel,uy=We.unstable_ImmediatePriority,cy=We.unstable_UserBlockingPriority,yu=We.unstable_NormalPriority,wE=We.unstable_LowPriority,fy=We.unstable_IdlePriority,NE=We.log,CE=We.unstable_setDisableYieldValue,Ho=null,Bt=null;function qi(e){if(typeof NE=="function"&&CE(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Ho,e)}catch{}}var Ht=Math.clz32?Math.clz32:RE,OE=Math.log,kE=Math.LN2;function RE(e){return e>>>=0,e===0?32:31-(OE(e)/kE|0)|0}var El=256,Tl=262144,Al=4194304;function Ir(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ac(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Ir(i):(o&=l,o!==0?r=Ir(o):n||(n=l&~e,n!==0&&(r=Ir(n))))):(l=i&~s,l!==0?r=Ir(l):o!==0?r=Ir(o):n||(n=i&~e,n!==0&&(r=Ir(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Vo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function DE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dy(){var e=Al;return Al<<=1,!(Al&62914560)&&(Al=4194304),e}function $c(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zE(e,t,n,i,r,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,d=e.hiddenUpdates;for(n=o&~n;0<n;){var m=31-Ht(n),b=1<<m;l[m]=0,u[m]=-1;var y=d[m];if(y!==null)for(d[m]=null,m=0;m<y.length;m++){var x=y[m];x!==null&&(x.lane&=-536870913)}n&=~b}i!==0&&hy(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function hy(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ht(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function my(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ht(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function py(e,t){var n=t&-t;return n=n&42?1:mh(n),n&(e.suspendedLanes|t)?0:n}function mh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ph(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function gy(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Pb(e.type))}function cp(e,t){var n=ue.p;try{return ue.p=e,t()}finally{ue.p=n}}var pr=Math.random().toString(36).slice(2),ut="__reactFiber$"+pr,Ot="__reactProps$"+pr,aa="__reactContainer$"+pr,id="__reactEvents$"+pr,IE="__reactListeners$"+pr,ME="__reactHandles$"+pr,fp="__reactResources$"+pr,Go="__reactMarker$"+pr;function gh(e){delete e[ut],delete e[Ot],delete e[id],delete e[IE],delete e[ME]}function Es(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[aa]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vg(e);e!==null;){if(n=e[ut])return n;e=vg(e)}return t}e=n,n=e.parentNode}return null}function oa(e){if(e=e[ut]||e[aa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function Ms(e){var t=e[fp];return t||(t=e[fp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[Go]=!0}var yy=new Set,vy={};function Jr(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(vy[e]=t,e=0;e<t.length;e++)yy.add(t[e])}var jE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dp={},hp={};function LE(e){return nd.call(hp,e)?!0:nd.call(dp,e)?!1:jE.test(e)?hp[e]=!0:(dp[e]=!0,!1)}function $l(e,t,n){if(LE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function qn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function by(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rd(e){if(!e._valueTracker){var t=by(e)?"checked":"value";e._valueTracker=UE(e,t,""+e[t])}}function _y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=by(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var PE=/[\n"\\]/g;function Jt(e){return e.replace(PE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function sd(e,t,n,i,r,s,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ad(e,o,Yt(t)):n!=null?ad(e,o,Yt(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Yt(l):e.removeAttribute("name")}function Sy(e,t,n,i,r,s,o,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){rd(e);return}n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),rd(e)}function ad(e,t,n){t==="number"&&vu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function js(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ey(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function Ty(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(M(92));if(Qa(i)){if(1<i.length)throw Error(M(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),rd(e)}function Ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var BE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||BE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ay(e,t,n){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&mp(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&mp(e,s,t[s])}function yh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(e){return VE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var od=null;function vh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Ls=null;function pp(e){var t=oa(e);if(t&&(e=t.stateNode)){var n=e[Ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(sd(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Ot]||null;if(!r)throw Error(M(90));sd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&_y(i)}break e;case"textarea":Ey(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&js(e,!!n.multiple,t,!1)}}}var Xc=!1;function xy(e,t,n){if(Xc)return e(t,n);Xc=!0;try{var i=e(t);return i}finally{if(Xc=!1,(Ts!==null||Ls!==null)&&(vc(),Ts&&(t=Ts,e=Ls,Ls=Ts=null,pp(t),e)))for(t=0;t<e.length;t++)pp(e[t])}}function Eo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ot]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(ci)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ld=!1}var $i=null,bh=null,Fl=null;function wy(){if(Fl)return Fl;var e,t=bh,n=t.length,i,r="value"in $i?$i.value:$i.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Fl=r.slice(e,1<i?1-i:void 0)}function Yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wl(){return!0}function gp(){return!1}function kt(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wl:gp,this.isPropagationStopped=gp,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oc=kt(Wr),qo=Ce({},Wr,{view:0,detail:0}),ZE=kt(qo),Fc,Yc,Pa,lc=Ce({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Fc=e.screenX-Pa.screenX,Yc=e.screenY-Pa.screenY):Yc=Fc=0,Pa=e),Fc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),yp=kt(lc),GE=Ce({},lc,{dataTransfer:0}),qE=kt(GE),$E=Ce({},qo,{relatedTarget:0}),Kc=kt($E),XE=Ce({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),FE=kt(XE),YE=Ce({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KE=kt(YE),QE=Ce({},Wr,{data:0}),vp=kt(QE),JE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e1[e])?!!t[e]:!1}function _h(){return t1}var n1=Ce({},qo,{key:function(e){if(e.key){var t=JE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_h,charCode:function(e){return e.type==="keypress"?Yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i1=kt(n1),r1=Ce({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=kt(r1),s1=Ce({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_h}),a1=kt(s1),o1=Ce({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=kt(o1),u1=Ce({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c1=kt(u1),f1=Ce({},Wr,{newState:0,oldState:0}),d1=kt(f1),h1=[9,13,27,32],Sh=ci&&"CompositionEvent"in window,io=null;ci&&"documentMode"in document&&(io=document.documentMode);var m1=ci&&"TextEvent"in window&&!io,Ny=ci&&(!Sh||io&&8<io&&11>=io),_p=" ",Sp=!1;function Cy(e,t){switch(e){case"keyup":return h1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function p1(e,t){switch(e){case"compositionend":return Oy(t);case"keypress":return t.which!==32?null:(Sp=!0,_p);case"textInput":return e=t.data,e===_p&&Sp?null:e;default:return null}}function g1(e,t){if(As)return e==="compositionend"||!Sh&&Cy(e,t)?(e=wy(),Fl=bh=$i=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ny&&t.locale!=="ko"?null:t.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y1[e.type]:t==="textarea"}function ky(e,t,n,i){Ts?Ls?Ls.push(i):Ls=[i]:Ts=i,t=ju(t,"onChange"),0<t.length&&(n=new oc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ro=null,To=null;function v1(e){xb(e,0)}function uc(e){var t=Ja(e);if(_y(t))return e}function Tp(e,t){if(e==="change")return t}var Ry=!1;if(ci){var Qc;if(ci){var Jc="oninput"in document;if(!Jc){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Jc=typeof Ap.oninput=="function"}Qc=Jc}else Qc=!1;Ry=Qc&&(!document.documentMode||9<document.documentMode)}function xp(){ro&&(ro.detachEvent("onpropertychange",Dy),To=ro=null)}function Dy(e){if(e.propertyName==="value"&&uc(To)){var t=[];ky(t,To,e,vh(e)),xy(v1,t)}}function b1(e,t,n){e==="focusin"?(xp(),ro=t,To=n,ro.attachEvent("onpropertychange",Dy)):e==="focusout"&&xp()}function _1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uc(To)}function S1(e,t){if(e==="click")return uc(t)}function E1(e,t){if(e==="input"||e==="change")return uc(t)}function T1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:T1;function Ao(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!nd.call(t,r)||!Zt(e[r],t[r]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,t){var n=wp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wp(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Iy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vu(e.document)}return t}function Eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var A1=ci&&"documentMode"in document&&11>=document.documentMode,xs=null,ud=null,so=null,cd=!1;function Cp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||xs==null||xs!==vu(i)||(i=xs,"selectionStart"in i&&Eh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),so&&Ao(so,i)||(so=i,i=ju(ud,"onSelect"),0<i.length&&(t=new oc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xs)))}function Dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Wc={},My={};ci&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function es(e){if(Wc[e])return Wc[e];if(!ws[e])return e;var t=ws[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in My)return Wc[e]=t[n];return e}var jy=es("animationend"),Ly=es("animationiteration"),Uy=es("animationstart"),x1=es("transitionrun"),w1=es("transitionstart"),N1=es("transitioncancel"),Py=es("transitionend"),By=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function Sn(e,t){By.set(e,t),Jr(t,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],Ns=0,Th=0;function cc(){for(var e=Ns,t=Th=Ns=0;t<e;){var n=Ft[t];Ft[t++]=null;var i=Ft[t];Ft[t++]=null;var r=Ft[t];Ft[t++]=null;var s=Ft[t];if(Ft[t++]=null,i!==null&&r!==null){var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}s!==0&&Hy(n,r,s)}}function fc(e,t,n,i){Ft[Ns++]=e,Ft[Ns++]=t,Ft[Ns++]=n,Ft[Ns++]=i,Th|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ah(e,t,n,i){return fc(e,t,n,i),_u(e)}function ts(e,t){return fc(e,null,null,t),_u(e)}function Hy(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Ht(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function _u(e){if(50<po)throw po=0,Dd=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cs={};function C1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,i){return new C1(e,t,n,i)}function xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Kl(e,t,n,i,r,s){var o=0;if(i=e,typeof e=="function")xh(e)&&(o=1);else if(typeof e=="string")o=zT(e,n,Dn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Jf:return e=Lt(31,n,t,r),e.elementType=Jf,e.lanes=s,e;case _s:return Pr(n.children,r,s,t);case oy:o=8,r|=24;break;case Yf:return e=Lt(12,n,t,r|2),e.elementType=Yf,e.lanes=s,e;case Kf:return e=Lt(13,n,t,r),e.elementType=Kf,e.lanes=s,e;case Qf:return e=Lt(19,n,t,r),e.elementType=Qf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ei:o=10;break e;case ly:o=9;break e;case fh:o=11;break e;case dh:o=14;break e;case Mi:o=16,i=null;break e}o=29,n=Error(M(130,e===null?"null":typeof e,"")),i=null}return t=Lt(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Pr(e,t,n,i){return e=Lt(7,e,i,t),e.lanes=n,e}function ef(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function Zy(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function tf(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Op=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var n=Op.get(e);return n!==void 0?n:(t={value:e,source:t,stack:up(t)},Op.set(e,t),t)}return{value:e,source:t,stack:up(t)}}var Os=[],ks=0,Su=null,xo=0,Kt=[],Qt=0,lr=null,Nn=1,Cn="";function Jn(e,t){Os[ks++]=xo,Os[ks++]=Su,Su=e,xo=t}function Gy(e,t,n){Kt[Qt++]=Nn,Kt[Qt++]=Cn,Kt[Qt++]=lr,lr=e;var i=Nn;e=Cn;var r=32-Ht(i)-1;i&=~(1<<r),n+=1;var s=32-Ht(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Nn=1<<32-Ht(t)+r|n<<r|i,Cn=s+e}else Nn=1<<s|n<<r|i,Cn=e}function wh(e){e.return!==null&&(Jn(e,1),Gy(e,1,0))}function Nh(e){for(;e===Su;)Su=Os[--ks],Os[ks]=null,xo=Os[--ks],Os[ks]=null;for(;e===lr;)lr=Kt[--Qt],Kt[Qt]=null,Cn=Kt[--Qt],Kt[Qt]=null,Nn=Kt[--Qt],Kt[Qt]=null}function qy(e,t){Kt[Qt++]=Nn,Kt[Qt++]=Cn,Kt[Qt++]=lr,Nn=t.id,Cn=t.overflow,lr=e}var ct=null,Ne=null,re=!1,Qi=null,en=!1,dd=Error(M(519));function ur(e){var t=Error(M(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wo(Wt(t,e)),dd}function kp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ut]=e,t[Ot]=i,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<ko.length;n++)ee(ko[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),Sy(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),Ty(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Nb(t.textContent,n)?(i.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),i.onScroll!=null&&ee("scroll",t),i.onScrollEnd!=null&&ee("scrollend",t),i.onClick!=null&&(t.onclick=ti),t=!0):t=!1,t||ur(e,!0)}function Rp(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ct=ct.return}}function ms(e){if(e!==ct)return!1;if(!re)return Rp(e),re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ld(e.type,e.memoizedProps)),n=!n),n&&Ne&&ur(e),Rp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));Ne=yg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));Ne=yg(e)}else t===27?(t=Ne,gr(e.type)?(e=Hd,Hd=null,Ne=e):Ne=t):Ne=ct?rn(e.stateNode.nextSibling):null;return!0}function Zr(){Ne=ct=null,re=!1}function nf(){var e=Qi;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Qi=null),e}function wo(e){Qi===null?Qi=[e]:Qi.push(e)}var hd=jn(null),ns=null,ni=null;function Li(e,t,n){Te(hd,t._currentValue),t._currentValue=n}function li(e){e._currentValue=hd.current,st(hd)}function md(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function pd(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var o=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),md(s.return,n,e),i||(o=null);break e}s=l.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(M(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),md(o,n,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function la(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(M(387));if(o=o.memoizedProps,o!==null){var l=r.type;Zt(r.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(r===mu.current){if(o=r.alternate,o===null)throw Error(M(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Do):e=[Do])}r=r.return}e!==null&&pd(t,e,n,i),t.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gr(e){ns=e,ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return $y(ns,e)}function Nl(e,t){return ns===null&&Gr(e),$y(e,t)}function $y(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ni===null){if(e===null)throw Error(M(308));ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ni=ni.next=t;return n}var O1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},k1=We.unstable_scheduleCallback,R1=We.unstable_NormalPriority,$e={$$typeof:ei,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ch(){return{controller:new O1,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&k1(R1,function(){e.controller.abort()})}var ao=null,gd=0,Ks=0,Us=null;function D1(e,t){if(ao===null){var n=ao=[];gd=0,Ks=Wh(),Us={status:"pending",value:void 0,then:function(i){n.push(i)}}}return gd++,t.then(Dp,Dp),t}function Dp(){if(--gd===0&&ao!==null){Us!==null&&(Us.status="fulfilled");var e=ao;ao=null,Ks=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function z1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var zp=Y.S;Y.S=function(e,t){ab=Pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&D1(e,t),zp!==null&&zp(e,t)};var Br=jn(null);function Oh(){var e=Br.current;return e!==null?e:ve.pooledCache}function Ql(e,t){t===null?Te(Br,Br.current):Te(Br,t.pool)}function Xy(){var e=Oh();return e===null?null:{parent:$e._currentValue,pool:e}}var ua=Error(M(460)),kh=Error(M(474)),dc=Error(M(542)),Tu={then:function(){}};function Ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ti,ti),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jp(e),e;default:if(typeof t.status=="string")t.then(ti,ti);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jp(e),e}throw Hr=t,ua}}function Mr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Hr=n,ua):n}}var Hr=null;function Mp(){if(Hr===null)throw Error(M(459));var e=Hr;return Hr=null,e}function jp(e){if(e===ua||e===dc)throw Error(M(483))}var Ps=null,No=0;function Cl(e){var t=No;return No+=1,Ps===null&&(Ps=[]),Fy(Ps,e,t)}function Ba(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ol(e,t){throw t.$$typeof===bE?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yy(e){function t(C,T){if(e){var A=C.deletions;A===null?(C.deletions=[T],C.flags|=16):A.push(T)}}function n(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function i(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function r(C,T){return C=oi(C,T),C.index=0,C.sibling=null,C}function s(C,T,A){return C.index=A,e?(A=C.alternate,A!==null?(A=A.index,A<T?(C.flags|=67108866,T):A):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function o(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function l(C,T,A,k){return T===null||T.tag!==6?(T=ef(A,C.mode,k),T.return=C,T):(T=r(T,A),T.return=C,T)}function u(C,T,A,k){var L=A.type;return L===_s?m(C,T,A.props.children,k,A.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Mi&&Mr(L)===T.type)?(T=r(T,A.props),Ba(T,A),T.return=C,T):(T=Kl(A.type,A.key,A.props,null,C.mode,k),Ba(T,A),T.return=C,T)}function d(C,T,A,k){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=tf(A,C.mode,k),T.return=C,T):(T=r(T,A.children||[]),T.return=C,T)}function m(C,T,A,k,L){return T===null||T.tag!==7?(T=Pr(A,C.mode,k,L),T.return=C,T):(T=r(T,A),T.return=C,T)}function b(C,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=ef(""+T,C.mode,A),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:return A=Kl(T.type,T.key,T.props,null,C.mode,A),Ba(A,T),A.return=C,A;case Ka:return T=tf(T,C.mode,A),T.return=C,T;case Mi:return T=Mr(T),b(C,T,A)}if(Qa(T)||La(T))return T=Pr(T,C.mode,A,null),T.return=C,T;if(typeof T.then=="function")return b(C,Cl(T),A);if(T.$$typeof===ei)return b(C,Nl(C,T),A);Ol(C,T)}return null}function y(C,T,A,k){var L=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return L!==null?null:l(C,T,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Sl:return A.key===L?u(C,T,A,k):null;case Ka:return A.key===L?d(C,T,A,k):null;case Mi:return A=Mr(A),y(C,T,A,k)}if(Qa(A)||La(A))return L!==null?null:m(C,T,A,k,null);if(typeof A.then=="function")return y(C,T,Cl(A),k);if(A.$$typeof===ei)return y(C,T,Nl(C,A),k);Ol(C,A)}return null}function x(C,T,A,k,L){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C=C.get(A)||null,l(T,C,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Sl:return C=C.get(k.key===null?A:k.key)||null,u(T,C,k,L);case Ka:return C=C.get(k.key===null?A:k.key)||null,d(T,C,k,L);case Mi:return k=Mr(k),x(C,T,A,k,L)}if(Qa(k)||La(k))return C=C.get(A)||null,m(T,C,k,L,null);if(typeof k.then=="function")return x(C,T,A,Cl(k),L);if(k.$$typeof===ei)return x(C,T,A,Nl(T,k),L);Ol(T,k)}return null}function D(C,T,A,k){for(var L=null,Z=null,S=T,p=T=0,v=null;S!==null&&p<A.length;p++){S.index>p?(v=S,S=null):v=S.sibling;var E=y(C,S,A[p],k);if(E===null){S===null&&(S=v);break}e&&S&&E.alternate===null&&t(C,S),T=s(E,T,p),Z===null?L=E:Z.sibling=E,Z=E,S=v}if(p===A.length)return n(C,S),re&&Jn(C,p),L;if(S===null){for(;p<A.length;p++)S=b(C,A[p],k),S!==null&&(T=s(S,T,p),Z===null?L=S:Z.sibling=S,Z=S);return re&&Jn(C,p),L}for(S=i(S);p<A.length;p++)v=x(S,C,p,A[p],k),v!==null&&(e&&v.alternate!==null&&S.delete(v.key===null?p:v.key),T=s(v,T,p),Z===null?L=v:Z.sibling=v,Z=v);return e&&S.forEach(function(w){return t(C,w)}),re&&Jn(C,p),L}function I(C,T,A,k){if(A==null)throw Error(M(151));for(var L=null,Z=null,S=T,p=T=0,v=null,E=A.next();S!==null&&!E.done;p++,E=A.next()){S.index>p?(v=S,S=null):v=S.sibling;var w=y(C,S,E.value,k);if(w===null){S===null&&(S=v);break}e&&S&&w.alternate===null&&t(C,S),T=s(w,T,p),Z===null?L=w:Z.sibling=w,Z=w,S=v}if(E.done)return n(C,S),re&&Jn(C,p),L;if(S===null){for(;!E.done;p++,E=A.next())E=b(C,E.value,k),E!==null&&(T=s(E,T,p),Z===null?L=E:Z.sibling=E,Z=E);return re&&Jn(C,p),L}for(S=i(S);!E.done;p++,E=A.next())E=x(S,C,p,E.value,k),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?p:E.key),T=s(E,T,p),Z===null?L=E:Z.sibling=E,Z=E);return e&&S.forEach(function(N){return t(C,N)}),re&&Jn(C,p),L}function V(C,T,A,k){if(typeof A=="object"&&A!==null&&A.type===_s&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Sl:e:{for(var L=A.key;T!==null;){if(T.key===L){if(L=A.type,L===_s){if(T.tag===7){n(C,T.sibling),k=r(T,A.props.children),k.return=C,C=k;break e}}else if(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Mi&&Mr(L)===T.type){n(C,T.sibling),k=r(T,A.props),Ba(k,A),k.return=C,C=k;break e}n(C,T);break}else t(C,T);T=T.sibling}A.type===_s?(k=Pr(A.props.children,C.mode,k,A.key),k.return=C,C=k):(k=Kl(A.type,A.key,A.props,null,C.mode,k),Ba(k,A),k.return=C,C=k)}return o(C);case Ka:e:{for(L=A.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(C,T.sibling),k=r(T,A.children||[]),k.return=C,C=k;break e}else{n(C,T);break}else t(C,T);T=T.sibling}k=tf(A,C.mode,k),k.return=C,C=k}return o(C);case Mi:return A=Mr(A),V(C,T,A,k)}if(Qa(A))return D(C,T,A,k);if(La(A)){if(L=La(A),typeof L!="function")throw Error(M(150));return A=L.call(A),I(C,T,A,k)}if(typeof A.then=="function")return V(C,T,Cl(A),k);if(A.$$typeof===ei)return V(C,T,Nl(C,A),k);Ol(C,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(n(C,T.sibling),k=r(T,A),k.return=C,C=k):(n(C,T),k=ef(A,C.mode,k),k.return=C,C=k),o(C)):n(C,T)}return function(C,T,A,k){try{No=0;var L=V(C,T,A,k);return Ps=null,L}catch(S){if(S===ua||S===dc)throw S;var Z=Lt(29,S,null,C.mode);return Z.lanes=k,Z.return=C,Z}finally{}}}var qr=Yy(!0),Ky=Yy(!1),ji=!1;function Rh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=_u(e),Hy(e,null,n),t}return fc(e,i,t,n),_u(e)}function oo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,my(e,n)}}function rf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var vd=!1;function lo(){if(vd){var e=Us;if(e!==null)throw e}}function uo(e,t,n,i){vd=!1;var r=e.updateQueue;ji=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=u))}if(s!==null){var b=r.baseState;o=0,m=d=u=null,l=s;do{var y=l.lane&-536870913,x=y!==l.lane;if(x?(ie&y)===y:(i&y)===y){y!==0&&y===Ks&&(vd=!0),m!==null&&(m=m.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var D=e,I=l;y=t;var V=n;switch(I.tag){case 1:if(D=I.payload,typeof D=="function"){b=D.call(V,b,y);break e}b=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=I.payload,y=typeof D=="function"?D.call(V,b,y):D,y==null)break e;b=Ce({},b,y);break e;case 2:ji=!0}}y=l.callback,y!==null&&(e.flags|=64,x&&(e.flags|=8192),x=r.callbacks,x===null?r.callbacks=[y]:x.push(y))}else x={lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=x,u=b):m=m.next=x,o|=y;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;x=l,l=x.next,x.next=null,r.lastBaseUpdate=x,r.shared.pending=null}}while(!0);m===null&&(u=b),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=m,s===null&&(r.shared.lanes=0),fr|=o,e.lanes=o,e.memoizedState=b}}function Qy(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function Jy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Qy(n[e],t)}var Qs=jn(null),Au=jn(0);function Lp(e,t){e=mi,Te(Au,e),Te(Qs,t),mi=e|t.baseLanes}function bd(){Te(Au,mi),Te(Qs,Qs.current)}function Dh(){mi=Au.current,st(Qs),st(Au)}var Gt=jn(null),nn=null;function Ui(e){var t=e.alternate;Te(He,He.current&1),Te(Gt,e),nn===null&&(t===null||Qs.current!==null||t.memoizedState!==null)&&(nn=e)}function _d(e){Te(He,He.current),Te(Gt,e),nn===null&&(nn=e)}function Wy(e){e.tag===22?(Te(He,He.current),Te(Gt,e),nn===null&&(nn=e)):Pi()}function Pi(){Te(He,He.current),Te(Gt,Gt.current)}function jt(e){st(Gt),nn===e&&(nn=null),st(He)}var He=jn(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Pd(n)||Bd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fi=0,Q=null,ge=null,Ge=null,wu=!1,Bs=!1,$r=!1,Nu=0,Co=0,Hs=null,I1=0;function je(){throw Error(M(321))}function zh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Ih(e,t,n,i,r,s){return fi=s,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?kv:qh,$r=!1,s=n(i,r),$r=!1,Bs&&(s=tv(t,n,i,r)),ev(e),s}function ev(e){Y.H=Oo;var t=ge!==null&&ge.next!==null;if(fi=0,Ge=ge=Q=null,wu=!1,Co=0,Hs=null,t)throw Error(M(300));e===null||Xe||(e=e.dependencies,e!==null&&Eu(e)&&(Xe=!0))}function tv(e,t,n,i){Q=e;var r=0;do{if(Bs&&(Hs=null),Co=0,Bs=!1,25<=r)throw Error(M(301));if(r+=1,Ge=ge=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=Rv,s=t(n,i)}while(Bs);return s}function M1(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Xo(t):t,e=e.useState()[0],(ge!==null?ge.memoizedState:null)!==e&&(Q.flags|=1024),t}function Mh(){var e=Nu!==0;return Nu=0,e}function jh(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Lh(e){if(wu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wu=!1}fi=0,Ge=ge=Q=null,Bs=!1,Co=Nu=0,Hs=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Q.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Ve(){if(ge===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=Ge===null?Q.memoizedState:Ge.next;if(t!==null)Ge=t,ge=e;else{if(e===null)throw Q.alternate===null?Error(M(467)):Error(M(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},Ge===null?Q.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var t=Co;return Co+=1,Hs===null&&(Hs=[]),e=Fy(Hs,e,t),t=Q,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?kv:qh),e}function mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ei)return ft(e)}throw Error(M(438,String(e)))}function Uh(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hc(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=_E;return t.index++,n}function di(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=Ve();return Ph(t,ge,e)}function Ph(e,t,n){var i=e.queue;if(i===null)throw Error(M(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=o=null,u=null,d=t,m=!1;do{var b=d.lane&-536870913;if(b!==d.lane?(ie&b)===b:(fi&b)===b){var y=d.revertLane;if(y===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),b===Ks&&(m=!0);else if((fi&y)===y){d=d.next,y===Ks&&(m=!0);continue}else b={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(l=u=b,o=s):u=u.next=b,Q.lanes|=y,fr|=y;b=d.action,$r&&n(s,b),s=d.hasEagerState?d.eagerState:n(s,b)}else y={lane:b,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(l=u=y,o=s):u=u.next=y,Q.lanes|=b,fr|=b;d=d.next}while(d!==null&&d!==t);if(u===null?o=s:u.next=l,!Zt(s,e.memoizedState)&&(Xe=!0,m&&(n=Us,n!==null)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function sf(e){var t=Ve(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);Zt(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function nv(e,t,n){var i=Q,r=Ve(),s=re;if(s){if(n===void 0)throw Error(M(407));n=n()}else n=t();var o=!Zt((ge||r).memoizedState,n);if(o&&(r.memoizedState=n,Xe=!0),r=r.queue,Bh(sv.bind(null,i,r,e),[e]),r.getSnapshot!==t||o||Ge!==null&&Ge.memoizedState.tag&1){if(i.flags|=2048,Js(9,{destroy:void 0},rv.bind(null,i,r,n,t),null),ve===null)throw Error(M(349));s||fi&127||iv(i,t,n)}return n}function iv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=hc(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rv(e,t,n,i){t.value=n,t.getSnapshot=i,av(t)&&ov(e)}function sv(e,t,n){return n(function(){av(t)&&ov(e)})}function av(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function ov(e){var t=ts(e,2);t!==null&&Ct(t,e,2)}function Sd(e){var t=vt();if(typeof e=="function"){var n=e;if(e=n(),$r){qi(!0);try{n()}finally{qi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t}function lv(e,t,n,i){return e.baseState=n,Ph(e,ge,typeof i=="function"?i:di)}function j1(e,t,n,i,r){if(gc(e))throw Error(M(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,uv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function uv(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,o={};Y.T=o;try{var l=n(r,i),u=Y.S;u!==null&&u(o,l),Up(e,t,l)}catch(d){Ed(e,t,d)}finally{s!==null&&o.types!==null&&(s.types=o.types),Y.T=s}}else try{s=n(r,i),Up(e,t,s)}catch(d){Ed(e,t,d)}}function Up(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Pp(e,t,i)},function(i){return Ed(e,t,i)}):Pp(e,t,n)}function Pp(e,t,n){t.status="fulfilled",t.value=n,cv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,uv(e,n)))}function Ed(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,cv(t),t=t.next;while(t!==i)}e.action=null}function cv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fv(e,t){return t}function Bp(e,t){if(re){var n=ve.formState;if(n!==null){e:{var i=Q;if(re){if(Ne){t:{for(var r=Ne,s=en;r.nodeType!==8;){if(!s){r=null;break t}if(r=rn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ne=rn(r.nextSibling),i=r.data==="F!";break e}}ur(i)}i=!1}i&&(t=n[0])}}return n=vt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:t},n.queue=i,n=Nv.bind(null,Q,i),i.dispatch=n,i=Sd(!1),s=Gh.bind(null,Q,!1,i.queue),i=vt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=j1.bind(null,Q,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Hp(e){var t=Ve();return dv(t,ge,e)}function dv(e,t,n){if(t=Ph(e,t,fv)[0],e=Jl(di)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Xo(t)}catch(o){throw o===ua?dc:o}else i=t;t=Ve();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,Js(9,{destroy:void 0},L1.bind(null,r,n),null)),[i,s,e]}function L1(e,t){e.action=t}function Vp(e){var t=Ve(),n=ge;if(n!==null)return dv(t,n,e);Ve(),t=t.memoizedState,n=Ve();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Js(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Q.updateQueue,t===null&&(t=hc(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function hv(){return Ve().memoizedState}function Wl(e,t,n,i){var r=vt();Q.flags|=e,r.memoizedState=Js(1|t,{destroy:void 0},n,i===void 0?null:i)}function pc(e,t,n,i){var r=Ve();i=i===void 0?null:i;var s=r.memoizedState.inst;ge!==null&&i!==null&&zh(i,ge.memoizedState.deps)?r.memoizedState=Js(t,s,n,i):(Q.flags|=e,r.memoizedState=Js(1|t,s,n,i))}function Zp(e,t){Wl(8390656,8,e,t)}function Bh(e,t){pc(2048,8,e,t)}function U1(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=hc(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function mv(e){var t=Ve().memoizedState;return U1({ref:t,nextImpl:e}),function(){if(le&2)throw Error(M(440));return t.impl.apply(void 0,arguments)}}function pv(e,t){return pc(4,2,e,t)}function gv(e,t){return pc(4,4,e,t)}function yv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vv(e,t,n){n=n!=null?n.concat([e]):null,pc(4,4,yv.bind(null,t,e),n)}function Hh(){}function bv(e,t){var n=Ve();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&zh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _v(e,t){var n=Ve();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&zh(t,i[1]))return i[0];if(i=e(),$r){qi(!0);try{e()}finally{qi(!1)}}return n.memoizedState=[i,t],i}function Vh(e,t,n){return n===void 0||fi&1073741824&&!(ie&261930)?e.memoizedState=t:(e.memoizedState=n,e=lb(),Q.lanes|=e,fr|=e,n)}function Sv(e,t,n,i){return Zt(n,t)?n:Qs.current!==null?(e=Vh(e,n,i),Zt(e,t)||(Xe=!0),e):!(fi&42)||fi&1073741824&&!(ie&261930)?(Xe=!0,e.memoizedState=n):(e=lb(),Q.lanes|=e,fr|=e,t)}function Ev(e,t,n,i,r){var s=ue.p;ue.p=s!==0&&8>s?s:8;var o=Y.T,l={};Y.T=l,Gh(e,!1,t,n);try{var u=r(),d=Y.S;if(d!==null&&d(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=z1(u,i);co(e,t,m,Vt(e))}else co(e,t,i,Vt(e))}catch(b){co(e,t,{then:function(){},status:"rejected",reason:b},Vt())}finally{ue.p=s,o!==null&&l.types!==null&&(o.types=l.types),Y.T=o}}function P1(){}function Td(e,t,n,i){if(e.tag!==5)throw Error(M(476));var r=Tv(e).queue;Ev(e,r,t,Ur,n===null?P1:function(){return Av(e),n(i)})}function Tv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ur,baseState:Ur,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:Ur},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Av(e){var t=Tv(e);t.next===null&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Vt())}function Zh(){return ft(Do)}function xv(){return Ve().memoizedState}function wv(){return Ve().memoizedState}function B1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Vt();e=Ji(n);var i=Wi(t,e,n);i!==null&&(Ct(i,t,n),oo(i,t,n)),t={cache:Ch()},e.payload=t;return}t=t.return}}function H1(e,t,n){var i=Vt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gc(e)?Cv(t,n):(n=Ah(e,t,n,i),n!==null&&(Ct(n,e,i),Ov(n,t,i)))}function Nv(e,t,n){var i=Vt();co(e,t,n,i)}function co(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gc(e))Cv(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,Zt(l,o))return fc(e,t,r,0),ve===null&&cc(),!1}catch{}finally{}if(n=Ah(e,t,r,i),n!==null)return Ct(n,e,i),Ov(n,t,i),!0}return!1}function Gh(e,t,n,i){if(i={lane:2,revertLane:Wh(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gc(e)){if(t)throw Error(M(479))}else t=Ah(e,n,i,2),t!==null&&Ct(t,e,2)}function gc(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Cv(e,t){Bs=wu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ov(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,my(e,n)}}var Oo={readContext:ft,use:mc,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Oo.useEffectEvent=je;var kv={readContext:ft,use:mc,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Zp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Wl(4194308,4,yv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var n=vt();t=t===void 0?null:t;var i=e();if($r){qi(!0);try{e()}finally{qi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=vt();if(n!==void 0){var r=n(t);if($r){qi(!0);try{n(t)}finally{qi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=H1.bind(null,Q,e),[i.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Sd(e);var t=e.queue,n=Nv.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Hh,useDeferredValue:function(e,t){var n=vt();return Vh(n,e,t)},useTransition:function(){var e=Sd(!1);return e=Ev.bind(null,Q,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Q,r=vt();if(re){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),ve===null)throw Error(M(349));ie&127||iv(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Zp(sv.bind(null,i,s,e),[e]),i.flags|=2048,Js(9,{destroy:void 0},rv.bind(null,i,s,n,t),null),n},useId:function(){var e=vt(),t=ve.identifierPrefix;if(re){var n=Cn,i=Nn;n=(i&~(1<<32-Ht(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Nu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=I1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Zh,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Gh.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uh,useCacheRefresh:function(){return vt().memoizedState=B1.bind(null,Q)},useEffectEvent:function(e){var t=vt(),n={impl:e};return t.memoizedState=n,function(){if(le&2)throw Error(M(440));return n.impl.apply(void 0,arguments)}}},qh={readContext:ft,use:mc,useCallback:bv,useContext:ft,useEffect:Bh,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:Jl,useRef:hv,useState:function(){return Jl(di)},useDebugValue:Hh,useDeferredValue:function(e,t){var n=Ve();return Sv(n,ge.memoizedState,e,t)},useTransition:function(){var e=Jl(di)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Xo(e),t]},useSyncExternalStore:nv,useId:xv,useHostTransitionStatus:Zh,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,t){var n=Ve();return lv(n,ge,e,t)},useMemoCache:Uh,useCacheRefresh:wv};qh.useEffectEvent=mv;var Rv={readContext:ft,use:mc,useCallback:bv,useContext:ft,useEffect:Bh,useImperativeHandle:vv,useInsertionEffect:pv,useLayoutEffect:gv,useMemo:_v,useReducer:sf,useRef:hv,useState:function(){return sf(di)},useDebugValue:Hh,useDeferredValue:function(e,t){var n=Ve();return ge===null?Vh(n,e,t):Sv(n,ge.memoizedState,e,t)},useTransition:function(){var e=sf(di)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:Xo(e),t]},useSyncExternalStore:nv,useId:xv,useHostTransitionStatus:Zh,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,t){var n=Ve();return ge!==null?lv(n,ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:wv};Rv.useEffectEvent=mv;function af(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ad={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Vt(),r=Ji(i);r.payload=t,n!=null&&(r.callback=n),t=Wi(e,r,i),t!==null&&(Ct(t,e,i),oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Vt(),r=Ji(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Wi(e,r,i),t!==null&&(Ct(t,e,i),oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),i=Ji(n);i.tag=2,t!=null&&(i.callback=t),t=Wi(e,i,n),t!==null&&(Ct(t,e,n),oo(t,e,n))}};function Gp(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ao(n,i)||!Ao(r,s):!0}function qp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ad.enqueueReplaceState(t,t.state,null)}function Xr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ce({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function Dv(e){bu(e)}function zv(e){console.error(e)}function Iv(e){bu(e)}function Cu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function $p(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xd(e,t,n){return n=Ji(n),n.tag=3,n.payload={element:null},n.callback=function(){Cu(e,t)},n}function Mv(e){return e=Ji(e),e.tag=3,e}function jv(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){$p(t,n,i)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){$p(t,n,i),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function V1(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&la(t,n,r,!0),n=Gt.current,n!==null){switch(n.tag){case 31:case 13:return nn===null?zu():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Tu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),yf(e,i,r)),!1;case 22:return n.flags|=65536,i===Tu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),yf(e,i,r)),!1}throw Error(M(435,n.tag))}return yf(e,i,r),zu(),!1}if(re)return t=Gt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==dd&&(e=Error(M(422),{cause:i}),wo(Wt(e,n)))):(i!==dd&&(t=Error(M(423),{cause:i}),wo(Wt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Wt(i,n),r=xd(e.stateNode,i,r),rf(e,r),Le!==4&&(Le=2)),!1;var s=Error(M(520),{cause:i});if(s=Wt(s,n),mo===null?mo=[s]:mo.push(s),Le!==4&&(Le=2),t===null)return!0;i=Wt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=xd(n.stateNode,i,e),rf(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(er===null||!er.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Mv(r),jv(r,e,n,i),rf(n,r),!1}n=n.return}while(n!==null);return!1}var $h=Error(M(461)),Xe=!1;function ot(e,t,n,i){t.child=e===null?Ky(t,null,n,i):qr(t,e.child,n,i)}function Xp(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}else o=i;return Gr(t),i=Ih(e,t,n,o,s,r),l=Mh(),e!==null&&!Xe?(jh(e,t,r),hi(e,t,r)):(re&&l&&wh(t),t.flags|=1,ot(e,t,i,r),t.child)}function Fp(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!xh(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Lv(e,t,s,i,r)):(e=Kl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Xh(e,r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(o,i)&&e.ref===t.ref)return hi(e,t,r)}return t.flags|=1,e=oi(s,i),e.ref=t.ref,e.return=t,t.child=e}function Lv(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Ao(s,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=s,Xh(e,r))e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,hi(e,t,r)}return wd(e,t,n,i,r)}function Uv(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return Yp(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ql(t,s!==null?s.cachePool:null),s!==null?Lp(t,s):bd(),Wy(t);else return i=t.lanes=536870912,Yp(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Ql(t,s.cachePool),Lp(t,s),Pi(),t.memoizedState=null):(e!==null&&Ql(t,null),bd(),Pi());return ot(e,t,r,n),t.child}function Wa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yp(e,t,n,i,r){var s=Oh();return s=s===null?null:{parent:$e._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Ql(t,null),bd(),Wy(t),e!==null&&la(e,t,i,!0),t.childLanes=r,null}function eu(e,t){return t=Ou({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kp(e,t,n){return qr(t,e.child,null,n),e=eu(t,t.pendingProps),e.flags|=2,jt(t),t.memoizedState=null,e}function Z1(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(re){if(i.mode==="hidden")return e=eu(t,i),t.lanes=536870912,Wa(null,e);if(_d(t),(e=Ne)?(e=kb(e,en),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:lr!==null?{id:Nn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},n=Zy(e),n.return=t,t.child=n,ct=t,Ne=null)):e=null,e===null)throw ur(t);return t.lanes=536870912,null}return eu(t,i)}var s=e.memoizedState;if(s!==null){var o=s.dehydrated;if(_d(t),r)if(t.flags&256)t.flags&=-257,t=Kp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(M(558));else if(Xe||la(e,t,n,!1),r=(n&e.childLanes)!==0,Xe||r){if(i=ve,i!==null&&(o=py(i,n),o!==0&&o!==s.retryLane))throw s.retryLane=o,ts(e,o),Ct(i,e,o),$h;zu(),t=Kp(e,t,n)}else e=s.treeContext,Ne=rn(o.nextSibling),ct=t,re=!0,Qi=null,en=!1,e!==null&&qy(t,e),t=eu(t,i),t.flags|=4096;return t}return e=oi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(M(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wd(e,t,n,i,r){return Gr(t),n=Ih(e,t,n,i,void 0,r),i=Mh(),e!==null&&!Xe?(jh(e,t,r),hi(e,t,r)):(re&&i&&wh(t),t.flags|=1,ot(e,t,n,r),t.child)}function Qp(e,t,n,i,r,s){return Gr(t),t.updateQueue=null,n=tv(t,i,n,r),ev(e),i=Mh(),e!==null&&!Xe?(jh(e,t,s),hi(e,t,s)):(re&&i&&wh(t),t.flags|=1,ot(e,t,n,s),t.child)}function Jp(e,t,n,i,r){if(Gr(t),t.stateNode===null){var s=Cs,o=n.contextType;typeof o=="object"&&o!==null&&(s=ft(o)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ad,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Rh(t),o=n.contextType,s.context=typeof o=="object"&&o!==null?ft(o):Cs,s.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(af(t,n,o,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Ad.enqueueReplaceState(s,s.state,null),uo(t,i,s,r),lo(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Xr(n,l);s.props=u;var d=s.context,m=n.contextType;o=Cs,typeof m=="object"&&m!==null&&(o=ft(m));var b=n.getDerivedStateFromProps;m=typeof b=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||d!==o)&&qp(t,s,i,o),ji=!1;var y=t.memoizedState;s.state=y,uo(t,i,s,r),lo(),d=t.memoizedState,l||y!==d||ji?(typeof b=="function"&&(af(t,n,b,i),d=t.memoizedState),(u=ji||Gp(t,n,u,i,y,d,o))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),s.props=i,s.state=d,s.context=o,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,yd(e,t),o=t.memoizedProps,m=Xr(n,o),s.props=m,b=t.pendingProps,y=s.context,d=n.contextType,u=Cs,typeof d=="object"&&d!==null&&(u=ft(d)),l=n.getDerivedStateFromProps,(d=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==b||y!==u)&&qp(t,s,i,u),ji=!1,y=t.memoizedState,s.state=y,uo(t,i,s,r),lo();var x=t.memoizedState;o!==b||y!==x||ji||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof l=="function"&&(af(t,n,l,i),x=t.memoizedState),(m=ji||Gp(t,n,m,i,y,x,u)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,x,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),s.props=i,s.state=x,s.context=u,i=m):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,tu(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=qr(t,e.child,null,r),t.child=qr(t,null,n,r)):ot(e,t,n,r),t.memoizedState=s.state,e=t.child):e=hi(e,t,r),e}function Wp(e,t,n,i){return Zr(),t.flags|=256,ot(e,t,n,i),t.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:Xy()}}function uf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ut),e}function Pv(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(He.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(re){if(r?Ui(t):Pi(),(e=Ne)?(e=kb(e,en),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:lr!==null?{id:Nn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},n=Zy(e),n.return=t,t.child=n,ct=t,Ne=null)):e=null,e===null)throw ur(t);return Bd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(Pi(),r=t.mode,l=Ou({mode:"hidden",children:l},r),i=Pr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=lf(n),i.childLanes=uf(e,o,n),t.memoizedState=of,Wa(null,i)):(Ui(t),Nd(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Ui(t),t.flags&=-257,t=cf(e,t,n)):t.memoizedState!==null?(Pi(),t.child=e.child,t.flags|=128,t=null):(Pi(),l=i.fallback,r=t.mode,i=Ou({mode:"visible",children:i.children},r),l=Pr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,qr(t,e.child,null,n),i=t.child,i.memoizedState=lf(n),i.childLanes=uf(e,o,n),t.memoizedState=of,t=Wa(null,i));else if(Ui(t),Bd(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var d=o.dgst;o=d,i=Error(M(419)),i.stack="",i.digest=o,wo({value:i,source:null,stack:null}),t=cf(e,t,n)}else if(Xe||la(e,t,n,!1),o=(n&e.childLanes)!==0,Xe||o){if(o=ve,o!==null&&(i=py(o,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,ts(e,i),Ct(o,e,i),$h;Pd(l)||zu(),t=cf(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ne=rn(l.nextSibling),ct=t,re=!0,Qi=null,en=!1,e!==null&&qy(t,e),t=Nd(t,i.children),t.flags|=4096);return t}return r?(Pi(),l=i.fallback,r=t.mode,u=e.child,d=u.sibling,i=oi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,d!==null?l=oi(d,l):(l=Pr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,Wa(null,i),i=t.child,l=e.child.memoizedState,l===null?l=lf(n):(r=l.cachePool,r!==null?(u=$e._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=Xy(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=uf(e,o,n),t.memoizedState=of,Wa(e.child,i)):(Ui(t),n=e.child,e=n.sibling,n=oi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Nd(e,t){return t=Ou({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ou(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function cf(e,t,n){return qr(t,e.child,null,n),e=Nd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),md(e.return,t,n)}function ff(e,t,n,i,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.treeForkCount=s)}function Bv(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var o=He.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Te(He,o),ot(e,t,i,n),i=re?xo:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eg(e,n,t);else if(e.tag===19)eg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&xu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ff(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&xu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ff(t,!0,n,null,s,i);break;case"together":ff(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function hi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(n&t.childLanes))if(e!==null){if(la(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function G1(e,t,n){switch(t.tag){case 3:pu(t,t.stateNode.containerInfo),Li(t,$e,e.memoizedState.cache),Zr();break;case 27:case 5:td(t);break;case 4:pu(t,t.stateNode.containerInfo);break;case 10:Li(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_d(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ui(t),t.flags|=128,null):n&t.child.childLanes?Pv(e,t,n):(Ui(t),e=hi(e,t,n),e!==null?e.sibling:null);Ui(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(la(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Bv(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Te(He,He.current),i)break;return null;case 22:return t.lanes=0,Uv(e,t,n,t.pendingProps);case 24:Li(t,$e,e.memoizedState.cache)}return hi(e,t,n)}function Hv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!Xh(e,n)&&!(t.flags&128))return Xe=!1,G1(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,re&&t.flags&1048576&&Gy(t,xo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Mr(t.elementType),t.type=e,typeof e=="function")xh(e)?(i=Xr(e,i),t.tag=1,t=Jp(null,t,e,i,n)):(t.tag=0,t=wd(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===fh){t.tag=11,t=Xp(null,t,e,i,n);break e}else if(r===dh){t.tag=14,t=Fp(null,t,e,i,n);break e}}throw t=Wf(e)||e,Error(M(306,t,""))}}return t;case 0:return wd(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Xr(i,t.pendingProps),Jp(e,t,i,r,n);case 3:e:{if(pu(t,t.stateNode.containerInfo),e===null)throw Error(M(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,yd(e,t),uo(t,i,null,n);var o=t.memoizedState;if(i=o.cache,Li(t,$e,i),i!==s.cache&&pd(t,[$e],n,!0),lo(),i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Wp(e,t,i,n);break e}else if(i!==r){r=Wt(Error(M(424)),t),wo(r),t=Wp(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=rn(e.firstChild),ct=t,re=!0,Qi=null,en=!0,n=Ky(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zr(),i===r){t=hi(e,t,n);break e}ot(e,t,i,n)}t=t.child}return t;case 26:return tu(e,t),e===null?(n=_g(t.type,null,t.pendingProps,null))?t.memoizedState=n:re||(n=t.type,e=t.pendingProps,i=Lu(Ki.current).createElement(n),i[ut]=t,i[Ot]=e,dt(i,n,e),rt(i),t.stateNode=i):t.memoizedState=_g(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return td(t),e===null&&re&&(i=t.stateNode=Rb(t.type,t.pendingProps,Ki.current),ct=t,en=!0,r=Ne,gr(t.type)?(Hd=r,Ne=rn(i.firstChild)):Ne=r),ot(e,t,t.pendingProps.children,n),tu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&re&&((r=i=Ne)&&(i=_T(i,t.type,t.pendingProps,en),i!==null?(t.stateNode=i,ct=t,Ne=rn(i.firstChild),en=!1,r=!0):r=!1),r||ur(t)),td(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ld(r,s)?i=null:o!==null&&Ld(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=Ih(e,t,M1,null,null,n),Do._currentValue=r),tu(e,t),ot(e,t,i,n),t.child;case 6:return e===null&&re&&((e=n=Ne)&&(n=ST(n,t.pendingProps,en),n!==null?(t.stateNode=n,ct=t,Ne=null,e=!0):e=!1),e||ur(t)),null;case 13:return Pv(e,t,n);case 4:return pu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=qr(t,null,i,n):ot(e,t,i,n),t.child;case 11:return Xp(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Li(t,t.type,i.value),ot(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Gr(t),r=ft(r),i=i(r),t.flags|=1,ot(e,t,i,n),t.child;case 14:return Fp(e,t,t.type,t.pendingProps,n);case 15:return Lv(e,t,t.type,t.pendingProps,n);case 19:return Bv(e,t,n);case 31:return Z1(e,t,n);case 22:return Uv(e,t,n,t.pendingProps);case 24:return Gr(t),i=ft($e),e===null?(r=Oh(),r===null&&(r=ve,s=Ch(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Rh(t),Li(t,$e,r)):(e.lanes&n&&(yd(e,t),uo(t,null,null,n),lo()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Li(t,$e,i)):(i=s.cache,Li(t,$e,i),i!==r.cache&&pd(t,[$e],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}function $n(e){e.flags|=4}function df(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(fb())e.flags|=8192;else throw Hr=Tu,kh}else e.flags&=-16777217}function tg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ib(t))if(fb())e.flags|=8192;else throw Hr=Tu,kh}function kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dy():536870912,e.lanes|=t,Ws|=t)}function Ha(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function q1(e,t,n){var i=t.pendingProps;switch(Nh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return we(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),li($e),Xs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ms(t)?$n(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nf())),we(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?($n(t),s!==null?(we(t),tg(t,s)):(we(t),df(t,r,null,i,n))):s?s!==e.memoizedState?($n(t),we(t),tg(t,s)):(we(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&$n(t),we(t),df(t,r,e,i,n)),null;case 27:if(gu(t),n=Ki.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return we(t),null}e=Dn.current,ms(t)?kp(t):(e=Rb(r,i,n),t.stateNode=e,$n(t))}return we(t),null;case 5:if(gu(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(!i){if(t.stateNode===null)throw Error(M(166));return we(t),null}if(s=Dn.current,ms(t))kp(t);else{var o=Lu(Ki.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=o.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?o.createElement(r,{is:i.is}):o.createElement(r)}}s[ut]=t,s[Ot]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(dt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&$n(t)}}return we(t),df(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&$n(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(M(166));if(e=Ki.current,ms(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=ct,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Nb(e.nodeValue,n)),e||ur(t,!0)}else e=Lu(e).createTextNode(i),e[ut]=t,t.stateNode=e}return we(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ms(t),n!==null){if(e===null){if(!i)throw Error(M(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(557));e[ut]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),e=!1}else n=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(jt(t),t):(jt(t),null);if(t.flags&128)throw Error(M(558))}return we(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ms(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(M(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(M(317));r[ut]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),r=!1}else r=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(jt(t),t):(jt(t),null)}return jt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),kl(t,t.updateQueue),we(t),null);case 4:return Xs(),e===null&&em(t.stateNode.containerInfo),we(t),null;case 10:return li(t.type),we(t),null;case 19:if(st(He),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ha(i,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=xu(e),s!==null){for(t.flags|=128,Ha(i,!1),e=s.updateQueue,t.updateQueue=e,kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vy(n,e),n=n.sibling;return Te(He,He.current&1|2),re&&Jn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Pt()>Ru&&(t.flags|=128,r=!0,Ha(i,!1),t.lanes=4194304)}else{if(!r)if(e=xu(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,kl(t,e),Ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!re)return we(t),null}else 2*Pt()-i.renderingStartTime>Ru&&n!==536870912&&(t.flags|=128,r=!0,Ha(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pt(),e.sibling=null,n=He.current,Te(He,r?n&1|2:n&1),re&&Jn(t,i.treeForkCount),e):(we(t),null);case 22:case 23:return jt(t),Dh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),n=t.updateQueue,n!==null&&kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&st(Br),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),li($e),we(t),null;case 25:return null;case 30:return null}throw Error(M(156,t.tag))}function $1(e,t){switch(Nh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return li($e),Xs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gu(t),null;case 31:if(t.memoizedState!==null){if(jt(t),t.alternate===null)throw Error(M(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return st(He),null;case 4:return Xs(),null;case 10:return li(t.type),null;case 22:case 23:return jt(t),Dh(),e!==null&&st(Br),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return li($e),null;case 25:return null;default:return null}}function Vv(e,t){switch(Nh(t),t.tag){case 3:li($e),Xs();break;case 26:case 27:case 5:gu(t);break;case 4:Xs();break;case 31:t.memoizedState!==null&&jt(t);break;case 13:jt(t);break;case 19:st(He);break;case 10:li(t.type);break;case 22:case 23:jt(t),Dh(),e!==null&&st(Br);break;case 24:li($e)}}function Fo(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,o=n.inst;i=s(),o.destroy=i}n=n.next}while(n!==r)}}catch(l){me(t,t.return,l)}}function cr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var o=i.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,r=t;var u=n,d=l;try{d()}catch(m){me(r,u,m)}}}i=i.next}while(i!==s)}}catch(m){me(t,t.return,m)}}function Zv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jy(t,n)}catch(i){me(e,e.return,i)}}}function Gv(e,t,n){n.props=Xr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){me(e,t,i)}}function fo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){me(e,t,r)}}function On(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){me(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function qv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){me(e,e.return,r)}}function hf(e,t,n){try{var i=e.stateNode;mT(i,e.type,n,t),i[Ot]=t}catch(r){me(e,e.return,r)}}function $v(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$v(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ti));else if(i!==4&&(i===27&&gr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}function ku(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&gr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function Xv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dt(t,i,n),t[ut]=e,t[Ot]=n}catch(s){me(e,e.return,s)}}var Wn=!1,qe=!1,pf=!1,ng=typeof WeakSet=="function"?WeakSet:Set,it=null;function X1(e,t){if(e=e.containerInfo,Md=Hu,e=Iy(e),Eh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,m=0,b=e,y=null;t:for(;;){for(var x;b!==n||r!==0&&b.nodeType!==3||(l=o+r),b!==s||i!==0&&b.nodeType!==3||(u=o+i),b.nodeType===3&&(o+=b.nodeValue.length),(x=b.firstChild)!==null;)y=b,b=x;for(;;){if(b===e)break t;if(y===n&&++d===r&&(l=o),y===s&&++m===i&&(u=o),(x=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=x}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jd={focusedElem:e,selectionRange:n},Hu=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var D=Xr(n.type,r);e=i.getSnapshotBeforeUpdate(D,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){me(n,n.return,I)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ud(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Fv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n),i&4&&Fo(5,n);break;case 1:if(Fn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){me(n,n.return,o)}else{var r=Xr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){me(n,n.return,o)}}i&64&&Zv(n),i&512&&fo(n,n.return);break;case 3:if(Fn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jy(e,t)}catch(o){me(n,n.return,o)}}break;case 27:t===null&&i&4&&Xv(n);case 26:case 5:Fn(e,n),t===null&&i&4&&qv(n),i&512&&fo(n,n.return);break;case 12:Fn(e,n);break;case 31:Fn(e,n),i&4&&Qv(e,n);break;case 13:Fn(e,n),i&4&&Jv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=nT.bind(null,n),ET(e,n))));break;case 22:if(i=n.memoizedState!==null||Wn,!i){t=t!==null&&t.memoizedState!==null||qe,r=Wn;var s=qe;Wn=i,(qe=t)&&!s?Qn(e,n,(n.subtreeFlags&8772)!==0):Fn(e,n),Wn=r,qe=s}break;case 30:break;default:Fn(e,n)}}function Yv(e){var t=e.alternate;t!==null&&(e.alternate=null,Yv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&gh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,wt=!1;function Xn(e,t,n){for(n=n.child;n!==null;)Kv(e,t,n),n=n.sibling}function Kv(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ho,n)}catch{}switch(n.tag){case 26:qe||On(n,t),Xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qe||On(n,t);var i=Oe,r=wt;gr(n.type)&&(Oe=n.stateNode,wt=!1),Xn(e,t,n),go(n.stateNode),Oe=i,wt=r;break;case 5:qe||On(n,t);case 6:if(i=Oe,r=wt,Oe=null,Xn(e,t,n),Oe=i,wt=r,Oe!==null)if(wt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(n.stateNode)}catch(s){me(n,t,s)}else try{Oe.removeChild(n.stateNode)}catch(s){me(n,t,s)}break;case 18:Oe!==null&&(wt?(e=Oe,pg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ia(e)):pg(Oe,n.stateNode));break;case 4:i=Oe,r=wt,Oe=n.stateNode.containerInfo,wt=!0,Xn(e,t,n),Oe=i,wt=r;break;case 0:case 11:case 14:case 15:cr(2,n,t),qe||cr(4,n,t),Xn(e,t,n);break;case 1:qe||(On(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Gv(n,t,i)),Xn(e,t,n);break;case 21:Xn(e,t,n);break;case 22:qe=(i=qe)||n.memoizedState!==null,Xn(e,t,n),qe=i;break;default:Xn(e,t,n)}}function Qv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ia(e)}catch(n){me(t,t.return,n)}}}function Jv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(n){me(t,t.return,n)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ng),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ng),t;default:throw Error(M(435,e.tag))}}function Rl(e,t){var n=F1(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=iT.bind(null,e,i);i.then(r,r)}})}function At(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(gr(l.type)){Oe=l.stateNode,wt=!1;break e}break;case 5:Oe=l.stateNode,wt=!1;break e;case 3:case 4:Oe=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Oe===null)throw Error(M(160));Kv(s,o,r),Oe=null,wt=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Wv(t,e),t=t.sibling}var pn=null;function Wv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),xt(e),i&4&&(cr(3,e,e.return),Fo(3,e),cr(5,e,e.return));break;case 1:At(t,e),xt(e),i&512&&(qe||n===null||On(n,n.return)),i&64&&Wn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=pn;if(At(t,e),xt(e),i&512&&(qe||n===null||On(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Go]||s[ut]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),dt(s,i,n),s[ut]=e,rt(s),i=s;break e;case"link":var o=Eg("link","href",r).get(i+(n.href||""));if(o){for(var l=0;l<o.length;l++)if(s=o[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(l,1);break t}}s=r.createElement(i),dt(s,i,n),r.head.appendChild(s);break;case"meta":if(o=Eg("meta","content",r).get(i+(n.content||""))){for(l=0;l<o.length;l++)if(s=o[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(l,1);break t}}s=r.createElement(i),dt(s,i,n),r.head.appendChild(s);break;default:throw Error(M(468,i))}s[ut]=e,rt(s),i=s}e.stateNode=i}else Tg(r,e.type,e.stateNode);else e.stateNode=Sg(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Tg(r,e.type,e.stateNode):Sg(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&hf(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),xt(e),i&512&&(qe||n===null||On(n,n.return)),n!==null&&i&4&&hf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),xt(e),i&512&&(qe||n===null||On(n,n.return)),e.flags&32){r=e.stateNode;try{Ys(r,"")}catch(D){me(e,e.return,D)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,hf(e,r,n!==null?n.memoizedProps:r)),i&1024&&(pf=!0);break;case 6:if(At(t,e),xt(e),i&4){if(e.stateNode===null)throw Error(M(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(D){me(e,e.return,D)}}break;case 3:if(ru=null,r=pn,pn=Uu(t.containerInfo),At(t,e),pn=r,xt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(D){me(e,e.return,D)}pf&&(pf=!1,eb(e));break;case 4:i=pn,pn=Uu(e.stateNode.containerInfo),At(t,e),xt(e),pn=i;break;case 12:At(t,e),xt(e);break;case 31:At(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 13:At(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yc=Pt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,d=Wn,m=qe;if(Wn=d||r,qe=m||u,At(t,e),qe=m,Wn=d,xt(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Wn||qe||jr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=u.stateNode;var b=u.memoizedProps.style,y=b!=null&&b.hasOwnProperty("display")?b.display:null;l.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(D){me(u,u.return,D)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(D){me(u,u.return,D)}}}else if(t.tag===18){if(n===null){u=t;try{var x=u.stateNode;r?gg(x,!0):gg(u.stateNode,!1)}catch(D){me(u,u.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Rl(e,n))));break;case 19:At(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 30:break;case 21:break;default:At(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if($v(i)){n=i;break}i=i.return}if(n==null)throw Error(M(160));switch(n.tag){case 27:var r=n.stateNode,s=mf(e);ku(e,s,r);break;case 5:var o=n.stateNode;n.flags&32&&(Ys(o,""),n.flags&=-33);var l=mf(e);ku(e,l,o);break;case 3:case 4:var u=n.stateNode.containerInfo,d=mf(e);Cd(e,d,u);break;default:throw Error(M(161))}}catch(m){me(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;eb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fv(e,t.alternate,t),t=t.sibling}function jr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cr(4,t,t.return),jr(t);break;case 1:On(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Gv(t,t.return,n),jr(t);break;case 27:go(t.stateNode);case 26:case 5:On(t,t.return),jr(t);break;case 22:t.memoizedState===null&&jr(t);break;case 30:jr(t);break;default:jr(t)}e=e.sibling}}function Qn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Qn(r,s,n),Fo(4,s);break;case 1:if(Qn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(d){me(i,i.return,d)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)Qy(u[r],l)}catch(d){me(i,i.return,d)}}n&&o&64&&Zv(s),fo(s,s.return);break;case 27:Xv(s);case 26:case 5:Qn(r,s,n),n&&i===null&&o&4&&qv(s),fo(s,s.return);break;case 12:Qn(r,s,n);break;case 31:Qn(r,s,n),n&&o&4&&Qv(r,s);break;case 13:Qn(r,s,n),n&&o&4&&Jv(r,s);break;case 22:s.memoizedState===null&&Qn(r,s,n),fo(s,s.return);break;case 30:break;default:Qn(r,s,n)}t=t.sibling}}function Fh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$o(n))}function Yh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$o(e))}function hn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tb(e,t,n,i),t=t.sibling}function tb(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:hn(e,t,n,i),r&2048&&Fo(9,t);break;case 1:hn(e,t,n,i);break;case 3:hn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$o(e)));break;case 12:if(r&2048){hn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,l=s.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){me(t,t.return,u)}}else hn(e,t,n,i);break;case 31:hn(e,t,n,i);break;case 13:hn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?hn(e,t,n,i):ho(e,t):s._visibility&2?hn(e,t,n,i):(s._visibility|=2,ys(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Fh(o,t);break;case 24:hn(e,t,n,i),r&2048&&Yh(t.alternate,t);break;default:hn(e,t,n,i)}}function ys(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,o=t,l=n,u=i,d=o.flags;switch(o.tag){case 0:case 11:case 15:ys(s,o,l,u,r),Fo(8,o);break;case 23:break;case 22:var m=o.stateNode;o.memoizedState!==null?m._visibility&2?ys(s,o,l,u,r):ho(s,o):(m._visibility|=2,ys(s,o,l,u,r)),r&&d&2048&&Fh(o.alternate,o);break;case 24:ys(s,o,l,u,r),r&&d&2048&&Yh(o.alternate,o);break;default:ys(s,o,l,u,r)}t=t.sibling}}function ho(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:ho(n,i),r&2048&&Fh(i.alternate,i);break;case 24:ho(n,i),r&2048&&Yh(i.alternate,i);break;default:ho(n,i)}t=t.sibling}}var eo=8192;function ps(e,t,n){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)nb(e,t,n),e=e.sibling}function nb(e,t,n){switch(e.tag){case 26:ps(e,t,n),e.flags&eo&&e.memoizedState!==null&&IT(n,pn,e.memoizedState,e.memoizedProps);break;case 5:ps(e,t,n);break;case 3:case 4:var i=pn;pn=Uu(e.stateNode.containerInfo),ps(e,t,n),pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=eo,eo=16777216,ps(e,t,n),eo=i):ps(e,t,n));break;default:ps(e,t,n)}}function ib(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Va(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];it=i,sb(i,e)}ib(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rb(e),e=e.sibling}function rb(e){switch(e.tag){case 0:case 11:case 15:Va(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Va(e);break;case 12:Va(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nu(e)):Va(e);break;default:Va(e)}}function nu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];it=i,sb(i,e)}ib(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:cr(8,t,t.return),nu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,nu(t));break;default:nu(t)}e=e.sibling}}function sb(e,t){for(;it!==null;){var n=it;switch(n.tag){case 0:case 11:case 15:cr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:$o(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,it=i;else e:for(n=e;it!==null;){i=it;var r=i.sibling,s=i.return;if(Yv(i),i===n){it=null;break e}if(r!==null){r.return=s,it=r;break e}it=s}}}var Y1={getCacheForType:function(e){var t=ft($e),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ft($e).controller.signal}},K1=typeof WeakMap=="function"?WeakMap:Map,le=0,ve=null,te=null,ie=0,de=0,It=null,Xi=!1,ca=!1,Kh=!1,mi=0,Le=0,fr=0,Vr=0,Qh=0,Ut=0,Ws=0,mo=null,Nt=null,Od=!1,yc=0,ab=0,Ru=1/0,Du=null,er=null,Qe=0,tr=null,ea=null,ui=0,kd=0,Rd=null,ob=null,po=0,Dd=null;function Vt(){return le&2&&ie!==0?ie&-ie:Y.T!==null?Wh():gy()}function lb(){if(Ut===0)if(!(ie&536870912)||re){var e=Tl;Tl<<=1,!(Tl&3932160)&&(Tl=262144),Ut=e}else Ut=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Ut}function Ct(e,t,n){(e===ve&&(de===2||de===9)||e.cancelPendingCommit!==null)&&(ta(e,0),Fi(e,ie,Ut,!1)),Zo(e,n),(!(le&2)||e!==ve)&&(e===ve&&(!(le&2)&&(Vr|=n),Le===4&&Fi(e,ie,Ut,!1)),Ln(e))}function ub(e,t,n){if(le&6)throw Error(M(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Vo(e,t),r=i?W1(e,t):gf(e,t,!0),s=i;do{if(r===0){ca&&!i&&Fi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Q1(n)){r=gf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;r=mo;var u=l.current.memoizedState.isDehydrated;if(u&&(ta(l,o).flags|=256),o=gf(l,o,!1),o!==2){if(Kh&&!u){l.errorRecoveryDisabledLanes|=s,Vr|=s,r=4;break e}s=Nt,Nt=r,s!==null&&(Nt===null?Nt=s:Nt.push.apply(Nt,s))}r=o}if(s=!1,r!==2)continue}}if(r===1){ta(e,0),Fi(e,t,0,!0);break}e:{switch(i=e,s=r,s){case 0:case 1:throw Error(M(345));case 4:if((t&4194048)!==t)break;case 6:Fi(i,t,Ut,!Xi);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(M(329))}if((t&62914560)===t&&(r=yc+300-Pt(),10<r)){if(Fi(i,t,Ut,!Xi),ac(i,0,!0)!==0)break e;ui=t,i.timeoutHandle=Ob(ig.bind(null,i,n,Nt,Du,Od,t,Ut,Vr,Ws,Xi,s,"Throttled",-0,0),r);break e}ig(i,n,Nt,Du,Od,t,Ut,Vr,Ws,Xi,s,null,-0,0)}}break}while(!0);Ln(e)}function ig(e,t,n,i,r,s,o,l,u,d,m,b,y,x){if(e.timeoutHandle=-1,b=t.subtreeFlags,b&8192||(b&16785408)===16785408){b={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},nb(t,s,b);var D=(s&62914560)===s?yc-Pt():(s&4194048)===s?ab-Pt():0;if(D=MT(b,D),D!==null){ui=s,e.cancelPendingCommit=D(sg.bind(null,e,t,s,n,i,r,o,l,u,m,b,null,y,x)),Fi(e,s,o,!d);return}}sg(e,t,s,n,i,r,o,l,u)}function Q1(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Zt(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t,n,i){t&=~Qh,t&=~Vr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Ht(r),o=1<<s;i[s]=-1,r&=~o}n!==0&&hy(e,n,t)}function vc(){return le&6?!0:(Yo(0),!1)}function Jh(){if(te!==null){if(de===0)var e=te.return;else e=te,ni=ns=null,Lh(e),Ps=null,No=0,e=te;for(;e!==null;)Vv(e.alternate,e),e=e.return;te=null}}function ta(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,yT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ui=0,Jh(),ve=e,te=n=oi(e.current,null),ie=t,de=0,It=null,Xi=!1,ca=Vo(e,t),Kh=!1,Ws=Ut=Qh=Vr=fr=Le=0,Nt=mo=null,Od=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Ht(i),s=1<<r;t|=e[r],i&=~s}return mi=t,cc(),n}function cb(e,t){Q=null,Y.H=Oo,t===ua||t===dc?(t=Mp(),de=3):t===kh?(t=Mp(),de=4):de=t===$h?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,te===null&&(Le=1,Cu(e,Wt(t,e.current)))}function fb(){var e=Gt.current;return e===null?!0:(ie&4194048)===ie?nn===null:(ie&62914560)===ie||ie&536870912?e===nn:!1}function db(){var e=Y.H;return Y.H=Oo,e===null?Oo:e}function hb(){var e=Y.A;return Y.A=Y1,e}function zu(){Le=4,Xi||(ie&4194048)!==ie&&Gt.current!==null||(ca=!0),!(fr&134217727)&&!(Vr&134217727)||ve===null||Fi(ve,ie,Ut,!1)}function gf(e,t,n){var i=le;le|=2;var r=db(),s=hb();(ve!==e||ie!==t)&&(Du=null,ta(e,t)),t=!1;var o=Le;e:do try{if(de!==0&&te!==null){var l=te,u=It;switch(de){case 8:Jh(),o=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var d=de;if(de=0,It=null,Rs(e,l,u,d),n&&ca){o=0;break e}break;default:d=de,de=0,It=null,Rs(e,l,u,d)}}J1(),o=Le;break}catch(m){cb(e,m)}while(!0);return t&&e.shellSuspendCounter++,ni=ns=null,le=i,Y.H=r,Y.A=s,te===null&&(ve=null,ie=0,cc()),o}function J1(){for(;te!==null;)mb(te)}function W1(e,t){var n=le;le|=2;var i=db(),r=hb();ve!==e||ie!==t?(Du=null,Ru=Pt()+500,ta(e,t)):ca=Vo(e,t);e:do try{if(de!==0&&te!==null){t=te;var s=It;t:switch(de){case 1:de=0,It=null,Rs(e,t,s,1);break;case 2:case 9:if(Ip(s)){de=0,It=null,rg(t);break}t=function(){de!==2&&de!==9||ve!==e||(de=7),Ln(e)},s.then(t,t);break e;case 3:de=7;break e;case 4:de=5;break e;case 7:Ip(s)?(de=0,It=null,rg(t)):(de=0,It=null,Rs(e,t,s,7));break;case 5:var o=null;switch(te.tag){case 26:o=te.memoizedState;case 5:case 27:var l=te;if(o?Ib(o):l.stateNode.complete){de=0,It=null;var u=l.sibling;if(u!==null)te=u;else{var d=l.return;d!==null?(te=d,bc(d)):te=null}break t}}de=0,It=null,Rs(e,t,s,5);break;case 6:de=0,It=null,Rs(e,t,s,6);break;case 8:Jh(),Le=6;break e;default:throw Error(M(462))}}eT();break}catch(m){cb(e,m)}while(!0);return ni=ns=null,Y.H=i,Y.A=r,le=n,te!==null?0:(ve=null,ie=0,cc(),Le)}function eT(){for(;te!==null&&!TE();)mb(te)}function mb(e){var t=Hv(e.alternate,e,mi);e.memoizedProps=e.pendingProps,t===null?bc(e):te=t}function rg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qp(n,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=Qp(n,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Lh(t);default:Vv(n,t),t=te=Vy(t,mi),t=Hv(n,t,mi)}e.memoizedProps=e.pendingProps,t===null?bc(e):te=t}function Rs(e,t,n,i){ni=ns=null,Lh(t),Ps=null,No=0;var r=t.return;try{if(V1(e,r,t,n,ie)){Le=1,Cu(e,Wt(n,e.current)),te=null;return}}catch(s){if(r!==null)throw te=r,s;Le=1,Cu(e,Wt(n,e.current)),te=null;return}t.flags&32768?(re||i===1?e=!0:ca||ie&536870912?e=!1:(Xi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Gt.current,i!==null&&i.tag===13&&(i.flags|=16384))),pb(t,e)):bc(t)}function bc(e){var t=e;do{if(t.flags&32768){pb(t,Xi);return}e=t.return;var n=q1(t.alternate,t,mi);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);Le===0&&(Le=5)}function pb(e,t){do{var n=$1(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);Le=6,te=null}function sg(e,t,n,i,r,s,o,l,u){e.cancelPendingCommit=null;do _c();while(Qe!==0);if(le&6)throw Error(M(327));if(t!==null){if(t===e.current)throw Error(M(177));if(s=t.lanes|t.childLanes,s|=Th,zE(e,n,s,o,l,u),e===ve&&(te=ve=null,ie=0),ea=t,tr=e,ui=n,kd=s,Rd=r,ob=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,rT(yu,function(){return _b(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=ue.p,ue.p=2,o=le,le|=4;try{X1(e,t,n)}finally{le=o,ue.p=r,Y.T=i}}Qe=1,gb(),yb(),vb()}}function gb(){if(Qe===1){Qe=0;var e=tr,t=ea,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=ue.p;ue.p=2;var r=le;le|=4;try{Wv(t,e);var s=jd,o=Iy(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&zy(l.ownerDocument.documentElement,l)){if(u!==null&&Eh(l)){var d=u.start,m=u.end;if(m===void 0&&(m=d),"selectionStart"in l)l.selectionStart=d,l.selectionEnd=Math.min(m,l.value.length);else{var b=l.ownerDocument||document,y=b&&b.defaultView||window;if(y.getSelection){var x=y.getSelection(),D=l.textContent.length,I=Math.min(u.start,D),V=u.end===void 0?I:Math.min(u.end,D);!x.extend&&I>V&&(o=V,V=I,I=o);var C=Np(l,I),T=Np(l,V);if(C&&T&&(x.rangeCount!==1||x.anchorNode!==C.node||x.anchorOffset!==C.offset||x.focusNode!==T.node||x.focusOffset!==T.offset)){var A=b.createRange();A.setStart(C.node,C.offset),x.removeAllRanges(),I>V?(x.addRange(A),x.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),x.addRange(A))}}}}for(b=[],x=l;x=x.parentNode;)x.nodeType===1&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<b.length;l++){var k=b[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Hu=!!Md,jd=Md=null}finally{le=r,ue.p=i,Y.T=n}}e.current=t,Qe=2}}function yb(){if(Qe===2){Qe=0;var e=tr,t=ea,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=ue.p;ue.p=2;var r=le;le|=4;try{Fv(e,t.alternate,t)}finally{le=r,ue.p=i,Y.T=n}}Qe=3}}function vb(){if(Qe===4||Qe===3){Qe=0,AE();var e=tr,t=ea,n=ui,i=ob;t.subtreeFlags&10256||t.flags&10256?Qe=5:(Qe=0,ea=tr=null,bb(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(er=null),ph(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ho,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=ue.p,ue.p=2,Y.T=null;try{for(var s=e.onRecoverableError,o=0;o<i.length;o++){var l=i[o];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,ue.p=r}}ui&3&&_c(),Ln(e),r=e.pendingLanes,n&261930&&r&42?e===Dd?po++:(po=0,Dd=e):po=0,Yo(0)}}function bb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$o(t)))}function _c(){return gb(),yb(),vb(),_b()}function _b(){if(Qe!==5)return!1;var e=tr,t=kd;kd=0;var n=ph(ui),i=Y.T,r=ue.p;try{ue.p=32>n?32:n,Y.T=null,n=Rd,Rd=null;var s=tr,o=ui;if(Qe=0,ea=tr=null,ui=0,le&6)throw Error(M(331));var l=le;if(le|=4,rb(s.current),tb(s,s.current,o,n),le=l,Yo(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ho,s)}catch{}return!0}finally{ue.p=r,Y.T=i,bb(e,t)}}function ag(e,t,n){t=Wt(n,t),t=xd(e.stateNode,t,2),e=Wi(e,t,2),e!==null&&(Zo(e,2),Ln(e))}function me(e,t,n){if(e.tag===3)ag(e,e,n);else for(;t!==null;){if(t.tag===3){ag(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(er===null||!er.has(i))){e=Wt(n,e),n=Mv(2),i=Wi(t,n,2),i!==null&&(jv(n,i,t,e),Zo(i,2),Ln(i));break}}t=t.return}}function yf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new K1;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Kh=!0,r.add(n),e=tT.bind(null,e,t,n),t.then(e,e))}function tT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ve===e&&(ie&n)===n&&(Le===4||Le===3&&(ie&62914560)===ie&&300>Pt()-yc?!(le&2)&&ta(e,0):Qh|=n,Ws===ie&&(Ws=0)),Ln(e)}function Sb(e,t){t===0&&(t=dy()),e=ts(e,t),e!==null&&(Zo(e,t),Ln(e))}function nT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sb(e,n)}function iT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(M(314))}i!==null&&i.delete(t),Sb(e,n)}function rT(e,t){return hh(e,t)}var Iu=null,vs=null,zd=!1,Mu=!1,vf=!1,Yi=0;function Ln(e){e!==vs&&e.next===null&&(vs===null?Iu=vs=e:vs=vs.next=e),Mu=!0,zd||(zd=!0,aT())}function Yo(e,t){if(!vf&&Mu){vf=!0;do for(var n=!1,i=Iu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var o=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Ht(42|e)+1)-1,s&=r&~(o&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,og(i,s))}else s=ie,s=ac(i,i===ve?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Vo(i,s)||(n=!0,og(i,s));i=i.next}while(n);vf=!1}}function sT(){Eb()}function Eb(){Mu=zd=!1;var e=0;Yi!==0&&gT()&&(e=Yi);for(var t=Pt(),n=null,i=Iu;i!==null;){var r=i.next,s=Tb(i,t);s===0?(i.next=null,n===null?Iu=r:n.next=r,r===null&&(vs=n)):(n=i,(e!==0||s&3)&&(Mu=!0)),i=r}Qe!==0&&Qe!==5||Yo(e),Yi!==0&&(Yi=0)}function Tb(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-Ht(s),l=1<<o,u=r[o];u===-1?(!(l&n)||l&i)&&(r[o]=DE(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=ve,n=ie,n=ac(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(de===2||de===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&qc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Vo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&qc(i),ph(n)){case 2:case 8:n=cy;break;case 32:n=yu;break;case 268435456:n=fy;break;default:n=yu}return i=Ab.bind(null,e),n=hh(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&qc(i),e.callbackPriority=2,e.callbackNode=null,2}function Ab(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var i=ie;return i=ac(e,e===ve?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ub(e,i,t),Tb(e,Pt()),e.callbackNode!=null&&e.callbackNode===n?Ab.bind(null,e):null)}function og(e,t){if(_c())return null;ub(e,t,!0)}function aT(){vT(function(){le&6?hh(uy,sT):Eb()})}function Wh(){if(Yi===0){var e=Ks;e===0&&(e=El,El<<=1,!(El&261888)&&(El=256)),Yi=e}return Yi}function lg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xl(""+e)}function ug(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function oT(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=lg((r[Ot]||null).action),o=i.submitter;o&&(t=(t=o[Ot]||null)?lg(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var l=new oc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Yi!==0){var u=o?ug(r,o):new FormData(r);Td(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=o?ug(r,o):new FormData(r),Td(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var bf=0;bf<fd.length;bf++){var _f=fd[bf],lT=_f.toLowerCase(),uT=_f[0].toUpperCase()+_f.slice(1);Sn(lT,"on"+uT)}Sn(jy,"onAnimationEnd");Sn(Ly,"onAnimationIteration");Sn(Uy,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(x1,"onTransitionRun");Sn(w1,"onTransitionStart");Sn(N1,"onTransitionCancel");Sn(Py,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ko));function xb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=d;try{s(r)}catch(m){bu(m)}r.currentTarget=null,s=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=d;try{s(r)}catch(m){bu(m)}r.currentTarget=null,s=u}}}}function ee(e,t){var n=t[id];n===void 0&&(n=t[id]=new Set);var i=e+"__bubble";n.has(i)||(wb(t,e,2,!1),n.add(i))}function Sf(e,t,n){var i=0;t&&(i|=4),wb(n,e,i,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function em(e){if(!e[Dl]){e[Dl]=!0,yy.forEach(function(n){n!=="selectionchange"&&(cT.has(n)||Sf(n,!1,e),Sf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,Sf("selectionchange",!1,t))}}function wb(e,t,n,i){switch(Pb(t)){case 2:var r=UT;break;case 8:r=PT;break;default:r=rm}n=r.bind(null,t,n,e),r=void 0,!ld||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ef(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;l!==null;){if(o=Es(l),o===null)return;if(u=o.tag,u===5||u===6||u===26||u===27){i=s=o;continue e}l=l.parentNode}}i=i.return}xy(function(){var d=s,m=vh(n),b=[];e:{var y=By.get(e);if(y!==void 0){var x=oc,D=e;switch(e){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":x=i1;break;case"focusin":D="focus",x=Kc;break;case"focusout":D="blur",x=Kc;break;case"beforeblur":case"afterblur":x=Kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=qE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=a1;break;case jy:case Ly:case Uy:x=FE;break;case Py:x=l1;break;case"scroll":case"scrollend":x=ZE;break;case"wheel":x=c1;break;case"copy":case"cut":case"paste":x=KE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=bp;break;case"toggle":case"beforetoggle":x=d1}var I=(t&4)!==0,V=!I&&(e==="scroll"||e==="scrollend"),C=I?y!==null?y+"Capture":null:y;I=[];for(var T=d,A;T!==null;){var k=T;if(A=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||A===null||C===null||(k=Eo(T,C),k!=null&&I.push(Ro(T,k,A))),V)break;T=T.return}0<I.length&&(y=new x(y,D,null,n,m),b.push({event:y,listeners:I}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",y&&n!==od&&(D=n.relatedTarget||n.fromElement)&&(Es(D)||D[aa]))break e;if((x||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,x?(D=n.relatedTarget||n.toElement,x=d,D=D?Es(D):null,D!==null&&(V=Bo(D),I=D.tag,D!==V||I!==5&&I!==27&&I!==6)&&(D=null)):(x=null,D=d),x!==D)){if(I=yp,k="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=bp,k="onPointerLeave",C="onPointerEnter",T="pointer"),V=x==null?y:Ja(x),A=D==null?y:Ja(D),y=new I(k,T+"leave",x,n,m),y.target=V,y.relatedTarget=A,k=null,Es(m)===d&&(I=new I(C,T+"enter",D,n,m),I.target=A,I.relatedTarget=V,k=I),V=k,x&&D)t:{for(I=fT,C=x,T=D,A=0,k=C;k;k=I(k))A++;k=0;for(var L=T;L;L=I(L))k++;for(;0<A-k;)C=I(C),A--;for(;0<k-A;)T=I(T),k--;for(;A--;){if(C===T||T!==null&&C===T.alternate){I=C;break t}C=I(C),T=I(T)}I=null}else I=null;x!==null&&cg(b,y,x,I,!1),D!==null&&V!==null&&cg(b,V,D,I,!0)}}e:{if(y=d?Ja(d):window,x=y.nodeName&&y.nodeName.toLowerCase(),x==="select"||x==="input"&&y.type==="file")var Z=Tp;else if(Ep(y))if(Ry)Z=E1;else{Z=_1;var S=b1}else x=y.nodeName,!x||x.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?d&&yh(d.elementType)&&(Z=Tp):Z=S1;if(Z&&(Z=Z(e,d))){ky(b,Z,n,m);break e}S&&S(e,y,d),e==="focusout"&&d&&y.type==="number"&&d.memoizedProps.value!=null&&ad(y,"number",y.value)}switch(S=d?Ja(d):window,e){case"focusin":(Ep(S)||S.contentEditable==="true")&&(xs=S,ud=d,so=null);break;case"focusout":so=ud=xs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Cp(b,n,m);break;case"selectionchange":if(A1)break;case"keydown":case"keyup":Cp(b,n,m)}var p;if(Sh)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else As?Cy(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ny&&n.locale!=="ko"&&(As||v!=="onCompositionStart"?v==="onCompositionEnd"&&As&&(p=wy()):($i=m,bh="value"in $i?$i.value:$i.textContent,As=!0)),S=ju(d,v),0<S.length&&(v=new vp(v,e,null,n,m),b.push({event:v,listeners:S}),p?v.data=p:(p=Oy(n),p!==null&&(v.data=p)))),(p=m1?p1(e,n):g1(e,n))&&(v=ju(d,"onBeforeInput"),0<v.length&&(S=new vp("onBeforeInput","beforeinput",null,n,m),b.push({event:S,listeners:v}),S.data=p)),oT(b,e,d,n,m)}xb(b,t)})}function Ro(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ju(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Eo(e,n),r!=null&&i.unshift(Ro(e,r,s)),r=Eo(e,t),r!=null&&i.push(Ro(e,r,s))),e.tag===3)return i;e=e.return}return[]}function fT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cg(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var l=n,u=l.alternate,d=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||d===null||(u=d,r?(d=Eo(n,s),d!=null&&o.unshift(Ro(n,d,u))):r||(d=Eo(n,s),d!=null&&o.push(Ro(n,d,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function fg(e){return(typeof e=="string"?e:""+e).replace(dT,`
`).replace(hT,"")}function Nb(e,t){return t=fg(t),fg(e)===t}function pe(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ys(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ys(e,""+i);break;case"className":xl(e,"class",i);break;case"tabIndex":xl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":xl(e,n,i);break;case"style":Ay(e,i,s);break;case"data":if(t!=="object"){xl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&pe(e,t,"name",r.name,r,null),pe(e,t,"formEncType",r.formEncType,r,null),pe(e,t,"formMethod",r.formMethod,r,null),pe(e,t,"formTarget",r.formTarget,r,null)):(pe(e,t,"encType",r.encType,r,null),pe(e,t,"method",r.method,r,null),pe(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ti);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Xl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ee("beforetoggle",e),ee("toggle",e),$l(e,"popover",i);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":$l(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=HE.get(n)||n,$l(e,n,i))}}function Id(e,t,n,i,r,s){switch(n){case"style":Ay(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(M(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(M(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ys(e,i):(typeof i=="number"||typeof i=="bigint")&&Ys(e,""+i);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vy.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Ot]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):$l(e,n,i)}}}function dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:pe(e,t,s,o,n,null)}}r&&pe(e,t,"srcSet",n.srcSet,n,null),i&&pe(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var l=s=o=r=null,u=null,d=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":r=m;break;case"type":o=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(M(137,t));break;default:pe(e,t,i,m,n,null)}}Sy(e,s,l,u,d,o,r,!1);return;case"select":ee("invalid",e),i=o=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:pe(e,t,r,l,n,null)}t=s,n=o,e.multiple=!!i,t!=null?js(e,!!i,t,!1):n!=null&&js(e,!!i,n,!0);return;case"textarea":ee("invalid",e),s=r=i=null;for(o in n)if(n.hasOwnProperty(o)&&(l=n[o],l!=null))switch(o){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(M(91));break;default:pe(e,t,o,l,n,null)}Ty(e,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pe(e,t,u,i,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(i=0;i<ko.length;i++)ee(ko[i],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(i=n[d],i!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:pe(e,t,d,i,n,null)}return;default:if(yh(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&Id(e,t,m,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&pe(e,t,l,i,n,null))}function mT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,l=null,u=null,d=null,m=null;for(x in n){var b=n[x];if(n.hasOwnProperty(x)&&b!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":u=b;default:i.hasOwnProperty(x)||pe(e,t,x,null,i,b)}}for(var y in i){var x=i[y];if(b=n[y],i.hasOwnProperty(y)&&(x!=null||b!=null))switch(y){case"type":s=x;break;case"name":r=x;break;case"checked":d=x;break;case"defaultChecked":m=x;break;case"value":o=x;break;case"defaultValue":l=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(M(137,t));break;default:x!==b&&pe(e,t,y,x,i,b)}}sd(e,o,l,u,d,m,s,r);return;case"select":x=o=l=y=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":x=u;default:i.hasOwnProperty(s)||pe(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":y=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==u&&pe(e,t,r,s,i,u)}t=l,n=o,i=x,y!=null?js(e,!!n,y,!1):!!i!=!!n&&(t!=null?js(e,!!n,t,!0):js(e,!!n,n?[]:"",!1));return;case"textarea":x=y=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:pe(e,t,l,null,i,r)}for(o in i)if(r=i[o],s=n[o],i.hasOwnProperty(o)&&(r!=null||s!=null))switch(o){case"value":y=r;break;case"defaultValue":x=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(M(91));break;default:r!==s&&pe(e,t,o,r,i,s)}Ey(e,y,x);return;case"option":for(var D in n)if(y=n[D],n.hasOwnProperty(D)&&y!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:pe(e,t,D,null,i,y)}for(u in i)if(y=i[u],x=n[u],i.hasOwnProperty(u)&&y!==x&&(y!=null||x!=null))switch(u){case"selected":e.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:pe(e,t,u,y,i,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)y=n[I],n.hasOwnProperty(I)&&y!=null&&!i.hasOwnProperty(I)&&pe(e,t,I,null,i,y);for(d in i)if(y=i[d],x=n[d],i.hasOwnProperty(d)&&y!==x&&(y!=null||x!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(M(137,t));break;default:pe(e,t,d,y,i,x)}return;default:if(yh(t)){for(var V in n)y=n[V],n.hasOwnProperty(V)&&y!==void 0&&!i.hasOwnProperty(V)&&Id(e,t,V,void 0,i,y);for(m in i)y=i[m],x=n[m],!i.hasOwnProperty(m)||y===x||y===void 0&&x===void 0||Id(e,t,m,y,i,x);return}}for(var C in n)y=n[C],n.hasOwnProperty(C)&&y!=null&&!i.hasOwnProperty(C)&&pe(e,t,C,null,i,y);for(b in i)y=i[b],x=n[b],!i.hasOwnProperty(b)||y===x||y==null&&x==null||pe(e,t,b,y,i,x)}function dg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,o=r.initiatorType,l=r.duration;if(s&&l&&dg(o)){for(o=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],d=u.startTime;if(d>l)break;var m=u.transferSize,b=u.initiatorType;m&&dg(b)&&(u=u.responseEnd,o+=m*(u<l?1:(l-d)/(u-d)))}if(--i,t+=8*(s+o)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Md=null,jd=null;function Lu(e){return e.nodeType===9?e:e.ownerDocument}function hg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tf=null;function gT(){var e=window.event;return e&&e.type==="popstate"?e===Tf?!1:(Tf=e,!0):(Tf=null,!1)}var Ob=typeof setTimeout=="function"?setTimeout:void 0,yT=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(bT)}:Ob;function bT(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function pg(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),ia(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")go(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,go(n);for(var s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Go]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=o}}else n==="body"&&go(e.ownerDocument.body);n=r}while(n);ia(t)}function gg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ud(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ud(n),gh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function _T(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Go])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function ST(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rn(e.nextSibling),e===null))return null;return e}function kb(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rn(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$?"||e.data==="$~"}function Bd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ET(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Hd=null;function yg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return rn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Rb(e,t,n){switch(t=Lu(n),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}function go(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);gh(e)}var sn=new Map,bg=new Set;function Uu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vi=ue.d;ue.d={f:TT,r:AT,D:xT,C:wT,L:NT,m:CT,X:kT,S:OT,M:RT};function TT(){var e=vi.f(),t=vc();return e||t}function AT(e){var t=oa(e);t!==null&&t.tag===5&&t.type==="form"?Av(t):vi.r(e)}var fa=typeof document>"u"?null:document;function Db(e,t,n){var i=fa;if(i&&typeof t=="string"&&t){var r=Jt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),bg.has(r)||(bg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),dt(t,"link",e),rt(t),i.head.appendChild(t)))}}function xT(e){vi.D(e),Db("dns-prefetch",e,null)}function wT(e,t){vi.C(e,t),Db("preconnect",e,t)}function NT(e,t,n){vi.L(e,t,n);var i=fa;if(i&&e&&t){var r='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Jt(n.imageSizes)+'"]')):r+='[href="'+Jt(e)+'"]';var s=r;switch(t){case"style":s=na(e);break;case"script":s=da(e)}sn.has(s)||(e=Ce({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),sn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Ko(s))||t==="script"&&i.querySelector(Qo(s))||(t=i.createElement("link"),dt(t,"link",e),rt(t),i.head.appendChild(t)))}}function CT(e,t){vi.m(e,t);var n=fa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Jt(i)+'"][href="'+Jt(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=da(e)}if(!sn.has(s)&&(e=Ce({rel:"modulepreload",href:e},t),sn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qo(s)))return}i=n.createElement("link"),dt(i,"link",e),rt(i),n.head.appendChild(i)}}}function OT(e,t,n){vi.S(e,t,n);var i=fa;if(i&&e){var r=Ms(i).hoistableStyles,s=na(e);t=t||"default";var o=r.get(s);if(!o){var l={loading:0,preload:null};if(o=i.querySelector(Ko(s)))l.loading=5;else{e=Ce({rel:"stylesheet",href:e,"data-precedence":t},n),(n=sn.get(s))&&tm(e,n);var u=o=i.createElement("link");rt(u),dt(u,"link",e),u._p=new Promise(function(d,m){u.onload=d,u.onerror=m}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,iu(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:l},r.set(s,o)}}}function kT(e,t){vi.X(e,t);var n=fa;if(n&&e){var i=Ms(n).hoistableScripts,r=da(e),s=i.get(r);s||(s=n.querySelector(Qo(r)),s||(e=Ce({src:e,async:!0},t),(t=sn.get(r))&&nm(e,t),s=n.createElement("script"),rt(s),dt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function RT(e,t){vi.M(e,t);var n=fa;if(n&&e){var i=Ms(n).hoistableScripts,r=da(e),s=i.get(r);s||(s=n.querySelector(Qo(r)),s||(e=Ce({src:e,async:!0,type:"module"},t),(t=sn.get(r))&&nm(e,t),s=n.createElement("script"),rt(s),dt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function _g(e,t,n,i){var r=(r=Ki.current)?Uu(r):null;if(!r)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=na(n.href),n=Ms(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=na(n.href);var s=Ms(r).hoistableStyles,o=s.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=r.querySelector(Ko(e)))&&!s._p&&(o.instance=s,o.state.loading=5),sn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},sn.set(e,n),s||DT(r,e,n,o.state))),t&&i===null)throw Error(M(528,""));return o}if(t&&i!==null)throw Error(M(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=da(n),n=Ms(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function na(e){return'href="'+Jt(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function zb(e){return Ce({},e,{"data-precedence":e.precedence,precedence:null})}function DT(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),dt(t,"link",n),rt(t),e.head.appendChild(t))}function da(e){return'[src="'+Jt(e)+'"]'}function Qo(e){return"script[async]"+e}function Sg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Jt(n.href)+'"]');if(i)return t.instance=i,rt(i),i;var r=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),rt(i),dt(i,"style",r),iu(i,n.precedence,e),t.instance=i;case"stylesheet":r=na(n.href);var s=e.querySelector(Ko(r));if(s)return t.state.loading|=4,t.instance=s,rt(s),s;i=zb(n),(r=sn.get(r))&&tm(i,r),s=(e.ownerDocument||e).createElement("link"),rt(s);var o=s;return o._p=new Promise(function(l,u){o.onload=l,o.onerror=u}),dt(s,"link",i),t.state.loading|=4,iu(s,n.precedence,e),t.instance=s;case"script":return s=da(n.src),(r=e.querySelector(Qo(s)))?(t.instance=r,rt(r),r):(i=n,(r=sn.get(s))&&(i=Ce({},n),nm(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),rt(r),dt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,iu(i,n.precedence,e));return t.instance}function iu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,o=0;o<i.length;o++){var l=i[o];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function tm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function Eg(e,t,n){if(ru===null){var i=new Map,r=ru=new Map;r.set(n,i)}else r=ru,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Go]||s[ut]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var l=i.get(o);l?l.push(s):i.set(o,[s])}}return i}function Tg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function zT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ib(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function IT(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=na(i.href),s=t.querySelector(Ko(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,rt(s);return}s=t.ownerDocument||t,i=zb(i),(r=sn.get(r))&&tm(i,r),s=s.createElement("link"),rt(s);var o=s;o._p=new Promise(function(l,u){o.onload=l,o.onerror=u}),dt(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Pu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Af=0;function MT(e,t){return e.stylesheets&&e.count===0&&su(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&su(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Af===0&&(Af=62500*pT());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&su(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Af?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)su(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bu=null;function su(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bu=new Map,t.forEach(jT,e),Bu=null,Pu.call(e))}function jT(e,t){if(!(t.state.loading&4)){var n=Bu.get(e);if(n)var i=n.get(null);else{n=new Map,Bu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}r=t.instance,o=r.getAttribute("data-precedence"),s=n.get(o)||i,s===i&&n.set(null,r),n.set(o,r),this.count++,i=Pu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Do={$$typeof:ei,Provider:null,Consumer:null,_currentValue:Ur,_currentValue2:Ur,_threadCount:0};function LT(e,t,n,i,r,s,o,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$c(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$c(0),this.hiddenUpdates=$c(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Mb(e,t,n,i,r,s,o,l,u,d,m,b){return e=new LT(e,t,n,o,u,d,m,b,l),t=1,s===!0&&(t|=24),s=Lt(3,null,null,t),e.current=s,s.stateNode=e,t=Ch(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Rh(s),e}function jb(e){return e?(e=Cs,e):Cs}function Lb(e,t,n,i,r,s){r=jb(r),i.context===null?i.context=r:i.pendingContext=r,i=Ji(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Wi(e,i,t),n!==null&&(Ct(n,e,t),oo(n,e,t))}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function im(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function Ub(e){if(e.tag===13||e.tag===31){var t=ts(e,67108864);t!==null&&Ct(t,e,67108864),im(e,67108864)}}function xg(e){if(e.tag===13||e.tag===31){var t=Vt();t=mh(t);var n=ts(e,t);n!==null&&Ct(n,e,t),im(e,t)}}var Hu=!0;function UT(e,t,n,i){var r=Y.T;Y.T=null;var s=ue.p;try{ue.p=2,rm(e,t,n,i)}finally{ue.p=s,Y.T=r}}function PT(e,t,n,i){var r=Y.T;Y.T=null;var s=ue.p;try{ue.p=8,rm(e,t,n,i)}finally{ue.p=s,Y.T=r}}function rm(e,t,n,i){if(Hu){var r=Vd(i);if(r===null)Ef(e,t,i,Vu,n),wg(e,i);else if(HT(r,e,t,n,i))i.stopPropagation();else if(wg(e,i),t&4&&-1<BT.indexOf(e)){for(;r!==null;){var s=oa(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=Ir(s.pendingLanes);if(o!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var u=1<<31-Ht(o);l.entanglements[1]|=u,o&=~u}Ln(s),!(le&6)&&(Ru=Pt()+500,Yo(0))}}break;case 31:case 13:l=ts(s,2),l!==null&&Ct(l,s,2),vc(),im(s,2)}if(s=Vd(i),s===null&&Ef(e,t,i,Vu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Ef(e,t,i,null,n)}}function Vd(e){return e=vh(e),sm(e)}var Vu=null;function sm(e){if(Vu=null,e=Es(e),e!==null){var t=Bo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=ry(t),e!==null)return e;e=null}else if(n===31){if(e=sy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vu=e,null}function Pb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xE()){case uy:return 2;case cy:return 8;case yu:case wE:return 32;case fy:return 268435456;default:return 32}default:return 32}}var Zd=!1,nr=null,ir=null,rr=null,zo=new Map,Io=new Map,Bi=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wg(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(t.pointerId)}}function Za(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=oa(t),t!==null&&Ub(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function HT(e,t,n,i,r){switch(t){case"focusin":return nr=Za(nr,e,t,n,i,r),!0;case"dragenter":return ir=Za(ir,e,t,n,i,r),!0;case"mouseover":return rr=Za(rr,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return zo.set(s,Za(zo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Io.set(s,Za(Io.get(s)||null,e,t,n,i,r)),!0}return!1}function Bb(e){var t=Es(e.target);if(t!==null){var n=Bo(t);if(n!==null){if(t=n.tag,t===13){if(t=ry(n),t!==null){e.blockedOn=t,cp(e.priority,function(){xg(n)});return}}else if(t===31){if(t=sy(n),t!==null){e.blockedOn=t,cp(e.priority,function(){xg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);od=i,n.target.dispatchEvent(i),od=null}else return t=oa(n),t!==null&&Ub(t),e.blockedOn=n,!1;t.shift()}return!0}function Ng(e,t,n){au(e)&&n.delete(t)}function VT(){Zd=!1,nr!==null&&au(nr)&&(nr=null),ir!==null&&au(ir)&&(ir=null),rr!==null&&au(rr)&&(rr=null),zo.forEach(Ng),Io.forEach(Ng)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,Zd||(Zd=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,VT)))}var Il=null;function Cg(e){Il!==e&&(Il=e,We.unstable_scheduleCallback(We.unstable_NormalPriority,function(){Il===e&&(Il=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(sm(i||n)===null)continue;break}var s=oa(n);s!==null&&(e.splice(t,3),t-=3,Td(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function ia(e){function t(u){return zl(u,e)}nr!==null&&zl(nr,e),ir!==null&&zl(ir,e),rr!==null&&zl(rr,e),zo.forEach(t),Io.forEach(t);for(var n=0;n<Bi.length;n++){var i=Bi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)Bb(n),n.blockedOn===null&&Bi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],o=r[Ot]||null;if(typeof s=="function")o||Cg(n);else if(o){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[Ot]||null)l=o.formAction;else if(sm(r)!==null)continue}else l=o.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Cg(n)}}}function Hb(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(o){return r=o})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function am(e){this._internalRoot=e}Sc.prototype.render=am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var n=t.current,i=Vt();Lb(n,i,e,t,null,null)};Sc.prototype.unmount=am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lb(e.current,2,null,e,null,null),vc(),t[aa]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=gy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bi.length&&t!==0&&t<Bi[n].priority;n++);Bi.splice(n,0,e),n===0&&Bb(e)}};var Og=ny.version;if(Og!=="19.2.3")throw Error(M(527,Og,"19.2.3"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=vE(t),e=e!==null?ay(e):null,e=e===null?null:e.stateNode,e};var ZT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Ho=Ml.inject(ZT),Bt=Ml}catch{}}sc.createRoot=function(e,t){if(!iy(e))throw Error(M(299));var n=!1,i="",r=Dv,s=zv,o=Iv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Mb(e,1,!1,null,null,n,i,null,r,s,o,Hb),e[aa]=t.current,em(e),new am(t)};sc.hydrateRoot=function(e,t,n){if(!iy(e))throw Error(M(299));var i=!1,r="",s=Dv,o=zv,l=Iv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=Mb(e,1,!0,t,n??null,i,r,u,s,o,l,Hb),t.context=jb(null),n=t.current,i=Vt(),i=mh(i),r=Ji(i),r.callback=null,Wi(n,r,i),n=i,t.current.lanes=n,Zo(t,n),Ln(t),e[aa]=t.current,em(e),new Sc(t)};sc.version="19.2.3";function Vb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vb)}catch(e){console.error(e)}}Vb(),W0.exports=sc;var GT=W0.exports;const qT="modulepreload",$T=function(e){return"/ross-prob-deploy/"+e},kg={},zt=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=$T(u),u in kg)return;kg[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":qT,d||(b.as="script"),b.crossOrigin="",b.href=u,l&&b.setAttribute("nonce",l),document.head.appendChild(b),d)return new Promise((y,x)=>{b.addEventListener("load",y),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Mo="ross-prob",Zb="Probability",XT="Master probability theory with Sheldon Ross's classic textbook. From combinatorial analysis through random variables, expectation, and limit theorems.",Gb="",FT="https://mathacademy-cyan.vercel.app";var Rg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},YT=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},$b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,l=o?e[r+1]:0,u=r+2<e.length,d=u?e[r+2]:0,m=s>>2,b=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;u||(x=64,o||(y=64)),i.push(n[m],n[b],n[y],n[x])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const d=r<e.length?n[e.charAt(r)]:64;++r;const b=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||d==null||b==null)throw new KT;const y=s<<2|l>>4;if(i.push(y),d!==64){const x=l<<4&240|d>>2;if(i.push(x),b!==64){const D=d<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QT=function(e){const t=qb(e);return $b.encodeByteArray(t,!0)},Xb=function(e){return QT(e).replace(/\./g,"")},Fb=function(e){try{return $b.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=()=>JT().__FIREBASE_DEFAULTS__,eA=()=>{if(typeof process>"u"||typeof Rg>"u")return;const e=Rg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Fb(e[1]);return t&&JSON.parse(t)},om=()=>{try{return WT()||eA()||tA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yb=e=>{var t,n;return(n=(t=om())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},nA=e=>{const t=Yb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Kb=()=>{var e;return(e=om())===null||e===void 0?void 0:e.config},Qb=e=>{var t;return(t=om())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function sA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function oA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lA(){const e=_t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function uA(){try{return typeof indexedDB=="object"}catch{return!1}}function cA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="FirebaseError";class Un extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=fA,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?dA(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Un(r,l,i)}}function dA(e,t){return e.replace(hA,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const hA=/\{\$([^}]+)}/g;function mA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Zu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(Dg(s)&&Dg(o)){if(!Zu(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Dg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function pA(e,t){const n=new gA(e,t);return n.subscribe.bind(n)}class gA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yA(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=xf),r.error===void 0&&(r.error=xf),r.complete===void 0&&(r.complete=xf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(e){return e&&e._delegate?e._delegate:e}class dr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new iA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_A(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bA(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(e){return e===Lr?void 0:e}function _A(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(he||(he={}));const EA={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},TA=he.INFO,AA={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},xA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=AA[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=TA,this._logHandler=xA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in he))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?EA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...t),this._logHandler(this,he.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...t),this._logHandler(this,he.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,he.INFO,...t),this._logHandler(this,he.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,he.WARN,...t),this._logHandler(this,he.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...t),this._logHandler(this,he.ERROR,...t)}}const wA=(e,t)=>t.some(n=>e instanceof n);let zg,Ig;function NA(){return zg||(zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return Ig||(Ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jb=new WeakMap,Gd=new WeakMap,Wb=new WeakMap,wf=new WeakMap,um=new WeakMap;function OA(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(sr(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Jb.set(n,e)}).catch(()=>{}),um.set(t,e),t}function kA(e){if(Gd.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Gd.set(e,t)}let qd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Wb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RA(e){qd=e(qd)}function DA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Nf(this),t,...n);return Wb.set(i,t.sort?t.sort():[t]),sr(i)}:CA().includes(e)?function(...t){return e.apply(Nf(this),t),sr(Jb.get(this))}:function(...t){return sr(e.apply(Nf(this),t))}}function zA(e){return typeof e=="function"?DA(e):(e instanceof IDBTransaction&&kA(e),wA(e,NA())?new Proxy(e,qd):e)}function sr(e){if(e instanceof IDBRequest)return OA(e);if(wf.has(e))return wf.get(e);const t=zA(e);return t!==e&&(wf.set(e,t),um.set(t,e)),t}const Nf=e=>um.get(e);function IA(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),l=sr(o);return i&&o.addEventListener("upgradeneeded",u=>{i(sr(o.result),u.oldVersion,u.newVersion,sr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const MA=["get","getKey","getAll","getAllKeys","count"],jA=["put","add","delete","clear"],Cf=new Map;function Mg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Cf.get(t))return Cf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=jA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||MA.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return Cf.set(t,s),s}RA(e=>({...e,get:(t,n,i)=>Mg(t,n)||e.get(t,n,i),has:(t,n)=>!!Mg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function UA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $d="@firebase/app",jg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new lm("@firebase/app"),PA="@firebase/app-compat",BA="@firebase/analytics-compat",HA="@firebase/analytics",VA="@firebase/app-check-compat",ZA="@firebase/app-check",GA="@firebase/auth",qA="@firebase/auth-compat",$A="@firebase/database",XA="@firebase/data-connect",FA="@firebase/database-compat",YA="@firebase/functions",KA="@firebase/functions-compat",QA="@firebase/installations",JA="@firebase/installations-compat",WA="@firebase/messaging",ex="@firebase/messaging-compat",tx="@firebase/performance",nx="@firebase/performance-compat",ix="@firebase/remote-config",rx="@firebase/remote-config-compat",sx="@firebase/storage",ax="@firebase/storage-compat",ox="@firebase/firestore",lx="@firebase/vertexai-preview",ux="@firebase/firestore-compat",cx="firebase",fx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",dx={[$d]:"fire-core",[PA]:"fire-core-compat",[HA]:"fire-analytics",[BA]:"fire-analytics-compat",[ZA]:"fire-app-check",[VA]:"fire-app-check-compat",[GA]:"fire-auth",[qA]:"fire-auth-compat",[$A]:"fire-rtdb",[XA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[YA]:"fire-fn",[KA]:"fire-fn-compat",[QA]:"fire-iid",[JA]:"fire-iid-compat",[WA]:"fire-fcm",[ex]:"fire-fcm-compat",[tx]:"fire-perf",[nx]:"fire-perf-compat",[ix]:"fire-rc",[rx]:"fire-rc-compat",[sx]:"fire-gcs",[ax]:"fire-gcs-compat",[ox]:"fire-fst",[ux]:"fire-fst-compat",[lx]:"fire-vertex","fire-js":"fire-js",[cx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new Map,hx=new Map,Fd=new Map;function Lg(e,t){try{e.container.addComponent(t)}catch(n){pi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Fr(e){const t=e.name;if(Fd.has(t))return pi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,e);for(const n of jo.values())Lg(n,e);for(const n of hx.values())Lg(n,e);return!0}function cm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Jo("app","Firebase",mx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=fx;function e_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw ar.create("bad-app-name",{appName:String(r)});if(n||(n=Kb()),!n)throw ar.create("no-options");const s=jo.get(r);if(s){if(Zu(n,s.options)&&Zu(i,s.config))return s;throw ar.create("duplicate-app",{appName:r})}const o=new SA(r);for(const u of Fd.values())o.addComponent(u);const l=new px(n,i,o);return jo.set(r,l),l}function t_(e=Xd){const t=jo.get(e);if(!t&&e===Xd&&Kb())return e_();if(!t)throw ar.create("no-app",{appName:e});return t}function gx(){return Array.from(jo.values())}function zn(e,t,n){var i;let r=(i=dx[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${t}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Fr(new dr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="firebase-heartbeat-database",vx=1,Lo="firebase-heartbeat-store";let Of=null;function n_(){return Of||(Of=IA(yx,vx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Lo)}catch(n){console.warn(n)}}}}).catch(e=>{throw ar.create("idb-open",{originalErrorMessage:e.message})})),Of}async function bx(e){try{const n=(await n_()).transaction(Lo),i=await n.objectStore(Lo).get(i_(e));return await n.done,i}catch(t){if(t instanceof Un)pi.warn(t.message);else{const n=ar.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pi.warn(n.message)}}}async function Ug(e,t){try{const i=(await n_()).transaction(Lo,"readwrite");await i.objectStore(Lo).put(t,i_(e)),await i.done}catch(n){if(n instanceof Un)pi.warn(n.message);else{const i=ar.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(i.message)}}}function i_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=1024,Sx=30*24*60*60*1e3;class Ex{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ax(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pg();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Sx}),this._storage.overwrite(this._heartbeatsCache))}catch(i){pi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pg(),{heartbeatsToSend:i,unsentEntries:r}=Tx(this._heartbeatsCache.heartbeats),s=Xb(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pi.warn(n),""}}}function Pg(){return new Date().toISOString().substring(0,10)}function Tx(e,t=_x){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Bg(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Bg(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ax{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uA()?cA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Bg(e){return Xb(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){Fr(new dr("platform-logger",t=>new LA(t),"PRIVATE")),Fr(new dr("heartbeat",t=>new Ex(t),"PRIVATE")),zn($d,jg,e),zn($d,jg,"esm2017"),zn("fire-js","")}xx("");var wx="firebase",Nx="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(wx,Nx,"app");function fm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function r_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cx=r_,s_=new Jo("auth","Firebase",r_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new lm("@firebase/auth");function Ox(e,...t){Gu.logLevel<=he.WARN&&Gu.warn(`Auth (${ha}): ${e}`,...t)}function ou(e,...t){Gu.logLevel<=he.ERROR&&Gu.error(`Auth (${ha}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(e,...t){throw dm(e,...t)}function In(e,...t){return dm(e,...t)}function a_(e,t,n){const i=Object.assign(Object.assign({},Cx()),{[t]:n});return new Jo("auth","Firebase",i).create(t,{appName:e.name})}function or(e){return a_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return s_.create(e,...t)}function K(e,t,...n){if(!e)throw dm(t,...n)}function ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ou(t),new Error(t)}function yi(e,t){e||ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function kx(){return Hg()==="http:"||Hg()==="https:"}function Hg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kx()||aA()||"connection"in navigator)?navigator.onLine:!0}function Dx(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t,n){this.shortDelay=t,this.longDelay=n,yi(n>t,"Short delay should be less than long delay!"),this.isMobile=rA()||oA()}get(){return Rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e,t){yi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new el(3e4,6e4);function Ec(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ma(e,t,n,i,r={}){return l_(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const l=Wo(Object.assign({key:e.config.apiKey},o)).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const d=Object.assign({method:t,headers:u},s);return sA()||(d.referrerPolicy="no-referrer"),o_.fetch()(c_(e,e.config.apiHost,n,l),d)})}async function l_(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},zx),t);try{const r=new Mx(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jl(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jl(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw jl(e,"user-disabled",o);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw a_(e,m,d);gi(e,m)}}catch(r){if(r instanceof Un)throw r;gi(e,"network-request-failed",{message:String(r)})}}async function u_(e,t,n,i,r={}){const s=await ma(e,t,n,i,r);return"mfaPendingCredential"in s&&gi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function c_(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?hm(e.config,r):`${e.config.apiScheme}://${r}`}class Mx{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(In(this.auth,"network-request-failed")),Ix.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=In(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(e,t){return ma(e,"POST","/v1/accounts:delete",t)}async function f_(e,t){return ma(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Lx(e,t=!1){const n=En(e),i=await n.getIdToken(t),r=mm(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:yo(kf(r.auth_time)),issuedAtTime:yo(kf(r.iat)),expirationTime:yo(kf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function kf(e){return Number(e)*1e3}function mm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return ou("JWT malformed, contained fewer than 3 sections"),null;try{const r=Fb(n);return r?JSON.parse(r):(ou("Failed to decode base64 JWT payload"),null)}catch(r){return ou("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Vg(e){const t=mm(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Un&&Ux(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function Ux({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Uo(e,f_(n,{idToken:i}));K(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?d_(s.providerUserInfo):[],l=Hx(e.providerData,o),u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(l!=null&&l.length),m=u?d:!1,b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Kd(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(e,b)}async function Bx(e){const t=En(e);await qu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Hx(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function d_(e){return e.map(t=>{var{providerId:n}=t,i=fm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(e,t){const n=await l_(e,{},async()=>{const i=Wo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=c_(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",o_.fetch()(o,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zx(e,t){return ma(e,"POST","/v2/accounts:revokeToken",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=Vg(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await Vx(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Vs;return i&&(K(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class si{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Lx(this,t)}reload(){return Bx(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await qu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(or(this.auth));const t=await this.getIdToken();return await Uo(this,jx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,l,u,d,m;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:k,isAnonymous:L,providerData:Z,stsTokenManager:S}=n;K(A&&S,t,"internal-error");const p=Vs.fromJSON(this.name,S);K(typeof A=="string",t,"internal-error"),zi(b,t.name),zi(y,t.name),K(typeof k=="boolean",t,"internal-error"),K(typeof L=="boolean",t,"internal-error"),zi(x,t.name),zi(D,t.name),zi(I,t.name),zi(V,t.name),zi(C,t.name),zi(T,t.name);const v=new si({uid:A,auth:t,email:y,emailVerified:k,displayName:b,isAnonymous:L,photoURL:D,phoneNumber:x,tenantId:I,stsTokenManager:p,createdAt:C,lastLoginAt:T});return Z&&Array.isArray(Z)&&(v.providerData=Z.map(E=>Object.assign({},E))),V&&(v._redirectEventId=V),v}static async _fromIdTokenResponse(t,n,i=!1){const r=new Vs;r.updateFromServerResponse(n);const s=new si({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await qu(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?d_(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Vs;l.updateFromIdToken(i);const u=new si({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Kd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new Map;function ai(e){yi(e instanceof Function,"Expected a class definition");let t=Zg.get(e);return t?(yi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}h_.type="NONE";const Gg=h_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(e,t,n){return`firebase:${e}:${t}:${n}`}class Zs{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=lu(this.userKey,r.apiKey,s),this.fullPersistenceKey=lu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?si._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Zs(ai(Gg),t,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||ai(Gg);const o=lu(i,t.config.apiKey,t.name);let l=null;for(const d of n)try{const m=await d._get(o);if(m){const b=si._fromJSON(t,m);d!==s&&(l=b),s=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Zs(s,t,i):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Zs(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(y_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(m_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(b_(t))return"Blackberry";if(__(t))return"Webos";if(p_(t))return"Safari";if((t.includes("chrome/")||g_(t))&&!t.includes("edge/"))return"Chrome";if(v_(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function m_(e=_t()){return/firefox\//i.test(e)}function p_(e=_t()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function g_(e=_t()){return/crios\//i.test(e)}function y_(e=_t()){return/iemobile/i.test(e)}function v_(e=_t()){return/android/i.test(e)}function b_(e=_t()){return/blackberry/i.test(e)}function __(e=_t()){return/webos/i.test(e)}function pm(e=_t()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Gx(e=_t()){var t;return pm(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function qx(){return lA()&&document.documentMode===10}function S_(e=_t()){return pm(e)||v_(e)||__(e)||b_(e)||/windows phone/i.test(e)||y_(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(e,t=[]){let n;switch(e){case"Browser":n=qg(_t());break;case"Worker":n=`${qg(_t())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,l)=>{try{const u=t(s);o(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(e,t={}){return ma(e,"GET","/v2/passwordPolicy",Ec(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=6;class Yx{constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $g(this),this.idTokenSubscription=new $g(this),this.beforeStateQueue=new $x(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await f_(this,{idToken:t}),i=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ii(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Dx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(or(this));const n=t?En(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Xx(this),n=new Yx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Jo("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Zx(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Ox(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tc(e){return En(e)}class $g{constructor(t){this.auth=t,this.observer=null,this.addObserver=pA(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qx(e){gm=e}function Jx(e){return gm.loadJS(e)}function Wx(){return gm.gapiScript}function e2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e,t){const n=cm(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Zu(s,t??{}))return r;gi(r,"already-initialized")}return n.initialize({options:t})}function n2(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function i2(e,t,n){const i=Tc(e);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=T_(t),{host:o,port:l}=r2(t),u=l===null?"":`:${l}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),s2()}function T_(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r2(e){const t=T_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Xg(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Xg(o)}}}function Xg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function s2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(t){return ri("not implemented")}_linkToIdToken(t,n){return ri("not implemented")}_getReauthenticationResolver(t){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(e,t){return u_(e,"POST","/v1/accounts:signInWithIdp",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="http://localhost";class Yr extends A_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=fm(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Yr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Gs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Gs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Gs(t,n)}buildRequest(){const t={requestUri:a2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Wo(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends x_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends tl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Yr._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Vi.credentialFromTaggedObject(t)}static credentialFromError(t){return Vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Vi.credential(n,i)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends tl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends tl{constructor(){super("twitter.com")}static credential(t,n){return Yr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await si._fromIdTokenResponse(t,i,r),o=Fg(i);return new Kr({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Fg(i);return new Kr({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Fg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Un{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new $u(t,n,i,r)}}function w_(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$u._fromErrorAndOperation(e,s,t,i):s})}async function o2(e,t,n=!1){const i=await Uo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Kr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(e,t,n=!1){const{auth:i}=e;if(ii(i.app))return Promise.reject(or(i));const r="reauthenticate";try{const s=await Uo(e,w_(i,r,t,e),n);K(s.idToken,i,"internal-error");const o=mm(s.idToken);K(o,i,"internal-error");const{sub:l}=o;return K(e.uid===l,i,"user-mismatch"),Kr._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(e,t,n=!1){if(ii(e.app))return Promise.reject(or(e));const i="signIn",r=await w_(e,i,t),s=await Kr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(e,t){return u_(e,"POST","/v1/accounts:signInWithCustomToken",Ec(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(e,t){if(ii(e.app))return Promise.reject(or(e));const n=Tc(e),i=await c2(n,{token:t,returnSecureToken:!0}),r=await Kr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function d2(e,t,n,i){return En(e).onIdTokenChanged(t,n,i)}function h2(e,t,n){return En(e).beforeAuthStateChanged(t,n)}function m2(e,t,n,i){return En(e).onAuthStateChanged(t,n,i)}function p2(e){return En(e).signOut()}const Xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xu,"1"),this.storage.removeItem(Xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,y2=10;class C_ extends N_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);qx()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,y2):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}C_.type="LOCAL";const v2=C_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends N_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}O_.type="SESSION";const k_=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Ac(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(o).map(async d=>d(n.origin,s)),u=await b2(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=ym("",20);r.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(b){const y=b;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(m),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function S2(e){Mn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function E2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function A2(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="firebaseLocalStorageDb",x2=1,Fu="firebaseLocalStorage",z_="fbase_key";class nl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xc(e,t){return e.transaction([Fu],t?"readwrite":"readonly").objectStore(Fu)}function w2(){const e=indexedDB.deleteDatabase(D_);return new nl(e).toPromise()}function Qd(){const e=indexedDB.open(D_,x2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Fu,{keyPath:z_})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Fu)?t(i):(i.close(),await w2(),t(await Qd()))})})}async function Yg(e,t,n){const i=xc(e,!0).put({[z_]:t,value:n});return new nl(i).toPromise()}async function N2(e,t){const n=xc(e,!1).get(t),i=await new nl(n).toPromise();return i===void 0?null:i.value}function Kg(e,t){const n=xc(e,!0).delete(t);return new nl(n).toPromise()}const C2=800,O2=3;class I_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>O2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(A2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await Yg(t,Xu,"1"),await Kg(t,Xu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yg(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>N2(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=xc(r,!1).getAll();return new nl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I_.type="LOCAL";const k2=I_;new el(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t){return t?ai(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends A_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Gs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Gs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function D2(e){return u2(e.auth,new vm(e),e.bypassAuthState)}function z2(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),l2(n,new vm(e),e.bypassAuthState)}async function I2(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),o2(n,new vm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return z2;default:gi(this.auth,"internal-error")}}resolve(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new el(2e3,1e4);class Ds extends M_{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const t=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M2.get())};t()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="pendingRedirect",uu=new Map;class L2 extends M_{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=uu.get(this.auth._key());if(!t){try{const i=await U2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}uu.set(this.auth._key(),t)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(e,t){const n=H2(t),i=B2(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function P2(e,t){uu.set(e._key(),t)}function B2(e){return ai(e._redirectPersistence)}function H2(e){return lu(j2,e.config.apiKey,e.name)}async function V2(e,t,n=!1){if(ii(e.app))return Promise.reject(or(e));const i=Tc(e),r=R2(i,t),o=await new L2(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=10*60*1e3;class G2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!q2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!j_(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qg(t))}saveEventToCache(t){this.cachedEventUids.add(Qg(t)),this.lastProcessedEventTime=Date.now()}}function Qg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function j_({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function q2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j_(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(e,t={}){return ma(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F2=/^https?/;async function Y2(e){if(e.config.emulator)return;const{authorizedDomains:t}=await $2(e);for(const n of t)try{if(K2(n))return}catch{}gi(e,"unauthorized-domain")}function K2(e){const t=Yd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!F2.test(n))return!1;if(X2.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new el(3e4,6e4);function Jg(){const e=Mn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function J2(e){return new Promise((t,n)=>{var i,r,s;function o(){Jg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jg(),n(In(e,"network-request-failed"))},timeout:Q2.get()})}if(!((r=(i=Mn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Mn().gapi)===null||s===void 0)&&s.load)o();else{const l=e2("iframefcb");return Mn()[l]=()=>{gapi.load?o():n(In(e,"network-request-failed"))},Jx(`${Wx()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw cu=null,t})}let cu=null;function W2(e){return cu=cu||J2(e),cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new el(5e3,15e3),tw="__/auth/iframe",nw="emulator/auth/iframe",iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sw(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?hm(t,nw):`https://${e.config.authDomain}/${tw}`,i={apiKey:t.apiKey,appName:e.name,v:ha},r=rw.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Wo(i).slice(1)}`}async function aw(e){const t=await W2(e),n=Mn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:sw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iw,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=In(e,"network-request-failed"),l=Mn().setTimeout(()=>{s(o)},ew.get());function u(){Mn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lw=500,uw=600,cw="_blank",fw="http://localhost";class Wg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dw(e,t,n,i=lw,r=uw){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},ow),{width:i.toString(),height:r.toString(),top:s,left:o}),d=_t().toLowerCase();n&&(l=g_(d)?cw:n),m_(d)&&(t=t||fw,u.scrollbars="yes");const m=Object.entries(u).reduce((y,[x,D])=>`${y}${x}=${D},`,"");if(Gx(d)&&l!=="_self")return hw(t||"",l),new Wg(null);const b=window.open(t||"",l,m);K(b,e,"popup-blocked");try{b.focus()}catch{}return new Wg(b)}function hw(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="__/auth/handler",pw="emulator/auth/handler",gw=encodeURIComponent("fac");async function e0(e,t,n,i,r,s){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ha,eventId:r};if(t instanceof x_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",mA(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,b]of Object.entries({}))o[m]=b}if(t instanceof tl){const m=t.getScopes().filter(b=>b!=="");m.length>0&&(o.scopes=m.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const u=await e._getAppCheckToken(),d=u?`#${gw}=${encodeURIComponent(u)}`:"";return`${yw(e)}?${Wo(l).slice(1)}${d}`}function yw({config:e}){return e.emulator?hm(e,pw):`https://${e.authDomain}/${mw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k_,this._completeRedirectFn=V2,this._overrideRedirectResult=P2}async _openPopup(t,n,i,r){var s;yi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await e0(t,n,i,Yd(),r);return dw(t,o,ym())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await e0(t,n,i,Yd(),r);return S2(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(yi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await aw(t),i=new G2(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rf,{type:Rf},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Rf];o!==void 0&&n(!!o),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return S_()||p_()||pm()}}const bw=vw;var t0="@firebase/auth",n0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ew(e){Fr(new dr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E_(e)},d=new Kx(i,r,s,u);return n2(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Fr(new dr("auth-internal",t=>{const n=Tc(t.getProvider("auth").getImmediate());return(i=>new _w(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(t0,n0,Sw(e)),zn(t0,n0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=5*60,Aw=Qb("authIdTokenMaxAge")||Tw;let i0=null;const xw=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Aw)return;const r=n==null?void 0:n.token;i0!==r&&(i0=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ww(e=t_()){const t=cm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=t2(e,{popupRedirectResolver:bw,persistence:[k2,v2,k_]}),i=Qb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=xw(s.toString());h2(n,o,()=>o(n.currentUser)),d2(n,l=>o(l))}}const r=Yb("auth");return r&&i2(n,`http://${r}`),n}function Nw(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Qx({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=In("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Nw().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ew("Browser");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,p){function v(){}v.prototype=p.prototype,S.D=p.prototype,S.prototype=new v,S.prototype.constructor=S,S.C=function(E,w,N){for(var _=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)_[ne-2]=arguments[ne];return p.prototype[w].apply(E,_)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,p,v){v||(v=0);var E=Array(16);if(typeof p=="string")for(var w=0;16>w;++w)E[w]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(w=0;16>w;++w)E[w]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=S.g[0],v=S.g[1],w=S.g[2];var N=S.g[3],_=p+(N^v&(w^N))+E[0]+3614090360&4294967295;p=v+(_<<7&4294967295|_>>>25),_=N+(w^p&(v^w))+E[1]+3905402710&4294967295,N=p+(_<<12&4294967295|_>>>20),_=w+(v^N&(p^v))+E[2]+606105819&4294967295,w=N+(_<<17&4294967295|_>>>15),_=v+(p^w&(N^p))+E[3]+3250441966&4294967295,v=w+(_<<22&4294967295|_>>>10),_=p+(N^v&(w^N))+E[4]+4118548399&4294967295,p=v+(_<<7&4294967295|_>>>25),_=N+(w^p&(v^w))+E[5]+1200080426&4294967295,N=p+(_<<12&4294967295|_>>>20),_=w+(v^N&(p^v))+E[6]+2821735955&4294967295,w=N+(_<<17&4294967295|_>>>15),_=v+(p^w&(N^p))+E[7]+4249261313&4294967295,v=w+(_<<22&4294967295|_>>>10),_=p+(N^v&(w^N))+E[8]+1770035416&4294967295,p=v+(_<<7&4294967295|_>>>25),_=N+(w^p&(v^w))+E[9]+2336552879&4294967295,N=p+(_<<12&4294967295|_>>>20),_=w+(v^N&(p^v))+E[10]+4294925233&4294967295,w=N+(_<<17&4294967295|_>>>15),_=v+(p^w&(N^p))+E[11]+2304563134&4294967295,v=w+(_<<22&4294967295|_>>>10),_=p+(N^v&(w^N))+E[12]+1804603682&4294967295,p=v+(_<<7&4294967295|_>>>25),_=N+(w^p&(v^w))+E[13]+4254626195&4294967295,N=p+(_<<12&4294967295|_>>>20),_=w+(v^N&(p^v))+E[14]+2792965006&4294967295,w=N+(_<<17&4294967295|_>>>15),_=v+(p^w&(N^p))+E[15]+1236535329&4294967295,v=w+(_<<22&4294967295|_>>>10),_=p+(w^N&(v^w))+E[1]+4129170786&4294967295,p=v+(_<<5&4294967295|_>>>27),_=N+(v^w&(p^v))+E[6]+3225465664&4294967295,N=p+(_<<9&4294967295|_>>>23),_=w+(p^v&(N^p))+E[11]+643717713&4294967295,w=N+(_<<14&4294967295|_>>>18),_=v+(N^p&(w^N))+E[0]+3921069994&4294967295,v=w+(_<<20&4294967295|_>>>12),_=p+(w^N&(v^w))+E[5]+3593408605&4294967295,p=v+(_<<5&4294967295|_>>>27),_=N+(v^w&(p^v))+E[10]+38016083&4294967295,N=p+(_<<9&4294967295|_>>>23),_=w+(p^v&(N^p))+E[15]+3634488961&4294967295,w=N+(_<<14&4294967295|_>>>18),_=v+(N^p&(w^N))+E[4]+3889429448&4294967295,v=w+(_<<20&4294967295|_>>>12),_=p+(w^N&(v^w))+E[9]+568446438&4294967295,p=v+(_<<5&4294967295|_>>>27),_=N+(v^w&(p^v))+E[14]+3275163606&4294967295,N=p+(_<<9&4294967295|_>>>23),_=w+(p^v&(N^p))+E[3]+4107603335&4294967295,w=N+(_<<14&4294967295|_>>>18),_=v+(N^p&(w^N))+E[8]+1163531501&4294967295,v=w+(_<<20&4294967295|_>>>12),_=p+(w^N&(v^w))+E[13]+2850285829&4294967295,p=v+(_<<5&4294967295|_>>>27),_=N+(v^w&(p^v))+E[2]+4243563512&4294967295,N=p+(_<<9&4294967295|_>>>23),_=w+(p^v&(N^p))+E[7]+1735328473&4294967295,w=N+(_<<14&4294967295|_>>>18),_=v+(N^p&(w^N))+E[12]+2368359562&4294967295,v=w+(_<<20&4294967295|_>>>12),_=p+(v^w^N)+E[5]+4294588738&4294967295,p=v+(_<<4&4294967295|_>>>28),_=N+(p^v^w)+E[8]+2272392833&4294967295,N=p+(_<<11&4294967295|_>>>21),_=w+(N^p^v)+E[11]+1839030562&4294967295,w=N+(_<<16&4294967295|_>>>16),_=v+(w^N^p)+E[14]+4259657740&4294967295,v=w+(_<<23&4294967295|_>>>9),_=p+(v^w^N)+E[1]+2763975236&4294967295,p=v+(_<<4&4294967295|_>>>28),_=N+(p^v^w)+E[4]+1272893353&4294967295,N=p+(_<<11&4294967295|_>>>21),_=w+(N^p^v)+E[7]+4139469664&4294967295,w=N+(_<<16&4294967295|_>>>16),_=v+(w^N^p)+E[10]+3200236656&4294967295,v=w+(_<<23&4294967295|_>>>9),_=p+(v^w^N)+E[13]+681279174&4294967295,p=v+(_<<4&4294967295|_>>>28),_=N+(p^v^w)+E[0]+3936430074&4294967295,N=p+(_<<11&4294967295|_>>>21),_=w+(N^p^v)+E[3]+3572445317&4294967295,w=N+(_<<16&4294967295|_>>>16),_=v+(w^N^p)+E[6]+76029189&4294967295,v=w+(_<<23&4294967295|_>>>9),_=p+(v^w^N)+E[9]+3654602809&4294967295,p=v+(_<<4&4294967295|_>>>28),_=N+(p^v^w)+E[12]+3873151461&4294967295,N=p+(_<<11&4294967295|_>>>21),_=w+(N^p^v)+E[15]+530742520&4294967295,w=N+(_<<16&4294967295|_>>>16),_=v+(w^N^p)+E[2]+3299628645&4294967295,v=w+(_<<23&4294967295|_>>>9),_=p+(w^(v|~N))+E[0]+4096336452&4294967295,p=v+(_<<6&4294967295|_>>>26),_=N+(v^(p|~w))+E[7]+1126891415&4294967295,N=p+(_<<10&4294967295|_>>>22),_=w+(p^(N|~v))+E[14]+2878612391&4294967295,w=N+(_<<15&4294967295|_>>>17),_=v+(N^(w|~p))+E[5]+4237533241&4294967295,v=w+(_<<21&4294967295|_>>>11),_=p+(w^(v|~N))+E[12]+1700485571&4294967295,p=v+(_<<6&4294967295|_>>>26),_=N+(v^(p|~w))+E[3]+2399980690&4294967295,N=p+(_<<10&4294967295|_>>>22),_=w+(p^(N|~v))+E[10]+4293915773&4294967295,w=N+(_<<15&4294967295|_>>>17),_=v+(N^(w|~p))+E[1]+2240044497&4294967295,v=w+(_<<21&4294967295|_>>>11),_=p+(w^(v|~N))+E[8]+1873313359&4294967295,p=v+(_<<6&4294967295|_>>>26),_=N+(v^(p|~w))+E[15]+4264355552&4294967295,N=p+(_<<10&4294967295|_>>>22),_=w+(p^(N|~v))+E[6]+2734768916&4294967295,w=N+(_<<15&4294967295|_>>>17),_=v+(N^(w|~p))+E[13]+1309151649&4294967295,v=w+(_<<21&4294967295|_>>>11),_=p+(w^(v|~N))+E[4]+4149444226&4294967295,p=v+(_<<6&4294967295|_>>>26),_=N+(v^(p|~w))+E[11]+3174756917&4294967295,N=p+(_<<10&4294967295|_>>>22),_=w+(p^(N|~v))+E[2]+718787259&4294967295,w=N+(_<<15&4294967295|_>>>17),_=v+(N^(w|~p))+E[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,S.g[2]=S.g[2]+w&4294967295,S.g[3]=S.g[3]+N&4294967295}i.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var v=p-this.blockSize,E=this.B,w=this.h,N=0;N<p;){if(w==0)for(;N<=v;)r(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<p;)if(E[w++]=S.charCodeAt(N++),w==this.blockSize){r(this,E),w=0;break}}else for(;N<p;)if(E[w++]=S[N++],w==this.blockSize){r(this,E),w=0;break}}this.h=w,this.o+=p},i.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var v=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=v&255,v/=256;for(this.u(S),S=Array(16),p=v=0;4>p;++p)for(var E=0;32>E;E+=8)S[v++]=this.g[p]>>>E&255;return S};function s(S,p){var v=l;return Object.prototype.hasOwnProperty.call(v,S)?v[S]:v[S]=p(S)}function o(S,p){this.h=p;for(var v=[],E=!0,w=S.length-1;0<=w;w--){var N=S[w]|0;E&&N==p||(v[w]=N,E=!1)}this.g=v}var l={};function u(S){return-128<=S&&128>S?s(S,function(p){return new o([p|0],0>p?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return b;if(0>S)return V(d(-S));for(var p=[],v=1,E=0;S>=v;E++)p[E]=S/v|0,v*=4294967296;return new o(p,0)}function m(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return V(m(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(p,8)),E=b,w=0;w<S.length;w+=8){var N=Math.min(8,S.length-w),_=parseInt(S.substring(w,w+N),p);8>N?(N=d(Math.pow(p,N)),E=E.j(N).add(d(_))):(E=E.j(v),E=E.add(d(_)))}return E}var b=u(0),y=u(1),x=u(16777216);e=o.prototype,e.m=function(){if(I(this))return-V(this).m();for(var S=0,p=1,v=0;v<this.g.length;v++){var E=this.i(v);S+=(0<=E?E:4294967296+E)*p,p*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(D(this))return"0";if(I(this))return"-"+V(this).toString(S);for(var p=d(Math.pow(S,6)),v=this,E="";;){var w=k(v,p).g;v=C(v,w.j(p));var N=((0<v.g.length?v.g[0]:v.h)>>>0).toString(S);if(v=w,D(v))return N+E;for(;6>N.length;)N="0"+N;E=N+E}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function D(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function I(S){return S.h==-1}e.l=function(S){return S=C(this,S),I(S)?-1:D(S)?0:1};function V(S){for(var p=S.g.length,v=[],E=0;E<p;E++)v[E]=~S.g[E];return new o(v,~S.h).add(y)}e.abs=function(){return I(this)?V(this):this},e.add=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],E=0,w=0;w<=p;w++){var N=E+(this.i(w)&65535)+(S.i(w)&65535),_=(N>>>16)+(this.i(w)>>>16)+(S.i(w)>>>16);E=_>>>16,N&=65535,_&=65535,v[w]=_<<16|N}return new o(v,v[v.length-1]&-2147483648?-1:0)};function C(S,p){return S.add(V(p))}e.j=function(S){if(D(this)||D(S))return b;if(I(this))return I(S)?V(this).j(V(S)):V(V(this).j(S));if(I(S))return V(this.j(V(S)));if(0>this.l(x)&&0>S.l(x))return d(this.m()*S.m());for(var p=this.g.length+S.g.length,v=[],E=0;E<2*p;E++)v[E]=0;for(E=0;E<this.g.length;E++)for(var w=0;w<S.g.length;w++){var N=this.i(E)>>>16,_=this.i(E)&65535,ne=S.i(w)>>>16,ce=S.i(w)&65535;v[2*E+2*w]+=_*ce,T(v,2*E+2*w),v[2*E+2*w+1]+=N*ce,T(v,2*E+2*w+1),v[2*E+2*w+1]+=_*ne,T(v,2*E+2*w+1),v[2*E+2*w+2]+=N*ne,T(v,2*E+2*w+2)}for(E=0;E<p;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=p;E<2*p;E++)v[E]=0;return new o(v,0)};function T(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function A(S,p){this.g=S,this.h=p}function k(S,p){if(D(p))throw Error("division by zero");if(D(S))return new A(b,b);if(I(S))return p=k(V(S),p),new A(V(p.g),V(p.h));if(I(p))return p=k(S,V(p)),new A(V(p.g),p.h);if(30<S.g.length){if(I(S)||I(p))throw Error("slowDivide_ only works with positive integers.");for(var v=y,E=p;0>=E.l(S);)v=L(v),E=L(E);var w=Z(v,1),N=Z(E,1);for(E=Z(E,2),v=Z(v,2);!D(E);){var _=N.add(E);0>=_.l(S)&&(w=w.add(v),N=_),E=Z(E,1),v=Z(v,1)}return p=C(S,w.j(p)),new A(w,p)}for(w=b;0<=S.l(p);){for(v=Math.max(1,Math.floor(S.m()/p.m())),E=Math.ceil(Math.log(v)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),N=d(v),_=N.j(p);I(_)||0<_.l(S);)v-=E,N=d(v),_=N.j(p);D(N)&&(N=y),w=w.add(N),S=C(S,_)}return new A(w,S)}e.A=function(S){return k(this,S).h},e.and=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)&S.i(E);return new o(v,this.h&S.h)},e.or=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)|S.i(E);return new o(v,this.h|S.h)},e.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),v=[],E=0;E<p;E++)v[E]=this.i(E)^S.i(E);return new o(v,this.h^S.h)};function L(S){for(var p=S.g.length+1,v=[],E=0;E<p;E++)v[E]=S.i(E)<<1|S.i(E-1)>>>31;return new o(v,S.h)}function Z(S,p){var v=p>>5;p%=32;for(var E=S.g.length-v,w=[],N=0;N<E;N++)w[N]=0<p?S.i(N+v)>>>p|S.i(N+v+1)<<32-p:S.i(N+v);return new o(w,S.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,L_=o}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,f){return a==Array.prototype||a==Object.prototype||(a[c]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var c=0;c<a.length;++c){var f=a[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(a,c){if(c)e:{var f=i;a=a.split(".");for(var g=0;g<a.length-1;g++){var R=a[g];if(!(R in f))break e;f=f[R]}a=a[a.length-1],g=f[a],c=c(g),c!=g&&c!=null&&t(f,a,{configurable:!0,writable:!0,value:c})}}function s(a,c){a instanceof String&&(a+="");var f=0,g=!1,R={next:function(){if(!g&&f<a.length){var z=f++;return{value:c(z,a[z]),done:!1}}return g=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(a){return a||function(){return s(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function d(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function m(a,c,f){return a.call.apply(a.bind,arguments)}function b(a,c,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,g),a.apply(c,R)}}return function(){return a.apply(c,arguments)}}function y(a,c,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,y.apply(null,arguments)}function x(a,c){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function D(a,c){function f(){}f.prototype=c.prototype,a.aa=c.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,R,z){for(var B=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)B[ye-2]=arguments[ye];return c.prototype[R].apply(g,B)}}function I(a){const c=a.length;if(0<c){const f=Array(c);for(let g=0;g<c;g++)f[g]=a[g];return f}return[]}function V(a,c){for(let f=1;f<arguments.length;f++){const g=arguments[f];if(u(g)){const R=a.length||0,z=g.length||0;a.length=R+z;for(let B=0;B<z;B++)a[R+B]=g[B]}else a.push(g)}}class C{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function T(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function k(a){return k[" "](a),a}k[" "]=function(){};var L=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function Z(a,c,f){for(const g in a)c.call(f,a[g],g,a)}function S(a,c){for(const f in a)c.call(void 0,a[f],f,a)}function p(a){const c={};for(const f in a)c[f]=a[f];return c}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,c){let f,g;for(let R=1;R<arguments.length;R++){g=arguments[R];for(f in g)a[f]=g[f];for(let z=0;z<v.length;z++)f=v[z],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function w(a){var c=1;a=a.split(":");const f=[];for(;0<c&&a.length;)f.push(a.shift()),c--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function _(){var a=fe;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class ne{constructor(){this.h=this.g=null}add(c,f){const g=ce.get();g.set(c,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ce=new C(()=>new H,a=>a.reset());class H{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let X,F=!1,fe=new ne,be=()=>{const a=l.Promise.resolve(void 0);X=()=>{a.then(_e)}};var _e=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(f){N(f)}var c=ce;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}F=!1};function Me(){this.s=this.s,this.C=this.C}Me.prototype.s=!1,Me.prototype.ma=function(){this.s||(this.s=!0,this.N())},Me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return a}();function ae(a,c){if(J.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(L){e:{try{k(c.nodeName);var R=!0;break e}catch{}R=!1}R||(c=null)}}else f=="mouseover"?c=a.fromElement:f=="mouseout"&&(c=a.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:vr[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ae.aa.h.call(this)}}D(ae,J);var vr={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bi="closure_listenable_"+(1e6*Math.random()|0),_i=0;function sl(a,c,f,g,R){this.listener=a,this.proxy=null,this.src=c,this.type=f,this.capture=!!g,this.ha=R,this.key=++_i,this.da=this.fa=!1}function Si(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function br(a){this.src=a,this.g={},this.h=0}br.prototype.add=function(a,c,f,g,R){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var B=Tn(a,c,g,R);return-1<B?(c=a[B],f||(c.fa=!1)):(c=new sl(c,this.src,z,!!g,R),c.fa=f,a.push(c)),c};function as(a,c){var f=c.type;if(f in a.g){var g=a.g[f],R=Array.prototype.indexOf.call(g,c,void 0),z;(z=0<=R)&&Array.prototype.splice.call(g,R,1),z&&(Si(c),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Tn(a,c,f,g){for(var R=0;R<a.length;++R){var z=a[R];if(!z.da&&z.listener==c&&z.capture==!!f&&z.ha==g)return R}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),un={};function os(a,c,f,g,R){if(Array.isArray(c)){for(var z=0;z<c.length;z++)os(a,c[z],f,g,R);return null}return f=xi(f),a&&a[bi]?a.K(c,f,d(g)?!!g.capture:!1,R):ga(a,c,f,!1,g,R)}function ga(a,c,f,g,R,z){if(!c)throw Error("Invalid event type");var B=d(R)?!!R.capture:!!R,ye=va(a);if(ye||(a[Ei]=ye=new br(a)),f=ye.add(c,f,g,B,z),f.proxy)return f;if(g=Ti(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)qt||(R=B),R===void 0&&(R=!1),a.addEventListener(c.toString(),g,R);else if(a.attachEvent)a.attachEvent(ya(c.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ti(){function a(f){return c.call(a.src,a.listener,f)}const c=al;return a}function _r(a,c,f,g,R){if(Array.isArray(c))for(var z=0;z<c.length;z++)_r(a,c[z],f,g,R);else g=d(g)?!!g.capture:!!g,f=xi(f),a&&a[bi]?(a=a.i,c=String(c).toString(),c in a.g&&(z=a.g[c],f=Tn(z,f,g,R),-1<f&&(Si(z[f]),Array.prototype.splice.call(z,f,1),z.length==0&&(delete a.g[c],a.h--)))):a&&(a=va(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Tn(c,f,g,R)),(f=-1<a?c[a]:null)&&Ai(f))}function Ai(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[bi])as(c.i,a);else{var f=a.type,g=a.proxy;c.removeEventListener?c.removeEventListener(f,g,a.capture):c.detachEvent?c.detachEvent(ya(f),g):c.addListener&&c.removeListener&&c.removeListener(g),(f=va(c))?(as(f,a),f.h==0&&(f.src=null,c[Ei]=null)):Si(a)}}}function ya(a){return a in un?un[a]:un[a]="on"+a}function al(a,c){if(a.da)a=!0;else{c=new ae(c,this);var f=a.listener,g=a.ha||a.src;a.fa&&Ai(a),a=f.call(g,c)}return a}function va(a){return a=a[Ei],a instanceof br?a:null}var Sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xi(a){return typeof a=="function"?a:(a[Sr]||(a[Sr]=function(c){return a.handleEvent(c)}),a[Sr])}function Re(){Me.call(this),this.i=new br(this),this.M=this,this.F=null}D(Re,Me),Re.prototype[bi]=!0,Re.prototype.removeEventListener=function(a,c,f,g){_r(this,a,c,f,g)};function Se(a,c){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=c.type||c,typeof c=="string")c=new J(c,a);else if(c instanceof J)c.target=c.target||a;else{var R=c;c=new J(g,a),E(c,R)}if(R=!0,f)for(var z=f.length-1;0<=z;z--){var B=c.g=f[z];R=wi(B,g,!0,c)&&R}if(B=c.g=a,R=wi(B,g,!0,c)&&R,R=wi(B,g,!1,c)&&R,f)for(z=0;z<f.length;z++)B=c.g=f[z],R=wi(B,g,!1,c)&&R}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var f=a.g[c],g=0;g<f.length;g++)Si(f[g]);delete a.g[c],a.h--}}this.F=null},Re.prototype.K=function(a,c,f,g){return this.i.add(String(a),c,!1,f,g)},Re.prototype.L=function(a,c,f,g){return this.i.add(String(a),c,!0,f,g)};function wi(a,c,f,g){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var R=!0,z=0;z<c.length;++z){var B=c[z];if(B&&!B.da&&B.capture==f){var ye=B.listener,at=B.ha||B.src;B.fa&&as(a.i,B),R=ye.call(at,g)!==!1&&R}}return R&&!g.defaultPrevented}function ba(a,c,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function _a(a){a.g=ba(()=>{a.g=null,a.i&&(a.i=!1,_a(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class Sa extends Me{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(a){Me.call(this),this.h=a,this.g={}}D(Ni,Me);var Er=[];function Tr(a){Z(a.g,function(c,f){this.g.hasOwnProperty(f)&&Ai(c)},a),a.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Tr(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=l.JSON.stringify,Ci=l.JSON.parse,Ea=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ar(){}Ar.prototype.h=null;function ol(a){return a.h||(a.h=a.i())}function ls(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){J.call(this,"d")}D(Ta,J);function Pn(){J.call(this,"c")}D(Pn,J);var Oi={},ll=null;function De(){return ll=ll||new Re}Oi.La="serverreachability";function Bn(a){J.call(this,Oi.La,a)}D(Bn,J);function xr(a){const c=De();Se(c,new Bn(c))}Oi.STAT_EVENT="statevent";function Aa(a,c){J.call(this,Oi.STAT_EVENT,a),this.stat=c}D(Aa,J);function Fe(a){const c=De();Se(c,new Aa(c,a))}Oi.Ma="timingevent";function xa(a,c){J.call(this,Oi.Ma,a),this.size=c}D(xa,J);function ki(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function $t(a,c,f,g,R,z){a.info(function(){if(a.g)if(z)for(var B="",ye=z.split("&"),at=0;at<ye.length;at++){var oe=ye[at].split("=");if(1<oe.length){var ht=oe[0];oe=oe[1];var mt=ht.split("_");B=2<=mt.length&&mt[1]=="type"?B+(ht+"="+oe+"&"):B+(ht+"=redacted&")}}else B=null;else B=z;return"XMLHTTP REQ ("+g+") [attempt "+R+"]: "+c+`
`+f+`
`+B})}function Hn(a,c,f,g,R,z,B){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+R+"]: "+c+`
`+f+`
`+z+" "+B})}function Vn(a,c,f,g){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+wa(a,f)+(g?" "+g:"")})}function ul(a,c){a.info(function(){return"TIMEOUT: "+c})}wr.prototype.info=function(){};function wa(a,c){if(!a.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var R=g[1];if(Array.isArray(R)&&!(1>R.length)){var z=R[0];if(z!="noop"&&z!="stop"&&z!="close")for(var B=1;B<R.length;B++)R[B]=""}}}}return Dt(f)}catch{return c}}var us={NO_ERROR:0,TIMEOUT:8},cn={},cs;function Nr(){}D(Nr,Ar),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},cs=new Nr;function fn(a,c,f,g){this.j=a,this.i=c,this.l=f,this.R=g||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Na}function Na(){this.i=null,this.g="",this.h=!1}var cl={},q={};function O(a,c,f){a.L=1,a.v=hl(Zn(c)),a.m=f,a.P=!0,U(a,null)}function U(a,c){a.F=Date.now(),Pe(a),a.A=Zn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Um(f.i,"t",g),a.C=0,f=a.j.J,a.h=new Na,a.g=np(a.j,f?c:null,!a.m),0<a.O&&(a.M=new Sa(y(a.Y,a,a.g),a.O)),c=a.U,f=a.g,g=a.ca;var R="readystatechange";Array.isArray(R)||(R&&(Er[0]=R.toString()),R=Er);for(var z=0;z<R.length;z++){var B=os(f,R[z],g||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=a.H?p(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),xr(),$t(a.i,a.u,a.A,a.l,a.R,a.m)}fn.prototype.ca=function(a){a=a.target;const c=this.M;c&&Gn(a)==3?c.j():this.Y(a)},fn.prototype.Y=function(a){try{if(a==this.g)e:{const mt=Gn(this.g);var c=this.g.Ba();const hs=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||qm(this.g)))){this.J||mt!=4||c==7||(c==8||0>=hs?xr(3):xr(2)),tt(this);var f=this.g.Z();this.X=f;t:if(G(this)){var g=qm(this.g);a="";var R=g.length,z=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),pt(this);var B="";break t}this.h.i=new l.TextDecoder}for(c=0;c<R;c++)this.h.h=!0,a+=this.h.i.decode(g[c],{stream:!(z&&c==R-1)});g.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,Hn(this.i,this.u,this.A,this.l,this.R,mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,at=this.g;if((ye=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ye)){var oe=ye;break t}}oe=null}if(f=oe)Vn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cr(this,f);else{this.o=!1,this.s=3,Fe(12),Tt(this),pt(this);break e}}if(this.P){f=!0;let dn;for(;!this.J&&this.C<B.length;)if(dn=Ee(this,B),dn==q){mt==4&&(this.s=4,Fe(14),f=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==cl){this.s=4,Fe(15),Vn(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Vn(this.i,this.l,dn,null),Cr(this,dn);if(G(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||B.length!=0||this.h.h||(this.s=1,Fe(16),f=!1),this.o=this.o&&f,!f)Vn(this.i,this.l,B,"[Invalid Chunked Response]"),Tt(this),pt(this);else if(0<B.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Pc(ht),ht.M=!0,Fe(11))}}else Vn(this.i,this.l,B,null),Cr(this,B);mt==4&&Tt(this),this.o&&!this.J&&(mt==4?Jm(this.j,this):(this.o=!1,Pe(this)))}else lE(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Fe(12)):(this.s=0,Fe(13)),Tt(this),pt(this)}}}catch{}finally{}};function G(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ee(a,c){var f=a.C,g=c.indexOf(`
`,f);return g==-1?q:(f=Number(c.substring(f,g)),isNaN(f)?cl:(g+=1,g+f>c.length?q:(c=c.slice(g,g+f),a.C=g+f,c)))}fn.prototype.cancel=function(){this.J=!0,Tt(this)};function Pe(a){a.S=Date.now()+a.I,ze(a,a.I)}function ze(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ki(y(a.ba,a),c)}function tt(a){a.B&&(l.clearTimeout(a.B),a.B=null)}fn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ul(this.i,this.A),this.L!=2&&(xr(),Fe(17)),Tt(this),this.s=2,pt(this)):ze(this,this.S-a)};function pt(a){a.j.G==0||a.J||Jm(a.j,a)}function Tt(a){tt(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Tr(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function Cr(a,c){try{var f=a.j;if(f.G!=0&&(f.g==a||Ic(f.h,a))){if(!a.K&&Ic(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var R=g;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)bl(f),yl(f);else break e;Uc(f),Fe(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=ki(y(f.Za,f),6e3));if(1>=Om(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else kr(f,11)}else if((a.K||f.g==a)&&bl(f),!T(c))for(R=f.Da.g.parse(c),c=0;c<R.length;c++){let oe=R[c];if(f.T=oe[0],oe=oe[1],f.G==2)if(oe[0]=="c"){f.K=oe[1],f.ia=oe[2];const ht=oe[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));const mt=oe[4];mt!=null&&(f.Aa=mt,f.j.info("SVER="+f.Aa));const hs=oe[5];hs!=null&&typeof hs=="number"&&0<hs&&(g=1.5*hs,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;const dn=a.g;if(dn){const _l=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_l){var z=g.h;z.g||_l.indexOf("spdy")==-1&&_l.indexOf("quic")==-1&&_l.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Mc(z,z.h),z.h=null))}if(g.D){const Bc=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bc&&(g.ya=Bc,xe(g.I,g.D,Bc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var B=a;if(g.qa=tp(g,g.J?g.ia:null,g.W),B.K){km(g.h,B);var ye=B,at=g.L;at&&(ye.I=at),ye.B&&(tt(ye),Pe(ye)),g.g=B}else Km(g);0<f.i.length&&vl(f)}else oe[0]!="stop"&&oe[0]!="close"||kr(f,7);else f.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?kr(f,7):Lc(f):oe[0]!="noop"&&f.l&&f.l.ta(oe),f.v=0)}}xr(4)}catch{}}var Ye=class{constructor(a,c){this.g=a,this.map=c}};function Ca(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Om(a){return a.h?1:a.g?a.g.size:0}function Ic(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Mc(a,c){a.g?a.g.add(c):a.h=c}function km(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}Ca.prototype.cancel=function(){if(this.i=Rm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Rm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const f of a.g.values())c=c.concat(f.D);return c}return I(a.i)}function XS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],f=a.length,g=0;g<f;g++)c.push(a[g]);return c}c=[],f=0;for(g in a)c[f++]=a[g];return c}function FS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var f=0;f<a;f++)c.push(f);return c}c=[],f=0;for(const g in a)c[f++]=g;return c}}}function Dm(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var f=FS(a),g=XS(a),R=g.length,z=0;z<R;z++)c.call(void 0,g[z],f&&f[z],a)}var zm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YS(a,c){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),R=null;if(0<=g){var z=a[f].substring(0,g);R=a[f].substring(g+1)}else z=a[f];c(z,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,fl(this,a.j),this.o=a.o,this.g=a.g,dl(this,a.s),this.l=a.l;var c=a.i,f=new Da;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Im(this,f),this.m=a.m}else a&&(c=String(a).match(zm))?(this.h=!1,fl(this,c[1]||"",!0),this.o=ka(c[2]||""),this.g=ka(c[3]||"",!0),dl(this,c[4]),this.l=ka(c[5]||"",!0),Im(this,c[6]||"",!0),this.m=ka(c[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Or.prototype.toString=function(){var a=[],c=this.j;c&&a.push(Ra(c,Mm,!0),":");var f=this.g;return(f||c=="file")&&(a.push("//"),(c=this.o)&&a.push(Ra(c,Mm,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ra(f,f.charAt(0)=="/"?JS:QS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ra(f,eE)),a.join("")};function Zn(a){return new Or(a)}function fl(a,c,f){a.j=f?ka(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function dl(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Im(a,c,f){c instanceof Da?(a.i=c,tE(a.i,a.h)):(f||(c=Ra(c,WS)),a.i=new Da(c,a.h))}function xe(a,c,f){a.i.set(c,f)}function hl(a){return xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ka(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ra(a,c,f){return typeof a=="string"?(a=encodeURI(a).replace(c,KS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Mm=/[#\/\?@]/g,QS=/[#\?:]/g,JS=/[#\?]/g,WS=/[#\?@]/g,eE=/#/g;function Da(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function Ri(a){a.g||(a.g=new Map,a.h=0,a.i&&YS(a.i,function(c,f){a.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Da.prototype,e.add=function(a,c){Ri(this),this.i=null,a=fs(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(c),this.h+=1,this};function jm(a,c){Ri(a),c=fs(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function Lm(a,c){return Ri(a),c=fs(a,c),a.g.has(c)}e.forEach=function(a,c){Ri(this),this.g.forEach(function(f,g){f.forEach(function(R){a.call(c,R,g,this)},this)},this)},e.na=function(){Ri(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let g=0;g<c.length;g++){const R=a[g];for(let z=0;z<R.length;z++)f.push(c[g])}return f},e.V=function(a){Ri(this);let c=[];if(typeof a=="string")Lm(this,a)&&(c=c.concat(this.g.get(fs(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)c=c.concat(a[f])}return c},e.set=function(a,c){return Ri(this),this.i=null,a=fs(this,a),Lm(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},e.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function Um(a,c,f){jm(a,c),0<f.length&&(a.i=null,a.g.set(fs(a,c),I(f)),a.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var g=c[f];const z=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var R=z;B[g]!==""&&(R+="="+encodeURIComponent(String(B[g]))),a.push(R)}}return this.i=a.join("&")};function fs(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function tE(a,c){c&&!a.j&&(Ri(a),a.i=null,a.g.forEach(function(f,g){var R=g.toLowerCase();g!=R&&(jm(this,g),Um(this,R,f))},a)),a.j=c}function nE(a,c){const f=new wr;if(l.Image){const g=new Image;g.onload=x(Di,f,"TestLoadImage: loaded",!0,c,g),g.onerror=x(Di,f,"TestLoadImage: error",!1,c,g),g.onabort=x(Di,f,"TestLoadImage: abort",!1,c,g),g.ontimeout=x(Di,f,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else c(!1)}function iE(a,c){const f=new wr,g=new AbortController,R=setTimeout(()=>{g.abort(),Di(f,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:g.signal}).then(z=>{clearTimeout(R),z.ok?Di(f,"TestPingServer: ok",!0,c):Di(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(R),Di(f,"TestPingServer: error",!1,c)})}function Di(a,c,f,g,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),g(f)}catch{}}function rE(){this.g=new Ea}function sE(a,c,f){const g=f||"";try{Dm(a,function(R,z){let B=R;d(R)&&(B=Dt(R)),c.push(g+z+"="+encodeURIComponent(B))})}catch(R){throw c.push(g+"type="+encodeURIComponent("_badmap")),R}}function ml(a){this.l=a.Ub||null,this.j=a.eb||!1}D(ml,Ar),ml.prototype.g=function(){return new pl(this.l,this.j)},ml.prototype.i=function(a){return function(){return a}}({});function pl(a,c){Re.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(pl,Re),e=pl.prototype,e.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,Ia(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?za(this):Ia(this),this.readyState==3&&Pm(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,za(this))},e.Qa=function(a){this.g&&(this.response=a,za(this))},e.ga=function(){this.g&&za(this)};function za(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ia(a)}e.setRequestHeader=function(a,c){this.u.append(a,c)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=c.next();return a.join(`\r
`)};function Ia(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Bm(a){let c="";return Z(a,function(f,g){c+=g,c+=":",c+=f,c+=`\r
`}),c}function jc(a,c,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Bm(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):xe(a,c,f))}function Be(a){Re.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Be,Re);var aE=/^https?$/i,oE=["POST","PUT"];e=Be.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,c,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?ol(this.o):ol(cs),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(z){Hm(this,z);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var R in g)f.set(R,g[R]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const z of g.keys())f.set(z,g.get(z));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(z=>z.toLowerCase()=="content-type"),R=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oE,c,void 0))||g||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,B]of f)this.g.setRequestHeader(z,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gm(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){Hm(this,z)}};function Hm(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Vm(a),gl(a)}function Vm(a){a.A||(a.A=!0,Se(a,"complete"),Se(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Se(this,"complete"),Se(this,"abort"),gl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Be.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zm(this):this.bb())},e.bb=function(){Zm(this)};function Zm(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Gn(a)!=4||a.Z()!=2)){if(a.u&&Gn(a)==4)ba(a.Ea,0,a);else if(Se(a,"readystatechange"),Gn(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var g;if(g=B===0){var R=String(a.D).match(zm)[1]||null;!R&&l.self&&l.self.location&&(R=l.self.location.protocol.slice(0,-1)),g=!aE.test(R?R.toLowerCase():"")}f=g}if(f)Se(a,"complete"),Se(a,"success");else{a.m=6;try{var z=2<Gn(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",Vm(a)}}finally{gl(a)}}}}function gl(a,c){if(a.g){Gm(a);const f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||Se(a,"ready");try{f.onreadystatechange=g}catch{}}}function Gm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function Gn(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),Ci(c)}};function qm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lE(a){const c={};a=(a.g&&2<=Gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(T(a[g]))continue;var f=w(a[g]);const R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const z=c[R]||[];c[R]=z,z.push(f)}S(c,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(a,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||c}function $m(a){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,a),this.cb=Ma("retryDelaySeedMs",1e4,a),this.Wa=Ma("forwardChannelMaxRetries",2,a),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ca(a&&a.concurrentRequestLimit),this.Da=new rE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=$m.prototype,e.la=8,e.G=1,e.connect=function(a,c,f,g){Fe(0),this.W=a,this.H=c||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=tp(this,null,this.W),vl(this)};function Lc(a){if(Xm(a),a.G==3){var c=a.U++,f=Zn(a.I);if(xe(f,"SID",a.K),xe(f,"RID",c),xe(f,"TYPE","terminate"),ja(a,f),c=new fn(a,a.j,c),c.L=2,c.v=hl(Zn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=np(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Pe(c)}ep(a)}function yl(a){a.g&&(Pc(a),a.g.cancel(),a.g=null)}function Xm(a){yl(a),a.u&&(l.clearTimeout(a.u),a.u=null),bl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function vl(a){if(!Oa(a.h)&&!a.s){a.s=!0;var c=a.Ga;X||be(),F||(X(),F=!0),fe.add(c,a),a.B=0}}function uE(a,c){return Om(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ki(y(a.Ga,a,c),Wm(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const R=new fn(this,this.j,a);let z=this.o;if(this.S&&(z?(z=p(z),E(z,this.S)):z=this.S),this.m!==null||this.O||(R.H=z,z=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=Ym(this,R,c),f=Zn(this.I),xe(f,"RID",a),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),ja(this,f),z&&(this.O?c="headers="+encodeURIComponent(String(Bm(z)))+"&"+c:this.m&&jc(f,this.m,z)),Mc(this.h,R),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",c),xe(f,"SID","null"),R.T=!0,O(R,f,null)):O(R,f,c),this.G=2}}else this.G==3&&(a?Fm(this,a):this.i.length==0||Oa(this.h)||Fm(this))};function Fm(a,c){var f;c?f=c.l:f=a.U++;const g=Zn(a.I);xe(g,"SID",a.K),xe(g,"RID",f),xe(g,"AID",a.T),ja(a,g),a.m&&a.o&&jc(g,a.m,a.o),f=new fn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Ym(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Mc(a.h,f),O(f,g,c)}function ja(a,c){a.H&&Z(a.H,function(f,g){xe(c,g,f)}),a.l&&Dm({},function(f,g){xe(c,g,f)})}function Ym(a,c,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var R=a.i;let z=-1;for(;;){const B=["count="+f];z==-1?0<f?(z=R[0].g,B.push("ofs="+z)):z=0:B.push("ofs="+z);let ye=!0;for(let at=0;at<f;at++){let oe=R[at].g;const ht=R[at].map;if(oe-=z,0>oe)z=Math.max(0,R[at].g-100),ye=!1;else try{sE(ht,B,"req"+oe+"_")}catch{g&&g(ht)}}if(ye){g=B.join("&");break e}}}return a=a.i.splice(0,f),c.D=a,g}function Km(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;X||be(),F||(X(),F=!0),fe.add(c,a),a.v=0}}function Uc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ki(y(a.Fa,a),Wm(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Qm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ki(y(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Fe(10),yl(this),Qm(this))};function Pc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Qm(a){a.g=new fn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=Zn(a.qa);xe(c,"RID","rpc"),xe(c,"SID",a.K),xe(c,"AID",a.T),xe(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&xe(c,"TO",a.ja),xe(c,"TYPE","xmlhttp"),ja(a,c),a.m&&a.o&&jc(c,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=hl(Zn(c)),f.m=null,f.P=!0,U(f,a)}e.Za=function(){this.C!=null&&(this.C=null,yl(this),Uc(this),Fe(19))};function bl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Jm(a,c){var f=null;if(a.g==c){bl(a),Pc(a),a.g=null;var g=2}else if(Ic(a.h,c))f=c.D,km(a.h,c),g=1;else return;if(a.G!=0){if(c.o)if(g==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var R=a.B;g=De(),Se(g,new xa(g,f)),vl(a)}else Km(a);else if(R=c.s,R==3||R==0&&0<c.X||!(g==1&&uE(a,c)||g==2&&Uc(a)))switch(f&&0<f.length&&(c=a.h,c.i=c.i.concat(f)),R){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function Wm(a,c){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*c}function kr(a,c){if(a.j.info("Error code "+c),c==2){var f=y(a.fb,a),g=a.Xa;const R=!g;g=new Or(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fl(g,"https"),hl(g),R?nE(g.toString(),f):iE(g.toString(),f)}else Fe(2);a.G=0,a.l&&a.l.sa(c),ep(a),Xm(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Fe(2)):(this.j.info("Failed to ping google.com"),Fe(1))};function ep(a){if(a.G=0,a.ka=[],a.l){const c=Rm(a.h);(c.length!=0||a.i.length!=0)&&(V(a.ka,c),V(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function tp(a,c,f){var g=f instanceof Or?Zn(f):new Or(f);if(g.g!="")c&&(g.g=c+"."+g.g),dl(g,g.s);else{var R=l.location;g=R.protocol,c=c?c+"."+R.hostname:R.hostname,R=+R.port;var z=new Or(null);g&&fl(z,g),c&&(z.g=c),R&&dl(z,R),f&&(z.l=f),g=z}return f=a.D,c=a.ya,f&&c&&xe(g,f,c),xe(g,"VER",a.la),ja(a,g),g}function np(a,c,f){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new Be(new ml({eb:f})):new Be(a.pa),c.Ha(a.J),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ip(){}e=ip.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Xt(a,c){Re.call(this),this.g=new $m(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!T(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new ds(this)}D(Xt,Re),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Lc(this.g)},Xt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Dt(a),a=f);c.i.push(new Ye(c.Ya++,a)),c.G==3&&vl(c)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Lc(this.g),delete this.g,Xt.aa.N.call(this)};function rp(a){Ta.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const f in c){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}D(rp,Ta);function sp(){Pn.call(this),this.status=1}D(sp,Pn);function ds(a){this.g=a}D(ds,ip),ds.prototype.ua=function(){Se(this.g,"a")},ds.prototype.ta=function(a){Se(this.g,new rp(a))},ds.prototype.sa=function(a){Se(this.g,new sp)},ds.prototype.ra=function(){Se(this.g,"b")},Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,cn.COMPLETE="complete",ls.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});const s0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new lm("@firebase/firestore");function vn(e,...t){if(Yu.logLevel<=he.DEBUG){const n=t.map(P_);Yu.debug(`Firestore (${wc}): ${e}`,...n)}}function U_(e,...t){if(Yu.logLevel<=he.ERROR){const n=t.map(P_);Yu.error(`Firestore (${wc}): ${e}`,...n)}}function P_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e="Unexpected state"){const t=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+e;throw U_(t),new Error(t)}function vo(e,t){e||B_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class yn extends Un{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class kw{constructor(t){this.t=t,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){vo(this.o===void 0);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bo,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bo)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vo(typeof i.accessToken=="string"),new Cw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vo(t===null||typeof t=="string"),new Mt(t)}}class Rw{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dw{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Rw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iw{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){vo(this.o===void 0);const i=s=>{s.error!=null&&vn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,vn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(vo(typeof n.token=="string"),this.R=n.token,new zw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Mw(e){return e.name==="IndexedDbTransactionError"}class Ku{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ku&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a0,se;(se=a0||(a0={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new L_([4294967295,4294967295],0);function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&vn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,l=new bm(t,n,o,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yn(gn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var o0,l0;(l0=o0||(o0={})).ea="default",l0.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;function Uw(e,t,n,i){if(t===!0&&i===!0)throw new yn(gn.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new yn(gn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new yn(gn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yn(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pw{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yn(gn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yn(gn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ow;switch(i.type){case"firstParty":return new Dw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new yn(gn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=u0.get(n);i&&(vn("ComponentProvider","Removing Datastore"),u0.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jw(this,"async_queue_retry"),this.Vu=()=>{const i=Df();i&&vn("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Mw(t))throw t;vn("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(i);throw U_("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const r=bm.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&B_()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class Bw extends Pw{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new f0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new f0(t),this._firestoreClient=void 0,await t}}}(function(t,n=!0){(function(r){wc=r})(ha),Fr(new dr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),l=new Bw(new kw(i.getProvider("auth-internal")),new Iw(i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new yn(gn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(d.options.projectId,m)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),zn(s0,"4.7.3",t),zn(s0,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="type.googleapis.com/google.protobuf.Int64Value",Vw="type.googleapis.com/google.protobuf.UInt64Value";function H_(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function Jd(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>Jd(t));if(typeof e=="function"||typeof e=="object")return H_(e,t=>Jd(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Qu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Hw:case Vw:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Qu(t)):typeof e=="function"||typeof e=="object"?H_(e,t=>Qu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qs extends Un{constructor(t,n,i){super(`${_m}/${t}`,n||""),this.details=i}}function Zw(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Gw(e,t){let n=Zw(e),i=n,r;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!d0[o])return new qs("internal","internal");n=d0[o],i=o}const l=s.message;typeof l=="string"&&(i=l),r=s.details,r!==void 0&&(r=Qu(r))}}catch{}return n==="ok"?null:new qs(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="us-central1";function $w(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new qs("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Xw{constructor(t,n,i,r,s=Wd,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new qw(n,i,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=Wd}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Fw(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function Yw(e,t,n){return i=>Qw(e,t,i,{})}async function Kw(e,t,n,i){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await r.json()}catch{}return{status:r.status,json:s}}function Qw(e,t,n,i){const r=e._url(t);return Jw(e,r,n,i)}async function Jw(e,t,n,i){n=Jd(n);const r={data:n},s={},o=await e.contextProvider.getContext(i.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const l=i.timeout||7e4,u=$w(l),d=await Promise.race([Kw(t,r,s,e.fetchImpl),u.promise,e.cancelAllRequests]);if(u.cancel(),!d)throw new qs("cancelled","Firebase Functions instance was deleted.");const m=Gw(d.status,d.json);if(m)throw m;if(!d.json)throw new qs("internal","Response is not valid JSON object.");let b=d.json.data;if(typeof b>"u"&&(b=d.json.result),typeof b>"u")throw new qs("internal","Response is missing data field.");return{data:Qu(b)}}const h0="@firebase/functions",m0="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="auth-internal",eN="app-check-internal",tN="messaging-internal";function nN(e,t){const n=(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),o=i.getProvider(Ww),l=i.getProvider(tN),u=i.getProvider(eN);return new Xw(s,o,l,u,r,e)};Fr(new dr(_m,n,"PUBLIC").setMultipleInstances(!0)),zn(h0,m0,t),zn(h0,m0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e=t_(),t=Wd){const i=cm(En(e),_m).getImmediate({identifier:t}),r=nA("functions");return r&&V_(i,...r),i}function V_(e,t,n){Fw(En(e),t,n)}function bn(e,t,n){return Yw(En(e),t)}nN(fetch.bind(self));const Z_={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},rN=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Ul=null,zf=null,Pl=null;function G_(){if(!Ul){const e=gx();e.length>0?Ul=e[0]:Ul=e_(Z_)}return Ul}function If(){return zf||(zf=ww(G_())),zf}function kn(){if(!Pl&&(Pl=iN(G_()),rN&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{V_(Pl,"localhost",5001)}catch{}return Pl}function Rn(){const e=Z_.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const sN=22242,aN=5e3,oN=2e3,q_=3e4,lN=3e4,$_=30*1e3,X_=2e3,uN=60*60*1e3,F_=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],cN=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"];class fN{constructor(t="",n=!0){Ke(this,"prefix");Ke(this,"enabled");this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const s=console[t]||console.log;i!==void 0?s(r,i):s(r)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const Mf={};function on(e){const t=e||"__default__";return Mf[t]||(Mf[t]=new fN(e)),Mf[t]}const wn=on("NostrUtils"),eh="qpzry9x8gf2tvdw0s3jn54khce6mua7l",dN=[996825010,642813549,513874426,1027748829,705979059];function Y_(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let r=0;r<5;r++)i>>r&1&&(t^=dN[r])}return t}function K_(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function hN(e,t){return Y_([...K_(e),...t])===1}function mN(e,t){const n=[...K_(e),...t,0,0,0,0,0,0],i=Y_(n)^1,r=[];for(let s=0;s<6;s++)r.push(i>>5*(5-s)&31);return r}function Q_(e,t,n,i){let r=0,s=0;const o=[],l=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(r=r<<t|u,s+=t;s>=n;)s-=n,o.push(r>>s&l)}if(i)s>0&&o.push(r<<n-s&l);else if(s>=t||r<<n-s&l)return null;return o}function pN(e,t){const n=Q_(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=mN(e,n);let r=e+"1";for(const s of n)r+=eh[s];for(const s of i)r+=eh[s];return r}function gN(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const s=i.slice(0,r),o=i.slice(r+1),l=[];for(const m of o){const b=eh.indexOf(m);if(b===-1)return null;l.push(b)}if(!hN(s,l))return null;const u=l.slice(0,-6),d=Q_(new Uint8Array(u),5,8,!1);return d?{hrp:s,data:new Uint8Array(d)}:null}function yN(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function vN(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function bN(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=yN(e);return pN("npub",t)}function J_(e){const t=gN(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return vN(t.data)}async function _N(e){try{const t=J_(e),n=SN(),i=n.map(async o=>{try{return await Promise.race([W_(o,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(l){return wn.debug(`Failed to fetch profile from relay ${o}:`,l),null}}),s=(await Promise.allSettled(i)).filter(o=>o.status==="fulfilled"&&o.value!==null).map(o=>o.value);return s.length>0?s[0]:(wn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return wn.debug("Failed to convert npub to hex:",t),null}}function SN(){return[...F_,...cN]}function Ju(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Wu(){return typeof window<"u"&&typeof window.nostr<"u"}function EN(e=3e3){return new Promise(t=>{if(Wu()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Wu()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function W_(e,t){return new Promise(n=>{let i=!1,r=null,s=null;const o=()=>{if(!i&&(i=!0,s&&(clearTimeout(s),s=null),r&&r.readyState!==WebSocket.CLOSED&&r.readyState!==WebSocket.CLOSING))try{r.close()}catch(u){wn.debug(`Error closing WebSocket for ${e}:`,u)}};s=setTimeout(()=>{wn.debug(`WebSocket timeout for relay: ${e}`),o(),n(null)},aN);try{r=new WebSocket(e)}catch(u){wn.debug(`Failed to create WebSocket for relay ${e}:`,u),o(),n(null);return}const l=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(!(i||!r))try{const u=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);r.send(u)}catch(u){wn.debug(`Failed to send subscription to ${e}:`,u),o(),n(null)}},r.onmessage=u=>{if(!i)try{const d=JSON.parse(u.data);if(d[0]==="EVENT"&&d[1]===l){const m=JSON.parse(d[2].content);o(),n({name:m.name||m.display_name,display_name:m.display_name,nip05:m.nip05,picture:m.picture,about:m.about})}else d[0]==="EOSE"&&(o(),n(null))}catch(d){wn.debug(`Failed to parse WebSocket message from ${e}:`,d)}},r.onerror=u=>{wn.debug(`WebSocket error for relay ${e}:`,u),o(),n(null)},r.onclose=u=>{i||(wn.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),o(),n(null))}})}async function TN(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const s=e.slice(i,i+n).map(async o=>{const l=await _N(o);l&&t.set(o,l)});await Promise.all(s)}return t}const AN=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","math_history","template"];function xN(e){return AN.includes(e)}function j(e,t,n){function i(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const d=o.prototype,m=Object.keys(d);for(let b=0;b<m.length;b++){const y=m[b];y in l||(l[y]=d[y].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function o(l){var u;const d=n!=null&&n.Parent?new s:this;i(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const m of d._zod.deferred)m();return d}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var u,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:d.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class $s extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class eS extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const tS={};function hr(e){return tS}function nS(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>t.indexOf(+i)===-1).map(([i,r])=>r)}function th(e,t){return typeof t=="bigint"?t.toString():t}function Sm(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Em(e){return e==null}function Tm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function wN(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const s=n>r?n:r,o=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return o%l/10**s}const p0=Symbol("evaluating");function Ae(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==p0)return i===void 0&&(i=p0,i=n()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function is(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function rs(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function g0(e){return JSON.stringify(e)}function NN(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const iS="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ec(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const CN=Sm(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ra(e){if(ec(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(ec(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rS(e){return ra(e)?{...e}:Array.isArray(e)?[...e]:e}const ON=new Set(["string","number","symbol"]);function Nc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yr(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function kN(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const RN={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function DN(e,t){const n=e._zod.def,i=rs(e._zod.def,{get shape(){const r={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(r[s]=n.shape[s])}return is(this,"shape",r),r},checks:[]});return yr(e,i)}function zN(e,t){const n=e._zod.def,i=rs(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete r[s]}return is(this,"shape",r),r},checks:[]});return yr(e,i)}function IN(e,t){if(!ra(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=rs(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return is(this,"shape",s),s},checks:[]});return yr(e,r)}function MN(e,t){if(!ra(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const i={...e._zod.def.shape,...t};return is(this,"shape",i),i},checks:e._zod.def.checks};return yr(e,n)}function jN(e,t){const n=rs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return is(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return yr(e,n)}function LN(e,t,n){const i=rs(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)s[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return is(this,"shape",s),s},checks:[]});return yr(t,i)}function UN(e,t,n){const i=rs(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)s[o]=new e({type:"nonoptional",innerType:r[o]});return is(this,"shape",s),s},checks:[]});return yr(t,i)}function zs(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Is(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function Bl(e){return typeof e=="string"?e:e==null?void 0:e.message}function mr(e,t,n){var r,s,o,l,u,d;const i={...e,path:e.path??[]};if(!e.message){const m=Bl((o=(s=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,e))??Bl((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Bl((u=n.customError)==null?void 0:u.call(n,e))??Bl((d=n.localeError)==null?void 0:d.call(n,e))??"Invalid input";i.message=m}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Am(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Po(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const sS=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,th,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},aS=j("$ZodError",sS),oS=j("$ZodError",sS,{Parent:Error});function PN(e,t=n=>n.message){const n={},i=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function BN(e,t=n=>n.message){const n={_errors:[]},i=r=>{for(const s of r.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>i({issues:o}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let o=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return i(e),n}const xm=e=>(t,n,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new $s;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>mr(u,s,hr())));throw iS(l,r==null?void 0:r.callee),l}return o.value},wm=e=>async(t,n,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>mr(u,s,hr())));throw iS(l,r==null?void 0:r.callee),l}return o.value},Cc=e=>(t,n,i)=>{const r=i?{...i,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new $s;return s.issues.length?{success:!1,error:new(e??aS)(s.issues.map(o=>mr(o,r,hr())))}:{success:!0,data:s.value}},HN=Cc(oS),Oc=e=>async(t,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>mr(o,r,hr())))}:{success:!0,data:s.value}},VN=Oc(oS),ZN=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return xm(e)(t,n,r)},GN=e=>(t,n,i)=>xm(e)(t,n,i),qN=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return wm(e)(t,n,r)},$N=e=>async(t,n,i)=>wm(e)(t,n,i),XN=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Cc(e)(t,n,r)},FN=e=>(t,n,i)=>Cc(e)(t,n,i),YN=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Oc(e)(t,n,r)},KN=e=>async(t,n,i)=>Oc(e)(t,n,i),QN=/^[cC][^\s-]{8,}$/,JN=/^[0-9a-z]+$/,WN=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,e4=/^[0-9a-vA-V]{20}$/,t4=/^[A-Za-z0-9]{27}$/,n4=/^[a-zA-Z0-9_-]{21}$/,i4=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,r4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,s4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,a4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function o4(){return new RegExp(a4,"u")}const l4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,c4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,f4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d4=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,lS=/^[A-Za-z0-9_-]*$/,h4=/^\+(?:[0-9]){6,14}[0-9]$/,uS="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",m4=new RegExp(`^${uS}$`);function cS(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function p4(e){return new RegExp(`^${cS(e)}$`)}function g4(e){const t=cS({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${uS}T(?:${i})$`)}const y4=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},v4=/^-?\d+$/,b4=/^-?\d+(?:\.\d+)?/,_4=/^(?:true|false)$/i,S4=/^[^A-Z]*$/,E4=/^[^a-z]*$/,Rt=j("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),fS={number:"number",bigint:"bigint",object:"date"},dS=j("$ZodCheckLessThan",(e,t)=>{Rt.init(e,t);const n=fS[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),hS=j("$ZodCheckGreaterThan",(e,t)=>{Rt.init(e,t);const n=fS[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),T4=j("$ZodCheckMultipleOf",(e,t)=>{Rt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):wN(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),A4=j("$ZodCheckNumberFormat",(e,t)=>{var o;Rt.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),i=n?"int":"number",[r,s]=RN[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=r,u.maximum=s,n&&(u.pattern=v4)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),x4=j("$ZodCheckMaxLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Em(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=t.maximum)return;const o=Am(r);i.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),w4=j("$ZodCheckMinLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Em(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=t.minimum)return;const o=Am(r);i.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),N4=j("$ZodCheckLengthEquals",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Em(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=i=>{const r=i.value,s=r.length;if(s===t.length)return;const o=Am(r),l=s>t.length;i.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),kc=j("$ZodCheckStringFormat",(e,t)=>{var n,i;Rt.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),C4=j("$ZodCheckRegex",(e,t)=>{kc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),O4=j("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=S4),kc.init(e,t)}),k4=j("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=E4),kc.init(e,t)}),R4=j("$ZodCheckIncludes",(e,t)=>{Rt.init(e,t);const n=Nc(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),D4=j("$ZodCheckStartsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`^${Nc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),z4=j("$ZodCheckEndsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`.*${Nc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),I4=j("$ZodCheckOverwrite",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class M4{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(o=>o),r=Math.min(...i.map(o=>o.length-o.trimStart().length)),s=i.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,r.join(`
`))}}const j4={major:4,minor:2,patch:1},Ue=j("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=j4;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const s of i)for(const o of s._zod.onattach)o(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const s=(l,u,d)=>{let m=zs(l),b;for(const y of u){if(y._zod.def.when){if(!y._zod.def.when(l))continue}else if(m)continue;const x=l.issues.length,D=y._zod.check(l);if(D instanceof Promise&&(d==null?void 0:d.async)===!1)throw new $s;if(b||D instanceof Promise)b=(b??Promise.resolve()).then(async()=>{await D,l.issues.length!==x&&(m||(m=zs(l,x)))});else{if(l.issues.length===x)continue;m||(m=zs(l,x))}}return b?b.then(()=>l):l},o=(l,u,d)=>{if(zs(l))return l.aborted=!0,l;const m=s(u,i,d);if(m instanceof Promise){if(d.async===!1)throw new $s;return m.then(b=>e._zod.parse(b,d))}return e._zod.parse(m,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const m=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(b=>o(b,l,u)):o(m,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new $s;return d.then(m=>s(m,i,u))}return s(d,i,u)}}e["~standard"]={validate:s=>{var o;try{const l=HN(e,s);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return VN(e,s).then(u=>{var d;return u.success?{value:u.data}:{issues:(d=u.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}}),Nm=j("$ZodString",(e,t)=>{var n;Ue.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??y4(e._zod.bag),e._zod.parse=(i,r)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),ke=j("$ZodStringFormat",(e,t)=>{kc.init(e,t),Nm.init(e,t)}),L4=j("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=r4),ke.init(e,t)}),U4=j("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=y0(i))}else t.pattern??(t.pattern=y0());ke.init(e,t)}),P4=j("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=s4),ke.init(e,t)}),B4=j("$ZodURL",(e,t)=>{ke.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),H4=j("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=o4()),ke.init(e,t)}),V4=j("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=n4),ke.init(e,t)}),Z4=j("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=QN),ke.init(e,t)}),G4=j("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=JN),ke.init(e,t)}),q4=j("$ZodULID",(e,t)=>{t.pattern??(t.pattern=WN),ke.init(e,t)}),$4=j("$ZodXID",(e,t)=>{t.pattern??(t.pattern=e4),ke.init(e,t)}),X4=j("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=t4),ke.init(e,t)}),F4=j("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=g4(t)),ke.init(e,t)}),Y4=j("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=m4),ke.init(e,t)}),K4=j("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=p4(t)),ke.init(e,t)}),Q4=j("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=i4),ke.init(e,t)}),J4=j("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=l4),ke.init(e,t),e._zod.bag.format="ipv4"}),W4=j("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=u4),ke.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),eC=j("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=c4),ke.init(e,t)}),tC=j("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=f4),ke.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[r,s]=i;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function mS(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const nC=j("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=d4),ke.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{mS(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function iC(e){if(!lS.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return mS(n)}const rC=j("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=lS),ke.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{iC(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),sC=j("$ZodE164",(e,t)=>{t.pattern??(t.pattern=h4),ke.init(e,t)});function aC(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const oC=j("$ZodJWT",(e,t)=>{ke.init(e,t),e._zod.check=n=>{aC(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),pS=j("$ZodNumber",(e,t)=>{Ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??b4,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),lC=j("$ZodNumberFormat",(e,t)=>{A4.init(e,t),pS.init(e,t)}),uC=j("$ZodBoolean",(e,t)=>{Ue.init(e,t),e._zod.pattern=_4,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),cC=j("$ZodUnknown",(e,t)=>{Ue.init(e,t),e._zod.parse=n=>n}),fC=j("$ZodNever",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function v0(e,t,n){e.issues.length&&t.issues.push(...Is(n,e.issues)),t.value[n]=e.value}const dC=j("$ZodArray",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let o=0;o<r.length;o++){const l=r[o],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?s.push(u.then(d=>v0(d,n,o))):v0(u,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function tc(e,t,n,i){e.issues.length&&t.issues.push(...Is(n,e.issues)),e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function gS(e){var i,r,s,o;const t=Object.keys(e.shape);for(const l of t)if(!((o=(s=(r=(i=e.shape)==null?void 0:i[l])==null?void 0:r._zod)==null?void 0:s.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=kN(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function yS(e,t,n,i,r,s){const o=[],l=r.keySet,u=r.catchall._zod,d=u.def.type;for(const m in t){if(l.has(m))continue;if(d==="never"){o.push(m);continue}const b=u.run({value:t[m],issues:[]},i);b instanceof Promise?e.push(b.then(y=>tc(y,n,m,t))):tc(b,n,m,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const hC=j("$ZodObject",(e,t)=>{Ue.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=Sm(()=>gS(t));Ae(e._zod,"propValues",()=>{const l=t.shape,u={};for(const d in l){const m=l[d]._zod;if(m.values){u[d]??(u[d]=new Set);for(const b of m.values)u[d].add(b)}}return u});const r=ec,s=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=i.value);const d=l.value;if(!r(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const m=[],b=o.shape;for(const y of o.keys){const D=b[y]._zod.run({value:d[y],issues:[]},u);D instanceof Promise?m.push(D.then(I=>tc(I,l,y,d))):tc(D,l,y,d)}return s?yS(m,d,l,u,i.value,e):m.length?Promise.all(m).then(()=>l):l}}),mC=j("$ZodObjectJIT",(e,t)=>{hC.init(e,t);const n=e._zod.parse,i=Sm(()=>gS(t)),r=y=>{const x=new M4(["shape","payload","ctx"]),D=i.value,I=A=>{const k=g0(A);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};x.write("const input = payload.value;");const V=Object.create(null);let C=0;for(const A of D.keys)V[A]=`key_${C++}`;x.write("const newResult = {};");for(const A of D.keys){const k=V[A],L=g0(A);x.write(`const ${k} = ${I(A)};`),x.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${L}, ...iss.path] : [${L}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${L} in input) {
            newResult[${L}] = undefined;
          }
        } else {
          newResult[${L}] = ${k}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const T=x.compile();return(A,k)=>T(y,A,k)};let s;const o=ec,l=!tS.jitless,d=l&&CN.value,m=t.catchall;let b;e._zod.parse=(y,x)=>{b??(b=i.value);const D=y.value;return o(D)?l&&d&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(s||(s=r(t.shape)),y=s(y,x),m?yS([],D,y,x,b,e):y):n(y,x):(y.issues.push({expected:"object",code:"invalid_type",input:D,inst:e}),y)}});function b0(e,t,n,i){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const r=e.filter(s=>!zs(s));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>mr(o,i,hr())))}),t)}const pC=j("$ZodUnion",(e,t)=>{Ue.init(e,t),Ae(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Ae(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Ae(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),Ae(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>Tm(s.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(r,s)=>{if(n)return i(r,s);let o=!1;const l=[];for(const u of t.options){const d=u._zod.run({value:r.value,issues:[]},s);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>b0(u,r,e,s)):b0(l,r,e,s)}}),gC=j("$ZodIntersection",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},i),o=t.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([u,d])=>_0(n,u,d)):_0(n,s,o)}});function nh(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ra(e)&&ra(t)){const n=Object.keys(t),i=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of i){const o=nh(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};r[s]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const r=e[i],s=t[i],o=nh(r,s);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _0(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),zs(e))return e;const i=nh(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const yC=j("$ZodRecord",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!ra(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const s=[],o=t.keyType._zod.values;if(o){n.value={};const l=new Set;for(const d of o)if(typeof d=="string"||typeof d=="number"||typeof d=="symbol"){l.add(typeof d=="number"?d.toString():d);const m=t.valueType._zod.run({value:r[d],issues:[]},i);m instanceof Promise?s.push(m.then(b=>{b.issues.length&&n.issues.push(...Is(d,b.issues)),n.value[d]=b.value})):(m.issues.length&&n.issues.push(...Is(d,m.issues)),n.value[d]=m.value)}let u;for(const d in r)l.has(d)||(u=u??[],u.push(d));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;const u=t.keyType._zod.run({value:l,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){t.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(m=>mr(m,i,hr())),input:l,path:[l],inst:e});continue}const d=t.valueType._zod.run({value:r[l],issues:[]},i);d instanceof Promise?s.push(d.then(m=>{m.issues.length&&n.issues.push(...Is(l,m.issues)),n.value[u.value]=m.value})):(d.issues.length&&n.issues.push(...Is(l,d.issues)),n.value[u.value]=d.value)}}return s.length?Promise.all(s).then(()=>n):n}}),vC=j("$ZodEnum",(e,t)=>{Ue.init(e,t);const n=nS(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(r=>ON.has(typeof r)).map(r=>typeof r=="string"?Nc(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const o=r.value;return i.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),bC=j("$ZodTransform",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new eS(e.constructor.name);const r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new $s;return n.value=r,n}});function S0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const _C=j("$ZodOptional",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ae(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ae(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Tm(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>S0(s,n.value)):S0(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),SC=j("$ZodNullable",(e,t)=>{Ue.init(e,t),Ae(e._zod,"optin",()=>t.innerType._zod.optin),Ae(e._zod,"optout",()=>t.innerType._zod.optout),Ae(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Tm(n.source)}|null)$`):void 0}),Ae(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),EC=j("$ZodDefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>E0(s,t)):E0(r,t)}});function E0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const TC=j("$ZodPrefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),AC=j("$ZodNonOptional",(e,t)=>{Ue.init(e,t),Ae(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>T0(s,e)):T0(r,e)}});function T0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const xC=j("$ZodCatch",(e,t)=>{Ue.init(e,t),Ae(e._zod,"optin",()=>t.innerType._zod.optin),Ae(e._zod,"optout",()=>t.innerType._zod.optout),Ae(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>mr(o,i,hr()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>mr(s,i,hr()))},input:n.value}),n.issues=[]),n)}}),wC=j("$ZodPipe",(e,t)=>{Ue.init(e,t),Ae(e._zod,"values",()=>t.in._zod.values),Ae(e._zod,"optin",()=>t.in._zod.optin),Ae(e._zod,"optout",()=>t.out._zod.optout),Ae(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const s=t.out._zod.run(n,i);return s instanceof Promise?s.then(o=>Hl(o,t.in,i)):Hl(s,t.in,i)}const r=t.in._zod.run(n,i);return r instanceof Promise?r.then(s=>Hl(s,t.out,i)):Hl(r,t.out,i)}});function Hl(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const NC=j("$ZodReadonly",(e,t)=>{Ue.init(e,t),Ae(e._zod,"propValues",()=>t.innerType._zod.propValues),Ae(e._zod,"values",()=>t.innerType._zod.values),Ae(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),Ae(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(A0):A0(r)}});function A0(e){return e.value=Object.freeze(e.value),e}const CC=j("$ZodCustom",(e,t)=>{Rt.init(e,t),Ue.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(s=>x0(s,n,i,e));x0(r,n,i,e)}});function x0(e,t,n,i){if(!e){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),t.issues.push(Po(r))}}var w0;class OC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function kC(){return new OC}(w0=globalThis).__zod_globalRegistry??(w0.__zod_globalRegistry=kC());const to=globalThis.__zod_globalRegistry;function RC(e,t){return new e({type:"string",...$(t)})}function DC(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function N0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function zC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function IC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function MC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function jC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function LC(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function UC(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function PC(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function BC(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function HC(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function VC(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function ZC(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function GC(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function qC(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function $C(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function XC(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function FC(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function YC(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function KC(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function QC(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function JC(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function WC(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function eO(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function tO(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function nO(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function iO(e,t){return new e({type:"number",checks:[],...$(t)})}function rO(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function sO(e,t){return new e({type:"boolean",...$(t)})}function aO(e){return new e({type:"unknown"})}function oO(e,t){return new e({type:"never",...$(t)})}function C0(e,t){return new dS({check:"less_than",...$(t),value:e,inclusive:!1})}function jf(e,t){return new dS({check:"less_than",...$(t),value:e,inclusive:!0})}function O0(e,t){return new hS({check:"greater_than",...$(t),value:e,inclusive:!1})}function Lf(e,t){return new hS({check:"greater_than",...$(t),value:e,inclusive:!0})}function k0(e,t){return new T4({check:"multiple_of",...$(t),value:e})}function vS(e,t){return new x4({check:"max_length",...$(t),maximum:e})}function nc(e,t){return new w4({check:"min_length",...$(t),minimum:e})}function bS(e,t){return new N4({check:"length_equals",...$(t),length:e})}function lO(e,t){return new C4({check:"string_format",format:"regex",...$(t),pattern:e})}function uO(e){return new O4({check:"string_format",format:"lowercase",...$(e)})}function cO(e){return new k4({check:"string_format",format:"uppercase",...$(e)})}function fO(e,t){return new R4({check:"string_format",format:"includes",...$(t),includes:e})}function dO(e,t){return new D4({check:"string_format",format:"starts_with",...$(t),prefix:e})}function hO(e,t){return new z4({check:"string_format",format:"ends_with",...$(t),suffix:e})}function pa(e){return new I4({check:"overwrite",tx:e})}function mO(e){return pa(t=>t.normalize(e))}function pO(){return pa(e=>e.trim())}function gO(){return pa(e=>e.toLowerCase())}function yO(){return pa(e=>e.toUpperCase())}function vO(){return pa(e=>NN(e))}function bO(e,t,n){return new e({type:"array",element:t,...$(n)})}function _O(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}function SO(e){const t=EO(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Po(i,n.value,t._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Po(r))}},e(n.value,n)));return t}function EO(e,t){const n=new Rt({check:"custom",...$(t)});return n._zod.check=e,n}function _S(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??to,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function et(e,t,n={path:[],schemaPath:[]}){var m,b;var i;const r=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=(b=(m=e._zod).toJSONSchema)==null?void 0:b.call(m);if(l)o.schema=l;else{const y={...n,schemaPath:[...n.schemaPath,e],path:n.path},x=e._zod.parent;if(x)o.ref=x,et(x,t,y),t.seen.get(x).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,y);else{const D=o.schema,I=t.processors[r.type];if(!I)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);I(e,t,D,y)}}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&yt(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((i=o.schema).default??(i.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function SS(e,t){var s,o,l;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{var x;const d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const D=(x=e.external.registry.get(u[0]))==null?void 0:x.id,I=e.external.uri??(C=>C);if(D)return{ref:I(D)};const V=u[1].defId??u[1].schema.id??`schema${e.counter++}`;return u[1].defId=V,{defId:V,ref:`${I("__shared")}#/${d}/${V}`}}if(u[1]===n)return{ref:"#"};const b=`#/${d}/`,y=u[1].schema.id??`__schema${e.counter++}`;return{defId:y,ref:b+y}},r=u=>{if(u[1].schema.$ref)return;const d=u[1],{ref:m,defId:b}=i(u);d.def={...d.schema},b&&(d.defId=b);const y=d.schema;for(const x in y)delete y[x];y.$ref=m};if(e.cycles==="throw")for(const u of e.seen.entries()){const d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${(s=d.cycle)==null?void 0:s.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of e.seen.entries()){const d=u[1];if(t===u[0]){r(u);continue}if(e.external){const b=(o=e.external.registry.get(u[0]))==null?void 0:o.id;if(t!==u[0]&&b){r(u);continue}}if((l=e.metadataRegistry.get(u[0]))==null?void 0:l.id){r(u);continue}if(d.cycle){r(u);continue}if(d.count>1&&e.reused==="ref"){r(u);continue}}}function ES(e,t){var o,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=d=>{const m=e.seen.get(d),b=m.def??m.schema,y={...b};if(m.ref===null)return;const x=m.ref;if(m.ref=null,x){i(x);const D=e.seen.get(x).schema;D.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(b.allOf=b.allOf??[],b.allOf.push(D)):(Object.assign(b,D),Object.assign(b,y))}m.isParent||e.override({zodSchema:d,jsonSchema:b,path:m.path??[]})};for(const d of[...e.seen.entries()].reverse())i(d[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(o=e.external)!=null&&o.uri){const d=(l=e.external.registry.get(t))==null?void 0:l.id;if(!d)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(d)}Object.assign(r,n.def??n.schema);const s=((u=e.external)==null?void 0:u.defs)??{};for(const d of e.seen.entries()){const m=d[1];m.def&&m.defId&&(s[m.defId]=m.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?r.$defs=s:r.definitions=s);try{const d=JSON.parse(JSON.stringify(r));return Object.defineProperty(d,"~standard",{value:{...t["~standard"],jsonSchema:{input:ic(t,"input"),output:ic(t,"output")}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function yt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return yt(i.element,n);if(i.type==="set")return yt(i.valueType,n);if(i.type==="lazy")return yt(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return yt(i.innerType,n);if(i.type==="intersection")return yt(i.left,n)||yt(i.right,n);if(i.type==="record"||i.type==="map")return yt(i.keyType,n)||yt(i.valueType,n);if(i.type==="pipe")return yt(i.in,n)||yt(i.out,n);if(i.type==="object"){for(const r in i.shape)if(yt(i.shape[r],n))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(yt(r,n))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(yt(r,n))return!0;return!!(i.rest&&yt(i.rest,n))}return!1}const TO=(e,t={})=>n=>{const i=_S({...n,processors:t});return et(e,i),SS(i,e),ES(i,e)},ic=(e,t)=>n=>{const{libraryOptions:i,target:r}=n??{},s=_S({...i??{},target:r,io:t,processors:{}});return et(e,s),SS(s,e),ES(s,e)},AO={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},xO=(e,t,n,i)=>{const r=n;r.type="string";const{minimum:s,maximum:o,format:l,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof s=="number"&&(r.minLength=s),typeof o=="number"&&(r.maxLength=o),l&&(r.format=AO[l]??l,r.format===""&&delete r.format),d&&(r.contentEncoding=d),u&&u.size>0){const m=[...u];m.length===1?r.pattern=m[0].source:m.length>1&&(r.allOf=[...m.map(b=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},wO=(e,t,n,i)=>{const r=n,{minimum:s,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:m}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=m,r.exclusiveMinimum=!0):r.exclusiveMinimum=m),typeof s=="number"&&(r.minimum=s,typeof m=="number"&&t.target!=="draft-04"&&(m>=s?delete r.minimum:delete r.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=d,r.exclusiveMaximum=!0):r.exclusiveMaximum=d),typeof o=="number"&&(r.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},NO=(e,t,n,i)=>{n.type="boolean"},CO=(e,t,n,i)=>{n.not={}},OO=(e,t,n,i)=>{},kO=(e,t,n,i)=>{const r=e._zod.def,s=nS(r.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},RO=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},DO=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},zO=(e,t,n,i)=>{const r=n,s=e._zod.def,{minimum:o,maximum:l}=e._zod.bag;typeof o=="number"&&(r.minItems=o),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=et(s.element,t,{...i,path:[...i.path,"items"]})},IO=(e,t,n,i)=>{var d;const r=n,s=e._zod.def;r.type="object",r.properties={};const o=s.shape;for(const m in o)r.properties[m]=et(o[m],t,{...i,path:[...i.path,"properties",m]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(m=>{const b=s.shape[m]._zod;return t.io==="input"?b.optin===void 0:b.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((d=s.catchall)==null?void 0:d._zod.def.type)==="never"?r.additionalProperties=!1:s.catchall?s.catchall&&(r.additionalProperties=et(s.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},MO=(e,t,n,i)=>{const r=e._zod.def,s=r.inclusive===!1,o=r.options.map((l,u)=>et(l,t,{...i,path:[...i.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=o:n.anyOf=o},jO=(e,t,n,i)=>{const r=e._zod.def,s=et(r.left,t,{...i,path:[...i.path,"allOf",0]}),o=et(r.right,t,{...i,path:[...i.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(s)?s.allOf:[s],...l(o)?o.allOf:[o]];n.allOf=u},LO=(e,t,n,i)=>{const r=n,s=e._zod.def;r.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(r.propertyNames=et(s.keyType,t,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=et(s.valueType,t,{...i,path:[...i.path,"additionalProperties"]})},UO=(e,t,n,i)=>{const r=e._zod.def,s=et(r.innerType,t,i),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=r.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},PO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},BO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},HO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},VO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType;let o;try{o=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},ZO=(e,t,n,i)=>{const r=e._zod.def,s=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;et(s,t,i);const o=t.seen.get(e);o.ref=s},GO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.readOnly=!0},qO=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},$O=j("ZodISODateTime",(e,t)=>{F4.init(e,t),Ie.init(e,t)});function XO(e){return WC($O,e)}const FO=j("ZodISODate",(e,t)=>{Y4.init(e,t),Ie.init(e,t)});function YO(e){return eO(FO,e)}const KO=j("ZodISOTime",(e,t)=>{K4.init(e,t),Ie.init(e,t)});function QO(e){return tO(KO,e)}const JO=j("ZodISODuration",(e,t)=>{Q4.init(e,t),Ie.init(e,t)});function WO(e){return nO(JO,e)}const ek=(e,t)=>{aS.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>BN(e,n)},flatten:{value:n=>PN(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,th,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,th,2)}},isEmpty:{get(){return e.issues.length===0}}})},ln=j("ZodError",ek,{Parent:Error}),tk=xm(ln),nk=wm(ln),ik=Cc(ln),rk=Oc(ln),sk=ZN(ln),ak=GN(ln),ok=qN(ln),lk=$N(ln),uk=XN(ln),ck=FN(ln),fk=YN(ln),dk=KN(ln),Ze=j("ZodType",(e,t)=>(Ue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ic(e,"input"),output:ic(e,"output")}}),e.toJSONSchema=TO(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(rs(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(n,i)=>yr(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>tk(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>ik(e,n,i),e.parseAsync=async(n,i)=>nk(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>rk(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>sk(e,n,i),e.decode=(n,i)=>ak(e,n,i),e.encodeAsync=async(n,i)=>ok(e,n,i),e.decodeAsync=async(n,i)=>lk(e,n,i),e.safeEncode=(n,i)=>uk(e,n,i),e.safeDecode=(n,i)=>ck(e,n,i),e.safeEncodeAsync=async(n,i)=>fk(e,n,i),e.safeDecodeAsync=async(n,i)=>dk(e,n,i),e.refine=(n,i)=>e.check(iR(n,i)),e.superRefine=n=>e.check(rR(n)),e.overwrite=n=>e.check(pa(n)),e.optional=()=>z0(e),e.nullable=()=>I0(e),e.nullish=()=>z0(I0(e)),e.nonoptional=n=>Kk(e,n),e.array=()=>sa(e),e.or=n=>xS([e,n]),e.and=n=>Hk(e,n),e.transform=n=>M0(e,Gk(n)),e.default=n=>Xk(e,n),e.prefault=n=>Yk(e,n),e.catch=n=>Jk(e,n),e.pipe=n=>M0(e,n),e.readonly=()=>tR(e),e.describe=n=>{const i=e.clone();return to.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=to.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return to.get(e);const i=e.clone();return to.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),TS=j("_ZodString",(e,t)=>{Nm.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,s)=>xO(e,i,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(lO(...i)),e.includes=(...i)=>e.check(fO(...i)),e.startsWith=(...i)=>e.check(dO(...i)),e.endsWith=(...i)=>e.check(hO(...i)),e.min=(...i)=>e.check(nc(...i)),e.max=(...i)=>e.check(vS(...i)),e.length=(...i)=>e.check(bS(...i)),e.nonempty=(...i)=>e.check(nc(1,...i)),e.lowercase=i=>e.check(uO(i)),e.uppercase=i=>e.check(cO(i)),e.trim=()=>e.check(pO()),e.normalize=(...i)=>e.check(mO(...i)),e.toLowerCase=()=>e.check(gO()),e.toUpperCase=()=>e.check(yO()),e.slugify=()=>e.check(vO())}),hk=j("ZodString",(e,t)=>{Nm.init(e,t),TS.init(e,t),e.email=n=>e.check(DC(mk,n)),e.url=n=>e.check(LC(pk,n)),e.jwt=n=>e.check(JC(kk,n)),e.emoji=n=>e.check(UC(gk,n)),e.guid=n=>e.check(N0(R0,n)),e.uuid=n=>e.check(zC(Vl,n)),e.uuidv4=n=>e.check(IC(Vl,n)),e.uuidv6=n=>e.check(MC(Vl,n)),e.uuidv7=n=>e.check(jC(Vl,n)),e.nanoid=n=>e.check(PC(yk,n)),e.guid=n=>e.check(N0(R0,n)),e.cuid=n=>e.check(BC(vk,n)),e.cuid2=n=>e.check(HC(bk,n)),e.ulid=n=>e.check(VC(_k,n)),e.base64=n=>e.check(YC(Nk,n)),e.base64url=n=>e.check(KC(Ck,n)),e.xid=n=>e.check(ZC(Sk,n)),e.ksuid=n=>e.check(GC(Ek,n)),e.ipv4=n=>e.check(qC(Tk,n)),e.ipv6=n=>e.check($C(Ak,n)),e.cidrv4=n=>e.check(XC(xk,n)),e.cidrv6=n=>e.check(FC(wk,n)),e.e164=n=>e.check(QC(Ok,n)),e.datetime=n=>e.check(XO(n)),e.date=n=>e.check(YO(n)),e.time=n=>e.check(QO(n)),e.duration=n=>e.check(WO(n))});function Je(e){return RC(hk,e)}const Ie=j("ZodStringFormat",(e,t)=>{ke.init(e,t),TS.init(e,t)}),mk=j("ZodEmail",(e,t)=>{P4.init(e,t),Ie.init(e,t)}),R0=j("ZodGUID",(e,t)=>{L4.init(e,t),Ie.init(e,t)}),Vl=j("ZodUUID",(e,t)=>{U4.init(e,t),Ie.init(e,t)}),pk=j("ZodURL",(e,t)=>{B4.init(e,t),Ie.init(e,t)}),gk=j("ZodEmoji",(e,t)=>{H4.init(e,t),Ie.init(e,t)}),yk=j("ZodNanoID",(e,t)=>{V4.init(e,t),Ie.init(e,t)}),vk=j("ZodCUID",(e,t)=>{Z4.init(e,t),Ie.init(e,t)}),bk=j("ZodCUID2",(e,t)=>{G4.init(e,t),Ie.init(e,t)}),_k=j("ZodULID",(e,t)=>{q4.init(e,t),Ie.init(e,t)}),Sk=j("ZodXID",(e,t)=>{$4.init(e,t),Ie.init(e,t)}),Ek=j("ZodKSUID",(e,t)=>{X4.init(e,t),Ie.init(e,t)}),Tk=j("ZodIPv4",(e,t)=>{J4.init(e,t),Ie.init(e,t)}),Ak=j("ZodIPv6",(e,t)=>{W4.init(e,t),Ie.init(e,t)}),xk=j("ZodCIDRv4",(e,t)=>{eC.init(e,t),Ie.init(e,t)}),wk=j("ZodCIDRv6",(e,t)=>{tC.init(e,t),Ie.init(e,t)}),Nk=j("ZodBase64",(e,t)=>{nC.init(e,t),Ie.init(e,t)}),Ck=j("ZodBase64URL",(e,t)=>{rC.init(e,t),Ie.init(e,t)}),Ok=j("ZodE164",(e,t)=>{sC.init(e,t),Ie.init(e,t)}),kk=j("ZodJWT",(e,t)=>{oC.init(e,t),Ie.init(e,t)}),AS=j("ZodNumber",(e,t)=>{pS.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,s)=>wO(e,i,r),e.gt=(i,r)=>e.check(O0(i,r)),e.gte=(i,r)=>e.check(Lf(i,r)),e.min=(i,r)=>e.check(Lf(i,r)),e.lt=(i,r)=>e.check(C0(i,r)),e.lte=(i,r)=>e.check(jf(i,r)),e.max=(i,r)=>e.check(jf(i,r)),e.int=i=>e.check(D0(i)),e.safe=i=>e.check(D0(i)),e.positive=i=>e.check(O0(0,i)),e.nonnegative=i=>e.check(Lf(0,i)),e.negative=i=>e.check(C0(0,i)),e.nonpositive=i=>e.check(jf(0,i)),e.multipleOf=(i,r)=>e.check(k0(i,r)),e.step=(i,r)=>e.check(k0(i,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function lt(e){return iO(AS,e)}const Rk=j("ZodNumberFormat",(e,t)=>{lC.init(e,t),AS.init(e,t)});function D0(e){return rO(Rk,e)}const Dk=j("ZodBoolean",(e,t)=>{uC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>NO(e,n,i)});function zk(e){return sO(Dk,e)}const Ik=j("ZodUnknown",(e,t)=>{cC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>OO()});function ih(){return aO(Ik)}const Mk=j("ZodNever",(e,t)=>{fC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>CO(e,n,i)});function jk(e){return oO(Mk,e)}const Lk=j("ZodArray",(e,t)=>{dC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>zO(e,n,i,r),e.element=t.element,e.min=(n,i)=>e.check(nc(n,i)),e.nonempty=n=>e.check(nc(1,n)),e.max=(n,i)=>e.check(vS(n,i)),e.length=(n,i)=>e.check(bS(n,i)),e.unwrap=()=>e.element});function sa(e,t){return bO(Lk,e,t)}const Uk=j("ZodObject",(e,t)=>{mC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>IO(e,n,i,r),Ae(e,"shape",()=>t.shape),e.keyof=()=>sh(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ih()}),e.loose=()=>e.clone({...e._zod.def,catchall:ih()}),e.strict=()=>e.clone({...e._zod.def,catchall:jk()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>IN(e,n),e.safeExtend=n=>MN(e,n),e.merge=n=>jN(e,n),e.pick=n=>DN(e,n),e.omit=n=>zN(e,n),e.partial=(...n)=>LN(NS,e,n[0]),e.required=(...n)=>UN(CS,e,n[0])});function _n(e,t){const n={type:"object",shape:e??{},...$(t)};return new Uk(n)}const Pk=j("ZodUnion",(e,t)=>{pC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>MO(e,n,i,r),e.options=t.options});function xS(e,t){return new Pk({type:"union",options:e,...$(t)})}const Bk=j("ZodIntersection",(e,t)=>{gC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>jO(e,n,i,r)});function Hk(e,t){return new Bk({type:"intersection",left:e,right:t})}const Vk=j("ZodRecord",(e,t)=>{yC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>LO(e,n,i,r),e.keyType=t.keyType,e.valueType=t.valueType});function wS(e,t,n){return new Vk({type:"record",keyType:e,valueType:t,...$(n)})}const rh=j("ZodEnum",(e,t)=>{vC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,s)=>kO(e,i,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,r)=>{const s={};for(const o of i)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new rh({...t,checks:[],...$(r),entries:s})},e.exclude=(i,r)=>{const s={...t.entries};for(const o of i)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new rh({...t,checks:[],...$(r),entries:s})}});function sh(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new rh({type:"enum",entries:n,...$(t)})}const Zk=j("ZodTransform",(e,t)=>{bC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>DO(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new eS(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Po(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(Po(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function Gk(e){return new Zk({type:"transform",transform:e})}const NS=j("ZodOptional",(e,t)=>{_C.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>qO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function z0(e){return new NS({type:"optional",innerType:e})}const qk=j("ZodNullable",(e,t)=>{SC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>UO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function I0(e){return new qk({type:"nullable",innerType:e})}const $k=j("ZodDefault",(e,t)=>{EC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>BO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Xk(e,t){return new $k({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():rS(t)}})}const Fk=j("ZodPrefault",(e,t)=>{TC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>HO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function Yk(e,t){return new Fk({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():rS(t)}})}const CS=j("ZodNonOptional",(e,t)=>{AC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>PO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function Kk(e,t){return new CS({type:"nonoptional",innerType:e,...$(t)})}const Qk=j("ZodCatch",(e,t)=>{xC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>VO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Jk(e,t){return new Qk({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Wk=j("ZodPipe",(e,t)=>{wC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ZO(e,n,i,r),e.in=t.in,e.out=t.out});function M0(e,t){return new Wk({type:"pipe",in:e,out:t})}const eR=j("ZodReadonly",(e,t)=>{NC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>GO(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function tR(e){return new eR({type:"readonly",innerType:e})}const nR=j("ZodCustom",(e,t)=>{CC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>RO(e,n)});function iR(e,t={}){return _O(nR,e,t)}function rR(e){return SO(e)}on("Validation");const j0=Je().min(1).max(100);Je().regex(/^[a-fA-F0-9]{64}$/);const Rc=Je().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),OS=Je().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);Je().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);_n({challenge:Je().min(10).max(200),expiresAt:lt().int().positive()});_n({kind:lt().int(),created_at:lt().int().nonnegative(),tags:sa(sa(Je())),content:Je()});const sR=_n({npub:Rc,displayName:OS.nullable()}),kS=_n({visitedAt:Je().nullable().optional(),completedAt:Je().nullable().optional(),quizAttempts:sa(_n({xpEarned:lt().int().min(0).optional(),score:lt().min(0).max(100).optional(),timestamp:Je().optional(),difficulty:sh(["easy","medium","hard"]).optional(),correctAnswers:lt().int().min(0).optional(),totalQuestions:lt().int().min(1).optional()})).optional(),visualizationsInteracted:sa(Je().max(100)).optional(),masteryLevel:xS([lt().int().min(0).max(3),sh(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Je().optional(),timeSpentSeconds:lt().int().min(0).optional()});_n({user:_n({totalXP:lt().int().min(0),level:lt().int().min(1).max(10),sectionsCompleted:sa(j0)}),sections:wS(j0,kS),dailyGoals:_n({lastResetDate:Je().nullable(),currentStreak:lt().int().min(0),xpEarned:lt().int().min(0),xpGoal:lt().int().min(0)}),lastUpdated:lt().int().nonnegative()});_n({success:zk(),totalXP:lt().int().min(0)});_n({npub:Rc,displayName:OS.nullable(),xp:lt().int().min(0),lastSync:Je()});_n({timestamp:Je(),action:Je(),targetNpub:Rc.nullable(),performedBy:Je(),details:wS(Je(),ih()).nullable()});function Uf(e){return Rc.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function aR(e){const t=kS.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function oR(e){const t=sR.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const bt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},Yn={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},_o=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],RS=50,rc=on("SyncManager"),lR="magic-internet-math-progress";function L0(){try{const e=localStorage.getItem(lR);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,man_econ_state:0};for(const[r,s]of Object.entries(t.sections)){const[o]=r.split(":");if(!xN(o))continue;const l=o,u=aR(s);if(!u.valid||!u.data){rc.warn(`Invalid section data for ${r}, skipping`);continue}const d=u.data;if(d.quizAttempts)for(const m of d.quizAttempts)m.xpEarned&&(i[l]+=m.xpEarned);d.visitedAt&&(i[l]+=bt.SECTION_VISIT),d.completedAt&&(i[l]+=bt.SECTION_COMPLETE),d.visualizationsInteracted&&(i[l]+=d.visualizationsInteracted.length*bt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return rc.error("Error extracting scores from storage:",e),null}}class uR{constructor(){Ke(this,"syncInterval",null);Ke(this,"debounceTimeout",null);Ke(this,"lastSyncTime",0);Ke(this,"isAuthenticated",!1);Ke(this,"displayName",null);Ke(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},$_),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},X_))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Rn())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<q_)return{success:!1,error:"Rate limited"};try{const n=L0();if(!n)return{success:!1,error:"No scores to sync"};const i=kn(),r=bn(i,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const o=await r(s);return this.lastSyncTime=t,{success:o.data.success,totalXP:o.data.totalXP}}catch(n){return rc.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const r=1e3*Math.pow(2,n);rc.debug(`Sync retry ${n+1}/${t} in ${r}ms`),await new Promise(s=>setTimeout(s,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=L0();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Pf=null;function bs(){return Pf||(Pf=new uR),Pf}const nt=on("NostrAuth"),DS=P.createContext(null),Ga="magic-internet-math-nostr-auth";function cR({children:e}){const[t,n]=P.useState(!1),[i,r]=P.useState(null),[s,o]=P.useState(null),[l,u]=P.useState(null),[d,m]=P.useState(!1),[b,y]=P.useState(null),[x,D]=P.useState(!1),[I,V]=P.useState(!1),[C,T]=P.useState(null);P.useEffect(()=>{(async()=>{const E=await EN(oN);D(E),V(!0)})()},[]);const A=P.useCallback(async v=>{for(const E of F_)try{const w=await W_(E,v);if(w){w.nip05&&u(w.nip05);const N=w.display_name||w.name;if(N){o(N);const _=bs();_.setDisplayName(N),_.requestSync()}return}}catch(w){nt.warn(`Failed to fetch profile from ${E}:`,w)}},[]);P.useEffect(()=>{if(!Rn())return;const v=If(),E=m2(v,async w=>{if(T(w),w){r(w.uid);try{const _=await w.getIdTokenResult(!0);nt.debug("Token claims:",_.claims),m(_.claims.isAdmin===!0)}catch(_){nt.error("Error getting token:",_),m(!1)}try{const _=localStorage.getItem(Ga);if(_){const ne=JSON.parse(_),ce=oR(ne);if(!ce.valid||!ce.data){nt.warn("Invalid auth state in localStorage:",ce.error),localStorage.removeItem(Ga);return}ce.data.npub===w.uid&&o(ce.data.displayName)}}catch(_){nt.debug("Storage read error:",_)}const N=bs();N.setAuthenticated(!0),N.startPeriodicSync();try{const _=J_(w.uid);A(_)}catch(_){nt.debug("Npub conversion error:",_)}}else{r(null),u(null),m(!1),o(null);const N=bs();N.setAuthenticated(!1),N.stopPeriodicSync()}});return()=>E()},[A]);const k=P.useCallback(async()=>{if(nt.debug("connect() called"),nt.debug("isFirebaseConfigured:",Rn()),nt.debug("hasNostrExtension:",Wu()),!Rn()){nt.info("Firebase not configured, cannot connect");return}if(!Wu()){y("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),nt.warn("No extension found, returning");return}n(!0),y(null),nt.info("Starting Nostr connection...");try{const v=window.nostr,E=kn(),w=await v.getPublicKey(),N=bN(w),ne=await bn(E,"createChallenge")({pubkeyHex:w}),{challenge:ce}=ne.data,H={kind:sN,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",ce]],content:ce},X=await v.signEvent(H),fe=await bn(E,"verifyNostrAndCreateToken")({signedEvent:X,challenge:ce}),be=If();await f2(be,fe.data.token);try{const Me={npub:N,displayName:null};localStorage.setItem(Ga,JSON.stringify(Me))}catch(Me){nt.warn("Failed to store auth state:",Me)}bs().syncNow().catch(Me=>{nt.warn("Initial sync failed:",Me)})}catch(v){nt.error("Nostr connect error:",v),y(v instanceof Error?v.message:"Failed to connect. Please try again.")}finally{n(!1)}},[x]),L=P.useCallback(async()=>{try{if(Rn()){const v=If();await p2(v)}try{localStorage.removeItem(Ga)}catch(v){nt.warn("Failed to clear auth state from storage:",v)}r(null),o(null),m(!1)}catch(v){nt.error("Disconnect error:",v),y(v instanceof Error?v.message:"Failed to disconnect")}},[]),Z=P.useCallback(v=>{if(o(v),i)try{localStorage.setItem(Ga,JSON.stringify({npub:i,displayName:v}))}catch(w){nt.warn("Failed to update display name in storage:",w)}const E=bs();E.setDisplayName(v),E.requestSync()},[i]),S=P.useCallback(()=>{y(null)},[]),p=P.useMemo(()=>({isAuthenticated:!!C&&!!i,isConnecting:t,npub:i,displayName:s,nip05:l,isAdmin:d,error:b,hasExtension:x,extensionChecked:I,connect:k,disconnect:L,setDisplayName:Z,clearError:S}),[C,i,t,s,l,d,b,x,I,k,L,Z,S]);return h.jsx(DS.Provider,{value:p,children:e})}const fR={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function il(){const e=P.useContext(DS);return e||fR}const fu=on("ErrorContext");async function dR(e){if(Rn())try{const t=kn();if(!t){fu.debug("Firebase functions not initialized");return}await bn(t,"logClientError")({message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}),fu.debug("Error logged to Firebase:",e.message)}catch(t){fu.debug("Failed to log error to Firebase:",t)}}const zS=P.createContext(null);function hR({children:e,onError:t}){const[n,i]=P.useState([]),r=P.useCallback(l=>{const u={id:crypto.randomUUID(),...l,timestamp:new Date,recoverable:l.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:l.severity??"error"};i(d=>{const m=[...d,u];return t&&t(u),m}),dR(u).catch(()=>{}),fu.error("App error added:",u)},[t]),s=P.useCallback(l=>{i(u=>u.filter(d=>d.id!==l))},[]),o=P.useCallback(()=>{i([])},[]);return h.jsx(zS.Provider,{value:{errors:n,addError:r,dismissError:s,dismissAll:o},children:e})}function mR(){const e=P.useContext(zS);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}const pR=on("ErrorBoundary");class gR extends P.Component{constructor(n){super(n);Ke(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){pR.error("React Error Boundary caught an error:",{error:n.message,stack:n.stack,componentStack:i.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full text-center",children:[h.jsx("div",{className:"text-6xl mb-6",children:h.jsx("span",{role:"img","aria-label":"Warning",children:""})}),h.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),h.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&h.jsxs("details",{className:"mb-6 text-left",children:[h.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),h.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),h.jsxs("div",{className:"flex gap-4 justify-center",children:[h.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}function yR({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=mR();return t.length===0?null:h.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&h.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),h.jsx("div",{className:"space-y-2",children:t.map(r=>h.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:h.jsxs("div",{className:"flex justify-between items-start gap-2",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-red-900 font-medium",children:r.message}),r.details&&h.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.details})]}),h.jsx("button",{onClick:()=>n(r.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},r.id))}),t.some(r=>!r.recoverable)&&h.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[h.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const vR={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function no({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=h.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[h.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${vR[t]}`,role:"status","aria-label":"Loading"}),e&&h.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?h.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}function U0({className:e="",showDisplayName:t=!0}){var y,x;const{isAuthenticated:n,isConnecting:i,npub:r,displayName:s,hasExtension:o,extensionChecked:l,error:u,connect:d,disconnect:m,clearError:b}=il();return l?n?h.jsxs("div",{className:`flex items-center gap-3 ${e}`,children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((y=s==null?void 0:s[0])==null?void 0:y.toUpperCase())||((x=r==null?void 0:r[5])==null?void 0:x.toUpperCase())||"?"}),h.jsxs("div",{className:"flex flex-col",children:[t&&s&&h.jsx("span",{className:"text-sm font-medium text-dark-100",children:s}),h.jsx("span",{className:"text-xs text-dark-400 font-mono",children:r?Ju(r,6):"..."})]})]}),h.jsx("button",{onClick:m,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):h.jsxs("div",{className:`flex flex-col items-center gap-2 ${e}`,children:[h.jsx("button",{onClick:()=>{d()},disabled:i||!o,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${o?i?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!o&&h.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",h.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",h.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),u&&h.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[h.jsx("span",{children:u}),h.jsx("button",{onClick:b,className:"text-dark-400 hover:text-dark-200",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):h.jsxs("div",{className:`flex items-center gap-2 ${e}`,children:[h.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function bR(e){switch(e){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${e}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function _R({entry:e,isCurrentUser:t}){var i,r,s;const n=bR(e.rank);return h.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${t?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[h.jsx("div",{className:`
          w-10 h-10 rounded-lg ${n.bgColor} ${n.borderColor} border
          flex items-center justify-center font-bold ${n.textColor}
          ${e.rank<=3?"text-lg":"text-sm"}
        `,children:n.emoji}),h.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${e.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":e.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":e.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((r=(i=e.displayName)==null?void 0:i[0])==null?void 0:r.toUpperCase())||((s=e.npub[5])==null?void 0:s.toUpperCase())||"?"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`font-medium truncate ${t?"text-primary-300":"text-dark-100"}`,children:e.displayName||Ju(e.npub,8)}),t&&h.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),e.displayName&&h.jsx("span",{className:"text-xs text-dark-500 font-mono",children:Ju(e.npub,6)})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[e.xp.toLocaleString(),h.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),h.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",e.level]})]})]})}function SR(){return h.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>h.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),h.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),h.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),h.jsxs("div",{className:"space-y-2 text-right",children:[h.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),h.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},e))})}function ER(){return h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),h.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function TR({rankings:e,currentUserNpub:t,isLoading:n=!1}){return n?h.jsx(SR,{}):e.length===0?h.jsx(ER,{}):h.jsx("div",{className:"space-y-2",children:e.map(i=>h.jsx(_R,{entry:i,isCurrentUser:t===i.npub},i.npub))})}function AR({rank:e,totalXP:t,level:n,courseXP:i}){var m,b;const{npub:r,displayName:s,nip05:o}=il(),[l,u]=P.useState(!1),d=P.useCallback(()=>{r&&(navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3))},[r]);return r?h.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((m=s==null?void 0:s[0])==null?void 0:m.toUpperCase())||((b=r[5])==null?void 0:b.toUpperCase())||"?"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[s&&h.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:s}),o&&h.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[h.jsx("span",{className:"truncate",children:o}),h.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),h.jsxs("button",{onClick:d,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[r,h.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:l?"":""})]})]}),h.jsx("div",{className:"text-right",children:e!==null?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",e]}),h.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),h.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:t.toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:n}),h.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),i&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[h.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[h.jsx("div",{className:"text-sm font-bold text-blue-400",children:(i.ba||0).toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),h.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[h.jsx("div",{className:"text-sm font-bold text-green-400",children:(i.crypto||0).toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),h.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[h.jsx("div",{className:"text-sm font-bold text-purple-400",children:(i.aa||0).toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),h.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[h.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(i.linalg||0).toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),h.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[h.jsx("div",{className:"text-sm font-bold text-pink-400",children:(i.advlinalg||0).toLocaleString()}),h.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const xR=on("AdminPanel");function wR({className:e=""}){const{isAdmin:t}=il(),[n,i]=P.useState(""),[r,s]=P.useState(""),[o,l]=P.useState(!1),[u,d]=P.useState(null),[m,b]=P.useState([]),[y,x]=P.useState(!1),D=P.useCallback(async()=>{if(!(!Rn()||!t))try{const A=kn(),L=await bn(A,"getAdminLogs")({limit:20});b(L.data.logs)}catch(A){xR.error("Failed to load admin logs:",A)}},[t]);P.useEffect(()=>{y&&D()},[y,D]);const I=async()=>{const A=n.trim();if(!A){d({type:"error",text:"Please enter an npub"});return}const k=Uf(A);if(!k.valid){d({type:"error",text:k.error||"Invalid npub format"});return}l(!0),d(null);try{const L=kn();await bn(L,"banUser")({targetNpub:n.trim(),reason:r.trim()||void 0}),d({type:"success",text:"User banned successfully"}),i(""),s(""),y&&D()}catch(L){d({type:"error",text:L instanceof Error?L.message:"Failed to ban user"})}finally{l(!1)}},V=async()=>{const A=n.trim();if(!A){d({type:"error",text:"Please enter an npub"});return}const k=Uf(A);if(!k.valid){d({type:"error",text:k.error||"Invalid npub format"});return}l(!0),d(null);try{const L=kn();await bn(L,"unbanUser")({targetNpub:n.trim()}),d({type:"success",text:"User unbanned successfully"}),i(""),y&&D()}catch(L){d({type:"error",text:L instanceof Error?L.message:"Failed to unban user"})}finally{l(!1)}},C=async()=>{const A=n.trim();if(!A){d({type:"error",text:"Please enter an npub"});return}const k=Uf(A);if(!k.valid){d({type:"error",text:k.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){l(!0),d(null);try{const L=kn();await bn(L,"resetUserScores")({targetNpub:n.trim(),reason:r.trim()||void 0}),d({type:"success",text:"User scores reset successfully"}),i(""),s(""),y&&D()}catch(L){d({type:"error",text:L instanceof Error?L.message:"Failed to reset scores"})}finally{l(!1)}}},T=A=>new Date(A.seconds*1e3).toLocaleString();return t?h.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${e}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),h.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),h.jsxs("div",{className:"space-y-3 mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),h.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),h.jsx("input",{type:"text",value:r,onChange:A=>s(A.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsx("button",{onClick:I,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),h.jsx("button",{onClick:V,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),h.jsx("button",{onClick:C,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),u&&h.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${u.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:u.text}),h.jsxs("button",{onClick:()=>x(!y),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[y?"Hide":"Show"," Admin Logs",h.jsx("svg",{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),y&&h.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[h.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),m.length===0?h.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):h.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(A=>h.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:`font-medium ${A.action==="ban"?"text-red-400":A.action==="unban"?"text-green-400":"text-orange-400"}`,children:A.action.toUpperCase()}),h.jsx("span",{className:"text-dark-500",children:T(A.timestamp)})]}),h.jsxs("div",{className:"text-dark-400",children:["Target: ",h.jsx("span",{className:"font-mono",children:Ju(A.targetNpub,8)})]}),A.reason&&h.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",A.reason]})]},A.id))})]})]}):null}const NR=on("Leaderboard"),IS="magic-internet-math-leaderboard-cache";function CR(e){try{const t=localStorage.getItem(IS);if(!t)return null;const n=JSON.parse(t);return n.tab!==e||Date.now()-n.timestamp>uN?null:n}catch{return null}}function OR(e,t,n){try{const i={rankings:e,userRank:t,timestamp:Date.now(),tab:n};localStorage.setItem(IS,JSON.stringify(i))}catch{}}function P0(e){if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("unauthenticated")||t.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(t.includes("permission")||t.includes("denied"))return"You don't have permission to access this resource.";if(t.includes("not-found")||t.includes("not found"))return"The requested data was not found.";if(t.includes("network")||t.includes("fetch")||t.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(t.includes("timeout")||t.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const B0=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"mom",label:"Men of Mathematics",shortLabel:"MoM"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function iz({className:e=""}){var w;const{isAuthenticated:t,npub:n,displayName:i,setDisplayName:r,isAdmin:s}=il(),[o,l]=P.useState("overall"),[u,d]=P.useState([]),[m,b]=P.useState(null),[y,x]=P.useState(!0),[D,I]=P.useState(null),[V,C]=P.useState(!1),[T,A]=P.useState(i||""),k=P.useRef(new Map),L=P.useCallback(async()=>{if(!Rn()){I("Firebase not configured"),x(!1);return}x(!0),I(null);try{const N=kn(),ne=await bn(N,"getLeaderboard")({courseId:o,limit:50});d(ne.data.rankings),b(ne.data.userRank),OR(ne.data.rankings,ne.data.userRank,o)}catch(N){NR.error("Failed to load leaderboard:",N);const _=CR(o);_?(d(_.rankings),b(_.userRank),I("Showing cached data. "+P0(N))):I(P0(N))}finally{x(!1)}},[o]);P.useEffect(()=>{L()},[L]),P.useEffect(()=>{(async()=>{const _=u.filter(ce=>!ce.displayName&&!k.current.has(ce.npub)).map(ce=>ce.npub);if(_.length===0)return;const ne=await TN(_);ne.forEach((ce,H)=>{k.current.set(H,ce)}),ne.size>0&&d(ce=>ce.map(H=>{const X=k.current.get(H.npub);return!H.displayName&&X?{...H,displayName:X.display_name||X.name||null}:H}))})()},[u]),P.useEffect(()=>{const N=setInterval(L,lN);return()=>clearInterval(N)},[L]);const S=bs().getLocalScores(),p=S?Object.values(S).reduce((N,_)=>N+(_||0),0):0,v=Math.floor(Math.sqrt(p/100))+1,E=()=>{const N=T.trim().slice(0,30);r(N||null),C(!1)};return h.jsxs("div",{className:`max-w-2xl mx-auto ${e}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),h.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),h.jsx(U0,{showDisplayName:!1})]}),t&&h.jsxs("div",{className:"mb-6",children:[h.jsx(AR,{rank:m,totalXP:p,level:v,courseXP:S||void 0}),h.jsx("div",{className:"mt-3 flex items-center gap-2",children:V?h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"text",value:T,onChange:N=>A(N.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&E(),N.key==="Escape"&&C(!1)}}),h.jsx("button",{onClick:E,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),h.jsx("button",{onClick:()=>C(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):h.jsx("button",{onClick:()=>{A(i||""),C(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:i?"Edit display name":"Set display name"})})]}),!t&&h.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),h.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),h.jsx(U0,{})]}),h.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:B0.map(N=>h.jsxs("button",{onClick:()=>l(N.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${o===N.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[h.jsx("span",{className:"hidden sm:inline",children:N.label}),h.jsx("span",{className:"sm:hidden",children:N.shortLabel})]},N.id))}),D&&h.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[D,h.jsx("button",{onClick:L,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),h.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"font-semibold text-dark-100",children:[(w=B0.find(N=>N.id===o))==null?void 0:w.label," Rankings"]}),h.jsx("button",{onClick:L,disabled:y,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:y?"Loading...":"Refresh"})]}),h.jsx(TR,{rankings:u,currentUserNpub:n,isLoading:y})]}),s&&h.jsx(wR,{className:"mt-6"}),h.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:MS,setPrototypeOf:H0,isFrozen:kR,getPrototypeOf:RR,getOwnPropertyDescriptor:DR}=Object;let{freeze:St,seal:an,create:ah}=Object,{apply:oh,construct:lh}=typeof Reflect<"u"&&Reflect;St||(St=function(t){return t});an||(an=function(t){return t});oh||(oh=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return t.apply(n,r)});lh||(lh=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const Zl=Et(Array.prototype.forEach),zR=Et(Array.prototype.lastIndexOf),V0=Et(Array.prototype.pop),qa=Et(Array.prototype.push),IR=Et(Array.prototype.splice),du=Et(String.prototype.toLowerCase),Bf=Et(String.prototype.toString),Hf=Et(String.prototype.match),$a=Et(String.prototype.replace),MR=Et(String.prototype.indexOf),jR=Et(String.prototype.trim),mn=Et(Object.prototype.hasOwnProperty),gt=Et(RegExp.prototype.test),Xa=LR(TypeError);function Et(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return oh(e,t,i)}}function LR(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return lh(e,n)}}function W(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:du;H0&&H0(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(kR(t)||(t[i]=s),r=s)}e[r]=!0}return e}function UR(e){for(let t=0;t<e.length;t++)mn(e,t)||(e[t]=null);return e}function xn(e){const t=ah(null);for(const[n,i]of MS(e))mn(e,n)&&(Array.isArray(i)?t[n]=UR(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=xn(i):t[n]=i);return t}function Fa(e,t){for(;e!==null;){const i=DR(e,t);if(i){if(i.get)return Et(i.get);if(typeof i.value=="function")return Et(i.value)}e=RR(e)}function n(){return null}return n}const Z0=St(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Vf=St(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Zf=St(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PR=St(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gf=St(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BR=St(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),G0=St(["#text"]),q0=St(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qf=St(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$0=St(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Gl=St(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),HR=an(/\{\{[\w\W]*|[\w\W]*\}\}/gm),VR=an(/<%[\w\W]*|[\w\W]*%>/gm),ZR=an(/\$\{[\w\W]*/gm),GR=an(/^data-[\-\w.\u00B7-\uFFFF]+$/),qR=an(/^aria-[\-\w]+$/),jS=an(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$R=an(/^(?:\w+script|data):/i),XR=an(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LS=an(/^html$/i),FR=an(/^[a-z][.\w]*(-[.\w]+)+$/i);var X0=Object.freeze({__proto__:null,ARIA_ATTR:qR,ATTR_WHITESPACE:XR,CUSTOM_ELEMENT:FR,DATA_ATTR:GR,DOCTYPE_NAME:LS,ERB_EXPR:VR,IS_ALLOWED_URI:jS,IS_SCRIPT_OR_DATA:$R,MUSTACHE_EXPR:HR,TMPLIT_EXPR:ZR});const Ya={element:1,text:3,progressingInstruction:7,comment:8,document:9},YR=function(){return typeof window>"u"?null:window},KR=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},F0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function US(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YR();const t=q=>US(q);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Ya.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:u,NodeFilter:d,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:b,DOMParser:y,trustedTypes:x}=e,D=u.prototype,I=Fa(D,"cloneNode"),V=Fa(D,"remove"),C=Fa(D,"nextSibling"),T=Fa(D,"childNodes"),A=Fa(D,"parentNode");if(typeof o=="function"){const q=n.createElement("template");q.content&&q.content.ownerDocument&&(n=q.content.ownerDocument)}let k,L="";const{implementation:Z,createNodeIterator:S,createDocumentFragment:p,getElementsByTagName:v}=n,{importNode:E}=i;let w=F0();t.isSupported=typeof MS=="function"&&typeof A=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:_,TMPLIT_EXPR:ne,DATA_ATTR:ce,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:fe}=X0;let{IS_ALLOWED_URI:be}=X0,_e=null;const Me=W({},[...Z0,...Vf,...Zf,...Gf,...G0]);let J=null;const qt=W({},[...q0,...qf,...$0,...Gl]);let ae=Object.seal(ah(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vr=null,bi=null;const _i=Object.seal(ah(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let sl=!0,Si=!0,br=!1,as=!0,Tn=!1,Ei=!0,un=!1,os=!1,ga=!1,Ti=!1,_r=!1,Ai=!1,ya=!0,al=!1;const va="user-content-";let Sr=!0,xi=!1,Re={},Se=null;const wi=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ba=null;const _a=W({},["audio","video","img","source","image","track"]);let Sa=null;const Ni=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Er="http://www.w3.org/1998/Math/MathML",Tr="http://www.w3.org/2000/svg",Dt="http://www.w3.org/1999/xhtml";let Ci=Dt,Ea=!1,Ar=null;const ol=W({},[Er,Tr,Dt],Bf);let ls=W({},["mi","mo","mn","ms","mtext"]),An=W({},["annotation-xml"]);const Ta=W({},["title","style","font","a","script"]);let Pn=null;const Oi=["application/xhtml+xml","text/html"],ll="text/html";let De=null,Bn=null;const xr=n.createElement("form"),Aa=function(O){return O instanceof RegExp||O instanceof Function},Fe=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Bn&&Bn===O)){if((!O||typeof O!="object")&&(O={}),O=xn(O),Pn=Oi.indexOf(O.PARSER_MEDIA_TYPE)===-1?ll:O.PARSER_MEDIA_TYPE,De=Pn==="application/xhtml+xml"?Bf:du,_e=mn(O,"ALLOWED_TAGS")?W({},O.ALLOWED_TAGS,De):Me,J=mn(O,"ALLOWED_ATTR")?W({},O.ALLOWED_ATTR,De):qt,Ar=mn(O,"ALLOWED_NAMESPACES")?W({},O.ALLOWED_NAMESPACES,Bf):ol,Sa=mn(O,"ADD_URI_SAFE_ATTR")?W(xn(Ni),O.ADD_URI_SAFE_ATTR,De):Ni,ba=mn(O,"ADD_DATA_URI_TAGS")?W(xn(_a),O.ADD_DATA_URI_TAGS,De):_a,Se=mn(O,"FORBID_CONTENTS")?W({},O.FORBID_CONTENTS,De):wi,vr=mn(O,"FORBID_TAGS")?W({},O.FORBID_TAGS,De):xn({}),bi=mn(O,"FORBID_ATTR")?W({},O.FORBID_ATTR,De):xn({}),Re=mn(O,"USE_PROFILES")?O.USE_PROFILES:!1,sl=O.ALLOW_ARIA_ATTR!==!1,Si=O.ALLOW_DATA_ATTR!==!1,br=O.ALLOW_UNKNOWN_PROTOCOLS||!1,as=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Tn=O.SAFE_FOR_TEMPLATES||!1,Ei=O.SAFE_FOR_XML!==!1,un=O.WHOLE_DOCUMENT||!1,Ti=O.RETURN_DOM||!1,_r=O.RETURN_DOM_FRAGMENT||!1,Ai=O.RETURN_TRUSTED_TYPE||!1,ga=O.FORCE_BODY||!1,ya=O.SANITIZE_DOM!==!1,al=O.SANITIZE_NAMED_PROPS||!1,Sr=O.KEEP_CONTENT!==!1,xi=O.IN_PLACE||!1,be=O.ALLOWED_URI_REGEXP||jS,Ci=O.NAMESPACE||Dt,ls=O.MATHML_TEXT_INTEGRATION_POINTS||ls,An=O.HTML_INTEGRATION_POINTS||An,ae=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&Aa(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&Aa(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Tn&&(Si=!1),_r&&(Ti=!0),Re&&(_e=W({},G0),J=[],Re.html===!0&&(W(_e,Z0),W(J,q0)),Re.svg===!0&&(W(_e,Vf),W(J,qf),W(J,Gl)),Re.svgFilters===!0&&(W(_e,Zf),W(J,qf),W(J,Gl)),Re.mathMl===!0&&(W(_e,Gf),W(J,$0),W(J,Gl))),O.ADD_TAGS&&(typeof O.ADD_TAGS=="function"?_i.tagCheck=O.ADD_TAGS:(_e===Me&&(_e=xn(_e)),W(_e,O.ADD_TAGS,De))),O.ADD_ATTR&&(typeof O.ADD_ATTR=="function"?_i.attributeCheck=O.ADD_ATTR:(J===qt&&(J=xn(J)),W(J,O.ADD_ATTR,De))),O.ADD_URI_SAFE_ATTR&&W(Sa,O.ADD_URI_SAFE_ATTR,De),O.FORBID_CONTENTS&&(Se===wi&&(Se=xn(Se)),W(Se,O.FORBID_CONTENTS,De)),O.ADD_FORBID_CONTENTS&&(Se===wi&&(Se=xn(Se)),W(Se,O.ADD_FORBID_CONTENTS,De)),Sr&&(_e["#text"]=!0),un&&W(_e,["html","head","body"]),_e.table&&(W(_e,["tbody"]),delete vr.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw Xa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Xa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=O.TRUSTED_TYPES_POLICY,L=k.createHTML("")}else k===void 0&&(k=KR(x,r)),k!==null&&typeof L=="string"&&(L=k.createHTML(""));St&&St(O),Bn=O}},xa=W({},[...Vf,...Zf,...PR]),ki=W({},[...Gf,...BR]),wr=function(O){let U=A(O);(!U||!U.tagName)&&(U={namespaceURI:Ci,tagName:"template"});const G=du(O.tagName),Ee=du(U.tagName);return Ar[O.namespaceURI]?O.namespaceURI===Tr?U.namespaceURI===Dt?G==="svg":U.namespaceURI===Er?G==="svg"&&(Ee==="annotation-xml"||ls[Ee]):!!xa[G]:O.namespaceURI===Er?U.namespaceURI===Dt?G==="math":U.namespaceURI===Tr?G==="math"&&An[Ee]:!!ki[G]:O.namespaceURI===Dt?U.namespaceURI===Tr&&!An[Ee]||U.namespaceURI===Er&&!ls[Ee]?!1:!ki[G]&&(Ta[G]||!xa[G]):!!(Pn==="application/xhtml+xml"&&Ar[O.namespaceURI]):!1},$t=function(O){qa(t.removed,{element:O});try{A(O).removeChild(O)}catch{V(O)}},Hn=function(O,U){try{qa(t.removed,{attribute:U.getAttributeNode(O),from:U})}catch{qa(t.removed,{attribute:null,from:U})}if(U.removeAttribute(O),O==="is")if(Ti||_r)try{$t(U)}catch{}else try{U.setAttribute(O,"")}catch{}},Vn=function(O){let U=null,G=null;if(ga)O="<remove></remove>"+O;else{const ze=Hf(O,/^[\r\n\t ]+/);G=ze&&ze[0]}Pn==="application/xhtml+xml"&&Ci===Dt&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const Ee=k?k.createHTML(O):O;if(Ci===Dt)try{U=new y().parseFromString(Ee,Pn)}catch{}if(!U||!U.documentElement){U=Z.createDocument(Ci,"template",null);try{U.documentElement.innerHTML=Ea?L:Ee}catch{}}const Pe=U.body||U.documentElement;return O&&G&&Pe.insertBefore(n.createTextNode(G),Pe.childNodes[0]||null),Ci===Dt?v.call(U,un?"html":"body")[0]:un?U.documentElement:Pe},ul=function(O){return S.call(O.ownerDocument||O,O,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},wa=function(O){return O instanceof b&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof m)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},us=function(O){return typeof l=="function"&&O instanceof l};function cn(q,O,U){Zl(q,G=>{G.call(t,O,U,Bn)})}const cs=function(O){let U=null;if(cn(w.beforeSanitizeElements,O,null),wa(O))return $t(O),!0;const G=De(O.nodeName);if(cn(w.uponSanitizeElement,O,{tagName:G,allowedTags:_e}),Ei&&O.hasChildNodes()&&!us(O.firstElementChild)&&gt(/<[/\w!]/g,O.innerHTML)&&gt(/<[/\w!]/g,O.textContent)||O.nodeType===Ya.progressingInstruction||Ei&&O.nodeType===Ya.comment&&gt(/<[/\w]/g,O.data))return $t(O),!0;if(!(_i.tagCheck instanceof Function&&_i.tagCheck(G))&&(!_e[G]||vr[G])){if(!vr[G]&&fn(G)&&(ae.tagNameCheck instanceof RegExp&&gt(ae.tagNameCheck,G)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(G)))return!1;if(Sr&&!Se[G]){const Ee=A(O)||O.parentNode,Pe=T(O)||O.childNodes;if(Pe&&Ee){const ze=Pe.length;for(let tt=ze-1;tt>=0;--tt){const pt=I(Pe[tt],!0);pt.__removalCount=(O.__removalCount||0)+1,Ee.insertBefore(pt,C(O))}}}return $t(O),!0}return O instanceof u&&!wr(O)||(G==="noscript"||G==="noembed"||G==="noframes")&&gt(/<\/no(script|embed|frames)/i,O.innerHTML)?($t(O),!0):(Tn&&O.nodeType===Ya.text&&(U=O.textContent,Zl([N,_,ne],Ee=>{U=$a(U,Ee," ")}),O.textContent!==U&&(qa(t.removed,{element:O.cloneNode()}),O.textContent=U)),cn(w.afterSanitizeElements,O,null),!1)},Nr=function(O,U,G){if(ya&&(U==="id"||U==="name")&&(G in n||G in xr))return!1;if(!(Si&&!bi[U]&&gt(ce,U))){if(!(sl&&gt(H,U))){if(!(_i.attributeCheck instanceof Function&&_i.attributeCheck(U,O))){if(!J[U]||bi[U]){if(!(fn(O)&&(ae.tagNameCheck instanceof RegExp&&gt(ae.tagNameCheck,O)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(O))&&(ae.attributeNameCheck instanceof RegExp&&gt(ae.attributeNameCheck,U)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(U,O))||U==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&gt(ae.tagNameCheck,G)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(G))))return!1}else if(!Sa[U]){if(!gt(be,$a(G,F,""))){if(!((U==="src"||U==="xlink:href"||U==="href")&&O!=="script"&&MR(G,"data:")===0&&ba[O])){if(!(br&&!gt(X,$a(G,F,"")))){if(G)return!1}}}}}}}return!0},fn=function(O){return O!=="annotation-xml"&&Hf(O,fe)},Na=function(O){cn(w.beforeSanitizeAttributes,O,null);const{attributes:U}=O;if(!U||wa(O))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let Ee=U.length;for(;Ee--;){const Pe=U[Ee],{name:ze,namespaceURI:tt,value:pt}=Pe,Tt=De(ze),Cr=pt;let Ye=ze==="value"?Cr:jR(Cr);if(G.attrName=Tt,G.attrValue=Ye,G.keepAttr=!0,G.forceKeepAttr=void 0,cn(w.uponSanitizeAttribute,O,G),Ye=G.attrValue,al&&(Tt==="id"||Tt==="name")&&(Hn(ze,O),Ye=va+Ye),Ei&&gt(/((--!?|])>)|<\/(style|title|textarea)/i,Ye)){Hn(ze,O);continue}if(Tt==="attributename"&&Hf(Ye,"href")){Hn(ze,O);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){Hn(ze,O);continue}if(!as&&gt(/\/>/i,Ye)){Hn(ze,O);continue}Tn&&Zl([N,_,ne],Oa=>{Ye=$a(Ye,Oa," ")});const Ca=De(O.nodeName);if(!Nr(Ca,Tt,Ye)){Hn(ze,O);continue}if(k&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!tt)switch(x.getAttributeType(Ca,Tt)){case"TrustedHTML":{Ye=k.createHTML(Ye);break}case"TrustedScriptURL":{Ye=k.createScriptURL(Ye);break}}if(Ye!==Cr)try{tt?O.setAttributeNS(tt,ze,Ye):O.setAttribute(ze,Ye),wa(O)?$t(O):V0(t.removed)}catch{Hn(ze,O)}}cn(w.afterSanitizeAttributes,O,null)},cl=function q(O){let U=null;const G=ul(O);for(cn(w.beforeSanitizeShadowDOM,O,null);U=G.nextNode();)cn(w.uponSanitizeShadowNode,U,null),cs(U),Na(U),U.content instanceof s&&q(U.content);cn(w.afterSanitizeShadowDOM,O,null)};return t.sanitize=function(q){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=null,G=null,Ee=null,Pe=null;if(Ea=!q,Ea&&(q="<!-->"),typeof q!="string"&&!us(q))if(typeof q.toString=="function"){if(q=q.toString(),typeof q!="string")throw Xa("dirty is not a string, aborting")}else throw Xa("toString is not a function");if(!t.isSupported)return q;if(os||Fe(O),t.removed=[],typeof q=="string"&&(xi=!1),xi){if(q.nodeName){const pt=De(q.nodeName);if(!_e[pt]||vr[pt])throw Xa("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof l)U=Vn("<!---->"),G=U.ownerDocument.importNode(q,!0),G.nodeType===Ya.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?U=G:U.appendChild(G);else{if(!Ti&&!Tn&&!un&&q.indexOf("<")===-1)return k&&Ai?k.createHTML(q):q;if(U=Vn(q),!U)return Ti?null:Ai?L:""}U&&ga&&$t(U.firstChild);const ze=ul(xi?q:U);for(;Ee=ze.nextNode();)cs(Ee),Na(Ee),Ee.content instanceof s&&cl(Ee.content);if(xi)return q;if(Ti){if(_r)for(Pe=p.call(U.ownerDocument);U.firstChild;)Pe.appendChild(U.firstChild);else Pe=U;return(J.shadowroot||J.shadowrootmode)&&(Pe=E.call(i,Pe,!0)),Pe}let tt=un?U.outerHTML:U.innerHTML;return un&&_e["!doctype"]&&U.ownerDocument&&U.ownerDocument.doctype&&U.ownerDocument.doctype.name&&gt(LS,U.ownerDocument.doctype.name)&&(tt="<!DOCTYPE "+U.ownerDocument.doctype.name+`>
`+tt),Tn&&Zl([N,_,ne],pt=>{tt=$a(tt,pt," ")}),k&&Ai?k.createHTML(tt):tt},t.setConfig=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fe(q),os=!0},t.clearConfig=function(){Bn=null,os=!1},t.isValidAttribute=function(q,O,U){Bn||Fe({});const G=De(q),Ee=De(O);return Nr(G,Ee,U)},t.addHook=function(q,O){typeof O=="function"&&qa(w[q],O)},t.removeHook=function(q,O){if(O!==void 0){const U=zR(w[q],O);return U===-1?void 0:IR(w[q],U,1)[0]}return V0(w[q])},t.removeHooks=function(q){w[q]=[]},t.removeAllHooks=function(){w=F0()},t}var rz=US();const tn=on("Storage"),uh="magic-internet-math-progress",$f=2;function PS(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function BS(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function Qr(){if(!PS())return tn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(uh);if(!e)return null;const t=JSON.parse(e);return BS(t)?(t.version!==$f&&(tn.info(`Migrating state from v${t.version} to v${$f}`),t.version=$f),t):(tn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){tn.error("Failed to load gamification state:",e);try{localStorage.removeItem(uh),tn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Dc(e){if(!PS()){tn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(uh,JSON.stringify(e))}catch(t){tn.error("Failed to save gamification state:",t)}}const QR=1;function JR(){const e=Qr();if(!e){tn.warn("No progress data to export");return}const t={version:QR,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),tn.info("Progress exported successfully")}function WR(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!BS(t.state))}async function eD(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var r;try{const s=(r=i.target)==null?void 0:r.result;if(typeof s!="string"){t({success:!1,message:"Failed to read file"});return}const o=JSON.parse(s);if(!WR(o)){t({success:!1,message:"Invalid backup file format"});return}const l=Qr(),u=(l==null?void 0:l.user.totalXP)??0,d=o.state.user.totalXP;if(u>d){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${d} XP). Import cancelled.`});return}Dc(o.state),tn.info(`Progress imported: ${d} XP from backup dated ${o.exportedAt}`),t({success:!0,message:`Successfully restored ${d} XP!`,xpImported:d})}catch(s){tn.error("Failed to parse backup file:",s),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function tD(){const e=Qr();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function nD(){const e=Qr();e&&(e.migratedToServer=!0,Dc(e),tn.info("Marked progress as migrated to server"))}function iD(){const e=Qr();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function HS(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:rD(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:RS,completed:!1},lastUpdated:e}}function rD(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const sD=50;function Y0(e){return Math.round(e/sD*100)}const aD=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Y0(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Y0(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function oD(e){const t=[];for(const n of aD){const i=e.achievements.find(s=>s.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function rl(e){for(let t=_o.length-1;t>=0;t--)if(e>=_o[t])return t+1;return 1}function lD(e,t){if(t>=_o.length)return 100;const n=_o[t-1],i=_o[t],r=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,r))}function uD(e,t){const n={easy:bt.QUIZ_EASY,medium:bt.QUIZ_MEDIUM,hard:bt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const cD=1e3*60*60*24;function fD(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:RS,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const r=new Date(i),s=Math.floor((t.getTime()-r.getTime())/cD);if(s===0)return e;if(s===1){const o=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:o,longestStreak:Math.max(o,e.streak.longestStreak),lastActivityDate:n}}}return s===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function VS(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,o)=>s+o.score,0)/t.length;return t.filter(s=>s.score===100).length>=2||i>=90&&t.length>=3?"mastered":n>=80||i>=70&&t.length>=2?"familiar":"learning"}function dD(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Cm=on("GamificationReducer");function hD(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const r=e.user.totalXP+bt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:r,level:rl(r)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+bt.SECTION_VISIT},lastUpdated:n}}function mD(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return Cm.warn(`Attempted to complete unvisited section: ${t}`),e;const r=e.user.totalXP+bt.SECTION_COMPLETE,s=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:r,level:rl(r),sectionsCompleted:s},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:VS(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+bt.SECTION_COMPLETE},lastUpdated:n}}function pD(e,t,n){const{sectionId:i,difficulty:r,score:s,correctAnswers:o,totalQuestions:l}=t,u=e.sections[i];if(!u)return Cm.warn(`Section ${i} was not visited before quiz`),e;const d=uD(r,s),m=o===l,b=m?Math.round(d*(1+bt.QUIZ_PERFECT_BONUS)):d,y=e.user.totalXP+b,x={timestamp:n,difficulty:r,score:s,correctAnswers:o,totalQuestions:l,xpEarned:b},D=[...u.quizAttempts,x],I={...u,quizAttempts:D},V=VS(I),C=s>=80&&!u.completedAt,T=C&&!e.user.sectionsCompleted.includes(i),A=T?bt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:y+A,level:rl(y+A),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:m?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:T?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...I,masteryLevel:V,completedAt:C?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+b+A},lastUpdated:n}}function gD(e,t,n,i){const r=e.sections[t];if(r!=null&&r.visualizationsInteracted.includes(n))return e;if(!r)return Cm.warn(`Section ${t} was not visited before visualization`),e;const s=e.user.totalXP+bt.VISUALIZATION_USE,o=[...r.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:s,level:rl(s),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...r,visualizationsInteracted:o}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+bt.VISUALIZATION_USE},lastUpdated:i}}function yD(e,t,n){let i=Yn.GAME_PARTICIPATION;const r=Yn.TIER_MULTIPLIER[t.tier],s=Math.floor(Math.max(0,t.score)/Yn.POINTS_PER_XP_UNIT*bt.QUIZ_MEDIUM*r);if(i+=s,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=Yn.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=Yn.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=Yn.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=Yn.FIRST_PLACE_BONUS;break;case 2:i+=Yn.SECOND_PLACE_BONUS;break;case 3:i+=Yn.THIRD_PLACE_BONUS;break}const o=e.user.totalXP+i,l=e.racingStats,u=t.score>((l==null?void 0:l.highScore)??0),d=t.isMultiplayer&&t.placement===1,m={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(d?1:0),lastPlayedAt:n},b=e.achievements.map(y=>{if(y.unlockedAt)return y;switch(y.id){case"racing-rookie":if(m.gamesPlayed>=1)return{...y,progress:1,unlockedAt:n};break;case"speed-demon":return m.fastAnswers>=50?{...y,progress:50,unlockedAt:n}:{...y,progress:Math.min(m.fastAnswers,50)};case"streak-legend":return m.longestStreak>=20?{...y,progress:20,unlockedAt:n}:{...y,progress:Math.min(m.longestStreak,20)};case"tier-climber":return m.highestTierUnlocked>=6?{...y,progress:6,unlockedAt:n}:{...y,progress:m.highestTierUnlocked};case"modular-master":return m.totalPoints>=1e4?{...y,progress:1e4,unlockedAt:n}:{...y,progress:Math.min(m.totalPoints,1e4)};case"multiplayer-champion":return m.multiplayerWins>=5?{...y,progress:5,unlockedAt:n}:{...y,progress:Math.min(m.multiplayerWins,5)}}return y});return{...e,user:{...e.user,totalXP:o,level:rl(o)},racingStats:m,achievements:b,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function vD(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return hD(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return mD(e,t.payload.sectionId,n);case"RECORD_QUIZ":return pD(e,t.payload,n);case"USE_VISUALIZATION":return gD(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return fD(e);case"RESET_PROGRESS":return HS();case"RECORD_RACE_GAME":return yD(e,t.payload,n);default:return e}}const bD=["none","learning","familiar","mastered"];function K0(e){return bD.indexOf(e)}function _D(e,t){return K0(e)>=K0(t)?e:t}function ch(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function SD(e,t){const n=new Set,i=[];for(const r of[...e,...t]){const s=`${r.timestamp}-${r.difficulty}-${r.score}`;n.has(s)||(n.add(s),i.push(r))}return i.sort((r,s)=>new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime())}function ED(e,t){return e?t?{sectionId:e.sectionId,visitedAt:ch(e.visitedAt,t.visitedAt),completedAt:ch(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:SD(e.quizAttempts,t.quizAttempts),masteryLevel:_D(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function TD(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const r of n){const s=ED(e[r],t[r]);s&&(i[r]=s)}return i}function AD(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:ch(e.joinedAt,t.joinedAt)||e.joinedAt}}function xD(e,t){const n=new Map;for(const i of[...t,...e]){const r=n.get(i.id);r?(i.unlockedAt&&!r.unlockedAt||!i.unlockedAt&&!r.unlockedAt&&i.progress>r.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function wD(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function ND(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function CD(e,t){return{version:Math.max(e.version,t.version),user:AD(e.user,t.user),sections:TD(e.sections,t.sections),achievements:xD(e.achievements,t.achievements),streak:wD(e.streak,t.streak),dailyGoals:ND(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const Kn=on("ProgressSync");class OD{constructor(){Ke(this,"syncInterval",null);Ke(this,"debounceTimeout",null);Ke(this,"lastSyncTime",0);Ke(this,"lastSyncedAt",null);Ke(this,"isAuthenticated",!1);Ke(this,"pendingState",null);Ke(this,"_status","idle");Ke(this,"statusListeners",new Set);Ke(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)})}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Rn())return Kn.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=kn(),i=await bn(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,Kn.info("Fetched progress from server")),i.data}catch(t){return Kn.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};Kn.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(Kn.info("Server has existing progress, merging with local"),i=CD(t,n.progress)):i=t;const r=await this.syncNow(i);return r.success?(Kn.info("Migration complete"),{success:!0,state:r.state||i,merged:n.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},$_),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},X_))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Rn())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<q_)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=kn(),s=await bn(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(Kn.info("Server merged states due to conflict"),Dc(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return Kn.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const r=await this.syncNow(t);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(i<n-1){const s=1e3*Math.pow(2,i);Kn.debug(`Sync retry ${i+1}/${n} in ${s}ms`),await new Promise(o=>setTimeout(o,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let Xf=null;function Q0(){return Xf||(Xf=new OD),Xf}const Ii=on("GamificationProgress"),kD=500,RD=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},ql=(e,t)=>{RD()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},ZS=P.createContext(null);function DD({children:e,courseId:t}){const[n,i]=P.useReducer(vD,HS()),[r,s]=P.useState(!0),[o,l]=P.useState([]),[u,d]=P.useState("idle"),m=P.useRef(null),b=P.useRef(!1),y=P.useRef(!1),{isAuthenticated:x,npub:D}=il(),I=P.useCallback(p=>`${t}:${p}`,[t]);P.useEffect(()=>{const p=Qr();p&&i({type:"LOAD_STATE",payload:p}),x||queueMicrotask(()=>s(!1))},[]),P.useEffect(()=>{const p=Q0(),v=p.onStatusChange(d),E=y.current;return y.current=x,x&&!E?(Ii.info("User authenticated, fetching progress from server"),p.setAuthenticated(!0),(async()=>{s(!0);try{const N=iD(),_=Qr();if(N&&_){Ii.info("Migrating local progress to server");const ne=await p.migrateLocalProgress(_);ne.success&&ne.state?(i({type:"MERGE_WITH_SERVER",payload:ne.state}),nD(),Ii.info("Migration complete")):Ii.warn("Migration failed, using local state")}else{const ne=await p.fetchServerProgress();ne.found&&ne.progress?(Ii.info("Loaded progress from server"),i({type:"LOAD_FROM_SERVER",payload:ne.progress}),p.setLastSyncedAt(ne.lastSyncedAt)):Ii.info("No server progress found, using local state")}}catch(N){Ii.error("Failed to sync with server:",N)}finally{queueMicrotask(()=>s(!1)),b.current=!0}})(),p.startPeriodicSync()):!x&&E?(Ii.info("User logged out"),p.setAuthenticated(!1),p.stopPeriodicSync(),b.current=!1):x||queueMicrotask(()=>s(!1)),()=>{v()}},[x,D]),P.useEffect(()=>{r||(Dc(n),x&&b.current&&Q0().requestSync(n))},[n,r,x]),P.useEffect(()=>{r||i({type:"UPDATE_STREAK"})},[r]),P.useEffect(()=>{if(!r)return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{const p=oD(n);p.length>0&&l(v=>[...v,...p])},kD),()=>{m.current&&clearTimeout(m.current)}},[n,r]);const V=P.useCallback(p=>{i({type:"VISIT_SECTION",payload:{sectionId:I(p)}})},[I]),C=P.useCallback(p=>{i({type:"COMPLETE_SECTION",payload:{sectionId:I(p)}}),ql("sectionCompleted",{sectionId:I(p),courseId:t})},[I,t]),T=P.useCallback((p,v,E,w,N)=>{const _=I(p);i({type:"RECORD_QUIZ",payload:{sectionId:_,difficulty:v,score:E,correctAnswers:w,totalQuestions:N}}),ql("quizCompleted",{sectionId:_,courseId:t,score:E,correctAnswers:w,totalQuestions:N}),E>=80&&ql("sectionCompleted",{sectionId:_,courseId:t})},[I,t]),A=P.useCallback((p,v)=>{i({type:"USE_VISUALIZATION",payload:{sectionId:I(p),name:v}})},[I]),k=P.useCallback(p=>{l(v=>v.filter(E=>E.id!==p))},[]),L=P.useCallback(()=>{i({type:"RESET_PROGRESS"})},[]),Z=P.useCallback(p=>{i({type:"RECORD_RACE_GAME",payload:p}),ql("raceGameCompleted",{courseId:t,score:p.score,tier:p.tier,correctAnswers:p.correctAnswers,totalQuestions:p.totalQuestions,isMultiplayer:p.isMultiplayer})},[t]),S=P.useMemo(()=>({state:n,isLoading:r,notifications:o,syncStatus:u,visitSection:V,completeSection:C,recordQuiz:T,useVisualization:A,dismissNotification:k,resetProgress:L,recordRaceGame:Z,dispatch:i}),[n,r,o,u,V,C,T,A,k,L,Z,i]);return h.jsx(ZS.Provider,{value:S,children:e})}function zc(){const e=P.useContext(ZS);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const zD=Mo;function sz(e){return`${zD}:${e}`}function ID({children:e}){return h.jsx(DD,{courseId:Mo,children:e})}function GS({xp:e,level:t,compact:n=!1}){const i=lD(e,t);return n?h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),h.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-bold text-white",children:t})}),h.jsxs("div",{className:"flex-1 min-w-[80px]",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[h.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),h.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),h.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:h.jsx(hu.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function qS({streak:e}){return e===0?null:h.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[h.jsx("span",{className:"text-orange-400",children:""}),h.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function MD({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:r}=dD(e);return h.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[h.jsx("span",{className:"text-sm",children:r}),t&&h.jsx("span",{className:"text-xs",children:n})]})}const jD={progress:"",mastery:"",dedication:"",exploration:""};function LD({notification:e,onDismiss:t}){return P.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),h.jsx(hu.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:h.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:jD[e.category]||""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),h.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),h.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),h.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),h.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function UD(){const{notifications:e,dismissNotification:t}=zc();return h.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:h.jsx(Ff,{mode:"popLayout",children:e.map(n=>h.jsx(LD,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function PD({onImportSuccess:e}){const[t,n]=P.useState(!1),[i,r]=P.useState(null),[s,o]=P.useState(!1),l=P.useRef(null),u=tD(),d=()=>{JR(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},m=()=>{var y;(y=l.current)==null||y.click()},b=async y=>{var I;const x=(I=y.target.files)==null?void 0:I[0];if(!x)return;o(!0),r(null);const D=await eD(x);o(!1),r({type:D.success?"success":"error",text:D.message}),D.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:h.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[h.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&h.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[h.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),h.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[h.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),h.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),h.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:d,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),h.jsxs("button",{onClick:m,disabled:s,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),s?"Importing...":"Import Backup"]}),h.jsx("input",{ref:l,type:"file",accept:".json",onChange:b,className:"hidden"})]}),i&&h.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),h.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function BD({onToggleSidebar:e,sidebarOpen:t}){const i=zc();return h.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:h.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:h.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),h.jsxs(gs,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[h.jsx("span",{className:"text-2xl",children:Gb}),h.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:Zb})]})]}),h.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[h.jsx("a",{href:FT,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),h.jsx(gs,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),h.jsx(gs,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),h.jsx(gs,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),h.jsx(gs,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[i&&h.jsxs(h.Fragment,{children:[h.jsx(qS,{streak:i.state.streak.currentStreak}),h.jsx(GS,{xp:i.state.user.totalXP,level:i.state.user.level})]}),h.jsx(PD,{})]})]})})}const ss=[{id:1,title:"Chapter 1: Combinatorial Analysis",slug:"combinatorial-analysis",sections:[{id:1,title:"1.1 Introduction",slug:"introduction",description:"Introduction to combinatorial analysis and counting."},{id:2,title:"1.2 The Basic Principle of Counting",slug:"basic-counting",description:"The fundamental counting principle for sequential events."},{id:3,title:"1.3 Permutations",slug:"permutations",description:"Ordered arrangements of objects."},{id:4,title:"1.4 Combinations",slug:"combinations",description:"Unordered selections of objects and binomial coefficients."},{id:5,title:"1.5 Multinomial Coefficients",slug:"multinomial-coefficients",description:"Generalizing combinations to multiple groups."},{id:6,title:"1.6 The Number of Integer Solutions of Equations",slug:"integer-solutions",description:"Counting solutions using stars and bars."}]},{id:2,title:"Chapter 2: Axioms of Probability",slug:"axioms-of-probability",sections:[{id:7,title:"2.1 Introduction",slug:"probability-intro",description:"Introduction to probability theory."},{id:8,title:"2.2 Sample Space and Events",slug:"sample-space-events",description:"Defining experiments, outcomes, and events."},{id:9,title:"2.3 Axioms of Probability",slug:"probability-axioms",description:"The three fundamental axioms of probability."},{id:10,title:"2.4 Some Simple Propositions",slug:"simple-propositions",description:"Basic properties derived from the axioms."},{id:11,title:"2.5 Sample Spaces Having Equally Likely Outcomes",slug:"equally-likely",description:"Classical probability with uniform sample spaces."},{id:12,title:"2.6 Probability as a Continuous Set Function",slug:"continuous-set-function",description:"Continuity properties of probability measures."},{id:13,title:"2.7 Probability as a Measure of Belief",slug:"measure-of-belief",description:"Subjective interpretation of probability."}]},{id:3,title:"Chapter 3: Conditional Probability and Independence",slug:"conditional-probability",sections:[{id:14,title:"3.1 Introduction",slug:"conditional-intro",description:"Introduction to conditional probability."},{id:15,title:"3.2 Conditional Probabilities",slug:"conditional-probabilities",description:"Definition and computation of conditional probability."},{id:16,title:"3.3 Bayes's Formula",slug:"bayes-formula",description:"Bayes' theorem and its applications."},{id:17,title:"3.4 Independent Events",slug:"independent-events",description:"Definition and properties of independent events."},{id:18,title:"3.5 P(|F) Is a Probability",slug:"conditional-is-probability",description:"Conditional probability as a probability measure."}]},{id:4,title:"Chapter 4: Random Variables",slug:"random-variables",sections:[{id:19,title:"4.1 Random Variables",slug:"random-variables-def",description:"Definition and types of random variables."},{id:20,title:"4.2 Discrete Random Variables",slug:"discrete-random-variables",description:"Probability mass functions and discrete distributions."},{id:21,title:"4.3 Expected Value",slug:"expected-value",description:"Definition and properties of expectation."},{id:22,title:"4.4 Expectation of a Function of a Random Variable",slug:"expectation-function",description:"Computing expectations of transformed variables."},{id:23,title:"4.5 Variance",slug:"variance",description:"Measuring spread with variance and standard deviation."},{id:24,title:"4.6 The Bernoulli and Binomial Random Variables",slug:"bernoulli-binomial",description:"Bernoulli trials and binomial distribution."},{id:25,title:"4.7 The Poisson Random Variable",slug:"poisson",description:"Poisson distribution and its applications."},{id:26,title:"4.8 Other Discrete Probability Distributions",slug:"other-discrete",description:"Geometric, negative binomial, and hypergeometric distributions."},{id:27,title:"4.9 Expected Value of Sums of Random Variables",slug:"expected-value-sums",description:"Linearity of expectation."},{id:28,title:"4.10 Properties of the Cumulative Distribution Function",slug:"cdf-properties",description:"Properties and uses of the CDF."}]},{id:5,title:"Chapter 5: Continuous Random Variables",slug:"continuous-random-variables",sections:[{id:29,title:"5.1 Introduction",slug:"continuous-intro",description:"Introduction to continuous random variables."},{id:30,title:"5.2 Expectation and Variance of Continuous Random Variables",slug:"continuous-expectation",description:"Computing expectations with integrals."},{id:31,title:"5.3 The Uniform Random Variable",slug:"uniform",description:"The uniform distribution on an interval."},{id:32,title:"5.4 Normal Random Variables",slug:"normal",description:"The Gaussian distribution and its properties."},{id:33,title:"5.5 Exponential Random Variables",slug:"exponential",description:"Exponential distribution and memoryless property."},{id:34,title:"5.6 Other Continuous Distributions",slug:"other-continuous",description:"Gamma, Weibull, Cauchy, Beta, and other distributions."},{id:35,title:"5.7 The Distribution of a Function of a Random Variable",slug:"function-of-rv",description:"Transformations of random variables."}]},{id:6,title:"Chapter 6: Jointly Distributed Random Variables",slug:"jointly-distributed",sections:[{id:36,title:"6.1 Joint Distribution Functions",slug:"joint-distribution",description:"Joint CDFs and PDFs for multiple variables."},{id:37,title:"6.2 Independent Random Variables",slug:"independent-rvs",description:"Independence of random variables."},{id:38,title:"6.3 Sums of Independent Random Variables",slug:"sums-independent",description:"Convolutions and distributions of sums."},{id:39,title:"6.4 Conditional Distributions: Discrete Case",slug:"conditional-discrete",description:"Conditional PMFs."},{id:40,title:"6.5 Conditional Distributions: Continuous Case",slug:"conditional-continuous",description:"Conditional PDFs."},{id:41,title:"6.6 Order Statistics",slug:"order-statistics",description:"Distributions of order statistics."},{id:42,title:"6.7 Joint Probability Distribution of Functions of Random Variables",slug:"joint-functions",description:"Jacobian transformations."},{id:43,title:"6.8 Exchangeable Random Variables",slug:"exchangeable",description:"Exchangeability and de Finetti's theorem."}]},{id:7,title:"Chapter 7: Properties of Expectation",slug:"properties-of-expectation",sections:[{id:44,title:"7.1 Introduction",slug:"expectation-intro",description:"Overview of expectation properties."},{id:45,title:"7.2 Expectation of Sums of Random Variables",slug:"expectation-sums",description:"Expectations of sums for dependent variables."},{id:46,title:"7.3 Moments of the Number of Events that Occur",slug:"moments-events",description:"Indicator random variables."},{id:47,title:"7.4 Covariance, Variance of Sums, and Correlations",slug:"covariance-correlation",description:"Covariance and correlation coefficients."},{id:48,title:"7.5 Conditional Expectation",slug:"conditional-expectation",description:"Conditional expectations and their properties."},{id:49,title:"7.6 Conditional Expectation and Prediction",slug:"prediction",description:"Best predictors and regression."},{id:50,title:"7.7 Moment Generating Functions",slug:"mgf",description:"MGFs and their applications."},{id:51,title:"7.8 Additional Properties of Normal Random Variables",slug:"normal-properties",description:"Multivariate normal distribution."},{id:52,title:"7.9 General Definition of Expectation",slug:"general-expectation",description:"Expectation via Lebesgue integration."}]},{id:8,title:"Chapter 8: Limit Theorems",slug:"limit-theorems",sections:[{id:53,title:"8.1 Introduction",slug:"limits-intro",description:"Overview of limit theorems in probability."},{id:54,title:"8.2 Chebyshev's Inequality and the Weak Law of Large Numbers",slug:"weak-law",description:"Chebyshev's inequality and WLLN."},{id:55,title:"8.3 The Central Limit Theorem",slug:"clt",description:"The central limit theorem and applications."},{id:56,title:"8.4 The Strong Law of Large Numbers",slug:"strong-law",description:"Almost sure convergence and SLLN."},{id:57,title:"8.5 Other Inequalities",slug:"other-inequalities",description:"Chernoff bounds and related inequalities."},{id:58,title:"8.6 Bounding the Error Probability",slug:"error-bounds",description:"Poisson approximation error bounds."}]},{id:9,title:"Chapter 9: Additional Topics in Probability",slug:"additional-topics",sections:[{id:59,title:"9.1 The Poisson Process",slug:"poisson-process",description:"Definition and properties of Poisson processes."},{id:60,title:"9.2 Markov Chains",slug:"markov-chains",description:"Discrete-time Markov chains."},{id:61,title:"9.3 Surprise, Uncertainty, and Entropy",slug:"entropy",description:"Information theory and entropy."},{id:62,title:"9.4 Coding Theory and Entropy",slug:"coding-theory",description:"Shannon's coding theorems."}]},{id:10,title:"Chapter 10: Simulation",slug:"simulation",sections:[{id:63,title:"10.1 Introduction",slug:"simulation-intro",description:"Introduction to Monte Carlo simulation."},{id:64,title:"10.2 General Techniques for Simulating Continuous Random Variables",slug:"simulating-continuous",description:"Inverse transform and rejection methods."},{id:65,title:"10.3 Simulating from Discrete Distributions",slug:"simulating-discrete",description:"Simulating discrete random variables."},{id:66,title:"10.4 Variance Reduction Techniques",slug:"variance-reduction",description:"Antithetic variables and control variates."}]}];function az(e){for(const t of ss){const n=t.sections.find(i=>i.id===e);if(n)return n}}function oz(e){return ss.find(t=>t.sections.some(n=>n.id===e))}function lz(e){const t=ss.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function HD(){return ss.reduce((e,t)=>e+t.sections.length,0)}function VD(){return ss.flatMap(e=>e.sections)}function uz(e){return VD().findIndex(n=>n.id===e)}function ZD({isOpen:e,onClose:t}){const[n,i]=P.useState(new Set([1])),s=zc(),o=u=>{i(d=>{const m=new Set(d);return m.has(u)?m.delete(u):m.add(u),m})},l=u=>{var m;if(!s)return"none";const d=`${Mo}:${u}`;return((m=s.state.sections[d])==null?void 0:m.masteryLevel)??"none"};return h.jsxs(h.Fragment,{children:[h.jsx(Ff,{children:e&&h.jsx(hu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),h.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:h.jsxs("nav",{className:"p-4",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[h.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),h.jsxs("ul",{className:"space-y-0.5",children:[h.jsx("li",{children:h.jsxs(Hc,{to:"/theorems",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[h.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),h.jsx("li",{children:h.jsxs(Hc,{to:"/interactive",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[h.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),h.jsx("div",{className:"space-y-2",children:ss.map(u=>h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>o(u.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-bold text-primary-400",children:u.id})}),h.jsx("span",{className:"text-sm font-medium text-dark-200",children:u.title})]}),h.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(u.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h.jsx(Ff,{children:n.has(u.id)&&h.jsx(hu.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:u.sections.map(d=>h.jsx("li",{children:h.jsxs(Hc,{to:`/section/${d.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:m})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[h.jsx("span",{className:"truncate",children:d.title}),h.jsx(MD,{level:l(d.id)})]})},d.id))})})]},u.id))})]})})]})}function J0(){const t=zc(),n=HD(),i=t?t.state.user.sectionsCompleted.filter(s=>s.startsWith(Mo)).length:0,r=Math.round(i/n*100);return h.jsx("div",{className:"py-8 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("span",{className:"text-6xl mb-4 block",children:Gb}),h.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:Zb}),h.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:XT})]}),t&&h.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),h.jsx(qS,{streak:t.state.streak.currentStreak})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx("div",{children:h.jsx(GS,{xp:t.state.user.totalXP,level:t.state.user.level})}),h.jsxs("div",{className:"flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-dark-400",children:"Course Progress"}),h.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),h.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),h.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),h.jsxs("div",{className:"flex flex-col justify-center items-end",children:[h.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),h.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),h.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),h.jsx("div",{className:"space-y-4",children:ss.map(s=>h.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold text-primary-400",children:s.id})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s.title}),h.jsxs("p",{className:"text-sm text-dark-400",children:[s.sections.length," sections"]})]})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.sections.map(o=>{const l=`${Mo}:${o.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return h.jsxs(gs,{to:`/section/${o.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[h.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?h.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):h.jsx("span",{className:"text-xs",children:o.id})}),h.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:o.title})]},o.id)})})]},s.id))})]})})}const GD=P.lazy(()=>zt(()=>import("./Leaderboard-Cnjp4GJm.js"),__vite__mapDeps([0,1,2,3]))),qD=P.lazy(()=>zt(()=>import("./Theorems-KwEu3G7Y.js"),__vite__mapDeps([4,1,2,3,5]))),$D=P.lazy(()=>zt(()=>import("./InteractiveModules-y0p38lOL.js"),__vite__mapDeps([6,1,2,3]))),XD=P.lazy(()=>zt(()=>import("./SectionQuizPage-coCR7Bp7.js"),__vite__mapDeps([7,1,2,3,8]))),FD={1:()=>zt(()=>import("./Section01-BosFXcER.js"),__vite__mapDeps([9,1,2,10,8,3])),2:()=>zt(()=>import("./Section02-CSkAled8.js"),__vite__mapDeps([11,1,2,10,8,5,3])),3:()=>zt(()=>import("./Section03-GW_Co8y-.js"),__vite__mapDeps([12,1,2,10,8,5,3])),4:()=>zt(()=>import("./Section04-RUt0O2OF.js"),__vite__mapDeps([13,1,2,10,8,5,3])),5:()=>zt(()=>import("./Section05-DD3fTyir.js"),__vite__mapDeps([14,1,2,10,8,5,3])),6:()=>zt(()=>import("./Section06-CwtyPauO.js"),__vite__mapDeps([15,1,2,10,8,5,3])),7:()=>zt(()=>import("./Section07-Dj9uU-bh.js"),__vite__mapDeps([16,1,2,10,8,3])),8:()=>zt(()=>import("./Section08-DHR-GUVH.js"),__vite__mapDeps([17,1,2,10,8,5,3])),9:()=>zt(()=>import("./Section09-D57kPN68.js"),__vite__mapDeps([18,1,2,10,8,5,3]))},$S={};for(const[e,t]of Object.entries(FD))$S[Number(e)]=P.lazy(t);function YD(){const{id:e}=pE(),t=parseInt(e||"0",10),n=$S[t];return n?h.jsx(P.Suspense,{fallback:h.jsx(no,{message:"Loading section..."}),children:h.jsx(n,{})}):h.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),h.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function KD({children:e}){const[t,n]=P.useState(!1);return h.jsxs("div",{className:"min-h-screen bg-dark-950",children:[h.jsx(BD,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),h.jsx(ZD,{isOpen:t,onClose:()=>n(!1)}),h.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function QD(){return h.jsxs(h.Fragment,{children:[h.jsx(KD,{children:h.jsxs(mE,{children:[h.jsx(Rr,{path:"/",element:h.jsx(J0,{})}),h.jsx(Rr,{path:"/leaderboard",element:h.jsx(P.Suspense,{fallback:h.jsx(no,{message:"Loading leaderboard..."}),children:h.jsx(GD,{})})}),h.jsx(Rr,{path:"/theorems",element:h.jsx(P.Suspense,{fallback:h.jsx(no,{message:"Loading theorems..."}),children:h.jsx(qD,{})})}),h.jsx(Rr,{path:"/interactive",element:h.jsx(P.Suspense,{fallback:h.jsx(no,{message:"Loading modules..."}),children:h.jsx($D,{})})}),h.jsx(Rr,{path:"/section/:id",element:h.jsx(YD,{})}),h.jsx(Rr,{path:"/quiz/section/:id",element:h.jsx(P.Suspense,{fallback:h.jsx(no,{message:"Loading quiz..."}),children:h.jsx(XD,{})})}),h.jsx(Rr,{path:"*",element:h.jsx(J0,{})})]})}),h.jsx(UD,{})]})}function JD(){return h.jsx(gR,{children:h.jsxs(hR,{children:[h.jsx(hE,{children:h.jsx(cR,{children:h.jsx(ID,{children:h.jsx(QD,{})})})}),h.jsx(yR,{})]})})}GT.createRoot(document.getElementById("root")).render(h.jsx(P.StrictMode,{children:h.jsx(JD,{})}));export{Zb as C,BD as H,iz as L,ZD as S,bt as X,oz as a,lz as b,uD as c,HD as d,uz as e,az as g,sz as m,rz as p,zc as u};
