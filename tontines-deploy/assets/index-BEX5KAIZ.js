const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-BlgEWhjb.js","./vendor-animation-CmxkKU9r.js","./vendor-react-DamxDR2H.js","./vendor-math-p018AHG0.js","./Theorems-up-Ix0eH.js","./Sidebar-gecoKP60.js","./MathBlock-fCav0pL3.js","./InteractiveModules-0ORUdXfK.js","./SectionQuizPage-ChaJMmoM.js","./quizMap-DVBi0JFt.js","./TranscriptsIndex-CAZxOGcx.js","./transcripts-BfD-Hp1e.js","./BrookingsGateway-BdeBt5oi.js","./TranscriptLayout-OdJoqPVd.js","./ContentBlocks-DZ6IdIC2.js","./Callout-CP2-VZ-C.js","./ChenOptimalTontine-BftXdTrd.js","./DonnellyPooling-DQuuKIiO.js","./FormanTontinePensions-CqDJrawj.js","./FullmerTontineDesign-LIC4U0_L.js","./McclellandTontineTrust-C0tJ6wsw.js","./MilevskyAnnuityMan-B2ull7HX.js","./MilevskyTontineHistory-oBvqusTo.js","./Section00-awriYaG6.js","./LessonLayout-ybNAPjcf.js","./Section01-ObRVquye.js","./Section02-D-Nkyc6y.js","./Section03-BcL4CxsH.js","./Section04-CbS7WeSc.js","./Section05-CxdTfdkT.js","./Section06-DvBLSqQW.js","./Section07-BLpIE0qa.js","./Section08-BrEggm50.js","./Section09-DR37vE1f.js","./Section10-DagdfIRv.js","./Section11-Bsc7CkPV.js","./Section12-C5mQ5vfF.js","./Section13-DN-k6z8y.js","./Section14-YQE8yWK3.js","./Section15-C7NIg9JD.js","./Section16-H8lv2uYo.js","./Section17-CEpzP3O9.js","./Section18-CPw3pU2Y.js","./Section19-Dy-dwQAB.js","./Section20-CgLJY6lO.js","./Section21-npuSZDdc.js","./Section22-lTmMIPju.js","./Section23-NFlgBDZu.js","./Section24-BXqstpJN.js","./Section25-Crotjqs0.js","./Section26-CaW1V4Wg.js","./Section27-BtUKYKaR.js","./Section28-CXLaqnGn.js","./Section29-BAb3b3sr.js","./Section30-CT0efPJ-.js","./Section31-BNpmWD5g.js","./Section32-9k9nzBLO.js","./Section33-CiwzUmUb.js","./Section34-DIyDtyZi.js","./Section35-Gr93fRyl.js","./Section36-D_ShRFJJ.js","./Section37-PuhaYpEK.js","./Section38-BOeT8Dwj.js","./Section39-D1Oy4h8q.js","./Section40-BdOOsTFk.js","./Section41-D65hJg4a.js","./Section42-DHhD-VvQ.js","./Section43-BwfhkF5A.js","./Section44-BP43-wr8.js"])))=>i.map(i=>d[i]);
import{j as E,m as WC}from"./vendor-animation-CmxkKU9r.js";import{r as k,a as e2,L as t2,H as n2,R as i2,b as yi,u as Gb}from"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var $b={exports:{}},qf={},Zb={exports:{}},qb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var q=H.length;H.push(G);e:for(;0<q;){var te=q-1>>>1,ce=H[te];if(0<s(ce,G))H[te]=G,H[q]=ce,q=te;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],q=H.pop();if(q!==G){H[0]=q;e:for(var te=0,ce=H.length,ye=ce>>>1;te<ye;){var At=2*(te+1)-1,Me=H[At],xt=At+1,ge=H[xt];if(0>s(Me,q))xt<ce&&0>s(ge,Me)?(H[te]=ge,H[xt]=q,te=xt):(H[te]=Me,H[At]=q,te=At);else if(xt<ce&&0>s(ge,q))H[te]=ge,H[xt]=q,te=xt;else break e}}return G}function s(H,G){var q=H.sortIndex-G.sortIndex;return q!==0?q:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],f=1,d=null,m=3,g=!1,C=!1,N=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function R(H){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=H)i(c),G.sortIndex=G.expirationTime,t(u,G);else break;G=n(c)}}function z(H){if(N=!1,R(H),!C)if(n(u)!==null)C=!0,V||(V=!0,M());else{var G=n(c);G!==null&&oe(z,G.startTime-H)}}var V=!1,T=-1,y=5,S=-1;function A(){return I?!0:!(e.unstable_now()-S<y)}function x(){if(I=!1,V){var H=e.unstable_now();S=H;var G=!0;try{e:{C=!1,N&&(N=!1,v(T),T=-1),g=!0;var q=m;try{t:{for(R(H),d=n(u);d!==null&&!(d.expirationTime>H&&A());){var te=d.callback;if(typeof te=="function"){d.callback=null,m=d.priorityLevel;var ce=te(d.expirationTime<=H);if(H=e.unstable_now(),typeof ce=="function"){d.callback=ce,R(H),G=!0;break t}d===n(u)&&i(u),R(H)}else i(u);d=n(u)}if(d!==null)G=!0;else{var ye=n(c);ye!==null&&oe(z,ye.startTime-H),G=!1}}break e}finally{d=null,m=q,g=!1}G=void 0}}finally{G?M():V=!1}}}var M;if(typeof w=="function")M=function(){w(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,re=O.port2;O.port1.onmessage=x,M=function(){re.postMessage(null)}}else M=function(){b(x,0)};function oe(H,G){T=b(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return H()}finally{m=q}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=m;m=H;try{return G()}finally{m=q}},e.unstable_scheduleCallback=function(H,G,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,H={id:f++,callback:G,priorityLevel:H,startTime:q,expirationTime:ce,sortIndex:-1},q>te?(H.sortIndex=q,t(c,H),n(u)===null&&H===n(c)&&(N?(v(T),T=-1):N=!0,oe(z,q-te))):(H.sortIndex=ce,t(u,H),C||g||(C=!0,V||(V=!0,M()))),H},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(H){var G=m;return function(){var q=m;m=G;try{return H.apply(this,arguments)}finally{m=q}}}})(qb);Zb.exports=qb;var s2=Zb.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=s2,Xb=k,r2=e2;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Yb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jb(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bv(e){if(nu(e)!==e)throw Error(j(188))}function a2(e){var t=e.alternate;if(!t){if(t=nu(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return bv(s),e;if(r===i)return bv(s),t;r=r.sibling}throw Error(j(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Qb(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Qb(e),t!==null)return t;e=e.sibling}return null}var De=Object.assign,o2=Symbol.for("react.element"),Fu=Symbol.for("react.transitional.element"),el=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),eT=Symbol.for("react.consumer"),Oi=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),um=Symbol.for("react.activity"),l2=Symbol.for("react.memo_cache_sentinel"),Tv=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Tv&&e[Tv]||e["@@iterator"],typeof e=="function"?e:null)}var u2=Symbol.for("react.client.reference");function cm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===u2?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case aa:return"Fragment";case am:return"Profiler";case Wb:return"StrictMode";case om:return"Suspense";case lm:return"SuspenseList";case um:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case el:return"Portal";case Oi:return e.displayName||"Context";case eT:return(e._context.displayName||"Context")+".Consumer";case Xp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yp:return t=e.displayName||null,t!==null?t:cm(e.type)||"Memo";case rs:t=e._payload,e=e._init;try{return cm(e(t))}catch{}}return null}var tl=Array.isArray,J=Xb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=r2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tr={pending:!1,data:null,method:null,action:null},fm=[],oa=-1;function li(e){return{current:e}}function dt(e){0>oa||(e.current=fm[oa],fm[oa]=null,oa--)}function xe(e,t){oa++,fm[oa]=e.current,e.current=t}var ni=li(null),Dl=li(null),Ts=li(null),$c=li(null);function Zc(e,t){switch(xe(Ts,t),xe(Dl,e),xe(ni,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?O0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=O0(t),e=S1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dt(ni),xe(ni,e)}function Ua(){dt(ni),dt(Dl),dt(Ts)}function hm(e){e.memoizedState!==null&&xe($c,e);var t=ni.current,n=S1(t,e.type);t!==n&&(xe(Dl,e),xe(ni,n))}function qc(e){Dl.current===e&&(dt(ni),dt(Dl)),$c.current===e&&(dt($c),Hl._currentValue=Tr)}var Uh,Ev;function fr(e){if(Uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uh=t&&t[1]||"",Ev=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+e+Ev}var jh=!1;function Vh(e,t){if(!e||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=s);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?fr(n):""}function c2(e,t){switch(e.tag){case 26:case 27:case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return e.child!==t&&t!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Vh(e.type,!1);case 11:return Vh(e.type.render,!1);case 1:return Vh(e.type,!0);case 31:return fr("Activity");default:return""}}function Av(e){try{var t="",n=null;do t+=c2(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var dm=Object.prototype.hasOwnProperty,Kp=lt.unstable_scheduleCallback,Bh=lt.unstable_cancelCallback,f2=lt.unstable_shouldYield,h2=lt.unstable_requestPaint,tn=lt.unstable_now,d2=lt.unstable_getCurrentPriorityLevel,tT=lt.unstable_ImmediatePriority,nT=lt.unstable_UserBlockingPriority,Xc=lt.unstable_NormalPriority,m2=lt.unstable_LowPriority,iT=lt.unstable_IdlePriority,p2=lt.log,g2=lt.unstable_setDisableYieldValue,iu=null,nn=null;function ps(e){if(typeof p2=="function"&&g2(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(iu,e)}catch{}}var sn=Math.clz32?Math.clz32:_2,y2=Math.log,v2=Math.LN2;function _2(e){return e>>>=0,e===0?32:31-(y2(e)/v2|0)|0}var Gu=256,$u=262144,Zu=4194304;function hr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=hr(i):(a&=o,a!==0?s=hr(a):n||(n=o&~e,n!==0&&(s=hr(n))))):(o=i&~r,o!==0?s=hr(o):a!==0?s=hr(a):n||(n=i&~e,n!==0&&(s=hr(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function su(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function S2(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sT(){var e=Zu;return Zu<<=1,!(Zu&62914560)&&(Zu=4194304),e}function Hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ru(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function b2(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-sn(n),d=1<<f;o[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&rT(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function rT(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-sn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function aT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-sn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function oT(e,t){var n=t&-t;return n=n&42?1:Jp(n),n&(e.suspendedLanes|t)?0:n}function Jp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lT(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:D1(e.type))}function wv(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var Gs=Math.random().toString(36).slice(2),St="__reactFiber$"+Gs,Ht="__reactProps$"+Gs,no="__reactContainer$"+Gs,mm="__reactEvents$"+Gs,T2="__reactListeners$"+Gs,E2="__reactHandles$"+Gs,xv="__reactResources$"+Gs,au="__reactMarker$"+Gs;function Wp(e){delete e[St],delete e[Ht],delete e[mm],delete e[T2],delete e[E2]}function la(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[no]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k0(e);e!==null;){if(n=e[St])return n;e=k0(e)}return t}e=n,n=e.parentNode}return null}function io(e){if(e=e[St]||e[no]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function nl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function wa(e){var t=e[xv];return t||(t=e[xv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[au]=!0}var uT=new Set,cT={};function Vr(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(cT[e]=t,e=0;e<t.length;e++)uT.add(t[e])}var A2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cv={},Ov={};function w2(e){return dm.call(Ov,e)?!0:dm.call(Cv,e)?!1:A2.test(e)?Ov[e]=!0:(Cv[e]=!0,!1)}function _c(e,t,n){if(w2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function qu(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function vi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x2(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pm(e){if(!e._valueTracker){var t=fT(e)?"checked":"value";e._valueTracker=x2(e,t,""+e[t])}}function hT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=fT(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var C2=/[\n"\\]/g;function pn(e){return e.replace(C2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ym(e,a,hn(t)):n!=null?ym(e,a,hn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+hn(o):e.removeAttribute("name")}function dT(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){pm(e);return}n=n!=null?""+hn(n):"",t=t!=null?""+hn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),pm(e)}function ym(e,t,n){t==="number"&&Yc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xa(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mT(e,t,n){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+hn(n):""}function pT(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(j(92));if(tl(i)){if(1<i.length)throw Error(j(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=hn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),pm(e)}function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var O2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rv(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||O2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gT(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Rv(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Rv(e,r,t[r])}function eg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),N2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sc(e){return N2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ri(){}var vm=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Ca=null;function Nv(e){var t=io(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(gm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Ht]||null;if(!s)throw Error(j(90));gm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&hT(i)}break e;case"textarea":mT(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xa(e,!!n.multiple,t,!1)}}}var Fh=!1;function yT(e,t,n){if(Fh)return e(t,n);Fh=!0;try{var i=e(t);return i}finally{if(Fh=!1,(ua!==null||Ca!==null)&&(ah(),ua&&(t=ua,e=Ca,Ca=ua=null,Nv(t),e)))for(t=0;t<e.length;t++)Nv(e[t])}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ht]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=!1;if(Pi)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){_m=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{_m=!1}var gs=null,ng=null,bc=null;function vT(){if(bc)return bc;var e,t=ng,n=t.length,i,s="value"in gs?gs.value:gs.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return bc=s.slice(e,1<i?1-i:void 0)}function Tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xu(){return!0}function Dv(){return!1}function Ft(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Xu:Dv,this.isPropagationStopped=Dv,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=Ft(Br),ou=De({},Br,{view:0,detail:0}),D2=Ft(ou),Gh,$h,Vo,Kf=De({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(Gh=e.screenX-Vo.screenX,$h=e.screenY-Vo.screenY):$h=Gh=0,Vo=e),Gh)},movementY:function(e){return"movementY"in e?e.movementY:$h}}),Mv=Ft(Kf),M2=De({},Kf,{dataTransfer:0}),k2=Ft(M2),I2=De({},ou,{relatedTarget:0}),Zh=Ft(I2),L2=De({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),z2=Ft(L2),P2=De({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U2=Ft(P2),j2=De({},Br,{data:0}),kv=Ft(j2),V2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H2[e])?!!t[e]:!1}function ig(){return F2}var G2=De({},ou,{key:function(e){if(e.key){var t=V2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(e){return e.type==="keypress"?Tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$2=Ft(G2),Z2=De({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=Ft(Z2),q2=De({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),X2=Ft(q2),Y2=De({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=Ft(Y2),J2=De({},Kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q2=Ft(J2),W2=De({},Br,{newState:0,oldState:0}),eO=Ft(W2),tO=[9,13,27,32],sg=Pi&&"CompositionEvent"in window,ll=null;Pi&&"documentMode"in document&&(ll=document.documentMode);var nO=Pi&&"TextEvent"in window&&!ll,_T=Pi&&(!sg||ll&&8<ll&&11>=ll),Lv=" ",zv=!1;function ST(e,t){switch(e){case"keyup":return tO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function iO(e,t){switch(e){case"compositionend":return bT(t);case"keypress":return t.which!==32?null:(zv=!0,Lv);case"textInput":return e=t.data,e===Lv&&zv?null:e;default:return null}}function sO(e,t){if(ca)return e==="compositionend"||!sg&&ST(e,t)?(e=vT(),bc=ng=gs=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _T&&t.locale!=="ko"?null:t.data;default:return null}}var rO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rO[e.type]:t==="textarea"}function TT(e,t,n,i){ua?Ca?Ca.push(i):Ca=[i]:ua=i,t=mf(t,"onChange"),0<t.length&&(n=new Yf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ul=null,kl=null;function aO(e){y1(e,0)}function Jf(e){var t=nl(e);if(hT(t))return e}function Uv(e,t){if(e==="change")return t}var ET=!1;if(Pi){var qh;if(Pi){var Xh="oninput"in document;if(!Xh){var jv=document.createElement("div");jv.setAttribute("oninput","return;"),Xh=typeof jv.oninput=="function"}qh=Xh}else qh=!1;ET=qh&&(!document.documentMode||9<document.documentMode)}function Vv(){ul&&(ul.detachEvent("onpropertychange",AT),kl=ul=null)}function AT(e){if(e.propertyName==="value"&&Jf(kl)){var t=[];TT(t,kl,e,tg(e)),yT(aO,t)}}function oO(e,t,n){e==="focusin"?(Vv(),ul=t,kl=n,ul.attachEvent("onpropertychange",AT)):e==="focusout"&&Vv()}function lO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jf(kl)}function uO(e,t){if(e==="click")return Jf(t)}function cO(e,t){if(e==="input"||e==="change")return Jf(t)}function fO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:fO;function Il(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!dm.call(t,s)||!an(e[s],t[s]))return!1}return!0}function Bv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hv(e,t){var n=Bv(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function wT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yc(e.document)}return t}function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hO=Pi&&"documentMode"in document&&11>=document.documentMode,fa=null,Sm=null,cl=null,bm=!1;function Fv(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||fa==null||fa!==Yc(i)||(i=fa,"selectionStart"in i&&rg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cl&&Il(cl,i)||(cl=i,i=mf(Sm,"onSelect"),0<i.length&&(t=new Yf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fa)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ha={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},Yh={},CT={};Pi&&(CT=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Hr(e){if(Yh[e])return Yh[e];if(!ha[e])return e;var t=ha[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in CT)return Yh[e]=t[n];return e}var OT=Hr("animationend"),RT=Hr("animationiteration"),NT=Hr("animationstart"),dO=Hr("transitionrun"),mO=Hr("transitionstart"),pO=Hr("transitioncancel"),DT=Hr("transitionend"),MT=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function Bn(e,t){MT.set(e,t),Vr(t,[e])}var Kc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],da=0,ag=0;function Qf(){for(var e=da,t=ag=da=0;t<e;){var n=fn[t];fn[t++]=null;var i=fn[t];fn[t++]=null;var s=fn[t];fn[t++]=null;var r=fn[t];if(fn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&kT(n,s,r)}}function Wf(e,t,n,i){fn[da++]=e,fn[da++]=t,fn[da++]=n,fn[da++]=i,ag|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function og(e,t,n,i){return Wf(e,t,n,i),Jc(e)}function Fr(e,t){return Wf(e,null,null,t),Jc(e)}function kT(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-sn(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Jc(e){if(50<_l)throw _l=0,Fm=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ma={};function gO(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,i){return new gO(e,t,n,i)}function lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function IT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ec(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")lg(e)&&(a=1);else if(typeof e=="string")a=bR(e,n,ni.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case um:return e=Wt(31,n,t,s),e.elementType=um,e.lanes=r,e;case aa:return Er(n.children,s,r,t);case Wb:a=8,s|=24;break;case am:return e=Wt(12,n,t,s|2),e.elementType=am,e.lanes=r,e;case om:return e=Wt(13,n,t,s),e.elementType=om,e.lanes=r,e;case lm:return e=Wt(19,n,t,s),e.elementType=lm,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oi:a=10;break e;case eT:a=9;break e;case Xp:a=11;break e;case Yp:a=14;break e;case rs:a=16,i=null;break e}a=29,n=Error(j(130,e===null?"null":typeof e,"")),i=null}return t=Wt(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Er(e,t,n,i){return e=Wt(7,e,i,t),e.lanes=n,e}function Kh(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function LT(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function Jh(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gv=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var n=Gv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Av(t)},Gv.set(e,t),t)}return{value:e,source:t,stack:Av(t)}}var pa=[],ga=0,Qc=null,Ll=0,dn=[],mn=0,Is=null,Qn=1,Wn="";function wi(e,t){pa[ga++]=Ll,pa[ga++]=Qc,Qc=e,Ll=t}function zT(e,t,n){dn[mn++]=Qn,dn[mn++]=Wn,dn[mn++]=Is,Is=e;var i=Qn;e=Wn;var s=32-sn(i)-1;i&=~(1<<s),n+=1;var r=32-sn(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Qn=1<<32-sn(t)+s|n<<s|i,Wn=r+e}else Qn=1<<r|n<<s|i,Wn=e}function ug(e){e.return!==null&&(wi(e,1),zT(e,1,0))}function cg(e){for(;e===Qc;)Qc=pa[--ga],pa[ga]=null,Ll=pa[--ga],pa[ga]=null;for(;e===Is;)Is=dn[--mn],dn[mn]=null,Wn=dn[--mn],dn[mn]=null,Qn=dn[--mn],dn[mn]=null}function PT(e,t){dn[mn++]=Qn,dn[mn++]=Wn,dn[mn++]=Is,Qn=t.id,Wn=t.overflow,Is=e}var bt=null,Re=null,le=!1,Es=null,yn=!1,Em=Error(j(519));function Ls(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(gn(t,e)),Em}function $v(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[St]=e,t[Ht]=i,n){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(n=0;n<Vl.length;n++)ie(Vl[n],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),dT(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),pT(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_1(t.textContent,n)?(i.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),i.onScroll!=null&&ie("scroll",t),i.onScrollEnd!=null&&ie("scrollend",t),i.onClick!=null&&(t.onclick=Ri),t=!0):t=!1,t||Ls(e,!0)}function Zv(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:bt=bt.return}}function ea(e){if(e!==bt)return!1;if(!le)return Zv(e),le=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xm(e.type,e.memoizedProps)),n=!n),n&&Re&&Ls(e),Zv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Re=M0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Re=M0(e)}else t===27?(t=Re,$s(e.type)?(e=Qm,Qm=null,Re=e):Re=t):Re=bt?Tn(e.stateNode.nextSibling):null;return!0}function Nr(){Re=bt=null,le=!1}function Qh(){var e=Es;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Es=null),e}function zl(e){Es===null?Es=[e]:Es.push(e)}var Am=li(null),Gr=null,Ni=null;function os(e,t,n){xe(Am,t._currentValue),t._currentValue=n}function Ii(e){e._currentValue=Am.current,dt(Am)}function wm(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xm(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),wm(r.return,n,e),i||(a=null);break e}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(j(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),wm(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function so(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var o=s.type;an(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===$c.current){if(a=s.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}s=s.return}e!==null&&xm(t,e,n,i),t.flags|=262144}function Wc(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Gr=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return UT(Gr,e)}function Yu(e,t){return Gr===null&&Dr(e),UT(e,t)}function UT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ni===null){if(e===null)throw Error(j(308));Ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ni=Ni.next=t;return n}var yO=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},vO=lt.unstable_scheduleCallback,_O=lt.unstable_NormalPriority,et={$$typeof:Oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fg(){return{controller:new yO,data:new Map,refCount:0}}function lu(e){e.refCount--,e.refCount===0&&vO(_O,function(){e.controller.abort()})}var fl=null,Cm=0,Ba=0,Oa=null;function SO(e,t){if(fl===null){var n=fl=[];Cm=0,Ba=zg(),Oa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Cm++,t.then(qv,qv),t}function qv(){if(--Cm===0&&fl!==null){Oa!==null&&(Oa.status="fulfilled");var e=fl;fl=null,Ba=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bO(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Xv=J.S;J.S=function(e,t){QE=tn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&SO(e,t),Xv!==null&&Xv(e,t)};var Ar=li(null);function hg(){var e=Ar.current;return e!==null?e:we.pooledCache}function Ac(e,t){t===null?xe(Ar,Ar.current):xe(Ar,t.pool)}function jT(){var e=hg();return e===null?null:{parent:et._currentValue,pool:e}}var ro=Error(j(460)),dg=Error(j(474)),eh=Error(j(542)),ef={then:function(){}};function Yv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function VT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ri,Ri),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jv(e),e;default:if(typeof t.status=="string")t.then(Ri,Ri);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jv(e),e}throw wr=t,ro}}function dr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wr=n,ro):n}}var wr=null;function Kv(){if(wr===null)throw Error(j(459));var e=wr;return wr=null,e}function Jv(e){if(e===ro||e===eh)throw Error(j(483))}var Ra=null,Pl=0;function Ku(e){var t=Pl;return Pl+=1,Ra===null&&(Ra=[]),VT(Ra,e,t)}function Bo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ju(e,t){throw t.$$typeof===o2?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function BT(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(b,v){return b=ki(b,v),b.index=0,b.sibling=null,b}function r(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,w,R){return v===null||v.tag!==6?(v=Kh(w,b.mode,R),v.return=b,v):(v=s(v,w),v.return=b,v)}function u(b,v,w,R){var z=w.type;return z===aa?f(b,v,w.props.children,R,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===rs&&dr(z)===v.type)?(v=s(v,w.props),Bo(v,w),v.return=b,v):(v=Ec(w.type,w.key,w.props,null,b.mode,R),Bo(v,w),v.return=b,v)}function c(b,v,w,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Jh(w,b.mode,R),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function f(b,v,w,R,z){return v===null||v.tag!==7?(v=Er(w,b.mode,R,z),v.return=b,v):(v=s(v,w),v.return=b,v)}function d(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Kh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fu:return w=Ec(v.type,v.key,v.props,null,b.mode,w),Bo(w,v),w.return=b,w;case el:return v=Jh(v,b.mode,w),v.return=b,v;case rs:return v=dr(v),d(b,v,w)}if(tl(v)||Uo(v))return v=Er(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return d(b,Ku(v),w);if(v.$$typeof===Oi)return d(b,Yu(b,v),w);Ju(b,v)}return null}function m(b,v,w,R){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:o(b,v,""+w,R);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fu:return w.key===z?u(b,v,w,R):null;case el:return w.key===z?c(b,v,w,R):null;case rs:return w=dr(w),m(b,v,w,R)}if(tl(w)||Uo(w))return z!==null?null:f(b,v,w,R,null);if(typeof w.then=="function")return m(b,v,Ku(w),R);if(w.$$typeof===Oi)return m(b,v,Yu(b,w),R);Ju(b,w)}return null}function g(b,v,w,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return b=b.get(w)||null,o(v,b,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Fu:return b=b.get(R.key===null?w:R.key)||null,u(v,b,R,z);case el:return b=b.get(R.key===null?w:R.key)||null,c(v,b,R,z);case rs:return R=dr(R),g(b,v,w,R,z)}if(tl(R)||Uo(R))return b=b.get(w)||null,f(v,b,R,z,null);if(typeof R.then=="function")return g(b,v,w,Ku(R),z);if(R.$$typeof===Oi)return g(b,v,w,Yu(v,R),z);Ju(v,R)}return null}function C(b,v,w,R){for(var z=null,V=null,T=v,y=v=0,S=null;T!==null&&y<w.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var A=m(b,T,w[y],R);if(A===null){T===null&&(T=S);break}e&&T&&A.alternate===null&&t(b,T),v=r(A,v,y),V===null?z=A:V.sibling=A,V=A,T=S}if(y===w.length)return n(b,T),le&&wi(b,y),z;if(T===null){for(;y<w.length;y++)T=d(b,w[y],R),T!==null&&(v=r(T,v,y),V===null?z=T:V.sibling=T,V=T);return le&&wi(b,y),z}for(T=i(T);y<w.length;y++)S=g(T,b,y,w[y],R),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?y:S.key),v=r(S,v,y),V===null?z=S:V.sibling=S,V=S);return e&&T.forEach(function(x){return t(b,x)}),le&&wi(b,y),z}function N(b,v,w,R){if(w==null)throw Error(j(151));for(var z=null,V=null,T=v,y=v=0,S=null,A=w.next();T!==null&&!A.done;y++,A=w.next()){T.index>y?(S=T,T=null):S=T.sibling;var x=m(b,T,A.value,R);if(x===null){T===null&&(T=S);break}e&&T&&x.alternate===null&&t(b,T),v=r(x,v,y),V===null?z=x:V.sibling=x,V=x,T=S}if(A.done)return n(b,T),le&&wi(b,y),z;if(T===null){for(;!A.done;y++,A=w.next())A=d(b,A.value,R),A!==null&&(v=r(A,v,y),V===null?z=A:V.sibling=A,V=A);return le&&wi(b,y),z}for(T=i(T);!A.done;y++,A=w.next())A=g(T,b,y,A.value,R),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?y:A.key),v=r(A,v,y),V===null?z=A:V.sibling=A,V=A);return e&&T.forEach(function(M){return t(b,M)}),le&&wi(b,y),z}function I(b,v,w,R){if(typeof w=="object"&&w!==null&&w.type===aa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fu:e:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===aa){if(v.tag===7){n(b,v.sibling),R=s(v,w.props.children),R.return=b,b=R;break e}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===rs&&dr(z)===v.type){n(b,v.sibling),R=s(v,w.props),Bo(R,w),R.return=b,b=R;break e}n(b,v);break}else t(b,v);v=v.sibling}w.type===aa?(R=Er(w.props.children,b.mode,R,w.key),R.return=b,b=R):(R=Ec(w.type,w.key,w.props,null,b.mode,R),Bo(R,w),R.return=b,b=R)}return a(b);case el:e:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),R=s(v,w.children||[]),R.return=b,b=R;break e}else{n(b,v);break}else t(b,v);v=v.sibling}R=Jh(w,b.mode,R),R.return=b,b=R}return a(b);case rs:return w=dr(w),I(b,v,w,R)}if(tl(w))return C(b,v,w,R);if(Uo(w)){if(z=Uo(w),typeof z!="function")throw Error(j(150));return w=z.call(w),N(b,v,w,R)}if(typeof w.then=="function")return I(b,v,Ku(w),R);if(w.$$typeof===Oi)return I(b,v,Yu(b,w),R);Ju(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),R=s(v,w),R.return=b,b=R):(n(b,v),R=Kh(w,b.mode,R),R.return=b,b=R),a(b)):n(b,v)}return function(b,v,w,R){try{Pl=0;var z=I(b,v,w,R);return Ra=null,z}catch(T){if(T===ro||T===eh)throw T;var V=Wt(29,T,null,b.mode);return V.lanes=R,V.return=b,V}finally{}}}var Mr=BT(!0),HT=BT(!1),as=!1;function mg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Jc(e),kT(e,null,n),t}return Wf(e,i,t,n),Jc(e)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,aT(e,n)}}function Wh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rm=!1;function dl(){if(Rm){var e=Oa;if(e!==null)throw e}}function ml(e,t,n,i){Rm=!1;var s=e.updateQueue;as=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;a=0,f=c=u=null,o=r;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(ae&m)===m:(i&m)===m){m!==0&&m===Ba&&(Rm=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var C=e,N=o;m=t;var I=n;switch(N.tag){case 1:if(C=N.payload,typeof C=="function"){d=C.call(I,d,m);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=N.payload,m=typeof C=="function"?C.call(I,d,m):C,m==null)break e;d=De({},d,m);break e;case 2:as=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,u=d):f=f.next=g,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,r===null&&(s.shared.lanes=0),Ps|=a,e.lanes=a,e.memoizedState=d}}function FT(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function GT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)FT(n[e],t)}var Ha=li(null),tf=li(0);function Qv(e,t){e=Bi,xe(tf,e),xe(Ha,t),Bi=e|t.baseLanes}function Nm(){xe(tf,Bi),xe(Ha,Ha.current)}function pg(){Bi=tf.current,dt(Ha),dt(tf)}var on=li(null),bn=null;function ls(e){var t=e.alternate;xe(qe,qe.current&1),xe(on,e),bn===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(bn=e)}function Dm(e){xe(qe,qe.current),xe(on,e),bn===null&&(bn=e)}function $T(e){e.tag===22?(xe(qe,qe.current),xe(on,e),bn===null&&(bn=e)):us()}function us(){xe(qe,qe.current),xe(on,on.current)}function Qt(e){dt(on),bn===e&&(bn=null),dt(qe)}var qe=li(0);function nf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Km(n)||Jm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=0,W=null,Ee=null,Qe=null,sf=!1,Na=!1,kr=!1,rf=0,Ul=0,Da=null,TO=0;function Ue(){throw Error(j(321))}function gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function yg(e,t,n,i,s,r){return Ui=r,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?TE:Og,kr=!1,r=n(i,s),kr=!1,Na&&(r=qT(t,n,i,s)),ZT(e),r}function ZT(e){J.H=jl;var t=Ee!==null&&Ee.next!==null;if(Ui=0,Qe=Ee=W=null,sf=!1,Ul=0,Da=null,t)throw Error(j(300));e===null||tt||(e=e.dependencies,e!==null&&Wc(e)&&(tt=!0))}function qT(e,t,n,i){W=e;var s=0;do{if(Na&&(Da=null),Ul=0,Na=!1,25<=s)throw Error(j(301));if(s+=1,Qe=Ee=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}J.H=EE,r=t(n,i)}while(Na);return r}function EO(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?uu(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(W.flags|=1024),t}function vg(){var e=rf!==0;return rf=0,e}function _g(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Sg(e){if(sf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sf=!1}Ui=0,Qe=Ee=W=null,Na=!1,Ul=rf=0,Da=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?W.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(Ee===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Qe===null?W.memoizedState:Qe.next;if(t!==null)Qe=t,Ee=e;else{if(e===null)throw W.alternate===null?Error(j(467)):Error(j(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Qe===null?W.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(e){var t=Ul;return Ul+=1,Da===null&&(Da=[]),e=VT(Da,e,t),t=W,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?TE:Og),e}function nh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return uu(e);if(e.$$typeof===Oi)return Tt(e)}throw Error(j(438,String(e)))}function bg(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=th(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=l2;return t.index++,n}function ji(e,t){return typeof t=="function"?t(e):t}function wc(e){var t=Xe();return Tg(t,Ee,e)}function Tg(e,t,n){var i=e.queue;if(i===null)throw Error(j(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,c=t,f=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ae&d)===d:(Ui&d)===d){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ba&&(f=!0);else if((Ui&m)===m){c=c.next,m===Ba&&(f=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=d,a=r):u=u.next=d,W.lanes|=m,Ps|=m;d=c.action,kr&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,W.lanes|=d,Ps|=d;c=c.next}while(c!==null&&c!==t);if(u===null?a=r:u.next=o,!an(r,e.memoizedState)&&(tt=!0,f&&(n=Oa,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ed(e){var t=Xe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);an(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function XT(e,t,n){var i=W,s=Xe(),r=le;if(r){if(n===void 0)throw Error(j(407));n=n()}else n=t();var a=!an((Ee||s).memoizedState,n);if(a&&(s.memoizedState=n,tt=!0),s=s.queue,Eg(JT.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,Fa(9,{destroy:void 0},KT.bind(null,i,s,n,t),null),we===null)throw Error(j(349));r||Ui&127||YT(i,t,n)}return n}function YT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=th(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KT(e,t,n,i){t.value=n,t.getSnapshot=i,QT(t)&&WT(e)}function JT(e,t,n){return n(function(){QT(t)&&WT(e)})}function QT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function WT(e){var t=Fr(e,2);t!==null&&Bt(t,e,2)}function Mm(e){var t=Rt();if(typeof e=="function"){var n=e;if(e=n(),kr){ps(!0);try{n()}finally{ps(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t}function eE(e,t,n,i){return e.baseState=n,Tg(e,Ee,typeof i=="function"?i:ji)}function AO(e,t,n,i,s){if(sh(e))throw Error(j(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};J.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,tE(t,r)):(r.next=n.next,t.pending=n.next=r)}}function tE(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=J.T,a={};J.T=a;try{var o=n(s,i),u=J.S;u!==null&&u(a,o),Wv(e,t,o)}catch(c){km(e,t,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),J.T=r}}else try{r=n(s,i),Wv(e,t,r)}catch(c){km(e,t,c)}}function Wv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){e0(e,t,i)},function(i){return km(e,t,i)}):e0(e,t,n)}function e0(e,t,n){t.status="fulfilled",t.value=n,nE(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,tE(e,n)))}function km(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,nE(t),t=t.next;while(t!==i)}e.action=null}function nE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function iE(e,t){return t}function t0(e,t){if(le){var n=we.formState;if(n!==null){e:{var i=W;if(le){if(Re){t:{for(var s=Re,r=yn;s.nodeType!==8;){if(!r){s=null;break t}if(s=Tn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Re=Tn(s.nextSibling),i=s.data==="F!";break e}}Ls(i)}i=!1}i&&(t=n[0])}}return n=Rt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iE,lastRenderedState:t},n.queue=i,n=_E.bind(null,W,i),i.dispatch=n,i=Mm(!1),r=Cg.bind(null,W,!1,i.queue),i=Rt(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=AO.bind(null,W,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function n0(e){var t=Xe();return sE(t,Ee,e)}function sE(e,t,n){if(t=Tg(e,t,iE)[0],e=wc(ji)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=uu(t)}catch(a){throw a===ro?eh:a}else i=t;t=Xe();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(W.flags|=2048,Fa(9,{destroy:void 0},wO.bind(null,s,n),null)),[i,r,e]}function wO(e,t){e.action=t}function i0(e){var t=Xe(),n=Ee;if(n!==null)return sE(t,n,e);Xe(),t=t.memoizedState,n=Xe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Fa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=th(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function rE(){return Xe().memoizedState}function xc(e,t,n,i){var s=Rt();W.flags|=e,s.memoizedState=Fa(1|t,{destroy:void 0},n,i===void 0?null:i)}function ih(e,t,n,i){var s=Xe();i=i===void 0?null:i;var r=s.memoizedState.inst;Ee!==null&&i!==null&&gg(i,Ee.memoizedState.deps)?s.memoizedState=Fa(t,r,n,i):(W.flags|=e,s.memoizedState=Fa(1|t,r,n,i))}function s0(e,t){xc(8390656,8,e,t)}function Eg(e,t){ih(2048,8,e,t)}function xO(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=th(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function aE(e){var t=Xe().memoizedState;return xO({ref:t,nextImpl:e}),function(){if(me&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function oE(e,t){return ih(4,2,e,t)}function lE(e,t){return ih(4,4,e,t)}function uE(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cE(e,t,n){n=n!=null?n.concat([e]):null,ih(4,4,uE.bind(null,t,e),n)}function Ag(){}function fE(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function hE(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gg(t,i[1]))return i[0];if(i=e(),kr){ps(!0);try{e()}finally{ps(!1)}}return n.memoizedState=[i,t],i}function wg(e,t,n){return n===void 0||Ui&1073741824&&!(ae&261930)?e.memoizedState=t:(e.memoizedState=n,e=e1(),W.lanes|=e,Ps|=e,n)}function dE(e,t,n,i){return an(n,t)?n:Ha.current!==null?(e=wg(e,n,i),an(e,t)||(tt=!0),e):!(Ui&42)||Ui&1073741824&&!(ae&261930)?(tt=!0,e.memoizedState=n):(e=e1(),W.lanes|=e,Ps|=e,t)}function mE(e,t,n,i,s){var r=pe.p;pe.p=r!==0&&8>r?r:8;var a=J.T,o={};J.T=o,Cg(e,!1,t,n);try{var u=s(),c=J.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=bO(u,i);pl(e,t,f,rn(e))}else pl(e,t,i,rn(e))}catch(d){pl(e,t,{then:function(){},status:"rejected",reason:d},rn())}finally{pe.p=r,a!==null&&o.types!==null&&(a.types=o.types),J.T=a}}function CO(){}function Im(e,t,n,i){if(e.tag!==5)throw Error(j(476));var s=pE(e).queue;mE(e,s,t,Tr,n===null?CO:function(){return gE(e),n(i)})}function pE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Tr,baseState:Tr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Tr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gE(e){var t=pE(e);t.next===null&&(t=e.alternate.memoizedState),pl(e,t.next.queue,{},rn())}function xg(){return Tt(Hl)}function yE(){return Xe().memoizedState}function vE(){return Xe().memoizedState}function OO(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=rn();e=As(n);var i=ws(t,e,n);i!==null&&(Bt(i,t,n),hl(i,t,n)),t={cache:fg()},e.payload=t;return}t=t.return}}function RO(e,t,n){var i=rn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sh(e)?SE(t,n):(n=og(e,t,n,i),n!==null&&(Bt(n,e,i),bE(n,t,i)))}function _E(e,t,n){var i=rn();pl(e,t,n,i)}function pl(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sh(e))SE(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,an(o,a))return Wf(e,t,s,0),we===null&&Qf(),!1}catch{}finally{}if(n=og(e,t,s,i),n!==null)return Bt(n,e,i),bE(n,t,i),!0}return!1}function Cg(e,t,n,i){if(i={lane:2,revertLane:zg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sh(e)){if(t)throw Error(j(479))}else t=og(e,n,i,2),t!==null&&Bt(t,e,2)}function sh(e){var t=e.alternate;return e===W||t!==null&&t===W}function SE(e,t){Na=sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,aT(e,n)}}var jl={readContext:Tt,use:nh,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};jl.useEffectEvent=Ue;var TE={readContext:Tt,use:nh,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:s0,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xc(4194308,4,uE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){xc(4,2,e,t)},useMemo:function(e,t){var n=Rt();t=t===void 0?null:t;var i=e();if(kr){ps(!0);try{e()}finally{ps(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Rt();if(n!==void 0){var s=n(t);if(kr){ps(!0);try{n(t)}finally{ps(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=RO.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mm(e);var t=e.queue,n=_E.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Rt();return wg(n,e,t)},useTransition:function(){var e=Mm(!1);return e=mE.bind(null,W,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,s=Rt();if(le){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),we===null)throw Error(j(349));ae&127||YT(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,s0(JT.bind(null,i,r,e),[e]),i.flags|=2048,Fa(9,{destroy:void 0},KT.bind(null,i,r,n,t),null),n},useId:function(){var e=Rt(),t=we.identifierPrefix;if(le){var n=Wn,i=Qn;n=(i&~(1<<32-sn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=rf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=TO++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xg,useFormState:t0,useActionState:t0,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cg.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:bg,useCacheRefresh:function(){return Rt().memoizedState=OO.bind(null,W)},useEffectEvent:function(e){var t=Rt(),n={impl:e};return t.memoizedState=n,function(){if(me&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},Og={readContext:Tt,use:nh,useCallback:fE,useContext:Tt,useEffect:Eg,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:hE,useReducer:wc,useRef:rE,useState:function(){return wc(ji)},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Xe();return dE(n,Ee.memoizedState,e,t)},useTransition:function(){var e=wc(ji)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:uu(e),t]},useSyncExternalStore:XT,useId:yE,useHostTransitionStatus:xg,useFormState:n0,useActionState:n0,useOptimistic:function(e,t){var n=Xe();return eE(n,Ee,e,t)},useMemoCache:bg,useCacheRefresh:vE};Og.useEffectEvent=aE;var EE={readContext:Tt,use:nh,useCallback:fE,useContext:Tt,useEffect:Eg,useImperativeHandle:cE,useInsertionEffect:oE,useLayoutEffect:lE,useMemo:hE,useReducer:ed,useRef:rE,useState:function(){return ed(ji)},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Xe();return Ee===null?wg(n,e,t):dE(n,Ee.memoizedState,e,t)},useTransition:function(){var e=ed(ji)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:uu(e),t]},useSyncExternalStore:XT,useId:yE,useHostTransitionStatus:xg,useFormState:i0,useActionState:i0,useOptimistic:function(e,t){var n=Xe();return Ee!==null?eE(n,Ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bg,useCacheRefresh:vE};EE.useEffectEvent=aE;function td(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lm={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rn(),s=As(i);s.payload=t,n!=null&&(s.callback=n),t=ws(e,s,i),t!==null&&(Bt(t,e,i),hl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rn(),s=As(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ws(e,s,i),t!==null&&(Bt(t,e,i),hl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),i=As(n);i.tag=2,t!=null&&(i.callback=t),t=ws(e,i,n),t!==null&&(Bt(t,e,n),hl(t,e,n))}};function r0(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Il(n,i)||!Il(s,r):!0}function a0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Lm.enqueueReplaceState(t,t.state,null)}function Ir(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=De({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function AE(e){Kc(e)}function wE(e){console.error(e)}function xE(e){Kc(e)}function af(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function o0(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function zm(e,t,n){return n=As(n),n.tag=3,n.payload={element:null},n.callback=function(){af(e,t)},n}function CE(e){return e=As(e),e.tag=3,e}function OE(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){o0(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){o0(t,n,i),typeof s!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function NO(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&so(t,n,s,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return bn===null?ff():n.alternate===null&&Ve===0&&(Ve=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ef?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),hd(e,i,s)),!1;case 22:return n.flags|=65536,i===ef?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),hd(e,i,s)),!1}throw Error(j(435,n.tag))}return hd(e,i,s),ff(),!1}if(le)return t=on.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Em&&(e=Error(j(422),{cause:i}),zl(gn(e,n)))):(i!==Em&&(t=Error(j(423),{cause:i}),zl(gn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=gn(i,n),s=zm(e.stateNode,i,s),Wh(e,s),Ve!==4&&(Ve=2)),!1;var r=Error(j(520),{cause:i});if(r=gn(r,n),vl===null?vl=[r]:vl.push(r),Ve!==4&&(Ve=2),t===null)return!0;i=gn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=zm(n.stateNode,i,e),Wh(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=CE(s),OE(s,e,n,i),Wh(n,s),!1}n=n.return}while(n!==null);return!1}var Rg=Error(j(461)),tt=!1;function vt(e,t,n,i){t.child=e===null?HT(t,null,n,i):Mr(t,e.child,n,i)}function l0(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Dr(t),i=yg(e,t,n,a,r,s),o=vg(),e!==null&&!tt?(_g(e,t,s),Vi(e,t,s)):(le&&o&&ug(t),t.flags|=1,vt(e,t,i,s),t.child)}function u0(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!lg(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,RE(e,t,r,i,s)):(e=Ec(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Ng(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(a,i)&&e.ref===t.ref)return Vi(e,t,s)}return t.flags|=1,e=ki(r,i),e.ref=t.ref,e.return=t,t.child=e}function RE(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Il(r,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=r,Ng(e,s))e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Vi(e,t,s)}return Pm(e,t,n,i,s)}function NE(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return c0(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ac(t,r!==null?r.cachePool:null),r!==null?Qv(t,r):Nm(),$T(t);else return i=t.lanes=536870912,c0(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Ac(t,r.cachePool),Qv(t,r),us(),t.memoizedState=null):(e!==null&&Ac(t,null),Nm(),us());return vt(e,t,s,n),t.child}function il(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function c0(e,t,n,i,s){var r=hg();return r=r===null?null:{parent:et._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Ac(t,null),Nm(),$T(t),e!==null&&so(e,t,i,!0),t.childLanes=s,null}function Cc(e,t){return t=of({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function f0(e,t,n){return Mr(t,e.child,null,n),e=Cc(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function DO(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(le){if(i.mode==="hidden")return e=Cc(t,i),t.lanes=536870912,il(null,e);if(Dm(t),(e=Re)?(e=T1(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Qn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=LT(e),n.return=t,t.child=n,bt=t,Re=null)):e=null,e===null)throw Ls(t);return t.lanes=536870912,null}return Cc(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(Dm(t),s)if(t.flags&256)t.flags&=-257,t=f0(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(tt||so(e,t,n,!1),s=(n&e.childLanes)!==0,tt||s){if(i=we,i!==null&&(a=oT(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Fr(e,a),Bt(i,e,a),Rg;ff(),t=f0(e,t,n)}else e=r.treeContext,Re=Tn(a.nextSibling),bt=t,le=!0,Es=null,yn=!1,e!==null&&PT(t,e),t=Cc(t,i),t.flags|=4096;return t}return e=ki(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Pm(e,t,n,i,s){return Dr(t),n=yg(e,t,n,i,void 0,s),i=vg(),e!==null&&!tt?(_g(e,t,s),Vi(e,t,s)):(le&&i&&ug(t),t.flags|=1,vt(e,t,n,s),t.child)}function h0(e,t,n,i,s,r){return Dr(t),t.updateQueue=null,n=qT(t,i,n,s),ZT(e),i=vg(),e!==null&&!tt?(_g(e,t,r),Vi(e,t,r)):(le&&i&&ug(t),t.flags|=1,vt(e,t,n,r),t.child)}function d0(e,t,n,i,s){if(Dr(t),t.stateNode===null){var r=ma,a=n.contextType;typeof a=="object"&&a!==null&&(r=Tt(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Lm,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},mg(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Tt(a):ma,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(td(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Lm.enqueueReplaceState(r,r.state,null),ml(t,i,r,s),dl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=Ir(n,o);r.props=u;var c=r.context,f=n.contextType;a=ma,typeof f=="object"&&f!==null&&(a=Tt(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&a0(t,r,i,a),as=!1;var m=t.memoizedState;r.state=m,ml(t,i,r,s),dl(),c=t.memoizedState,o||m!==c||as?(typeof d=="function"&&(td(t,n,d,i),c=t.memoizedState),(u=as||r0(t,n,u,i,m,c,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Om(e,t),a=t.memoizedProps,f=Ir(n,a),r.props=f,d=t.pendingProps,m=r.context,c=n.contextType,u=ma,typeof c=="object"&&c!==null&&(u=Tt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||m!==u)&&a0(t,r,i,u),as=!1,m=t.memoizedState,r.state=m,ml(t,i,r,s),dl();var g=t.memoizedState;a!==d||m!==g||as||e!==null&&e.dependencies!==null&&Wc(e.dependencies)?(typeof o=="function"&&(td(t,n,o,i),g=t.memoizedState),(f=as||r0(t,n,f,i,m,g,u)||e!==null&&e.dependencies!==null&&Wc(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=u,i=f):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Oc(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Mr(t,e.child,null,s),t.child=Mr(t,null,n,s)):vt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Vi(e,t,s),e}function m0(e,t,n,i){return Nr(),t.flags|=256,vt(e,t,n,i),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(e){return{baseLanes:e,cachePool:jT()}}function sd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=en),e}function DE(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(le){if(s?ls(t):us(),(e=Re)?(e=T1(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Qn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=LT(e),n.return=t,t.child=n,bt=t,Re=null)):e=null,e===null)throw Ls(t);return Jm(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(us(),s=t.mode,o=of({mode:"hidden",children:o},s),i=Er(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=id(n),i.childLanes=sd(e,a,n),t.memoizedState=nd,il(null,i)):(ls(t),Um(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(ls(t),t.flags&=-257,t=rd(e,t,n)):t.memoizedState!==null?(us(),t.child=e.child,t.flags|=128,t=null):(us(),o=i.fallback,s=t.mode,i=of({mode:"visible",children:i.children},s),o=Er(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Mr(t,e.child,null,n),i=t.child,i.memoizedState=id(n),i.childLanes=sd(e,a,n),t.memoizedState=nd,t=il(null,i));else if(ls(t),Jm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(j(419)),i.stack="",i.digest=a,zl({value:i,source:null,stack:null}),t=rd(e,t,n)}else if(tt||so(e,t,n,!1),a=(n&e.childLanes)!==0,tt||a){if(a=we,a!==null&&(i=oT(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Fr(e,i),Bt(a,e,i),Rg;Km(o)||ff(),t=rd(e,t,n)}else Km(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Re=Tn(o.nextSibling),bt=t,le=!0,Es=null,yn=!1,e!==null&&PT(t,e),t=Um(t,i.children),t.flags|=4096);return t}return s?(us(),o=i.fallback,s=t.mode,u=e.child,c=u.sibling,i=ki(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=ki(c,o):(o=Er(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,il(null,i),i=t.child,o=e.child.memoizedState,o===null?o=id(n):(s=o.cachePool,s!==null?(u=et._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=jT(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=sd(e,a,n),t.memoizedState=nd,il(e.child,i)):(ls(t),n=e.child,e=n.sibling,n=ki(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Um(e,t){return t=of({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function of(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function rd(e,t,n){return Mr(t,e.child,null,n),e=Um(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),wm(e.return,t,n)}function ad(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function ME(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=qe.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,xe(qe,a),vt(e,t,i,n),i=le?Ll:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p0(e,n,t);else if(e.tag===19)p0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ad(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ad(t,!0,n,null,r,i);break;case"together":ad(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Vi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))if(e!==null){if(so(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=ki(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ki(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ng(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wc(e)))}function MO(e,t,n){switch(t.tag){case 3:Zc(t,t.stateNode.containerInfo),os(t,et,e.memoizedState.cache),Nr();break;case 27:case 5:hm(t);break;case 4:Zc(t,t.stateNode.containerInfo);break;case 10:os(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dm(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ls(t),t.flags|=128,null):n&t.child.childLanes?DE(e,t,n):(ls(t),e=Vi(e,t,n),e!==null?e.sibling:null);ls(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(so(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return ME(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(qe,qe.current),i)break;return null;case 22:return t.lanes=0,NE(e,t,n,t.pendingProps);case 24:os(t,et,e.memoizedState.cache)}return Vi(e,t,n)}function kE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Ng(e,n)&&!(t.flags&128))return tt=!1,MO(e,t,n);tt=!!(e.flags&131072)}else tt=!1,le&&t.flags&1048576&&zT(t,Ll,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=dr(t.elementType),t.type=e,typeof e=="function")lg(e)?(i=Ir(e,i),t.tag=1,t=d0(null,t,e,i,n)):(t.tag=0,t=Pm(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Xp){t.tag=11,t=l0(null,t,e,i,n);break e}else if(s===Yp){t.tag=14,t=u0(null,t,e,i,n);break e}}throw t=cm(e)||e,Error(j(306,t,""))}}return t;case 0:return Pm(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=Ir(i,t.pendingProps),d0(e,t,i,s,n);case 3:e:{if(Zc(t,t.stateNode.containerInfo),e===null)throw Error(j(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Om(e,t),ml(t,i,null,n);var a=t.memoizedState;if(i=a.cache,os(t,et,i),i!==r.cache&&xm(t,[et],n,!0),dl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=m0(e,t,i,n);break e}else if(i!==s){s=gn(Error(j(424)),t),zl(s),t=m0(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=Tn(e.firstChild),bt=t,le=!0,Es=null,yn=!0,n=HT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Nr(),i===s){t=Vi(e,t,n);break e}vt(e,t,i,n)}t=t.child}return t;case 26:return Oc(e,t),e===null?(n=L0(t.type,null,t.pendingProps,null))?t.memoizedState=n:le||(n=t.type,e=t.pendingProps,i=pf(Ts.current).createElement(n),i[St]=t,i[Ht]=e,Et(i,n,e),ht(i),t.stateNode=i):t.memoizedState=L0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hm(t),e===null&&le&&(i=t.stateNode=E1(t.type,t.pendingProps,Ts.current),bt=t,yn=!0,s=Re,$s(t.type)?(Qm=s,Re=Tn(i.firstChild)):Re=s),vt(e,t,t.pendingProps.children,n),Oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&le&&((s=i=Re)&&(i=lR(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,bt=t,Re=Tn(i.firstChild),yn=!1,s=!0):s=!1),s||Ls(t)),hm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Xm(s,r)?i=null:a!==null&&Xm(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=yg(e,t,EO,null,null,n),Hl._currentValue=s),Oc(e,t),vt(e,t,i,n),t.child;case 6:return e===null&&le&&((e=n=Re)&&(n=uR(n,t.pendingProps,yn),n!==null?(t.stateNode=n,bt=t,Re=null,e=!0):e=!1),e||Ls(t)),null;case 13:return DE(e,t,n);case 4:return Zc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Mr(t,null,i,n):vt(e,t,i,n),t.child;case 11:return l0(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,os(t,t.type,i.value),vt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Dr(t),s=Tt(s),i=i(s),t.flags|=1,vt(e,t,i,n),t.child;case 14:return u0(e,t,t.type,t.pendingProps,n);case 15:return RE(e,t,t.type,t.pendingProps,n);case 19:return ME(e,t,n);case 31:return DO(e,t,n);case 22:return NE(e,t,n,t.pendingProps);case 24:return Dr(t),i=Tt(et),e===null?(s=hg(),s===null&&(s=we,r=fg(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},mg(t),os(t,et,s)):(e.lanes&n&&(Om(e,t),ml(t,null,null,n),dl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),os(t,et,i)):(i=r.cache,os(t,et,i),i!==s.cache&&xm(t,[et],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function _i(e){e.flags|=4}function od(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(i1())e.flags|=8192;else throw wr=ef,dg}else e.flags&=-16777217}function g0(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!x1(t))if(i1())e.flags|=8192;else throw wr=ef,dg}function Qu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sT():536870912,e.lanes|=t,Ga|=t)}function Ho(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function kO(e,t,n){var i=t.pendingProps;switch(cg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ii(et),Ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ea(t)?_i(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qh())),Oe(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(_i(t),r!==null?(Oe(t),g0(t,r)):(Oe(t),od(t,s,null,i,n))):r?r!==e.memoizedState?(_i(t),Oe(t),g0(t,r)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&_i(t),Oe(t),od(t,s,e,i,n)),null;case 27:if(qc(t),n=Ts.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&_i(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Oe(t),null}e=ni.current,ea(t)?$v(t):(e=E1(s,i,n),t.stateNode=e,_i(t))}return Oe(t),null;case 5:if(qc(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&_i(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Oe(t),null}if(r=ni.current,ea(t))$v(t);else{var a=pf(Ts.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[St]=t,r[Ht]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;e:switch(Et(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_i(t)}}return Oe(t),od(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&_i(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(e=Ts.current,ea(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=bt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_1(e.nodeValue,n)),e||Ls(t,!0)}else e=pf(e).createTextNode(i),e[St]=t,t.stateNode=e}return Oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ea(t),n!==null){if(e===null){if(!i)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[St]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else n=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if(t.flags&128)throw Error(j(558))}return Oe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=ea(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[St]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else s=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qu(t,t.updateQueue),Oe(t),null);case 4:return Ua(),e===null&&Pg(t.stateNode.containerInfo),Oe(t),null;case 10:return Ii(t.type),Oe(t),null;case 19:if(dt(qe),i=t.memoizedState,i===null)return Oe(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Ho(i,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=nf(e),r!==null){for(t.flags|=128,Ho(i,!1),e=r.updateQueue,t.updateQueue=e,Qu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)IT(n,e),n=n.sibling;return xe(qe,qe.current&1|2),le&&wi(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&tn()>uf&&(t.flags|=128,s=!0,Ho(i,!1),t.lanes=4194304)}else{if(!s)if(e=nf(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Qu(t,e),Ho(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!le)return Oe(t),null}else 2*tn()-i.renderingStartTime>uf&&n!==536870912&&(t.flags|=128,s=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tn(),e.sibling=null,n=qe.current,xe(qe,s?n&1|2:n&1),le&&wi(t,i.treeForkCount),e):(Oe(t),null);case 22:case 23:return Qt(t),pg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),n=t.updateQueue,n!==null&&Qu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&dt(Ar),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ii(et),Oe(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function IO(e,t){switch(cg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(et),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qc(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(j(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(qe),null;case 4:return Ua(),null;case 10:return Ii(t.type),null;case 22:case 23:return Qt(t),pg(),e!==null&&dt(Ar),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ii(et),null;case 25:return null;default:return null}}function IE(e,t){switch(cg(t),t.tag){case 3:Ii(et),Ua();break;case 26:case 27:case 5:qc(t);break;case 4:Ua();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:dt(qe);break;case 10:Ii(t.type);break;case 22:case 23:Qt(t),pg(),e!==null&&dt(Ar);break;case 24:Ii(et)}}function cu(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){Se(t,t.return,o)}}function zs(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,c=o;try{c()}catch(f){Se(s,u,f)}}}i=i.next}while(i!==r)}}catch(f){Se(t,t.return,f)}}function LE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{GT(t,n)}catch(i){Se(e,e.return,i)}}}function zE(e,t,n){n.props=Ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Se(e,t,i)}}function gl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){Se(e,t,s)}}function ei(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Se(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Se(e,t,s)}else n.current=null}function PE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Se(e,e.return,s)}}function ld(e,t,n){try{var i=e.stateNode;nR(i,e.type,n,t),i[Ht]=t}catch(s){Se(e,e.return,s)}}function UE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$s(e.type)||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$s(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jm(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ri));else if(i!==4&&(i===27&&$s(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(jm(e,t,n),e=e.sibling;e!==null;)jm(e,t,n),e=e.sibling}function lf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&$s(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}function jE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Et(t,i,n),t[St]=e,t[Ht]=n}catch(r){Se(e,e.return,r)}}var xi=!1,We=!1,cd=!1,y0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function LO(e,t){if(e=e.containerInfo,Zm=_f,e=xT(e),rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,f=0,d=e,m=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(u=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===n&&++c===s&&(o=a),m===r&&++f===i&&(u=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:e,selectionRange:n},_f=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var C=Ir(n.type,s);e=i.getSnapshotBeforeUpdate(C,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(N){Se(n,n.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ym(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ym(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function VE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:bi(e,n),i&4&&cu(5,n);break;case 1:if(bi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Se(n,n.return,a)}else{var s=Ir(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Se(n,n.return,a)}}i&64&&LE(n),i&512&&gl(n,n.return);break;case 3:if(bi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{GT(e,t)}catch(a){Se(n,n.return,a)}}break;case 27:t===null&&i&4&&jE(n);case 26:case 5:bi(e,n),t===null&&i&4&&PE(n),i&512&&gl(n,n.return);break;case 12:bi(e,n);break;case 31:bi(e,n),i&4&&FE(e,n);break;case 13:bi(e,n),i&4&&GE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=GO.bind(null,n),cR(e,n))));break;case 22:if(i=n.memoizedState!==null||xi,!i){t=t!==null&&t.memoizedState!==null||We,s=xi;var r=We;xi=i,(We=t)&&!r?Ai(e,n,(n.subtreeFlags&8772)!==0):bi(e,n),xi=s,We=r}break;case 30:break;default:bi(e,n)}}function BE(e){var t=e.alternate;t!==null&&(e.alternate=null,BE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Ut=!1;function Si(e,t,n){for(n=n.child;n!==null;)HE(e,t,n),n=n.sibling}function HE(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 26:We||ei(n,t),Si(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||ei(n,t);var i=ke,s=Ut;$s(n.type)&&(ke=n.stateNode,Ut=!1),Si(e,t,n),Sl(n.stateNode),ke=i,Ut=s;break;case 5:We||ei(n,t);case 6:if(i=ke,s=Ut,ke=null,Si(e,t,n),ke=i,Ut=s,ke!==null)if(Ut)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(r){Se(n,t,r)}else try{ke.removeChild(n.stateNode)}catch(r){Se(n,t,r)}break;case 18:ke!==null&&(Ut?(e=ke,N0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xa(e)):N0(ke,n.stateNode));break;case 4:i=ke,s=Ut,ke=n.stateNode.containerInfo,Ut=!0,Si(e,t,n),ke=i,Ut=s;break;case 0:case 11:case 14:case 15:zs(2,n,t),We||zs(4,n,t),Si(e,t,n);break;case 1:We||(ei(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&zE(n,t,i)),Si(e,t,n);break;case 21:Si(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,Si(e,t,n),We=i;break;default:Si(e,t,n)}}function FE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(n){Se(t,t.return,n)}}}function GE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(n){Se(t,t.return,n)}}function zO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new y0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new y0),t;default:throw Error(j(435,e.tag))}}function Wu(e,t){var n=zO(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=$O.bind(null,e,i);i.then(s,s)}})}function zt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 27:if($s(o.type)){ke=o.stateNode,Ut=!1;break e}break;case 5:ke=o.stateNode,Ut=!1;break e;case 3:case 4:ke=o.stateNode.containerInfo,Ut=!0;break e}o=o.return}if(ke===null)throw Error(j(160));HE(r,a,s),ke=null,Ut=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$E(t,e),t=t.sibling}var In=null;function $E(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Pt(e),i&4&&(zs(3,e,e.return),cu(3,e),zs(5,e,e.return));break;case 1:zt(t,e),Pt(e),i&512&&(We||n===null||ei(n,n.return)),i&64&&xi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=In;if(zt(t,e),Pt(e),i&512&&(We||n===null||ei(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[au]||r[St]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Et(r,i,n),r[St]=e,ht(r),i=r;break e;case"link":var a=P0("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;case"meta":if(a=P0("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;default:throw Error(j(468,i))}r[St]=e,ht(r),i=r}e.stateNode=i}else U0(s,e.type,e.stateNode);else e.stateNode=z0(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?U0(s,e.type,e.stateNode):z0(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ld(e,e.memoizedProps,n.memoizedProps)}break;case 27:zt(t,e),Pt(e),i&512&&(We||n===null||ei(n,n.return)),n!==null&&i&4&&ld(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zt(t,e),Pt(e),i&512&&(We||n===null||ei(n,n.return)),e.flags&32){s=e.stateNode;try{Va(s,"")}catch(C){Se(e,e.return,C)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,ld(e,s,n!==null?n.memoizedProps:s)),i&1024&&(cd=!0);break;case 6:if(zt(t,e),Pt(e),i&4){if(e.stateNode===null)throw Error(j(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(C){Se(e,e.return,C)}}break;case 3:if(Dc=null,s=In,In=gf(t.containerInfo),zt(t,e),In=s,Pt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(C){Se(e,e.return,C)}cd&&(cd=!1,ZE(e));break;case 4:i=In,In=gf(e.stateNode.containerInfo),zt(t,e),Pt(e),In=i;break;case 12:zt(t,e),Pt(e);break;case 31:zt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wu(e,i)));break;case 13:zt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rh=tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wu(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=xi,f=We;if(xi=c||s,We=f||u,zt(t,e),We=f,xi=c,Pt(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||xi||We||mr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var d=u.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(C){Se(u,u.return,C)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(C){Se(u,u.return,C)}}}else if(t.tag===18){if(n===null){u=t;try{var g=u.stateNode;s?D0(g,!0):D0(u.stateNode,!1)}catch(C){Se(u,u.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Wu(e,n))));break;case 19:zt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wu(e,i)));break;case 30:break;case 21:break;default:zt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(UE(i)){n=i;break}i=i.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var s=n.stateNode,r=ud(e);lf(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(Va(a,""),n.flags&=-33);var o=ud(e);lf(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=ud(e);jm(e,c,u);break;default:throw Error(j(161))}}catch(f){Se(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ZE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)VE(e,t.alternate,t),t=t.sibling}function mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),mr(t);break;case 1:ei(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&zE(t,t.return,n),mr(t);break;case 27:Sl(t.stateNode);case 26:case 5:ei(t,t.return),mr(t);break;case 22:t.memoizedState===null&&mr(t);break;case 30:mr(t);break;default:mr(t)}e=e.sibling}}function Ai(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(s,r,n),cu(4,r);break;case 1:if(Ai(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Se(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)FT(u[s],o)}catch(c){Se(i,i.return,c)}}n&&a&64&&LE(r),gl(r,r.return);break;case 27:jE(r);case 26:case 5:Ai(s,r,n),n&&i===null&&a&4&&PE(r),gl(r,r.return);break;case 12:Ai(s,r,n);break;case 31:Ai(s,r,n),n&&a&4&&FE(s,r);break;case 13:Ai(s,r,n),n&&a&4&&GE(s,r);break;case 22:r.memoizedState===null&&Ai(s,r,n),gl(r,r.return);break;case 30:break;default:Ai(s,r,n)}t=t.sibling}}function Dg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lu(n))}function Mg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lu(e))}function Nn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qE(e,t,n,i),t=t.sibling}function qE(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Nn(e,t,n,i),s&2048&&cu(9,t);break;case 1:Nn(e,t,n,i);break;case 3:Nn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lu(e)));break;case 12:if(s&2048){Nn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Se(t,t.return,u)}}else Nn(e,t,n,i);break;case 31:Nn(e,t,n,i);break;case 13:Nn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?Nn(e,t,n,i):yl(e,t):r._visibility&2?Nn(e,t,n,i):(r._visibility|=2,ia(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Dg(a,t);break;case 24:Nn(e,t,n,i),s&2048&&Mg(t.alternate,t);break;default:Nn(e,t,n,i)}}function ia(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ia(r,a,o,u,s),cu(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?ia(r,a,o,u,s):yl(r,a):(f._visibility|=2,ia(r,a,o,u,s)),s&&c&2048&&Dg(a.alternate,a);break;case 24:ia(r,a,o,u,s),s&&c&2048&&Mg(a.alternate,a);break;default:ia(r,a,o,u,s)}t=t.sibling}}function yl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:yl(n,i),s&2048&&Dg(i.alternate,i);break;case 24:yl(n,i),s&2048&&Mg(i.alternate,i);break;default:yl(n,i)}t=t.sibling}}var sl=8192;function ta(e,t,n){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)XE(e,t,n),e=e.sibling}function XE(e,t,n){switch(e.tag){case 26:ta(e,t,n),e.flags&sl&&e.memoizedState!==null&&TR(n,In,e.memoizedState,e.memoizedProps);break;case 5:ta(e,t,n);break;case 3:case 4:var i=In;In=gf(e.stateNode.containerInfo),ta(e,t,n),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,ta(e,t,n),sl=i):ta(e,t,n));break;default:ta(e,t,n)}}function YE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,JE(i,e)}YE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)KE(e),e=e.sibling}function KE(e){switch(e.tag){case 0:case 11:case 15:Fo(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Fo(e);break;case 12:Fo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rc(e)):Fo(e);break;default:Fo(e)}}function Rc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,JE(i,e)}YE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zs(8,t,t.return),Rc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Rc(t));break;default:Rc(t)}e=e.sibling}}function JE(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:lu(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ft=i;else e:for(n=e;ft!==null;){i=ft;var s=i.sibling,r=i.return;if(BE(i),i===n){ft=null;break e}if(s!==null){s.return=r,ft=s;break e}ft=r}}}var PO={getCacheForType:function(e){var t=Tt(et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Tt(et).controller.signal}},UO=typeof WeakMap=="function"?WeakMap:Map,me=0,we=null,se=null,ae=0,ve=0,Kt=null,ys=!1,ao=!1,kg=!1,Bi=0,Ve=0,Ps=0,xr=0,Ig=0,en=0,Ga=0,vl=null,jt=null,Vm=!1,rh=0,QE=0,uf=1/0,cf=null,xs=null,at=0,Cs=null,$a=null,Li=0,Bm=0,Hm=null,WE=null,_l=0,Fm=null;function rn(){return me&2&&ae!==0?ae&-ae:J.T!==null?zg():lT()}function e1(){if(en===0)if(!(ae&536870912)||le){var e=$u;$u<<=1,!($u&3932160)&&($u=262144),en=e}else en=536870912;return e=on.current,e!==null&&(e.flags|=32),en}function Bt(e,t,n){(e===we&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Za(e,0),vs(e,ae,en,!1)),ru(e,n),(!(me&2)||e!==we)&&(e===we&&(!(me&2)&&(xr|=n),Ve===4&&vs(e,ae,en,!1)),ui(e))}function t1(e,t,n){if(me&6)throw Error(j(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||su(e,t),s=i?BO(e,t):fd(e,t,!0),r=i;do{if(s===0){ao&&!i&&vs(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!jO(n)){s=fd(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var o=e;s=vl;var u=o.current.memoizedState.isDehydrated;if(u&&(Za(o,a).flags|=256),a=fd(o,a,!1),a!==2){if(kg&&!u){o.errorRecoveryDisabledLanes|=r,xr|=r,s=4;break e}r=jt,jt=s,r!==null&&(jt===null?jt=r:jt.push.apply(jt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Za(e,0),vs(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:vs(i,t,en,!ys);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(s=rh+300-tn(),10<s)){if(vs(i,t,en,!ys),Xf(i,0,!0)!==0)break e;Li=t,i.timeoutHandle=b1(v0.bind(null,i,n,jt,cf,Vm,t,en,xr,Ga,ys,r,"Throttled",-0,0),s);break e}v0(i,n,jt,cf,Vm,t,en,xr,Ga,ys,r,null,-0,0)}}break}while(!0);ui(e)}function v0(e,t,n,i,s,r,a,o,u,c,f,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},XE(t,r,d);var C=(r&62914560)===r?rh-tn():(r&4194048)===r?QE-tn():0;if(C=ER(d,C),C!==null){Li=r,e.cancelPendingCommit=C(S0.bind(null,e,t,r,n,i,s,a,o,u,f,d,null,m,g)),vs(e,r,a,!c);return}}S0(e,t,r,n,i,s,a,o,u)}function jO(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!an(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vs(e,t,n,i){t&=~Ig,t&=~xr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-sn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&rT(e,n,t)}function ah(){return me&6?!0:(fu(0),!1)}function Lg(){if(se!==null){if(ve===0)var e=se.return;else e=se,Ni=Gr=null,Sg(e),Ra=null,Pl=0,e=se;for(;e!==null;)IE(e.alternate,e),e=e.return;se=null}}function Za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,rR(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Li=0,Lg(),we=e,se=n=ki(e.current,null),ae=t,ve=0,Kt=null,ys=!1,ao=su(e,t),kg=!1,Ga=en=Ig=xr=Ps=Ve=0,jt=vl=null,Vm=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-sn(i),r=1<<s;t|=e[s],i&=~r}return Bi=t,Qf(),n}function n1(e,t){W=null,J.H=jl,t===ro||t===eh?(t=Kv(),ve=3):t===dg?(t=Kv(),ve=4):ve=t===Rg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,se===null&&(Ve=1,af(e,gn(t,e.current)))}function i1(){var e=on.current;return e===null?!0:(ae&4194048)===ae?bn===null:(ae&62914560)===ae||ae&536870912?e===bn:!1}function s1(){var e=J.H;return J.H=jl,e===null?jl:e}function r1(){var e=J.A;return J.A=PO,e}function ff(){Ve=4,ys||(ae&4194048)!==ae&&on.current!==null||(ao=!0),!(Ps&134217727)&&!(xr&134217727)||we===null||vs(we,ae,en,!1)}function fd(e,t,n){var i=me;me|=2;var s=s1(),r=r1();(we!==e||ae!==t)&&(cf=null,Za(e,t)),t=!1;var a=Ve;e:do try{if(ve!==0&&se!==null){var o=se,u=Kt;switch(ve){case 8:Lg(),a=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var c=ve;if(ve=0,Kt=null,ya(e,o,u,c),n&&ao){a=0;break e}break;default:c=ve,ve=0,Kt=null,ya(e,o,u,c)}}VO(),a=Ve;break}catch(f){n1(e,f)}while(!0);return t&&e.shellSuspendCounter++,Ni=Gr=null,me=i,J.H=s,J.A=r,se===null&&(we=null,ae=0,Qf()),a}function VO(){for(;se!==null;)a1(se)}function BO(e,t){var n=me;me|=2;var i=s1(),s=r1();we!==e||ae!==t?(cf=null,uf=tn()+500,Za(e,t)):ao=su(e,t);e:do try{if(ve!==0&&se!==null){t=se;var r=Kt;t:switch(ve){case 1:ve=0,Kt=null,ya(e,t,r,1);break;case 2:case 9:if(Yv(r)){ve=0,Kt=null,_0(t);break}t=function(){ve!==2&&ve!==9||we!==e||(ve=7),ui(e)},r.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:Yv(r)?(ve=0,Kt=null,_0(t)):(ve=0,Kt=null,ya(e,t,r,7));break;case 5:var a=null;switch(se.tag){case 26:a=se.memoizedState;case 5:case 27:var o=se;if(a?x1(a):o.stateNode.complete){ve=0,Kt=null;var u=o.sibling;if(u!==null)se=u;else{var c=o.return;c!==null?(se=c,oh(c)):se=null}break t}}ve=0,Kt=null,ya(e,t,r,5);break;case 6:ve=0,Kt=null,ya(e,t,r,6);break;case 8:Lg(),Ve=6;break e;default:throw Error(j(462))}}HO();break}catch(f){n1(e,f)}while(!0);return Ni=Gr=null,J.H=i,J.A=s,me=n,se!==null?0:(we=null,ae=0,Qf(),Ve)}function HO(){for(;se!==null&&!f2();)a1(se)}function a1(e){var t=kE(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,t===null?oh(e):se=t}function _0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=h0(n,t,t.pendingProps,t.type,void 0,ae);break;case 11:t=h0(n,t,t.pendingProps,t.type.render,t.ref,ae);break;case 5:Sg(t);default:IE(n,t),t=se=IT(t,Bi),t=kE(n,t,Bi)}e.memoizedProps=e.pendingProps,t===null?oh(e):se=t}function ya(e,t,n,i){Ni=Gr=null,Sg(t),Ra=null,Pl=0;var s=t.return;try{if(NO(e,s,t,n,ae)){Ve=1,af(e,gn(n,e.current)),se=null;return}}catch(r){if(s!==null)throw se=s,r;Ve=1,af(e,gn(n,e.current)),se=null;return}t.flags&32768?(le||i===1?e=!0:ao||ae&536870912?e=!1:(ys=e=!0,(i===2||i===9||i===3||i===6)&&(i=on.current,i!==null&&i.tag===13&&(i.flags|=16384))),o1(t,e)):oh(t)}function oh(e){var t=e;do{if(t.flags&32768){o1(t,ys);return}e=t.return;var n=kO(t.alternate,t,Bi);if(n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);Ve===0&&(Ve=5)}function o1(e,t){do{var n=IO(e.alternate,e);if(n!==null){n.flags&=32767,se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=n}while(e!==null);Ve=6,se=null}function S0(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do lh();while(at!==0);if(me&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(r=t.lanes|t.childLanes,r|=ag,b2(e,n,r,a,o,u),e===we&&(se=we=null,ae=0),$a=t,Cs=e,Li=n,Bm=r,Hm=s,WE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,ZO(Xc,function(){return h1(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=J.T,J.T=null,s=pe.p,pe.p=2,a=me,me|=4;try{LO(e,t,n)}finally{me=a,pe.p=s,J.T=i}}at=1,l1(),u1(),c1()}}function l1(){if(at===1){at=0;var e=Cs,t=$a,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{$E(t,e);var r=qm,a=xT(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&wT(o.ownerDocument.documentElement,o)){if(u!==null&&rg(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),C=o.textContent.length,N=Math.min(u.start,C),I=u.end===void 0?N:Math.min(u.end,C);!g.extend&&N>I&&(a=I,I=N,N=a);var b=Hv(o,N),v=Hv(o,I);if(b&&v&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var w=d.createRange();w.setStart(b.node,b.offset),g.removeAllRanges(),N>I?(g.addRange(w),g.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),g.addRange(w))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var R=d[o];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}_f=!!Zm,qm=Zm=null}finally{me=s,pe.p=i,J.T=n}}e.current=t,at=2}}function u1(){if(at===2){at=0;var e=Cs,t=$a,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{VE(e,t.alternate,t)}finally{me=s,pe.p=i,J.T=n}}at=3}}function c1(){if(at===4||at===3){at=0,h2();var e=Cs,t=$a,n=Li,i=WE;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,$a=Cs=null,f1(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(xs=null),Qp(n),t=t.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=J.T,s=pe.p,pe.p=2,J.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{J.T=t,pe.p=s}}Li&3&&lh(),ui(e),s=e.pendingLanes,n&261930&&s&42?e===Fm?_l++:(_l=0,Fm=e):_l=0,fu(0)}}function f1(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lu(t)))}function lh(){return l1(),u1(),c1(),h1()}function h1(){if(at!==5)return!1;var e=Cs,t=Bm;Bm=0;var n=Qp(Li),i=J.T,s=pe.p;try{pe.p=32>n?32:n,J.T=null,n=Hm,Hm=null;var r=Cs,a=Li;if(at=0,$a=Cs=null,Li=0,me&6)throw Error(j(331));var o=me;if(me|=4,KE(r.current),qE(r,r.current,a,n),me=o,fu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(iu,r)}catch{}return!0}finally{pe.p=s,J.T=i,f1(e,t)}}function b0(e,t,n){t=gn(n,t),t=zm(e.stateNode,t,2),e=ws(e,t,2),e!==null&&(ru(e,2),ui(e))}function Se(e,t,n){if(e.tag===3)b0(e,e,n);else for(;t!==null;){if(t.tag===3){b0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xs===null||!xs.has(i))){e=gn(n,e),n=CE(2),i=ws(t,n,2),i!==null&&(OE(n,i,t,e),ru(i,2),ui(i));break}}t=t.return}}function hd(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new UO;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(kg=!0,s.add(n),e=FO.bind(null,e,t,n),t.then(e,e))}function FO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,we===e&&(ae&n)===n&&(Ve===4||Ve===3&&(ae&62914560)===ae&&300>tn()-rh?!(me&2)&&Za(e,0):Ig|=n,Ga===ae&&(Ga=0)),ui(e)}function d1(e,t){t===0&&(t=sT()),e=Fr(e,t),e!==null&&(ru(e,t),ui(e))}function GO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),d1(e,n)}function $O(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(j(314))}i!==null&&i.delete(t),d1(e,n)}function ZO(e,t){return Kp(e,t)}var hf=null,sa=null,Gm=!1,df=!1,dd=!1,_s=0;function ui(e){e!==sa&&e.next===null&&(sa===null?hf=sa=e:sa=sa.next=e),df=!0,Gm||(Gm=!0,XO())}function fu(e,t){if(!dd&&df){dd=!0;do for(var n=!1,i=hf;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-sn(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,T0(i,r))}else r=ae,r=Xf(i,i===we?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||su(i,r)||(n=!0,T0(i,r));i=i.next}while(n);dd=!1}}function qO(){m1()}function m1(){df=Gm=!1;var e=0;_s!==0&&sR()&&(e=_s);for(var t=tn(),n=null,i=hf;i!==null;){var s=i.next,r=p1(i,t);r===0?(i.next=null,n===null?hf=s:n.next=s,s===null&&(sa=n)):(n=i,(e!==0||r&3)&&(df=!0)),i=s}at!==0&&at!==5||fu(e),_s!==0&&(_s=0)}function p1(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-sn(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=S2(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=we,n=ae,n=Xf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Bh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||su(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Bh(i),Qp(n)){case 2:case 8:n=nT;break;case 32:n=Xc;break;case 268435456:n=iT;break;default:n=Xc}return i=g1.bind(null,e),n=Kp(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Bh(i),e.callbackPriority=2,e.callbackNode=null,2}function g1(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lh()&&e.callbackNode!==n)return null;var i=ae;return i=Xf(e,e===we?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(t1(e,i,t),p1(e,tn()),e.callbackNode!=null&&e.callbackNode===n?g1.bind(null,e):null)}function T0(e,t){if(lh())return null;t1(e,t,!0)}function XO(){aR(function(){me&6?Kp(tT,qO):m1()})}function zg(){if(_s===0){var e=Ba;e===0&&(e=Gu,Gu<<=1,!(Gu&261888)&&(Gu=256)),_s=e}return _s}function E0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sc(""+e)}function A0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function YO(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=E0((s[Ht]||null).action),a=i.submitter;a&&(t=(t=a[Ht]||null)?E0(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Yf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(_s!==0){var u=a?A0(s,a):new FormData(s);Im(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?A0(s,a):new FormData(s),Im(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var md=0;md<Tm.length;md++){var pd=Tm[md],KO=pd.toLowerCase(),JO=pd[0].toUpperCase()+pd.slice(1);Bn(KO,"on"+JO)}Bn(OT,"onAnimationEnd");Bn(RT,"onAnimationIteration");Bn(NT,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(dO,"onTransitionRun");Bn(mO,"onTransitionStart");Bn(pO,"onTransitionCancel");Bn(DT,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function y1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(f){Kc(f)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(f){Kc(f)}s.currentTarget=null,r=u}}}}function ie(e,t){var n=t[mm];n===void 0&&(n=t[mm]=new Set);var i=e+"__bubble";n.has(i)||(v1(t,e,2,!1),n.add(i))}function gd(e,t,n){var i=0;t&&(i|=4),v1(n,e,i,t)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Pg(e){if(!e[ec]){e[ec]=!0,uT.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||gd(n,!1,e),gd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ec]||(t[ec]=!0,gd("selectionchange",!1,t))}}function v1(e,t,n,i){switch(D1(t)){case 2:var s=xR;break;case 8:s=CR;break;default:s=Bg}n=s.bind(null,t,n,e),s=void 0,!_m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yd(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=la(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}o=o.parentNode}}i=i.return}yT(function(){var c=r,f=tg(n),d=[];e:{var m=MT.get(e);if(m!==void 0){var g=Yf,C=e;switch(e){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":g=$2;break;case"focusin":C="focus",g=Zh;break;case"focusout":C="blur",g=Zh;break;case"beforeblur":case"afterblur":g=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=k2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=X2;break;case OT:case RT:case NT:g=z2;break;case DT:g=K2;break;case"scroll":case"scrollend":g=D2;break;case"wheel":g=Q2;break;case"copy":case"cut":case"paste":g=U2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Iv;break;case"toggle":case"beforetoggle":g=eO}var N=(t&4)!==0,I=!N&&(e==="scroll"||e==="scrollend"),b=N?m!==null?m+"Capture":null:m;N=[];for(var v=c,w;v!==null;){var R=v;if(w=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||w===null||b===null||(R=Ml(v,b),R!=null&&N.push(Bl(v,R,w))),I)break;v=v.return}0<N.length&&(m=new g(m,C,null,n,f),d.push({event:m,listeners:N}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==vm&&(C=n.relatedTarget||n.fromElement)&&(la(C)||C[no]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=c,C=C?la(C):null,C!==null&&(I=nu(C),N=C.tag,C!==I||N!==5&&N!==27&&N!==6)&&(C=null)):(g=null,C=c),g!==C)){if(N=Mv,R="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(N=Iv,R="onPointerLeave",b="onPointerEnter",v="pointer"),I=g==null?m:nl(g),w=C==null?m:nl(C),m=new N(R,v+"leave",g,n,f),m.target=I,m.relatedTarget=w,R=null,la(f)===c&&(N=new N(b,v+"enter",C,n,f),N.target=w,N.relatedTarget=I,R=N),I=R,g&&C)t:{for(N=WO,b=g,v=C,w=0,R=b;R;R=N(R))w++;R=0;for(var z=v;z;z=N(z))R++;for(;0<w-R;)b=N(b),w--;for(;0<R-w;)v=N(v),R--;for(;w--;){if(b===v||v!==null&&b===v.alternate){N=b;break t}b=N(b),v=N(v)}N=null}else N=null;g!==null&&w0(d,m,g,N,!1),C!==null&&I!==null&&w0(d,I,C,N,!0)}}e:{if(m=c?nl(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=Uv;else if(Pv(m))if(ET)V=cO;else{V=lO;var T=oO}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&eg(c.elementType)&&(V=Uv):V=uO;if(V&&(V=V(e,c))){TT(d,V,n,f);break e}T&&T(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&ym(m,"number",m.value)}switch(T=c?nl(c):window,e){case"focusin":(Pv(T)||T.contentEditable==="true")&&(fa=T,Sm=c,cl=null);break;case"focusout":cl=Sm=fa=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Fv(d,n,f);break;case"selectionchange":if(hO)break;case"keydown":case"keyup":Fv(d,n,f)}var y;if(sg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ca?ST(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(_T&&n.locale!=="ko"&&(ca||S!=="onCompositionStart"?S==="onCompositionEnd"&&ca&&(y=vT()):(gs=f,ng="value"in gs?gs.value:gs.textContent,ca=!0)),T=mf(c,S),0<T.length&&(S=new kv(S,e,null,n,f),d.push({event:S,listeners:T}),y?S.data=y:(y=bT(n),y!==null&&(S.data=y)))),(y=nO?iO(e,n):sO(e,n))&&(S=mf(c,"onBeforeInput"),0<S.length&&(T=new kv("onBeforeInput","beforeinput",null,n,f),d.push({event:T,listeners:S}),T.data=y)),YO(d,e,c,n,f)}y1(d,t)})}function Bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mf(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ml(e,n),s!=null&&i.unshift(Bl(e,s,r)),s=Ml(e,t),s!=null&&i.push(Bl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function WO(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w0(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,s?(c=Ml(n,r),c!=null&&a.unshift(Bl(n,c,u))):s||(c=Ml(n,r),c!=null&&a.push(Bl(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function x0(e){return(typeof e=="string"?e:""+e).replace(eR,`
`).replace(tR,"")}function _1(e,t){return t=x0(t),x0(e)===t}function Te(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Va(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Va(e,""+i);break;case"className":qu(e,"class",i);break;case"tabIndex":qu(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":qu(e,n,i);break;case"style":gT(e,i,r);break;case"data":if(t!=="object"){qu(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Sc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",s.name,s,null),Te(e,t,"formEncType",s.formEncType,s,null),Te(e,t,"formMethod",s.formMethod,s,null),Te(e,t,"formTarget",s.formTarget,s,null)):(Te(e,t,"encType",s.encType,s,null),Te(e,t,"method",s.method,s,null),Te(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Sc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ri);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Sc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ie("beforetoggle",e),ie("toggle",e),_c(e,"popover",i);break;case"xlinkActuate":vi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":vi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":vi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":vi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":vi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":vi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":vi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":vi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":vi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":_c(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=R2.get(n)||n,_c(e,n,i))}}function $m(e,t,n,i,s,r){switch(n){case"style":gT(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Va(e,i):(typeof i=="number"||typeof i=="bigint")&&Va(e,""+i);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Ht]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):_c(e,n,i)}}}function Et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Te(e,t,r,a,n,null)}}s&&Te(e,t,"srcSet",n.srcSet,n,null),i&&Te(e,t,"src",n.src,n,null);return;case"input":ie("invalid",e);var o=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,t));break;default:Te(e,t,i,f,n,null)}}dT(e,r,o,u,c,a,s,!1);return;case"select":ie("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Te(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?xa(e,!!i,t,!1):n!=null&&xa(e,!!i,n,!0);return;case"textarea":ie("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:Te(e,t,a,o,n,null)}pT(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Te(e,t,u,i,n,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(i=0;i<Vl.length;i++)ie(Vl[i],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Te(e,t,c,i,n,null)}return;default:if(eg(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&$m(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Te(e,t,o,i,n,null))}function nR(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,c=null,f=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(g)||Te(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(j(137,t));break;default:g!==d&&Te(e,t,m,g,i,d)}}gm(e,a,o,u,c,f,r,s);return;case"select":g=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(r)||Te(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&Te(e,t,s,r,i,u)}t=o,n=a,i=g,m!=null?xa(e,!!n,m,!1):!!i!=!!n&&(t!=null?xa(e,!!n,t,!0):xa(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Te(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(j(91));break;default:s!==r&&Te(e,t,a,s,i,r)}mT(e,m,g);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:Te(e,t,C,null,i,m)}for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Te(e,t,u,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N)&&Te(e,t,N,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(j(137,t));break;default:Te(e,t,c,m,i,g)}return;default:if(eg(t)){for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!==void 0&&!i.hasOwnProperty(I)&&$m(e,t,I,void 0,i,m);for(f in i)m=i[f],g=n[f],!i.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||$m(e,t,f,m,i,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&Te(e,t,b,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||Te(e,t,d,m,i,g)}function C0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iR(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&C0(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var f=u.transferSize,d=u.initiatorType;f&&C0(d)&&(u=u.responseEnd,a+=f*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zm=null,qm=null;function pf(e){return e.nodeType===9?e:e.ownerDocument}function O0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vd=null;function sR(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var b1=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(oR)}:b1;function oR(e){setTimeout(function(){throw e})}function $s(e){return e==="head"}function N0(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Xa(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Sl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Sl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[au]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Sl(e.ownerDocument.body);n=s}while(n);Xa(t)}function D0(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ym(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ym(n),Wp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function lR(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[au])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function uR(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function T1(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function Km(e){return e.data==="$?"||e.data==="$~"}function Jm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cR(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qm=null;function M0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function k0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function E1(e,t,n){switch(t=pf(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wp(e)}var An=new Map,I0=new Set;function gf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=pe.d;pe.d={f:fR,r:hR,D:dR,C:mR,L:pR,m:gR,X:vR,S:yR,M:_R};function fR(){var e=Zi.f(),t=ah();return e||t}function hR(e){var t=io(e);t!==null&&t.tag===5&&t.type==="form"?gE(t):Zi.r(e)}var oo=typeof document>"u"?null:document;function A1(e,t,n){var i=oo;if(i&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),I0.has(s)||(I0.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function dR(e){Zi.D(e),A1("dns-prefetch",e,null)}function mR(e,t){Zi.C(e,t),A1("preconnect",e,t)}function pR(e,t,n){Zi.L(e,t,n);var i=oo;if(i&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var r=s;switch(t){case"style":r=qa(e);break;case"script":r=lo(e)}An.has(r)||(e=De({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(hu(r))||t==="script"&&i.querySelector(du(r))||(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function gR(e,t){Zi.m(e,t);var n=oo;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(i)+'"][href="'+pn(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=lo(e)}if(!An.has(r)&&(e=De({rel:"modulepreload",href:e},t),An.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(du(r)))return}i=n.createElement("link"),Et(i,"link",e),ht(i),n.head.appendChild(i)}}}function yR(e,t,n){Zi.S(e,t,n);var i=oo;if(i&&e){var s=wa(i).hoistableStyles,r=qa(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(hu(r)))o.loading=5;else{e=De({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(r))&&Ug(e,n);var u=a=i.createElement("link");ht(u),Et(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Nc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function vR(e,t){Zi.X(e,t);var n=oo;if(n&&e){var i=wa(n).hoistableScripts,s=lo(e),r=i.get(s);r||(r=n.querySelector(du(s)),r||(e=De({src:e,async:!0},t),(t=An.get(s))&&jg(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function _R(e,t){Zi.M(e,t);var n=oo;if(n&&e){var i=wa(n).hoistableScripts,s=lo(e),r=i.get(s);r||(r=n.querySelector(du(s)),r||(e=De({src:e,async:!0,type:"module"},t),(t=An.get(s))&&jg(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function L0(e,t,n,i){var s=(s=Ts.current)?gf(s):null;if(!s)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=qa(n.href),n=wa(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=qa(n.href);var r=wa(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(hu(e)))&&!r._p&&(a.instance=r,a.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),r||SR(s,e,n,a.state))),t&&i===null)throw Error(j(528,""));return a}if(t&&i!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=lo(n),n=wa(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function qa(e){return'href="'+pn(e)+'"'}function hu(e){return'link[rel="stylesheet"]['+e+"]"}function w1(e){return De({},e,{"data-precedence":e.precedence,precedence:null})}function SR(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Et(t,"link",n),ht(t),e.head.appendChild(t))}function lo(e){return'[src="'+pn(e)+'"]'}function du(e){return"script[async]"+e}function z0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(i)return t.instance=i,ht(i),i;var s=De({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ht(i),Et(i,"style",s),Nc(i,n.precedence,e),t.instance=i;case"stylesheet":s=qa(n.href);var r=e.querySelector(hu(s));if(r)return t.state.loading|=4,t.instance=r,ht(r),r;i=w1(n),(s=An.get(s))&&Ug(i,s),r=(e.ownerDocument||e).createElement("link"),ht(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Et(r,"link",i),t.state.loading|=4,Nc(r,n.precedence,e),t.instance=r;case"script":return r=lo(n.src),(s=e.querySelector(du(r)))?(t.instance=s,ht(s),s):(i=n,(s=An.get(r))&&(i=De({},n),jg(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),ht(s),Et(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Nc(i,n.precedence,e));return t.instance}function Nc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ug(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Dc=null;function P0(e,t,n){if(Dc===null){var i=new Map,s=Dc=new Map;s.set(n,i)}else s=Dc,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[au]||r[St]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function U0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function bR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function x1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function TR(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=qa(i.href),r=t.querySelector(hu(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,ht(r);return}r=t.ownerDocument||t,i=w1(i),(s=An.get(s))&&Ug(i,s),r=r.createElement("link"),ht(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Et(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=yf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var _d=0;function ER(e,t){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&_d===0&&(_d=62500*iR());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>_d?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vf=null;function Mc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vf=new Map,t.forEach(AR,e),vf=null,yf.call(e))}function AR(e,t){if(!(t.state.loading&4)){var n=vf.get(e);if(n)var i=n.get(null);else{n=new Map,vf.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=yf.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Hl={$$typeof:Oi,Provider:null,Consumer:null,_currentValue:Tr,_currentValue2:Tr,_threadCount:0};function wR(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.hiddenUpdates=Hh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function C1(e,t,n,i,s,r,a,o,u,c,f,d){return e=new wR(e,t,n,a,u,c,f,d,o),t=1,r===!0&&(t|=24),r=Wt(3,null,null,t),e.current=r,r.stateNode=e,t=fg(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},mg(r),e}function O1(e){return e?(e=ma,e):ma}function R1(e,t,n,i,s,r){s=O1(s),i.context===null?i.context=s:i.pendingContext=s,i=As(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ws(e,i,t),n!==null&&(Bt(n,e,t),hl(n,e,t))}function j0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vg(e,t){j0(e,t),(e=e.alternate)&&j0(e,t)}function N1(e){if(e.tag===13||e.tag===31){var t=Fr(e,67108864);t!==null&&Bt(t,e,67108864),Vg(e,67108864)}}function V0(e){if(e.tag===13||e.tag===31){var t=rn();t=Jp(t);var n=Fr(e,t);n!==null&&Bt(n,e,t),Vg(e,t)}}var _f=!0;function xR(e,t,n,i){var s=J.T;J.T=null;var r=pe.p;try{pe.p=2,Bg(e,t,n,i)}finally{pe.p=r,J.T=s}}function CR(e,t,n,i){var s=J.T;J.T=null;var r=pe.p;try{pe.p=8,Bg(e,t,n,i)}finally{pe.p=r,J.T=s}}function Bg(e,t,n,i){if(_f){var s=Wm(i);if(s===null)yd(e,t,i,Sf,n),B0(e,i);else if(RR(s,e,t,n,i))i.stopPropagation();else if(B0(e,i),t&4&&-1<OR.indexOf(e)){for(;s!==null;){var r=io(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=hr(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-sn(a);o.entanglements[1]|=u,a&=~u}ui(r),!(me&6)&&(uf=tn()+500,fu(0))}}break;case 31:case 13:o=Fr(r,2),o!==null&&Bt(o,r,2),ah(),Vg(r,2)}if(r=Wm(i),r===null&&yd(e,t,i,Sf,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else yd(e,t,i,null,n)}}function Wm(e){return e=tg(e),Hg(e)}var Sf=null;function Hg(e){if(Sf=null,e=la(e),e!==null){var t=nu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Kb(t),e!==null)return e;e=null}else if(n===31){if(e=Jb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sf=e,null}function D1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(d2()){case tT:return 2;case nT:return 8;case Xc:case m2:return 32;case iT:return 268435456;default:return 32}default:return 32}}var ep=!1,Os=null,Rs=null,Ns=null,Fl=new Map,Gl=new Map,cs=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(t.pointerId)}}function Go(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=io(t),t!==null&&N1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function RR(e,t,n,i,s){switch(t){case"focusin":return Os=Go(Os,e,t,n,i,s),!0;case"dragenter":return Rs=Go(Rs,e,t,n,i,s),!0;case"mouseover":return Ns=Go(Ns,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Fl.set(r,Go(Fl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Gl.set(r,Go(Gl.get(r)||null,e,t,n,i,s)),!0}return!1}function M1(e){var t=la(e.target);if(t!==null){var n=nu(t);if(n!==null){if(t=n.tag,t===13){if(t=Kb(n),t!==null){e.blockedOn=t,wv(e.priority,function(){V0(n)});return}}else if(t===31){if(t=Jb(n),t!==null){e.blockedOn=t,wv(e.priority,function(){V0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wm(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);vm=i,n.target.dispatchEvent(i),vm=null}else return t=io(n),t!==null&&N1(t),e.blockedOn=n,!1;t.shift()}return!0}function H0(e,t,n){kc(e)&&n.delete(t)}function NR(){ep=!1,Os!==null&&kc(Os)&&(Os=null),Rs!==null&&kc(Rs)&&(Rs=null),Ns!==null&&kc(Ns)&&(Ns=null),Fl.forEach(H0),Gl.forEach(H0)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,ep||(ep=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,NR)))}var nc=null;function F0(e){nc!==e&&(nc=e,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(Hg(i||n)===null)continue;break}var r=io(n);r!==null&&(e.splice(t,3),t-=3,Im(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Xa(e){function t(u){return tc(u,e)}Os!==null&&tc(Os,e),Rs!==null&&tc(Rs,e),Ns!==null&&tc(Ns,e),Fl.forEach(t),Gl.forEach(t);for(var n=0;n<cs.length;n++){var i=cs[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)M1(n),n.blockedOn===null&&cs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ht]||null;if(typeof r=="function")a||F0(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ht]||null)o=a.formAction;else if(Hg(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),F0(n)}}}function k1(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Fg(e){this._internalRoot=e}uh.prototype.render=Fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,i=rn();R1(n,i,e,t,null,null)};uh.prototype.unmount=Fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;R1(e.current,2,null,e,null,null),ah(),t[no]=null}};function uh(e){this._internalRoot=e}uh.prototype.unstable_scheduleHydration=function(e){if(e){var t=lT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cs.length&&t!==0&&t<cs[n].priority;n++);cs.splice(n,0,e),n===0&&M1(e)}};var G0=Xb.version;if(G0!=="19.2.3")throw Error(j(527,G0,"19.2.3"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=a2(t),e=e!==null?Qb(e):null,e=e===null?null:e.stateNode,e};var DR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{iu=ic.inject(DR),nn=ic}catch{}}qf.createRoot=function(e,t){if(!Yb(e))throw Error(j(299));var n=!1,i="",s=AE,r=wE,a=xE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=C1(e,1,!1,null,null,n,i,null,s,r,a,k1),e[no]=t.current,Pg(e),new Fg(t)};qf.hydrateRoot=function(e,t,n){if(!Yb(e))throw Error(j(299));var i=!1,s="",r=AE,a=wE,o=xE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=C1(e,1,!0,t,n??null,i,s,u,r,a,o,k1),t.context=O1(null),n=t.current,i=rn(),i=Jp(i),s=As(i),s.callback=null,ws(n,s,i),n=i,t.current.lanes=n,ru(t,n),ui(t),e[no]=t.current,Pg(e),new uh(t)};qf.version="19.2.3";function I1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I1)}catch(e){console.error(e)}}I1(),$b.exports=qf;var MR=$b.exports;const kR="modulepreload",IR=function(e,t){return new URL(e,t).href},$0={},Y=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=IR(c,i),c in $0)return;$0[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!i)for(let C=a.length-1;C>=0;C--){const N=a[C];if(N.href===c&&(!f||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":kR,f||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((C,N)=>{g.addEventListener("load",C),g.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})},$l="tontines",L1="Tontines: The Mathematics of Lifetime Income",LR="From 17th century finance to modern retirement security - understanding the mathematics of longevity risk pooling",z1="",zR="https://mathacademy-cyan.vercel.app",zn={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0,transcripts:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:P1,setPrototypeOf:Z0,isFrozen:PR,getPrototypeOf:UR,getOwnPropertyDescriptor:jR}=Object;let{freeze:Mt,seal:wn,create:tp}=Object,{apply:np,construct:ip}=typeof Reflect<"u"&&Reflect;Mt||(Mt=function(t){return t});wn||(wn=function(t){return t});np||(np=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return t.apply(n,s)});ip||(ip=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const sc=kt(Array.prototype.forEach),VR=kt(Array.prototype.lastIndexOf),q0=kt(Array.prototype.pop),$o=kt(Array.prototype.push),BR=kt(Array.prototype.splice),Ic=kt(String.prototype.toLowerCase),Sd=kt(String.prototype.toString),bd=kt(String.prototype.match),Zo=kt(String.prototype.replace),HR=kt(String.prototype.indexOf),FR=kt(String.prototype.trim),Mn=kt(Object.prototype.hasOwnProperty),Ct=kt(RegExp.prototype.test),qo=GR(TypeError);function kt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return np(e,t,i)}}function GR(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ip(e,n)}}function ne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ic;Z0&&Z0(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const r=n(s);r!==s&&(PR(t)||(t[i]=r),s=r)}e[s]=!0}return e}function $R(e){for(let t=0;t<e.length;t++)Mn(e,t)||(e[t]=null);return e}function Xn(e){const t=tp(null);for(const[n,i]of P1(e))Mn(e,n)&&(Array.isArray(i)?t[n]=$R(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Xn(i):t[n]=i);return t}function Xo(e,t){for(;e!==null;){const i=jR(e,t);if(i){if(i.get)return kt(i.get);if(typeof i.value=="function")return kt(i.value)}e=UR(e)}function n(){return null}return n}const X0=Mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Td=Mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ed=Mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZR=Mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ad=Mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),qR=Mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y0=Mt(["#text"]),K0=Mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wd=Mt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J0=Mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rc=Mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XR=wn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YR=wn(/<%[\w\W]*|[\w\W]*%>/gm),KR=wn(/\$\{[\w\W]*/gm),JR=wn(/^data-[\-\w.\u00B7-\uFFFF]+$/),QR=wn(/^aria-[\-\w]+$/),U1=wn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WR=wn(/^(?:\w+script|data):/i),eN=wn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),j1=wn(/^html$/i),tN=wn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q0=Object.freeze({__proto__:null,ARIA_ATTR:QR,ATTR_WHITESPACE:eN,CUSTOM_ELEMENT:tN,DATA_ATTR:JR,DOCTYPE_NAME:j1,ERB_EXPR:YR,IS_ALLOWED_URI:U1,IS_SCRIPT_OR_DATA:WR,MUSTACHE_EXPR:XR,TMPLIT_EXPR:KR});const Yo={element:1,text:3,progressingInstruction:7,comment:8,document:9},nN=function(){return typeof window>"u"?null:window},iN=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},W0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function V1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nN();const t=X=>V1(X);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Yo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:g}=e,C=u.prototype,N=Xo(C,"cloneNode"),I=Xo(C,"remove"),b=Xo(C,"nextSibling"),v=Xo(C,"childNodes"),w=Xo(C,"parentNode");if(typeof a=="function"){const X=n.createElement("template");X.content&&X.content.ownerDocument&&(n=X.content.ownerDocument)}let R,z="";const{implementation:V,createNodeIterator:T,createDocumentFragment:y,getElementsByTagName:S}=n,{importNode:A}=i;let x=W0();t.isSupported=typeof P1=="function"&&typeof w=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:O,TMPLIT_EXPR:re,DATA_ATTR:oe,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:te}=Q0;let{IS_ALLOWED_URI:ce}=Q0,ye=null;const At=ne({},[...X0,...Td,...Ed,...Ad,...Y0]);let Me=null;const xt=ne({},[...K0,...wd,...J0,...rc]);let ge=Object.seal(tp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hi=null,Ys=null;const Hn=Object.seal(tp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let _o=!0,So=!0,Au=!1,bo=!0,Fn=!1,Ks=!0,di=!1,Js=!1,Qs=!1,mi=!1,Fe=!1,Ye=!1,Ws=!0,wu=!1;const xu="user-content-";let To=!0,On=!1,pi={},$t=null;const er=ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Cu=null;const Ou=ne({},["audio","video","img","source","image","track"]);let qr=null;const Ru=ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gn="http://www.w3.org/1998/Math/MathML",qi="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml";let qt=Zt,Xr=!1,tr=null;const Nu=ne({},[Gn,qi,Zt],Sd);let $n=ne({},["mi","mo","mn","ms","mtext"]),nr=ne({},["annotation-xml"]);const pt=ne({},["title","style","font","a","script"]);let Xi=null;const ir=["application/xhtml+xml","text/html"],sr="text/html";let Ge=null,Yi=null;const Ki=n.createElement("form"),Du=function(D){return D instanceof RegExp||D instanceof Function},Eo=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yi&&Yi===D)){if((!D||typeof D!="object")&&(D={}),D=Xn(D),Xi=ir.indexOf(D.PARSER_MEDIA_TYPE)===-1?sr:D.PARSER_MEDIA_TYPE,Ge=Xi==="application/xhtml+xml"?Sd:Ic,ye=Mn(D,"ALLOWED_TAGS")?ne({},D.ALLOWED_TAGS,Ge):At,Me=Mn(D,"ALLOWED_ATTR")?ne({},D.ALLOWED_ATTR,Ge):xt,tr=Mn(D,"ALLOWED_NAMESPACES")?ne({},D.ALLOWED_NAMESPACES,Sd):Nu,qr=Mn(D,"ADD_URI_SAFE_ATTR")?ne(Xn(Ru),D.ADD_URI_SAFE_ATTR,Ge):Ru,Cu=Mn(D,"ADD_DATA_URI_TAGS")?ne(Xn(Ou),D.ADD_DATA_URI_TAGS,Ge):Ou,$t=Mn(D,"FORBID_CONTENTS")?ne({},D.FORBID_CONTENTS,Ge):er,hi=Mn(D,"FORBID_TAGS")?ne({},D.FORBID_TAGS,Ge):Xn({}),Ys=Mn(D,"FORBID_ATTR")?ne({},D.FORBID_ATTR,Ge):Xn({}),pi=Mn(D,"USE_PROFILES")?D.USE_PROFILES:!1,_o=D.ALLOW_ARIA_ATTR!==!1,So=D.ALLOW_DATA_ATTR!==!1,Au=D.ALLOW_UNKNOWN_PROTOCOLS||!1,bo=D.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Fn=D.SAFE_FOR_TEMPLATES||!1,Ks=D.SAFE_FOR_XML!==!1,di=D.WHOLE_DOCUMENT||!1,mi=D.RETURN_DOM||!1,Fe=D.RETURN_DOM_FRAGMENT||!1,Ye=D.RETURN_TRUSTED_TYPE||!1,Qs=D.FORCE_BODY||!1,Ws=D.SANITIZE_DOM!==!1,wu=D.SANITIZE_NAMED_PROPS||!1,To=D.KEEP_CONTENT!==!1,On=D.IN_PLACE||!1,ce=D.ALLOWED_URI_REGEXP||U1,qt=D.NAMESPACE||Zt,$n=D.MATHML_TEXT_INTEGRATION_POINTS||$n,nr=D.HTML_INTEGRATION_POINTS||nr,ge=D.CUSTOM_ELEMENT_HANDLING||{},D.CUSTOM_ELEMENT_HANDLING&&Du(D.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=D.CUSTOM_ELEMENT_HANDLING.tagNameCheck),D.CUSTOM_ELEMENT_HANDLING&&Du(D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),D.CUSTOM_ELEMENT_HANDLING&&typeof D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fn&&(So=!1),Fe&&(mi=!0),pi&&(ye=ne({},Y0),Me=[],pi.html===!0&&(ne(ye,X0),ne(Me,K0)),pi.svg===!0&&(ne(ye,Td),ne(Me,wd),ne(Me,rc)),pi.svgFilters===!0&&(ne(ye,Ed),ne(Me,wd),ne(Me,rc)),pi.mathMl===!0&&(ne(ye,Ad),ne(Me,J0),ne(Me,rc))),D.ADD_TAGS&&(typeof D.ADD_TAGS=="function"?Hn.tagCheck=D.ADD_TAGS:(ye===At&&(ye=Xn(ye)),ne(ye,D.ADD_TAGS,Ge))),D.ADD_ATTR&&(typeof D.ADD_ATTR=="function"?Hn.attributeCheck=D.ADD_ATTR:(Me===xt&&(Me=Xn(Me)),ne(Me,D.ADD_ATTR,Ge))),D.ADD_URI_SAFE_ATTR&&ne(qr,D.ADD_URI_SAFE_ATTR,Ge),D.FORBID_CONTENTS&&($t===er&&($t=Xn($t)),ne($t,D.FORBID_CONTENTS,Ge)),D.ADD_FORBID_CONTENTS&&($t===er&&($t=Xn($t)),ne($t,D.ADD_FORBID_CONTENTS,Ge)),To&&(ye["#text"]=!0),di&&ne(ye,["html","head","body"]),ye.table&&(ne(ye,["tbody"]),delete hi.tbody),D.TRUSTED_TYPES_POLICY){if(typeof D.TRUSTED_TYPES_POLICY.createHTML!="function")throw qo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof D.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=D.TRUSTED_TYPES_POLICY,z=R.createHTML("")}else R===void 0&&(R=iN(g,s)),R!==null&&typeof z=="string"&&(z=R.createHTML(""));Mt&&Mt(D),Yi=D}},Yr=ne({},[...Td,...Ed,...ZR]),Mu=ne({},[...Ad,...qR]),ku=function(D){let B=w(D);(!B||!B.tagName)&&(B={namespaceURI:qt,tagName:"template"});const $=Ic(D.tagName),fe=Ic(B.tagName);return tr[D.namespaceURI]?D.namespaceURI===qi?B.namespaceURI===Zt?$==="svg":B.namespaceURI===Gn?$==="svg"&&(fe==="annotation-xml"||$n[fe]):!!Yr[$]:D.namespaceURI===Gn?B.namespaceURI===Zt?$==="math":B.namespaceURI===qi?$==="math"&&nr[fe]:!!Mu[$]:D.namespaceURI===Zt?B.namespaceURI===qi&&!nr[fe]||B.namespaceURI===Gn&&!$n[fe]?!1:!Mu[$]&&(pt[$]||!Yr[$]):!!(Xi==="application/xhtml+xml"&&tr[D.namespaceURI]):!1},Lt=function(D){$o(t.removed,{element:D});try{w(D).removeChild(D)}catch{I(D)}},Xt=function(D,B){try{$o(t.removed,{attribute:B.getAttributeNode(D),from:B})}catch{$o(t.removed,{attribute:null,from:B})}if(B.removeAttribute(D),D==="is")if(mi||Fe)try{Lt(B)}catch{}else try{B.setAttribute(D,"")}catch{}},Iu=function(D){let B=null,$=null;if(Qs)D="<remove></remove>"+D;else{const Pe=bd(D,/^[\r\n\t ]+/);$=Pe&&Pe[0]}Xi==="application/xhtml+xml"&&qt===Zt&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");const fe=R?R.createHTML(D):D;if(qt===Zt)try{B=new m().parseFromString(fe,Xi)}catch{}if(!B||!B.documentElement){B=V.createDocument(qt,"template",null);try{B.documentElement.innerHTML=Xr?z:fe}catch{}}const Ke=B.body||B.documentElement;return D&&$&&Ke.insertBefore(n.createTextNode($),Ke.childNodes[0]||null),qt===Zt?S.call(B,di?"html":"body")[0]:di?B.documentElement:Ke},Rn=function(D){return T.call(D.ownerDocument||D,D,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Kr=function(D){return D instanceof d&&(typeof D.nodeName!="string"||typeof D.textContent!="string"||typeof D.removeChild!="function"||!(D.attributes instanceof f)||typeof D.removeAttribute!="function"||typeof D.setAttribute!="function"||typeof D.namespaceURI!="string"||typeof D.insertBefore!="function"||typeof D.hasChildNodes!="function")},Ao=function(D){return typeof o=="function"&&D instanceof o};function Yt(X,D,B){sc(X,$=>{$.call(t,D,B,Yi)})}const Jr=function(D){let B=null;if(Yt(x.beforeSanitizeElements,D,null),Kr(D))return Lt(D),!0;const $=Ge(D.nodeName);if(Yt(x.uponSanitizeElement,D,{tagName:$,allowedTags:ye}),Ks&&D.hasChildNodes()&&!Ao(D.firstElementChild)&&Ct(/<[/\w!]/g,D.innerHTML)&&Ct(/<[/\w!]/g,D.textContent)||D.nodeType===Yo.progressingInstruction||Ks&&D.nodeType===Yo.comment&&Ct(/<[/\w]/g,D.data))return Lt(D),!0;if(!(Hn.tagCheck instanceof Function&&Hn.tagCheck($))&&(!ye[$]||hi[$])){if(!hi[$]&&Lu($)&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,$)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck($)))return!1;if(To&&!$t[$]){const fe=w(D)||D.parentNode,Ke=v(D)||D.childNodes;if(Ke&&fe){const Pe=Ke.length;for(let gt=Pe-1;gt>=0;--gt){const ln=N(Ke[gt],!0);ln.__removalCount=(D.__removalCount||0)+1,fe.insertBefore(ln,b(D))}}}return Lt(D),!0}return D instanceof u&&!ku(D)||($==="noscript"||$==="noembed"||$==="noframes")&&Ct(/<\/no(script|embed|frames)/i,D.innerHTML)?(Lt(D),!0):(Fn&&D.nodeType===Yo.text&&(B=D.textContent,sc([M,O,re],fe=>{B=Zo(B,fe," ")}),D.textContent!==B&&($o(t.removed,{element:D.cloneNode()}),D.textContent=B)),Yt(x.afterSanitizeElements,D,null),!1)},wo=function(D,B,$){if(Ws&&(B==="id"||B==="name")&&($ in n||$ in Ki))return!1;if(!(So&&!Ys[B]&&Ct(oe,B))){if(!(_o&&Ct(H,B))){if(!(Hn.attributeCheck instanceof Function&&Hn.attributeCheck(B,D))){if(!Me[B]||Ys[B]){if(!(Lu(D)&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,D)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(D))&&(ge.attributeNameCheck instanceof RegExp&&Ct(ge.attributeNameCheck,B)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(B,D))||B==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,$)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck($))))return!1}else if(!qr[B]){if(!Ct(ce,Zo($,q,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&D!=="script"&&HR($,"data:")===0&&Cu[D])){if(!(Au&&!Ct(G,Zo($,q,"")))){if($)return!1}}}}}}}return!0},Lu=function(D){return D!=="annotation-xml"&&bd(D,te)},xo=function(D){Yt(x.beforeSanitizeAttributes,D,null);const{attributes:B}=D;if(!B||Kr(D))return;const $={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Me,forceKeepAttr:void 0};let fe=B.length;for(;fe--;){const Ke=B[fe],{name:Pe,namespaceURI:gt,value:ln}=Ke,gi=Ge(Pe),rr=ln;let $e=Pe==="value"?rr:FR(rr);if($.attrName=gi,$.attrValue=$e,$.keepAttr=!0,$.forceKeepAttr=void 0,Yt(x.uponSanitizeAttribute,D,$),$e=$.attrValue,wu&&(gi==="id"||gi==="name")&&(Xt(Pe,D),$e=xu+$e),Ks&&Ct(/((--!?|])>)|<\/(style|title|textarea)/i,$e)){Xt(Pe,D);continue}if(gi==="attributename"&&bd($e,"href")){Xt(Pe,D);continue}if($.forceKeepAttr)continue;if(!$.keepAttr){Xt(Pe,D);continue}if(!bo&&Ct(/\/>/i,$e)){Xt(Pe,D);continue}Fn&&sc([M,O,re],Oo=>{$e=Zo($e,Oo," ")});const Co=Ge(D.nodeName);if(!wo(Co,gi,$e)){Xt(Pe,D);continue}if(R&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!gt)switch(g.getAttributeType(Co,gi)){case"TrustedHTML":{$e=R.createHTML($e);break}case"TrustedScriptURL":{$e=R.createScriptURL($e);break}}if($e!==rr)try{gt?D.setAttributeNS(gt,Pe,$e):D.setAttribute(Pe,$e),Kr(D)?Lt(D):q0(t.removed)}catch{Xt(Pe,D)}}Yt(x.afterSanitizeAttributes,D,null)},Nh=function X(D){let B=null;const $=Rn(D);for(Yt(x.beforeSanitizeShadowDOM,D,null);B=$.nextNode();)Yt(x.uponSanitizeShadowNode,B,null),Jr(B),xo(B),B.content instanceof r&&X(B.content);Yt(x.afterSanitizeShadowDOM,D,null)};return t.sanitize=function(X){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=null,$=null,fe=null,Ke=null;if(Xr=!X,Xr&&(X="<!-->"),typeof X!="string"&&!Ao(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw qo("dirty is not a string, aborting")}else throw qo("toString is not a function");if(!t.isSupported)return X;if(Js||Eo(D),t.removed=[],typeof X=="string"&&(On=!1),On){if(X.nodeName){const ln=Ge(X.nodeName);if(!ye[ln]||hi[ln])throw qo("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof o)B=Iu("<!---->"),$=B.ownerDocument.importNode(X,!0),$.nodeType===Yo.element&&$.nodeName==="BODY"||$.nodeName==="HTML"?B=$:B.appendChild($);else{if(!mi&&!Fn&&!di&&X.indexOf("<")===-1)return R&&Ye?R.createHTML(X):X;if(B=Iu(X),!B)return mi?null:Ye?z:""}B&&Qs&&Lt(B.firstChild);const Pe=Rn(On?X:B);for(;fe=Pe.nextNode();)Jr(fe),xo(fe),fe.content instanceof r&&Nh(fe.content);if(On)return X;if(mi){if(Fe)for(Ke=y.call(B.ownerDocument);B.firstChild;)Ke.appendChild(B.firstChild);else Ke=B;return(Me.shadowroot||Me.shadowrootmode)&&(Ke=A.call(i,Ke,!0)),Ke}let gt=di?B.outerHTML:B.innerHTML;return di&&ye["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&Ct(j1,B.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+gt),Fn&&sc([M,O,re],ln=>{gt=Zo(gt,ln," ")}),R&&Ye?R.createHTML(gt):gt},t.setConfig=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Eo(X),Js=!0},t.clearConfig=function(){Yi=null,Js=!1},t.isValidAttribute=function(X,D,B){Yi||Eo({});const $=Ge(X),fe=Ge(D);return wo($,fe,B)},t.addHook=function(X,D){typeof D=="function"&&$o(x[X],D)},t.removeHook=function(X,D){if(D!==void 0){const B=VR(x[X],D);return B===-1?void 0:BR(x[X],B,1)[0]}return q0(x[X])},t.removeHooks=function(X){x[X]=[]},t.removeAllHooks=function(){x=W0()},t}var _8=V1();const sN=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function rN(e){return sN.includes(e)}const mt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},Ti={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},bl=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],B1=50;class aN{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const r=console[t]||console.log;i!==void 0?r(s,i):r(s)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const xd={};function ci(e){const t=e||"__default__";return xd[t]||(xd[t]=new aN(e)),xd[t]}const vn=ci("Storage"),sp="magic-internet-math-progress",Cd=2;function H1(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function F1(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function Lr(){if(!H1())return vn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(sp);if(!e)return null;const t=JSON.parse(e);return F1(t)?(t.version!==Cd&&(vn.info(`Migrating state from v${t.version} to v${Cd}`),t.version=Cd),t):(vn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){vn.error("Failed to load gamification state:",e);try{localStorage.removeItem(sp),vn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function ch(e){if(!H1()){vn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(sp,JSON.stringify(e))}catch(t){vn.error("Failed to save gamification state:",t)}}const oN=1;function lN(){const e=Lr();if(!e){vn.warn("No progress data to export");return}const t={version:oN,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),vn.info("Progress exported successfully")}function uN(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!F1(t.state))}async function cN(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var s;try{const r=(s=i.target)==null?void 0:s.result;if(typeof r!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(r);if(!uN(a)){t({success:!1,message:"Invalid backup file format"});return}const o=Lr(),u=(o==null?void 0:o.user.totalXP)??0,c=a.state.user.totalXP;if(u>c){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${c} XP). Import cancelled.`});return}ch(a.state),vn.info(`Progress imported: ${c} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${c} XP!`,xpImported:c})}catch(r){vn.error("Failed to parse backup file:",r),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function fN(){const e=Lr();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function hN(){const e=Lr();e&&(e.migratedToServer=!0,ch(e),vn.info("Marked progress as migrated to server"))}function dN(){const e=Lr();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function G1(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:mN(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:B1,completed:!1},lastUpdated:e}}function mN(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const pN=50;function e_(e){return Math.round(e/pN*100)}const gN=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>e_(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>e_(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function yN(e){const t=[];for(const n of gN){const i=e.achievements.find(r=>r.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function uo(e){for(let t=bl.length-1;t>=0;t--)if(e>=bl[t])return t+1;return 1}function $1(e,t){if(t>=bl.length)return 100;const n=bl[t-1],i=bl[t],s=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function vN(e,t){const n={easy:mt.QUIZ_EASY,medium:mt.QUIZ_MEDIUM,hard:mt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const _N=1e3*60*60*24;function SN(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:B1,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),r=Math.floor((t.getTime()-s.getTime())/_N);if(r===0)return e;if(r===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return r===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function Z1(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,r)=>s+r.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function bN(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const fh=ci("GamificationReducer");function TN(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const s=e.user.totalXP+mt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:s,level:uo(s)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_VISIT},lastUpdated:n}}function EN(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return fh.warn(`Attempted to complete unvisited section: ${t}`),e;const s=e.user.totalXP+mt.SECTION_COMPLETE,r=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:s,level:uo(s),sectionsCompleted:r},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:Z1(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_COMPLETE},lastUpdated:n}}function AN(e,t,n){const{sectionId:i,difficulty:s,score:r,correctAnswers:a,totalQuestions:o}=t,u=e.sections[i];if(!u)return fh.warn(`Section ${i} was not visited before quiz`),e;const c=vN(s,r),f=a===o,d=f?Math.round(c*(1+mt.QUIZ_PERFECT_BONUS)):c,m=e.user.totalXP+d,g={timestamp:n,difficulty:s,score:r,correctAnswers:a,totalQuestions:o,xpEarned:d},C=[...u.quizAttempts,g],N={...u,quizAttempts:C},I=Z1(N),b=r>=80&&!u.completedAt,v=b&&!e.user.sectionsCompleted.includes(i),w=v?mt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:m+w,level:uo(m+w),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:f?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:v?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...N,masteryLevel:I,completedAt:b?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+d+w},lastUpdated:n}}function wN(e,t,n,i){const s=e.sections[t];if(s!=null&&s.visualizationsInteracted.includes(n))return e;if(!s)return fh.warn(`Section ${t} was not visited before visualization`),e;const r=e.user.totalXP+mt.VISUALIZATION_USE,a=[...s.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:r,level:uo(r),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...s,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.VISUALIZATION_USE},lastUpdated:i}}function xN(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+mt.PART_COMPLETE_BONUS;return fh.info(`Part ${t} completed, awarding ${mt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:uo(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.PART_COMPLETE_BONUS},lastUpdated:n}}function CN(e,t,n){let i=Ti.GAME_PARTICIPATION;const s=Ti.TIER_MULTIPLIER[t.tier],r=Math.floor(Math.max(0,t.score)/Ti.POINTS_PER_XP_UNIT*mt.QUIZ_MEDIUM*s);if(i+=r,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=Ti.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=Ti.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=Ti.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=Ti.FIRST_PLACE_BONUS;break;case 2:i+=Ti.SECOND_PLACE_BONUS;break;case 3:i+=Ti.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,o=e.racingStats,u=t.score>((o==null?void 0:o.highScore)??0),c=t.isMultiplayer&&t.placement===1,f={gamesPlayed:((o==null?void 0:o.gamesPlayed)??0)+1,multiplayerGamesPlayed:((o==null?void 0:o.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((o==null?void 0:o.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(o==null?void 0:o.highScore)??0,highestTierUnlocked:Math.max((o==null?void 0:o.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((o==null?void 0:o.longestStreak)??0,t.maxStreak),fastAnswers:((o==null?void 0:o.fastAnswers)??0)+t.fastAnswers,totalCorrect:((o==null?void 0:o.totalCorrect)??0)+t.correctAnswers,totalAttempted:((o==null?void 0:o.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((o==null?void 0:o.multiplayerWins)??0)+(c?1:0),lastPlayedAt:n},d=e.achievements.map(m=>{if(m.unlockedAt)return m;switch(m.id){case"racing-rookie":if(f.gamesPlayed>=1)return{...m,progress:1,unlockedAt:n};break;case"speed-demon":return f.fastAnswers>=50?{...m,progress:50,unlockedAt:n}:{...m,progress:Math.min(f.fastAnswers,50)};case"streak-legend":return f.longestStreak>=20?{...m,progress:20,unlockedAt:n}:{...m,progress:Math.min(f.longestStreak,20)};case"tier-climber":return f.highestTierUnlocked>=6?{...m,progress:6,unlockedAt:n}:{...m,progress:f.highestTierUnlocked};case"modular-master":return f.totalPoints>=1e4?{...m,progress:1e4,unlockedAt:n}:{...m,progress:Math.min(f.totalPoints,1e4)};case"multiplayer-champion":return f.multiplayerWins>=5?{...m,progress:5,unlockedAt:n}:{...m,progress:Math.min(f.multiplayerWins,5)}}return m});return{...e,user:{...e.user,totalXP:a,level:uo(a)},racingStats:f,achievements:d,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function ON(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return TN(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return EN(e,t.payload.sectionId,n);case"COMPLETE_PART":return xN(e,t.payload.partId,n);case"RECORD_QUIZ":return AN(e,t.payload,n);case"USE_VISUALIZATION":return wN(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return SN(e);case"RESET_PROGRESS":return G1();case"RECORD_RACE_GAME":return CN(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},NN=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},X1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,f=r>>2,d=(r&3)<<4|o>>4;let m=(o&15)<<2|c>>6,g=c&63;u||(g=64,a||(m=64)),i.push(n[f],n[d],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(q1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||d==null)throw new DN;const m=r<<2|o>>4;if(i.push(m),c!==64){const g=o<<4&240|c>>2;if(i.push(g),d!==64){const C=c<<6&192|d;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MN=function(e){const t=q1(e);return X1.encodeByteArray(t,!0)},Y1=function(e){return MN(e).replace(/\./g,"")},K1=function(e){try{return X1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=()=>kN().__FIREBASE_DEFAULTS__,LN=()=>{if(typeof process>"u"||typeof t_>"u")return;const e=t_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},zN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&K1(e[1]);return t&&JSON.parse(t)},Gg=()=>{try{return RN()||IN()||LN()||zN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},J1=e=>{var t,n;return(n=(t=Gg())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},PN=e=>{const t=J1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Q1=()=>{var e;return(e=Gg())==null?void 0:e.config},W1=e=>{var t;return(t=Gg())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eA(e){return(await fetch(e,{credentials:"include"})).ok}const Tl={};function jN(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?e.emulator.push(t):e.prod.push(t);return e}function VN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let n_=!1;function tA(e,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Tl[e]===t||Tl[e]||n_)return;Tl[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=jN().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{n_=!0,a()},m}function f(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=VN(i),g=n("text"),C=document.getElementById(g)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;o(w),f(I,N);const R=c();u(v,b),w.append(v,C,I,R),document.body.appendChild(w)}r?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function HN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $N(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ZN(){try{return typeof indexedDB=="object"}catch{return!1}}function qN(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FirebaseError";class fi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=XN,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?YN(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new fi(s,o,i)}}function YN(e,t){return e.replace(KN,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const KN=/\{\$([^}]+)}/g;function JN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ya(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(i_(r)&&i_(a)){if(!Ya(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function i_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function QN(e,t){const n=new WN(e,t);return n.subscribe.bind(n)}class WN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eD(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Od),s.error===void 0&&(s.error=Od),s.complete===void 0&&(s.complete=Od);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Od(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return e&&e._delegate?e._delegate:e}class Us{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new UN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iD(t))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pr){return this.instances.has(t)}getOptions(t=pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nD(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pr){return this.component?this.component.multipleInstances?t:pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nD(e){return e===pr?void 0:e}function iD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const rD={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},aD=_e.INFO,oD={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},lD=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=oD[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $g{constructor(t){this.name=t,this._logLevel=aD,this._logHandler=lD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const uD=(e,t)=>t.some(n=>e instanceof n);let s_,r_;function cD(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fD(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nA=new WeakMap,rp=new WeakMap,iA=new WeakMap,Rd=new WeakMap,Zg=new WeakMap;function hD(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Ds(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&nA.set(n,e)}).catch(()=>{}),Zg.set(t,e),t}function dD(e){if(rp.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});rp.set(e,t)}let ap={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||iA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function mD(e){ap=e(ap)}function pD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Nd(this),t,...n);return iA.set(i,t.sort?t.sort():[t]),Ds(i)}:fD().includes(e)?function(...t){return e.apply(Nd(this),t),Ds(nA.get(this))}:function(...t){return Ds(e.apply(Nd(this),t))}}function gD(e){return typeof e=="function"?pD(e):(e instanceof IDBTransaction&&dD(e),uD(e,cD())?new Proxy(e,ap):e)}function Ds(e){if(e instanceof IDBRequest)return hD(e);if(Rd.has(e))return Rd.get(e);const t=gD(e);return t!==e&&(Rd.set(e,t),Zg.set(t,e)),t}const Nd=e=>Zg.get(e);function yD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=Ds(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ds(a.result),u.oldVersion,u.newVersion,Ds(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const vD=["get","getKey","getAll","getAllKeys","count"],_D=["put","add","delete","clear"],Dd=new Map;function a_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=_D.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vD.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&u.done]))[0]};return Dd.set(t,r),r}mD(e=>({...e,get:(t,n,i)=>a_(t,n)||e.get(t,n,i),has:(t,n)=>!!a_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bD(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const op="@firebase/app",o_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new $g("@firebase/app"),TD="@firebase/app-compat",ED="@firebase/analytics-compat",AD="@firebase/analytics",wD="@firebase/app-check-compat",xD="@firebase/app-check",CD="@firebase/auth",OD="@firebase/auth-compat",RD="@firebase/database",ND="@firebase/data-connect",DD="@firebase/database-compat",MD="@firebase/functions",kD="@firebase/functions-compat",ID="@firebase/installations",LD="@firebase/installations-compat",zD="@firebase/messaging",PD="@firebase/messaging-compat",UD="@firebase/performance",jD="@firebase/performance-compat",VD="@firebase/remote-config",BD="@firebase/remote-config-compat",HD="@firebase/storage",FD="@firebase/storage-compat",GD="@firebase/firestore",$D="@firebase/ai",ZD="@firebase/firestore-compat",qD="firebase",XD="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",YD={[op]:"fire-core",[TD]:"fire-core-compat",[AD]:"fire-analytics",[ED]:"fire-analytics-compat",[xD]:"fire-app-check",[wD]:"fire-app-check-compat",[CD]:"fire-auth",[OD]:"fire-auth-compat",[RD]:"fire-rtdb",[ND]:"fire-data-connect",[DD]:"fire-rtdb-compat",[MD]:"fire-fn",[kD]:"fire-fn-compat",[ID]:"fire-iid",[LD]:"fire-iid-compat",[zD]:"fire-fcm",[PD]:"fire-fcm-compat",[UD]:"fire-perf",[jD]:"fire-perf-compat",[VD]:"fire-rc",[BD]:"fire-rc-compat",[HD]:"fire-gcs",[FD]:"fire-gcs-compat",[GD]:"fire-fst",[ZD]:"fire-fst-compat",[$D]:"fire-vertex","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,KD=new Map,up=new Map;function l_(e,t){try{e.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zr(e){const t=e.name;if(up.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;up.set(t,e);for(const n of Zl.values())l_(n,e);for(const n of KD.values())l_(n,e);return!0}function qg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new mu("app","Firebase",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=XD;function sA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:lp,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=Q1()),!n)throw Ms.create("no-options");const r=Zl.get(s);if(r){if(Ya(n,r.options)&&Ya(i,r.config))return r;throw Ms.create("duplicate-app",{appName:s})}const a=new sD(s);for(const u of up.values())a.addComponent(u);const o=new QD(n,i,a);return Zl.set(s,o),o}function rA(e=lp){const t=Zl.get(e);if(!t&&e===lp&&Q1())return sA();if(!t)throw Ms.create("no-app",{appName:e});return t}function WD(){return Array.from(Zl.values())}function ii(e,t,n){let i=YD[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}zr(new Us(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebase-heartbeat-database",tM=1,ql="firebase-heartbeat-store";let Md=null;function aA(){return Md||(Md=yD(eM,tM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ms.create("idb-open",{originalErrorMessage:e.message})})),Md}async function nM(e){try{const n=(await aA()).transaction(ql),i=await n.objectStore(ql).get(oA(e));return await n.done,i}catch(t){if(t instanceof fi)Hi.warn(t.message);else{const n=Ms.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}async function u_(e,t){try{const i=(await aA()).transaction(ql,"readwrite");await i.objectStore(ql).put(t,oA(e)),await i.done}catch(n){if(n instanceof fi)Hi.warn(n.message);else{const i=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(i.message)}}}function oA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1024,sM=30;class rM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=c_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>sM){const a=lM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Hi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c_(),{heartbeatsToSend:i,unsentEntries:s}=aM(this._heartbeatsCache.heartbeats),r=Y1(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Hi.warn(n),""}}}function c_(){return new Date().toISOString().substring(0,10)}function aM(e,t=iM){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),f_(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZN()?qN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return u_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return u_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function f_(e){return Y1(JSON.stringify({version:2,heartbeats:e})).length}function lM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(e){zr(new Us("platform-logger",t=>new SD(t),"PRIVATE")),zr(new Us("heartbeat",t=>new rM(t),"PRIVATE")),ii(op,o_,e),ii(op,o_,"esm2020"),ii("fire-js","")}uM("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="type.googleapis.com/google.protobuf.Int64Value",fM="type.googleapis.com/google.protobuf.UInt64Value";function lA(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function bf(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>bf(t));if(typeof e=="function"||typeof e=="object")return lA(e,t=>bf(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Ka(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case cM:case fM:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Ka(t)):typeof e=="function"||typeof e=="object"?lA(e,t=>Ka(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends fi{constructor(t,n,i){super(`${Xg}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,Vt.prototype)}}function hM(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Tf(e,t){let n=hM(e),i=n,s;try{const r=t&&t.error;if(r){const a=r.status;if(typeof a=="string"){if(!h_[a])return new Vt("internal","internal");n=h_[a],i=a}const o=r.message;typeof o=="string"&&(i=o),s=r.details,s!==void 0&&(s=Ka(s))}}catch{}return n==="ok"?null:new Vt(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t,n,i,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_n(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="us-central1",mM=/^data: (.*?)(?:\n|$)/;function pM(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new Vt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class gM{constructor(t,n,i,s,r=cp,a=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new dM(t,n,i,s),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(r);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=cp}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function yM(e,t,n){const i=co(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(eA(e.emulatorOrigin+"/backends"),tA("Functions",!0))}function vM(e,t,n){const i=s=>SM(e,t,s,{});return i.stream=(s,r)=>TM(e,t,s,r),i}function uA(e){return e.emulatorOrigin&&co(e.emulatorOrigin)?"include":void 0}async function _M(e,t,n,i,s){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:uA(s)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function cA(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function SM(e,t,n,i){const s=e._url(t);return bM(e,s,n,i)}async function bM(e,t,n,i){n=bf(n);const s={data:n},r=await cA(e,i),a=i.timeout||7e4,o=pM(a),u=await Promise.race([_M(t,s,r,e.fetchImpl,e),o.promise,e.cancelAllRequests]);if(o.cancel(),!u)throw new Vt("cancelled","Firebase Functions instance was deleted.");const c=Tf(u.status,u.json);if(c)throw c;if(!u.json)throw new Vt("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Vt("internal","Response is missing data field.");return{data:Ka(f)}}function TM(e,t,n,i){const s=e._url(t);return EM(e,s,n,i||{})}async function EM(e,t,n,i){var m;n=bf(n);const s={data:n},r=await cA(e,i);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:r,signal:i==null?void 0:i.signal,credentials:uA(e)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const N=new Vt("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const C=Tf(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let o,u;const c=new Promise((g,C)=>{o=g,u=C});(m=i==null?void 0:i.signal)==null||m.addEventListener("abort",()=>{const g=new Vt("cancelled","Request was cancelled.");u(g)});const f=a.body.getReader(),d=AM(f,o,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const g=d.getReader();return{async next(){const{value:C,done:N}=await g.read();return{value:C,done:N}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:c}}function AM(e,t,n,i){const s=(a,o)=>{const u=a.match(mM);if(!u)return;const c=u[1];try{const f=JSON.parse(c);if("result"in f){t(Ka(f.result));return}if("message"in f){o.enqueue(Ka(f.message));return}if("error"in f){const d=Tf(0,f);o.error(d),n(d);return}}catch(f){if(f instanceof Vt){o.error(f),n(f);return}}},r=new TextDecoder;return new ReadableStream({start(a){let o="";return u();async function u(){if(i!=null&&i.aborted){const c=new Vt("cancelled","Request was cancelled");return a.error(c),n(c),Promise.resolve()}try{const{value:c,done:f}=await e.read();if(f){o.trim()&&s(o.trim(),a),a.close();return}if(i!=null&&i.aborted){const m=new Vt("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}o+=r.decode(c,{stream:!0});const d=o.split(`
`);o=d.pop()||"";for(const m of d)m.trim()&&s(m.trim(),a);return u()}catch(c){const f=c instanceof Vt?c:Tf(0,null);a.error(f),n(f)}}},cancel(){return e.cancel()}})}const d_="@firebase/functions",m_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="auth-internal",xM="app-check-internal",CM="messaging-internal";function OM(e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),r=n.getProvider(wM),a=n.getProvider(CM),o=n.getProvider(xM);return new gM(s,r,a,o,i)};zr(new Us(Xg,t,"PUBLIC").setMultipleInstances(!0)),ii(d_,m_,e),ii(d_,m_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(e=rA(),t=cp){const i=qg(xn(e),Xg).getImmediate({identifier:t}),s=PN("functions");return s&&fA(i,...s),i}function fA(e,t,n){yM(xn(e),t,n)}function Ja(e,t,n){return vM(xn(e),t)}OM();var NM="firebase",DM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(NM,DM,"app");function hA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MM=hA,dA=new mu("auth","Firebase",hA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new $g("@firebase/auth");function kM(e,...t){Ef.logLevel<=_e.WARN&&Ef.warn(`Auth (${fo}): ${e}`,...t)}function Lc(e,...t){Ef.logLevel<=_e.ERROR&&Ef.error(`Auth (${fo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e,...t){throw Yg(e,...t)}function si(e,...t){return Yg(e,...t)}function mA(e,t,n){const i={...MM(),[t]:n};return new mu("auth","Firebase",i).create(t,{appName:e.name})}function ks(e){return mA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return dA.create(e,...t)}function Q(e,t,...n){if(!e)throw Yg(t,...n)}function Di(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Lc(t),new Error(t)}function Gi(e,t){e||Di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function IM(){return p_()==="http:"||p_()==="https:"}function p_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||FN()||"connection"in navigator)?navigator.onLine:!0}function zM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Gi(n>t,"Short delay should be less than long delay!"),this.isMobile=BN()||GN()}get(){return LM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e,t){Gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jM=new gu(3e4,6e4);function hh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ho(e,t,n,i,s={}){return gA(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=pu({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...r};return HN()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&co(e.emulatorConfig.host)&&(c.credentials="include"),pA.fetch()(await vA(e,e.config.apiHost,n,o),c)})}async function gA(e,t,n){e._canInitEmulator=!1;const i={...PM,...t};try{const s=new VM(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw ac(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ac(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw ac(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mA(e,f,c);Fi(e,f)}}catch(s){if(s instanceof fi)throw s;Fi(e,"network-request-failed",{message:String(s)})}}async function yA(e,t,n,i,s={}){const r=await ho(e,t,n,i,s);return"mfaPendingCredential"in r&&Fi(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function vA(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?Kg(e.config,s):`${e.config.apiScheme}://${s}`;return UM.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class VM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),jM.get())})}}function ac(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=si(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(e,t){return ho(e,"POST","/v1/accounts:delete",t)}async function Af(e,t){return ho(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HM(e,t=!1){const n=xn(e),i=await n.getIdToken(t),s=Jg(i);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:El(kd(s.auth_time)),issuedAtTime:El(kd(s.iat)),expirationTime:El(kd(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function kd(e){return Number(e)*1e3}function Jg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const s=K1(n);return s?JSON.parse(s):(Lc("Failed to decode base64 JWT payload"),null)}catch(s){return Lc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g_(e){const t=Jg(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof fi&&FM(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function FM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e){var d;const t=e.auth,n=await e.getIdToken(),i=await Xl(e,Af(t,{idToken:n}));Q(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(d=s.providerUserInfo)!=null&&d.length?_A(s.providerUserInfo):[],a=ZM(e.providerData,r),o=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function $M(e){const t=xn(e);await wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZM(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function _A(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(e,t){const n=await gA(e,{},async()=>{const i=pu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await vA(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&co(e.emulatorConfig.host)&&(u.credentials="include"),pA.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XM(e,t){return ho(e,"POST","/v2/accounts:revokeToken",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const n=g_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await qM(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Ma;return i&&(Q(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(Q(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(Q(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Pn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new GM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HM(this,t)}reload(){return $M(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await Xl(this,BM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:C,stsTokenManager:N}=n;Q(d&&N,t,"internal-error");const I=Ma.fromJSON(this.name,N);Q(typeof d=="string",t,"internal-error"),ns(i,t.name),ns(s,t.name),Q(typeof m=="boolean",t,"internal-error"),Q(typeof g=="boolean",t,"internal-error"),ns(r,t.name),ns(a,t.name),ns(o,t.name),ns(u,t.name),ns(c,t.name),ns(f,t.name);const b=new Pn({uid:d,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:g,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:I,createdAt:c,lastLoginAt:f});return C&&Array.isArray(C)&&(b.providerData=C.map(v=>({...v}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(t,n,i=!1){const s=new Ma;s.updateFromServerResponse(n);const r=new Pn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await wf(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?_A(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Ma;o.updateFromIdToken(i);const u=new Pn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function Mi(e){Gi(e instanceof Function,"Expected a class definition");let t=y_.get(e);return t?(Gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,y_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}SA.type="NONE";const v_=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e,t,n){return`firebase:${e}:${t}:${n}`}class ka{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=zc(this.userKey,s.apiKey,r),this.fullPersistenceKey=zc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Af(this.auth,{idToken:t}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ka(Mi(v_),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Mi(v_);const a=zc(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const f=await c._get(a);if(f){let d;if(typeof f=="string"){const m=await Af(t,{idToken:f}).catch(()=>{});if(!m)break;d=await Pn._fromGetAccountInfoResponse(t,m,f)}else d=Pn._fromJSON(t,f);c!==r&&(o=d),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new ka(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new ka(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xA(t))return"Blackberry";if(CA(t))return"Webos";if(TA(t))return"Safari";if((t.includes("chrome/")||EA(t))&&!t.includes("edge/"))return"Chrome";if(wA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bA(e=It()){return/firefox\//i.test(e)}function TA(e=It()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EA(e=It()){return/crios\//i.test(e)}function AA(e=It()){return/iemobile/i.test(e)}function wA(e=It()){return/android/i.test(e)}function xA(e=It()){return/blackberry/i.test(e)}function CA(e=It()){return/webos/i.test(e)}function Qg(e=It()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YM(e=It()){var t;return Qg(e)&&!!((t=window.navigator)!=null&&t.standalone)}function KM(){return $N()&&document.documentMode===10}function OA(e=It()){return Qg(e)||wA(e)||CA(e)||xA(e)||/windows phone/i.test(e)||AA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e,t=[]){let n;switch(e){case"Browser":n=__(It());break;case"Worker":n=`${__(It())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(e,t={}){return ho(e,"GET","/v2/passwordPolicy",hh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=6;class ek{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new JM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Af(this,{idToken:t}),i=await Pn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_n(this.app))return Promise.reject(ks(this));const n=t?xn(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _n(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QM(this),n=new ek(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mu("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XM(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Mi(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&kM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dh(e){return xn(e)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=QN(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nk(e){Wg=e}function ik(e){return Wg.loadJS(e)}function sk(){return Wg.gapiScript}function rk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){const n=qg(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Ya(r,t??{}))return s;Fi(s,"already-initialized")}return n.initialize({options:t})}function ok(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Mi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function lk(e,t,n){const i=dh(e);Q(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=NA(t),{host:a,port:o}=uk(t),u=o===null?"":`:${o}`,c={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(Ya(c,i.config.emulator)&&Ya(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,co(a)?(eA(`${r}//${a}${u}`),tA("Auth",!0)):ck()}function NA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uk(e){const t=NA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:b_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:b_(a)}}}function b_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ck(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(t){return Di("not implemented")}_linkToIdToken(t,n){return Di("not implemented")}_getReauthenticationResolver(t){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(e,t){return yA(e,"POST","/v1/accounts:signInWithIdp",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="http://localhost";class Pr extends DA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Pr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new Pr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ia(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ia(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ia(t,n)}buildRequest(){const t={requestUri:fk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends MA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends yu{constructor(){super("facebook.com")}static credential(t){return Pr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fs.credential(t.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Pr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return hs.credential(n,i)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends yu{constructor(){super("github.com")}static credential(t){return Pr._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends yu{constructor(){super("twitter.com")}static credential(t,n){return Pr._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ms.credential(n,i)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Pn._fromIdTokenResponse(t,i,s),a=T_(i);return new Ur({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=T_(i);return new Ur({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function T_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends fi{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new xf(t,n,i,s)}}function kA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(e,r,t,i):r})}async function hk(e,t,n=!1){const i=await Xl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ur._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t,n=!1){const{auth:i}=e;if(_n(i.app))return Promise.reject(ks(i));const s="reauthenticate";try{const r=await Xl(e,kA(i,s,t,e),n);Q(r.idToken,i,"internal-error");const a=Jg(r.idToken);Q(a,i,"internal-error");const{sub:o}=a;return Q(e.uid===o,i,"user-mismatch"),Ur._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Fi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(e,t,n=!1){if(_n(e.app))return Promise.reject(ks(e));const i="signIn",s=await kA(e,i,t),r=await Ur._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(e,t){return yA(e,"POST","/v1/accounts:signInWithCustomToken",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(e,t){if(_n(e.app))return Promise.reject(ks(e));const n=dh(e),i=await pk(n,{token:t,returnSecureToken:!0}),s=await Ur._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function yk(e,t,n,i){return xn(e).onIdTokenChanged(t,n,i)}function vk(e,t,n){return xn(e).beforeAuthStateChanged(t,n)}function _k(e,t,n,i){return xn(e).onAuthStateChanged(t,n,i)}function Sk(e){return xn(e).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=1e3,Tk=10;class LA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);KM()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Tk):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},bk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}LA.type="LOCAL";const Ek=LA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}zA.type="SESSION";const PA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new mh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),u=await Ak(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const c=ey("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function xk(e){ri().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function Ck(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ok(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Rk(){return UA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebaseLocalStorageDb",Nk=1,Of="firebaseLocalStorage",VA="fbase_key";class vu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ph(e,t){return e.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function Dk(){const e=indexedDB.deleteDatabase(jA);return new vu(e).toPromise()}function dp(){const e=indexedDB.open(jA,Nk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Of,{keyPath:VA})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Of)?t(i):(i.close(),await Dk(),t(await dp()))})})}async function E_(e,t,n){const i=ph(e,!0).put({[VA]:t,value:n});return new vu(i).toPromise()}async function Mk(e,t){const n=ph(e,!1).get(t),i=await new vu(n).toPromise();return i===void 0?null:i.value}function A_(e,t){const n=ph(e,!0).delete(t);return new vu(n).toPromise()}const kk=800,Ik=3;class BA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Ik)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(Rk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Ck(),!this.activeServiceWorker)return;this.sender=new wk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await E_(t,Cf,"1"),await A_(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Mk(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=ph(s,!1).getAll();return new vu(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BA.type="LOCAL";const Lk=BA;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e,t){return t?Mi(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends DA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ia(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ia(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ia(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Pk(e){return mk(e.auth,new ty(e),e.bypassAuthState)}function Uk(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),dk(n,new ty(e),e.bypassAuthState)}async function jk(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),hk(n,new ty(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pk;case"linkViaPopup":case"linkViaRedirect":return jk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:Fi(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new gu(2e3,1e4);class va extends HA{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Vk.get())};t()}}va.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="pendingRedirect",Pc=new Map;class Hk extends HA{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const i=await Fk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fk(e,t){const n=Zk(t),i=$k(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Gk(e,t){Pc.set(e._key(),t)}function $k(e){return Mi(e._redirectPersistence)}function Zk(e){return zc(Bk,e.config.apiKey,e.name)}async function qk(e,t,n=!1){if(_n(e.app))return Promise.reject(ks(e));const i=dh(e),s=zk(i,t),a=await new Hk(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=10*60*1e3;class Yk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kk(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!FA(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xk&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(t))}saveEventToCache(t){this.cachedEventUids.add(w_(t)),this.lastProcessedEventTime=Date.now()}}function w_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Kk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(e,t={}){return ho(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wk=/^https?/;async function e4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Jk(e);for(const n of t)try{if(t4(n))return}catch{}Fi(e,"unauthorized-domain")}function t4(e){const t=fp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Wk.test(n))return!1;if(Qk.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new gu(3e4,6e4);function x_(){const e=ri().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function i4(e){return new Promise((t,n)=>{var s,r,a;function i(){x_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(si(e,"network-request-failed"))},timeout:n4.get()})}if((r=(s=ri().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=ri().gapi)!=null&&a.load)i();else{const o=rk("iframefcb");return ri()[o]=()=>{gapi.load?i():n(si(e,"network-request-failed"))},ik(`${sk()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function s4(e){return Uc=Uc||i4(e),Uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new gu(5e3,15e3),a4="__/auth/iframe",o4="emulator/auth/iframe",l4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c4(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kg(t,o4):`https://${e.config.authDomain}/${a4}`,i={apiKey:t.apiKey,appName:e.name,v:fo},s=u4.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${pu(i).slice(1)}`}async function f4(e){const t=await s4(e),n=ri().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:c4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l4,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=si(e,"network-request-failed"),o=ri().setTimeout(()=>{r(a)},r4.get());function u(){ri().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d4=500,m4=600,p4="_blank",g4="http://localhost";class C_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y4(e,t,n,i=d4,s=m4){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u={...h4,width:i.toString(),height:s.toString(),top:r,left:a},c=It().toLowerCase();n&&(o=EA(c)?p4:n),bA(c)&&(t=t||g4,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[g,C])=>`${m}${g}=${C},`,"");if(YM(c)&&o!=="_self")return v4(t||"",o),new C_(null);const d=window.open(t||"",o,f);Q(d,e,"popup-blocked");try{d.focus()}catch{}return new C_(d)}function v4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="__/auth/handler",S4="emulator/auth/handler",b4=encodeURIComponent("fac");async function O_(e,t,n,i,s,r){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:fo,eventId:s};if(t instanceof MA){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",JN(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(t instanceof yu){const f=t.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const u=await e._getAppCheckToken(),c=u?`#${b4}=${encodeURIComponent(u)}`:"";return`${T4(e)}?${pu(o).slice(1)}${c}`}function T4({config:e}){return e.emulator?Kg(e,S4):`https://${e.authDomain}/${_4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class E4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=qk,this._overrideRedirectResult=Gk}async _openPopup(t,n,i,s){var a;Gi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await O_(t,n,i,fp(),s);return y4(t,r,ey())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await O_(t,n,i,fp(),s);return xk(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Gi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await f4(t),i=new Yk(t);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Id,{type:Id},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Id];r!==void 0&&n(!!r),Fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=e4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return OA()||TA()||Qg()}}const A4=E4;var R_="@firebase/auth",N_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C4(e){zr(new Us("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(e)},c=new tk(i,s,r,u);return ok(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),zr(new Us("auth-internal",t=>{const n=dh(t.getProvider("auth").getImmediate());return(i=>new w4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(R_,N_,x4(e)),ii(R_,N_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=5*60,R4=W1("authIdTokenMaxAge")||O4;let D_=null;const N4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>R4)return;const s=n==null?void 0:n.token;D_!==s&&(D_=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function D4(e=rA()){const t=qg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ak(e,{popupRedirectResolver:A4,persistence:[Lk,Ek,PA]}),i=W1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=N4(r.toString());vk(n,a,()=>a(n.currentUser)),yk(n,o=>a(o))}}const s=J1("auth");return s&&lk(n,`http://${s}`),n}function M4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}nk({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=si("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",M4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C4("Browser");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ny;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function S(){}S.prototype=y.prototype,T.F=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(A,x,M){for(var O=Array(arguments.length-2),re=2;re<arguments.length;re++)O[re-2]=arguments[re];return y.prototype[x].apply(A,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,y,S){S||(S=0);const A=Array(16);if(typeof y=="string")for(var x=0;x<16;++x)A[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;x<16;++x)A[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],x=T.g[2];let M=T.g[3],O;O=y+(M^S&(x^M))+A[0]+3614090360&4294967295,y=S+(O<<7&4294967295|O>>>25),O=M+(x^y&(S^x))+A[1]+3905402710&4294967295,M=y+(O<<12&4294967295|O>>>20),O=x+(S^M&(y^S))+A[2]+606105819&4294967295,x=M+(O<<17&4294967295|O>>>15),O=S+(y^x&(M^y))+A[3]+3250441966&4294967295,S=x+(O<<22&4294967295|O>>>10),O=y+(M^S&(x^M))+A[4]+4118548399&4294967295,y=S+(O<<7&4294967295|O>>>25),O=M+(x^y&(S^x))+A[5]+1200080426&4294967295,M=y+(O<<12&4294967295|O>>>20),O=x+(S^M&(y^S))+A[6]+2821735955&4294967295,x=M+(O<<17&4294967295|O>>>15),O=S+(y^x&(M^y))+A[7]+4249261313&4294967295,S=x+(O<<22&4294967295|O>>>10),O=y+(M^S&(x^M))+A[8]+1770035416&4294967295,y=S+(O<<7&4294967295|O>>>25),O=M+(x^y&(S^x))+A[9]+2336552879&4294967295,M=y+(O<<12&4294967295|O>>>20),O=x+(S^M&(y^S))+A[10]+4294925233&4294967295,x=M+(O<<17&4294967295|O>>>15),O=S+(y^x&(M^y))+A[11]+2304563134&4294967295,S=x+(O<<22&4294967295|O>>>10),O=y+(M^S&(x^M))+A[12]+1804603682&4294967295,y=S+(O<<7&4294967295|O>>>25),O=M+(x^y&(S^x))+A[13]+4254626195&4294967295,M=y+(O<<12&4294967295|O>>>20),O=x+(S^M&(y^S))+A[14]+2792965006&4294967295,x=M+(O<<17&4294967295|O>>>15),O=S+(y^x&(M^y))+A[15]+1236535329&4294967295,S=x+(O<<22&4294967295|O>>>10),O=y+(x^M&(S^x))+A[1]+4129170786&4294967295,y=S+(O<<5&4294967295|O>>>27),O=M+(S^x&(y^S))+A[6]+3225465664&4294967295,M=y+(O<<9&4294967295|O>>>23),O=x+(y^S&(M^y))+A[11]+643717713&4294967295,x=M+(O<<14&4294967295|O>>>18),O=S+(M^y&(x^M))+A[0]+3921069994&4294967295,S=x+(O<<20&4294967295|O>>>12),O=y+(x^M&(S^x))+A[5]+3593408605&4294967295,y=S+(O<<5&4294967295|O>>>27),O=M+(S^x&(y^S))+A[10]+38016083&4294967295,M=y+(O<<9&4294967295|O>>>23),O=x+(y^S&(M^y))+A[15]+3634488961&4294967295,x=M+(O<<14&4294967295|O>>>18),O=S+(M^y&(x^M))+A[4]+3889429448&4294967295,S=x+(O<<20&4294967295|O>>>12),O=y+(x^M&(S^x))+A[9]+568446438&4294967295,y=S+(O<<5&4294967295|O>>>27),O=M+(S^x&(y^S))+A[14]+3275163606&4294967295,M=y+(O<<9&4294967295|O>>>23),O=x+(y^S&(M^y))+A[3]+4107603335&4294967295,x=M+(O<<14&4294967295|O>>>18),O=S+(M^y&(x^M))+A[8]+1163531501&4294967295,S=x+(O<<20&4294967295|O>>>12),O=y+(x^M&(S^x))+A[13]+2850285829&4294967295,y=S+(O<<5&4294967295|O>>>27),O=M+(S^x&(y^S))+A[2]+4243563512&4294967295,M=y+(O<<9&4294967295|O>>>23),O=x+(y^S&(M^y))+A[7]+1735328473&4294967295,x=M+(O<<14&4294967295|O>>>18),O=S+(M^y&(x^M))+A[12]+2368359562&4294967295,S=x+(O<<20&4294967295|O>>>12),O=y+(S^x^M)+A[5]+4294588738&4294967295,y=S+(O<<4&4294967295|O>>>28),O=M+(y^S^x)+A[8]+2272392833&4294967295,M=y+(O<<11&4294967295|O>>>21),O=x+(M^y^S)+A[11]+1839030562&4294967295,x=M+(O<<16&4294967295|O>>>16),O=S+(x^M^y)+A[14]+4259657740&4294967295,S=x+(O<<23&4294967295|O>>>9),O=y+(S^x^M)+A[1]+2763975236&4294967295,y=S+(O<<4&4294967295|O>>>28),O=M+(y^S^x)+A[4]+1272893353&4294967295,M=y+(O<<11&4294967295|O>>>21),O=x+(M^y^S)+A[7]+4139469664&4294967295,x=M+(O<<16&4294967295|O>>>16),O=S+(x^M^y)+A[10]+3200236656&4294967295,S=x+(O<<23&4294967295|O>>>9),O=y+(S^x^M)+A[13]+681279174&4294967295,y=S+(O<<4&4294967295|O>>>28),O=M+(y^S^x)+A[0]+3936430074&4294967295,M=y+(O<<11&4294967295|O>>>21),O=x+(M^y^S)+A[3]+3572445317&4294967295,x=M+(O<<16&4294967295|O>>>16),O=S+(x^M^y)+A[6]+76029189&4294967295,S=x+(O<<23&4294967295|O>>>9),O=y+(S^x^M)+A[9]+3654602809&4294967295,y=S+(O<<4&4294967295|O>>>28),O=M+(y^S^x)+A[12]+3873151461&4294967295,M=y+(O<<11&4294967295|O>>>21),O=x+(M^y^S)+A[15]+530742520&4294967295,x=M+(O<<16&4294967295|O>>>16),O=S+(x^M^y)+A[2]+3299628645&4294967295,S=x+(O<<23&4294967295|O>>>9),O=y+(x^(S|~M))+A[0]+4096336452&4294967295,y=S+(O<<6&4294967295|O>>>26),O=M+(S^(y|~x))+A[7]+1126891415&4294967295,M=y+(O<<10&4294967295|O>>>22),O=x+(y^(M|~S))+A[14]+2878612391&4294967295,x=M+(O<<15&4294967295|O>>>17),O=S+(M^(x|~y))+A[5]+4237533241&4294967295,S=x+(O<<21&4294967295|O>>>11),O=y+(x^(S|~M))+A[12]+1700485571&4294967295,y=S+(O<<6&4294967295|O>>>26),O=M+(S^(y|~x))+A[3]+2399980690&4294967295,M=y+(O<<10&4294967295|O>>>22),O=x+(y^(M|~S))+A[10]+4293915773&4294967295,x=M+(O<<15&4294967295|O>>>17),O=S+(M^(x|~y))+A[1]+2240044497&4294967295,S=x+(O<<21&4294967295|O>>>11),O=y+(x^(S|~M))+A[8]+1873313359&4294967295,y=S+(O<<6&4294967295|O>>>26),O=M+(S^(y|~x))+A[15]+4264355552&4294967295,M=y+(O<<10&4294967295|O>>>22),O=x+(y^(M|~S))+A[6]+2734768916&4294967295,x=M+(O<<15&4294967295|O>>>17),O=S+(M^(x|~y))+A[13]+1309151649&4294967295,S=x+(O<<21&4294967295|O>>>11),O=y+(x^(S|~M))+A[4]+4149444226&4294967295,y=S+(O<<6&4294967295|O>>>26),O=M+(S^(y|~x))+A[11]+3174756917&4294967295,M=y+(O<<10&4294967295|O>>>22),O=x+(y^(M|~S))+A[2]+718787259&4294967295,x=M+(O<<15&4294967295|O>>>17),O=S+(M^(x|~y))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+M&4294967295}i.prototype.v=function(T,y){y===void 0&&(y=T.length);const S=y-this.blockSize,A=this.C;let x=this.h,M=0;for(;M<y;){if(x==0)for(;M<=S;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<y;)if(A[x++]=T.charCodeAt(M++),x==this.blockSize){s(this,A),x=0;break}}else for(;M<y;)if(A[x++]=T[M++],x==this.blockSize){s(this,A),x=0;break}}this.h=x,this.o+=y},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;y=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=y&255,y/=256;for(this.v(T),T=Array(16),y=0,S=0;S<4;++S)for(let A=0;A<32;A+=8)T[y++]=this.g[S]>>>A&255;return T};function r(T,y){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function a(T,y){this.h=y;const S=[];let A=!0;for(let x=T.length-1;x>=0;x--){const M=T[x]|0;A&&M==y||(S[x]=M,A=!1)}this.g=S}var o={};function u(T){return-128<=T&&T<128?r(T,function(y){return new a([y|0],y<0?-1:0)}):new a([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return I(c(-T));const y=[];let S=1;for(let A=0;T>=S;A++)y[A]=T/S|0,S*=4294967296;return new a(y,0)}function f(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return I(f(T.substring(1),y));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(y,8));let A=d;for(let M=0;M<T.length;M+=8){var x=Math.min(8,T.length-M);const O=parseInt(T.substring(M,M+x),y);x<8?(x=c(Math.pow(y,x)),A=A.j(x).add(c(O))):(A=A.j(S),A=A.add(c(O)))}return A}var d=u(0),m=u(1),g=u(16777216);e=a.prototype,e.m=function(){if(N(this))return-I(this).m();let T=0,y=1;for(let S=0;S<this.g.length;S++){const A=this.i(S);T+=(A>=0?A:4294967296+A)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+I(this).toString(T);const y=c(Math.pow(T,6));var S=this;let A="";for(;;){const x=R(S,y).g;S=b(S,x.j(y));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=x,C(S))return M+A;for(;M.length<6;)M="0"+M;A=M+A}},e.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function N(T){return T.h==-1}e.l=function(T){return T=b(this,T),N(T)?-1:C(T)?0:1};function I(T){const y=T.g.length,S=[];for(let A=0;A<y;A++)S[A]=~T.g[A];return new a(S,~T.h).add(m)}e.abs=function(){return N(this)?I(this):this},e.add=function(T){const y=Math.max(this.g.length,T.g.length),S=[];let A=0;for(let x=0;x<=y;x++){let M=A+(this.i(x)&65535)+(T.i(x)&65535),O=(M>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);A=O>>>16,M&=65535,O&=65535,S[x]=O<<16|M}return new a(S,S[S.length-1]&-2147483648?-1:0)};function b(T,y){return T.add(I(y))}e.j=function(T){if(C(this)||C(T))return d;if(N(this))return N(T)?I(this).j(I(T)):I(I(this).j(T));if(N(T))return I(this.j(I(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const y=this.g.length+T.g.length,S=[];for(var A=0;A<2*y;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(let x=0;x<T.g.length;x++){const M=this.i(A)>>>16,O=this.i(A)&65535,re=T.i(x)>>>16,oe=T.i(x)&65535;S[2*A+2*x]+=O*oe,v(S,2*A+2*x),S[2*A+2*x+1]+=M*oe,v(S,2*A+2*x+1),S[2*A+2*x+1]+=O*re,v(S,2*A+2*x+1),S[2*A+2*x+2]+=M*re,v(S,2*A+2*x+2)}for(T=0;T<y;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=y;T<2*y;T++)S[T]=0;return new a(S,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function w(T,y){this.g=T,this.h=y}function R(T,y){if(C(y))throw Error("division by zero");if(C(T))return new w(d,d);if(N(T))return y=R(I(T),y),new w(I(y.g),I(y.h));if(N(y))return y=R(T,I(y)),new w(I(y.g),y.h);if(T.g.length>30){if(N(T)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,A=y;A.l(T)<=0;)S=z(S),A=z(A);var x=V(S,1),M=V(A,1);for(A=V(A,2),S=V(S,2);!C(A);){var O=M.add(A);O.l(T)<=0&&(x=x.add(S),M=O),A=V(A,1),S=V(S,1)}return y=b(T,x.j(y)),new w(x,y)}for(x=d;T.l(y)>=0;){for(S=Math.max(1,Math.floor(T.m()/y.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),M=c(S),O=M.j(y);N(O)||O.l(T)>0;)S-=A,M=c(S),O=M.j(y);C(M)&&(M=m),x=x.add(M),T=b(T,O)}return new w(x,T)}e.B=function(T){return R(this,T).h},e.and=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)&T.i(A);return new a(S,this.h&T.h)},e.or=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)|T.i(A);return new a(S,this.h|T.h)},e.xor=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)^T.i(A);return new a(S,this.h^T.h)};function z(T){const y=T.g.length+1,S=[];for(let A=0;A<y;A++)S[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(S,T.h)}function V(T,y){const S=y>>5;y%=32;const A=T.g.length-S,x=[];for(let M=0;M<A;M++)x[M]=y>0?T.i(M+S)>>>y|T.i(M+S+1)<<32-y:T.i(M+S);return new a(x,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,ny=a}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(l,h){if(h)e:{var p=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var L=l[_];if(!(L in p))break e;p=p[L]}l=l[l.length-1],_=p[l],h=h(_),h!=_&&h!=null&&t(p,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var p=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&p.push([_,h[_]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,p){return l.call.apply(l.bind,arguments)}function c(l,h,p){return c=u,c.apply(null,arguments)}function f(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function d(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(_,L,P){for(var F=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)F[ee-2]=arguments[ee];return h.prototype[L].apply(_,F)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const h=l.length;if(h>0){const p=Array(h);for(let _=0;_<h;_++)p[_]=l[_];return p}return[]}function C(l,h){for(let _=1;_<arguments.length;_++){const L=arguments[_];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=l.length||0;const P=L.length||0;l.length=p+P;for(let F=0;F<P;F++)l[p+F]=L[F]}else l.push(L)}}class N{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(l){a.setTimeout(()=>{throw l},0)}function b(){var l=T;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,p){const _=w.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var w=new N(()=>new R,l=>l.reset());class R{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,T=new v,y=()=>{const l=Promise.resolve(void 0);z=()=>{l.then(S)}};function S(){for(var l;l=b();){try{l.h.call(l.g)}catch(p){I(p)}var h=w;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function O(l){return/^[\s\xa0]*$/.test(l)}function re(l,h){x.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}d(re,x),re.prototype.init=function(l,h){const p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(l,h,p,_,L){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=L,this.key=++H,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function te(l,h,p){for(const _ in l)h.call(p,l[_],_,l)}function ce(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function ye(l){const h={};for(const p in l)h[p]=l[p];return h}const At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(l,h){let p,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(p in _)l[p]=_[p];for(let P=0;P<At.length;P++)p=At[P],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,h,p,_,L){const P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);const F=hi(l,h,_,L);return F>-1?(h=l[F],p||(h.fa=!1)):(h=new G(h,this.src,P,!!_,L),h.fa=p,l.push(h)),h};function ge(l,h){const p=h.type;if(p in l.g){var _=l.g[p],L=Array.prototype.indexOf.call(_,h,void 0),P;(P=L>=0)&&Array.prototype.splice.call(_,L,1),P&&(q(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function hi(l,h,p,_){for(let L=0;L<l.length;++L){const P=l[L];if(!P.da&&P.listener==h&&P.capture==!!p&&P.ha==_)return L}return-1}var Ys="closure_lm_"+(Math.random()*1e6|0),Hn={};function _o(l,h,p,_,L){if(Array.isArray(h)){for(let P=0;P<h.length;P++)_o(l,h[P],p,_,L);return null}return p=mi(p),l&&l[oe]?l.J(h,p,o(_)?!!_.capture:!1,L):So(l,h,p,!1,_,L)}function So(l,h,p,_,L,P){if(!h)throw Error("Invalid event type");const F=o(L)?!!L.capture:!!L;let ee=Js(l);if(ee||(l[Ys]=ee=new xt(l)),p=ee.add(h,p,_,F,P),p.proxy)return p;if(_=Au(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)M||(L=F),L===void 0&&(L=!1),l.addEventListener(h.toString(),_,L);else if(l.attachEvent)l.attachEvent(Ks(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Au(){function l(p){return h.call(l.src,l.listener,p)}const h=di;return l}function bo(l,h,p,_,L){if(Array.isArray(h))for(var P=0;P<h.length;P++)bo(l,h[P],p,_,L);else _=o(_)?!!_.capture:!!_,p=mi(p),l&&l[oe]?(l=l.i,P=String(h).toString(),P in l.g&&(h=l.g[P],p=hi(h,p,_,L),p>-1&&(q(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[P],l.h--)))):l&&(l=Js(l))&&(h=l.g[h.toString()],l=-1,h&&(l=hi(h,p,_,L)),(p=l>-1?h[l]:null)&&Fn(p))}function Fn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[oe])ge(h.i,l);else{var p=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(p,_,l.capture):h.detachEvent?h.detachEvent(Ks(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=Js(h))?(ge(p,l),p.h==0&&(p.src=null,h[Ys]=null)):q(l)}}}function Ks(l){return l in Hn?Hn[l]:Hn[l]="on"+l}function di(l,h){if(l.da)l=!0;else{h=new re(h,this);const p=l.listener,_=l.ha||l.src;l.fa&&Fn(l),l=p.call(_,h)}return l}function Js(l){return l=l[Ys],l instanceof xt?l:null}var Qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function mi(l){return typeof l=="function"?l:(l[Qs]||(l[Qs]=function(h){return l.handleEvent(h)}),l[Qs])}function Fe(){A.call(this),this.i=new xt(this),this.M=this,this.G=null}d(Fe,A),Fe.prototype[oe]=!0,Fe.prototype.removeEventListener=function(l,h,p,_){bo(this,l,h,p,_)};function Ye(l,h){var p,_=l.G;if(_)for(p=[];_;_=_.G)p.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new x(h,l);else if(h instanceof x)h.target=h.target||l;else{var L=h;h=new x(_,l),Me(h,L)}L=!0;let P,F;if(p)for(F=p.length-1;F>=0;F--)P=h.g=p[F],L=Ws(P,_,!0,h)&&L;if(P=h.g=l,L=Ws(P,_,!0,h)&&L,L=Ws(P,_,!1,h)&&L,p)for(F=0;F<p.length;F++)P=h.g=p[F],L=Ws(P,_,!1,h)&&L}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const p=l.g[h];for(let _=0;_<p.length;_++)q(p[_]);delete l.g[h],l.h--}}this.G=null},Fe.prototype.J=function(l,h,p,_){return this.i.add(String(l),h,!1,p,_)},Fe.prototype.K=function(l,h,p,_){return this.i.add(String(l),h,!0,p,_)};function Ws(l,h,p,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let L=!0;for(let P=0;P<h.length;++P){const F=h[P];if(F&&!F.da&&F.capture==p){const ee=F.listener,st=F.ha||F.src;F.fa&&ge(l.i,F),L=ee.call(st,_)!==!1&&L}}return L&&!_.defaultPrevented}function wu(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(l,h||0)}function xu(l){l.g=wu(()=>{l.g=null,l.i&&(l.i=!1,xu(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class To extends A{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(l){A.call(this),this.h=l,this.g={}}d(On,A);var pi=[];function $t(l){te(l.g,function(h,p){this.g.hasOwnProperty(p)&&Fn(h)},l),l.g={}}On.prototype.N=function(){On.Z.N.call(this),$t(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=a.JSON.stringify,Cu=a.JSON.parse,Ou=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function qr(){}function Ru(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){x.call(this,"d")}d(qi,x);function Zt(){x.call(this,"c")}d(Zt,x);var qt={},Xr=null;function tr(){return Xr=Xr||new Fe}qt.Ia="serverreachability";function Nu(l){x.call(this,qt.Ia,l)}d(Nu,x);function $n(l){const h=tr();Ye(h,new Nu(h))}qt.STAT_EVENT="statevent";function nr(l,h){x.call(this,qt.STAT_EVENT,l),this.stat=h}d(nr,x);function pt(l){const h=tr();Ye(h,new nr(h,l))}qt.Ja="timingevent";function Xi(l,h){x.call(this,qt.Ja,l),this.size=h}d(Xi,x);function ir(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function sr(){this.g=!0}sr.prototype.ua=function(){this.g=!1};function Ge(l,h,p,_,L,P){l.info(function(){if(l.g)if(P){var F="",ee=P.split("&");for(let Ae=0;Ae<ee.length;Ae++){var st=ee[Ae].split("=");if(st.length>1){const ut=st[0];st=st[1];const qn=ut.split("_");F=qn.length>=2&&qn[1]=="type"?F+(ut+"="+st+"&"):F+(ut+"=redacted&")}}}else F=null;else F=P;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+`
`+p+`
`+F})}function Yi(l,h,p,_,L,P,F){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+`
`+p+`
`+P+" "+F})}function Ki(l,h,p,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Eo(l,p)+(_?" "+_:"")})}function Du(l,h){l.info(function(){return"TIMEOUT: "+h})}sr.prototype.info=function(){};function Eo(l,h){if(!l.g)return h;if(!h)return null;try{const P=JSON.parse(h);if(P){for(l=0;l<P.length;l++)if(Array.isArray(P[l])){var p=P[l];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var L=_[0];if(L!="noop"&&L!="stop"&&L!="close")for(let F=1;F<_.length;F++)_[F]=""}}}}return er(P)}catch{return h}}var Yr={NO_ERROR:0,TIMEOUT:8},Mu={},ku;function Lt(){}d(Lt,qr),Lt.prototype.g=function(){return new XMLHttpRequest},ku=new Lt;function Xt(l){return encodeURIComponent(String(l))}function Iu(l){var h=1;l=l.split(":");const p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function Rn(l,h,p,_){this.j=l,this.i=h,this.l=p,this.S=_||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kr}function Kr(){this.i=null,this.g="",this.h=!1}var Ao={},Yt={};function Jr(l,h,p){l.M=1,l.A=zu(Zn(h)),l.u=p,l.R=!0,wo(l,null)}function wo(l,h){l.F=Date.now(),X(l),l.B=Zn(l.A);var p=l.B,_=l.S;Array.isArray(_)||(_=[String(_)]),Wy(p.i,"t",_),l.C=0,p=l.j.L,l.h=new Kr,l.g=yv(l.j,p?h:null,!l.u),l.P>0&&(l.O=new To(c(l.Y,l,l.g),l.P)),h=l.V,p=l.g,_=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(pi[0]=L.toString()),L=pi);for(let P=0;P<L.length;P++){const F=_o(p,L[P],_||h.handleEvent,!1,h.h||h);if(!F)break;h.g[F.key]=F}h=l.J?ye(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),$n(),Ge(l.i,l.v,l.B,l.l,l.S,l.u)}Rn.prototype.ba=function(l){l=l.target;const h=this.O;h&&Wi(l)==3?h.j():this.Y(l)},Rn.prototype.Y=function(l){try{if(l==this.g)e:{const ee=Wi(this.g),st=this.g.ya(),Ae=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||av(this.g)))){this.K||ee!=4||st==7||(st==8||Ae<=0?$n(3):$n(2)),B(this);var h=this.g.ca();this.X=h;var p=Lu(this);if(this.o=h==200,Yi(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,L=this.g;if((_=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(_)){var P=_;break t}}P=null}if(l=P)Ki(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,l);else{this.o=!1,this.m=3,pt(12),fe(this),$(this);break e}}if(this.R){l=!0;let ut;for(;!this.K&&this.C<p.length;)if(ut=Nh(this,p),ut==Yt){ee==4&&(this.m=4,pt(14),l=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Ao){this.m=4,pt(15),Ki(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else Ki(this.i,this.l,ut,null),Ke(this,ut);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||p.length!=0||this.h.h||(this.m=1,pt(16),l=!1),this.o=this.o&&l,!l)Ki(this.i,this.l,p,"[Invalid Chunked Response]"),fe(this),$(this);else if(p.length>0&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.aa&&!F.P&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),zh(F),F.P=!0,pt(11))}}else Ki(this.i,this.l,p,null),Ke(this,p);ee==4&&fe(this),this.o&&!this.K&&(ee==4?dv(this.j,this):(this.o=!1,X(this)))}else JC(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),fe(this),$(this)}}}catch{}finally{}};function Lu(l){if(!xo(l))return l.g.la();const h=av(l.g);if(h==="")return"";let p="";const _=h.length,L=Wi(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return fe(l),$(l),"";l.h.i=new a.TextDecoder}for(let P=0;P<_;P++)l.h.h=!0,p+=l.h.i.decode(h[P],{stream:!(L&&P==_-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function xo(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Nh(l,h){var p=l.C,_=h.indexOf(`
`,p);return _==-1?Yt:(p=Number(h.substring(p,_)),isNaN(p)?Ao:(_+=1,_+p>h.length?Yt:(h=h.slice(_,_+p),l.C=_+p,h)))}Rn.prototype.cancel=function(){this.K=!0,fe(this)};function X(l){l.T=Date.now()+l.H,D(l,l.H)}function D(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ir(c(l.aa,l),h)}function B(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Rn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Du(this.i,this.B),this.M!=2&&($n(),pt(17)),fe(this),this.m=2,$(this)):D(this,this.T-l)};function $(l){l.j.I==0||l.K||dv(l.j,l)}function fe(l){B(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,$t(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ke(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||rr(p.h,l))){if(!l.L&&rr(p.h,l)&&p.I==3){try{var _=p.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Bu(p),ju(p);else break e;Lh(p),pt(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ir(c(p.Va,p),6e3));gi(p.h)<=1&&p.ta&&(p.ta=void 0)}else or(p,11)}else if((l.L||p.g==l)&&Bu(p),!O(h))for(L=p.Ba.g.parse(h),h=0;h<L.length;h++){let Ae=L[h];const ut=Ae[0];if(!(ut<=p.K))if(p.K=ut,Ae=Ae[1],p.I==2)if(Ae[0]=="c"){p.M=Ae[1],p.ba=Ae[2];const qn=Ae[3];qn!=null&&(p.ka=qn,p.j.info("VER="+p.ka));const lr=Ae[4];lr!=null&&(p.za=lr,p.j.info("SVER="+p.za));const es=Ae[5];es!=null&&typeof es=="number"&&es>0&&(_=1.5*es,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const ts=l.g;if(ts){const Hu=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var P=_.h;P.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&($e(P,P.h),P.h=null))}if(_.G){const Ph=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Ph&&(_.wa=Ph,Ce(_.J,_.G,Ph))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var F=l;if(_.na=gv(_,_.L?_.ba:null,_.W),F.L){Co(_.h,F);var ee=F,st=_.O;st&&(ee.H=st),ee.D&&(B(ee),X(ee)),_.g=F}else fv(_);p.i.length>0&&Vu(p)}else Ae[0]!="stop"&&Ae[0]!="close"||or(p,7);else p.I==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?or(p,7):Ih(p):Ae[0]!="noop"&&p.l&&p.l.qa(Ae),p.A=0)}}$n(4)}catch{}}var Pe=class{constructor(l,h){this.g=l,this.map=h}};function gt(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ln(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gi(l){return l.h?1:l.g?l.g.size:0}function rr(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function $e(l,h){l.g?l.g.add(h):l.h=h}function Co(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}gt.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Oo(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.G);return h}return g(l.i)}var Xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jC(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const _=l[p].indexOf("=");let L,P=null;_>=0?(L=l[p].substring(0,_),P=l[p].substring(_+1)):L=l[p],h(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ji(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Ji?(this.l=l.l,Ro(this,l.j),this.o=l.o,this.g=l.g,No(this,l.u),this.h=l.h,Dh(this,ev(l.i)),this.m=l.m):l&&(h=String(l).match(Xy))?(this.l=!1,Ro(this,h[1]||"",!0),this.o=Do(h[2]||""),this.g=Do(h[3]||"",!0),No(this,h[4]),this.h=Do(h[5]||"",!0),Dh(this,h[6]||"",!0),this.m=Do(h[7]||"")):(this.l=!1,this.i=new ko(null,this.l))}Ji.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Mo(h,Yy,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Mo(h,Yy,!0),"@"),l.push(Xt(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Mo(p,p.charAt(0)=="/"?HC:BC,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Mo(p,GC)),l.join("")},Ji.prototype.resolve=function(l){const h=Zn(this);let p=!!l.j;p?Ro(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var _=l.h;if(p)No(h,l.u);else if(p=!!l.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var L=h.h.lastIndexOf("/");L!=-1&&(_=h.h.slice(0,L+1)+_)}if(L=_,L==".."||L==".")_="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){_=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let F=0;F<L.length;){const ee=L[F++];ee=="."?_&&F==L.length&&P.push(""):ee==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),_&&F==L.length&&P.push("")):(P.push(ee),_=!0)}_=P.join("/")}else _=L}return p?h.h=_:p=l.i.toString()!=="",p?Dh(h,ev(l.i)):p=!!l.m,p&&(h.m=l.m),h};function Zn(l){return new Ji(l)}function Ro(l,h,p){l.j=p?Do(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function No(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Dh(l,h,p){h instanceof ko?(l.i=h,$C(l.i,l.l)):(p||(h=Mo(h,FC)),l.i=new ko(h,l.l))}function Ce(l,h,p){l.i.set(h,p)}function zu(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Do(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,VC),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function VC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yy=/[#\/\?@]/g,BC=/[#\?:]/g,HC=/[#\?]/g,FC=/[#\?@]/g,GC=/#/g;function ko(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ar(l){l.g||(l.g=new Map,l.h=0,l.i&&jC(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}e=ko.prototype,e.add=function(l,h){ar(this),this.i=null,l=Qr(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Ky(l,h){ar(l),h=Qr(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Jy(l,h){return ar(l),h=Qr(l,h),l.g.has(h)}e.forEach=function(l,h){ar(this),this.g.forEach(function(p,_){p.forEach(function(L){l.call(h,L,_,this)},this)},this)};function Qy(l,h){ar(l);let p=[];if(typeof h=="string")Jy(l,h)&&(p=p.concat(l.g.get(Qr(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}e.set=function(l,h){return ar(this),this.i=null,l=Qr(this,l),Jy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=Qy(this,l),l.length>0?String(l[0]):h):h};function Wy(l,h,p){Ky(l,h),p.length>0&&(l.i=null,l.g.set(Qr(l,h),g(p)),l.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var p=h[_];const L=Xt(p);p=Qy(this,p);for(let P=0;P<p.length;P++){let F=L;p[P]!==""&&(F+="="+Xt(p[P])),l.push(F)}}return this.i=l.join("&")};function ev(l){const h=new ko;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Qr(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function $C(l,h){h&&!l.j&&(ar(l),l.i=null,l.g.forEach(function(p,_){const L=_.toLowerCase();_!=L&&(Ky(this,_),Wy(this,L,p))},l)),l.j=h}function ZC(l,h){const p=new sr;if(a.Image){const _=new Image;_.onload=f(Qi,p,"TestLoadImage: loaded",!0,h,_),_.onerror=f(Qi,p,"TestLoadImage: error",!1,h,_),_.onabort=f(Qi,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(Qi,p,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function qC(l,h){const p=new sr,_=new AbortController,L=setTimeout(()=>{_.abort(),Qi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(P=>{clearTimeout(L),P.ok?Qi(p,"TestPingServer: ok",!0,h):Qi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Qi(p,"TestPingServer: error",!1,h)})}function Qi(l,h,p,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(p)}catch{}}function XC(){this.g=new Ou}function Mh(l){this.i=l.Sb||null,this.h=l.ab||!1}d(Mh,qr),Mh.prototype.g=function(){return new Pu(this.i,this.h)};function Pu(l,h){Fe.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Pu,Fe),e=Pu.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Lo(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function tv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Io(this):Lo(this),this.readyState==3&&tv(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,Io(this))},e.Na=function(l){this.g&&(this.response=l,Io(this))},e.ga=function(){this.g&&Io(this)};function Io(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Lo(l)}e.setRequestHeader=function(l,h){this.A.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Lo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nv(l){let h="";return te(l,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function kh(l,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=nv(p),typeof l=="string"?p!=null&&Xt(p):Ce(l,h,p))}function Ze(l){Fe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ze,Fe);var YC=/^https?$/i,KC=["POST","PUT"];e=Ze.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ku.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(P){iv(this,P);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)p.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const P of _.keys())p.set(P,_.get(P));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(KC,h,void 0)>=0)||_||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,F]of p)this.g.setRequestHeader(P,F);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(P){iv(this,P)}};function iv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,sv(l),Uu(l)}function sv(l){l.A||(l.A=!0,Ye(l,"complete"),Ye(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ye(this,"complete"),Ye(this,"abort"),Uu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Ze.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?rv(this):this.Xa())},e.Xa=function(){rv(this)};function rv(l){if(l.h&&typeof r<"u"){if(l.v&&Wi(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ye(l,"readystatechange"),Wi(l)==4){l.h=!1;try{const P=l.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=P===0){let F=String(l.D).match(Xy)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),_=!YC.test(F?F.toLowerCase():"")}p=_}if(p)Ye(l,"complete"),Ye(l,"success");else{l.o=6;try{var L=Wi(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",sv(l)}}finally{Uu(l)}}}}function Uu(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,h||Ye(l,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Wi(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Cu(h)}};function av(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function JC(l){const h={};l=(l.g&&Wi(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(O(l[_]))continue;var p=Iu(l[_]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=h[L]||[];h[L]=P,P.push(p)}ce(h,function(_){return _.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function ov(l){this.za=0,this.i=[],this.j=new sr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zo("baseRetryDelayMs",5e3,l),this.Za=zo("retryDelaySeedMs",1e4,l),this.Ta=zo("forwardChannelMaxRetries",2,l),this.va=zo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new gt(l&&l.concurrentRequestLimit),this.Ba=new XC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ov.prototype,e.ka=8,e.I=1,e.connect=function(l,h,p,_){pt(0),this.W=l,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=gv(this,null,this.W),Vu(this)};function Ih(l){if(lv(l),l.I==3){var h=l.V++,p=Zn(l.J);if(Ce(p,"SID",l.M),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),Po(l,p),h=new Rn(l,l.j,h),h.M=2,h.A=zu(Zn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.A,p=!0),p||(h.g=yv(h.j,null),h.g.ea(h.A)),h.F=Date.now(),X(h)}pv(l)}function ju(l){l.g&&(zh(l),l.g.cancel(),l.g=null)}function lv(l){ju(l),l.v&&(a.clearTimeout(l.v),l.v=null),Bu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Vu(l){if(!ln(l.h)&&!l.m){l.m=!0;var h=l.Ea;z||y(),V||(z(),V=!0),T.add(h,l),l.D=0}}function QC(l,h){return gi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ir(c(l.Ea,l,h),mv(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new Rn(this,this.j,l);let P=this.o;if(this.U&&(P?(P=ye(P),Me(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=cv(this,L,h),p=Zn(this.J),Ce(p,"RID",l),Ce(p,"CVER",22),this.G&&Ce(p,"X-HTTP-Session-Id",this.G),Po(this,p),P&&(this.R?h="headers="+Xt(nv(P))+"&"+h:this.u&&kh(p,this.u,P)),$e(this.h,L),this.Ra&&Ce(p,"TYPE","init"),this.S?(Ce(p,"$req",h),Ce(p,"SID","null"),L.U=!0,Jr(L,p,null)):Jr(L,p,h),this.I=2}}else this.I==3&&(l?uv(this,l):this.i.length==0||ln(this.h)||uv(this))};function uv(l,h){var p;h?p=h.l:p=l.V++;const _=Zn(l.J);Ce(_,"SID",l.M),Ce(_,"RID",p),Ce(_,"AID",l.K),Po(l,_),l.u&&l.o&&kh(_,l.u,l.o),p=new Rn(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=cv(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),$e(l.h,p),Jr(p,_,h)}function Po(l,h){l.H&&te(l.H,function(p,_){Ce(h,_,p)}),l.l&&te({},function(p,_){Ce(h,_,p)})}function cv(l,h,p){p=Math.min(l.i.length,p);const _=l.l?c(l.l.Ka,l.l,l):null;e:{var L=l.i;let ee=-1;for(;;){const st=["count="+p];ee==-1?p>0?(ee=L[0].g,st.push("ofs="+ee)):ee=0:st.push("ofs="+ee);let Ae=!0;for(let ut=0;ut<p;ut++){var P=L[ut].g;const qn=L[ut].map;if(P-=ee,P<0)ee=Math.max(0,L[ut].g-100),Ae=!1;else try{P="req"+P+"_"||"";try{var F=qn instanceof Map?qn:Object.entries(qn);for(const[lr,es]of F){let ts=es;o(es)&&(ts=er(es)),st.push(P+lr+"="+encodeURIComponent(ts))}}catch(lr){throw st.push(P+"type="+encodeURIComponent("_badmap")),lr}}catch{_&&_(qn)}}if(Ae){F=st.join("&");break e}}F=void 0}return l=l.i.splice(0,p),h.G=l,F}function fv(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;z||y(),V||(z(),V=!0),T.add(h,l),l.A=0}}function Lh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ir(c(l.Da,l),mv(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,hv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ir(c(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),ju(this),hv(this))};function zh(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function hv(l){l.g=new Rn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Zn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),Po(l,h),l.u&&l.o&&kh(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=zu(Zn(h)),p.u=null,p.R=!0,wo(p,l)}e.Va=function(){this.C!=null&&(this.C=null,ju(this),Lh(this),pt(19))};function Bu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function dv(l,h){var p=null;if(l.g==h){Bu(l),zh(l),l.g=null;var _=2}else if(rr(l.h,h))p=h.G,Co(l.h,h),_=1;else return;if(l.I!=0){if(h.o)if(_==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var L=l.D;_=tr(),Ye(_,new Xi(_,p)),Vu(l)}else fv(l);else if(L=h.m,L==3||L==0&&h.X>0||!(_==1&&QC(l,h)||_==2&&Lh(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),L){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function mv(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function or(l,h){if(l.j.info("Error code "+h),h==2){var p=c(l.bb,l),_=l.Ua;const L=!_;_=new Ji(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ro(_,"https"),zu(_),L?ZC(_.toString(),p):qC(_.toString(),p)}else pt(2);l.I=0,l.l&&l.l.pa(h),pv(l),lv(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function pv(l){if(l.I=0,l.ja=[],l.l){const h=Oo(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ja,h),C(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function gv(l,h,p){var _=p instanceof Ji?Zn(p):new Ji(p);if(_.g!="")h&&(_.g=h+"."+_.g),No(_,_.u);else{var L=a.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;const P=new Ji(null);_&&Ro(P,_),h&&(P.g=h),L&&No(P,L),p&&(P.h=p),_=P}return p=l.G,h=l.wa,p&&h&&Ce(_,p,h),Ce(_,"VER",l.ka),Po(l,_),_}function yv(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ze(new Mh({ab:p})):new Ze(l.ma),h.Fa(l.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vv(){}e=vv.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function un(l,h){Fe.call(this),this.g=new ov(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!O(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!O(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Wr(this)}d(un,Fe),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ih(this.g)},un.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=er(l),l=p);h.i.push(new Pe(h.Ya++,l)),h.I==3&&Vu(h)},un.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,un.Z.N.call(this)};function _v(l){qi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}d(_v,qi);function Sv(){Zt.call(this),this.status=1}d(Sv,Zt);function Wr(l){this.g=l}d(Wr,vv),Wr.prototype.ra=function(){Ye(this.g,"a")},Wr.prototype.qa=function(l){Ye(this.g,new _v(l))},Wr.prototype.pa=function(l){Ye(this.g,new Sv)},Wr.prototype.oa=function(){Ye(this.g,"b")},un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Yr.NO_ERROR=0,Yr.TIMEOUT=8,Yr.HTTP_ERROR=6,Mu.COMPLETE="complete",Ru.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="12.8.0";function k4(e){gh=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new $g("@firebase/firestore");function Un(e,...t){if(Rf.logLevel<=_e.DEBUG){const n=t.map($A);Rf.debug(`Firestore (${gh}): ${e}`,...n)}}function GA(e,...t){if(Rf.logLevel<=_e.ERROR){const n=t.map($A);Rf.error(`Firestore (${gh}): ${e}`,...n)}}function $A(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,ZA(e,i,n)}function ZA(e,t,n){let i=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw GA(i),new Error(i)}function Al(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||ZA(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class de extends fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class z4{constructor(t){this.t=t,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Al(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new wl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new wl,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new wl)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Al(typeof i.accessToken=="string",31837,{l:i}),new I4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Al(t===null||typeof t=="string",2055,{h:t}),new Jt(t)}}class P4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class U4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new P4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Al(this.o===void 0,3512);const i=r=>{r.error!=null&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Un("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Al(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=V4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function js(e,t){return e<t?-1:e>t?1:0}function H4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Ld(s)===Ld(r)?js(s,r):Ld(s)?1:-1}return js(e.length,t.length)}const F4=55296,G4=57343;function Ld(e){const t=e.charCodeAt(0);return t>=F4&&t<=G4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Yn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Nf(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Nf(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Yn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Yn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Yn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return js(t.length,n.length)}static compareSegments(t,n){const i=Yn.isNumericId(t),s=Yn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Yn.extractNumericId(t).compare(Yn.extractNumericId(n)):H4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ny.fromString(t.substring(4,t.length-2))}}class Ln extends Yn{construct(t,n,i){return new Ln(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new de(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ln(n)}static emptyPath(){return new Ln([])}}const $4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Yn{construct(t,n,i){return new yr(t,n,i)}static isValidIdentifier(t){return $4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new yr([I_])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new de(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new de(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new de(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.path=t}static fromPath(t){return new _r(Ln.fromString(t))}static fromName(t){return new _r(Ln.fromString(t).popFirst(5))}static empty(){return new _r(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ln.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ln.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _r(new Ln(t.slice()))}}function Z4(e,t,n,i){if(t===!0&&i===!0)throw new de(he.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function q4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e,t){const n={typeString:e};return t&&(n.value=t),n}function _u(e,t){if(!q4(e))throw new de(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new de(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,z_=1e6;class Jn{static now(){return Jn.fromMillis(Date.now())}static fromDate(t){return Jn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*z_);return new Jn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new de(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<L_)throw new de(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(t){return this.seconds===t.seconds?js(this.nanoseconds,t.nanoseconds):js(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,Jn._jsonSchema))return new Jn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-L_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jn._jsonSchemaVersion="firestore/timestamp/1.0",Jn._jsonSchema={type:nt("string",Jn._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};function X4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Y4("Invalid base64 string: "+r):r}}(t);return new jr(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new jr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return js(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const P_="(default)";class Df{constructor(t,n){this.projectId=t,this.database=n||P_}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===P_}isEqual(t){return t instanceof Df&&t.projectId===this.projectId&&t.database===this.database}}function K4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new de(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Q4(e){return new J4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_,ue;(ue=U_||(U_={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ny([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1048576;function zd(){return typeof document<"u"?document:null}class tI{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Un("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new iy(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var j_,V_;(V_=j_||(j_={})).Ma="default",V_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="ComponentProvider",B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firestore.googleapis.com",H_=!0;class F_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sI,this.ssl=H_}else this.host=t.host,this.ssl=t.ssl??H_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eI)throw new de(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Z4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nI(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rI{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new L4;switch(i.type){case"firstParty":return new U4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=B_.get(n);i&&(Un(iI,"Removing Datastore"),B_.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new sy(this.firestore,t,this._query)}}class ti{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ry(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ti(this.firestore,t,this._key)}toJSON(){return{type:ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(_u(n,ti._jsonSchema))return new ti(t,i||null,new _r(Ln.fromString(n.referencePath)))}}ti._jsonSchemaVersion="firestore/documentReference/1.0",ti._jsonSchema={type:nt("string",ti._jsonSchemaVersion),referencePath:nt("string")};class ry extends sy{constructor(t,n,i){super(t,n,Q4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ti(this.firestore,null,new _r(t))}withConverter(t){return new ry(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class $_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tI(this,"async_queue_retry"),this._c=()=>{const i=zd();i&&Un(G_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=zd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!X4(t))throw t;Un(G_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,GA("INTERNAL UNHANDLED ERROR: ",Z_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=iy.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Nf(47125,{Pc:Z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Z_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class aI extends rI{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new $_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $_(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ci(jr.fromBase64String(t))}catch(n){throw new de(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ci(jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,Ci._jsonSchema))return Ci.fromBase64String(t.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:nt("string",Ci._jsonSchemaVersion),bytes:nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new de(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new de(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new de(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return js(this._lat,t._lat)||js(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(t){if(_u(t,Cr._jsonSchema))return new Cr(t.latitude,t.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:nt("string",Cr._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,Or._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Or(t.vectorValues);throw new de(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:nt("string",Or._jsonSchemaVersion),vectorValues:nt("object")};function XA(e,t,n){if((t=xn(t))instanceof qA)return t._internalPath;if(typeof t=="string")return lI(e,t);throw mp("Field path arguments must be of type string or ",e)}const oI=new RegExp("[~\\*/\\[\\]]");function lI(e,t,n){if(t.search(oI)>=0)throw mp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new qA(...t.split("."))._internalPath}catch{throw mp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function mp(e,t,n,i,s){let r=`Function ${t}() called with invalid data`;r+=". ";let a="";return new de(he.INVALID_ARGUMENT,r+e+a)}const q_="@firebase/firestore",X_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(XA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uI extends YA{data(){return super.data()}}class lc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class La extends YA{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(XA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:nt("string",La._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};class jc extends La{data(t={}){return super.data(t)}}class xl{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new lc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new jc(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new jc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new jc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lc(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:cI(o.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=B4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nf(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:nt("string",xl._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};(function(t,n=!0){k4(fo),zr(new Us("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new aI(new z4(i.getProvider("auth-internal")),new j4(a,i.getProvider("app-check-internal")),K4(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ii(q_,X_,t),ii(q_,X_,"esm2020")})();const KA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},fI=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let uc=null,Pd=null,cc=null;function JA(){if(!uc){const e=WD();e.length>0?uc=e[0]:uc=sA(KA)}return uc}function Ud(){return Pd||(Pd=D4(JA())),Pd}function Yl(){if(!cc&&(cc=RM(JA()),fI&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{fA(cc,"localhost",5001)}catch{}return cc}function Ss(){const e=KA.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const hI=5e3,dI=2e3,QA=3e4,S8=3e4,WA=30*1e3,ew=2e3,b8=60*60*1e3,tw=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],mI=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],pI=["none","learning","familiar","mastered"];function Y_(e){return pI.indexOf(e)}function gI(e,t){return Y_(e)>=Y_(t)?e:t}function pp(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function yI(e,t){const n=new Set,i=[];for(const s of[...e,...t]){const r=`${s.timestamp}-${s.difficulty}-${s.score}`;n.has(r)||(n.add(r),i.push(s))}return i.sort((s,r)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime())}function vI(e,t){return e?t?{sectionId:e.sectionId,visitedAt:pp(e.visitedAt,t.visitedAt),completedAt:pp(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:yI(e.quizAttempts,t.quizAttempts),masteryLevel:gI(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function _I(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const s of n){const r=vI(e[s],t[s]);r&&(i[s]=r)}return i}function SI(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:pp(e.joinedAt,t.joinedAt)||e.joinedAt}}function bI(e,t){const n=new Map;for(const i of[...t,...e]){const s=n.get(i.id);s?(i.unlockedAt&&!s.unlockedAt||!i.unlockedAt&&!s.unlockedAt&&i.progress>s.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function TI(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function EI(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function AI(e,t){return{version:Math.max(e.version,t.version),user:SI(e.user,t.user),sections:_I(e.sections,t.sections),achievements:bI(e.achievements,t.achievements),streak:TI(e.streak,t.streak),dailyGoals:EI(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const Ei=ci("ProgressSync");class wI{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Ss())return Ei.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=Yl(),i=await Ja(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,Ei.info("Fetched progress from server")),i.data}catch(t){return Ei.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};Ei.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(Ei.info("Server has existing progress, merging with local"),i=AI(t,n.progress)):i=t;const s=await this.syncNow(i);return s.success?(Ei.info("Migration complete"),{success:!0,state:s.state||i,merged:n.found}):s}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},WA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},ew))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Ss())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<QA)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=Yl(),r=await Ja(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=r.data.lastSyncedAt,this.pendingState=null,r.data.merged&&r.data.serverProgress?(Ei.info("Server merged states due to conflict"),ch(r.data.serverProgress),this.setStatus("success"),{success:!0,state:r.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return Ei.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const s=await this.syncNow(t);if(s.success||s.error==="Not authenticated"||s.error==="Firebase not configured")return s;if(i<n-1){const r=1e3*Math.pow(2,i);Ei.debug(`Sync retry ${i+1}/${n} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let jd=null;function K_(){return jd||(jd=new wI),jd}const Kn=ci("NostrUtils"),gp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",xI=[996825010,642813549,513874426,1027748829,705979059];function nw(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(t^=xI[s])}return t}function iw(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function CI(e,t){return nw([...iw(e),...t])===1}function OI(e,t){const n=[...iw(e),...t,0,0,0,0,0,0],i=nw(n)^1,s=[];for(let r=0;r<6;r++)s.push(i>>5*(5-r)&31);return s}function sw(e,t,n,i){let s=0,r=0;const a=[],o=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(s=s<<t|u,r+=t;r>=n;)r-=n,a.push(s>>r&o)}if(i)r>0&&a.push(s<<n-r&o);else if(r>=t||s<<n-r&o)return null;return a}function RI(e,t){const n=sw(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=OI(e,n);let s=e+"1";for(const r of n)s+=gp[r];for(const r of i)s+=gp[r];return s}function NI(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const r=i.slice(0,s),a=i.slice(s+1),o=[];for(const f of a){const d=gp.indexOf(f);if(d===-1)return null;o.push(d)}if(!CI(r,o))return null;const u=o.slice(0,-6),c=sw(new Uint8Array(u),5,8,!1);return c?{hrp:r,data:new Uint8Array(c)}:null}function DI(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function MI(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function kI(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=DI(e);return RI("npub",t)}function rw(e){const t=NI(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return MI(t.data)}async function II(e){try{const t=rw(e),n=LI(),i=n.map(async a=>{try{return await Promise.race([aw(a,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(o){return Kn.debug(`Failed to fetch profile from relay ${a}:`,o),null}}),r=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return r.length>0?r[0]:(Kn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return Kn.debug("Failed to convert npub to hex:",t),null}}function LI(){return[...tw,...mI]}function T8(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Mf(){return typeof window<"u"&&typeof window.nostr<"u"}function zI(e=3e3){return new Promise(t=>{if(Mf()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Mf()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function aw(e,t){return new Promise(n=>{let i=!1,s=null,r=null;const a=()=>{if(!i&&(i=!0,r&&(clearTimeout(r),r=null),s&&s.readyState!==WebSocket.CLOSED&&s.readyState!==WebSocket.CLOSING))try{s.close()}catch(u){Kn.debug(`Error closing WebSocket for ${e}:`,u)}};r=setTimeout(()=>{Kn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},hI);try{s=new WebSocket(e)}catch(u){Kn.debug(`Failed to create WebSocket for relay ${e}:`,u),a(),n(null);return}const o=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(!(i||!s))try{const u=JSON.stringify(["REQ",o,{kinds:[0],authors:[t],limit:1}]);s.send(u)}catch(u){Kn.debug(`Failed to send subscription to ${e}:`,u),a(),n(null)}},s.onmessage=u=>{if(!i)try{const c=JSON.parse(u.data);if(c[0]==="EVENT"&&c[1]===o){const f=JSON.parse(c[2].content);a(),n({name:f.name||f.display_name,display_name:f.display_name,nip05:f.nip05,picture:f.picture,about:f.about})}else c[0]==="EOSE"&&(a(),n(null))}catch(c){Kn.debug(`Failed to parse WebSocket message from ${e}:`,c)}},s.onerror=u=>{Kn.debug(`WebSocket error for relay ${e}:`,u),a(),n(null)},s.onclose=u=>{i||(Kn.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),a(),n(null))}})}async function E8(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const r=e.slice(i,i+n).map(async a=>{const o=await II(a);o&&t.set(a,o)});await Promise.all(r)}return t}const PI=22242;function U(e,t,n){function i(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,u);const c=a.prototype,f=Object.keys(c);for(let d=0;d<f.length;d++){const m=f[d];m in o||(o[m]=c[m].bind(o))}}const s=(n==null?void 0:n.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(o){var u;const c=n!=null&&n.Parent?new r:this;i(c,o),(u=c._zod).deferred??(u.deferred=[]);for(const f of c._zod.deferred)f();return c}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var u,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(u=o==null?void 0:o._zod)==null?void 0:u.traits)==null?void 0:c.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class za extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ow extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const lw={};function Vs(e){return lw}function uw(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function yp(e,t){return typeof t=="bigint"?t.toString():t}function ay(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function oy(e){return e==null}function ly(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function UI(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(s=Number.parseInt(u[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return a%o/10**r}const J_=Symbol("evaluating");function be(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==J_)return i===void 0&&(i=J_,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function $r(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zs(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function Q_(e){return JSON.stringify(e)}function jI(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const cw="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kf(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const VI=ay(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Qa(e){if(kf(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(kf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function fw(e){return Qa(e)?{...e}:Array.isArray(e)?[...e]:e}const BI=new Set(["string","number","symbol"]);function yh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qs(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function K(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function HI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const FI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function GI(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const r=Zs(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=n.shape[o])}return $r(this,"shape",a),a},checks:[]});return qs(e,r)}function $I(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const r=Zs(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return $r(this,"shape",a),a},checks:[]});return qs(e,r)}function ZI(e,t){if(!Qa(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const r=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(r,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Zs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return $r(this,"shape",r),r}});return qs(e,s)}function qI(e,t){if(!Qa(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Zs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return $r(this,"shape",i),i}});return qs(e,n)}function XI(e,t){const n=Zs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return $r(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return qs(e,n)}function YI(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Zs(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)u[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return $r(this,"shape",u),u},checks:[]});return qs(t,a)}function KI(e,t,n){const i=Zs(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return $r(this,"shape",r),r}});return qs(t,i)}function _a(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Sa(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function fc(e){return typeof e=="string"?e:e==null?void 0:e.message}function Bs(e,t,n){var s,r,a,o,u,c;const i={...e,path:e.path??[]};if(!e.message){const f=fc((a=(r=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,e))??fc((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??fc((u=n.customError)==null?void 0:u.call(n,e))??fc((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";i.message=f}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function uy(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Kl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const hw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,yp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},dw=U("$ZodError",hw),mw=U("$ZodError",hw,{Parent:Error});function JI(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function QI(e,t=n=>n.message){const n={_errors:[]},i=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>i({issues:a}));else if(r.code==="invalid_key")i({issues:r.issues});else if(r.code==="invalid_element")i({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,o=0;for(;o<r.path.length;){const u=r.path[o];o===r.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(r))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return i(e),n}const cy=e=>(t,n,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new za;if(a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>Bs(u,r,Vs())));throw cw(o,s==null?void 0:s.callee),o}return a.value},fy=e=>async(t,n,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>Bs(u,r,Vs())));throw cw(o,s==null?void 0:s.callee),o}return a.value},vh=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new za;return r.issues.length?{success:!1,error:new(e??dw)(r.issues.map(a=>Bs(a,s,Vs())))}:{success:!0,data:r.value}},WI=vh(mw),_h=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>Bs(a,s,Vs())))}:{success:!0,data:r.value}},eL=_h(mw),tL=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return cy(e)(t,n,s)},nL=e=>(t,n,i)=>cy(e)(t,n,i),iL=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return fy(e)(t,n,s)},sL=e=>async(t,n,i)=>fy(e)(t,n,i),rL=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return vh(e)(t,n,s)},aL=e=>(t,n,i)=>vh(e)(t,n,i),oL=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return _h(e)(t,n,s)},lL=e=>async(t,n,i)=>_h(e)(t,n,i),uL=/^[cC][^\s-]{8,}$/,cL=/^[0-9a-z]+$/,fL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,hL=/^[0-9a-vA-V]{20}$/,dL=/^[A-Za-z0-9]{27}$/,mL=/^[a-zA-Z0-9_-]{21}$/,pL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,gL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,yL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function _L(){return new RegExp(vL,"u")}const SL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,TL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,EL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,pw=/^[A-Za-z0-9_-]*$/,wL=/^\+[1-9]\d{6,14}$/,gw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xL=new RegExp(`^${gw}$`);function yw(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function CL(e){return new RegExp(`^${yw(e)}$`)}function OL(e){const t=yw({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${gw}T(?:${i})$`)}const RL=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},NL=/^-?\d+$/,vw=/^-?\d+(?:\.\d+)?$/,DL=/^(?:true|false)$/i,ML=/^[^A-Z]*$/,kL=/^[^a-z]*$/,Gt=U("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),_w={number:"number",bigint:"bigint",object:"date"},Sw=U("$ZodCheckLessThan",(e,t)=>{Gt.init(e,t);const n=_w[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bw=U("$ZodCheckGreaterThan",(e,t)=>{Gt.init(e,t);const n=_w[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),IL=U("$ZodCheckMultipleOf",(e,t)=>{Gt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):UI(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),LL=U("$ZodCheckNumberFormat",(e,t)=>{var a;Gt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[s,r]=FI[t.format];e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=t.format,u.minimum=s,u.maximum=r,n&&(u.pattern=NL)}),e._zod.check=o=>{const u=o.value;if(n){if(!Number.isInteger(u)){o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?o.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):o.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}u<s&&o.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),u>r&&o.issues.push({origin:"number",input:u,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),zL=U("$ZodCheckMaxLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=uy(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),PL=U("$ZodCheckMinLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=uy(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),UL=U("$ZodCheckLengthEquals",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,r=s.length;if(r===t.length)return;const a=uy(s),o=r>t.length;i.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Sh=U("$ZodCheckStringFormat",(e,t)=>{var n,i;Gt.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),jL=U("$ZodCheckRegex",(e,t)=>{Sh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),VL=U("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=ML),Sh.init(e,t)}),BL=U("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=kL),Sh.init(e,t)}),HL=U("$ZodCheckIncludes",(e,t)=>{Gt.init(e,t);const n=yh(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),FL=U("$ZodCheckStartsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`^${yh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),GL=U("$ZodCheckEndsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`.*${yh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),$L=U("$ZodCheckOverwrite",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class ZL{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),r=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const qL={major:4,minor:3,patch:5},Be=U("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=qL;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const a of r._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const r=(o,u,c)=>{let f=_a(o),d;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(f)continue;const g=o.issues.length,C=m._zod.check(o);if(C instanceof Promise&&(c==null?void 0:c.async)===!1)throw new za;if(d||C instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await C,o.issues.length!==g&&(f||(f=_a(o,g)))});else{if(o.issues.length===g)continue;f||(f=_a(o,g))}}return d?d.then(()=>o):o},a=(o,u,c)=>{if(_a(o))return o.aborted=!0,o;const f=r(u,i,c);if(f instanceof Promise){if(c.async===!1)throw new za;return f.then(d=>e._zod.parse(d,c))}return e._zod.parse(f,c)};e._zod.run=(o,u)=>{if(u.skipChecks)return e._zod.parse(o,u);if(u.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(d=>a(d,o,u)):a(f,o,u)}const c=e._zod.parse(o,u);if(c instanceof Promise){if(u.async===!1)throw new za;return c.then(f=>r(f,i,u))}return r(c,i,u)}}be(e,"~standard",()=>({validate:r=>{var a;try{const o=WI(e,r);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return eL(e,r).then(u=>{var c;return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}))}),hy=U("$ZodString",(e,t)=>{var n;Be.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??RL(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Ie=U("$ZodStringFormat",(e,t)=>{Sh.init(e,t),hy.init(e,t)}),XL=U("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=gL),Ie.init(e,t)}),YL=U("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=W_(i))}else t.pattern??(t.pattern=W_());Ie.init(e,t)}),KL=U("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=yL),Ie.init(e,t)}),JL=U("$ZodURL",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),QL=U("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=_L()),Ie.init(e,t)}),WL=U("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=mL),Ie.init(e,t)}),ez=U("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=uL),Ie.init(e,t)}),tz=U("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=cL),Ie.init(e,t)}),nz=U("$ZodULID",(e,t)=>{t.pattern??(t.pattern=fL),Ie.init(e,t)}),iz=U("$ZodXID",(e,t)=>{t.pattern??(t.pattern=hL),Ie.init(e,t)}),sz=U("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=dL),Ie.init(e,t)}),rz=U("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=OL(t)),Ie.init(e,t)}),az=U("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=xL),Ie.init(e,t)}),oz=U("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=CL(t)),Ie.init(e,t)}),lz=U("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=pL),Ie.init(e,t)}),uz=U("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=SL),Ie.init(e,t),e._zod.bag.format="ipv4"}),cz=U("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=bL),Ie.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),fz=U("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=TL),Ie.init(e,t)}),hz=U("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=EL),Ie.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,r]=i;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Tw(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dz=U("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=AL),Ie.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Tw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function mz(e){if(!pw.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Tw(n)}const pz=U("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=pw),Ie.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{mz(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),gz=U("$ZodE164",(e,t)=>{t.pattern??(t.pattern=wL),Ie.init(e,t)});function yz(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const vz=U("$ZodJWT",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{yz(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Ew=U("$ZodNumber",(e,t)=>{Be.init(e,t),e._zod.pattern=e._zod.bag.pattern??vw,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),_z=U("$ZodNumberFormat",(e,t)=>{LL.init(e,t),Ew.init(e,t)}),Sz=U("$ZodBoolean",(e,t)=>{Be.init(e,t),e._zod.pattern=DL,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),bz=U("$ZodUnknown",(e,t)=>{Be.init(e,t),e._zod.parse=n=>n}),Tz=U("$ZodNever",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function eS(e,t,n){e.issues.length&&t.issues.push(...Sa(n,e.issues)),t.value[n]=e.value}const Ez=U("$ZodArray",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const o=s[a],u=t.element._zod.run({value:o,issues:[]},i);u instanceof Promise?r.push(u.then(c=>eS(c,n,a))):eS(u,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function If(e,t,n,i,s){if(e.issues.length){if(s&&!(n in i))return;t.issues.push(...Sa(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function Aw(e){var i,s,r,a;const t=Object.keys(e.shape);for(const o of t)if(!((a=(r=(s=(i=e.shape)==null?void 0:i[o])==null?void 0:s._zod)==null?void 0:r.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=HI(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ww(e,t,n,i,s,r){const a=[],o=s.keySet,u=s.catchall._zod,c=u.def.type,f=u.optout==="optional";for(const d in t){if(o.has(d))continue;if(c==="never"){a.push(d);continue}const m=u.run({value:t[d],issues:[]},i);m instanceof Promise?e.push(m.then(g=>If(g,n,d,t,f))):If(m,n,d,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const Az=U("$ZodObject",(e,t)=>{Be.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...o};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=ay(()=>Aw(t));be(e._zod,"propValues",()=>{const o=t.shape,u={};for(const c in o){const f=o[c]._zod;if(f.values){u[c]??(u[c]=new Set);for(const d of f.values)u[c].add(d)}}return u});const s=kf,r=t.catchall;let a;e._zod.parse=(o,u)=>{a??(a=i.value);const c=o.value;if(!s(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const f=[],d=a.shape;for(const m of a.keys){const g=d[m],C=g._zod.optout==="optional",N=g._zod.run({value:c[m],issues:[]},u);N instanceof Promise?f.push(N.then(I=>If(I,o,m,c,C))):If(N,o,m,c,C)}return r?ww(f,c,o,u,i.value,e):f.length?Promise.all(f).then(()=>o):o}}),wz=U("$ZodObjectJIT",(e,t)=>{Az.init(e,t);const n=e._zod.parse,i=ay(()=>Aw(t)),s=m=>{var w;const g=new ZL(["shape","payload","ctx"]),C=i.value,N=R=>{const z=Q_(R);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};g.write("const input = payload.value;");const I=Object.create(null);let b=0;for(const R of C.keys)I[R]=`key_${b++}`;g.write("const newResult = {};");for(const R of C.keys){const z=I[R],V=Q_(R),T=m[R],y=((w=T==null?void 0:T._zod)==null?void 0:w.optout)==="optional";g.write(`const ${z} = ${N(R)};`),y?g.write(`
        if (${z}.issues.length) {
          if (${V} in input) {
            payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${V}, ...iss.path] : [${V}]
            })));
          }
        }
        
        if (${z}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${z}.value;
        }
        
      `):g.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${z}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const v=g.compile();return(R,z)=>v(m,R,z)};let r;const a=kf,o=!lw.jitless,c=o&&VI.value,f=t.catchall;let d;e._zod.parse=(m,g)=>{d??(d=i.value);const C=m.value;return a(C)?o&&c&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(r||(r=s(t.shape)),m=r(m,g),f?ww([],C,m,g,d,e):m):n(m,g):(m.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),m)}});function tS(e,t,n,i){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!_a(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>Bs(a,i,Vs())))}),t)}const xz=U("$ZodUnion",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),be(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),be(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),be(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>ly(r.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return i(s,r);let a=!1;const o=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},r);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(u=>tS(u,s,e,r)):tS(o,s,e,r)}}),Cz=U("$ZodIntersection",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([u,c])=>nS(n,u,c)):nS(n,r,a)}});function vp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Qa(e)&&Qa(t)){const n=Object.keys(t),i=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of i){const a=vp(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],r=t[i],a=vp(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function nS(e,t,n){const i=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const u of o.keys)i.has(u)||i.set(u,{}),i.get(u).l=!0}else e.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)i.has(u)||i.set(u,{}),i.get(u).r=!0;else e.issues.push(o);const r=[...i].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(r.length&&s&&e.issues.push({...s,keys:r}),_a(e))return e;const a=vp(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const Oz=U("$ZodRecord",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Qa(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const f=t.valueType._zod.run({value:s[c],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(...Sa(c,d.issues)),n.value[c]=d.value})):(f.issues.length&&n.issues.push(...Sa(c,f.issues)),n.value[c]=f.value)}let u;for(const c in s)o.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let u=t.keyType._zod.run({value:o,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&vw.test(o)&&u.issues.length&&u.issues.some(d=>d.code==="invalid_type"&&d.expected==="number")){const d=t.keyType._zod.run({value:Number(o),issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(u=d)}if(u.issues.length){t.mode==="loose"?n.value[o]=s[o]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>Bs(d,i,Vs())),input:o,path:[o],inst:e});continue}const f=t.valueType._zod.run({value:s[o],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(...Sa(o,d.issues)),n.value[u.value]=d.value})):(f.issues.length&&n.issues.push(...Sa(o,f.issues)),n.value[u.value]=f.value)}}return r.length?Promise.all(r).then(()=>n):n}}),Rz=U("$ZodEnum",(e,t)=>{Be.init(e,t);const n=uw(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>BI.has(typeof s)).map(s=>typeof s=="string"?yh(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return i.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),Nz=U("$ZodTransform",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new ow(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new za;return n.value=s,n}});function iS(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const xw=U("$ZodOptional",(e,t)=>{Be.init(e,t),e._zod.optin="optional",e._zod.optout="optional",be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ly(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>iS(r,n.value)):iS(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),Dz=U("$ZodExactOptional",(e,t)=>{xw.init(e,t),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),Mz=U("$ZodNullable",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ly(n.source)}|null)$`):void 0}),be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),kz=U("$ZodDefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>sS(r,t)):sS(s,t)}});function sS(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Iz=U("$ZodPrefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),Lz=U("$ZodNonOptional",(e,t)=>{Be.init(e,t),be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>rS(r,e)):rS(s,e)}});function rS(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const zz=U("$ZodCatch",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Bs(a,i,Vs()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>Bs(r,i,Vs()))},input:n.value}),n.issues=[]),n)}}),Pz=U("$ZodPipe",(e,t)=>{Be.init(e,t),be(e._zod,"values",()=>t.in._zod.values),be(e._zod,"optin",()=>t.in._zod.optin),be(e._zod,"optout",()=>t.out._zod.optout),be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const r=t.out._zod.run(n,i);return r instanceof Promise?r.then(a=>hc(a,t.in,i)):hc(r,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(r=>hc(r,t.out,i)):hc(s,t.out,i)}});function hc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Uz=U("$ZodReadonly",(e,t)=>{Be.init(e,t),be(e._zod,"propValues",()=>t.innerType._zod.propValues),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),be(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(aS):aS(s)}});function aS(e){return e.value=Object.freeze(e.value),e}const jz=U("$ZodCustom",(e,t)=>{Gt.init(e,t),Be.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(r=>oS(r,n,i,e));oS(s,n,i,e)}});function oS(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(Kl(s))}}var lS;class Vz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Bz(){return new Vz}(lS=globalThis).__zod_globalRegistry??(lS.__zod_globalRegistry=Bz());const rl=globalThis.__zod_globalRegistry;function Hz(e,t){return new e({type:"string",...K(t)})}function Fz(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...K(t)})}function uS(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...K(t)})}function Gz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...K(t)})}function $z(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...K(t)})}function Zz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...K(t)})}function qz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...K(t)})}function Xz(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...K(t)})}function Yz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...K(t)})}function Kz(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...K(t)})}function Jz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...K(t)})}function Qz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...K(t)})}function Wz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...K(t)})}function e3(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...K(t)})}function t3(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...K(t)})}function n3(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...K(t)})}function i3(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...K(t)})}function s3(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...K(t)})}function r3(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...K(t)})}function a3(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...K(t)})}function o3(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...K(t)})}function l3(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...K(t)})}function u3(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...K(t)})}function c3(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...K(t)})}function f3(e,t){return new e({type:"string",format:"date",check:"string_format",...K(t)})}function h3(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...K(t)})}function d3(e,t){return new e({type:"string",format:"duration",check:"string_format",...K(t)})}function m3(e,t){return new e({type:"number",checks:[],...K(t)})}function p3(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...K(t)})}function g3(e,t){return new e({type:"boolean",...K(t)})}function y3(e){return new e({type:"unknown"})}function v3(e,t){return new e({type:"never",...K(t)})}function cS(e,t){return new Sw({check:"less_than",...K(t),value:e,inclusive:!1})}function Vd(e,t){return new Sw({check:"less_than",...K(t),value:e,inclusive:!0})}function fS(e,t){return new bw({check:"greater_than",...K(t),value:e,inclusive:!1})}function Bd(e,t){return new bw({check:"greater_than",...K(t),value:e,inclusive:!0})}function hS(e,t){return new IL({check:"multiple_of",...K(t),value:e})}function Cw(e,t){return new zL({check:"max_length",...K(t),maximum:e})}function Lf(e,t){return new PL({check:"min_length",...K(t),minimum:e})}function Ow(e,t){return new UL({check:"length_equals",...K(t),length:e})}function _3(e,t){return new jL({check:"string_format",format:"regex",...K(t),pattern:e})}function S3(e){return new VL({check:"string_format",format:"lowercase",...K(e)})}function b3(e){return new BL({check:"string_format",format:"uppercase",...K(e)})}function T3(e,t){return new HL({check:"string_format",format:"includes",...K(t),includes:e})}function E3(e,t){return new FL({check:"string_format",format:"starts_with",...K(t),prefix:e})}function A3(e,t){return new GL({check:"string_format",format:"ends_with",...K(t),suffix:e})}function mo(e){return new $L({check:"overwrite",tx:e})}function w3(e){return mo(t=>t.normalize(e))}function x3(){return mo(e=>e.trim())}function C3(){return mo(e=>e.toLowerCase())}function O3(){return mo(e=>e.toUpperCase())}function R3(){return mo(e=>jI(e))}function N3(e,t,n){return new e({type:"array",element:t,...K(n)})}function D3(e,t,n){return new e({type:"custom",check:"custom",fn:t,...K(n)})}function M3(e){const t=k3(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Kl(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Kl(s))}},e(n.value,n)));return t}function k3(e,t){const n=new Gt({check:"custom",...K(t)});return n._zod.check=e,n}function Rw(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??rl,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function it(e,t,n={path:[],schemaPath:[]}){var f,d;var i;const s=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const o=(d=(f=e._zod).toJSONSchema)==null?void 0:d.call(f);if(o)a.schema=o;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,m);else{const C=a.schema,N=t.processors[s.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);N(e,t,C,m)}const g=e._zod.parent;g&&(a.ref||(a.ref=g),it(g,t,m),t.seen.get(g).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&Ot(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Nw(e,t){var a,o,u,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const f of e.seen.entries()){const d=(a=e.metadataRegistry.get(f[0]))==null?void 0:a.id;if(d){const m=i.get(d);if(m&&m!==f[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(d,f[0])}}const s=f=>{var N;const d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const I=(N=e.external.registry.get(f[0]))==null?void 0:N.id,b=e.external.uri??(w=>w);if(I)return{ref:b(I)};const v=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=v,{defId:v,ref:`${b("__shared")}#/${d}/${v}`}}if(f[1]===n)return{ref:"#"};const g=`#/${d}/`,C=f[1].schema.id??`__schema${e.counter++}`;return{defId:C,ref:g+C}},r=f=>{if(f[1].schema.$ref)return;const d=f[1],{ref:m,defId:g}=s(f);d.def={...d.schema},g&&(d.defId=g);const C=d.schema;for(const N in C)delete C[N];C.$ref=m};if(e.cycles==="throw")for(const f of e.seen.entries()){const d=f[1];if(d.cycle)throw new Error(`Cycle detected: #/${(o=d.cycle)==null?void 0:o.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const d=f[1];if(t===f[0]){r(f);continue}if(e.external){const g=(u=e.external.registry.get(f[0]))==null?void 0:u.id;if(t!==f[0]&&g){r(f);continue}}if((c=e.metadataRegistry.get(f[0]))==null?void 0:c.id){r(f);continue}if(d.cycle){r(f);continue}if(d.count>1&&e.reused==="ref"){r(f);continue}}}function Dw(e,t){var a,o,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{const f=e.seen.get(c);if(f.ref===null)return;const d=f.def??f.schema,m={...d},g=f.ref;if(f.ref=null,g){i(g);const N=e.seen.get(g),I=N.schema;if(I.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(I)):Object.assign(d,I),Object.assign(d,m),c._zod.parent===g)for(const v in d)v==="$ref"||v==="allOf"||v in m||delete d[v];if(I.$ref)for(const v in d)v==="$ref"||v==="allOf"||v in N.def&&JSON.stringify(d[v])===JSON.stringify(N.def[v])&&delete d[v]}const C=c._zod.parent;if(C&&C!==g){i(C);const N=e.seen.get(C);if(N!=null&&N.schema.$ref&&(d.$ref=N.schema.$ref,N.def))for(const I in d)I==="$ref"||I==="allOf"||I in N.def&&JSON.stringify(d[I])===JSON.stringify(N.def[I])&&delete d[I]}e.override({zodSchema:c,jsonSchema:d,path:f.path??[]})};for(const c of[...e.seen.entries()].reverse())i(c[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const c=(o=e.external.registry.get(t))==null?void 0:o.id;if(!c)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(c)}Object.assign(s,n.def??n.schema);const r=((u=e.external)==null?void 0:u.defs)??{};for(const c of e.seen.entries()){const f=c[1];f.def&&f.defId&&(r[f.defId]=f.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?s.$defs=r:s.definitions=r);try{const c=JSON.parse(JSON.stringify(s));return Object.defineProperty(c,"~standard",{value:{...t["~standard"],jsonSchema:{input:zf(t,"input",e.processors),output:zf(t,"output",e.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Ot(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Ot(i.element,n);if(i.type==="set")return Ot(i.valueType,n);if(i.type==="lazy")return Ot(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Ot(i.innerType,n);if(i.type==="intersection")return Ot(i.left,n)||Ot(i.right,n);if(i.type==="record"||i.type==="map")return Ot(i.keyType,n)||Ot(i.valueType,n);if(i.type==="pipe")return Ot(i.in,n)||Ot(i.out,n);if(i.type==="object"){for(const s in i.shape)if(Ot(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(Ot(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(Ot(s,n))return!0;return!!(i.rest&&Ot(i.rest,n))}return!1}const I3=(e,t={})=>n=>{const i=Rw({...n,processors:t});return it(e,i),Nw(i,e),Dw(i,e)},zf=(e,t,n={})=>i=>{const{libraryOptions:s,target:r}=i??{},a=Rw({...s??{},target:r,io:t,processors:n});return it(e,a),Nw(a,e),Dw(a,e)},L3={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},z3=(e,t,n,i)=>{const s=n;s.type="string";const{minimum:r,maximum:a,format:o,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof r=="number"&&(s.minLength=r),typeof a=="number"&&(s.maxLength=a),o&&(s.format=L3[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),c&&(s.contentEncoding=c),u&&u.size>0){const f=[...u];f.length===1?s.pattern=f[0].source:f.length>1&&(s.allOf=[...f.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},P3=(e,t,n,i)=>{const s=n,{minimum:r,maximum:a,format:o,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:f}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=f,s.exclusiveMinimum=!0):s.exclusiveMinimum=f),typeof r=="number"&&(s.minimum=r,typeof f=="number"&&t.target!=="draft-04"&&(f>=r?delete s.minimum:delete s.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=c,s.exclusiveMaximum=!0):s.exclusiveMaximum=c),typeof a=="number"&&(s.maximum=a,typeof c=="number"&&t.target!=="draft-04"&&(c<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},U3=(e,t,n,i)=>{n.type="boolean"},j3=(e,t,n,i)=>{n.not={}},V3=(e,t,n,i)=>{},B3=(e,t,n,i)=>{const s=e._zod.def,r=uw(s.entries);r.every(a=>typeof a=="number")&&(n.type="number"),r.every(a=>typeof a=="string")&&(n.type="string"),n.enum=r},H3=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},F3=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},G3=(e,t,n,i)=>{const s=n,r=e._zod.def,{minimum:a,maximum:o}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=it(r.element,t,{...i,path:[...i.path,"items"]})},$3=(e,t,n,i)=>{var c;const s=n,r=e._zod.def;s.type="object",s.properties={};const a=r.shape;for(const f in a)s.properties[f]=it(a[f],t,{...i,path:[...i.path,"properties",f]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(f=>{const d=r.shape[f]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(s.required=Array.from(u)),((c=r.catchall)==null?void 0:c._zod.def.type)==="never"?s.additionalProperties=!1:r.catchall?r.catchall&&(s.additionalProperties=it(r.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},Z3=(e,t,n,i)=>{const s=e._zod.def,r=s.inclusive===!1,a=s.options.map((o,u)=>it(o,t,{...i,path:[...i.path,r?"oneOf":"anyOf",u]}));r?n.oneOf=a:n.anyOf=a},q3=(e,t,n,i)=>{const s=e._zod.def,r=it(s.left,t,{...i,path:[...i.path,"allOf",0]}),a=it(s.right,t,{...i,path:[...i.path,"allOf",1]}),o=c=>"allOf"in c&&Object.keys(c).length===1,u=[...o(r)?r.allOf:[r],...o(a)?a.allOf:[a]];n.allOf=u},X3=(e,t,n,i)=>{const s=n,r=e._zod.def;s.type="object";const a=r.keyType,o=a._zod.bag,u=o==null?void 0:o.patterns;if(r.mode==="loose"&&u&&u.size>0){const f=it(r.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});s.patternProperties={};for(const d of u)s.patternProperties[d.source]=f}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=it(r.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=it(r.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const c=a._zod.values;if(c){const f=[...c].filter(d=>typeof d=="string"||typeof d=="number");f.length>0&&(s.required=f)}},Y3=(e,t,n,i)=>{const s=e._zod.def,r=it(s.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},K3=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},J3=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},Q3=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},W3=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},e6=(e,t,n,i)=>{const s=e._zod.def,r=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;it(r,t,i);const a=t.seen.get(e);a.ref=r},t6=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.readOnly=!0},Mw=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},n6=U("ZodISODateTime",(e,t)=>{rz.init(e,t),ze.init(e,t)});function i6(e){return c3(n6,e)}const s6=U("ZodISODate",(e,t)=>{az.init(e,t),ze.init(e,t)});function r6(e){return f3(s6,e)}const a6=U("ZodISOTime",(e,t)=>{oz.init(e,t),ze.init(e,t)});function o6(e){return h3(a6,e)}const l6=U("ZodISODuration",(e,t)=>{lz.init(e,t),ze.init(e,t)});function u6(e){return d3(l6,e)}const c6=(e,t)=>{dw.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>QI(e,n)},flatten:{value:n=>JI(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,yp,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,yp,2)}},isEmpty:{get(){return e.issues.length===0}}})},Cn=U("ZodError",c6,{Parent:Error}),f6=cy(Cn),h6=fy(Cn),d6=vh(Cn),m6=_h(Cn),p6=tL(Cn),g6=nL(Cn),y6=iL(Cn),v6=sL(Cn),_6=rL(Cn),S6=aL(Cn),b6=oL(Cn),T6=lL(Cn),He=U("ZodType",(e,t)=>(Be.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:zf(e,"input"),output:zf(e,"output")}}),e.toJSONSchema=I3(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Zs(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>qs(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>f6(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>d6(e,n,i),e.parseAsync=async(n,i)=>h6(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>m6(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>p6(e,n,i),e.decode=(n,i)=>g6(e,n,i),e.encodeAsync=async(n,i)=>y6(e,n,i),e.decodeAsync=async(n,i)=>v6(e,n,i),e.safeEncode=(n,i)=>_6(e,n,i),e.safeDecode=(n,i)=>S6(e,n,i),e.safeEncodeAsync=async(n,i)=>b6(e,n,i),e.safeDecodeAsync=async(n,i)=>T6(e,n,i),e.refine=(n,i)=>e.check(pP(n,i)),e.superRefine=n=>e.check(gP(n)),e.overwrite=n=>e.check(mo(n)),e.optional=()=>pS(e),e.exactOptional=()=>nP(e),e.nullable=()=>gS(e),e.nullish=()=>pS(gS(e)),e.nonoptional=n=>lP(e,n),e.array=()=>Wa(e),e.or=n=>Lw([e,n]),e.and=n=>J6(e,n),e.transform=n=>yS(e,eP(n)),e.default=n=>rP(e,n),e.prefault=n=>oP(e,n),e.catch=n=>cP(e,n),e.pipe=n=>yS(e,n),e.readonly=()=>dP(e),e.describe=n=>{const i=e.clone();return rl.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=rl.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return rl.get(e);const i=e.clone();return rl.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),kw=U("_ZodString",(e,t)=>{hy.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>z3(e,i,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(_3(...i)),e.includes=(...i)=>e.check(T3(...i)),e.startsWith=(...i)=>e.check(E3(...i)),e.endsWith=(...i)=>e.check(A3(...i)),e.min=(...i)=>e.check(Lf(...i)),e.max=(...i)=>e.check(Cw(...i)),e.length=(...i)=>e.check(Ow(...i)),e.nonempty=(...i)=>e.check(Lf(1,...i)),e.lowercase=i=>e.check(S3(i)),e.uppercase=i=>e.check(b3(i)),e.trim=()=>e.check(x3()),e.normalize=(...i)=>e.check(w3(...i)),e.toLowerCase=()=>e.check(C3()),e.toUpperCase=()=>e.check(O3()),e.slugify=()=>e.check(R3())}),E6=U("ZodString",(e,t)=>{hy.init(e,t),kw.init(e,t),e.email=n=>e.check(Fz(A6,n)),e.url=n=>e.check(Xz(w6,n)),e.jwt=n=>e.check(u3(V6,n)),e.emoji=n=>e.check(Yz(x6,n)),e.guid=n=>e.check(uS(dS,n)),e.uuid=n=>e.check(Gz(dc,n)),e.uuidv4=n=>e.check($z(dc,n)),e.uuidv6=n=>e.check(Zz(dc,n)),e.uuidv7=n=>e.check(qz(dc,n)),e.nanoid=n=>e.check(Kz(C6,n)),e.guid=n=>e.check(uS(dS,n)),e.cuid=n=>e.check(Jz(O6,n)),e.cuid2=n=>e.check(Qz(R6,n)),e.ulid=n=>e.check(Wz(N6,n)),e.base64=n=>e.check(a3(P6,n)),e.base64url=n=>e.check(o3(U6,n)),e.xid=n=>e.check(e3(D6,n)),e.ksuid=n=>e.check(t3(M6,n)),e.ipv4=n=>e.check(n3(k6,n)),e.ipv6=n=>e.check(i3(I6,n)),e.cidrv4=n=>e.check(s3(L6,n)),e.cidrv6=n=>e.check(r3(z6,n)),e.e164=n=>e.check(l3(j6,n)),e.datetime=n=>e.check(i6(n)),e.date=n=>e.check(r6(n)),e.time=n=>e.check(o6(n)),e.duration=n=>e.check(u6(n))});function ot(e){return Hz(E6,e)}const ze=U("ZodStringFormat",(e,t)=>{Ie.init(e,t),kw.init(e,t)}),A6=U("ZodEmail",(e,t)=>{KL.init(e,t),ze.init(e,t)}),dS=U("ZodGUID",(e,t)=>{XL.init(e,t),ze.init(e,t)}),dc=U("ZodUUID",(e,t)=>{YL.init(e,t),ze.init(e,t)}),w6=U("ZodURL",(e,t)=>{JL.init(e,t),ze.init(e,t)}),x6=U("ZodEmoji",(e,t)=>{QL.init(e,t),ze.init(e,t)}),C6=U("ZodNanoID",(e,t)=>{WL.init(e,t),ze.init(e,t)}),O6=U("ZodCUID",(e,t)=>{ez.init(e,t),ze.init(e,t)}),R6=U("ZodCUID2",(e,t)=>{tz.init(e,t),ze.init(e,t)}),N6=U("ZodULID",(e,t)=>{nz.init(e,t),ze.init(e,t)}),D6=U("ZodXID",(e,t)=>{iz.init(e,t),ze.init(e,t)}),M6=U("ZodKSUID",(e,t)=>{sz.init(e,t),ze.init(e,t)}),k6=U("ZodIPv4",(e,t)=>{uz.init(e,t),ze.init(e,t)}),I6=U("ZodIPv6",(e,t)=>{cz.init(e,t),ze.init(e,t)}),L6=U("ZodCIDRv4",(e,t)=>{fz.init(e,t),ze.init(e,t)}),z6=U("ZodCIDRv6",(e,t)=>{hz.init(e,t),ze.init(e,t)}),P6=U("ZodBase64",(e,t)=>{dz.init(e,t),ze.init(e,t)}),U6=U("ZodBase64URL",(e,t)=>{pz.init(e,t),ze.init(e,t)}),j6=U("ZodE164",(e,t)=>{gz.init(e,t),ze.init(e,t)}),V6=U("ZodJWT",(e,t)=>{vz.init(e,t),ze.init(e,t)}),Iw=U("ZodNumber",(e,t)=>{Ew.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>P3(e,i,s),e.gt=(i,s)=>e.check(fS(i,s)),e.gte=(i,s)=>e.check(Bd(i,s)),e.min=(i,s)=>e.check(Bd(i,s)),e.lt=(i,s)=>e.check(cS(i,s)),e.lte=(i,s)=>e.check(Vd(i,s)),e.max=(i,s)=>e.check(Vd(i,s)),e.int=i=>e.check(mS(i)),e.safe=i=>e.check(mS(i)),e.positive=i=>e.check(fS(0,i)),e.nonnegative=i=>e.check(Bd(0,i)),e.negative=i=>e.check(cS(0,i)),e.nonpositive=i=>e.check(Vd(0,i)),e.multipleOf=(i,s)=>e.check(hS(i,s)),e.step=(i,s)=>e.check(hS(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _t(e){return m3(Iw,e)}const B6=U("ZodNumberFormat",(e,t)=>{_z.init(e,t),Iw.init(e,t)});function mS(e){return p3(B6,e)}const H6=U("ZodBoolean",(e,t)=>{Sz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>U3(e,n,i)});function F6(e){return g3(H6,e)}const G6=U("ZodUnknown",(e,t)=>{bz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>V3()});function _p(){return y3(G6)}const $6=U("ZodNever",(e,t)=>{Tz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>j3(e,n,i)});function Z6(e){return v3($6,e)}const q6=U("ZodArray",(e,t)=>{Ez.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>G3(e,n,i,s),e.element=t.element,e.min=(n,i)=>e.check(Lf(n,i)),e.nonempty=n=>e.check(Lf(1,n)),e.max=(n,i)=>e.check(Cw(n,i)),e.length=(n,i)=>e.check(Ow(n,i)),e.unwrap=()=>e.element});function Wa(e,t){return N3(q6,e,t)}const X6=U("ZodObject",(e,t)=>{wz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>$3(e,n,i,s),be(e,"shape",()=>t.shape),e.keyof=()=>bp(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_p()}),e.loose=()=>e.clone({...e._zod.def,catchall:_p()}),e.strict=()=>e.clone({...e._zod.def,catchall:Z6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>ZI(e,n),e.safeExtend=n=>qI(e,n),e.merge=n=>XI(e,n),e.pick=n=>GI(e,n),e.omit=n=>$I(e,n),e.partial=(...n)=>YI(Pw,e,n[0]),e.required=(...n)=>KI(Uw,e,n[0])});function jn(e,t){const n={type:"object",shape:e??{},...K(t)};return new X6(n)}const Y6=U("ZodUnion",(e,t)=>{xz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Z3(e,n,i,s),e.options=t.options});function Lw(e,t){return new Y6({type:"union",options:e,...K(t)})}const K6=U("ZodIntersection",(e,t)=>{Cz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>q3(e,n,i,s)});function J6(e,t){return new K6({type:"intersection",left:e,right:t})}const Q6=U("ZodRecord",(e,t)=>{Oz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>X3(e,n,i,s),e.keyType=t.keyType,e.valueType=t.valueType});function zw(e,t,n){return new Q6({type:"record",keyType:e,valueType:t,...K(n)})}const Sp=U("ZodEnum",(e,t)=>{Rz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>B3(e,i,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const r={};for(const a of i)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Sp({...t,checks:[],...K(s),entries:r})},e.exclude=(i,s)=>{const r={...t.entries};for(const a of i)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new Sp({...t,checks:[],...K(s),entries:r})}});function bp(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Sp({type:"enum",entries:n,...K(t)})}const W6=U("ZodTransform",(e,t)=>{Nz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>F3(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new ow(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(Kl(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(Kl(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function eP(e){return new W6({type:"transform",transform:e})}const Pw=U("ZodOptional",(e,t)=>{xw.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Mw(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function pS(e){return new Pw({type:"optional",innerType:e})}const tP=U("ZodExactOptional",(e,t)=>{Dz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Mw(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function nP(e){return new tP({type:"optional",innerType:e})}const iP=U("ZodNullable",(e,t)=>{Mz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Y3(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function gS(e){return new iP({type:"nullable",innerType:e})}const sP=U("ZodDefault",(e,t)=>{kz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>J3(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function rP(e,t){return new sP({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():fw(t)}})}const aP=U("ZodPrefault",(e,t)=>{Iz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Q3(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function oP(e,t){return new aP({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():fw(t)}})}const Uw=U("ZodNonOptional",(e,t)=>{Lz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>K3(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function lP(e,t){return new Uw({type:"nonoptional",innerType:e,...K(t)})}const uP=U("ZodCatch",(e,t)=>{zz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>W3(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function cP(e,t){return new uP({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const fP=U("ZodPipe",(e,t)=>{Pz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>e6(e,n,i,s),e.in=t.in,e.out=t.out});function yS(e,t){return new fP({type:"pipe",in:e,out:t})}const hP=U("ZodReadonly",(e,t)=>{Uz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>t6(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function dP(e){return new hP({type:"readonly",innerType:e})}const mP=U("ZodCustom",(e,t)=>{jz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>H3(e,n)});function pP(e,t={}){return D3(mP,e,t)}function gP(e){return M3(e)}ci("Validation");const vS=ot().min(1).max(100);ot().regex(/^[a-fA-F0-9]{64}$/);const bh=ot().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),jw=ot().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);ot().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);jn({challenge:ot().min(10).max(200),expiresAt:_t().int().positive()});jn({kind:_t().int(),created_at:_t().int().nonnegative(),tags:Wa(Wa(ot())),content:ot()});const yP=jn({npub:bh,displayName:jw.nullable()}),Vw=jn({visitedAt:ot().nullable().optional(),completedAt:ot().nullable().optional(),quizAttempts:Wa(jn({xpEarned:_t().int().min(0).optional(),score:_t().min(0).max(100).optional(),timestamp:ot().optional(),difficulty:bp(["easy","medium","hard"]).optional(),correctAnswers:_t().int().min(0).optional(),totalQuestions:_t().int().min(1).optional()})).optional(),visualizationsInteracted:Wa(ot().max(100)).optional(),masteryLevel:Lw([_t().int().min(0).max(3),bp(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:ot().optional(),timeSpentSeconds:_t().int().min(0).optional()});jn({user:jn({totalXP:_t().int().min(0),level:_t().int().min(1).max(10),sectionsCompleted:Wa(vS)}),sections:zw(vS,Vw),dailyGoals:jn({lastResetDate:ot().nullable(),currentStreak:_t().int().min(0),xpEarned:_t().int().min(0),xpGoal:_t().int().min(0)}),lastUpdated:_t().int().nonnegative()});jn({success:F6(),totalXP:_t().int().min(0)});jn({npub:bh,displayName:jw.nullable(),xp:_t().int().min(0),lastSync:ot()});jn({timestamp:ot(),action:ot(),targetNpub:bh.nullable(),performedBy:ot(),details:zw(ot(),_p()).nullable()});function A8(e){return bh.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function vP(e){const t=Vw.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function _P(e){const t=yP.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Pf=ci("SyncManager"),SP="magic-internet-math-progress";function _S(){try{const e=localStorage.getItem(SP);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[s,r]of Object.entries(t.sections)){const[a]=s.split(":");if(!rN(a))continue;const o=a,u=vP(r);if(!u.valid||!u.data){Pf.warn(`Invalid section data for ${s}, skipping`);continue}const c=u.data;if(c.quizAttempts)for(const f of c.quizAttempts)f.xpEarned&&(i[o]+=f.xpEarned);c.visitedAt&&(i[o]+=mt.SECTION_VISIT),c.completedAt&&(i[o]+=mt.SECTION_COMPLETE),c.visualizationsInteracted&&(i[o]+=c.visualizationsInteracted.length*mt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return Pf.error("Error extracting scores from storage:",e),null}}class bP{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},WA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},ew))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Ss())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<QA)return{success:!1,error:"Rate limited"};try{const n=_S();if(!n)return{success:!1,error:"No scores to sync"};const i=Yl(),s=Ja(i,"syncScores"),r={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(r.displayName=this.displayName);const a=await s(r);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return Pf.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const s=1e3*Math.pow(2,n);Pf.debug(`Sync retry ${n+1}/${t} in ${s}ms`),await new Promise(r=>setTimeout(r,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=_S();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Hd=null;function Ko(){return Hd||(Hd=new bP),Hd}const ct=ci("NostrAuth"),Bw=k.createContext(null),Jo="magic-internet-math-nostr-auth";function TP({children:e}){const[t,n]=k.useState(!1),[i,s]=k.useState(null),[r,a]=k.useState(null),[o,u]=k.useState(null),[c,f]=k.useState(!1),[d,m]=k.useState(null),[g,C]=k.useState(!1),[N,I]=k.useState(!1),[b,v]=k.useState(null);k.useEffect(()=>{(async()=>{const A=await zI(dI);C(A),I(!0)})()},[]);const w=k.useCallback(async S=>{for(const A of tw)try{const x=await aw(A,S);if(x){x.nip05&&u(x.nip05);const M=x.display_name||x.name;if(M){a(M);const O=Ko();O.setDisplayName(M),O.requestSync()}return}}catch(x){ct.warn(`Failed to fetch profile from ${A}:`,x)}},[]);k.useEffect(()=>{if(!Ss())return;const S=Ud(),A=_k(S,async x=>{if(v(x),x){s(x.uid);try{const O=await x.getIdTokenResult(!0);ct.debug("Token claims:",O.claims),f(O.claims.isAdmin===!0)}catch(O){ct.error("Error getting token:",O),f(!1)}try{const O=localStorage.getItem(Jo);if(O){const re=JSON.parse(O),oe=_P(re);if(!oe.valid||!oe.data){ct.warn("Invalid auth state in localStorage:",oe.error),localStorage.removeItem(Jo);return}oe.data.npub===x.uid&&a(oe.data.displayName)}}catch(O){ct.debug("Storage read error:",O)}const M=Ko();M.setAuthenticated(!0),M.startPeriodicSync();try{const O=rw(x.uid);w(O)}catch(O){ct.debug("Npub conversion error:",O)}}else{s(null),u(null),f(!1),a(null);const M=Ko();M.setAuthenticated(!1),M.stopPeriodicSync()}});return()=>A()},[w]);const R=k.useCallback(async()=>{if(ct.debug("connect() called"),ct.debug("isFirebaseConfigured:",Ss()),ct.debug("hasNostrExtension:",Mf()),!Ss()){ct.info("Firebase not configured, cannot connect");return}if(!Mf()){m("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),ct.warn("No extension found, returning");return}n(!0),m(null),ct.info("Starting Nostr connection...");try{const S=window.nostr,A=Yl(),x=await S.getPublicKey(),M=kI(x),re=await Ja(A,"createChallenge")({pubkeyHex:x}),{challenge:oe}=re.data,H={kind:PI,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",oe]],content:oe},G=await S.signEvent(H),te=await Ja(A,"verifyNostrAndCreateToken")({signedEvent:G,challenge:oe}),ce=Ud();await gk(ce,te.data.token);try{const At={npub:M,displayName:null};localStorage.setItem(Jo,JSON.stringify(At))}catch(At){ct.warn("Failed to store auth state:",At)}Ko().syncNow().catch(At=>{ct.warn("Initial sync failed:",At)})}catch(S){ct.error("Nostr connect error:",S),m(S instanceof Error?S.message:"Failed to connect. Please try again.")}finally{n(!1)}},[g]),z=k.useCallback(async()=>{try{if(Ss()){const S=Ud();await Sk(S)}try{localStorage.removeItem(Jo)}catch(S){ct.warn("Failed to clear auth state from storage:",S)}s(null),a(null),f(!1)}catch(S){ct.error("Disconnect error:",S),m(S instanceof Error?S.message:"Failed to disconnect")}},[]),V=k.useCallback(S=>{if(a(S),i)try{localStorage.setItem(Jo,JSON.stringify({npub:i,displayName:S}))}catch(x){ct.warn("Failed to update display name in storage:",x)}const A=Ko();A.setDisplayName(S),A.requestSync()},[i]),T=k.useCallback(()=>{m(null)},[]),y=k.useMemo(()=>({isAuthenticated:!!b&&!!i,isConnecting:t,npub:i,displayName:r,nip05:o,isAdmin:c,error:d,hasExtension:g,extensionChecked:N,connect:R,disconnect:z,setDisplayName:V,clearError:T}),[b,i,t,r,o,c,d,g,N,R,z,V,T]);return E.jsx(Bw.Provider,{value:y,children:e})}const EP={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function AP(){const e=k.useContext(Bw);return e||EP}const is=ci("GamificationProgress"),wP=500,xP=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},na=(e,t)=>{xP()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},Hw=k.createContext(null);function CP({children:e,courseId:t,curriculum:n}){const[i,s]=k.useReducer(ON,G1()),[r,a]=k.useState(!0),[o,u]=k.useState([]),[c,f]=k.useState("idle"),d=k.useRef(null),m=k.useRef(!1),g=k.useRef(!1),{isAuthenticated:C,npub:N}=AP(),I=k.useCallback(A=>`${t}:${A}`,[t]),b=k.useCallback((A,x)=>{if(!n)return null;const M=n.find(G=>G.sections.some(q=>q.id===A));if(!M)return null;const O=`${t}:part${M.id}`;if(x.user.partsCompleted.includes(O))return null;const re=M.sections.map(G=>I(G.id)),oe=I(A);return re.every(G=>x.user.sectionsCompleted.includes(G)||G===oe)?O:null},[n,t,I]);k.useEffect(()=>{const A=Lr();A&&s({type:"LOAD_STATE",payload:A}),C||queueMicrotask(()=>a(!1))},[]),k.useEffect(()=>{const A=K_(),x=A.onStatusChange(f),M=g.current;return g.current=C,C&&!M?(is.info("User authenticated, fetching progress from server"),A.setAuthenticated(!0),(async()=>{a(!0);try{const re=dN(),oe=Lr();if(re&&oe){is.info("Migrating local progress to server");const H=await A.migrateLocalProgress(oe);H.success&&H.state?(s({type:"MERGE_WITH_SERVER",payload:H.state}),hN(),is.info("Migration complete")):is.warn("Migration failed, using local state")}else{const H=await A.fetchServerProgress();H.found&&H.progress?(is.info("Loaded progress from server"),s({type:"LOAD_FROM_SERVER",payload:H.progress}),A.setLastSyncedAt(H.lastSyncedAt)):is.info("No server progress found, using local state")}}catch(re){is.error("Failed to sync with server:",re)}finally{queueMicrotask(()=>a(!1)),m.current=!0}})(),A.startPeriodicSync()):!C&&M?(is.info("User logged out"),A.setAuthenticated(!1),A.stopPeriodicSync(),m.current=!1):C||queueMicrotask(()=>a(!1)),()=>{x()}},[C,N]),k.useEffect(()=>{r||(ch(i),C&&m.current&&K_().requestSync(i))},[i,r,C]),k.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),k.useEffect(()=>{if(!r)return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{const A=yN(i);A.length>0&&u(x=>[...x,...A])},wP),()=>{d.current&&clearTimeout(d.current)}},[i,r]);const v=k.useCallback(A=>{s({type:"VISIT_SECTION",payload:{sectionId:I(A)}})},[I]),w=k.useCallback(A=>{const x=b(A,i);s({type:"COMPLETE_SECTION",payload:{sectionId:I(A)}}),x&&(s({type:"COMPLETE_PART",payload:{partId:x}}),na("partCompleted",{partId:x,courseId:t})),na("sectionCompleted",{sectionId:I(A),courseId:t})},[I,t,b,i]),R=k.useCallback((A,x,M,O,re)=>{const oe=I(A),H=M>=80?b(A,i):null;s({type:"RECORD_QUIZ",payload:{sectionId:oe,difficulty:x,score:M,correctAnswers:O,totalQuestions:re}}),H&&(s({type:"COMPLETE_PART",payload:{partId:H}}),na("partCompleted",{partId:H,courseId:t})),na("quizCompleted",{sectionId:oe,courseId:t,score:M,correctAnswers:O,totalQuestions:re}),M>=80&&na("sectionCompleted",{sectionId:oe,courseId:t})},[I,t,b,i]),z=k.useCallback((A,x)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:I(A),name:x}})},[I]),V=k.useCallback(A=>{u(x=>x.filter(M=>M.id!==A))},[]),T=k.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),y=k.useCallback(A=>{s({type:"RECORD_RACE_GAME",payload:A}),na("raceGameCompleted",{courseId:t,score:A.score,tier:A.tier,correctAnswers:A.correctAnswers,totalQuestions:A.totalQuestions,isMultiplayer:A.isMultiplayer})},[t]),S=k.useMemo(()=>({state:i,isLoading:r,notifications:o,syncStatus:c,visitSection:v,completeSection:w,recordQuiz:R,useVisualization:z,dismissNotification:V,resetProgress:T,recordRaceGame:y,dispatch:s}),[i,r,o,c,v,w,R,z,V,T,y,s]);return E.jsx(Hw.Provider,{value:S,children:e})}function Th(){const e=k.useContext(Hw);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const OP=$l;function w8(e){return`${OP}:${e}`}function SS({children:e}){return E.jsx(CP,{courseId:$l,children:e})}const RP=ci("ErrorBoundary");class NP extends k.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){RP.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:E.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full text-center",children:[E.jsx("div",{className:"text-6xl mb-6",children:E.jsx("span",{role:"img","aria-label":"Warning",children:""})}),E.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),E.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&E.jsxs("details",{className:"mb-6 text-left",children:[E.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),E.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),E.jsxs("div",{className:"flex gap-4 justify-center",children:[E.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Vc=ci("ErrorContext");async function DP(e){if(Ss())try{const t=Yl();if(!t){Vc.debug("Firebase functions not initialized");return}await Ja(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),Vc.debug("Error logged to Firebase:",e.message)}catch(t){Vc.debug("Failed to log error to Firebase:",t)}}const Fw=k.createContext(null);function MP({children:e,onError:t}){const[n,i]=k.useState([]),s=k.useCallback(o=>{const u={id:crypto.randomUUID(),...o,timestamp:new Date,recoverable:o.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:o.severity??"error"};i(c=>{const f=[...c,u];return t&&t(u),f}),DP(u).catch(()=>{}),Vc.error("App error added:",u)},[t]),r=k.useCallback(o=>{i(u=>u.filter(c=>c.id!==o))},[]),a=k.useCallback(()=>{i([])},[]);return E.jsx(Fw.Provider,{value:{errors:n,addError:s,dismissError:r,dismissAll:a},children:e})}function kP(){const e=k.useContext(Fw);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function IP({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=kP();return t.length===0?null:E.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:E.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&E.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),E.jsx("div",{className:"space-y-2",children:t.map(s=>E.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:E.jsxs("div",{className:"flex justify-between items-start gap-2",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"text-red-900 font-medium",children:s.message}),s.details&&E.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.details})]}),E.jsx("button",{onClick:()=>n(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},s.id))}),t.some(s=>!s.recoverable)&&E.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[E.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const LP={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function vr({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=E.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[E.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${LP[t]}`,role:"status","aria-label":"Loading"}),e&&E.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?E.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}const Zr=[{id:1,title:"Origins and Fundamentals",slug:"origins-and-fundamentals",sections:[{id:0,title:"The Tontine Story",slug:"tontine-story",description:"Lorenzo Tonti's 1653 innovation, the original structure, and the first tontines in Europe."},{id:1,title:"The Golden Age",slug:"golden-age",description:"18th-19th century tontines, the Freemasons' Hall example, and American tontines."},{id:2,title:"Scandal and Downfall",slug:"scandal-and-downfall",description:"Equitable Life corruption, perverse incentives, the Armstrong Investigation, and the 1905 ban."},{id:3,title:"The Modern Revival",slug:"modern-revival",description:"The longevity crisis, annuity problem, academic research, and Milevsky & Salisbury 2015."},{id:4,title:"Survival Probability Basics",slug:"survival-probability-basics",description:"Survival function S(t), death probability F(t), and the notation T and t."},{id:5,title:"Conditional Survival",slug:"conditional-survival",description:"The notation tpx and calculating survival probability given current age."},{id:6,title:"Life Tables",slug:"life-tables",description:"Structure of life tables: lx, dx, qx, ex. Reading and interpreting mortality data."},{id:7,title:"Force of Mortality",slug:"force-of-mortality",description:"Instantaneous death rate mu(t), hazard rate, and the Gompertz-Makeham Law."},{id:8,title:"The Basic Tontine Setup",slug:"basic-tontine-setup",description:"Pool parameters N, C, r and the lifetime income promise."},{id:9,title:"Year-by-Year Calculation",slug:"year-by-year-calculation",description:"Investment returns, mortality events, payout calculation, and pool value tracking."},{id:10,title:"The Mortality Credit",slug:"mortality-credit",description:"Decomposition of payout into investment income and mortality credit. The formula for survivor benefits."},{id:11,title:"Last Survivor Problem",slug:"last-survivor-problem",description:"Explosive late-game payouts, the jackpot effect, and why the classic tontine is problematic."}]},{id:2,title:"Mathematical Construction",slug:"mathematical-construction",sections:[{id:12,title:"The Fairness Problem",slug:"fairness-problem",description:"Two perspectives on fairness and how to measure actuarial equity."},{id:13,title:"Present Value with Interest",slug:"present-value-interest",description:"Discount factor v = 1/(1+i) and the time value of money."},{id:14,title:"Expected Value with Mortality",slug:"expected-value-mortality",description:"Probability-weighted present value: tpx times v^t."},{id:15,title:"Actuarially Fair Annuity",slug:"actuarially-fair-annuity",description:"EPV = Premium, life annuity pricing, and calculating a-double-dot-65."},{id:16,title:"Is Classic Tontine Fair?",slug:"classic-tontine-fair",description:"EPV calculation for the tontine and the actuarial fairness result."},{id:17,title:"The Heterogeneity Problem",slug:"heterogeneity-problem",description:"Age, sex, and health differences create unfairness in mixed groups."},{id:18,title:"Utility Theory Primer",slug:"utility-theory-primer",description:"u(c) = happiness from consumption, diminishing marginal utility."},{id:19,title:"Power Utility and Risk Aversion",slug:"power-utility-risk-aversion",description:"CRRA utility, the gamma parameter, and the lifetime utility formula."},{id:20,title:"The Optimization Problem",slug:"optimization-problem",description:"Setup, budget constraint, and the calculus of variations."},{id:21,title:"The Euler-Lagrange Equation",slug:"euler-lagrange-equation",description:"Deriving the optimal payout condition and marginal utility growth."},{id:22,title:"Deriving Optimal Payouts",slug:"deriving-optimal-payouts",description:"Power utility case and the growth rate formula g = (beta/v)^(1/gamma)."},{id:23,title:"The Natural Tontine",slug:"natural-tontine",description:"D(t) = A/tpx: payout inversely proportional to survival probability."},{id:24,title:"Why Natural is Near-Optimal",slug:"natural-near-optimal",description:"Milevsky & Salisbury result: less than 1% utility loss for all risk aversions."},{id:25,title:"Risk Aversion Effects",slug:"risk-aversion-effects",description:"Low, moderate, and high gamma effects. Lorenzo Tonti's design for extreme risk aversion."},{id:26,title:"Constructing a Natural Tontine",slug:"constructing-natural-tontine",description:"Step-by-step: capital collection, investment, share units, and distribution."}]},{id:3,title:"Comparison and Application",slug:"comparison-and-application",sections:[{id:27,title:"How Life Annuities Work",slug:"how-annuities-work",description:"Premium P, payment A, pricing formula, and loading factors."},{id:28,title:"The Insurance Company's Problem",slug:"insurance-company-problem",description:"Longevity risk, aggregate vs idiosyncratic risk, and capital requirements."},{id:29,title:"Tontine Advantages",slug:"tontine-advantages",description:"No longevity risk to provider, transparency, efficiency, and investment choice."},{id:30,title:"Annuity Advantages",slug:"annuity-advantages",description:"Guaranteed income, adverse selection management, and established markets."},{id:31,title:"Mathematical Comparison",slug:"mathematical-comparison",description:"Utility comparison and breakeven loading analysis (~2-3%)."},{id:32,title:"Optimal Portfolio Mix",slug:"optimal-portfolio-mix",description:"Three-way allocation and diversification of longevity risk."},{id:33,title:"Group Self-Annuitization (GSA)",slug:"group-self-annuitization",description:"Cohort-based design, explicit mortality credits, and the payout formula."},{id:34,title:"Pooled Annuity Funds (PAFs)",slug:"pooled-annuity-funds",description:"Canadian VPLA, smoothing mechanism, and risk management."},{id:35,title:"Modern Tontine Products",slug:"modern-tontine-products",description:"Tontine Trust UK, UCLA Longevity Fund, and Brookings proposal."},{id:36,title:"Technology Enablers",slug:"technology-enablers",description:"Smart contracts, blockchain, and transparency infrastructure."},{id:37,title:"Regulatory Landscape",slug:"regulatory-landscape",description:"US, UK, Canada, and EU frameworks and proposals."},{id:38,title:"Adverse Selection Problem",slug:"adverse-selection-problem",description:"The adverse selection spiral, mathematical impact, and solutions."},{id:39,title:"Minimum Pool Size",slug:"minimum-pool-size",description:"Volatility vs members, the sqrt(n*q) rule, and solutions for small pools."}]},{id:4,title:"Future and Integration",slug:"future-and-integration",sections:[{id:40,title:"Regulatory Obstacles",slug:"regulatory-obstacles",description:"Security, insurance, and investment classification. Historical bans and solutions."},{id:41,title:"The Last Mile Problem",slug:"last-mile-problem",description:"Pool shrinkage, merge/annuitize/distribute options, and hybrid approaches."},{id:42,title:"The Retirement Income Crisis",slug:"retirement-income-crisis",description:"Longevity plus savings shortfall. The tontine solution."},{id:43,title:"Integrated Retirement Portfolio",slug:"integrated-retirement-portfolio",description:"Three-bucket approach: guaranteed floor, longevity pooling, flexibility."},{id:44,title:"The Future of Tontines",slug:"future-of-tontines",description:"2030/2040 scenarios, policy recommendations, and academic frontiers."}]}];function x8(e){for(const t of Zr){const n=t.sections.find(i=>i.id===e);if(n)return n}}function C8(e){return Zr.find(t=>t.sections.some(n=>n.id===e))}function O8(e){const t=Zr.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function zP(){return Zr.reduce((e,t)=>e+t.sections.length,0)}function PP(){return Zr.flatMap(e=>e.sections)}function R8(e){return PP().findIndex(n=>n.id===e)}function UP({xp:e,level:t,compact:n=!1}){const i=$1(e,t);return n?E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),E.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:E.jsx("span",{className:"text-sm font-bold text-white",children:t})}),E.jsxs("div",{className:"flex-1 min-w-[80px]",children:[E.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[E.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),E.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),E.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:E.jsx(WC.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function jP({streak:e}){return e===0?null:E.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[E.jsx("span",{className:"text-orange-400",children:""}),E.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function bS(){const e=Th(),t=zn.gamification?e:null,n=zP(),i=t?t.state.user.sectionsCompleted.filter(r=>r.startsWith($l)).length:0,s=Math.round(i/n*100);return E.jsx("div",{className:"py-8 px-4",children:E.jsxs("div",{className:"max-w-4xl mx-auto",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("span",{className:"text-6xl mb-4 block",children:z1}),E.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:L1}),E.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:LR})]}),zn.gamification&&t&&E.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),E.jsx(jP,{streak:t.state.streak.currentStreak})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx("div",{children:E.jsx(UP,{xp:t.state.user.totalXP,level:t.state.user.level})}),E.jsxs("div",{className:"flex flex-col justify-center",children:[E.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[E.jsx("span",{className:"text-dark-400",children:"Course Progress"}),E.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),E.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),E.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),E.jsxs("div",{className:"flex flex-col justify-center items-end",children:[E.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),E.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),E.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),E.jsx("div",{className:"space-y-4",children:Zr.map(r=>E.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:E.jsx("span",{className:"text-lg font-bold text-primary-400",children:r.id})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:r.title}),E.jsxs("p",{className:"text-sm text-dark-400",children:[r.sections.length," sections"]})]})]}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.sections.map(a=>{const o=`${$l}:${a.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(o);return E.jsxs(t2,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[E.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?E.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):E.jsx("span",{className:"text-xs",children:a.id})}),E.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},r.id))})]})})}function VP(e){const t={};for(const[n,i]of Object.entries(e)){const s=n.match(/Section(\d+)/);if(s){const r=parseInt(s[1],10);t[r]=i}}return t}const Gw=k.createContext(null);function BP({config:e,children:t}){return E.jsx(Gw.Provider,{value:e,children:t})}function $w(){const e=k.useContext(Gw);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}const dy=k.createContext({});function my(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const py=typeof window<"u",Zw=py?k.useLayoutEffect:k.useEffect,Eh=k.createContext(null);function gy(e,t){e.indexOf(t)===-1&&e.push(t)}function yy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oi=(e,t,n)=>n>t?t:n<e?e:n;let vy=()=>{};const $i={},qw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xw(e){return typeof e=="object"&&e!==null}const Yw=e=>/^0[^.\s]+$/u.test(e);function _y(e){let t;return()=>(t===void 0&&(t=e()),t)}const En=e=>e,HP=(e,t)=>n=>t(e(n)),Su=(...e)=>e.reduce(HP),Jl=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Sy{constructor(){this.subscriptions=[]}add(t){return gy(this.subscriptions,t),()=>yy(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Sn=e=>e/1e3;function Kw(e,t){return t?e*(1e3/t):0}const Jw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,FP=1e-7,GP=12;function $P(e,t,n,i,s){let r,a,o=0;do a=t+(n-t)/2,r=Jw(a,i,s)-e,r>0?n=a:t=a;while(Math.abs(r)>FP&&++o<GP);return a}function bu(e,t,n,i){if(e===t&&n===i)return En;const s=r=>$P(r,0,1,e,n);return r=>r===0||r===1?r:Jw(s(r),t,i)}const Qw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ww=e=>t=>1-e(1-t),ex=bu(.33,1.53,.69,.99),by=Ww(ex),tx=Qw(by),nx=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),Ty=e=>1-Math.sin(Math.acos(e)),ix=Ww(Ty),sx=Qw(Ty),ZP=bu(.42,0,1,1),qP=bu(0,0,.58,1),rx=bu(.42,0,.58,1),XP=e=>Array.isArray(e)&&typeof e[0]!="number",ax=e=>Array.isArray(e)&&typeof e[0]=="number",YP={linear:En,easeIn:ZP,easeInOut:rx,easeOut:qP,circIn:Ty,circInOut:sx,circOut:ix,backIn:by,backInOut:tx,backOut:ex,anticipate:nx},KP=e=>typeof e=="string",TS=e=>{if(ax(e)){vy(e.length===4);const[t,n,i,s]=e;return bu(t,n,i,s)}else if(KP(e))return YP[e];return e},mc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function JP(e,t){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(c.schedule(f),e()),f(o)}const c={schedule:(f,d=!1,m=!1)=>{const C=m&&s?n:i;return d&&a.add(f),C.has(f)||C.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(o=f,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,r&&(r=!1,c.process(f))}};return c}const QP=40;function ox(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=mc.reduce((w,R)=>(w[R]=JP(r),w),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:f,update:d,preRender:m,render:g,postRender:C}=a,N=()=>{const w=$i.useManualTiming?s.timestamp:performance.now();n=!1,$i.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,QP),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),f.process(s),d.process(s),m.process(s),g.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(N))},I=()=>{n=!0,i=!0,s.isProcessing||e(N)};return{schedule:mc.reduce((w,R)=>{const z=a[R];return w[R]=(V,T=!1,y=!1)=>(n||I(),z.schedule(V,T,y)),w},{}),cancel:w=>{for(let R=0;R<mc.length;R++)a[mc[R]].cancel(w)},state:s,steps:a}}const{schedule:Ne,cancel:Hs,state:yt,steps:Fd}=ox(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let Bc;function WP(){Bc=void 0}const Nt={now:()=>(Bc===void 0&&Nt.set(yt.isProcessing||$i.useManualTiming?yt.timestamp:performance.now()),Bc),set:e=>{Bc=e,queueMicrotask(WP)}},lx=e=>t=>typeof t=="string"&&t.startsWith(e),ux=lx("--"),e5=lx("var(--"),Ey=e=>e5(e)?t5.test(e.split("/*")[0].trim()):!1,t5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ES(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const po={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ql={...po,transform:e=>oi(0,1,e)},pc={...po,default:1},Cl=e=>Math.round(e*1e5)/1e5,Ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n5(e){return e==null}const i5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wy=(e,t)=>n=>!!(typeof n=="string"&&i5.test(n)&&n.startsWith(e)||t&&!n5(n)&&Object.prototype.hasOwnProperty.call(n,t)),cx=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(Ay);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},s5=e=>oi(0,255,e),Gd={...po,transform:e=>Math.round(s5(e))},Sr={test:wy("rgb","red"),parse:cx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Gd.transform(e)+", "+Gd.transform(t)+", "+Gd.transform(n)+", "+Cl(Ql.transform(i))+")"};function r5(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Tp={test:wy("#"),parse:r5,transform:Sr.transform},Tu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ss=Tu("deg"),ai=Tu("%"),Z=Tu("px"),a5=Tu("vh"),o5=Tu("vw"),AS={...ai,parse:e=>ai.parse(e)/100,transform:e=>ai.transform(e*100)},ba={test:wy("hsl","hue"),parse:cx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ai.transform(Cl(t))+", "+ai.transform(Cl(n))+", "+Cl(Ql.transform(i))+")"},Je={test:e=>Sr.test(e)||Tp.test(e)||ba.test(e),parse:e=>Sr.test(e)?Sr.parse(e):ba.test(e)?ba.parse(e):Tp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Sr.transform(e):ba.transform(e),getAnimatableNone:e=>{const t=Je.parse(e);return t.alpha=0,Je.transform(t)}},l5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u5(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ay))==null?void 0:t.length)||0)+(((n=e.match(l5))==null?void 0:n.length)||0)>0}const fx="number",hx="color",c5="var",f5="var(",wS="${}",h5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wl(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(h5,u=>(Je.test(u)?(i.color.push(r),s.push(hx),n.push(Je.parse(u))):u.startsWith(f5)?(i.var.push(r),s.push(c5),n.push(u)):(i.number.push(r),s.push(fx),n.push(parseFloat(u))),++r,wS)).split(wS);return{values:n,split:o,indexes:i,types:s}}function dx(e){return Wl(e).values}function mx(e){const{split:t,types:n}=Wl(e),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=n[a];o===fx?r+=Cl(s[a]):o===hx?r+=Je.transform(s[a]):r+=s[a]}return r}}const d5=e=>typeof e=="number"?0:Je.test(e)?Je.getAnimatableNone(e):e;function m5(e){const t=dx(e);return mx(e)(t.map(d5))}const Fs={test:u5,parse:dx,createTransformer:mx,getAnimatableNone:m5};function $d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function p5({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,a=0;if(!t)s=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;s=$d(u,o,e+1/3),r=$d(u,o,e),a=$d(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function Uf(e,t){return n=>n>0?t:e}const Le=(e,t,n)=>e+(t-e)*n,Zd=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},g5=[Tp,Sr,ba],y5=e=>g5.find(t=>t.test(e));function xS(e){const t=y5(e);if(!t)return!1;let n=t.parse(e);return t===ba&&(n=p5(n)),n}const CS=(e,t)=>{const n=xS(e),i=xS(t);if(!n||!i)return Uf(e,t);const s={...n};return r=>(s.red=Zd(n.red,i.red,r),s.green=Zd(n.green,i.green,r),s.blue=Zd(n.blue,i.blue,r),s.alpha=Le(n.alpha,i.alpha,r),Sr.transform(s))},Ep=new Set(["none","hidden"]);function v5(e,t){return Ep.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _5(e,t){return n=>Le(e,t,n)}function xy(e){return typeof e=="number"?_5:typeof e=="string"?Ey(e)?Uf:Je.test(e)?CS:T5:Array.isArray(e)?px:typeof e=="object"?Je.test(e)?CS:S5:Uf}function px(e,t){const n=[...e],i=n.length,s=e.map((r,a)=>xy(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function S5(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=xy(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function b5(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],o=e.values[a]??0;n[s]=o,i[r]++}return n}const T5=(e,t)=>{const n=Fs.createTransformer(t),i=Wl(e),s=Wl(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ep.has(e)&&!s.values.length||Ep.has(t)&&!i.values.length?v5(e,t):Su(px(b5(i,s),s.values),n):Uf(e,t)};function gx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Le(e,t,n):xy(e)(e,t)}const E5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ne.update(t,n),stop:()=>Hs(t),now:()=>yt.isProcessing?yt.timestamp:Nt.now()}},yx=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},jf=2e4;function Cy(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<jf;)t+=n,i=e.next(t);return t>=jf?1/0:t}function A5(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Cy(i),jf);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:Sn(s)}}const w5=5;function vx(e,t,n){const i=Math.max(t-w5,0);return Kw(n-e(i),t-i)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qd=.001;function x5({duration:e=je.duration,bounce:t=je.bounce,velocity:n=je.velocity,mass:i=je.mass}){let s,r,a=1-t;a=oi(je.minDamping,je.maxDamping,a),e=oi(je.minDuration,je.maxDuration,Sn(e)),a<1?(s=c=>{const f=c*a,d=f*e,m=f-n,g=Ap(c,a),C=Math.exp(-d);return qd-m/g*C},r=c=>{const d=c*a*e,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*e,C=Math.exp(-d),N=Ap(Math.pow(c,2),a);return(-s(c)+qd>0?-1:1)*((m-g)*C)/N}):(s=c=>{const f=Math.exp(-c*e),d=(c-n)*e+1;return-qd+f*d},r=c=>{const f=Math.exp(-c*e),d=(n-c)*(e*e);return f*d});const o=5/e,u=O5(s,r,o);if(e=zi(e),isNaN(u))return{stiffness:je.stiffness,damping:je.damping,duration:e};{const c=Math.pow(u,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:e}}}const C5=12;function O5(e,t,n){let i=n;for(let s=1;s<C5;s++)i=i-e(i)/t(i);return i}function Ap(e,t){return e*Math.sqrt(1-t*t)}const R5=["duration","bounce"],N5=["stiffness","damping","mass"];function OS(e,t){return t.some(n=>e[n]!==void 0)}function D5(e){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...e};if(!OS(e,N5)&&OS(e,R5))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*oi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:je.mass,stiffness:s,damping:r}}else{const n=x5(e);t={...t,...n,mass:je.mass},t.isResolvedFromDuration=!0}return t}function Vf(e=je.visualDuration,t=je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:u,damping:c,mass:f,duration:d,velocity:m,isResolvedFromDuration:g}=D5({...n,velocity:-Sn(n.velocity||0)}),C=m||0,N=c/(2*Math.sqrt(u*f)),I=a-r,b=Sn(Math.sqrt(u/f)),v=Math.abs(I)<5;i||(i=v?je.restSpeed.granular:je.restSpeed.default),s||(s=v?je.restDelta.granular:je.restDelta.default);let w;if(N<1){const z=Ap(b,N);w=V=>{const T=Math.exp(-N*b*V);return a-T*((C+N*b*I)/z*Math.sin(z*V)+I*Math.cos(z*V))}}else if(N===1)w=z=>a-Math.exp(-b*z)*(I+(C+b*I)*z);else{const z=b*Math.sqrt(N*N-1);w=V=>{const T=Math.exp(-N*b*V),y=Math.min(z*V,300);return a-T*((C+N*b*I)*Math.sinh(y)+z*I*Math.cosh(y))/z}}const R={calculatedDuration:g&&d||null,next:z=>{const V=w(z);if(g)o.done=z>=d;else{let T=z===0?C:0;N<1&&(T=z===0?zi(C):vx(w,z,V));const y=Math.abs(T)<=i,S=Math.abs(a-V)<=s;o.done=y&&S}return o.value=o.done?a:V,o},toString:()=>{const z=Math.min(Cy(R),jf),V=yx(T=>R.next(z*T).value,z,30);return z+"ms "+V},toTransition:()=>{}};return R}Vf.applyToOptions=e=>{const t=A5(e,100,Vf);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function wp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},g=y=>o!==void 0&&y<o||u!==void 0&&y>u,C=y=>o===void 0?u:u===void 0||Math.abs(o-y)<Math.abs(u-y)?o:u;let N=n*t;const I=d+N,b=a===void 0?I:a(I);b!==I&&(N=b-d);const v=y=>-N*Math.exp(-y/i),w=y=>b+v(y),R=y=>{const S=v(y),A=w(y);m.done=Math.abs(S)<=c,m.value=m.done?b:A};let z,V;const T=y=>{g(m.value)&&(z=y,V=Vf({keyframes:[m.value,C(m.value)],velocity:vx(w,y,m.value),damping:s,stiffness:r,restDelta:c,restSpeed:f}))};return T(0),{calculatedDuration:null,next:y=>{let S=!1;return!V&&z===void 0&&(S=!0,R(y),T(y)),z!==void 0&&y>=z?V.next(y-z):(!S&&R(y),m)}}}function M5(e,t,n){const i=[],s=n||$i.mix||gx,r=e.length-1;for(let a=0;a<r;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||En:t;o=Su(u,o)}i.push(o)}return i}function k5(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(vy(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=M5(t,i,s),u=o.length,c=f=>{if(a&&f<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(f<e[d+1]);d++);const m=Jl(e[d],e[d+1],f);return o[d](m)};return n?f=>c(oi(e[0],e[r-1],f)):c}function I5(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Jl(0,t,i);e.push(Le(n,1,s))}}function L5(e){const t=[0];return I5(t,e.length-1),t}function z5(e,t){return e.map(n=>n*t)}function P5(e,t){return e.map(()=>t||rx).splice(0,e.length-1)}function Ol({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=XP(i)?i.map(TS):TS(i),r={done:!1,value:t[0]},a=z5(n&&n.length===t.length?n:L5(t),e),o=k5(a,t,{ease:Array.isArray(s)?s:P5(t,s)});return{calculatedDuration:e,next:u=>(r.value=o(u),r.done=u>=e,r)}}const U5=e=>e!==null;function Oy(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(U5),o=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const j5={decay:wp,inertia:wp,tween:Ol,keyframes:Ol,spring:Vf};function _x(e){typeof e.type=="string"&&(e.type=j5[e.type])}class Ry{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const V5=e=>e/100;class Ny extends Ry{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Nt.now()&&this.tick(Nt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_x(t);const{type:n=Ol,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const u=n||Ol;u!==Ol&&typeof o[0]!="number"&&(this.mixKeyframes=Su(V5,gx(o[0],o[1])),o=[0,100]);const c=u({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Cy(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:f,repeat:d,repeatType:m,repeatDelay:g,type:C,onUpdate:N,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,R=i;if(d){const y=Math.min(this.currentTime,s)/o;let S=Math.floor(y),A=y%1;!A&&y>=1&&(A=1),A===1&&S--,S=Math.min(S,d+1),!!(S%2)&&(m==="reverse"?(A=1-A,g&&(A-=g/o)):m==="mirror"&&(R=a)),w=oi(0,1,A)*o}const z=v?{done:!1,value:f[0]}:R.next(w);r&&(z.value=r(z.value));let{done:V}=z;!v&&u!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return T&&C!==wp&&(z.value=Oy(f,this.options,I,this.speed)),N&&N(z.value),T&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Sn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(this.currentTime)}set time(t){var n;t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Sn(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=E5,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function B5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const br=e=>e*180/Math.PI,xp=e=>{const t=br(Math.atan2(e[1],e[0]));return Cp(t)},H5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xp,rotateZ:xp,skewX:e=>br(Math.atan(e[1])),skewY:e=>br(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cp=e=>(e=e%360,e<0&&(e+=360),e),RS=xp,NS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),F5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NS,scaleY:DS,scale:e=>(NS(e)+DS(e))/2,rotateX:e=>Cp(br(Math.atan2(e[6],e[5]))),rotateY:e=>Cp(br(Math.atan2(-e[2],e[0]))),rotateZ:RS,rotate:RS,skewX:e=>br(Math.atan(e[4])),skewY:e=>br(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Op(e){return e.includes("scale")?1:0}function Rp(e,t){if(!e||e==="none")return Op(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=F5,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=H5,s=o}if(!s)return Op(t);const r=i[t],a=s[1].split(",").map($5);return typeof r=="function"?r(a):a[r]}const G5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Rp(n,t)};function $5(e){return parseFloat(e.trim())}const go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yo=new Set(go),MS=e=>e===po||e===Z,Z5=new Set(["x","y","z"]),q5=go.filter(e=>!Z5.has(e));function X5(e){const t=[];return q5.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const bs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Rp(t,"x"),y:(e,{transform:t})=>Rp(t,"y")};bs.translateX=bs.x;bs.translateY=bs.y;const Rr=new Set;let Np=!1,Dp=!1,Mp=!1;function Sx(){if(Dp){const e=Array.from(Rr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=X5(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Dp=!1,Np=!1,Rr.forEach(e=>e.complete(Mp)),Rr.clear()}function bx(){Rr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Dp=!0)})}function Y5(){Mp=!0,bx(),Sx(),Mp=!1}class Dy{constructor(t,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Rr.add(this),Np||(Np=!0,Ne.read(bx),Ne.resolveKeyframes(Sx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&r===void 0&&s.set(t[0])}B5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rr.delete(this)}cancel(){this.state==="scheduled"&&(Rr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K5=e=>e.startsWith("--");function J5(e,t,n){K5(t)?e.style.setProperty(t,n):e.style[t]=n}const Q5=_y(()=>window.ScrollTimeline!==void 0),W5={};function eU(e,t){const n=_y(e);return()=>W5[t]??n()}const Tx=eU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),al=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function Ex(e,t){if(e)return typeof e=="function"?Tx()?yx(e,t):"ease-out":ax(e)?al(e):Array.isArray(e)?e.map(n=>Ex(n,t)||kS.easeOut):kS[e]}function tU(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const f={[t]:n};u&&(f.offset=u);const d=Ex(o,s);Array.isArray(d)&&(f.easing=d);const m={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(f,m)}function Ax(e){return typeof e=="function"&&"applyToOptions"in e}function nU({type:e,...t}){return Ax(e)&&Tx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class iU extends Ry{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,vy(typeof t.type!="string");const c=nU(t);this.animation=tU(n,i,s,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=Oy(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):J5(n,i,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Sn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Q5()?(this.animation.timeline=t,En):n(this)}}const wx={anticipate:nx,backInOut:tx,circInOut:sx};function sU(e){return e in wx}function rU(e){typeof e.ease=="string"&&sU(e.ease)&&(e.ease=wx[e.ease])}const Xd=10;class aU extends iU{constructor(t){rU(t),_x(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Ny({...a,autoplay:!1}),u=Math.max(Xd,Nt.now()-this.startTime),c=oi(0,Xd,u-Xd);n.setWithVelocity(o.sample(Math.max(0,u-c)).value,o.sample(u).value,c),o.stop()}}const IS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fs.test(e)||e==="0")&&!e.startsWith("url("));function oU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lU(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=IS(s,t),o=IS(r,t);return!a||!o?!1:oU(e)||(n==="spring"||Ax(n))&&i}function kp(e){e.duration=0,e.type="keyframes"}const uU=new Set(["opacity","clipPath","filter","transform"]),cU=_y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fU(e){var f;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return cU()&&n&&uU.has(n)&&(n!=="transform"||!c)&&!u&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const hU=40;class dU extends Ry{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:f,...d}){var C;super(),this.stop=()=>{var N,I;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Nt.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:c,element:f,...d},g=(f==null?void 0:f.KeyframeResolver)||Dy;this.keyframeResolver=new g(o,(N,I,b)=>this.onKeyframesResolved(N,I,m,!b),u,c,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:f}=i;this.resolvedAt=Nt.now(),lU(t,r,a,o)||(($i.instantAnimations||!u)&&(f==null||f(Oy(t,i,n))),t[0]=t[t.length-1],kp(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},g=!c&&fU(m)?new aU({...m,element:m.motionValue.owner.current}):new Ny(m);g.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Y5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pU(e){const t=mU.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function xx(e,t,n=1){const[i,s]=pU(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return qw(a)?parseFloat(a):a}return Ey(s)?xx(s,t,n+1):s}function My(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Cx=new Set(["width","height","top","left","right","bottom",...go]),gU={test:e=>e==="auto",parse:e=>e},Ox=e=>t=>t.test(e),Rx=[po,Z,ai,ss,o5,a5,gU],LS=e=>Rx.find(Ox(e));function yU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Yw(e):!0}const vU=new Set(["brightness","contrast","saturate","opacity"]);function _U(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Ay)||[];if(!i)return e;const s=n.replace(i,"");let r=vU.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const SU=/\b([a-z-]*)\(.*?\)/gu,Ip={...Fs,getAnimatableNone:e=>{const t=e.match(SU);return t?t.map(_U).join(" "):e}},zS={...po,transform:Math.round},bU={rotate:ss,rotateX:ss,rotateY:ss,rotateZ:ss,scale:pc,scaleX:pc,scaleY:pc,scaleZ:pc,skew:ss,skewX:ss,skewY:ss,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Ql,originX:AS,originY:AS,originZ:Z},ky={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,inset:Z,insetBlock:Z,insetBlockStart:Z,insetBlockEnd:Z,insetInline:Z,insetInlineStart:Z,insetInlineEnd:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,paddingBlock:Z,paddingBlockStart:Z,paddingBlockEnd:Z,paddingInline:Z,paddingInlineStart:Z,paddingInlineEnd:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,marginBlock:Z,marginBlockStart:Z,marginBlockEnd:Z,marginInline:Z,marginInlineStart:Z,marginInlineEnd:Z,backgroundPositionX:Z,backgroundPositionY:Z,...bU,zIndex:zS,fillOpacity:Ql,strokeOpacity:Ql,numOctaves:zS},TU={...ky,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:Ip,WebkitFilter:Ip},Nx=e=>TU[e];function Dx(e,t){let n=Nx(e);return n!==Ip&&(n=Fs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const EU=new Set(["auto","none","0"]);function AU(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!EU.has(r)&&Wl(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=Dx(n,s)}class wU extends Dy{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),Ey(d))){const m=xx(d,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Cx.has(i)||t.length!==2)return;const[s,r]=t,a=LS(s),o=LS(r),u=ES(s),c=ES(r);if(u!==c&&bs[i]){this.needsMeasurement=!0;return}if(a!==o)if(MS(a)&&MS(o))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else bs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||yU(t[s]))&&i.push(s);i.length&&AU(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=bs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function xU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Mx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function kx(e){return Xw(e)&&"offsetHeight"in e}const PS=30,CU=e=>!isNaN(parseFloat(e));class OU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=Nt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sy);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ne.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PS);return Kw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(e,t){return new OU(e,t)}const{schedule:Iy}=ox(queueMicrotask,!1),kn={x:!1,y:!1};function Ix(){return kn.x||kn.y}function RU(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function Lx(e,t){const n=xU(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function US(e){return!(e.pointerType==="touch"||Ix())}function NU(e,t,n={}){const[i,s,r]=Lx(e,n),a=o=>{if(!US(o))return;const{target:u}=o,c=t(u,o);if(typeof c!="function"||!u)return;const f=d=>{US(d)&&(c(d),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const zx=(e,t)=>t?e===t?!0:zx(e,t.parentElement):!1,Ly=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,DU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Px(e){return DU.has(e.tagName)||e.isContentEditable===!0}const Hc=new WeakSet;function jS(e){return t=>{t.key==="Enter"&&e(t)}}function Yd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MU=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=jS(()=>{if(Hc.has(n))return;Yd(n,"down");const s=jS(()=>{Yd(n,"up")}),r=()=>Yd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function VS(e){return Ly(e)&&!Ix()}function kU(e,t,n={}){const[i,s,r]=Lx(e,n),a=o=>{const u=o.currentTarget;if(!VS(o))return;Hc.add(u);const c=t(u,o),f=(g,C)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Hc.has(u)&&Hc.delete(u),VS(g)&&typeof c=="function"&&c(g,{success:C})},d=g=>{f(g,u===window||u===document||n.useGlobalTarget||zx(u,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),kx(o)&&(o.addEventListener("focus",c=>MU(c,s)),!Px(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function Ux(e){return Xw(e)&&"ownerSVGElement"in e}function IU(e){return Ux(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),LU=[...Rx,Je,Fs],zU=e=>LU.find(Ox(e)),zy=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function BS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function PU(...e){return t=>{let n=!1;const i=e.map(s=>{const r=BS(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():BS(e[s],null)}}}}function UU(...e){return k.useCallback(PU(...e),e)}class jU extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=kx(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function VU({children:e,isPresent:t,anchorX:n,root:i}){var f;const s=k.useId(),r=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(zy),u=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),c=UU(r,u);return k.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:C,right:N}=a.current;if(t||!r.current||!d||!m)return;const I=n==="left"?`left: ${C}`:`right: ${N}`;r.current.dataset.motionPopId=s;const b=document.createElement("style");o&&(b.nonce=o);const v=i??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${I}px !important;
            top: ${g}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[t]),E.jsx(jU,{isPresent:t,childRef:r,sizeRef:a,children:k.cloneElement(e,{ref:c})})}const BU=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a,anchorX:o,root:u})=>{const c=my(HU),f=k.useId();let d=!0,m=k.useMemo(()=>(d=!1,{id:f,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const C of c.values())if(!C)return;i&&i()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,i]);return r&&d&&(m={...m}),k.useMemo(()=>{c.forEach((g,C)=>c.set(C,!1))},[n]),k.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),a==="popLayout"&&(e=E.jsx(VU,{isPresent:n,anchorX:o,root:u,children:e})),E.jsx(Eh.Provider,{value:m,children:e})};function HU(){return new Map}function jx(e=!0){const t=k.useContext(Eh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=k.useId();k.useEffect(()=>{if(e)return s(r)},[e]);const a=k.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,a]:[!0]}const gc=e=>e.key||"";function HS(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const Lp=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,f]=jx(a),d=k.useMemo(()=>HS(e),[e]),m=a&&!c?[]:d.map(gc),g=k.useRef(!0),C=k.useRef(d),N=my(()=>new Map),I=k.useRef(new Set),[b,v]=k.useState(d),[w,R]=k.useState(d);Zw(()=>{g.current=!1,C.current=d;for(let T=0;T<w.length;T++){const y=gc(w[T]);m.includes(y)?(N.delete(y),I.current.delete(y)):N.get(y)!==!0&&N.set(y,!1)}},[w,m.length,m.join("-")]);const z=[];if(d!==b){let T=[...d];for(let y=0;y<w.length;y++){const S=w[y],A=gc(S);m.includes(A)||(T.splice(y,0,S),z.push(S))}return r==="wait"&&z.length&&(T=z),R(HS(T)),v(d),null}const{forceRender:V}=k.useContext(dy);return E.jsx(E.Fragment,{children:w.map(T=>{const y=gc(T),S=a&&!c?!1:d===w||m.includes(y),A=()=>{if(I.current.has(y))return;if(I.current.add(y),N.has(y))N.set(y,!0);else return;let x=!0;N.forEach(M=>{M||(x=!1)}),x&&(V==null||V(),R(C.current),a&&(f==null||f()),i&&i())};return E.jsx(BU,{isPresent:S,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:u,onExitComplete:S?void 0:A,anchorX:o,children:T},y)})})},Vx=k.createContext({strict:!1}),FS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},to={};for(const e in FS)to[e]={isEnabled:t=>FS[e].some(n=>!!t[n])};function FU(e){for(const t in e)to[t]={...to[t],...e[t]}}const GU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GU.has(e)}let Bx=e=>!Bf(e);function $U(e){typeof e=="function"&&(Bx=t=>t.startsWith("on")?!Bf(t):e(t))}try{$U(require("@emotion/is-prop-valid").default)}catch{}function ZU(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Bx(s)||n===!0&&Bf(s)||!t&&!Bf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Ah=k.createContext({});function wh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function eu(e){return typeof e=="string"||Array.isArray(e)}const Py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Py];function xh(e){return wh(e.animate)||Uy.some(t=>eu(e[t]))}function Hx(e){return!!(xh(e)||e.variants)}function qU(e,t){if(xh(e)){const{initial:n,animate:i}=e;return{initial:n===!1||eu(n)?n:void 0,animate:eu(i)?i:void 0}}return e.inherit!==!1?t:{}}function XU(e){const{initial:t,animate:n}=qU(e,k.useContext(Ah));return k.useMemo(()=>({initial:t,animate:n}),[GS(t),GS(n)])}function GS(e){return Array.isArray(e)?e.join(" "):e}function $S(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const n=$S(e,t.target.x),i=$S(e,t.target.y);return`${n}% ${i}%`}},YU={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Fs.parse(e);if(s.length>5)return i;const r=Fs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,u=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=Le(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),r(s)}},zp={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:YU};function Fx(e,{layout:t,layoutId:n}){return yo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zp[e]||e==="opacity")}const KU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JU=go.length;function QU(e,t,n){let i="",s=!0;for(let r=0;r<JU;r++){const a=go[r],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const c=Mx(o,ky[a]);if(!u){s=!1;const f=KU[a]||a;i+=`${f}(${c}) `}n&&(t[a]=c)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function jy(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(yo.has(u)){a=!0;continue}else if(ux(u)){s[u]=c;continue}else{const f=Mx(c,ky[u]);u.startsWith("origin")?(o=!0,r[u]=f):i[u]=f}}if(t.transform||(a||n?i.transform=QU(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:f=0}=r;i.transformOrigin=`${u} ${c} ${f}`}}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gx(e,t,n){for(const i in t)!wt(t[i])&&!Fx(i,n)&&(e[i]=t[i])}function WU({transformTemplate:e},t){return k.useMemo(()=>{const n=Vy();return jy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function e9(e,t){const n=e.style||{},i={};return Gx(i,n,e),Object.assign(i,WU(e,t)),i}function t9(e,t){const n={},i=e9(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const n9={offset:"stroke-dashoffset",array:"stroke-dasharray"},i9={offset:"strokeDashoffset",array:"strokeDasharray"};function s9(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?n9:i9;e[r.offset]=Z.transform(-i);const a=Z.transform(t),o=Z.transform(n);e[r.array]=`${a} ${o}`}const r9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $x(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},u,c,f){if(jy(e,o,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox);for(const g of r9)d[g]!==void 0&&(m[g]=d[g],delete d[g]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),s!==void 0&&s9(d,s,r,a,!1)}const Zx=()=>({...Vy(),attrs:{}}),qx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function a9(e,t,n,i){const s=k.useMemo(()=>{const r=Zx();return $x(r,t,qx(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Gx(r,e.style,e),s.style={...r,...s.style}}return s}const o9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(e){return typeof e!="string"||e.includes("-")?!1:!!(o9.indexOf(e)>-1||/[A-Z]/u.test(e))}function l9(e,t,n,{latestValues:i},s,r=!1,a){const u=(a??By(e)?a9:t9)(t,i,s,e),c=ZU(t,typeof e=="string",r),f=e!==k.Fragment?{...c,...u,ref:n}:{},{children:d}=t,m=k.useMemo(()=>wt(d)?d.get():d,[d]);return k.createElement(e,{...f,children:m})}function ZS(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Hy(e,t,n,i){if(typeof t=="function"){const[s,r]=ZS(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=ZS(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function Fc(e){return wt(e)?e.get():e}function u9({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:c9(n,i,s,e),renderState:t()}}function c9(e,t,n,i){const s={},r=i(e,{});for(const m in r)s[m]=Fc(r[m]);let{initial:a,animate:o}=e;const u=xh(e),c=Hx(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const d=f?o:a;if(d&&typeof d!="boolean"&&!wh(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const C=Hy(e,m[g]);if(C){const{transitionEnd:N,transition:I,...b}=C;for(const v in b){let w=b[v];if(Array.isArray(w)){const R=f?w.length-1:0;w=w[R]}w!==null&&(s[v]=w)}for(const v in N)s[v]=N[v]}}}return s}const Xx=e=>(t,n)=>{const i=k.useContext(Ah),s=k.useContext(Eh),r=()=>u9(e,t,i,s);return n?r():my(r)};function Fy(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(wt(i[a])||t.style&&wt(t.style[a])||Fx(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const f9=Xx({scrapeMotionValuesFromProps:Fy,createRenderState:Vy});function Yx(e,t,n){const i=Fy(e,t,n);for(const s in e)if(wt(e[s])||wt(t[s])){const r=go.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}const h9=Xx({scrapeMotionValuesFromProps:Yx,createRenderState:Zx}),d9=Symbol.for("motionComponentSymbol");function m9(e,t,n){const i=k.useRef(n);k.useInsertionEffect(()=>{i.current=n});const s=k.useRef(null);return k.useCallback(r=>{var o;r&&((o=e.onMount)==null||o.call(e,r)),t&&(r?t.mount(r):t.unmount());const a=i.current;if(typeof a=="function")if(r){const u=a(r);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):a(r);else a&&(a.current=r)},[t])}const Gy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p9="framerAppearId",Kx="data-"+Gy(p9),Jx=k.createContext({});function ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function g9(e,t,n,i,s,r){var I,b;const{visualElement:a}=k.useContext(Ah),o=k.useContext(Vx),u=k.useContext(Eh),c=k.useContext(zy).reducedMotion,f=k.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c,isSVG:r}));const d=f.current,m=k.useContext(Jx);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&y9(f.current,n,s,m);const g=k.useRef(!1);k.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const C=n[Kx],N=k.useRef(!!C&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,C))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,C)));return Zw(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),N.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!N.current&&d.animationState&&d.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,C)}),N.current=!1),d.enteringChildren=void 0)}),d}function y9(e,t,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qx(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&ol(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:c})}function Qx(e){if(e)return e.options.allowProjection!==!1?e.projection:Qx(e.parent)}function Kd(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&FU(i);const r=n?n==="svg":By(e),a=r?h9:f9;function o(c,f){let d;const m={...k.useContext(zy),...c,layoutId:v9(c)},{isStatic:g}=m,C=XU(c),N=a(c,g);if(!g&&py){_9();const I=S9(m);d=I.MeasureLayout,C.visualElement=g9(e,N,m,s,I.ProjectionNode,r)}return E.jsxs(Ah.Provider,{value:C,children:[d&&C.visualElement?E.jsx(d,{visualElement:C.visualElement,...m}):null,l9(e,c,m9(N,C.visualElement,f),N,g,t,r)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=k.forwardRef(o);return u[d9]=e,u}function v9({layoutId:e}){const t=k.useContext(dy).id;return t&&e!==void 0?t+"-"+e:e}function _9(e,t){k.useContext(Vx).strict}function S9(e){const{drag:t,layout:n}=to;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function b9(e,t){if(typeof Proxy>"u")return Kd;const n=new Map,i=(r,a)=>Kd(r,a,e,t),s=(r,a)=>i(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,Kd(a,void 0,e,t)),n.get(a))})}function Wx({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function T9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function E9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Jd(e){return e===void 0||e===1}function Pp({scale:e,scaleX:t,scaleY:n}){return!Jd(e)||!Jd(t)||!Jd(n)}function gr(e){return Pp(e)||eC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eC(e){return qS(e.x)||qS(e.y)}function qS(e){return e&&e!=="0%"}function Hf(e,t,n){const i=e-n,s=t*i;return n+s}function XS(e,t,n,i,s){return s!==void 0&&(e=Hf(e,s,i)),Hf(e,n,i)+t}function Up(e,t=0,n=1,i,s){e.min=XS(e.min,t,n,i,s),e.max=XS(e.max,t,n,i,s)}function tC(e,{x:t,y:n}){Up(e.x,t.translate,t.scale,t.originPoint),Up(e.y,n.translate,n.scale,n.originPoint)}const YS=.999999999999,KS=1.0000000000001;function A9(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ea(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,tC(e,a)),i&&gr(r.latestValues)&&Ea(e,r.latestValues))}t.x<KS&&t.x>YS&&(t.x=1),t.y<KS&&t.y>YS&&(t.y=1)}function Ta(e,t){e.min=e.min+t,e.max=e.max+t}function JS(e,t,n,i,s=.5){const r=Le(e.min,e.max,s);Up(e,t,n,r,i)}function Ea(e,t){JS(e.x,t.x,t.scaleX,t.scale,t.originX),JS(e.y,t.y,t.scaleY,t.scale,t.originY)}function nC(e,t){return Wx(E9(e.getBoundingClientRect(),t))}function w9(e,t,n){const i=nC(e,n),{scroll:s}=t;return s&&(Ta(i.x,s.offset.x),Ta(i.y,s.offset.y)),i}const QS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:QS(),y:QS()}),WS=()=>({min:0,max:0}),rt=()=>({x:WS(),y:WS()}),jp={current:null},iC={current:!1};function x9(){if(iC.current=!0,!!py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jp.current=e.matches;e.addEventListener("change",t),t()}else jp.current=!1}const C9=new WeakMap;function O9(e,t,n){for(const i in t){const s=t[i],r=n[i];if(wt(s))e.addValue(i,s);else if(wt(r))e.addValue(i,eo(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,eo(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const eb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R9{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Nt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ne.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=xh(n),this.isVariantNode=Hx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];u[m]!==void 0&&wt(g)&&g.set(u[m])}}mount(t){var n;this.current=t,C9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(iC.current||x9(),this.shouldReduceMotion=jp.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=yo.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ne.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in to){const n=to[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<eb.length;i++){const s=eb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=O9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=eo(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(qw(i)||Yw(i))?i=parseFloat(i):!zU(i)&&Fs.test(n)&&(i=Dx(t,n)),this.setBaseTarget(t,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Hy(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Iy.render(this.render)}}class sC extends R9{constructor(){super(...arguments),this.KeyframeResolver=wU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rC(e,{style:t,vars:n},i,s){const r=e.style;let a;for(a in t)r[a]=t[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function N9(e){return window.getComputedStyle(e)}class D9 extends sC{constructor(){super(...arguments),this.type="html",this.renderInstance=rC}readValueFromInstance(t,n){var i;if(yo.has(n))return(i=this.projection)!=null&&i.isProjecting?Op(n):G5(t,n);{const s=N9(t),r=(ux(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return nC(t,n)}build(t,n,i){jy(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Fy(t,n,i)}}const aC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M9(e,t,n,i){rC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(aC.has(s)?s:Gy(s),t.attrs[s])}class k9 extends sC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yo.has(n)){const i=Nx(n);return i&&i.default||0}return n=aC.has(n)?n:Gy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Yx(t,n,i)}build(t,n,i){$x(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){M9(t,n,i,s)}mount(t){this.isSVGTag=qx(t.tagName),super.mount(t)}}const I9=(e,t)=>t.isSVG??By(e)?new k9(t):new D9(t,{allowProjection:e!==k.Fragment});function Pa(e,t,n){const i=e.getProps();return Hy(i,t,n!==void 0?n:i.custom,e)}const Vp=e=>Array.isArray(e);function L9(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,eo(n))}function z9(e){return Vp(e)?e[e.length-1]||0:e}function P9(e,t){const n=Pa(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=z9(r[a]);L9(e,a,o)}}function U9(e){return!!(wt(e)&&e.add)}function Bp(e,t){const n=e.getValue("willChange");if(U9(n))return n.add(t);if(!n&&$i.WillChange){const i=new $i.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function oC(e){return e.props[Kx]}const j9=e=>e!==null;function V9(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(j9),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const B9={type:"spring",stiffness:500,damping:25,restSpeed:10},H9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),F9={type:"keyframes",duration:.8},G9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$9=(e,{keyframes:t})=>t.length>2?F9:yo.has(e)?e.startsWith("scale")?H9(t[1]):B9:G9;function Z9({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:u,elapsed:c,...f}){return!!Object.keys(f).length}const $y=(e,t,n,i={},s,r)=>a=>{const o=My(i,e)||{},u=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-zi(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};Z9(o)||Object.assign(f,$9(e,f)),f.duration&&(f.duration=zi(f.duration)),f.repeatDelay&&(f.repeatDelay=zi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(kp(f),f.delay===0&&(d=!0)),($i.instantAnimations||$i.skipAnimations)&&(d=!0,kp(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,d&&!r&&t.get()!==void 0){const m=V9(f.keyframes,o);if(m!==void 0){Ne.update(()=>{f.onUpdate(m),f.onComplete()});return}}return o.isSync?new Ny(f):new dU(f)};function q9({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function lC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(r=i);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const d=e.getValue(f,e.latestValues[f]??null),m=o[f];if(m===void 0||c&&q9(c,f))continue;const g={delay:n,...My(r||{},f)},C=d.get();if(C!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===C&&!g.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const b=oC(e);if(b){const v=window.MotionHandoffAnimation(b,f,Ne);v!==null&&(g.startTime=v,N=!0)}}Bp(e,f),d.start($y(f,d,m,e.shouldReduceMotion&&Cx.has(f)?{type:!1}:g,e,N));const I=d.animation;I&&u.push(I)}return a&&Promise.all(u).then(()=>{Ne.update(()=>{a&&P9(e,a)})}),u}function uC(e,t,n,i=0,s=1){const r=Array.from(e).sort((c,f)=>c.sortNodePosition(f)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(r,a):s===1?r*i:o-r*i}function Hp(e,t,n={}){var u;const i=Pa(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(lC(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=s;return X9(e,t,c,f,d,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,f]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>f())}else return Promise.all([r(),a(n.delay)])}function X9(e,t,n=0,i=0,s=0,r=1,a){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(Hp(u,t,{...a,delay:n+(typeof i=="function"?0:i)+uC(e.variantChildren,u,i,s,r)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function Y9(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>Hp(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=Hp(e,t,n);else{const s=typeof t=="function"?Pa(e,t,n.custom):t;i=Promise.all(lC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function cC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const K9=Uy.length;function fC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<K9;n++){const i=Uy[n],s=e.props[i];(eu(s)||s===!1)&&(t[i]=s)}return t}const J9=[...Py].reverse(),Q9=Py.length;function W9(e){return t=>Promise.all(t.map(({animation:n,options:i})=>Y9(e,n,i)))}function ej(e){let t=W9(e),n=tb(),i=!0;const s=u=>(c,f)=>{var m;const d=Pa(e,f,u==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:C,...N}=d;c={...c,...N,...C}}return c};function r(u){t=u(e)}function a(u){const{props:c}=e,f=fC(e.parent)||{},d=[],m=new Set;let g={},C=1/0;for(let I=0;I<Q9;I++){const b=J9[I],v=n[b],w=c[b]!==void 0?c[b]:f[b],R=eu(w),z=b===u?v.isActive:null;z===!1&&(C=I);let V=w===f[b]&&w!==c[b]&&R;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),v.protectedKeys={...g},!v.isActive&&z===null||!w&&!v.prevProp||wh(w)||typeof w=="boolean")continue;const T=tj(v.prevProp,w);let y=T||b===u&&v.isActive&&!V&&R||I>C&&R,S=!1;const A=Array.isArray(w)?w:[w];let x=A.reduce(s(b),{});z===!1&&(x={});const{prevResolvedValues:M={}}=v,O={...M,...x},re=G=>{y=!0,m.has(G)&&(S=!0,m.delete(G)),v.needsAnimating[G]=!0;const q=e.getValue(G);q&&(q.liveStyle=!1)};for(const G in O){const q=x[G],te=M[G];if(g.hasOwnProperty(G))continue;let ce=!1;Vp(q)&&Vp(te)?ce=!cC(q,te):ce=q!==te,ce?q!=null?re(G):m.add(G):q!==void 0&&m.has(G)?re(G):v.protectedKeys[G]=!0}v.prevProp=w,v.prevResolvedValues=x,v.isActive&&(g={...g,...x}),i&&e.blockInitialAnimation&&(y=!1);const oe=V&&T;y&&(!oe||S)&&d.push(...A.map(G=>{const q={type:b};if(typeof G=="string"&&i&&!oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,ce=Pa(te,G);if(te.enteringChildren&&ce){const{delayChildren:ye}=ce.transition||{};q.delay=uC(te.enteringChildren,e,ye)}}return{animation:G,options:q}}))}if(m.size){const I={};if(typeof c.initial!="boolean"){const b=Pa(e,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(I.transition=b.transition)}m.forEach(b=>{const v=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),I[b]=v??null}),d.push({animation:I})}let N=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(d):Promise.resolve()}function o(u,c){var d;if(n[u].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=tb()}}}function tj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cC(t,e):!1}function cr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tb(){return{animate:cr(!0),whileInView:cr(),whileHover:cr(),whileTap:cr(),whileDrag:cr(),whileFocus:cr(),exit:cr()}}class Xs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class nj extends Xs{constructor(t){super(t),t.animationState||(t.animationState=ej(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ij=0;class sj extends Xs{constructor(){super(...arguments),this.id=ij++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rj={animation:{Feature:nj},exit:{Feature:sj}};function tu(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Eu(e){return{point:{x:e.pageX,y:e.pageY}}}const aj=e=>t=>Ly(t)&&e(t,Eu(t));function Rl(e,t,n,i){return tu(e,t,aj(n),i)}const hC=1e-4,oj=1-hC,lj=1+hC,dC=.01,uj=0-dC,cj=0+dC;function Dt(e){return e.max-e.min}function fj(e,t,n){return Math.abs(e-t)<=n}function nb(e,t,n,i=.5){e.origin=i,e.originPoint=Le(t.min,t.max,e.origin),e.scale=Dt(n)/Dt(t),e.translate=Le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oj&&e.scale<=lj||isNaN(e.scale))&&(e.scale=1),(e.translate>=uj&&e.translate<=cj||isNaN(e.translate))&&(e.translate=0)}function Nl(e,t,n,i){nb(e.x,t.x,n.x,i?i.originX:void 0),nb(e.y,t.y,n.y,i?i.originY:void 0)}function ib(e,t,n){e.min=n.min+t.min,e.max=e.min+Dt(t)}function hj(e,t,n){ib(e.x,t.x,n.x),ib(e.y,t.y,n.y)}function sb(e,t,n){e.min=t.min-n.min,e.max=e.min+Dt(t)}function Ff(e,t,n){sb(e.x,t.x,n.x),sb(e.y,t.y,n.y)}function cn(e){return[e("x"),e("y")]}const mC=({current:e})=>e?e.ownerDocument.defaultView:null,rb=(e,t)=>Math.abs(e-t);function dj(e,t){const n=rb(e.x,t.x),i=rb(e.y,t.y);return Math.sqrt(n**2+i**2)}const ab=new Set(["auto","scroll"]);class pC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Wd(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=dj(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!N)return;const{point:I}=g,{timestamp:b}=yt;this.history.push({...I,timestamp:b});const{onStart:v,onMove:w}=this.handlers;C||(v&&v(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,C)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Qd(C,this.transformPagePoint),Ne.update(this.updatePoint,!0)},this.handlePointerUp=(g,C)=>{this.end();const{onEnd:N,onSessionEnd:I,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Wd(g.type==="pointercancel"?this.lastMoveEventInfo:Qd(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(g,v),I&&I(g,v)},!Ly(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const u=Eu(t),c=Qd(u,this.transformPagePoint),{point:f}=c,{timestamp:d}=yt;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,Wd(c,this.history)),this.removeListeners=Su(Rl(this.contextWindow,"pointermove",this.handlePointerMove),Rl(this.contextWindow,"pointerup",this.handlePointerUp),Rl(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(ab.has(i.overflowX)||ab.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:s.x-n.x,y:s.y-n.y};r.x===0&&r.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,s),Ne.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hs(this.updatePoint)}}function Qd(e,t){return t?{point:t(e.point)}:e}function ob(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wd({point:e},t){return{point:e,delta:ob(e,gC(t)),offset:ob(e,mj(t)),velocity:pj(t,.1)}}function mj(e){return e[0]}function gC(e){return e[e.length-1]}function pj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=gC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>zi(t)));)n--;if(!i)return{x:0,y:0};const r=Sn(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function gj(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Le(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Le(n,e,i.max):Math.min(e,n)),e}function lb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yj(e,{top:t,left:n,bottom:i,right:s}){return{x:lb(e.x,n,s),y:lb(e.y,t,i)}}function ub(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function vj(e,t){return{x:ub(e.x,t.x),y:ub(e.y,t.y)}}function _j(e,t){let n=.5;const i=Dt(e),s=Dt(t);return s>i?n=Jl(t.min,t.max-i,e.min):i>s&&(n=Jl(e.min,e.max-s,t.min)),oi(0,1,n)}function Sj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fp=.35;function bj(e=Fp){return e===!1?e=0:e===!0&&(e=Fp),{x:cb(e,"left","right"),y:cb(e,"top","bottom")}}function cb(e,t,n){return{min:fb(e,t),max:fb(e,n)}}function fb(e,t){return typeof e=="number"?e:e[t]||0}const Tj=new WeakMap;class Ej{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{n?(this.stopAnimation(),this.snapToCursor(Eu(d).point)):this.pauseAnimation()},a=(d,m)=>{this.stopAnimation();const{drag:g,dragPropagation:C,onDragStart:N}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RU(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(ai.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const R=w.layout.layoutBox[b];R&&(v=Dt(R)*(parseFloat(v)/100))}}this.originPoint[b]=v}),N&&Ne.postRender(()=>N(d,m)),Bp(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:N,onDrag:I}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=m;if(C&&this.currentDirection===null){this.currentDirection=Aj(b),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),I&&I(d,m)},u=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>cn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new pC(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:mC(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Ne.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!yc(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=gj(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=yj(i.layoutBox,t):this.constraints=!1,this.elastic=bj(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&cn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Sj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ol(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=w9(i,s.root,this.visualElement.getTransformPagePoint());let a=vj(s.layout.layoutBox,r);if(n){const o=n(T9(a));this.hasMutatedConstraints=!!o,o&&(a=Wx(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=cn(f=>{if(!yc(f,n,this.currentDirection))return;let d=u&&u[f]||{};a&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,C={type:"inertia",velocity:i?t[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(f,C)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Bp(this.visualElement,t),i.start($y(t,i,0,n,this.visualElement,!1))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){cn(n=>{const{drag:i}=this.getProps();if(!yc(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],u=r.get()||0;r.set(t[n]-Le(a,o,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=_j({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cn(a=>{if(!yc(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(Le(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;Tj.set(this.visualElement,this);const t=this.visualElement.current,n=Rl(t,"pointerdown",u=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&!Px(u.target)&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();ol(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ne.read(i);const a=tu(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(cn(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=u[f].translate,d.set(d.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Fp,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function yc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Aj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wj extends Xs{constructor(t){super(t),this.removeGroupControls=En,this.removeListeners=En,this.controls=new Ej(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const hb=e=>(t,n)=>{e&&Ne.postRender(()=>e(t,n))};class xj extends Xs{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(t){this.session=new pC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:hb(t),onStart:hb(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Ne.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Rl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let em=!1;class Cj extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),em&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,em=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||Ne.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;em=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yC(e){const[t,n]=jx(),i=k.useContext(dy);return E.jsx(Cj,{...e,layoutGroup:i,switchLayoutGroup:k.useContext(Jx),isPresent:t,safeToRemove:n})}function Oj(e,t,n){const i=wt(e)?e:eo(e);return i.start($y("",i,t,n)),i.animation}const Rj=(e,t)=>e.depth-t.depth;class Nj{constructor(){this.children=[],this.isDirty=!1}add(t){gy(this.children,t),this.isDirty=!0}remove(t){yy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rj),this.isDirty=!1,this.children.forEach(t)}}function Dj(e,t){const n=Nt.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(Hs(i),e(r-t))};return Ne.setup(i,!0),()=>Hs(i)}const vC=["TopLeft","TopRight","BottomLeft","BottomRight"],Mj=vC.length,db=e=>typeof e=="string"?parseFloat(e):e,mb=e=>typeof e=="number"||Z.test(e);function kj(e,t,n,i,s,r){s?(e.opacity=Le(0,n.opacity??1,Ij(i)),e.opacityExit=Le(t.opacity??1,0,Lj(i))):r&&(e.opacity=Le(t.opacity??1,n.opacity??1,i));for(let a=0;a<Mj;a++){const o=`border${vC[a]}Radius`;let u=pb(t,o),c=pb(n,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||mb(u)===mb(c)?(e[o]=Math.max(Le(db(u),db(c),i),0),(ai.test(c)||ai.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=Le(t.rotate||0,n.rotate||0,i))}function pb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ij=_C(0,.5,ix),Lj=_C(.5,.95,En);function _C(e,t,n){return i=>i<e?0:i>t?1:n(Jl(e,t,i))}function gb(e,t){e.min=t.min,e.max=t.max}function Dn(e,t){gb(e.x,t.x),gb(e.y,t.y)}function yb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vb(e,t,n,i,s){return e-=t,e=Hf(e,1/n,i),s!==void 0&&(e=Hf(e,1/s,i)),e}function zj(e,t=0,n=1,i=.5,s,r=e,a=e){if(ai.test(t)&&(t=parseFloat(t),t=Le(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Le(r.min,r.max,i);e===r&&(o-=t),e.min=vb(e.min,t,n,o,s),e.max=vb(e.max,t,n,o,s)}function _b(e,t,[n,i,s],r,a){zj(e,t[n],t[i],t[s],t.scale,r,a)}const Pj=["x","scaleX","originX"],Uj=["y","scaleY","originY"];function Sb(e,t,n,i){_b(e.x,t,Pj,n?n.x:void 0,i?i.x:void 0),_b(e.y,t,Uj,n?n.y:void 0,i?i.y:void 0)}function bb(e){return e.translate===0&&e.scale===1}function SC(e){return bb(e.x)&&bb(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function jj(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function Eb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bC(e,t){return Eb(e.x,t.x)&&Eb(e.y,t.y)}function Ab(e){return Dt(e.x)/Dt(e.y)}function wb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Vj{constructor(){this.members=[]}add(t){gy(this.members,t),t.scheduleRender()}remove(t){if(yy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bj(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:d,rotateY:m,skewX:g,skewY:C}=n;c&&(i=`perspective(${c}px) ${i}`),f&&(i+=`rotate(${f}deg) `),d&&(i+=`rotateX(${d}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),C&&(i+=`skewY(${C}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(i+=`scale(${o}, ${u})`),i||"none"}const tm=["","X","Y","Z"],Hj=1e3;let Fj=0;function nm(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function TC(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=oC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ne,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&TC(i)}function EC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=Fj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zj),this.nodes.forEach(Kj),this.nodes.forEach(Jj),this.nodes.forEach(qj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nj)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Sy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ux(a)&&!IU(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let f,d=0;const m=()=>this.root.updateBlockedByResize=!1;Ne.read(()=>{d=window.innerWidth}),e(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,f&&f(),f=Dj(m,250),Gc.hasAnimatedSinceResize&&(Gc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ob)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||c.getDefaultTransition()||nV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:I}=c.getProps(),b=!this.targetLayout||!bC(this.targetLayout,g),v=!d&&m;if(this.options.layoutRoot||this.resumeFrom||v||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...My(C,"layout"),onPlay:N,onComplete:I};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(f,v)}else d||Ob(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yj),this.nodes.forEach(Gj),this.nodes.forEach($j)):this.nodes.forEach(Cb),this.clearAllSnapshots();const o=Nt.now();yt.delta=oi(0,1e3/60,o-yt.timestamp),yt.timestamp=o,yt.isProcessing=!0,Fd.update.process(yt),Fd.preRender.process(yt),Fd.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xj),this.sharedNodes.forEach(Wj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!SC(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||gr(this.latestValues)||f)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),iV(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return rt();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(sV))){const{scroll:f}=this.root;f&&(Ta(o.x,f.offset.x),Ta(o.y,f.offset.y))}return o}removeElementScroll(a){var u;const o=rt();if(Dn(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Dn(o,a),Ta(o.x,d.offset.x),Ta(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const u=rt();Dn(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ea(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),gr(f.latestValues)&&Ea(u,f.latestValues)}return gr(this.latestValues)&&Ea(u,this.latestValues),u}removeTransform(a){const o=rt();Dn(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!gr(c.latestValues))continue;Pp(c.latestValues)&&c.updateSnapshot();const f=rt(),d=c.measurePageBox();Dn(f,d),Sb(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return gr(this.latestValues)&&Sb(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!this.layout||!(f||d))return;this.resolvedRelativeTargetAt=yt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),tC(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pp(this.parent.latestValues)||eC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ff(this.relativeTargetOrigin,o,u),Dn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Dn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;A9(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yb(this.prevProjectionDelta.x,this.projectionDelta.x),yb(this.prevProjectionDelta.y,this.projectionDelta.y)),Nl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Aa(),this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},f={...this.latestValues},d=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=rt(),g=u?u.source:void 0,C=this.layout?this.layout.source:void 0,N=g!==C,I=this.getStack(),b=!I||I.members.length<=1,v=!!(N&&!b&&this.options.crossfade===!0&&!this.path.some(tV));this.animationProgress=0;let w;this.mixTargetDelta=R=>{const z=R/1e3;Rb(d.x,a.x,z),Rb(d.y,a.y,z),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eV(this.relativeTarget,this.relativeTargetOrigin,m,z),w&&jj(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=rt()),Dn(w,this.relativeTarget)),N&&(this.animationValues=f,kj(f,c,this.latestValues,z,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ne.update(()=>{Gc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=eo(0)),this.currentAnimation=Oj(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:f}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&AC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||rt();const d=Dt(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+d;const m=Dt(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}Dn(o,u),Ea(o,f),Nl(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Vj),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&nm("z",a,c,this.animationValues);for(let f=0;f<tm.length;f++)nm(`rotate${tm[f]}`,a,c,this.animationValues),nm(`skew${tm[f]}`,a,c,this.animationValues);a.render();for(const f in c)a.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Fc(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Fc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Bj(this.projectionDeltaWithTransform,this.treeScale,f);u&&(d=u(f,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const C in zp){if(f[C]===void 0)continue;const{correct:N,applyTo:I,isCSSVariable:b}=zp[C],v=d==="none"?f[C]:N(f[C],c);if(I){const w=I.length;for(let R=0;R<w;R++)a[I[R]]=v}else b?this.options.visualElement.renderState.vars[C]=v:a[C]=v}this.options.layoutId&&(a.pointerEvents=c===this?Fc(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(xb),this.root.sharedNodes.clear()}}}function Gj(e){e.updateLayout()}function $j(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?cn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Dt(m);m.min=i[d].min,m.max=m.min+g}):AC(r,t.layoutBox,i)&&cn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Dt(i[d]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const o=Aa();Nl(o,i,t.layoutBox);const u=Aa();a?Nl(u,e.applyTransform(s,!0),t.measuredBox):Nl(u,i,t.layoutBox);const c=!SC(o);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const C=rt();Ff(C,t.layoutBox,m.layoutBox);const N=rt();Ff(N,i,g.layoutBox),bC(C,N)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=C,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function Zj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xj(e){e.clearSnapshot()}function xb(e){e.clearMeasurements()}function Cb(e){e.isLayoutDirty=!1}function Yj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ob(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kj(e){e.resolveTargetDelta()}function Jj(e){e.calcProjection()}function Qj(e){e.resetSkewAndRotation()}function Wj(e){e.removeLeadSnapshot()}function Rb(e,t,n){e.translate=Le(t.translate,0,n),e.scale=Le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Nb(e,t,n,i){e.min=Le(t.min,n.min,i),e.max=Le(t.max,n.max,i)}function eV(e,t,n,i){Nb(e.x,t.x,n.x,i),Nb(e.y,t.y,n.y,i)}function tV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nV={duration:.45,ease:[.4,0,.1,1]},Db=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mb=Db("applewebkit/")&&!Db("chrome/")?Math.round:En;function kb(e){e.min=Mb(e.min),e.max=Mb(e.max)}function iV(e){kb(e.x),kb(e.y)}function AC(e,t,n){return e==="position"||e==="preserve-aspect"&&!fj(Ab(t),Ab(n),.2)}function sV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rV=EC({attachResizeListener:(e,t)=>tu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),im={current:void 0},wC=EC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!im.current){const e=new rV({});e.mount(window),e.setOptions({layoutScroll:!0}),im.current=e}return im.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aV={pan:{Feature:xj},drag:{Feature:wj,ProjectionNode:wC,MeasureLayout:yC}};function Ib(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Ne.postRender(()=>r(t,Eu(t)))}class oV extends Xs{mount(){const{current:t}=this.node;t&&(this.unmount=NU(t,(n,i)=>(Ib(this.node,i,"Start"),s=>Ib(this.node,s,"End"))))}unmount(){}}class lV extends Xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(tu(this.node.current,"focus",()=>this.onFocus()),tu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lb(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Ne.postRender(()=>r(t,Eu(t)))}class uV extends Xs{mount(){const{current:t}=this.node;t&&(this.unmount=kU(t,(n,i)=>(Lb(this.node,i,"Start"),(s,{success:r})=>Lb(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gp=new WeakMap,sm=new WeakMap,cV=e=>{const t=Gp.get(e.target);t&&t(e)},fV=e=>{e.forEach(cV)};function hV({root:e,...t}){const n=e||document;sm.has(n)||sm.set(n,{});const i=sm.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(fV,{root:e,...t})),i[s]}function dV(e,t,n){const i=hV(t);return Gp.set(e,n),i.observe(e),()=>{Gp.delete(e),i.unobserve(e)}}const mV={some:0,all:1};class pV extends Xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:mV[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=c?f:d;m&&m(u)};return dV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(gV(t,n))&&this.startObserver()}unmount(){}}function gV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const yV={inView:{Feature:pV},tap:{Feature:uV},focus:{Feature:lV},hover:{Feature:oV}},vV={layout:{ProjectionNode:wC,MeasureLayout:yC}},_V={...rj,...yV,...aV,...vV},Gf=b9(_V,I9);function SV({xp:e,level:t,compact:n=!1}){const i=$1(e,t);return n?E.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[E.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),E.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:E.jsx("span",{className:"text-sm font-bold text-white",children:t})}),E.jsxs("div",{className:"flex-1 min-w-[80px]",children:[E.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[E.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),E.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),E.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:E.jsx(Gf.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function bV({streak:e}){return e===0?null:E.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[E.jsx("span",{className:"text-orange-400",children:""}),E.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function TV({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:s}=bN(e);return E.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[E.jsx("span",{className:"text-sm",children:s}),t&&E.jsx("span",{className:"text-xs",children:n})]})}function EV({onImportSuccess:e}){const[t,n]=k.useState(!1),[i,s]=k.useState(null),[r,a]=k.useState(!1),o=k.useRef(null),u=fN(),c=()=>{lN(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},f=()=>{var m;(m=o.current)==null||m.click()},d=async m=>{var N;const g=(N=m.target.files)==null?void 0:N[0];if(!g)return;a(!0),s(null);const C=await cN(g);a(!1),s({type:C.success?"success":"error",text:C.message}),C.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),o.current&&(o.current.value="")};return E.jsxs("div",{className:"relative",children:[E.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:E.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),E.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&E.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[E.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),E.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[E.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),E.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),E.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("button",{onClick:c,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),E.jsxs("button",{onClick:f,disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r?"Importing...":"Import Backup"]}),E.jsx("input",{ref:o,type:"file",accept:".json",onChange:d,className:"hidden"})]}),i&&E.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),E.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const AV={progress:"",mastery:"",dedication:"",exploration:""};function wV({notification:e,onDismiss:t}){return k.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),E.jsx(Gf.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:E.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:AV[e.category]||""}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),E.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),E.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),E.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),E.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function xV({notifications:e,onDismiss:t}){return E.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:E.jsx(Lp,{mode:"popLayout",children:e.map(n=>E.jsx(wV,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$p.apply(this,arguments)}var zb;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zb||(zb={}));function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pb(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function CC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var Ub;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ub||(Ub={}));function jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=CV(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,f,d)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let N=o[d]||"";a=r.slice(0,r.length-N.length).replace(/(.)\/+$/,"$1")}const C=o[d];return g&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:e}}function CV(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function $f(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const OV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RV=e=>OV.test(e);function NV(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?CC(e):e,r;if(n)if(RV(n))r=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),xC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?r=Vb(n.substring(1),"/"):r=Vb(n,t)}else r=t;return{pathname:r,search:MV(i),hash:kV(s)}}function Vb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function OC(e,t){let n=DV(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function RC(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=CC(e):(s=$p({},e),Vn(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),Vn(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),Vn(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}o=d>=0?t[d]:"/"}let u=NV(s,o),c=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const NC=e=>e.join("/").replace(/\/\/+/g,"/"),MV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,DC=["post","put","patch","delete"];new Set(DC);const IV=["get",...DC];new Set(IV);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zp.apply(this,arguments)}const Zy=k.createContext(null),LV=k.createContext(null),vo=k.createContext(null),MC=k.createContext(null),Ch=k.createContext({outlet:null,matches:[],isDataRoute:!1});function zV(e,t){let{relative:n}=t===void 0?{}:t;qy()||Vn(!1);let{basename:i,navigator:s}=k.useContext(vo),{hash:r,pathname:a,search:o}=Rh(e,{relative:n}),u=a;return i!=="/"&&(u=a==="/"?i:NC([i,a])),s.createHref({pathname:u,search:o,hash:r})}function qy(){return k.useContext(MC)!=null}function Oh(){return qy()||Vn(!1),k.useContext(MC).location}function kC(e){k.useContext(vo).static||k.useLayoutEffect(e)}function PV(){let{isDataRoute:e}=k.useContext(Ch);return e?HV():UV()}function UV(){qy()||Vn(!1);let e=k.useContext(Zy),{basename:t,future:n,navigator:i}=k.useContext(vo),{matches:s}=k.useContext(Ch),{pathname:r}=Oh(),a=JSON.stringify(OC(s,n.v7_relativeSplatPath)),o=k.useRef(!1);return kC(()=>{o.current=!0}),k.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let d=RC(c,JSON.parse(a),r,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:NC([t,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[t,i,a,r,e])}function Rh(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=k.useContext(vo),{matches:s}=k.useContext(Ch),{pathname:r}=Oh(),a=JSON.stringify(OC(s,i.v7_relativeSplatPath));return k.useMemo(()=>RC(e,JSON.parse(a),r,n==="path"),[e,a,r,n])}var IC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IC||{}),LC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(LC||{});function jV(e){let t=k.useContext(Zy);return t||Vn(!1),t}function VV(e){let t=k.useContext(Ch);return t||Vn(!1),t}function BV(e){let t=VV(),n=t.matches[t.matches.length-1];return n.route.id||Vn(!1),n.route.id}function HV(){let{router:e}=jV(IC.UseNavigateStable),t=BV(LC.UseNavigateStable),n=k.useRef(!1);return kC(()=>{n.current=!0}),k.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zp({fromRouteId:t},r)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zf.apply(this,arguments)}function zC(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function FV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GV(e,t){return e.button===0&&(!t||t==="_self")&&!FV(e)}const $V=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],qV="6";try{window.__reactRouterVersion=qV}catch{}const XV=k.createContext({isTransitioning:!1}),YV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=k.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:o,target:u,to:c,preventScrollReset:f,viewTransition:d}=t,m=zC(t,$V),{basename:g}=k.useContext(vo),C,N=!1;if(typeof c=="string"&&KV.test(c)&&(C=c,YV))try{let w=new URL(window.location.href),R=c.startsWith("//")?new URL(w.protocol+c):new URL(c),z=$f(R.pathname,g);R.origin===w.origin&&z!=null?c=z+R.search+R.hash:N=!0}catch{}let I=zV(c,{relative:s}),b=QV(c,{replace:a,state:o,target:u,preventScrollReset:f,relative:s,viewTransition:d});function v(w){i&&i(w),w.defaultPrevented||b(w)}return k.createElement("a",Zf({},m,{href:C||I,onClick:N||r?i:v,ref:n,target:u}))}),Wo=k.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:c,children:f}=t,d=zC(t,ZV),m=Rh(u,{relative:d.relative}),g=Oh(),C=k.useContext(LV),{navigator:N,basename:I}=k.useContext(vo),b=C!=null&&WV(m)&&c===!0,v=N.encodeLocation?N.encodeLocation(m).pathname:m.pathname,w=g.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;s||(w=w.toLowerCase(),R=R?R.toLowerCase():null,v=v.toLowerCase()),R&&I&&(R=$f(R,I)||R);const z=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let V=w===v||!a&&w.startsWith(v)&&w.charAt(z)==="/",T=R!=null&&(R===v||!a&&R.startsWith(v)&&R.charAt(v.length)==="/"),y={isActive:V,isPending:T,isTransitioning:b},S=V?i:void 0,A;typeof r=="function"?A=r(y):A=[r,V?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof o=="function"?o(y):o;return k.createElement(ra,Zf({},d,{"aria-current":S,className:A,ref:n,style:x,to:u,viewTransition:c}),typeof f=="function"?f(y):f)});var qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qp||(qp={}));var Bb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bb||(Bb={}));function JV(e){let t=k.useContext(Zy);return t||Vn(!1),t}function QV(e,t){let{target:n,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:o}=t===void 0?{}:t,u=PV(),c=Oh(),f=Rh(e,{relative:a});return k.useCallback(d=>{if(GV(d,n)){d.preventDefault();let m=i!==void 0?i:Pb(c)===Pb(f);u(e,{replace:m,state:s,preventScrollReset:r,relative:a,viewTransition:o})}},[c,u,f,i,s,n,e,r,a,o])}function WV(e,t){t===void 0&&(t={});let n=k.useContext(XV);n==null&&Vn(!1);let{basename:i}=JV(qp.useViewTransitionState),s=Rh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=$f(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=$f(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jb(s.pathname,a)!=null||jb(s.pathname,r)!=null}function e8({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:s,hubUrl:r}=$w(),a=Th(),o=s.gamification?a:null;return E.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:E.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:E.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),E.jsxs(ra,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[E.jsx("span",{className:"text-2xl",children:i}),E.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),E.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[E.jsx("a",{href:r,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),E.jsx(ra,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.theoremIndex&&E.jsx(ra,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.interactiveModules&&E.jsx(ra,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.leaderboard&&E.jsx(ra,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[s.gamification&&o&&E.jsxs(E.Fragment,{children:[E.jsx(bV,{streak:o.state.streak.currentStreak}),E.jsx(SV,{xp:o.state.user.totalXP,level:o.state.user.level})]}),s.gamification&&E.jsx(EV,{})]})]})})}function t8({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:s}=$w(),[r,a]=k.useState(new Set([1])),o=Th(),u=i.gamification?o:null,c=d=>{a(m=>{const g=new Set(m);return g.has(d)?g.delete(d):g.add(d),g})},f=d=>{var g;if(!u)return"none";const m=`${n}:${d}`;return((g=u.state.sections[m])==null?void 0:g.masteryLevel)??"none"};return E.jsxs(E.Fragment,{children:[E.jsx(Lp,{children:e&&E.jsx(Gf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),E.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:E.jsxs("nav",{className:"p-4",children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[E.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:E.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),E.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),E.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&E.jsx("li",{children:E.jsxs(Wo,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[E.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&E.jsx("li",{children:E.jsxs(Wo,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[E.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&E.jsx("li",{children:E.jsxs(Wo,{to:"/problems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[E.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&E.jsx("li",{children:E.jsxs(Wo,{to:"/transcripts",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[E.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),E.jsx("div",{className:"space-y-2",children:s.map(d=>E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>c(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:E.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),E.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),E.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E.jsx(Lp,{children:r.has(d.id)&&E.jsx(Gf.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(m=>E.jsx("li",{children:E.jsxs(Wo,{to:`/section/${m.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:g})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${g?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[E.jsx("span",{className:"truncate",children:m.title}),i.gamification&&E.jsx(TV,{level:f(m.id)})]})},m.id))})})]},d.id))})]})})]})}const n8={id:$l,name:L1,icon:z1,hubUrl:zR,features:zn,curriculum:Zr},i8=k.lazy(()=>Y(()=>import("./Leaderboard-BlgEWhjb.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),s8=k.lazy(()=>Y(()=>import("./Theorems-up-Ix0eH.js"),__vite__mapDeps([4,1,2,5,3,6]),import.meta.url)),r8=k.lazy(()=>Y(()=>import("./InteractiveModules-0ORUdXfK.js"),__vite__mapDeps([7,1,2,5,3]),import.meta.url)),a8=k.lazy(()=>Y(()=>import("./SectionQuizPage-ChaJMmoM.js"),__vite__mapDeps([8,1,2,3,9]),import.meta.url)),o8=k.lazy(()=>Y(()=>import("./TranscriptsIndex-CAZxOGcx.js"),__vite__mapDeps([10,1,2,11]),import.meta.url)),Hb=Object.assign({"./pages/transcripts/BrookingsGateway.tsx":()=>Y(()=>import("./BrookingsGateway-BdeBt5oi.js"),__vite__mapDeps([12,1,2,3,13,11,14,15]),import.meta.url),"./pages/transcripts/ChenOptimalTontine.tsx":()=>Y(()=>import("./ChenOptimalTontine-BftXdTrd.js"),__vite__mapDeps([16,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/DonnellyPooling.tsx":()=>Y(()=>import("./DonnellyPooling-DQuuKIiO.js"),__vite__mapDeps([17,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/FormanTontinePensions.tsx":()=>Y(()=>import("./FormanTontinePensions-CqDJrawj.js"),__vite__mapDeps([18,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/FullmerTontineDesign.tsx":()=>Y(()=>import("./FullmerTontineDesign-LIC4U0_L.js"),__vite__mapDeps([19,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/McclellandTontineTrust.tsx":()=>Y(()=>import("./McclellandTontineTrust-C0tJ6wsw.js"),__vite__mapDeps([20,1,2,3,13,11,14,15]),import.meta.url),"./pages/transcripts/MilevskyAnnuityMan.tsx":()=>Y(()=>import("./MilevskyAnnuityMan-B2ull7HX.js"),__vite__mapDeps([21,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/MilevskyTontineHistory.tsx":()=>Y(()=>import("./MilevskyTontineHistory-oBvqusTo.js"),__vite__mapDeps([22,1,2,3,13,11,6,14,15]),import.meta.url)}),PC={};var Fb;for(const e of Object.keys(Hb)){const t=(Fb=e.split("/").pop())==null?void 0:Fb.replace(".tsx","");if(t&&t!=="index"){const n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();PC[n]=Hb[e]}}const l8={"milevsky-tontine-history":"milevsky-tontine-history","milevsky-annuity-man":"milevsky-annuity-man","mcclelland-tontine-trust":"mcclelland-tontine-trust","fullmer-tontine-design":"fullmer-tontine-design","brookings-gateway":"brookings-gateway","forman-tontine-pensions":"forman-tontine-pensions","donnelly-pooling":"donnelly-pooling","chen-optimal-tontine":"chen-optimal-tontine"},u8=Object.assign({"./pages/sections/Section00.tsx":()=>Y(()=>import("./Section00-awriYaG6.js"),__vite__mapDeps([23,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section01.tsx":()=>Y(()=>import("./Section01-ObRVquye.js"),__vite__mapDeps([25,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section02.tsx":()=>Y(()=>import("./Section02-D-Nkyc6y.js"),__vite__mapDeps([26,1,2,3,24,9,15]),import.meta.url),"./pages/sections/Section03.tsx":()=>Y(()=>import("./Section03-BcL4CxsH.js"),__vite__mapDeps([27,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section04.tsx":()=>Y(()=>import("./Section04-CbS7WeSc.js"),__vite__mapDeps([28,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section05.tsx":()=>Y(()=>import("./Section05-CxdTfdkT.js"),__vite__mapDeps([29,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section06.tsx":()=>Y(()=>import("./Section06-DvBLSqQW.js"),__vite__mapDeps([30,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section07.tsx":()=>Y(()=>import("./Section07-BLpIE0qa.js"),__vite__mapDeps([31,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section08.tsx":()=>Y(()=>import("./Section08-BrEggm50.js"),__vite__mapDeps([32,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section09.tsx":()=>Y(()=>import("./Section09-DR37vE1f.js"),__vite__mapDeps([33,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section10.tsx":()=>Y(()=>import("./Section10-DagdfIRv.js"),__vite__mapDeps([34,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section11.tsx":()=>Y(()=>import("./Section11-Bsc7CkPV.js"),__vite__mapDeps([35,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section12.tsx":()=>Y(()=>import("./Section12-C5mQ5vfF.js"),__vite__mapDeps([36,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section13.tsx":()=>Y(()=>import("./Section13-DN-k6z8y.js"),__vite__mapDeps([37,1,2,3,24,9,6,14]),import.meta.url),"./pages/sections/Section14.tsx":()=>Y(()=>import("./Section14-YQE8yWK3.js"),__vite__mapDeps([38,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section15.tsx":()=>Y(()=>import("./Section15-C7NIg9JD.js"),__vite__mapDeps([39,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section16.tsx":()=>Y(()=>import("./Section16-H8lv2uYo.js"),__vite__mapDeps([40,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section17.tsx":()=>Y(()=>import("./Section17-CEpzP3O9.js"),__vite__mapDeps([41,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section18.tsx":()=>Y(()=>import("./Section18-CPw3pU2Y.js"),__vite__mapDeps([42,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section19.tsx":()=>Y(()=>import("./Section19-Dy-dwQAB.js"),__vite__mapDeps([43,1,2,3,24,9,6,14]),import.meta.url),"./pages/sections/Section20.tsx":()=>Y(()=>import("./Section20-CgLJY6lO.js"),__vite__mapDeps([44,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section21.tsx":()=>Y(()=>import("./Section21-npuSZDdc.js"),__vite__mapDeps([45,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section22.tsx":()=>Y(()=>import("./Section22-lTmMIPju.js"),__vite__mapDeps([46,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section23.tsx":()=>Y(()=>import("./Section23-NFlgBDZu.js"),__vite__mapDeps([47,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section24.tsx":()=>Y(()=>import("./Section24-BXqstpJN.js"),__vite__mapDeps([48,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section25.tsx":()=>Y(()=>import("./Section25-Crotjqs0.js"),__vite__mapDeps([49,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section26.tsx":()=>Y(()=>import("./Section26-CaW1V4Wg.js"),__vite__mapDeps([50,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section27.tsx":()=>Y(()=>import("./Section27-BtUKYKaR.js"),__vite__mapDeps([51,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section28.tsx":()=>Y(()=>import("./Section28-CXLaqnGn.js"),__vite__mapDeps([52,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section29.tsx":()=>Y(()=>import("./Section29-BAb3b3sr.js"),__vite__mapDeps([53,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section30.tsx":()=>Y(()=>import("./Section30-CT0efPJ-.js"),__vite__mapDeps([54,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section31.tsx":()=>Y(()=>import("./Section31-BNpmWD5g.js"),__vite__mapDeps([55,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section32.tsx":()=>Y(()=>import("./Section32-9k9nzBLO.js"),__vite__mapDeps([56,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section33.tsx":()=>Y(()=>import("./Section33-CiwzUmUb.js"),__vite__mapDeps([57,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section34.tsx":()=>Y(()=>import("./Section34-DIyDtyZi.js"),__vite__mapDeps([58,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section35.tsx":()=>Y(()=>import("./Section35-Gr93fRyl.js"),__vite__mapDeps([59,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section36.tsx":()=>Y(()=>import("./Section36-D_ShRFJJ.js"),__vite__mapDeps([60,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section37.tsx":()=>Y(()=>import("./Section37-PuhaYpEK.js"),__vite__mapDeps([61,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section38.tsx":()=>Y(()=>import("./Section38-BOeT8Dwj.js"),__vite__mapDeps([62,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section39.tsx":()=>Y(()=>import("./Section39-D1Oy4h8q.js"),__vite__mapDeps([63,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section40.tsx":()=>Y(()=>import("./Section40-BdOOsTFk.js"),__vite__mapDeps([64,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section41.tsx":()=>Y(()=>import("./Section41-D65hJg4a.js"),__vite__mapDeps([65,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section42.tsx":()=>Y(()=>import("./Section42-DHhD-VvQ.js"),__vite__mapDeps([66,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section43.tsx":()=>Y(()=>import("./Section43-BwfhkF5A.js"),__vite__mapDeps([67,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section44.tsx":()=>Y(()=>import("./Section44-BP43-wr8.js"),__vite__mapDeps([68,1,2,3,24,9,6,14,15]),import.meta.url)}),c8=VP(u8),UC={};for(const[e,t]of Object.entries(c8))UC[Number(e)]=k.lazy(t);function f8(){const{id:e}=Gb(),t=parseInt(e||"0",10),n=UC[t];return n?E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading section..."}),children:E.jsx(n,{})}):E.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:E.jsxs("div",{className:"text-center",children:[E.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),E.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function h8(){const{id:e}=Gb(),t=e||"",n=l8[t]||t,i=PC[n];if(i){const s=k.lazy(i);return E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading transcript..."}),children:E.jsx(s,{})})}return E.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:E.jsxs("div",{className:"text-center max-w-md px-4",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-dark-800 flex items-center justify-center",children:E.jsx("span",{className:"text-3xl",children:""})}),E.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Transcript Coming Soon"}),E.jsx("p",{className:"text-dark-400 mb-6",children:"This transcript summary is being prepared. Check back soon for the full educational content."}),E.jsxs("a",{href:"#/transcripts",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Transcripts"]})]})})}function d8({children:e}){const[t,n]=k.useState(!1);return E.jsxs("div",{className:"min-h-screen bg-dark-950",children:[E.jsx(e8,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),E.jsx(t8,{isOpen:t,onClose:()=>n(!1)}),E.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function vc(){return E.jsxs(E.Fragment,{children:[E.jsx(d8,{children:E.jsxs(i2,{children:[E.jsx(yi,{path:"/",element:E.jsx(bS,{})}),zn.leaderboard&&E.jsx(yi,{path:"/leaderboard",element:E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading leaderboard..."}),children:E.jsx(i8,{})})}),zn.theoremIndex&&E.jsx(yi,{path:"/theorems",element:E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading theorems..."}),children:E.jsx(s8,{})})}),zn.interactiveModules&&E.jsx(yi,{path:"/interactive",element:E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading modules..."}),children:E.jsx(r8,{})})}),zn.transcripts&&E.jsxs(E.Fragment,{children:[E.jsx(yi,{path:"/transcripts",element:E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading transcripts..."}),children:E.jsx(o8,{})})}),E.jsx(yi,{path:"/transcript/:id",element:E.jsx(h8,{})})]}),E.jsx(yi,{path:"/section/:id",element:E.jsx(f8,{})}),E.jsx(yi,{path:"/quiz/section/:id",element:E.jsx(k.Suspense,{fallback:E.jsx(vr,{message:"Loading quiz..."}),children:E.jsx(a8,{})})}),E.jsx(yi,{path:"*",element:E.jsx(bS,{})})]})}),zn.gamification&&E.jsx(m8,{})]})}function m8(){const{notifications:e,dismissNotification:t}=Th();return E.jsx(xV,{notifications:e,onDismiss:t})}function p8(){return E.jsx(NP,{children:E.jsxs(MP,{children:[E.jsx(BP,{config:n8,children:E.jsx(n2,{children:zn.nostrAuth?E.jsx(TP,{children:zn.gamification?E.jsx(SS,{children:E.jsx(vc,{})}):E.jsx(vc,{})}):zn.gamification?E.jsx(SS,{children:E.jsx(vc,{})}):E.jsx(vc,{})})}),E.jsx(IP,{})]})})}MR.createRoot(document.getElementById("root")).render(E.jsx(k.StrictMode,{children:E.jsx(p8,{})}));export{L1 as C,zn as F,zR as H,b8 as L,S8 as R,jP as S,UP as X,ci as a,Ko as b,bN as c,fN as d,lN as e,E8 as f,Yl as g,Ja as h,Ss as i,cN as j,Th as k,z1 as l,Zr as m,$l as n,vN as o,_8 as p,mt as q,x8 as r,T8 as s,C8 as t,AP as u,A8 as v,O8 as w,zP as x,R8 as y,w8 as z};
