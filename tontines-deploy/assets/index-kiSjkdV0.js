const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-CQsZrp3K.js","./vendor-animation-CmxkKU9r.js","./vendor-react-DamxDR2H.js","./vendor-math-p018AHG0.js","./Theorems-C9W-cAeO.js","./Sidebar-B0M04ZIw.js","./MathBlock-fCav0pL3.js","./InteractiveModules-DxlyJSP2.js","./SectionQuizPage-YhieFl7p.js","./quizMap-DVBi0JFt.js","./TranscriptsIndex-B_dCx-1E.js","./transcripts-CS5UFFgH.js","./BrookingsGateway-i18248jl.js","./TranscriptLayout-BbKC5gWv.js","./ContentBlocks-DZ6IdIC2.js","./Callout-CP2-VZ-C.js","./ChenOptimalTontine-BbOspkQZ.js","./DonnellyPooling-DKriVCYa.js","./FormanTontinePensions-BKsZis7D.js","./FullmerTontineDesign-DipadTpD.js","./McclellandTontineTrust-BqytHHkx.js","./MilevskyAnnuityMan-C-5qOB9y.js","./MilevskyTontineHistory-BlDiJy1B.js","./Section00-CMSEOgEX.js","./LessonLayout-CHKUuuLC.js","./Section01-RbuK4Xek.js","./Section02-DMAK-k_l.js","./Section03-Dzxj8Rki.js","./Section04-B-3xhG2o.js","./Section05-DgQB8kHX.js","./Section06-DVoYx8Qe.js","./Section07-ooe22bHD.js","./Section08-Dy2X5iGA.js","./Section09-BEjPdpNR.js","./Section10-B4V4TQOc.js","./Section11-VKMZL_Co.js","./Section12-Dm2tDPcm.js","./Section13-efGVJdCD.js","./Section14-Dgmiy409.js","./Section15-BDPyazqs.js","./Section16-Zx3X9w0R.js","./Section17-C19tA3mP.js","./Section18-Cm5yd5D2.js","./Section19-9vv5zJM1.js","./Section20-k64cYo67.js","./Section21-Bd-VTP_G.js","./Section22-BtHhe8C_.js","./Section23-C2ajBG28.js","./Section24-BHu4EiGE.js","./Section25-wtcCJXO2.js","./Section26-8CIQ-YJT.js","./Section27-BX7b8WhP.js","./Section28-BDmJaxyr.js","./Section29-DJ9V-Q5E.js","./Section30-CK6bXKCg.js","./Section31-CWCDAgWo.js","./Section32-BHa4qQpw.js","./Section33-0yRbKOCT.js","./Section34-Bb92oC9K.js","./Section35-_5rIV8Eu.js","./Section36-BRaBufE4.js","./Section37-DovVj4A9.js","./Section38-ByWYljrc.js","./Section39-W_l2qRwf.js","./Section40-DaAwEZsj.js","./Section41-BqScQXvl.js","./Section42-C38d8fo2.js","./Section43-pA5SWk1n.js","./Section44-DMbse-WV.js"])))=>i.map(i=>d[i]);
import{j as T,m as E2}from"./vendor-animation-CmxkKU9r.js";import{r as P,a as A2,L as na,N as Lo,H as w2,R as x2,b as gi,u as wb}from"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var xb={exports:{}},Ff={},Cb={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var q=H.length;H.push(G);e:for(;0<q;){var te=q-1>>>1,ce=H[te];if(0<s(ce,G))H[te]=G,H[q]=ce,q=te;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],q=H.pop();if(q!==G){H[0]=q;e:for(var te=0,ce=H.length,ye=ce>>>1;te<ye;){var At=2*(te+1)-1,Me=H[At],xt=At+1,ge=H[xt];if(0>s(Me,q))xt<ce&&0>s(ge,Me)?(H[te]=ge,H[xt]=q,te=xt):(H[te]=Me,H[At]=q,te=At);else if(xt<ce&&0>s(ge,q))H[te]=ge,H[xt]=q,te=xt;else break e}}return G}function s(H,G){var q=H.sortIndex-G.sortIndex;return q!==0?q:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],f=1,d=null,m=3,g=!1,O=!1,D=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function N(H){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=H)i(c),G.sortIndex=G.expirationTime,t(u,G);else break;G=n(c)}}function z(H){if(D=!1,N(H),!O)if(n(u)!==null)O=!0,V||(V=!0,M());else{var G=n(c);G!==null&&oe(z,G.startTime-H)}}var V=!1,E=-1,y=5,S=-1;function A(){return k?!0:!(e.unstable_now()-S<y)}function x(){if(k=!1,V){var H=e.unstable_now();S=H;var G=!0;try{e:{O=!1,D&&(D=!1,v(E),E=-1),g=!0;var q=m;try{t:{for(N(H),d=n(u);d!==null&&!(d.expirationTime>H&&A());){var te=d.callback;if(typeof te=="function"){d.callback=null,m=d.priorityLevel;var ce=te(d.expirationTime<=H);if(H=e.unstable_now(),typeof ce=="function"){d.callback=ce,N(H),G=!0;break t}d===n(u)&&i(u),N(H)}else i(u);d=n(u)}if(d!==null)G=!0;else{var ye=n(c);ye!==null&&oe(z,ye.startTime-H),G=!1}}break e}finally{d=null,m=q,g=!1}G=void 0}}finally{G?M():V=!1}}}var M;if(typeof w=="function")M=function(){w(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=x,M=function(){re.postMessage(null)}}else M=function(){b(x,0)};function oe(H,G){E=b(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return H()}finally{m=q}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=m;m=H;try{return G()}finally{m=q}},e.unstable_scheduleCallback=function(H,G,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,H={id:f++,callback:G,priorityLevel:H,startTime:q,expirationTime:ce,sortIndex:-1},q>te?(H.sortIndex=q,t(c,H),n(u)===null&&H===n(c)&&(D?(v(E),E=-1):D=!0,oe(z,q-te))):(H.sortIndex=ce,t(u,H),O||g||(O=!0,V||(V=!0,M()))),H},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(H){var G=m;return function(){var q=m;m=G;try{return H.apply(this,arguments)}finally{m=q}}}})(Ob);Cb.exports=Ob;var C2=Cb.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=C2,Db=P,O2=A2;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Rb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mb(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lv(e){if(eu(e)!==e)throw Error(j(188))}function D2(e){var t=e.alternate;if(!t){if(t=eu(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return lv(s),e;if(r===i)return lv(s),t;r=r.sibling}throw Error(j(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function kb(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=kb(e),t!==null)return t;e=e.sibling}return null}var Ne=Object.assign,R2=Symbol.for("react.element"),Bu=Symbol.for("react.transitional.element"),Qo=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),Ib=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),zb=Symbol.for("react.consumer"),Ci=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Wd=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),tm=Symbol.for("react.activity"),N2=Symbol.for("react.memo_cache_sentinel"),uv=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=uv&&e[uv]||e["@@iterator"],typeof e=="function"?e:null)}var M2=Symbol.for("react.client.reference");function nm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M2?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ra:return"Fragment";case Qd:return"Profiler";case Ib:return"StrictMode";case Wd:return"Suspense";case em:return"SuspenseList";case tm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Qo:return"Portal";case Ci:return e.displayName||"Context";case zb:return(e._context.displayName||"Context")+".Consumer";case Pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Up:return t=e.displayName||null,t!==null?t:nm(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return nm(e(t))}catch{}}return null}var Wo=Array.isArray,J=Db.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=O2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},im=[],aa=-1;function oi(e){return{current:e}}function dt(e){0>aa||(e.current=im[aa],im[aa]=null,aa--)}function xe(e,t){aa++,im[aa]=e.current,e.current=t}var ti=oi(null),Dl=oi(null),bs=oi(null),Fc=oi(null);function Gc(e,t){switch(xe(bs,t),xe(Dl,e),xe(ti,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?p0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=p0(t),e=t1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dt(ti),xe(ti,e)}function Pa(){dt(ti),dt(Dl),dt(bs)}function sm(e){e.memoizedState!==null&&xe(Fc,e);var t=ti.current,n=t1(t,e.type);t!==n&&(xe(Dl,e),xe(ti,n))}function Zc(e){Dl.current===e&&(dt(ti),dt(Dl)),Fc.current===e&&(dt(Fc),Vl._currentValue=br)}var Nh,cv;function cr(e){if(Nh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nh=t&&t[1]||"",cv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nh+e+cv}var Mh=!1;function kh(e,t){if(!e||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=s);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?cr(n):""}function k2(e,t){switch(e.tag){case 26:case 27:case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return e.child!==t&&t!==null?cr("Suspense Fallback"):cr("Suspense");case 19:return cr("SuspenseList");case 0:case 15:return kh(e.type,!1);case 11:return kh(e.type.render,!1);case 1:return kh(e.type,!0);case 31:return cr("Activity");default:return""}}function fv(e){try{var t="",n=null;do t+=k2(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var rm=Object.prototype.hasOwnProperty,jp=lt.unstable_scheduleCallback,Ih=lt.unstable_cancelCallback,I2=lt.unstable_shouldYield,z2=lt.unstable_requestPaint,tn=lt.unstable_now,L2=lt.unstable_getCurrentPriorityLevel,Lb=lt.unstable_ImmediatePriority,Pb=lt.unstable_UserBlockingPriority,$c=lt.unstable_NormalPriority,P2=lt.unstable_LowPriority,Ub=lt.unstable_IdlePriority,U2=lt.log,j2=lt.unstable_setDisableYieldValue,tu=null,nn=null;function ms(e){if(typeof U2=="function"&&j2(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(tu,e)}catch{}}var sn=Math.clz32?Math.clz32:H2,V2=Math.log,B2=Math.LN2;function H2(e){return e>>>=0,e===0?32:31-(V2(e)/B2|0)|0}var Hu=256,Fu=262144,Gu=4194304;function fr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=fr(i):(a&=o,a!==0?s=fr(a):n||(n=o&~e,n!==0&&(s=fr(n))))):(o=i&~r,o!==0?s=fr(o):a!==0?s=fr(a):n||(n=i&~e,n!==0&&(s=fr(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function nu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function F2(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jb(){var e=Gu;return Gu<<=1,!(Gu&62914560)&&(Gu=4194304),e}function zh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function iu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function G2(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-sn(n),d=1<<f;o[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&Vb(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function Vb(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-sn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Bb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-sn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Hb(e,t){var n=t&-t;return n=n&42?1:Vp(n),n&(e.suspendedLanes|t)?0:n}function Vp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Fb(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:h1(e.type))}function hv(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var Fs=Math.random().toString(36).slice(2),St="__reactFiber$"+Fs,Ht="__reactProps$"+Fs,to="__reactContainer$"+Fs,am="__reactEvents$"+Fs,Z2="__reactListeners$"+Fs,$2="__reactHandles$"+Fs,dv="__reactResources$"+Fs,su="__reactMarker$"+Fs;function Hp(e){delete e[St],delete e[Ht],delete e[am],delete e[Z2],delete e[$2]}function oa(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[to]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=S0(e);e!==null;){if(n=e[St])return n;e=S0(e)}return t}e=n,n=e.parentNode}return null}function no(e){if(e=e[St]||e[to]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function el(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function Aa(e){var t=e[dv];return t||(t=e[dv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[su]=!0}var Gb=new Set,Zb={};function jr(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Zb[e]=t,e=0;e<t.length;e++)Gb.add(t[e])}var q2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mv={},pv={};function X2(e){return rm.call(pv,e)?!0:rm.call(mv,e)?!1:q2.test(e)?pv[e]=!0:(mv[e]=!0,!1)}function yc(e,t,n){if(X2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zu(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function yi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $b(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y2(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function om(e){if(!e._valueTracker){var t=$b(e)?"checked":"value";e._valueTracker=Y2(e,t,""+e[t])}}function qb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$b(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var K2=/[\n"\\]/g;function pn(e){return e.replace(K2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function lm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?um(e,a,hn(t)):n!=null?um(e,a,hn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+hn(o):e.removeAttribute("name")}function Xb(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){om(e);return}n=n!=null?""+hn(n):"",t=t!=null?""+hn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),om(e)}function um(e,t,n){t==="number"&&qc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yb(e,t,n){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+hn(n):""}function Kb(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(j(92));if(Wo(i)){if(1<i.length)throw Error(j(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=hn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),om(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var J2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gv(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||J2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jb(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&gv(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&gv(e,r,t[r])}function Fp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vc(e){return W2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Oi(){}var cm=null;function Gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,xa=null;function yv(e){var t=no(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(lm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Ht]||null;if(!s)throw Error(j(90));lm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&qb(i)}break e;case"textarea":Yb(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var Lh=!1;function Qb(e,t,n){if(Lh)return e(t,n);Lh=!0;try{var i=e(t);return i}finally{if(Lh=!1,(la!==null||xa!==null)&&(nh(),la&&(t=la,e=xa,xa=la=null,yv(t),e)))for(t=0;t<e.length;t++)yv(e[t])}}function Rl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ht]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=!1;if(Li)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{fm=!1}var ps=null,Zp=null,_c=null;function Wb(){if(_c)return _c;var e,t=Zp,n=t.length,i,s="value"in ps?ps.value:ps.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return _c=s.slice(e,1<i?1-i:void 0)}function Sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $u(){return!0}function vv(){return!1}function Ft(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?$u:vv,this.isPropagationStopped=vv,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=Ft(Vr),ru=Ne({},Vr,{view:0,detail:0}),eC=Ft(ru),Ph,Uh,jo,$f=Ne({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$p,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(Ph=e.screenX-jo.screenX,Uh=e.screenY-jo.screenY):Uh=Ph=0,jo=e),Ph)},movementY:function(e){return"movementY"in e?e.movementY:Uh}}),_v=Ft($f),tC=Ne({},$f,{dataTransfer:0}),nC=Ft(tC),iC=Ne({},ru,{relatedTarget:0}),jh=Ft(iC),sC=Ne({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),rC=Ft(sC),aC=Ne({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oC=Ft(aC),lC=Ne({},Vr,{data:0}),Sv=Ft(lC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fC[e])?!!t[e]:!1}function $p(){return hC}var dC=Ne({},ru,{key:function(e){if(e.key){var t=uC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$p,charCode:function(e){return e.type==="keypress"?Sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mC=Ft(dC),pC=Ne({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=Ft(pC),gC=Ne({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$p}),yC=Ft(gC),vC=Ne({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_C=Ft(vC),SC=Ne({},$f,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=Ft(SC),TC=Ne({},Vr,{newState:0,oldState:0}),EC=Ft(TC),AC=[9,13,27,32],qp=Li&&"CompositionEvent"in window,al=null;Li&&"documentMode"in document&&(al=document.documentMode);var wC=Li&&"TextEvent"in window&&!al,eT=Li&&(!qp||al&&8<al&&11>=al),Tv=" ",Ev=!1;function tT(e,t){switch(e){case"keyup":return AC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function xC(e,t){switch(e){case"compositionend":return nT(t);case"keypress":return t.which!==32?null:(Ev=!0,Tv);case"textInput":return e=t.data,e===Tv&&Ev?null:e;default:return null}}function CC(e,t){if(ua)return e==="compositionend"||!qp&&tT(e,t)?(e=Wb(),_c=Zp=ps=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eT&&t.locale!=="ko"?null:t.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OC[e.type]:t==="textarea"}function iT(e,t,n,i){la?xa?xa.push(i):xa=[i]:la=i,t=hf(t,"onChange"),0<t.length&&(n=new Zf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ol=null,Nl=null;function DC(e){QE(e,0)}function qf(e){var t=el(e);if(qb(t))return e}function wv(e,t){if(e==="change")return t}var sT=!1;if(Li){var Vh;if(Li){var Bh="oninput"in document;if(!Bh){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),Bh=typeof xv.oninput=="function"}Vh=Bh}else Vh=!1;sT=Vh&&(!document.documentMode||9<document.documentMode)}function Cv(){ol&&(ol.detachEvent("onpropertychange",rT),Nl=ol=null)}function rT(e){if(e.propertyName==="value"&&qf(Nl)){var t=[];iT(t,Nl,e,Gp(e)),Qb(DC,t)}}function RC(e,t,n){e==="focusin"?(Cv(),ol=t,Nl=n,ol.attachEvent("onpropertychange",rT)):e==="focusout"&&Cv()}function NC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qf(Nl)}function MC(e,t){if(e==="click")return qf(t)}function kC(e,t){if(e==="input"||e==="change")return qf(t)}function IC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:IC;function Ml(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!rm.call(t,s)||!an(e[s],t[s]))return!1}return!0}function Ov(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dv(e,t){var n=Ov(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ov(n)}}function aT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qc(e.document)}return t}function Xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zC=Li&&"documentMode"in document&&11>=document.documentMode,ca=null,hm=null,ll=null,dm=!1;function Rv(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||ca==null||ca!==qc(i)||(i=ca,"selectionStart"in i&&Xp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ll&&Ml(ll,i)||(ll=i,i=hf(hm,"onSelect"),0<i.length&&(t=new Zf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ca)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},Hh={},lT={};Li&&(lT=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Br(e){if(Hh[e])return Hh[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lT)return Hh[e]=t[n];return e}var uT=Br("animationend"),cT=Br("animationiteration"),fT=Br("animationstart"),LC=Br("transitionrun"),PC=Br("transitionstart"),UC=Br("transitioncancel"),hT=Br("transitionend"),dT=new Map,mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mm.push("scrollEnd");function Vn(e,t){dT.set(e,t),jr(t,[e])}var Xc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],ha=0,Yp=0;function Xf(){for(var e=ha,t=Yp=ha=0;t<e;){var n=fn[t];fn[t++]=null;var i=fn[t];fn[t++]=null;var s=fn[t];fn[t++]=null;var r=fn[t];if(fn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&mT(n,s,r)}}function Yf(e,t,n,i){fn[ha++]=e,fn[ha++]=t,fn[ha++]=n,fn[ha++]=i,Yp|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Kp(e,t,n,i){return Yf(e,t,n,i),Yc(e)}function Hr(e,t){return Yf(e,null,null,t),Yc(e)}function mT(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-sn(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Yc(e){if(50<yl)throw yl=0,zm=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var da={};function jC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,i){return new jC(e,t,n,i)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function pT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bc(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Jp(e)&&(a=1);else if(typeof e=="string")a=GO(e,n,ti.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case tm:return e=Wt(31,n,t,s),e.elementType=tm,e.lanes=r,e;case ra:return Tr(n.children,s,r,t);case Ib:a=8,s|=24;break;case Qd:return e=Wt(12,n,t,s|2),e.elementType=Qd,e.lanes=r,e;case Wd:return e=Wt(13,n,t,s),e.elementType=Wd,e.lanes=r,e;case em:return e=Wt(19,n,t,s),e.elementType=em,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ci:a=10;break e;case zb:a=9;break e;case Pp:a=11;break e;case Up:a=14;break e;case ss:a=16,i=null;break e}a=29,n=Error(j(130,e===null?"null":typeof e,"")),i=null}return t=Wt(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Tr(e,t,n,i){return e=Wt(7,e,i,t),e.lanes=n,e}function Fh(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function gT(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function Gh(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nv=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var n=Nv.get(e);return n!==void 0?n:(t={value:e,source:t,stack:fv(t)},Nv.set(e,t),t)}return{value:e,source:t,stack:fv(t)}}var ma=[],pa=0,Kc=null,kl=0,dn=[],mn=0,ks=null,Jn=1,Qn="";function Ai(e,t){ma[pa++]=kl,ma[pa++]=Kc,Kc=e,kl=t}function yT(e,t,n){dn[mn++]=Jn,dn[mn++]=Qn,dn[mn++]=ks,ks=e;var i=Jn;e=Qn;var s=32-sn(i)-1;i&=~(1<<s),n+=1;var r=32-sn(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Jn=1<<32-sn(t)+s|n<<s|i,Qn=r+e}else Jn=1<<r|n<<s|i,Qn=e}function Qp(e){e.return!==null&&(Ai(e,1),yT(e,1,0))}function Wp(e){for(;e===Kc;)Kc=ma[--pa],ma[pa]=null,kl=ma[--pa],ma[pa]=null;for(;e===ks;)ks=dn[--mn],dn[mn]=null,Qn=dn[--mn],dn[mn]=null,Jn=dn[--mn],dn[mn]=null}function vT(e,t){dn[mn++]=Jn,dn[mn++]=Qn,dn[mn++]=ks,Jn=t.id,Qn=t.overflow,ks=e}var bt=null,De=null,le=!1,Ts=null,yn=!1,pm=Error(j(519));function Is(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(gn(t,e)),pm}function Mv(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[St]=e,t[Ht]=i,n){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(n=0;n<Ul.length;n++)ie(Ul[n],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),Xb(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Kb(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||e1(t.textContent,n)?(i.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),i.onScroll!=null&&ie("scroll",t),i.onScrollEnd!=null&&ie("scrollend",t),i.onClick!=null&&(t.onclick=Oi),t=!0):t=!1,t||Is(e,!0)}function kv(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:bt=bt.return}}function Wr(e){if(e!==bt)return!1;if(!le)return kv(e),le=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vm(e.type,e.memoizedProps)),n=!n),n&&De&&Is(e),kv(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));De=_0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));De=_0(e)}else t===27?(t=De,Gs(e.type)?(e=Gm,Gm=null,De=e):De=t):De=bt?Tn(e.stateNode.nextSibling):null;return!0}function Dr(){De=bt=null,le=!1}function Zh(){var e=Ts;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Ts=null),e}function Il(e){Ts===null?Ts=[e]:Ts.push(e)}var gm=oi(null),Fr=null,Di=null;function as(e,t,n){xe(gm,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=gm.current,dt(gm)}function ym(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function vm(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),ym(r.return,n,e),i||(a=null);break e}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(j(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),ym(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function io(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var o=s.type;an(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===Fc.current){if(a=s.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}s=s.return}e!==null&&vm(t,e,n,i),t.flags|=262144}function Jc(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){Fr=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return _T(Fr,e)}function qu(e,t){return Fr===null&&Rr(e),_T(e,t)}function _T(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Di===null){if(e===null)throw Error(j(308));Di=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Di=Di.next=t;return n}var VC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},BC=lt.unstable_scheduleCallback,HC=lt.unstable_NormalPriority,et={$$typeof:Ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new VC,data:new Map,refCount:0}}function au(e){e.refCount--,e.refCount===0&&BC(HC,function(){e.controller.abort()})}var ul=null,_m=0,Va=0,Ca=null;function FC(e,t){if(ul===null){var n=ul=[];_m=0,Va=wg(),Ca={status:"pending",value:void 0,then:function(i){n.push(i)}}}return _m++,t.then(Iv,Iv),t}function Iv(){if(--_m===0&&ul!==null){Ca!==null&&(Ca.status="fulfilled");var e=ul;ul=null,Va=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function GC(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var zv=J.S;J.S=function(e,t){kE=tn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&FC(e,t),zv!==null&&zv(e,t)};var Er=oi(null);function tg(){var e=Er.current;return e!==null?e:we.pooledCache}function Tc(e,t){t===null?xe(Er,Er.current):xe(Er,t.pool)}function ST(){var e=tg();return e===null?null:{parent:et._currentValue,pool:e}}var so=Error(j(460)),ng=Error(j(474)),Kf=Error(j(542)),Qc={then:function(){}};function Lv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Oi,Oi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uv(e),e;default:if(typeof t.status=="string")t.then(Oi,Oi);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uv(e),e}throw Ar=t,so}}function hr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ar=n,so):n}}var Ar=null;function Pv(){if(Ar===null)throw Error(j(459));var e=Ar;return Ar=null,e}function Uv(e){if(e===so||e===Kf)throw Error(j(483))}var Oa=null,zl=0;function Xu(e){var t=zl;return zl+=1,Oa===null&&(Oa=[]),bT(Oa,e,t)}function Vo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yu(e,t){throw t.$$typeof===R2?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function TT(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(b,v){return b=Mi(b,v),b.index=0,b.sibling=null,b}function r(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=67108866,v):w):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,w,N){return v===null||v.tag!==6?(v=Fh(w,b.mode,N),v.return=b,v):(v=s(v,w),v.return=b,v)}function u(b,v,w,N){var z=w.type;return z===ra?f(b,v,w.props.children,N,w.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ss&&hr(z)===v.type)?(v=s(v,w.props),Vo(v,w),v.return=b,v):(v=bc(w.type,w.key,w.props,null,b.mode,N),Vo(v,w),v.return=b,v)}function c(b,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Gh(w,b.mode,N),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function f(b,v,w,N,z){return v===null||v.tag!==7?(v=Tr(w,b.mode,N,z),v.return=b,v):(v=s(v,w),v.return=b,v)}function d(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Fh(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bu:return w=bc(v.type,v.key,v.props,null,b.mode,w),Vo(w,v),w.return=b,w;case Qo:return v=Gh(v,b.mode,w),v.return=b,v;case ss:return v=hr(v),d(b,v,w)}if(Wo(v)||Po(v))return v=Tr(v,b.mode,w,null),v.return=b,v;if(typeof v.then=="function")return d(b,Xu(v),w);if(v.$$typeof===Ci)return d(b,qu(b,v),w);Yu(b,v)}return null}function m(b,v,w,N){var z=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return z!==null?null:o(b,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:return w.key===z?u(b,v,w,N):null;case Qo:return w.key===z?c(b,v,w,N):null;case ss:return w=hr(w),m(b,v,w,N)}if(Wo(w)||Po(w))return z!==null?null:f(b,v,w,N,null);if(typeof w.then=="function")return m(b,v,Xu(w),N);if(w.$$typeof===Ci)return m(b,v,qu(b,w),N);Yu(b,w)}return null}function g(b,v,w,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return b=b.get(w)||null,o(v,b,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bu:return b=b.get(N.key===null?w:N.key)||null,u(v,b,N,z);case Qo:return b=b.get(N.key===null?w:N.key)||null,c(v,b,N,z);case ss:return N=hr(N),g(b,v,w,N,z)}if(Wo(N)||Po(N))return b=b.get(w)||null,f(v,b,N,z,null);if(typeof N.then=="function")return g(b,v,w,Xu(N),z);if(N.$$typeof===Ci)return g(b,v,w,qu(v,N),z);Yu(v,N)}return null}function O(b,v,w,N){for(var z=null,V=null,E=v,y=v=0,S=null;E!==null&&y<w.length;y++){E.index>y?(S=E,E=null):S=E.sibling;var A=m(b,E,w[y],N);if(A===null){E===null&&(E=S);break}e&&E&&A.alternate===null&&t(b,E),v=r(A,v,y),V===null?z=A:V.sibling=A,V=A,E=S}if(y===w.length)return n(b,E),le&&Ai(b,y),z;if(E===null){for(;y<w.length;y++)E=d(b,w[y],N),E!==null&&(v=r(E,v,y),V===null?z=E:V.sibling=E,V=E);return le&&Ai(b,y),z}for(E=i(E);y<w.length;y++)S=g(E,b,y,w[y],N),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?y:S.key),v=r(S,v,y),V===null?z=S:V.sibling=S,V=S);return e&&E.forEach(function(x){return t(b,x)}),le&&Ai(b,y),z}function D(b,v,w,N){if(w==null)throw Error(j(151));for(var z=null,V=null,E=v,y=v=0,S=null,A=w.next();E!==null&&!A.done;y++,A=w.next()){E.index>y?(S=E,E=null):S=E.sibling;var x=m(b,E,A.value,N);if(x===null){E===null&&(E=S);break}e&&E&&x.alternate===null&&t(b,E),v=r(x,v,y),V===null?z=x:V.sibling=x,V=x,E=S}if(A.done)return n(b,E),le&&Ai(b,y),z;if(E===null){for(;!A.done;y++,A=w.next())A=d(b,A.value,N),A!==null&&(v=r(A,v,y),V===null?z=A:V.sibling=A,V=A);return le&&Ai(b,y),z}for(E=i(E);!A.done;y++,A=w.next())A=g(E,b,y,A.value,N),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?y:A.key),v=r(A,v,y),V===null?z=A:V.sibling=A,V=A);return e&&E.forEach(function(M){return t(b,M)}),le&&Ai(b,y),z}function k(b,v,w,N){if(typeof w=="object"&&w!==null&&w.type===ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:e:{for(var z=w.key;v!==null;){if(v.key===z){if(z=w.type,z===ra){if(v.tag===7){n(b,v.sibling),N=s(v,w.props.children),N.return=b,b=N;break e}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ss&&hr(z)===v.type){n(b,v.sibling),N=s(v,w.props),Vo(N,w),N.return=b,b=N;break e}n(b,v);break}else t(b,v);v=v.sibling}w.type===ra?(N=Tr(w.props.children,b.mode,N,w.key),N.return=b,b=N):(N=bc(w.type,w.key,w.props,null,b.mode,N),Vo(N,w),N.return=b,b=N)}return a(b);case Qo:e:{for(z=w.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(b,v.sibling),N=s(v,w.children||[]),N.return=b,b=N;break e}else{n(b,v);break}else t(b,v);v=v.sibling}N=Gh(w,b.mode,N),N.return=b,b=N}return a(b);case ss:return w=hr(w),k(b,v,w,N)}if(Wo(w))return O(b,v,w,N);if(Po(w)){if(z=Po(w),typeof z!="function")throw Error(j(150));return w=z.call(w),D(b,v,w,N)}if(typeof w.then=="function")return k(b,v,Xu(w),N);if(w.$$typeof===Ci)return k(b,v,qu(b,w),N);Yu(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(b,v.sibling),N=s(v,w),N.return=b,b=N):(n(b,v),N=Fh(w,b.mode,N),N.return=b,b=N),a(b)):n(b,v)}return function(b,v,w,N){try{zl=0;var z=k(b,v,w,N);return Oa=null,z}catch(E){if(E===so||E===Kf)throw E;var V=Wt(29,E,null,b.mode);return V.lanes=N,V.return=b,V}finally{}}}var Nr=TT(!0),ET=TT(!1),rs=!1;function ig(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Yc(e),mT(e,null,n),t}return Yf(e,i,t,n),Yc(e)}function cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Bb(e,n)}}function $h(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var bm=!1;function fl(){if(bm){var e=Ca;if(e!==null)throw e}}function hl(e,t,n,i){bm=!1;var s=e.updateQueue;rs=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;a=0,f=c=u=null,o=r;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(ae&m)===m:(i&m)===m){m!==0&&m===Va&&(bm=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var O=e,D=o;m=t;var k=n;switch(D.tag){case 1:if(O=D.payload,typeof O=="function"){d=O.call(k,d,m);break e}d=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=D.payload,m=typeof O=="function"?O.call(k,d,m):O,m==null)break e;d=Ne({},d,m);break e;case 2:rs=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,u=d):f=f.next=g,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,r===null&&(s.shared.lanes=0),Ls|=a,e.lanes=a,e.memoizedState=d}}function AT(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function wT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)AT(n[e],t)}var Ba=oi(null),Wc=oi(0);function jv(e,t){e=Vi,xe(Wc,e),xe(Ba,t),Vi=e|t.baseLanes}function Tm(){xe(Wc,Vi),xe(Ba,Ba.current)}function sg(){Vi=Wc.current,dt(Ba),dt(Wc)}var on=oi(null),bn=null;function os(e){var t=e.alternate;xe(qe,qe.current&1),xe(on,e),bn===null&&(t===null||Ba.current!==null||t.memoizedState!==null)&&(bn=e)}function Em(e){xe(qe,qe.current),xe(on,e),bn===null&&(bn=e)}function xT(e){e.tag===22?(xe(qe,qe.current),xe(on,e),bn===null&&(bn=e)):ls()}function ls(){xe(qe,qe.current),xe(on,on.current)}function Qt(e){dt(on),bn===e&&(bn=null),dt(qe)}var qe=oi(0);function ef(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hm(n)||Fm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=0,W=null,Ee=null,Qe=null,tf=!1,Da=!1,Mr=!1,nf=0,Ll=0,Ra=null,ZC=0;function Ue(){throw Error(j(321))}function rg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function ag(e,t,n,i,s,r){return Pi=r,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?iE:yg,Mr=!1,r=n(i,s),Mr=!1,Da&&(r=OT(t,n,i,s)),CT(e),r}function CT(e){J.H=Pl;var t=Ee!==null&&Ee.next!==null;if(Pi=0,Qe=Ee=W=null,tf=!1,Ll=0,Ra=null,t)throw Error(j(300));e===null||tt||(e=e.dependencies,e!==null&&Jc(e)&&(tt=!0))}function OT(e,t,n,i){W=e;var s=0;do{if(Da&&(Ra=null),Ll=0,Da=!1,25<=s)throw Error(j(301));if(s+=1,Qe=Ee=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}J.H=sE,r=t(n,i)}while(Da);return r}function $C(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?ou(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(W.flags|=1024),t}function og(){var e=nf!==0;return nf=0,e}function lg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ug(e){if(tf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}tf=!1}Pi=0,Qe=Ee=W=null,Da=!1,Ll=nf=0,Ra=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?W.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(Ee===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Qe===null?W.memoizedState:Qe.next;if(t!==null)Qe=t,Ee=e;else{if(e===null)throw W.alternate===null?Error(j(467)):Error(j(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Qe===null?W.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(e){var t=Ll;return Ll+=1,Ra===null&&(Ra=[]),e=bT(Ra,e,t),t=W,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?iE:yg),e}function Qf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ou(e);if(e.$$typeof===Ci)return Tt(e)}throw Error(j(438,String(e)))}function cg(e){var t=null,n=W.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=W.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Jf(),W.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=N2;return t.index++,n}function Ui(e,t){return typeof t=="function"?t(e):t}function Ec(e){var t=Xe();return fg(t,Ee,e)}function fg(e,t,n){var i=e.queue;if(i===null)throw Error(j(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,c=t,f=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ae&d)===d:(Pi&d)===d){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Va&&(f=!0);else if((Pi&m)===m){c=c.next,m===Va&&(f=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=d,a=r):u=u.next=d,W.lanes|=m,Ls|=m;d=c.action,Mr&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,W.lanes|=d,Ls|=d;c=c.next}while(c!==null&&c!==t);if(u===null?a=r:u.next=o,!an(r,e.memoizedState)&&(tt=!0,f&&(n=Ca,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qh(e){var t=Xe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);an(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function DT(e,t,n){var i=W,s=Xe(),r=le;if(r){if(n===void 0)throw Error(j(407));n=n()}else n=t();var a=!an((Ee||s).memoizedState,n);if(a&&(s.memoizedState=n,tt=!0),s=s.queue,hg(MT.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,Ha(9,{destroy:void 0},NT.bind(null,i,s,n,t),null),we===null)throw Error(j(349));r||Pi&127||RT(i,t,n)}return n}function RT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=W.updateQueue,t===null?(t=Jf(),W.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function NT(e,t,n,i){t.value=n,t.getSnapshot=i,kT(t)&&IT(e)}function MT(e,t,n){return n(function(){kT(t)&&IT(e)})}function kT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function IT(e){var t=Hr(e,2);t!==null&&Bt(t,e,2)}function Am(e){var t=Dt();if(typeof e=="function"){var n=e;if(e=n(),Mr){ms(!0);try{n()}finally{ms(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t}function zT(e,t,n,i){return e.baseState=n,fg(e,Ee,typeof i=="function"?i:Ui)}function qC(e,t,n,i,s){if(eh(e))throw Error(j(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};J.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,LT(t,r)):(r.next=n.next,t.pending=n.next=r)}}function LT(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=J.T,a={};J.T=a;try{var o=n(s,i),u=J.S;u!==null&&u(a,o),Vv(e,t,o)}catch(c){wm(e,t,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),J.T=r}}else try{r=n(s,i),Vv(e,t,r)}catch(c){wm(e,t,c)}}function Vv(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Bv(e,t,i)},function(i){return wm(e,t,i)}):Bv(e,t,n)}function Bv(e,t,n){t.status="fulfilled",t.value=n,PT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,LT(e,n)))}function wm(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,PT(t),t=t.next;while(t!==i)}e.action=null}function PT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function UT(e,t){return t}function Hv(e,t){if(le){var n=we.formState;if(n!==null){e:{var i=W;if(le){if(De){t:{for(var s=De,r=yn;s.nodeType!==8;){if(!r){s=null;break t}if(s=Tn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){De=Tn(s.nextSibling),i=s.data==="F!";break e}}Is(i)}i=!1}i&&(t=n[0])}}return n=Dt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UT,lastRenderedState:t},n.queue=i,n=eE.bind(null,W,i),i.dispatch=n,i=Am(!1),r=gg.bind(null,W,!1,i.queue),i=Dt(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=qC.bind(null,W,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Fv(e){var t=Xe();return jT(t,Ee,e)}function jT(e,t,n){if(t=fg(e,t,UT)[0],e=Ec(Ui)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ou(t)}catch(a){throw a===so?Kf:a}else i=t;t=Xe();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(W.flags|=2048,Ha(9,{destroy:void 0},XC.bind(null,s,n),null)),[i,r,e]}function XC(e,t){e.action=t}function Gv(e){var t=Xe(),n=Ee;if(n!==null)return jT(t,n,e);Xe(),t=t.memoizedState,n=Xe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ha(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=W.updateQueue,t===null&&(t=Jf(),W.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function VT(){return Xe().memoizedState}function Ac(e,t,n,i){var s=Dt();W.flags|=e,s.memoizedState=Ha(1|t,{destroy:void 0},n,i===void 0?null:i)}function Wf(e,t,n,i){var s=Xe();i=i===void 0?null:i;var r=s.memoizedState.inst;Ee!==null&&i!==null&&rg(i,Ee.memoizedState.deps)?s.memoizedState=Ha(t,r,n,i):(W.flags|=e,s.memoizedState=Ha(1|t,r,n,i))}function Zv(e,t){Ac(8390656,8,e,t)}function hg(e,t){Wf(2048,8,e,t)}function YC(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=Jf(),W.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function BT(e){var t=Xe().memoizedState;return YC({ref:t,nextImpl:e}),function(){if(me&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function HT(e,t){return Wf(4,2,e,t)}function FT(e,t){return Wf(4,4,e,t)}function GT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZT(e,t,n){n=n!=null?n.concat([e]):null,Wf(4,4,GT.bind(null,t,e),n)}function dg(){}function $T(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&rg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function qT(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&rg(t,i[1]))return i[0];if(i=e(),Mr){ms(!0);try{e()}finally{ms(!1)}}return n.memoizedState=[i,t],i}function mg(e,t,n){return n===void 0||Pi&1073741824&&!(ae&261930)?e.memoizedState=t:(e.memoizedState=n,e=zE(),W.lanes|=e,Ls|=e,n)}function XT(e,t,n,i){return an(n,t)?n:Ba.current!==null?(e=mg(e,n,i),an(e,t)||(tt=!0),e):!(Pi&42)||Pi&1073741824&&!(ae&261930)?(tt=!0,e.memoizedState=n):(e=zE(),W.lanes|=e,Ls|=e,t)}function YT(e,t,n,i,s){var r=pe.p;pe.p=r!==0&&8>r?r:8;var a=J.T,o={};J.T=o,gg(e,!1,t,n);try{var u=s(),c=J.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=GC(u,i);dl(e,t,f,rn(e))}else dl(e,t,i,rn(e))}catch(d){dl(e,t,{then:function(){},status:"rejected",reason:d},rn())}finally{pe.p=r,a!==null&&o.types!==null&&(a.types=o.types),J.T=a}}function KC(){}function xm(e,t,n,i){if(e.tag!==5)throw Error(j(476));var s=KT(e).queue;YT(e,s,t,br,n===null?KC:function(){return JT(e),n(i)})}function KT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:br},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function JT(e){var t=KT(e);t.next===null&&(t=e.alternate.memoizedState),dl(e,t.next.queue,{},rn())}function pg(){return Tt(Vl)}function QT(){return Xe().memoizedState}function WT(){return Xe().memoizedState}function JC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=rn();e=Es(n);var i=As(t,e,n);i!==null&&(Bt(i,t,n),cl(i,t,n)),t={cache:eg()},e.payload=t;return}t=t.return}}function QC(e,t,n){var i=rn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},eh(e)?tE(t,n):(n=Kp(e,t,n,i),n!==null&&(Bt(n,e,i),nE(n,t,i)))}function eE(e,t,n){var i=rn();dl(e,t,n,i)}function dl(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(eh(e))tE(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,an(o,a))return Yf(e,t,s,0),we===null&&Xf(),!1}catch{}finally{}if(n=Kp(e,t,s,i),n!==null)return Bt(n,e,i),nE(n,t,i),!0}return!1}function gg(e,t,n,i){if(i={lane:2,revertLane:wg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},eh(e)){if(t)throw Error(j(479))}else t=Kp(e,n,i,2),t!==null&&Bt(t,e,2)}function eh(e){var t=e.alternate;return e===W||t!==null&&t===W}function tE(e,t){Da=tf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nE(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Bb(e,n)}}var Pl={readContext:Tt,use:Qf,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Pl.useEffectEvent=Ue;var iE={readContext:Tt,use:Qf,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Zv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ac(4194308,4,GT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ac(4194308,4,e,t)},useInsertionEffect:function(e,t){Ac(4,2,e,t)},useMemo:function(e,t){var n=Dt();t=t===void 0?null:t;var i=e();if(Mr){ms(!0);try{e()}finally{ms(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Dt();if(n!==void 0){var s=n(t);if(Mr){ms(!0);try{n(t)}finally{ms(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=QC.bind(null,W,e),[i.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Am(e);var t=e.queue,n=eE.bind(null,W,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:dg,useDeferredValue:function(e,t){var n=Dt();return mg(n,e,t)},useTransition:function(){var e=Am(!1);return e=YT.bind(null,W,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=W,s=Dt();if(le){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),we===null)throw Error(j(349));ae&127||RT(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Zv(MT.bind(null,i,r,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},NT.bind(null,i,r,n,t),null),n},useId:function(){var e=Dt(),t=we.identifierPrefix;if(le){var n=Qn,i=Jn;n=(i&~(1<<32-sn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=nf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ZC++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pg,useFormState:Hv,useActionState:Hv,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=gg.bind(null,W,!0,n),n.dispatch=t,[e,t]},useMemoCache:cg,useCacheRefresh:function(){return Dt().memoizedState=JC.bind(null,W)},useEffectEvent:function(e){var t=Dt(),n={impl:e};return t.memoizedState=n,function(){if(me&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},yg={readContext:Tt,use:Qf,useCallback:$T,useContext:Tt,useEffect:hg,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:FT,useMemo:qT,useReducer:Ec,useRef:VT,useState:function(){return Ec(Ui)},useDebugValue:dg,useDeferredValue:function(e,t){var n=Xe();return XT(n,Ee.memoizedState,e,t)},useTransition:function(){var e=Ec(Ui)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ou(e),t]},useSyncExternalStore:DT,useId:QT,useHostTransitionStatus:pg,useFormState:Fv,useActionState:Fv,useOptimistic:function(e,t){var n=Xe();return zT(n,Ee,e,t)},useMemoCache:cg,useCacheRefresh:WT};yg.useEffectEvent=BT;var sE={readContext:Tt,use:Qf,useCallback:$T,useContext:Tt,useEffect:hg,useImperativeHandle:ZT,useInsertionEffect:HT,useLayoutEffect:FT,useMemo:qT,useReducer:qh,useRef:VT,useState:function(){return qh(Ui)},useDebugValue:dg,useDeferredValue:function(e,t){var n=Xe();return Ee===null?mg(n,e,t):XT(n,Ee.memoizedState,e,t)},useTransition:function(){var e=qh(Ui)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ou(e),t]},useSyncExternalStore:DT,useId:QT,useHostTransitionStatus:pg,useFormState:Gv,useActionState:Gv,useOptimistic:function(e,t){var n=Xe();return Ee!==null?zT(n,Ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:cg,useCacheRefresh:WT};sE.useEffectEvent=BT;function Xh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cm={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rn(),s=Es(i);s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Bt(t,e,i),cl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rn(),s=Es(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Bt(t,e,i),cl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),i=Es(n);i.tag=2,t!=null&&(i.callback=t),t=As(e,i,n),t!==null&&(Bt(t,e,n),cl(t,e,n))}};function $v(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Ml(n,i)||!Ml(s,r):!0}function qv(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Cm.enqueueReplaceState(t,t.state,null)}function kr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ne({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function rE(e){Xc(e)}function aE(e){console.error(e)}function oE(e){Xc(e)}function sf(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Xv(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Om(e,t,n){return n=Es(n),n.tag=3,n.payload={element:null},n.callback=function(){sf(e,t)},n}function lE(e){return e=Es(e),e.tag=3,e}function uE(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){Xv(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){Xv(t,n,i),typeof s!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function WC(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&io(t,n,s,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return bn===null?uf():n.alternate===null&&Ve===0&&(Ve=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Qc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),rd(e,i,s)),!1;case 22:return n.flags|=65536,i===Qc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),rd(e,i,s)),!1}throw Error(j(435,n.tag))}return rd(e,i,s),uf(),!1}if(le)return t=on.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==pm&&(e=Error(j(422),{cause:i}),Il(gn(e,n)))):(i!==pm&&(t=Error(j(423),{cause:i}),Il(gn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=gn(i,n),s=Om(e.stateNode,i,s),$h(e,s),Ve!==4&&(Ve=2)),!1;var r=Error(j(520),{cause:i});if(r=gn(r,n),gl===null?gl=[r]:gl.push(r),Ve!==4&&(Ve=2),t===null)return!0;i=gn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Om(n.stateNode,i,e),$h(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=lE(s),uE(s,e,n,i),$h(n,s),!1}n=n.return}while(n!==null);return!1}var vg=Error(j(461)),tt=!1;function vt(e,t,n,i){t.child=e===null?ET(t,null,n,i):Nr(t,e.child,n,i)}function Yv(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Rr(t),i=ag(e,t,n,a,r,s),o=og(),e!==null&&!tt?(lg(e,t,s),ji(e,t,s)):(le&&o&&Qp(t),t.flags|=1,vt(e,t,i,s),t.child)}function Kv(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Jp(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,cE(e,t,r,i,s)):(e=bc(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!_g(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(a,i)&&e.ref===t.ref)return ji(e,t,s)}return t.flags|=1,e=Mi(r,i),e.ref=t.ref,e.return=t,t.child=e}function cE(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Ml(r,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=r,_g(e,s))e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,ji(e,t,s)}return Dm(e,t,n,i,s)}function fE(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return Jv(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tc(t,r!==null?r.cachePool:null),r!==null?jv(t,r):Tm(),xT(t);else return i=t.lanes=536870912,Jv(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Tc(t,r.cachePool),jv(t,r),ls(),t.memoizedState=null):(e!==null&&Tc(t,null),Tm(),ls());return vt(e,t,s,n),t.child}function tl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jv(e,t,n,i,s){var r=tg();return r=r===null?null:{parent:et._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Tc(t,null),Tm(),xT(t),e!==null&&io(e,t,i,!0),t.childLanes=s,null}function wc(e,t){return t=rf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qv(e,t,n){return Nr(t,e.child,null,n),e=wc(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function eO(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(le){if(i.mode==="hidden")return e=wc(t,i),t.lanes=536870912,tl(null,e);if(Em(t),(e=De)?(e=i1(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Jn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=gT(e),n.return=t,t.child=n,bt=t,De=null)):e=null,e===null)throw Is(t);return t.lanes=536870912,null}return wc(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(Em(t),s)if(t.flags&256)t.flags&=-257,t=Qv(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(tt||io(e,t,n,!1),s=(n&e.childLanes)!==0,tt||s){if(i=we,i!==null&&(a=Hb(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Hr(e,a),Bt(i,e,a),vg;uf(),t=Qv(e,t,n)}else e=r.treeContext,De=Tn(a.nextSibling),bt=t,le=!0,Ts=null,yn=!1,e!==null&&vT(t,e),t=wc(t,i),t.flags|=4096;return t}return e=Mi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Dm(e,t,n,i,s){return Rr(t),n=ag(e,t,n,i,void 0,s),i=og(),e!==null&&!tt?(lg(e,t,s),ji(e,t,s)):(le&&i&&Qp(t),t.flags|=1,vt(e,t,n,s),t.child)}function Wv(e,t,n,i,s,r){return Rr(t),t.updateQueue=null,n=OT(t,i,n,s),CT(e),i=og(),e!==null&&!tt?(lg(e,t,r),ji(e,t,r)):(le&&i&&Qp(t),t.flags|=1,vt(e,t,n,r),t.child)}function e0(e,t,n,i,s){if(Rr(t),t.stateNode===null){var r=da,a=n.contextType;typeof a=="object"&&a!==null&&(r=Tt(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Cm,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},ig(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Tt(a):da,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xh(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Cm.enqueueReplaceState(r,r.state,null),hl(t,i,r,s),fl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=kr(n,o);r.props=u;var c=r.context,f=n.contextType;a=da,typeof f=="object"&&f!==null&&(a=Tt(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&qv(t,r,i,a),rs=!1;var m=t.memoizedState;r.state=m,hl(t,i,r,s),fl(),c=t.memoizedState,o||m!==c||rs?(typeof d=="function"&&(Xh(t,n,d,i),c=t.memoizedState),(u=rs||$v(t,n,u,i,m,c,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Sm(e,t),a=t.memoizedProps,f=kr(n,a),r.props=f,d=t.pendingProps,m=r.context,c=n.contextType,u=da,typeof c=="object"&&c!==null&&(u=Tt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||m!==u)&&qv(t,r,i,u),rs=!1,m=t.memoizedState,r.state=m,hl(t,i,r,s),fl();var g=t.memoizedState;a!==d||m!==g||rs||e!==null&&e.dependencies!==null&&Jc(e.dependencies)?(typeof o=="function"&&(Xh(t,n,o,i),g=t.memoizedState),(f=rs||$v(t,n,f,i,m,g,u)||e!==null&&e.dependencies!==null&&Jc(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=u,i=f):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,xc(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Nr(t,e.child,null,s),t.child=Nr(t,null,n,s)):vt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=ji(e,t,s),e}function t0(e,t,n,i){return Dr(),t.flags|=256,vt(e,t,n,i),t.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(e){return{baseLanes:e,cachePool:ST()}}function Jh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=en),e}function hE(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(le){if(s?os(t):ls(),(e=De)?(e=i1(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Jn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=gT(e),n.return=t,t.child=n,bt=t,De=null)):e=null,e===null)throw Is(t);return Fm(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(ls(),s=t.mode,o=rf({mode:"hidden",children:o},s),i=Tr(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Kh(n),i.childLanes=Jh(e,a,n),t.memoizedState=Yh,tl(null,i)):(os(t),Rm(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(os(t),t.flags&=-257,t=Qh(e,t,n)):t.memoizedState!==null?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,s=t.mode,i=rf({mode:"visible",children:i.children},s),o=Tr(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Nr(t,e.child,null,n),i=t.child,i.memoizedState=Kh(n),i.childLanes=Jh(e,a,n),t.memoizedState=Yh,t=tl(null,i));else if(os(t),Fm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(j(419)),i.stack="",i.digest=a,Il({value:i,source:null,stack:null}),t=Qh(e,t,n)}else if(tt||io(e,t,n,!1),a=(n&e.childLanes)!==0,tt||a){if(a=we,a!==null&&(i=Hb(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Hr(e,i),Bt(a,e,i),vg;Hm(o)||uf(),t=Qh(e,t,n)}else Hm(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,De=Tn(o.nextSibling),bt=t,le=!0,Ts=null,yn=!1,e!==null&&vT(t,e),t=Rm(t,i.children),t.flags|=4096);return t}return s?(ls(),o=i.fallback,s=t.mode,u=e.child,c=u.sibling,i=Mi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Mi(c,o):(o=Tr(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,tl(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Kh(n):(s=o.cachePool,s!==null?(u=et._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=ST(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=Jh(e,a,n),t.memoizedState=Yh,tl(e.child,i)):(os(t),n=e.child,e=n.sibling,n=Mi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Rm(e,t){return t=rf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rf(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function Qh(e,t,n){return Nr(t,e.child,null,n),e=Rm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function n0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ym(e.return,t,n)}function Wh(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function dE(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=qe.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,xe(qe,a),vt(e,t,i,n),i=le?kl:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n0(e,n,t);else if(e.tag===19)n0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ef(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Wh(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ef(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Wh(t,!0,n,null,r,i);break;case"together":Wh(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(n&t.childLanes))if(e!==null){if(io(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _g(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Jc(e)))}function tO(e,t,n){switch(t.tag){case 3:Gc(t,t.stateNode.containerInfo),as(t,et,e.memoizedState.cache),Dr();break;case 27:case 5:sm(t);break;case 4:Gc(t,t.stateNode.containerInfo);break;case 10:as(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Em(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(os(t),t.flags|=128,null):n&t.child.childLanes?hE(e,t,n):(os(t),e=ji(e,t,n),e!==null?e.sibling:null);os(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(io(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return dE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(qe,qe.current),i)break;return null;case 22:return t.lanes=0,fE(e,t,n,t.pendingProps);case 24:as(t,et,e.memoizedState.cache)}return ji(e,t,n)}function mE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!_g(e,n)&&!(t.flags&128))return tt=!1,tO(e,t,n);tt=!!(e.flags&131072)}else tt=!1,le&&t.flags&1048576&&yT(t,kl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=hr(t.elementType),t.type=e,typeof e=="function")Jp(e)?(i=kr(e,i),t.tag=1,t=e0(null,t,e,i,n)):(t.tag=0,t=Dm(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Pp){t.tag=11,t=Yv(null,t,e,i,n);break e}else if(s===Up){t.tag=14,t=Kv(null,t,e,i,n);break e}}throw t=nm(e)||e,Error(j(306,t,""))}}return t;case 0:return Dm(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=kr(i,t.pendingProps),e0(e,t,i,s,n);case 3:e:{if(Gc(t,t.stateNode.containerInfo),e===null)throw Error(j(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Sm(e,t),hl(t,i,null,n);var a=t.memoizedState;if(i=a.cache,as(t,et,i),i!==r.cache&&vm(t,[et],n,!0),fl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=t0(e,t,i,n);break e}else if(i!==s){s=gn(Error(j(424)),t),Il(s),t=t0(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=Tn(e.firstChild),bt=t,le=!0,Ts=null,yn=!0,n=ET(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Dr(),i===s){t=ji(e,t,n);break e}vt(e,t,i,n)}t=t.child}return t;case 26:return xc(e,t),e===null?(n=T0(t.type,null,t.pendingProps,null))?t.memoizedState=n:le||(n=t.type,e=t.pendingProps,i=df(bs.current).createElement(n),i[St]=t,i[Ht]=e,Et(i,n,e),ht(i),t.stateNode=i):t.memoizedState=T0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return sm(t),e===null&&le&&(i=t.stateNode=s1(t.type,t.pendingProps,bs.current),bt=t,yn=!0,s=De,Gs(t.type)?(Gm=s,De=Tn(i.firstChild)):De=s),vt(e,t,t.pendingProps.children,n),xc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&le&&((s=i=De)&&(i=NO(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,bt=t,De=Tn(i.firstChild),yn=!1,s=!0):s=!1),s||Is(t)),sm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Vm(s,r)?i=null:a!==null&&Vm(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=ag(e,t,$C,null,null,n),Vl._currentValue=s),xc(e,t),vt(e,t,i,n),t.child;case 6:return e===null&&le&&((e=n=De)&&(n=MO(n,t.pendingProps,yn),n!==null?(t.stateNode=n,bt=t,De=null,e=!0):e=!1),e||Is(t)),null;case 13:return hE(e,t,n);case 4:return Gc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Nr(t,null,i,n):vt(e,t,i,n),t.child;case 11:return Yv(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,as(t,t.type,i.value),vt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Rr(t),s=Tt(s),i=i(s),t.flags|=1,vt(e,t,i,n),t.child;case 14:return Kv(e,t,t.type,t.pendingProps,n);case 15:return cE(e,t,t.type,t.pendingProps,n);case 19:return dE(e,t,n);case 31:return eO(e,t,n);case 22:return fE(e,t,n,t.pendingProps);case 24:return Rr(t),i=Tt(et),e===null?(s=tg(),s===null&&(s=we,r=eg(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},ig(t),as(t,et,s)):(e.lanes&n&&(Sm(e,t),hl(t,null,null,n),fl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),as(t,et,i)):(i=r.cache,as(t,et,i),i!==s.cache&&vm(t,[et],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function vi(e){e.flags|=4}function ed(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(UE())e.flags|=8192;else throw Ar=Qc,ng}else e.flags&=-16777217}function i0(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!o1(t))if(UE())e.flags|=8192;else throw Ar=Qc,ng}function Ku(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?jb():536870912,e.lanes|=t,Fa|=t)}function Bo(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nO(e,t,n){var i=t.pendingProps;switch(Wp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ki(et),Pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wr(t)?vi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zh())),Oe(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(vi(t),r!==null?(Oe(t),i0(t,r)):(Oe(t),ed(t,s,null,i,n))):r?r!==e.memoizedState?(vi(t),Oe(t),i0(t,r)):(Oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vi(t),Oe(t),ed(t,s,e,i,n)),null;case 27:if(Zc(t),n=bs.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Oe(t),null}e=ti.current,Wr(t)?Mv(t):(e=s1(s,i,n),t.stateNode=e,vi(t))}return Oe(t),null;case 5:if(Zc(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Oe(t),null}if(r=ti.current,Wr(t))Mv(t);else{var a=df(bs.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[St]=t,r[Ht]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;e:switch(Et(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vi(t)}}return Oe(t),ed(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(e=bs.current,Wr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=bt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||e1(e.nodeValue,n)),e||Is(t,!0)}else e=df(e).createTextNode(i),e[St]=t,t.stateNode=e}return Oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Wr(t),n!==null){if(e===null){if(!i)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[St]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),e=!1}else n=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if(t.flags&128)throw Error(j(558))}return Oe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Wr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[St]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),s=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ku(t,t.updateQueue),Oe(t),null);case 4:return Pa(),e===null&&xg(t.stateNode.containerInfo),Oe(t),null;case 10:return ki(t.type),Oe(t),null;case 19:if(dt(qe),i=t.memoizedState,i===null)return Oe(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Bo(i,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=ef(e),r!==null){for(t.flags|=128,Bo(i,!1),e=r.updateQueue,t.updateQueue=e,Ku(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)pT(n,e),n=n.sibling;return xe(qe,qe.current&1|2),le&&Ai(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&tn()>of&&(t.flags|=128,s=!0,Bo(i,!1),t.lanes=4194304)}else{if(!s)if(e=ef(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Ku(t,e),Bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!le)return Oe(t),null}else 2*tn()-i.renderingStartTime>of&&n!==536870912&&(t.flags|=128,s=!0,Bo(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tn(),e.sibling=null,n=qe.current,xe(qe,s?n&1|2:n&1),le&&Ai(t,i.treeForkCount),e):(Oe(t),null);case 22:case 23:return Qt(t),sg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),n=t.updateQueue,n!==null&&Ku(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&dt(Er),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(et),Oe(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function iO(e,t){switch(Wp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(et),Pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zc(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(j(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(qe),null;case 4:return Pa(),null;case 10:return ki(t.type),null;case 22:case 23:return Qt(t),sg(),e!==null&&dt(Er),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ki(et),null;case 25:return null;default:return null}}function pE(e,t){switch(Wp(t),t.tag){case 3:ki(et),Pa();break;case 26:case 27:case 5:Zc(t);break;case 4:Pa();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:dt(qe);break;case 10:ki(t.type);break;case 22:case 23:Qt(t),sg(),e!==null&&dt(Er);break;case 24:ki(et)}}function lu(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){Se(t,t.return,o)}}function zs(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,c=o;try{c()}catch(f){Se(s,u,f)}}}i=i.next}while(i!==r)}}catch(f){Se(t,t.return,f)}}function gE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{wT(t,n)}catch(i){Se(e,e.return,i)}}}function yE(e,t,n){n.props=kr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Se(e,t,i)}}function ml(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){Se(e,t,s)}}function Wn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Se(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Se(e,t,s)}else n.current=null}function vE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Se(e,e.return,s)}}function td(e,t,n){try{var i=e.stateNode;wO(i,e.type,n,t),i[Ht]=t}catch(s){Se(e,e.return,s)}}function _E(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_E(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nm(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oi));else if(i!==4&&(i===27&&Gs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Nm(e,t,n),e=e.sibling;e!==null;)Nm(e,t,n),e=e.sibling}function af(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Gs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(af(e,t,n),e=e.sibling;e!==null;)af(e,t,n),e=e.sibling}function SE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Et(t,i,n),t[St]=e,t[Ht]=n}catch(r){Se(e,e.return,r)}}var wi=!1,We=!1,id=!1,s0=typeof WeakSet=="function"?WeakSet:Set,ft=null;function sO(e,t){if(e=e.containerInfo,Um=yf,e=oT(e),Xp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,f=0,d=e,m=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(u=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===n&&++c===s&&(o=a),m===r&&++f===i&&(u=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jm={focusedElem:e,selectionRange:n},yf=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var O=kr(n.type,s);e=i.getSnapshotBeforeUpdate(O,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(D){Se(n,n.return,D)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Bm(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function bE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n),i&4&&lu(5,n);break;case 1:if(Si(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Se(n,n.return,a)}else{var s=kr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Se(n,n.return,a)}}i&64&&gE(n),i&512&&ml(n,n.return);break;case 3:if(Si(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{wT(e,t)}catch(a){Se(n,n.return,a)}}break;case 27:t===null&&i&4&&SE(n);case 26:case 5:Si(e,n),t===null&&i&4&&vE(n),i&512&&ml(n,n.return);break;case 12:Si(e,n);break;case 31:Si(e,n),i&4&&AE(e,n);break;case 13:Si(e,n),i&4&&wE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=dO.bind(null,n),kO(e,n))));break;case 22:if(i=n.memoizedState!==null||wi,!i){t=t!==null&&t.memoizedState!==null||We,s=wi;var r=We;wi=i,(We=t)&&!r?Ei(e,n,(n.subtreeFlags&8772)!==0):Si(e,n),wi=s,We=r}break;case 30:break;default:Si(e,n)}}function TE(e){var t=e.alternate;t!==null&&(e.alternate=null,TE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Hp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Ut=!1;function _i(e,t,n){for(n=n.child;n!==null;)EE(e,t,n),n=n.sibling}function EE(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(tu,n)}catch{}switch(n.tag){case 26:We||Wn(n,t),_i(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Wn(n,t);var i=ke,s=Ut;Gs(n.type)&&(ke=n.stateNode,Ut=!1),_i(e,t,n),vl(n.stateNode),ke=i,Ut=s;break;case 5:We||Wn(n,t);case 6:if(i=ke,s=Ut,ke=null,_i(e,t,n),ke=i,Ut=s,ke!==null)if(Ut)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(r){Se(n,t,r)}else try{ke.removeChild(n.stateNode)}catch(r){Se(n,t,r)}break;case 18:ke!==null&&(Ut?(e=ke,y0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),qa(e)):y0(ke,n.stateNode));break;case 4:i=ke,s=Ut,ke=n.stateNode.containerInfo,Ut=!0,_i(e,t,n),ke=i,Ut=s;break;case 0:case 11:case 14:case 15:zs(2,n,t),We||zs(4,n,t),_i(e,t,n);break;case 1:We||(Wn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&yE(n,t,i)),_i(e,t,n);break;case 21:_i(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,_i(e,t,n),We=i;break;default:_i(e,t,n)}}function AE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(n){Se(t,t.return,n)}}}function wE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(n){Se(t,t.return,n)}}function rO(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new s0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new s0),t;default:throw Error(j(435,e.tag))}}function Ju(e,t){var n=rO(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=mO.bind(null,e,i);i.then(s,s)}})}function Lt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Gs(o.type)){ke=o.stateNode,Ut=!1;break e}break;case 5:ke=o.stateNode,Ut=!1;break e;case 3:case 4:ke=o.stateNode.containerInfo,Ut=!0;break e}o=o.return}if(ke===null)throw Error(j(160));EE(r,a,s),ke=null,Ut=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xE(t,e),t=t.sibling}var In=null;function xE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Pt(e),i&4&&(zs(3,e,e.return),lu(3,e),zs(5,e,e.return));break;case 1:Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),i&64&&wi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=In;if(Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[su]||r[St]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Et(r,i,n),r[St]=e,ht(r),i=r;break e;case"link":var a=A0("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;case"meta":if(a=A0("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;default:throw Error(j(468,i))}r[St]=e,ht(r),i=r}e.stateNode=i}else w0(s,e.type,e.stateNode);else e.stateNode=E0(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?w0(s,e.type,e.stateNode):E0(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&td(e,e.memoizedProps,n.memoizedProps)}break;case 27:Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),n!==null&&i&4&&td(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),e.flags&32){s=e.stateNode;try{ja(s,"")}catch(O){Se(e,e.return,O)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,td(e,s,n!==null?n.memoizedProps:s)),i&1024&&(id=!0);break;case 6:if(Lt(t,e),Pt(e),i&4){if(e.stateNode===null)throw Error(j(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(O){Se(e,e.return,O)}}break;case 3:if(Dc=null,s=In,In=mf(t.containerInfo),Lt(t,e),In=s,Pt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(O){Se(e,e.return,O)}id&&(id=!1,CE(e));break;case 4:i=In,In=mf(e.stateNode.containerInfo),Lt(t,e),Pt(e),In=i;break;case 12:Lt(t,e),Pt(e);break;case 31:Lt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ju(e,i)));break;case 13:Lt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(th=tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ju(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=wi,f=We;if(wi=c||s,We=f||u,Lt(t,e),We=f,wi=c,Pt(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||wi||We||dr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var d=u.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(O){Se(u,u.return,O)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(O){Se(u,u.return,O)}}}else if(t.tag===18){if(n===null){u=t;try{var g=u.stateNode;s?v0(g,!0):v0(u.stateNode,!1)}catch(O){Se(u,u.return,O)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ju(e,n))));break;case 19:Lt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ju(e,i)));break;case 30:break;case 21:break;default:Lt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(_E(i)){n=i;break}i=i.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var s=n.stateNode,r=nd(e);af(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(ja(a,""),n.flags&=-33);var o=nd(e);af(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=nd(e);Nm(e,c,u);break;default:throw Error(j(161))}}catch(f){Se(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;CE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bE(e,t.alternate,t),t=t.sibling}function dr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),dr(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&yE(t,t.return,n),dr(t);break;case 27:vl(t.stateNode);case 26:case 5:Wn(t,t.return),dr(t);break;case 22:t.memoizedState===null&&dr(t);break;case 30:dr(t);break;default:dr(t)}e=e.sibling}}function Ei(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(s,r,n),lu(4,r);break;case 1:if(Ei(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Se(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)AT(u[s],o)}catch(c){Se(i,i.return,c)}}n&&a&64&&gE(r),ml(r,r.return);break;case 27:SE(r);case 26:case 5:Ei(s,r,n),n&&i===null&&a&4&&vE(r),ml(r,r.return);break;case 12:Ei(s,r,n);break;case 31:Ei(s,r,n),n&&a&4&&AE(s,r);break;case 13:Ei(s,r,n),n&&a&4&&wE(s,r);break;case 22:r.memoizedState===null&&Ei(s,r,n),ml(r,r.return);break;case 30:break;default:Ei(s,r,n)}t=t.sibling}}function Sg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&au(n))}function bg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&au(e))}function Rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)OE(e,t,n,i),t=t.sibling}function OE(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,n,i),s&2048&&lu(9,t);break;case 1:Rn(e,t,n,i);break;case 3:Rn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&au(e)));break;case 12:if(s&2048){Rn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Se(t,t.return,u)}}else Rn(e,t,n,i);break;case 31:Rn(e,t,n,i);break;case 13:Rn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?Rn(e,t,n,i):pl(e,t):r._visibility&2?Rn(e,t,n,i):(r._visibility|=2,ia(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Sg(a,t);break;case 24:Rn(e,t,n,i),s&2048&&bg(t.alternate,t);break;default:Rn(e,t,n,i)}}function ia(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ia(r,a,o,u,s),lu(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?ia(r,a,o,u,s):pl(r,a):(f._visibility|=2,ia(r,a,o,u,s)),s&&c&2048&&Sg(a.alternate,a);break;case 24:ia(r,a,o,u,s),s&&c&2048&&bg(a.alternate,a);break;default:ia(r,a,o,u,s)}t=t.sibling}}function pl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:pl(n,i),s&2048&&Sg(i.alternate,i);break;case 24:pl(n,i),s&2048&&bg(i.alternate,i);break;default:pl(n,i)}t=t.sibling}}var nl=8192;function ea(e,t,n){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)DE(e,t,n),e=e.sibling}function DE(e,t,n){switch(e.tag){case 26:ea(e,t,n),e.flags&nl&&e.memoizedState!==null&&ZO(n,In,e.memoizedState,e.memoizedProps);break;case 5:ea(e,t,n);break;case 3:case 4:var i=In;In=mf(e.stateNode.containerInfo),ea(e,t,n),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,ea(e,t,n),nl=i):ea(e,t,n));break;default:ea(e,t,n)}}function RE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ho(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,ME(i,e)}RE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)NE(e),e=e.sibling}function NE(e){switch(e.tag){case 0:case 11:case 15:Ho(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Ho(e);break;case 12:Ho(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cc(e)):Ho(e);break;default:Ho(e)}}function Cc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,ME(i,e)}RE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zs(8,t,t.return),Cc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Cc(t));break;default:Cc(t)}e=e.sibling}}function ME(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:au(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ft=i;else e:for(n=e;ft!==null;){i=ft;var s=i.sibling,r=i.return;if(TE(i),i===n){ft=null;break e}if(s!==null){s.return=r,ft=s;break e}ft=r}}}var aO={getCacheForType:function(e){var t=Tt(et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Tt(et).controller.signal}},oO=typeof WeakMap=="function"?WeakMap:Map,me=0,we=null,se=null,ae=0,ve=0,Kt=null,gs=!1,ro=!1,Tg=!1,Vi=0,Ve=0,Ls=0,wr=0,Eg=0,en=0,Fa=0,gl=null,jt=null,Mm=!1,th=0,kE=0,of=1/0,lf=null,ws=null,at=0,xs=null,Ga=null,Ii=0,km=0,Im=null,IE=null,yl=0,zm=null;function rn(){return me&2&&ae!==0?ae&-ae:J.T!==null?wg():Fb()}function zE(){if(en===0)if(!(ae&536870912)||le){var e=Fu;Fu<<=1,!(Fu&3932160)&&(Fu=262144),en=e}else en=536870912;return e=on.current,e!==null&&(e.flags|=32),en}function Bt(e,t,n){(e===we&&(ve===2||ve===9)||e.cancelPendingCommit!==null)&&(Za(e,0),ys(e,ae,en,!1)),iu(e,n),(!(me&2)||e!==we)&&(e===we&&(!(me&2)&&(wr|=n),Ve===4&&ys(e,ae,en,!1)),li(e))}function LE(e,t,n){if(me&6)throw Error(j(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||nu(e,t),s=i?cO(e,t):sd(e,t,!0),r=i;do{if(s===0){ro&&!i&&ys(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!lO(n)){s=sd(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var o=e;s=gl;var u=o.current.memoizedState.isDehydrated;if(u&&(Za(o,a).flags|=256),a=sd(o,a,!1),a!==2){if(Tg&&!u){o.errorRecoveryDisabledLanes|=r,wr|=r,s=4;break e}r=jt,jt=s,r!==null&&(jt===null?jt=r:jt.push.apply(jt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Za(e,0),ys(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:ys(i,t,en,!gs);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(s=th+300-tn(),10<s)){if(ys(i,t,en,!gs),Gf(i,0,!0)!==0)break e;Ii=t,i.timeoutHandle=n1(r0.bind(null,i,n,jt,lf,Mm,t,en,wr,Fa,gs,r,"Throttled",-0,0),s);break e}r0(i,n,jt,lf,Mm,t,en,wr,Fa,gs,r,null,-0,0)}}break}while(!0);li(e)}function r0(e,t,n,i,s,r,a,o,u,c,f,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},DE(t,r,d);var O=(r&62914560)===r?th-tn():(r&4194048)===r?kE-tn():0;if(O=$O(d,O),O!==null){Ii=r,e.cancelPendingCommit=O(o0.bind(null,e,t,r,n,i,s,a,o,u,f,d,null,m,g)),ys(e,r,a,!c);return}}o0(e,t,r,n,i,s,a,o,u)}function lO(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!an(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ys(e,t,n,i){t&=~Eg,t&=~wr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-sn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Vb(e,n,t)}function nh(){return me&6?!0:(uu(0),!1)}function Ag(){if(se!==null){if(ve===0)var e=se.return;else e=se,Di=Fr=null,ug(e),Oa=null,zl=0,e=se;for(;e!==null;)pE(e.alternate,e),e=e.return;se=null}}function Za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,OO(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ii=0,Ag(),we=e,se=n=Mi(e.current,null),ae=t,ve=0,Kt=null,gs=!1,ro=nu(e,t),Tg=!1,Fa=en=Eg=wr=Ls=Ve=0,jt=gl=null,Mm=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-sn(i),r=1<<s;t|=e[s],i&=~r}return Vi=t,Xf(),n}function PE(e,t){W=null,J.H=Pl,t===so||t===Kf?(t=Pv(),ve=3):t===ng?(t=Pv(),ve=4):ve=t===vg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,se===null&&(Ve=1,sf(e,gn(t,e.current)))}function UE(){var e=on.current;return e===null?!0:(ae&4194048)===ae?bn===null:(ae&62914560)===ae||ae&536870912?e===bn:!1}function jE(){var e=J.H;return J.H=Pl,e===null?Pl:e}function VE(){var e=J.A;return J.A=aO,e}function uf(){Ve=4,gs||(ae&4194048)!==ae&&on.current!==null||(ro=!0),!(Ls&134217727)&&!(wr&134217727)||we===null||ys(we,ae,en,!1)}function sd(e,t,n){var i=me;me|=2;var s=jE(),r=VE();(we!==e||ae!==t)&&(lf=null,Za(e,t)),t=!1;var a=Ve;e:do try{if(ve!==0&&se!==null){var o=se,u=Kt;switch(ve){case 8:Ag(),a=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var c=ve;if(ve=0,Kt=null,ga(e,o,u,c),n&&ro){a=0;break e}break;default:c=ve,ve=0,Kt=null,ga(e,o,u,c)}}uO(),a=Ve;break}catch(f){PE(e,f)}while(!0);return t&&e.shellSuspendCounter++,Di=Fr=null,me=i,J.H=s,J.A=r,se===null&&(we=null,ae=0,Xf()),a}function uO(){for(;se!==null;)BE(se)}function cO(e,t){var n=me;me|=2;var i=jE(),s=VE();we!==e||ae!==t?(lf=null,of=tn()+500,Za(e,t)):ro=nu(e,t);e:do try{if(ve!==0&&se!==null){t=se;var r=Kt;t:switch(ve){case 1:ve=0,Kt=null,ga(e,t,r,1);break;case 2:case 9:if(Lv(r)){ve=0,Kt=null,a0(t);break}t=function(){ve!==2&&ve!==9||we!==e||(ve=7),li(e)},r.then(t,t);break e;case 3:ve=7;break e;case 4:ve=5;break e;case 7:Lv(r)?(ve=0,Kt=null,a0(t)):(ve=0,Kt=null,ga(e,t,r,7));break;case 5:var a=null;switch(se.tag){case 26:a=se.memoizedState;case 5:case 27:var o=se;if(a?o1(a):o.stateNode.complete){ve=0,Kt=null;var u=o.sibling;if(u!==null)se=u;else{var c=o.return;c!==null?(se=c,ih(c)):se=null}break t}}ve=0,Kt=null,ga(e,t,r,5);break;case 6:ve=0,Kt=null,ga(e,t,r,6);break;case 8:Ag(),Ve=6;break e;default:throw Error(j(462))}}fO();break}catch(f){PE(e,f)}while(!0);return Di=Fr=null,J.H=i,J.A=s,me=n,se!==null?0:(we=null,ae=0,Xf(),Ve)}function fO(){for(;se!==null&&!I2();)BE(se)}function BE(e){var t=mE(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,t===null?ih(e):se=t}function a0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wv(n,t,t.pendingProps,t.type,void 0,ae);break;case 11:t=Wv(n,t,t.pendingProps,t.type.render,t.ref,ae);break;case 5:ug(t);default:pE(n,t),t=se=pT(t,Vi),t=mE(n,t,Vi)}e.memoizedProps=e.pendingProps,t===null?ih(e):se=t}function ga(e,t,n,i){Di=Fr=null,ug(t),Oa=null,zl=0;var s=t.return;try{if(WC(e,s,t,n,ae)){Ve=1,sf(e,gn(n,e.current)),se=null;return}}catch(r){if(s!==null)throw se=s,r;Ve=1,sf(e,gn(n,e.current)),se=null;return}t.flags&32768?(le||i===1?e=!0:ro||ae&536870912?e=!1:(gs=e=!0,(i===2||i===9||i===3||i===6)&&(i=on.current,i!==null&&i.tag===13&&(i.flags|=16384))),HE(t,e)):ih(t)}function ih(e){var t=e;do{if(t.flags&32768){HE(t,gs);return}e=t.return;var n=nO(t.alternate,t,Vi);if(n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);Ve===0&&(Ve=5)}function HE(e,t){do{var n=iO(e.alternate,e);if(n!==null){n.flags&=32767,se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=n}while(e!==null);Ve=6,se=null}function o0(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do sh();while(at!==0);if(me&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(r=t.lanes|t.childLanes,r|=Yp,G2(e,n,r,a,o,u),e===we&&(se=we=null,ae=0),Ga=t,xs=e,Ii=n,km=r,Im=s,IE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,pO($c,function(){return qE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=J.T,J.T=null,s=pe.p,pe.p=2,a=me,me|=4;try{sO(e,t,n)}finally{me=a,pe.p=s,J.T=i}}at=1,FE(),GE(),ZE()}}function FE(){if(at===1){at=0;var e=xs,t=Ga,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=J.T,J.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{xE(t,e);var r=jm,a=oT(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&aT(o.ownerDocument.documentElement,o)){if(u!==null&&Xp(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),O=o.textContent.length,D=Math.min(u.start,O),k=u.end===void 0?D:Math.min(u.end,O);!g.extend&&D>k&&(a=k,k=D,D=a);var b=Dv(o,D),v=Dv(o,k);if(b&&v&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var w=d.createRange();w.setStart(b.node,b.offset),g.removeAllRanges(),D>k?(g.addRange(w),g.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),g.addRange(w))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var N=d[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}yf=!!Um,jm=Um=null}finally{me=s,pe.p=i,J.T=n}}e.current=t,at=2}}function GE(){if(at===2){at=0;var e=xs,t=Ga,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=J.T,J.T=null;var i=pe.p;pe.p=2;var s=me;me|=4;try{bE(e,t.alternate,t)}finally{me=s,pe.p=i,J.T=n}}at=3}}function ZE(){if(at===4||at===3){at=0,z2();var e=xs,t=Ga,n=Ii,i=IE;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,Ga=xs=null,$E(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ws=null),Bp(n),t=t.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(tu,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=J.T,s=pe.p,pe.p=2,J.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{J.T=t,pe.p=s}}Ii&3&&sh(),li(e),s=e.pendingLanes,n&261930&&s&42?e===zm?yl++:(yl=0,zm=e):yl=0,uu(0)}}function $E(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,au(t)))}function sh(){return FE(),GE(),ZE(),qE()}function qE(){if(at!==5)return!1;var e=xs,t=km;km=0;var n=Bp(Ii),i=J.T,s=pe.p;try{pe.p=32>n?32:n,J.T=null,n=Im,Im=null;var r=xs,a=Ii;if(at=0,Ga=xs=null,Ii=0,me&6)throw Error(j(331));var o=me;if(me|=4,NE(r.current),OE(r,r.current,a,n),me=o,uu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(tu,r)}catch{}return!0}finally{pe.p=s,J.T=i,$E(e,t)}}function l0(e,t,n){t=gn(n,t),t=Om(e.stateNode,t,2),e=As(e,t,2),e!==null&&(iu(e,2),li(e))}function Se(e,t,n){if(e.tag===3)l0(e,e,n);else for(;t!==null;){if(t.tag===3){l0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ws===null||!ws.has(i))){e=gn(n,e),n=lE(2),i=As(t,n,2),i!==null&&(uE(n,i,t,e),iu(i,2),li(i));break}}t=t.return}}function rd(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new oO;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(Tg=!0,s.add(n),e=hO.bind(null,e,t,n),t.then(e,e))}function hO(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,we===e&&(ae&n)===n&&(Ve===4||Ve===3&&(ae&62914560)===ae&&300>tn()-th?!(me&2)&&Za(e,0):Eg|=n,Fa===ae&&(Fa=0)),li(e)}function XE(e,t){t===0&&(t=jb()),e=Hr(e,t),e!==null&&(iu(e,t),li(e))}function dO(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),XE(e,n)}function mO(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(j(314))}i!==null&&i.delete(t),XE(e,n)}function pO(e,t){return jp(e,t)}var cf=null,sa=null,Lm=!1,ff=!1,ad=!1,vs=0;function li(e){e!==sa&&e.next===null&&(sa===null?cf=sa=e:sa=sa.next=e),ff=!0,Lm||(Lm=!0,yO())}function uu(e,t){if(!ad&&ff){ad=!0;do for(var n=!1,i=cf;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-sn(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,u0(i,r))}else r=ae,r=Gf(i,i===we?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||nu(i,r)||(n=!0,u0(i,r));i=i.next}while(n);ad=!1}}function gO(){YE()}function YE(){ff=Lm=!1;var e=0;vs!==0&&CO()&&(e=vs);for(var t=tn(),n=null,i=cf;i!==null;){var s=i.next,r=KE(i,t);r===0?(i.next=null,n===null?cf=s:n.next=s,s===null&&(sa=n)):(n=i,(e!==0||r&3)&&(ff=!0)),i=s}at!==0&&at!==5||uu(e),vs!==0&&(vs=0)}function KE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-sn(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=F2(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=we,n=ae,n=Gf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ve===2||ve===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ih(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||nu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ih(i),Bp(n)){case 2:case 8:n=Pb;break;case 32:n=$c;break;case 268435456:n=Ub;break;default:n=$c}return i=JE.bind(null,e),n=jp(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ih(i),e.callbackPriority=2,e.callbackNode=null,2}function JE(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sh()&&e.callbackNode!==n)return null;var i=ae;return i=Gf(e,e===we?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(LE(e,i,t),KE(e,tn()),e.callbackNode!=null&&e.callbackNode===n?JE.bind(null,e):null)}function u0(e,t){if(sh())return null;LE(e,t,!0)}function yO(){DO(function(){me&6?jp(Lb,gO):YE()})}function wg(){if(vs===0){var e=Va;e===0&&(e=Hu,Hu<<=1,!(Hu&261888)&&(Hu=256)),vs=e}return vs}function c0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vc(""+e)}function f0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vO(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=c0((s[Ht]||null).action),a=i.submitter;a&&(t=(t=a[Ht]||null)?c0(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Zf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vs!==0){var u=a?f0(s,a):new FormData(s);xm(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?f0(s,a):new FormData(s),xm(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var od=0;od<mm.length;od++){var ld=mm[od],_O=ld.toLowerCase(),SO=ld[0].toUpperCase()+ld.slice(1);Vn(_O,"on"+SO)}Vn(uT,"onAnimationEnd");Vn(cT,"onAnimationIteration");Vn(fT,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(LC,"onTransitionRun");Vn(PC,"onTransitionStart");Vn(UC,"onTransitionCancel");Vn(hT,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function QE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(f){Xc(f)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=c;try{r(s)}catch(f){Xc(f)}s.currentTarget=null,r=u}}}}function ie(e,t){var n=t[am];n===void 0&&(n=t[am]=new Set);var i=e+"__bubble";n.has(i)||(WE(t,e,2,!1),n.add(i))}function ud(e,t,n){var i=0;t&&(i|=4),WE(n,e,i,t)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function xg(e){if(!e[Qu]){e[Qu]=!0,Gb.forEach(function(n){n!=="selectionchange"&&(bO.has(n)||ud(n,!1,e),ud(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qu]||(t[Qu]=!0,ud("selectionchange",!1,t))}}function WE(e,t,n,i){switch(h1(t)){case 2:var s=YO;break;case 8:s=KO;break;default:s=Rg}n=s.bind(null,t,n,e),s=void 0,!fm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cd(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=oa(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}o=o.parentNode}}i=i.return}Qb(function(){var c=r,f=Gp(n),d=[];e:{var m=dT.get(e);if(m!==void 0){var g=Zf,O=e;switch(e){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":g=mC;break;case"focusin":O="focus",g=jh;break;case"focusout":O="blur",g=jh;break;case"beforeblur":case"afterblur":g=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yC;break;case uT:case cT:case fT:g=rC;break;case hT:g=_C;break;case"scroll":case"scrollend":g=eC;break;case"wheel":g=bC;break;case"copy":case"cut":case"paste":g=oC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bv;break;case"toggle":case"beforetoggle":g=EC}var D=(t&4)!==0,k=!D&&(e==="scroll"||e==="scrollend"),b=D?m!==null?m+"Capture":null:m;D=[];for(var v=c,w;v!==null;){var N=v;if(w=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||w===null||b===null||(N=Rl(v,b),N!=null&&D.push(jl(v,N,w))),k)break;v=v.return}0<D.length&&(m=new g(m,O,null,n,f),d.push({event:m,listeners:D}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==cm&&(O=n.relatedTarget||n.fromElement)&&(oa(O)||O[to]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(O=n.relatedTarget||n.toElement,g=c,O=O?oa(O):null,O!==null&&(k=eu(O),D=O.tag,O!==k||D!==5&&D!==27&&D!==6)&&(O=null)):(g=null,O=c),g!==O)){if(D=_v,N="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(D=bv,N="onPointerLeave",b="onPointerEnter",v="pointer"),k=g==null?m:el(g),w=O==null?m:el(O),m=new D(N,v+"leave",g,n,f),m.target=k,m.relatedTarget=w,N=null,oa(f)===c&&(D=new D(b,v+"enter",O,n,f),D.target=w,D.relatedTarget=k,N=D),k=N,g&&O)t:{for(D=TO,b=g,v=O,w=0,N=b;N;N=D(N))w++;N=0;for(var z=v;z;z=D(z))N++;for(;0<w-N;)b=D(b),w--;for(;0<N-w;)v=D(v),N--;for(;w--;){if(b===v||v!==null&&b===v.alternate){D=b;break t}b=D(b),v=D(v)}D=null}else D=null;g!==null&&h0(d,m,g,D,!1),O!==null&&k!==null&&h0(d,k,O,D,!0)}}e:{if(m=c?el(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=wv;else if(Av(m))if(sT)V=kC;else{V=NC;var E=RC}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&Fp(c.elementType)&&(V=wv):V=MC;if(V&&(V=V(e,c))){iT(d,V,n,f);break e}E&&E(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&um(m,"number",m.value)}switch(E=c?el(c):window,e){case"focusin":(Av(E)||E.contentEditable==="true")&&(ca=E,hm=c,ll=null);break;case"focusout":ll=hm=ca=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,Rv(d,n,f);break;case"selectionchange":if(zC)break;case"keydown":case"keyup":Rv(d,n,f)}var y;if(qp)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ua?tT(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(eT&&n.locale!=="ko"&&(ua||S!=="onCompositionStart"?S==="onCompositionEnd"&&ua&&(y=Wb()):(ps=f,Zp="value"in ps?ps.value:ps.textContent,ua=!0)),E=hf(c,S),0<E.length&&(S=new Sv(S,e,null,n,f),d.push({event:S,listeners:E}),y?S.data=y:(y=nT(n),y!==null&&(S.data=y)))),(y=wC?xC(e,n):CC(e,n))&&(S=hf(c,"onBeforeInput"),0<S.length&&(E=new Sv("onBeforeInput","beforeinput",null,n,f),d.push({event:E,listeners:S}),E.data=y)),vO(d,e,c,n,f)}QE(d,t)})}function jl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hf(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Rl(e,n),s!=null&&i.unshift(jl(e,s,r)),s=Rl(e,t),s!=null&&i.push(jl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function TO(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h0(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,s?(c=Rl(n,r),c!=null&&a.unshift(jl(n,c,u))):s||(c=Rl(n,r),c!=null&&a.push(jl(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var EO=/\r\n?/g,AO=/\u0000|\uFFFD/g;function d0(e){return(typeof e=="string"?e:""+e).replace(EO,`
`).replace(AO,"")}function e1(e,t){return t=d0(t),d0(e)===t}function Te(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ja(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ja(e,""+i);break;case"className":Zu(e,"class",i);break;case"tabIndex":Zu(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zu(e,n,i);break;case"style":Jb(e,i,r);break;case"data":if(t!=="object"){Zu(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=vc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",s.name,s,null),Te(e,t,"formEncType",s.formEncType,s,null),Te(e,t,"formMethod",s.formMethod,s,null),Te(e,t,"formTarget",s.formTarget,s,null)):(Te(e,t,"encType",s.encType,s,null),Te(e,t,"method",s.method,s,null),Te(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=vc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Oi);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=vc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ie("beforetoggle",e),ie("toggle",e),yc(e,"popover",i);break;case"xlinkActuate":yi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":yc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Q2.get(n)||n,yc(e,n,i))}}function Pm(e,t,n,i,s,r){switch(n){case"style":Jb(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ja(e,i):(typeof i=="number"||typeof i=="bigint")&&ja(e,""+i);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Ht]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):yc(e,n,i)}}}function Et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Te(e,t,r,a,n,null)}}s&&Te(e,t,"srcSet",n.srcSet,n,null),i&&Te(e,t,"src",n.src,n,null);return;case"input":ie("invalid",e);var o=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,t));break;default:Te(e,t,i,f,n,null)}}Xb(e,r,o,u,c,a,s,!1);return;case"select":ie("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Te(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?wa(e,!!i,t,!1):n!=null&&wa(e,!!i,n,!0);return;case"textarea":ie("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:Te(e,t,a,o,n,null)}Kb(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Te(e,t,u,i,n,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(i=0;i<Ul.length;i++)ie(Ul[i],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:Te(e,t,c,i,n,null)}return;default:if(Fp(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Pm(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Te(e,t,o,i,n,null))}function wO(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,c=null,f=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(g)||Te(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":f=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(j(137,t));break;default:g!==d&&Te(e,t,m,g,i,d)}}lm(e,a,o,u,c,f,r,s);return;case"select":g=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(r)||Te(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&Te(e,t,s,r,i,u)}t=o,n=a,i=g,m!=null?wa(e,!!n,m,!1):!!i!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Te(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(j(91));break;default:s!==r&&Te(e,t,a,s,i,r)}Yb(e,m,g);return;case"option":for(var O in n)if(m=n[O],n.hasOwnProperty(O)&&m!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:Te(e,t,O,null,i,m)}for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Te(e,t,u,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D)&&Te(e,t,D,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(j(137,t));break;default:Te(e,t,c,m,i,g)}return;default:if(Fp(t)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&Pm(e,t,k,void 0,i,m);for(f in i)m=i[f],g=n[f],!i.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||Pm(e,t,f,m,i,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&Te(e,t,b,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||Te(e,t,d,m,i,g)}function m0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xO(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&m0(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var f=u.transferSize,d=u.initiatorType;f&&m0(d)&&(u=u.responseEnd,a+=f*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Um=null,jm=null;function df(e){return e.nodeType===9?e:e.ownerDocument}function p0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function CO(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,OO=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,DO=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(RO)}:n1;function RO(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function y0(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),qa(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")vl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,vl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[su]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&vl(e.ownerDocument.body);n=s}while(n);qa(t)}function v0(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Bm(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bm(n),Hp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function NO(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[su])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function MO(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function i1(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function Hm(e){return e.data==="$?"||e.data==="$~"}function Fm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kO(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gm=null;function _0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function S0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function s1(e,t,n){switch(t=df(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Hp(e)}var An=new Map,b0=new Set;function mf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=pe.d;pe.d={f:IO,r:zO,D:LO,C:PO,L:UO,m:jO,X:BO,S:VO,M:HO};function IO(){var e=Zi.f(),t=nh();return e||t}function zO(e){var t=no(e);t!==null&&t.tag===5&&t.type==="form"?JT(t):Zi.r(e)}var ao=typeof document>"u"?null:document;function r1(e,t,n){var i=ao;if(i&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),b0.has(s)||(b0.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function LO(e){Zi.D(e),r1("dns-prefetch",e,null)}function PO(e,t){Zi.C(e,t),r1("preconnect",e,t)}function UO(e,t,n){Zi.L(e,t,n);var i=ao;if(i&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var r=s;switch(t){case"style":r=$a(e);break;case"script":r=oo(e)}An.has(r)||(e=Ne({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(cu(r))||t==="script"&&i.querySelector(fu(r))||(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function jO(e,t){Zi.m(e,t);var n=ao;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(i)+'"][href="'+pn(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=oo(e)}if(!An.has(r)&&(e=Ne({rel:"modulepreload",href:e},t),An.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fu(r)))return}i=n.createElement("link"),Et(i,"link",e),ht(i),n.head.appendChild(i)}}}function VO(e,t,n){Zi.S(e,t,n);var i=ao;if(i&&e){var s=Aa(i).hoistableStyles,r=$a(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(cu(r)))o.loading=5;else{e=Ne({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(r))&&Cg(e,n);var u=a=i.createElement("link");ht(u),Et(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Oc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function BO(e,t){Zi.X(e,t);var n=ao;if(n&&e){var i=Aa(n).hoistableScripts,s=oo(e),r=i.get(s);r||(r=n.querySelector(fu(s)),r||(e=Ne({src:e,async:!0},t),(t=An.get(s))&&Og(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function HO(e,t){Zi.M(e,t);var n=ao;if(n&&e){var i=Aa(n).hoistableScripts,s=oo(e),r=i.get(s);r||(r=n.querySelector(fu(s)),r||(e=Ne({src:e,async:!0,type:"module"},t),(t=An.get(s))&&Og(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function T0(e,t,n,i){var s=(s=bs.current)?mf(s):null;if(!s)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$a(n.href),n=Aa(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$a(n.href);var r=Aa(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(cu(e)))&&!r._p&&(a.instance=r,a.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),r||FO(s,e,n,a.state))),t&&i===null)throw Error(j(528,""));return a}if(t&&i!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oo(n),n=Aa(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function $a(e){return'href="'+pn(e)+'"'}function cu(e){return'link[rel="stylesheet"]['+e+"]"}function a1(e){return Ne({},e,{"data-precedence":e.precedence,precedence:null})}function FO(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Et(t,"link",n),ht(t),e.head.appendChild(t))}function oo(e){return'[src="'+pn(e)+'"]'}function fu(e){return"script[async]"+e}function E0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(i)return t.instance=i,ht(i),i;var s=Ne({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ht(i),Et(i,"style",s),Oc(i,n.precedence,e),t.instance=i;case"stylesheet":s=$a(n.href);var r=e.querySelector(cu(s));if(r)return t.state.loading|=4,t.instance=r,ht(r),r;i=a1(n),(s=An.get(s))&&Cg(i,s),r=(e.ownerDocument||e).createElement("link"),ht(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Et(r,"link",i),t.state.loading|=4,Oc(r,n.precedence,e),t.instance=r;case"script":return r=oo(n.src),(s=e.querySelector(fu(r)))?(t.instance=s,ht(s),s):(i=n,(s=An.get(r))&&(i=Ne({},n),Og(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),ht(s),Et(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Oc(i,n.precedence,e));return t.instance}function Oc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Cg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Og(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Dc=null;function A0(e,t,n){if(Dc===null){var i=new Map,s=Dc=new Map;s.set(n,i)}else s=Dc,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[su]||r[St]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function w0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function GO(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function o1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ZO(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=$a(i.href),r=t.querySelector(cu(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=pf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,ht(r);return}r=t.ownerDocument||t,i=a1(i),(s=An.get(s))&&Cg(i,s),r=r.createElement("link"),ht(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Et(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=pf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var hd=0;function $O(e,t){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&hd===0&&(hd=62500*xO());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>hd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gf=null;function Rc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gf=new Map,t.forEach(qO,e),gf=null,pf.call(e))}function qO(e,t){if(!(t.state.loading&4)){var n=gf.get(e);if(n)var i=n.get(null);else{n=new Map,gf.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=pf.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Vl={$$typeof:Ci,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function XO(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.hiddenUpdates=zh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function l1(e,t,n,i,s,r,a,o,u,c,f,d){return e=new XO(e,t,n,a,u,c,f,d,o),t=1,r===!0&&(t|=24),r=Wt(3,null,null,t),e.current=r,r.stateNode=e,t=eg(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},ig(r),e}function u1(e){return e?(e=da,e):da}function c1(e,t,n,i,s,r){s=u1(s),i.context===null?i.context=s:i.pendingContext=s,i=Es(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=As(e,i,t),n!==null&&(Bt(n,e,t),cl(n,e,t))}function x0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dg(e,t){x0(e,t),(e=e.alternate)&&x0(e,t)}function f1(e){if(e.tag===13||e.tag===31){var t=Hr(e,67108864);t!==null&&Bt(t,e,67108864),Dg(e,67108864)}}function C0(e){if(e.tag===13||e.tag===31){var t=rn();t=Vp(t);var n=Hr(e,t);n!==null&&Bt(n,e,t),Dg(e,t)}}var yf=!0;function YO(e,t,n,i){var s=J.T;J.T=null;var r=pe.p;try{pe.p=2,Rg(e,t,n,i)}finally{pe.p=r,J.T=s}}function KO(e,t,n,i){var s=J.T;J.T=null;var r=pe.p;try{pe.p=8,Rg(e,t,n,i)}finally{pe.p=r,J.T=s}}function Rg(e,t,n,i){if(yf){var s=Zm(i);if(s===null)cd(e,t,i,vf,n),O0(e,i);else if(QO(s,e,t,n,i))i.stopPropagation();else if(O0(e,i),t&4&&-1<JO.indexOf(e)){for(;s!==null;){var r=no(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=fr(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-sn(a);o.entanglements[1]|=u,a&=~u}li(r),!(me&6)&&(of=tn()+500,uu(0))}}break;case 31:case 13:o=Hr(r,2),o!==null&&Bt(o,r,2),nh(),Dg(r,2)}if(r=Zm(i),r===null&&cd(e,t,i,vf,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else cd(e,t,i,null,n)}}function Zm(e){return e=Gp(e),Ng(e)}var vf=null;function Ng(e){if(vf=null,e=oa(e),e!==null){var t=eu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Nb(t),e!==null)return e;e=null}else if(n===31){if(e=Mb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vf=e,null}function h1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L2()){case Lb:return 2;case Pb:return 8;case $c:case P2:return 32;case Ub:return 268435456;default:return 32}default:return 32}}var $m=!1,Cs=null,Os=null,Ds=null,Bl=new Map,Hl=new Map,us=[],JO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O0(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function Fo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=no(t),t!==null&&f1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function QO(e,t,n,i,s){switch(t){case"focusin":return Cs=Fo(Cs,e,t,n,i,s),!0;case"dragenter":return Os=Fo(Os,e,t,n,i,s),!0;case"mouseover":return Ds=Fo(Ds,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Bl.set(r,Fo(Bl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Hl.set(r,Fo(Hl.get(r)||null,e,t,n,i,s)),!0}return!1}function d1(e){var t=oa(e.target);if(t!==null){var n=eu(t);if(n!==null){if(t=n.tag,t===13){if(t=Nb(n),t!==null){e.blockedOn=t,hv(e.priority,function(){C0(n)});return}}else if(t===31){if(t=Mb(n),t!==null){e.blockedOn=t,hv(e.priority,function(){C0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zm(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);cm=i,n.target.dispatchEvent(i),cm=null}else return t=no(n),t!==null&&f1(t),e.blockedOn=n,!1;t.shift()}return!0}function D0(e,t,n){Nc(e)&&n.delete(t)}function WO(){$m=!1,Cs!==null&&Nc(Cs)&&(Cs=null),Os!==null&&Nc(Os)&&(Os=null),Ds!==null&&Nc(Ds)&&(Ds=null),Bl.forEach(D0),Hl.forEach(D0)}function Wu(e,t){e.blockedOn===t&&(e.blockedOn=null,$m||($m=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,WO)))}var ec=null;function R0(e){ec!==e&&(ec=e,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(Ng(i||n)===null)continue;break}var r=no(n);r!==null&&(e.splice(t,3),t-=3,xm(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function qa(e){function t(u){return Wu(u,e)}Cs!==null&&Wu(Cs,e),Os!==null&&Wu(Os,e),Ds!==null&&Wu(Ds,e),Bl.forEach(t),Hl.forEach(t);for(var n=0;n<us.length;n++){var i=us[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<us.length&&(n=us[0],n.blockedOn===null);)d1(n),n.blockedOn===null&&us.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ht]||null;if(typeof r=="function")a||R0(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ht]||null)o=a.formAction;else if(Ng(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),R0(n)}}}function m1(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Mg(e){this._internalRoot=e}rh.prototype.render=Mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,i=rn();c1(n,i,e,t,null,null)};rh.prototype.unmount=Mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;c1(e.current,2,null,e,null,null),nh(),t[to]=null}};function rh(e){this._internalRoot=e}rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<us.length&&t!==0&&t<us[n].priority;n++);us.splice(n,0,e),n===0&&d1(e)}};var N0=Db.version;if(N0!=="19.2.3")throw Error(j(527,N0,"19.2.3"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=D2(t),e=e!==null?kb(e):null,e=e===null?null:e.stateNode,e};var eD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{tu=tc.inject(eD),nn=tc}catch{}}Ff.createRoot=function(e,t){if(!Rb(e))throw Error(j(299));var n=!1,i="",s=rE,r=aE,a=oE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=l1(e,1,!1,null,null,n,i,null,s,r,a,m1),e[to]=t.current,xg(e),new Mg(t)};Ff.hydrateRoot=function(e,t,n){if(!Rb(e))throw Error(j(299));var i=!1,s="",r=rE,a=aE,o=oE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=l1(e,1,!0,t,n??null,i,s,u,r,a,o,m1),t.context=u1(null),n=t.current,i=rn(),i=Vp(i),s=Es(i),s.callback=null,As(n,s,i),n=i,t.current.lanes=n,iu(t,n),li(t),e[to]=t.current,xg(e),new rh(t)};Ff.version="19.2.3";function p1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p1)}catch(e){console.error(e)}}p1(),xb.exports=Ff;var tD=xb.exports;const nD="modulepreload",iD=function(e,t){return new URL(e,t).href},M0={},Y=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=iD(c,i),c in M0)return;M0[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!i)for(let O=a.length-1;O>=0;O--){const D=a[O];if(D.href===c&&(!f||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":nD,f||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((O,D)=>{g.addEventListener("load",O),g.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})},Fl="tontines",g1="Tontines: The Mathematics of Lifetime Income",sD="From 17th century finance to modern retirement security - understanding the mathematics of longevity risk pooling",y1="",rD="https://mathacademy-cyan.vercel.app",Ln={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0,transcripts:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:v1,setPrototypeOf:k0,isFrozen:aD,getPrototypeOf:oD,getOwnPropertyDescriptor:lD}=Object;let{freeze:Mt,seal:wn,create:qm}=Object,{apply:Xm,construct:Ym}=typeof Reflect<"u"&&Reflect;Mt||(Mt=function(t){return t});wn||(wn=function(t){return t});Xm||(Xm=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return t.apply(n,s)});Ym||(Ym=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const nc=kt(Array.prototype.forEach),uD=kt(Array.prototype.lastIndexOf),I0=kt(Array.prototype.pop),Go=kt(Array.prototype.push),cD=kt(Array.prototype.splice),Mc=kt(String.prototype.toLowerCase),dd=kt(String.prototype.toString),md=kt(String.prototype.match),Zo=kt(String.prototype.replace),fD=kt(String.prototype.indexOf),hD=kt(String.prototype.trim),Mn=kt(Object.prototype.hasOwnProperty),Ct=kt(RegExp.prototype.test),$o=dD(TypeError);function kt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Xm(e,t,i)}}function dD(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ym(e,n)}}function ne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mc;k0&&k0(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const r=n(s);r!==s&&(aD(t)||(t[i]=r),s=r)}e[s]=!0}return e}function mD(e){for(let t=0;t<e.length;t++)Mn(e,t)||(e[t]=null);return e}function qn(e){const t=qm(null);for(const[n,i]of v1(e))Mn(e,n)&&(Array.isArray(i)?t[n]=mD(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=qn(i):t[n]=i);return t}function qo(e,t){for(;e!==null;){const i=lD(e,t);if(i){if(i.get)return kt(i.get);if(typeof i.value=="function")return kt(i.value)}e=oD(e)}function n(){return null}return n}const z0=Mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),pd=Mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),gd=Mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pD=Mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yd=Mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),gD=Mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L0=Mt(["#text"]),P0=Mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vd=Mt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U0=Mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ic=Mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yD=wn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vD=wn(/<%[\w\W]*|[\w\W]*%>/gm),_D=wn(/\$\{[\w\W]*/gm),SD=wn(/^data-[\-\w.\u00B7-\uFFFF]+$/),bD=wn(/^aria-[\-\w]+$/),_1=wn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TD=wn(/^(?:\w+script|data):/i),ED=wn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),S1=wn(/^html$/i),AD=wn(/^[a-z][.\w]*(-[.\w]+)+$/i);var j0=Object.freeze({__proto__:null,ARIA_ATTR:bD,ATTR_WHITESPACE:ED,CUSTOM_ELEMENT:AD,DATA_ATTR:SD,DOCTYPE_NAME:S1,ERB_EXPR:vD,IS_ALLOWED_URI:_1,IS_SCRIPT_OR_DATA:TD,MUSTACHE_EXPR:yD,TMPLIT_EXPR:_D});const Xo={element:1,text:3,progressingInstruction:7,comment:8,document:9},wD=function(){return typeof window>"u"?null:window},xD=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},V0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function b1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wD();const t=X=>b1(X);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Xo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:g}=e,O=u.prototype,D=qo(O,"cloneNode"),k=qo(O,"remove"),b=qo(O,"nextSibling"),v=qo(O,"childNodes"),w=qo(O,"parentNode");if(typeof a=="function"){const X=n.createElement("template");X.content&&X.content.ownerDocument&&(n=X.content.ownerDocument)}let N,z="";const{implementation:V,createNodeIterator:E,createDocumentFragment:y,getElementsByTagName:S}=n,{importNode:A}=i;let x=V0();t.isSupported=typeof v1=="function"&&typeof w=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:C,TMPLIT_EXPR:re,DATA_ATTR:oe,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:te}=j0;let{IS_ALLOWED_URI:ce}=j0,ye=null;const At=ne({},[...z0,...pd,...gd,...yd,...L0]);let Me=null;const xt=ne({},[...P0,...vd,...U0,...ic]);let ge=Object.seal(qm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fi=null,Xs=null;const Bn=Object.seal(qm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let yo=!0,vo=!0,Tu=!1,_o=!0,Hn=!1,Ys=!0,hi=!1,Ks=!1,Js=!1,di=!1,Fe=!1,Ye=!1,Qs=!0,Eu=!1;const Au="user-content-";let So=!0,On=!1,mi={},Zt=null;const Ws=ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let wu=null;const xu=ne({},["audio","video","img","source","image","track"]);let $r=null;const Cu=ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fn="http://www.w3.org/1998/Math/MathML",$i="http://www.w3.org/2000/svg",$t="http://www.w3.org/1999/xhtml";let qt=$t,qr=!1,er=null;const Ou=ne({},[Fn,$i,$t],dd);let Gn=ne({},["mi","mo","mn","ms","mtext"]),tr=ne({},["annotation-xml"]);const pt=ne({},["title","style","font","a","script"]);let qi=null;const nr=["application/xhtml+xml","text/html"],ir="text/html";let Ge=null,Xi=null;const Yi=n.createElement("form"),Du=function(R){return R instanceof RegExp||R instanceof Function},bo=function(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xi&&Xi===R)){if((!R||typeof R!="object")&&(R={}),R=qn(R),qi=nr.indexOf(R.PARSER_MEDIA_TYPE)===-1?ir:R.PARSER_MEDIA_TYPE,Ge=qi==="application/xhtml+xml"?dd:Mc,ye=Mn(R,"ALLOWED_TAGS")?ne({},R.ALLOWED_TAGS,Ge):At,Me=Mn(R,"ALLOWED_ATTR")?ne({},R.ALLOWED_ATTR,Ge):xt,er=Mn(R,"ALLOWED_NAMESPACES")?ne({},R.ALLOWED_NAMESPACES,dd):Ou,$r=Mn(R,"ADD_URI_SAFE_ATTR")?ne(qn(Cu),R.ADD_URI_SAFE_ATTR,Ge):Cu,wu=Mn(R,"ADD_DATA_URI_TAGS")?ne(qn(xu),R.ADD_DATA_URI_TAGS,Ge):xu,Zt=Mn(R,"FORBID_CONTENTS")?ne({},R.FORBID_CONTENTS,Ge):Ws,fi=Mn(R,"FORBID_TAGS")?ne({},R.FORBID_TAGS,Ge):qn({}),Xs=Mn(R,"FORBID_ATTR")?ne({},R.FORBID_ATTR,Ge):qn({}),mi=Mn(R,"USE_PROFILES")?R.USE_PROFILES:!1,yo=R.ALLOW_ARIA_ATTR!==!1,vo=R.ALLOW_DATA_ATTR!==!1,Tu=R.ALLOW_UNKNOWN_PROTOCOLS||!1,_o=R.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hn=R.SAFE_FOR_TEMPLATES||!1,Ys=R.SAFE_FOR_XML!==!1,hi=R.WHOLE_DOCUMENT||!1,di=R.RETURN_DOM||!1,Fe=R.RETURN_DOM_FRAGMENT||!1,Ye=R.RETURN_TRUSTED_TYPE||!1,Js=R.FORCE_BODY||!1,Qs=R.SANITIZE_DOM!==!1,Eu=R.SANITIZE_NAMED_PROPS||!1,So=R.KEEP_CONTENT!==!1,On=R.IN_PLACE||!1,ce=R.ALLOWED_URI_REGEXP||_1,qt=R.NAMESPACE||$t,Gn=R.MATHML_TEXT_INTEGRATION_POINTS||Gn,tr=R.HTML_INTEGRATION_POINTS||tr,ge=R.CUSTOM_ELEMENT_HANDLING||{},R.CUSTOM_ELEMENT_HANDLING&&Du(R.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ge.tagNameCheck=R.CUSTOM_ELEMENT_HANDLING.tagNameCheck),R.CUSTOM_ELEMENT_HANDLING&&Du(R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ge.attributeNameCheck=R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),R.CUSTOM_ELEMENT_HANDLING&&typeof R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ge.allowCustomizedBuiltInElements=R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hn&&(vo=!1),Fe&&(di=!0),mi&&(ye=ne({},L0),Me=[],mi.html===!0&&(ne(ye,z0),ne(Me,P0)),mi.svg===!0&&(ne(ye,pd),ne(Me,vd),ne(Me,ic)),mi.svgFilters===!0&&(ne(ye,gd),ne(Me,vd),ne(Me,ic)),mi.mathMl===!0&&(ne(ye,yd),ne(Me,U0),ne(Me,ic))),R.ADD_TAGS&&(typeof R.ADD_TAGS=="function"?Bn.tagCheck=R.ADD_TAGS:(ye===At&&(ye=qn(ye)),ne(ye,R.ADD_TAGS,Ge))),R.ADD_ATTR&&(typeof R.ADD_ATTR=="function"?Bn.attributeCheck=R.ADD_ATTR:(Me===xt&&(Me=qn(Me)),ne(Me,R.ADD_ATTR,Ge))),R.ADD_URI_SAFE_ATTR&&ne($r,R.ADD_URI_SAFE_ATTR,Ge),R.FORBID_CONTENTS&&(Zt===Ws&&(Zt=qn(Zt)),ne(Zt,R.FORBID_CONTENTS,Ge)),R.ADD_FORBID_CONTENTS&&(Zt===Ws&&(Zt=qn(Zt)),ne(Zt,R.ADD_FORBID_CONTENTS,Ge)),So&&(ye["#text"]=!0),hi&&ne(ye,["html","head","body"]),ye.table&&(ne(ye,["tbody"]),delete fi.tbody),R.TRUSTED_TYPES_POLICY){if(typeof R.TRUSTED_TYPES_POLICY.createHTML!="function")throw $o('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof R.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $o('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=R.TRUSTED_TYPES_POLICY,z=N.createHTML("")}else N===void 0&&(N=xD(g,s)),N!==null&&typeof z=="string"&&(z=N.createHTML(""));Mt&&Mt(R),Xi=R}},Xr=ne({},[...pd,...gd,...pD]),Ru=ne({},[...yd,...gD]),Nu=function(R){let B=w(R);(!B||!B.tagName)&&(B={namespaceURI:qt,tagName:"template"});const Z=Mc(R.tagName),fe=Mc(B.tagName);return er[R.namespaceURI]?R.namespaceURI===$i?B.namespaceURI===$t?Z==="svg":B.namespaceURI===Fn?Z==="svg"&&(fe==="annotation-xml"||Gn[fe]):!!Xr[Z]:R.namespaceURI===Fn?B.namespaceURI===$t?Z==="math":B.namespaceURI===$i?Z==="math"&&tr[fe]:!!Ru[Z]:R.namespaceURI===$t?B.namespaceURI===$i&&!tr[fe]||B.namespaceURI===Fn&&!Gn[fe]?!1:!Ru[Z]&&(pt[Z]||!Xr[Z]):!!(qi==="application/xhtml+xml"&&er[R.namespaceURI]):!1},zt=function(R){Go(t.removed,{element:R});try{w(R).removeChild(R)}catch{k(R)}},Xt=function(R,B){try{Go(t.removed,{attribute:B.getAttributeNode(R),from:B})}catch{Go(t.removed,{attribute:null,from:B})}if(B.removeAttribute(R),R==="is")if(di||Fe)try{zt(B)}catch{}else try{B.setAttribute(R,"")}catch{}},Mu=function(R){let B=null,Z=null;if(Js)R="<remove></remove>"+R;else{const Pe=md(R,/^[\r\n\t ]+/);Z=Pe&&Pe[0]}qi==="application/xhtml+xml"&&qt===$t&&(R='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+R+"</body></html>");const fe=N?N.createHTML(R):R;if(qt===$t)try{B=new m().parseFromString(fe,qi)}catch{}if(!B||!B.documentElement){B=V.createDocument(qt,"template",null);try{B.documentElement.innerHTML=qr?z:fe}catch{}}const Ke=B.body||B.documentElement;return R&&Z&&Ke.insertBefore(n.createTextNode(Z),Ke.childNodes[0]||null),qt===$t?S.call(B,hi?"html":"body")[0]:hi?B.documentElement:Ke},Dn=function(R){return E.call(R.ownerDocument||R,R,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Yr=function(R){return R instanceof d&&(typeof R.nodeName!="string"||typeof R.textContent!="string"||typeof R.removeChild!="function"||!(R.attributes instanceof f)||typeof R.removeAttribute!="function"||typeof R.setAttribute!="function"||typeof R.namespaceURI!="string"||typeof R.insertBefore!="function"||typeof R.hasChildNodes!="function")},To=function(R){return typeof o=="function"&&R instanceof o};function Yt(X,R,B){nc(X,Z=>{Z.call(t,R,B,Xi)})}const Kr=function(R){let B=null;if(Yt(x.beforeSanitizeElements,R,null),Yr(R))return zt(R),!0;const Z=Ge(R.nodeName);if(Yt(x.uponSanitizeElement,R,{tagName:Z,allowedTags:ye}),Ys&&R.hasChildNodes()&&!To(R.firstElementChild)&&Ct(/<[/\w!]/g,R.innerHTML)&&Ct(/<[/\w!]/g,R.textContent)||R.nodeType===Xo.progressingInstruction||Ys&&R.nodeType===Xo.comment&&Ct(/<[/\w]/g,R.data))return zt(R),!0;if(!(Bn.tagCheck instanceof Function&&Bn.tagCheck(Z))&&(!ye[Z]||fi[Z])){if(!fi[Z]&&ku(Z)&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,Z)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(Z)))return!1;if(So&&!Zt[Z]){const fe=w(R)||R.parentNode,Ke=v(R)||R.childNodes;if(Ke&&fe){const Pe=Ke.length;for(let gt=Pe-1;gt>=0;--gt){const ln=D(Ke[gt],!0);ln.__removalCount=(R.__removalCount||0)+1,fe.insertBefore(ln,b(R))}}}return zt(R),!0}return R instanceof u&&!Nu(R)||(Z==="noscript"||Z==="noembed"||Z==="noframes")&&Ct(/<\/no(script|embed|frames)/i,R.innerHTML)?(zt(R),!0):(Hn&&R.nodeType===Xo.text&&(B=R.textContent,nc([M,C,re],fe=>{B=Zo(B,fe," ")}),R.textContent!==B&&(Go(t.removed,{element:R.cloneNode()}),R.textContent=B)),Yt(x.afterSanitizeElements,R,null),!1)},Eo=function(R,B,Z){if(Qs&&(B==="id"||B==="name")&&(Z in n||Z in Yi))return!1;if(!(vo&&!Xs[B]&&Ct(oe,B))){if(!(yo&&Ct(H,B))){if(!(Bn.attributeCheck instanceof Function&&Bn.attributeCheck(B,R))){if(!Me[B]||Xs[B]){if(!(ku(R)&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,R)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(R))&&(ge.attributeNameCheck instanceof RegExp&&Ct(ge.attributeNameCheck,B)||ge.attributeNameCheck instanceof Function&&ge.attributeNameCheck(B,R))||B==="is"&&ge.allowCustomizedBuiltInElements&&(ge.tagNameCheck instanceof RegExp&&Ct(ge.tagNameCheck,Z)||ge.tagNameCheck instanceof Function&&ge.tagNameCheck(Z))))return!1}else if(!$r[B]){if(!Ct(ce,Zo(Z,q,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&R!=="script"&&fD(Z,"data:")===0&&wu[R])){if(!(Tu&&!Ct(G,Zo(Z,q,"")))){if(Z)return!1}}}}}}}return!0},ku=function(R){return R!=="annotation-xml"&&md(R,te)},Ao=function(R){Yt(x.beforeSanitizeAttributes,R,null);const{attributes:B}=R;if(!B||Yr(R))return;const Z={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Me,forceKeepAttr:void 0};let fe=B.length;for(;fe--;){const Ke=B[fe],{name:Pe,namespaceURI:gt,value:ln}=Ke,pi=Ge(Pe),sr=ln;let Ze=Pe==="value"?sr:hD(sr);if(Z.attrName=pi,Z.attrValue=Ze,Z.keepAttr=!0,Z.forceKeepAttr=void 0,Yt(x.uponSanitizeAttribute,R,Z),Ze=Z.attrValue,Eu&&(pi==="id"||pi==="name")&&(Xt(Pe,R),Ze=Au+Ze),Ys&&Ct(/((--!?|])>)|<\/(style|title|textarea)/i,Ze)){Xt(Pe,R);continue}if(pi==="attributename"&&md(Ze,"href")){Xt(Pe,R);continue}if(Z.forceKeepAttr)continue;if(!Z.keepAttr){Xt(Pe,R);continue}if(!_o&&Ct(/\/>/i,Ze)){Xt(Pe,R);continue}Hn&&nc([M,C,re],xo=>{Ze=Zo(Ze,xo," ")});const wo=Ge(R.nodeName);if(!Eo(wo,pi,Ze)){Xt(Pe,R);continue}if(N&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!gt)switch(g.getAttributeType(wo,pi)){case"TrustedHTML":{Ze=N.createHTML(Ze);break}case"TrustedScriptURL":{Ze=N.createScriptURL(Ze);break}}if(Ze!==sr)try{gt?R.setAttributeNS(gt,Pe,Ze):R.setAttribute(Pe,Ze),Yr(R)?zt(R):I0(t.removed)}catch{Xt(Pe,R)}}Yt(x.afterSanitizeAttributes,R,null)},Eh=function X(R){let B=null;const Z=Dn(R);for(Yt(x.beforeSanitizeShadowDOM,R,null);B=Z.nextNode();)Yt(x.uponSanitizeShadowNode,B,null),Kr(B),Ao(B),B.content instanceof r&&X(B.content);Yt(x.afterSanitizeShadowDOM,R,null)};return t.sanitize=function(X){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=null,Z=null,fe=null,Ke=null;if(qr=!X,qr&&(X="<!-->"),typeof X!="string"&&!To(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw $o("dirty is not a string, aborting")}else throw $o("toString is not a function");if(!t.isSupported)return X;if(Ks||bo(R),t.removed=[],typeof X=="string"&&(On=!1),On){if(X.nodeName){const ln=Ge(X.nodeName);if(!ye[ln]||fi[ln])throw $o("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof o)B=Mu("<!---->"),Z=B.ownerDocument.importNode(X,!0),Z.nodeType===Xo.element&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?B=Z:B.appendChild(Z);else{if(!di&&!Hn&&!hi&&X.indexOf("<")===-1)return N&&Ye?N.createHTML(X):X;if(B=Mu(X),!B)return di?null:Ye?z:""}B&&Js&&zt(B.firstChild);const Pe=Dn(On?X:B);for(;fe=Pe.nextNode();)Kr(fe),Ao(fe),fe.content instanceof r&&Eh(fe.content);if(On)return X;if(di){if(Fe)for(Ke=y.call(B.ownerDocument);B.firstChild;)Ke.appendChild(B.firstChild);else Ke=B;return(Me.shadowroot||Me.shadowrootmode)&&(Ke=A.call(i,Ke,!0)),Ke}let gt=hi?B.outerHTML:B.innerHTML;return hi&&ye["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&Ct(S1,B.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+gt),Hn&&nc([M,C,re],ln=>{gt=Zo(gt,ln," ")}),N&&Ye?N.createHTML(gt):gt},t.setConfig=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bo(X),Ks=!0},t.clearConfig=function(){Xi=null,Ks=!1},t.isValidAttribute=function(X,R,B){Xi||bo({});const Z=Ge(X),fe=Ge(R);return Eo(Z,fe,B)},t.addHook=function(X,R){typeof R=="function"&&Go(x[X],R)},t.removeHook=function(X,R){if(R!==void 0){const B=uD(x[X],R);return B===-1?void 0:cD(x[X],B,1)[0]}return I0(x[X])},t.removeHooks=function(X){x[X]=[]},t.removeAllHooks=function(){x=V0()},t}var pV=b1();const CD=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function OD(e){return CD.includes(e)}const mt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},bi={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},_l=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],T1=50;class DD{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const r=console[t]||console.log;i!==void 0?r(s,i):r(s)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const _d={};function ui(e){const t=e||"__default__";return _d[t]||(_d[t]=new DD(e)),_d[t]}const vn=ui("Storage"),Km="magic-internet-math-progress",Sd=2;function E1(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function A1(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function Ir(){if(!E1())return vn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(Km);if(!e)return null;const t=JSON.parse(e);return A1(t)?(t.version!==Sd&&(vn.info(`Migrating state from v${t.version} to v${Sd}`),t.version=Sd),t):(vn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){vn.error("Failed to load gamification state:",e);try{localStorage.removeItem(Km),vn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function ah(e){if(!E1()){vn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Km,JSON.stringify(e))}catch(t){vn.error("Failed to save gamification state:",t)}}const RD=1;function ND(){const e=Ir();if(!e){vn.warn("No progress data to export");return}const t={version:RD,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),vn.info("Progress exported successfully")}function MD(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!A1(t.state))}async function kD(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var s;try{const r=(s=i.target)==null?void 0:s.result;if(typeof r!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(r);if(!MD(a)){t({success:!1,message:"Invalid backup file format"});return}const o=Ir(),u=(o==null?void 0:o.user.totalXP)??0,c=a.state.user.totalXP;if(u>c){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${c} XP). Import cancelled.`});return}ah(a.state),vn.info(`Progress imported: ${c} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${c} XP!`,xpImported:c})}catch(r){vn.error("Failed to parse backup file:",r),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function ID(){const e=Ir();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function zD(){const e=Ir();e&&(e.migratedToServer=!0,ah(e),vn.info("Marked progress as migrated to server"))}function LD(){const e=Ir();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function w1(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:PD(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:T1,completed:!1},lastUpdated:e}}function PD(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const UD=50;function B0(e){return Math.round(e/UD*100)}const jD=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>B0(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>B0(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function VD(e){const t=[];for(const n of jD){const i=e.achievements.find(r=>r.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function lo(e){for(let t=_l.length-1;t>=0;t--)if(e>=_l[t])return t+1;return 1}function x1(e,t){if(t>=_l.length)return 100;const n=_l[t-1],i=_l[t],s=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function BD(e,t){const n={easy:mt.QUIZ_EASY,medium:mt.QUIZ_MEDIUM,hard:mt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const HD=1e3*60*60*24;function FD(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:T1,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),r=Math.floor((t.getTime()-s.getTime())/HD);if(r===0)return e;if(r===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return r===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function C1(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,r)=>s+r.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function GD(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const oh=ui("GamificationReducer");function ZD(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const s=e.user.totalXP+mt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:s,level:lo(s)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_VISIT},lastUpdated:n}}function $D(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return oh.warn(`Attempted to complete unvisited section: ${t}`),e;const s=e.user.totalXP+mt.SECTION_COMPLETE,r=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:s,level:lo(s),sectionsCompleted:r},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:C1(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_COMPLETE},lastUpdated:n}}function qD(e,t,n){const{sectionId:i,difficulty:s,score:r,correctAnswers:a,totalQuestions:o}=t,u=e.sections[i];if(!u)return oh.warn(`Section ${i} was not visited before quiz`),e;const c=BD(s,r),f=a===o,d=f?Math.round(c*(1+mt.QUIZ_PERFECT_BONUS)):c,m=e.user.totalXP+d,g={timestamp:n,difficulty:s,score:r,correctAnswers:a,totalQuestions:o,xpEarned:d},O=[...u.quizAttempts,g],D={...u,quizAttempts:O},k=C1(D),b=r>=80&&!u.completedAt,v=b&&!e.user.sectionsCompleted.includes(i),w=v?mt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:m+w,level:lo(m+w),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:f?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:v?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...D,masteryLevel:k,completedAt:b?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+d+w},lastUpdated:n}}function XD(e,t,n,i){const s=e.sections[t];if(s!=null&&s.visualizationsInteracted.includes(n))return e;if(!s)return oh.warn(`Section ${t} was not visited before visualization`),e;const r=e.user.totalXP+mt.VISUALIZATION_USE,a=[...s.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:r,level:lo(r),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...s,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.VISUALIZATION_USE},lastUpdated:i}}function YD(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+mt.PART_COMPLETE_BONUS;return oh.info(`Part ${t} completed, awarding ${mt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:lo(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.PART_COMPLETE_BONUS},lastUpdated:n}}function KD(e,t,n){let i=bi.GAME_PARTICIPATION;const s=bi.TIER_MULTIPLIER[t.tier],r=Math.floor(Math.max(0,t.score)/bi.POINTS_PER_XP_UNIT*mt.QUIZ_MEDIUM*s);if(i+=r,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=bi.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=bi.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=bi.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=bi.FIRST_PLACE_BONUS;break;case 2:i+=bi.SECOND_PLACE_BONUS;break;case 3:i+=bi.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,o=e.racingStats,u=t.score>((o==null?void 0:o.highScore)??0),c=t.isMultiplayer&&t.placement===1,f={gamesPlayed:((o==null?void 0:o.gamesPlayed)??0)+1,multiplayerGamesPlayed:((o==null?void 0:o.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((o==null?void 0:o.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(o==null?void 0:o.highScore)??0,highestTierUnlocked:Math.max((o==null?void 0:o.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((o==null?void 0:o.longestStreak)??0,t.maxStreak),fastAnswers:((o==null?void 0:o.fastAnswers)??0)+t.fastAnswers,totalCorrect:((o==null?void 0:o.totalCorrect)??0)+t.correctAnswers,totalAttempted:((o==null?void 0:o.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((o==null?void 0:o.multiplayerWins)??0)+(c?1:0),lastPlayedAt:n},d=e.achievements.map(m=>{if(m.unlockedAt)return m;switch(m.id){case"racing-rookie":if(f.gamesPlayed>=1)return{...m,progress:1,unlockedAt:n};break;case"speed-demon":return f.fastAnswers>=50?{...m,progress:50,unlockedAt:n}:{...m,progress:Math.min(f.fastAnswers,50)};case"streak-legend":return f.longestStreak>=20?{...m,progress:20,unlockedAt:n}:{...m,progress:Math.min(f.longestStreak,20)};case"tier-climber":return f.highestTierUnlocked>=6?{...m,progress:6,unlockedAt:n}:{...m,progress:f.highestTierUnlocked};case"modular-master":return f.totalPoints>=1e4?{...m,progress:1e4,unlockedAt:n}:{...m,progress:Math.min(f.totalPoints,1e4)};case"multiplayer-champion":return f.multiplayerWins>=5?{...m,progress:5,unlockedAt:n}:{...m,progress:Math.min(f.multiplayerWins,5)}}return m});return{...e,user:{...e.user,totalXP:a,level:lo(a)},racingStats:f,achievements:d,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function JD(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return ZD(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return $D(e,t.payload.sectionId,n);case"COMPLETE_PART":return YD(e,t.payload.partId,n);case"RECORD_QUIZ":return qD(e,t.payload,n);case"USE_VISUALIZATION":return XD(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return FD(e);case"RESET_PROGRESS":return w1();case"RECORD_RACE_GAME":return KD(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=()=>{};var H0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},WD=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},D1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,f=r>>2,d=(r&3)<<4|o>>4;let m=(o&15)<<2|c>>6,g=c&63;u||(g=64,a||(m=64)),i.push(n[f],n[d],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||d==null)throw new eR;const m=r<<2|o>>4;if(i.push(m),c!==64){const g=o<<4&240|c>>2;if(i.push(g),d!==64){const O=c<<6&192|d;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(e){const t=O1(e);return D1.encodeByteArray(t,!0)},R1=function(e){return tR(e).replace(/\./g,"")},N1=function(e){try{return D1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof H0>"u")return;const e=H0.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&N1(e[1]);return t&&JSON.parse(t)},kg=()=>{try{return QD()||iR()||sR()||rR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},M1=e=>{var t,n;return(n=(t=kg())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},aR=e=>{const t=M1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},k1=()=>{var e;return(e=kg())==null?void 0:e.config},I1=e=>{var t;return(t=kg())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(e){return(await fetch(e,{credentials:"include"})).ok}const Sl={};function lR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?e.emulator.push(t):e.prod.push(t);return e}function uR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let F0=!1;function L1(e,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Sl[e]===t||Sl[e]||F0)return;Sl[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=lR().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{F0=!0,a()},m}function f(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=uR(i),g=n("text"),O=document.getElementById(g)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;o(w),f(k,D);const N=c();u(v,b),w.append(v,O,k,N),document.body.appendChild(w)}r?(O.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class ci extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=yR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?vR(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ci(s,o,i)}}function vR(e,t){return e.replace(_R,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const _R=/\{\$([^}]+)}/g;function SR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(G0(r)&&G0(a)){if(!Xa(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function G0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bR(e,t){const n=new TR(e,t);return n.subscribe.bind(n)}class TR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ER(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=bd),s.error===void 0&&(s.error=bd),s.complete===void 0&&(s.complete=bd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ER(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return e&&e._delegate?e._delegate:e}class Ps{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new oR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xR(t))try{this.getOrInitializeService({instanceIdentifier:mr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=mr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=mr){return this.instances.has(t)}getOptions(t=mr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=mr){return this.component?this.component.multipleInstances?t:mr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(e){return e===mr?void 0:e}function xR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new AR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_e||(_e={}));const OR={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},DR=_e.INFO,RR={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},NR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=RR[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ig{constructor(t){this.name=t,this._logLevel=DR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const MR=(e,t)=>t.some(n=>e instanceof n);let Z0,$0;function kR(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Jm=new WeakMap,U1=new WeakMap,Td=new WeakMap,zg=new WeakMap;function zR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Rs(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&P1.set(n,e)}).catch(()=>{}),zg.set(t,e),t}function LR(e){if(Jm.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Jm.set(e,t)}let Qm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Jm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||U1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function PR(e){Qm=e(Qm)}function UR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Ed(this),t,...n);return U1.set(i,t.sort?t.sort():[t]),Rs(i)}:IR().includes(e)?function(...t){return e.apply(Ed(this),t),Rs(P1.get(this))}:function(...t){return Rs(e.apply(Ed(this),t))}}function jR(e){return typeof e=="function"?UR(e):(e instanceof IDBTransaction&&LR(e),MR(e,kR())?new Proxy(e,Qm):e)}function Rs(e){if(e instanceof IDBRequest)return zR(e);if(Td.has(e))return Td.get(e);const t=jR(e);return t!==e&&(Td.set(e,t),zg.set(t,e)),t}const Ed=e=>zg.get(e);function VR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=Rs(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Rs(a.result),u.oldVersion,u.newVersion,Rs(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const BR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],Ad=new Map;function q0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=HR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BR.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&u.done]))[0]};return Ad.set(t,r),r}PR(e=>({...e,get:(t,n,i)=>q0(t,n)||e.get(t,n,i),has:(t,n)=>!!q0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function GR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wm="@firebase/app",X0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Ig("@firebase/app"),ZR="@firebase/app-compat",$R="@firebase/analytics-compat",qR="@firebase/analytics",XR="@firebase/app-check-compat",YR="@firebase/app-check",KR="@firebase/auth",JR="@firebase/auth-compat",QR="@firebase/database",WR="@firebase/data-connect",eN="@firebase/database-compat",tN="@firebase/functions",nN="@firebase/functions-compat",iN="@firebase/installations",sN="@firebase/installations-compat",rN="@firebase/messaging",aN="@firebase/messaging-compat",oN="@firebase/performance",lN="@firebase/performance-compat",uN="@firebase/remote-config",cN="@firebase/remote-config-compat",fN="@firebase/storage",hN="@firebase/storage-compat",dN="@firebase/firestore",mN="@firebase/ai",pN="@firebase/firestore-compat",gN="firebase",yN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",vN={[Wm]:"fire-core",[ZR]:"fire-core-compat",[qR]:"fire-analytics",[$R]:"fire-analytics-compat",[YR]:"fire-app-check",[XR]:"fire-app-check-compat",[KR]:"fire-auth",[JR]:"fire-auth-compat",[QR]:"fire-rtdb",[WR]:"fire-data-connect",[eN]:"fire-rtdb-compat",[tN]:"fire-fn",[nN]:"fire-fn-compat",[iN]:"fire-iid",[sN]:"fire-iid-compat",[rN]:"fire-fcm",[aN]:"fire-fcm-compat",[oN]:"fire-perf",[lN]:"fire-perf-compat",[uN]:"fire-rc",[cN]:"fire-rc-compat",[fN]:"fire-gcs",[hN]:"fire-gcs-compat",[dN]:"fire-fst",[pN]:"fire-fst-compat",[mN]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,_N=new Map,tp=new Map;function Y0(e,t){try{e.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zr(e){const t=e.name;if(tp.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;tp.set(t,e);for(const n of Gl.values())Y0(n,e);for(const n of _N.values())Y0(n,e);return!0}function Lg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new hu("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=yN;function j1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:ep,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ns.create("bad-app-name",{appName:String(s)});if(n||(n=k1()),!n)throw Ns.create("no-options");const r=Gl.get(s);if(r){if(Xa(n,r.options)&&Xa(i,r.config))return r;throw Ns.create("duplicate-app",{appName:s})}const a=new CR(s);for(const u of tp.values())a.addComponent(u);const o=new bN(n,i,a);return Gl.set(s,o),o}function V1(e=ep){const t=Gl.get(e);if(!t&&e===ep&&k1())return j1();if(!t)throw Ns.create("no-app",{appName:e});return t}function TN(){return Array.from(Gl.values())}function ni(e,t,n){let i=vN[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}zr(new Ps(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-heartbeat-database",AN=1,Zl="firebase-heartbeat-store";let wd=null;function B1(){return wd||(wd=VR(EN,AN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ns.create("idb-open",{originalErrorMessage:e.message})})),wd}async function wN(e){try{const n=(await B1()).transaction(Zl),i=await n.objectStore(Zl).get(H1(e));return await n.done,i}catch(t){if(t instanceof ci)Bi.warn(t.message);else{const n=Ns.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}async function K0(e,t){try{const i=(await B1()).transaction(Zl,"readwrite");await i.objectStore(Zl).put(t,H1(e)),await i.done}catch(n){if(n instanceof ci)Bi.warn(n.message);else{const i=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(i.message)}}}function H1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,CN=30;class ON{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=J0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>CN){const a=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Bi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J0(),{heartbeatsToSend:i,unsentEntries:s}=DN(this._heartbeatsCache.heartbeats),r=R1(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Bi.warn(n),""}}}function J0(){return new Date().toISOString().substring(0,10)}function DN(e,t=xN){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Q0(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Q0(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class RN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Q0(e){return R1(JSON.stringify({version:2,heartbeats:e})).length}function NN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){zr(new Ps("platform-logger",t=>new FR(t),"PRIVATE")),zr(new Ps("heartbeat",t=>new ON(t),"PRIVATE")),ni(Wm,X0,e),ni(Wm,X0,"esm2020"),ni("fire-js","")}MN("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="type.googleapis.com/google.protobuf.Int64Value",IN="type.googleapis.com/google.protobuf.UInt64Value";function F1(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function _f(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>_f(t));if(typeof e=="function"||typeof e=="object")return F1(e,t=>_f(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Ya(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case kN:case IN:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Ya(t)):typeof e=="function"||typeof e=="object"?F1(e,t=>Ya(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends ci{constructor(t,n,i){super(`${Pg}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,Vt.prototype)}}function zN(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Sf(e,t){let n=zN(e),i=n,s;try{const r=t&&t.error;if(r){const a=r.status;if(typeof a=="string"){if(!W0[a])return new Vt("internal","internal");n=W0[a],i=a}const o=r.message;typeof o=="string"&&(i=o),s=r.details,s!==void 0&&(s=Ya(s))}}catch{}return n==="ok"?null:new Vt(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,n,i,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_n(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="us-central1",PN=/^data: (.*?)(?:\n|$)/;function UN(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new Vt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class jN{constructor(t,n,i,s,r=np,a=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new LN(t,n,i,s),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(r);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=np}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function VN(e,t,n){const i=uo(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(z1(e.emulatorOrigin+"/backends"),L1("Functions",!0))}function BN(e,t,n){const i=s=>FN(e,t,s,{});return i.stream=(s,r)=>ZN(e,t,s,r),i}function G1(e){return e.emulatorOrigin&&uo(e.emulatorOrigin)?"include":void 0}async function HN(e,t,n,i,s){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:G1(s)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function Z1(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function FN(e,t,n,i){const s=e._url(t);return GN(e,s,n,i)}async function GN(e,t,n,i){n=_f(n);const s={data:n},r=await Z1(e,i),a=i.timeout||7e4,o=UN(a),u=await Promise.race([HN(t,s,r,e.fetchImpl,e),o.promise,e.cancelAllRequests]);if(o.cancel(),!u)throw new Vt("cancelled","Firebase Functions instance was deleted.");const c=Sf(u.status,u.json);if(c)throw c;if(!u.json)throw new Vt("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new Vt("internal","Response is missing data field.");return{data:Ya(f)}}function ZN(e,t,n,i){const s=e._url(t);return $N(e,s,n,i||{})}async function $N(e,t,n,i){var m;n=_f(n);const s={data:n},r=await Z1(e,i);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:r,signal:i==null?void 0:i.signal,credentials:G1(e)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const D=new Vt("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const O=Sf(0,null);return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}let o,u;const c=new Promise((g,O)=>{o=g,u=O});(m=i==null?void 0:i.signal)==null||m.addEventListener("abort",()=>{const g=new Vt("cancelled","Request was cancelled.");u(g)});const f=a.body.getReader(),d=qN(f,o,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const g=d.getReader();return{async next(){const{value:O,done:D}=await g.read();return{value:O,done:D}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:c}}function qN(e,t,n,i){const s=(a,o)=>{const u=a.match(PN);if(!u)return;const c=u[1];try{const f=JSON.parse(c);if("result"in f){t(Ya(f.result));return}if("message"in f){o.enqueue(Ya(f.message));return}if("error"in f){const d=Sf(0,f);o.error(d),n(d);return}}catch(f){if(f instanceof Vt){o.error(f),n(f);return}}},r=new TextDecoder;return new ReadableStream({start(a){let o="";return u();async function u(){if(i!=null&&i.aborted){const c=new Vt("cancelled","Request was cancelled");return a.error(c),n(c),Promise.resolve()}try{const{value:c,done:f}=await e.read();if(f){o.trim()&&s(o.trim(),a),a.close();return}if(i!=null&&i.aborted){const m=new Vt("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}o+=r.decode(c,{stream:!0});const d=o.split(`
`);o=d.pop()||"";for(const m of d)m.trim()&&s(m.trim(),a);return u()}catch(c){const f=c instanceof Vt?c:Sf(0,null);a.error(f),n(f)}}},cancel(){return e.cancel()}})}const e_="@firebase/functions",t_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="auth-internal",YN="app-check-internal",KN="messaging-internal";function JN(e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),r=n.getProvider(XN),a=n.getProvider(KN),o=n.getProvider(YN);return new jN(s,r,a,o,i)};zr(new Ps(Pg,t,"PUBLIC").setMultipleInstances(!0)),ni(e_,t_,e),ni(e_,t_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(e=V1(),t=np){const i=Lg(xn(e),Pg).getImmediate({identifier:t}),s=aR("functions");return s&&$1(i,...s),i}function $1(e,t,n){VN(xn(e),t,n)}function Ka(e,t,n){return BN(xn(e),t)}JN();var WN="firebase",eM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni(WN,eM,"app");function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tM=q1,X1=new hu("auth","Firebase",q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=new Ig("@firebase/auth");function nM(e,...t){bf.logLevel<=_e.WARN&&bf.warn(`Auth (${co}): ${e}`,...t)}function kc(e,...t){bf.logLevel<=_e.ERROR&&bf.error(`Auth (${co}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e,...t){throw Ug(e,...t)}function ii(e,...t){return Ug(e,...t)}function Y1(e,t,n){const i={...tM(),[t]:n};return new hu("auth","Firebase",i).create(t,{appName:e.name})}function Ms(e){return Y1(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ug(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return X1.create(e,...t)}function Q(e,t,...n){if(!e)throw Ug(t,...n)}function Ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kc(t),new Error(t)}function Fi(e,t){e||Ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function iM(){return n_()==="http:"||n_()==="https:"}function n_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iM()||hR()||"connection"in navigator)?navigator.onLine:!0}function rM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=cR()||dR()}get(){return sM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(e,t){Fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lM=new mu(3e4,6e4);function lh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function fo(e,t,n,i,s={}){return J1(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=du({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...r};return fR()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&uo(e.emulatorConfig.host)&&(c.credentials="include"),K1.fetch()(await W1(e,e.config.apiHost,n,o),c)})}async function J1(e,t,n){e._canInitEmulator=!1;const i={...aM,...t};try{const s=new uM(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw sc(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw sc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw sc(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Y1(e,f,c);Hi(e,f)}}catch(s){if(s instanceof ci)throw s;Hi(e,"network-request-failed",{message:String(s)})}}async function Q1(e,t,n,i,s={}){const r=await fo(e,t,n,i,s);return"mfaPendingCredential"in r&&Hi(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function W1(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?jg(e.config,s):`${e.config.apiScheme}://${s}`;return oM.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class uM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ii(this.auth,"network-request-failed")),lM.get())})}}function sc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=ii(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(e,t){return fo(e,"POST","/v1/accounts:delete",t)}async function Tf(e,t){return fo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fM(e,t=!1){const n=xn(e),i=await n.getIdToken(t),s=Vg(i);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:bl(xd(s.auth_time)),issuedAtTime:bl(xd(s.iat)),expirationTime:bl(xd(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function xd(e){return Number(e)*1e3}function Vg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const s=N1(n);return s?JSON.parse(s):(kc("Failed to decode base64 JWT payload"),null)}catch(s){return kc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function i_(e){const t=Vg(e);return Q(t,"internal-error"),Q(typeof t.exp<"u","internal-error"),Q(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ci&&hM(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function hM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(e){var d;const t=e.auth,n=await e.getIdToken(),i=await $l(e,Tf(t,{idToken:n}));Q(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(d=s.providerUserInfo)!=null&&d.length?eA(s.providerUserInfo):[],a=pM(e.providerData,r),o=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function mM(e){const t=xn(e);await Ef(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pM(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function eA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(e,t){const n=await J1(e,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await W1(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&uo(e.emulatorConfig.host)&&(u.credentials="include"),K1.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yM(e,t){return fo(e,"POST","/v2/accounts:revokeToken",lh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Q(t.idToken,"internal-error"),Q(typeof t.idToken<"u","internal-error"),Q(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Q(t.length!==0,"internal-error");const n=i_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await gM(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Na;return i&&(Q(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(Q(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(Q(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){Q(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Pn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new dM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await $l(this,this.stsTokenManager.getToken(this.auth,t));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fM(this,t)}reload(){return mM(this)}_assign(t){this!==t&&(Q(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await $l(this,cM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:O,stsTokenManager:D}=n;Q(d&&D,t,"internal-error");const k=Na.fromJSON(this.name,D);Q(typeof d=="string",t,"internal-error"),ts(i,t.name),ts(s,t.name),Q(typeof m=="boolean",t,"internal-error"),Q(typeof g=="boolean",t,"internal-error"),ts(r,t.name),ts(a,t.name),ts(o,t.name),ts(u,t.name),ts(c,t.name),ts(f,t.name);const b=new Pn({uid:d,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:g,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:k,createdAt:c,lastLoginAt:f});return O&&Array.isArray(O)&&(b.providerData=O.map(v=>({...v}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(t,n,i=!1){const s=new Na;s.updateFromServerResponse(n);const r=new Pn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Ef(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?eA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Na;o.updateFromIdToken(i);const u=new Pn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new sp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;function Ni(e){Fi(e instanceof Function,"Expected a class definition");let t=s_.get(e);return t?(Fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,s_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tA.type="NONE";const r_=tA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e,t,n){return`firebase:${e}:${t}:${n}`}class Ma{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Ic(this.userKey,s.apiKey,r),this.fullPersistenceKey=Ic("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tf(this.auth,{idToken:t}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ma(Ni(r_),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||Ni(r_);const a=Ic(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const f=await c._get(a);if(f){let d;if(typeof f=="string"){const m=await Tf(t,{idToken:f}).catch(()=>{});if(!m)break;d=await Pn._fromGetAccountInfoResponse(t,m,f)}else d=Pn._fromJSON(t,f);c!==r&&(o=d),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Ma(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new Ma(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oA(t))return"Blackberry";if(lA(t))return"Webos";if(iA(t))return"Safari";if((t.includes("chrome/")||sA(t))&&!t.includes("edge/"))return"Chrome";if(aA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nA(e=It()){return/firefox\//i.test(e)}function iA(e=It()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sA(e=It()){return/crios\//i.test(e)}function rA(e=It()){return/iemobile/i.test(e)}function aA(e=It()){return/android/i.test(e)}function oA(e=It()){return/blackberry/i.test(e)}function lA(e=It()){return/webos/i.test(e)}function Bg(e=It()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vM(e=It()){var t;return Bg(e)&&!!((t=window.navigator)!=null&&t.standalone)}function _M(){return mR()&&document.documentMode===10}function uA(e=It()){return Bg(e)||aA(e)||lA(e)||oA(e)||/windows phone/i.test(e)||rA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(e,t=[]){let n;switch(e){case"Browser":n=a_(It());break;case"Worker":n=`${a_(It())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(e,t={}){return fo(e,"GET","/v2/passwordPolicy",lh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=6;class EM{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new SM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tf(this,{idToken:t}),i=await Pn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ef(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_n(this.app))return Promise.reject(Ms(this));const n=t?xn(t):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _n(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bM(this),n=new EM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hu("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yM(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ni(t)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&nM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function uh(e){return xn(e)}class o_{constructor(t){this.auth=t,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(e){Hg=e}function xM(e){return Hg.loadJS(e)}function CM(){return Hg.gapiScript}function OM(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(e,t){const n=Lg(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Xa(r,t??{}))return s;Hi(s,"already-initialized")}return n.initialize({options:t})}function RM(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ni);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function NM(e,t,n){const i=uh(e);Q(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=fA(t),{host:a,port:o}=MM(t),u=o===null?"":`:${o}`,c={url:`${r}//${a}${u}/`},f=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Q(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Q(Xa(c,i.config.emulator)&&Xa(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,uo(a)?(z1(`${r}//${a}${u}`),L1("Auth",!0)):kM()}function fA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MM(e){const t=fA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:l_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:l_(a)}}}function l_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function kM(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(t){return Ri("not implemented")}_linkToIdToken(t,n){return Ri("not implemented")}_getReauthenticationResolver(t){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(e,t){return Q1(e,"POST","/v1/accounts:signInWithIdp",lh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="http://localhost";class Lr extends hA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new Lr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ka(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ka(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ka(t,n)}buildRequest(){const t={requestUri:IM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=du(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends dA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends pu{constructor(){super("facebook.com")}static credential(t){return Lr._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cs.credential(t.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Lr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return fs.credential(n,i)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends pu{constructor(){super("github.com")}static credential(t){return Lr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends pu{constructor(){super("twitter.com")}static credential(t,n){return Lr._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ds.credential(n,i)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Pn._fromIdTokenResponse(t,i,s),a=u_(i);return new Pr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=u_(i);return new Pr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function u_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends ci{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Af(t,n,i,s)}}function mA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(e,r,t,i):r})}async function zM(e,t,n=!1){const i=await $l(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(e,t,n=!1){const{auth:i}=e;if(_n(i.app))return Promise.reject(Ms(i));const s="reauthenticate";try{const r=await $l(e,mA(i,s,t,e),n);Q(r.idToken,i,"internal-error");const a=Vg(r.idToken);Q(a,i,"internal-error");const{sub:o}=a;return Q(e.uid===o,i,"user-mismatch"),Pr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Hi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(e,t,n=!1){if(_n(e.app))return Promise.reject(Ms(e));const i="signIn",s=await mA(e,i,t),r=await Pr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(e,t){return Q1(e,"POST","/v1/accounts:signInWithCustomToken",lh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(e,t){if(_n(e.app))return Promise.reject(Ms(e));const n=uh(e),i=await UM(n,{token:t,returnSecureToken:!0}),s=await Pr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function VM(e,t,n,i){return xn(e).onIdTokenChanged(t,n,i)}function BM(e,t,n){return xn(e).beforeAuthStateChanged(t,n)}function HM(e,t,n,i){return xn(e).onAuthStateChanged(t,n,i)}function FM(e){return xn(e).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=1e3,ZM=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);_M()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ZM):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gA.type="LOCAL";const $M=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yA.type="SESSION";const vA=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new ch(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),u=await qM(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const c=Fg("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function YM(e){si().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function KM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JM(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function QM(){return _A()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebaseLocalStorageDb",WM=1,xf="firebaseLocalStorage",bA="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(e,t){return e.transaction([xf],t?"readwrite":"readonly").objectStore(xf)}function ek(){const e=indexedDB.deleteDatabase(SA);return new gu(e).toPromise()}function rp(){const e=indexedDB.open(SA,WM);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(xf,{keyPath:bA})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(xf)?t(i):(i.close(),await ek(),t(await rp()))})})}async function c_(e,t,n){const i=fh(e,!0).put({[bA]:t,value:n});return new gu(i).toPromise()}async function tk(e,t){const n=fh(e,!1).get(t),i=await new gu(n).toPromise();return i===void 0?null:i.value}function f_(e,t){const n=fh(e,!0).delete(t);return new gu(n).toPromise()}const nk=800,ik=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>ik)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _A()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(QM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await KM(),!this.activeServiceWorker)return;this.sender=new XM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rp();return await c_(t,wf,"1"),await f_(t,wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>c_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>tk(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>f_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=fh(s,!1).getAll();return new gu(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const sk=TA;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e,t){return t?Ni(t):(Q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends hA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ka(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ak(e){return PM(e.auth,new Gg(e),e.bypassAuthState)}function ok(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),LM(n,new Gg(e),e.bypassAuthState)}async function lk(e){const{auth:t,user:n}=e;return Q(n,t,"internal-error"),zM(n,new Gg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ok;default:Hi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new mu(2e3,1e4);class ya extends EA{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Q(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=Fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uk.get())};t()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="pendingRedirect",zc=new Map;class fk extends EA{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const i=await hk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hk(e,t){const n=pk(t),i=mk(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function dk(e,t){zc.set(e._key(),t)}function mk(e){return Ni(e._redirectPersistence)}function pk(e){return Ic(ck,e.config.apiKey,e.name)}async function gk(e,t,n=!1){if(_n(e.app))return Promise.reject(Ms(e));const i=uh(e),s=rk(i,t),a=await new fk(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=10*60*1e3;class vk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_k(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!AA(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(t))}saveEventToCache(t){this.cachedEventUids.add(h_(t)),this.lastProcessedEventTime=Date.now()}}function h_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function AA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _k(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(e,t={}){return fo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function Ek(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Sk(e);for(const n of t)try{if(Ak(n))return}catch{}Hi(e,"unauthorized-domain")}function Ak(e){const t=ip(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Tk.test(n))return!1;if(bk.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new mu(3e4,6e4);function d_(){const e=si().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xk(e){return new Promise((t,n)=>{var s,r,a;function i(){d_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(ii(e,"network-request-failed"))},timeout:wk.get()})}if((r=(s=si().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=si().gapi)!=null&&a.load)i();else{const o=OM("iframefcb");return si()[o]=()=>{gapi.load?i():n(ii(e,"network-request-failed"))},xM(`${CM()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function Ck(e){return Lc=Lc||xk(e),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new mu(5e3,15e3),Dk="__/auth/iframe",Rk="emulator/auth/iframe",Nk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kk(e){const t=e.config;Q(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jg(t,Rk):`https://${e.config.authDomain}/${Dk}`,i={apiKey:t.apiKey,appName:e.name,v:co},s=Mk.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${du(i).slice(1)}`}async function Ik(e){const t=await Ck(e),n=si().gapi;return Q(n,e,"internal-error"),t.open({where:document.body,url:kk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nk,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=ii(e,"network-request-failed"),o=si().setTimeout(()=>{r(a)},Ok.get());function u(){si().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lk=500,Pk=600,Uk="_blank",jk="http://localhost";class m_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vk(e,t,n,i=Lk,s=Pk){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u={...zk,width:i.toString(),height:s.toString(),top:r,left:a},c=It().toLowerCase();n&&(o=sA(c)?Uk:n),nA(c)&&(t=t||jk,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[g,O])=>`${m}${g}=${O},`,"");if(vM(c)&&o!=="_self")return Bk(t||"",o),new m_(null);const d=window.open(t||"",o,f);Q(d,e,"popup-blocked");try{d.focus()}catch{}return new m_(d)}function Bk(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="__/auth/handler",Fk="emulator/auth/handler",Gk=encodeURIComponent("fac");async function p_(e,t,n,i,s,r){Q(e.config.authDomain,e,"auth-domain-config-required"),Q(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:co,eventId:s};if(t instanceof dA){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",SR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(t instanceof pu){const f=t.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const u=await e._getAppCheckToken(),c=u?`#${Gk}=${encodeURIComponent(u)}`:"";return`${Zk(e)}?${du(o).slice(1)}${c}`}function Zk({config:e}){return e.emulator?jg(e,Fk):`https://${e.authDomain}/${Hk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class $k{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=gk,this._overrideRedirectResult=dk}async _openPopup(t,n,i,s){var a;Fi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await p_(t,n,i,ip(),s);return Vk(t,r,Fg())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await p_(t,n,i,ip(),s);return YM(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Fi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Ik(t),i=new vk(t);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Cd,{type:Cd},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Cd];r!==void 0&&n(!!r),Hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ek(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uA()||iA()||Bg()}}const qk=$k;var g_="@firebase/auth",y_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kk(e){zr(new Ps("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cA(e)},c=new AM(i,s,r,u);return RM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),zr(new Ps("auth-internal",t=>{const n=uh(t.getProvider("auth").getImmediate());return(i=>new Xk(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(g_,y_,Yk(e)),ni(g_,y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=5*60,Qk=I1("authIdTokenMaxAge")||Jk;let v_=null;const Wk=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Qk)return;const s=n==null?void 0:n.token;v_!==s&&(v_=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e4(e=V1()){const t=Lg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=DM(e,{popupRedirectResolver:qk,persistence:[sk,$M,vA]}),i=I1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Wk(r.toString());BM(n,a,()=>a(n.currentUser)),VM(n,o=>a(o))}}const s=M1("auth");return s&&NM(n,`http://${s}`),n}function t4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}wM({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=ii("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",t4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kk("Browser");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zg;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function S(){}S.prototype=y.prototype,E.F=y.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(A,x,M){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return y.prototype[x].apply(A,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,S){S||(S=0);const A=Array(16);if(typeof y=="string")for(var x=0;x<16;++x)A[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;x<16;++x)A[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=E.g[0],S=E.g[1],x=E.g[2];let M=E.g[3],C;C=y+(M^S&(x^M))+A[0]+3614090360&4294967295,y=S+(C<<7&4294967295|C>>>25),C=M+(x^y&(S^x))+A[1]+3905402710&4294967295,M=y+(C<<12&4294967295|C>>>20),C=x+(S^M&(y^S))+A[2]+606105819&4294967295,x=M+(C<<17&4294967295|C>>>15),C=S+(y^x&(M^y))+A[3]+3250441966&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(M^S&(x^M))+A[4]+4118548399&4294967295,y=S+(C<<7&4294967295|C>>>25),C=M+(x^y&(S^x))+A[5]+1200080426&4294967295,M=y+(C<<12&4294967295|C>>>20),C=x+(S^M&(y^S))+A[6]+2821735955&4294967295,x=M+(C<<17&4294967295|C>>>15),C=S+(y^x&(M^y))+A[7]+4249261313&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(M^S&(x^M))+A[8]+1770035416&4294967295,y=S+(C<<7&4294967295|C>>>25),C=M+(x^y&(S^x))+A[9]+2336552879&4294967295,M=y+(C<<12&4294967295|C>>>20),C=x+(S^M&(y^S))+A[10]+4294925233&4294967295,x=M+(C<<17&4294967295|C>>>15),C=S+(y^x&(M^y))+A[11]+2304563134&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(M^S&(x^M))+A[12]+1804603682&4294967295,y=S+(C<<7&4294967295|C>>>25),C=M+(x^y&(S^x))+A[13]+4254626195&4294967295,M=y+(C<<12&4294967295|C>>>20),C=x+(S^M&(y^S))+A[14]+2792965006&4294967295,x=M+(C<<17&4294967295|C>>>15),C=S+(y^x&(M^y))+A[15]+1236535329&4294967295,S=x+(C<<22&4294967295|C>>>10),C=y+(x^M&(S^x))+A[1]+4129170786&4294967295,y=S+(C<<5&4294967295|C>>>27),C=M+(S^x&(y^S))+A[6]+3225465664&4294967295,M=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(M^y))+A[11]+643717713&4294967295,x=M+(C<<14&4294967295|C>>>18),C=S+(M^y&(x^M))+A[0]+3921069994&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^M&(S^x))+A[5]+3593408605&4294967295,y=S+(C<<5&4294967295|C>>>27),C=M+(S^x&(y^S))+A[10]+38016083&4294967295,M=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(M^y))+A[15]+3634488961&4294967295,x=M+(C<<14&4294967295|C>>>18),C=S+(M^y&(x^M))+A[4]+3889429448&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^M&(S^x))+A[9]+568446438&4294967295,y=S+(C<<5&4294967295|C>>>27),C=M+(S^x&(y^S))+A[14]+3275163606&4294967295,M=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(M^y))+A[3]+4107603335&4294967295,x=M+(C<<14&4294967295|C>>>18),C=S+(M^y&(x^M))+A[8]+1163531501&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(x^M&(S^x))+A[13]+2850285829&4294967295,y=S+(C<<5&4294967295|C>>>27),C=M+(S^x&(y^S))+A[2]+4243563512&4294967295,M=y+(C<<9&4294967295|C>>>23),C=x+(y^S&(M^y))+A[7]+1735328473&4294967295,x=M+(C<<14&4294967295|C>>>18),C=S+(M^y&(x^M))+A[12]+2368359562&4294967295,S=x+(C<<20&4294967295|C>>>12),C=y+(S^x^M)+A[5]+4294588738&4294967295,y=S+(C<<4&4294967295|C>>>28),C=M+(y^S^x)+A[8]+2272392833&4294967295,M=y+(C<<11&4294967295|C>>>21),C=x+(M^y^S)+A[11]+1839030562&4294967295,x=M+(C<<16&4294967295|C>>>16),C=S+(x^M^y)+A[14]+4259657740&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^M)+A[1]+2763975236&4294967295,y=S+(C<<4&4294967295|C>>>28),C=M+(y^S^x)+A[4]+1272893353&4294967295,M=y+(C<<11&4294967295|C>>>21),C=x+(M^y^S)+A[7]+4139469664&4294967295,x=M+(C<<16&4294967295|C>>>16),C=S+(x^M^y)+A[10]+3200236656&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^M)+A[13]+681279174&4294967295,y=S+(C<<4&4294967295|C>>>28),C=M+(y^S^x)+A[0]+3936430074&4294967295,M=y+(C<<11&4294967295|C>>>21),C=x+(M^y^S)+A[3]+3572445317&4294967295,x=M+(C<<16&4294967295|C>>>16),C=S+(x^M^y)+A[6]+76029189&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(S^x^M)+A[9]+3654602809&4294967295,y=S+(C<<4&4294967295|C>>>28),C=M+(y^S^x)+A[12]+3873151461&4294967295,M=y+(C<<11&4294967295|C>>>21),C=x+(M^y^S)+A[15]+530742520&4294967295,x=M+(C<<16&4294967295|C>>>16),C=S+(x^M^y)+A[2]+3299628645&4294967295,S=x+(C<<23&4294967295|C>>>9),C=y+(x^(S|~M))+A[0]+4096336452&4294967295,y=S+(C<<6&4294967295|C>>>26),C=M+(S^(y|~x))+A[7]+1126891415&4294967295,M=y+(C<<10&4294967295|C>>>22),C=x+(y^(M|~S))+A[14]+2878612391&4294967295,x=M+(C<<15&4294967295|C>>>17),C=S+(M^(x|~y))+A[5]+4237533241&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~M))+A[12]+1700485571&4294967295,y=S+(C<<6&4294967295|C>>>26),C=M+(S^(y|~x))+A[3]+2399980690&4294967295,M=y+(C<<10&4294967295|C>>>22),C=x+(y^(M|~S))+A[10]+4293915773&4294967295,x=M+(C<<15&4294967295|C>>>17),C=S+(M^(x|~y))+A[1]+2240044497&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~M))+A[8]+1873313359&4294967295,y=S+(C<<6&4294967295|C>>>26),C=M+(S^(y|~x))+A[15]+4264355552&4294967295,M=y+(C<<10&4294967295|C>>>22),C=x+(y^(M|~S))+A[6]+2734768916&4294967295,x=M+(C<<15&4294967295|C>>>17),C=S+(M^(x|~y))+A[13]+1309151649&4294967295,S=x+(C<<21&4294967295|C>>>11),C=y+(x^(S|~M))+A[4]+4149444226&4294967295,y=S+(C<<6&4294967295|C>>>26),C=M+(S^(y|~x))+A[11]+3174756917&4294967295,M=y+(C<<10&4294967295|C>>>22),C=x+(y^(M|~S))+A[2]+718787259&4294967295,x=M+(C<<15&4294967295|C>>>17),C=S+(M^(x|~y))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,E.g[2]=E.g[2]+x&4294967295,E.g[3]=E.g[3]+M&4294967295}i.prototype.v=function(E,y){y===void 0&&(y=E.length);const S=y-this.blockSize,A=this.C;let x=this.h,M=0;for(;M<y;){if(x==0)for(;M<=S;)s(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<y;)if(A[x++]=E.charCodeAt(M++),x==this.blockSize){s(this,A),x=0;break}}else for(;M<y;)if(A[x++]=E[M++],x==this.blockSize){s(this,A),x=0;break}}this.h=x,this.o+=y},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,S=0;S<4;++S)for(let A=0;A<32;A+=8)E[y++]=this.g[S]>>>A&255;return E};function r(E,y){var S=o;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=y(E)}function a(E,y){this.h=y;const S=[];let A=!0;for(let x=E.length-1;x>=0;x--){const M=E[x]|0;A&&M==y||(S[x]=M,A=!1)}this.g=S}var o={};function u(E){return-128<=E&&E<128?r(E,function(y){return new a([y|0],y<0?-1:0)}):new a([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return k(c(-E));const y=[];let S=1;for(let A=0;E>=S;A++)y[A]=E/S|0,S*=4294967296;return new a(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return k(f(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(y,8));let A=d;for(let M=0;M<E.length;M+=8){var x=Math.min(8,E.length-M);const C=parseInt(E.substring(M,M+x),y);x<8?(x=c(Math.pow(y,x)),A=A.j(x).add(c(C))):(A=A.j(S),A=A.add(c(C)))}return A}var d=u(0),m=u(1),g=u(16777216);e=a.prototype,e.m=function(){if(D(this))return-k(this).m();let E=0,y=1;for(let S=0;S<this.g.length;S++){const A=this.i(S);E+=(A>=0?A:4294967296+A)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(O(this))return"0";if(D(this))return"-"+k(this).toString(E);const y=c(Math.pow(E,6));var S=this;let A="";for(;;){const x=N(S,y).g;S=b(S,x.j(y));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=x,O(S))return M+A;for(;M.length<6;)M="0"+M;A=M+A}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function O(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function D(E){return E.h==-1}e.l=function(E){return E=b(this,E),D(E)?-1:O(E)?0:1};function k(E){const y=E.g.length,S=[];for(let A=0;A<y;A++)S[A]=~E.g[A];return new a(S,~E.h).add(m)}e.abs=function(){return D(this)?k(this):this},e.add=function(E){const y=Math.max(this.g.length,E.g.length),S=[];let A=0;for(let x=0;x<=y;x++){let M=A+(this.i(x)&65535)+(E.i(x)&65535),C=(M>>>16)+(this.i(x)>>>16)+(E.i(x)>>>16);A=C>>>16,M&=65535,C&=65535,S[x]=C<<16|M}return new a(S,S[S.length-1]&-2147483648?-1:0)};function b(E,y){return E.add(k(y))}e.j=function(E){if(O(this)||O(E))return d;if(D(this))return D(E)?k(this).j(k(E)):k(k(this).j(E));if(D(E))return k(this.j(k(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const y=this.g.length+E.g.length,S=[];for(var A=0;A<2*y;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(let x=0;x<E.g.length;x++){const M=this.i(A)>>>16,C=this.i(A)&65535,re=E.i(x)>>>16,oe=E.i(x)&65535;S[2*A+2*x]+=C*oe,v(S,2*A+2*x),S[2*A+2*x+1]+=M*oe,v(S,2*A+2*x+1),S[2*A+2*x+1]+=C*re,v(S,2*A+2*x+1),S[2*A+2*x+2]+=M*re,v(S,2*A+2*x+2)}for(E=0;E<y;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=y;E<2*y;E++)S[E]=0;return new a(S,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function w(E,y){this.g=E,this.h=y}function N(E,y){if(O(y))throw Error("division by zero");if(O(E))return new w(d,d);if(D(E))return y=N(k(E),y),new w(k(y.g),k(y.h));if(D(y))return y=N(E,k(y)),new w(k(y.g),y.h);if(E.g.length>30){if(D(E)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,A=y;A.l(E)<=0;)S=z(S),A=z(A);var x=V(S,1),M=V(A,1);for(A=V(A,2),S=V(S,2);!O(A);){var C=M.add(A);C.l(E)<=0&&(x=x.add(S),M=C),A=V(A,1),S=V(S,1)}return y=b(E,x.j(y)),new w(x,y)}for(x=d;E.l(y)>=0;){for(S=Math.max(1,Math.floor(E.m()/y.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),M=c(S),C=M.j(y);D(C)||C.l(E)>0;)S-=A,M=c(S),C=M.j(y);O(M)&&(M=m),x=x.add(M),E=b(E,C)}return new w(x,E)}e.B=function(E){return N(this,E).h},e.and=function(E){const y=Math.max(this.g.length,E.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)&E.i(A);return new a(S,this.h&E.h)},e.or=function(E){const y=Math.max(this.g.length,E.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)|E.i(A);return new a(S,this.h|E.h)},e.xor=function(E){const y=Math.max(this.g.length,E.g.length),S=[];for(let A=0;A<y;A++)S[A]=this.i(A)^E.i(A);return new a(S,this.h^E.h)};function z(E){const y=E.g.length+1,S=[];for(let A=0;A<y;A++)S[A]=E.i(A)<<1|E.i(A-1)>>>31;return new a(S,E.h)}function V(E,y){const S=y>>5;y%=32;const A=E.g.length-S,x=[];for(let M=0;M<A;M++)x[M]=y>0?E.i(M+S)>>>y|E.i(M+S+1)<<32-y:E.i(M+S);return new a(x,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Zg=a}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(l,h){if(h)e:{var p=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var I=l[_];if(!(I in p))break e;p=p[I]}l=l[l.length-1],_=p[l],h=h(_),h!=_&&h!=null&&t(p,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var p=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&p.push([_,h[_]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,p){return l.call.apply(l.bind,arguments)}function c(l,h,p){return c=u,c.apply(null,arguments)}function f(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function d(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(_,I,L){for(var F=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)F[ee-2]=arguments[ee];return h.prototype[I].apply(_,F)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const h=l.length;if(h>0){const p=Array(h);for(let _=0;_<h;_++)p[_]=l[_];return p}return[]}function O(l,h){for(let _=1;_<arguments.length;_++){const I=arguments[_];var p=typeof I;if(p=p!="object"?p:I?Array.isArray(I)?"array":p:"null",p=="array"||p=="object"&&typeof I.length=="number"){p=l.length||0;const L=I.length||0;l.length=p+L;for(let F=0;F<L;F++)l[p+F]=I[F]}else l.push(I)}}class D{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(l){a.setTimeout(()=>{throw l},0)}function b(){var l=E;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,p){const _=w.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var w=new D(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,E=new v,y=()=>{const l=Promise.resolve(void 0);z=()=>{l.then(S)}};function S(){for(var l;l=b();){try{l.h.call(l.g)}catch(p){k(p)}var h=w;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function C(l){return/^[\s\xa0]*$/.test(l)}function re(l,h){x.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}d(re,x),re.prototype.init=function(l,h){const p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(l,h,p,_,I){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=I,this.key=++H,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function te(l,h,p){for(const _ in l)h.call(p,l[_],_,l)}function ce(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function ye(l){const h={};for(const p in l)h[p]=l[p];return h}const At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(l,h){let p,_;for(let I=1;I<arguments.length;I++){_=arguments[I];for(p in _)l[p]=_[p];for(let L=0;L<At.length;L++)p=At[L],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,h,p,_,I){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const F=fi(l,h,_,I);return F>-1?(h=l[F],p||(h.fa=!1)):(h=new G(h,this.src,L,!!_,I),h.fa=p,l.push(h)),h};function ge(l,h){const p=h.type;if(p in l.g){var _=l.g[p],I=Array.prototype.indexOf.call(_,h,void 0),L;(L=I>=0)&&Array.prototype.splice.call(_,I,1),L&&(q(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function fi(l,h,p,_){for(let I=0;I<l.length;++I){const L=l[I];if(!L.da&&L.listener==h&&L.capture==!!p&&L.ha==_)return I}return-1}var Xs="closure_lm_"+(Math.random()*1e6|0),Bn={};function yo(l,h,p,_,I){if(Array.isArray(h)){for(let L=0;L<h.length;L++)yo(l,h[L],p,_,I);return null}return p=di(p),l&&l[oe]?l.J(h,p,o(_)?!!_.capture:!1,I):vo(l,h,p,!1,_,I)}function vo(l,h,p,_,I,L){if(!h)throw Error("Invalid event type");const F=o(I)?!!I.capture:!!I;let ee=Ks(l);if(ee||(l[Xs]=ee=new xt(l)),p=ee.add(h,p,_,F,L),p.proxy)return p;if(_=Tu(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)M||(I=F),I===void 0&&(I=!1),l.addEventListener(h.toString(),_,I);else if(l.attachEvent)l.attachEvent(Ys(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Tu(){function l(p){return h.call(l.src,l.listener,p)}const h=hi;return l}function _o(l,h,p,_,I){if(Array.isArray(h))for(var L=0;L<h.length;L++)_o(l,h[L],p,_,I);else _=o(_)?!!_.capture:!!_,p=di(p),l&&l[oe]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],p=fi(h,p,_,I),p>-1&&(q(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=Ks(l))&&(h=l.g[h.toString()],l=-1,h&&(l=fi(h,p,_,I)),(p=l>-1?h[l]:null)&&Hn(p))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[oe])ge(h.i,l);else{var p=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(p,_,l.capture):h.detachEvent?h.detachEvent(Ys(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=Ks(h))?(ge(p,l),p.h==0&&(p.src=null,h[Xs]=null)):q(l)}}}function Ys(l){return l in Bn?Bn[l]:Bn[l]="on"+l}function hi(l,h){if(l.da)l=!0;else{h=new re(h,this);const p=l.listener,_=l.ha||l.src;l.fa&&Hn(l),l=p.call(_,h)}return l}function Ks(l){return l=l[Xs],l instanceof xt?l:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function di(l){return typeof l=="function"?l:(l[Js]||(l[Js]=function(h){return l.handleEvent(h)}),l[Js])}function Fe(){A.call(this),this.i=new xt(this),this.M=this,this.G=null}d(Fe,A),Fe.prototype[oe]=!0,Fe.prototype.removeEventListener=function(l,h,p,_){_o(this,l,h,p,_)};function Ye(l,h){var p,_=l.G;if(_)for(p=[];_;_=_.G)p.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new x(h,l);else if(h instanceof x)h.target=h.target||l;else{var I=h;h=new x(_,l),Me(h,I)}I=!0;let L,F;if(p)for(F=p.length-1;F>=0;F--)L=h.g=p[F],I=Qs(L,_,!0,h)&&I;if(L=h.g=l,I=Qs(L,_,!0,h)&&I,I=Qs(L,_,!1,h)&&I,p)for(F=0;F<p.length;F++)L=h.g=p[F],I=Qs(L,_,!1,h)&&I}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const p=l.g[h];for(let _=0;_<p.length;_++)q(p[_]);delete l.g[h],l.h--}}this.G=null},Fe.prototype.J=function(l,h,p,_){return this.i.add(String(l),h,!1,p,_)},Fe.prototype.K=function(l,h,p,_){return this.i.add(String(l),h,!0,p,_)};function Qs(l,h,p,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let I=!0;for(let L=0;L<h.length;++L){const F=h[L];if(F&&!F.da&&F.capture==p){const ee=F.listener,st=F.ha||F.src;F.fa&&ge(l.i,F),I=ee.call(st,_)!==!1&&I}}return I&&!_.defaultPrevented}function Eu(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(l,h||0)}function Au(l){l.g=Eu(()=>{l.g=null,l.i&&(l.i=!1,Au(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class So extends A{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(l){A.call(this),this.h=l,this.g={}}d(On,A);var mi=[];function Zt(l){te(l.g,function(h,p){this.g.hasOwnProperty(p)&&Hn(h)},l),l.g={}}On.prototype.N=function(){On.Z.N.call(this),Zt(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=a.JSON.stringify,wu=a.JSON.parse,xu=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function $r(){}function Cu(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $i(){x.call(this,"d")}d($i,x);function $t(){x.call(this,"c")}d($t,x);var qt={},qr=null;function er(){return qr=qr||new Fe}qt.Ia="serverreachability";function Ou(l){x.call(this,qt.Ia,l)}d(Ou,x);function Gn(l){const h=er();Ye(h,new Ou(h))}qt.STAT_EVENT="statevent";function tr(l,h){x.call(this,qt.STAT_EVENT,l),this.stat=h}d(tr,x);function pt(l){const h=er();Ye(h,new tr(h,l))}qt.Ja="timingevent";function qi(l,h){x.call(this,qt.Ja,l),this.size=h}d(qi,x);function nr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function Ge(l,h,p,_,I,L){l.info(function(){if(l.g)if(L){var F="",ee=L.split("&");for(let Ae=0;Ae<ee.length;Ae++){var st=ee[Ae].split("=");if(st.length>1){const ut=st[0];st=st[1];const $n=ut.split("_");F=$n.length>=2&&$n[1]=="type"?F+(ut+"="+st+"&"):F+(ut+"=redacted&")}}}else F=null;else F=L;return"XMLHTTP REQ ("+_+") [attempt "+I+"]: "+h+`
`+p+`
`+F})}function Xi(l,h,p,_,I,L,F){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+I+"]: "+h+`
`+p+`
`+L+" "+F})}function Yi(l,h,p,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+bo(l,p)+(_?" "+_:"")})}function Du(l,h){l.info(function(){return"TIMEOUT: "+h})}ir.prototype.info=function(){};function bo(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var p=L[l];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var I=_[0];if(I!="noop"&&I!="stop"&&I!="close")for(let F=1;F<_.length;F++)_[F]=""}}}}return Ws(L)}catch{return h}}var Xr={NO_ERROR:0,TIMEOUT:8},Ru={},Nu;function zt(){}d(zt,$r),zt.prototype.g=function(){return new XMLHttpRequest},Nu=new zt;function Xt(l){return encodeURIComponent(String(l))}function Mu(l){var h=1;l=l.split(":");const p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function Dn(l,h,p,_){this.j=l,this.i=h,this.l=p,this.S=_||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}var To={},Yt={};function Kr(l,h,p){l.M=1,l.A=Iu(Zn(h)),l.u=p,l.R=!0,Eo(l,null)}function Eo(l,h){l.F=Date.now(),X(l),l.B=Zn(l.A);var p=l.B,_=l.S;Array.isArray(_)||(_=[String(_)]),Vy(p.i,"t",_),l.C=0,p=l.j.L,l.h=new Yr,l.g=sv(l.j,p?h:null,!l.u),l.P>0&&(l.O=new So(c(l.Y,l,l.g),l.P)),h=l.V,p=l.g,_=l.ba;var I="readystatechange";Array.isArray(I)||(I&&(mi[0]=I.toString()),I=mi);for(let L=0;L<I.length;L++){const F=yo(p,I[L],_||h.handleEvent,!1,h.h||h);if(!F)break;h.g[F.key]=F}h=l.J?ye(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Gn(),Ge(l.i,l.v,l.B,l.l,l.S,l.u)}Dn.prototype.ba=function(l){l=l.target;const h=this.O;h&&Qi(l)==3?h.j():this.Y(l)},Dn.prototype.Y=function(l){try{if(l==this.g)e:{const ee=Qi(this.g),st=this.g.ya(),Ae=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||qy(this.g)))){this.K||ee!=4||st==7||(st==8||Ae<=0?Gn(3):Gn(2)),B(this);var h=this.g.ca();this.X=h;var p=ku(this);if(this.o=h==200,Xi(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,I=this.g;if((_=I.g?I.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(_)){var L=_;break t}}L=null}if(l=L)Yi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,l);else{this.o=!1,this.m=3,pt(12),fe(this),Z(this);break e}}if(this.R){l=!0;let ut;for(;!this.K&&this.C<p.length;)if(ut=Eh(this,p),ut==Yt){ee==4&&(this.m=4,pt(14),l=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==To){this.m=4,pt(15),Yi(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else Yi(this.i,this.l,ut,null),Ke(this,ut);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||p.length!=0||this.h.h||(this.m=1,pt(16),l=!1),this.o=this.o&&l,!l)Yi(this.i,this.l,p,"[Invalid Chunked Response]"),fe(this),Z(this);else if(p.length>0&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.aa&&!F.P&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Dh(F),F.P=!0,pt(11))}}else Yi(this.i,this.l,p,null),Ke(this,p);ee==4&&fe(this),this.o&&!this.K&&(ee==4?ev(this.j,this):(this.o=!1,X(this)))}else b2(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),fe(this),Z(this)}}}catch{}finally{}};function ku(l){if(!Ao(l))return l.g.la();const h=qy(l.g);if(h==="")return"";let p="";const _=h.length,I=Qi(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return fe(l),Z(l),"";l.h.i=new a.TextDecoder}for(let L=0;L<_;L++)l.h.h=!0,p+=l.h.i.decode(h[L],{stream:!(I&&L==_-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function Ao(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Eh(l,h){var p=l.C,_=h.indexOf(`
`,p);return _==-1?Yt:(p=Number(h.substring(p,_)),isNaN(p)?To:(_+=1,_+p>h.length?Yt:(h=h.slice(_,_+p),l.C=_+p,h)))}Dn.prototype.cancel=function(){this.K=!0,fe(this)};function X(l){l.T=Date.now()+l.H,R(l,l.H)}function R(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=nr(c(l.aa,l),h)}function B(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Dn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Du(this.i,this.B),this.M!=2&&(Gn(),pt(17)),fe(this),this.m=2,Z(this)):R(this,this.T-l)};function Z(l){l.j.I==0||l.K||ev(l.j,l)}function fe(l){B(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Zt(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ke(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||sr(p.h,l))){if(!l.L&&sr(p.h,l)&&p.I==3){try{var _=p.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var I=_;if(I[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)ju(p),Pu(p);else break e;Oh(p),pt(18)}}else p.xa=I[1],0<p.xa-p.K&&I[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=nr(c(p.Va,p),6e3));pi(p.h)<=1&&p.ta&&(p.ta=void 0)}else ar(p,11)}else if((l.L||p.g==l)&&ju(p),!C(h))for(I=p.Ba.g.parse(h),h=0;h<I.length;h++){let Ae=I[h];const ut=Ae[0];if(!(ut<=p.K))if(p.K=ut,Ae=Ae[1],p.I==2)if(Ae[0]=="c"){p.M=Ae[1],p.ba=Ae[2];const $n=Ae[3];$n!=null&&(p.ka=$n,p.j.info("VER="+p.ka));const or=Ae[4];or!=null&&(p.za=or,p.j.info("SVER="+p.za));const Wi=Ae[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(_=1.5*Wi,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const es=l.g;if(es){const Vu=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var L=_.h;L.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Ze(L,L.h),L.h=null))}if(_.G){const Rh=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(_.wa=Rh,Ce(_.J,_.G,Rh))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var F=l;if(_.na=iv(_,_.L?_.ba:null,_.W),F.L){wo(_.h,F);var ee=F,st=_.O;st&&(ee.H=st),ee.D&&(B(ee),X(ee)),_.g=F}else Qy(_);p.i.length>0&&Uu(p)}else Ae[0]!="stop"&&Ae[0]!="close"||ar(p,7);else p.I==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ar(p,7):Ch(p):Ae[0]!="noop"&&p.l&&p.l.qa(Ae),p.A=0)}}Gn(4)}catch{}}var Pe=class{constructor(l,h){this.g=l,this.map=h}};function gt(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ln(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pi(l){return l.h?1:l.g?l.g.size:0}function sr(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ze(l,h){l.g?l.g.add(h):l.h=h}function wo(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}gt.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function xo(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.G);return h}return g(l.i)}var zy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u2(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const _=l[p].indexOf("=");let I,L=null;_>=0?(I=l[p].substring(0,_),L=l[p].substring(_+1)):I=l[p],h(I,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ki(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Ki?(this.l=l.l,Co(this,l.j),this.o=l.o,this.g=l.g,Oo(this,l.u),this.h=l.h,Ah(this,By(l.i)),this.m=l.m):l&&(h=String(l).match(zy))?(this.l=!1,Co(this,h[1]||"",!0),this.o=Do(h[2]||""),this.g=Do(h[3]||"",!0),Oo(this,h[4]),this.h=Do(h[5]||"",!0),Ah(this,h[6]||"",!0),this.m=Do(h[7]||"")):(this.l=!1,this.i=new No(null,this.l))}Ki.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ro(h,Ly,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ro(h,Ly,!0),"@"),l.push(Xt(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ro(p,p.charAt(0)=="/"?h2:f2,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ro(p,m2)),l.join("")},Ki.prototype.resolve=function(l){const h=Zn(this);let p=!!l.j;p?Co(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var _=l.h;if(p)Oo(h,l.u);else if(p=!!l.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var I=h.h.lastIndexOf("/");I!=-1&&(_=h.h.slice(0,I+1)+_)}if(I=_,I==".."||I==".")_="";else if(I.indexOf("./")!=-1||I.indexOf("/.")!=-1){_=I.lastIndexOf("/",0)==0,I=I.split("/");const L=[];for(let F=0;F<I.length;){const ee=I[F++];ee=="."?_&&F==I.length&&L.push(""):ee==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),_&&F==I.length&&L.push("")):(L.push(ee),_=!0)}_=L.join("/")}else _=I}return p?h.h=_:p=l.i.toString()!=="",p?Ah(h,By(l.i)):p=!!l.m,p&&(h.m=l.m),h};function Zn(l){return new Ki(l)}function Co(l,h,p){l.j=p?Do(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Oo(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Ah(l,h,p){h instanceof No?(l.i=h,p2(l.i,l.l)):(p||(h=Ro(h,d2)),l.i=new No(h,l.l))}function Ce(l,h,p){l.i.set(h,p)}function Iu(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Do(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ro(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,c2),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function c2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ly=/[#\/\?@]/g,f2=/[#\?:]/g,h2=/[#\?]/g,d2=/[#\?@]/g,m2=/#/g;function No(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function rr(l){l.g||(l.g=new Map,l.h=0,l.i&&u2(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}e=No.prototype,e.add=function(l,h){rr(this),this.i=null,l=Jr(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Py(l,h){rr(l),h=Jr(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Uy(l,h){return rr(l),h=Jr(l,h),l.g.has(h)}e.forEach=function(l,h){rr(this),this.g.forEach(function(p,_){p.forEach(function(I){l.call(h,I,_,this)},this)},this)};function jy(l,h){rr(l);let p=[];if(typeof h=="string")Uy(l,h)&&(p=p.concat(l.g.get(Jr(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}e.set=function(l,h){return rr(this),this.i=null,l=Jr(this,l),Uy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=jy(this,l),l.length>0?String(l[0]):h):h};function Vy(l,h,p){Py(l,h),p.length>0&&(l.i=null,l.g.set(Jr(l,h),g(p)),l.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var p=h[_];const I=Xt(p);p=jy(this,p);for(let L=0;L<p.length;L++){let F=I;p[L]!==""&&(F+="="+Xt(p[L])),l.push(F)}}return this.i=l.join("&")};function By(l){const h=new No;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Jr(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function p2(l,h){h&&!l.j&&(rr(l),l.i=null,l.g.forEach(function(p,_){const I=_.toLowerCase();_!=I&&(Py(this,_),Vy(this,I,p))},l)),l.j=h}function g2(l,h){const p=new ir;if(a.Image){const _=new Image;_.onload=f(Ji,p,"TestLoadImage: loaded",!0,h,_),_.onerror=f(Ji,p,"TestLoadImage: error",!1,h,_),_.onabort=f(Ji,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(Ji,p,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function y2(l,h){const p=new ir,_=new AbortController,I=setTimeout(()=>{_.abort(),Ji(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(L=>{clearTimeout(I),L.ok?Ji(p,"TestPingServer: ok",!0,h):Ji(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(I),Ji(p,"TestPingServer: error",!1,h)})}function Ji(l,h,p,_,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),_(p)}catch{}}function v2(){this.g=new xu}function wh(l){this.i=l.Sb||null,this.h=l.ab||!1}d(wh,$r),wh.prototype.g=function(){return new zu(this.i,this.h)};function zu(l,h){Fe.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(zu,Fe),e=zu.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,ko(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Mo(this):ko(this),this.readyState==3&&Hy(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,Mo(this))},e.Na=function(l){this.g&&(this.response=l,Mo(this))},e.ga=function(){this.g&&Mo(this)};function Mo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ko(l)}e.setRequestHeader=function(l,h){this.A.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function ko(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Fy(l){let h="";return te(l,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function xh(l,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=Fy(p),typeof l=="string"?p!=null&&Xt(p):Ce(l,h,p))}function $e(l){Fe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d($e,Fe);var _2=/^https?$/i,S2=["POST","PUT"];e=$e.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nu.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){Gy(this,L);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var I in _)p.set(I,_[I]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const L of _.keys())p.set(L,_.get(L));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),I=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(S2,h,void 0)>=0)||_||I||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,F]of p)this.g.setRequestHeader(L,F);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Gy(this,L)}};function Gy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,Zy(l),Lu(l)}function Zy(l){l.A||(l.A=!0,Ye(l,"complete"),Ye(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ye(this,"complete"),Ye(this,"abort"),Lu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),$e.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?$y(this):this.Xa())},e.Xa=function(){$y(this)};function $y(l){if(l.h&&typeof r<"u"){if(l.v&&Qi(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ye(l,"readystatechange"),Qi(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=L===0){let F=String(l.D).match(zy)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),_=!_2.test(F?F.toLowerCase():"")}p=_}if(p)Ye(l,"complete"),Ye(l,"success");else{l.o=6;try{var I=Qi(l)>2?l.g.statusText:""}catch{I=""}l.l=I+" ["+l.ca()+"]",Zy(l)}}finally{Lu(l)}}}}function Lu(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,h||Ye(l,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Qi(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Qi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),wu(h)}};function qy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function b2(l){const h={};l=(l.g&&Qi(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(C(l[_]))continue;var p=Mu(l[_]);const I=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=h[I]||[];h[I]=L,L.push(p)}ce(h,function(_){return _.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function Xy(l){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Io("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Io("baseRetryDelayMs",5e3,l),this.Za=Io("retryDelaySeedMs",1e4,l),this.Ta=Io("forwardChannelMaxRetries",2,l),this.va=Io("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new gt(l&&l.concurrentRequestLimit),this.Ba=new v2,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Xy.prototype,e.ka=8,e.I=1,e.connect=function(l,h,p,_){pt(0),this.W=l,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=iv(this,null,this.W),Uu(this)};function Ch(l){if(Yy(l),l.I==3){var h=l.V++,p=Zn(l.J);if(Ce(p,"SID",l.M),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),zo(l,p),h=new Dn(l,l.j,h),h.M=2,h.A=Iu(Zn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.A,p=!0),p||(h.g=sv(h.j,null),h.g.ea(h.A)),h.F=Date.now(),X(h)}nv(l)}function Pu(l){l.g&&(Dh(l),l.g.cancel(),l.g=null)}function Yy(l){Pu(l),l.v&&(a.clearTimeout(l.v),l.v=null),ju(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Uu(l){if(!ln(l.h)&&!l.m){l.m=!0;var h=l.Ea;z||y(),V||(z(),V=!0),E.add(h,l),l.D=0}}function T2(l,h){return pi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=nr(c(l.Ea,l,h),tv(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const I=new Dn(this,this.j,l);let L=this.o;if(this.U&&(L?(L=ye(L),Me(L,this.U)):L=this.U),this.u!==null||this.R||(I.J=L,L=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Jy(this,I,h),p=Zn(this.J),Ce(p,"RID",l),Ce(p,"CVER",22),this.G&&Ce(p,"X-HTTP-Session-Id",this.G),zo(this,p),L&&(this.R?h="headers="+Xt(Fy(L))+"&"+h:this.u&&xh(p,this.u,L)),Ze(this.h,I),this.Ra&&Ce(p,"TYPE","init"),this.S?(Ce(p,"$req",h),Ce(p,"SID","null"),I.U=!0,Kr(I,p,null)):Kr(I,p,h),this.I=2}}else this.I==3&&(l?Ky(this,l):this.i.length==0||ln(this.h)||Ky(this))};function Ky(l,h){var p;h?p=h.l:p=l.V++;const _=Zn(l.J);Ce(_,"SID",l.M),Ce(_,"RID",p),Ce(_,"AID",l.K),zo(l,_),l.u&&l.o&&xh(_,l.u,l.o),p=new Dn(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Jy(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ze(l.h,p),Kr(p,_,h)}function zo(l,h){l.H&&te(l.H,function(p,_){Ce(h,_,p)}),l.l&&te({},function(p,_){Ce(h,_,p)})}function Jy(l,h,p){p=Math.min(l.i.length,p);const _=l.l?c(l.l.Ka,l.l,l):null;e:{var I=l.i;let ee=-1;for(;;){const st=["count="+p];ee==-1?p>0?(ee=I[0].g,st.push("ofs="+ee)):ee=0:st.push("ofs="+ee);let Ae=!0;for(let ut=0;ut<p;ut++){var L=I[ut].g;const $n=I[ut].map;if(L-=ee,L<0)ee=Math.max(0,I[ut].g-100),Ae=!1;else try{L="req"+L+"_"||"";try{var F=$n instanceof Map?$n:Object.entries($n);for(const[or,Wi]of F){let es=Wi;o(Wi)&&(es=Ws(Wi)),st.push(L+or+"="+encodeURIComponent(es))}}catch(or){throw st.push(L+"type="+encodeURIComponent("_badmap")),or}}catch{_&&_($n)}}if(Ae){F=st.join("&");break e}}F=void 0}return l=l.i.splice(0,p),h.G=l,F}function Qy(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;z||y(),V||(z(),V=!0),E.add(h,l),l.A=0}}function Oh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=nr(c(l.Da,l),tv(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Wy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=nr(c(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Pu(this),Wy(this))};function Dh(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function Wy(l){l.g=new Dn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Zn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),zo(l,h),l.u&&l.o&&xh(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Iu(Zn(h)),p.u=null,p.R=!0,Eo(p,l)}e.Va=function(){this.C!=null&&(this.C=null,Pu(this),Oh(this),pt(19))};function ju(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ev(l,h){var p=null;if(l.g==h){ju(l),Dh(l),l.g=null;var _=2}else if(sr(l.h,h))p=h.G,wo(l.h,h),_=1;else return;if(l.I!=0){if(h.o)if(_==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var I=l.D;_=er(),Ye(_,new qi(_,p)),Uu(l)}else Qy(l);else if(I=h.m,I==3||I==0&&h.X>0||!(_==1&&T2(l,h)||_==2&&Oh(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),I){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function tv(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function ar(l,h){if(l.j.info("Error code "+h),h==2){var p=c(l.bb,l),_=l.Ua;const I=!_;_=new Ki(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Co(_,"https"),Iu(_),I?g2(_.toString(),p):y2(_.toString(),p)}else pt(2);l.I=0,l.l&&l.l.pa(h),nv(l),Yy(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function nv(l){if(l.I=0,l.ja=[],l.l){const h=xo(l.h);(h.length!=0||l.i.length!=0)&&(O(l.ja,h),O(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function iv(l,h,p){var _=p instanceof Ki?Zn(p):new Ki(p);if(_.g!="")h&&(_.g=h+"."+_.g),Oo(_,_.u);else{var I=a.location;_=I.protocol,h=h?h+"."+I.hostname:I.hostname,I=+I.port;const L=new Ki(null);_&&Co(L,_),h&&(L.g=h),I&&Oo(L,I),p&&(L.h=p),_=L}return p=l.G,h=l.wa,p&&h&&Ce(_,p,h),Ce(_,"VER",l.ka),zo(l,_),_}function sv(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new $e(new wh({ab:p})):new $e(l.ma),h.Fa(l.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rv(){}e=rv.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function un(l,h){Fe.call(this),this.g=new Xy(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!C(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!C(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Qr(this)}d(un,Fe),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ch(this.g)},un.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Ws(l),l=p);h.i.push(new Pe(h.Ya++,l)),h.I==3&&Uu(h)},un.prototype.N=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,un.Z.N.call(this)};function av(l){$i.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}d(av,$i);function ov(){$t.call(this),this.status=1}d(ov,$t);function Qr(l){this.g=l}d(Qr,rv),Qr.prototype.ra=function(){Ye(this.g,"a")},Qr.prototype.qa=function(l){Ye(this.g,new av(l))},Qr.prototype.pa=function(l){Ye(this.g,new ov)},Qr.prototype.oa=function(){Ye(this.g,"b")},un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Ru.COMPLETE="complete",Cu.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh="12.8.0";function n4(e){hh=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Ig("@firebase/firestore");function Un(e,...t){if(Cf.logLevel<=_e.DEBUG){const n=t.map(xA);Cf.debug(`Firestore (${hh}): ${e}`,...n)}}function wA(e,...t){if(Cf.logLevel<=_e.ERROR){const n=t.map(xA);Cf.error(`Firestore (${hh}): ${e}`,...n)}}function xA(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,CA(e,i,n)}function CA(e,t,n){let i=`FIRESTORE (${hh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw wA(i),new Error(i)}function Tl(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||CA(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class de extends ci{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class r4{constructor(t){this.t=t,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Tl(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new El;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new El,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new El)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tl(typeof i.accessToken=="string",31837,{l:i}),new i4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tl(t===null||typeof t=="string",2055,{h:t}),new Jt(t)}}class a4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class o4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new a4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Tl(this.o===void 0,3512);const i=r=>{r.error!=null&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Un("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Tl(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new S_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=u4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function Us(e,t){return e<t?-1:e>t?1:0}function f4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Od(s)===Od(r)?Us(s,r):Od(s)?1:-1}return Us(e.length,t.length)}const h4=55296,d4=57343;function Od(e){const t=e.charCodeAt(0);return t>=h4&&t<=d4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class Xn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Of(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Of(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Xn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Xn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return Us(t.length,n.length)}static compareSegments(t,n){const i=Xn.isNumericId(t),s=Xn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Xn.extractNumericId(t).compare(Xn.extractNumericId(n)):f4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zg.fromString(t.substring(4,t.length-2))}}class zn extends Xn{construct(t,n,i){return new zn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new de(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Xn{construct(t,n,i){return new gr(t,n,i)}static isValidIdentifier(t){return m4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new gr([b_])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new de(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new de(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new de(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this.path=t}static fromPath(t){return new vr(zn.fromString(t))}static fromName(t){return new vr(zn.fromString(t).popFirst(5))}static empty(){return new vr(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return zn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vr(new zn(t.slice()))}}function p4(e,t,n,i){if(t===!0&&i===!0)throw new de(he.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function g4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e,t){const n={typeString:e};return t&&(n.value=t),n}function yu(e,t){if(!g4(e))throw new de(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new de(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=-62135596800,E_=1e6;class Kn{static now(){return Kn.fromMillis(Date.now())}static fromDate(t){return Kn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*E_);return new Kn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new de(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<T_)throw new de(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(t){return this.seconds===t.seconds?Us(this.nanoseconds,t.nanoseconds):Us(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(yu(t,Kn._jsonSchema))return new Kn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kn._jsonSchemaVersion="firestore/timestamp/1.0",Kn._jsonSchema={type:nt("string",Kn._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};function y4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new v4("Invalid base64 string: "+r):r}}(t);return new Ur(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new Ur(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Us(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const A_="(default)";class Df{constructor(t,n){this.projectId=t,this.database=n||A_}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===A_}isEqual(t){return t instanceof Df&&t.projectId===this.projectId&&t.database===this.database}}function _4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new de(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function b4(e){return new S4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w_,ue;(ue=w_||(w_={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zg([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=1048576;function Dd(){return typeof document<"u"?document:null}class A4{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Un("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new El,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new $g(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var x_,C_;(C_=x_||(x_={})).Ma="default",C_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="ComponentProvider",O_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="firestore.googleapis.com",D_=!0;class R_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new de(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C4,this.ssl=D_}else this.host=t.host,this.ssl=t.ssl??D_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=T4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E4)throw new de(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class O4{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new de(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new s4;switch(i.type){case"firstParty":return new o4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=O_.get(n);i&&(Un(x4,"Removing Datastore"),O_.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new qg(this.firestore,t,this._query)}}class ei{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ei(this.firestore,t,this._key)}toJSON(){return{type:ei._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(yu(n,ei._jsonSchema))return new ei(t,i||null,new vr(zn.fromString(n.referencePath)))}}ei._jsonSchemaVersion="firestore/documentReference/1.0",ei._jsonSchema={type:nt("string",ei._jsonSchemaVersion),referencePath:nt("string")};class Xg extends qg{constructor(t,n,i){super(t,n,b4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ei(this.firestore,null,new vr(t))}withConverter(t){return new Xg(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class M_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A4(this,"async_queue_retry"),this._c=()=>{const i=Dd();i&&Un(N_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Dd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Dd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new El;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!y4(t))throw t;Un(N_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,wA("INTERNAL UNHANDLED ERROR: ",k_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=$g.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Of(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function k_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class D4 extends O4{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new M_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M_(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(Ur.fromBase64String(t))}catch(n){throw new de(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xi(Ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(yu(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:nt("string",xi._jsonSchemaVersion),bytes:nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new de(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new de(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new de(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Us(this._lat,t._lat)||Us(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(t){if(yu(t,xr._jsonSchema))return new xr(t.latitude,t.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:nt("string",xr._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(yu(t,Cr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Cr(t.vectorValues);throw new de(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:nt("string",Cr._jsonSchemaVersion),vectorValues:nt("object")};function DA(e,t,n){if((t=xn(t))instanceof OA)return t._internalPath;if(typeof t=="string")return N4(e,t);throw ap("Field path arguments must be of type string or ",e)}const R4=new RegExp("[~\\*/\\[\\]]");function N4(e,t,n){if(t.search(R4)>=0)throw ap(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new OA(...t.split("."))._internalPath}catch{throw ap(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function ap(e,t,n,i,s){let r=`Function ${t}() called with invalid data`;r+=". ";let a="";return new de(he.INVALID_ARGUMENT,r+e+a)}const I_="@firebase/firestore",z_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new M4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(DA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M4 extends RA{data(){return super.data()}}class ac{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends RA{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(DA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:nt("string",Ia._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};class Pc extends Ia{data(t={}){return super.data(t)}}class Al{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Pc(this._firestore,this._userDataWriter,i.key,i,new ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new Pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ac(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Pc(s._firestore,s._userDataWriter,o.doc.key,o.doc,new ac(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:k4(o.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=c4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function k4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Of(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:nt("string",Al._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};(function(t,n=!0){n4(co),zr(new Ps("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new D4(new r4(i.getProvider("auth-internal")),new l4(a,i.getProvider("app-check-internal")),_4(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ni(I_,z_,t),ni(I_,z_,"esm2020")})();const NA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},I4=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let oc=null,Rd=null,lc=null;function MA(){if(!oc){const e=TN();e.length>0?oc=e[0]:oc=j1(NA)}return oc}function Nd(){return Rd||(Rd=e4(MA())),Rd}function ql(){if(!lc&&(lc=QN(MA()),I4&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{$1(lc,"localhost",5001)}catch{}return lc}function _s(){const e=NA.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const z4=5e3,L4=2e3,kA=3e4,gV=3e4,IA=30*1e3,zA=2e3,yV=60*60*1e3,LA=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],P4=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],U4=["none","learning","familiar","mastered"];function L_(e){return U4.indexOf(e)}function j4(e,t){return L_(e)>=L_(t)?e:t}function op(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function V4(e,t){const n=new Set,i=[];for(const s of[...e,...t]){const r=`${s.timestamp}-${s.difficulty}-${s.score}`;n.has(r)||(n.add(r),i.push(s))}return i.sort((s,r)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime())}function B4(e,t){return e?t?{sectionId:e.sectionId,visitedAt:op(e.visitedAt,t.visitedAt),completedAt:op(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:V4(e.quizAttempts,t.quizAttempts),masteryLevel:j4(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function H4(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const s of n){const r=B4(e[s],t[s]);r&&(i[s]=r)}return i}function F4(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:op(e.joinedAt,t.joinedAt)||e.joinedAt}}function G4(e,t){const n=new Map;for(const i of[...t,...e]){const s=n.get(i.id);s?(i.unlockedAt&&!s.unlockedAt||!i.unlockedAt&&!s.unlockedAt&&i.progress>s.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function Z4(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function $4(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function q4(e,t){return{version:Math.max(e.version,t.version),user:F4(e.user,t.user),sections:H4(e.sections,t.sections),achievements:G4(e.achievements,t.achievements),streak:Z4(e.streak,t.streak),dailyGoals:$4(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const Ti=ui("ProgressSync");class X4{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!_s())return Ti.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=ql(),i=await Ka(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,Ti.info("Fetched progress from server")),i.data}catch(t){return Ti.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};Ti.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(Ti.info("Server has existing progress, merging with local"),i=q4(t,n.progress)):i=t;const s=await this.syncNow(i);return s.success?(Ti.info("Migration complete"),{success:!0,state:s.state||i,merged:n.found}):s}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},IA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},zA))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!_s())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<kA)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=ql(),r=await Ka(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=r.data.lastSyncedAt,this.pendingState=null,r.data.merged&&r.data.serverProgress?(Ti.info("Server merged states due to conflict"),ah(r.data.serverProgress),this.setStatus("success"),{success:!0,state:r.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return Ti.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const s=await this.syncNow(t);if(s.success||s.error==="Not authenticated"||s.error==="Firebase not configured")return s;if(i<n-1){const r=1e3*Math.pow(2,i);Ti.debug(`Sync retry ${i+1}/${n} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let Md=null;function P_(){return Md||(Md=new X4),Md}const Yn=ui("NostrUtils"),lp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Y4=[996825010,642813549,513874426,1027748829,705979059];function PA(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(t^=Y4[s])}return t}function UA(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function K4(e,t){return PA([...UA(e),...t])===1}function J4(e,t){const n=[...UA(e),...t,0,0,0,0,0,0],i=PA(n)^1,s=[];for(let r=0;r<6;r++)s.push(i>>5*(5-r)&31);return s}function jA(e,t,n,i){let s=0,r=0;const a=[],o=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(s=s<<t|u,r+=t;r>=n;)r-=n,a.push(s>>r&o)}if(i)r>0&&a.push(s<<n-r&o);else if(r>=t||s<<n-r&o)return null;return a}function Q4(e,t){const n=jA(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=J4(e,n);let s=e+"1";for(const r of n)s+=lp[r];for(const r of i)s+=lp[r];return s}function W4(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const r=i.slice(0,s),a=i.slice(s+1),o=[];for(const f of a){const d=lp.indexOf(f);if(d===-1)return null;o.push(d)}if(!K4(r,o))return null;const u=o.slice(0,-6),c=jA(new Uint8Array(u),5,8,!1);return c?{hrp:r,data:new Uint8Array(c)}:null}function eI(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function tI(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function nI(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=eI(e);return Q4("npub",t)}function VA(e){const t=W4(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return tI(t.data)}async function iI(e){try{const t=VA(e),n=sI(),i=n.map(async a=>{try{return await Promise.race([BA(a,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(o){return Yn.debug(`Failed to fetch profile from relay ${a}:`,o),null}}),r=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return r.length>0?r[0]:(Yn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return Yn.debug("Failed to convert npub to hex:",t),null}}function sI(){return[...LA,...P4]}function vV(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Rf(){return typeof window<"u"&&typeof window.nostr<"u"}function rI(e=3e3){return new Promise(t=>{if(Rf()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Rf()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function BA(e,t){return new Promise(n=>{let i=!1,s=null,r=null;const a=()=>{if(!i&&(i=!0,r&&(clearTimeout(r),r=null),s&&s.readyState!==WebSocket.CLOSED&&s.readyState!==WebSocket.CLOSING))try{s.close()}catch(u){Yn.debug(`Error closing WebSocket for ${e}:`,u)}};r=setTimeout(()=>{Yn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},z4);try{s=new WebSocket(e)}catch(u){Yn.debug(`Failed to create WebSocket for relay ${e}:`,u),a(),n(null);return}const o=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(!(i||!s))try{const u=JSON.stringify(["REQ",o,{kinds:[0],authors:[t],limit:1}]);s.send(u)}catch(u){Yn.debug(`Failed to send subscription to ${e}:`,u),a(),n(null)}},s.onmessage=u=>{if(!i)try{const c=JSON.parse(u.data);if(c[0]==="EVENT"&&c[1]===o){const f=JSON.parse(c[2].content);a(),n({name:f.name||f.display_name,display_name:f.display_name,nip05:f.nip05,picture:f.picture,about:f.about})}else c[0]==="EOSE"&&(a(),n(null))}catch(c){Yn.debug(`Failed to parse WebSocket message from ${e}:`,c)}},s.onerror=u=>{Yn.debug(`WebSocket error for relay ${e}:`,u),a(),n(null)},s.onclose=u=>{i||(Yn.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),a(),n(null))}})}async function _V(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const r=e.slice(i,i+n).map(async a=>{const o=await iI(a);o&&t.set(a,o)});await Promise.all(r)}return t}const aI=22242;function U(e,t,n){function i(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,u);const c=a.prototype,f=Object.keys(c);for(let d=0;d<f.length;d++){const m=f[d];m in o||(o[m]=c[m].bind(o))}}const s=(n==null?void 0:n.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(o){var u;const c=n!=null&&n.Parent?new r:this;i(c,o),(u=c._zod).deferred??(u.deferred=[]);for(const f of c._zod.deferred)f();return c}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var u,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(u=o==null?void 0:o._zod)==null?void 0:u.traits)==null?void 0:c.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class za extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class HA extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const FA={};function js(e){return FA}function GA(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function up(e,t){return typeof t=="bigint"?t.toString():t}function Yg(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Kg(e){return e==null}function Jg(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oI(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(s=Number.parseInt(u[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return a%o/10**r}const U_=Symbol("evaluating");function be(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==U_)return i===void 0&&(i=U_,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Gr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Zs(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function j_(e){return JSON.stringify(e)}function lI(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ZA="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Nf(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const uI=Yg(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ja(e){if(Nf(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Nf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function $A(e){return Ja(e)?{...e}:Array.isArray(e)?[...e]:e}const cI=new Set(["string","number","symbol"]);function dh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $s(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function K(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function fI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const hI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function dI(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const r=Zs(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=n.shape[o])}return Gr(this,"shape",a),a},checks:[]});return $s(e,r)}function mI(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const r=Zs(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return Gr(this,"shape",a),a},checks:[]});return $s(e,r)}function pI(e,t){if(!Ja(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const r=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(r,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Zs(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Gr(this,"shape",r),r}});return $s(e,s)}function gI(e,t){if(!Ja(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Zs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Gr(this,"shape",i),i}});return $s(e,n)}function yI(e,t){const n=Zs(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return Gr(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return $s(e,n)}function vI(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Zs(t._zod.def,{get shape(){const o=t._zod.def.shape,u={...o};if(n)for(const c in n){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=e?new e({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)u[c]=e?new e({type:"optional",innerType:o[c]}):o[c];return Gr(this,"shape",u),u},checks:[]});return $s(t,a)}function _I(e,t,n){const i=Zs(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return Gr(this,"shape",r),r}});return $s(t,i)}function va(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function _a(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function uc(e){return typeof e=="string"?e:e==null?void 0:e.message}function Vs(e,t,n){var s,r,a,o,u,c;const i={...e,path:e.path??[]};if(!e.message){const f=uc((a=(r=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,e))??uc((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??uc((u=n.customError)==null?void 0:u.call(n,e))??uc((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";i.message=f}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Qg(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Xl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const qA=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,up,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},XA=U("$ZodError",qA),YA=U("$ZodError",qA,{Parent:Error});function SI(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function bI(e,t=n=>n.message){const n={_errors:[]},i=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>i({issues:a}));else if(r.code==="invalid_key")i({issues:r.issues});else if(r.code==="invalid_element")i({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,o=0;for(;o<r.path.length;){const u=r.path[o];o===r.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(r))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return i(e),n}const Wg=e=>(t,n,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new za;if(a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>Vs(u,r,js())));throw ZA(o,s==null?void 0:s.callee),o}return a.value},ey=e=>async(t,n,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>Vs(u,r,js())));throw ZA(o,s==null?void 0:s.callee),o}return a.value},mh=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new za;return r.issues.length?{success:!1,error:new(e??XA)(r.issues.map(a=>Vs(a,s,js())))}:{success:!0,data:r.value}},TI=mh(YA),ph=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>Vs(a,s,js())))}:{success:!0,data:r.value}},EI=ph(YA),AI=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Wg(e)(t,n,s)},wI=e=>(t,n,i)=>Wg(e)(t,n,i),xI=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ey(e)(t,n,s)},CI=e=>async(t,n,i)=>ey(e)(t,n,i),OI=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return mh(e)(t,n,s)},DI=e=>(t,n,i)=>mh(e)(t,n,i),RI=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ph(e)(t,n,s)},NI=e=>async(t,n,i)=>ph(e)(t,n,i),MI=/^[cC][^\s-]{8,}$/,kI=/^[0-9a-z]+$/,II=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,zI=/^[0-9a-vA-V]{20}$/,LI=/^[A-Za-z0-9]{27}$/,PI=/^[a-zA-Z0-9_-]{21}$/,UI=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,jI=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,V_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,VI=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,BI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function HI(){return new RegExp(BI,"u")}const FI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ZI=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$I=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qI=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,KA=/^[A-Za-z0-9_-]*$/,XI=/^\+[1-9]\d{6,14}$/,JA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",YI=new RegExp(`^${JA}$`);function QA(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function KI(e){return new RegExp(`^${QA(e)}$`)}function JI(e){const t=QA({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${JA}T(?:${i})$`)}const QI=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},WI=/^-?\d+$/,WA=/^-?\d+(?:\.\d+)?$/,e3=/^(?:true|false)$/i,t3=/^[^A-Z]*$/,n3=/^[^a-z]*$/,Gt=U("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),ew={number:"number",bigint:"bigint",object:"date"},tw=U("$ZodCheckLessThan",(e,t)=>{Gt.init(e,t);const n=ew[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nw=U("$ZodCheckGreaterThan",(e,t)=>{Gt.init(e,t);const n=ew[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),i3=U("$ZodCheckMultipleOf",(e,t)=>{Gt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oI(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),s3=U("$ZodCheckNumberFormat",(e,t)=>{var a;Gt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[s,r]=hI[t.format];e._zod.onattach.push(o=>{const u=o._zod.bag;u.format=t.format,u.minimum=s,u.maximum=r,n&&(u.pattern=WI)}),e._zod.check=o=>{const u=o.value;if(n){if(!Number.isInteger(u)){o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?o.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):o.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}u<s&&o.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),u>r&&o.issues.push({origin:"number",input:u,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),r3=U("$ZodCheckMaxLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=Qg(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),a3=U("$ZodCheckMinLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=Qg(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),o3=U("$ZodCheckLengthEquals",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,r=s.length;if(r===t.length)return;const a=Qg(s),o=r>t.length;i.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),gh=U("$ZodCheckStringFormat",(e,t)=>{var n,i;Gt.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),l3=U("$ZodCheckRegex",(e,t)=>{gh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),u3=U("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=t3),gh.init(e,t)}),c3=U("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=n3),gh.init(e,t)}),f3=U("$ZodCheckIncludes",(e,t)=>{Gt.init(e,t);const n=dh(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),h3=U("$ZodCheckStartsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`^${dh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),d3=U("$ZodCheckEndsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`.*${dh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),m3=U("$ZodCheckOverwrite",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class p3{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),r=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const g3={major:4,minor:3,patch:5},Be=U("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=g3;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const a of r._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const r=(o,u,c)=>{let f=va(o),d;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(f)continue;const g=o.issues.length,O=m._zod.check(o);if(O instanceof Promise&&(c==null?void 0:c.async)===!1)throw new za;if(d||O instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await O,o.issues.length!==g&&(f||(f=va(o,g)))});else{if(o.issues.length===g)continue;f||(f=va(o,g))}}return d?d.then(()=>o):o},a=(o,u,c)=>{if(va(o))return o.aborted=!0,o;const f=r(u,i,c);if(f instanceof Promise){if(c.async===!1)throw new za;return f.then(d=>e._zod.parse(d,c))}return e._zod.parse(f,c)};e._zod.run=(o,u)=>{if(u.skipChecks)return e._zod.parse(o,u);if(u.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(d=>a(d,o,u)):a(f,o,u)}const c=e._zod.parse(o,u);if(c instanceof Promise){if(u.async===!1)throw new za;return c.then(f=>r(f,i,u))}return r(c,i,u)}}be(e,"~standard",()=>({validate:r=>{var a;try{const o=TI(e,r);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return EI(e,r).then(u=>{var c;return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}))}),ty=U("$ZodString",(e,t)=>{var n;Be.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??QI(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Ie=U("$ZodStringFormat",(e,t)=>{gh.init(e,t),ty.init(e,t)}),y3=U("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=jI),Ie.init(e,t)}),v3=U("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=V_(i))}else t.pattern??(t.pattern=V_());Ie.init(e,t)}),_3=U("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=VI),Ie.init(e,t)}),S3=U("$ZodURL",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),b3=U("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=HI()),Ie.init(e,t)}),T3=U("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=PI),Ie.init(e,t)}),E3=U("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=MI),Ie.init(e,t)}),A3=U("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=kI),Ie.init(e,t)}),w3=U("$ZodULID",(e,t)=>{t.pattern??(t.pattern=II),Ie.init(e,t)}),x3=U("$ZodXID",(e,t)=>{t.pattern??(t.pattern=zI),Ie.init(e,t)}),C3=U("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=LI),Ie.init(e,t)}),O3=U("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=JI(t)),Ie.init(e,t)}),D3=U("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=YI),Ie.init(e,t)}),R3=U("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=KI(t)),Ie.init(e,t)}),N3=U("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=UI),Ie.init(e,t)}),M3=U("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=FI),Ie.init(e,t),e._zod.bag.format="ipv4"}),k3=U("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=GI),Ie.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),I3=U("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=ZI),Ie.init(e,t)}),z3=U("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$I),Ie.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,r]=i;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function iw(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const L3=U("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qI),Ie.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{iw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function P3(e){if(!KA.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return iw(n)}const U3=U("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=KA),Ie.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{P3(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),j3=U("$ZodE164",(e,t)=>{t.pattern??(t.pattern=XI),Ie.init(e,t)});function V3(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const B3=U("$ZodJWT",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{V3(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),sw=U("$ZodNumber",(e,t)=>{Be.init(e,t),e._zod.pattern=e._zod.bag.pattern??WA,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),H3=U("$ZodNumberFormat",(e,t)=>{s3.init(e,t),sw.init(e,t)}),F3=U("$ZodBoolean",(e,t)=>{Be.init(e,t),e._zod.pattern=e3,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),G3=U("$ZodUnknown",(e,t)=>{Be.init(e,t),e._zod.parse=n=>n}),Z3=U("$ZodNever",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function B_(e,t,n){e.issues.length&&t.issues.push(..._a(n,e.issues)),t.value[n]=e.value}const $3=U("$ZodArray",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const o=s[a],u=t.element._zod.run({value:o,issues:[]},i);u instanceof Promise?r.push(u.then(c=>B_(c,n,a))):B_(u,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function Mf(e,t,n,i,s){if(e.issues.length){if(s&&!(n in i))return;t.issues.push(..._a(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function rw(e){var i,s,r,a;const t=Object.keys(e.shape);for(const o of t)if(!((a=(r=(s=(i=e.shape)==null?void 0:i[o])==null?void 0:s._zod)==null?void 0:r.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=fI(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function aw(e,t,n,i,s,r){const a=[],o=s.keySet,u=s.catchall._zod,c=u.def.type,f=u.optout==="optional";for(const d in t){if(o.has(d))continue;if(c==="never"){a.push(d);continue}const m=u.run({value:t[d],issues:[]},i);m instanceof Promise?e.push(m.then(g=>Mf(g,n,d,t,f))):Mf(m,n,d,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const q3=U("$ZodObject",(e,t)=>{Be.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...o};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=Yg(()=>rw(t));be(e._zod,"propValues",()=>{const o=t.shape,u={};for(const c in o){const f=o[c]._zod;if(f.values){u[c]??(u[c]=new Set);for(const d of f.values)u[c].add(d)}}return u});const s=Nf,r=t.catchall;let a;e._zod.parse=(o,u)=>{a??(a=i.value);const c=o.value;if(!s(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const f=[],d=a.shape;for(const m of a.keys){const g=d[m],O=g._zod.optout==="optional",D=g._zod.run({value:c[m],issues:[]},u);D instanceof Promise?f.push(D.then(k=>Mf(k,o,m,c,O))):Mf(D,o,m,c,O)}return r?aw(f,c,o,u,i.value,e):f.length?Promise.all(f).then(()=>o):o}}),X3=U("$ZodObjectJIT",(e,t)=>{q3.init(e,t);const n=e._zod.parse,i=Yg(()=>rw(t)),s=m=>{var w;const g=new p3(["shape","payload","ctx"]),O=i.value,D=N=>{const z=j_(N);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};g.write("const input = payload.value;");const k=Object.create(null);let b=0;for(const N of O.keys)k[N]=`key_${b++}`;g.write("const newResult = {};");for(const N of O.keys){const z=k[N],V=j_(N),E=m[N],y=((w=E==null?void 0:E._zod)==null?void 0:w.optout)==="optional";g.write(`const ${z} = ${D(N)};`),y?g.write(`
        if (${z}.issues.length) {
          if (${V} in input) {
            payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${V}, ...iss.path] : [${V}]
            })));
          }
        }
        
        if (${z}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${z}.value;
        }
        
      `):g.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${z}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const v=g.compile();return(N,z)=>v(m,N,z)};let r;const a=Nf,o=!FA.jitless,c=o&&uI.value,f=t.catchall;let d;e._zod.parse=(m,g)=>{d??(d=i.value);const O=m.value;return a(O)?o&&c&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(r||(r=s(t.shape)),m=r(m,g),f?aw([],O,m,g,d,e):m):n(m,g):(m.issues.push({expected:"object",code:"invalid_type",input:O,inst:e}),m)}});function H_(e,t,n,i){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!va(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>Vs(a,i,js())))}),t)}const Y3=U("$ZodUnion",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),be(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),be(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),be(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>Jg(r.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return i(s,r);let a=!1;const o=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},r);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(u=>H_(u,s,e,r)):H_(o,s,e,r)}}),K3=U("$ZodIntersection",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([u,c])=>F_(n,u,c)):F_(n,r,a)}});function cp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ja(e)&&Ja(t)){const n=Object.keys(t),i=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of i){const a=cp(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],r=t[i],a=cp(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function F_(e,t,n){const i=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const u of o.keys)i.has(u)||i.set(u,{}),i.get(u).l=!0}else e.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const u of o.keys)i.has(u)||i.set(u,{}),i.get(u).r=!0;else e.issues.push(o);const r=[...i].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(r.length&&s&&e.issues.push({...s,keys:r}),va(e))return e;const a=cp(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const J3=U("$ZodRecord",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Ja(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const f=t.valueType._zod.run({value:s[c],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(..._a(c,d.issues)),n.value[c]=d.value})):(f.issues.length&&n.issues.push(..._a(c,f.issues)),n.value[c]=f.value)}let u;for(const c in s)o.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let u=t.keyType._zod.run({value:o,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&WA.test(o)&&u.issues.length&&u.issues.some(d=>d.code==="invalid_type"&&d.expected==="number")){const d=t.keyType._zod.run({value:Number(o),issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(u=d)}if(u.issues.length){t.mode==="loose"?n.value[o]=s[o]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>Vs(d,i,js())),input:o,path:[o],inst:e});continue}const f=t.valueType._zod.run({value:s[o],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(..._a(o,d.issues)),n.value[u.value]=d.value})):(f.issues.length&&n.issues.push(..._a(o,f.issues)),n.value[u.value]=f.value)}}return r.length?Promise.all(r).then(()=>n):n}}),Q3=U("$ZodEnum",(e,t)=>{Be.init(e,t);const n=GA(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>cI.has(typeof s)).map(s=>typeof s=="string"?dh(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return i.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),W3=U("$ZodTransform",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new HA(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new za;return n.value=s,n}});function G_(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ow=U("$ZodOptional",(e,t)=>{Be.init(e,t),e._zod.optin="optional",e._zod.optout="optional",be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jg(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>G_(r,n.value)):G_(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),ez=U("$ZodExactOptional",(e,t)=>{ow.init(e,t),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),tz=U("$ZodNullable",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jg(n.source)}|null)$`):void 0}),be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),nz=U("$ZodDefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Z_(r,t)):Z_(s,t)}});function Z_(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const iz=U("$ZodPrefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),sz=U("$ZodNonOptional",(e,t)=>{Be.init(e,t),be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>$_(r,e)):$_(s,e)}});function $_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rz=U("$ZodCatch",(e,t)=>{Be.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Vs(a,i,js()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>Vs(r,i,js()))},input:n.value}),n.issues=[]),n)}}),az=U("$ZodPipe",(e,t)=>{Be.init(e,t),be(e._zod,"values",()=>t.in._zod.values),be(e._zod,"optin",()=>t.in._zod.optin),be(e._zod,"optout",()=>t.out._zod.optout),be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const r=t.out._zod.run(n,i);return r instanceof Promise?r.then(a=>cc(a,t.in,i)):cc(r,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(r=>cc(r,t.out,i)):cc(s,t.out,i)}});function cc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const oz=U("$ZodReadonly",(e,t)=>{Be.init(e,t),be(e._zod,"propValues",()=>t.innerType._zod.propValues),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),be(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(q_):q_(s)}});function q_(e){return e.value=Object.freeze(e.value),e}const lz=U("$ZodCustom",(e,t)=>{Gt.init(e,t),Be.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(r=>X_(r,n,i,e));X_(s,n,i,e)}});function X_(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(Xl(s))}}var Y_;class uz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function cz(){return new uz}(Y_=globalThis).__zod_globalRegistry??(Y_.__zod_globalRegistry=cz());const il=globalThis.__zod_globalRegistry;function fz(e,t){return new e({type:"string",...K(t)})}function hz(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...K(t)})}function K_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...K(t)})}function dz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...K(t)})}function mz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...K(t)})}function pz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...K(t)})}function gz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...K(t)})}function yz(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...K(t)})}function vz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...K(t)})}function _z(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...K(t)})}function Sz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...K(t)})}function bz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...K(t)})}function Tz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...K(t)})}function Ez(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...K(t)})}function Az(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...K(t)})}function wz(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...K(t)})}function xz(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...K(t)})}function Cz(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...K(t)})}function Oz(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...K(t)})}function Dz(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...K(t)})}function Rz(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...K(t)})}function Nz(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...K(t)})}function Mz(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...K(t)})}function kz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...K(t)})}function Iz(e,t){return new e({type:"string",format:"date",check:"string_format",...K(t)})}function zz(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...K(t)})}function Lz(e,t){return new e({type:"string",format:"duration",check:"string_format",...K(t)})}function Pz(e,t){return new e({type:"number",checks:[],...K(t)})}function Uz(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...K(t)})}function jz(e,t){return new e({type:"boolean",...K(t)})}function Vz(e){return new e({type:"unknown"})}function Bz(e,t){return new e({type:"never",...K(t)})}function J_(e,t){return new tw({check:"less_than",...K(t),value:e,inclusive:!1})}function kd(e,t){return new tw({check:"less_than",...K(t),value:e,inclusive:!0})}function Q_(e,t){return new nw({check:"greater_than",...K(t),value:e,inclusive:!1})}function Id(e,t){return new nw({check:"greater_than",...K(t),value:e,inclusive:!0})}function W_(e,t){return new i3({check:"multiple_of",...K(t),value:e})}function lw(e,t){return new r3({check:"max_length",...K(t),maximum:e})}function kf(e,t){return new a3({check:"min_length",...K(t),minimum:e})}function uw(e,t){return new o3({check:"length_equals",...K(t),length:e})}function Hz(e,t){return new l3({check:"string_format",format:"regex",...K(t),pattern:e})}function Fz(e){return new u3({check:"string_format",format:"lowercase",...K(e)})}function Gz(e){return new c3({check:"string_format",format:"uppercase",...K(e)})}function Zz(e,t){return new f3({check:"string_format",format:"includes",...K(t),includes:e})}function $z(e,t){return new h3({check:"string_format",format:"starts_with",...K(t),prefix:e})}function qz(e,t){return new d3({check:"string_format",format:"ends_with",...K(t),suffix:e})}function ho(e){return new m3({check:"overwrite",tx:e})}function Xz(e){return ho(t=>t.normalize(e))}function Yz(){return ho(e=>e.trim())}function Kz(){return ho(e=>e.toLowerCase())}function Jz(){return ho(e=>e.toUpperCase())}function Qz(){return ho(e=>lI(e))}function Wz(e,t,n){return new e({type:"array",element:t,...K(n)})}function eL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...K(n)})}function tL(e){const t=nL(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Xl(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Xl(s))}},e(n.value,n)));return t}function nL(e,t){const n=new Gt({check:"custom",...K(t)});return n._zod.check=e,n}function cw(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??il,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function it(e,t,n={path:[],schemaPath:[]}){var f,d;var i;const s=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const o=(d=(f=e._zod).toJSONSchema)==null?void 0:d.call(f);if(o)a.schema=o;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,m);else{const O=a.schema,D=t.processors[s.type];if(!D)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);D(e,t,O,m)}const g=e._zod.parent;g&&(a.ref||(a.ref=g),it(g,t,m),t.seen.get(g).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&Ot(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function fw(e,t){var a,o,u,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const f of e.seen.entries()){const d=(a=e.metadataRegistry.get(f[0]))==null?void 0:a.id;if(d){const m=i.get(d);if(m&&m!==f[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(d,f[0])}}const s=f=>{var D;const d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const k=(D=e.external.registry.get(f[0]))==null?void 0:D.id,b=e.external.uri??(w=>w);if(k)return{ref:b(k)};const v=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=v,{defId:v,ref:`${b("__shared")}#/${d}/${v}`}}if(f[1]===n)return{ref:"#"};const g=`#/${d}/`,O=f[1].schema.id??`__schema${e.counter++}`;return{defId:O,ref:g+O}},r=f=>{if(f[1].schema.$ref)return;const d=f[1],{ref:m,defId:g}=s(f);d.def={...d.schema},g&&(d.defId=g);const O=d.schema;for(const D in O)delete O[D];O.$ref=m};if(e.cycles==="throw")for(const f of e.seen.entries()){const d=f[1];if(d.cycle)throw new Error(`Cycle detected: #/${(o=d.cycle)==null?void 0:o.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const d=f[1];if(t===f[0]){r(f);continue}if(e.external){const g=(u=e.external.registry.get(f[0]))==null?void 0:u.id;if(t!==f[0]&&g){r(f);continue}}if((c=e.metadataRegistry.get(f[0]))==null?void 0:c.id){r(f);continue}if(d.cycle){r(f);continue}if(d.count>1&&e.reused==="ref"){r(f);continue}}}function hw(e,t){var a,o,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{const f=e.seen.get(c);if(f.ref===null)return;const d=f.def??f.schema,m={...d},g=f.ref;if(f.ref=null,g){i(g);const D=e.seen.get(g),k=D.schema;if(k.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(k)):Object.assign(d,k),Object.assign(d,m),c._zod.parent===g)for(const v in d)v==="$ref"||v==="allOf"||v in m||delete d[v];if(k.$ref)for(const v in d)v==="$ref"||v==="allOf"||v in D.def&&JSON.stringify(d[v])===JSON.stringify(D.def[v])&&delete d[v]}const O=c._zod.parent;if(O&&O!==g){i(O);const D=e.seen.get(O);if(D!=null&&D.schema.$ref&&(d.$ref=D.schema.$ref,D.def))for(const k in d)k==="$ref"||k==="allOf"||k in D.def&&JSON.stringify(d[k])===JSON.stringify(D.def[k])&&delete d[k]}e.override({zodSchema:c,jsonSchema:d,path:f.path??[]})};for(const c of[...e.seen.entries()].reverse())i(c[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const c=(o=e.external.registry.get(t))==null?void 0:o.id;if(!c)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(c)}Object.assign(s,n.def??n.schema);const r=((u=e.external)==null?void 0:u.defs)??{};for(const c of e.seen.entries()){const f=c[1];f.def&&f.defId&&(r[f.defId]=f.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?s.$defs=r:s.definitions=r);try{const c=JSON.parse(JSON.stringify(s));return Object.defineProperty(c,"~standard",{value:{...t["~standard"],jsonSchema:{input:If(t,"input",e.processors),output:If(t,"output",e.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Ot(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Ot(i.element,n);if(i.type==="set")return Ot(i.valueType,n);if(i.type==="lazy")return Ot(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Ot(i.innerType,n);if(i.type==="intersection")return Ot(i.left,n)||Ot(i.right,n);if(i.type==="record"||i.type==="map")return Ot(i.keyType,n)||Ot(i.valueType,n);if(i.type==="pipe")return Ot(i.in,n)||Ot(i.out,n);if(i.type==="object"){for(const s in i.shape)if(Ot(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(Ot(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(Ot(s,n))return!0;return!!(i.rest&&Ot(i.rest,n))}return!1}const iL=(e,t={})=>n=>{const i=cw({...n,processors:t});return it(e,i),fw(i,e),hw(i,e)},If=(e,t,n={})=>i=>{const{libraryOptions:s,target:r}=i??{},a=cw({...s??{},target:r,io:t,processors:n});return it(e,a),fw(a,e),hw(a,e)},sL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},rL=(e,t,n,i)=>{const s=n;s.type="string";const{minimum:r,maximum:a,format:o,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof r=="number"&&(s.minLength=r),typeof a=="number"&&(s.maxLength=a),o&&(s.format=sL[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),c&&(s.contentEncoding=c),u&&u.size>0){const f=[...u];f.length===1?s.pattern=f[0].source:f.length>1&&(s.allOf=[...f.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},aL=(e,t,n,i)=>{const s=n,{minimum:r,maximum:a,format:o,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:f}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=f,s.exclusiveMinimum=!0):s.exclusiveMinimum=f),typeof r=="number"&&(s.minimum=r,typeof f=="number"&&t.target!=="draft-04"&&(f>=r?delete s.minimum:delete s.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=c,s.exclusiveMaximum=!0):s.exclusiveMaximum=c),typeof a=="number"&&(s.maximum=a,typeof c=="number"&&t.target!=="draft-04"&&(c<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},oL=(e,t,n,i)=>{n.type="boolean"},lL=(e,t,n,i)=>{n.not={}},uL=(e,t,n,i)=>{},cL=(e,t,n,i)=>{const s=e._zod.def,r=GA(s.entries);r.every(a=>typeof a=="number")&&(n.type="number"),r.every(a=>typeof a=="string")&&(n.type="string"),n.enum=r},fL=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},hL=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},dL=(e,t,n,i)=>{const s=n,r=e._zod.def,{minimum:a,maximum:o}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=it(r.element,t,{...i,path:[...i.path,"items"]})},mL=(e,t,n,i)=>{var c;const s=n,r=e._zod.def;s.type="object",s.properties={};const a=r.shape;for(const f in a)s.properties[f]=it(a[f],t,{...i,path:[...i.path,"properties",f]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(f=>{const d=r.shape[f]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));u.size>0&&(s.required=Array.from(u)),((c=r.catchall)==null?void 0:c._zod.def.type)==="never"?s.additionalProperties=!1:r.catchall?r.catchall&&(s.additionalProperties=it(r.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},pL=(e,t,n,i)=>{const s=e._zod.def,r=s.inclusive===!1,a=s.options.map((o,u)=>it(o,t,{...i,path:[...i.path,r?"oneOf":"anyOf",u]}));r?n.oneOf=a:n.anyOf=a},gL=(e,t,n,i)=>{const s=e._zod.def,r=it(s.left,t,{...i,path:[...i.path,"allOf",0]}),a=it(s.right,t,{...i,path:[...i.path,"allOf",1]}),o=c=>"allOf"in c&&Object.keys(c).length===1,u=[...o(r)?r.allOf:[r],...o(a)?a.allOf:[a]];n.allOf=u},yL=(e,t,n,i)=>{const s=n,r=e._zod.def;s.type="object";const a=r.keyType,o=a._zod.bag,u=o==null?void 0:o.patterns;if(r.mode==="loose"&&u&&u.size>0){const f=it(r.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});s.patternProperties={};for(const d of u)s.patternProperties[d.source]=f}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=it(r.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=it(r.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const c=a._zod.values;if(c){const f=[...c].filter(d=>typeof d=="string"||typeof d=="number");f.length>0&&(s.required=f)}},vL=(e,t,n,i)=>{const s=e._zod.def,r=it(s.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},_L=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},SL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},bL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},TL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},EL=(e,t,n,i)=>{const s=e._zod.def,r=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;it(r,t,i);const a=t.seen.get(e);a.ref=r},AL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.readOnly=!0},dw=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},wL=U("ZodISODateTime",(e,t)=>{O3.init(e,t),Le.init(e,t)});function xL(e){return kz(wL,e)}const CL=U("ZodISODate",(e,t)=>{D3.init(e,t),Le.init(e,t)});function OL(e){return Iz(CL,e)}const DL=U("ZodISOTime",(e,t)=>{R3.init(e,t),Le.init(e,t)});function RL(e){return zz(DL,e)}const NL=U("ZodISODuration",(e,t)=>{N3.init(e,t),Le.init(e,t)});function ML(e){return Lz(NL,e)}const kL=(e,t)=>{XA.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>bI(e,n)},flatten:{value:n=>SI(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,up,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,up,2)}},isEmpty:{get(){return e.issues.length===0}}})},Cn=U("ZodError",kL,{Parent:Error}),IL=Wg(Cn),zL=ey(Cn),LL=mh(Cn),PL=ph(Cn),UL=AI(Cn),jL=wI(Cn),VL=xI(Cn),BL=CI(Cn),HL=OI(Cn),FL=DI(Cn),GL=RI(Cn),ZL=NI(Cn),He=U("ZodType",(e,t)=>(Be.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:If(e,"input"),output:If(e,"output")}}),e.toJSONSchema=iL(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Zs(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>$s(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>IL(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>LL(e,n,i),e.parseAsync=async(n,i)=>zL(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>PL(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>UL(e,n,i),e.decode=(n,i)=>jL(e,n,i),e.encodeAsync=async(n,i)=>VL(e,n,i),e.decodeAsync=async(n,i)=>BL(e,n,i),e.safeEncode=(n,i)=>HL(e,n,i),e.safeDecode=(n,i)=>FL(e,n,i),e.safeEncodeAsync=async(n,i)=>GL(e,n,i),e.safeDecodeAsync=async(n,i)=>ZL(e,n,i),e.refine=(n,i)=>e.check(U6(n,i)),e.superRefine=n=>e.check(j6(n)),e.overwrite=n=>e.check(ho(n)),e.optional=()=>nS(e),e.exactOptional=()=>w6(e),e.nullable=()=>iS(e),e.nullish=()=>nS(iS(e)),e.nonoptional=n=>N6(e,n),e.array=()=>Qa(e),e.or=n=>gw([e,n]),e.and=n=>S6(e,n),e.transform=n=>sS(e,E6(n)),e.default=n=>O6(e,n),e.prefault=n=>R6(e,n),e.catch=n=>k6(e,n),e.pipe=n=>sS(e,n),e.readonly=()=>L6(e),e.describe=n=>{const i=e.clone();return il.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=il.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return il.get(e);const i=e.clone();return il.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),mw=U("_ZodString",(e,t)=>{ty.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>rL(e,i,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(Hz(...i)),e.includes=(...i)=>e.check(Zz(...i)),e.startsWith=(...i)=>e.check($z(...i)),e.endsWith=(...i)=>e.check(qz(...i)),e.min=(...i)=>e.check(kf(...i)),e.max=(...i)=>e.check(lw(...i)),e.length=(...i)=>e.check(uw(...i)),e.nonempty=(...i)=>e.check(kf(1,...i)),e.lowercase=i=>e.check(Fz(i)),e.uppercase=i=>e.check(Gz(i)),e.trim=()=>e.check(Yz()),e.normalize=(...i)=>e.check(Xz(...i)),e.toLowerCase=()=>e.check(Kz()),e.toUpperCase=()=>e.check(Jz()),e.slugify=()=>e.check(Qz())}),$L=U("ZodString",(e,t)=>{ty.init(e,t),mw.init(e,t),e.email=n=>e.check(hz(qL,n)),e.url=n=>e.check(yz(XL,n)),e.jwt=n=>e.check(Mz(u6,n)),e.emoji=n=>e.check(vz(YL,n)),e.guid=n=>e.check(K_(eS,n)),e.uuid=n=>e.check(dz(fc,n)),e.uuidv4=n=>e.check(mz(fc,n)),e.uuidv6=n=>e.check(pz(fc,n)),e.uuidv7=n=>e.check(gz(fc,n)),e.nanoid=n=>e.check(_z(KL,n)),e.guid=n=>e.check(K_(eS,n)),e.cuid=n=>e.check(Sz(JL,n)),e.cuid2=n=>e.check(bz(QL,n)),e.ulid=n=>e.check(Tz(WL,n)),e.base64=n=>e.check(Dz(a6,n)),e.base64url=n=>e.check(Rz(o6,n)),e.xid=n=>e.check(Ez(e6,n)),e.ksuid=n=>e.check(Az(t6,n)),e.ipv4=n=>e.check(wz(n6,n)),e.ipv6=n=>e.check(xz(i6,n)),e.cidrv4=n=>e.check(Cz(s6,n)),e.cidrv6=n=>e.check(Oz(r6,n)),e.e164=n=>e.check(Nz(l6,n)),e.datetime=n=>e.check(xL(n)),e.date=n=>e.check(OL(n)),e.time=n=>e.check(RL(n)),e.duration=n=>e.check(ML(n))});function ot(e){return fz($L,e)}const Le=U("ZodStringFormat",(e,t)=>{Ie.init(e,t),mw.init(e,t)}),qL=U("ZodEmail",(e,t)=>{_3.init(e,t),Le.init(e,t)}),eS=U("ZodGUID",(e,t)=>{y3.init(e,t),Le.init(e,t)}),fc=U("ZodUUID",(e,t)=>{v3.init(e,t),Le.init(e,t)}),XL=U("ZodURL",(e,t)=>{S3.init(e,t),Le.init(e,t)}),YL=U("ZodEmoji",(e,t)=>{b3.init(e,t),Le.init(e,t)}),KL=U("ZodNanoID",(e,t)=>{T3.init(e,t),Le.init(e,t)}),JL=U("ZodCUID",(e,t)=>{E3.init(e,t),Le.init(e,t)}),QL=U("ZodCUID2",(e,t)=>{A3.init(e,t),Le.init(e,t)}),WL=U("ZodULID",(e,t)=>{w3.init(e,t),Le.init(e,t)}),e6=U("ZodXID",(e,t)=>{x3.init(e,t),Le.init(e,t)}),t6=U("ZodKSUID",(e,t)=>{C3.init(e,t),Le.init(e,t)}),n6=U("ZodIPv4",(e,t)=>{M3.init(e,t),Le.init(e,t)}),i6=U("ZodIPv6",(e,t)=>{k3.init(e,t),Le.init(e,t)}),s6=U("ZodCIDRv4",(e,t)=>{I3.init(e,t),Le.init(e,t)}),r6=U("ZodCIDRv6",(e,t)=>{z3.init(e,t),Le.init(e,t)}),a6=U("ZodBase64",(e,t)=>{L3.init(e,t),Le.init(e,t)}),o6=U("ZodBase64URL",(e,t)=>{U3.init(e,t),Le.init(e,t)}),l6=U("ZodE164",(e,t)=>{j3.init(e,t),Le.init(e,t)}),u6=U("ZodJWT",(e,t)=>{B3.init(e,t),Le.init(e,t)}),pw=U("ZodNumber",(e,t)=>{sw.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>aL(e,i,s),e.gt=(i,s)=>e.check(Q_(i,s)),e.gte=(i,s)=>e.check(Id(i,s)),e.min=(i,s)=>e.check(Id(i,s)),e.lt=(i,s)=>e.check(J_(i,s)),e.lte=(i,s)=>e.check(kd(i,s)),e.max=(i,s)=>e.check(kd(i,s)),e.int=i=>e.check(tS(i)),e.safe=i=>e.check(tS(i)),e.positive=i=>e.check(Q_(0,i)),e.nonnegative=i=>e.check(Id(0,i)),e.negative=i=>e.check(J_(0,i)),e.nonpositive=i=>e.check(kd(0,i)),e.multipleOf=(i,s)=>e.check(W_(i,s)),e.step=(i,s)=>e.check(W_(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _t(e){return Pz(pw,e)}const c6=U("ZodNumberFormat",(e,t)=>{H3.init(e,t),pw.init(e,t)});function tS(e){return Uz(c6,e)}const f6=U("ZodBoolean",(e,t)=>{F3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>oL(e,n,i)});function h6(e){return jz(f6,e)}const d6=U("ZodUnknown",(e,t)=>{G3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>uL()});function fp(){return Vz(d6)}const m6=U("ZodNever",(e,t)=>{Z3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>lL(e,n,i)});function p6(e){return Bz(m6,e)}const g6=U("ZodArray",(e,t)=>{$3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>dL(e,n,i,s),e.element=t.element,e.min=(n,i)=>e.check(kf(n,i)),e.nonempty=n=>e.check(kf(1,n)),e.max=(n,i)=>e.check(lw(n,i)),e.length=(n,i)=>e.check(uw(n,i)),e.unwrap=()=>e.element});function Qa(e,t){return Wz(g6,e,t)}const y6=U("ZodObject",(e,t)=>{X3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>mL(e,n,i,s),be(e,"shape",()=>t.shape),e.keyof=()=>dp(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fp()}),e.loose=()=>e.clone({...e._zod.def,catchall:fp()}),e.strict=()=>e.clone({...e._zod.def,catchall:p6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>pI(e,n),e.safeExtend=n=>gI(e,n),e.merge=n=>yI(e,n),e.pick=n=>dI(e,n),e.omit=n=>mI(e,n),e.partial=(...n)=>vI(vw,e,n[0]),e.required=(...n)=>_I(_w,e,n[0])});function jn(e,t){const n={type:"object",shape:e??{},...K(t)};return new y6(n)}const v6=U("ZodUnion",(e,t)=>{Y3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>pL(e,n,i,s),e.options=t.options});function gw(e,t){return new v6({type:"union",options:e,...K(t)})}const _6=U("ZodIntersection",(e,t)=>{K3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>gL(e,n,i,s)});function S6(e,t){return new _6({type:"intersection",left:e,right:t})}const b6=U("ZodRecord",(e,t)=>{J3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>yL(e,n,i,s),e.keyType=t.keyType,e.valueType=t.valueType});function yw(e,t,n){return new b6({type:"record",keyType:e,valueType:t,...K(n)})}const hp=U("ZodEnum",(e,t)=>{Q3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>cL(e,i,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const r={};for(const a of i)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new hp({...t,checks:[],...K(s),entries:r})},e.exclude=(i,s)=>{const r={...t.entries};for(const a of i)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new hp({...t,checks:[],...K(s),entries:r})}});function dp(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new hp({type:"enum",entries:n,...K(t)})}const T6=U("ZodTransform",(e,t)=>{W3.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>hL(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new HA(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(Xl(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(Xl(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function E6(e){return new T6({type:"transform",transform:e})}const vw=U("ZodOptional",(e,t)=>{ow.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>dw(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function nS(e){return new vw({type:"optional",innerType:e})}const A6=U("ZodExactOptional",(e,t)=>{ez.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>dw(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function w6(e){return new A6({type:"optional",innerType:e})}const x6=U("ZodNullable",(e,t)=>{tz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>vL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function iS(e){return new x6({type:"nullable",innerType:e})}const C6=U("ZodDefault",(e,t)=>{nz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>SL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function O6(e,t){return new C6({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():$A(t)}})}const D6=U("ZodPrefault",(e,t)=>{iz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>bL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function R6(e,t){return new D6({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():$A(t)}})}const _w=U("ZodNonOptional",(e,t)=>{sz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>_L(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function N6(e,t){return new _w({type:"nonoptional",innerType:e,...K(t)})}const M6=U("ZodCatch",(e,t)=>{rz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>TL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function k6(e,t){return new M6({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const I6=U("ZodPipe",(e,t)=>{az.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>EL(e,n,i,s),e.in=t.in,e.out=t.out});function sS(e,t){return new I6({type:"pipe",in:e,out:t})}const z6=U("ZodReadonly",(e,t)=>{oz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>AL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function L6(e){return new z6({type:"readonly",innerType:e})}const P6=U("ZodCustom",(e,t)=>{lz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>fL(e,n)});function U6(e,t={}){return eL(P6,e,t)}function j6(e){return tL(e)}ui("Validation");const rS=ot().min(1).max(100);ot().regex(/^[a-fA-F0-9]{64}$/);const yh=ot().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),Sw=ot().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);ot().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);jn({challenge:ot().min(10).max(200),expiresAt:_t().int().positive()});jn({kind:_t().int(),created_at:_t().int().nonnegative(),tags:Qa(Qa(ot())),content:ot()});const V6=jn({npub:yh,displayName:Sw.nullable()}),bw=jn({visitedAt:ot().nullable().optional(),completedAt:ot().nullable().optional(),quizAttempts:Qa(jn({xpEarned:_t().int().min(0).optional(),score:_t().min(0).max(100).optional(),timestamp:ot().optional(),difficulty:dp(["easy","medium","hard"]).optional(),correctAnswers:_t().int().min(0).optional(),totalQuestions:_t().int().min(1).optional()})).optional(),visualizationsInteracted:Qa(ot().max(100)).optional(),masteryLevel:gw([_t().int().min(0).max(3),dp(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:ot().optional(),timeSpentSeconds:_t().int().min(0).optional()});jn({user:jn({totalXP:_t().int().min(0),level:_t().int().min(1).max(10),sectionsCompleted:Qa(rS)}),sections:yw(rS,bw),dailyGoals:jn({lastResetDate:ot().nullable(),currentStreak:_t().int().min(0),xpEarned:_t().int().min(0),xpGoal:_t().int().min(0)}),lastUpdated:_t().int().nonnegative()});jn({success:h6(),totalXP:_t().int().min(0)});jn({npub:yh,displayName:Sw.nullable(),xp:_t().int().min(0),lastSync:ot()});jn({timestamp:ot(),action:ot(),targetNpub:yh.nullable(),performedBy:ot(),details:yw(ot(),fp()).nullable()});function SV(e){return yh.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function B6(e){const t=bw.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function H6(e){const t=V6.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const zf=ui("SyncManager"),F6="magic-internet-math-progress";function aS(){try{const e=localStorage.getItem(F6);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[s,r]of Object.entries(t.sections)){const[a]=s.split(":");if(!OD(a))continue;const o=a,u=B6(r);if(!u.valid||!u.data){zf.warn(`Invalid section data for ${s}, skipping`);continue}const c=u.data;if(c.quizAttempts)for(const f of c.quizAttempts)f.xpEarned&&(i[o]+=f.xpEarned);c.visitedAt&&(i[o]+=mt.SECTION_VISIT),c.completedAt&&(i[o]+=mt.SECTION_COMPLETE),c.visualizationsInteracted&&(i[o]+=c.visualizationsInteracted.length*mt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return zf.error("Error extracting scores from storage:",e),null}}class G6{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},IA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},zA))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!_s())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<kA)return{success:!1,error:"Rate limited"};try{const n=aS();if(!n)return{success:!1,error:"No scores to sync"};const i=ql(),s=Ka(i,"syncScores"),r={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(r.displayName=this.displayName);const a=await s(r);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return zf.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const s=1e3*Math.pow(2,n);zf.debug(`Sync retry ${n+1}/${t} in ${s}ms`),await new Promise(r=>setTimeout(r,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=aS();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let zd=null;function Yo(){return zd||(zd=new G6),zd}const ct=ui("NostrAuth"),Tw=P.createContext(null),Ko="magic-internet-math-nostr-auth";function Z6({children:e}){const[t,n]=P.useState(!1),[i,s]=P.useState(null),[r,a]=P.useState(null),[o,u]=P.useState(null),[c,f]=P.useState(!1),[d,m]=P.useState(null),[g,O]=P.useState(!1),[D,k]=P.useState(!1),[b,v]=P.useState(null);P.useEffect(()=>{(async()=>{const A=await rI(L4);O(A),k(!0)})()},[]);const w=P.useCallback(async S=>{for(const A of LA)try{const x=await BA(A,S);if(x){x.nip05&&u(x.nip05);const M=x.display_name||x.name;if(M){a(M);const C=Yo();C.setDisplayName(M),C.requestSync()}return}}catch(x){ct.warn(`Failed to fetch profile from ${A}:`,x)}},[]);P.useEffect(()=>{if(!_s())return;const S=Nd(),A=HM(S,async x=>{if(v(x),x){s(x.uid);try{const C=await x.getIdTokenResult(!0);ct.debug("Token claims:",C.claims),f(C.claims.isAdmin===!0)}catch(C){ct.error("Error getting token:",C),f(!1)}try{const C=localStorage.getItem(Ko);if(C){const re=JSON.parse(C),oe=H6(re);if(!oe.valid||!oe.data){ct.warn("Invalid auth state in localStorage:",oe.error),localStorage.removeItem(Ko);return}oe.data.npub===x.uid&&a(oe.data.displayName)}}catch(C){ct.debug("Storage read error:",C)}const M=Yo();M.setAuthenticated(!0),M.startPeriodicSync();try{const C=VA(x.uid);w(C)}catch(C){ct.debug("Npub conversion error:",C)}}else{s(null),u(null),f(!1),a(null);const M=Yo();M.setAuthenticated(!1),M.stopPeriodicSync()}});return()=>A()},[w]);const N=P.useCallback(async()=>{if(ct.debug("connect() called"),ct.debug("isFirebaseConfigured:",_s()),ct.debug("hasNostrExtension:",Rf()),!_s()){ct.info("Firebase not configured, cannot connect");return}if(!Rf()){m("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),ct.warn("No extension found, returning");return}n(!0),m(null),ct.info("Starting Nostr connection...");try{const S=window.nostr,A=ql(),x=await S.getPublicKey(),M=nI(x),re=await Ka(A,"createChallenge")({pubkeyHex:x}),{challenge:oe}=re.data,H={kind:aI,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",oe]],content:oe},G=await S.signEvent(H),te=await Ka(A,"verifyNostrAndCreateToken")({signedEvent:G,challenge:oe}),ce=Nd();await jM(ce,te.data.token);try{const At={npub:M,displayName:null};localStorage.setItem(Ko,JSON.stringify(At))}catch(At){ct.warn("Failed to store auth state:",At)}Yo().syncNow().catch(At=>{ct.warn("Initial sync failed:",At)})}catch(S){ct.error("Nostr connect error:",S),m(S instanceof Error?S.message:"Failed to connect. Please try again.")}finally{n(!1)}},[g]),z=P.useCallback(async()=>{try{if(_s()){const S=Nd();await FM(S)}try{localStorage.removeItem(Ko)}catch(S){ct.warn("Failed to clear auth state from storage:",S)}s(null),a(null),f(!1)}catch(S){ct.error("Disconnect error:",S),m(S instanceof Error?S.message:"Failed to disconnect")}},[]),V=P.useCallback(S=>{if(a(S),i)try{localStorage.setItem(Ko,JSON.stringify({npub:i,displayName:S}))}catch(x){ct.warn("Failed to update display name in storage:",x)}const A=Yo();A.setDisplayName(S),A.requestSync()},[i]),E=P.useCallback(()=>{m(null)},[]),y=P.useMemo(()=>({isAuthenticated:!!b&&!!i,isConnecting:t,npub:i,displayName:r,nip05:o,isAdmin:c,error:d,hasExtension:g,extensionChecked:D,connect:N,disconnect:z,setDisplayName:V,clearError:E}),[b,i,t,r,o,c,d,g,D,N,z,V,E]);return T.jsx(Tw.Provider,{value:y,children:e})}const $6={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function q6(){const e=P.useContext(Tw);return e||$6}const ns=ui("GamificationProgress"),X6=500,Y6=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},ta=(e,t)=>{Y6()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},Ew=P.createContext(null);function K6({children:e,courseId:t,curriculum:n}){const[i,s]=P.useReducer(JD,w1()),[r,a]=P.useState(!0),[o,u]=P.useState([]),[c,f]=P.useState("idle"),d=P.useRef(null),m=P.useRef(!1),g=P.useRef(!1),{isAuthenticated:O,npub:D}=q6(),k=P.useCallback(A=>`${t}:${A}`,[t]),b=P.useCallback((A,x)=>{if(!n)return null;const M=n.find(G=>G.sections.some(q=>q.id===A));if(!M)return null;const C=`${t}:part${M.id}`;if(x.user.partsCompleted.includes(C))return null;const re=M.sections.map(G=>k(G.id)),oe=k(A);return re.every(G=>x.user.sectionsCompleted.includes(G)||G===oe)?C:null},[n,t,k]);P.useEffect(()=>{const A=Ir();A&&s({type:"LOAD_STATE",payload:A}),O||queueMicrotask(()=>a(!1))},[]),P.useEffect(()=>{const A=P_(),x=A.onStatusChange(f),M=g.current;return g.current=O,O&&!M?(ns.info("User authenticated, fetching progress from server"),A.setAuthenticated(!0),(async()=>{a(!0);try{const re=LD(),oe=Ir();if(re&&oe){ns.info("Migrating local progress to server");const H=await A.migrateLocalProgress(oe);H.success&&H.state?(s({type:"MERGE_WITH_SERVER",payload:H.state}),zD(),ns.info("Migration complete")):ns.warn("Migration failed, using local state")}else{const H=await A.fetchServerProgress();H.found&&H.progress?(ns.info("Loaded progress from server"),s({type:"LOAD_FROM_SERVER",payload:H.progress}),A.setLastSyncedAt(H.lastSyncedAt)):ns.info("No server progress found, using local state")}}catch(re){ns.error("Failed to sync with server:",re)}finally{queueMicrotask(()=>a(!1)),m.current=!0}})(),A.startPeriodicSync()):!O&&M?(ns.info("User logged out"),A.setAuthenticated(!1),A.stopPeriodicSync(),m.current=!1):O||queueMicrotask(()=>a(!1)),()=>{x()}},[O,D]),P.useEffect(()=>{r||(ah(i),O&&m.current&&P_().requestSync(i))},[i,r,O]),P.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),P.useEffect(()=>{if(!r)return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{const A=VD(i);A.length>0&&u(x=>[...x,...A])},X6),()=>{d.current&&clearTimeout(d.current)}},[i,r]);const v=P.useCallback(A=>{s({type:"VISIT_SECTION",payload:{sectionId:k(A)}})},[k]),w=P.useCallback(A=>{const x=b(A,i);s({type:"COMPLETE_SECTION",payload:{sectionId:k(A)}}),x&&(s({type:"COMPLETE_PART",payload:{partId:x}}),ta("partCompleted",{partId:x,courseId:t})),ta("sectionCompleted",{sectionId:k(A),courseId:t})},[k,t,b,i]),N=P.useCallback((A,x,M,C,re)=>{const oe=k(A),H=M>=80?b(A,i):null;s({type:"RECORD_QUIZ",payload:{sectionId:oe,difficulty:x,score:M,correctAnswers:C,totalQuestions:re}}),H&&(s({type:"COMPLETE_PART",payload:{partId:H}}),ta("partCompleted",{partId:H,courseId:t})),ta("quizCompleted",{sectionId:oe,courseId:t,score:M,correctAnswers:C,totalQuestions:re}),M>=80&&ta("sectionCompleted",{sectionId:oe,courseId:t})},[k,t,b,i]),z=P.useCallback((A,x)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:k(A),name:x}})},[k]),V=P.useCallback(A=>{u(x=>x.filter(M=>M.id!==A))},[]),E=P.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),y=P.useCallback(A=>{s({type:"RECORD_RACE_GAME",payload:A}),ta("raceGameCompleted",{courseId:t,score:A.score,tier:A.tier,correctAnswers:A.correctAnswers,totalQuestions:A.totalQuestions,isMultiplayer:A.isMultiplayer})},[t]),S=P.useMemo(()=>({state:i,isLoading:r,notifications:o,syncStatus:c,visitSection:v,completeSection:w,recordQuiz:N,useVisualization:z,dismissNotification:V,resetProgress:E,recordRaceGame:y,dispatch:s}),[i,r,o,c,v,w,N,z,V,E,y,s]);return T.jsx(Ew.Provider,{value:S,children:e})}function vh(){const e=P.useContext(Ew);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const J6=Fl;function bV(e){return`${J6}:${e}`}function oS({children:e}){return T.jsx(K6,{courseId:Fl,children:e})}const Q6=ui("ErrorBoundary");class W6 extends P.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){Q6.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-md w-full text-center",children:[T.jsx("div",{className:"text-6xl mb-6",children:T.jsx("span",{role:"img","aria-label":"Warning",children:""})}),T.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),T.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&T.jsxs("details",{className:"mb-6 text-left",children:[T.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),T.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),T.jsxs("div",{className:"flex gap-4 justify-center",children:[T.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),T.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Uc=ui("ErrorContext");async function eP(e){if(_s())try{const t=ql();if(!t){Uc.debug("Firebase functions not initialized");return}await Ka(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),Uc.debug("Error logged to Firebase:",e.message)}catch(t){Uc.debug("Failed to log error to Firebase:",t)}}const Aw=P.createContext(null);function tP({children:e,onError:t}){const[n,i]=P.useState([]),s=P.useCallback(o=>{const u={id:crypto.randomUUID(),...o,timestamp:new Date,recoverable:o.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:o.severity??"error"};i(c=>{const f=[...c,u];return t&&t(u),f}),eP(u).catch(()=>{}),Uc.error("App error added:",u)},[t]),r=P.useCallback(o=>{i(u=>u.filter(c=>c.id!==o))},[]),a=P.useCallback(()=>{i([])},[]);return T.jsx(Aw.Provider,{value:{errors:n,addError:s,dismissError:r,dismissAll:a},children:e})}function nP(){const e=P.useContext(Aw);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function iP({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=nP();return t.length===0?null:T.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:T.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&T.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),T.jsx("div",{className:"space-y-2",children:t.map(s=>T.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:T.jsxs("div",{className:"flex justify-between items-start gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-red-900 font-medium",children:s.message}),s.details&&T.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.details})]}),T.jsx("button",{onClick:()=>n(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},s.id))}),t.some(s=>!s.recoverable)&&T.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[T.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const sP={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function yr({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=T.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[T.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${sP[t]}`,role:"status","aria-label":"Loading"}),e&&T.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}const Zr=[{id:1,title:"Origins and Fundamentals",slug:"origins-and-fundamentals",sections:[{id:0,title:"The Tontine Story",slug:"tontine-story",description:"Lorenzo Tonti's 1653 innovation, the original structure, and the first tontines in Europe."},{id:1,title:"The Golden Age",slug:"golden-age",description:"18th-19th century tontines, the Freemasons' Hall example, and American tontines."},{id:2,title:"Scandal and Downfall",slug:"scandal-and-downfall",description:"Equitable Life corruption, perverse incentives, the Armstrong Investigation, and the 1905 ban."},{id:3,title:"The Modern Revival",slug:"modern-revival",description:"The longevity crisis, annuity problem, academic research, and Milevsky & Salisbury 2015."},{id:4,title:"Survival Probability Basics",slug:"survival-probability-basics",description:"Survival function S(t), death probability F(t), and the notation T and t."},{id:5,title:"Conditional Survival",slug:"conditional-survival",description:"The notation tpx and calculating survival probability given current age."},{id:6,title:"Life Tables",slug:"life-tables",description:"Structure of life tables: lx, dx, qx, ex. Reading and interpreting mortality data."},{id:7,title:"Force of Mortality",slug:"force-of-mortality",description:"Instantaneous death rate mu(t), hazard rate, and the Gompertz-Makeham Law."},{id:8,title:"The Basic Tontine Setup",slug:"basic-tontine-setup",description:"Pool parameters N, C, r and the lifetime income promise."},{id:9,title:"Year-by-Year Calculation",slug:"year-by-year-calculation",description:"Investment returns, mortality events, payout calculation, and pool value tracking."},{id:10,title:"The Mortality Credit",slug:"mortality-credit",description:"Decomposition of payout into investment income and mortality credit. The formula for survivor benefits."},{id:11,title:"Last Survivor Problem",slug:"last-survivor-problem",description:"Explosive late-game payouts, the jackpot effect, and why the classic tontine is problematic."}]},{id:2,title:"Mathematical Construction",slug:"mathematical-construction",sections:[{id:12,title:"The Fairness Problem",slug:"fairness-problem",description:"Two perspectives on fairness and how to measure actuarial equity."},{id:13,title:"Present Value with Interest",slug:"present-value-interest",description:"Discount factor v = 1/(1+i) and the time value of money."},{id:14,title:"Expected Value with Mortality",slug:"expected-value-mortality",description:"Probability-weighted present value: tpx times v^t."},{id:15,title:"Actuarially Fair Annuity",slug:"actuarially-fair-annuity",description:"EPV = Premium, life annuity pricing, and calculating a-double-dot-65."},{id:16,title:"Is Classic Tontine Fair?",slug:"classic-tontine-fair",description:"EPV calculation for the tontine and the actuarial fairness result."},{id:17,title:"The Heterogeneity Problem",slug:"heterogeneity-problem",description:"Age, sex, and health differences create unfairness in mixed groups."},{id:18,title:"Utility Theory Primer",slug:"utility-theory-primer",description:"u(c) = happiness from consumption, diminishing marginal utility."},{id:19,title:"Power Utility and Risk Aversion",slug:"power-utility-risk-aversion",description:"CRRA utility, the gamma parameter, and the lifetime utility formula."},{id:20,title:"The Optimization Problem",slug:"optimization-problem",description:"Setup, budget constraint, and the calculus of variations."},{id:21,title:"The Euler-Lagrange Equation",slug:"euler-lagrange-equation",description:"Deriving the optimal payout condition and marginal utility growth."},{id:22,title:"Deriving Optimal Payouts",slug:"deriving-optimal-payouts",description:"Power utility case and the growth rate formula g = (beta/v)^(1/gamma)."},{id:23,title:"The Natural Tontine",slug:"natural-tontine",description:"D(t) = A/tpx: payout inversely proportional to survival probability."},{id:24,title:"Why Natural is Near-Optimal",slug:"natural-near-optimal",description:"Milevsky & Salisbury result: less than 1% utility loss for all risk aversions."},{id:25,title:"Risk Aversion Effects",slug:"risk-aversion-effects",description:"Low, moderate, and high gamma effects. Lorenzo Tonti's design for extreme risk aversion."},{id:26,title:"Constructing a Natural Tontine",slug:"constructing-natural-tontine",description:"Step-by-step: capital collection, investment, share units, and distribution."}]},{id:3,title:"Comparison and Application",slug:"comparison-and-application",sections:[{id:27,title:"How Life Annuities Work",slug:"how-annuities-work",description:"Premium P, payment A, pricing formula, and loading factors."},{id:28,title:"The Insurance Company's Problem",slug:"insurance-company-problem",description:"Longevity risk, aggregate vs idiosyncratic risk, and capital requirements."},{id:29,title:"Tontine Advantages",slug:"tontine-advantages",description:"No longevity risk to provider, transparency, efficiency, and investment choice."},{id:30,title:"Annuity Advantages",slug:"annuity-advantages",description:"Guaranteed income, adverse selection management, and established markets."},{id:31,title:"Mathematical Comparison",slug:"mathematical-comparison",description:"Utility comparison and breakeven loading analysis (~2-3%)."},{id:32,title:"Optimal Portfolio Mix",slug:"optimal-portfolio-mix",description:"Three-way allocation and diversification of longevity risk."},{id:33,title:"Group Self-Annuitization (GSA)",slug:"group-self-annuitization",description:"Cohort-based design, explicit mortality credits, and the payout formula."},{id:34,title:"Pooled Annuity Funds (PAFs)",slug:"pooled-annuity-funds",description:"Canadian VPLA, smoothing mechanism, and risk management."},{id:35,title:"Modern Tontine Products",slug:"modern-tontine-products",description:"Tontine Trust UK, UCLA Longevity Fund, and Brookings proposal."},{id:36,title:"Technology Enablers",slug:"technology-enablers",description:"Smart contracts, blockchain, and transparency infrastructure."},{id:37,title:"Regulatory Landscape",slug:"regulatory-landscape",description:"US, UK, Canada, and EU frameworks and proposals."},{id:38,title:"Adverse Selection Problem",slug:"adverse-selection-problem",description:"The adverse selection spiral, mathematical impact, and solutions."},{id:39,title:"Minimum Pool Size",slug:"minimum-pool-size",description:"Volatility vs members, the sqrt(n*q) rule, and solutions for small pools."}]},{id:4,title:"Future and Integration",slug:"future-and-integration",sections:[{id:40,title:"Regulatory Obstacles",slug:"regulatory-obstacles",description:"Security, insurance, and investment classification. Historical bans and solutions."},{id:41,title:"The Last Mile Problem",slug:"last-mile-problem",description:"Pool shrinkage, merge/annuitize/distribute options, and hybrid approaches."},{id:42,title:"The Retirement Income Crisis",slug:"retirement-income-crisis",description:"Longevity plus savings shortfall. The tontine solution."},{id:43,title:"Integrated Retirement Portfolio",slug:"integrated-retirement-portfolio",description:"Three-bucket approach: guaranteed floor, longevity pooling, flexibility."},{id:44,title:"The Future of Tontines",slug:"future-of-tontines",description:"2030/2040 scenarios, policy recommendations, and academic frontiers."}]}];function TV(e){for(const t of Zr){const n=t.sections.find(i=>i.id===e);if(n)return n}}function EV(e){return Zr.find(t=>t.sections.some(n=>n.id===e))}function AV(e){const t=Zr.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function rP(){return Zr.reduce((e,t)=>e+t.sections.length,0)}function aP(){return Zr.flatMap(e=>e.sections)}function wV(e){return aP().findIndex(n=>n.id===e)}function oP({xp:e,level:t,compact:n=!1}){const i=x1(e,t);return n?T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),T.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:T.jsx("span",{className:"text-sm font-bold text-white",children:t})}),T.jsxs("div",{className:"flex-1 min-w-[80px]",children:[T.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[T.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),T.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),T.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:T.jsx(E2.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function lP({streak:e}){return e===0?null:T.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[T.jsx("span",{className:"text-orange-400",children:""}),T.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function lS(){const e=vh(),t=Ln.gamification?e:null,n=rP(),i=t?t.state.user.sectionsCompleted.filter(r=>r.startsWith(Fl)).length:0,s=Math.round(i/n*100);return T.jsx("div",{className:"py-8 px-4",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("span",{className:"text-6xl mb-4 block",children:y1}),T.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:g1}),T.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:sD})]}),Ln.gamification&&t&&T.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),T.jsx(lP,{streak:t.state.streak.currentStreak})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsx("div",{children:T.jsx(oP,{xp:t.state.user.totalXP,level:t.state.user.level})}),T.jsxs("div",{className:"flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[T.jsx("span",{className:"text-dark-400",children:"Course Progress"}),T.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),T.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),T.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),T.jsxs("div",{className:"flex flex-col justify-center items-end",children:[T.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),T.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),T.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),T.jsx("div",{className:"space-y-4",children:Zr.map(r=>T.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:T.jsx("span",{className:"text-lg font-bold text-primary-400",children:r.id})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:r.title}),T.jsxs("p",{className:"text-sm text-dark-400",children:[r.sections.length," sections"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.sections.map(a=>{const o=`${Fl}:${a.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(o);return T.jsxs(na,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[T.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?T.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):T.jsx("span",{className:"text-xs",children:a.id})}),T.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},r.id))})]})})}function uP(e){const t={};for(const[n,i]of Object.entries(e)){const s=n.match(/Section(\d+)/);if(s){const r=parseInt(s[1],10);t[r]=i}}return t}const ww=P.createContext(null);function cP({config:e,children:t}){return T.jsx(ww.Provider,{value:e,children:t})}function xw(){const e=P.useContext(ww);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}const ny=P.createContext({});function iy(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const sy=typeof window<"u",Cw=sy?P.useLayoutEffect:P.useEffect,_h=P.createContext(null);function ry(e,t){e.indexOf(t)===-1&&e.push(t)}function ay(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ai=(e,t,n)=>n>t?t:n<e?e:n;let oy=()=>{};const Gi={},Ow=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Dw(e){return typeof e=="object"&&e!==null}const Rw=e=>/^0[^.\s]+$/u.test(e);function ly(e){let t;return()=>(t===void 0&&(t=e()),t)}const En=e=>e,fP=(e,t)=>n=>t(e(n)),vu=(...e)=>e.reduce(fP),Yl=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class uy{constructor(){this.subscriptions=[]}add(t){return ry(this.subscriptions,t),()=>ay(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Sn=e=>e/1e3;function Nw(e,t){return t?e*(1e3/t):0}const Mw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,hP=1e-7,dP=12;function mP(e,t,n,i,s){let r,a,o=0;do a=t+(n-t)/2,r=Mw(a,i,s)-e,r>0?n=a:t=a;while(Math.abs(r)>hP&&++o<dP);return a}function _u(e,t,n,i){if(e===t&&n===i)return En;const s=r=>mP(r,0,1,e,n);return r=>r===0||r===1?r:Mw(s(r),t,i)}const kw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Iw=e=>t=>1-e(1-t),zw=_u(.33,1.53,.69,.99),cy=Iw(zw),Lw=kw(cy),Pw=e=>(e*=2)<1?.5*cy(e):.5*(2-Math.pow(2,-10*(e-1))),fy=e=>1-Math.sin(Math.acos(e)),Uw=Iw(fy),jw=kw(fy),pP=_u(.42,0,1,1),gP=_u(0,0,.58,1),Vw=_u(.42,0,.58,1),yP=e=>Array.isArray(e)&&typeof e[0]!="number",Bw=e=>Array.isArray(e)&&typeof e[0]=="number",vP={linear:En,easeIn:pP,easeInOut:Vw,easeOut:gP,circIn:fy,circInOut:jw,circOut:Uw,backIn:cy,backInOut:Lw,backOut:zw,anticipate:Pw},_P=e=>typeof e=="string",uS=e=>{if(Bw(e)){oy(e.length===4);const[t,n,i,s]=e;return _u(t,n,i,s)}else if(_P(e))return vP[e];return e},hc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SP(e,t){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(c.schedule(f),e()),f(o)}const c={schedule:(f,d=!1,m=!1)=>{const O=m&&s?n:i;return d&&a.add(f),O.has(f)||O.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(o=f,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,r&&(r=!1,c.process(f))}};return c}const bP=40;function Hw(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=hc.reduce((w,N)=>(w[N]=SP(r),w),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:f,update:d,preRender:m,render:g,postRender:O}=a,D=()=>{const w=Gi.useManualTiming?s.timestamp:performance.now();n=!1,Gi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(w-s.timestamp,bP),1)),s.timestamp=w,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),f.process(s),d.process(s),m.process(s),g.process(s),O.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(D))},k=()=>{n=!0,i=!0,s.isProcessing||e(D)};return{schedule:hc.reduce((w,N)=>{const z=a[N];return w[N]=(V,E=!1,y=!1)=>(n||k(),z.schedule(V,E,y)),w},{}),cancel:w=>{for(let N=0;N<hc.length;N++)a[hc[N]].cancel(w)},state:s,steps:a}}const{schedule:Re,cancel:Bs,state:yt,steps:Ld}=Hw(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let jc;function TP(){jc=void 0}const Rt={now:()=>(jc===void 0&&Rt.set(yt.isProcessing||Gi.useManualTiming?yt.timestamp:performance.now()),jc),set:e=>{jc=e,queueMicrotask(TP)}},Fw=e=>t=>typeof t=="string"&&t.startsWith(e),Gw=Fw("--"),EP=Fw("var(--"),hy=e=>EP(e)?AP.test(e.split("/*")[0].trim()):!1,AP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function cS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const mo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Kl={...mo,transform:e=>ai(0,1,e)},dc={...mo,default:1},wl=e=>Math.round(e*1e5)/1e5,dy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wP(e){return e==null}const xP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,my=(e,t)=>n=>!!(typeof n=="string"&&xP.test(n)&&n.startsWith(e)||t&&!wP(n)&&Object.prototype.hasOwnProperty.call(n,t)),Zw=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(dy);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},CP=e=>ai(0,255,e),Pd={...mo,transform:e=>Math.round(CP(e))},_r={test:my("rgb","red"),parse:Zw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Pd.transform(e)+", "+Pd.transform(t)+", "+Pd.transform(n)+", "+wl(Kl.transform(i))+")"};function OP(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const mp={test:my("#"),parse:OP,transform:_r.transform},Su=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),is=Su("deg"),ri=Su("%"),$=Su("px"),DP=Su("vh"),RP=Su("vw"),fS={...ri,parse:e=>ri.parse(e)/100,transform:e=>ri.transform(e*100)},Sa={test:my("hsl","hue"),parse:Zw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ri.transform(wl(t))+", "+ri.transform(wl(n))+", "+wl(Kl.transform(i))+")"},Je={test:e=>_r.test(e)||mp.test(e)||Sa.test(e),parse:e=>_r.test(e)?_r.parse(e):Sa.test(e)?Sa.parse(e):mp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_r.transform(e):Sa.transform(e),getAnimatableNone:e=>{const t=Je.parse(e);return t.alpha=0,Je.transform(t)}},NP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(dy))==null?void 0:t.length)||0)+(((n=e.match(NP))==null?void 0:n.length)||0)>0}const $w="number",qw="color",kP="var",IP="var(",hS="${}",zP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jl(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(zP,u=>(Je.test(u)?(i.color.push(r),s.push(qw),n.push(Je.parse(u))):u.startsWith(IP)?(i.var.push(r),s.push(kP),n.push(u)):(i.number.push(r),s.push($w),n.push(parseFloat(u))),++r,hS)).split(hS);return{values:n,split:o,indexes:i,types:s}}function Xw(e){return Jl(e).values}function Yw(e){const{split:t,types:n}=Jl(e),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=n[a];o===$w?r+=wl(s[a]):o===qw?r+=Je.transform(s[a]):r+=s[a]}return r}}const LP=e=>typeof e=="number"?0:Je.test(e)?Je.getAnimatableNone(e):e;function PP(e){const t=Xw(e);return Yw(e)(t.map(LP))}const Hs={test:MP,parse:Xw,createTransformer:Yw,getAnimatableNone:PP};function Ud(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UP({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,a=0;if(!t)s=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;s=Ud(u,o,e+1/3),r=Ud(u,o,e),a=Ud(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function Lf(e,t){return n=>n>0?t:e}const ze=(e,t,n)=>e+(t-e)*n,jd=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},jP=[mp,_r,Sa],VP=e=>jP.find(t=>t.test(e));function dS(e){const t=VP(e);if(!t)return!1;let n=t.parse(e);return t===Sa&&(n=UP(n)),n}const mS=(e,t)=>{const n=dS(e),i=dS(t);if(!n||!i)return Lf(e,t);const s={...n};return r=>(s.red=jd(n.red,i.red,r),s.green=jd(n.green,i.green,r),s.blue=jd(n.blue,i.blue,r),s.alpha=ze(n.alpha,i.alpha,r),_r.transform(s))},pp=new Set(["none","hidden"]);function BP(e,t){return pp.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function HP(e,t){return n=>ze(e,t,n)}function py(e){return typeof e=="number"?HP:typeof e=="string"?hy(e)?Lf:Je.test(e)?mS:ZP:Array.isArray(e)?Kw:typeof e=="object"?Je.test(e)?mS:FP:Lf}function Kw(e,t){const n=[...e],i=n.length,s=e.map((r,a)=>py(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function FP(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=py(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function GP(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],o=e.values[a]??0;n[s]=o,i[r]++}return n}const ZP=(e,t)=>{const n=Hs.createTransformer(t),i=Jl(e),s=Jl(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?pp.has(e)&&!s.values.length||pp.has(t)&&!i.values.length?BP(e,t):vu(Kw(GP(i,s),s.values),n):Lf(e,t)};function Jw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ze(e,t,n):py(e)(e,t)}const $P=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Re.update(t,n),stop:()=>Bs(t),now:()=>yt.isProcessing?yt.timestamp:Rt.now()}},Qw=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Pf=2e4;function gy(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Pf;)t+=n,i=e.next(t);return t>=Pf?1/0:t}function qP(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(gy(i),Pf);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:Sn(s)}}const XP=5;function Ww(e,t,n){const i=Math.max(t-XP,0);return Nw(n-e(i),t-i)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vd=.001;function YP({duration:e=je.duration,bounce:t=je.bounce,velocity:n=je.velocity,mass:i=je.mass}){let s,r,a=1-t;a=ai(je.minDamping,je.maxDamping,a),e=ai(je.minDuration,je.maxDuration,Sn(e)),a<1?(s=c=>{const f=c*a,d=f*e,m=f-n,g=gp(c,a),O=Math.exp(-d);return Vd-m/g*O},r=c=>{const d=c*a*e,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*e,O=Math.exp(-d),D=gp(Math.pow(c,2),a);return(-s(c)+Vd>0?-1:1)*((m-g)*O)/D}):(s=c=>{const f=Math.exp(-c*e),d=(c-n)*e+1;return-Vd+f*d},r=c=>{const f=Math.exp(-c*e),d=(n-c)*(e*e);return f*d});const o=5/e,u=JP(s,r,o);if(e=zi(e),isNaN(u))return{stiffness:je.stiffness,damping:je.damping,duration:e};{const c=Math.pow(u,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:e}}}const KP=12;function JP(e,t,n){let i=n;for(let s=1;s<KP;s++)i=i-e(i)/t(i);return i}function gp(e,t){return e*Math.sqrt(1-t*t)}const QP=["duration","bounce"],WP=["stiffness","damping","mass"];function pS(e,t){return t.some(n=>e[n]!==void 0)}function e5(e){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...e};if(!pS(e,WP)&&pS(e,QP))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*ai(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:je.mass,stiffness:s,damping:r}}else{const n=YP(e);t={...t,...n,mass:je.mass},t.isResolvedFromDuration=!0}return t}function Uf(e=je.visualDuration,t=je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:u,damping:c,mass:f,duration:d,velocity:m,isResolvedFromDuration:g}=e5({...n,velocity:-Sn(n.velocity||0)}),O=m||0,D=c/(2*Math.sqrt(u*f)),k=a-r,b=Sn(Math.sqrt(u/f)),v=Math.abs(k)<5;i||(i=v?je.restSpeed.granular:je.restSpeed.default),s||(s=v?je.restDelta.granular:je.restDelta.default);let w;if(D<1){const z=gp(b,D);w=V=>{const E=Math.exp(-D*b*V);return a-E*((O+D*b*k)/z*Math.sin(z*V)+k*Math.cos(z*V))}}else if(D===1)w=z=>a-Math.exp(-b*z)*(k+(O+b*k)*z);else{const z=b*Math.sqrt(D*D-1);w=V=>{const E=Math.exp(-D*b*V),y=Math.min(z*V,300);return a-E*((O+D*b*k)*Math.sinh(y)+z*k*Math.cosh(y))/z}}const N={calculatedDuration:g&&d||null,next:z=>{const V=w(z);if(g)o.done=z>=d;else{let E=z===0?O:0;D<1&&(E=z===0?zi(O):Ww(w,z,V));const y=Math.abs(E)<=i,S=Math.abs(a-V)<=s;o.done=y&&S}return o.value=o.done?a:V,o},toString:()=>{const z=Math.min(gy(N),Pf),V=Qw(E=>N.next(z*E).value,z,30);return z+"ms "+V},toTransition:()=>{}};return N}Uf.applyToOptions=e=>{const t=qP(e,100,Uf);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function yp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},g=y=>o!==void 0&&y<o||u!==void 0&&y>u,O=y=>o===void 0?u:u===void 0||Math.abs(o-y)<Math.abs(u-y)?o:u;let D=n*t;const k=d+D,b=a===void 0?k:a(k);b!==k&&(D=b-d);const v=y=>-D*Math.exp(-y/i),w=y=>b+v(y),N=y=>{const S=v(y),A=w(y);m.done=Math.abs(S)<=c,m.value=m.done?b:A};let z,V;const E=y=>{g(m.value)&&(z=y,V=Uf({keyframes:[m.value,O(m.value)],velocity:Ww(w,y,m.value),damping:s,stiffness:r,restDelta:c,restSpeed:f}))};return E(0),{calculatedDuration:null,next:y=>{let S=!1;return!V&&z===void 0&&(S=!0,N(y),E(y)),z!==void 0&&y>=z?V.next(y-z):(!S&&N(y),m)}}}function t5(e,t,n){const i=[],s=n||Gi.mix||Jw,r=e.length-1;for(let a=0;a<r;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||En:t;o=vu(u,o)}i.push(o)}return i}function n5(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(oy(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=t5(t,i,s),u=o.length,c=f=>{if(a&&f<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(f<e[d+1]);d++);const m=Yl(e[d],e[d+1],f);return o[d](m)};return n?f=>c(ai(e[0],e[r-1],f)):c}function i5(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Yl(0,t,i);e.push(ze(n,1,s))}}function s5(e){const t=[0];return i5(t,e.length-1),t}function r5(e,t){return e.map(n=>n*t)}function a5(e,t){return e.map(()=>t||Vw).splice(0,e.length-1)}function xl({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=yP(i)?i.map(uS):uS(i),r={done:!1,value:t[0]},a=r5(n&&n.length===t.length?n:s5(t),e),o=n5(a,t,{ease:Array.isArray(s)?s:a5(t,s)});return{calculatedDuration:e,next:u=>(r.value=o(u),r.done=u>=e,r)}}const o5=e=>e!==null;function yy(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(o5),o=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const l5={decay:yp,inertia:yp,tween:xl,keyframes:xl,spring:Uf};function ex(e){typeof e.type=="string"&&(e.type=l5[e.type])}class vy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const u5=e=>e/100;class _y extends vy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ex(t);const{type:n=xl,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const u=n||xl;u!==xl&&typeof o[0]!="number"&&(this.mixKeyframes=vu(u5,Jw(o[0],o[1])),o=[0,100]);const c=u({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=gy(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:f,repeat:d,repeatType:m,repeatDelay:g,type:O,onUpdate:D,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,N=i;if(d){const y=Math.min(this.currentTime,s)/o;let S=Math.floor(y),A=y%1;!A&&y>=1&&(A=1),A===1&&S--,S=Math.min(S,d+1),!!(S%2)&&(m==="reverse"?(A=1-A,g&&(A-=g/o)):m==="mirror"&&(N=a)),w=ai(0,1,A)*o}const z=v?{done:!1,value:f[0]}:N.next(w);r&&(z.value=r(z.value));let{done:V}=z;!v&&u!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return E&&O!==yp&&(z.value=yy(f,this.options,k,this.speed)),D&&D(z.value),E&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Sn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(this.currentTime)}set time(t){var n;t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Sn(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=$P,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function c5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sr=e=>e*180/Math.PI,vp=e=>{const t=Sr(Math.atan2(e[1],e[0]));return _p(t)},f5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vp,rotateZ:vp,skewX:e=>Sr(Math.atan(e[1])),skewY:e=>Sr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_p=e=>(e=e%360,e<0&&(e+=360),e),gS=vp,yS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),h5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yS,scaleY:vS,scale:e=>(yS(e)+vS(e))/2,rotateX:e=>_p(Sr(Math.atan2(e[6],e[5]))),rotateY:e=>_p(Sr(Math.atan2(-e[2],e[0]))),rotateZ:gS,rotate:gS,skewX:e=>Sr(Math.atan(e[4])),skewY:e=>Sr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Sp(e){return e.includes("scale")?1:0}function bp(e,t){if(!e||e==="none")return Sp(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=h5,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=f5,s=o}if(!s)return Sp(t);const r=i[t],a=s[1].split(",").map(m5);return typeof r=="function"?r(a):a[r]}const d5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bp(n,t)};function m5(e){return parseFloat(e.trim())}const po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],go=new Set(po),_S=e=>e===mo||e===$,p5=new Set(["x","y","z"]),g5=po.filter(e=>!p5.has(e));function y5(e){const t=[];return g5.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bp(t,"x"),y:(e,{transform:t})=>bp(t,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const Or=new Set;let Tp=!1,Ep=!1,Ap=!1;function tx(){if(Ep){const e=Array.from(Or).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=y5(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ep=!1,Tp=!1,Or.forEach(e=>e.complete(Ap)),Or.clear()}function nx(){Or.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ep=!0)})}function v5(){Ap=!0,nx(),tx(),Ap=!1}class Sy{constructor(t,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Or.add(this),Tp||(Tp=!0,Re.read(nx),Re.resolveKeyframes(tx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&r===void 0&&s.set(t[0])}c5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Or.delete(this)}cancel(){this.state==="scheduled"&&(Or.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _5=e=>e.startsWith("--");function S5(e,t,n){_5(t)?e.style.setProperty(t,n):e.style[t]=n}const b5=ly(()=>window.ScrollTimeline!==void 0),T5={};function E5(e,t){const n=ly(e);return()=>T5[t]??n()}const ix=E5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sl=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,SS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function sx(e,t){if(e)return typeof e=="function"?ix()?Qw(e,t):"ease-out":Bw(e)?sl(e):Array.isArray(e)?e.map(n=>sx(n,t)||SS.easeOut):SS[e]}function A5(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const f={[t]:n};u&&(f.offset=u);const d=sx(o,s);Array.isArray(d)&&(f.easing=d);const m={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(f,m)}function rx(e){return typeof e=="function"&&"applyToOptions"in e}function w5({type:e,...t}){return rx(e)&&ix()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x5 extends vy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,oy(typeof t.type!="string");const c=w5(t);this.animation=A5(n,i,s,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=yy(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):S5(n,i,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Sn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&b5()?(this.animation.timeline=t,En):n(this)}}const ax={anticipate:Pw,backInOut:Lw,circInOut:jw};function C5(e){return e in ax}function O5(e){typeof e.ease=="string"&&C5(e.ease)&&(e.ease=ax[e.ease])}const Bd=10;class D5 extends x5{constructor(t){O5(t),ex(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new _y({...a,autoplay:!1}),u=Math.max(Bd,Rt.now()-this.startTime),c=ai(0,Bd,u-Bd);n.setWithVelocity(o.sample(Math.max(0,u-c)).value,o.sample(u).value,c),o.stop()}}const bS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hs.test(e)||e==="0")&&!e.startsWith("url("));function R5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function N5(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=bS(s,t),o=bS(r,t);return!a||!o?!1:R5(e)||(n==="spring"||rx(n))&&i}function wp(e){e.duration=0,e.type="keyframes"}const M5=new Set(["opacity","clipPath","filter","transform"]),k5=ly(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function I5(e){var f;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return k5()&&n&&M5.has(n)&&(n!=="transform"||!c)&&!u&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const z5=40;class L5 extends vy{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:f,...d}){var O;super(),this.stop=()=>{var D,k;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Rt.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:c,element:f,...d},g=(f==null?void 0:f.KeyframeResolver)||Sy;this.keyframeResolver=new g(o,(D,k,b)=>this.onKeyframesResolved(D,k,m,!b),u,c,f),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:f}=i;this.resolvedAt=Rt.now(),N5(t,r,a,o)||((Gi.instantAnimations||!u)&&(f==null||f(yy(t,i,n))),t[0]=t[t.length-1],wp(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>z5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},g=!c&&I5(m)?new D5({...m,element:m.motionValue.owner.current}):new _y(m);g.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),v5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const P5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U5(e){const t=P5.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function ox(e,t,n=1){const[i,s]=U5(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return Ow(a)?parseFloat(a):a}return hy(s)?ox(s,t,n+1):s}function by(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const lx=new Set(["width","height","top","left","right","bottom",...po]),j5={test:e=>e==="auto",parse:e=>e},ux=e=>t=>t.test(e),cx=[mo,$,ri,is,RP,DP,j5],TS=e=>cx.find(ux(e));function V5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rw(e):!0}const B5=new Set(["brightness","contrast","saturate","opacity"]);function H5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(dy)||[];if(!i)return e;const s=n.replace(i,"");let r=B5.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const F5=/\b([a-z-]*)\(.*?\)/gu,xp={...Hs,getAnimatableNone:e=>{const t=e.match(F5);return t?t.map(H5).join(" "):e}},ES={...mo,transform:Math.round},G5={rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:dc,scaleX:dc,scaleY:dc,scaleZ:dc,skew:is,skewX:is,skewY:is,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:Kl,originX:fS,originY:fS,originZ:$},Ty={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,top:$,right:$,bottom:$,left:$,inset:$,insetBlock:$,insetBlockStart:$,insetBlockEnd:$,insetInline:$,insetInlineStart:$,insetInlineEnd:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,paddingBlock:$,paddingBlockStart:$,paddingBlockEnd:$,paddingInline:$,paddingInlineStart:$,paddingInlineEnd:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,marginBlock:$,marginBlockStart:$,marginBlockEnd:$,marginInline:$,marginInlineStart:$,marginInlineEnd:$,backgroundPositionX:$,backgroundPositionY:$,...G5,zIndex:ES,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:ES},Z5={...Ty,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:xp,WebkitFilter:xp},fx=e=>Z5[e];function hx(e,t){let n=fx(e);return n!==xp&&(n=Hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $5=new Set(["auto","none","0"]);function q5(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!$5.has(r)&&Jl(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=hx(n,s)}class X5 extends Sy{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),hy(d))){const m=ox(d,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!lx.has(i)||t.length!==2)return;const[s,r]=t,a=TS(s),o=TS(r),u=cS(s),c=cS(r);if(u!==c&&Ss[i]){this.needsMeasurement=!0;return}if(a!==o)if(_S(a)&&_S(o))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else Ss[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||V5(t[s]))&&i.push(s);i.length&&q5(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Ss[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function Y5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const dx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function mx(e){return Dw(e)&&"offsetHeight"in e}const AS=30,K5=e=>!isNaN(parseFloat(e));class J5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=Rt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=K5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uy);const i=this.events[t].add(n);return t==="change"?()=>{i(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AS);return Nw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(e,t){return new J5(e,t)}const{schedule:Ey}=Hw(queueMicrotask,!1),kn={x:!1,y:!1};function px(){return kn.x||kn.y}function Q5(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function gx(e,t){const n=Y5(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function wS(e){return!(e.pointerType==="touch"||px())}function W5(e,t,n={}){const[i,s,r]=gx(e,n),a=o=>{if(!wS(o))return;const{target:u}=o,c=t(u,o);if(typeof c!="function"||!u)return;const f=d=>{wS(d)&&(c(d),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const yx=(e,t)=>t?e===t?!0:yx(e,t.parentElement):!1,Ay=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,e9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vx(e){return e9.has(e.tagName)||e.isContentEditable===!0}const Vc=new WeakSet;function xS(e){return t=>{t.key==="Enter"&&e(t)}}function Hd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t9=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=xS(()=>{if(Vc.has(n))return;Hd(n,"down");const s=xS(()=>{Hd(n,"up")}),r=()=>Hd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function CS(e){return Ay(e)&&!px()}function n9(e,t,n={}){const[i,s,r]=gx(e,n),a=o=>{const u=o.currentTarget;if(!CS(o))return;Vc.add(u);const c=t(u,o),f=(g,O)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Vc.has(u)&&Vc.delete(u),CS(g)&&typeof c=="function"&&c(g,{success:O})},d=g=>{f(g,u===window||u===document||n.useGlobalTarget||yx(u,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),mx(o)&&(o.addEventListener("focus",c=>t9(c,s)),!vx(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function _x(e){return Dw(e)&&"ownerSVGElement"in e}function i9(e){return _x(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),s9=[...cx,Je,Hs],r9=e=>s9.find(ux(e)),wy=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function OS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a9(...e){return t=>{let n=!1;const i=e.map(s=>{const r=OS(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():OS(e[s],null)}}}}function o9(...e){return P.useCallback(a9(...e),e)}class l9 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=mx(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u9({children:e,isPresent:t,anchorX:n,root:i}){var f;const s=P.useId(),r=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=P.useContext(wy),u=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),c=o9(r,u);return P.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:O,right:D}=a.current;if(t||!r.current||!d||!m)return;const k=n==="left"?`left: ${O}`:`right: ${D}`;r.current.dataset.motionPopId=s;const b=document.createElement("style");o&&(b.nonce=o);const v=i??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${k}px !important;
            top: ${g}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[t]),T.jsx(l9,{isPresent:t,childRef:r,sizeRef:a,children:P.cloneElement(e,{ref:c})})}const c9=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a,anchorX:o,root:u})=>{const c=iy(f9),f=P.useId();let d=!0,m=P.useMemo(()=>(d=!1,{id:f,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const O of c.values())if(!O)return;i&&i()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,i]);return r&&d&&(m={...m}),P.useMemo(()=>{c.forEach((g,O)=>c.set(O,!1))},[n]),P.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),a==="popLayout"&&(e=T.jsx(u9,{isPresent:n,anchorX:o,root:u,children:e})),T.jsx(_h.Provider,{value:m,children:e})};function f9(){return new Map}function Sx(e=!0){const t=P.useContext(_h);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=P.useId();P.useEffect(()=>{if(e)return s(r)},[e]);const a=P.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,a]:[!0]}const mc=e=>e.key||"";function DS(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const Cp=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,f]=Sx(a),d=P.useMemo(()=>DS(e),[e]),m=a&&!c?[]:d.map(mc),g=P.useRef(!0),O=P.useRef(d),D=iy(()=>new Map),k=P.useRef(new Set),[b,v]=P.useState(d),[w,N]=P.useState(d);Cw(()=>{g.current=!1,O.current=d;for(let E=0;E<w.length;E++){const y=mc(w[E]);m.includes(y)?(D.delete(y),k.current.delete(y)):D.get(y)!==!0&&D.set(y,!1)}},[w,m.length,m.join("-")]);const z=[];if(d!==b){let E=[...d];for(let y=0;y<w.length;y++){const S=w[y],A=mc(S);m.includes(A)||(E.splice(y,0,S),z.push(S))}return r==="wait"&&z.length&&(E=z),N(DS(E)),v(d),null}const{forceRender:V}=P.useContext(ny);return T.jsx(T.Fragment,{children:w.map(E=>{const y=mc(E),S=a&&!c?!1:d===w||m.includes(y),A=()=>{if(k.current.has(y))return;if(k.current.add(y),D.has(y))D.set(y,!0);else return;let x=!0;D.forEach(M=>{M||(x=!1)}),x&&(V==null||V(),N(O.current),a&&(f==null||f()),i&&i())};return T.jsx(c9,{isPresent:S,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:u,onExitComplete:S?void 0:A,anchorX:o,children:E},y)})})},bx=P.createContext({strict:!1}),RS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in RS)eo[e]={isEnabled:t=>RS[e].some(n=>!!t[n])};function h9(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const d9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||d9.has(e)}let Tx=e=>!jf(e);function m9(e){typeof e=="function"&&(Tx=t=>t.startsWith("on")?!jf(t):e(t))}try{m9(require("@emotion/is-prop-valid").default)}catch{}function p9(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Tx(s)||n===!0&&jf(s)||!t&&!jf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Sh=P.createContext({});function bh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ql(e){return typeof e=="string"||Array.isArray(e)}const xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cy=["initial",...xy];function Th(e){return bh(e.animate)||Cy.some(t=>Ql(e[t]))}function Ex(e){return!!(Th(e)||e.variants)}function g9(e,t){if(Th(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Ql(n)?n:void 0,animate:Ql(i)?i:void 0}}return e.inherit!==!1?t:{}}function y9(e){const{initial:t,animate:n}=g9(e,P.useContext(Sh));return P.useMemo(()=>({initial:t,animate:n}),[NS(t),NS(n)])}function NS(e){return Array.isArray(e)?e.join(" "):e}function MS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=MS(e,t.target.x),i=MS(e,t.target.y);return`${n}% ${i}%`}},v9={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Hs.parse(e);if(s.length>5)return i;const r=Hs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,u=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=ze(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),r(s)}},Op={borderRadius:{...Jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:v9};function Ax(e,{layout:t,layoutId:n}){return go.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Op[e]||e==="opacity")}const _9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S9=po.length;function b9(e,t,n){let i="",s=!0;for(let r=0;r<S9;r++){const a=po[r],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const c=dx(o,Ty[a]);if(!u){s=!1;const f=_9[a]||a;i+=`${f}(${c}) `}n&&(t[a]=c)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Oy(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(go.has(u)){a=!0;continue}else if(Gw(u)){s[u]=c;continue}else{const f=dx(c,Ty[u]);u.startsWith("origin")?(o=!0,r[u]=f):i[u]=f}}if(t.transform||(a||n?i.transform=b9(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:f=0}=r;i.transformOrigin=`${u} ${c} ${f}`}}const Dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wx(e,t,n){for(const i in t)!wt(t[i])&&!Ax(i,n)&&(e[i]=t[i])}function T9({transformTemplate:e},t){return P.useMemo(()=>{const n=Dy();return Oy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function E9(e,t){const n=e.style||{},i={};return wx(i,n,e),Object.assign(i,T9(e,t)),i}function A9(e,t){const n={},i=E9(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const w9={offset:"stroke-dashoffset",array:"stroke-dasharray"},x9={offset:"strokeDashoffset",array:"strokeDasharray"};function C9(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?w9:x9;e[r.offset]=$.transform(-i);const a=$.transform(t),o=$.transform(n);e[r.array]=`${a} ${o}`}const O9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function xx(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},u,c,f){if(Oy(e,o,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox);for(const g of O9)d[g]!==void 0&&(m[g]=d[g],delete d[g]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),s!==void 0&&C9(d,s,r,a,!1)}const Cx=()=>({...Dy(),attrs:{}}),Ox=e=>typeof e=="string"&&e.toLowerCase()==="svg";function D9(e,t,n,i){const s=P.useMemo(()=>{const r=Cx();return xx(r,t,Ox(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};wx(r,e.style,e),s.style={...r,...s.style}}return s}const R9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ry(e){return typeof e!="string"||e.includes("-")?!1:!!(R9.indexOf(e)>-1||/[A-Z]/u.test(e))}function N9(e,t,n,{latestValues:i},s,r=!1,a){const u=(a??Ry(e)?D9:A9)(t,i,s,e),c=p9(t,typeof e=="string",r),f=e!==P.Fragment?{...c,...u,ref:n}:{},{children:d}=t,m=P.useMemo(()=>wt(d)?d.get():d,[d]);return P.createElement(e,{...f,children:m})}function kS(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Ny(e,t,n,i){if(typeof t=="function"){const[s,r]=kS(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=kS(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function Bc(e){return wt(e)?e.get():e}function M9({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:k9(n,i,s,e),renderState:t()}}function k9(e,t,n,i){const s={},r=i(e,{});for(const m in r)s[m]=Bc(r[m]);let{initial:a,animate:o}=e;const u=Th(e),c=Ex(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const d=f?o:a;if(d&&typeof d!="boolean"&&!bh(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const O=Ny(e,m[g]);if(O){const{transitionEnd:D,transition:k,...b}=O;for(const v in b){let w=b[v];if(Array.isArray(w)){const N=f?w.length-1:0;w=w[N]}w!==null&&(s[v]=w)}for(const v in D)s[v]=D[v]}}}return s}const Dx=e=>(t,n)=>{const i=P.useContext(Sh),s=P.useContext(_h),r=()=>M9(e,t,i,s);return n?r():iy(r)};function My(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(wt(i[a])||t.style&&wt(t.style[a])||Ax(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const I9=Dx({scrapeMotionValuesFromProps:My,createRenderState:Dy});function Rx(e,t,n){const i=My(e,t,n);for(const s in e)if(wt(e[s])||wt(t[s])){const r=po.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}const z9=Dx({scrapeMotionValuesFromProps:Rx,createRenderState:Cx}),L9=Symbol.for("motionComponentSymbol");function P9(e,t,n){const i=P.useRef(n);P.useInsertionEffect(()=>{i.current=n});const s=P.useRef(null);return P.useCallback(r=>{var o;r&&((o=e.onMount)==null||o.call(e,r)),t&&(r?t.mount(r):t.unmount());const a=i.current;if(typeof a=="function")if(r){const u=a(r);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):a(r);else a&&(a.current=r)},[t])}const ky=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U9="framerAppearId",Nx="data-"+ky(U9),Mx=P.createContext({});function rl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j9(e,t,n,i,s,r){var k,b;const{visualElement:a}=P.useContext(Sh),o=P.useContext(bx),u=P.useContext(_h),c=P.useContext(wy).reducedMotion,f=P.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c,isSVG:r}));const d=f.current,m=P.useContext(Mx);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&V9(f.current,n,s,m);const g=P.useRef(!1);P.useInsertionEffect(()=>{d&&g.current&&d.update(n,u)});const O=n[Nx],D=P.useRef(!!O&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,O))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,O)));return Cw(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),D.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!D.current&&d.animationState&&d.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,O)}),D.current=!1),d.enteringChildren=void 0)}),d}function V9(e,t,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kx(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&rl(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:c})}function kx(e){if(e)return e.options.allowProjection!==!1?e.projection:kx(e.parent)}function Fd(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&h9(i);const r=n?n==="svg":Ry(e),a=r?z9:I9;function o(c,f){let d;const m={...P.useContext(wy),...c,layoutId:B9(c)},{isStatic:g}=m,O=y9(c),D=a(c,g);if(!g&&sy){H9();const k=F9(m);d=k.MeasureLayout,O.visualElement=j9(e,D,m,s,k.ProjectionNode,r)}return T.jsxs(Sh.Provider,{value:O,children:[d&&O.visualElement?T.jsx(d,{visualElement:O.visualElement,...m}):null,N9(e,c,P9(D,O.visualElement,f),D,g,t,r)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=P.forwardRef(o);return u[L9]=e,u}function B9({layoutId:e}){const t=P.useContext(ny).id;return t&&e!==void 0?t+"-"+e:e}function H9(e,t){P.useContext(bx).strict}function F9(e){const{drag:t,layout:n}=eo;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function G9(e,t){if(typeof Proxy>"u")return Fd;const n=new Map,i=(r,a)=>Fd(r,a,e,t),s=(r,a)=>i(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,Fd(a,void 0,e,t)),n.get(a))})}function Ix({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function Z9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Gd(e){return e===void 0||e===1}function Dp({scale:e,scaleX:t,scaleY:n}){return!Gd(e)||!Gd(t)||!Gd(n)}function pr(e){return Dp(e)||zx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zx(e){return IS(e.x)||IS(e.y)}function IS(e){return e&&e!=="0%"}function Vf(e,t,n){const i=e-n,s=t*i;return n+s}function zS(e,t,n,i,s){return s!==void 0&&(e=Vf(e,s,i)),Vf(e,n,i)+t}function Rp(e,t=0,n=1,i,s){e.min=zS(e.min,t,n,i,s),e.max=zS(e.max,t,n,i,s)}function Lx(e,{x:t,y:n}){Rp(e.x,t.translate,t.scale,t.originPoint),Rp(e.y,n.translate,n.scale,n.originPoint)}const LS=.999999999999,PS=1.0000000000001;function q9(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ta(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Lx(e,a)),i&&pr(r.latestValues)&&Ta(e,r.latestValues))}t.x<PS&&t.x>LS&&(t.x=1),t.y<PS&&t.y>LS&&(t.y=1)}function ba(e,t){e.min=e.min+t,e.max=e.max+t}function US(e,t,n,i,s=.5){const r=ze(e.min,e.max,s);Rp(e,t,n,r,i)}function Ta(e,t){US(e.x,t.x,t.scaleX,t.scale,t.originX),US(e.y,t.y,t.scaleY,t.scale,t.originY)}function Px(e,t){return Ix($9(e.getBoundingClientRect(),t))}function X9(e,t,n){const i=Px(e,n),{scroll:s}=t;return s&&(ba(i.x,s.offset.x),ba(i.y,s.offset.y)),i}const jS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ea=()=>({x:jS(),y:jS()}),VS=()=>({min:0,max:0}),rt=()=>({x:VS(),y:VS()}),Np={current:null},Ux={current:!1};function Y9(){if(Ux.current=!0,!!sy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Np.current=e.matches;e.addEventListener("change",t),t()}else Np.current=!1}const K9=new WeakMap;function J9(e,t,n){for(const i in t){const s=t[i],r=n[i];if(wt(s))e.addValue(i,s);else if(wt(r))e.addValue(i,Wa(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Wa(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q9{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Rt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Re.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Th(n),this.isVariantNode=Ex(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];u[m]!==void 0&&wt(g)&&g.set(u[m])}}mount(t){var n;this.current=t,K9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Ux.current||Y9(),this.shouldReduceMotion=Np.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=go.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Re.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const n=eo[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<BS.length;i++){const s=BS[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=J9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Wa(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Ow(i)||Rw(i))?i=parseFloat(i):!r9(i)&&Hs.test(n)&&(i=hx(t,n)),this.setBaseTarget(t,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Ny(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ey.render(this.render)}}class jx extends Q9{constructor(){super(...arguments),this.KeyframeResolver=X5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vx(e,{style:t,vars:n},i,s){const r=e.style;let a;for(a in t)r[a]=t[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function W9(e){return window.getComputedStyle(e)}class eU extends jx{constructor(){super(...arguments),this.type="html",this.renderInstance=Vx}readValueFromInstance(t,n){var i;if(go.has(n))return(i=this.projection)!=null&&i.isProjecting?Sp(n):d5(t,n);{const s=W9(t),r=(Gw(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Px(t,n)}build(t,n,i){Oy(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return My(t,n,i)}}const Bx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tU(e,t,n,i){Vx(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(Bx.has(s)?s:ky(s),t.attrs[s])}class nU extends jx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(go.has(n)){const i=fx(n);return i&&i.default||0}return n=Bx.has(n)?n:ky(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Rx(t,n,i)}build(t,n,i){xx(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){tU(t,n,i,s)}mount(t){this.isSVGTag=Ox(t.tagName),super.mount(t)}}const iU=(e,t)=>t.isSVG??Ry(e)?new nU(t):new eU(t,{allowProjection:e!==P.Fragment});function La(e,t,n){const i=e.getProps();return Ny(i,t,n!==void 0?n:i.custom,e)}const Mp=e=>Array.isArray(e);function sU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wa(n))}function rU(e){return Mp(e)?e[e.length-1]||0:e}function aU(e,t){const n=La(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=rU(r[a]);sU(e,a,o)}}function oU(e){return!!(wt(e)&&e.add)}function kp(e,t){const n=e.getValue("willChange");if(oU(n))return n.add(t);if(!n&&Gi.WillChange){const i=new Gi.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Hx(e){return e.props[Nx]}const lU=e=>e!==null;function uU(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(lU),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const cU={type:"spring",stiffness:500,damping:25,restSpeed:10},fU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hU={type:"keyframes",duration:.8},dU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mU=(e,{keyframes:t})=>t.length>2?hU:go.has(e)?e.startsWith("scale")?fU(t[1]):cU:dU;function pU({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:u,elapsed:c,...f}){return!!Object.keys(f).length}const Iy=(e,t,n,i={},s,r)=>a=>{const o=by(i,e)||{},u=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-zi(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};pU(o)||Object.assign(f,mU(e,f)),f.duration&&(f.duration=zi(f.duration)),f.repeatDelay&&(f.repeatDelay=zi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(wp(f),f.delay===0&&(d=!0)),(Gi.instantAnimations||Gi.skipAnimations)&&(d=!0,wp(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,d&&!r&&t.get()!==void 0){const m=uU(f.keyframes,o);if(m!==void 0){Re.update(()=>{f.onUpdate(m),f.onComplete()});return}}return o.isSync?new _y(f):new L5(f)};function gU({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Fx(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(r=i);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const d=e.getValue(f,e.latestValues[f]??null),m=o[f];if(m===void 0||c&&gU(c,f))continue;const g={delay:n,...by(r||{},f)},O=d.get();if(O!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===O&&!g.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const b=Hx(e);if(b){const v=window.MotionHandoffAnimation(b,f,Re);v!==null&&(g.startTime=v,D=!0)}}kp(e,f),d.start(Iy(f,d,m,e.shouldReduceMotion&&lx.has(f)?{type:!1}:g,e,D));const k=d.animation;k&&u.push(k)}return a&&Promise.all(u).then(()=>{Re.update(()=>{a&&aU(e,a)})}),u}function Gx(e,t,n,i=0,s=1){const r=Array.from(e).sort((c,f)=>c.sortNodePosition(f)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(r,a):s===1?r*i:o-r*i}function Ip(e,t,n={}){var u;const i=La(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Fx(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=s;return yU(e,t,c,f,d,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,f]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>f())}else return Promise.all([r(),a(n.delay)])}function yU(e,t,n=0,i=0,s=0,r=1,a){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(Ip(u,t,{...a,delay:n+(typeof i=="function"?0:i)+Gx(e.variantChildren,u,i,s,r)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function vU(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>Ip(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=Ip(e,t,n);else{const s=typeof t=="function"?La(e,t,n.custom):t;i=Promise.all(Fx(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Zx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const _U=Cy.length;function $x(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$x(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_U;n++){const i=Cy[n],s=e.props[i];(Ql(s)||s===!1)&&(t[i]=s)}return t}const SU=[...xy].reverse(),bU=xy.length;function TU(e){return t=>Promise.all(t.map(({animation:n,options:i})=>vU(e,n,i)))}function EU(e){let t=TU(e),n=HS(),i=!0;const s=u=>(c,f)=>{var m;const d=La(e,f,u==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:O,...D}=d;c={...c,...D,...O}}return c};function r(u){t=u(e)}function a(u){const{props:c}=e,f=$x(e.parent)||{},d=[],m=new Set;let g={},O=1/0;for(let k=0;k<bU;k++){const b=SU[k],v=n[b],w=c[b]!==void 0?c[b]:f[b],N=Ql(w),z=b===u?v.isActive:null;z===!1&&(O=k);let V=w===f[b]&&w!==c[b]&&N;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),v.protectedKeys={...g},!v.isActive&&z===null||!w&&!v.prevProp||bh(w)||typeof w=="boolean")continue;const E=AU(v.prevProp,w);let y=E||b===u&&v.isActive&&!V&&N||k>O&&N,S=!1;const A=Array.isArray(w)?w:[w];let x=A.reduce(s(b),{});z===!1&&(x={});const{prevResolvedValues:M={}}=v,C={...M,...x},re=G=>{y=!0,m.has(G)&&(S=!0,m.delete(G)),v.needsAnimating[G]=!0;const q=e.getValue(G);q&&(q.liveStyle=!1)};for(const G in C){const q=x[G],te=M[G];if(g.hasOwnProperty(G))continue;let ce=!1;Mp(q)&&Mp(te)?ce=!Zx(q,te):ce=q!==te,ce?q!=null?re(G):m.add(G):q!==void 0&&m.has(G)?re(G):v.protectedKeys[G]=!0}v.prevProp=w,v.prevResolvedValues=x,v.isActive&&(g={...g,...x}),i&&e.blockInitialAnimation&&(y=!1);const oe=V&&E;y&&(!oe||S)&&d.push(...A.map(G=>{const q={type:b};if(typeof G=="string"&&i&&!oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,ce=La(te,G);if(te.enteringChildren&&ce){const{delayChildren:ye}=ce.transition||{};q.delay=Gx(te.enteringChildren,e,ye)}}return{animation:G,options:q}}))}if(m.size){const k={};if(typeof c.initial!="boolean"){const b=La(e,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(k.transition=b.transition)}m.forEach(b=>{const v=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),k[b]=v??null}),d.push({animation:k})}let D=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(D=!1),i=!1,D?t(d):Promise.resolve()}function o(u,c){var d;if(n[u].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=HS()}}}function AU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Zx(t,e):!1}function ur(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HS(){return{animate:ur(!0),whileInView:ur(),whileHover:ur(),whileTap:ur(),whileDrag:ur(),whileFocus:ur(),exit:ur()}}class qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wU extends qs{constructor(t){super(t),t.animationState||(t.animationState=EU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let xU=0;class CU extends qs{constructor(){super(...arguments),this.id=xU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const OU={animation:{Feature:wU},exit:{Feature:CU}};function Wl(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function bu(e){return{point:{x:e.pageX,y:e.pageY}}}const DU=e=>t=>Ay(t)&&e(t,bu(t));function Cl(e,t,n,i){return Wl(e,t,DU(n),i)}const qx=1e-4,RU=1-qx,NU=1+qx,Xx=.01,MU=0-Xx,kU=0+Xx;function Nt(e){return e.max-e.min}function IU(e,t,n){return Math.abs(e-t)<=n}function FS(e,t,n,i=.5){e.origin=i,e.originPoint=ze(t.min,t.max,e.origin),e.scale=Nt(n)/Nt(t),e.translate=ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=RU&&e.scale<=NU||isNaN(e.scale))&&(e.scale=1),(e.translate>=MU&&e.translate<=kU||isNaN(e.translate))&&(e.translate=0)}function Ol(e,t,n,i){FS(e.x,t.x,n.x,i?i.originX:void 0),FS(e.y,t.y,n.y,i?i.originY:void 0)}function GS(e,t,n){e.min=n.min+t.min,e.max=e.min+Nt(t)}function zU(e,t,n){GS(e.x,t.x,n.x),GS(e.y,t.y,n.y)}function ZS(e,t,n){e.min=t.min-n.min,e.max=e.min+Nt(t)}function Bf(e,t,n){ZS(e.x,t.x,n.x),ZS(e.y,t.y,n.y)}function cn(e){return[e("x"),e("y")]}const Yx=({current:e})=>e?e.ownerDocument.defaultView:null,$S=(e,t)=>Math.abs(e-t);function LU(e,t){const n=$S(e.x,t.x),i=$S(e.y,t.y);return Math.sqrt(n**2+i**2)}const qS=new Set(["auto","scroll"]);class Kx{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=$d(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,D=LU(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!D)return;const{point:k}=g,{timestamp:b}=yt;this.history.push({...k,timestamp:b});const{onStart:v,onMove:w}=this.handlers;O||(v&&v(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,g)},this.handlePointerMove=(g,O)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Zd(O,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(g,O)=>{this.end();const{onEnd:D,onSessionEnd:k,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=$d(g.type==="pointercancel"?this.lastMoveEventInfo:Zd(O,this.transformPagePoint),this.history);this.startEvent&&D&&D(g,v),k&&k(g,v)},!Ay(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const u=bu(t),c=Zd(u,this.transformPagePoint),{point:f}=c,{timestamp:d}=yt;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,$d(c,this.history)),this.removeListeners=vu(Cl(this.contextWindow,"pointermove",this.handlePointerMove),Cl(this.contextWindow,"pointerup",this.handlePointerUp),Cl(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(qS.has(i.overflowX)||qS.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:s.x-n.x,y:s.y-n.y};r.x===0&&r.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,s),Re.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Bs(this.updatePoint)}}function Zd(e,t){return t?{point:t(e.point)}:e}function XS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $d({point:e},t){return{point:e,delta:XS(e,Jx(t)),offset:XS(e,PU(t)),velocity:UU(t,.1)}}function PU(e){return e[0]}function Jx(e){return e[e.length-1]}function UU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=Jx(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>zi(t)));)n--;if(!i)return{x:0,y:0};const r=Sn(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function jU(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ze(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ze(n,e,i.max):Math.min(e,n)),e}function YS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function VU(e,{top:t,left:n,bottom:i,right:s}){return{x:YS(e.x,n,s),y:YS(e.y,t,i)}}function KS(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function BU(e,t){return{x:KS(e.x,t.x),y:KS(e.y,t.y)}}function HU(e,t){let n=.5;const i=Nt(e),s=Nt(t);return s>i?n=Yl(t.min,t.max-i,e.min):i>s&&(n=Yl(e.min,e.max-s,t.min)),ai(0,1,n)}function FU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const zp=.35;function GU(e=zp){return e===!1?e=0:e===!0&&(e=zp),{x:JS(e,"left","right"),y:JS(e,"top","bottom")}}function JS(e,t,n){return{min:QS(e,t),max:QS(e,n)}}function QS(e,t){return typeof e=="number"?e:e[t]||0}const ZU=new WeakMap;class $U{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{n?(this.stopAnimation(),this.snapToCursor(bu(d).point)):this.pauseAnimation()},a=(d,m)=>{this.stopAnimation();const{drag:g,dragPropagation:O,onDragStart:D}=this.getProps();if(g&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q5(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(ri.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[b];N&&(v=Nt(N)*(parseFloat(v)/100))}}this.originPoint[b]=v}),D&&Re.postRender(()=>D(d,m)),kp(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:O,onDirectionLock:D,onDrag:k}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=m;if(O&&this.currentDirection===null){this.currentDirection=qU(b),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),k&&k(d,m)},u=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>cn(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Kx(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:Yx(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Re.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!pc(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=jU(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=VU(i.layoutBox,t):this.constraints=!1,this.elastic=GU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&cn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=FU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!rl(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=X9(i,s.root,this.visualElement.getTransformPagePoint());let a=BU(s.layout.layoutBox,r);if(n){const o=n(Z9(a));this.hasMutatedConstraints=!!o,o&&(a=Ix(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=cn(f=>{if(!pc(f,n,this.currentDirection))return;let d=u&&u[f]||{};a&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,O={type:"inertia",velocity:i?t[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(f,O)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return kp(this.visualElement,t),i.start(Iy(t,i,0,n,this.visualElement,!1))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){cn(n=>{const{drag:i}=this.getProps();if(!pc(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],u=r.get()||0;r.set(t[n]-ze(a,o,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!rl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cn(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=HU({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),cn(a=>{if(!pc(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(ze(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;ZU.set(this.visualElement,this);const t=this.visualElement.current,n=Cl(t,"pointerdown",u=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&!vx(u.target)&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();rl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Re.read(i);const a=Wl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(cn(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=u[f].translate,d.set(d.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=zp,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function pc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class XU extends qs{constructor(t){super(t),this.removeGroupControls=En,this.removeListeners=En,this.controls=new $U(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const WS=e=>(t,n)=>{e&&Re.postRender(()=>e(t,n))};class YU extends qs{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(t){this.session=new Kx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:WS(t),onStart:WS(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Re.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let qd=!1;class KU extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),qd&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,qd=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||Re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ey.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;qd=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Qx(e){const[t,n]=Sx(),i=P.useContext(ny);return T.jsx(KU,{...e,layoutGroup:i,switchLayoutGroup:P.useContext(Mx),isPresent:t,safeToRemove:n})}function JU(e,t,n){const i=wt(e)?e:Wa(e);return i.start(Iy("",i,t,n)),i.animation}const QU=(e,t)=>e.depth-t.depth;class WU{constructor(){this.children=[],this.isDirty=!1}add(t){ry(this.children,t),this.isDirty=!0}remove(t){ay(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QU),this.isDirty=!1,this.children.forEach(t)}}function ej(e,t){const n=Rt.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(Bs(i),e(r-t))};return Re.setup(i,!0),()=>Bs(i)}const Wx=["TopLeft","TopRight","BottomLeft","BottomRight"],tj=Wx.length,eb=e=>typeof e=="string"?parseFloat(e):e,tb=e=>typeof e=="number"||$.test(e);function nj(e,t,n,i,s,r){s?(e.opacity=ze(0,n.opacity??1,ij(i)),e.opacityExit=ze(t.opacity??1,0,sj(i))):r&&(e.opacity=ze(t.opacity??1,n.opacity??1,i));for(let a=0;a<tj;a++){const o=`border${Wx[a]}Radius`;let u=nb(t,o),c=nb(n,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||tb(u)===tb(c)?(e[o]=Math.max(ze(eb(u),eb(c),i),0),(ri.test(c)||ri.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=ze(t.rotate||0,n.rotate||0,i))}function nb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ij=e2(0,.5,Uw),sj=e2(.5,.95,En);function e2(e,t,n){return i=>i<e?0:i>t?1:n(Yl(e,t,i))}function ib(e,t){e.min=t.min,e.max=t.max}function Nn(e,t){ib(e.x,t.x),ib(e.y,t.y)}function sb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rb(e,t,n,i,s){return e-=t,e=Vf(e,1/n,i),s!==void 0&&(e=Vf(e,1/s,i)),e}function rj(e,t=0,n=1,i=.5,s,r=e,a=e){if(ri.test(t)&&(t=parseFloat(t),t=ze(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ze(r.min,r.max,i);e===r&&(o-=t),e.min=rb(e.min,t,n,o,s),e.max=rb(e.max,t,n,o,s)}function ab(e,t,[n,i,s],r,a){rj(e,t[n],t[i],t[s],t.scale,r,a)}const aj=["x","scaleX","originX"],oj=["y","scaleY","originY"];function ob(e,t,n,i){ab(e.x,t,aj,n?n.x:void 0,i?i.x:void 0),ab(e.y,t,oj,n?n.y:void 0,i?i.y:void 0)}function lb(e){return e.translate===0&&e.scale===1}function t2(e){return lb(e.x)&&lb(e.y)}function ub(e,t){return e.min===t.min&&e.max===t.max}function lj(e,t){return ub(e.x,t.x)&&ub(e.y,t.y)}function cb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function n2(e,t){return cb(e.x,t.x)&&cb(e.y,t.y)}function fb(e){return Nt(e.x)/Nt(e.y)}function hb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uj{constructor(){this.members=[]}add(t){ry(this.members,t),t.scheduleRender()}remove(t){if(ay(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cj(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:d,rotateY:m,skewX:g,skewY:O}=n;c&&(i=`perspective(${c}px) ${i}`),f&&(i+=`rotate(${f}deg) `),d&&(i+=`rotateX(${d}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),O&&(i+=`skewY(${O}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(i+=`scale(${o}, ${u})`),i||"none"}const Xd=["","X","Y","Z"],fj=1e3;let hj=0;function Yd(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function i2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Re,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&i2(i)}function s2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=hj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pj),this.nodes.forEach(_j),this.nodes.forEach(Sj),this.nodes.forEach(gj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new WU)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new uy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=_x(a)&&!i9(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let f,d=0;const m=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{d=window.innerWidth}),e(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,f&&f(),f=ej(m,250),Hc.hasAnimatedSinceResize&&(Hc.hasAnimatedSinceResize=!1,this.nodes.forEach(pb)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||c.getDefaultTransition()||wj,{onLayoutAnimationStart:D,onLayoutAnimationComplete:k}=c.getProps(),b=!this.targetLayout||!n2(this.targetLayout,g),v=!d&&m;if(this.options.layoutRoot||this.resumeFrom||v||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...by(O,"layout"),onPlay:D,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(f,v)}else d||pb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(db);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vj),this.nodes.forEach(dj),this.nodes.forEach(mj)):this.nodes.forEach(mb),this.clearAllSnapshots();const o=Rt.now();yt.delta=ai(0,1e3/60,o-yt.timestamp),yt.timestamp=o,yt.isProcessing=!0,Ld.update.process(yt),Ld.preRender.process(yt),Ld.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yj),this.sharedNodes.forEach(Tj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!t2(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||pr(this.latestValues)||f)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),xj(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return rt();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Cj))){const{scroll:f}=this.root;f&&(ba(o.x,f.offset.x),ba(o.y,f.offset.y))}return o}removeElementScroll(a){var u;const o=rt();if(Nn(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Nn(o,a),ba(o.x,d.offset.x),ba(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const u=rt();Nn(u,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ta(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),pr(f.latestValues)&&Ta(u,f.latestValues)}return pr(this.latestValues)&&Ta(u,this.latestValues),u}removeTransform(a){const o=rt();Nn(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!pr(c.latestValues))continue;Dp(c.latestValues)&&c.updateSnapshot();const f=rt(),d=c.measurePageBox();Nn(f,d),ob(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return pr(this.latestValues)&&ob(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!this.layout||!(f||d))return;this.resolvedRelativeTargetAt=yt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),Lx(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dp(this.parent.latestValues)||zx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Bf(this.relativeTargetOrigin,o,u),Nn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var O;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Nn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;q9(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sb(this.prevProjectionDelta.x,this.projectionDelta.x),sb(this.prevProjectionDelta.y,this.projectionDelta.y)),Ol(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!hb(this.projectionDelta.x,this.prevProjectionDelta.x)||!hb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ea(),this.projectionDelta=Ea(),this.projectionDeltaWithTransform=Ea()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},f={...this.latestValues},d=Ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=rt(),g=u?u.source:void 0,O=this.layout?this.layout.source:void 0,D=g!==O,k=this.getStack(),b=!k||k.members.length<=1,v=!!(D&&!b&&this.options.crossfade===!0&&!this.path.some(Aj));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const z=N/1e3;gb(d.x,a.x,z),gb(d.y,a.y,z),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ej(this.relativeTarget,this.relativeTargetOrigin,m,z),w&&lj(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=rt()),Nn(w,this.relativeTarget)),D&&(this.animationValues=f,nj(f,c,this.latestValues,z,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Hc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=JU(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:f}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&r2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||rt();const d=Nt(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+d;const m=Nt(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}Nn(o,u),Ta(o,f),Ol(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uj),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Yd("z",a,c,this.animationValues);for(let f=0;f<Xd.length;f++)Yd(`rotate${Xd[f]}`,a,c,this.animationValues),Yd(`skew${Xd[f]}`,a,c,this.animationValues);a.render();for(const f in c)a.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Bc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!pr(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=cj(this.projectionDeltaWithTransform,this.treeScale,f);u&&(d=u(f,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const O in Op){if(f[O]===void 0)continue;const{correct:D,applyTo:k,isCSSVariable:b}=Op[O],v=d==="none"?f[O]:D(f[O],c);if(k){const w=k.length;for(let N=0;N<w;N++)a[k[N]]=v}else b?this.options.visualElement.renderState.vars[O]=v:a[O]=v}this.options.layoutId&&(a.pointerEvents=c===this?Bc(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(db),this.root.sharedNodes.clear()}}}function dj(e){e.updateLayout()}function mj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?cn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Nt(m);m.min=i[d].min,m.max=m.min+g}):r2(r,t.layoutBox,i)&&cn(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Nt(i[d]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const o=Ea();Ol(o,i,t.layoutBox);const u=Ea();a?Ol(u,e.applyTransform(s,!0),t.measuredBox):Ol(u,i,t.layoutBox);const c=!t2(o);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const O=rt();Bf(O,t.layoutBox,m.layoutBox);const D=rt();Bf(D,i,g.layoutBox),n2(O,D)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=O,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function pj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yj(e){e.clearSnapshot()}function db(e){e.clearMeasurements()}function mb(e){e.isLayoutDirty=!1}function vj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _j(e){e.resolveTargetDelta()}function Sj(e){e.calcProjection()}function bj(e){e.resetSkewAndRotation()}function Tj(e){e.removeLeadSnapshot()}function gb(e,t,n){e.translate=ze(t.translate,0,n),e.scale=ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yb(e,t,n,i){e.min=ze(t.min,n.min,i),e.max=ze(t.max,n.max,i)}function Ej(e,t,n,i){yb(e.x,t.x,n.x,i),yb(e.y,t.y,n.y,i)}function Aj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wj={duration:.45,ease:[.4,0,.1,1]},vb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_b=vb("applewebkit/")&&!vb("chrome/")?Math.round:En;function Sb(e){e.min=_b(e.min),e.max=_b(e.max)}function xj(e){Sb(e.x),Sb(e.y)}function r2(e,t,n){return e==="position"||e==="preserve-aspect"&&!IU(fb(t),fb(n),.2)}function Cj(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Oj=s2({attachResizeListener:(e,t)=>Wl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},a2=s2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kd.current){const e=new Oj({});e.mount(window),e.setOptions({layoutScroll:!0}),Kd.current=e}return Kd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Dj={pan:{Feature:YU},drag:{Feature:XU,ProjectionNode:a2,MeasureLayout:Qx}};function bb(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Re.postRender(()=>r(t,bu(t)))}class Rj extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=W5(t,(n,i)=>(bb(this.node,i,"Start"),s=>bb(this.node,s,"End"))))}unmount(){}}class Nj extends qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vu(Wl(this.node.current,"focus",()=>this.onFocus()),Wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tb(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Re.postRender(()=>r(t,bu(t)))}class Mj extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=n9(t,(n,i)=>(Tb(this.node,i,"Start"),(s,{success:r})=>Tb(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Lp=new WeakMap,Jd=new WeakMap,kj=e=>{const t=Lp.get(e.target);t&&t(e)},Ij=e=>{e.forEach(kj)};function zj({root:e,...t}){const n=e||document;Jd.has(n)||Jd.set(n,{});const i=Jd.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Ij,{root:e,...t})),i[s]}function Lj(e,t,n){const i=zj(t);return Lp.set(e,n),i.observe(e),()=>{Lp.delete(e),i.unobserve(e)}}const Pj={some:0,all:1};class Uj extends qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:Pj[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=c?f:d;m&&m(u)};return Lj(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(jj(t,n))&&this.startObserver()}unmount(){}}function jj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Vj={inView:{Feature:Uj},tap:{Feature:Mj},focus:{Feature:Nj},hover:{Feature:Rj}},Bj={layout:{ProjectionNode:a2,MeasureLayout:Qx}},Hj={...OU,...Vj,...Dj,...Bj},Hf=G9(Hj,iU);function Fj({xp:e,level:t,compact:n=!1}){const i=x1(e,t);return n?T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),T.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:T.jsx("span",{className:"text-sm font-bold text-white",children:t})}),T.jsxs("div",{className:"flex-1 min-w-[80px]",children:[T.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[T.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),T.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),T.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:T.jsx(Hf.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function Gj({streak:e}){return e===0?null:T.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[T.jsx("span",{className:"text-orange-400",children:""}),T.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function Zj({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:s}=GD(e);return T.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[T.jsx("span",{className:"text-sm",children:s}),t&&T.jsx("span",{className:"text-xs",children:n})]})}function $j({onImportSuccess:e}){const[t,n]=P.useState(!1),[i,s]=P.useState(null),[r,a]=P.useState(!1),o=P.useRef(null),u=ID(),c=()=>{ND(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},f=()=>{var m;(m=o.current)==null||m.click()},d=async m=>{var D;const g=(D=m.target.files)==null?void 0:D[0];if(!g)return;a(!0),s(null);const O=await kD(g);a(!1),s({type:O.success?"success":"error",text:O.message}),O.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),o.current&&(o.current.value="")};return T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:T.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),T.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[T.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&T.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[T.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),T.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[T.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),T.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),T.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("button",{onClick:c,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),T.jsxs("button",{onClick:f,disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r?"Importing...":"Import Backup"]}),T.jsx("input",{ref:o,type:"file",accept:".json",onChange:d,className:"hidden"})]}),i&&T.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),T.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const qj={progress:"",mastery:"",dedication:"",exploration:""};function Xj({notification:e,onDismiss:t}){return P.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),T.jsx(Hf.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:T.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:qj[e.category]||""}),T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),T.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),T.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),T.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),T.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function Yj({notifications:e,onDismiss:t}){return T.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:T.jsx(Cp,{mode:"popLayout",children:e.map(n=>T.jsx(Xj,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function Kj({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:s,hubUrl:r}=xw(),a=vh(),o=s.gamification?a:null;return T.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:T.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:T.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),T.jsxs(na,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[T.jsx("span",{className:"text-2xl",children:i}),T.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),T.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[T.jsx("a",{href:r,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),T.jsx(na,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.theoremIndex&&T.jsx(na,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.interactiveModules&&T.jsx(na,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.leaderboard&&T.jsx(na,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[s.gamification&&o&&T.jsxs(T.Fragment,{children:[T.jsx(Gj,{streak:o.state.streak.currentStreak}),T.jsx(Fj,{xp:o.state.user.totalXP,level:o.state.user.level})]}),s.gamification&&T.jsx($j,{})]})]})})}function Jj({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:s}=xw(),[r,a]=P.useState(new Set([1])),o=vh(),u=i.gamification?o:null,c=d=>{a(m=>{const g=new Set(m);return g.has(d)?g.delete(d):g.add(d),g})},f=d=>{var g;if(!u)return"none";const m=`${n}:${d}`;return((g=u.state.sections[m])==null?void 0:g.masteryLevel)??"none"};return T.jsxs(T.Fragment,{children:[T.jsx(Cp,{children:e&&T.jsx(Hf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),T.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:T.jsxs("nav",{className:"p-4",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:T.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),T.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),T.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&T.jsx("li",{children:T.jsxs(Lo,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&T.jsx("li",{children:T.jsxs(Lo,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&T.jsx("li",{children:T.jsxs(Lo,{to:"/problems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&T.jsx("li",{children:T.jsxs(Lo,{to:"/transcripts",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),T.jsx("div",{className:"space-y-2",children:s.map(d=>T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>c(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:T.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),T.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),T.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),T.jsx(Cp,{children:r.has(d.id)&&T.jsx(Hf.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(m=>T.jsx("li",{children:T.jsxs(Lo,{to:`/section/${m.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:g})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${g?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[T.jsx("span",{className:"truncate",children:m.title}),i.gamification&&T.jsx(Zj,{level:f(m.id)})]})},m.id))})})]},d.id))})]})})]})}const Qj={id:Fl,name:g1,icon:y1,hubUrl:rD,features:Ln,curriculum:Zr},Wj=P.lazy(()=>Y(()=>import("./Leaderboard-CQsZrp3K.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),eV=P.lazy(()=>Y(()=>import("./Theorems-C9W-cAeO.js"),__vite__mapDeps([4,1,2,5,3,6]),import.meta.url)),tV=P.lazy(()=>Y(()=>import("./InteractiveModules-DxlyJSP2.js"),__vite__mapDeps([7,1,2,5,3]),import.meta.url)),nV=P.lazy(()=>Y(()=>import("./SectionQuizPage-YhieFl7p.js"),__vite__mapDeps([8,1,2,3,9]),import.meta.url)),iV=P.lazy(()=>Y(()=>import("./TranscriptsIndex-B_dCx-1E.js"),__vite__mapDeps([10,1,2,11]),import.meta.url)),Eb=Object.assign({"./pages/transcripts/BrookingsGateway.tsx":()=>Y(()=>import("./BrookingsGateway-i18248jl.js"),__vite__mapDeps([12,1,2,3,13,11,14,15]),import.meta.url),"./pages/transcripts/ChenOptimalTontine.tsx":()=>Y(()=>import("./ChenOptimalTontine-BbOspkQZ.js"),__vite__mapDeps([16,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/DonnellyPooling.tsx":()=>Y(()=>import("./DonnellyPooling-DKriVCYa.js"),__vite__mapDeps([17,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/FormanTontinePensions.tsx":()=>Y(()=>import("./FormanTontinePensions-BKsZis7D.js"),__vite__mapDeps([18,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/FullmerTontineDesign.tsx":()=>Y(()=>import("./FullmerTontineDesign-DipadTpD.js"),__vite__mapDeps([19,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/McclellandTontineTrust.tsx":()=>Y(()=>import("./McclellandTontineTrust-BqytHHkx.js"),__vite__mapDeps([20,1,2,3,13,11,14,15]),import.meta.url),"./pages/transcripts/MilevskyAnnuityMan.tsx":()=>Y(()=>import("./MilevskyAnnuityMan-C-5qOB9y.js"),__vite__mapDeps([21,1,2,3,13,11,6,14,15]),import.meta.url),"./pages/transcripts/MilevskyTontineHistory.tsx":()=>Y(()=>import("./MilevskyTontineHistory-BlDiJy1B.js"),__vite__mapDeps([22,1,2,3,13,11,6,14,15]),import.meta.url)}),o2={};var Ab;for(const e of Object.keys(Eb)){const t=(Ab=e.split("/").pop())==null?void 0:Ab.replace(".tsx","");if(t&&t!=="index"){const n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();o2[n]=Eb[e]}}const sV={"milevsky-tontine-history":"milevsky-tontine-history","milevsky-annuity-man":"milevsky-annuity-man","mcclelland-tontine-trust":"mcclelland-tontine-trust","fullmer-tontine-design":"fullmer-tontine-design","brookings-gateway":"brookings-gateway","forman-tontine-pensions":"forman-tontine-pensions","donnelly-pooling":"donnelly-pooling","chen-optimal-tontine":"chen-optimal-tontine"},rV=Object.assign({"./pages/sections/Section00.tsx":()=>Y(()=>import("./Section00-CMSEOgEX.js"),__vite__mapDeps([23,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section01.tsx":()=>Y(()=>import("./Section01-RbuK4Xek.js"),__vite__mapDeps([25,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section02.tsx":()=>Y(()=>import("./Section02-DMAK-k_l.js"),__vite__mapDeps([26,1,2,3,24,9,15]),import.meta.url),"./pages/sections/Section03.tsx":()=>Y(()=>import("./Section03-Dzxj8Rki.js"),__vite__mapDeps([27,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section04.tsx":()=>Y(()=>import("./Section04-B-3xhG2o.js"),__vite__mapDeps([28,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section05.tsx":()=>Y(()=>import("./Section05-DgQB8kHX.js"),__vite__mapDeps([29,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section06.tsx":()=>Y(()=>import("./Section06-DVoYx8Qe.js"),__vite__mapDeps([30,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section07.tsx":()=>Y(()=>import("./Section07-ooe22bHD.js"),__vite__mapDeps([31,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section08.tsx":()=>Y(()=>import("./Section08-Dy2X5iGA.js"),__vite__mapDeps([32,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section09.tsx":()=>Y(()=>import("./Section09-BEjPdpNR.js"),__vite__mapDeps([33,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section10.tsx":()=>Y(()=>import("./Section10-B4V4TQOc.js"),__vite__mapDeps([34,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section11.tsx":()=>Y(()=>import("./Section11-VKMZL_Co.js"),__vite__mapDeps([35,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section12.tsx":()=>Y(()=>import("./Section12-Dm2tDPcm.js"),__vite__mapDeps([36,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section13.tsx":()=>Y(()=>import("./Section13-efGVJdCD.js"),__vite__mapDeps([37,1,2,3,24,9,6,14]),import.meta.url),"./pages/sections/Section14.tsx":()=>Y(()=>import("./Section14-Dgmiy409.js"),__vite__mapDeps([38,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section15.tsx":()=>Y(()=>import("./Section15-BDPyazqs.js"),__vite__mapDeps([39,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section16.tsx":()=>Y(()=>import("./Section16-Zx3X9w0R.js"),__vite__mapDeps([40,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section17.tsx":()=>Y(()=>import("./Section17-C19tA3mP.js"),__vite__mapDeps([41,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section18.tsx":()=>Y(()=>import("./Section18-Cm5yd5D2.js"),__vite__mapDeps([42,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section19.tsx":()=>Y(()=>import("./Section19-9vv5zJM1.js"),__vite__mapDeps([43,1,2,3,24,9,6,14]),import.meta.url),"./pages/sections/Section20.tsx":()=>Y(()=>import("./Section20-k64cYo67.js"),__vite__mapDeps([44,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section21.tsx":()=>Y(()=>import("./Section21-Bd-VTP_G.js"),__vite__mapDeps([45,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section22.tsx":()=>Y(()=>import("./Section22-BtHhe8C_.js"),__vite__mapDeps([46,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section23.tsx":()=>Y(()=>import("./Section23-C2ajBG28.js"),__vite__mapDeps([47,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section24.tsx":()=>Y(()=>import("./Section24-BHu4EiGE.js"),__vite__mapDeps([48,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section25.tsx":()=>Y(()=>import("./Section25-wtcCJXO2.js"),__vite__mapDeps([49,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section26.tsx":()=>Y(()=>import("./Section26-8CIQ-YJT.js"),__vite__mapDeps([50,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section27.tsx":()=>Y(()=>import("./Section27-BX7b8WhP.js"),__vite__mapDeps([51,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section28.tsx":()=>Y(()=>import("./Section28-BDmJaxyr.js"),__vite__mapDeps([52,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section29.tsx":()=>Y(()=>import("./Section29-DJ9V-Q5E.js"),__vite__mapDeps([53,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section30.tsx":()=>Y(()=>import("./Section30-CK6bXKCg.js"),__vite__mapDeps([54,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section31.tsx":()=>Y(()=>import("./Section31-CWCDAgWo.js"),__vite__mapDeps([55,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section32.tsx":()=>Y(()=>import("./Section32-BHa4qQpw.js"),__vite__mapDeps([56,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section33.tsx":()=>Y(()=>import("./Section33-0yRbKOCT.js"),__vite__mapDeps([57,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section34.tsx":()=>Y(()=>import("./Section34-Bb92oC9K.js"),__vite__mapDeps([58,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section35.tsx":()=>Y(()=>import("./Section35-_5rIV8Eu.js"),__vite__mapDeps([59,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section36.tsx":()=>Y(()=>import("./Section36-BRaBufE4.js"),__vite__mapDeps([60,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section37.tsx":()=>Y(()=>import("./Section37-DovVj4A9.js"),__vite__mapDeps([61,1,2,3,24,9,14,15]),import.meta.url),"./pages/sections/Section38.tsx":()=>Y(()=>import("./Section38-ByWYljrc.js"),__vite__mapDeps([62,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section39.tsx":()=>Y(()=>import("./Section39-W_l2qRwf.js"),__vite__mapDeps([63,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section40.tsx":()=>Y(()=>import("./Section40-DaAwEZsj.js"),__vite__mapDeps([64,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section41.tsx":()=>Y(()=>import("./Section41-BqScQXvl.js"),__vite__mapDeps([65,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section42.tsx":()=>Y(()=>import("./Section42-C38d8fo2.js"),__vite__mapDeps([66,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section43.tsx":()=>Y(()=>import("./Section43-pA5SWk1n.js"),__vite__mapDeps([67,1,2,3,24,9,6,14,15]),import.meta.url),"./pages/sections/Section44.tsx":()=>Y(()=>import("./Section44-DMbse-WV.js"),__vite__mapDeps([68,1,2,3,24,9,6,14,15]),import.meta.url)}),aV=uP(rV),l2={};for(const[e,t]of Object.entries(aV))l2[Number(e)]=P.lazy(t);function oV(){const{id:e}=wb(),t=parseInt(e||"0",10),n=l2[t];return n?T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading section..."}),children:T.jsx(n,{})}):T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),T.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function lV(){const{id:e}=wb(),t=e||"",n=sV[t]||t,i=o2[n];if(i){const s=P.lazy(i);return T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading transcript..."}),children:T.jsx(s,{})})}return T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:T.jsxs("div",{className:"text-center max-w-md px-4",children:[T.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-dark-800 flex items-center justify-center",children:T.jsx("span",{className:"text-3xl",children:""})}),T.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Transcript Coming Soon"}),T.jsx("p",{className:"text-dark-400 mb-6",children:"This transcript summary is being prepared. Check back soon for the full educational content."}),T.jsxs("a",{href:"#/transcripts",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Transcripts"]})]})})}function uV({children:e}){const[t,n]=P.useState(!1);return T.jsxs("div",{className:"min-h-screen bg-dark-950",children:[T.jsx(Kj,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),T.jsx(Jj,{isOpen:t,onClose:()=>n(!1)}),T.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function gc(){return T.jsxs(T.Fragment,{children:[T.jsx(uV,{children:T.jsxs(x2,{children:[T.jsx(gi,{path:"/",element:T.jsx(lS,{})}),Ln.leaderboard&&T.jsx(gi,{path:"/leaderboard",element:T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading leaderboard..."}),children:T.jsx(Wj,{})})}),Ln.theoremIndex&&T.jsx(gi,{path:"/theorems",element:T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading theorems..."}),children:T.jsx(eV,{})})}),Ln.interactiveModules&&T.jsx(gi,{path:"/interactive",element:T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading modules..."}),children:T.jsx(tV,{})})}),Ln.transcripts&&T.jsxs(T.Fragment,{children:[T.jsx(gi,{path:"/transcripts",element:T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading transcripts..."}),children:T.jsx(iV,{})})}),T.jsx(gi,{path:"/transcript/:id",element:T.jsx(lV,{})})]}),T.jsx(gi,{path:"/section/:id",element:T.jsx(oV,{})}),T.jsx(gi,{path:"/quiz/section/:id",element:T.jsx(P.Suspense,{fallback:T.jsx(yr,{message:"Loading quiz..."}),children:T.jsx(nV,{})})}),T.jsx(gi,{path:"*",element:T.jsx(lS,{})})]})}),Ln.gamification&&T.jsx(cV,{})]})}function cV(){const{notifications:e,dismissNotification:t}=vh();return T.jsx(Yj,{notifications:e,onDismiss:t})}function fV(){return T.jsx(W6,{children:T.jsxs(tP,{children:[T.jsx(cP,{config:Qj,children:T.jsx(w2,{children:Ln.nostrAuth?T.jsx(Z6,{children:Ln.gamification?T.jsx(oS,{children:T.jsx(gc,{})}):T.jsx(gc,{})}):Ln.gamification?T.jsx(oS,{children:T.jsx(gc,{})}):T.jsx(gc,{})})}),T.jsx(iP,{})]})})}tD.createRoot(document.getElementById("root")).render(T.jsx(P.StrictMode,{children:T.jsx(fV,{})}));export{g1 as C,Ln as F,rD as H,yV as L,gV as R,lP as S,oP as X,ui as a,Yo as b,GD as c,ID as d,ND as e,_V as f,ql as g,Ka as h,_s as i,kD as j,vh as k,y1 as l,Zr as m,Fl as n,BD as o,pV as p,mt as q,TV as r,vV as s,EV as t,q6 as u,SV as v,AV as w,rP as x,wV as y,bV as z};
