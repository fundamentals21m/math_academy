import type { QuizQuestion } from './types';

export const section06Quiz = {
  easy: [
    {
      id: 's06-e01',
      type: 'multiple-choice',
      question: 'When does a modular inverse of $a \\bmod n$ exist?',
      options: [
        'When $\\gcd(a, n) = 1$',
        'When $a < n$',
        'When $n$ is prime',
        'Always',
      ],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: 'The modular inverse exists if and only if $a$ and $n$ are coprime ($\\gcd = 1$).',
    },
    {
      id: 's06-e02',
      type: 'numeric',
      question: 'What is $3^{-1} \\bmod 7$?',
      correctAnswer: 5,
      numericRange: { min: 0, max: 7 },
      difficulty: 'easy',
      explanation: '$3 \\times 5 = 15 = 2 \\times 7 + 1 \\equiv 1 \\pmod{7}$. Therefore $3^{-1} \\equiv 5 \\pmod{7}$.',
    },
    {
      id: 's06-e03',
      type: 'multiple-choice',
      question: 'What is $2^{-1} \\bmod 5$?',
      options: ['$3$', '$2$', '$4$', '$1$'],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: '$2 \\times 3 = 6 = 5 + 1 \\equiv 1 \\pmod{5}$. Therefore $2^{-1} \\equiv 3 \\pmod{5}$.',
    },
    {
      id: 's06-e04',
      type: 'multiple-choice',
      question: 'Does $4^{-1} \\bmod 8$ exist?',
      options: [
        'No, because $\\gcd(4,8) = 4 \\ne 1$',
        'Yes, it equals $2$',
        'Yes, it equals $6$',
        'Yes, it equals $4$',
      ],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: '$\\gcd(4, 8) = 4 \\ne 1$, so no modular inverse exists.',
    },
    {
      id: 's06-e05',
      type: 'numeric',
      question: 'What is $5^{-1} \\bmod 6$?',
      correctAnswer: 5,
      numericRange: { min: 0, max: 6 },
      difficulty: 'easy',
      explanation: '$5 \\times 5 = 25 = 4 \\times 6 + 1 \\equiv 1 \\pmod{6}$. Therefore $5^{-1} \\equiv 5 \\pmod{6}$.',
    },
    {
      id: 's06-e06',
      type: 'multiple-choice',
      question: 'If $a \\cdot a^{-1} \\equiv 1 \\pmod{n}$, what is $a^{-1}$ called?',
      options: [
        'The modular inverse of $a$',
        'The modular exponent of $a$',
        'The GCD of $a$ and $n$',
        'The remainder of $a$',
      ],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: '$a^{-1}$ is called the modular multiplicative inverse of $a$ modulo $n$.',
    },
    {
      id: 's06-e07',
      type: 'numeric',
      question: 'What is $4^{-1} \\bmod 9$?',
      correctAnswer: 7,
      numericRange: { min: 0, max: 9 },
      difficulty: 'easy',
      explanation: '$4 \\times 7 = 28 = 3 \\times 9 + 1 \\equiv 1 \\pmod{9}$. Therefore $4^{-1} \\equiv 7 \\pmod{9}$.',
    },
    {
      id: 's06-e08',
      type: 'multiple-choice',
      question: 'What is $1^{-1} \\bmod n$ for any modulus $n$?',
      options: ['$1$', '$n-1$', '$0$', 'Does not exist'],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: '$1 \\times 1 = 1 \\equiv 1 \\pmod{n}$, so $1$ is its own inverse.',
    },
    {
      id: 's06-e09',
      type: 'numeric',
      question: 'Find $2^{-1} \\bmod 11$.',
      correctAnswer: 6,
      numericRange: { min: 0, max: 11 },
      difficulty: 'easy',
      explanation: '$2 \\times 6 = 12 = 11 + 1 \\equiv 1 \\pmod{11}$. Therefore $2^{-1} \\equiv 6 \\pmod{11}$.',
    },
    {
      id: 's06-e10',
      type: 'multiple-choice',
      question: 'What is $(n-1)^{-1} \\bmod n$?',
      options: ['$n-1$', '$1$', '$2$', 'Does not exist'],
      correctIndex: 0,
      difficulty: 'easy',
      explanation: '$(n-1) \\times (n-1) = n^2 - 2n + 1 = n(n-2) + 1 \\equiv 1 \\pmod{n}$. So $n-1$ is its own inverse.',
    },
  ] as QuizQuestion[],

  medium: [
    {
      id: 's06-m01',
      type: 'numeric',
      question: 'What is $7^{-1} \\bmod 11$?',
      correctAnswer: 8,
      numericRange: { min: 0, max: 11 },
      difficulty: 'medium',
      explanation: '$7 \\times 8 = 56 = 5 \\times 11 + 1 \\equiv 1 \\pmod{11}$. Therefore $7^{-1} \\equiv 8 \\pmod{11}$.',
    },
    {
      id: 's06-m02',
      type: 'multiple-choice',
      question: 'To find $a^{-1} \\bmod n$ using the Extended Euclidean Algorithm, we solve:',
      options: [
        '$ax + ny = 1$ for $x$',
        '$ax = n$ for $x$',
        '$a + n = x$ for $x$',
        '$a^x \\equiv 1 \\pmod{n}$ for $x$',
      ],
      correctIndex: 0,
      difficulty: 'medium',
      explanation: 'From BÃ©zout\'s identity, if $\\gcd(a, n) = 1$, then $ax + ny = 1$. Taking mod $n$: $ax \\equiv 1 \\pmod{n}$, so $x = a^{-1}$.',
    },
    {
      id: 's06-m03',
      type: 'numeric',
      question: 'Calculate $13^{-1} \\bmod 17$.',
      correctAnswer: 4,
      numericRange: { min: 0, max: 17 },
      difficulty: 'medium',
      explanation: '$13 \\times 4 = 52 = 3 \\times 17 + 1 \\equiv 1 \\pmod{17}$. Therefore $13^{-1} \\equiv 4 \\pmod{17}$.',
    },
    {
      id: 's06-m04',
      type: 'multiple-choice',
      question: 'If $p$ is prime, how many elements in $\\mathbb{Z}_p^*$ have multiplicative inverses?',
      options: ['$p - 1$', '$p$', '$p - 2$', '$1$'],
      correctIndex: 0,
      difficulty: 'medium',
      explanation: 'All $p - 1$ non-zero elements have inverses since $\\gcd(a, p) = 1$ for all $1 \\le a < p$.',
    },
    {
      id: 's06-m05',
      type: 'numeric',
      question: 'Find $9^{-1} \\bmod 23$.',
      correctAnswer: 18,
      numericRange: { min: 0, max: 23 },
      difficulty: 'medium',
      explanation: '$9 \\times 18 = 162 = 7 \\times 23 + 1 \\equiv 1 \\pmod{23}$. Therefore $9^{-1} \\equiv 18 \\pmod{23}$.',
    },
    {
      id: 's06-m06',
      type: 'multiple-choice',
      question: 'If $a^{-1} \\equiv b \\pmod{n}$, what is $b^{-1} \\bmod n$?',
      options: ['$a$', '$b$', '$n - a$', '$ab$'],
      correctIndex: 0,
      difficulty: 'medium',
      explanation: 'Since $ab \\equiv 1 \\pmod{n}$, the inverse of $b$ is $a$ (the inverse operation is symmetric).',
    },
    {
      id: 's06-m07',
      type: 'numeric',
      question: 'Solve $5x \\equiv 1 \\pmod{12}$ for the smallest positive $x$.',
      correctAnswer: 5,
      numericRange: { min: 0, max: 12 },
      difficulty: 'medium',
      explanation: '$5 \\times 5 = 25 = 2 \\times 12 + 1 \\equiv 1 \\pmod{12}$. So $x = 5$.',
    },
    {
      id: 's06-m08',
      type: 'multiple-choice',
      question: 'In $\\mathbb{Z}_{15}$, which element does NOT have a multiplicative inverse?',
      options: ['$6$', '$7$', '$11$', '$13$'],
      correctIndex: 0,
      difficulty: 'medium',
      explanation: '$\\gcd(6, 15) = 3 \\ne 1$, so $6$ has no inverse. The others are coprime to $15$.',
    },
    {
      id: 's06-m09',
      type: 'numeric',
      question: 'What is $17^{-1} \\bmod 31$?',
      correctAnswer: 11,
      numericRange: { min: 0, max: 31 },
      difficulty: 'medium',
      explanation: '$17 \\times 11 = 187 = 6 \\times 31 + 1 \\equiv 1 \\pmod{31}$. Therefore $17^{-1} \\equiv 11 \\pmod{31}$.',
    },
    {
      id: 's06-m10',
      type: 'multiple-choice',
      question: 'How many integers in $\\{1, 2, \\ldots, 12\\}$ have multiplicative inverses modulo $12$?',
      options: ['$4$', '$6$', '$11$', '$12$'],
      correctIndex: 0,
      difficulty: 'medium',
      explanation: 'Only integers coprime to $12$ have inverses: $\\{1, 5, 7, 11\\}$. That\'s $\\varphi(12) = 4$.',
    },
  ] as QuizQuestion[],

  hard: [
    {
      id: 's06-h01',
      type: 'numeric',
      question: 'Using the Extended Euclidean Algorithm, find $23^{-1} \\bmod 100$.',
      correctAnswer: 87,
      numericRange: { min: 0, max: 100 },
      difficulty: 'hard',
      explanation: 'We solve $23x + 100y = 1$. Working through: $100 = 23 \\times 4 + 8$, $23 = 8 \\times 2 + 7$, $8 = 7 \\times 1 + 1$. Back-substituting: $1 = 23 \\times (-13) + 100 \\times 3$. So $x = -13 \\equiv 87 \\pmod{100}$.',
    },
    {
      id: 's06-h02',
      type: 'multiple-choice',
      question: 'If $p$ is prime, then $a^{-1} \\bmod p$ can also be computed as:',
      options: [
        '$a^{p-2} \\bmod p$',
        '$a^{p-1} \\bmod p$',
        '$a^{p} \\bmod p$',
        '$p - a$',
      ],
      correctIndex: 0,
      difficulty: 'hard',
      explanation: "By Fermat's Little Theorem, $a^{p-1} \\equiv 1 \\pmod{p}$. Thus $a \\cdot a^{p-2} \\equiv 1 \\pmod{p}$, so $a^{-1} \\equiv a^{p-2} \\pmod{p}$.",
    },
    {
      id: 's06-h03',
      type: 'numeric',
      question: 'Solve for $x$: $37x \\equiv 1 \\pmod{97}$.',
      correctAnswer: 55,
      numericRange: { min: 0, max: 97 },
      difficulty: 'hard',
      explanation: 'Using Extended Euclidean Algorithm on $\\gcd(37, 97)$: $97 = 37 \\times 2 + 23$, $37 = 23 \\times 1 + 14$, $23 = 14 \\times 1 + 9$, $14 = 9 \\times 1 + 5$, $9 = 5 \\times 1 + 4$, $5 = 4 \\times 1 + 1$. Back-substituting gives $x = 55$.',
    },
    {
      id: 's06-h04',
      type: 'multiple-choice',
      question: 'If $(ab)^{-1} \\bmod n$ exists, it equals:',
      options: [
        '$a^{-1} \\cdot b^{-1} \\bmod n$',
        '$(a^{-1} + b^{-1}) \\bmod n$',
        '$a \\cdot b \\bmod n$',
        '$(ab)^2 \\bmod n$',
      ],
      correctIndex: 0,
      difficulty: 'hard',
      explanation: '$(ab)(a^{-1}b^{-1}) = (aa^{-1})(bb^{-1}) = 1 \\cdot 1 = 1$. So $(ab)^{-1} = a^{-1}b^{-1}$.',
    },
    {
      id: 's06-h05',
      type: 'numeric',
      question: 'Find $65^{-1} \\bmod 119$.',
      correctAnswer: 11,
      numericRange: { min: 0, max: 119 },
      difficulty: 'hard',
      explanation: '$\\gcd(65, 119) = 1$. Using EEA: $119 = 65 \\times 1 + 54$, $65 = 54 \\times 1 + 11$, $54 = 11 \\times 4 + 10$, $11 = 10 \\times 1 + 1$. Back-substituting: $65 \\times 11 = 715 = 6 \\times 119 + 1$. So $65^{-1} \\equiv 11 \\pmod{119}$.',
    },
    {
      id: 's06-h06',
      type: 'multiple-choice',
      question: 'In RSA, the decryption exponent $d$ satisfies $ed \\equiv 1 \\pmod{\\varphi(n)}$. This means $d$ is:',
      options: [
        'The modular inverse of $e$ modulo $\\varphi(n)$',
        'The GCD of $e$ and $\\varphi(n)$',
        'The prime factorization of $n$',
        'Equal to $e$',
      ],
      correctIndex: 0,
      difficulty: 'hard',
      explanation: 'The RSA decryption exponent $d$ is computed as $d = e^{-1} \\bmod \\varphi(n)$ using the Extended Euclidean Algorithm.',
    },
    {
      id: 's06-h07',
      type: 'numeric',
      question: 'If $e = 17$ and $\\varphi(n) = 60$, find the RSA decryption exponent $d$.',
      correctAnswer: 53,
      numericRange: { min: 0, max: 60 },
      difficulty: 'hard',
      explanation: 'We need $17d \\equiv 1 \\pmod{60}$. Using EEA: $60 = 17 \\times 3 + 9$, $17 = 9 \\times 1 + 8$, $9 = 8 \\times 1 + 1$. Back-substituting: $17 \\times (-7) + 60 \\times 2 = 1$. So $d = -7 \\equiv 53 \\pmod{60}$.',
    },
    {
      id: 's06-h08',
      type: 'multiple-choice',
      question: 'The equation $ax \\equiv b \\pmod{n}$ has a solution if and only if:',
      options: [
        '$\\gcd(a, n)$ divides $b$',
        '$a < n$',
        '$b < a$',
        '$n$ is prime',
      ],
      correctIndex: 0,
      difficulty: 'hard',
      explanation: 'The linear congruence $ax \\equiv b \\pmod{n}$ has solutions iff $\\gcd(a, n) | b$. When it does, there are exactly $\\gcd(a, n)$ solutions modulo $n$.',
    },
    {
      id: 's06-h09',
      type: 'numeric',
      question: 'Find $127^{-1} \\bmod 256$.',
      correctAnswer: 127,
      numericRange: { min: 0, max: 256 },
      difficulty: 'hard',
      explanation: '$127 \\times 127 = 16129 = 63 \\times 256 + 1 \\equiv 1 \\pmod{256}$. So $127$ is its own inverse mod $256$.',
    },
    {
      id: 's06-h10',
      type: 'multiple-choice',
      question: 'If $n = pq$ where $p, q$ are distinct primes, how many elements in $\\mathbb{Z}_n$ have multiplicative inverses?',
      options: [
        '$(p-1)(q-1)$',
        '$pq - 1$',
        '$pq$',
        '$(p-1) + (q-1)$',
      ],
      correctIndex: 0,
      difficulty: 'hard',
      explanation: 'The number of invertible elements is $\\varphi(pq) = \\varphi(p)\\varphi(q) = (p-1)(q-1)$.',
    },
  ] as QuizQuestion[],
};
