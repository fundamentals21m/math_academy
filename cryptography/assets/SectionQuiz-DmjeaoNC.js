import{j as e,A as se,m as S}from"./vendor-animation-CmxkKU9r.js";import{r as c}from"./vendor-react-DamxDR2H.js";import{p as ne,u as ae}from"./index-BWaIdtgh.js";import{k as X}from"./vendor-math-p018AHG0.js";function I(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function le(s){if(!s)return[];const t=[];let i=0;const a=[],g=/\$\$([^$]*?)\$\$/g;let x;for(;(x=g.exec(s))!==null;)a.push({type:"display",latex:x[1],start:x.index,end:x.index+x[0].length});const o=/\$([^$]+?)\$/g;let u;for(;(u=o.exec(s))!==null;)a.some(h=>u.index>=h.start&&u.index<h.end)||a.push({type:"inline",latex:u[1],start:u.index,end:u.index+u[0].length});return a.sort((f,h)=>f.start-h.start),a.forEach(f=>{const h=s.slice(i,f.start);h&&t.push({type:"text",content:h}),t.push({type:f.type==="display"?"display-math":"inline-math",content:f.latex}),i=f.end}),i<s.length&&t.push({type:"text",content:s.slice(i)}),t}function ie(s){if(!s)return"";const i=le(s).map(a=>{if(a.type==="text")return I(a.content);if(a.type==="inline-math")try{return X.renderToString(a.content,{throwOnError:!1,displayMode:!1})}catch{return I(a.content)}else if(a.type==="display-math")try{return X.renderToString(a.content,{throwOnError:!1,displayMode:!0})}catch{return I(a.content)}return""}).join("");return ne.sanitize(i,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function P(s){return typeof s=="string"?ie(s):s.map(t=>(t.type==="text",t.content)).join("")}function ue({title:s,children:t,className:i=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${i}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t})]})}function he({title:s,children:t,proof:i,className:a=""}){const[g,x]=c.useState(!1);return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${a}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t}),i&&e.jsxs("div",{className:"mt-4 pl-11",children:[e.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${g?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),g?"Hide Proof":"Show Proof"]}),e.jsx(se,{children:g&&e.jsx(S.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[e.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),i,e.jsx("div",{className:"text-right mt-4 text-dark-500",children:"âˆŽ"})]})})})]})]})}function pe({title:s,children:t,className:i=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${i}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t})]})}const F=5;function oe(s){const t=[...s];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t}function fe({sectionId:s,questions:t,title:i="Section Quiz",hardOnly:a=!1}){var q,W,O,U,G,K;const x=ae(),[o,u]=c.useState(a?"hard":null),[f,h]=c.useState(0),[w,_]=c.useState(0),[A,M]=c.useState(null),[j,T]=c.useState(null),[v,$]=c.useState(""),[p,N]=c.useState(!1),[D,C]=c.useState([]),[V,Q]=c.useState(!1),[z,y]=c.useState(""),H=c.useMemo(()=>{if(!o)return[];const r=t[o]||[];return oe(r).slice(0,F)},[t,o,f]),n=H[w],b=H.length,k=(n==null?void 0:n.type)??"multiple-choice",E=r=>{u(r),h(l=>l+1),L()},L=()=>{_(0),M(null),T(null),$(""),N(!1),C([]),Q(!1),y("")},Y=r=>{if(A!==null||!n)return;M(r);const l=r===n.correctIndex;C(d=>[...d,l]),N(!0)},J=()=>{if(j===null||!n){y("Please enter a number");return}const{min:r,max:l}=n.numericRange??{};if(r!==void 0&&j<r){y(`Answer must be at least ${r}`);return}if(l!==void 0&&j>l){y(`Answer must be at most ${l}`);return}y("");const d=j===n.correctAnswer;C(m=>[...m,d]),N(!0)},Z=()=>{var d;if(!n)return;const r=v.trim();if(r==="")return;const l=r.toLowerCase()===((d=n.correctAnswer)==null?void 0:d.toString().toLowerCase());C(m=>[...m,l]),N(!0)},ee=()=>{var r;if(w<b-1)_(l=>l+1),M(null),T(null),$(""),N(!1),y("");else if(Q(!0),x&&n&&o){const l=D.filter(Boolean).length,d=p&&(k==="multiple-choice"&&A===n.correctIndex||k==="numeric"&&j===n.correctAnswer||k==="text"&&v.toLowerCase()===((r=n.correctAnswer)==null?void 0:r.toString().toLowerCase())),m=l+(d?1:0),R=Math.min(100,Math.round(m/b*100));x.recordQuiz(s,o,R,m,b)}},te=()=>{h(r=>r+1),L()},B=()=>{u(null),L()};if(!o)return e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:i}),e.jsxs("p",{className:"text-dark-400 mb-8",children:["Select a difficulty level to begin. Each attempt will give you ",F," random questions."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("button",{onClick:()=>E("easy"),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-emerald-500/20 border border-emerald-500/50 text-emerald-300 font-medium hover:bg-emerald-500/30 transition-colors",children:[e.jsx("div",{className:"text-lg font-semibold",children:"Easy"}),e.jsxs("div",{className:"text-sm opacity-75",children:[((q=t.easy)==null?void 0:q.length)||0," questions"]})]}),e.jsxs("button",{onClick:()=>E("medium"),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-amber-500/20 border border-amber-500/50 text-amber-300 font-medium hover:bg-amber-500/30 transition-colors",children:[e.jsx("div",{className:"text-lg font-semibold",children:"Medium"}),e.jsxs("div",{className:"text-sm opacity-75",children:[((W=t.medium)==null?void 0:W.length)||0," questions"]})]}),e.jsxs("button",{onClick:()=>E("hard"),className:"w-full sm:w-auto px-8 py-4 rounded-xl bg-red-500/20 border border-red-500/50 text-red-300 font-medium hover:bg-red-500/30 transition-colors",children:[e.jsx("div",{className:"text-lg font-semibold",children:"Hard"}),e.jsxs("div",{className:"text-sm opacity-75",children:[((O=t.hard)==null?void 0:O.length)||0," questions"]})]})]})]})});if(V){const r=D.filter(Boolean).length,l=Math.round(r/b*100);return e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:l>=80?"ðŸŽ‰":l>=60?"ðŸ‘":"ðŸ“š"}),e.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-dark-400 mb-2",children:["You scored ",r," out of ",b," (",l,"%)"]}),e.jsxs("p",{className:"text-sm text-dark-500 mb-6",children:["Difficulty: ",e.jsx("span",{className:`font-medium ${o==="easy"?"text-emerald-400":o==="medium"?"text-amber-400":"text-red-400"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})]}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:D.map((d,m)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${d?"bg-emerald-500":"bg-red-500"}`},m))}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[e.jsx("button",{onClick:te,className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"}),!a&&e.jsx("button",{onClick:B,className:"w-full sm:w-auto px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Change Difficulty"})]})]})})}return n?e.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:i}),e.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",w+1," of ",b]})]}),e.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:e.jsx(S.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(w+1)/b*100}%`}})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${o==="easy"?"bg-emerald-500/20 text-emerald-400":o==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})}),e.jsx("p",{className:"text-lg text-dark-200 mb-6",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:P(n.question)}})}),k==="multiple-choice"&&n.options&&e.jsx("div",{className:"space-y-3 mb-6",children:n.options.map((r,l)=>{const d=A===l,m=l===n.correctIndex,R=p&&m,re=p&&d&&!m;return e.jsx("button",{onClick:()=>Y(l),disabled:p,className:`w-full p-4 rounded-xl text-left transition-all ${R?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":re?"bg-red-500/20 border-red-500/50 text-red-300":d?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+l)}),e.jsx("span",{dangerouslySetInnerHTML:{__html:P(r)}})]})},l)})}),k==="numeric"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"number",step:(U=n.numericRange)!=null&&U.precision?1/Math.pow(10,n.numericRange.precision):1,min:(G=n.numericRange)==null?void 0:G.min,max:(K=n.numericRange)==null?void 0:K.max,value:j??"",onChange:r=>T(parseFloat(r.target.value)||null),disabled:p,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),z&&e.jsx("p",{className:"text-red-400 text-sm",children:z}),e.jsx("button",{onClick:J,disabled:p||j===null,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),k==="text"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"text",value:v,onChange:r=>$(r.target.value),disabled:p,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),e.jsx("button",{onClick:Z,disabled:p||!v.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),p&&n.explanation&&e.jsx(S.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:e.jsxs("p",{className:"text-sm text-dark-300",children:[e.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),e.jsx("span",{dangerouslySetInnerHTML:{__html:P(n.explanation)}})]})}),p&&e.jsx(S.button,{initial:{opacity:0},animate:{opacity:1},onClick:ee,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:w<b-1?"Next Question":"See Results"})]}):e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-dark-400",children:"No questions available for this difficulty level."}),!a&&e.jsx("button",{onClick:B,className:"mt-4 px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Select Different Difficulty"})]})})}export{ue as D,pe as E,fe as S,he as T};
