const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Leaderboard-ohDOTYd4.js","assets/vendor-animation-CmxkKU9r.js","assets/vendor-react-DamxDR2H.js","assets/vendor-math-p018AHG0.js","assets/Theorems-Bm0HOyWJ.js","assets/MathBlock-CE74SwnD.js","assets/InteractiveModules-DE98-rW4.js","assets/Section01-D8DRMx2h.js","assets/Callout-BLd3MfPg.js","assets/Section02-BZWjbXTb.js","assets/SectionQuiz-Dp1VXTwq.js","assets/Section03-7FqDQ3EW.js","assets/Section04-CJS142P8.js","assets/Section05-DWoaKQQk.js","assets/Section06-D_YYZwLd.js","assets/Section07-BrhZSiTb.js","assets/Section08-CTXj6eiN.js","assets/Section09-n9COXbqn.js","assets/Section10-CLw092Jw.js","assets/Section11-D-UHkCGJ.js","assets/Section12-Dms3KR1A.js"])))=>i.map(i=>d[i]);
import{j as T,m as nu,A as If}from"./vendor-animation-CmxkKU9r.js";import{r as G,a as PS,L as la,N as xc,H as ZS,R as VS,b as ra,u as GS}from"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var Lv={exports:{}},Xu={},jv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,F){var X=P.length;P.push(F);e:for(;0<X;){var ue=X-1>>>1,ve=P[ue];if(0<r(ve,F))P[ue]=F,P[X]=ve,X=ue;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var F=P[0],X=P.pop();if(X!==F){P[0]=X;e:for(var ue=0,ve=P.length,ye=ve>>>1;ue<ye;){var ke=2*(ue+1)-1,J=P[ke],Gt=ke+1,ae=P[Gt];if(0>r(J,X))Gt<ve&&0>r(ae,J)?(P[ue]=ae,P[Gt]=X,ue=Gt):(P[ue]=J,P[ke]=X,ue=ke);else if(Gt<ve&&0>r(ae,X))P[ue]=ae,P[Gt]=X,ue=Gt;else break e}}return F}function r(P,F){var X=P.sortIndex-F.sortIndex;return X!==0?X:P.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],h=[],p=1,y=null,v=3,N=!1,z=!1,U=!1,B=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var F=n(h);F!==null;){if(F.callback===null)i(h);else if(F.startTime<=P)i(h),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(h)}}function j(P){if(U=!1,D(P),!z)if(n(c)!==null)z=!0,V||(V=!0,x());else{var F=n(h);F!==null&&Le(j,F.startTime-P)}}var V=!1,_=-1,m=5,g=-1;function E(){return B?!0:!(e.unstable_now()-g<m)}function w(){if(B=!1,V){var P=e.unstable_now();g=P;var F=!0;try{e:{z=!1,U&&(U=!1,S(_),_=-1),N=!0;var X=v;try{t:{for(D(P),y=n(c);y!==null&&!(y.expirationTime>P&&E());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,v=y.priorityLevel;var ve=ue(y.expirationTime<=P);if(P=e.unstable_now(),typeof ve=="function"){y.callback=ve,D(P),F=!0;break t}y===n(c)&&i(c),D(P)}else i(c);y=n(c)}if(y!==null)F=!0;else{var ye=n(h);ye!==null&&Le(j,ye.startTime-P),F=!1}}break e}finally{y=null,v=X,N=!1}F=void 0}}finally{F?x():V=!1}}}var x;if(typeof O=="function")x=function(){O(w)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Xe=b.port2;b.port1.onmessage=w,x=function(){Xe.postMessage(null)}}else x=function(){A(w,0)};function Le(P,F){_=A(function(){P(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(P){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var X=v;v=F;try{return P()}finally{v=X}},e.unstable_requestPaint=function(){B=!0},e.unstable_runWithPriority=function(P,F){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=v;v=P;try{return F()}finally{v=X}},e.unstable_scheduleCallback=function(P,F,X){var ue=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ue+X:ue):X=ue,P){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,P={id:p++,callback:F,priorityLevel:P,startTime:X,expirationTime:ve,sortIndex:-1},X>ue?(P.sortIndex=X,t(h,P),n(c)===null&&P===n(h)&&(U?(S(_),_=-1):U=!0,Le(j,X-ue))):(P.sortIndex=ve,t(c,P),z||N||(z=!0,V||(V=!0,x()))),P},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(P){var F=v;return function(){var X=v;v=F;try{return P.apply(this,arguments)}finally{v=X}}}})(Hv);jv.exports=Hv;var qS=jv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=qS,Bv=G,$S=PS;function I(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Pv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yp(e){if(Dl(e)!==e)throw Error(I(188))}function XS(e){var t=e.alternate;if(!t){if(t=Dl(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Yp(r),e;if(a===i)return Yp(r),t;a=a.sibling}throw Error(I(188))}if(n.return!==i.return)n=r,i=a;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,i=a;break}if(o===i){l=!0,i=r,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,i=r;break}if(o===i){l=!0,i=a,n=r;break}o=o.sibling}if(!l)throw Error(I(189))}}if(n.alternate!==i)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Gv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Gv(e),t!==null)return t;e=e.sibling}return null}var Ne=Object.assign,YS=Symbol.for("react.element"),uo=Symbol.for("react.transitional.element"),Ps=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),qv=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),$v=Symbol.for("react.consumer"),Xn=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Wh=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),jf=Symbol.for("react.activity"),FS=Symbol.for("react.memo_cache_sentinel"),Fp=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=Fp&&e[Fp]||e["@@iterator"],typeof e=="function"?e:null)}var KS=Symbol.for("react.client.reference");function Hf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===KS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ca:return"Fragment";case Mf:return"Profiler";case qv:return"StrictMode";case Uf:return"Suspense";case Lf:return"SuspenseList";case jf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ps:return"Portal";case Xn:return e.displayName||"Context";case $v:return(e._context.displayName||"Context")+".Consumer";case Jh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wh:return t=e.displayName||null,t!==null?t:Hf(e.type)||"Memo";case Oi:t=e._payload,e=e._init;try{return Hf(e(t))}catch{}}return null}var Zs=Array.isArray,Y=Bv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=$S.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xr={pending:!1,data:null,method:null,action:null},Bf=[],fa=-1;function Dn(e){return{current:e}}function rt(e){0>fa||(e.current=Bf[fa],Bf[fa]=null,fa--)}function Se(e,t){fa++,Bf[fa]=e.current,e.current=t}var Nn=Dn(null),fl=Dn(null),Zi=Dn(null),iu=Dn(null);function ru(e,t){switch(Se(Zi,t),Se(fl,e),Se(Nn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tg(t),e=h_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(Nn),Se(Nn,e)}function La(){rt(Nn),rt(fl),rt(Zi)}function Pf(e){e.memoizedState!==null&&Se(iu,e);var t=Nn.current,n=h_(t,e.type);t!==n&&(Se(fl,e),Se(Nn,n))}function au(e){fl.current===e&&(rt(Nn),rt(fl)),iu.current===e&&(rt(iu),El._currentValue=xr)}var Dc,Kp;function Ar(e){if(Dc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dc=t&&t[1]||"",Kp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dc+e+Kp}var Rc=!1;function zc(e,t){if(!e||Rc)return"";Rc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(N){var v=N}Reflect.construct(e,[],y)}else{try{y.call()}catch(N){v=N}e.call(y.prototype)}}else{try{throw Error()}catch(N){v=N}(y=e())&&typeof y.catch=="function"&&y.catch(function(){})}}catch(N){if(N&&v&&typeof N.stack=="string")return[N.stack,v.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),l=a[0],o=a[1];if(l&&o){var c=l.split(`
`),h=o.split(`
`);for(r=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(i===c.length||r===h.length)for(i=c.length-1,r=h.length-1;1<=i&&0<=r&&c[i]!==h[r];)r--;for(;1<=i&&0<=r;i--,r--)if(c[i]!==h[r]){if(i!==1||r!==1)do if(i--,r--,0>r||c[i]!==h[r]){var p=`
`+c[i].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=i&&0<=r);break}}}finally{Rc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ar(n):""}function QS(e,t){switch(e.tag){case 26:case 27:case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return e.child!==t&&t!==null?Ar("Suspense Fallback"):Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return zc(e.type,!1);case 11:return zc(e.type.render,!1);case 1:return zc(e.type,!0);case 31:return Ar("Activity");default:return""}}function Qp(e){try{var t="",n=null;do t+=QS(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Zf=Object.prototype.hasOwnProperty,ed=Je.unstable_scheduleCallback,kc=Je.unstable_cancelCallback,JS=Je.unstable_shouldYield,WS=Je.unstable_requestPaint,jt=Je.unstable_now,eE=Je.unstable_getCurrentPriorityLevel,Xv=Je.unstable_ImmediatePriority,Yv=Je.unstable_UserBlockingPriority,su=Je.unstable_NormalPriority,tE=Je.unstable_LowPriority,Fv=Je.unstable_IdlePriority,nE=Je.log,iE=Je.unstable_setDisableYieldValue,Rl=null,Ht=null;function Li(e){if(typeof nE=="function"&&iE(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Rl,e)}catch{}}var Bt=Math.clz32?Math.clz32:sE,rE=Math.log,aE=Math.LN2;function sE(e){return e>>>=0,e===0?32:31-(rE(e)/aE|0)|0}var co=256,fo=262144,ho=4194304;function wr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=wr(i):(l&=o,l!==0?r=wr(l):n||(n=o&~e,n!==0&&(r=wr(n))))):(o=i&~a,o!==0?r=wr(o):l!==0?r=wr(l):n||(n=i&~e,n!==0&&(r=wr(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(){var e=ho;return ho<<=1,!(ho&62914560)&&(ho=4194304),e}function Ic(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oE(e,t,n,i,r,a){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,h=e.hiddenUpdates;for(n=l&~n;0<n;){var p=31-Bt(n),y=1<<p;o[p]=0,c[p]=-1;var v=h[p];if(v!==null)for(h[p]=null,p=0;p<v.length;p++){var N=v[p];N!==null&&(N.lane&=-536870913)}n&=~y}i!==0&&Qv(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(l&~t))}function Qv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Bt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Jv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Bt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Wv(e,t){var n=t&-t;return n=n&42?1:td(n),n&(e.suspendedLanes|t)?0:n}function td(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ey(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function Jp(e,t){var n=oe.p;try{return oe.p=e,t()}finally{oe.p=n}}var lr=Math.random().toString(36).slice(2),ot="__reactFiber$"+lr,xt="__reactProps$"+lr,Ka="__reactContainer$"+lr,Vf="__reactEvents$"+lr,uE="__reactListeners$"+lr,cE="__reactHandles$"+lr,Wp="__reactResources$"+lr,Il="__reactMarker$"+lr;function id(e){delete e[ot],delete e[xt],delete e[Vf],delete e[uE],delete e[cE]}function ha(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ka]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sg(e);e!==null;){if(n=e[ot])return n;e=sg(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){if(e=e[ot]||e[Ka]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(I(33))}function wa(e){var t=e[Wp];return t||(t=e[Wp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Il]=!0}var ty=new Set,ny={};function Zr(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(ny[e]=t,e=0;e<t.length;e++)ty.add(t[e])}var fE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),em={},tm={};function hE(e){return Zf.call(tm,e)?!0:Zf.call(em,e)?!1:fE.test(e)?tm[e]=!0:(em[e]=!0,!1)}function Mo(e,t,n){if(hE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function po(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Bn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dE(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gf(e){if(!e._valueTracker){var t=iy(e)?"checked":"value";e._valueTracker=dE(e,t,""+e[t])}}function ry(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=iy(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pE=/[\n"\\]/g;function Qt(e){return e.replace(pE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qf(e,t,n,i,r,a,l,o){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?$f(e,l,Yt(t)):n!=null?$f(e,l,Yt(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Yt(o):e.removeAttribute("name")}function ay(e,t,n,i,r,a,l,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){Gf(e);return}n=n!=null?""+Yt(n):"",t=t!=null?""+Yt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Gf(e)}function $f(e,t,n){t==="number"&&lu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Na(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function sy(e,t,n){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Yt(n):""}function ly(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(I(92));if(Zs(i)){if(1<i.length)throw Error(I(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Yt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Gf(e)}function Ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nm(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||mE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function oy(e,t,n){if(t!=null&&typeof t!="object")throw Error(I(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&nm(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&nm(e,a,t[a])}function rd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(e){return vE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Xf=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,Oa=null;function im(e){var t=Qa(e);if(t&&(e=t.stateNode)){var n=e[xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[xt]||null;if(!r)throw Error(I(90));qf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ry(i)}break e;case"textarea":sy(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Na(e,!!n.multiple,t,!1)}}}var Mc=!1;function uy(e,t,n){if(Mc)return e(t,n);Mc=!0;try{var i=e(t);return i}finally{if(Mc=!1,(da!==null||Oa!==null)&&(sc(),da&&(t=da,e=Oa,Oa=da=null,im(t),e)))for(t=0;t<e.length;t++)im(e[t])}}function hl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[xt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=!1;if(ii)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Yf=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Yf=!1}var ji=null,sd=null,Lo=null;function cy(){if(Lo)return Lo;var e,t=sd,n=t.length,i,r="value"in ji?ji.value:ji.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===r[a-i];i++);return Lo=r.slice(e,1<i?1-i:void 0)}function jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function rm(){return!1}function Dt(e){function t(n,i,r,a,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?mo:rm,this.isPropagationStopped=rm,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=Dt(Vr),Ml=Ne({},Vr,{view:0,detail:0}),yE=Dt(Ml),Uc,Lc,xs,Ku=Ne({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(Uc=e.screenX-xs.screenX,Lc=e.screenY-xs.screenY):Lc=Uc=0,xs=e),Uc)},movementY:function(e){return"movementY"in e?e.movementY:Lc}}),am=Dt(Ku),_E=Ne({},Ku,{dataTransfer:0}),bE=Dt(_E),SE=Ne({},Ml,{relatedTarget:0}),jc=Dt(SE),EE=Ne({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=Dt(EE),AE=Ne({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wE=Dt(AE),NE=Ne({},Vr,{data:0}),sm=Dt(NE),OE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xE[e])?!!t[e]:!1}function ld(){return DE}var RE=Ne({},Ml,{key:function(e){if(e.key){var t=OE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zE=Dt(RE),kE=Ne({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=Dt(kE),IE=Ne({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),ME=Dt(IE),UE=Ne({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),LE=Dt(UE),jE=Ne({},Ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HE=Dt(jE),BE=Ne({},Vr,{newState:0,oldState:0}),PE=Dt(BE),ZE=[9,13,27,32],od=ii&&"CompositionEvent"in window,Ys=null;ii&&"documentMode"in document&&(Ys=document.documentMode);var VE=ii&&"TextEvent"in window&&!Ys,fy=ii&&(!od||Ys&&8<Ys&&11>=Ys),om=" ",um=!1;function hy(e,t){switch(e){case"keyup":return ZE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function GE(e,t){switch(e){case"compositionend":return dy(t);case"keypress":return t.which!==32?null:(um=!0,om);case"textInput":return e=t.data,e===om&&um?null:e;default:return null}}function qE(e,t){if(pa)return e==="compositionend"||!od&&hy(e,t)?(e=cy(),Lo=sd=ji=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fy&&t.locale!=="ko"?null:t.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$E[e.type]:t==="textarea"}function py(e,t,n,i){da?Oa?Oa.push(i):Oa=[i]:da=i,t=wu(t,"onChange"),0<t.length&&(n=new Fu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Fs=null,dl=null;function XE(e){u_(e,0)}function Qu(e){var t=Vs(e);if(ry(t))return e}function fm(e,t){if(e==="change")return t}var my=!1;if(ii){var Hc;if(ii){var Bc="oninput"in document;if(!Bc){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Bc=typeof hm.oninput=="function"}Hc=Bc}else Hc=!1;my=Hc&&(!document.documentMode||9<document.documentMode)}function dm(){Fs&&(Fs.detachEvent("onpropertychange",gy),dl=Fs=null)}function gy(e){if(e.propertyName==="value"&&Qu(dl)){var t=[];py(t,dl,e,ad(e)),uy(XE,t)}}function YE(e,t,n){e==="focusin"?(dm(),Fs=t,dl=n,Fs.attachEvent("onpropertychange",gy)):e==="focusout"&&dm()}function FE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(dl)}function KE(e,t){if(e==="click")return Qu(t)}function QE(e,t){if(e==="input"||e==="change")return Qu(t)}function JE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:JE;function pl(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zf.call(t,r)||!Zt(e[r],t[r]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,t){var n=pm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function vy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=lu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lu(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var WE=ii&&"documentMode"in document&&11>=document.documentMode,ma=null,Ff=null,Ks=null,Kf=!1;function gm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||ma==null||ma!==lu(i)||(i=ma,"selectionStart"in i&&ud(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ks&&pl(Ks,i)||(Ks=i,i=wu(Ff,"onSelect"),0<i.length&&(t=new Fu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ma)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ga={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Pc={},_y={};ii&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Gr(e){if(Pc[e])return Pc[e];if(!ga[e])return e;var t=ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _y)return Pc[e]=t[n];return e}var by=Gr("animationend"),Sy=Gr("animationiteration"),Ey=Gr("animationstart"),eT=Gr("transitionrun"),tT=Gr("transitionstart"),nT=Gr("transitioncancel"),Ty=Gr("transitionend"),Ay=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function yn(e,t){Ay.set(e,t),Zr(t,[e])}var ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xt=[],va=0,cd=0;function Ju(){for(var e=va,t=cd=va=0;t<e;){var n=Xt[t];Xt[t++]=null;var i=Xt[t];Xt[t++]=null;var r=Xt[t];Xt[t++]=null;var a=Xt[t];if(Xt[t++]=null,i!==null&&r!==null){var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}a!==0&&wy(n,r,a)}}function Wu(e,t,n,i){Xt[va++]=e,Xt[va++]=t,Xt[va++]=n,Xt[va++]=i,cd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function fd(e,t,n,i){return Wu(e,t,n,i),uu(e)}function qr(e,t){return Wu(e,null,null,t),uu(e)}function wy(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-Bt(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function uu(e){if(50<al)throw al=0,yh=null,Error(I(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ya={};function iT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,i){return new iT(e,t,n,i)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ny(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ho(e,t,n,i,r,a){var l=0;if(i=e,typeof e=="function")hd(e)&&(l=1);else if(typeof e=="string")l=o1(e,n,Nn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case jf:return e=Ut(31,n,t,r),e.elementType=jf,e.lanes=a,e;case ca:return Dr(n.children,r,a,t);case qv:l=8,r|=24;break;case Mf:return e=Ut(12,n,t,r|2),e.elementType=Mf,e.lanes=a,e;case Uf:return e=Ut(13,n,t,r),e.elementType=Uf,e.lanes=a,e;case Lf:return e=Ut(19,n,t,r),e.elementType=Lf,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xn:l=10;break e;case $v:l=9;break e;case Jh:l=11;break e;case Wh:l=14;break e;case Oi:l=16,i=null;break e}l=29,n=Error(I(130,e===null?"null":typeof e,"")),i=null}return t=Ut(l,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Dr(e,t,n,i){return e=Ut(7,e,i,t),e.lanes=n,e}function Zc(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Oy(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function Vc(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vm=new WeakMap;function Jt(e,t){if(typeof e=="object"&&e!==null){var n=vm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qp(t)},vm.set(e,t),t)}return{value:e,source:t,stack:Qp(t)}}var _a=[],ba=0,cu=null,ml=0,Ft=[],Kt=0,er=null,Tn=1,An="";function qn(e,t){_a[ba++]=ml,_a[ba++]=cu,cu=e,ml=t}function Cy(e,t,n){Ft[Kt++]=Tn,Ft[Kt++]=An,Ft[Kt++]=er,er=e;var i=Tn;e=An;var r=32-Bt(i)-1;i&=~(1<<r),n+=1;var a=32-Bt(t)+r;if(30<a){var l=r-r%5;a=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Tn=1<<32-Bt(t)+r|n<<r|i,An=a+e}else Tn=1<<a|n<<r|i,An=e}function dd(e){e.return!==null&&(qn(e,1),Cy(e,1,0))}function pd(e){for(;e===cu;)cu=_a[--ba],_a[ba]=null,ml=_a[--ba],_a[ba]=null;for(;e===er;)er=Ft[--Kt],Ft[Kt]=null,An=Ft[--Kt],Ft[Kt]=null,Tn=Ft[--Kt],Ft[Kt]=null}function xy(e,t){Ft[Kt++]=Tn,Ft[Kt++]=An,Ft[Kt++]=er,Tn=t.id,An=t.overflow,er=e}var ut=null,we=null,ie=!1,Vi=null,Wt=!1,Jf=Error(I(519));function tr(e){var t=Error(I(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Jt(t,e)),Jf}function ym(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ot]=e,t[xt]=i,n){case"dialog":ee("cancel",t),ee("close",t);break;case"iframe":case"object":case"embed":ee("load",t);break;case"video":case"audio":for(n=0;n<bl.length;n++)ee(bl[n],t);break;case"source":ee("error",t);break;case"img":case"image":case"link":ee("error",t),ee("load",t);break;case"details":ee("toggle",t);break;case"input":ee("invalid",t),ay(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ee("invalid",t);break;case"textarea":ee("invalid",t),ly(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||f_(t.textContent,n)?(i.popover!=null&&(ee("beforetoggle",t),ee("toggle",t)),i.onScroll!=null&&ee("scroll",t),i.onScrollEnd!=null&&ee("scrollend",t),i.onClick!=null&&(t.onclick=Yn),t=!0):t=!1,t||tr(e,!0)}function _m(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ut=ut.return}}function aa(e){if(e!==ut)return!1;if(!ie)return _m(e),ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Th(e.type,e.memoizedProps)),n=!n),n&&we&&tr(e),_m(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));we=ag(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));we=ag(e)}else t===27?(t=we,or(e.type)?(e=Oh,Oh=null,we=e):we=t):we=ut?tn(e.stateNode.nextSibling):null;return!0}function Ir(){we=ut=null,ie=!1}function Gc(){var e=Vi;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Vi=null),e}function gl(e){Vi===null?Vi=[e]:Vi.push(e)}var Wf=Dn(null),$r=null,Fn=null;function xi(e,t,n){Se(Wf,t._currentValue),t._currentValue=n}function ti(e){e._currentValue=Wf.current,rt(Wf)}function eh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function th(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var l=r.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),eh(a.return,n,e),i||(l=null);break e}a=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(I(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),eh(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Ja(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(I(387));if(l=l.memoizedProps,l!==null){var o=r.type;Zt(r.pendingProps.value,l.value)||(e!==null?e.push(o):e=[o])}}else if(r===iu.current){if(l=r.alternate,l===null)throw Error(I(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}r=r.return}e!==null&&th(t,e,n,i),t.flags|=262144}function fu(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){$r=e,Fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Dy($r,e)}function go(e,t){return $r===null&&Mr(e),Dy(e,t)}function Dy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Fn===null){if(e===null)throw Error(I(308));Fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fn=Fn.next=t;return n}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},aT=Je.unstable_scheduleCallback,sT=Je.unstable_NormalPriority,qe={$$typeof:Xn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new rT,data:new Map,refCount:0}}function Ul(e){e.refCount--,e.refCount===0&&aT(sT,function(){e.controller.abort()})}var Qs=null,nh=0,Ba=0,Ca=null;function lT(e,t){if(Qs===null){var n=Qs=[];nh=0,Ba=Bd(),Ca={status:"pending",value:void 0,then:function(i){n.push(i)}}}return nh++,t.then(bm,bm),t}function bm(){if(--nh===0&&Qs!==null){Ca!==null&&(Ca.status="fulfilled");var e=Qs;Qs=null,Ba=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oT(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Sm=Y.S;Y.S=function(e,t){G0=jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&lT(e,t),Sm!==null&&Sm(e,t)};var Rr=Dn(null);function gd(){var e=Rr.current;return e!==null?e:ge.pooledCache}function Bo(e,t){t===null?Se(Rr,Rr.current):Se(Rr,t.pool)}function Ry(){var e=gd();return e===null?null:{parent:qe._currentValue,pool:e}}var Wa=Error(I(460)),vd=Error(I(474)),ec=Error(I(542)),hu={then:function(){}};function Em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Yn,Yn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Am(e),e;default:if(typeof t.status=="string")t.then(Yn,Yn);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(I(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Am(e),e}throw zr=t,Wa}}function Nr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zr=n,Wa):n}}var zr=null;function Tm(){if(zr===null)throw Error(I(459));var e=zr;return zr=null,e}function Am(e){if(e===Wa||e===ec)throw Error(I(483))}var xa=null,vl=0;function vo(e){var t=vl;return vl+=1,xa===null&&(xa=[]),zy(xa,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yo(e,t){throw t.$$typeof===YS?Error(I(525)):(e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ky(e){function t(A,S){if(e){var O=A.deletions;O===null?(A.deletions=[S],A.flags|=16):O.push(S)}}function n(A,S){if(!e)return null;for(;S!==null;)t(A,S),S=S.sibling;return null}function i(A){for(var S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function r(A,S){return A=ei(A,S),A.index=0,A.sibling=null,A}function a(A,S,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<S?(A.flags|=67108866,S):O):(A.flags|=67108866,S)):(A.flags|=1048576,S)}function l(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function o(A,S,O,D){return S===null||S.tag!==6?(S=Zc(O,A.mode,D),S.return=A,S):(S=r(S,O),S.return=A,S)}function c(A,S,O,D){var j=O.type;return j===ca?p(A,S,O.props.children,D,O.key):S!==null&&(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oi&&Nr(j)===S.type)?(S=r(S,O.props),Ds(S,O),S.return=A,S):(S=Ho(O.type,O.key,O.props,null,A.mode,D),Ds(S,O),S.return=A,S)}function h(A,S,O,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Vc(O,A.mode,D),S.return=A,S):(S=r(S,O.children||[]),S.return=A,S)}function p(A,S,O,D,j){return S===null||S.tag!==7?(S=Dr(O,A.mode,D,j),S.return=A,S):(S=r(S,O),S.return=A,S)}function y(A,S,O){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Zc(""+S,A.mode,O),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uo:return O=Ho(S.type,S.key,S.props,null,A.mode,O),Ds(O,S),O.return=A,O;case Ps:return S=Vc(S,A.mode,O),S.return=A,S;case Oi:return S=Nr(S),y(A,S,O)}if(Zs(S)||Os(S))return S=Dr(S,A.mode,O,null),S.return=A,S;if(typeof S.then=="function")return y(A,vo(S),O);if(S.$$typeof===Xn)return y(A,go(A,S),O);yo(A,S)}return null}function v(A,S,O,D){var j=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return j!==null?null:o(A,S,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case uo:return O.key===j?c(A,S,O,D):null;case Ps:return O.key===j?h(A,S,O,D):null;case Oi:return O=Nr(O),v(A,S,O,D)}if(Zs(O)||Os(O))return j!==null?null:p(A,S,O,D,null);if(typeof O.then=="function")return v(A,S,vo(O),D);if(O.$$typeof===Xn)return v(A,S,go(A,O),D);yo(A,O)}return null}function N(A,S,O,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return A=A.get(O)||null,o(S,A,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case uo:return A=A.get(D.key===null?O:D.key)||null,c(S,A,D,j);case Ps:return A=A.get(D.key===null?O:D.key)||null,h(S,A,D,j);case Oi:return D=Nr(D),N(A,S,O,D,j)}if(Zs(D)||Os(D))return A=A.get(O)||null,p(S,A,D,j,null);if(typeof D.then=="function")return N(A,S,O,vo(D),j);if(D.$$typeof===Xn)return N(A,S,O,go(S,D),j);yo(S,D)}return null}function z(A,S,O,D){for(var j=null,V=null,_=S,m=S=0,g=null;_!==null&&m<O.length;m++){_.index>m?(g=_,_=null):g=_.sibling;var E=v(A,_,O[m],D);if(E===null){_===null&&(_=g);break}e&&_&&E.alternate===null&&t(A,_),S=a(E,S,m),V===null?j=E:V.sibling=E,V=E,_=g}if(m===O.length)return n(A,_),ie&&qn(A,m),j;if(_===null){for(;m<O.length;m++)_=y(A,O[m],D),_!==null&&(S=a(_,S,m),V===null?j=_:V.sibling=_,V=_);return ie&&qn(A,m),j}for(_=i(_);m<O.length;m++)g=N(_,A,m,O[m],D),g!==null&&(e&&g.alternate!==null&&_.delete(g.key===null?m:g.key),S=a(g,S,m),V===null?j=g:V.sibling=g,V=g);return e&&_.forEach(function(w){return t(A,w)}),ie&&qn(A,m),j}function U(A,S,O,D){if(O==null)throw Error(I(151));for(var j=null,V=null,_=S,m=S=0,g=null,E=O.next();_!==null&&!E.done;m++,E=O.next()){_.index>m?(g=_,_=null):g=_.sibling;var w=v(A,_,E.value,D);if(w===null){_===null&&(_=g);break}e&&_&&w.alternate===null&&t(A,_),S=a(w,S,m),V===null?j=w:V.sibling=w,V=w,_=g}if(E.done)return n(A,_),ie&&qn(A,m),j;if(_===null){for(;!E.done;m++,E=O.next())E=y(A,E.value,D),E!==null&&(S=a(E,S,m),V===null?j=E:V.sibling=E,V=E);return ie&&qn(A,m),j}for(_=i(_);!E.done;m++,E=O.next())E=N(_,A,m,E.value,D),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?m:E.key),S=a(E,S,m),V===null?j=E:V.sibling=E,V=E);return e&&_.forEach(function(x){return t(A,x)}),ie&&qn(A,m),j}function B(A,S,O,D){if(typeof O=="object"&&O!==null&&O.type===ca&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case uo:e:{for(var j=O.key;S!==null;){if(S.key===j){if(j=O.type,j===ca){if(S.tag===7){n(A,S.sibling),D=r(S,O.props.children),D.return=A,A=D;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oi&&Nr(j)===S.type){n(A,S.sibling),D=r(S,O.props),Ds(D,O),D.return=A,A=D;break e}n(A,S);break}else t(A,S);S=S.sibling}O.type===ca?(D=Dr(O.props.children,A.mode,D,O.key),D.return=A,A=D):(D=Ho(O.type,O.key,O.props,null,A.mode,D),Ds(D,O),D.return=A,A=D)}return l(A);case Ps:e:{for(j=O.key;S!==null;){if(S.key===j)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(A,S.sibling),D=r(S,O.children||[]),D.return=A,A=D;break e}else{n(A,S);break}else t(A,S);S=S.sibling}D=Vc(O,A.mode,D),D.return=A,A=D}return l(A);case Oi:return O=Nr(O),B(A,S,O,D)}if(Zs(O))return z(A,S,O,D);if(Os(O)){if(j=Os(O),typeof j!="function")throw Error(I(150));return O=j.call(O),U(A,S,O,D)}if(typeof O.then=="function")return B(A,S,vo(O),D);if(O.$$typeof===Xn)return B(A,S,go(A,O),D);yo(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,S!==null&&S.tag===6?(n(A,S.sibling),D=r(S,O),D.return=A,A=D):(n(A,S),D=Zc(O,A.mode,D),D.return=A,A=D),l(A)):n(A,S)}return function(A,S,O,D){try{vl=0;var j=B(A,S,O,D);return xa=null,j}catch(_){if(_===Wa||_===ec)throw _;var V=Ut(29,_,null,A.mode);return V.lanes=D,V.return=A,V}finally{}}}var Ur=ky(!0),Iy=ky(!1),Ci=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,le&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=uu(e),wy(e,null,n),t}return Wu(e,i,t,n),uu(e)}function Js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jv(e,n)}}function qc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var rh=!1;function Ws(){if(rh){var e=Ca;if(e!==null)throw e}}function el(e,t,n,i){rh=!1;var r=e.updateQueue;Ci=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?a=h:l.next=h,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=h:o.next=h,p.lastBaseUpdate=c))}if(a!==null){var y=r.baseState;l=0,p=h=c=null,o=a;do{var v=o.lane&-536870913,N=v!==o.lane;if(N?(ne&v)===v:(i&v)===v){v!==0&&v===Ba&&(rh=!0),p!==null&&(p=p.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var z=e,U=o;v=t;var B=n;switch(U.tag){case 1:if(z=U.payload,typeof z=="function"){y=z.call(B,y,v);break e}y=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=U.payload,v=typeof z=="function"?z.call(B,y,v):z,v==null)break e;y=Ne({},y,v);break e;case 2:Ci=!0}}v=o.callback,v!==null&&(e.flags|=64,N&&(e.flags|=8192),N=r.callbacks,N===null?r.callbacks=[v]:N.push(v))}else N={lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(h=p=N,c=y):p=p.next=N,l|=v;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;N=o,o=N.next,N.next=null,r.lastBaseUpdate=N,r.shared.pending=null}}while(!0);p===null&&(c=y),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=p,a===null&&(r.shared.lanes=0),ir|=l,e.lanes=l,e.memoizedState=y}}function My(e,t){if(typeof e!="function")throw Error(I(191,e));e.call(t)}function Uy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)My(n[e],t)}var Pa=Dn(null),du=Dn(0);function wm(e,t){e=li,Se(du,e),Se(Pa,t),li=e|t.baseLanes}function ah(){Se(du,li),Se(Pa,Pa.current)}function _d(){li=du.current,rt(Pa),rt(du)}var Vt=Dn(null),en=null;function Di(e){var t=e.alternate;Se(Be,Be.current&1),Se(Vt,e),en===null&&(t===null||Pa.current!==null||t.memoizedState!==null)&&(en=e)}function sh(e){Se(Be,Be.current),Se(Vt,e),en===null&&(en=e)}function Ly(e){e.tag===22?(Se(Be,Be.current),Se(Vt,e),en===null&&(en=e)):Ri()}function Ri(){Se(Be,Be.current),Se(Vt,Vt.current)}function Mt(e){rt(Vt),en===e&&(en=null),rt(Be)}var Be=Dn(0);function pu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||wh(n)||Nh(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=0,Q=null,pe=null,Ve=null,mu=!1,Da=!1,Lr=!1,gu=0,yl=0,Ra=null,uT=0;function Ie(){throw Error(I(321))}function bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Sd(e,t,n,i,r,a){return ri=a,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?p0:zd,Lr=!1,a=n(i,r),Lr=!1,Da&&(a=Hy(t,n,i,r)),jy(e),a}function jy(e){Y.H=_l;var t=pe!==null&&pe.next!==null;if(ri=0,Ve=pe=Q=null,mu=!1,yl=0,Ra=null,t)throw Error(I(300));e===null||$e||(e=e.dependencies,e!==null&&fu(e)&&($e=!0))}function Hy(e,t,n,i){Q=e;var r=0;do{if(Da&&(Ra=null),yl=0,Da=!1,25<=r)throw Error(I(301));if(r+=1,Ve=pe=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Y.H=m0,a=t(n,i)}while(Da);return a}function cT(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Ll(t):t,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(Q.flags|=1024),t}function Ed(){var e=gu!==0;return gu=0,e}function Td(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ad(e){if(mu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mu=!1}ri=0,Ve=pe=Q=null,Da=!1,yl=gu=0,Ra=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Q.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Pe(){if(pe===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=Ve===null?Q.memoizedState:Ve.next;if(t!==null)Ve=t,pe=e;else{if(e===null)throw Q.alternate===null?Error(I(467)):Error(I(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Ve===null?Q.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(e){var t=yl;return yl+=1,Ra===null&&(Ra=[]),e=zy(Ra,e,t),t=Q,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?p0:zd),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ll(e);if(e.$$typeof===Xn)return ct(e)}throw Error(I(438,String(e)))}function wd(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=tc(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=FS;return t.index++,n}function ai(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=Pe();return Nd(t,pe,e)}function Nd(e,t,n){var i=e.queue;if(i===null)throw Error(I(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=l=null,c=null,h=t,p=!1;do{var y=h.lane&-536870913;if(y!==h.lane?(ne&y)===y:(ri&y)===y){var v=h.revertLane;if(v===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),y===Ba&&(p=!0);else if((ri&v)===v){h=h.next,v===Ba&&(p=!0);continue}else y={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=y,l=a):c=c.next=y,Q.lanes|=v,ir|=v;y=h.action,Lr&&n(a,y),a=h.hasEagerState?h.eagerState:n(a,y)}else v={lane:y,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=v,l=a):c=c.next=v,Q.lanes|=y,ir|=y;h=h.next}while(h!==null&&h!==t);if(c===null?l=a:c.next=o,!Zt(a,e.memoizedState)&&($e=!0,p&&(n=Ca,n!==null)))throw n;e.memoizedState=a,e.baseState=l,e.baseQueue=c,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $c(e){var t=Pe(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do a=e(a,l.action),l=l.next;while(l!==r);Zt(a,t.memoizedState)||($e=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function By(e,t,n){var i=Q,r=Pe(),a=ie;if(a){if(n===void 0)throw Error(I(407));n=n()}else n=t();var l=!Zt((pe||r).memoizedState,n);if(l&&(r.memoizedState=n,$e=!0),r=r.queue,Od(Vy.bind(null,i,r,e),[e]),r.getSnapshot!==t||l||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,Za(9,{destroy:void 0},Zy.bind(null,i,r,n,t),null),ge===null)throw Error(I(349));a||ri&127||Py(i,t,n)}return n}function Py(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=tc(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zy(e,t,n,i){t.value=n,t.getSnapshot=i,Gy(t)&&qy(e)}function Vy(e,t,n){return n(function(){Gy(t)&&qy(e)})}function Gy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function qy(e){var t=qr(e,2);t!==null&&Ot(t,e,2)}function lh(e){var t=yt();if(typeof e=="function"){var n=e;if(e=n(),Lr){Li(!0);try{n()}finally{Li(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t}function $y(e,t,n,i){return e.baseState=n,Nd(e,pe,typeof i=="function"?i:ai)}function fT(e,t,n,i,r){if(rc(e))throw Error(I(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};Y.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Xy(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Xy(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=Y.T,l={};Y.T=l;try{var o=n(r,i),c=Y.S;c!==null&&c(l,o),Nm(e,t,o)}catch(h){oh(e,t,h)}finally{a!==null&&l.types!==null&&(a.types=l.types),Y.T=a}}else try{a=n(r,i),Nm(e,t,a)}catch(h){oh(e,t,h)}}function Nm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Om(e,t,i)},function(i){return oh(e,t,i)}):Om(e,t,n)}function Om(e,t,n){t.status="fulfilled",t.value=n,Yy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Xy(e,n)))}function oh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Yy(t),t=t.next;while(t!==i)}e.action=null}function Yy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fy(e,t){return t}function Cm(e,t){if(ie){var n=ge.formState;if(n!==null){e:{var i=Q;if(ie){if(we){t:{for(var r=we,a=Wt;r.nodeType!==8;){if(!a){r=null;break t}if(r=tn(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){we=tn(r.nextSibling),i=r.data==="F!";break e}}tr(i)}i=!1}i&&(t=n[0])}}return n=yt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:t},n.queue=i,n=f0.bind(null,Q,i),i.dispatch=n,i=lh(!1),a=Rd.bind(null,Q,!1,i.queue),i=yt(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=fT.bind(null,Q,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function xm(e){var t=Pe();return Ky(t,pe,e)}function Ky(e,t,n){if(t=Nd(e,t,Fy)[0],e=Po(ai)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ll(t)}catch(l){throw l===Wa?ec:l}else i=t;t=Pe();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,Za(9,{destroy:void 0},hT.bind(null,r,n),null)),[i,a,e]}function hT(e,t){e.action=t}function Dm(e){var t=Pe(),n=pe;if(n!==null)return Ky(t,n,e);Pe(),t=t.memoizedState,n=Pe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Za(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Q.updateQueue,t===null&&(t=tc(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Qy(){return Pe().memoizedState}function Zo(e,t,n,i){var r=yt();Q.flags|=e,r.memoizedState=Za(1|t,{destroy:void 0},n,i===void 0?null:i)}function ic(e,t,n,i){var r=Pe();i=i===void 0?null:i;var a=r.memoizedState.inst;pe!==null&&i!==null&&bd(i,pe.memoizedState.deps)?r.memoizedState=Za(t,a,n,i):(Q.flags|=e,r.memoizedState=Za(1|t,a,n,i))}function Rm(e,t){Zo(8390656,8,e,t)}function Od(e,t){ic(2048,8,e,t)}function dT(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=tc(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Jy(e){var t=Pe().memoizedState;return dT({ref:t,nextImpl:e}),function(){if(le&2)throw Error(I(440));return t.impl.apply(void 0,arguments)}}function Wy(e,t){return ic(4,2,e,t)}function e0(e,t){return ic(4,4,e,t)}function t0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n0(e,t,n){n=n!=null?n.concat([e]):null,ic(4,4,t0.bind(null,t,e),n)}function Cd(){}function i0(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&bd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function r0(e,t){var n=Pe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&bd(t,i[1]))return i[0];if(i=e(),Lr){Li(!0);try{e()}finally{Li(!1)}}return n.memoizedState=[i,t],i}function xd(e,t,n){return n===void 0||ri&1073741824&&!(ne&261930)?e.memoizedState=t:(e.memoizedState=n,e=$0(),Q.lanes|=e,ir|=e,n)}function a0(e,t,n,i){return Zt(n,t)?n:Pa.current!==null?(e=xd(e,n,i),Zt(e,t)||($e=!0),e):!(ri&42)||ri&1073741824&&!(ne&261930)?($e=!0,e.memoizedState=n):(e=$0(),Q.lanes|=e,ir|=e,t)}function s0(e,t,n,i,r){var a=oe.p;oe.p=a!==0&&8>a?a:8;var l=Y.T,o={};Y.T=o,Rd(e,!1,t,n);try{var c=r(),h=Y.S;if(h!==null&&h(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=oT(c,i);tl(e,t,p,Pt(e))}else tl(e,t,i,Pt(e))}catch(y){tl(e,t,{then:function(){},status:"rejected",reason:y},Pt())}finally{oe.p=a,l!==null&&o.types!==null&&(l.types=o.types),Y.T=l}}function pT(){}function uh(e,t,n,i){if(e.tag!==5)throw Error(I(476));var r=l0(e).queue;s0(e,r,t,xr,n===null?pT:function(){return o0(e),n(i)})}function l0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xr,baseState:xr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:xr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function o0(e){var t=l0(e);t.next===null&&(t=e.alternate.memoizedState),tl(e,t.next.queue,{},Pt())}function Dd(){return ct(El)}function u0(){return Pe().memoizedState}function c0(){return Pe().memoizedState}function mT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Pt();e=Gi(n);var i=qi(t,e,n);i!==null&&(Ot(i,t,n),Js(i,t,n)),t={cache:md()},e.payload=t;return}t=t.return}}function gT(e,t,n){var i=Pt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rc(e)?h0(t,n):(n=fd(e,t,n,i),n!==null&&(Ot(n,e,i),d0(n,t,i)))}function f0(e,t,n){var i=Pt();tl(e,t,n,i)}function tl(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(rc(e))h0(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(r.hasEagerState=!0,r.eagerState=o,Zt(o,l))return Wu(e,t,r,0),ge===null&&Ju(),!1}catch{}finally{}if(n=fd(e,t,r,i),n!==null)return Ot(n,e,i),d0(n,t,i),!0}return!1}function Rd(e,t,n,i){if(i={lane:2,revertLane:Bd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(t)throw Error(I(479))}else t=fd(e,n,i,2),t!==null&&Ot(t,e,2)}function rc(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function h0(e,t){Da=mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jv(e,n)}}var _l={readContext:ct,use:nc,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};_l.useEffectEvent=Ie;var p0={readContext:ct,use:nc,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Rm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zo(4194308,4,t0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){Zo(4,2,e,t)},useMemo:function(e,t){var n=yt();t=t===void 0?null:t;var i=e();if(Lr){Li(!0);try{e()}finally{Li(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=yt();if(n!==void 0){var r=n(t);if(Lr){Li(!0);try{n(t)}finally{Li(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=gT.bind(null,Q,e),[i.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=lh(e);var t=e.queue,n=f0.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cd,useDeferredValue:function(e,t){var n=yt();return xd(n,e,t)},useTransition:function(){var e=lh(!1);return e=s0.bind(null,Q,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Q,r=yt();if(ie){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ge===null)throw Error(I(349));ne&127||Py(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Rm(Vy.bind(null,i,a,e),[e]),i.flags|=2048,Za(9,{destroy:void 0},Zy.bind(null,i,a,n,t),null),n},useId:function(){var e=yt(),t=ge.identifierPrefix;if(ie){var n=An,i=Tn;n=(i&~(1<<32-Bt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=uT++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dd,useFormState:Cm,useActionState:Cm,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Rd.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:wd,useCacheRefresh:function(){return yt().memoizedState=mT.bind(null,Q)},useEffectEvent:function(e){var t=yt(),n={impl:e};return t.memoizedState=n,function(){if(le&2)throw Error(I(440));return n.impl.apply(void 0,arguments)}}},zd={readContext:ct,use:nc,useCallback:i0,useContext:ct,useEffect:Od,useImperativeHandle:n0,useInsertionEffect:Wy,useLayoutEffect:e0,useMemo:r0,useReducer:Po,useRef:Qy,useState:function(){return Po(ai)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Pe();return a0(n,pe.memoizedState,e,t)},useTransition:function(){var e=Po(ai)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:By,useId:u0,useHostTransitionStatus:Dd,useFormState:xm,useActionState:xm,useOptimistic:function(e,t){var n=Pe();return $y(n,pe,e,t)},useMemoCache:wd,useCacheRefresh:c0};zd.useEffectEvent=Jy;var m0={readContext:ct,use:nc,useCallback:i0,useContext:ct,useEffect:Od,useImperativeHandle:n0,useInsertionEffect:Wy,useLayoutEffect:e0,useMemo:r0,useReducer:$c,useRef:Qy,useState:function(){return $c(ai)},useDebugValue:Cd,useDeferredValue:function(e,t){var n=Pe();return pe===null?xd(n,e,t):a0(n,pe.memoizedState,e,t)},useTransition:function(){var e=$c(ai)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ll(e),t]},useSyncExternalStore:By,useId:u0,useHostTransitionStatus:Dd,useFormState:Dm,useActionState:Dm,useOptimistic:function(e,t){var n=Pe();return pe!==null?$y(n,pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:wd,useCacheRefresh:c0};m0.useEffectEvent=Jy;function Xc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ch={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pt(),r=Gi(i);r.payload=t,n!=null&&(r.callback=n),t=qi(e,r,i),t!==null&&(Ot(t,e,i),Js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pt(),r=Gi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=qi(e,r,i),t!==null&&(Ot(t,e,i),Js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pt(),i=Gi(n);i.tag=2,t!=null&&(i.callback=t),t=qi(e,i,n),t!==null&&(Ot(t,e,n),Js(t,e,n))}};function zm(e,t,n,i,r,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,l):t.prototype&&t.prototype.isPureReactComponent?!pl(n,i)||!pl(r,a):!0}function km(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ch.enqueueReplaceState(t,t.state,null)}function jr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ne({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function g0(e){ou(e)}function v0(e){console.error(e)}function y0(e){ou(e)}function vu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Im(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function fh(e,t,n){return n=Gi(n),n.tag=3,n.payload={element:null},n.callback=function(){vu(e,t)},n}function _0(e){return e=Gi(e),e.tag=3,e}function b0(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Im(t,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Im(t,n,i),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function vT(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ja(t,n,r,!0),n=Vt.current,n!==null){switch(n.tag){case 31:case 13:return en===null?Eu():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===hu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),af(e,i,r)),!1;case 22:return n.flags|=65536,i===hu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),af(e,i,r)),!1}throw Error(I(435,n.tag))}return af(e,i,r),Eu(),!1}if(ie)return t=Vt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Jf&&(e=Error(I(422),{cause:i}),gl(Jt(e,n)))):(i!==Jf&&(t=Error(I(423),{cause:i}),gl(Jt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Jt(i,n),r=fh(e.stateNode,i,r),qc(e,r),Me!==4&&(Me=2)),!1;var a=Error(I(520),{cause:i});if(a=Jt(a,n),rl===null?rl=[a]:rl.push(a),Me!==4&&(Me=2),t===null)return!0;i=Jt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=fh(n.stateNode,i,e),qc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&($i===null||!$i.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=_0(r),b0(r,e,n,i),qc(n,r),!1}n=n.return}while(n!==null);return!1}var kd=Error(I(461)),$e=!1;function st(e,t,n,i){t.child=e===null?Iy(t,null,n,i):Ur(t,e.child,n,i)}function Mm(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}else l=i;return Mr(t),i=Sd(e,t,n,l,a,r),o=Ed(),e!==null&&!$e?(Td(e,t,r),si(e,t,r)):(ie&&o&&dd(t),t.flags|=1,st(e,t,i,r),t.child)}function Um(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!hd(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,S0(e,t,a,i,r)):(e=Ho(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Id(e,r)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(l,i)&&e.ref===t.ref)return si(e,t,r)}return t.flags|=1,e=ei(a,i),e.ref=t.ref,e.return=t,t.child=e}function S0(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(pl(a,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=a,Id(e,r))e.flags&131072&&($e=!0);else return t.lanes=e.lanes,si(e,t,r)}return hh(e,t,n,i,r)}function E0(e,t,n,i){var r=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return Lm(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bo(t,a!==null?a.cachePool:null),a!==null?wm(t,a):ah(),Ly(t);else return i=t.lanes=536870912,Lm(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Bo(t,a.cachePool),wm(t,a),Ri(),t.memoizedState=null):(e!==null&&Bo(t,null),ah(),Ri());return st(e,t,r,n),t.child}function Gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lm(e,t,n,i,r){var a=gd();return a=a===null?null:{parent:qe._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Bo(t,null),ah(),Ly(t),e!==null&&Ja(e,t,i,!0),t.childLanes=r,null}function Vo(e,t){return t=yu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jm(e,t,n){return Ur(t,e.child,null,n),e=Vo(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function yT(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ie){if(i.mode==="hidden")return e=Vo(t,i),t.lanes=536870912,Gs(null,e);if(sh(t),(e=we)?(e=p_(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:er!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=Oy(e),n.return=t,t.child=n,ut=t,we=null)):e=null,e===null)throw tr(t);return t.lanes=536870912,null}return Vo(t,i)}var a=e.memoizedState;if(a!==null){var l=a.dehydrated;if(sh(t),r)if(t.flags&256)t.flags&=-257,t=jm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(I(558));else if($e||Ja(e,t,n,!1),r=(n&e.childLanes)!==0,$e||r){if(i=ge,i!==null&&(l=Wv(i,n),l!==0&&l!==a.retryLane))throw a.retryLane=l,qr(e,l),Ot(i,e,l),kd;Eu(),t=jm(e,t,n)}else e=a.treeContext,we=tn(l.nextSibling),ut=t,ie=!0,Vi=null,Wt=!1,e!==null&&xy(t,e),t=Vo(t,i),t.flags|=4096;return t}return e=ei(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Go(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(I(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function hh(e,t,n,i,r){return Mr(t),n=Sd(e,t,n,i,void 0,r),i=Ed(),e!==null&&!$e?(Td(e,t,r),si(e,t,r)):(ie&&i&&dd(t),t.flags|=1,st(e,t,n,r),t.child)}function Hm(e,t,n,i,r,a){return Mr(t),t.updateQueue=null,n=Hy(t,i,n,r),jy(e),i=Ed(),e!==null&&!$e?(Td(e,t,a),si(e,t,a)):(ie&&i&&dd(t),t.flags|=1,st(e,t,n,a),t.child)}function Bm(e,t,n,i,r){if(Mr(t),t.stateNode===null){var a=ya,l=n.contextType;typeof l=="object"&&l!==null&&(a=ct(l)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ch,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},yd(t),l=n.contextType,a.context=typeof l=="object"&&l!==null?ct(l):ya,a.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Xc(t,n,l,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&ch.enqueueReplaceState(a,a.state,null),el(t,i,a,r),Ws(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,c=jr(n,o);a.props=c;var h=a.context,p=n.contextType;l=ya,typeof p=="object"&&p!==null&&(l=ct(p));var y=n.getDerivedStateFromProps;p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||h!==l)&&km(t,a,i,l),Ci=!1;var v=t.memoizedState;a.state=v,el(t,i,a,r),Ws(),h=t.memoizedState,o||v!==h||Ci?(typeof y=="function"&&(Xc(t,n,y,i),h=t.memoizedState),(c=Ci||zm(t,n,c,i,v,h,l))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=l,i=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,ih(e,t),l=t.memoizedProps,p=jr(n,l),a.props=p,y=t.pendingProps,v=a.context,h=n.contextType,c=ya,typeof h=="object"&&h!==null&&(c=ct(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==y||v!==c)&&km(t,a,i,c),Ci=!1,v=t.memoizedState,a.state=v,el(t,i,a,r),Ws();var N=t.memoizedState;l!==y||v!==N||Ci||e!==null&&e.dependencies!==null&&fu(e.dependencies)?(typeof o=="function"&&(Xc(t,n,o,i),N=t.memoizedState),(p=Ci||zm(t,n,p,i,v,N,c)||e!==null&&e.dependencies!==null&&fu(e.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),a.props=i,a.state=N,a.context=c,i=p):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Go(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=Ur(t,e.child,null,r),t.child=Ur(t,null,n,r)):st(e,t,n,r),t.memoizedState=a.state,e=t.child):e=si(e,t,r),e}function Pm(e,t,n,i){return Ir(),t.flags|=256,st(e,t,n,i),t.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:Ry()}}function Kc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function T0(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(ie){if(r?Di(t):Ri(),(e=we)?(e=p_(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:er!==null?{id:Tn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},n=Oy(e),n.return=t,t.child=n,ut=t,we=null)):e=null,e===null)throw tr(t);return Nh(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,r?(Ri(),r=t.mode,o=yu({mode:"hidden",children:o},r),i=Dr(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Fc(n),i.childLanes=Kc(e,l,n),t.memoizedState=Yc,Gs(null,i)):(Di(t),dh(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(a)t.flags&256?(Di(t),t.flags&=-257,t=Qc(e,t,n)):t.memoizedState!==null?(Ri(),t.child=e.child,t.flags|=128,t=null):(Ri(),o=i.fallback,r=t.mode,i=yu({mode:"visible",children:i.children},r),o=Dr(o,r,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Ur(t,e.child,null,n),i=t.child,i.memoizedState=Fc(n),i.childLanes=Kc(e,l,n),t.memoizedState=Yc,t=Gs(null,i));else if(Di(t),Nh(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var h=l.dgst;l=h,i=Error(I(419)),i.stack="",i.digest=l,gl({value:i,source:null,stack:null}),t=Qc(e,t,n)}else if($e||Ja(e,t,n,!1),l=(n&e.childLanes)!==0,$e||l){if(l=ge,l!==null&&(i=Wv(l,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,qr(e,i),Ot(l,e,i),kd;wh(o)||Eu(),t=Qc(e,t,n)}else wh(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,we=tn(o.nextSibling),ut=t,ie=!0,Vi=null,Wt=!1,e!==null&&xy(t,e),t=dh(t,i.children),t.flags|=4096);return t}return r?(Ri(),o=i.fallback,r=t.mode,c=e.child,h=c.sibling,i=ei(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,h!==null?o=ei(h,o):(o=Dr(o,r,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Gs(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Fc(n):(r=o.cachePool,r!==null?(c=qe._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Ry(),o={baseLanes:o.baseLanes|n,cachePool:r}),i.memoizedState=o,i.childLanes=Kc(e,l,n),t.memoizedState=Yc,Gs(e.child,i)):(Di(t),n=e.child,e=n.sibling,n=ei(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function dh(e,t){return t=yu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yu(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Qc(e,t,n){return Ur(t,e.child,null,n),e=dh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),eh(e.return,t,n)}function Jc(e,t,n,i,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=r,l.treeForkCount=a)}function A0(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var l=Be.current,o=(l&2)!==0;if(o?(l=l&1|2,t.flags|=128):l&=1,Se(Be,l),st(e,t,i,n),i=ie?ml:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,n,t);else if(e.tag===19)Zm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&pu(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Jc(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&pu(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Jc(t,!0,n,null,a,i);break;case"together":Jc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))if(e!==null){if(Ja(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Id(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&fu(e)))}function _T(e,t,n){switch(t.tag){case 3:ru(t,t.stateNode.containerInfo),xi(t,qe,e.memoizedState.cache),Ir();break;case 27:case 5:Pf(t);break;case 4:ru(t,t.stateNode.containerInfo);break;case 10:xi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,sh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Di(t),t.flags|=128,null):n&t.child.childLanes?T0(e,t,n):(Di(t),e=si(e,t,n),e!==null?e.sibling:null);Di(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ja(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return A0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Be,Be.current),i)break;return null;case 22:return t.lanes=0,E0(e,t,n,t.pendingProps);case 24:xi(t,qe,e.memoizedState.cache)}return si(e,t,n)}function w0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Id(e,n)&&!(t.flags&128))return $e=!1,_T(e,t,n);$e=!!(e.flags&131072)}else $e=!1,ie&&t.flags&1048576&&Cy(t,ml,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Nr(t.elementType),t.type=e,typeof e=="function")hd(e)?(i=jr(e,i),t.tag=1,t=Bm(null,t,e,i,n)):(t.tag=0,t=hh(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===Jh){t.tag=11,t=Mm(null,t,e,i,n);break e}else if(r===Wh){t.tag=14,t=Um(null,t,e,i,n);break e}}throw t=Hf(e)||e,Error(I(306,t,""))}}return t;case 0:return hh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=jr(i,t.pendingProps),Bm(e,t,i,r,n);case 3:e:{if(ru(t,t.stateNode.containerInfo),e===null)throw Error(I(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,ih(e,t),el(t,i,null,n);var l=t.memoizedState;if(i=l.cache,xi(t,qe,i),i!==a.cache&&th(t,[qe],n,!0),Ws(),i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Pm(e,t,i,n);break e}else if(i!==r){r=Jt(Error(I(424)),t),gl(r),t=Pm(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(we=tn(e.firstChild),ut=t,ie=!0,Vi=null,Wt=!0,n=Iy(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ir(),i===r){t=si(e,t,n);break e}st(e,t,i,n)}t=t.child}return t;case 26:return Go(e,t),e===null?(n=og(t.type,null,t.pendingProps,null))?t.memoizedState=n:ie||(n=t.type,e=t.pendingProps,i=Nu(Zi.current).createElement(n),i[ot]=t,i[xt]=e,ft(i,n,e),it(i),t.stateNode=i):t.memoizedState=og(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pf(t),e===null&&ie&&(i=t.stateNode=m_(t.type,t.pendingProps,Zi.current),ut=t,Wt=!0,r=we,or(t.type)?(Oh=r,we=tn(i.firstChild)):we=r),st(e,t,t.pendingProps.children,n),Go(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ie&&((r=i=we)&&(i=FT(i,t.type,t.pendingProps,Wt),i!==null?(t.stateNode=i,ut=t,we=tn(i.firstChild),Wt=!1,r=!0):r=!1),r||tr(t)),Pf(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Th(r,a)?i=null:l!==null&&Th(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=Sd(e,t,cT,null,null,n),El._currentValue=r),Go(e,t),st(e,t,i,n),t.child;case 6:return e===null&&ie&&((e=n=we)&&(n=KT(n,t.pendingProps,Wt),n!==null?(t.stateNode=n,ut=t,we=null,e=!0):e=!1),e||tr(t)),null;case 13:return T0(e,t,n);case 4:return ru(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ur(t,null,i,n):st(e,t,i,n),t.child;case 11:return Mm(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xi(t,t.type,i.value),st(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Mr(t),r=ct(r),i=i(r),t.flags|=1,st(e,t,i,n),t.child;case 14:return Um(e,t,t.type,t.pendingProps,n);case 15:return S0(e,t,t.type,t.pendingProps,n);case 19:return A0(e,t,n);case 31:return yT(e,t,n);case 22:return E0(e,t,n,t.pendingProps);case 24:return Mr(t),i=ct(qe),e===null?(r=gd(),r===null&&(r=ge,a=md(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},yd(t),xi(t,qe,r)):(e.lanes&n&&(ih(e,t),el(t,null,null,n),Ws()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),xi(t,qe,i)):(i=a.cache,xi(t,qe,i),i!==r.cache&&th(t,[qe],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(I(156,t.tag))}function Pn(e){e.flags|=4}function Wc(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(F0())e.flags|=8192;else throw zr=hu,vd}else e.flags&=-16777217}function Vm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!y_(t))if(F0())e.flags|=8192;else throw zr=hu,vd}function _o(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kv():536870912,e.lanes|=t,Va|=t)}function Rs(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function bT(e,t,n){var i=t.pendingProps;switch(pd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ae(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ti(qe),La(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?Pn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gc())),Ae(t),null;case 26:var r=t.type,a=t.memoizedState;return e===null?(Pn(t),a!==null?(Ae(t),Vm(t,a)):(Ae(t),Wc(t,r,null,i,n))):a?a!==e.memoizedState?(Pn(t),Ae(t),Vm(t,a)):(Ae(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Pn(t),Ae(t),Wc(t,r,e,i,n)),null;case 27:if(au(t),n=Zi.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pn(t);else{if(!i){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}e=Nn.current,aa(t)?ym(t):(e=m_(r,i,n),t.stateNode=e,Pn(t))}return Ae(t),null;case 5:if(au(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Pn(t);else{if(!i){if(t.stateNode===null)throw Error(I(166));return Ae(t),null}if(a=Nn.current,aa(t))ym(t);else{var l=Nu(Zi.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?l.createElement(r,{is:i.is}):l.createElement(r)}}a[ot]=t,a[xt]=i;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=a;e:switch(ft(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pn(t)}}return Ae(t),Wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Pn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(I(166));if(e=Zi.current,aa(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=ut,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||f_(e.nodeValue,n)),e||tr(t,!0)}else e=Nu(e).createTextNode(i),e[ot]=t,t.stateNode=e}return Ae(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=aa(t),n!==null){if(e===null){if(!i)throw Error(I(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(557));e[ot]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),e=!1}else n=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if(t.flags&128)throw Error(I(558))}return Ae(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=aa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(I(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(I(317));r[ot]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),r=!1}else r=Gc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),_o(t,t.updateQueue),Ae(t),null);case 4:return La(),e===null&&Pd(t.stateNode.containerInfo),Ae(t),null;case 10:return ti(t.type),Ae(t),null;case 19:if(rt(Be),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Rs(i,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=pu(e),a!==null){for(t.flags|=128,Rs(i,!1),e=a.updateQueue,t.updateQueue=e,_o(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ny(n,e),n=n.sibling;return Se(Be,Be.current&1|2),ie&&qn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&jt()>bu&&(t.flags|=128,r=!0,Rs(i,!1),t.lanes=4194304)}else{if(!r)if(e=pu(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,_o(t,e),Rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return Ae(t),null}else 2*jt()-i.renderingStartTime>bu&&n!==536870912&&(t.flags|=128,r=!0,Rs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=jt(),e.sibling=null,n=Be.current,Se(Be,r?n&1|2:n&1),ie&&qn(t,i.treeForkCount),e):(Ae(t),null);case 22:case 23:return Mt(t),_d(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),n=t.updateQueue,n!==null&&_o(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&rt(Rr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ti(qe),Ae(t),null;case 25:return null;case 30:return null}throw Error(I(156,t.tag))}function ST(e,t){switch(pd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(qe),La(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return au(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(I(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(Be),null;case 4:return La(),null;case 10:return ti(t.type),null;case 22:case 23:return Mt(t),_d(),e!==null&&rt(Rr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ti(qe),null;case 25:return null;default:return null}}function N0(e,t){switch(pd(t),t.tag){case 3:ti(qe),La();break;case 26:case 27:case 5:au(t);break;case 4:La();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:rt(Be);break;case 10:ti(t.type);break;case 22:case 23:Mt(t),_d(),e!==null&&rt(Rr);break;case 24:ti(qe)}}function jl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,l=n.inst;i=a(),l.destroy=i}n=n.next}while(n!==r)}}catch(o){he(t,t.return,o)}}function nr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var l=i.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=t;var c=n,h=o;try{h()}catch(p){he(r,c,p)}}}i=i.next}while(i!==a)}}catch(p){he(t,t.return,p)}}function O0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Uy(t,n)}catch(i){he(e,e.return,i)}}}function C0(e,t,n){n.props=jr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){he(e,t,i)}}function nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){he(e,t,r)}}function wn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){he(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function x0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){he(e,e.return,r)}}function ef(e,t,n){try{var i=e.stateNode;VT(i,e.type,n,t),i[xt]=t}catch(r){he(e,e.return,r)}}function D0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&or(e.type)||e.tag===4}function tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&or(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ph(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yn));else if(i!==4&&(i===27&&or(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ph(e,t,n),e=e.sibling;e!==null;)ph(e,t,n),e=e.sibling}function _u(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&or(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function R0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ft(t,i,n),t[ot]=e,t[xt]=n}catch(a){he(e,e.return,a)}}var $n=!1,Ge=!1,nf=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,nt=null;function ET(e,t){if(e=e.containerInfo,Sh=Du,e=yy(e),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,h=0,p=0,y=e,v=null;t:for(;;){for(var N;y!==n||r!==0&&y.nodeType!==3||(o=l+r),y!==a||i!==0&&y.nodeType!==3||(c=l+i),y.nodeType===3&&(l+=y.nodeValue.length),(N=y.firstChild)!==null;)v=y,y=N;for(;;){if(y===e)break t;if(v===n&&++h===r&&(o=l),v===a&&++p===i&&(c=l),(N=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=N}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eh={focusedElem:e,selectionRange:n},Du=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var z=jr(n.type,r);e=i.getSnapshotBeforeUpdate(z,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(U){he(n,n.return,U)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ah(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ah(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(I(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function z0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(e,n),i&4&&jl(5,n);break;case 1:if(Vn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){he(n,n.return,l)}else{var r=jr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){he(n,n.return,l)}}i&64&&O0(n),i&512&&nl(n,n.return);break;case 3:if(Vn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Uy(e,t)}catch(l){he(n,n.return,l)}}break;case 27:t===null&&i&4&&R0(n);case 26:case 5:Vn(e,n),t===null&&i&4&&x0(n),i&512&&nl(n,n.return);break;case 12:Vn(e,n);break;case 31:Vn(e,n),i&4&&M0(e,n);break;case 13:Vn(e,n),i&4&&U0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=RT.bind(null,n),QT(e,n))));break;case 22:if(i=n.memoizedState!==null||$n,!i){t=t!==null&&t.memoizedState!==null||Ge,r=$n;var a=Ge;$n=i,(Ge=t)&&!a?Gn(e,n,(n.subtreeFlags&8772)!==0):Vn(e,n),$n=r,Ge=a}break;case 30:break;default:Vn(e,n)}}function k0(e){var t=e.alternate;t!==null&&(e.alternate=null,k0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&id(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,wt=!1;function Zn(e,t,n){for(n=n.child;n!==null;)I0(e,t,n),n=n.sibling}function I0(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 26:Ge||wn(n,t),Zn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ge||wn(n,t);var i=Oe,r=wt;or(n.type)&&(Oe=n.stateNode,wt=!1),Zn(e,t,n),sl(n.stateNode),Oe=i,wt=r;break;case 5:Ge||wn(n,t);case 6:if(i=Oe,r=wt,Oe=null,Zn(e,t,n),Oe=i,wt=r,Oe!==null)if(wt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(n.stateNode)}catch(a){he(n,t,a)}else try{Oe.removeChild(n.stateNode)}catch(a){he(n,t,a)}break;case 18:Oe!==null&&(wt?(e=Oe,ig(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xa(e)):ig(Oe,n.stateNode));break;case 4:i=Oe,r=wt,Oe=n.stateNode.containerInfo,wt=!0,Zn(e,t,n),Oe=i,wt=r;break;case 0:case 11:case 14:case 15:nr(2,n,t),Ge||nr(4,n,t),Zn(e,t,n);break;case 1:Ge||(wn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&C0(n,t,i)),Zn(e,t,n);break;case 21:Zn(e,t,n);break;case 22:Ge=(i=Ge)||n.memoizedState!==null,Zn(e,t,n),Ge=i;break;default:Zn(e,t,n)}}function M0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(n){he(t,t.return,n)}}}function U0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(n){he(t,t.return,n)}}function TT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gm),t;default:throw Error(I(435,e.tag))}}function bo(e,t){var n=TT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=zT.bind(null,e,i);i.then(r,r)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(or(o.type)){Oe=o.stateNode,wt=!1;break e}break;case 5:Oe=o.stateNode,wt=!1;break e;case 3:case 4:Oe=o.stateNode.containerInfo,wt=!0;break e}o=o.return}if(Oe===null)throw Error(I(160));I0(a,l,r),Oe=null,wt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)L0(t,e),t=t.sibling}var hn=null;function L0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),At(e),i&4&&(nr(3,e,e.return),jl(3,e),nr(5,e,e.return));break;case 1:Tt(t,e),At(e),i&512&&(Ge||n===null||wn(n,n.return)),i&64&&$n&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=hn;if(Tt(t,e),At(e),i&512&&(Ge||n===null||wn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Il]||a[ot]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),ft(a,i,n),a[ot]=e,it(a),i=a;break e;case"link":var l=cg("link","href",r).get(i+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(a=l[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break t}}a=r.createElement(i),ft(a,i,n),r.head.appendChild(a);break;case"meta":if(l=cg("meta","content",r).get(i+(n.content||""))){for(o=0;o<l.length;o++)if(a=l[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break t}}a=r.createElement(i),ft(a,i,n),r.head.appendChild(a);break;default:throw Error(I(468,i))}a[ot]=e,it(a),i=a}e.stateNode=i}else fg(r,e.type,e.stateNode);else e.stateNode=ug(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?fg(r,e.type,e.stateNode):ug(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ef(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),At(e),i&512&&(Ge||n===null||wn(n,n.return)),n!==null&&i&4&&ef(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),At(e),i&512&&(Ge||n===null||wn(n,n.return)),e.flags&32){r=e.stateNode;try{Ha(r,"")}catch(z){he(e,e.return,z)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,ef(e,r,n!==null?n.memoizedProps:r)),i&1024&&(nf=!0);break;case 6:if(Tt(t,e),At(e),i&4){if(e.stateNode===null)throw Error(I(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(z){he(e,e.return,z)}}break;case 3:if(Xo=null,r=hn,hn=Ou(t.containerInfo),Tt(t,e),hn=r,At(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xa(t.containerInfo)}catch(z){he(e,e.return,z)}nf&&(nf=!1,j0(e));break;case 4:i=hn,hn=Ou(e.stateNode.containerInfo),Tt(t,e),At(e),hn=i;break;case 12:Tt(t,e),At(e);break;case 31:Tt(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bo(e,i)));break;case 13:Tt(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ac=jt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bo(e,i)));break;case 22:r=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=$n,p=Ge;if($n=h||r,Ge=p||c,Tt(t,e),Ge=p,$n=h,At(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||c||$n||Ge||Or(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(a=c.stateNode,r)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var y=c.memoizedProps.style,v=y!=null&&y.hasOwnProperty("display")?y.display:null;o.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(z){he(c,c.return,z)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(z){he(c,c.return,z)}}}else if(t.tag===18){if(n===null){c=t;try{var N=c.stateNode;r?rg(N,!0):rg(c.stateNode,!1)}catch(z){he(c,c.return,z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,bo(e,n))));break;case 19:Tt(t,e),At(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,bo(e,i)));break;case 30:break;case 21:break;default:Tt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(D0(i)){n=i;break}i=i.return}if(n==null)throw Error(I(160));switch(n.tag){case 27:var r=n.stateNode,a=tf(e);_u(e,a,r);break;case 5:var l=n.stateNode;n.flags&32&&(Ha(l,""),n.flags&=-33);var o=tf(e);_u(e,o,l);break;case 3:case 4:var c=n.stateNode.containerInfo,h=tf(e);ph(e,h,c);break;default:throw Error(I(161))}}catch(p){he(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function j0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;j0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z0(e,t.alternate,t),t=t.sibling}function Or(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:nr(4,t,t.return),Or(t);break;case 1:wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&C0(t,t.return,n),Or(t);break;case 27:sl(t.stateNode);case 26:case 5:wn(t,t.return),Or(t);break;case 22:t.memoizedState===null&&Or(t);break;case 30:Or(t);break;default:Or(t)}e=e.sibling}}function Gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,l=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(r,a,n),jl(4,a);break;case 1:if(Gn(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){he(i,i.return,h)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)My(c[r],o)}catch(h){he(i,i.return,h)}}n&&l&64&&O0(a),nl(a,a.return);break;case 27:R0(a);case 26:case 5:Gn(r,a,n),n&&i===null&&l&4&&x0(a),nl(a,a.return);break;case 12:Gn(r,a,n);break;case 31:Gn(r,a,n),n&&l&4&&M0(r,a);break;case 13:Gn(r,a,n),n&&l&4&&U0(r,a);break;case 22:a.memoizedState===null&&Gn(r,a,n),nl(a,a.return);break;case 30:break;default:Gn(r,a,n)}t=t.sibling}}function Md(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ul(n))}function Ud(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e))}function cn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H0(e,t,n,i),t=t.sibling}function H0(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,n,i),r&2048&&jl(9,t);break;case 1:cn(e,t,n,i);break;case 3:cn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ul(e)));break;case 12:if(r&2048){cn(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,l=a.id,o=a.onPostCommit;typeof o=="function"&&o(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){he(t,t.return,c)}}else cn(e,t,n,i);break;case 31:cn(e,t,n,i);break;case 13:cn(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,l=t.alternate,t.memoizedState!==null?a._visibility&2?cn(e,t,n,i):il(e,t):a._visibility&2?cn(e,t,n,i):(a._visibility|=2,oa(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Md(l,t);break;case 24:cn(e,t,n,i),r&2048&&Ud(t.alternate,t);break;default:cn(e,t,n,i)}}function oa(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,l=t,o=n,c=i,h=l.flags;switch(l.tag){case 0:case 11:case 15:oa(a,l,o,c,r),jl(8,l);break;case 23:break;case 22:var p=l.stateNode;l.memoizedState!==null?p._visibility&2?oa(a,l,o,c,r):il(a,l):(p._visibility|=2,oa(a,l,o,c,r)),r&&h&2048&&Md(l.alternate,l);break;case 24:oa(a,l,o,c,r),r&&h&2048&&Ud(l.alternate,l);break;default:oa(a,l,o,c,r)}t=t.sibling}}function il(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:il(n,i),r&2048&&Md(i.alternate,i);break;case 24:il(n,i),r&2048&&Ud(i.alternate,i);break;default:il(n,i)}t=t.sibling}}var qs=8192;function sa(e,t,n){if(e.subtreeFlags&qs)for(e=e.child;e!==null;)B0(e,t,n),e=e.sibling}function B0(e,t,n){switch(e.tag){case 26:sa(e,t,n),e.flags&qs&&e.memoizedState!==null&&u1(n,hn,e.memoizedState,e.memoizedProps);break;case 5:sa(e,t,n);break;case 3:case 4:var i=hn;hn=Ou(e.stateNode.containerInfo),sa(e,t,n),hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=qs,qs=16777216,sa(e,t,n),qs=i):sa(e,t,n));break;default:sa(e,t,n)}}function P0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];nt=i,V0(i,e)}P0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Z0(e),e=e.sibling}function Z0(e){switch(e.tag){case 0:case 11:case 15:zs(e),e.flags&2048&&nr(9,e,e.return);break;case 3:zs(e);break;case 12:zs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qo(e)):zs(e);break;default:zs(e)}}function qo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];nt=i,V0(i,e)}P0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:nr(8,t,t.return),qo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qo(t));break;default:qo(t)}e=e.sibling}}function V0(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:nr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ul(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,nt=i;else e:for(n=e;nt!==null;){i=nt;var r=i.sibling,a=i.return;if(k0(i),i===n){nt=null;break e}if(r!==null){r.return=a,nt=r;break e}nt=a}}}var AT={getCacheForType:function(e){var t=ct(qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ct(qe).controller.signal}},wT=typeof WeakMap=="function"?WeakMap:Map,le=0,ge=null,te=null,ne=0,ce=0,kt=null,Hi=!1,es=!1,Ld=!1,li=0,Me=0,ir=0,kr=0,jd=0,Lt=0,Va=0,rl=null,Nt=null,mh=!1,ac=0,G0=0,bu=1/0,Su=null,$i=null,Ke=0,Xi=null,Ga=null,ni=0,gh=0,vh=null,q0=null,al=0,yh=null;function Pt(){return le&2&&ne!==0?ne&-ne:Y.T!==null?Bd():ey()}function $0(){if(Lt===0)if(!(ne&536870912)||ie){var e=fo;fo<<=1,!(fo&3932160)&&(fo=262144),Lt=e}else Lt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Lt}function Ot(e,t,n){(e===ge&&(ce===2||ce===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Bi(e,ne,Lt,!1)),kl(e,n),(!(le&2)||e!==ge)&&(e===ge&&(!(le&2)&&(kr|=n),Me===4&&Bi(e,ne,Lt,!1)),Rn(e))}function X0(e,t,n){if(le&6)throw Error(I(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||zl(e,t),r=i?CT(e,t):rf(e,t,!0),a=i;do{if(r===0){es&&!i&&Bi(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!NT(n)){r=rf(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var o=e;r=rl;var c=o.current.memoizedState.isDehydrated;if(c&&(qa(o,l).flags|=256),l=rf(o,l,!1),l!==2){if(Ld&&!c){o.errorRecoveryDisabledLanes|=a,kr|=a,r=4;break e}a=Nt,Nt=r,a!==null&&(Nt===null?Nt=a:Nt.push.apply(Nt,a))}r=l}if(a=!1,r!==2)continue}}if(r===1){qa(e,0),Bi(e,t,0,!0);break}e:{switch(i=e,a=r,a){case 0:case 1:throw Error(I(345));case 4:if((t&4194048)!==t)break;case 6:Bi(i,t,Lt,!Hi);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(I(329))}if((t&62914560)===t&&(r=ac+300-jt(),10<r)){if(Bi(i,t,Lt,!Hi),Yu(i,0,!0)!==0)break e;ni=t,i.timeoutHandle=d_(qm.bind(null,i,n,Nt,Su,mh,t,Lt,kr,Va,Hi,a,"Throttled",-0,0),r);break e}qm(i,n,Nt,Su,mh,t,Lt,kr,Va,Hi,a,null,-0,0)}}break}while(!0);Rn(e)}function qm(e,t,n,i,r,a,l,o,c,h,p,y,v,N){if(e.timeoutHandle=-1,y=t.subtreeFlags,y&8192||(y&16785408)===16785408){y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},B0(t,a,y);var z=(a&62914560)===a?ac-jt():(a&4194048)===a?G0-jt():0;if(z=c1(y,z),z!==null){ni=a,e.cancelPendingCommit=z(Xm.bind(null,e,t,a,n,i,r,l,o,c,p,y,null,v,N)),Bi(e,a,l,!h);return}}Xm(e,t,a,n,i,r,l,o,c)}function NT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Zt(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t,n,i){t&=~jd,t&=~kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-Bt(r),l=1<<a;i[a]=-1,r&=~l}n!==0&&Qv(e,n,t)}function sc(){return le&6?!0:(Hl(0),!1)}function Hd(){if(te!==null){if(ce===0)var e=te.return;else e=te,Fn=$r=null,Ad(e),xa=null,vl=0,e=te;for(;e!==null;)N0(e.alternate,e),e=e.return;te=null}}function qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$T(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ni=0,Hd(),ge=e,te=n=ei(e.current,null),ne=t,ce=0,kt=null,Hi=!1,es=zl(e,t),Ld=!1,Va=Lt=jd=kr=ir=Me=0,Nt=rl=null,mh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Bt(i),a=1<<r;t|=e[r],i&=~a}return li=t,Ju(),n}function Y0(e,t){Q=null,Y.H=_l,t===Wa||t===ec?(t=Tm(),ce=3):t===vd?(t=Tm(),ce=4):ce=t===kd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,te===null&&(Me=1,vu(e,Jt(t,e.current)))}function F0(){var e=Vt.current;return e===null?!0:(ne&4194048)===ne?en===null:(ne&62914560)===ne||ne&536870912?e===en:!1}function K0(){var e=Y.H;return Y.H=_l,e===null?_l:e}function Q0(){var e=Y.A;return Y.A=AT,e}function Eu(){Me=4,Hi||(ne&4194048)!==ne&&Vt.current!==null||(es=!0),!(ir&134217727)&&!(kr&134217727)||ge===null||Bi(ge,ne,Lt,!1)}function rf(e,t,n){var i=le;le|=2;var r=K0(),a=Q0();(ge!==e||ne!==t)&&(Su=null,qa(e,t)),t=!1;var l=Me;e:do try{if(ce!==0&&te!==null){var o=te,c=kt;switch(ce){case 8:Hd(),l=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var h=ce;if(ce=0,kt=null,Sa(e,o,c,h),n&&es){l=0;break e}break;default:h=ce,ce=0,kt=null,Sa(e,o,c,h)}}OT(),l=Me;break}catch(p){Y0(e,p)}while(!0);return t&&e.shellSuspendCounter++,Fn=$r=null,le=i,Y.H=r,Y.A=a,te===null&&(ge=null,ne=0,Ju()),l}function OT(){for(;te!==null;)J0(te)}function CT(e,t){var n=le;le|=2;var i=K0(),r=Q0();ge!==e||ne!==t?(Su=null,bu=jt()+500,qa(e,t)):es=zl(e,t);e:do try{if(ce!==0&&te!==null){t=te;var a=kt;t:switch(ce){case 1:ce=0,kt=null,Sa(e,t,a,1);break;case 2:case 9:if(Em(a)){ce=0,kt=null,$m(t);break}t=function(){ce!==2&&ce!==9||ge!==e||(ce=7),Rn(e)},a.then(t,t);break e;case 3:ce=7;break e;case 4:ce=5;break e;case 7:Em(a)?(ce=0,kt=null,$m(t)):(ce=0,kt=null,Sa(e,t,a,7));break;case 5:var l=null;switch(te.tag){case 26:l=te.memoizedState;case 5:case 27:var o=te;if(l?y_(l):o.stateNode.complete){ce=0,kt=null;var c=o.sibling;if(c!==null)te=c;else{var h=o.return;h!==null?(te=h,lc(h)):te=null}break t}}ce=0,kt=null,Sa(e,t,a,5);break;case 6:ce=0,kt=null,Sa(e,t,a,6);break;case 8:Hd(),Me=6;break e;default:throw Error(I(462))}}xT();break}catch(p){Y0(e,p)}while(!0);return Fn=$r=null,Y.H=i,Y.A=r,le=n,te!==null?0:(ge=null,ne=0,Ju(),Me)}function xT(){for(;te!==null&&!JS();)J0(te)}function J0(e){var t=w0(e.alternate,e,li);e.memoizedProps=e.pendingProps,t===null?lc(e):te=t}function $m(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hm(n,t,t.pendingProps,t.type,void 0,ne);break;case 11:t=Hm(n,t,t.pendingProps,t.type.render,t.ref,ne);break;case 5:Ad(t);default:N0(n,t),t=te=Ny(t,li),t=w0(n,t,li)}e.memoizedProps=e.pendingProps,t===null?lc(e):te=t}function Sa(e,t,n,i){Fn=$r=null,Ad(t),xa=null,vl=0;var r=t.return;try{if(vT(e,r,t,n,ne)){Me=1,vu(e,Jt(n,e.current)),te=null;return}}catch(a){if(r!==null)throw te=r,a;Me=1,vu(e,Jt(n,e.current)),te=null;return}t.flags&32768?(ie||i===1?e=!0:es||ne&536870912?e=!1:(Hi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Vt.current,i!==null&&i.tag===13&&(i.flags|=16384))),W0(t,e)):lc(t)}function lc(e){var t=e;do{if(t.flags&32768){W0(t,Hi);return}e=t.return;var n=bT(t.alternate,t,li);if(n!==null){te=n;return}if(t=t.sibling,t!==null){te=t;return}te=t=e}while(t!==null);Me===0&&(Me=5)}function W0(e,t){do{var n=ST(e.alternate,e);if(n!==null){n.flags&=32767,te=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){te=e;return}te=e=n}while(e!==null);Me=6,te=null}function Xm(e,t,n,i,r,a,l,o,c){e.cancelPendingCommit=null;do oc();while(Ke!==0);if(le&6)throw Error(I(327));if(t!==null){if(t===e.current)throw Error(I(177));if(a=t.lanes|t.childLanes,a|=cd,oE(e,n,a,l,o,c),e===ge&&(te=ge=null,ne=0),Ga=t,Xi=e,ni=n,gh=a,vh=r,q0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,kT(su,function(){return r_(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=oe.p,oe.p=2,l=le,le|=4;try{ET(e,t,n)}finally{le=l,oe.p=r,Y.T=i}}Ke=1,e_(),t_(),n_()}}function e_(){if(Ke===1){Ke=0;var e=Xi,t=Ga,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=oe.p;oe.p=2;var r=le;le|=4;try{L0(t,e);var a=Eh,l=yy(e.containerInfo),o=a.focusedElem,c=a.selectionRange;if(l!==o&&o&&o.ownerDocument&&vy(o.ownerDocument.documentElement,o)){if(c!==null&&ud(o)){var h=c.start,p=c.end;if(p===void 0&&(p=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(p,o.value.length);else{var y=o.ownerDocument||document,v=y&&y.defaultView||window;if(v.getSelection){var N=v.getSelection(),z=o.textContent.length,U=Math.min(c.start,z),B=c.end===void 0?U:Math.min(c.end,z);!N.extend&&U>B&&(l=B,B=U,U=l);var A=mm(o,U),S=mm(o,B);if(A&&S&&(N.rangeCount!==1||N.anchorNode!==A.node||N.anchorOffset!==A.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var O=y.createRange();O.setStart(A.node,A.offset),N.removeAllRanges(),U>B?(N.addRange(O),N.extend(S.node,S.offset)):(O.setEnd(S.node,S.offset),N.addRange(O))}}}}for(y=[],N=o;N=N.parentNode;)N.nodeType===1&&y.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<y.length;o++){var D=y[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Du=!!Sh,Eh=Sh=null}finally{le=r,oe.p=i,Y.T=n}}e.current=t,Ke=2}}function t_(){if(Ke===2){Ke=0;var e=Xi,t=Ga,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=oe.p;oe.p=2;var r=le;le|=4;try{z0(e,t.alternate,t)}finally{le=r,oe.p=i,Y.T=n}}Ke=3}}function n_(){if(Ke===4||Ke===3){Ke=0,WS();var e=Xi,t=Ga,n=ni,i=q0;t.subtreeFlags&10256||t.flags&10256?Ke=5:(Ke=0,Ga=Xi=null,i_(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&($i=null),nd(n),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Rl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=oe.p,oe.p=2,Y.T=null;try{for(var a=e.onRecoverableError,l=0;l<i.length;l++){var o=i[l];a(o.value,{componentStack:o.stack})}}finally{Y.T=t,oe.p=r}}ni&3&&oc(),Rn(e),r=e.pendingLanes,n&261930&&r&42?e===yh?al++:(al=0,yh=e):al=0,Hl(0)}}function i_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ul(t)))}function oc(){return e_(),t_(),n_(),r_()}function r_(){if(Ke!==5)return!1;var e=Xi,t=gh;gh=0;var n=nd(ni),i=Y.T,r=oe.p;try{oe.p=32>n?32:n,Y.T=null,n=vh,vh=null;var a=Xi,l=ni;if(Ke=0,Ga=Xi=null,ni=0,le&6)throw Error(I(331));var o=le;if(le|=4,Z0(a.current),H0(a,a.current,l,n),le=o,Hl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Rl,a)}catch{}return!0}finally{oe.p=r,Y.T=i,i_(e,t)}}function Ym(e,t,n){t=Jt(n,t),t=fh(e.stateNode,t,2),e=qi(e,t,2),e!==null&&(kl(e,2),Rn(e))}function he(e,t,n){if(e.tag===3)Ym(e,e,n);else for(;t!==null;){if(t.tag===3){Ym(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($i===null||!$i.has(i))){e=Jt(n,e),n=_0(2),i=qi(t,n,2),i!==null&&(b0(n,i,t,e),kl(i,2),Rn(i));break}}t=t.return}}function af(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new wT;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Ld=!0,r.add(n),e=DT.bind(null,e,t,n),t.then(e,e))}function DT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ge===e&&(ne&n)===n&&(Me===4||Me===3&&(ne&62914560)===ne&&300>jt()-ac?!(le&2)&&qa(e,0):jd|=n,Va===ne&&(Va=0)),Rn(e)}function a_(e,t){t===0&&(t=Kv()),e=qr(e,t),e!==null&&(kl(e,t),Rn(e))}function RT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a_(e,n)}function zT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(I(314))}i!==null&&i.delete(t),a_(e,n)}function kT(e,t){return ed(e,t)}var Tu=null,ua=null,_h=!1,Au=!1,sf=!1,Pi=0;function Rn(e){e!==ua&&e.next===null&&(ua===null?Tu=ua=e:ua=ua.next=e),Au=!0,_h||(_h=!0,MT())}function Hl(e,t){if(!sf&&Au){sf=!0;do for(var n=!1,i=Tu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var l=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-Bt(42|e)+1)-1,a&=r&~(l&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Fm(i,a))}else a=ne,a=Yu(i,i===ge?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||zl(i,a)||(n=!0,Fm(i,a));i=i.next}while(n);sf=!1}}function IT(){s_()}function s_(){Au=_h=!1;var e=0;Pi!==0&&qT()&&(e=Pi);for(var t=jt(),n=null,i=Tu;i!==null;){var r=i.next,a=l_(i,t);a===0?(i.next=null,n===null?Tu=r:n.next=r,r===null&&(ua=n)):(n=i,(e!==0||a&3)&&(Au=!0)),i=r}Ke!==0&&Ke!==5||Hl(e),Pi!==0&&(Pi=0)}function l_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var l=31-Bt(a),o=1<<l,c=r[l];c===-1?(!(o&n)||o&i)&&(r[l]=lE(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}if(t=ge,n=ne,n=Yu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ce===2||ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&kc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||zl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&kc(i),nd(n)){case 2:case 8:n=Yv;break;case 32:n=su;break;case 268435456:n=Fv;break;default:n=su}return i=o_.bind(null,e),n=ed(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&kc(i),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(oc()&&e.callbackNode!==n)return null;var i=ne;return i=Yu(e,e===ge?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(X0(e,i,t),l_(e,jt()),e.callbackNode!=null&&e.callbackNode===n?o_.bind(null,e):null)}function Fm(e,t){if(oc())return null;X0(e,t,!0)}function MT(){XT(function(){le&6?ed(Xv,IT):s_()})}function Bd(){if(Pi===0){var e=Ba;e===0&&(e=co,co<<=1,!(co&261888)&&(co=256)),Pi=e}return Pi}function Km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Uo(""+e)}function Qm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function UT(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Km((r[xt]||null).action),l=i.submitter;l&&(t=(t=l[xt]||null)?Km(t.formAction):l.getAttribute("formAction"),t!==null&&(a=t,l=null));var o=new Fu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pi!==0){var c=l?Qm(r,l):new FormData(r);uh(n,{pending:!0,data:c,method:r.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=l?Qm(r,l):new FormData(r),uh(n,{pending:!0,data:c,method:r.method,action:a},a,c))},currentTarget:r}]})}}for(var lf=0;lf<Qf.length;lf++){var of=Qf[lf],LT=of.toLowerCase(),jT=of[0].toUpperCase()+of.slice(1);yn(LT,"on"+jT)}yn(by,"onAnimationEnd");yn(Sy,"onAnimationIteration");yn(Ey,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(eT,"onTransitionRun");yn(tT,"onTransitionStart");yn(nT,"onTransitionCancel");yn(Ty,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function u_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var l=i.length-1;0<=l;l--){var o=i[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(p){ou(p)}r.currentTarget=null,a=c}else for(l=0;l<i.length;l++){if(o=i[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(p){ou(p)}r.currentTarget=null,a=c}}}}function ee(e,t){var n=t[Vf];n===void 0&&(n=t[Vf]=new Set);var i=e+"__bubble";n.has(i)||(c_(t,e,2,!1),n.add(i))}function uf(e,t,n){var i=0;t&&(i|=4),c_(n,e,i,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[So]){e[So]=!0,ty.forEach(function(n){n!=="selectionchange"&&(HT.has(n)||uf(n,!1,e),uf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,uf("selectionchange",!1,t))}}function c_(e,t,n,i){switch(T_(t)){case 2:var r=d1;break;case 8:r=p1;break;default:r=qd}n=r.bind(null,t,n,e),r=void 0,!Yf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function cf(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var o=i.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=ha(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){i=a=l;continue e}o=o.parentNode}}i=i.return}uy(function(){var h=a,p=ad(n),y=[];e:{var v=Ay.get(e);if(v!==void 0){var N=Fu,z=e;switch(e){case"keypress":if(jo(n)===0)break e;case"keydown":case"keyup":N=zE;break;case"focusin":z="focus",N=jc;break;case"focusout":z="blur",N=jc;break;case"beforeblur":case"afterblur":N=jc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=bE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=ME;break;case by:case Sy:case Ey:N=TE;break;case Ty:N=LE;break;case"scroll":case"scrollend":N=yE;break;case"wheel":N=HE;break;case"copy":case"cut":case"paste":N=wE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=lm;break;case"toggle":case"beforetoggle":N=PE}var U=(t&4)!==0,B=!U&&(e==="scroll"||e==="scrollend"),A=U?v!==null?v+"Capture":null:v;U=[];for(var S=h,O;S!==null;){var D=S;if(O=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||O===null||A===null||(D=hl(S,A),D!=null&&U.push(Sl(S,D,O))),B)break;S=S.return}0<U.length&&(v=new N(v,z,null,n,p),y.push({event:v,listeners:U}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",v&&n!==Xf&&(z=n.relatedTarget||n.fromElement)&&(ha(z)||z[Ka]))break e;if((N||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,N?(z=n.relatedTarget||n.toElement,N=h,z=z?ha(z):null,z!==null&&(B=Dl(z),U=z.tag,z!==B||U!==5&&U!==27&&U!==6)&&(z=null)):(N=null,z=h),N!==z)){if(U=am,D="onMouseLeave",A="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(U=lm,D="onPointerLeave",A="onPointerEnter",S="pointer"),B=N==null?v:Vs(N),O=z==null?v:Vs(z),v=new U(D,S+"leave",N,n,p),v.target=B,v.relatedTarget=O,D=null,ha(p)===h&&(U=new U(A,S+"enter",z,n,p),U.target=O,U.relatedTarget=B,D=U),B=D,N&&z)t:{for(U=BT,A=N,S=z,O=0,D=A;D;D=U(D))O++;D=0;for(var j=S;j;j=U(j))D++;for(;0<O-D;)A=U(A),O--;for(;0<D-O;)S=U(S),D--;for(;O--;){if(A===S||S!==null&&A===S.alternate){U=A;break t}A=U(A),S=U(S)}U=null}else U=null;N!==null&&Jm(y,v,N,U,!1),z!==null&&B!==null&&Jm(y,B,z,U,!0)}}e:{if(v=h?Vs(h):window,N=v.nodeName&&v.nodeName.toLowerCase(),N==="select"||N==="input"&&v.type==="file")var V=fm;else if(cm(v))if(my)V=QE;else{V=FE;var _=YE}else N=v.nodeName,!N||N.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?h&&rd(h.elementType)&&(V=fm):V=KE;if(V&&(V=V(e,h))){py(y,V,n,p);break e}_&&_(e,v,h),e==="focusout"&&h&&v.type==="number"&&h.memoizedProps.value!=null&&$f(v,"number",v.value)}switch(_=h?Vs(h):window,e){case"focusin":(cm(_)||_.contentEditable==="true")&&(ma=_,Ff=h,Ks=null);break;case"focusout":Ks=Ff=ma=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,gm(y,n,p);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":gm(y,n,p)}var m;if(od)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else pa?hy(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(fy&&n.locale!=="ko"&&(pa||g!=="onCompositionStart"?g==="onCompositionEnd"&&pa&&(m=cy()):(ji=p,sd="value"in ji?ji.value:ji.textContent,pa=!0)),_=wu(h,g),0<_.length&&(g=new sm(g,e,null,n,p),y.push({event:g,listeners:_}),m?g.data=m:(m=dy(n),m!==null&&(g.data=m)))),(m=VE?GE(e,n):qE(e,n))&&(g=wu(h,"onBeforeInput"),0<g.length&&(_=new sm("onBeforeInput","beforeinput",null,n,p),y.push({event:_,listeners:g}),_.data=m)),UT(y,e,h,n,p)}u_(y,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=hl(e,n),r!=null&&i.unshift(Sl(e,r,a)),r=hl(e,t),r!=null&&i.push(Sl(e,r,a))),e.tag===3)return i;e=e.return}return[]}function BT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jm(e,t,n,i,r){for(var a=t._reactName,l=[];n!==null&&n!==i;){var o=n,c=o.alternate,h=o.stateNode;if(o=o.tag,c!==null&&c===i)break;o!==5&&o!==26&&o!==27||h===null||(c=h,r?(h=hl(n,a),h!=null&&l.unshift(Sl(n,h,c))):r||(h=hl(n,a),h!=null&&l.push(Sl(n,h,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var PT=/\r\n?/g,ZT=/\u0000|\uFFFD/g;function Wm(e){return(typeof e=="string"?e:""+e).replace(PT,`
`).replace(ZT,"")}function f_(e,t){return t=Wm(t),Wm(e)===t}function de(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ha(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ha(e,""+i);break;case"className":po(e,"class",i);break;case"tabIndex":po(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":po(e,n,i);break;case"style":oy(e,i,a);break;case"data":if(t!=="object"){po(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Uo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&de(e,t,"name",r.name,r,null),de(e,t,"formEncType",r.formEncType,r,null),de(e,t,"formMethod",r.formMethod,r,null),de(e,t,"formTarget",r.formTarget,r,null)):(de(e,t,"encType",r.encType,r,null),de(e,t,"method",r.method,r,null),de(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Uo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Yn);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(I(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(I(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Uo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ee("beforetoggle",e),ee("toggle",e),Mo(e,"popover",i);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Mo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=gE.get(n)||n,Mo(e,n,i))}}function bh(e,t,n,i,r,a){switch(n){case"style":oy(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(I(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(I(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ha(e,i):(typeof i=="number"||typeof i=="bigint")&&Ha(e,""+i);break;case"onScroll":i!=null&&ee("scroll",e);break;case"onScrollEnd":i!=null&&ee("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ny.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[xt]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Mo(e,n,i)}}}function ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(l!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:de(e,t,a,l,n,null)}}r&&de(e,t,"srcSet",n.srcSet,n,null),i&&de(e,t,"src",n.src,n,null);return;case"input":ee("invalid",e);var o=a=l=r=null,c=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"name":r=p;break;case"type":l=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(I(137,t));break;default:de(e,t,i,p,n,null)}}ay(e,a,o,c,h,l,r,!1);return;case"select":ee("invalid",e),i=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:de(e,t,r,o,n,null)}t=a,n=l,e.multiple=!!i,t!=null?Na(e,!!i,t,!1):n!=null&&Na(e,!!i,n,!0);return;case"textarea":ee("invalid",e),a=r=i=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(I(91));break;default:de(e,t,l,o,n,null)}ly(e,i,r,a);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:de(e,t,c,i,n,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(i=0;i<bl.length;i++)ee(bl[i],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(I(137,t));default:de(e,t,h,i,n,null)}return;default:if(rd(t)){for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!==void 0&&bh(e,t,p,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&de(e,t,o,i,n,null))}function VT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,o=null,c=null,h=null,p=null;for(N in n){var y=n[N];if(n.hasOwnProperty(N)&&y!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":c=y;default:i.hasOwnProperty(N)||de(e,t,N,null,i,y)}}for(var v in i){var N=i[v];if(y=n[v],i.hasOwnProperty(v)&&(N!=null||y!=null))switch(v){case"type":a=N;break;case"name":r=N;break;case"checked":h=N;break;case"defaultChecked":p=N;break;case"value":l=N;break;case"defaultValue":o=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(I(137,t));break;default:N!==y&&de(e,t,v,N,i,y)}}qf(e,l,o,c,h,p,a,r);return;case"select":N=l=o=v=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":N=c;default:i.hasOwnProperty(a)||de(e,t,a,null,i,c)}for(r in i)if(a=i[r],c=n[r],i.hasOwnProperty(r)&&(a!=null||c!=null))switch(r){case"value":v=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==c&&de(e,t,r,a,i,c)}t=o,n=l,i=N,v!=null?Na(e,!!n,v,!1):!!i!=!!n&&(t!=null?Na(e,!!n,t,!0):Na(e,!!n,n?[]:"",!1));return;case"textarea":N=v=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:de(e,t,o,null,i,r)}for(l in i)if(r=i[l],a=n[l],i.hasOwnProperty(l)&&(r!=null||a!=null))switch(l){case"value":v=r;break;case"defaultValue":N=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(I(91));break;default:r!==a&&de(e,t,l,r,i,a)}sy(e,v,N);return;case"option":for(var z in n)if(v=n[z],n.hasOwnProperty(z)&&v!=null&&!i.hasOwnProperty(z))switch(z){case"selected":e.selected=!1;break;default:de(e,t,z,null,i,v)}for(c in i)if(v=i[c],N=n[c],i.hasOwnProperty(c)&&v!==N&&(v!=null||N!=null))switch(c){case"selected":e.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:de(e,t,c,v,i,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var U in n)v=n[U],n.hasOwnProperty(U)&&v!=null&&!i.hasOwnProperty(U)&&de(e,t,U,null,i,v);for(h in i)if(v=i[h],N=n[h],i.hasOwnProperty(h)&&v!==N&&(v!=null||N!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(I(137,t));break;default:de(e,t,h,v,i,N)}return;default:if(rd(t)){for(var B in n)v=n[B],n.hasOwnProperty(B)&&v!==void 0&&!i.hasOwnProperty(B)&&bh(e,t,B,void 0,i,v);for(p in i)v=i[p],N=n[p],!i.hasOwnProperty(p)||v===N||v===void 0&&N===void 0||bh(e,t,p,v,i,N);return}}for(var A in n)v=n[A],n.hasOwnProperty(A)&&v!=null&&!i.hasOwnProperty(A)&&de(e,t,A,null,i,v);for(y in i)v=i[y],N=n[y],!i.hasOwnProperty(y)||v===N||v==null&&N==null||de(e,t,y,v,i,N)}function eg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,l=r.initiatorType,o=r.duration;if(a&&o&&eg(l)){for(l=0,o=r.responseEnd,i+=1;i<n.length;i++){var c=n[i],h=c.startTime;if(h>o)break;var p=c.transferSize,y=c.initiatorType;p&&eg(y)&&(c=c.responseEnd,l+=p*(c<o?1:(o-h)/(c-h)))}if(--i,t+=8*(a+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sh=null,Eh=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function tg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Th(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ff=null;function qT(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(e){return ng.resolve(null).then(e).catch(YT)}:d_;function YT(e){setTimeout(function(){throw e})}function or(e){return e==="head"}function ig(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),Xa(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")sl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,sl(n);for(var a=n.firstChild;a;){var l=a.nextSibling,o=a.nodeName;a[Il]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}else n==="body"&&sl(e.ownerDocument.body);n=r}while(n);Xa(t)}function rg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ah(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ah(n),id(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function FT(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Il])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=tn(e.nextSibling),e===null)break}return null}function KT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=tn(e.nextSibling),e===null))return null;return e}function p_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=tn(e.nextSibling),e===null))return null;return e}function wh(e){return e.data==="$?"||e.data==="$~"}function Nh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function QT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Oh=null;function ag(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function sg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function m_(e,t,n){switch(t=Nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(I(452));return e;case"head":if(e=t.head,!e)throw Error(I(453));return e;case"body":if(e=t.body,!e)throw Error(I(454));return e;default:throw Error(I(451))}}function sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);id(e)}var nn=new Map,lg=new Set;function Ou(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fi=oe.d;oe.d={f:JT,r:WT,D:e1,C:t1,L:n1,m:i1,X:a1,S:r1,M:s1};function JT(){var e=fi.f(),t=sc();return e||t}function WT(e){var t=Qa(e);t!==null&&t.tag===5&&t.type==="form"?o0(t):fi.r(e)}var ts=typeof document>"u"?null:document;function g_(e,t,n){var i=ts;if(i&&typeof t=="string"&&t){var r=Qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),lg.has(r)||(lg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),ft(t,"link",e),it(t),i.head.appendChild(t)))}}function e1(e){fi.D(e),g_("dns-prefetch",e,null)}function t1(e,t){fi.C(e,t),g_("preconnect",e,t)}function n1(e,t,n){fi.L(e,t,n);var i=ts;if(i&&e&&t){var r='link[rel="preload"][as="'+Qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Qt(n.imageSizes)+'"]')):r+='[href="'+Qt(e)+'"]';var a=r;switch(t){case"style":a=$a(e);break;case"script":a=ns(e)}nn.has(a)||(e=Ne({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(Bl(a))||t==="script"&&i.querySelector(Pl(a))||(t=i.createElement("link"),ft(t,"link",e),it(t),i.head.appendChild(t)))}}function i1(e,t){fi.m(e,t);var n=ts;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Qt(i)+'"][href="'+Qt(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ns(e)}if(!nn.has(a)&&(e=Ne({rel:"modulepreload",href:e},t),nn.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pl(a)))return}i=n.createElement("link"),ft(i,"link",e),it(i),n.head.appendChild(i)}}}function r1(e,t,n){fi.S(e,t,n);var i=ts;if(i&&e){var r=wa(i).hoistableStyles,a=$a(e);t=t||"default";var l=r.get(a);if(!l){var o={loading:0,preload:null};if(l=i.querySelector(Bl(a)))o.loading=5;else{e=Ne({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(a))&&Zd(e,n);var c=l=i.createElement("link");it(c),ft(c,"link",e),c._p=new Promise(function(h,p){c.onload=h,c.onerror=p}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,$o(l,t,i)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(a,l)}}}function a1(e,t){fi.X(e,t);var n=ts;if(n&&e){var i=wa(n).hoistableScripts,r=ns(e),a=i.get(r);a||(a=n.querySelector(Pl(r)),a||(e=Ne({src:e,async:!0},t),(t=nn.get(r))&&Vd(e,t),a=n.createElement("script"),it(a),ft(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function s1(e,t){fi.M(e,t);var n=ts;if(n&&e){var i=wa(n).hoistableScripts,r=ns(e),a=i.get(r);a||(a=n.querySelector(Pl(r)),a||(e=Ne({src:e,async:!0,type:"module"},t),(t=nn.get(r))&&Vd(e,t),a=n.createElement("script"),it(a),ft(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function og(e,t,n,i){var r=(r=Zi.current)?Ou(r):null;if(!r)throw Error(I(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=$a(n.href),n=wa(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=$a(n.href);var a=wa(r).hoistableStyles,l=a.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,l),(a=r.querySelector(Bl(e)))&&!a._p&&(l.instance=a,l.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),a||l1(r,e,n,l.state))),t&&i===null)throw Error(I(528,""));return l}if(t&&i!==null)throw Error(I(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ns(n),n=wa(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(I(444,e))}}function $a(e){return'href="'+Qt(e)+'"'}function Bl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return Ne({},e,{"data-precedence":e.precedence,precedence:null})}function l1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ft(t,"link",n),it(t),e.head.appendChild(t))}function ns(e){return'[src="'+Qt(e)+'"]'}function Pl(e){return"script[async]"+e}function ug(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qt(n.href)+'"]');if(i)return t.instance=i,it(i),i;var r=Ne({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),it(i),ft(i,"style",r),$o(i,n.precedence,e),t.instance=i;case"stylesheet":r=$a(n.href);var a=e.querySelector(Bl(r));if(a)return t.state.loading|=4,t.instance=a,it(a),a;i=v_(n),(r=nn.get(r))&&Zd(i,r),a=(e.ownerDocument||e).createElement("link"),it(a);var l=a;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),ft(a,"link",i),t.state.loading|=4,$o(a,n.precedence,e),t.instance=a;case"script":return a=ns(n.src),(r=e.querySelector(Pl(a)))?(t.instance=r,it(r),r):(i=n,(r=nn.get(a))&&(i=Ne({},n),Vd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),it(r),ft(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(I(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,$o(i,n.precedence,e));return t.instance}function $o(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,l=0;l<i.length;l++){var o=i[l];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xo=null;function cg(e,t,n){if(Xo===null){var i=new Map,r=Xo=new Map;r.set(n,i)}else r=Xo,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[Il]||a[ot]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(t)||"";l=e+l;var o=i.get(l);o?o.push(a):i.set(l,[a])}}return i}function fg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function u1(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=$a(i.href),a=t.querySelector(Bl(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,it(a);return}a=t.ownerDocument||t,i=v_(i),(r=nn.get(r))&&Zd(i,r),a=a.createElement("link"),it(a);var l=a;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),ft(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Cu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var hf=0;function c1(e,t){return e.stylesheets&&e.count===0&&Yo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&hf===0&&(hf=62500*GT());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>hf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xu=null;function Yo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xu=new Map,t.forEach(f1,e),xu=null,Cu.call(e))}function f1(e,t){if(!(t.state.loading&4)){var n=xu.get(e);if(n)var i=n.get(null);else{n=new Map,xu.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}r=t.instance,l=r.getAttribute("data-precedence"),a=n.get(l)||i,a===i&&n.set(null,r),n.set(l,r),this.count++,i=Cu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var El={$$typeof:Xn,Provider:null,Consumer:null,_currentValue:xr,_currentValue2:xr,_threadCount:0};function h1(e,t,n,i,r,a,l,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function __(e,t,n,i,r,a,l,o,c,h,p,y){return e=new h1(e,t,n,l,c,h,p,y,o),t=1,a===!0&&(t|=24),a=Ut(3,null,null,t),e.current=a,a.stateNode=e,t=md(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},yd(a),e}function b_(e){return e?(e=ya,e):ya}function S_(e,t,n,i,r,a){r=b_(r),i.context===null?i.context=r:i.pendingContext=r,i=Gi(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=qi(e,i,t),n!==null&&(Ot(n,e,t),Js(n,e,t))}function hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gd(e,t){hg(e,t),(e=e.alternate)&&hg(e,t)}function E_(e){if(e.tag===13||e.tag===31){var t=qr(e,67108864);t!==null&&Ot(t,e,67108864),Gd(e,67108864)}}function dg(e){if(e.tag===13||e.tag===31){var t=Pt();t=td(t);var n=qr(e,t);n!==null&&Ot(n,e,t),Gd(e,t)}}var Du=!0;function d1(e,t,n,i){var r=Y.T;Y.T=null;var a=oe.p;try{oe.p=2,qd(e,t,n,i)}finally{oe.p=a,Y.T=r}}function p1(e,t,n,i){var r=Y.T;Y.T=null;var a=oe.p;try{oe.p=8,qd(e,t,n,i)}finally{oe.p=a,Y.T=r}}function qd(e,t,n,i){if(Du){var r=Ch(i);if(r===null)cf(e,t,i,Ru,n),pg(e,i);else if(g1(r,e,t,n,i))i.stopPropagation();else if(pg(e,i),t&4&&-1<m1.indexOf(e)){for(;r!==null;){var a=Qa(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=wr(a.pendingLanes);if(l!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Bt(l);o.entanglements[1]|=c,l&=~c}Rn(a),!(le&6)&&(bu=jt()+500,Hl(0))}}break;case 31:case 13:o=qr(a,2),o!==null&&Ot(o,a,2),sc(),Gd(a,2)}if(a=Ch(i),a===null&&cf(e,t,i,Ru,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else cf(e,t,i,null,n)}}function Ch(e){return e=ad(e),$d(e)}var Ru=null;function $d(e){if(Ru=null,e=ha(e),e!==null){var t=Dl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Zv(t),e!==null)return e;e=null}else if(n===31){if(e=Vv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ru=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eE()){case Xv:return 2;case Yv:return 8;case su:case tE:return 32;case Fv:return 268435456;default:return 32}default:return 32}}var xh=!1,Yi=null,Fi=null,Ki=null,Tl=new Map,Al=new Map,zi=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function ks(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Qa(t),t!==null&&E_(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function g1(e,t,n,i,r){switch(t){case"focusin":return Yi=ks(Yi,e,t,n,i,r),!0;case"dragenter":return Fi=ks(Fi,e,t,n,i,r),!0;case"mouseover":return Ki=ks(Ki,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Tl.set(a,ks(Tl.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Al.set(a,ks(Al.get(a)||null,e,t,n,i,r)),!0}return!1}function A_(e){var t=ha(e.target);if(t!==null){var n=Dl(t);if(n!==null){if(t=n.tag,t===13){if(t=Zv(n),t!==null){e.blockedOn=t,Jp(e.priority,function(){dg(n)});return}}else if(t===31){if(t=Vv(n),t!==null){e.blockedOn=t,Jp(e.priority,function(){dg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ch(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Xf=i,n.target.dispatchEvent(i),Xf=null}else return t=Qa(n),t!==null&&E_(t),e.blockedOn=n,!1;t.shift()}return!0}function mg(e,t,n){Fo(e)&&n.delete(t)}function v1(){xh=!1,Yi!==null&&Fo(Yi)&&(Yi=null),Fi!==null&&Fo(Fi)&&(Fi=null),Ki!==null&&Fo(Ki)&&(Ki=null),Tl.forEach(mg),Al.forEach(mg)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,xh||(xh=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,v1)))}var To=null;function gg(e){To!==e&&(To=e,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,function(){To===e&&(To=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if($d(i||n)===null)continue;break}var a=Qa(n);a!==null&&(e.splice(t,3),t-=3,uh(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Xa(e){function t(c){return Eo(c,e)}Yi!==null&&Eo(Yi,e),Fi!==null&&Eo(Fi,e),Ki!==null&&Eo(Ki,e),Tl.forEach(t),Al.forEach(t);for(var n=0;n<zi.length;n++){var i=zi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)A_(n),n.blockedOn===null&&zi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],l=r[xt]||null;if(typeof a=="function")l||gg(n);else if(l){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[xt]||null)o=l.formAction;else if($d(r)!==null)continue}else o=l.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),gg(n)}}}function w_(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Xd(e){this._internalRoot=e}uc.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));var n=t.current,i=Pt();S_(n,i,e,t,null,null)};uc.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),t[Ka]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ey();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&A_(e)}};var vg=Bv.version;if(vg!=="19.2.3")throw Error(I(527,vg,"19.2.3"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=XS(t),e=e!==null?Gv(e):null,e=e===null?null:e.stateNode,e};var y1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Rl=Ao.inject(y1),Ht=Ao}catch{}}Xu.createRoot=function(e,t){if(!Pv(e))throw Error(I(299));var n=!1,i="",r=g0,a=v0,l=y0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=__(e,1,!1,null,null,n,i,null,r,a,l,w_),e[Ka]=t.current,Pd(e),new Xd(t)};Xu.hydrateRoot=function(e,t,n){if(!Pv(e))throw Error(I(299));var i=!1,r="",a=g0,l=v0,o=y0,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=__(e,1,!0,t,n??null,i,r,c,a,l,o,w_),t.context=b_(null),n=t.current,i=Pt(),i=td(i),r=Gi(i),r.callback=null,qi(n,r,i),n=i,t.current.lanes=n,kl(t,n),Rn(t),e[Ka]=t.current,Pd(e),new uc(t)};Xu.version="19.2.3";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(e){console.error(e)}}N_(),Lv.exports=Xu;var _1=Lv.exports;const b1="modulepreload",S1=function(e){return"/"+e},yg={},vt=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=S1(c),c in yg)return;yg[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":b1,h||(y.as="script"),y.crossOrigin="",y.href=c,o&&y.setAttribute("nonce",o),document.head.appendChild(y),h)return new Promise((v,N)=>{y.addEventListener("load",v),y.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return r.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},wl="crypto",O_="Cryptography Mathematics",E1="Learn the mathematics that powers modern encryption, from modular arithmetic to elliptic curves.",C_="",T1="https://mathacademy-cyan.vercel.app";var _g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},A1=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],l=e[n++],o=e[n++],c=((r&7)<<18|(a&63)<<12|(l&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const a=e[n++],l=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return t.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],l=r+1<e.length,o=l?e[r+1]:0,c=r+2<e.length,h=c?e[r+2]:0,p=a>>2,y=(a&3)<<4|o>>4;let v=(o&15)<<2|h>>6,N=h&63;c||(N=64,l||(v=64)),i.push(n[p],n[y],n[v],n[N])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(x_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):A1(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const h=r<e.length?n[e.charAt(r)]:64;++r;const y=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||o==null||h==null||y==null)throw new w1;const v=a<<2|o>>4;if(i.push(v),h!==64){const N=o<<4&240|h>>2;if(i.push(N),y!==64){const z=h<<6&192|y;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class w1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N1=function(e){const t=x_(e);return D_.encodeByteArray(t,!0)},R_=function(e){return N1(e).replace(/\./g,"")},z_=function(e){try{return D_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=()=>O1().__FIREBASE_DEFAULTS__,x1=()=>{if(typeof process>"u"||typeof _g>"u")return;const e=_g.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},D1=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&z_(e[1]);return t&&JSON.parse(t)},Yd=()=>{try{return C1()||x1()||D1()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},k_=e=>{var t,n;return(n=(t=Yd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},R1=e=>{const t=k_(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},I_=()=>{var e;return(e=Yd())===null||e===void 0?void 0:e.config},M_=e=>{var t;return(t=Yd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L1(){const e=_t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="FirebaseError";class zn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=B1,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],l=a?P1(a,i):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new zn(r,o,i)}}function P1(e,t){return e.replace(Z1,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Z1=/\{\$([^}]+)}/g;function V1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],l=t[r];if(bg(a)&&bg(l)){if(!zu(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function bg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function G1(e,t){const n=new q1(e,t);return n.subscribe.bind(n)}class q1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$1(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=df),r.error===void 0&&(r.error=df),r.complete===void 0&&(r.complete=df);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $1(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(e){return e&&e._delegate?e._delegate:e}class rr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new z1;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(F1(t))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=Cr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cr){return this.instances.has(t)}getOptions(t=Cr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&l.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Y1(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Cr){return this.component?this.component.multipleInstances?t:Cr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y1(e){return e===Cr?void 0:e}function F1(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new X1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(fe||(fe={}));const Q1={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},J1=fe.INFO,W1={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},eA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=W1[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fd{constructor(t){this.name=t,this._logLevel=J1,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Q1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const tA=(e,t)=>t.some(n=>e instanceof n);let Sg,Eg;function nA(){return Sg||(Sg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iA(){return Eg||(Eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,Dh=new WeakMap,L_=new WeakMap,pf=new WeakMap,Kd=new WeakMap;function rA(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{n(Qi(e.result)),r()},l=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&U_.set(n,e)}).catch(()=>{}),Kd.set(t,e),t}function aA(e){if(Dh.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Dh.set(e,t)}let Rh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Dh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||L_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sA(e){Rh=e(Rh)}function lA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(mf(this),t,...n);return L_.set(i,t.sort?t.sort():[t]),Qi(i)}:iA().includes(e)?function(...t){return e.apply(mf(this),t),Qi(U_.get(this))}:function(...t){return Qi(e.apply(mf(this),t))}}function oA(e){return typeof e=="function"?lA(e):(e instanceof IDBTransaction&&aA(e),tA(e,nA())?new Proxy(e,Rh):e)}function Qi(e){if(e instanceof IDBRequest)return rA(e);if(pf.has(e))return pf.get(e);const t=oA(e);return t!==e&&(pf.set(e,t),Kd.set(t,e)),t}const mf=e=>Kd.get(e);function uA(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(e,t),o=Qi(l);return i&&l.addEventListener("upgradeneeded",c=>{i(Qi(l.result),c.oldVersion,c.newVersion,Qi(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const cA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],gf=new Map;function Tg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gf.get(t))return gf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=fA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||cA.includes(n)))return;const a=async function(l,...o){const c=this.transaction(l,r?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),r&&c.done]))[0]};return gf.set(t,a),a}sA(e=>({...e,get:(t,n,i)=>Tg(t,n)||e.get(t,n,i),has:(t,n)=>!!Tg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function dA(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zh="@firebase/app",Ag="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Fd("@firebase/app"),pA="@firebase/app-compat",mA="@firebase/analytics-compat",gA="@firebase/analytics",vA="@firebase/app-check-compat",yA="@firebase/app-check",_A="@firebase/auth",bA="@firebase/auth-compat",SA="@firebase/database",EA="@firebase/data-connect",TA="@firebase/database-compat",AA="@firebase/functions",wA="@firebase/functions-compat",NA="@firebase/installations",OA="@firebase/installations-compat",CA="@firebase/messaging",xA="@firebase/messaging-compat",DA="@firebase/performance",RA="@firebase/performance-compat",zA="@firebase/remote-config",kA="@firebase/remote-config-compat",IA="@firebase/storage",MA="@firebase/storage-compat",UA="@firebase/firestore",LA="@firebase/vertexai-preview",jA="@firebase/firestore-compat",HA="firebase",BA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",PA={[zh]:"fire-core",[pA]:"fire-core-compat",[gA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[vA]:"fire-app-check-compat",[_A]:"fire-auth",[bA]:"fire-auth-compat",[SA]:"fire-rtdb",[EA]:"fire-data-connect",[TA]:"fire-rtdb-compat",[AA]:"fire-fn",[wA]:"fire-fn-compat",[NA]:"fire-iid",[OA]:"fire-iid-compat",[CA]:"fire-fcm",[xA]:"fire-fcm-compat",[DA]:"fire-perf",[RA]:"fire-perf-compat",[zA]:"fire-rc",[kA]:"fire-rc-compat",[IA]:"fire-gcs",[MA]:"fire-gcs-compat",[UA]:"fire-fst",[jA]:"fire-fst-compat",[LA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,ZA=new Map,Ih=new Map;function wg(e,t){try{e.container.addComponent(t)}catch(n){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Hr(e){const t=e.name;if(Ih.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;Ih.set(t,e);for(const n of Nl.values())wg(n,e);for(const n of ZA.values())wg(n,e);return!0}function Qd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Zl("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=BA;function j_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:kh,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Ji.create("bad-app-name",{appName:String(r)});if(n||(n=I_()),!n)throw Ji.create("no-options");const a=Nl.get(r);if(a){if(zu(n,a.options)&&zu(i,a.config))return a;throw Ji.create("duplicate-app",{appName:r})}const l=new K1(r);for(const c of Ih.values())l.addComponent(c);const o=new GA(n,i,l);return Nl.set(r,o),o}function H_(e=kh){const t=Nl.get(e);if(!t&&e===kh&&I_())return j_();if(!t)throw Ji.create("no-app",{appName:e});return t}function qA(){return Array.from(Nl.values())}function On(e,t,n){var i;let r=(i=PA[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const o=[`Unable to register library "${r}" with version "${t}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&o.push("and"),l&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(o.join(" "));return}Hr(new rr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebase-heartbeat-database",XA=1,Ol="firebase-heartbeat-store";let vf=null;function B_(){return vf||(vf=uA($A,XA,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ji.create("idb-open",{originalErrorMessage:e.message})})),vf}async function YA(e){try{const n=(await B_()).transaction(Ol),i=await n.objectStore(Ol).get(P_(e));return await n.done,i}catch(t){if(t instanceof zn)oi.warn(t.message);else{const n=Ji.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(n.message)}}}async function Ng(e,t){try{const i=(await B_()).transaction(Ol,"readwrite");await i.objectStore(Ol).put(t,P_(e)),await i.done}catch(n){if(n instanceof zn)oi.warn(n.message);else{const i=Ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function P_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1024,KA=30*24*60*60*1e3;class QA{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Og();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const o=new Date(l.date).valueOf();return Date.now()-o<=KA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Og(),{heartbeatsToSend:i,unsentEntries:r}=JA(this._heartbeatsCache.heartbeats),a=R_(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return oi.warn(n),""}}}function Og(){return new Date().toISOString().substring(0,10)}function JA(e,t=FA){const n=[];let i=e.slice();for(const r of e){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Cg(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Cg(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class WA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Ng(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Cg(e){return R_(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e){Hr(new rr("platform-logger",t=>new hA(t),"PRIVATE")),Hr(new rr("heartbeat",t=>new QA(t),"PRIVATE")),On(zh,Ag,e),On(zh,Ag,"esm2017"),On("fire-js","")}e2("");var t2="firebase",n2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(t2,n2,"app");function Jd(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function Z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i2=Z_,V_=new Zl("auth","Firebase",Z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Fd("@firebase/auth");function r2(e,...t){ku.logLevel<=fe.WARN&&ku.warn(`Auth (${is}): ${e}`,...t)}function Ko(e,...t){ku.logLevel<=fe.ERROR&&ku.error(`Auth (${is}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,...t){throw Wd(e,...t)}function Cn(e,...t){return Wd(e,...t)}function G_(e,t,n){const i=Object.assign(Object.assign({},i2()),{[t]:n});return new Zl("auth","Firebase",i).create(t,{appName:e.name})}function Wi(e){return G_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wd(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return V_.create(e,...t)}function K(e,t,...n){if(!e)throw Wd(t,...n)}function Qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function ci(e,t){e||Qn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function a2(){return xg()==="http:"||xg()==="https:"}function xg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a2()||M1()||"connection"in navigator)?navigator.onLine:!0}function l2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,ci(n>t,"Short delay should be less than long delay!"),this.isMobile=k1()||U1()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(e,t){ci(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Gl(3e4,6e4);function cc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rs(e,t,n,i,r={}){return $_(e,r,async()=>{let a={},l={};i&&(t==="GET"?l=i:a={body:JSON.stringify(i)});const o=Vl(Object.assign({key:e.config.apiKey},l)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const h=Object.assign({method:t,headers:c},a);return I1()||(h.referrerPolicy="no-referrer"),q_.fetch()(Y_(e,e.config.apiHost,n,o),h)})}async function $_(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},o2),t);try{const r=new c2(e),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw wo(e,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const o=a.ok?l.errorMessage:l.error.message,[c,h]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wo(e,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw wo(e,"email-already-in-use",l);if(c==="USER_DISABLED")throw wo(e,"user-disabled",l);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw G_(e,p,h);ui(e,p)}}catch(r){if(r instanceof zn)throw r;ui(e,"network-request-failed",{message:String(r)})}}async function X_(e,t,n,i,r={}){const a=await rs(e,t,n,i,r);return"mfaPendingCredential"in a&&ui(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Y_(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?ep(e.config,r):`${e.config.apiScheme}://${r}`}class c2{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),u2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wo(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Cn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(e,t){return rs(e,"POST","/v1/accounts:delete",t)}async function F_(e,t){return rs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h2(e,t=!1){const n=_n(e),i=await n.getIdToken(t),r=tp(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:ll(yf(r.auth_time)),issuedAtTime:ll(yf(r.iat)),expirationTime:ll(yf(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yf(e){return Number(e)*1e3}function tp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{const r=z_(n);return r?JSON.parse(r):(Ko("Failed to decode base64 JWT payload"),null)}catch(r){return Ko("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Dg(e){const t=tp(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof zn&&d2(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function d2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Cl(e,F_(n,{idToken:i}));K(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const l=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?K_(a.providerUserInfo):[],o=g2(e.providerData,l),c=e.isAnonymous,h=!(e.email&&a.passwordHash)&&!(o!=null&&o.length),p=c?h:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Uh(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function m2(e){const t=_n(e);await Iu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g2(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function K_(e){return e.map(t=>{var{providerId:n}=t,i=Jd(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(e,t){const n=await $_(e,{},async()=>{const i=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:a}=e.config,l=Y_(e,r,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",q_.fetch()(l,{method:"POST",headers:o,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y2(e,t){return rs(e,"POST","/v2/accounts:revokeToken",cc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Dg(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=Dg(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await v2(t,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,l=new za;return i&&(K(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),a&&(K(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Jn{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,a=Jd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uh(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return h2(this,t)}reload(){return m2(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Iu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Cl(this,f2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,a,l,o,c,h,p;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,N=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,z=(l=n.photoURL)!==null&&l!==void 0?l:void 0,U=(o=n.tenantId)!==null&&o!==void 0?o:void 0,B=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,S=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:D,isAnonymous:j,providerData:V,stsTokenManager:_}=n;K(O&&_,t,"internal-error");const m=za.fromJSON(this.name,_);K(typeof O=="string",t,"internal-error"),Ni(y,t.name),Ni(v,t.name),K(typeof D=="boolean",t,"internal-error"),K(typeof j=="boolean",t,"internal-error"),Ni(N,t.name),Ni(z,t.name),Ni(U,t.name),Ni(B,t.name),Ni(A,t.name),Ni(S,t.name);const g=new Jn({uid:O,auth:t,email:v,emailVerified:D,displayName:y,isAnonymous:j,photoURL:z,phoneNumber:N,tenantId:U,stsTokenManager:m,createdAt:A,lastLoginAt:S});return V&&Array.isArray(V)&&(g.providerData=V.map(E=>Object.assign({},E))),B&&(g._redirectEventId=B),g}static async _fromIdTokenResponse(t,n,i=!1){const r=new za;r.updateFromServerResponse(n);const a=new Jn({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Iu(a),a}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?K_(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),o=new za;o.updateFromIdToken(i);const c=new Jn({uid:r.localId,auth:t,stsTokenManager:o,isAnonymous:l}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Uh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map;function Wn(e){ci(e instanceof Function,"Expected a class definition");let t=Rg.get(e);return t?(ci(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rg.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Q_.type="NONE";const zg=Q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e,t,n){return`firebase:${e}:${t}:${n}`}class ka{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Qo(this.userKey,r.apiKey,a),this.fullPersistenceKey=Qo("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Jn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new ka(Wn(zg),t,i);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||Wn(zg);const l=Qo(i,t.config.apiKey,t.name);let o=null;for(const h of n)try{const p=await h._get(l);if(p){const y=Jn._fromJSON(t,p);h!==a&&(o=y),a=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new ka(a,t,i):(a=c[0],o&&await a._set(l,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new ka(a,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ib(t))return"Blackberry";if(rb(t))return"Webos";if(W_(t))return"Safari";if((t.includes("chrome/")||eb(t))&&!t.includes("edge/"))return"Chrome";if(nb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function J_(e=_t()){return/firefox\//i.test(e)}function W_(e=_t()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eb(e=_t()){return/crios\//i.test(e)}function tb(e=_t()){return/iemobile/i.test(e)}function nb(e=_t()){return/android/i.test(e)}function ib(e=_t()){return/blackberry/i.test(e)}function rb(e=_t()){return/webos/i.test(e)}function np(e=_t()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function _2(e=_t()){var t;return np(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function b2(){return L1()&&document.documentMode===10}function ab(e=_t()){return np(e)||nb(e)||rb(e)||ib(e)||/windows phone/i.test(e)||tb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e,t=[]){let n;switch(e){case"Browser":n=kg(_t());break;case"Worker":n=`${kg(_t())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=a=>new Promise((l,o)=>{try{const c=t(a);l(c)}catch(c){o(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(e,t={}){return rs(e,"GET","/v2/passwordPolicy",cc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class A2{constructor(t){var n,i,r,a;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:T2,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,a,l,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ig(this),this.idTokenSubscription=new Ig(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await F_(this,{idToken:t}),i=await Jn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(t);(!l||l===o)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Iu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=l2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Wi(this));const n=t?_n(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E2(this),n=new A2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Zl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await y2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wn(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,i,r);return()=>{l=!0,c()}}else{const c=t.addObserver(n);return()=>{l=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&r2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fc(e){return _n(e)}class Ig{constructor(t){this.auth=t,this.observer=null,this.addObserver=G1(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(e){ip=e}function O2(e){return ip.loadJS(e)}function C2(){return ip.gapiScript}function x2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(e,t){const n=Qd(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(zu(a,t??{}))return r;ui(r,"already-initialized")}return n.initialize({options:t})}function R2(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function z2(e,t,n){const i=fc(e);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,a=lb(t),{host:l,port:o}=k2(t),c=o===null?"":`:${o}`;i.config.emulator={url:`${a}//${l}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})}),I2()}function lb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function k2(e){const t=lb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:Mg(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Mg(l)}}}function Mg(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function I2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(t){return Qn("not implemented")}_linkToIdToken(t,n){return Qn("not implemented")}_getReauthenticationResolver(t){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(e,t){return X_(e,"POST","/v1/accounts:signInWithIdp",cc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="http://localhost";class Br extends ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Br(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,a=Jd(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Br(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const n=this.buildRequest();return Ia(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ia(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ia(t,n)}buildRequest(){const t={requestUri:M2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Vl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends ub{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends ql{constructor(){super("facebook.com")}static credential(t){return Br._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ki.credential(t.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Br._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ii.credentialFromTaggedObject(t)}static credentialFromError(t){return Ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ql{constructor(){super("github.com")}static credential(t){return Br._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mi.credential(t.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ql{constructor(){super("twitter.com")}static credential(t,n){return Br._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ui.credential(n,i)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const a=await Jn._fromIdTokenResponse(t,i,r),l=Ug(i);return new Pr({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=Ug(i);return new Pr({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function Ug(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends zn{constructor(t,n,i,r){var a;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new Mu(t,n,i,r)}}function cb(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(e,a,t,i):a})}async function U2(e,t,n=!1){const i=await Cl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(e,t,n=!1){const{auth:i}=e;if(Kn(i.app))return Promise.reject(Wi(i));const r="reauthenticate";try{const a=await Cl(e,cb(i,r,t,e),n);K(a.idToken,i,"internal-error");const l=tp(a.idToken);K(l,i,"internal-error");const{sub:o}=l;return K(e.uid===o,i,"user-mismatch"),Pr._forOperation(e,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ui(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(e,t,n=!1){if(Kn(e.app))return Promise.reject(Wi(e));const i="signIn",r=await cb(e,i,t),a=await Pr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(e,t){return X_(e,"POST","/v1/accounts:signInWithCustomToken",cc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(e,t){if(Kn(e.app))return Promise.reject(Wi(e));const n=fc(e),i=await H2(n,{token:t,returnSecureToken:!0}),r=await Pr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function P2(e,t,n,i){return _n(e).onIdTokenChanged(t,n,i)}function Z2(e,t,n){return _n(e).beforeAuthStateChanged(t,n)}function V2(e,t,n,i){return _n(e).onAuthStateChanged(t,n,i)}function G2(e){return _n(e).signOut()}const Uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=1e3,$2=10;class hb extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((l,o,c)=>{this.notifyListeners(l,c)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);b2()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,$2):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}hb.type="LOCAL";const X2=hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}db.type="SESSION";const pb=db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new hc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:a}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(l).map(async h=>h(n.origin,a)),c=await Y2(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((o,c)=>{const h=rp("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const v=y;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(v.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function K2(e){xn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function Q2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J2(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function W2(){return mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebaseLocalStorageDb",ew=1,Lu="firebaseLocalStorage",vb="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dc(e,t){return e.transaction([Lu],t?"readwrite":"readonly").objectStore(Lu)}function tw(){const e=indexedDB.deleteDatabase(gb);return new $l(e).toPromise()}function Lh(){const e=indexedDB.open(gb,ew);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Lu,{keyPath:vb})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Lu)?t(i):(i.close(),await tw(),t(await Lh()))})})}async function Lg(e,t,n){const i=dc(e,!0).put({[vb]:t,value:n});return new $l(i).toPromise()}async function nw(e,t){const n=dc(e,!1).get(t),i=await new $l(n).toPromise();return i===void 0?null:i.value}function jg(e,t){const n=dc(e,!0).delete(t);return new $l(n).toPromise()}const iw=800,rw=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lh(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>rw)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hc._getInstance(W2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Q2(),!this.activeServiceWorker)return;this.sender=new F2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||J2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Lh();return await Lg(t,Uu,"1"),await jg(t,Uu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lg(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>nw(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jg(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const a=dc(r,!1).getAll();return new $l(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:a}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const aw=yb;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(e,t){return t?Wn(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ob{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ia(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ia(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ia(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lw(e){return j2(e.auth,new ap(e),e.bypassAuthState)}function ow(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),L2(n,new ap(e),e.bypassAuthState)}async function uw(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),U2(n,new ap(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,i,r,a=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:l,type:o}=t;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lw;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return ow;default:ui(this.auth,"internal-error")}}resolve(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Gl(2e3,1e4);class Ea extends _b{constructor(t,n,i,r,a){super(t,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const t=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cw.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="pendingRedirect",Jo=new Map;class hw extends _b{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Jo.get(this.auth._key());if(!t){try{const i=await dw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Jo.set(this.auth._key(),t)}return this.bypassAuthState||Jo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dw(e,t){const n=gw(t),i=mw(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function pw(e,t){Jo.set(e._key(),t)}function mw(e){return Wn(e._redirectPersistence)}function gw(e){return Qo(fw,e.config.apiKey,e.name)}async function vw(e,t,n=!1){if(Kn(e.app))return Promise.reject(Wi(e));const i=fc(e),r=sw(i,t),l=await new hw(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=10*60*1e3;class _w{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!bb(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hg(t))}saveEventToCache(t){this.cachedEventUids.add(Hg(t)),this.lastProcessedEventTime=Date.now()}}function Hg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function bb({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bw(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(e,t={}){return rs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tw=/^https?/;async function Aw(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Sw(e);for(const n of t)try{if(ww(n))return}catch{}ui(e,"unauthorized-domain")}function ww(e){const t=Mh(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const l=new URL(e);return l.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!Tw.test(n))return!1;if(Ew.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Gl(3e4,6e4);function Bg(){const e=xn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Ow(e){return new Promise((t,n)=>{var i,r,a;function l(){Bg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Bg(),n(Cn(e,"network-request-failed"))},timeout:Nw.get()})}if(!((r=(i=xn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((a=xn().gapi)===null||a===void 0)&&a.load)l();else{const o=x2("iframefcb");return xn()[o]=()=>{gapi.load?l():n(Cn(e,"network-request-failed"))},O2(`${C2()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw Wo=null,t})}let Wo=null;function Cw(e){return Wo=Wo||Ow(e),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Gl(5e3,15e3),Dw="__/auth/iframe",Rw="emulator/auth/iframe",zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ep(t,Rw):`https://${e.config.authDomain}/${Dw}`,i={apiKey:t.apiKey,appName:e.name,v:is},r=kw.get(e.config.apiHost);r&&(i.eid=r);const a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Vl(i).slice(1)}`}async function Mw(e){const t=await Cw(e),n=xn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:Iw(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zw,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=Cn(e,"network-request-failed"),o=xn().setTimeout(()=>{a(l)},xw.get());function c(){xn().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lw=500,jw=600,Hw="_blank",Bw="http://localhost";class Pg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pw(e,t,n,i=Lw,r=jw){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c=Object.assign(Object.assign({},Uw),{width:i.toString(),height:r.toString(),top:a,left:l}),h=_t().toLowerCase();n&&(o=eb(h)?Hw:n),J_(h)&&(t=t||Bw,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[N,z])=>`${v}${N}=${z},`,"");if(_2(h)&&o!=="_self")return Zw(t||"",o),new Pg(null);const y=window.open(t||"",o,p);K(y,e,"popup-blocked");try{y.focus()}catch{}return new Pg(y)}function Zw(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__/auth/handler",Gw="emulator/auth/handler",qw=encodeURIComponent("fac");async function Zg(e,t,n,i,r,a){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:is,eventId:r};if(t instanceof ub){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",V1(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof ql){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}e.tenantId&&(l.tid=e.tenantId);const o=l;for(const p of Object.keys(o))o[p]===void 0&&delete o[p];const c=await e._getAppCheckToken(),h=c?`#${qw}=${encodeURIComponent(c)}`:"";return`${$w(e)}?${Vl(o).slice(1)}${h}`}function $w({config:e}){return e.emulator?ep(e,Gw):`https://${e.authDomain}/${Vw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class Xw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pb,this._completeRedirectFn=vw,this._overrideRedirectResult=pw}async _openPopup(t,n,i,r){var a;ci((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Zg(t,n,i,Mh(),r);return Pw(t,l,rp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const a=await Zg(t,n,i,Mh(),r);return K2(a),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(ci(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Mw(t),i=new _w(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_f,{type:_f},r=>{var a;const l=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[_f];l!==void 0&&n(!!l),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Aw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||W_()||np()}}const Yw=Xw;var Vg="@firebase/auth",Gg="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qw(e){Hr(new rr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=i.options;K(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:l,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(e)},h=new w2(i,r,a,c);return R2(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Hr(new rr("auth-internal",t=>{const n=fc(t.getProvider("auth").getImmediate());return(i=>new Fw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Vg,Gg,Kw(e)),On(Vg,Gg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=5*60,Ww=M_("authIdTokenMaxAge")||Jw;let qg=null;const eN=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ww)return;const r=n==null?void 0:n.token;qg!==r&&(qg=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function tN(e=H_()){const t=Qd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=D2(e,{popupRedirectResolver:Yw,persistence:[aw,X2,pb]}),i=M_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=eN(a.toString());Z2(n,l,()=>l(n.currentUser)),P2(n,o=>l(o))}}const r=k_("auth");return r&&z2(n,`http://${r}`),n}function nN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}N2({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const a=Cn("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",nN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qw("Browser");var $g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sb;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,m){function g(){}g.prototype=m.prototype,_.D=m.prototype,_.prototype=new g,_.prototype.constructor=_,_.C=function(E,w,x){for(var b=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)b[Xe-2]=arguments[Xe];return m.prototype[w].apply(E,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(_,m,g){g||(g=0);var E=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)E[w]=m.charCodeAt(g++)|m.charCodeAt(g++)<<8|m.charCodeAt(g++)<<16|m.charCodeAt(g++)<<24;else for(w=0;16>w;++w)E[w]=m[g++]|m[g++]<<8|m[g++]<<16|m[g++]<<24;m=_.g[0],g=_.g[1],w=_.g[2];var x=_.g[3],b=m+(x^g&(w^x))+E[0]+3614090360&4294967295;m=g+(b<<7&4294967295|b>>>25),b=x+(w^m&(g^w))+E[1]+3905402710&4294967295,x=m+(b<<12&4294967295|b>>>20),b=w+(g^x&(m^g))+E[2]+606105819&4294967295,w=x+(b<<17&4294967295|b>>>15),b=g+(m^w&(x^m))+E[3]+3250441966&4294967295,g=w+(b<<22&4294967295|b>>>10),b=m+(x^g&(w^x))+E[4]+4118548399&4294967295,m=g+(b<<7&4294967295|b>>>25),b=x+(w^m&(g^w))+E[5]+1200080426&4294967295,x=m+(b<<12&4294967295|b>>>20),b=w+(g^x&(m^g))+E[6]+2821735955&4294967295,w=x+(b<<17&4294967295|b>>>15),b=g+(m^w&(x^m))+E[7]+4249261313&4294967295,g=w+(b<<22&4294967295|b>>>10),b=m+(x^g&(w^x))+E[8]+1770035416&4294967295,m=g+(b<<7&4294967295|b>>>25),b=x+(w^m&(g^w))+E[9]+2336552879&4294967295,x=m+(b<<12&4294967295|b>>>20),b=w+(g^x&(m^g))+E[10]+4294925233&4294967295,w=x+(b<<17&4294967295|b>>>15),b=g+(m^w&(x^m))+E[11]+2304563134&4294967295,g=w+(b<<22&4294967295|b>>>10),b=m+(x^g&(w^x))+E[12]+1804603682&4294967295,m=g+(b<<7&4294967295|b>>>25),b=x+(w^m&(g^w))+E[13]+4254626195&4294967295,x=m+(b<<12&4294967295|b>>>20),b=w+(g^x&(m^g))+E[14]+2792965006&4294967295,w=x+(b<<17&4294967295|b>>>15),b=g+(m^w&(x^m))+E[15]+1236535329&4294967295,g=w+(b<<22&4294967295|b>>>10),b=m+(w^x&(g^w))+E[1]+4129170786&4294967295,m=g+(b<<5&4294967295|b>>>27),b=x+(g^w&(m^g))+E[6]+3225465664&4294967295,x=m+(b<<9&4294967295|b>>>23),b=w+(m^g&(x^m))+E[11]+643717713&4294967295,w=x+(b<<14&4294967295|b>>>18),b=g+(x^m&(w^x))+E[0]+3921069994&4294967295,g=w+(b<<20&4294967295|b>>>12),b=m+(w^x&(g^w))+E[5]+3593408605&4294967295,m=g+(b<<5&4294967295|b>>>27),b=x+(g^w&(m^g))+E[10]+38016083&4294967295,x=m+(b<<9&4294967295|b>>>23),b=w+(m^g&(x^m))+E[15]+3634488961&4294967295,w=x+(b<<14&4294967295|b>>>18),b=g+(x^m&(w^x))+E[4]+3889429448&4294967295,g=w+(b<<20&4294967295|b>>>12),b=m+(w^x&(g^w))+E[9]+568446438&4294967295,m=g+(b<<5&4294967295|b>>>27),b=x+(g^w&(m^g))+E[14]+3275163606&4294967295,x=m+(b<<9&4294967295|b>>>23),b=w+(m^g&(x^m))+E[3]+4107603335&4294967295,w=x+(b<<14&4294967295|b>>>18),b=g+(x^m&(w^x))+E[8]+1163531501&4294967295,g=w+(b<<20&4294967295|b>>>12),b=m+(w^x&(g^w))+E[13]+2850285829&4294967295,m=g+(b<<5&4294967295|b>>>27),b=x+(g^w&(m^g))+E[2]+4243563512&4294967295,x=m+(b<<9&4294967295|b>>>23),b=w+(m^g&(x^m))+E[7]+1735328473&4294967295,w=x+(b<<14&4294967295|b>>>18),b=g+(x^m&(w^x))+E[12]+2368359562&4294967295,g=w+(b<<20&4294967295|b>>>12),b=m+(g^w^x)+E[5]+4294588738&4294967295,m=g+(b<<4&4294967295|b>>>28),b=x+(m^g^w)+E[8]+2272392833&4294967295,x=m+(b<<11&4294967295|b>>>21),b=w+(x^m^g)+E[11]+1839030562&4294967295,w=x+(b<<16&4294967295|b>>>16),b=g+(w^x^m)+E[14]+4259657740&4294967295,g=w+(b<<23&4294967295|b>>>9),b=m+(g^w^x)+E[1]+2763975236&4294967295,m=g+(b<<4&4294967295|b>>>28),b=x+(m^g^w)+E[4]+1272893353&4294967295,x=m+(b<<11&4294967295|b>>>21),b=w+(x^m^g)+E[7]+4139469664&4294967295,w=x+(b<<16&4294967295|b>>>16),b=g+(w^x^m)+E[10]+3200236656&4294967295,g=w+(b<<23&4294967295|b>>>9),b=m+(g^w^x)+E[13]+681279174&4294967295,m=g+(b<<4&4294967295|b>>>28),b=x+(m^g^w)+E[0]+3936430074&4294967295,x=m+(b<<11&4294967295|b>>>21),b=w+(x^m^g)+E[3]+3572445317&4294967295,w=x+(b<<16&4294967295|b>>>16),b=g+(w^x^m)+E[6]+76029189&4294967295,g=w+(b<<23&4294967295|b>>>9),b=m+(g^w^x)+E[9]+3654602809&4294967295,m=g+(b<<4&4294967295|b>>>28),b=x+(m^g^w)+E[12]+3873151461&4294967295,x=m+(b<<11&4294967295|b>>>21),b=w+(x^m^g)+E[15]+530742520&4294967295,w=x+(b<<16&4294967295|b>>>16),b=g+(w^x^m)+E[2]+3299628645&4294967295,g=w+(b<<23&4294967295|b>>>9),b=m+(w^(g|~x))+E[0]+4096336452&4294967295,m=g+(b<<6&4294967295|b>>>26),b=x+(g^(m|~w))+E[7]+1126891415&4294967295,x=m+(b<<10&4294967295|b>>>22),b=w+(m^(x|~g))+E[14]+2878612391&4294967295,w=x+(b<<15&4294967295|b>>>17),b=g+(x^(w|~m))+E[5]+4237533241&4294967295,g=w+(b<<21&4294967295|b>>>11),b=m+(w^(g|~x))+E[12]+1700485571&4294967295,m=g+(b<<6&4294967295|b>>>26),b=x+(g^(m|~w))+E[3]+2399980690&4294967295,x=m+(b<<10&4294967295|b>>>22),b=w+(m^(x|~g))+E[10]+4293915773&4294967295,w=x+(b<<15&4294967295|b>>>17),b=g+(x^(w|~m))+E[1]+2240044497&4294967295,g=w+(b<<21&4294967295|b>>>11),b=m+(w^(g|~x))+E[8]+1873313359&4294967295,m=g+(b<<6&4294967295|b>>>26),b=x+(g^(m|~w))+E[15]+4264355552&4294967295,x=m+(b<<10&4294967295|b>>>22),b=w+(m^(x|~g))+E[6]+2734768916&4294967295,w=x+(b<<15&4294967295|b>>>17),b=g+(x^(w|~m))+E[13]+1309151649&4294967295,g=w+(b<<21&4294967295|b>>>11),b=m+(w^(g|~x))+E[4]+4149444226&4294967295,m=g+(b<<6&4294967295|b>>>26),b=x+(g^(m|~w))+E[11]+3174756917&4294967295,x=m+(b<<10&4294967295|b>>>22),b=w+(m^(x|~g))+E[2]+718787259&4294967295,w=x+(b<<15&4294967295|b>>>17),b=g+(x^(w|~m))+E[9]+3951481745&4294967295,_.g[0]=_.g[0]+m&4294967295,_.g[1]=_.g[1]+(w+(b<<21&4294967295|b>>>11))&4294967295,_.g[2]=_.g[2]+w&4294967295,_.g[3]=_.g[3]+x&4294967295}i.prototype.u=function(_,m){m===void 0&&(m=_.length);for(var g=m-this.blockSize,E=this.B,w=this.h,x=0;x<m;){if(w==0)for(;x<=g;)r(this,_,x),x+=this.blockSize;if(typeof _=="string"){for(;x<m;)if(E[w++]=_.charCodeAt(x++),w==this.blockSize){r(this,E),w=0;break}}else for(;x<m;)if(E[w++]=_[x++],w==this.blockSize){r(this,E),w=0;break}}this.h=w,this.o+=m},i.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var m=1;m<_.length-8;++m)_[m]=0;var g=8*this.o;for(m=_.length-8;m<_.length;++m)_[m]=g&255,g/=256;for(this.u(_),_=Array(16),m=g=0;4>m;++m)for(var E=0;32>E;E+=8)_[g++]=this.g[m]>>>E&255;return _};function a(_,m){var g=o;return Object.prototype.hasOwnProperty.call(g,_)?g[_]:g[_]=m(_)}function l(_,m){this.h=m;for(var g=[],E=!0,w=_.length-1;0<=w;w--){var x=_[w]|0;E&&x==m||(g[w]=x,E=!1)}this.g=g}var o={};function c(_){return-128<=_&&128>_?a(_,function(m){return new l([m|0],0>m?-1:0)}):new l([_|0],0>_?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return y;if(0>_)return B(h(-_));for(var m=[],g=1,E=0;_>=g;E++)m[E]=_/g|0,g*=4294967296;return new l(m,0)}function p(_,m){if(_.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(_.charAt(0)=="-")return B(p(_.substring(1),m));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=h(Math.pow(m,8)),E=y,w=0;w<_.length;w+=8){var x=Math.min(8,_.length-w),b=parseInt(_.substring(w,w+x),m);8>x?(x=h(Math.pow(m,x)),E=E.j(x).add(h(b))):(E=E.j(g),E=E.add(h(b)))}return E}var y=c(0),v=c(1),N=c(16777216);e=l.prototype,e.m=function(){if(U(this))return-B(this).m();for(var _=0,m=1,g=0;g<this.g.length;g++){var E=this.i(g);_+=(0<=E?E:4294967296+E)*m,m*=4294967296}return _},e.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(z(this))return"0";if(U(this))return"-"+B(this).toString(_);for(var m=h(Math.pow(_,6)),g=this,E="";;){var w=D(g,m).g;g=A(g,w.j(m));var x=((0<g.g.length?g.g[0]:g.h)>>>0).toString(_);if(g=w,z(g))return x+E;for(;6>x.length;)x="0"+x;E=x+E}},e.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function z(_){if(_.h!=0)return!1;for(var m=0;m<_.g.length;m++)if(_.g[m]!=0)return!1;return!0}function U(_){return _.h==-1}e.l=function(_){return _=A(this,_),U(_)?-1:z(_)?0:1};function B(_){for(var m=_.g.length,g=[],E=0;E<m;E++)g[E]=~_.g[E];return new l(g,~_.h).add(v)}e.abs=function(){return U(this)?B(this):this},e.add=function(_){for(var m=Math.max(this.g.length,_.g.length),g=[],E=0,w=0;w<=m;w++){var x=E+(this.i(w)&65535)+(_.i(w)&65535),b=(x>>>16)+(this.i(w)>>>16)+(_.i(w)>>>16);E=b>>>16,x&=65535,b&=65535,g[w]=b<<16|x}return new l(g,g[g.length-1]&-2147483648?-1:0)};function A(_,m){return _.add(B(m))}e.j=function(_){if(z(this)||z(_))return y;if(U(this))return U(_)?B(this).j(B(_)):B(B(this).j(_));if(U(_))return B(this.j(B(_)));if(0>this.l(N)&&0>_.l(N))return h(this.m()*_.m());for(var m=this.g.length+_.g.length,g=[],E=0;E<2*m;E++)g[E]=0;for(E=0;E<this.g.length;E++)for(var w=0;w<_.g.length;w++){var x=this.i(E)>>>16,b=this.i(E)&65535,Xe=_.i(w)>>>16,Le=_.i(w)&65535;g[2*E+2*w]+=b*Le,S(g,2*E+2*w),g[2*E+2*w+1]+=x*Le,S(g,2*E+2*w+1),g[2*E+2*w+1]+=b*Xe,S(g,2*E+2*w+1),g[2*E+2*w+2]+=x*Xe,S(g,2*E+2*w+2)}for(E=0;E<m;E++)g[E]=g[2*E+1]<<16|g[2*E];for(E=m;E<2*m;E++)g[E]=0;return new l(g,0)};function S(_,m){for(;(_[m]&65535)!=_[m];)_[m+1]+=_[m]>>>16,_[m]&=65535,m++}function O(_,m){this.g=_,this.h=m}function D(_,m){if(z(m))throw Error("division by zero");if(z(_))return new O(y,y);if(U(_))return m=D(B(_),m),new O(B(m.g),B(m.h));if(U(m))return m=D(_,B(m)),new O(B(m.g),m.h);if(30<_.g.length){if(U(_)||U(m))throw Error("slowDivide_ only works with positive integers.");for(var g=v,E=m;0>=E.l(_);)g=j(g),E=j(E);var w=V(g,1),x=V(E,1);for(E=V(E,2),g=V(g,2);!z(E);){var b=x.add(E);0>=b.l(_)&&(w=w.add(g),x=b),E=V(E,1),g=V(g,1)}return m=A(_,w.j(m)),new O(w,m)}for(w=y;0<=_.l(m);){for(g=Math.max(1,Math.floor(_.m()/m.m())),E=Math.ceil(Math.log(g)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),x=h(g),b=x.j(m);U(b)||0<b.l(_);)g-=E,x=h(g),b=x.j(m);z(x)&&(x=v),w=w.add(x),_=A(_,b)}return new O(w,_)}e.A=function(_){return D(this,_).h},e.and=function(_){for(var m=Math.max(this.g.length,_.g.length),g=[],E=0;E<m;E++)g[E]=this.i(E)&_.i(E);return new l(g,this.h&_.h)},e.or=function(_){for(var m=Math.max(this.g.length,_.g.length),g=[],E=0;E<m;E++)g[E]=this.i(E)|_.i(E);return new l(g,this.h|_.h)},e.xor=function(_){for(var m=Math.max(this.g.length,_.g.length),g=[],E=0;E<m;E++)g[E]=this.i(E)^_.i(E);return new l(g,this.h^_.h)};function j(_){for(var m=_.g.length+1,g=[],E=0;E<m;E++)g[E]=_.i(E)<<1|_.i(E-1)>>>31;return new l(g,_.h)}function V(_,m){var g=m>>5;m%=32;for(var E=_.g.length-g,w=[],x=0;x<E;x++)w[x]=0<m?_.i(x+g)>>>m|_.i(x+g+1)<<32-m:_.i(x+g);return new l(w,_.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Sb=l}).apply(typeof $g<"u"?$g:typeof self<"u"?self:typeof window<"u"?window:{});var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,u,f){return s==Array.prototype||s==Object.prototype||(s[u]=f.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof No=="object"&&No];for(var u=0;u<s.length;++u){var f=s[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(s,u){if(u)e:{var f=i;s=s.split(".");for(var d=0;d<s.length-1;d++){var R=s[d];if(!(R in f))break e;f=f[R]}s=s[s.length-1],d=f[s],u=u(d),u!=d&&u!=null&&t(f,s,{configurable:!0,writable:!0,value:u})}}function a(s,u){s instanceof String&&(s+="");var f=0,d=!1,R={next:function(){if(!d&&f<s.length){var k=f++;return{value:u(k,s[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(s){return s||function(){return a(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},o=this||self;function c(s){var u=typeof s;return u=u!="object"?u:s?Array.isArray(s)?"array":u:"null",u=="array"||u=="object"&&typeof s.length=="number"}function h(s){var u=typeof s;return u=="object"&&s!=null||u=="function"}function p(s,u,f){return s.call.apply(s.bind,arguments)}function y(s,u,f){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,d),s.apply(u,R)}}return function(){return s.apply(u,arguments)}}function v(s,u,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function N(s,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function z(s,u){function f(){}f.prototype=u.prototype,s.aa=u.prototype,s.prototype=new f,s.prototype.constructor=s,s.Qb=function(d,R,k){for(var H=Array(arguments.length-2),me=2;me<arguments.length;me++)H[me-2]=arguments[me];return u.prototype[R].apply(d,H)}}function U(s){const u=s.length;if(0<u){const f=Array(u);for(let d=0;d<u;d++)f[d]=s[d];return f}return[]}function B(s,u){for(let f=1;f<arguments.length;f++){const d=arguments[f];if(c(d)){const R=s.length||0,k=d.length||0;s.length=R+k;for(let H=0;H<k;H++)s[R+H]=d[H]}else s.push(d)}}class A{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function S(s){return/^[\s\xa0]*$/.test(s)}function O(){var s=o.navigator;return s&&(s=s.userAgent)?s:""}function D(s){return D[" "](s),s}D[" "]=function(){};var j=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function V(s,u,f){for(const d in s)u.call(f,s[d],d,s)}function _(s,u){for(const f in s)u.call(void 0,s[f],f,s)}function m(s){const u={};for(const f in s)u[f]=s[f];return u}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(s,u){let f,d;for(let R=1;R<arguments.length;R++){d=arguments[R];for(f in d)s[f]=d[f];for(let k=0;k<g.length;k++)f=g[k],Object.prototype.hasOwnProperty.call(d,f)&&(s[f]=d[f])}}function w(s){var u=1;s=s.split(":");const f=[];for(;0<u&&s.length;)f.push(s.shift()),u--;return s.length&&f.push(s.join(":")),f}function x(s){o.setTimeout(()=>{throw s},0)}function b(){var s=ue;let u=null;return s.g&&(u=s.g,s.g=s.g.next,s.g||(s.h=null),u.next=null),u}class Xe{constructor(){this.h=this.g=null}add(u,f){const d=Le.get();d.set(u,f),this.h?this.h.next=d:this.g=d,this.h=d}}var Le=new A(()=>new P,s=>s.reset());class P{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let F,X=!1,ue=new Xe,ve=()=>{const s=o.Promise.resolve(void 0);F=()=>{s.then(ye)}};var ye=()=>{for(var s;s=b();){try{s.h.call(s.g)}catch(f){x(f)}var u=Le;u.j(s),100>u.h&&(u.h++,s.next=u.g,u.g=s)}X=!1};function ke(){this.s=this.s,this.C=this.C}ke.prototype.s=!1,ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(s,u){this.type=s,this.g=this.target=u,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var Gt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var s=!1,u=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const f=()=>{};o.addEventListener("test",f,u),o.removeEventListener("test",f,u)}catch{}return s}();function ae(s,u){if(J.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var f=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=u,u=s.relatedTarget){if(j){e:{try{D(u.nodeName);var R=!0;break e}catch{}R=!1}R||(u=null)}}else f=="mouseover"?u=s.fromElement:f=="mouseout"&&(u=s.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:cr[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&ae.aa.h.call(this)}}z(ae,J);var cr={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var hi="closure_listenable_"+(1e6*Math.random()|0),di=0;function Xl(s,u,f,d,R){this.listener=s,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.ha=R,this.key=++di,this.da=this.fa=!1}function pi(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function fr(s){this.src=s,this.g={},this.h=0}fr.prototype.add=function(s,u,f,d,R){var k=s.toString();s=this.g[k],s||(s=this.g[k]=[],this.h++);var H=bn(s,u,d,R);return-1<H?(u=s[H],f||(u.fa=!1)):(u=new Xl(u,this.src,k,!!d,R),u.fa=f,s.push(u)),u};function Kr(s,u){var f=u.type;if(f in s.g){var d=s.g[f],R=Array.prototype.indexOf.call(d,u,void 0),k;(k=0<=R)&&Array.prototype.splice.call(d,R,1),k&&(pi(u),s.g[f].length==0&&(delete s.g[f],s.h--))}}function bn(s,u,f,d){for(var R=0;R<s.length;++R){var k=s[R];if(!k.da&&k.listener==u&&k.capture==!!f&&k.ha==d)return R}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),sn={};function Qr(s,u,f,d,R){if(Array.isArray(u)){for(var k=0;k<u.length;k++)Qr(s,u[k],f,d,R);return null}return f=yi(f),s&&s[hi]?s.K(u,f,h(d)?!!d.capture:!1,R):ss(s,u,f,!1,d,R)}function ss(s,u,f,d,R,k){if(!u)throw Error("Invalid event type");var H=h(R)?!!R.capture:!!R,me=os(s);if(me||(s[mi]=me=new fr(s)),f=me.add(u,f,d,H,k),f.proxy)return f;if(d=gi(),f.proxy=d,d.src=s,d.listener=f,s.addEventListener)Gt||(R=H),R===void 0&&(R=!1),s.addEventListener(u.toString(),d,R);else if(s.attachEvent)s.attachEvent(ls(u.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gi(){function s(f){return u.call(s.src,s.listener,f)}const u=Yl;return s}function hr(s,u,f,d,R){if(Array.isArray(u))for(var k=0;k<u.length;k++)hr(s,u[k],f,d,R);else d=h(d)?!!d.capture:!!d,f=yi(f),s&&s[hi]?(s=s.i,u=String(u).toString(),u in s.g&&(k=s.g[u],f=bn(k,f,d,R),-1<f&&(pi(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete s.g[u],s.h--)))):s&&(s=os(s))&&(u=s.g[u.toString()],s=-1,u&&(s=bn(u,f,d,R)),(f=-1<s?u[s]:null)&&vi(f))}function vi(s){if(typeof s!="number"&&s&&!s.da){var u=s.src;if(u&&u[hi])Kr(u.i,s);else{var f=s.type,d=s.proxy;u.removeEventListener?u.removeEventListener(f,d,s.capture):u.detachEvent?u.detachEvent(ls(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=os(u))?(Kr(f,s),f.h==0&&(f.src=null,u[mi]=null)):pi(s)}}}function ls(s){return s in sn?sn[s]:sn[s]="on"+s}function Yl(s,u){if(s.da)s=!0;else{u=new ae(u,this);var f=s.listener,d=s.ha||s.src;s.fa&&vi(s),s=f.call(d,u)}return s}function os(s){return s=s[mi],s instanceof fr?s:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(s){return typeof s=="function"?s:(s[dr]||(s[dr]=function(u){return s.handleEvent(u)}),s[dr])}function xe(){ke.call(this),this.i=new fr(this),this.M=this,this.F=null}z(xe,ke),xe.prototype[hi]=!0,xe.prototype.removeEventListener=function(s,u,f,d){hr(this,s,u,f,d)};function _e(s,u){var f,d=s.F;if(d)for(f=[];d;d=d.F)f.push(d);if(s=s.M,d=u.type||u,typeof u=="string")u=new J(u,s);else if(u instanceof J)u.target=u.target||s;else{var R=u;u=new J(d,s),E(u,R)}if(R=!0,f)for(var k=f.length-1;0<=k;k--){var H=u.g=f[k];R=_i(H,d,!0,u)&&R}if(H=u.g=s,R=_i(H,d,!0,u)&&R,R=_i(H,d,!1,u)&&R,f)for(k=0;k<f.length;k++)H=u.g=f[k],R=_i(H,d,!1,u)&&R}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var s=this.i,u;for(u in s.g){for(var f=s.g[u],d=0;d<f.length;d++)pi(f[d]);delete s.g[u],s.h--}}this.F=null},xe.prototype.K=function(s,u,f,d){return this.i.add(String(s),u,!1,f,d)},xe.prototype.L=function(s,u,f,d){return this.i.add(String(s),u,!0,f,d)};function _i(s,u,f,d){if(u=s.i.g[String(u)],!u)return!0;u=u.concat();for(var R=!0,k=0;k<u.length;++k){var H=u[k];if(H&&!H.da&&H.capture==f){var me=H.listener,at=H.ha||H.src;H.fa&&Kr(s.i,H),R=me.call(at,d)!==!1&&R}}return R&&!d.defaultPrevented}function us(s,u,f){if(typeof s=="function")f&&(s=v(s,f));else if(s&&typeof s.handleEvent=="function")s=v(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:o.setTimeout(s,u||0)}function cs(s){s.g=us(()=>{s.g=null,s.i&&(s.i=!1,cs(s))},s.l);const u=s.h;s.h=null,s.m.apply(null,u)}class fs extends ke{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(s){ke.call(this),this.h=s,this.g={}}z(bi,ke);var pr=[];function mr(s){V(s.g,function(u,f){this.g.hasOwnProperty(f)&&vi(u)},s),s.g={}}bi.prototype.N=function(){bi.aa.N.call(this),mr(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=o.JSON.stringify,Si=o.JSON.parse,hs=class{stringify(s){return o.JSON.stringify(s,void 0)}parse(s){return o.JSON.parse(s,void 0)}};function gr(){}gr.prototype.h=null;function Fl(s){return s.h||(s.h=s.i())}function Jr(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ds(){J.call(this,"d")}z(ds,J);function In(){J.call(this,"c")}z(In,J);var Ei={},Kl=null;function De(){return Kl=Kl||new xe}Ei.La="serverreachability";function Mn(s){J.call(this,Ei.La,s)}z(Mn,J);function vr(s){const u=De();_e(u,new Mn(u))}Ei.STAT_EVENT="statevent";function ps(s,u){J.call(this,Ei.STAT_EVENT,s),this.stat=u}z(ps,J);function Ye(s){const u=De();_e(u,new ps(u,s))}Ei.Ma="timingevent";function ms(s,u){J.call(this,Ei.Ma,s),this.size=u}z(ms,J);function Ti(s,u){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){s()},u)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function qt(s,u,f,d,R,k){s.info(function(){if(s.g)if(k)for(var H="",me=k.split("&"),at=0;at<me.length;at++){var se=me[at].split("=");if(1<se.length){var ht=se[0];se=se[1];var dt=ht.split("_");H=2<=dt.length&&dt[1]=="type"?H+(ht+"="+se+"&"):H+(ht+"=redacted&")}}else H=null;else H=k;return"XMLHTTP REQ ("+d+") [attempt "+R+"]: "+u+`
`+f+`
`+H})}function Un(s,u,f,d,R,k,H){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+R+"]: "+u+`
`+f+`
`+k+" "+H})}function Ln(s,u,f,d){s.info(function(){return"XMLHTTP TEXT ("+u+"): "+gs(s,f)+(d?" "+d:"")})}function Ql(s,u){s.info(function(){return"TIMEOUT: "+u})}yr.prototype.info=function(){};function gs(s,u){if(!s.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(s=0;s<f.length;s++)if(Array.isArray(f[s])){var d=f[s];if(!(2>d.length)){var R=d[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var H=1;H<R.length;H++)R[H]=""}}}}return zt(f)}catch{return u}}var Wr={NO_ERROR:0,TIMEOUT:8},ln={},ea;function _r(){}z(_r,gr),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},ea=new _r;function on(s,u,f,d){this.j=s,this.i=u,this.l=f,this.R=d||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}var Jl={},q={};function C(s,u,f){s.L=1,s.v=to(jn(u)),s.m=f,s.P=!0,L(s,null)}function L(s,u){s.F=Date.now(),je(s),s.A=jn(s.v);var f=s.A,d=s.R;Array.isArray(d)||(d=[String(d)]),Np(f.i,"t",d),s.C=0,f=s.j.J,s.h=new vs,s.g=Gp(s.j,f?u:null,!s.m),0<s.O&&(s.M=new fs(v(s.Y,s,s.g),s.O)),u=s.U,f=s.g,d=s.ca;var R="readystatechange";Array.isArray(R)||(R&&(pr[0]=R.toString()),R=pr);for(var k=0;k<R.length;k++){var H=Qr(f,R[k],d||u.handleEvent,!1,u.h||u);if(!H)break;u.g[H.key]=H}u=s.H?m(s.H):{},s.m?(s.u||(s.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,u)):(s.u="GET",s.g.ea(s.A,s.u,null,u)),vr(),qt(s.i,s.u,s.A,s.l,s.R,s.m)}on.prototype.ca=function(s){s=s.target;const u=this.M;u&&Hn(s)==3?u.j():this.Y(s)},on.prototype.Y=function(s){try{if(s==this.g)e:{const dt=Hn(this.g);var u=this.g.Ba();const ia=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||kp(this.g)))){this.J||dt!=4||u==7||(u==8||0>=ia?vr(3):vr(2)),et(this);var f=this.g.Z();this.X=f;t:if(Z(this)){var d=kp(this.g);s="";var R=d.length,k=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Et(this),pt(this);var H="";break t}this.h.i=new o.TextDecoder}for(u=0;u<R;u++)this.h.h=!0,s+=this.h.i.decode(d[u],{stream:!(k&&u==R-1)});d.length=0,this.h.g+=s,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,Un(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,at=this.g;if((me=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(me)){var se=me;break t}}se=null}if(f=se)Ln(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,f);else{this.o=!1,this.s=3,Ye(12),Et(this),pt(this);break e}}if(this.P){f=!0;let un;for(;!this.J&&this.C<H.length;)if(un=be(this,H),un==q){dt==4&&(this.s=4,Ye(14),f=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Jl){this.s=4,Ye(15),Ln(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else Ln(this.i,this.l,un,null),br(this,un);if(Z(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||H.length!=0||this.h.h||(this.s=1,Ye(16),f=!1),this.o=this.o&&f,!f)Ln(this.i,this.l,H,"[Invalid Chunked Response]"),Et(this),pt(this);else if(0<H.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Oc(ht),ht.M=!0,Ye(11))}}else Ln(this.i,this.l,H,null),br(this,H);dt==4&&Et(this),this.o&&!this.J&&(dt==4?Bp(this.j,this):(this.o=!1,je(this)))}else HS(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Et(this),pt(this)}}}catch{}finally{}};function Z(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function be(s,u){var f=s.C,d=u.indexOf(`
`,f);return d==-1?q:(f=Number(u.substring(f,d)),isNaN(f)?Jl:(d+=1,d+f>u.length?q:(u=u.slice(d,d+f),s.C=d+f,u)))}on.prototype.cancel=function(){this.J=!0,Et(this)};function je(s){s.S=Date.now()+s.I,Re(s,s.I)}function Re(s,u){if(s.B!=null)throw Error("WatchDog timer not null");s.B=Ti(v(s.ba,s),u)}function et(s){s.B&&(o.clearTimeout(s.B),s.B=null)}on.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(Ql(this.i,this.A),this.L!=2&&(vr(),Ye(17)),Et(this),this.s=2,pt(this)):Re(this,this.S-s)};function pt(s){s.j.G==0||s.J||Bp(s.j,s)}function Et(s){et(s);var u=s.M;u&&typeof u.ma=="function"&&u.ma(),s.M=null,mr(s.U),s.g&&(u=s.g,s.g=null,u.abort(),u.ma())}function br(s,u){try{var f=s.j;if(f.G!=0&&(f.g==s||Ec(f.h,s))){if(!s.K&&Ec(f.h,s)&&f.G==3){try{var d=f.Da.g.parse(u)}catch{d=null}if(Array.isArray(d)&&d.length==3){var R=d;if(R[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<s.F)lo(f),ao(f);else break e;Nc(f),Ye(18)}}else f.za=R[1],0<f.za-f.T&&37500>R[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ti(v(f.Za,f),6e3));if(1>=vp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Er(f,11)}else if((s.K||f.g==s)&&lo(f),!S(u))for(R=f.Da.g.parse(u),u=0;u<R.length;u++){let se=R[u];if(f.T=se[0],se=se[1],f.G==2)if(se[0]=="c"){f.K=se[1],f.ia=se[2];const ht=se[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));const dt=se[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));const ia=se[5];ia!=null&&typeof ia=="number"&&0<ia&&(d=1.5*ia,f.L=d,f.j.info("backChannelRequestTimeoutMs_="+d)),d=f;const un=s.g;if(un){const oo=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var k=d.h;k.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Tc(k,k.h),k.h=null))}if(d.D){const Cc=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(d.ya=Cc,Te(d.I,d.D,Cc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-s.F,f.j.info("Handshake RTT: "+f.R+"ms")),d=f;var H=s;if(d.qa=Vp(d,d.J?d.ia:null,d.W),H.K){yp(d.h,H);var me=H,at=d.L;at&&(me.I=at),me.B&&(et(me),je(me)),d.g=H}else jp(d);0<f.i.length&&so(f)}else se[0]!="stop"&&se[0]!="close"||Er(f,7);else f.G==3&&(se[0]=="stop"||se[0]=="close"?se[0]=="stop"?Er(f,7):wc(f):se[0]!="noop"&&f.l&&f.l.ta(se),f.v=0)}}vr(4)}catch{}}var Fe=class{constructor(s,u){this.g=s,this.map=u}};function ys(s){this.l=s||10,o.PerformanceNavigationTiming?(s=o.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _s(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function vp(s){return s.h?1:s.g?s.g.size:0}function Ec(s,u){return s.h?s.h==u:s.g?s.g.has(u):!1}function Tc(s,u){s.g?s.g.add(u):s.h=u}function yp(s,u){s.h&&s.h==u?s.h=null:s.g&&s.g.has(u)&&s.g.delete(u)}ys.prototype.cancel=function(){if(this.i=_p(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function _p(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let u=s.i;for(const f of s.g.values())u=u.concat(f.D);return u}return U(s.i)}function AS(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(c(s)){for(var u=[],f=s.length,d=0;d<f;d++)u.push(s[d]);return u}u=[],f=0;for(d in s)u[f++]=s[d];return u}function wS(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(c(s)||typeof s=="string"){var u=[];s=s.length;for(var f=0;f<s;f++)u.push(f);return u}u=[],f=0;for(const d in s)u[f++]=d;return u}}}function bp(s,u){if(s.forEach&&typeof s.forEach=="function")s.forEach(u,void 0);else if(c(s)||typeof s=="string")Array.prototype.forEach.call(s,u,void 0);else for(var f=wS(s),d=AS(s),R=d.length,k=0;k<R;k++)u.call(void 0,d[k],f&&f[k],s)}var Sp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NS(s,u){if(s){s=s.split("&");for(var f=0;f<s.length;f++){var d=s[f].indexOf("="),R=null;if(0<=d){var k=s[f].substring(0,d);R=s[f].substring(d+1)}else k=s[f];u(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Sr(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Sr){this.h=s.h,Wl(this,s.j),this.o=s.o,this.g=s.g,eo(this,s.s),this.l=s.l;var u=s.i,f=new Es;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),Ep(this,f),this.m=s.m}else s&&(u=String(s).match(Sp))?(this.h=!1,Wl(this,u[1]||"",!0),this.o=bs(u[2]||""),this.g=bs(u[3]||"",!0),eo(this,u[4]),this.l=bs(u[5]||"",!0),Ep(this,u[6]||"",!0),this.m=bs(u[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Sr.prototype.toString=function(){var s=[],u=this.j;u&&s.push(Ss(u,Tp,!0),":");var f=this.g;return(f||u=="file")&&(s.push("//"),(u=this.o)&&s.push(Ss(u,Tp,!0),"@"),s.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&s.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&s.push("/"),s.push(Ss(f,f.charAt(0)=="/"?xS:CS,!0))),(f=this.i.toString())&&s.push("?",f),(f=this.m)&&s.push("#",Ss(f,RS)),s.join("")};function jn(s){return new Sr(s)}function Wl(s,u,f){s.j=f?bs(u,!0):u,s.j&&(s.j=s.j.replace(/:$/,""))}function eo(s,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);s.s=u}else s.s=null}function Ep(s,u,f){u instanceof Es?(s.i=u,zS(s.i,s.h)):(f||(u=Ss(u,DS)),s.i=new Es(u,s.h))}function Te(s,u,f){s.i.set(u,f)}function to(s){return Te(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function bs(s,u){return s?u?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ss(s,u,f){return typeof s=="string"?(s=encodeURI(s).replace(u,OS),f&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function OS(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Tp=/[#\/\?@]/g,CS=/[#\?:]/g,xS=/[#\?]/g,DS=/[#\?@]/g,RS=/#/g;function Es(s,u){this.h=this.g=null,this.i=s||null,this.j=!!u}function Ai(s){s.g||(s.g=new Map,s.h=0,s.i&&NS(s.i,function(u,f){s.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=Es.prototype,e.add=function(s,u){Ai(this),this.i=null,s=ta(this,s);var f=this.g.get(s);return f||this.g.set(s,f=[]),f.push(u),this.h+=1,this};function Ap(s,u){Ai(s),u=ta(s,u),s.g.has(u)&&(s.i=null,s.h-=s.g.get(u).length,s.g.delete(u))}function wp(s,u){return Ai(s),u=ta(s,u),s.g.has(u)}e.forEach=function(s,u){Ai(this),this.g.forEach(function(f,d){f.forEach(function(R){s.call(u,R,d,this)},this)},this)},e.na=function(){Ai(this);const s=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let d=0;d<u.length;d++){const R=s[d];for(let k=0;k<R.length;k++)f.push(u[d])}return f},e.V=function(s){Ai(this);let u=[];if(typeof s=="string")wp(this,s)&&(u=u.concat(this.g.get(ta(this,s))));else{s=Array.from(this.g.values());for(let f=0;f<s.length;f++)u=u.concat(s[f])}return u},e.set=function(s,u){return Ai(this),this.i=null,s=ta(this,s),wp(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[u]),this.h+=1,this},e.get=function(s,u){return s?(s=this.V(s),0<s.length?String(s[0]):u):u};function Np(s,u,f){Ap(s,u),0<f.length&&(s.i=null,s.g.set(ta(s,u),U(f)),s.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var d=u[f];const k=encodeURIComponent(String(d)),H=this.V(d);for(d=0;d<H.length;d++){var R=k;H[d]!==""&&(R+="="+encodeURIComponent(String(H[d]))),s.push(R)}}return this.i=s.join("&")};function ta(s,u){return u=String(u),s.j&&(u=u.toLowerCase()),u}function zS(s,u){u&&!s.j&&(Ai(s),s.i=null,s.g.forEach(function(f,d){var R=d.toLowerCase();d!=R&&(Ap(this,d),Np(this,R,f))},s)),s.j=u}function kS(s,u){const f=new yr;if(o.Image){const d=new Image;d.onload=N(wi,f,"TestLoadImage: loaded",!0,u,d),d.onerror=N(wi,f,"TestLoadImage: error",!1,u,d),d.onabort=N(wi,f,"TestLoadImage: abort",!1,u,d),d.ontimeout=N(wi,f,"TestLoadImage: timeout",!1,u,d),o.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else u(!1)}function IS(s,u){const f=new yr,d=new AbortController,R=setTimeout(()=>{d.abort(),wi(f,"TestPingServer: timeout",!1,u)},1e4);fetch(s,{signal:d.signal}).then(k=>{clearTimeout(R),k.ok?wi(f,"TestPingServer: ok",!0,u):wi(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(R),wi(f,"TestPingServer: error",!1,u)})}function wi(s,u,f,d,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),d(f)}catch{}}function MS(){this.g=new hs}function US(s,u,f){const d=f||"";try{bp(s,function(R,k){let H=R;h(R)&&(H=zt(R)),u.push(d+k+"="+encodeURIComponent(H))})}catch(R){throw u.push(d+"type="+encodeURIComponent("_badmap")),R}}function no(s){this.l=s.Ub||null,this.j=s.eb||!1}z(no,gr),no.prototype.g=function(){return new io(this.l,this.j)},no.prototype.i=function(s){return function(){return s}}({});function io(s,u){xe.call(this),this.D=s,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(io,xe),e=io.prototype,e.open=function(s,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=u,this.readyState=1,As(this)},e.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(u.body=s),(this.D||o).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},e.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Op(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Op(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}e.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var u=s.value?s.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!s.done}))&&(this.response=this.responseText+=u)}s.done?Ts(this):As(this),this.readyState==3&&Op(this)}},e.Ra=function(s){this.g&&(this.response=this.responseText=s,Ts(this))},e.Qa=function(s){this.g&&(this.response=s,Ts(this))},e.ga=function(){this.g&&Ts(this)};function Ts(s){s.readyState=4,s.l=null,s.j=null,s.v=null,As(s)}e.setRequestHeader=function(s,u){this.u.append(s,u)},e.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,s.push(f[0]+": "+f[1]),f=u.next();return s.join(`\r
`)};function As(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Cp(s){let u="";return V(s,function(f,d){u+=d,u+=":",u+=f,u+=`\r
`}),u}function Ac(s,u,f){e:{for(d in f){var d=!1;break e}d=!0}d||(f=Cp(f),typeof s=="string"?f!=null&&encodeURIComponent(String(f)):Te(s,u,f))}function He(s){xe.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(He,xe);var LS=/^https?$/i,jS=["POST","PUT"];e=He.prototype,e.Ha=function(s){this.J=s},e.ea=function(s,u,f,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);u=u?u.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ea.g(),this.v=this.o?Fl(this.o):Fl(ea),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(u,String(s),!0),this.B=!1}catch(k){xp(this,k);return}if(s=f||"",f=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var R in d)f.set(R,d[R]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const k of d.keys())f.set(k,d.get(k));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),R=o.FormData&&s instanceof o.FormData,!(0<=Array.prototype.indexOf.call(jS,u,void 0))||d||R||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,H]of f)this.g.setRequestHeader(k,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zp(this),this.u=!0,this.g.send(s),this.u=!1}catch(k){xp(this,k)}};function xp(s,u){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=u,s.m=5,Dp(s),ro(s)}function Dp(s){s.A||(s.A=!0,_e(s,"complete"),_e(s,"error"))}e.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,_e(this,"complete"),_e(this,"abort"),ro(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ro(this,!0)),He.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Rp(this):this.bb())},e.bb=function(){Rp(this)};function Rp(s){if(s.h&&typeof l<"u"&&(!s.v[1]||Hn(s)!=4||s.Z()!=2)){if(s.u&&Hn(s)==4)us(s.Ea,0,s);else if(_e(s,"readystatechange"),Hn(s)==4){s.h=!1;try{const H=s.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var f;if(!(f=u)){var d;if(d=H===0){var R=String(s.D).match(Sp)[1]||null;!R&&o.self&&o.self.location&&(R=o.self.location.protocol.slice(0,-1)),d=!LS.test(R?R.toLowerCase():"")}f=d}if(f)_e(s,"complete"),_e(s,"success");else{s.m=6;try{var k=2<Hn(s)?s.g.statusText:""}catch{k=""}s.l=k+" ["+s.Z()+"]",Dp(s)}}finally{ro(s)}}}}function ro(s,u){if(s.g){zp(s);const f=s.g,d=s.v[0]?()=>{}:null;s.g=null,s.v=null,u||_e(s,"ready");try{f.onreadystatechange=d}catch{}}}function zp(s){s.I&&(o.clearTimeout(s.I),s.I=null)}e.isActive=function(){return!!this.g};function Hn(s){return s.g?s.g.readyState:0}e.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(s){if(this.g){var u=this.g.responseText;return s&&u.indexOf(s)==0&&(u=u.substring(s.length)),Si(u)}};function kp(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function HS(s){const u={};s=(s.g&&2<=Hn(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<s.length;d++){if(S(s[d]))continue;var f=w(s[d]);const R=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const k=u[R]||[];u[R]=k,k.push(f)}_(u,function(d){return d.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(s,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[s]||u}function Ip(s){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,s),this.cb=ws("retryDelaySeedMs",1e4,s),this.Wa=ws("forwardChannelMaxRetries",2,s),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(s&&s.concurrentRequestLimit),this.Da=new MS,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ip.prototype,e.la=8,e.G=1,e.connect=function(s,u,f,d){Ye(0),this.W=s,this.H=u||{},f&&d!==void 0&&(this.H.OSID=f,this.H.OAID=d),this.F=this.X,this.I=Vp(this,null,this.W),so(this)};function wc(s){if(Mp(s),s.G==3){var u=s.U++,f=jn(s.I);if(Te(f,"SID",s.K),Te(f,"RID",u),Te(f,"TYPE","terminate"),Ns(s,f),u=new on(s,s.j,u),u.L=2,u.v=to(jn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&o.Image&&(new Image().src=u.v,f=!0),f||(u.g=Gp(u.j,null),u.g.ea(u.v)),u.F=Date.now(),je(u)}Zp(s)}function ao(s){s.g&&(Oc(s),s.g.cancel(),s.g=null)}function Mp(s){ao(s),s.u&&(o.clearTimeout(s.u),s.u=null),lo(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&o.clearTimeout(s.s),s.s=null)}function so(s){if(!_s(s.h)&&!s.s){s.s=!0;var u=s.Ga;F||ve(),X||(F(),X=!0),ue.add(u,s),s.B=0}}function BS(s,u){return vp(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=u.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=Ti(v(s.Ga,s,u),Pp(s,s.B)),s.B++,!0)}e.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const R=new on(this,this.j,s);let k=this.o;if(this.S&&(k?(k=m(k),E(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var u=0,f=0;f<this.i.length;f++){t:{var d=this.i[f];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(u+=d,4096<u){u=f;break e}if(u===4096||f===this.i.length-1){u=f+1;break e}}u=1e3}else u=1e3;u=Lp(this,R,u),f=jn(this.I),Te(f,"RID",s),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Ns(this,f),k&&(this.O?u="headers="+encodeURIComponent(String(Cp(k)))+"&"+u:this.m&&Ac(f,this.m,k)),Tc(this.h,R),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",u),Te(f,"SID","null"),R.T=!0,C(R,f,null)):C(R,f,u),this.G=2}}else this.G==3&&(s?Up(this,s):this.i.length==0||_s(this.h)||Up(this))};function Up(s,u){var f;u?f=u.l:f=s.U++;const d=jn(s.I);Te(d,"SID",s.K),Te(d,"RID",f),Te(d,"AID",s.T),Ns(s,d),s.m&&s.o&&Ac(d,s.m,s.o),f=new on(s,s.j,f,s.B+1),s.m===null&&(f.H=s.o),u&&(s.i=u.D.concat(s.i)),u=Lp(s,f,1e3),f.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Tc(s.h,f),C(f,d,u)}function Ns(s,u){s.H&&V(s.H,function(f,d){Te(u,d,f)}),s.l&&bp({},function(f,d){Te(u,d,f)})}function Lp(s,u,f){f=Math.min(s.i.length,f);var d=s.l?v(s.l.Na,s.l,s):null;e:{var R=s.i;let k=-1;for(;;){const H=["count="+f];k==-1?0<f?(k=R[0].g,H.push("ofs="+k)):k=0:H.push("ofs="+k);let me=!0;for(let at=0;at<f;at++){let se=R[at].g;const ht=R[at].map;if(se-=k,0>se)k=Math.max(0,R[at].g-100),me=!1;else try{US(ht,H,"req"+se+"_")}catch{d&&d(ht)}}if(me){d=H.join("&");break e}}}return s=s.i.splice(0,f),u.D=s,d}function jp(s){if(!s.g&&!s.u){s.Y=1;var u=s.Fa;F||ve(),X||(F(),X=!0),ue.add(u,s),s.v=0}}function Nc(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=Ti(v(s.Fa,s),Pp(s,s.v)),s.v++,!0)}e.Fa=function(){if(this.u=null,Hp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=Ti(v(this.ab,this),s)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),ao(this),Hp(this))};function Oc(s){s.A!=null&&(o.clearTimeout(s.A),s.A=null)}function Hp(s){s.g=new on(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var u=jn(s.qa);Te(u,"RID","rpc"),Te(u,"SID",s.K),Te(u,"AID",s.T),Te(u,"CI",s.F?"0":"1"),!s.F&&s.ja&&Te(u,"TO",s.ja),Te(u,"TYPE","xmlhttp"),Ns(s,u),s.m&&s.o&&Ac(u,s.m,s.o),s.L&&(s.g.I=s.L);var f=s.g;s=s.ia,f.L=1,f.v=to(jn(u)),f.m=null,f.P=!0,L(f,s)}e.Za=function(){this.C!=null&&(this.C=null,ao(this),Nc(this),Ye(19))};function lo(s){s.C!=null&&(o.clearTimeout(s.C),s.C=null)}function Bp(s,u){var f=null;if(s.g==u){lo(s),Oc(s),s.g=null;var d=2}else if(Ec(s.h,u))f=u.D,yp(s.h,u),d=1;else return;if(s.G!=0){if(u.o)if(d==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var R=s.B;d=De(),_e(d,new ms(d,f)),so(s)}else jp(s);else if(R=u.s,R==3||R==0&&0<u.X||!(d==1&&BS(s,u)||d==2&&Nc(s)))switch(f&&0<f.length&&(u=s.h,u.i=u.i.concat(f)),R){case 1:Er(s,5);break;case 4:Er(s,10);break;case 3:Er(s,6);break;default:Er(s,2)}}}function Pp(s,u){let f=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(f*=2),f*u}function Er(s,u){if(s.j.info("Error code "+u),u==2){var f=v(s.fb,s),d=s.Xa;const R=!d;d=new Sr(d||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wl(d,"https"),to(d),R?kS(d.toString(),f):IS(d.toString(),f)}else Ye(2);s.G=0,s.l&&s.l.sa(u),Zp(s),Mp(s)}e.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function Zp(s){if(s.G=0,s.ka=[],s.l){const u=_p(s.h);(u.length!=0||s.i.length!=0)&&(B(s.ka,u),B(s.ka,s.i),s.h.i.length=0,U(s.i),s.i.length=0),s.l.ra()}}function Vp(s,u,f){var d=f instanceof Sr?jn(f):new Sr(f);if(d.g!="")u&&(d.g=u+"."+d.g),eo(d,d.s);else{var R=o.location;d=R.protocol,u=u?u+"."+R.hostname:R.hostname,R=+R.port;var k=new Sr(null);d&&Wl(k,d),u&&(k.g=u),R&&eo(k,R),f&&(k.l=f),d=k}return f=s.D,u=s.ya,f&&u&&Te(d,f,u),Te(d,"VER",s.la),Ns(s,d),d}function Gp(s,u,f){if(u&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=s.Ca&&!s.pa?new He(new no({eb:f})):new He(s.pa),u.Ha(s.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qp(){}e=qp.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function $t(s,u){xe.call(this),this.g=new Ip(u),this.l=s,this.h=u&&u.messageUrlParams||null,s=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(s?s["X-WebChannel-Content-Type"]=u.messageContentType:s={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(s?s["X-WebChannel-Client-Profile"]=u.va:s={"X-WebChannel-Client-Profile":u.va}),this.g.S=s,(s=u&&u.Sb)&&!S(s)&&(this.g.m=s),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!S(u)&&(this.g.D=u,s=this.h,s!==null&&u in s&&(s=this.h,u in s&&delete s[u])),this.j=new na(this)}z($t,xe),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){wc(this.g)},$t.prototype.o=function(s){var u=this.g;if(typeof s=="string"){var f={};f.__data__=s,s=f}else this.u&&(f={},f.__data__=zt(s),s=f);u.i.push(new Fe(u.Ya++,s)),u.G==3&&so(u)},$t.prototype.N=function(){this.g.l=null,delete this.j,wc(this.g),delete this.g,$t.aa.N.call(this)};function $p(s){ds.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var u=s.__sm__;if(u){e:{for(const f in u){s=f;break e}s=void 0}(this.i=s)&&(s=this.i,u=u!==null&&s in u?u[s]:void 0),this.data=u}else this.data=s}z($p,ds);function Xp(){In.call(this),this.status=1}z(Xp,In);function na(s){this.g=s}z(na,qp),na.prototype.ua=function(){_e(this.g,"a")},na.prototype.ta=function(s){_e(this.g,new $p(s))},na.prototype.sa=function(s){_e(this.g,new Xp)},na.prototype.ra=function(){_e(this.g,"b")},$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,ln.COMPLETE="complete",Jr.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",xe.prototype.listen=xe.prototype.K,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha}).apply(typeof No<"u"?No:typeof self<"u"?self:typeof window<"u"?window:{});const Xg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Fd("@firebase/firestore");function gn(e,...t){if(ju.logLevel<=fe.DEBUG){const n=t.map(Tb);ju.debug(`Firestore (${pc}): ${e}`,...n)}}function Eb(e,...t){if(ju.logLevel<=fe.ERROR){const n=t.map(Tb);ju.error(`Firestore (${pc}): ${e}`,...n)}}function Tb(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(e="Unexpected state"){const t=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+e;throw Eb(t),new Error(t)}function ol(e,t){e||Ab()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class pn extends zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class aN{constructor(t){this.t=t,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ol(this.o===void 0);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let a=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ul,t.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const c=a;t.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{gn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(gn("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ul)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(gn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ol(typeof i.accessToken=="string"),new iN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ol(t===null||typeof t=="string"),new It(t)}}class sN{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lN{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new sN(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uN{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){ol(this.o===void 0);const i=a=>{a.error!=null&&gn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,gn("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{gn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):gn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ol(typeof n.token=="string"),this.R=n.token,new oN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cN(e){return e.name==="IndexedDbTransactionError"}class Hu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yg,re;(re=Yg||(Yg={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Sb([4294967295,4294967295],0);function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,i=1e3,r=1.5,a=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&gn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n,i,r,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,a){const l=Date.now()+i,o=new sp(t,n,l,r,a);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pn(dn.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Fg,Kg;(Kg=Fg||(Fg={})).ea="default",Kg.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map;function dN(e,t,n,i){if(t===!0&&i===!0)throw new pn(dn.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pn(dn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new pn(dn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pn(dn.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pN{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pn(dn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pn(dn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rN;switch(i.type){case"firstParty":return new lN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pn(dn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Qg.get(n);i&&(gn("ComponentProvider","Removing Datastore"),Qg.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fN(this,"async_queue_retry"),this.Vu=()=>{const i=bf();i&&gn("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=bf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=bf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ul;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!cN(t))throw t;gn("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const r=function(l){let o=l.message||"";return l.stack&&(o=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),o}(i);throw Eb("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const r=sp.createAndSchedule(this,t,n,i,a=>this.yu(a));return this.Tu.push(r),r}fu(){this.Eu&&Ab()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class mN extends pN{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new Wg,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wg(t),this._firestoreClient=void 0,await t}}}(function(t,n=!0){(function(r){pc=r})(is),Hr(new rr("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),o=new mN(new aN(i.getProvider("auth-internal")),new uN(i.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pn(dn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(h.options.projectId,p)}(l,r),l);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),On(Xg,"4.7.3",t),On(Xg,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="type.googleapis.com/google.protobuf.Int64Value",vN="type.googleapis.com/google.protobuf.UInt64Value";function wb(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function jh(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>jh(t));if(typeof e=="function"||typeof e=="object")return wb(e,t=>jh(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Bu(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case gN:case vN:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Bu(t)):typeof e=="function"||typeof e=="object"?wb(e,t=>Bu(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ma extends zn{constructor(t,n,i){super(`${lp}/${t}`,n||""),this.details=i}}function yN(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _N(e,t){let n=yN(e),i=n,r;try{const a=t&&t.error;if(a){const l=a.status;if(typeof l=="string"){if(!ev[l])return new Ma("internal","internal");n=ev[l],i=l}const o=a.message;typeof o=="string"&&(i=o),r=a.details,r!==void 0&&(r=Bu(r))}}catch{}return n==="ok"?null:new Ma(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="us-central1";function SN(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new Ma("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class EN{constructor(t,n,i,r,a=Hh,l){this.app=t,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new bN(n,i,r),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(a);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Hh}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function TN(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function AN(e,t,n){return i=>NN(e,t,i,{})}async function wN(e,t,n,i){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}function NN(e,t,n,i){const r=e._url(t);return ON(e,r,n,i)}async function ON(e,t,n,i){n=jh(n);const r={data:n},a={},l=await e.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const o=i.timeout||7e4,c=SN(o),h=await Promise.race([wN(t,r,a,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!h)throw new Ma("cancelled","Firebase Functions instance was deleted.");const p=_N(h.status,h.json);if(p)throw p;if(!h.json)throw new Ma("internal","Response is not valid JSON object.");let y=h.json.data;if(typeof y>"u"&&(y=h.json.result),typeof y>"u")throw new Ma("internal","Response is missing data field.");return{data:Bu(y)}}const tv="@firebase/functions",nv="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="auth-internal",xN="app-check-internal",DN="messaging-internal";function RN(e,t){const n=(i,{instanceIdentifier:r})=>{const a=i.getProvider("app").getImmediate(),l=i.getProvider(CN),o=i.getProvider(DN),c=i.getProvider(xN);return new EN(a,l,o,c,r,e)};Hr(new rr(lp,n,"PUBLIC").setMultipleInstances(!0)),On(tv,nv,t),On(tv,nv,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(e=H_(),t=Hh){const i=Qd(_n(e),lp).getImmediate({identifier:t}),r=R1("functions");return r&&Nb(i,...r),i}function Nb(e,t,n){TN(_n(e),t,n)}function Bh(e,t,n){return AN(_n(e),t)}RN(fetch.bind(self));const Ph={apiKey:"***REMOVED***",authDomain:"magic-internet-math-96630.firebaseapp.com",projectId:"magic-internet-math-96630",storageBucket:"magic-internet-math-96630.appspot.com",messagingSenderId:"***REMOVED***",appId:"1:***REMOVED***:web:072f6cb1724919360f94cb"},kN=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Oo=null,Sf=null,Co=null;function Ob(){if(!Oo){const e=qA();e.length>0?Oo=e[0]:Oo=j_(Ph)}return Oo}function Ef(){return Sf||(Sf=tN(Ob())),Sf}function Cb(){if(!Co&&(Co=zN(Ob()),kN&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{Nb(Co,"localhost",5001)}catch{}return Co}function $s(){return!!Ph.apiKey&&Ph.apiKey.length>10}const IN=22242,MN=5e3,UN=2e3,LN=3e4,jN=30*1e3,HN=2e3,BN=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class PN{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const a=console[t]||console.log;i!==void 0?a(r,i):a(r)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const Tf={};function kn(e){const t=e||"__default__";return Tf[t]||(Tf[t]=new PN(e)),Tf[t]}const xo=kn("NostrUtils"),Zh="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ZN=[996825010,642813549,513874426,1027748829,705979059];function xb(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let r=0;r<5;r++)i>>r&1&&(t^=ZN[r])}return t}function Db(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function VN(e,t){return xb([...Db(e),...t])===1}function GN(e,t){const n=[...Db(e),...t,0,0,0,0,0,0],i=xb(n)^1,r=[];for(let a=0;a<6;a++)r.push(i>>5*(5-a)&31);return r}function Rb(e,t,n,i){let r=0,a=0;const l=[],o=(1<<n)-1;for(const c of e){if(c<0||c>>t)return null;for(r=r<<t|c,a+=t;a>=n;)a-=n,l.push(r>>a&o)}if(i)a>0&&l.push(r<<n-a&o);else if(a>=t||r<<n-a&o)return null;return l}function qN(e,t){const n=Rb(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=GN(e,n);let r=e+"1";for(const a of n)r+=Zh[a];for(const a of i)r+=Zh[a];return r}function $N(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const a=i.slice(0,r),l=i.slice(r+1),o=[];for(const p of l){const y=Zh.indexOf(p);if(y===-1)return null;o.push(y)}if(!VN(a,o))return null;const c=o.slice(0,-6),h=Rb(new Uint8Array(c),5,8,!1);return h?{hrp:a,data:new Uint8Array(h)}:null}function XN(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function YN(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function FN(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=XN(e);return qN("npub",t)}function KN(e){const t=$N(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return YN(t.data)}function Pu(){return typeof window<"u"&&window.nostr!==void 0}function QN(e=3e3){return new Promise(t=>{if(Pu()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Pu()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function JN(e,t){return new Promise(n=>{let i=!1,r=null,a=null;const l=()=>{i||(i=!0,a&&(clearTimeout(a),a=null),r&&r.readyState!==WebSocket.CLOSED&&r.close())};a=setTimeout(()=>{xo.debug(`WebSocket timeout for relay: ${e}`),l(),n(null)},MN);try{r=new WebSocket(e)}catch(c){xo.debug(`Failed to create WebSocket for relay ${e}:`,c),l(),n(null);return}const o=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(i||!r)return;const c=JSON.stringify(["REQ",o,{kinds:[0],authors:[t],limit:1}]);r.send(c)},r.onmessage=c=>{if(!i)try{const h=JSON.parse(c.data);if(h[0]==="EVENT"&&h[1]===o){const p=JSON.parse(h[2].content);l(),n({name:p.name||p.display_name,display_name:p.display_name,nip05:p.nip05,picture:p.picture,about:p.about})}else h[0]==="EOSE"&&(l(),n(null))}catch(h){xo.debug(`Failed to parse WebSocket message from ${e}:`,h)}},r.onerror=c=>{xo.debug(`WebSocket error for relay ${e}:`,c),l(),n(null)},r.onclose=()=>{i||(l(),n(null))}})}const WN=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","calc_easy","wm","four_pillars","mom","euclid"];function eO(e){return WN.includes(e)}function M(e,t,n){function i(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const h=l.prototype,p=Object.keys(h);for(let y=0;y<p.length;y++){const v=p[y];v in o||(o[v]=h[v].bind(o))}}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:e});function l(o){var c;const h=n!=null&&n.Parent?new a:this;i(h,o),(c=h._zod).deferred??(c.deferred=[]);for(const p of h._zod.deferred)p();return h}return Object.defineProperty(l,"init",{value:i}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,h;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(h=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:h.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class Ua extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class zb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const kb={};function ar(e){return kb}function Ib(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>t.indexOf(+i)===-1).map(([i,r])=>r)}function Vh(e,t){return typeof t=="bigint"?t.toString():t}function op(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function up(e){return e==null}function cp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function tO(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const c=i.match(/\d?e-(\d?)/);c!=null&&c[1]&&(r=Number.parseInt(c[1]))}const a=n>r?n:r,l=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return l%o/10**a}const iv=Symbol("evaluating");function Ee(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==iv)return i===void 0&&(i=iv,i=n()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Xr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Yr(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function rv(e){return JSON.stringify(e)}function nO(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Mb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Zu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const iO=op(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ya(e){if(Zu(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Zu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Ub(e){return Ya(e)?{...e}:Array.isArray(e)?[...e]:e}const rO=new Set(["string","number","symbol"]);function mc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ur(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function aO(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const sO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function lO(e,t){const n=e._zod.def,i=Yr(e._zod.def,{get shape(){const r={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(r[a]=n.shape[a])}return Xr(this,"shape",r),r},checks:[]});return ur(e,i)}function oO(e,t){const n=e._zod.def,i=Yr(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete r[a]}return Xr(this,"shape",r),r},checks:[]});return ur(e,i)}function uO(e,t){if(!Ya(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Yr(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Xr(this,"shape",a),a},checks:[]});return ur(e,r)}function cO(e,t){if(!Ya(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const i={...e._zod.def.shape,...t};return Xr(this,"shape",i),i},checks:e._zod.def.checks};return ur(e,n)}function fO(e,t){const n=Yr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return Xr(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return ur(e,n)}function hO(e,t,n){const i=Yr(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in r))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=e?new e({type:"optional",innerType:r[l]}):r[l])}else for(const l in r)a[l]=e?new e({type:"optional",innerType:r[l]}):r[l];return Xr(this,"shape",a),a},checks:[]});return ur(t,i)}function dO(e,t,n){const i=Yr(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new e({type:"nonoptional",innerType:r[l]}))}else for(const l in r)a[l]=new e({type:"nonoptional",innerType:r[l]});return Xr(this,"shape",a),a},checks:[]});return ur(t,i)}function Ta(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Aa(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function Do(e){return typeof e=="string"?e:e==null?void 0:e.message}function sr(e,t,n){var r,a,l,o,c,h;const i={...e,path:e.path??[]};if(!e.message){const p=Do((l=(a=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,e))??Do((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??Do((c=n.customError)==null?void 0:c.call(n,e))??Do((h=n.localeError)==null?void 0:h.call(n,e))??"Invalid input";i.message=p}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function fp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function xl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const Lb=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Vh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},jb=M("$ZodError",Lb),Hb=M("$ZodError",Lb,{Parent:Error});function pO(e,t=n=>n.message){const n={},i=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function mO(e,t=n=>n.message){const n={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>i({issues:l}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let l=n,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(t(a))):l[c]=l[c]||{_errors:[]},l=l[c],o++}}};return i(e),n}const hp=e=>(t,n,i,r)=>{const a=i?Object.assign(i,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new Ua;if(l.issues.length){const o=new((r==null?void 0:r.Err)??e)(l.issues.map(c=>sr(c,a,ar())));throw Mb(o,r==null?void 0:r.callee),o}return l.value},dp=e=>async(t,n,i,r)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((r==null?void 0:r.Err)??e)(l.issues.map(c=>sr(c,a,ar())));throw Mb(o,r==null?void 0:r.callee),o}return l.value},gc=e=>(t,n,i)=>{const r=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new Ua;return a.issues.length?{success:!1,error:new(e??jb)(a.issues.map(l=>sr(l,r,ar())))}:{success:!0,data:a.value}},gO=gc(Hb),vc=e=>async(t,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(l=>sr(l,r,ar())))}:{success:!0,data:a.value}},vO=vc(Hb),yO=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return hp(e)(t,n,r)},_O=e=>(t,n,i)=>hp(e)(t,n,i),bO=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return dp(e)(t,n,r)},SO=e=>async(t,n,i)=>dp(e)(t,n,i),EO=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return gc(e)(t,n,r)},TO=e=>(t,n,i)=>gc(e)(t,n,i),AO=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return vc(e)(t,n,r)},wO=e=>async(t,n,i)=>vc(e)(t,n,i),NO=/^[cC][^\s-]{8,}$/,OO=/^[0-9a-z]+$/,CO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xO=/^[0-9a-vA-V]{20}$/,DO=/^[A-Za-z0-9]{27}$/,RO=/^[a-zA-Z0-9_-]{21}$/,zO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,kO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,av=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,MO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function UO(){return new RegExp(MO,"u")}const LO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,HO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,BO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Bb=/^[A-Za-z0-9_-]*$/,ZO=/^\+(?:[0-9]){6,14}[0-9]$/,Pb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",VO=new RegExp(`^${Pb}$`);function Zb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function GO(e){return new RegExp(`^${Zb(e)}$`)}function qO(e){const t=Zb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${Pb}T(?:${i})$`)}const $O=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},XO=/^-?\d+$/,YO=/^-?\d+(?:\.\d+)?/,FO=/^(?:true|false)$/i,KO=/^[^A-Z]*$/,QO=/^[^a-z]*$/,Rt=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Vb={number:"number",bigint:"bigint",object:"date"},Gb=M("$ZodCheckLessThan",(e,t)=>{Rt.init(e,t);const n=Vb[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qb=M("$ZodCheckGreaterThan",(e,t)=>{Rt.init(e,t);const n=Vb[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),JO=M("$ZodCheckMultipleOf",(e,t)=>{Rt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):tO(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),WO=M("$ZodCheckNumberFormat",(e,t)=>{var l;Rt.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),i=n?"int":"number",[r,a]=sO[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=r,c.maximum=a,n&&(c.pattern=XO)}),e._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort});return}}c<r&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),c>a&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:e})}}),e4=M("$ZodCheckMaxLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!up(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=t.maximum)return;const l=fp(r);i.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),t4=M("$ZodCheckMinLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!up(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=t.minimum)return;const l=fp(r);i.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),n4=M("$ZodCheckLengthEquals",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!up(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=i=>{const r=i.value,a=r.length;if(a===t.length)return;const l=fp(r),o=a>t.length;i.issues.push({origin:l,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),yc=M("$ZodCheckStringFormat",(e,t)=>{var n,i;Rt.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),i4=M("$ZodCheckRegex",(e,t)=>{yc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),r4=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=KO),yc.init(e,t)}),a4=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=QO),yc.init(e,t)}),s4=M("$ZodCheckIncludes",(e,t)=>{Rt.init(e,t);const n=mc(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),l4=M("$ZodCheckStartsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`^${mc(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),o4=M("$ZodCheckEndsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`.*${mc(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),u4=M("$ZodCheckOverwrite",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class c4{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(l=>l),r=Math.min(...i.map(l=>l.length-l.trimStart().length)),a=i.map(l=>l.slice(r)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}}const f4={major:4,minor:2,patch:1},Ue=M("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=f4;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const a of i)for(const l of a._zod.onattach)l(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,c,h)=>{let p=Ta(o),y;for(const v of c){if(v._zod.def.when){if(!v._zod.def.when(o))continue}else if(p)continue;const N=o.issues.length,z=v._zod.check(o);if(z instanceof Promise&&(h==null?void 0:h.async)===!1)throw new Ua;if(y||z instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await z,o.issues.length!==N&&(p||(p=Ta(o,N)))});else{if(o.issues.length===N)continue;p||(p=Ta(o,N))}}return y?y.then(()=>o):o},l=(o,c,h)=>{if(Ta(o))return o.aborted=!0,o;const p=a(c,i,h);if(p instanceof Promise){if(h.async===!1)throw new Ua;return p.then(y=>e._zod.parse(y,h))}return e._zod.parse(p,h)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const p=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return p instanceof Promise?p.then(y=>l(y,o,c)):l(p,o,c)}const h=e._zod.parse(o,c);if(h instanceof Promise){if(c.async===!1)throw new Ua;return h.then(p=>a(p,i,c))}return a(h,i,c)}}e["~standard"]={validate:a=>{var l;try{const o=gO(e,a);return o.success?{value:o.data}:{issues:(l=o.error)==null?void 0:l.issues}}catch{return vO(e,a).then(c=>{var h;return c.success?{value:c.data}:{issues:(h=c.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),pp=M("$ZodString",(e,t)=>{var n;Ue.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??$O(e._zod.bag),e._zod.parse=(i,r)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Ce=M("$ZodStringFormat",(e,t)=>{yc.init(e,t),pp.init(e,t)}),h4=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=kO),Ce.init(e,t)}),d4=M("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=av(i))}else t.pattern??(t.pattern=av());Ce.init(e,t)}),p4=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=IO),Ce.init(e,t)}),m4=M("$ZodURL",(e,t)=>{Ce.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),g4=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=UO()),Ce.init(e,t)}),v4=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=RO),Ce.init(e,t)}),y4=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=NO),Ce.init(e,t)}),_4=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=OO),Ce.init(e,t)}),b4=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=CO),Ce.init(e,t)}),S4=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=xO),Ce.init(e,t)}),E4=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=DO),Ce.init(e,t)}),T4=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=qO(t)),Ce.init(e,t)}),A4=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=VO),Ce.init(e,t)}),w4=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=GO(t)),Ce.init(e,t)}),N4=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=zO),Ce.init(e,t)}),O4=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=LO),Ce.init(e,t),e._zod.bag.format="ipv4"}),C4=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=jO),Ce.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),x4=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=HO),Ce.init(e,t)}),D4=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=BO),Ce.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[r,a]=i;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $b(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const R4=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=PO),Ce.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{$b(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function z4(e){if(!Bb.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $b(n)}const k4=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Bb),Ce.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{z4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),I4=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=ZO),Ce.init(e,t)});function M4(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const U4=M("$ZodJWT",(e,t)=>{Ce.init(e,t),e._zod.check=n=>{M4(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Xb=M("$ZodNumber",(e,t)=>{Ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??YO,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),L4=M("$ZodNumberFormat",(e,t)=>{WO.init(e,t),Xb.init(e,t)}),j4=M("$ZodBoolean",(e,t)=>{Ue.init(e,t),e._zod.pattern=FO,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),H4=M("$ZodUnknown",(e,t)=>{Ue.init(e,t),e._zod.parse=n=>n}),B4=M("$ZodNever",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function sv(e,t,n){e.issues.length&&t.issues.push(...Aa(n,e.issues)),t.value[n]=e.value}const P4=M("$ZodArray",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const a=[];for(let l=0;l<r.length;l++){const o=r[l],c=t.element._zod.run({value:o,issues:[]},i);c instanceof Promise?a.push(c.then(h=>sv(h,n,l))):sv(c,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function Vu(e,t,n,i){e.issues.length&&t.issues.push(...Aa(n,e.issues)),e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function Yb(e){var i,r,a,l;const t=Object.keys(e.shape);for(const o of t)if(!((l=(a=(r=(i=e.shape)==null?void 0:i[o])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=aO(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Fb(e,t,n,i,r,a){const l=[],o=r.keySet,c=r.catchall._zod,h=c.def.type;for(const p in t){if(o.has(p))continue;if(h==="never"){l.push(p);continue}const y=c.run({value:t[p],issues:[]},i);y instanceof Promise?e.push(y.then(v=>Vu(v,n,p,t))):Vu(y,n,p,t)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const Z4=M("$ZodObject",(e,t)=>{Ue.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const i=op(()=>Yb(t));Ee(e._zod,"propValues",()=>{const o=t.shape,c={};for(const h in o){const p=o[h]._zod;if(p.values){c[h]??(c[h]=new Set);for(const y of p.values)c[h].add(y)}}return c});const r=Zu,a=t.catchall;let l;e._zod.parse=(o,c)=>{l??(l=i.value);const h=o.value;if(!r(h))return o.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),o;o.value={};const p=[],y=l.shape;for(const v of l.keys){const z=y[v]._zod.run({value:h[v],issues:[]},c);z instanceof Promise?p.push(z.then(U=>Vu(U,o,v,h))):Vu(z,o,v,h)}return a?Fb(p,h,o,c,i.value,e):p.length?Promise.all(p).then(()=>o):o}}),V4=M("$ZodObjectJIT",(e,t)=>{Z4.init(e,t);const n=e._zod.parse,i=op(()=>Yb(t)),r=v=>{const N=new c4(["shape","payload","ctx"]),z=i.value,U=O=>{const D=rv(O);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};N.write("const input = payload.value;");const B=Object.create(null);let A=0;for(const O of z.keys)B[O]=`key_${A++}`;N.write("const newResult = {};");for(const O of z.keys){const D=B[O],j=rv(O);N.write(`const ${D} = ${U(O)};`),N.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${D}.value;
        }
        
      `)}N.write("payload.value = newResult;"),N.write("return payload;");const S=N.compile();return(O,D)=>S(v,O,D)};let a;const l=Zu,o=!kb.jitless,h=o&&iO.value,p=t.catchall;let y;e._zod.parse=(v,N)=>{y??(y=i.value);const z=v.value;return l(z)?o&&h&&(N==null?void 0:N.async)===!1&&N.jitless!==!0?(a||(a=r(t.shape)),v=a(v,N),p?Fb([],z,v,N,y,e):v):n(v,N):(v.issues.push({expected:"object",code:"invalid_type",input:z,inst:e}),v)}});function lv(e,t,n,i){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const r=e.filter(a=>!Ta(a));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(l=>sr(l,i,ar())))}),t)}const G4=M("$ZodUnion",(e,t)=>{Ue.init(e,t),Ee(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Ee(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Ee(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),Ee(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>cp(a.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return i(r,a);let l=!1;const o=[];for(const c of t.options){const h=c._zod.run({value:r.value,issues:[]},a);if(h instanceof Promise)o.push(h),l=!0;else{if(h.issues.length===0)return h;o.push(h)}}return l?Promise.all(o).then(c=>lv(c,r,e,a)):lv(o,r,e,a)}}),q4=M("$ZodIntersection",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value,a=t.left._zod.run({value:r,issues:[]},i),l=t.right._zod.run({value:r,issues:[]},i);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([c,h])=>ov(n,c,h)):ov(n,a,l)}});function Gh(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ya(e)&&Ya(t)){const n=Object.keys(t),i=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(const a of i){const l=Gh(e[a],t[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};r[a]=l.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const r=e[i],a=t[i],l=Gh(r,a);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function ov(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ta(e))return e;const i=Gh(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const $4=M("$ZodRecord",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Ya(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const a=[],l=t.keyType._zod.values;if(l){n.value={};const o=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){o.add(typeof h=="number"?h.toString():h);const p=t.valueType._zod.run({value:r[h],issues:[]},i);p instanceof Promise?a.push(p.then(y=>{y.issues.length&&n.issues.push(...Aa(h,y.issues)),n.value[h]=y.value})):(p.issues.length&&n.issues.push(...Aa(h,p.issues)),n.value[h]=p.value)}let c;for(const h in r)o.has(h)||(c=c??[],c.push(h));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:c})}else{n.value={};for(const o of Reflect.ownKeys(r)){if(o==="__proto__")continue;const c=t.keyType._zod.run({value:o,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){t.mode==="loose"?n.value[o]=r[o]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(p=>sr(p,i,ar())),input:o,path:[o],inst:e});continue}const h=t.valueType._zod.run({value:r[o],issues:[]},i);h instanceof Promise?a.push(h.then(p=>{p.issues.length&&n.issues.push(...Aa(o,p.issues)),n.value[c.value]=p.value})):(h.issues.length&&n.issues.push(...Aa(o,h.issues)),n.value[c.value]=h.value)}}return a.length?Promise.all(a).then(()=>n):n}}),X4=M("$ZodEnum",(e,t)=>{Ue.init(e,t);const n=Ib(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(r=>rO.has(typeof r)).map(r=>typeof r=="string"?mc(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const l=r.value;return i.has(l)||r.issues.push({code:"invalid_value",values:n,input:l,inst:e}),r}}),Y4=M("$ZodTransform",(e,t)=>{Ue.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zb(e.constructor.name);const r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(l=>(n.value=l,n));if(r instanceof Promise)throw new Ua;return n.value=r,n}});function uv(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const F4=M("$ZodOptional",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ee(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ee(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cp(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>uv(a,n.value)):uv(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),K4=M("$ZodNullable",(e,t)=>{Ue.init(e,t),Ee(e._zod,"optin",()=>t.innerType._zod.optin),Ee(e._zod,"optout",()=>t.innerType._zod.optout),Ee(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${cp(n.source)}|null)$`):void 0}),Ee(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),Q4=M("$ZodDefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>cv(a,t)):cv(r,t)}});function cv(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const J4=M("$ZodPrefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),W4=M("$ZodNonOptional",(e,t)=>{Ue.init(e,t),Ee(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>fv(a,e)):fv(r,e)}});function fv(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const eC=M("$ZodCatch",(e,t)=>{Ue.init(e,t),Ee(e._zod,"optin",()=>t.innerType._zod.optin),Ee(e._zod,"optout",()=>t.innerType._zod.optout),Ee(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(l=>sr(l,i,ar()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>sr(a,i,ar()))},input:n.value}),n.issues=[]),n)}}),tC=M("$ZodPipe",(e,t)=>{Ue.init(e,t),Ee(e._zod,"values",()=>t.in._zod.values),Ee(e._zod,"optin",()=>t.in._zod.optin),Ee(e._zod,"optout",()=>t.out._zod.optout),Ee(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const a=t.out._zod.run(n,i);return a instanceof Promise?a.then(l=>Ro(l,t.in,i)):Ro(a,t.in,i)}const r=t.in._zod.run(n,i);return r instanceof Promise?r.then(a=>Ro(a,t.out,i)):Ro(r,t.out,i)}});function Ro(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const nC=M("$ZodReadonly",(e,t)=>{Ue.init(e,t),Ee(e._zod,"propValues",()=>t.innerType._zod.propValues),Ee(e._zod,"values",()=>t.innerType._zod.values),Ee(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),Ee(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(hv):hv(r)}});function hv(e){return e.value=Object.freeze(e.value),e}const iC=M("$ZodCustom",(e,t)=>{Rt.init(e,t),Ue.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(a=>dv(a,n,i,e));dv(r,n,i,e)}});function dv(e,t,n,i){if(!e){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),t.issues.push(xl(r))}}var pv;class rC{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];if(this._map.set(t,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function aC(){return new rC}(pv=globalThis).__zod_globalRegistry??(pv.__zod_globalRegistry=aC());const Xs=globalThis.__zod_globalRegistry;function sC(e,t){return new e({type:"string",...$(t)})}function lC(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function mv(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function oC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function uC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function cC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function fC(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function hC(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function dC(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function pC(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function mC(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function gC(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function vC(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function yC(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function _C(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function bC(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function SC(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function EC(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function TC(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function AC(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function wC(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function NC(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function OC(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function CC(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function xC(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function DC(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function RC(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function zC(e,t){return new e({type:"number",checks:[],...$(t)})}function kC(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function IC(e,t){return new e({type:"boolean",...$(t)})}function MC(e){return new e({type:"unknown"})}function UC(e,t){return new e({type:"never",...$(t)})}function gv(e,t){return new Gb({check:"less_than",...$(t),value:e,inclusive:!1})}function Af(e,t){return new Gb({check:"less_than",...$(t),value:e,inclusive:!0})}function vv(e,t){return new qb({check:"greater_than",...$(t),value:e,inclusive:!1})}function wf(e,t){return new qb({check:"greater_than",...$(t),value:e,inclusive:!0})}function yv(e,t){return new JO({check:"multiple_of",...$(t),value:e})}function Kb(e,t){return new e4({check:"max_length",...$(t),maximum:e})}function Gu(e,t){return new t4({check:"min_length",...$(t),minimum:e})}function Qb(e,t){return new n4({check:"length_equals",...$(t),length:e})}function LC(e,t){return new i4({check:"string_format",format:"regex",...$(t),pattern:e})}function jC(e){return new r4({check:"string_format",format:"lowercase",...$(e)})}function HC(e){return new a4({check:"string_format",format:"uppercase",...$(e)})}function BC(e,t){return new s4({check:"string_format",format:"includes",...$(t),includes:e})}function PC(e,t){return new l4({check:"string_format",format:"starts_with",...$(t),prefix:e})}function ZC(e,t){return new o4({check:"string_format",format:"ends_with",...$(t),suffix:e})}function as(e){return new u4({check:"overwrite",tx:e})}function VC(e){return as(t=>t.normalize(e))}function GC(){return as(e=>e.trim())}function qC(){return as(e=>e.toLowerCase())}function $C(){return as(e=>e.toUpperCase())}function XC(){return as(e=>nO(e))}function YC(e,t,n){return new e({type:"array",element:t,...$(n)})}function FC(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}function KC(e){const t=QC(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(xl(i,n.value,t._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(xl(r))}},e(n.value,n)));return t}function QC(e,t){const n=new Rt({check:"custom",...$(t)});return n._zod.check=e,n}function Jb(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Xs,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function We(e,t,n={path:[],schemaPath:[]}){var p,y;var i;const r=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const o=(y=(p=e._zod).toJSONSchema)==null?void 0:y.call(p);if(o)l.schema=o;else{const v={...n,schemaPath:[...n.schemaPath,e],path:n.path},N=e._zod.parent;if(N)l.ref=N,We(N,t,v),t.seen.get(N).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,v);else{const z=l.schema,U=t.processors[r.type];if(!U)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);U(e,t,z,v)}}const c=t.metadataRegistry.get(e);return c&&Object.assign(l.schema,c),t.io==="input"&&gt(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((i=l.schema).default??(i.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function Wb(e,t){var a,l,o;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{var N;const h=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const z=(N=e.external.registry.get(c[0]))==null?void 0:N.id,U=e.external.uri??(A=>A);if(z)return{ref:U(z)};const B=c[1].defId??c[1].schema.id??`schema${e.counter++}`;return c[1].defId=B,{defId:B,ref:`${U("__shared")}#/${h}/${B}`}}if(c[1]===n)return{ref:"#"};const y=`#/${h}/`,v=c[1].schema.id??`__schema${e.counter++}`;return{defId:v,ref:y+v}},r=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:p,defId:y}=i(c);h.def={...h.schema},y&&(h.defId=y);const v=h.schema;for(const N in v)delete v[N];v.$ref=p};if(e.cycles==="throw")for(const c of e.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${(a=h.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of e.seen.entries()){const h=c[1];if(t===c[0]){r(c);continue}if(e.external){const y=(l=e.external.registry.get(c[0]))==null?void 0:l.id;if(t!==c[0]&&y){r(c);continue}}if((o=e.metadataRegistry.get(c[0]))==null?void 0:o.id){r(c);continue}if(h.cycle){r(c);continue}if(h.count>1&&e.reused==="ref"){r(c);continue}}}function eS(e,t){var l,o,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const p=e.seen.get(h),y=p.def??p.schema,v={...y};if(p.ref===null)return;const N=p.ref;if(p.ref=null,N){i(N);const z=e.seen.get(N).schema;z.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(y.allOf=y.allOf??[],y.allOf.push(z)):(Object.assign(y,z),Object.assign(y,v))}p.isParent||e.override({zodSchema:h,jsonSchema:y,path:p.path??[]})};for(const h of[...e.seen.entries()].reverse())i(h[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const h=(o=e.external.registry.get(t))==null?void 0:o.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(h)}Object.assign(r,n.def??n.schema);const a=((c=e.external)==null?void 0:c.defs)??{};for(const h of e.seen.entries()){const p=h[1];p.def&&p.defId&&(a[p.defId]=p.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:qu(t,"input"),output:qu(t,"output")}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function gt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return gt(i.element,n);if(i.type==="set")return gt(i.valueType,n);if(i.type==="lazy")return gt(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return gt(i.innerType,n);if(i.type==="intersection")return gt(i.left,n)||gt(i.right,n);if(i.type==="record"||i.type==="map")return gt(i.keyType,n)||gt(i.valueType,n);if(i.type==="pipe")return gt(i.in,n)||gt(i.out,n);if(i.type==="object"){for(const r in i.shape)if(gt(i.shape[r],n))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(gt(r,n))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(gt(r,n))return!0;return!!(i.rest&&gt(i.rest,n))}return!1}const JC=(e,t={})=>n=>{const i=Jb({...n,processors:t});return We(e,i),Wb(i,e),eS(i,e)},qu=(e,t)=>n=>{const{libraryOptions:i,target:r}=n??{},a=Jb({...i??{},target:r,io:t,processors:{}});return We(e,a),Wb(a,e),eS(a,e)},WC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},ex=(e,t,n,i)=>{const r=n;r.type="string";const{minimum:a,maximum:l,format:o,patterns:c,contentEncoding:h}=e._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof l=="number"&&(r.maxLength=l),o&&(r.format=WC[o]??o,r.format===""&&delete r.format),h&&(r.contentEncoding=h),c&&c.size>0){const p=[...c];p.length===1?r.pattern=p[0].source:p.length>1&&(r.allOf=[...p.map(y=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:y.source}))])}},tx=(e,t,n,i)=>{const r=n,{minimum:a,maximum:l,format:o,multipleOf:c,exclusiveMaximum:h,exclusiveMinimum:p}=e._zod.bag;typeof o=="string"&&o.includes("int")?r.type="integer":r.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=p,r.exclusiveMinimum=!0):r.exclusiveMinimum=p),typeof a=="number"&&(r.minimum=a,typeof p=="number"&&t.target!=="draft-04"&&(p>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof l=="number"&&(r.maximum=l,typeof h=="number"&&t.target!=="draft-04"&&(h<=l?delete r.maximum:delete r.exclusiveMaximum)),typeof c=="number"&&(r.multipleOf=c)},nx=(e,t,n,i)=>{n.type="boolean"},ix=(e,t,n,i)=>{n.not={}},rx=(e,t,n,i)=>{},ax=(e,t,n,i)=>{const r=e._zod.def,a=Ib(r.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},sx=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},lx=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ox=(e,t,n,i)=>{const r=n,a=e._zod.def,{minimum:l,maximum:o}=e._zod.bag;typeof l=="number"&&(r.minItems=l),typeof o=="number"&&(r.maxItems=o),r.type="array",r.items=We(a.element,t,{...i,path:[...i.path,"items"]})},ux=(e,t,n,i)=>{var h;const r=n,a=e._zod.def;r.type="object",r.properties={};const l=a.shape;for(const p in l)r.properties[p]=We(l[p],t,{...i,path:[...i.path,"properties",p]});const o=new Set(Object.keys(l)),c=new Set([...o].filter(p=>{const y=a.shape[p]._zod;return t.io==="input"?y.optin===void 0:y.optout===void 0}));c.size>0&&(r.required=Array.from(c)),((h=a.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=We(a.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},cx=(e,t,n,i)=>{const r=e._zod.def,a=r.inclusive===!1,l=r.options.map((o,c)=>We(o,t,{...i,path:[...i.path,a?"oneOf":"anyOf",c]}));a?n.oneOf=l:n.anyOf=l},fx=(e,t,n,i)=>{const r=e._zod.def,a=We(r.left,t,{...i,path:[...i.path,"allOf",0]}),l=We(r.right,t,{...i,path:[...i.path,"allOf",1]}),o=h=>"allOf"in h&&Object.keys(h).length===1,c=[...o(a)?a.allOf:[a],...o(l)?l.allOf:[l]];n.allOf=c},hx=(e,t,n,i)=>{const r=n,a=e._zod.def;r.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(r.propertyNames=We(a.keyType,t,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=We(a.valueType,t,{...i,path:[...i.path,"additionalProperties"]})},dx=(e,t,n,i)=>{const r=e._zod.def,a=We(r.innerType,t,i),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=r.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},px=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType},mx=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},gx=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},vx=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType;let l;try{l=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},yx=(e,t,n,i)=>{const r=e._zod.def,a=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;We(a,t,i);const l=t.seen.get(e);l.ref=a},_x=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType,n.readOnly=!0},bx=(e,t,n,i)=>{const r=e._zod.def;We(r.innerType,t,i);const a=t.seen.get(e);a.ref=r.innerType},Sx=M("ZodISODateTime",(e,t)=>{T4.init(e,t),ze.init(e,t)});function Ex(e){return CC(Sx,e)}const Tx=M("ZodISODate",(e,t)=>{A4.init(e,t),ze.init(e,t)});function Ax(e){return xC(Tx,e)}const wx=M("ZodISOTime",(e,t)=>{w4.init(e,t),ze.init(e,t)});function Nx(e){return DC(wx,e)}const Ox=M("ZodISODuration",(e,t)=>{N4.init(e,t),ze.init(e,t)});function Cx(e){return RC(Ox,e)}const xx=(e,t)=>{jb.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>mO(e,n)},flatten:{value:n=>pO(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Vh,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Vh,2)}},isEmpty:{get(){return e.issues.length===0}}})},an=M("ZodError",xx,{Parent:Error}),Dx=hp(an),Rx=dp(an),zx=gc(an),kx=vc(an),Ix=yO(an),Mx=_O(an),Ux=bO(an),Lx=SO(an),jx=EO(an),Hx=TO(an),Bx=AO(an),Px=wO(an),Ze=M("ZodType",(e,t)=>(Ue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:qu(e,"input"),output:qu(e,"output")}}),e.toJSONSchema=JC(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Yr(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),e.clone=(n,i)=>ur(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>Dx(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>zx(e,n,i),e.parseAsync=async(n,i)=>Rx(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>kx(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>Ix(e,n,i),e.decode=(n,i)=>Mx(e,n,i),e.encodeAsync=async(n,i)=>Ux(e,n,i),e.decodeAsync=async(n,i)=>Lx(e,n,i),e.safeEncode=(n,i)=>jx(e,n,i),e.safeDecode=(n,i)=>Hx(e,n,i),e.safeEncodeAsync=async(n,i)=>Bx(e,n,i),e.safeDecodeAsync=async(n,i)=>Px(e,n,i),e.refine=(n,i)=>e.check(zD(n,i)),e.superRefine=n=>e.check(kD(n)),e.overwrite=n=>e.check(as(n)),e.optional=()=>Sv(e),e.nullable=()=>Ev(e),e.nullish=()=>Sv(Ev(e)),e.nonoptional=n=>wD(e,n),e.array=()=>Fa(e),e.or=n=>iS([e,n]),e.and=n=>gD(e,n),e.transform=n=>Tv(e,_D(n)),e.default=n=>ED(e,n),e.prefault=n=>AD(e,n),e.catch=n=>OD(e,n),e.pipe=n=>Tv(e,n),e.readonly=()=>DD(e),e.describe=n=>{const i=e.clone();return Xs.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=Xs.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Xs.get(e);const i=e.clone();return Xs.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),tS=M("_ZodString",(e,t)=>{pp.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,a)=>ex(e,i,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(LC(...i)),e.includes=(...i)=>e.check(BC(...i)),e.startsWith=(...i)=>e.check(PC(...i)),e.endsWith=(...i)=>e.check(ZC(...i)),e.min=(...i)=>e.check(Gu(...i)),e.max=(...i)=>e.check(Kb(...i)),e.length=(...i)=>e.check(Qb(...i)),e.nonempty=(...i)=>e.check(Gu(1,...i)),e.lowercase=i=>e.check(jC(i)),e.uppercase=i=>e.check(HC(i)),e.trim=()=>e.check(GC()),e.normalize=(...i)=>e.check(VC(...i)),e.toLowerCase=()=>e.check(qC()),e.toUpperCase=()=>e.check($C()),e.slugify=()=>e.check(XC())}),Zx=M("ZodString",(e,t)=>{pp.init(e,t),tS.init(e,t),e.email=n=>e.check(lC(Vx,n)),e.url=n=>e.check(hC(Gx,n)),e.jwt=n=>e.check(OC(aD,n)),e.emoji=n=>e.check(dC(qx,n)),e.guid=n=>e.check(mv(_v,n)),e.uuid=n=>e.check(oC(zo,n)),e.uuidv4=n=>e.check(uC(zo,n)),e.uuidv6=n=>e.check(cC(zo,n)),e.uuidv7=n=>e.check(fC(zo,n)),e.nanoid=n=>e.check(pC($x,n)),e.guid=n=>e.check(mv(_v,n)),e.cuid=n=>e.check(mC(Xx,n)),e.cuid2=n=>e.check(gC(Yx,n)),e.ulid=n=>e.check(vC(Fx,n)),e.base64=n=>e.check(AC(nD,n)),e.base64url=n=>e.check(wC(iD,n)),e.xid=n=>e.check(yC(Kx,n)),e.ksuid=n=>e.check(_C(Qx,n)),e.ipv4=n=>e.check(bC(Jx,n)),e.ipv6=n=>e.check(SC(Wx,n)),e.cidrv4=n=>e.check(EC(eD,n)),e.cidrv6=n=>e.check(TC(tD,n)),e.e164=n=>e.check(NC(rD,n)),e.datetime=n=>e.check(Ex(n)),e.date=n=>e.check(Ax(n)),e.time=n=>e.check(Nx(n)),e.duration=n=>e.check(Cx(n))});function Qe(e){return sC(Zx,e)}const ze=M("ZodStringFormat",(e,t)=>{Ce.init(e,t),tS.init(e,t)}),Vx=M("ZodEmail",(e,t)=>{p4.init(e,t),ze.init(e,t)}),_v=M("ZodGUID",(e,t)=>{h4.init(e,t),ze.init(e,t)}),zo=M("ZodUUID",(e,t)=>{d4.init(e,t),ze.init(e,t)}),Gx=M("ZodURL",(e,t)=>{m4.init(e,t),ze.init(e,t)}),qx=M("ZodEmoji",(e,t)=>{g4.init(e,t),ze.init(e,t)}),$x=M("ZodNanoID",(e,t)=>{v4.init(e,t),ze.init(e,t)}),Xx=M("ZodCUID",(e,t)=>{y4.init(e,t),ze.init(e,t)}),Yx=M("ZodCUID2",(e,t)=>{_4.init(e,t),ze.init(e,t)}),Fx=M("ZodULID",(e,t)=>{b4.init(e,t),ze.init(e,t)}),Kx=M("ZodXID",(e,t)=>{S4.init(e,t),ze.init(e,t)}),Qx=M("ZodKSUID",(e,t)=>{E4.init(e,t),ze.init(e,t)}),Jx=M("ZodIPv4",(e,t)=>{O4.init(e,t),ze.init(e,t)}),Wx=M("ZodIPv6",(e,t)=>{C4.init(e,t),ze.init(e,t)}),eD=M("ZodCIDRv4",(e,t)=>{x4.init(e,t),ze.init(e,t)}),tD=M("ZodCIDRv6",(e,t)=>{D4.init(e,t),ze.init(e,t)}),nD=M("ZodBase64",(e,t)=>{R4.init(e,t),ze.init(e,t)}),iD=M("ZodBase64URL",(e,t)=>{k4.init(e,t),ze.init(e,t)}),rD=M("ZodE164",(e,t)=>{I4.init(e,t),ze.init(e,t)}),aD=M("ZodJWT",(e,t)=>{U4.init(e,t),ze.init(e,t)}),nS=M("ZodNumber",(e,t)=>{Xb.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,a)=>tx(e,i,r),e.gt=(i,r)=>e.check(vv(i,r)),e.gte=(i,r)=>e.check(wf(i,r)),e.min=(i,r)=>e.check(wf(i,r)),e.lt=(i,r)=>e.check(gv(i,r)),e.lte=(i,r)=>e.check(Af(i,r)),e.max=(i,r)=>e.check(Af(i,r)),e.int=i=>e.check(bv(i)),e.safe=i=>e.check(bv(i)),e.positive=i=>e.check(vv(0,i)),e.nonnegative=i=>e.check(wf(0,i)),e.negative=i=>e.check(gv(0,i)),e.nonpositive=i=>e.check(Af(0,i)),e.multipleOf=(i,r)=>e.check(yv(i,r)),e.step=(i,r)=>e.check(yv(i,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function lt(e){return zC(nS,e)}const sD=M("ZodNumberFormat",(e,t)=>{L4.init(e,t),nS.init(e,t)});function bv(e){return kC(sD,e)}const lD=M("ZodBoolean",(e,t)=>{j4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>nx(e,n,i)});function oD(e){return IC(lD,e)}const uD=M("ZodUnknown",(e,t)=>{H4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>rx()});function qh(){return MC(uD)}const cD=M("ZodNever",(e,t)=>{B4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ix(e,n,i)});function fD(e){return UC(cD,e)}const hD=M("ZodArray",(e,t)=>{P4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ox(e,n,i,r),e.element=t.element,e.min=(n,i)=>e.check(Gu(n,i)),e.nonempty=n=>e.check(Gu(1,n)),e.max=(n,i)=>e.check(Kb(n,i)),e.length=(n,i)=>e.check(Qb(n,i)),e.unwrap=()=>e.element});function Fa(e,t){return YC(hD,e,t)}const dD=M("ZodObject",(e,t)=>{V4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>ux(e,n,i,r),Ee(e,"shape",()=>t.shape),e.keyof=()=>Xh(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:qh()}),e.loose=()=>e.clone({...e._zod.def,catchall:qh()}),e.strict=()=>e.clone({...e._zod.def,catchall:fD()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>uO(e,n),e.safeExtend=n=>cO(e,n),e.merge=n=>fO(e,n),e.pick=n=>lO(e,n),e.omit=n=>oO(e,n),e.partial=(...n)=>hO(aS,e,n[0]),e.required=(...n)=>dO(sS,e,n[0])});function vn(e,t){const n={type:"object",shape:e??{},...$(t)};return new dD(n)}const pD=M("ZodUnion",(e,t)=>{G4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>cx(e,n,i,r),e.options=t.options});function iS(e,t){return new pD({type:"union",options:e,...$(t)})}const mD=M("ZodIntersection",(e,t)=>{q4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>fx(e,n,i,r)});function gD(e,t){return new mD({type:"intersection",left:e,right:t})}const vD=M("ZodRecord",(e,t)=>{$4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>hx(e,n,i,r),e.keyType=t.keyType,e.valueType=t.valueType});function rS(e,t,n){return new vD({type:"record",keyType:e,valueType:t,...$(n)})}const $h=M("ZodEnum",(e,t)=>{X4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(i,r,a)=>ax(e,i,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,r)=>{const a={};for(const l of i)if(n.has(l))a[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new $h({...t,checks:[],...$(r),entries:a})},e.exclude=(i,r)=>{const a={...t.entries};for(const l of i)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new $h({...t,checks:[],...$(r),entries:a})}});function Xh(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new $h({type:"enum",entries:n,...$(t)})}const yD=M("ZodTransform",(e,t)=>{Y4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>lx(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new zb(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(xl(a,n.value,t));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(xl(l))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function _D(e){return new yD({type:"transform",transform:e})}const aS=M("ZodOptional",(e,t)=>{F4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>bx(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function Sv(e){return new aS({type:"optional",innerType:e})}const bD=M("ZodNullable",(e,t)=>{K4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>dx(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function Ev(e){return new bD({type:"nullable",innerType:e})}const SD=M("ZodDefault",(e,t)=>{Q4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>mx(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function ED(e,t){return new SD({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Ub(t)}})}const TD=M("ZodPrefault",(e,t)=>{J4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>gx(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function AD(e,t){return new TD({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Ub(t)}})}const sS=M("ZodNonOptional",(e,t)=>{W4.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>px(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function wD(e,t){return new sS({type:"nonoptional",innerType:e,...$(t)})}const ND=M("ZodCatch",(e,t)=>{eC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>vx(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function OD(e,t){return new ND({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const CD=M("ZodPipe",(e,t)=>{tC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>yx(e,n,i,r),e.in=t.in,e.out=t.out});function Tv(e,t){return new CD({type:"pipe",in:e,out:t})}const xD=M("ZodReadonly",(e,t)=>{nC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>_x(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function DD(e){return new xD({type:"readonly",innerType:e})}const RD=M("ZodCustom",(e,t)=>{iC.init(e,t),Ze.init(e,t),e._zod.processJSONSchema=(n,i,r)=>sx(e,n)});function zD(e,t={}){return FC(RD,e,t)}function kD(e){return KC(e)}kn("Validation");const Av=Qe().min(1).max(100);Qe().regex(/^[a-fA-F0-9]{64}$/);const mp=Qe().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),lS=Qe().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);Qe().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);vn({challenge:Qe().min(10).max(200),expiresAt:lt().int().positive()});vn({kind:lt().int(),created_at:lt().int().nonnegative(),tags:Fa(Fa(Qe())),content:Qe()});const ID=vn({npub:mp,displayName:lS.nullable()}),oS=vn({visitedAt:Qe().nullable().optional(),completedAt:Qe().nullable().optional(),quizAttempts:Fa(vn({xpEarned:lt().int().min(0).optional(),score:lt().min(0).max(100).optional(),timestamp:Qe().optional(),difficulty:Xh(["easy","medium","hard"]).optional(),correctAnswers:lt().int().min(0).optional(),totalQuestions:lt().int().min(1).optional()})).optional(),visualizationsInteracted:Fa(Qe().max(100)).optional(),masteryLevel:iS([lt().int().min(0).max(3),Xh(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Qe().optional(),timeSpentSeconds:lt().int().min(0).optional()});vn({user:vn({totalXP:lt().int().min(0),level:lt().int().min(1).max(10),sectionsCompleted:Fa(Av)}),sections:rS(Av,oS),dailyGoals:vn({lastResetDate:Qe().nullable(),currentStreak:lt().int().min(0),xpEarned:lt().int().min(0),xpGoal:lt().int().min(0)}),lastUpdated:lt().int().nonnegative()});vn({success:oD(),totalXP:lt().int().min(0)});vn({npub:mp,displayName:lS.nullable(),xp:lt().int().min(0),lastSync:Qe()});vn({timestamp:Qe(),action:Qe(),targetNpub:mp.nullable(),performedBy:Qe(),details:rS(Qe(),qh()).nullable()});function MD(e){const t=oS.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function UD(e){const t=ID.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Ct={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},cl=[0,100,250,500,850,1300,1900,2650,3550,4600],uS=50,$u=kn("SyncManager"),LD="magic-internet-math-progress";function wv(){try{const e=localStorage.getItem(LD);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,gauss:0,template:0};for(const[r,a]of Object.entries(t.sections)){const[l]=r.split(":");if(!eO(l))continue;const o=l,c=MD(a);if(!c.valid||!c.data){$u.warn(`Invalid section data for ${r}, skipping`);continue}const h=c.data;if(h.quizAttempts)for(const p of h.quizAttempts)p.xpEarned&&(i[o]+=p.xpEarned);h.visitedAt&&(i[o]+=Ct.SECTION_VISIT),h.completedAt&&(i[o]+=Ct.SECTION_COMPLETE),h.visualizationsInteracted&&(i[o]+=h.visualizationsInteracted.length*Ct.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom}],totalXP:n}}catch(e){return $u.error("Error extracting scores from storage:",e),null}}class jD{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},jN),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},HN))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!$s())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<LN)return{success:!1,error:"Rate limited"};try{const n=wv();if(!n)return{success:!1,error:"No scores to sync"};const i=Cb(),r=Bh(i,"syncScores"),a={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(a.displayName=this.displayName);const l=await r(a);return this.lastSyncTime=t,{success:l.data.success,totalXP:l.data.totalXP}}catch(n){return $u.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const r=1e3*Math.pow(2,n);$u.debug(`Sync retry ${n+1}/${t} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=wv();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,template:0}):null}}let Nf=null;function Is(){return Nf||(Nf=new jD),Nf}const tt=kn("NostrAuth"),HD=G.createContext(null),Ms="magic-internet-math-nostr-auth";function BD({children:e}){const[t,n]=G.useState(!1),[i,r]=G.useState(null),[a,l]=G.useState(null),[o,c]=G.useState(null),[h,p]=G.useState(!1),[y,v]=G.useState(null),[N,z]=G.useState(!1),[U,B]=G.useState(!1),[A,S]=G.useState(null);G.useEffect(()=>{(async()=>{const E=await QN(UN);z(E),B(!0)})()},[]);const O=G.useCallback(async g=>{for(const E of BN)try{const w=await JN(E,g);if(w){w.nip05&&c(w.nip05);const x=w.display_name||w.name;if(x){l(x);const b=Is();b.setDisplayName(x),b.requestSync()}return}}catch(w){tt.warn(`Failed to fetch profile from ${E}:`,w)}},[]);G.useEffect(()=>{if(!$s())return;const g=Ef(),E=V2(g,async w=>{if(S(w),w){r(w.uid);try{const b=await w.getIdTokenResult(!0);tt.debug("Token claims:",b.claims),p(b.claims.isAdmin===!0)}catch(b){tt.error("Error getting token:",b),p(!1)}try{const b=localStorage.getItem(Ms);if(b){const Xe=JSON.parse(b),Le=UD(Xe);if(!Le.valid||!Le.data){tt.warn("Invalid auth state in localStorage:",Le.error),localStorage.removeItem(Ms);return}Le.data.npub===w.uid&&l(Le.data.displayName)}}catch(b){tt.debug("Storage read error:",b)}const x=Is();x.setAuthenticated(!0),x.startPeriodicSync();try{const b=KN(w.uid);O(b)}catch(b){tt.debug("Npub conversion error:",b)}}else{r(null),c(null),p(!1),l(null);const x=Is();x.setAuthenticated(!1),x.stopPeriodicSync()}});return()=>E()},[O]);const D=G.useCallback(async()=>{if(tt.debug("connect() called"),tt.debug("isFirebaseConfigured:",$s()),tt.debug("hasNostrExtension:",Pu()),!$s()){tt.info("Firebase not configured, cannot connect");return}if(!Pu()){v("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),tt.warn("No extension found, returning");return}n(!0),v(null),tt.info("Starting Nostr connection...");try{const g=window.nostr,E=Cb(),w=await g.getPublicKey(),x=FN(w),Xe=await Bh(E,"createChallenge")({pubkeyHex:w}),{challenge:Le}=Xe.data,P={kind:IN,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Le]],content:Le},F=await g.signEvent(P),ue=await Bh(E,"verifyNostrAndCreateToken")({signedEvent:F,challenge:Le}),ve=Ef();await B2(ve,ue.data.token);try{const ke={npub:x,displayName:null};localStorage.setItem(Ms,JSON.stringify(ke))}catch(ke){tt.warn("Failed to store auth state:",ke)}Is().syncNow().catch(ke=>{tt.warn("Initial sync failed:",ke)})}catch(g){tt.error("Nostr connect error:",g),v(g instanceof Error?g.message:"Failed to connect. Please try again.")}finally{n(!1)}},[N]),j=G.useCallback(async()=>{try{if($s()){const g=Ef();await G2(g)}try{localStorage.removeItem(Ms)}catch(g){tt.warn("Failed to clear auth state from storage:",g)}r(null),l(null),p(!1)}catch(g){tt.error("Disconnect error:",g),v(g instanceof Error?g.message:"Failed to disconnect")}},[]),V=G.useCallback(g=>{if(l(g),i)try{localStorage.setItem(Ms,JSON.stringify({npub:i,displayName:g}))}catch(w){tt.warn("Failed to update display name in storage:",w)}const E=Is();E.setDisplayName(g),E.requestSync()},[i]),_=G.useCallback(()=>{v(null)},[]),m=G.useMemo(()=>({isAuthenticated:!!A&&!!i,isConnecting:t,npub:i,displayName:a,nip05:o,isAdmin:h,error:y,hasExtension:N,extensionChecked:U,connect:D,disconnect:j,setDisplayName:V,clearError:_}),[A,i,t,a,o,h,y,N,U,D,j,V,_]);return T.jsx(HD.Provider,{value:m,children:e})}const PD=kn("ErrorContext"),cS=G.createContext(null);function ZD({children:e,onError:t}){const[n,i]=G.useState([]),r=G.useCallback(o=>{const c={id:crypto.randomUUID(),...o,timestamp:new Date,recoverable:o.recoverable??!0};i(h=>{const p=[...h,c];return t&&t(c),p}),PD.error("App error added:",c)},[t]),a=G.useCallback(o=>{i(c=>c.filter(h=>h.id!==o))},[]),l=G.useCallback(()=>{i([])},[]);return T.jsx(cS.Provider,{value:{errors:n,addError:r,dismissError:a,dismissAll:l},children:e})}function VD(){const e=G.useContext(cS);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}const GD=kn("ErrorBoundary");class qD extends G.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){GD.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:T.jsxs("div",{className:"max-w-md w-full text-center",children:[T.jsx("div",{className:"text-6xl mb-6",children:T.jsx("span",{role:"img","aria-label":"Warning",children:""})}),T.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),T.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&T.jsxs("details",{className:"mb-6 text-left",children:[T.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),T.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),T.jsxs("div",{className:"flex gap-4 justify-center",children:[T.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),T.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}function $D({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=VD();return t.length===0?null:T.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:T.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&T.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),T.jsx("div",{className:"space-y-2",children:t.map(r=>T.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:T.jsxs("div",{className:"flex justify-between items-start gap-2",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-red-900 font-medium",children:r.message}),r.details&&T.jsx("p",{className:"text-sm text-red-700 mt-1",children:r.details})]}),T.jsx("button",{onClick:()=>n(r.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},r.id))}),t.some(r=>!r.recoverable)&&T.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[T.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const XD={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function eu({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=T.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[T.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${XD[t]}`,role:"status","aria-label":"Loading"}),e&&T.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}kn("AdminPanel");kn("Leaderboard");/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:fS,setPrototypeOf:Nv,isFrozen:YD,getPrototypeOf:FD,getOwnPropertyDescriptor:KD}=Object;let{freeze:bt,seal:rn,create:Yh}=Object,{apply:Fh,construct:Kh}=typeof Reflect<"u"&&Reflect;bt||(bt=function(t){return t});rn||(rn=function(t){return t});Fh||(Fh=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];return t.apply(n,r)});Kh||(Kh=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const ko=St(Array.prototype.forEach),QD=St(Array.prototype.lastIndexOf),Ov=St(Array.prototype.pop),Us=St(Array.prototype.push),JD=St(Array.prototype.splice),tu=St(String.prototype.toLowerCase),Of=St(String.prototype.toString),Cf=St(String.prototype.match),Ls=St(String.prototype.replace),WD=St(String.prototype.indexOf),eR=St(String.prototype.trim),fn=St(Object.prototype.hasOwnProperty),mt=St(RegExp.prototype.test),js=tR(TypeError);function St(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Fh(e,t,i)}}function tR(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Kh(e,n)}}function W(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tu;Nv&&Nv(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const a=n(r);a!==r&&(YD(t)||(t[i]=a),r=a)}e[r]=!0}return e}function nR(e){for(let t=0;t<e.length;t++)fn(e,t)||(e[t]=null);return e}function En(e){const t=Yh(null);for(const[n,i]of fS(e))fn(e,n)&&(Array.isArray(i)?t[n]=nR(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=En(i):t[n]=i);return t}function Hs(e,t){for(;e!==null;){const i=KD(e,t);if(i){if(i.get)return St(i.get);if(typeof i.value=="function")return St(i.value)}e=FD(e)}function n(){return null}return n}const Cv=bt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xf=bt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Df=bt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),iR=bt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rf=bt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),rR=bt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xv=bt(["#text"]),Dv=bt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zf=bt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rv=bt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Io=bt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aR=rn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sR=rn(/<%[\w\W]*|[\w\W]*%>/gm),lR=rn(/\$\{[\w\W]*/gm),oR=rn(/^data-[\-\w.\u00B7-\uFFFF]+$/),uR=rn(/^aria-[\-\w]+$/),hS=rn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cR=rn(/^(?:\w+script|data):/i),fR=rn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dS=rn(/^html$/i),hR=rn(/^[a-z][.\w]*(-[.\w]+)+$/i);var zv=Object.freeze({__proto__:null,ARIA_ATTR:uR,ATTR_WHITESPACE:fR,CUSTOM_ELEMENT:hR,DATA_ATTR:oR,DOCTYPE_NAME:dS,ERB_EXPR:sR,IS_ALLOWED_URI:hS,IS_SCRIPT_OR_DATA:cR,MUSTACHE_EXPR:aR,TMPLIT_EXPR:lR});const Bs={element:1,text:3,progressingInstruction:7,comment:8,document:9},dR=function(){return typeof window>"u"?null:window},pR=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const a="dompurify"+(i?"#"+i:"");try{return t.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},kv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dR();const t=q=>pS(q);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Bs.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:o,Element:c,NodeFilter:h,NamedNodeMap:p=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:y,DOMParser:v,trustedTypes:N}=e,z=c.prototype,U=Hs(z,"cloneNode"),B=Hs(z,"remove"),A=Hs(z,"nextSibling"),S=Hs(z,"childNodes"),O=Hs(z,"parentNode");if(typeof l=="function"){const q=n.createElement("template");q.content&&q.content.ownerDocument&&(n=q.content.ownerDocument)}let D,j="";const{implementation:V,createNodeIterator:_,createDocumentFragment:m,getElementsByTagName:g}=n,{importNode:E}=i;let w=kv();t.isSupported=typeof fS=="function"&&typeof O=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:x,ERB_EXPR:b,TMPLIT_EXPR:Xe,DATA_ATTR:Le,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:ue}=zv;let{IS_ALLOWED_URI:ve}=zv,ye=null;const ke=W({},[...Cv,...xf,...Df,...Rf,...xv]);let J=null;const Gt=W({},[...Dv,...zf,...Rv,...Io]);let ae=Object.seal(Yh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),cr=null,hi=null;const di=Object.seal(Yh(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Xl=!0,pi=!0,fr=!1,Kr=!0,bn=!1,mi=!0,sn=!1,Qr=!1,ss=!1,gi=!1,hr=!1,vi=!1,ls=!0,Yl=!1;const os="user-content-";let dr=!0,yi=!1,xe={},_e=null;const _i=W({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let us=null;const cs=W({},["audio","video","img","source","image","track"]);let fs=null;const bi=W({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pr="http://www.w3.org/1998/Math/MathML",mr="http://www.w3.org/2000/svg",zt="http://www.w3.org/1999/xhtml";let Si=zt,hs=!1,gr=null;const Fl=W({},[pr,mr,zt],Of);let Jr=W({},["mi","mo","mn","ms","mtext"]),Sn=W({},["annotation-xml"]);const ds=W({},["title","style","font","a","script"]);let In=null;const Ei=["application/xhtml+xml","text/html"],Kl="text/html";let De=null,Mn=null;const vr=n.createElement("form"),ps=function(C){return C instanceof RegExp||C instanceof Function},Ye=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mn&&Mn===C)){if((!C||typeof C!="object")&&(C={}),C=En(C),In=Ei.indexOf(C.PARSER_MEDIA_TYPE)===-1?Kl:C.PARSER_MEDIA_TYPE,De=In==="application/xhtml+xml"?Of:tu,ye=fn(C,"ALLOWED_TAGS")?W({},C.ALLOWED_TAGS,De):ke,J=fn(C,"ALLOWED_ATTR")?W({},C.ALLOWED_ATTR,De):Gt,gr=fn(C,"ALLOWED_NAMESPACES")?W({},C.ALLOWED_NAMESPACES,Of):Fl,fs=fn(C,"ADD_URI_SAFE_ATTR")?W(En(bi),C.ADD_URI_SAFE_ATTR,De):bi,us=fn(C,"ADD_DATA_URI_TAGS")?W(En(cs),C.ADD_DATA_URI_TAGS,De):cs,_e=fn(C,"FORBID_CONTENTS")?W({},C.FORBID_CONTENTS,De):_i,cr=fn(C,"FORBID_TAGS")?W({},C.FORBID_TAGS,De):En({}),hi=fn(C,"FORBID_ATTR")?W({},C.FORBID_ATTR,De):En({}),xe=fn(C,"USE_PROFILES")?C.USE_PROFILES:!1,Xl=C.ALLOW_ARIA_ATTR!==!1,pi=C.ALLOW_DATA_ATTR!==!1,fr=C.ALLOW_UNKNOWN_PROTOCOLS||!1,Kr=C.ALLOW_SELF_CLOSE_IN_ATTR!==!1,bn=C.SAFE_FOR_TEMPLATES||!1,mi=C.SAFE_FOR_XML!==!1,sn=C.WHOLE_DOCUMENT||!1,gi=C.RETURN_DOM||!1,hr=C.RETURN_DOM_FRAGMENT||!1,vi=C.RETURN_TRUSTED_TYPE||!1,ss=C.FORCE_BODY||!1,ls=C.SANITIZE_DOM!==!1,Yl=C.SANITIZE_NAMED_PROPS||!1,dr=C.KEEP_CONTENT!==!1,yi=C.IN_PLACE||!1,ve=C.ALLOWED_URI_REGEXP||hS,Si=C.NAMESPACE||zt,Jr=C.MATHML_TEXT_INTEGRATION_POINTS||Jr,Sn=C.HTML_INTEGRATION_POINTS||Sn,ae=C.CUSTOM_ELEMENT_HANDLING||{},C.CUSTOM_ELEMENT_HANDLING&&ps(C.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=C.CUSTOM_ELEMENT_HANDLING.tagNameCheck),C.CUSTOM_ELEMENT_HANDLING&&ps(C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=C.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),C.CUSTOM_ELEMENT_HANDLING&&typeof C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=C.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),bn&&(pi=!1),hr&&(gi=!0),xe&&(ye=W({},xv),J=[],xe.html===!0&&(W(ye,Cv),W(J,Dv)),xe.svg===!0&&(W(ye,xf),W(J,zf),W(J,Io)),xe.svgFilters===!0&&(W(ye,Df),W(J,zf),W(J,Io)),xe.mathMl===!0&&(W(ye,Rf),W(J,Rv),W(J,Io))),C.ADD_TAGS&&(typeof C.ADD_TAGS=="function"?di.tagCheck=C.ADD_TAGS:(ye===ke&&(ye=En(ye)),W(ye,C.ADD_TAGS,De))),C.ADD_ATTR&&(typeof C.ADD_ATTR=="function"?di.attributeCheck=C.ADD_ATTR:(J===Gt&&(J=En(J)),W(J,C.ADD_ATTR,De))),C.ADD_URI_SAFE_ATTR&&W(fs,C.ADD_URI_SAFE_ATTR,De),C.FORBID_CONTENTS&&(_e===_i&&(_e=En(_e)),W(_e,C.FORBID_CONTENTS,De)),C.ADD_FORBID_CONTENTS&&(_e===_i&&(_e=En(_e)),W(_e,C.ADD_FORBID_CONTENTS,De)),dr&&(ye["#text"]=!0),sn&&W(ye,["html","head","body"]),ye.table&&(W(ye,["tbody"]),delete cr.tbody),C.TRUSTED_TYPES_POLICY){if(typeof C.TRUSTED_TYPES_POLICY.createHTML!="function")throw js('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof C.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw js('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=C.TRUSTED_TYPES_POLICY,j=D.createHTML("")}else D===void 0&&(D=pR(N,r)),D!==null&&typeof j=="string"&&(j=D.createHTML(""));bt&&bt(C),Mn=C}},ms=W({},[...xf,...Df,...iR]),Ti=W({},[...Rf,...rR]),yr=function(C){let L=O(C);(!L||!L.tagName)&&(L={namespaceURI:Si,tagName:"template"});const Z=tu(C.tagName),be=tu(L.tagName);return gr[C.namespaceURI]?C.namespaceURI===mr?L.namespaceURI===zt?Z==="svg":L.namespaceURI===pr?Z==="svg"&&(be==="annotation-xml"||Jr[be]):!!ms[Z]:C.namespaceURI===pr?L.namespaceURI===zt?Z==="math":L.namespaceURI===mr?Z==="math"&&Sn[be]:!!Ti[Z]:C.namespaceURI===zt?L.namespaceURI===mr&&!Sn[be]||L.namespaceURI===pr&&!Jr[be]?!1:!Ti[Z]&&(ds[Z]||!ms[Z]):!!(In==="application/xhtml+xml"&&gr[C.namespaceURI]):!1},qt=function(C){Us(t.removed,{element:C});try{O(C).removeChild(C)}catch{B(C)}},Un=function(C,L){try{Us(t.removed,{attribute:L.getAttributeNode(C),from:L})}catch{Us(t.removed,{attribute:null,from:L})}if(L.removeAttribute(C),C==="is")if(gi||hr)try{qt(L)}catch{}else try{L.setAttribute(C,"")}catch{}},Ln=function(C){let L=null,Z=null;if(ss)C="<remove></remove>"+C;else{const Re=Cf(C,/^[\r\n\t ]+/);Z=Re&&Re[0]}In==="application/xhtml+xml"&&Si===zt&&(C='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+C+"</body></html>");const be=D?D.createHTML(C):C;if(Si===zt)try{L=new v().parseFromString(be,In)}catch{}if(!L||!L.documentElement){L=V.createDocument(Si,"template",null);try{L.documentElement.innerHTML=hs?j:be}catch{}}const je=L.body||L.documentElement;return C&&Z&&je.insertBefore(n.createTextNode(Z),je.childNodes[0]||null),Si===zt?g.call(L,sn?"html":"body")[0]:sn?L.documentElement:je},Ql=function(C){return _.call(C.ownerDocument||C,C,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},gs=function(C){return C instanceof y&&(typeof C.nodeName!="string"||typeof C.textContent!="string"||typeof C.removeChild!="function"||!(C.attributes instanceof p)||typeof C.removeAttribute!="function"||typeof C.setAttribute!="function"||typeof C.namespaceURI!="string"||typeof C.insertBefore!="function"||typeof C.hasChildNodes!="function")},Wr=function(C){return typeof o=="function"&&C instanceof o};function ln(q,C,L){ko(q,Z=>{Z.call(t,C,L,Mn)})}const ea=function(C){let L=null;if(ln(w.beforeSanitizeElements,C,null),gs(C))return qt(C),!0;const Z=De(C.nodeName);if(ln(w.uponSanitizeElement,C,{tagName:Z,allowedTags:ye}),mi&&C.hasChildNodes()&&!Wr(C.firstElementChild)&&mt(/<[/\w!]/g,C.innerHTML)&&mt(/<[/\w!]/g,C.textContent)||C.nodeType===Bs.progressingInstruction||mi&&C.nodeType===Bs.comment&&mt(/<[/\w]/g,C.data))return qt(C),!0;if(!(di.tagCheck instanceof Function&&di.tagCheck(Z))&&(!ye[Z]||cr[Z])){if(!cr[Z]&&on(Z)&&(ae.tagNameCheck instanceof RegExp&&mt(ae.tagNameCheck,Z)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Z)))return!1;if(dr&&!_e[Z]){const be=O(C)||C.parentNode,je=S(C)||C.childNodes;if(je&&be){const Re=je.length;for(let et=Re-1;et>=0;--et){const pt=U(je[et],!0);pt.__removalCount=(C.__removalCount||0)+1,be.insertBefore(pt,A(C))}}}return qt(C),!0}return C instanceof c&&!yr(C)||(Z==="noscript"||Z==="noembed"||Z==="noframes")&&mt(/<\/no(script|embed|frames)/i,C.innerHTML)?(qt(C),!0):(bn&&C.nodeType===Bs.text&&(L=C.textContent,ko([x,b,Xe],be=>{L=Ls(L,be," ")}),C.textContent!==L&&(Us(t.removed,{element:C.cloneNode()}),C.textContent=L)),ln(w.afterSanitizeElements,C,null),!1)},_r=function(C,L,Z){if(ls&&(L==="id"||L==="name")&&(Z in n||Z in vr))return!1;if(!(pi&&!hi[L]&&mt(Le,L))){if(!(Xl&&mt(P,L))){if(!(di.attributeCheck instanceof Function&&di.attributeCheck(L,C))){if(!J[L]||hi[L]){if(!(on(C)&&(ae.tagNameCheck instanceof RegExp&&mt(ae.tagNameCheck,C)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(C))&&(ae.attributeNameCheck instanceof RegExp&&mt(ae.attributeNameCheck,L)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(L,C))||L==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&mt(ae.tagNameCheck,Z)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Z))))return!1}else if(!fs[L]){if(!mt(ve,Ls(Z,X,""))){if(!((L==="src"||L==="xlink:href"||L==="href")&&C!=="script"&&WD(Z,"data:")===0&&us[C])){if(!(fr&&!mt(F,Ls(Z,X,"")))){if(Z)return!1}}}}}}}return!0},on=function(C){return C!=="annotation-xml"&&Cf(C,ue)},vs=function(C){ln(w.beforeSanitizeAttributes,C,null);const{attributes:L}=C;if(!L||gs(C))return;const Z={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let be=L.length;for(;be--;){const je=L[be],{name:Re,namespaceURI:et,value:pt}=je,Et=De(Re),br=pt;let Fe=Re==="value"?br:eR(br);if(Z.attrName=Et,Z.attrValue=Fe,Z.keepAttr=!0,Z.forceKeepAttr=void 0,ln(w.uponSanitizeAttribute,C,Z),Fe=Z.attrValue,Yl&&(Et==="id"||Et==="name")&&(Un(Re,C),Fe=os+Fe),mi&&mt(/((--!?|])>)|<\/(style|title|textarea)/i,Fe)){Un(Re,C);continue}if(Et==="attributename"&&Cf(Fe,"href")){Un(Re,C);continue}if(Z.forceKeepAttr)continue;if(!Z.keepAttr){Un(Re,C);continue}if(!Kr&&mt(/\/>/i,Fe)){Un(Re,C);continue}bn&&ko([x,b,Xe],_s=>{Fe=Ls(Fe,_s," ")});const ys=De(C.nodeName);if(!_r(ys,Et,Fe)){Un(Re,C);continue}if(D&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!et)switch(N.getAttributeType(ys,Et)){case"TrustedHTML":{Fe=D.createHTML(Fe);break}case"TrustedScriptURL":{Fe=D.createScriptURL(Fe);break}}if(Fe!==br)try{et?C.setAttributeNS(et,Re,Fe):C.setAttribute(Re,Fe),gs(C)?qt(C):Ov(t.removed)}catch{Un(Re,C)}}ln(w.afterSanitizeAttributes,C,null)},Jl=function q(C){let L=null;const Z=Ql(C);for(ln(w.beforeSanitizeShadowDOM,C,null);L=Z.nextNode();)ln(w.uponSanitizeShadowNode,L,null),ea(L),vs(L),L.content instanceof a&&q(L.content);ln(w.afterSanitizeShadowDOM,C,null)};return t.sanitize=function(q){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=null,Z=null,be=null,je=null;if(hs=!q,hs&&(q="<!-->"),typeof q!="string"&&!Wr(q))if(typeof q.toString=="function"){if(q=q.toString(),typeof q!="string")throw js("dirty is not a string, aborting")}else throw js("toString is not a function");if(!t.isSupported)return q;if(Qr||Ye(C),t.removed=[],typeof q=="string"&&(yi=!1),yi){if(q.nodeName){const pt=De(q.nodeName);if(!ye[pt]||cr[pt])throw js("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof o)L=Ln("<!---->"),Z=L.ownerDocument.importNode(q,!0),Z.nodeType===Bs.element&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?L=Z:L.appendChild(Z);else{if(!gi&&!bn&&!sn&&q.indexOf("<")===-1)return D&&vi?D.createHTML(q):q;if(L=Ln(q),!L)return gi?null:vi?j:""}L&&ss&&qt(L.firstChild);const Re=Ql(yi?q:L);for(;be=Re.nextNode();)ea(be),vs(be),be.content instanceof a&&Jl(be.content);if(yi)return q;if(gi){if(hr)for(je=m.call(L.ownerDocument);L.firstChild;)je.appendChild(L.firstChild);else je=L;return(J.shadowroot||J.shadowrootmode)&&(je=E.call(i,je,!0)),je}let et=sn?L.outerHTML:L.innerHTML;return sn&&ye["!doctype"]&&L.ownerDocument&&L.ownerDocument.doctype&&L.ownerDocument.doctype.name&&mt(dS,L.ownerDocument.doctype.name)&&(et="<!DOCTYPE "+L.ownerDocument.doctype.name+`>
`+et),bn&&ko([x,b,Xe],pt=>{et=Ls(et,pt," ")}),D&&vi?D.createHTML(et):et},t.setConfig=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ye(q),Qr=!0},t.clearConfig=function(){Mn=null,Qr=!1},t.isValidAttribute=function(q,C,L){Mn||Ye({});const Z=De(q),be=De(C);return _r(Z,be,L)},t.addHook=function(q,C){typeof C=="function"&&Us(w[q],C)},t.removeHook=function(q,C){if(C!==void 0){const L=QD(w[q],C);return L===-1?void 0:JD(w[q],L,1)[0]}return Ov(w[q])},t.removeHooks=function(q){w[q]=[]},t.removeAllHooks=function(){w=kv()},t}var az=pS();const mn=kn("Storage"),Qh="magic-internet-math-progress",kf=2;function mS(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function gS(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.chaptersCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function _c(){if(!mS())return mn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(Qh);if(!e)return null;const t=JSON.parse(e);return gS(t)?(t.version!==kf&&(mn.info(`Migrating state from v${t.version} to v${kf}`),t.version=kf),t):(mn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){mn.error("Failed to load gamification state:",e);try{localStorage.removeItem(Qh),mn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function vS(e){if(!mS()){mn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Qh,JSON.stringify(e))}catch(t){mn.error("Failed to save gamification state:",t)}}const mR=1;function gR(){const e=_c();if(!e){mn.warn("No progress data to export");return}const t={version:mR,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),mn.info("Progress exported successfully")}function vR(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!gS(t.state))}async function yR(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var r;try{const a=(r=i.target)==null?void 0:r.result;if(typeof a!="string"){t({success:!1,message:"Failed to read file"});return}const l=JSON.parse(a);if(!vR(l)){t({success:!1,message:"Invalid backup file format"});return}const o=_c(),c=(o==null?void 0:o.user.totalXP)??0,h=l.state.user.totalXP;if(c>h){t({success:!1,message:`Current progress (${c} XP) is higher than backup (${h} XP). Import cancelled.`});return}vS(l.state),mn.info(`Progress imported: ${h} XP from backup dated ${l.exportedAt}`),t({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(a){mn.error("Failed to parse backup file:",a),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function _R(){const e=_c();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function yS(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:bR(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:uS,completed:!1},lastUpdated:e}}function bR(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const SR=50;function Iv(e){return Math.round(e/SR*100)}const ER=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Iv(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Iv(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function TR(e){const t=[];for(const n of ER){const i=e.achievements.find(a=>a.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function bc(e){for(let t=cl.length-1;t>=0;t--)if(e>=cl[t])return t+1;return 1}function AR(e,t){if(t>=cl.length)return 100;const n=cl[t-1],i=cl[t],r=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,r))}function wR(e,t){const n={easy:Ct.QUIZ_EASY,medium:Ct.QUIZ_MEDIUM,hard:Ct.QUIZ_HARD}[e];return Math.round(n*(t/100))}const NR=1e3*60*60*24;function OR(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:uS,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const r=new Date(i),a=Math.floor((t.getTime()-r.getTime())/NR);if(a===0)return e;if(a===1){const l=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:l,longestStreak:Math.max(l,e.streak.longestStreak),lastActivityDate:n}}}return a===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function _S(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(a=>a.score)),i=t.reduce((a,l)=>a+l.score,0)/t.length;return t.filter(a=>a.score===100).length>=1||i>=90&&t.length>=3?"mastered":n>=80||i>=70&&t.length>=2?"familiar":"learning"}function CR(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const gp=kn("GamificationReducer");function xR(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const r=e.user.totalXP+Ct.SECTION_VISIT;return{...e,user:{...e.user,totalXP:r,level:bc(r)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+Ct.SECTION_VISIT},lastUpdated:n}}function DR(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return gp.warn(`Attempted to complete unvisited section: ${t}`),e;const r=e.user.totalXP+Ct.SECTION_COMPLETE,a=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:r,level:bc(r),sectionsCompleted:a},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:_S(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+Ct.SECTION_COMPLETE},lastUpdated:n}}function RR(e,t,n){const{sectionId:i,difficulty:r,score:a,correctAnswers:l,totalQuestions:o}=t,c=e.sections[i];if(!c)return gp.warn(`Section ${i} was not visited before quiz`),e;const h=wR(r,a),p=l===o,y=p?Math.round(h*(1+Ct.QUIZ_PERFECT_BONUS)):h,v=e.user.totalXP+y,N={timestamp:n,difficulty:r,score:a,correctAnswers:l,totalQuestions:o,xpEarned:y},z=[...c.quizAttempts,N],U={...c,quizAttempts:z},B=_S(U),A=a>=80&&!c.completedAt,S=A&&!e.user.sectionsCompleted.includes(i),O=S?Ct.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:v+O,level:bc(v+O),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:p?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:S?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...U,masteryLevel:B,completedAt:A?c.completedAt||n:c.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+y+O},lastUpdated:n}}function zR(e,t,n,i){const r=e.sections[t];if(r!=null&&r.visualizationsInteracted.includes(n))return e;if(!r)return gp.warn(`Section ${t} was not visited before visualization`),e;const a=e.user.totalXP+Ct.VISUALIZATION_USE,l=[...r.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:a,level:bc(a),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...r,visualizationsInteracted:l}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+Ct.VISUALIZATION_USE},lastUpdated:i}}function kR(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"VISIT_SECTION":return xR(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return DR(e,t.payload.sectionId,n);case"RECORD_QUIZ":return RR(e,t.payload,n);case"USE_VISUALIZATION":return zR(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return OR(e);case"RESET_PROGRESS":return yS();default:return e}}const IR=500,MR=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},Mv=(e,t)=>{MR()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},bS=G.createContext(null);function UR({children:e,courseId:t}){const[n,i]=G.useReducer(kR,yS()),[r,a]=G.useState(!0),[l,o]=G.useState([]),c=G.useRef(null),h=G.useCallback(A=>`${t}:${A}`,[t]);G.useEffect(()=>{const A=_c();A&&i({type:"LOAD_STATE",payload:A}),a(!1)},[]),G.useEffect(()=>{r||vS(n)},[n,r]),G.useEffect(()=>{r||i({type:"UPDATE_STREAK"})},[r]),G.useEffect(()=>{if(!r)return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{const A=TR(n);A.length>0&&o(S=>[...S,...A])},IR),()=>{c.current&&clearTimeout(c.current)}},[n,r]);const p=G.useCallback(A=>{i({type:"VISIT_SECTION",payload:{sectionId:h(A)}})},[h]),y=G.useCallback(A=>{i({type:"COMPLETE_SECTION",payload:{sectionId:h(A)}}),Mv("sectionCompleted",{sectionId:h(A),courseId:t})},[h,t]),v=G.useCallback((A,S,O,D,j)=>{i({type:"RECORD_QUIZ",payload:{sectionId:h(A),difficulty:S,score:O,correctAnswers:D,totalQuestions:j}}),Mv("quizCompleted",{sectionId:h(A),courseId:t,score:O,correctAnswers:D,totalQuestions:j})},[h,t]),N=G.useCallback((A,S)=>{i({type:"USE_VISUALIZATION",payload:{sectionId:h(A),name:S}})},[h]),z=G.useCallback(A=>{o(S=>S.filter(O=>O.id!==A))},[]),U=G.useCallback(()=>{i({type:"RESET_PROGRESS"})},[]),B=G.useMemo(()=>({state:n,isLoading:r,notifications:l,visitSection:p,completeSection:y,recordQuiz:v,useVisualization:N,dismissNotification:z,resetProgress:U}),[n,r,l,p,y,v,N,z,U]);return T.jsx(bS.Provider,{value:B,children:e})}function Sc(){const e=G.useContext(bS);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const LR=wl;function sz(e){return`${LR}:${e}`}function jR({children:e}){return T.jsx(UR,{courseId:wl,children:e})}function SS({xp:e,level:t,compact:n=!1}){const i=AR(e,t);return n?T.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[T.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),T.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:T.jsx("span",{className:"text-sm font-bold text-white",children:t})}),T.jsxs("div",{className:"flex-1 min-w-[80px]",children:[T.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[T.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),T.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),T.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:T.jsx(nu.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function ES({streak:e}){return e===0?null:T.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[T.jsx("span",{className:"text-orange-400",children:""}),T.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function HR({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:r}=CR(e);return T.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[T.jsx("span",{className:"text-sm",children:r}),t&&T.jsx("span",{className:"text-xs",children:n})]})}const BR={progress:"",mastery:"",dedication:"",exploration:""};function PR({notification:e,onDismiss:t}){return G.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),T.jsx(nu.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:T.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:BR[e.category]||""}),T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),T.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),T.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),T.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),T.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function ZR(){const{notifications:e,dismissNotification:t}=Sc();return T.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:T.jsx(If,{mode:"popLayout",children:e.map(n=>T.jsx(PR,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function VR({onImportSuccess:e}){const[t,n]=G.useState(!1),[i,r]=G.useState(null),[a,l]=G.useState(!1),o=G.useRef(null),c=_R(),h=()=>{gR(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},p=()=>{var v;(v=o.current)==null||v.click()},y=async v=>{var U;const N=(U=v.target.files)==null?void 0:U[0];if(!N)return;l(!0),r(null);const z=await yR(N);l(!1),r({type:z.success?"success":"error",text:z.message}),z.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),o.current&&(o.current.value="")};return T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:T.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),T.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[T.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),c&&T.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[T.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),T.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[T.jsxs("span",{className:"text-accent-400 font-semibold",children:[c.totalXP," XP"]}),T.jsxs("span",{className:"text-dark-300",children:["Level ",c.level]}),T.jsxs("span",{className:"text-dark-400",children:[c.sectionsCompleted," sections"]})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("button",{onClick:h,disabled:!c,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),T.jsxs("button",{onClick:p,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a?"Importing...":"Import Backup"]}),T.jsx("input",{ref:o,type:"file",accept:".json",onChange:y,className:"hidden"})]}),i&&T.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),T.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function GR({onToggleSidebar:e,sidebarOpen:t}){const i=Sc();return T.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:T.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:T.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),T.jsxs(la,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[T.jsx("span",{className:"text-2xl",children:C_}),T.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:O_})]})]}),T.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[T.jsx("a",{href:T1,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),T.jsx(la,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),T.jsx(la,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),T.jsx(la,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),T.jsx(la,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[i&&T.jsxs(T.Fragment,{children:[T.jsx(ES,{streak:i.state.streak.currentStreak}),T.jsx(SS,{xp:i.state.user.totalXP,level:i.state.user.level})]}),T.jsx(VR,{})]})]})})}const Fr=[{id:1,title:"Foundations",slug:"foundations",sections:[{id:1,title:"Introduction to Cryptography",slug:"intro",description:"Why math matters for cryptography and the concept of one-way functions."},{id:2,title:"Numerical Bases",slug:"numerical-bases",description:"Binary, hexadecimal, and base conversions essential for cryptography."},{id:3,title:"Modular Arithmetic",slug:"modular-arithmetic",description:"Clock math - the foundation of all cryptographic operations."},{id:4,title:"Prime Numbers",slug:"primes",description:"The indivisible building blocks of cryptography."},{id:5,title:"Greatest Common Divisor",slug:"gcd",description:"The Euclidean algorithm and finding what numbers share."}]},{id:2,title:"Core Tools",slug:"core-tools",sections:[{id:6,title:"Modular Inverse",slug:"modular-inverse",description:"Division in modular arithmetic and the Extended Euclidean Algorithm."},{id:7,title:"Euler's Totient Function",slug:"euler-totient",description:"Counting coprime numbers and Euler's powerful theorem."},{id:8,title:"Modular Exponentiation",slug:"mod-exp",description:"Fast computation of huge powers using square-and-multiply."},{id:9,title:"Discrete Logarithm",slug:"discrete-log",description:"The hard problem that secures the web."}]},{id:3,title:"Cryptographic Protocols",slug:"protocols",sections:[{id:10,title:"RSA Encryption",slug:"rsa",description:"The most famous public-key encryption algorithm."},{id:11,title:"Diffie-Hellman Key Exchange",slug:"diffie-hellman",description:"Sharing secrets over public channels."},{id:12,title:"Elliptic Curve Cryptography",slug:"elliptic-curves",description:"Modern cryptography on curves - smaller keys, same security."}]}];function lz(e){for(const t of Fr){const n=t.sections.find(i=>i.id===e);if(n)return n}}function oz(e){return Fr.find(t=>t.sections.some(n=>n.id===e))}function uz(e){const t=Fr.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function qR(){return Fr.reduce((e,t)=>e+t.sections.length,0)}function $R(){return Fr.flatMap(e=>e.sections)}function cz(e){return $R().findIndex(n=>n.id===e)}function XR({isOpen:e,onClose:t}){const[n,i]=G.useState(new Set([1])),a=Sc(),l=c=>{i(h=>{const p=new Set(h);return p.has(c)?p.delete(c):p.add(c),p})},o=c=>{var p;if(!a)return"none";const h=`${wl}:${c}`;return((p=a.state.sections[h])==null?void 0:p.masteryLevel)??"none"};return T.jsxs(T.Fragment,{children:[T.jsx(If,{children:e&&T.jsx(nu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),T.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:T.jsxs("nav",{className:"p-4",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:T.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),T.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),T.jsxs("ul",{className:"space-y-0.5",children:[T.jsx("li",{children:T.jsxs(xc,{to:"/theorems",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),T.jsx("li",{children:T.jsxs(xc,{to:"/interactive",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[T.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),T.jsx("div",{className:"space-y-2",children:Fr.map(c=>T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>l(c.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:T.jsx("span",{className:"text-xs font-bold text-primary-400",children:c.id})}),T.jsx("span",{className:"text-sm font-medium text-dark-200",children:c.title})]}),T.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(c.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),T.jsx(If,{children:n.has(c.id)&&T.jsx(nu.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:c.sections.map(h=>T.jsx("li",{children:T.jsxs(xc,{to:`/section/${h.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:p})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[T.jsx("span",{className:"truncate",children:h.title}),T.jsx(HR,{level:o(h.id)})]})},h.id))})})]},c.id))})]})})]})}function Uv(){const t=Sc(),n=qR(),i=t?t.state.user.sectionsCompleted.filter(a=>a.startsWith(wl)).length:0,r=Math.round(i/n*100);return T.jsx("div",{className:"py-8 px-4",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("span",{className:"text-6xl mb-4 block",children:C_}),T.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:O_}),T.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:E1})]}),t&&T.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),T.jsx(ES,{streak:t.state.streak.currentStreak})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsx("div",{children:T.jsx(SS,{xp:t.state.user.totalXP,level:t.state.user.level})}),T.jsxs("div",{className:"flex flex-col justify-center",children:[T.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[T.jsx("span",{className:"text-dark-400",children:"Course Progress"}),T.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),T.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),T.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),T.jsxs("div",{className:"flex flex-col justify-center items-end",children:[T.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),T.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),T.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),T.jsx("div",{className:"space-y-4",children:Fr.map(a=>T.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:T.jsx("span",{className:"text-lg font-bold text-primary-400",children:a.id})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:a.title}),T.jsxs("p",{className:"text-sm text-dark-400",children:[a.sections.length," sections"]})]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:a.sections.map(l=>{const o=`${wl}:${l.id}`,c=t==null?void 0:t.state.user.sectionsCompleted.includes(o);return T.jsxs(la,{to:`/section/${l.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[T.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:c?T.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):T.jsx("span",{className:"text-xs",children:l.id})}),T.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:l.title})]},l.id)})})]},a.id))})]})})}const YR=G.lazy(()=>vt(()=>import("./Leaderboard-ohDOTYd4.js"),__vite__mapDeps([0,1,2,3]))),FR=G.lazy(()=>vt(()=>import("./Theorems-Bm0HOyWJ.js"),__vite__mapDeps([4,1,2,3,5]))),KR=G.lazy(()=>vt(()=>import("./InteractiveModules-DE98-rW4.js"),__vite__mapDeps([6,1,2,3]))),QR={1:()=>vt(()=>import("./Section01-D8DRMx2h.js"),__vite__mapDeps([7,1,2,8,3])),2:()=>vt(()=>import("./Section02-BZWjbXTb.js"),__vite__mapDeps([9,1,2,8,10,3,5])),3:()=>vt(()=>import("./Section03-7FqDQ3EW.js"),__vite__mapDeps([11,1,2,8,10,3,5])),4:()=>vt(()=>import("./Section04-CJS142P8.js"),__vite__mapDeps([12,1,2,8,10,3,5])),5:()=>vt(()=>import("./Section05-DWoaKQQk.js"),__vite__mapDeps([13,1,2,8,10,3,5])),6:()=>vt(()=>import("./Section06-D_YYZwLd.js"),__vite__mapDeps([14,1,2,8,10,3,5])),7:()=>vt(()=>import("./Section07-BrhZSiTb.js"),__vite__mapDeps([15,1,2,8,10,3,5])),8:()=>vt(()=>import("./Section08-CTXj6eiN.js"),__vite__mapDeps([16,1,2,8,10,3,5])),9:()=>vt(()=>import("./Section09-n9COXbqn.js"),__vite__mapDeps([17,1,2,8,10,3,5])),10:()=>vt(()=>import("./Section10-CLw092Jw.js"),__vite__mapDeps([18,1,2,8,10,3,5])),11:()=>vt(()=>import("./Section11-D-UHkCGJ.js"),__vite__mapDeps([19,1,2,8,10,3,5])),12:()=>vt(()=>import("./Section12-Dms3KR1A.js"),__vite__mapDeps([20,1,2,8,10,3,5]))},TS={};for(const[e,t]of Object.entries(QR))TS[Number(e)]=G.lazy(t);function JR(){const{id:e}=GS(),t=parseInt(e||"0",10),n=TS[t];return n?T.jsx(G.Suspense,{fallback:T.jsx(eu,{message:"Loading section..."}),children:T.jsx(n,{})}):T.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),T.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function WR({children:e}){const[t,n]=G.useState(!1);return T.jsxs("div",{className:"min-h-screen bg-dark-950",children:[T.jsx(GR,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),T.jsx(XR,{isOpen:t,onClose:()=>n(!1)}),T.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function ez(){return T.jsxs(T.Fragment,{children:[T.jsx(WR,{children:T.jsxs(VS,{children:[T.jsx(ra,{path:"/",element:T.jsx(Uv,{})}),T.jsx(ra,{path:"/leaderboard",element:T.jsx(G.Suspense,{fallback:T.jsx(eu,{message:"Loading leaderboard..."}),children:T.jsx(YR,{})})}),T.jsx(ra,{path:"/theorems",element:T.jsx(G.Suspense,{fallback:T.jsx(eu,{message:"Loading theorems..."}),children:T.jsx(FR,{})})}),T.jsx(ra,{path:"/interactive",element:T.jsx(G.Suspense,{fallback:T.jsx(eu,{message:"Loading modules..."}),children:T.jsx(KR,{})})}),T.jsx(ra,{path:"/section/:id",element:T.jsx(JR,{})}),T.jsx(ra,{path:"*",element:T.jsx(Uv,{})})]})}),T.jsx(ZR,{})]})}function tz(){return T.jsx(qD,{children:T.jsxs(ZD,{children:[T.jsx(ZS,{children:T.jsx(BD,{children:T.jsx(jR,{children:T.jsx(ez,{})})})}),T.jsx($D,{})]})})}_1.createRoot(document.getElementById("root")).render(T.jsx(G.StrictMode,{children:T.jsx(tz,{})}));export{O_ as C,GR as H,XR as S,oz as a,uz as b,qR as c,cz as d,lz as g,sz as m,az as p,Sc as u};
