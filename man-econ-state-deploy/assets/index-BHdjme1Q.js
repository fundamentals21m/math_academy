const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-CuEYtLME.js","./vendor-animation-0o8UKZ_1.js","./vendor-react-Drj8qL0h.js","./vendor-math-p018AHG0.js","./vendor-firebase-core-BXWtuYvb.js","./Theorems-V9KvoPEV.js","./Sidebar-BYYx6UJg.js","./InteractiveModules-DuVI_KIe.js","./Section00-kxyyGmHK.js","./Card-CZv6gxvu.js","./Section01-BTg2x-eC.js","./Section02-Bs8uaTC7.js","./Section03-BU3nvCy6.js","./Section04-CE02YkEd.js","./Section05-DpgW4y37.js","./Section06-CYP8p8WZ.js","./Section07-tYP1fRuR.js","./Section08-DfJ8mFNq.js","./Section09-D5NX6qmn.js","./Section10-COv8aB_3.js","./Section11-D8M2pxYp.js","./Section12-Bkn0Mprf.js","./Section13-Bv2PXZFY.js","./Section14-ByJSuub_.js","./Section15-DWN-A_tT.js","./Section16-BCC1memu.js","./Section17-CD8Ns5ZL.js","./Section18-CqVEfzeC.js"])))=>i.map(i=>d[i]);
import{j as g,m as ci,A as pd}from"./vendor-animation-0o8UKZ_1.js";import{r as V,a as MS,L as Ln,N as Ya,u as _v,H as zS,R as US,b as Lr}from"./vendor-react-Drj8qL0h.js";import{k as bm}from"./vendor-math-p018AHG0.js";import{o as LS}from"./vendor-firebase-core-BXWtuYvb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var bv={exports:{}},xu={},Sv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,X){var F=B.length;B.push(X);e:for(;0<F;){var ue=F-1>>>1,Se=B[ue];if(0<r(Se,X))B[ue]=X,B[F]=Se,F=ue;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],F=B.pop();if(F!==X){B[0]=F;e:for(var ue=0,Se=B.length,Y=Se>>>1;ue<Y;){var J=2*(ue+1)-1,W=B[J],Ie=J+1,fe=B[Ie];if(0>r(W,F))Ie<Se&&0>r(fe,W)?(B[ue]=fe,B[Ie]=F,ue=Ie):(B[ue]=W,B[J]=F,ue=J);else if(Ie<Se&&0>r(fe,F))B[ue]=fe,B[Ie]=F,ue=Ie;else break e}}return X}function r(B,X){var F=B.sortIndex-X.sortIndex;return F!==0?F:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],h=1,p=null,m=3,S=!1,I=!1,M=!1,L=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(B){for(var X=n(f);X!==null;){if(X.callback===null)i(f);else if(X.startTime<=B)i(f),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(f)}}function j(B){if(M=!1,k(B),!I)if(n(u)!==null)I=!0,H||(H=!0,C());else{var X=n(f);X!==null&&le(j,X.startTime-B)}}var H=!1,E=-1,_=5,b=-1;function v(){return L?!0:!(e.unstable_now()-b<_)}function T(){if(L=!1,H){var B=e.unstable_now();b=B;var X=!0;try{e:{I=!1,M&&(M=!1,A(E),E=-1),S=!0;var F=m;try{t:{for(k(B),p=n(u);p!==null&&!(p.expirationTime>B&&v());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,m=p.priorityLevel;var Se=ue(p.expirationTime<=B);if(B=e.unstable_now(),typeof Se=="function"){p.callback=Se,k(B),X=!0;break t}p===n(u)&&i(u),k(B)}else i(u);p=n(u)}if(p!==null)X=!0;else{var Y=n(f);Y!==null&&le(j,Y.startTime-B),X=!1}}break e}finally{p=null,m=F,S=!1}X=void 0}}finally{X?C():H=!1}}}var C;if(typeof O=="function")C=function(){O(T)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ae=w.port2;w.port1.onmessage=T,C=function(){ae.postMessage(null)}}else C=function(){x(T,0)};function le(B,X){E=x(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var F=m;m=X;try{return B()}finally{m=F}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=m;m=B;try{return X()}finally{m=F}},e.unstable_scheduleCallback=function(B,X,F){var ue=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ue+F:ue):F=ue,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=F+Se,B={id:h++,callback:X,priorityLevel:B,startTime:F,expirationTime:Se,sortIndex:-1},F>ue?(B.sortIndex=F,t(f,B),n(u)===null&&B===n(f)&&(M?(A(E),E=-1):M=!0,le(j,F-ue))):(B.sortIndex=Se,t(u,B),I||S||(I=!0,H||(H=!0,C()))),B},e.unstable_shouldYield=v,e.unstable_wrapCallback=function(B){var X=m;return function(){var F=m;m=X;try{return B.apply(this,arguments)}finally{m=F}}}})(Tv);Sv.exports=Tv;var jS=Sv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=jS,Ev=V,PS=MS;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function wv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sm(e){if(nl(e)!==e)throw Error(U(188))}function BS(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Sm(r),e;if(s===i)return Sm(r),t;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Nv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Nv(e),t!==null)return t;e=e.sibling}return null}var ke=Object.assign,HS=Symbol.for("react.element"),Pl=Symbol.for("react.transitional.element"),uo=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),Ov=Symbol.for("react.consumer"),ui=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),yd=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),vd=Symbol.for("react.activity"),qS=Symbol.for("react.memo_cache_sentinel"),Tm=Symbol.iterator;function Qa(e){return e===null||typeof e!="object"?null:(e=Tm&&e[Tm]||e["@@iterator"],typeof e=="function"?e:null)}var VS=Symbol.for("react.client.reference");function _d(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===VS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case md:return"Profiler";case Cv:return"StrictMode";case gd:return"Suspense";case yd:return"SuspenseList";case vd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case uo:return"Portal";case ui:return e.displayName||"Context";case Ov:return(e._context.displayName||"Context")+".Consumer";case Oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kh:return t=e.displayName||null,t!==null?t:_d(e.type)||"Memo";case ji:t=e._payload,e=e._init;try{return _d(e(t))}catch{}}return null}var fo=Array.isArray,Q=Ev.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=PS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xr={pending:!1,data:null,method:null,action:null},bd=[],ks=-1;function $n(e){return{current:e}}function ut(e){0>ks||(e.current=bd[ks],bd[ks]=null,ks--)}function xe(e,t){ks++,bd[ks]=e.current,e.current=t}var qn=$n(null),Uo=$n(null),Wi=$n(null),Dc=$n(null);function Mc(e,t){switch(xe(Wi,t),xe(Uo,e),xe(qn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cg(t),e=Y_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(qn),xe(qn,e)}function na(){ut(qn),ut(Uo),ut(Wi)}function Sd(e){e.memoizedState!==null&&xe(Dc,e);var t=qn.current,n=Y_(t,e.type);t!==n&&(xe(Uo,e),xe(qn,n))}function zc(e){Uo.current===e&&(ut(qn),ut(Uo)),Dc.current===e&&(ut(Dc),Xo._currentValue=Xr)}var uf,Em;function Pr(e){if(uf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);uf=t&&t[1]||"",Em=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uf+e+Em}var ff=!1;function df(e,t){if(!e||ff)return"";ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(S){var m=S}Reflect.construct(e,[],p)}else{try{p.call()}catch(S){m=S}e.call(p.prototype)}}else{try{throw Error()}catch(S){m=S}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(S){if(S&&m&&typeof S.stack=="string")return[S.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),f=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<f.length&&!f[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===f.length)for(i=u.length-1,r=f.length-1;1<=i&&0<=r&&u[i]!==f[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==f[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==f[r]){var h=`
`+u[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=r);break}}}finally{ff=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Pr(n):""}function GS(e,t){switch(e.tag){case 26:case 27:case 5:return Pr(e.type);case 16:return Pr("Lazy");case 13:return e.child!==t&&t!==null?Pr("Suspense Fallback"):Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 15:return df(e.type,!1);case 11:return df(e.type.render,!1);case 1:return df(e.type,!0);case 31:return Pr("Activity");default:return""}}function wm(e){try{var t="",n=null;do t+=GS(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Td=Object.prototype.hasOwnProperty,Ih=st.unstable_scheduleCallback,hf=st.unstable_cancelCallback,ZS=st.unstable_shouldYield,$S=st.unstable_requestPaint,$t=st.unstable_now,XS=st.unstable_getCurrentPriorityLevel,kv=st.unstable_ImmediatePriority,Iv=st.unstable_UserBlockingPriority,Uc=st.unstable_NormalPriority,FS=st.unstable_LowPriority,Rv=st.unstable_IdlePriority,YS=st.log,QS=st.unstable_setDisableYieldValue,il=null,Xt=null;function Fi(e){if(typeof YS=="function"&&QS(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(il,e)}catch{}}var Ft=Math.clz32?Math.clz32:WS,KS=Math.log,JS=Math.LN2;function WS(e){return e>>>=0,e===0?32:31-(KS(e)/JS|0)|0}var Bl=256,Hl=262144,ql=4194304;function Br(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Br(i):(a&=l,a!==0?r=Br(a):n||(n=l&~e,n!==0&&(r=Br(n))))):(l=i&~s,l!==0?r=Br(l):a!==0?r=Br(a):n||(n=i&~e,n!==0&&(r=Br(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function rl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(){var e=ql;return ql<<=1,!(ql&62914560)&&(ql=4194304),e}function pf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tT(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,f=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Ft(n),p=1<<h;l[h]=0,u[h]=-1;var m=f[h];if(m!==null)for(f[h]=null,h=0;h<m.length;h++){var S=m[h];S!==null&&(S.lane&=-536870913)}n&=~p}i!==0&&Mv(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Mv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ft(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function zv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ft(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Uv(e,t){var n=t&-t;return n=n&42?1:Rh(n),n&(e.suspendedLanes|t)?0:n}function Rh(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dh(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Lv(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:ab(e.type))}function Am(e,t){var n=ge.p;try{return ge.p=e,t()}finally{ge.p=n}}var vr=Math.random().toString(36).slice(2),mt="__reactFiber$"+vr,Rt="__reactProps$"+vr,ya="__reactContainer$"+vr,Ed="__reactEvents$"+vr,nT="__reactListeners$"+vr,iT="__reactHandles$"+vr,xm="__reactResources$"+vr,al="__reactMarker$"+vr;function Mh(e){delete e[mt],delete e[Rt],delete e[Ed],delete e[nT],delete e[iT]}function Is(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ya]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[mt])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function va(e){if(e=e[mt]||e[ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ho(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Gs(e){var t=e[xm];return t||(t=e[xm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[al]=!0}var jv=new Set,Pv={};function us(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(Pv[e]=t,e=0;e<t.length;e++)jv.add(t[e])}var rT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nm={},Cm={};function sT(e){return Td.call(Cm,e)?!0:Td.call(Nm,e)?!1:rT.test(e)?Cm[e]=!0:(Nm[e]=!0,!1)}function fc(e,t,n){if(sT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aT(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wd(e){if(!e._valueTracker){var t=Bv(e)?"checked":"value";e._valueTracker=aT(e,t,""+e[t])}}function Hv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Bv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oT=/[\n"\\]/g;function sn(e){return e.replace(oT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ad(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?xd(e,a,tn(t)):n!=null?xd(e,a,tn(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+tn(l):e.removeAttribute("name")}function qv(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){wd(e);return}n=n!=null?""+tn(n):"",t=t!=null?""+tn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),wd(e)}function xd(e,t,n){t==="number"&&Lc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Zs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Vv(e,t,n){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+tn(n):""}function Gv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(fo(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=tn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),wd(e)}function ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Om(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||lT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zv(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Om(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Om(e,s,t[s])}function zh(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(e){return uT.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Nd=null;function Uh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,$s=null;function km(e){var t=va(e);if(t&&(e=t.stateNode)){var n=e[Rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ad(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Rt]||null;if(!r)throw Error(U(90));Ad(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Hv(i)}break e;case"textarea":Vv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Zs(e,!!n.multiple,t,!1)}}}var mf=!1;function $v(e,t,n){if(mf)return e(t,n);mf=!0;try{var i=e(t);return i}finally{if(mf=!1,(Rs!==null||$s!==null)&&(Pu(),Rs&&(t=Rs,e=$s,$s=Rs=null,km(t),e)))for(t=0;t<e.length;t++)km(e[t])}}function Lo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Rt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=!1;if(vi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Cd=!1}var Yi=null,Lh=null,hc=null;function Xv(){if(hc)return hc;var e,t=Lh,n=t.length,i,r="value"in Yi?Yi.value:Yi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return hc=r.slice(e,1<i?1-i:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Im(){return!1}function Dt(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:Im,this.isPropagationStopped=Im,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=Dt(fs),ol=ke({},fs,{view:0,detail:0}),fT=Dt(ol),gf,yf,Ja,Ou=ke({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(gf=e.screenX-Ja.screenX,yf=e.screenY-Ja.screenY):yf=gf=0,Ja=e),gf)},movementY:function(e){return"movementY"in e?e.movementY:yf}}),Rm=Dt(Ou),dT=ke({},Ou,{dataTransfer:0}),hT=Dt(dT),pT=ke({},ol,{relatedTarget:0}),vf=Dt(pT),mT=ke({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),gT=Dt(mT),yT=ke({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vT=Dt(yT),_T=ke({},fs,{data:0}),Dm=Dt(_T),bT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ST={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TT[e])?!!t[e]:!1}function jh(){return ET}var wT=ke({},ol,{key:function(e){if(e.key){var t=bT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ST[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jh,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AT=Dt(wT),xT=ke({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mm=Dt(xT),NT=ke({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jh}),CT=Dt(NT),OT=ke({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kT=Dt(OT),IT=ke({},Ou,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=Dt(IT),DT=ke({},fs,{newState:0,oldState:0}),MT=Dt(DT),zT=[9,13,27,32],Ph=vi&&"CompositionEvent"in window,yo=null;vi&&"documentMode"in document&&(yo=document.documentMode);var UT=vi&&"TextEvent"in window&&!yo,Fv=vi&&(!Ph||yo&&8<yo&&11>=yo),zm=" ",Um=!1;function Yv(e,t){switch(e){case"keyup":return zT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function LT(e,t){switch(e){case"compositionend":return Qv(t);case"keypress":return t.which!==32?null:(Um=!0,zm);case"textInput":return e=t.data,e===zm&&Um?null:e;default:return null}}function jT(e,t){if(Ds)return e==="compositionend"||!Ph&&Yv(e,t)?(e=Xv(),hc=Lh=Yi=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fv&&t.locale!=="ko"?null:t.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PT[e.type]:t==="textarea"}function Kv(e,t,n,i){Rs?$s?$s.push(i):$s=[i]:Rs=i,t=tu(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var vo=null,jo=null;function BT(e){$_(e,0)}function ku(e){var t=ho(e);if(Hv(t))return e}function jm(e,t){if(e==="change")return t}var Jv=!1;if(vi){var _f;if(vi){var bf="oninput"in document;if(!bf){var Pm=document.createElement("div");Pm.setAttribute("oninput","return;"),bf=typeof Pm.oninput=="function"}_f=bf}else _f=!1;Jv=_f&&(!document.documentMode||9<document.documentMode)}function Bm(){vo&&(vo.detachEvent("onpropertychange",Wv),jo=vo=null)}function Wv(e){if(e.propertyName==="value"&&ku(jo)){var t=[];Kv(t,jo,e,Uh(e)),$v(BT,t)}}function HT(e,t,n){e==="focusin"?(Bm(),vo=t,jo=n,vo.attachEvent("onpropertychange",Wv)):e==="focusout"&&Bm()}function qT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ku(jo)}function VT(e,t){if(e==="click")return ku(t)}function GT(e,t){if(e==="input"||e==="change")return ku(t)}function ZT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:ZT;function Po(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Td.call(t,r)||!Qt(e[r],t[r]))return!1}return!0}function Hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qm(e,t){var n=Hm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hm(n)}}function e0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Lc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lc(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $T=vi&&"documentMode"in document&&11>=document.documentMode,Ms=null,Od=null,_o=null,kd=!1;function Vm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kd||Ms==null||Ms!==Lc(i)||(i=Ms,"selectionStart"in i&&Bh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_o&&Po(_o,i)||(_o=i,i=tu(Od,"onSelect"),0<i.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ms)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zs={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Sf={},n0={};vi&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function ds(e){if(Sf[e])return Sf[e];if(!zs[e])return e;var t=zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in n0)return Sf[e]=t[n];return e}var i0=ds("animationend"),r0=ds("animationiteration"),s0=ds("animationstart"),XT=ds("transitionrun"),FT=ds("transitionstart"),YT=ds("transitioncancel"),a0=ds("transitionend"),o0=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function xn(e,t){o0.set(e,t),us(t,[e])}var jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],Us=0,Hh=0;function Iu(){for(var e=Us,t=Hh=Us=0;t<e;){var n=en[t];en[t++]=null;var i=en[t];en[t++]=null;var r=en[t];en[t++]=null;var s=en[t];if(en[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&l0(n,r,s)}}function Ru(e,t,n,i){en[Us++]=e,en[Us++]=t,en[Us++]=n,en[Us++]=i,Hh|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function qh(e,t,n,i){return Ru(e,t,n,i),Pc(e)}function hs(e,t){return Ru(e,null,null,t),Pc(e)}function l0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Ft(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Pc(e){if(50<Co)throw Co=0,Jd=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function QT(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,n,i){return new QT(e,t,n,i)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,t){var n=e.alternate;return n===null?(n=Vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function c0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mc(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Vh(e)&&(a=1);else if(typeof e=="string")a=tw(e,n,qn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case vd:return e=Vt(31,n,t,r),e.elementType=vd,e.lanes=s,e;case Os:return Fr(n.children,r,s,t);case Cv:a=8,r|=24;break;case md:return e=Vt(12,n,t,r|2),e.elementType=md,e.lanes=s,e;case gd:return e=Vt(13,n,t,r),e.elementType=gd,e.lanes=s,e;case yd:return e=Vt(19,n,t,r),e.elementType=yd,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ui:a=10;break e;case Ov:a=9;break e;case Oh:a=11;break e;case kh:a=14;break e;case ji:a=16,i=null;break e}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=Vt(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Fr(e,t,n,i){return e=Vt(7,e,i,t),e.lanes=n,e}function Tf(e,t,n){return e=Vt(6,e,null,t),e.lanes=n,e}function u0(e){var t=Vt(18,null,null,0);return t.stateNode=e,t}function Ef(e,t,n){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gm=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var n=Gm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:wm(t)},Gm.set(e,t),t)}return{value:e,source:t,stack:wm(t)}}var js=[],Ps=0,Bc=null,Bo=0,nn=[],rn=0,ur=null,jn=1,Pn="";function ai(e,t){js[Ps++]=Bo,js[Ps++]=Bc,Bc=e,Bo=t}function f0(e,t,n){nn[rn++]=jn,nn[rn++]=Pn,nn[rn++]=ur,ur=e;var i=jn;e=Pn;var r=32-Ft(i)-1;i&=~(1<<r),n+=1;var s=32-Ft(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,jn=1<<32-Ft(t)+r|n<<r|i,Pn=s+e}else jn=1<<s|n<<r|i,Pn=e}function Gh(e){e.return!==null&&(ai(e,1),f0(e,1,0))}function Zh(e){for(;e===Bc;)Bc=js[--Ps],js[Ps]=null,Bo=js[--Ps],js[Ps]=null;for(;e===ur;)ur=nn[--rn],nn[rn]=null,Pn=nn[--rn],nn[rn]=null,jn=nn[--rn],nn[rn]=null}function d0(e,t){nn[rn++]=jn,nn[rn++]=Pn,nn[rn++]=ur,jn=t.id,Pn=t.overflow,ur=e}var gt=null,Oe=null,oe=!1,er=null,on=!1,Rd=Error(U(519));function fr(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(an(t,e)),Rd}function Zm(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[mt]=e,t[Rt]=i,n){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(n=0;n<Zo.length;n++)ie(Zo[n],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),qv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),Gv(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||F_(t.textContent,n)?(i.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),i.onScroll!=null&&ie("scroll",t),i.onScrollEnd!=null&&ie("scrollend",t),i.onClick!=null&&(t.onclick=fi),t=!0):t=!1,t||fr(e,!0)}function $m(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:gt=gt.return}}function ws(e){if(e!==gt)return!1;if(!oe)return $m(e),oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ih(e.type,e.memoizedProps)),n=!n),n&&Oe&&fr(e),$m(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Oe=Rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Oe=Rg(e)}else t===27?(t=Oe,_r(e.type)?(e=oh,oh=null,Oe=e):Oe=t):Oe=gt?fn(e.stateNode.nextSibling):null;return!0}function es(){Oe=gt=null,oe=!1}function wf(){var e=er;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),er=null),e}function Ho(e){er===null?er=[e]:er.push(e)}var Dd=$n(null),ps=null,di=null;function Bi(e,t,n){xe(Dd,t._currentValue),t._currentValue=n}function gi(e){e._currentValue=Dd.current,ut(Dd)}function Md(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zd(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Md(s.return,n,e),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Md(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function _a(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;Qt(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===Dc.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Xo):e=[Xo])}r=r.return}e!==null&&zd(t,e,n,i),t.flags|=262144}function Hc(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ts(e){ps=e,di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return h0(ps,e)}function Zl(e,t){return ps===null&&ts(e),h0(e,t)}function h0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},di===null){if(e===null)throw Error(U(308));di=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else di=di.next=t;return n}var KT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},JT=st.unstable_scheduleCallback,WT=st.unstable_NormalPriority,Ke={$$typeof:ui,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new KT,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&JT(WT,function(){e.controller.abort()})}var bo=null,Ud=0,sa=0,Xs=null;function eE(e,t){if(bo===null){var n=bo=[];Ud=0,sa=yp(),Xs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ud++,t.then(Xm,Xm),t}function Xm(){if(--Ud===0&&bo!==null){Xs!==null&&(Xs.status="fulfilled");var e=bo;bo=null,sa=0,Xs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tE(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Fm=Q.S;Q.S=function(e,t){N_=$t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&eE(e,t),Fm!==null&&Fm(e,t)};var Yr=$n(null);function Xh(){var e=Yr.current;return e!==null?e:Ae.pooledCache}function gc(e,t){t===null?xe(Yr,Yr.current):xe(Yr,t.pool)}function p0(){var e=Xh();return e===null?null:{parent:Ke._currentValue,pool:e}}var ba=Error(U(460)),Fh=Error(U(474)),Du=Error(U(542)),qc={then:function(){}};function Ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function m0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fi,fi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Km(e),e;default:if(typeof t.status=="string")t.then(fi,fi);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Km(e),e}throw Qr=t,ba}}function Hr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Qr=n,ba):n}}var Qr=null;function Qm(){if(Qr===null)throw Error(U(459));var e=Qr;return Qr=null,e}function Km(e){if(e===ba||e===Du)throw Error(U(483))}var Fs=null,qo=0;function $l(e){var t=qo;return qo+=1,Fs===null&&(Fs=[]),m0(Fs,e,t)}function Wa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xl(e,t){throw t.$$typeof===HS?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function g0(e){function t(x,A){if(e){var O=x.deletions;O===null?(x.deletions=[A],x.flags|=16):O.push(A)}}function n(x,A){if(!e)return null;for(;A!==null;)t(x,A),A=A.sibling;return null}function i(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function r(x,A){return x=mi(x,A),x.index=0,x.sibling=null,x}function s(x,A,O){return x.index=O,e?(O=x.alternate,O!==null?(O=O.index,O<A?(x.flags|=67108866,A):O):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function a(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,A,O,k){return A===null||A.tag!==6?(A=Tf(O,x.mode,k),A.return=x,A):(A=r(A,O),A.return=x,A)}function u(x,A,O,k){var j=O.type;return j===Os?h(x,A,O.props.children,k,O.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Hr(j)===A.type)?(A=r(A,O.props),Wa(A,O),A.return=x,A):(A=mc(O.type,O.key,O.props,null,x.mode,k),Wa(A,O),A.return=x,A)}function f(x,A,O,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=Ef(O,x.mode,k),A.return=x,A):(A=r(A,O.children||[]),A.return=x,A)}function h(x,A,O,k,j){return A===null||A.tag!==7?(A=Fr(O,x.mode,k,j),A.return=x,A):(A=r(A,O),A.return=x,A)}function p(x,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Tf(""+A,x.mode,O),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Pl:return O=mc(A.type,A.key,A.props,null,x.mode,O),Wa(O,A),O.return=x,O;case uo:return A=Ef(A,x.mode,O),A.return=x,A;case ji:return A=Hr(A),p(x,A,O)}if(fo(A)||Qa(A))return A=Fr(A,x.mode,O,null),A.return=x,A;if(typeof A.then=="function")return p(x,$l(A),O);if(A.$$typeof===ui)return p(x,Zl(x,A),O);Xl(x,A)}return null}function m(x,A,O,k){var j=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return j!==null?null:l(x,A,""+O,k);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Pl:return O.key===j?u(x,A,O,k):null;case uo:return O.key===j?f(x,A,O,k):null;case ji:return O=Hr(O),m(x,A,O,k)}if(fo(O)||Qa(O))return j!==null?null:h(x,A,O,k,null);if(typeof O.then=="function")return m(x,A,$l(O),k);if(O.$$typeof===ui)return m(x,A,Zl(x,O),k);Xl(x,O)}return null}function S(x,A,O,k,j){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return x=x.get(O)||null,l(A,x,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Pl:return x=x.get(k.key===null?O:k.key)||null,u(A,x,k,j);case uo:return x=x.get(k.key===null?O:k.key)||null,f(A,x,k,j);case ji:return k=Hr(k),S(x,A,O,k,j)}if(fo(k)||Qa(k))return x=x.get(O)||null,h(A,x,k,j,null);if(typeof k.then=="function")return S(x,A,O,$l(k),j);if(k.$$typeof===ui)return S(x,A,O,Zl(A,k),j);Xl(A,k)}return null}function I(x,A,O,k){for(var j=null,H=null,E=A,_=A=0,b=null;E!==null&&_<O.length;_++){E.index>_?(b=E,E=null):b=E.sibling;var v=m(x,E,O[_],k);if(v===null){E===null&&(E=b);break}e&&E&&v.alternate===null&&t(x,E),A=s(v,A,_),H===null?j=v:H.sibling=v,H=v,E=b}if(_===O.length)return n(x,E),oe&&ai(x,_),j;if(E===null){for(;_<O.length;_++)E=p(x,O[_],k),E!==null&&(A=s(E,A,_),H===null?j=E:H.sibling=E,H=E);return oe&&ai(x,_),j}for(E=i(E);_<O.length;_++)b=S(E,x,_,O[_],k),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?_:b.key),A=s(b,A,_),H===null?j=b:H.sibling=b,H=b);return e&&E.forEach(function(T){return t(x,T)}),oe&&ai(x,_),j}function M(x,A,O,k){if(O==null)throw Error(U(151));for(var j=null,H=null,E=A,_=A=0,b=null,v=O.next();E!==null&&!v.done;_++,v=O.next()){E.index>_?(b=E,E=null):b=E.sibling;var T=m(x,E,v.value,k);if(T===null){E===null&&(E=b);break}e&&E&&T.alternate===null&&t(x,E),A=s(T,A,_),H===null?j=T:H.sibling=T,H=T,E=b}if(v.done)return n(x,E),oe&&ai(x,_),j;if(E===null){for(;!v.done;_++,v=O.next())v=p(x,v.value,k),v!==null&&(A=s(v,A,_),H===null?j=v:H.sibling=v,H=v);return oe&&ai(x,_),j}for(E=i(E);!v.done;_++,v=O.next())v=S(E,x,_,v.value,k),v!==null&&(e&&v.alternate!==null&&E.delete(v.key===null?_:v.key),A=s(v,A,_),H===null?j=v:H.sibling=v,H=v);return e&&E.forEach(function(C){return t(x,C)}),oe&&ai(x,_),j}function L(x,A,O,k){if(typeof O=="object"&&O!==null&&O.type===Os&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Pl:e:{for(var j=O.key;A!==null;){if(A.key===j){if(j=O.type,j===Os){if(A.tag===7){n(x,A.sibling),k=r(A,O.props.children),k.return=x,x=k;break e}}else if(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ji&&Hr(j)===A.type){n(x,A.sibling),k=r(A,O.props),Wa(k,O),k.return=x,x=k;break e}n(x,A);break}else t(x,A);A=A.sibling}O.type===Os?(k=Fr(O.props.children,x.mode,k,O.key),k.return=x,x=k):(k=mc(O.type,O.key,O.props,null,x.mode,k),Wa(k,O),k.return=x,x=k)}return a(x);case uo:e:{for(j=O.key;A!==null;){if(A.key===j)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){n(x,A.sibling),k=r(A,O.children||[]),k.return=x,x=k;break e}else{n(x,A);break}else t(x,A);A=A.sibling}k=Ef(O,x.mode,k),k.return=x,x=k}return a(x);case ji:return O=Hr(O),L(x,A,O,k)}if(fo(O))return I(x,A,O,k);if(Qa(O)){if(j=Qa(O),typeof j!="function")throw Error(U(150));return O=j.call(O),M(x,A,O,k)}if(typeof O.then=="function")return L(x,A,$l(O),k);if(O.$$typeof===ui)return L(x,A,Zl(x,O),k);Xl(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(n(x,A.sibling),k=r(A,O),k.return=x,x=k):(n(x,A),k=Tf(O,x.mode,k),k.return=x,x=k),a(x)):n(x,A)}return function(x,A,O,k){try{qo=0;var j=L(x,A,O,k);return Fs=null,j}catch(E){if(E===ba||E===Du)throw E;var H=Vt(29,E,null,x.mode);return H.lanes=k,H.return=x,H}finally{}}}var ns=g0(!0),y0=g0(!1),Pi=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,me&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Pc(e),l0(e,null,n),t}return Ru(e,i,t,n),Pc(e)}function So(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}function Af(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jd=!1;function To(){if(jd){var e=Xs;if(e!==null)throw e}}function Eo(e,t,n,i){jd=!1;var r=e.updateQueue;Pi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?s=f:a.next=f,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,h=f=u=null,l=s;do{var m=l.lane&-536870913,S=m!==l.lane;if(S?(se&m)===m:(i&m)===m){m!==0&&m===sa&&(jd=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=e,M=l;m=t;var L=n;switch(M.tag){case 1:if(I=M.payload,typeof I=="function"){p=I.call(L,p,m);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=M.payload,m=typeof I=="function"?I.call(L,p,m):I,m==null)break e;p=ke({},p,m);break e;case 2:Pi=!0}}m=l.callback,m!==null&&(e.flags|=64,S&&(e.flags|=8192),S=r.callbacks,S===null?r.callbacks=[m]:S.push(m))}else S={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=S,u=p):h=h.next=S,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;S=l,l=S.next,S.next=null,r.lastBaseUpdate=S,r.shared.pending=null}}while(!0);h===null&&(u=p),r.baseState=u,r.firstBaseUpdate=f,r.lastBaseUpdate=h,s===null&&(r.shared.lanes=0),hr|=a,e.lanes=a,e.memoizedState=p}}function v0(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function _0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)v0(n[e],t)}var aa=$n(null),Vc=$n(0);function Jm(e,t){e=Ti,xe(Vc,e),xe(aa,t),Ti=e|t.baseLanes}function Pd(){xe(Vc,Ti),xe(aa,aa.current)}function Qh(){Ti=Vc.current,ut(aa),ut(Vc)}var Kt=$n(null),un=null;function Hi(e){var t=e.alternate;xe(Ze,Ze.current&1),xe(Kt,e),un===null&&(t===null||aa.current!==null||t.memoizedState!==null)&&(un=e)}function Bd(e){xe(Ze,Ze.current),xe(Kt,e),un===null&&(un=e)}function b0(e){e.tag===22?(xe(Ze,Ze.current),xe(Kt,e),un===null&&(un=e)):qi()}function qi(){xe(Ze,Ze.current),xe(Kt,Kt.current)}function qt(e){ut(Kt),un===e&&(un=null),ut(Ze)}var Ze=$n(0);function Gc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sh(n)||ah(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _i=0,ee=null,Ee=null,Ye=null,Zc=!1,Ys=!1,is=!1,$c=0,Vo=0,Qs=null,nE=0;function Ue(){throw Error(U(321))}function Kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Jh(e,t,n,i,r,s){return _i=s,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?K0:cp,is=!1,s=n(i,r),is=!1,Ys&&(s=T0(t,n,i,r)),S0(e),s}function S0(e){Q.H=Go;var t=Ee!==null&&Ee.next!==null;if(_i=0,Ye=Ee=ee=null,Zc=!1,Vo=0,Qs=null,t)throw Error(U(300));e===null||Je||(e=e.dependencies,e!==null&&Hc(e)&&(Je=!0))}function T0(e,t,n,i){ee=e;var r=0;do{if(Ys&&(Qs=null),Vo=0,Ys=!1,25<=r)throw Error(U(301));if(r+=1,Ye=Ee=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=J0,s=t(n,i)}while(Ys);return s}function iE(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(ee.flags|=1024),t}function Wh(){var e=$c!==0;return $c=0,e}function ep(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function tp(e){if(Zc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zc=!1}_i=0,Ye=Ee=ee=null,Ys=!1,Vo=$c=0,Qs=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ee.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function $e(){if(Ee===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ye===null?ee.memoizedState:Ye.next;if(t!==null)Ye=t,Ee=e;else{if(e===null)throw ee.alternate===null?Error(U(467)):Error(U(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ye===null?ee.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Vo;return Vo+=1,Qs===null&&(Qs=[]),e=m0(Qs,e,t),t=ee,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?K0:cp),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===ui)return yt(e)}throw Error(U(438,String(e)))}function np(e){var t=null,n=ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ee.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mu(),ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=qS;return t.index++,n}function bi(e,t){return typeof t=="function"?t(e):t}function yc(e){var t=$e();return ip(t,Ee,e)}function ip(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,f=t,h=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(se&p)===p:(_i&p)===p){var m=f.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===sa&&(h=!0);else if((_i&m)===m){f=f.next,m===sa&&(h=!0);continue}else p={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,ee.lanes|=m,hr|=m;p=f.action,is&&n(s,p),s=f.hasEagerState?f.eagerState:n(s,p)}else m={lane:p,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,ee.lanes|=p,hr|=p;f=f.next}while(f!==null&&f!==t);if(u===null?a=s:u.next=l,!Qt(s,e.memoizedState)&&(Je=!0,h&&(n=Xs,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function xf(e){var t=$e(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Qt(s,t.memoizedState)||(Je=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function E0(e,t,n){var i=ee,r=$e(),s=oe;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!Qt((Ee||r).memoizedState,n);if(a&&(r.memoizedState=n,Je=!0),r=r.queue,rp(x0.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},A0.bind(null,i,r,n,t),null),Ae===null)throw Error(U(349));s||_i&127||w0(i,t,n)}return n}function w0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t=Mu(),ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function A0(e,t,n,i){t.value=n,t.getSnapshot=i,N0(t)&&C0(e)}function x0(e,t,n){return n(function(){N0(t)&&C0(e)})}function N0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function C0(e){var t=hs(e,2);t!==null&&It(t,e,2)}function Hd(e){var t=St();if(typeof e=="function"){var n=e;if(e=n(),is){Fi(!0);try{n()}finally{Fi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t}function O0(e,t,n,i){return e.baseState=n,ip(e,Ee,typeof i=="function"?i:bi)}function rE(e,t,n,i,r){if(Lu(e))throw Error(U(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,k0(t,s)):(s.next=n.next,t.pending=n.next=s)}}function k0(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Q.T,a={};Q.T=a;try{var l=n(r,i),u=Q.S;u!==null&&u(a,l),Wm(e,t,l)}catch(f){qd(e,t,f)}finally{s!==null&&a.types!==null&&(s.types=a.types),Q.T=s}}else try{s=n(r,i),Wm(e,t,s)}catch(f){qd(e,t,f)}}function Wm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){eg(e,t,i)},function(i){return qd(e,t,i)}):eg(e,t,n)}function eg(e,t,n){t.status="fulfilled",t.value=n,I0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,k0(e,n)))}function qd(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,I0(t),t=t.next;while(t!==i)}e.action=null}function I0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function R0(e,t){return t}function tg(e,t){if(oe){var n=Ae.formState;if(n!==null){e:{var i=ee;if(oe){if(Oe){t:{for(var r=Oe,s=on;r.nodeType!==8;){if(!s){r=null;break t}if(r=fn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Oe=fn(r.nextSibling),i=r.data==="F!";break e}}fr(i)}i=!1}i&&(t=n[0])}}return n=St(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},n.queue=i,n=F0.bind(null,ee,i),i.dispatch=n,i=Hd(!1),s=lp.bind(null,ee,!1,i.queue),i=St(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=rE.bind(null,ee,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function ng(e){var t=$e();return D0(t,Ee,e)}function D0(e,t,n){if(t=ip(e,t,R0)[0],e=yc(bi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cl(t)}catch(a){throw a===ba?Du:a}else i=t;t=$e();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(ee.flags|=2048,oa(9,{destroy:void 0},sE.bind(null,r,n),null)),[i,s,e]}function sE(e,t){e.action=t}function ig(e){var t=$e(),n=Ee;if(n!==null)return D0(t,n,e);$e(),t=t.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ee.updateQueue,t===null&&(t=Mu(),ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function M0(){return $e().memoizedState}function vc(e,t,n,i){var r=St();ee.flags|=e,r.memoizedState=oa(1|t,{destroy:void 0},n,i===void 0?null:i)}function Uu(e,t,n,i){var r=$e();i=i===void 0?null:i;var s=r.memoizedState.inst;Ee!==null&&i!==null&&Kh(i,Ee.memoizedState.deps)?r.memoizedState=oa(t,s,n,i):(ee.flags|=e,r.memoizedState=oa(1|t,s,n,i))}function rg(e,t){vc(8390656,8,e,t)}function rp(e,t){Uu(2048,8,e,t)}function aE(e){ee.flags|=4;var t=ee.updateQueue;if(t===null)t=Mu(),ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function z0(e){var t=$e().memoizedState;return aE({ref:t,nextImpl:e}),function(){if(me&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function U0(e,t){return Uu(4,2,e,t)}function L0(e,t){return Uu(4,4,e,t)}function j0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P0(e,t,n){n=n!=null?n.concat([e]):null,Uu(4,4,j0.bind(null,t,e),n)}function sp(){}function B0(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kh(t,i[1]))return i[0];if(i=e(),is){Fi(!0);try{e()}finally{Fi(!1)}}return n.memoizedState=[i,t],i}function ap(e,t,n){return n===void 0||_i&1073741824&&!(se&261930)?e.memoizedState=t:(e.memoizedState=n,e=O_(),ee.lanes|=e,hr|=e,n)}function q0(e,t,n,i){return Qt(n,t)?n:aa.current!==null?(e=ap(e,n,i),Qt(e,t)||(Je=!0),e):!(_i&42)||_i&1073741824&&!(se&261930)?(Je=!0,e.memoizedState=n):(e=O_(),ee.lanes|=e,hr|=e,t)}function V0(e,t,n,i,r){var s=ge.p;ge.p=s!==0&&8>s?s:8;var a=Q.T,l={};Q.T=l,lp(e,!1,t,n);try{var u=r(),f=Q.S;if(f!==null&&f(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=tE(u,i);wo(e,t,h,Yt(e))}else wo(e,t,i,Yt(e))}catch(p){wo(e,t,{then:function(){},status:"rejected",reason:p},Yt())}finally{ge.p=s,a!==null&&l.types!==null&&(a.types=l.types),Q.T=a}}function oE(){}function Vd(e,t,n,i){if(e.tag!==5)throw Error(U(476));var r=G0(e).queue;V0(e,r,t,Xr,n===null?oE:function(){return Z0(e),n(i)})}function G0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xr,baseState:Xr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:Xr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Z0(e){var t=G0(e);t.next===null&&(t=e.alternate.memoizedState),wo(e,t.next.queue,{},Yt())}function op(){return yt(Xo)}function $0(){return $e().memoizedState}function X0(){return $e().memoizedState}function lE(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Yt();e=tr(n);var i=nr(t,e,n);i!==null&&(It(i,t,n),So(i,t,n)),t={cache:$h()},e.payload=t;return}t=t.return}}function cE(e,t,n){var i=Yt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Y0(t,n):(n=qh(e,t,n,i),n!==null&&(It(n,e,i),Q0(n,t,i)))}function F0(e,t,n){var i=Yt();wo(e,t,n,i)}function wo(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Y0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Qt(l,a))return Ru(e,t,r,0),Ae===null&&Iu(),!1}catch{}finally{}if(n=qh(e,t,r,i),n!==null)return It(n,e,i),Q0(n,t,i),!0}return!1}function lp(e,t,n,i){if(i={lane:2,revertLane:yp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(t)throw Error(U(479))}else t=qh(e,n,i,2),t!==null&&It(t,e,2)}function Lu(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Y0(e,t){Ys=Zc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Q0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,zv(e,n)}}var Go={readContext:yt,use:zu,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Go.useEffectEvent=Ue;var K0={readContext:yt,use:zu,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:rg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vc(4194308,4,j0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vc(4194308,4,e,t)},useInsertionEffect:function(e,t){vc(4,2,e,t)},useMemo:function(e,t){var n=St();t=t===void 0?null:t;var i=e();if(is){Fi(!0);try{e()}finally{Fi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=St();if(n!==void 0){var r=n(t);if(is){Fi(!0);try{n(t)}finally{Fi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=cE.bind(null,ee,e),[i.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Hd(e);var t=e.queue,n=F0.bind(null,ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sp,useDeferredValue:function(e,t){var n=St();return ap(n,e,t)},useTransition:function(){var e=Hd(!1);return e=V0.bind(null,ee,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ee,r=St();if(oe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ae===null)throw Error(U(349));se&127||w0(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,rg(x0.bind(null,i,s,e),[e]),i.flags|=2048,oa(9,{destroy:void 0},A0.bind(null,i,s,n,t),null),n},useId:function(){var e=St(),t=Ae.identifierPrefix;if(oe){var n=Pn,i=jn;n=(i&~(1<<32-Ft(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=$c++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nE++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:op,useFormState:tg,useActionState:tg,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lp.bind(null,ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:np,useCacheRefresh:function(){return St().memoizedState=lE.bind(null,ee)},useEffectEvent:function(e){var t=St(),n={impl:e};return t.memoizedState=n,function(){if(me&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},cp={readContext:yt,use:zu,useCallback:B0,useContext:yt,useEffect:rp,useImperativeHandle:P0,useInsertionEffect:U0,useLayoutEffect:L0,useMemo:H0,useReducer:yc,useRef:M0,useState:function(){return yc(bi)},useDebugValue:sp,useDeferredValue:function(e,t){var n=$e();return q0(n,Ee.memoizedState,e,t)},useTransition:function(){var e=yc(bi)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:E0,useId:$0,useHostTransitionStatus:op,useFormState:ng,useActionState:ng,useOptimistic:function(e,t){var n=$e();return O0(n,Ee,e,t)},useMemoCache:np,useCacheRefresh:X0};cp.useEffectEvent=z0;var J0={readContext:yt,use:zu,useCallback:B0,useContext:yt,useEffect:rp,useImperativeHandle:P0,useInsertionEffect:U0,useLayoutEffect:L0,useMemo:H0,useReducer:xf,useRef:M0,useState:function(){return xf(bi)},useDebugValue:sp,useDeferredValue:function(e,t){var n=$e();return Ee===null?ap(n,e,t):q0(n,Ee.memoizedState,e,t)},useTransition:function(){var e=xf(bi)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:E0,useId:$0,useHostTransitionStatus:op,useFormState:ig,useActionState:ig,useOptimistic:function(e,t){var n=$e();return Ee!==null?O0(n,Ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:np,useCacheRefresh:X0};J0.useEffectEvent=z0;function Nf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gd={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Yt(),r=tr(i);r.payload=t,n!=null&&(r.callback=n),t=nr(e,r,i),t!==null&&(It(t,e,i),So(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Yt(),r=tr(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=nr(e,r,i),t!==null&&(It(t,e,i),So(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),i=tr(n);i.tag=2,t!=null&&(i.callback=t),t=nr(e,i,n),t!==null&&(It(t,e,n),So(t,e,n))}};function sg(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Po(n,i)||!Po(r,s):!0}function ag(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Gd.enqueueReplaceState(t,t.state,null)}function rs(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ke({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function W0(e){jc(e)}function e_(e){console.error(e)}function t_(e){jc(e)}function Xc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function og(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Zd(e,t,n){return n=tr(n),n.tag=3,n.payload={element:null},n.callback=function(){Xc(e,t)},n}function n_(e){return e=tr(e),e.tag=3,e}function i_(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){og(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){og(t,n,i),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function uE(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&_a(t,n,r,!0),n=Kt.current,n!==null){switch(n.tag){case 31:case 13:return un===null?Jc():n.alternate===null&&je===0&&(je=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===qc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),jf(e,i,r)),!1;case 22:return n.flags|=65536,i===qc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),jf(e,i,r)),!1}throw Error(U(435,n.tag))}return jf(e,i,r),Jc(),!1}if(oe)return t=Kt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Rd&&(e=Error(U(422),{cause:i}),Ho(an(e,n)))):(i!==Rd&&(t=Error(U(423),{cause:i}),Ho(an(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=an(i,n),r=Zd(e.stateNode,i,r),Af(e,r),je!==4&&(je=2)),!1;var s=Error(U(520),{cause:i});if(s=an(s,n),No===null?No=[s]:No.push(s),je!==4&&(je=2),t===null)return!0;i=an(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Zd(n.stateNode,i,e),Af(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ir===null||!ir.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=n_(r),i_(r,e,n,i),Af(n,r),!1}n=n.return}while(n!==null);return!1}var up=Error(U(461)),Je=!1;function ht(e,t,n,i){t.child=e===null?y0(t,null,n,i):ns(t,e.child,n,i)}function lg(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return ts(t),i=Jh(e,t,n,a,s,r),l=Wh(),e!==null&&!Je?(ep(e,t,r),Si(e,t,r)):(oe&&l&&Gh(t),t.flags|=1,ht(e,t,i,r),t.child)}function cg(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Vh(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,r_(e,t,s,i,r)):(e=mc(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fp(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(a,i)&&e.ref===t.ref)return Si(e,t,r)}return t.flags|=1,e=mi(s,i),e.ref=t.ref,e.return=t,t.child=e}function r_(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Po(s,i)&&e.ref===t.ref)if(Je=!1,t.pendingProps=i=s,fp(e,r))e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,Si(e,t,r)}return $d(e,t,n,i,r)}function s_(e,t,n,i){var r=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return ug(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gc(t,s!==null?s.cachePool:null),s!==null?Jm(t,s):Pd(),b0(t);else return i=t.lanes=536870912,ug(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(gc(t,s.cachePool),Jm(t,s),qi(),t.memoizedState=null):(e!==null&&gc(t,null),Pd(),qi());return ht(e,t,r,n),t.child}function po(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ug(e,t,n,i,r){var s=Xh();return s=s===null?null:{parent:Ke._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&gc(t,null),Pd(),b0(t),e!==null&&_a(e,t,i,!0),t.childLanes=r,null}function _c(e,t){return t=Fc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fg(e,t,n){return ns(t,e.child,null,n),e=_c(t,t.pendingProps),e.flags|=2,qt(t),t.memoizedState=null,e}function fE(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(oe){if(i.mode==="hidden")return e=_c(t,i),t.lanes=536870912,po(null,e);if(Bd(t),(e=Oe)?(e=K_(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ur!==null?{id:jn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=u0(e),n.return=t,t.child=n,gt=t,Oe=null)):e=null,e===null)throw fr(t);return t.lanes=536870912,null}return _c(t,i)}var s=e.memoizedState;if(s!==null){var a=s.dehydrated;if(Bd(t),r)if(t.flags&256)t.flags&=-257,t=fg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Je||_a(e,t,n,!1),r=(n&e.childLanes)!==0,Je||r){if(i=Ae,i!==null&&(a=Uv(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,hs(e,a),It(i,e,a),up;Jc(),t=fg(e,t,n)}else e=s.treeContext,Oe=fn(a.nextSibling),gt=t,oe=!0,er=null,on=!1,e!==null&&d0(t,e),t=_c(t,i),t.flags|=4096;return t}return e=mi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function $d(e,t,n,i,r){return ts(t),n=Jh(e,t,n,i,void 0,r),i=Wh(),e!==null&&!Je?(ep(e,t,r),Si(e,t,r)):(oe&&i&&Gh(t),t.flags|=1,ht(e,t,n,r),t.child)}function dg(e,t,n,i,r,s){return ts(t),t.updateQueue=null,n=T0(t,i,n,r),S0(e),i=Wh(),e!==null&&!Je?(ep(e,t,s),Si(e,t,s)):(oe&&i&&Gh(t),t.flags|=1,ht(e,t,n,s),t.child)}function hg(e,t,n,i,r){if(ts(t),t.stateNode===null){var s=Ls,a=n.contextType;typeof a=="object"&&a!==null&&(s=yt(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gd,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Yh(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?yt(a):Ls,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Nf(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Gd.enqueueReplaceState(s,s.state,null),Eo(t,i,s,r),To(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=rs(n,l);s.props=u;var f=s.context,h=n.contextType;a=Ls,typeof h=="object"&&h!==null&&(a=yt(h));var p=n.getDerivedStateFromProps;h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||f!==a)&&ag(t,s,i,a),Pi=!1;var m=t.memoizedState;s.state=m,Eo(t,i,s,r),To(),f=t.memoizedState,l||m!==f||Pi?(typeof p=="function"&&(Nf(t,n,p,i),f=t.memoizedState),(u=Pi||sg(t,n,u,i,m,f,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Ld(e,t),a=t.memoizedProps,h=rs(n,a),s.props=h,p=t.pendingProps,m=s.context,f=n.contextType,u=Ls,typeof f=="object"&&f!==null&&(u=yt(f)),l=n.getDerivedStateFromProps,(f=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&ag(t,s,i,u),Pi=!1,m=t.memoizedState,s.state=m,Eo(t,i,s,r),To();var S=t.memoizedState;a!==p||m!==S||Pi||e!==null&&e.dependencies!==null&&Hc(e.dependencies)?(typeof l=="function"&&(Nf(t,n,l,i),S=t.memoizedState),(h=Pi||sg(t,n,h,i,m,S,u)||e!==null&&e.dependencies!==null&&Hc(e.dependencies))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,S,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,S,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=S),s.props=i,s.state=S,s.context=u,i=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,bc(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)):ht(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Si(e,t,r),e}function pg(e,t,n,i){return es(),t.flags|=256,ht(e,t,n,i),t.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:p0()}}function kf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gt),e}function a_(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(r?Hi(t):qi(),(e=Oe)?(e=K_(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ur!==null?{id:jn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=u0(e),n.return=t,t.child=n,gt=t,Oe=null)):e=null,e===null)throw fr(t);return ah(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(qi(),r=t.mode,l=Fc({mode:"hidden",children:l},r),i=Fr(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Of(n),i.childLanes=kf(e,a,n),t.memoizedState=Cf,po(null,i)):(Hi(t),Xd(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Hi(t),t.flags&=-257,t=If(e,t,n)):t.memoizedState!==null?(qi(),t.child=e.child,t.flags|=128,t=null):(qi(),l=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r),l=Fr(l,r,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ns(t,e.child,null,n),i=t.child,i.memoizedState=Of(n),i.childLanes=kf(e,a,n),t.memoizedState=Cf,t=po(null,i));else if(Hi(t),ah(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var f=a.dgst;a=f,i=Error(U(419)),i.stack="",i.digest=a,Ho({value:i,source:null,stack:null}),t=If(e,t,n)}else if(Je||_a(e,t,n,!1),a=(n&e.childLanes)!==0,Je||a){if(a=Ae,a!==null&&(i=Uv(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,hs(e,i),It(a,e,i),up;sh(l)||Jc(),t=If(e,t,n)}else sh(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Oe=fn(l.nextSibling),gt=t,oe=!0,er=null,on=!1,e!==null&&d0(t,e),t=Xd(t,i.children),t.flags|=4096);return t}return r?(qi(),l=i.fallback,r=t.mode,u=e.child,f=u.sibling,i=mi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,f!==null?l=mi(f,l):(l=Fr(l,r,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,po(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Of(n):(r=l.cachePool,r!==null?(u=Ke._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=p0(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=kf(e,a,n),t.memoizedState=Cf,po(e.child,i)):(Hi(t),n=e.child,e=n.sibling,n=mi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Xd(e,t){return t=Fc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fc(e,t){return e=Vt(22,e,null,t),e.lanes=0,e}function If(e,t,n){return ns(t,e.child,null,n),e=Xd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Md(e.return,t,n)}function Rf(e,t,n,i,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function o_(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Ze.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,xe(Ze,a),ht(e,t,i,n),i=oe?Bo:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mg(e,n,t);else if(e.tag===19)mg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Gc(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Rf(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Gc(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Rf(t,!0,n,null,s,i);break;case"together":Rf(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(n&t.childLanes))if(e!==null){if(_a(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fp(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Hc(e)))}function dE(e,t,n){switch(t.tag){case 3:Mc(t,t.stateNode.containerInfo),Bi(t,Ke,e.memoizedState.cache),es();break;case 27:case 5:Sd(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:Bi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bd(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Hi(t),t.flags|=128,null):n&t.child.childLanes?a_(e,t,n):(Hi(t),e=Si(e,t,n),e!==null?e.sibling:null);Hi(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(_a(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return o_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(Ze,Ze.current),i)break;return null;case 22:return t.lanes=0,s_(e,t,n,t.pendingProps);case 24:Bi(t,Ke,e.memoizedState.cache)}return Si(e,t,n)}function l_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!fp(e,n)&&!(t.flags&128))return Je=!1,dE(e,t,n);Je=!!(e.flags&131072)}else Je=!1,oe&&t.flags&1048576&&f0(t,Bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Hr(t.elementType),t.type=e,typeof e=="function")Vh(e)?(i=rs(e,i),t.tag=1,t=hg(null,t,e,i,n)):(t.tag=0,t=$d(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===Oh){t.tag=11,t=lg(null,t,e,i,n);break e}else if(r===kh){t.tag=14,t=cg(null,t,e,i,n);break e}}throw t=_d(e)||e,Error(U(306,t,""))}}return t;case 0:return $d(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=rs(i,t.pendingProps),hg(e,t,i,r,n);case 3:e:{if(Mc(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,Ld(e,t),Eo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Bi(t,Ke,i),i!==s.cache&&zd(t,[Ke],n,!0),To(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=pg(e,t,i,n);break e}else if(i!==r){r=an(Error(U(424)),t),Ho(r),t=pg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=fn(e.firstChild),gt=t,oe=!0,er=null,on=!0,n=y0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(es(),i===r){t=Si(e,t,n);break e}ht(e,t,i,n)}t=t.child}return t;case 26:return bc(e,t),e===null?(n=zg(t.type,null,t.pendingProps,null))?t.memoizedState=n:oe||(n=t.type,e=t.pendingProps,i=nu(Wi.current).createElement(n),i[mt]=t,i[Rt]=e,vt(i,n,e),ct(i),t.stateNode=i):t.memoizedState=zg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sd(t),e===null&&oe&&(i=t.stateNode=J_(t.type,t.pendingProps,Wi.current),gt=t,on=!0,r=Oe,_r(t.type)?(oh=r,Oe=fn(i.firstChild)):Oe=r),ht(e,t,t.pendingProps.children,n),bc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&oe&&((r=i=Oe)&&(i=qE(i,t.type,t.pendingProps,on),i!==null?(t.stateNode=i,gt=t,Oe=fn(i.firstChild),on=!1,r=!0):r=!1),r||fr(t)),Sd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ih(r,s)?i=null:a!==null&&ih(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Jh(e,t,iE,null,null,n),Xo._currentValue=r),bc(e,t),ht(e,t,i,n),t.child;case 6:return e===null&&oe&&((e=n=Oe)&&(n=VE(n,t.pendingProps,on),n!==null?(t.stateNode=n,gt=t,Oe=null,e=!0):e=!1),e||fr(t)),null;case 13:return a_(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ns(t,null,i,n):ht(e,t,i,n),t.child;case 11:return lg(e,t,t.type,t.pendingProps,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Bi(t,t.type,i.value),ht(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,ts(t),r=yt(r),i=i(r),t.flags|=1,ht(e,t,i,n),t.child;case 14:return cg(e,t,t.type,t.pendingProps,n);case 15:return r_(e,t,t.type,t.pendingProps,n);case 19:return o_(e,t,n);case 31:return fE(e,t,n);case 22:return s_(e,t,n,t.pendingProps);case 24:return ts(t),i=yt(Ke),e===null?(r=Xh(),r===null&&(r=Ae,s=$h(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Yh(t),Bi(t,Ke,r)):(e.lanes&n&&(Ld(e,t),Eo(t,null,null,n),To()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Bi(t,Ke,i)):(i=s.cache,Bi(t,Ke,i),i!==r.cache&&zd(t,[Ke],n,!0))),ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function ei(e){e.flags|=4}function Df(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(R_())e.flags|=8192;else throw Qr=qc,Fh}else e.flags&=-16777217}function gg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!tb(t))if(R_())e.flags|=8192;else throw Qr=qc,Fh}function Fl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dv():536870912,e.lanes|=t,la|=t)}function eo(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function hE(e,t,n){var i=t.pendingProps;switch(Zh(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),gi(Ke),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ws(t)?ei(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wf())),Ce(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(ei(t),s!==null?(Ce(t),gg(t,s)):(Ce(t),Df(t,r,null,i,n))):s?s!==e.memoizedState?(ei(t),Ce(t),gg(t,s)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ei(t),Ce(t),Df(t,r,e,i,n)),null;case 27:if(zc(t),n=Wi.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ei(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ce(t),null}e=qn.current,ws(t)?Zm(t):(e=J_(r,i,n),t.stateNode=e,ei(t))}return Ce(t),null;case 5:if(zc(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ei(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ce(t),null}if(s=qn.current,ws(t))Zm(t);else{var a=nu(Wi.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[mt]=t,s[Rt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=s;e:switch(vt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ei(t)}}return Ce(t),Df(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ei(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=Wi.current,ws(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=gt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[mt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||F_(e.nodeValue,n)),e||fr(t,!0)}else e=nu(e).createTextNode(i),e[mt]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ws(t),n!==null){if(e===null){if(!i)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[mt]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(qt(t),t):(qt(t),null);if(t.flags&128)throw Error(U(558))}return Ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=ws(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(U(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[mt]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),r=!1}else r=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(qt(t),t):(qt(t),null)}return qt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fl(t,t.updateQueue),Ce(t),null);case 4:return na(),e===null&&vp(t.stateNode.containerInfo),Ce(t),null;case 10:return gi(t.type),Ce(t),null;case 19:if(ut(Ze),i=t.memoizedState,i===null)return Ce(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)eo(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gc(e),s!==null){for(t.flags|=128,eo(i,!1),e=s.updateQueue,t.updateQueue=e,Fl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)c0(n,e),n=n.sibling;return xe(Ze,Ze.current&1|2),oe&&ai(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&$t()>Qc&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gc(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Fl(t,e),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!oe)return Ce(t),null}else 2*$t()-i.renderingStartTime>Qc&&n!==536870912&&(t.flags|=128,r=!0,eo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,n=Ze.current,xe(Ze,r?n&1|2:n&1),oe&&ai(t,i.treeForkCount),e):(Ce(t),null);case 22:case 23:return qt(t),Qh(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&Fl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ut(Yr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),gi(Ke),Ce(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function pE(e,t){switch(Zh(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(Ke),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zc(t),null;case 31:if(t.memoizedState!==null){if(qt(t),t.alternate===null)throw Error(U(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(Ze),null;case 4:return na(),null;case 10:return gi(t.type),null;case 22:case 23:return qt(t),Qh(),e!==null&&ut(Yr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gi(Ke),null;case 25:return null;default:return null}}function c_(e,t){switch(Zh(t),t.tag){case 3:gi(Ke),na();break;case 26:case 27:case 5:zc(t);break;case 4:na();break;case 31:t.memoizedState!==null&&qt(t);break;case 13:qt(t);break;case 19:ut(Ze);break;case 10:gi(t.type);break;case 22:case 23:qt(t),Qh(),e!==null&&ut(Yr);break;case 24:gi(Ke)}}function ul(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_e(t,t.return,l)}}function dr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,f=l;try{f()}catch(h){_e(r,u,h)}}}i=i.next}while(i!==s)}}catch(h){_e(t,t.return,h)}}function u_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_0(t,n)}catch(i){_e(e,e.return,i)}}}function f_(e,t,n){n.props=rs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){_e(e,t,i)}}function Ao(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){_e(e,t,r)}}function Bn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_e(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(e,t,r)}else n.current=null}function d_(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_e(e,e.return,r)}}function Mf(e,t,n){try{var i=e.stateNode;UE(i,e.type,n,t),i[Rt]=t}catch(r){_e(e,e.return,r)}}function h_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(i!==4&&(i===27&&_r(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Fd(e,t,n),e=e.sibling;e!==null;)Fd(e,t,n),e=e.sibling}function Yc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&_r(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yc(e,t,n),e=e.sibling;e!==null;)Yc(e,t,n),e=e.sibling}function p_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);vt(t,i,n),t[mt]=e,t[Rt]=n}catch(s){_e(e,e.return,s)}}var oi=!1,Qe=!1,Uf=!1,yg=typeof WeakSet=="function"?WeakSet:Set,lt=null;function mE(e,t){if(e=e.containerInfo,th=au,e=t0(e),Bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,h=0,p=e,m=null;t:for(;;){for(var S;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(S=p.firstChild)!==null;)m=p,p=S;for(;;){if(p===e)break t;if(m===n&&++f===r&&(l=a),m===s&&++h===i&&(u=a),(S=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=S}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},au=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var I=rs(n.type,r);e=i.getSnapshotBeforeUpdate(I,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){_e(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rh(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function m_(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n),i&4&&ul(5,n);break;case 1:if(ni(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){_e(n,n.return,a)}else{var r=rs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&u_(n),i&512&&Ao(n,n.return);break;case 3:if(ni(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_0(e,t)}catch(a){_e(n,n.return,a)}}break;case 27:t===null&&i&4&&p_(n);case 26:case 5:ni(e,n),t===null&&i&4&&d_(n),i&512&&Ao(n,n.return);break;case 12:ni(e,n);break;case 31:ni(e,n),i&4&&v_(e,n);break;case 13:ni(e,n),i&4&&__(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wE.bind(null,n),GE(e,n))));break;case 22:if(i=n.memoizedState!==null||oi,!i){t=t!==null&&t.memoizedState!==null||Qe,r=oi;var s=Qe;oi=i,(Qe=t)&&!s?si(e,n,(n.subtreeFlags&8772)!==0):ni(e,n),oi=r,Qe=s}break;case 30:break;default:ni(e,n)}}function g_(e){var t=e.alternate;t!==null&&(e.alternate=null,g_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mh(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,Ct=!1;function ti(e,t,n){for(n=n.child;n!==null;)y_(e,t,n),n=n.sibling}function y_(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 26:Qe||Bn(n,t),ti(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||Bn(n,t);var i=Re,r=Ct;_r(n.type)&&(Re=n.stateNode,Ct=!1),ti(e,t,n),Oo(n.stateNode),Re=i,Ct=r;break;case 5:Qe||Bn(n,t);case 6:if(i=Re,r=Ct,Re=null,ti(e,t,n),Re=i,Ct=r,Re!==null)if(Ct)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(n.stateNode)}catch(s){_e(n,t,s)}else try{Re.removeChild(n.stateNode)}catch(s){_e(n,t,s)}break;case 18:Re!==null&&(Ct?(e=Re,kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),da(e)):kg(Re,n.stateNode));break;case 4:i=Re,r=Ct,Re=n.stateNode.containerInfo,Ct=!0,ti(e,t,n),Re=i,Ct=r;break;case 0:case 11:case 14:case 15:dr(2,n,t),Qe||dr(4,n,t),ti(e,t,n);break;case 1:Qe||(Bn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&f_(n,t,i)),ti(e,t,n);break;case 21:ti(e,t,n);break;case 22:Qe=(i=Qe)||n.memoizedState!==null,ti(e,t,n),Qe=i;break;default:ti(e,t,n)}}function v_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{da(e)}catch(n){_e(t,t.return,n)}}}function __(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{da(e)}catch(n){_e(t,t.return,n)}}function gE(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yg),t;default:throw Error(U(435,e.tag))}}function Yl(e,t){var n=gE(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=AE.bind(null,e,i);i.then(r,r)}})}function xt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(_r(l.type)){Re=l.stateNode,Ct=!1;break e}break;case 5:Re=l.stateNode,Ct=!1;break e;case 3:case 4:Re=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Re===null)throw Error(U(160));y_(s,a,r),Re=null,Ct=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)b_(t,e),t=t.sibling}var Sn=null;function b_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),Nt(e),i&4&&(dr(3,e,e.return),ul(3,e),dr(5,e,e.return));break;case 1:xt(t,e),Nt(e),i&512&&(Qe||n===null||Bn(n,n.return)),i&64&&oi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=Sn;if(xt(t,e),Nt(e),i&512&&(Qe||n===null||Bn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[al]||s[mt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),vt(s,i,n),s[mt]=e,ct(s),i=s;break e;case"link":var a=Lg("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),vt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=Lg("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),vt(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[mt]=e,ct(s),i=s}e.stateNode=i}else jg(r,e.type,e.stateNode);else e.stateNode=Ug(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?jg(r,e.type,e.stateNode):Ug(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,n.memoizedProps)}break;case 27:xt(t,e),Nt(e),i&512&&(Qe||n===null||Bn(n,n.return)),n!==null&&i&4&&Mf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(xt(t,e),Nt(e),i&512&&(Qe||n===null||Bn(n,n.return)),e.flags&32){r=e.stateNode;try{ra(r,"")}catch(I){_e(e,e.return,I)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Mf(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Uf=!0);break;case 6:if(xt(t,e),Nt(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){_e(e,e.return,I)}}break;case 3:if(Ec=null,r=Sn,Sn=iu(t.containerInfo),xt(t,e),Sn=r,Nt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(I){_e(e,e.return,I)}Uf&&(Uf=!1,S_(e));break;case 4:i=Sn,Sn=iu(e.stateNode.containerInfo),xt(t,e),Nt(e),Sn=i;break;case 12:xt(t,e),Nt(e);break;case 31:xt(t,e),Nt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Yl(e,i)));break;case 13:xt(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ju=$t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Yl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,f=oi,h=Qe;if(oi=f||r,Qe=h||u,xt(t,e),Qe=h,oi=f,Nt(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||oi||Qe||qr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(I){_e(u,u.return,I)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(I){_e(u,u.return,I)}}}else if(t.tag===18){if(n===null){u=t;try{var S=u.stateNode;r?Ig(S,!0):Ig(u.stateNode,!1)}catch(I){_e(u,u.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Yl(e,n))));break;case 19:xt(t,e),Nt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Yl(e,i)));break;case 30:break;case 21:break;default:xt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(h_(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=zf(e);Yc(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(ra(a,""),n.flags&=-33);var l=zf(e);Yc(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,f=zf(e);Fd(e,f,u);break;default:throw Error(U(161))}}catch(h){_e(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;S_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ni(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)m_(e,t.alternate,t),t=t.sibling}function qr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:dr(4,t,t.return),qr(t);break;case 1:Bn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&f_(t,t.return,n),qr(t);break;case 27:Oo(t.stateNode);case 26:case 5:Bn(t,t.return),qr(t);break;case 22:t.memoizedState===null&&qr(t);break;case 30:qr(t);break;default:qr(t)}e=e.sibling}}function si(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:si(r,s,n),ul(4,s);break;case 1:if(si(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(f){_e(i,i.return,f)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)v0(u[r],l)}catch(f){_e(i,i.return,f)}}n&&a&64&&u_(s),Ao(s,s.return);break;case 27:p_(s);case 26:case 5:si(r,s,n),n&&i===null&&a&4&&d_(s),Ao(s,s.return);break;case 12:si(r,s,n);break;case 31:si(r,s,n),n&&a&4&&v_(r,s);break;case 13:si(r,s,n),n&&a&4&&__(r,s);break;case 22:s.memoizedState===null&&si(r,s,n),Ao(s,s.return);break;case 30:break;default:si(r,s,n)}t=t.sibling}}function dp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ll(n))}function hp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e))}function _n(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T_(e,t,n,i),t=t.sibling}function T_(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,n,i),r&2048&&ul(9,t);break;case 1:_n(e,t,n,i);break;case 3:_n(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e)));break;case 12:if(r&2048){_n(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){_e(t,t.return,u)}}else _n(e,t,n,i);break;case 31:_n(e,t,n,i);break;case 13:_n(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?_n(e,t,n,i):xo(e,t):s._visibility&2?_n(e,t,n,i):(s._visibility|=2,Ns(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&dp(a,t);break;case 24:_n(e,t,n,i),r&2048&&hp(t.alternate,t);break;default:_n(e,t,n,i)}}function Ns(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,a=t,l=n,u=i,f=a.flags;switch(a.tag){case 0:case 11:case 15:Ns(s,a,l,u,r),ul(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Ns(s,a,l,u,r):xo(s,a):(h._visibility|=2,Ns(s,a,l,u,r)),r&&f&2048&&dp(a.alternate,a);break;case 24:Ns(s,a,l,u,r),r&&f&2048&&hp(a.alternate,a);break;default:Ns(s,a,l,u,r)}t=t.sibling}}function xo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:xo(n,i),r&2048&&dp(i.alternate,i);break;case 24:xo(n,i),r&2048&&hp(i.alternate,i);break;default:xo(n,i)}t=t.sibling}}var mo=8192;function As(e,t,n){if(e.subtreeFlags&mo)for(e=e.child;e!==null;)E_(e,t,n),e=e.sibling}function E_(e,t,n){switch(e.tag){case 26:As(e,t,n),e.flags&mo&&e.memoizedState!==null&&nw(n,Sn,e.memoizedState,e.memoizedProps);break;case 5:As(e,t,n);break;case 3:case 4:var i=Sn;Sn=iu(e.stateNode.containerInfo),As(e,t,n),Sn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=mo,mo=16777216,As(e,t,n),mo=i):As(e,t,n));break;default:As(e,t,n)}}function w_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function to(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];lt=i,x_(i,e)}w_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A_(e),e=e.sibling}function A_(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&dr(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Sc(e)):to(e);break;default:to(e)}}function Sc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];lt=i,x_(i,e)}w_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:dr(8,t,t.return),Sc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Sc(t));break;default:Sc(t)}e=e.sibling}}function x_(e,t){for(;lt!==null;){var n=lt;switch(n.tag){case 0:case 11:case 15:dr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ll(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,lt=i;else e:for(n=e;lt!==null;){i=lt;var r=i.sibling,s=i.return;if(g_(i),i===n){lt=null;break e}if(r!==null){r.return=s,lt=r;break e}lt=s}}}var yE={getCacheForType:function(e){var t=yt(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yt(Ke).controller.signal}},vE=typeof WeakMap=="function"?WeakMap:Map,me=0,Ae=null,re=null,se=0,ye=0,Bt=null,Qi=!1,Sa=!1,pp=!1,Ti=0,je=0,hr=0,Kr=0,mp=0,Gt=0,la=0,No=null,Ot=null,Yd=!1,ju=0,N_=0,Qc=1/0,Kc=null,ir=null,nt=0,rr=null,ca=null,yi=0,Qd=0,Kd=null,C_=null,Co=0,Jd=null;function Yt(){return me&2&&se!==0?se&-se:Q.T!==null?yp():Lv()}function O_(){if(Gt===0)if(!(se&536870912)||oe){var e=Hl;Hl<<=1,!(Hl&3932160)&&(Hl=262144),Gt=e}else Gt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Gt}function It(e,t,n){(e===Ae&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(ua(e,0),Ki(e,se,Gt,!1)),sl(e,n),(!(me&2)||e!==Ae)&&(e===Ae&&(!(me&2)&&(Kr|=n),je===4&&Ki(e,se,Gt,!1)),Xn(e))}function k_(e,t,n){if(me&6)throw Error(U(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rl(e,t),r=i?SE(e,t):Lf(e,t,!0),s=i;do{if(r===0){Sa&&!i&&Ki(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_E(n)){r=Lf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var l=e;r=No;var u=l.current.memoizedState.isDehydrated;if(u&&(ua(l,a).flags|=256),a=Lf(l,a,!1),a!==2){if(pp&&!u){l.errorRecoveryDisabledLanes|=s,Kr|=s,r=4;break e}s=Ot,Ot=r,s!==null&&(Ot===null?Ot=s:Ot.push.apply(Ot,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){ua(e,0),Ki(e,t,0,!0);break}e:{switch(i=e,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Ki(i,t,Gt,!Qi);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(r=ju+300-$t(),10<r)){if(Ki(i,t,Gt,!Qi),Nu(i,0,!0)!==0)break e;yi=t,i.timeoutHandle=Q_(vg.bind(null,i,n,Ot,Kc,Yd,t,Gt,Kr,la,Qi,s,"Throttled",-0,0),r);break e}vg(i,n,Ot,Kc,Yd,t,Gt,Kr,la,Qi,s,null,-0,0)}}break}while(!0);Xn(e)}function vg(e,t,n,i,r,s,a,l,u,f,h,p,m,S){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},E_(t,s,p);var I=(s&62914560)===s?ju-$t():(s&4194048)===s?N_-$t():0;if(I=iw(p,I),I!==null){yi=s,e.cancelPendingCommit=I(bg.bind(null,e,t,s,n,i,r,a,l,u,h,p,null,m,S)),Ki(e,s,a,!f);return}}bg(e,t,s,n,i,r,a,l,u)}function _E(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Qt(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t,n,i){t&=~mp,t&=~Kr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-Ft(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&Mv(e,n,t)}function Pu(){return me&6?!0:(fl(0),!1)}function gp(){if(re!==null){if(ye===0)var e=re.return;else e=re,di=ps=null,tp(e),Fs=null,qo=0,e=re;for(;e!==null;)c_(e.alternate,e),e=e.return;re=null}}function ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,PE(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),yi=0,gp(),Ae=e,re=n=mi(e.current,null),se=t,ye=0,Bt=null,Qi=!1,Sa=rl(e,t),pp=!1,la=Gt=mp=Kr=hr=je=0,Ot=No=null,Yd=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Ft(i),s=1<<r;t|=e[r],i&=~s}return Ti=t,Iu(),n}function I_(e,t){ee=null,Q.H=Go,t===ba||t===Du?(t=Qm(),ye=3):t===Fh?(t=Qm(),ye=4):ye=t===up?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,re===null&&(je=1,Xc(e,an(t,e.current)))}function R_(){var e=Kt.current;return e===null?!0:(se&4194048)===se?un===null:(se&62914560)===se||se&536870912?e===un:!1}function D_(){var e=Q.H;return Q.H=Go,e===null?Go:e}function M_(){var e=Q.A;return Q.A=yE,e}function Jc(){je=4,Qi||(se&4194048)!==se&&Kt.current!==null||(Sa=!0),!(hr&134217727)&&!(Kr&134217727)||Ae===null||Ki(Ae,se,Gt,!1)}function Lf(e,t,n){var i=me;me|=2;var r=D_(),s=M_();(Ae!==e||se!==t)&&(Kc=null,ua(e,t)),t=!1;var a=je;e:do try{if(ye!==0&&re!==null){var l=re,u=Bt;switch(ye){case 8:gp(),a=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var f=ye;if(ye=0,Bt=null,Bs(e,l,u,f),n&&Sa){a=0;break e}break;default:f=ye,ye=0,Bt=null,Bs(e,l,u,f)}}bE(),a=je;break}catch(h){I_(e,h)}while(!0);return t&&e.shellSuspendCounter++,di=ps=null,me=i,Q.H=r,Q.A=s,re===null&&(Ae=null,se=0,Iu()),a}function bE(){for(;re!==null;)z_(re)}function SE(e,t){var n=me;me|=2;var i=D_(),r=M_();Ae!==e||se!==t?(Kc=null,Qc=$t()+500,ua(e,t)):Sa=rl(e,t);e:do try{if(ye!==0&&re!==null){t=re;var s=Bt;t:switch(ye){case 1:ye=0,Bt=null,Bs(e,t,s,1);break;case 2:case 9:if(Ym(s)){ye=0,Bt=null,_g(t);break}t=function(){ye!==2&&ye!==9||Ae!==e||(ye=7),Xn(e)},s.then(t,t);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Ym(s)?(ye=0,Bt=null,_g(t)):(ye=0,Bt=null,Bs(e,t,s,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(a?tb(a):l.stateNode.complete){ye=0,Bt=null;var u=l.sibling;if(u!==null)re=u;else{var f=l.return;f!==null?(re=f,Bu(f)):re=null}break t}}ye=0,Bt=null,Bs(e,t,s,5);break;case 6:ye=0,Bt=null,Bs(e,t,s,6);break;case 8:gp(),je=6;break e;default:throw Error(U(462))}}TE();break}catch(h){I_(e,h)}while(!0);return di=ps=null,Q.H=i,Q.A=r,me=n,re!==null?0:(Ae=null,se=0,Iu(),je)}function TE(){for(;re!==null&&!ZS();)z_(re)}function z_(e){var t=l_(e.alternate,e,Ti);e.memoizedProps=e.pendingProps,t===null?Bu(e):re=t}function _g(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=dg(n,t,t.pendingProps,t.type,void 0,se);break;case 11:t=dg(n,t,t.pendingProps,t.type.render,t.ref,se);break;case 5:tp(t);default:c_(n,t),t=re=c0(t,Ti),t=l_(n,t,Ti)}e.memoizedProps=e.pendingProps,t===null?Bu(e):re=t}function Bs(e,t,n,i){di=ps=null,tp(t),Fs=null,qo=0;var r=t.return;try{if(uE(e,r,t,n,se)){je=1,Xc(e,an(n,e.current)),re=null;return}}catch(s){if(r!==null)throw re=r,s;je=1,Xc(e,an(n,e.current)),re=null;return}t.flags&32768?(oe||i===1?e=!0:Sa||se&536870912?e=!1:(Qi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Kt.current,i!==null&&i.tag===13&&(i.flags|=16384))),U_(t,e)):Bu(t)}function Bu(e){var t=e;do{if(t.flags&32768){U_(t,Qi);return}e=t.return;var n=hE(t.alternate,t,Ti);if(n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);je===0&&(je=5)}function U_(e,t){do{var n=pE(e.alternate,e);if(n!==null){n.flags&=32767,re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=n}while(e!==null);je=6,re=null}function bg(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Hu();while(nt!==0);if(me&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(s=t.lanes|t.childLanes,s|=Hh,tT(e,n,s,a,l,u),e===Ae&&(re=Ae=null,se=0),ca=t,rr=e,yi=n,Qd=s,Kd=r,C_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,xE(Uc,function(){return H_(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,r=ge.p,ge.p=2,a=me,me|=4;try{mE(e,t,n)}finally{me=a,ge.p=r,Q.T=i}}nt=1,L_(),j_(),P_()}}function L_(){if(nt===1){nt=0;var e=rr,t=ca,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ge.p;ge.p=2;var r=me;me|=4;try{b_(t,e);var s=nh,a=t0(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&e0(l.ownerDocument.documentElement,l)){if(u!==null&&Bh(l)){var f=u.start,h=u.end;if(h===void 0&&(h=f),"selectionStart"in l)l.selectionStart=f,l.selectionEnd=Math.min(h,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var S=m.getSelection(),I=l.textContent.length,M=Math.min(u.start,I),L=u.end===void 0?M:Math.min(u.end,I);!S.extend&&M>L&&(a=L,L=M,M=a);var x=qm(l,M),A=qm(l,L);if(x&&A&&(S.rangeCount!==1||S.anchorNode!==x.node||S.anchorOffset!==x.offset||S.focusNode!==A.node||S.focusOffset!==A.offset)){var O=p.createRange();O.setStart(x.node,x.offset),S.removeAllRanges(),M>L?(S.addRange(O),S.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),S.addRange(O))}}}}for(p=[],S=l;S=S.parentNode;)S.nodeType===1&&p.push({element:S,left:S.scrollLeft,top:S.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var k=p[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}au=!!th,nh=th=null}finally{me=r,ge.p=i,Q.T=n}}e.current=t,nt=2}}function j_(){if(nt===2){nt=0;var e=rr,t=ca,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ge.p;ge.p=2;var r=me;me|=4;try{m_(e,t.alternate,t)}finally{me=r,ge.p=i,Q.T=n}}nt=3}}function P_(){if(nt===4||nt===3){nt=0,$S();var e=rr,t=ca,n=yi,i=C_;t.subtreeFlags&10256||t.flags&10256?nt=5:(nt=0,ca=rr=null,B_(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ir=null),Dh(n),t=t.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,r=ge.p,ge.p=2,Q.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Q.T=t,ge.p=r}}yi&3&&Hu(),Xn(e),r=e.pendingLanes,n&261930&&r&42?e===Jd?Co++:(Co=0,Jd=e):Co=0,fl(0)}}function B_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ll(t)))}function Hu(){return L_(),j_(),P_(),H_()}function H_(){if(nt!==5)return!1;var e=rr,t=Qd;Qd=0;var n=Dh(yi),i=Q.T,r=ge.p;try{ge.p=32>n?32:n,Q.T=null,n=Kd,Kd=null;var s=rr,a=yi;if(nt=0,ca=rr=null,yi=0,me&6)throw Error(U(331));var l=me;if(me|=4,A_(s.current),T_(s,s.current,a,n),me=l,fl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(il,s)}catch{}return!0}finally{ge.p=r,Q.T=i,B_(e,t)}}function Sg(e,t,n){t=an(n,t),t=Zd(e.stateNode,t,2),e=nr(e,t,2),e!==null&&(sl(e,2),Xn(e))}function _e(e,t,n){if(e.tag===3)Sg(e,e,n);else for(;t!==null;){if(t.tag===3){Sg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ir===null||!ir.has(i))){e=an(n,e),n=n_(2),i=nr(t,n,2),i!==null&&(i_(n,i,t,e),sl(i,2),Xn(i));break}}t=t.return}}function jf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new vE;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(pp=!0,r.add(n),e=EE.bind(null,e,t,n),t.then(e,e))}function EE(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ae===e&&(se&n)===n&&(je===4||je===3&&(se&62914560)===se&&300>$t()-ju?!(me&2)&&ua(e,0):mp|=n,la===se&&(la=0)),Xn(e)}function q_(e,t){t===0&&(t=Dv()),e=hs(e,t),e!==null&&(sl(e,t),Xn(e))}function wE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),q_(e,n)}function AE(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),q_(e,n)}function xE(e,t){return Ih(e,t)}var Wc=null,Cs=null,Wd=!1,eu=!1,Pf=!1,Ji=0;function Xn(e){e!==Cs&&e.next===null&&(Cs===null?Wc=Cs=e:Cs=Cs.next=e),eu=!0,Wd||(Wd=!0,CE())}function fl(e,t){if(!Pf&&eu){Pf=!0;do for(var n=!1,i=Wc;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Ft(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Tg(i,s))}else s=se,s=Nu(i,i===Ae?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||rl(i,s)||(n=!0,Tg(i,s));i=i.next}while(n);Pf=!1}}function NE(){V_()}function V_(){eu=Wd=!1;var e=0;Ji!==0&&jE()&&(e=Ji);for(var t=$t(),n=null,i=Wc;i!==null;){var r=i.next,s=G_(i,t);s===0?(i.next=null,n===null?Wc=r:n.next=r,r===null&&(Cs=n)):(n=i,(e!==0||s&3)&&(eu=!0)),i=r}nt!==0&&nt!==5||fl(e),Ji!==0&&(Ji=0)}function G_(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-Ft(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=eT(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=Ae,n=se,n=Nu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&hf(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&hf(i),Dh(n)){case 2:case 8:n=Iv;break;case 32:n=Uc;break;case 268435456:n=Rv;break;default:n=Uc}return i=Z_.bind(null,e),n=Ih(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&hf(i),e.callbackPriority=2,e.callbackNode=null,2}function Z_(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hu()&&e.callbackNode!==n)return null;var i=se;return i=Nu(e,e===Ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(k_(e,i,t),G_(e,$t()),e.callbackNode!=null&&e.callbackNode===n?Z_.bind(null,e):null)}function Tg(e,t){if(Hu())return null;k_(e,t,!0)}function CE(){BE(function(){me&6?Ih(kv,NE):V_()})}function yp(){if(Ji===0){var e=sa;e===0&&(e=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),Ji=e}return Ji}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dc(""+e)}function wg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function OE(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=Eg((r[Rt]||null).action),a=i.submitter;a&&(t=(t=a[Rt]||null)?Eg(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new Cu("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ji!==0){var u=a?wg(r,a):new FormData(r);Vd(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?wg(r,a):new FormData(r),Vd(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var Bf=0;Bf<Id.length;Bf++){var Hf=Id[Bf],kE=Hf.toLowerCase(),IE=Hf[0].toUpperCase()+Hf.slice(1);xn(kE,"on"+IE)}xn(i0,"onAnimationEnd");xn(r0,"onAnimationIteration");xn(s0,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(XT,"onTransitionRun");xn(FT,"onTransitionStart");xn(YT,"onTransitionCancel");xn(a0,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function $_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=f;try{s(r)}catch(h){jc(h)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=f;try{s(r)}catch(h){jc(h)}r.currentTarget=null,s=u}}}}function ie(e,t){var n=t[Ed];n===void 0&&(n=t[Ed]=new Set);var i=e+"__bubble";n.has(i)||(X_(t,e,2,!1),n.add(i))}function qf(e,t,n){var i=0;t&&(i|=4),X_(n,e,i,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function vp(e){if(!e[Ql]){e[Ql]=!0,jv.forEach(function(n){n!=="selectionchange"&&(RE.has(n)||qf(n,!1,e),qf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,qf("selectionchange",!1,t))}}function X_(e,t,n,i){switch(ab(t)){case 2:var r=aw;break;case 8:r=ow;break;default:r=Tp}n=r.bind(null,t,n,e),r=void 0,!Cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Vf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=Is(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}$v(function(){var f=s,h=Uh(n),p=[];e:{var m=o0.get(e);if(m!==void 0){var S=Cu,I=e;switch(e){case"keypress":if(pc(n)===0)break e;case"keydown":case"keyup":S=AT;break;case"focusin":I="focus",S=vf;break;case"focusout":I="blur",S=vf;break;case"beforeblur":case"afterblur":S=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=hT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=CT;break;case i0:case r0:case s0:S=gT;break;case a0:S=kT;break;case"scroll":case"scrollend":S=fT;break;case"wheel":S=RT;break;case"copy":case"cut":case"paste":S=vT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Mm;break;case"toggle":case"beforetoggle":S=MT}var M=(t&4)!==0,L=!M&&(e==="scroll"||e==="scrollend"),x=M?m!==null?m+"Capture":null:m;M=[];for(var A=f,O;A!==null;){var k=A;if(O=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||O===null||x===null||(k=Lo(A,x),k!=null&&M.push($o(A,k,O))),L)break;A=A.return}0<M.length&&(m=new S(m,I,null,n,h),p.push({event:m,listeners:M}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",m&&n!==Nd&&(I=n.relatedTarget||n.fromElement)&&(Is(I)||I[ya]))break e;if((S||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,S?(I=n.relatedTarget||n.toElement,S=f,I=I?Is(I):null,I!==null&&(L=nl(I),M=I.tag,I!==L||M!==5&&M!==27&&M!==6)&&(I=null)):(S=null,I=f),S!==I)){if(M=Rm,k="onMouseLeave",x="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(M=Mm,k="onPointerLeave",x="onPointerEnter",A="pointer"),L=S==null?m:ho(S),O=I==null?m:ho(I),m=new M(k,A+"leave",S,n,h),m.target=L,m.relatedTarget=O,k=null,Is(h)===f&&(M=new M(x,A+"enter",I,n,h),M.target=O,M.relatedTarget=L,k=M),L=k,S&&I)t:{for(M=DE,x=S,A=I,O=0,k=x;k;k=M(k))O++;k=0;for(var j=A;j;j=M(j))k++;for(;0<O-k;)x=M(x),O--;for(;0<k-O;)A=M(A),k--;for(;O--;){if(x===A||A!==null&&x===A.alternate){M=x;break t}x=M(x),A=M(A)}M=null}else M=null;S!==null&&Ag(p,m,S,M,!1),I!==null&&L!==null&&Ag(p,L,I,M,!0)}}e:{if(m=f?ho(f):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var H=jm;else if(Lm(m))if(Jv)H=GT;else{H=qT;var E=HT}else S=m.nodeName,!S||S.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&zh(f.elementType)&&(H=jm):H=VT;if(H&&(H=H(e,f))){Kv(p,H,n,h);break e}E&&E(e,m,f),e==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&xd(m,"number",m.value)}switch(E=f?ho(f):window,e){case"focusin":(Lm(E)||E.contentEditable==="true")&&(Ms=E,Od=f,_o=null);break;case"focusout":_o=Od=Ms=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Vm(p,n,h);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Vm(p,n,h)}var _;if(Ph)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ds?Yv(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Fv&&n.locale!=="ko"&&(Ds||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ds&&(_=Xv()):(Yi=h,Lh="value"in Yi?Yi.value:Yi.textContent,Ds=!0)),E=tu(f,b),0<E.length&&(b=new Dm(b,e,null,n,h),p.push({event:b,listeners:E}),_?b.data=_:(_=Qv(n),_!==null&&(b.data=_)))),(_=UT?LT(e,n):jT(e,n))&&(b=tu(f,"onBeforeInput"),0<b.length&&(E=new Dm("onBeforeInput","beforeinput",null,n,h),p.push({event:E,listeners:b}),E.data=_)),OE(p,e,f,n,h)}$_(p,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Lo(e,n),r!=null&&i.unshift($o(e,r,s)),r=Lo(e,t),r!=null&&i.push($o(e,r,s))),e.tag===3)return i;e=e.return}return[]}function DE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ag(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,f=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||f===null||(u=f,r?(f=Lo(n,s),f!=null&&a.unshift($o(n,f,u))):r||(f=Lo(n,s),f!=null&&a.push($o(n,f,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var ME=/\r\n?/g,zE=/\u0000|\uFFFD/g;function xg(e){return(typeof e=="string"?e:""+e).replace(ME,`
`).replace(zE,"")}function F_(e,t){return t=xg(t),xg(e)===t}function Te(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ra(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ra(e,""+i);break;case"className":Vl(e,"class",i);break;case"tabIndex":Vl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(e,n,i);break;case"style":Zv(e,i,s);break;case"data":if(t!=="object"){Vl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Te(e,t,"name",r.name,r,null),Te(e,t,"formEncType",r.formEncType,r,null),Te(e,t,"formMethod",r.formMethod,r,null),Te(e,t,"formTarget",r.formTarget,r,null)):(Te(e,t,"encType",r.encType,r,null),Te(e,t,"method",r.method,r,null),Te(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=fi);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=dc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ie("beforetoggle",e),ie("toggle",e),fc(e,"popover",i);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cT.get(n)||n,fc(e,n,i))}}function eh(e,t,n,i,r,s){switch(n){case"style":Zv(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ra(e,i):(typeof i=="number"||typeof i=="bigint")&&ra(e,""+i);break;case"onScroll":i!=null&&ie("scroll",e);break;case"onScrollEnd":i!=null&&ie("scrollend",e);break;case"onClick":i!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[Rt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):fc(e,n,i)}}}function vt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Te(e,t,s,a,n,null)}}r&&Te(e,t,"srcSet",n.srcSet,n,null),i&&Te(e,t,"src",n.src,n,null);return;case"input":ie("invalid",e);var l=s=a=r=null,u=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":f=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(U(137,t));break;default:Te(e,t,i,h,n,null)}}qv(e,s,l,u,f,a,r,!1);return;case"select":ie("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Te(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Zs(e,!!i,t,!1):n!=null&&Zs(e,!!i,n,!0);return;case"textarea":ie("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Te(e,t,a,l,n,null)}Gv(e,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Te(e,t,u,i,n,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(i=0;i<Zo.length;i++)ie(Zo[i],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Te(e,t,f,i,n,null)}return;default:if(zh(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&eh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Te(e,t,l,i,n,null))}function UE(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,f=null,h=null;for(S in n){var p=n[S];if(n.hasOwnProperty(S)&&p!=null)switch(S){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(S)||Te(e,t,S,null,i,p)}}for(var m in i){var S=i[m];if(p=n[m],i.hasOwnProperty(m)&&(S!=null||p!=null))switch(m){case"type":s=S;break;case"name":r=S;break;case"checked":f=S;break;case"defaultChecked":h=S;break;case"value":a=S;break;case"defaultValue":l=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(U(137,t));break;default:S!==p&&Te(e,t,m,S,i,p)}}Ad(e,a,l,u,f,h,s,r);return;case"select":S=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":S=u;default:i.hasOwnProperty(s)||Te(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&Te(e,t,r,s,i,u)}t=l,n=a,i=S,m!=null?Zs(e,!!n,m,!1):!!i!=!!n&&(t!=null?Zs(e,!!n,t,!0):Zs(e,!!n,n?[]:"",!1));return;case"textarea":S=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Te(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":S=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&Te(e,t,a,r,i,s)}Vv(e,m,S);return;case"option":for(var I in n)if(m=n[I],n.hasOwnProperty(I)&&m!=null&&!i.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Te(e,t,I,null,i,m)}for(u in i)if(m=i[u],S=n[u],i.hasOwnProperty(u)&&m!==S&&(m!=null||S!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Te(e,t,u,m,i,S)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&Te(e,t,M,null,i,m);for(f in i)if(m=i[f],S=n[f],i.hasOwnProperty(f)&&m!==S&&(m!=null||S!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,t));break;default:Te(e,t,f,m,i,S)}return;default:if(zh(t)){for(var L in n)m=n[L],n.hasOwnProperty(L)&&m!==void 0&&!i.hasOwnProperty(L)&&eh(e,t,L,void 0,i,m);for(h in i)m=i[h],S=n[h],!i.hasOwnProperty(h)||m===S||m===void 0&&S===void 0||eh(e,t,h,m,i,S);return}}for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x)&&Te(e,t,x,null,i,m);for(p in i)m=i[p],S=n[p],!i.hasOwnProperty(p)||m===S||m==null&&S==null||Te(e,t,p,m,i,S)}function Ng(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Ng(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],f=u.startTime;if(f>l)break;var h=u.transferSize,p=u.initiatorType;h&&Ng(p)&&(u=u.responseEnd,a+=h*(u<l?1:(l-f)/(u-f)))}if(--i,t+=8*(s+a)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var th=null,nh=null;function nu(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ih(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gf=null;function jE(){var e=window.event;return e&&e.type==="popstate"?e===Gf?!1:(Gf=e,!0):(Gf=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(HE)}:Q_;function HE(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function kg(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),da(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Oo(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Oo(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[al]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Oo(e.ownerDocument.body);n=r}while(n);da(t)}function Ig(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function rh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rh(n),Mh(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qE(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[al])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function VE(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function K_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fn(e.nextSibling),e===null))return null;return e}function sh(e){return e.data==="$?"||e.data==="$~"}function ah(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function GE(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var oh=null;function Rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return fn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function J_(e,t,n){switch(t=nu(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function Oo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mh(e)}var dn=new Map,Mg=new Set;function iu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=ge.d;ge.d={f:ZE,r:$E,D:XE,C:FE,L:YE,m:QE,X:JE,S:KE,M:WE};function ZE(){var e=xi.f(),t=Pu();return e||t}function $E(e){var t=va(e);t!==null&&t.tag===5&&t.type==="form"?Z0(t):xi.r(e)}var Ta=typeof document>"u"?null:document;function W_(e,t,n){var i=Ta;if(i&&typeof t=="string"&&t){var r=sn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Mg.has(r)||(Mg.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),vt(t,"link",e),ct(t),i.head.appendChild(t)))}}function XE(e){xi.D(e),W_("dns-prefetch",e,null)}function FE(e,t){xi.C(e,t),W_("preconnect",e,t)}function YE(e,t,n){xi.L(e,t,n);var i=Ta;if(i&&e&&t){var r='link[rel="preload"][as="'+sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+sn(n.imageSizes)+'"]')):r+='[href="'+sn(e)+'"]';var s=r;switch(t){case"style":s=fa(e);break;case"script":s=Ea(e)}dn.has(s)||(e=ke({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),dn.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(dl(s))||t==="script"&&i.querySelector(hl(s))||(t=i.createElement("link"),vt(t,"link",e),ct(t),i.head.appendChild(t)))}}function QE(e,t){xi.m(e,t);var n=Ta;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+sn(i)+'"][href="'+sn(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ea(e)}if(!dn.has(s)&&(e=ke({rel:"modulepreload",href:e},t),dn.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(s)))return}i=n.createElement("link"),vt(i,"link",e),ct(i),n.head.appendChild(i)}}}function KE(e,t,n){xi.S(e,t,n);var i=Ta;if(i&&e){var r=Gs(i).hoistableStyles,s=fa(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(dl(s)))l.loading=5;else{e=ke({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dn.get(s))&&_p(e,n);var u=a=i.createElement("link");ct(u),vt(u,"link",e),u._p=new Promise(function(f,h){u.onload=f,u.onerror=h}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function JE(e,t){xi.X(e,t);var n=Ta;if(n&&e){var i=Gs(n).hoistableScripts,r=Ea(e),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(e=ke({src:e,async:!0},t),(t=dn.get(r))&&bp(e,t),s=n.createElement("script"),ct(s),vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function WE(e,t){xi.M(e,t);var n=Ta;if(n&&e){var i=Gs(n).hoistableScripts,r=Ea(e),s=i.get(r);s||(s=n.querySelector(hl(r)),s||(e=ke({src:e,async:!0,type:"module"},t),(t=dn.get(r))&&bp(e,t),s=n.createElement("script"),ct(s),vt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function zg(e,t,n,i){var r=(r=Wi.current)?iu(r):null;if(!r)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fa(n.href),n=Gs(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fa(n.href);var s=Gs(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(dl(e)))&&!s._p&&(a.instance=s,a.state.loading=5),dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dn.set(e,n),s||ew(r,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ea(n),n=Gs(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function fa(e){return'href="'+sn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function eb(e){return ke({},e,{"data-precedence":e.precedence,precedence:null})}function ew(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),vt(t,"link",n),ct(t),e.head.appendChild(t))}function Ea(e){return'[src="'+sn(e)+'"]'}function hl(e){return"script[async]"+e}function Ug(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+sn(n.href)+'"]');if(i)return t.instance=i,ct(i),i;var r=ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ct(i),vt(i,"style",r),Tc(i,n.precedence,e),t.instance=i;case"stylesheet":r=fa(n.href);var s=e.querySelector(dl(r));if(s)return t.state.loading|=4,t.instance=s,ct(s),s;i=eb(n),(r=dn.get(r))&&_p(i,r),s=(e.ownerDocument||e).createElement("link"),ct(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),vt(s,"link",i),t.state.loading|=4,Tc(s,n.precedence,e),t.instance=s;case"script":return s=Ea(n.src),(r=e.querySelector(hl(s)))?(t.instance=r,ct(r),r):(i=n,(r=dn.get(s))&&(i=ke({},n),bp(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),ct(r),vt(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Tc(i,n.precedence,e));return t.instance}function Tc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function _p(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ec=null;function Lg(e,t,n){if(Ec===null){var i=new Map,r=Ec=new Map;r.set(n,i)}else r=Ec,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[al]||s[mt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function jg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function tw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tb(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function nw(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=fa(i.href),s=t.querySelector(dl(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ru.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,ct(s);return}s=t.ownerDocument||t,i=eb(i),(r=dn.get(r))&&_p(i,r),s=s.createElement("link"),ct(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),vt(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ru.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zf=0;function iw(e,t){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Zf===0&&(Zf=62500*LE());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Zf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,t.forEach(rw,e),su=null,ru.call(e))}function rw(e,t){if(!(t.state.loading&4)){var n=su.get(e);if(n)var i=n.get(null);else{n=new Map,su.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=ru.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Xo={$$typeof:ui,Provider:null,Consumer:null,_currentValue:Xr,_currentValue2:Xr,_threadCount:0};function sw(e,t,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.hiddenUpdates=pf(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function nb(e,t,n,i,r,s,a,l,u,f,h,p){return e=new sw(e,t,n,a,u,f,h,p,l),t=1,s===!0&&(t|=24),s=Vt(3,null,null,t),e.current=s,s.stateNode=e,t=$h(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Yh(s),e}function ib(e){return e?(e=Ls,e):Ls}function rb(e,t,n,i,r,s){r=ib(r),i.context===null?i.context=r:i.pendingContext=r,i=tr(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=nr(e,i,t),n!==null&&(It(n,e,t),So(n,e,t))}function Pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sp(e,t){Pg(e,t),(e=e.alternate)&&Pg(e,t)}function sb(e){if(e.tag===13||e.tag===31){var t=hs(e,67108864);t!==null&&It(t,e,67108864),Sp(e,67108864)}}function Bg(e){if(e.tag===13||e.tag===31){var t=Yt();t=Rh(t);var n=hs(e,t);n!==null&&It(n,e,t),Sp(e,t)}}var au=!0;function aw(e,t,n,i){var r=Q.T;Q.T=null;var s=ge.p;try{ge.p=2,Tp(e,t,n,i)}finally{ge.p=s,Q.T=r}}function ow(e,t,n,i){var r=Q.T;Q.T=null;var s=ge.p;try{ge.p=8,Tp(e,t,n,i)}finally{ge.p=s,Q.T=r}}function Tp(e,t,n,i){if(au){var r=lh(i);if(r===null)Vf(e,t,i,ou,n),Hg(e,i);else if(cw(r,e,t,n,i))i.stopPropagation();else if(Hg(e,i),t&4&&-1<lw.indexOf(e)){for(;r!==null;){var s=va(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Br(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Ft(a);l.entanglements[1]|=u,a&=~u}Xn(s),!(me&6)&&(Qc=$t()+500,fl(0))}}break;case 31:case 13:l=hs(s,2),l!==null&&It(l,s,2),Pu(),Sp(s,2)}if(s=lh(i),s===null&&Vf(e,t,i,ou,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Vf(e,t,i,null,n)}}function lh(e){return e=Uh(e),Ep(e)}var ou=null;function Ep(e){if(ou=null,e=Is(e),e!==null){var t=nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Av(t),e!==null)return e;e=null}else if(n===31){if(e=xv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function ab(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(XS()){case kv:return 2;case Iv:return 8;case Uc:case FS:return 32;case Rv:return 268435456;default:return 32}default:return 32}}var ch=!1,sr=null,ar=null,or=null,Fo=new Map,Yo=new Map,Vi=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hg(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function no(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=va(t),t!==null&&sb(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function cw(e,t,n,i,r){switch(t){case"focusin":return sr=no(sr,e,t,n,i,r),!0;case"dragenter":return ar=no(ar,e,t,n,i,r),!0;case"mouseover":return or=no(or,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Fo.set(s,no(Fo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Yo.set(s,no(Yo.get(s)||null,e,t,n,i,r)),!0}return!1}function ob(e){var t=Is(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=Av(n),t!==null){e.blockedOn=t,Am(e.priority,function(){Bg(n)});return}}else if(t===31){if(t=xv(n),t!==null){e.blockedOn=t,Am(e.priority,function(){Bg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Nd=i,n.target.dispatchEvent(i),Nd=null}else return t=va(n),t!==null&&sb(t),e.blockedOn=n,!1;t.shift()}return!0}function qg(e,t,n){Ac(e)&&n.delete(t)}function uw(){ch=!1,sr!==null&&Ac(sr)&&(sr=null),ar!==null&&Ac(ar)&&(ar=null),or!==null&&Ac(or)&&(or=null),Fo.forEach(qg),Yo.forEach(qg)}function Kl(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,uw)))}var Jl=null;function Vg(e){Jl!==e&&(Jl=e,st.unstable_scheduleCallback(st.unstable_NormalPriority,function(){Jl===e&&(Jl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Ep(i||n)===null)continue;break}var s=va(n);s!==null&&(e.splice(t,3),t-=3,Vd(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function da(e){function t(u){return Kl(u,e)}sr!==null&&Kl(sr,e),ar!==null&&Kl(ar,e),or!==null&&Kl(or,e),Fo.forEach(t),Yo.forEach(t);for(var n=0;n<Vi.length;n++){var i=Vi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)ob(n),n.blockedOn===null&&Vi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Rt]||null;if(typeof s=="function")a||Vg(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Rt]||null)l=a.formAction;else if(Ep(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Vg(n)}}}function lb(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function wp(e){this._internalRoot=e}qu.prototype.render=wp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Yt();rb(n,i,e,t,null,null)};qu.prototype.unmount=wp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rb(e.current,2,null,e,null,null),Pu(),t[ya]=null}};function qu(e){this._internalRoot=e}qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vi.length&&t!==0&&t<Vi[n].priority;n++);Vi.splice(n,0,e),n===0&&ob(e)}};var Gg=Ev.version;if(Gg!=="19.2.3")throw Error(U(527,Gg,"19.2.3"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=BS(t),e=e!==null?Nv(e):null,e=e===null?null:e.stateNode,e};var fw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{il=Wl.inject(fw),Xt=Wl}catch{}}xu.createRoot=function(e,t){if(!wv(e))throw Error(U(299));var n=!1,i="",r=W0,s=e_,a=t_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nb(e,1,!1,null,null,n,i,null,r,s,a,lb),e[ya]=t.current,vp(e),new wp(t)};xu.hydrateRoot=function(e,t,n){if(!wv(e))throw Error(U(299));var i=!1,r="",s=W0,a=e_,l=t_,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=nb(e,1,!0,t,n??null,i,r,u,s,a,l,lb),t.context=ib(null),n=t.current,i=Yt(),i=Rh(i),r=tr(i),r.callback=null,nr(n,r,i),n=i,t.current.lanes=n,sl(t,n),Xn(t),e[ya]=t.current,vp(e),new qu(t)};xu.version="19.2.3";function cb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cb)}catch(e){console.error(e)}}cb(),bv.exports=xu;var dw=bv.exports;const hw="modulepreload",pw=function(e,t){return new URL(e,t).href},Zg={},Le=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=Promise.allSettled(n.map(f=>{if(f=pw(f,i),f in Zg)return;Zg[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(!!i)for(let I=a.length-1;I>=0;I--){const M=a[I];if(M.href===f&&(!h||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${p}`))return;const S=document.createElement("link");if(S.rel=h?"stylesheet":hw,h||(S.as="script"),S.crossOrigin="",S.href=f,u&&S.setAttribute("nonce",u),document.head.appendChild(S),h)return new Promise((I,M)=>{S.addEventListener("load",I),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return r.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Qo="man_econ_state",ub="Man, Economy, and State",mw="Murray Rothbard's treatise on economics - a comprehensive exposition of Austrian Economics",fb="",gw="https://mathacademy-cyan.vercel.app",Zt={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:db,setPrototypeOf:$g,isFrozen:yw,getPrototypeOf:vw,getOwnPropertyDescriptor:_w}=Object;let{freeze:Tt,seal:hn,create:uh}=Object,{apply:fh,construct:dh}=typeof Reflect<"u"&&Reflect;Tt||(Tt=function(t){return t});hn||(hn=function(t){return t});fh||(fh=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return t.apply(n,r)});dh||(dh=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new t(...i)});const ec=Et(Array.prototype.forEach),bw=Et(Array.prototype.lastIndexOf),Xg=Et(Array.prototype.pop),io=Et(Array.prototype.push),Sw=Et(Array.prototype.splice),xc=Et(String.prototype.toLowerCase),$f=Et(String.prototype.toString),Xf=Et(String.prototype.match),ro=Et(String.prototype.replace),Tw=Et(String.prototype.indexOf),Ew=Et(String.prototype.trim),bn=Et(Object.prototype.hasOwnProperty),_t=Et(RegExp.prototype.test),so=ww(TypeError);function Et(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return fh(e,t,i)}}function ww(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return dh(e,n)}}function ne(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xc;$g&&$g(e,null);let i=t.length;for(;i--;){let r=t[i];if(typeof r=="string"){const s=n(r);s!==r&&(yw(t)||(t[i]=s),r=s)}e[r]=!0}return e}function Aw(e){for(let t=0;t<e.length;t++)bn(e,t)||(e[t]=null);return e}function Dn(e){const t=uh(null);for(const[n,i]of db(e))bn(e,n)&&(Array.isArray(i)?t[n]=Aw(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Dn(i):t[n]=i);return t}function ao(e,t){for(;e!==null;){const i=_w(e,t);if(i){if(i.get)return Et(i.get);if(typeof i.value=="function")return Et(i.value)}e=vw(e)}function n(){return null}return n}const Fg=Tt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ff=Tt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yf=Tt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xw=Tt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qf=Tt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Nw=Tt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yg=Tt(["#text"]),Qg=Tt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Kf=Tt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kg=Tt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tc=Tt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cw=hn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ow=hn(/<%[\w\W]*|[\w\W]*%>/gm),kw=hn(/\$\{[\w\W]*/gm),Iw=hn(/^data-[\-\w.\u00B7-\uFFFF]+$/),Rw=hn(/^aria-[\-\w]+$/),hb=hn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dw=hn(/^(?:\w+script|data):/i),Mw=hn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pb=hn(/^html$/i),zw=hn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jg=Object.freeze({__proto__:null,ARIA_ATTR:Rw,ATTR_WHITESPACE:Mw,CUSTOM_ELEMENT:zw,DATA_ATTR:Iw,DOCTYPE_NAME:pb,ERB_EXPR:Ow,IS_ALLOWED_URI:hb,IS_SCRIPT_OR_DATA:Dw,MUSTACHE_EXPR:Cw,TMPLIT_EXPR:kw});const oo={element:1,text:3,progressingInstruction:7,comment:8,document:9},Uw=function(){return typeof window>"u"?null:window},Lw=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Wg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function mb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uw();const t=Z=>mb(Z);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==oo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,r=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:f,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:S}=e,I=u.prototype,M=ao(I,"cloneNode"),L=ao(I,"remove"),x=ao(I,"nextSibling"),A=ao(I,"childNodes"),O=ao(I,"parentNode");if(typeof a=="function"){const Z=n.createElement("template");Z.content&&Z.content.ownerDocument&&(n=Z.content.ownerDocument)}let k,j="";const{implementation:H,createNodeIterator:E,createDocumentFragment:_,getElementsByTagName:b}=n,{importNode:v}=i;let T=Wg();t.isSupported=typeof db=="function"&&typeof O=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:C,ERB_EXPR:w,TMPLIT_EXPR:ae,DATA_ATTR:le,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:ue}=Jg;let{IS_ALLOWED_URI:Se}=Jg,Y=null;const J=ne({},[...Fg,...Ff,...Yf,...Qf,...Yg]);let W=null;const Ie=ne({},[...Qg,...Kf,...Kg,...tc]);let fe=Object.seal(uh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gn=null,Er=null;const Nn=Object.seal(uh(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ka=!0,Ia=!0,bl=!1,Ra=!0,Cn=!1,wr=!0,Yn=!1,Ar=!1,xr=!1,Qn=!1,He=!1,Xe=!1,Nr=!0,Sl=!1;const Tl="user-content-";let Da=!0,yn=!1,Kn={},zt=null;const Cr=ne({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let El=null;const wl=ne({},["audio","video","img","source","image","track"]);let ys=null;const Al=ne({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),On="http://www.w3.org/1998/Math/MathML",Ni="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let Lt=Ut,vs=!1,Or=null;const xl=ne({},[On,Ni,Ut],$f);let kn=ne({},["mi","mo","mn","ms","mtext"]),kr=ne({},["annotation-xml"]);const ft=ne({},["title","style","font","a","script"]);let Ci=null;const Ir=["application/xhtml+xml","text/html"],Rr="text/html";let qe=null,Oi=null;const ki=n.createElement("form"),Nl=function(N){return N instanceof RegExp||N instanceof Function},Ma=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Oi&&Oi===N)){if((!N||typeof N!="object")&&(N={}),N=Dn(N),Ci=Ir.indexOf(N.PARSER_MEDIA_TYPE)===-1?Rr:N.PARSER_MEDIA_TYPE,qe=Ci==="application/xhtml+xml"?$f:xc,Y=bn(N,"ALLOWED_TAGS")?ne({},N.ALLOWED_TAGS,qe):J,W=bn(N,"ALLOWED_ATTR")?ne({},N.ALLOWED_ATTR,qe):Ie,Or=bn(N,"ALLOWED_NAMESPACES")?ne({},N.ALLOWED_NAMESPACES,$f):xl,ys=bn(N,"ADD_URI_SAFE_ATTR")?ne(Dn(Al),N.ADD_URI_SAFE_ATTR,qe):Al,El=bn(N,"ADD_DATA_URI_TAGS")?ne(Dn(wl),N.ADD_DATA_URI_TAGS,qe):wl,zt=bn(N,"FORBID_CONTENTS")?ne({},N.FORBID_CONTENTS,qe):Cr,gn=bn(N,"FORBID_TAGS")?ne({},N.FORBID_TAGS,qe):Dn({}),Er=bn(N,"FORBID_ATTR")?ne({},N.FORBID_ATTR,qe):Dn({}),Kn=bn(N,"USE_PROFILES")?N.USE_PROFILES:!1,ka=N.ALLOW_ARIA_ATTR!==!1,Ia=N.ALLOW_DATA_ATTR!==!1,bl=N.ALLOW_UNKNOWN_PROTOCOLS||!1,Ra=N.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Cn=N.SAFE_FOR_TEMPLATES||!1,wr=N.SAFE_FOR_XML!==!1,Yn=N.WHOLE_DOCUMENT||!1,Qn=N.RETURN_DOM||!1,He=N.RETURN_DOM_FRAGMENT||!1,Xe=N.RETURN_TRUSTED_TYPE||!1,xr=N.FORCE_BODY||!1,Nr=N.SANITIZE_DOM!==!1,Sl=N.SANITIZE_NAMED_PROPS||!1,Da=N.KEEP_CONTENT!==!1,yn=N.IN_PLACE||!1,Se=N.ALLOWED_URI_REGEXP||hb,Lt=N.NAMESPACE||Ut,kn=N.MATHML_TEXT_INTEGRATION_POINTS||kn,kr=N.HTML_INTEGRATION_POINTS||kr,fe=N.CUSTOM_ELEMENT_HANDLING||{},N.CUSTOM_ELEMENT_HANDLING&&Nl(N.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=N.CUSTOM_ELEMENT_HANDLING.tagNameCheck),N.CUSTOM_ELEMENT_HANDLING&&Nl(N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=N.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),N.CUSTOM_ELEMENT_HANDLING&&typeof N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fe.allowCustomizedBuiltInElements=N.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Cn&&(Ia=!1),He&&(Qn=!0),Kn&&(Y=ne({},Yg),W=[],Kn.html===!0&&(ne(Y,Fg),ne(W,Qg)),Kn.svg===!0&&(ne(Y,Ff),ne(W,Kf),ne(W,tc)),Kn.svgFilters===!0&&(ne(Y,Yf),ne(W,Kf),ne(W,tc)),Kn.mathMl===!0&&(ne(Y,Qf),ne(W,Kg),ne(W,tc))),N.ADD_TAGS&&(typeof N.ADD_TAGS=="function"?Nn.tagCheck=N.ADD_TAGS:(Y===J&&(Y=Dn(Y)),ne(Y,N.ADD_TAGS,qe))),N.ADD_ATTR&&(typeof N.ADD_ATTR=="function"?Nn.attributeCheck=N.ADD_ATTR:(W===Ie&&(W=Dn(W)),ne(W,N.ADD_ATTR,qe))),N.ADD_URI_SAFE_ATTR&&ne(ys,N.ADD_URI_SAFE_ATTR,qe),N.FORBID_CONTENTS&&(zt===Cr&&(zt=Dn(zt)),ne(zt,N.FORBID_CONTENTS,qe)),N.ADD_FORBID_CONTENTS&&(zt===Cr&&(zt=Dn(zt)),ne(zt,N.ADD_FORBID_CONTENTS,qe)),Da&&(Y["#text"]=!0),Yn&&ne(Y,["html","head","body"]),Y.table&&(ne(Y,["tbody"]),delete gn.tbody),N.TRUSTED_TYPES_POLICY){if(typeof N.TRUSTED_TYPES_POLICY.createHTML!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof N.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=N.TRUSTED_TYPES_POLICY,j=k.createHTML("")}else k===void 0&&(k=Lw(S,r)),k!==null&&typeof j=="string"&&(j=k.createHTML(""));Tt&&Tt(N),Oi=N}},_s=ne({},[...Ff,...Yf,...xw]),Cl=ne({},[...Qf,...Nw]),Ol=function(N){let P=O(N);(!P||!P.tagName)&&(P={namespaceURI:Lt,tagName:"template"});const G=xc(N.tagName),de=xc(P.tagName);return Or[N.namespaceURI]?N.namespaceURI===Ni?P.namespaceURI===Ut?G==="svg":P.namespaceURI===On?G==="svg"&&(de==="annotation-xml"||kn[de]):!!_s[G]:N.namespaceURI===On?P.namespaceURI===Ut?G==="math":P.namespaceURI===Ni?G==="math"&&kr[de]:!!Cl[G]:N.namespaceURI===Ut?P.namespaceURI===Ni&&!kr[de]||P.namespaceURI===On&&!kn[de]?!1:!Cl[G]&&(ft[G]||!_s[G]):!!(Ci==="application/xhtml+xml"&&Or[N.namespaceURI]):!1},At=function(N){io(t.removed,{element:N});try{O(N).removeChild(N)}catch{L(N)}},jt=function(N,P){try{io(t.removed,{attribute:P.getAttributeNode(N),from:P})}catch{io(t.removed,{attribute:null,from:P})}if(P.removeAttribute(N),N==="is")if(Qn||He)try{At(P)}catch{}else try{P.setAttribute(N,"")}catch{}},kl=function(N){let P=null,G=null;if(xr)N="<remove></remove>"+N;else{const ze=Xf(N,/^[\r\n\t ]+/);G=ze&&ze[0]}Ci==="application/xhtml+xml"&&Lt===Ut&&(N='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+N+"</body></html>");const de=k?k.createHTML(N):N;if(Lt===Ut)try{P=new m().parseFromString(de,Ci)}catch{}if(!P||!P.documentElement){P=H.createDocument(Lt,"template",null);try{P.documentElement.innerHTML=vs?j:de}catch{}}const Fe=P.body||P.documentElement;return N&&G&&Fe.insertBefore(n.createTextNode(G),Fe.childNodes[0]||null),Lt===Ut?b.call(P,Yn?"html":"body")[0]:Yn?P.documentElement:Fe},vn=function(N){return E.call(N.ownerDocument||N,N,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},bs=function(N){return N instanceof p&&(typeof N.nodeName!="string"||typeof N.textContent!="string"||typeof N.removeChild!="function"||!(N.attributes instanceof h)||typeof N.removeAttribute!="function"||typeof N.setAttribute!="function"||typeof N.namespaceURI!="string"||typeof N.insertBefore!="function"||typeof N.hasChildNodes!="function")},za=function(N){return typeof l=="function"&&N instanceof l};function Pt(Z,N,P){ec(Z,G=>{G.call(t,N,P,Oi)})}const Ss=function(N){let P=null;if(Pt(T.beforeSanitizeElements,N,null),bs(N))return At(N),!0;const G=qe(N.nodeName);if(Pt(T.uponSanitizeElement,N,{tagName:G,allowedTags:Y}),wr&&N.hasChildNodes()&&!za(N.firstElementChild)&&_t(/<[/\w!]/g,N.innerHTML)&&_t(/<[/\w!]/g,N.textContent)||N.nodeType===oo.progressingInstruction||wr&&N.nodeType===oo.comment&&_t(/<[/\w]/g,N.data))return At(N),!0;if(!(Nn.tagCheck instanceof Function&&Nn.tagCheck(G))&&(!Y[G]||gn[G])){if(!gn[G]&&Il(G)&&(fe.tagNameCheck instanceof RegExp&&_t(fe.tagNameCheck,G)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(G)))return!1;if(Da&&!zt[G]){const de=O(N)||N.parentNode,Fe=A(N)||N.childNodes;if(Fe&&de){const ze=Fe.length;for(let dt=ze-1;dt>=0;--dt){const Jt=M(Fe[dt],!0);Jt.__removalCount=(N.__removalCount||0)+1,de.insertBefore(Jt,x(N))}}}return At(N),!0}return N instanceof u&&!Ol(N)||(G==="noscript"||G==="noembed"||G==="noframes")&&_t(/<\/no(script|embed|frames)/i,N.innerHTML)?(At(N),!0):(Cn&&N.nodeType===oo.text&&(P=N.textContent,ec([C,w,ae],de=>{P=ro(P,de," ")}),N.textContent!==P&&(io(t.removed,{element:N.cloneNode()}),N.textContent=P)),Pt(T.afterSanitizeElements,N,null),!1)},Ua=function(N,P,G){if(Nr&&(P==="id"||P==="name")&&(G in n||G in ki))return!1;if(!(Ia&&!Er[P]&&_t(le,P))){if(!(ka&&_t(B,P))){if(!(Nn.attributeCheck instanceof Function&&Nn.attributeCheck(P,N))){if(!W[P]||Er[P]){if(!(Il(N)&&(fe.tagNameCheck instanceof RegExp&&_t(fe.tagNameCheck,N)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(N))&&(fe.attributeNameCheck instanceof RegExp&&_t(fe.attributeNameCheck,P)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(P,N))||P==="is"&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&_t(fe.tagNameCheck,G)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(G))))return!1}else if(!ys[P]){if(!_t(Se,ro(G,F,""))){if(!((P==="src"||P==="xlink:href"||P==="href")&&N!=="script"&&Tw(G,"data:")===0&&El[N])){if(!(bl&&!_t(X,ro(G,F,"")))){if(G)return!1}}}}}}}return!0},Il=function(N){return N!=="annotation-xml"&&Xf(N,ue)},La=function(N){Pt(T.beforeSanitizeAttributes,N,null);const{attributes:P}=N;if(!P||bs(N))return;const G={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let de=P.length;for(;de--;){const Fe=P[de],{name:ze,namespaceURI:dt,value:Jt}=Fe,Jn=qe(ze),Dr=Jt;let Ve=ze==="value"?Dr:Ew(Dr);if(G.attrName=Jn,G.attrValue=Ve,G.keepAttr=!0,G.forceKeepAttr=void 0,Pt(T.uponSanitizeAttribute,N,G),Ve=G.attrValue,Sl&&(Jn==="id"||Jn==="name")&&(jt(ze,N),Ve=Tl+Ve),wr&&_t(/((--!?|])>)|<\/(style|title|textarea)/i,Ve)){jt(ze,N);continue}if(Jn==="attributename"&&Xf(Ve,"href")){jt(ze,N);continue}if(G.forceKeepAttr)continue;if(!G.keepAttr){jt(ze,N);continue}if(!Ra&&_t(/\/>/i,Ve)){jt(ze,N);continue}Cn&&ec([C,w,ae],Pa=>{Ve=ro(Ve,Pa," ")});const ja=qe(N.nodeName);if(!Ua(ja,Jn,Ve)){jt(ze,N);continue}if(k&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!dt)switch(S.getAttributeType(ja,Jn)){case"TrustedHTML":{Ve=k.createHTML(Ve);break}case"TrustedScriptURL":{Ve=k.createScriptURL(Ve);break}}if(Ve!==Dr)try{dt?N.setAttributeNS(dt,ze,Ve):N.setAttribute(ze,Ve),bs(N)?At(N):Xg(t.removed)}catch{jt(ze,N)}}Pt(T.afterSanitizeAttributes,N,null)},tf=function Z(N){let P=null;const G=vn(N);for(Pt(T.beforeSanitizeShadowDOM,N,null);P=G.nextNode();)Pt(T.uponSanitizeShadowNode,P,null),Ss(P),La(P),P.content instanceof s&&Z(P.content);Pt(T.afterSanitizeShadowDOM,N,null)};return t.sanitize=function(Z){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=null,G=null,de=null,Fe=null;if(vs=!Z,vs&&(Z="<!-->"),typeof Z!="string"&&!za(Z))if(typeof Z.toString=="function"){if(Z=Z.toString(),typeof Z!="string")throw so("dirty is not a string, aborting")}else throw so("toString is not a function");if(!t.isSupported)return Z;if(Ar||Ma(N),t.removed=[],typeof Z=="string"&&(yn=!1),yn){if(Z.nodeName){const Jt=qe(Z.nodeName);if(!Y[Jt]||gn[Jt])throw so("root node is forbidden and cannot be sanitized in-place")}}else if(Z instanceof l)P=kl("<!---->"),G=P.ownerDocument.importNode(Z,!0),G.nodeType===oo.element&&G.nodeName==="BODY"||G.nodeName==="HTML"?P=G:P.appendChild(G);else{if(!Qn&&!Cn&&!Yn&&Z.indexOf("<")===-1)return k&&Xe?k.createHTML(Z):Z;if(P=kl(Z),!P)return Qn?null:Xe?j:""}P&&xr&&At(P.firstChild);const ze=vn(yn?Z:P);for(;de=ze.nextNode();)Ss(de),La(de),de.content instanceof s&&tf(de.content);if(yn)return Z;if(Qn){if(He)for(Fe=_.call(P.ownerDocument);P.firstChild;)Fe.appendChild(P.firstChild);else Fe=P;return(W.shadowroot||W.shadowrootmode)&&(Fe=v.call(i,Fe,!0)),Fe}let dt=Yn?P.outerHTML:P.innerHTML;return Yn&&Y["!doctype"]&&P.ownerDocument&&P.ownerDocument.doctype&&P.ownerDocument.doctype.name&&_t(pb,P.ownerDocument.doctype.name)&&(dt="<!DOCTYPE "+P.ownerDocument.doctype.name+`>
`+dt),Cn&&ec([C,w,ae],Jt=>{dt=ro(dt,Jt," ")}),k&&Xe?k.createHTML(dt):dt},t.setConfig=function(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ma(Z),Ar=!0},t.clearConfig=function(){Oi=null,Ar=!1},t.isValidAttribute=function(Z,N,P){Oi||Ma({});const G=qe(Z),de=qe(N);return Ua(G,de,P)},t.addHook=function(Z,N){typeof N=="function"&&io(T[Z],N)},t.removeHook=function(Z,N){if(N!==void 0){const P=bw(T[Z],N);return P===-1?void 0:Sw(T[Z],P,1)[0]}return Xg(T[Z])},t.removeHooks=function(Z){T[Z]=[]},t.removeAllHooks=function(){T=Wg()},t}var jw=mb();function Jf(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Pw(e){if(!e)return[];const t=[];let n=0;const i=[],r=/\$\$([^$]*?)\$\$/g;let s;for(;(s=r.exec(e))!==null;)i.push({type:"display",latex:s[1],start:s.index,end:s.index+s[0].length});const a=/\$([^$]+?)\$/g;let l;for(;(l=a.exec(e))!==null;)i.some(f=>l.index>=f.start&&l.index<f.end)||i.push({type:"inline",latex:l[1],start:l.index,end:l.index+l[0].length});return i.sort((u,f)=>u.start-f.start),i.forEach(u=>{const f=e.slice(n,u.start);f&&t.push({type:"text",content:f}),t.push({type:u.type==="display"?"display-math":"inline-math",content:u.latex}),n=u.end}),n<e.length&&t.push({type:"text",content:e.slice(n)}),t}function Bw(e){if(!e)return"";const n=Pw(e).map(i=>{if(i.type==="text")return Jf(i.content);if(i.type==="inline-math")try{return bm.renderToString(i.content,{throwOnError:!1,displayMode:!1})}catch{return Jf(i.content)}else if(i.type==="display-math")try{return bm.renderToString(i.content,{throwOnError:!1,displayMode:!0})}catch{return Jf(i.content)}return""}).join("");return jw.sanitize(n,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function Wf(e){return typeof e=="string"?Bw(e):e.map(t=>(t.type==="text",t.content)).join("")}const Hw=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function qw(e){return Hw.includes(e)}const rt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},ii={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},ko=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],gb=50;class Vw{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const s=console[t]||console.log;i!==void 0?s(r,i):s(r)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const ed={};function br(e){const t=e||"__default__";return ed[t]||(ed[t]=new Vw(e)),ed[t]}const ln=br("Storage"),hh="magic-internet-math-progress",td=2;function yb(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function vb(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function ss(){if(!yb())return ln.warn("localStorage is not available"),null;try{const e=localStorage.getItem(hh);if(!e)return null;const t=JSON.parse(e);return vb(t)?(t.version!==td&&(ln.info(`Migrating state from v${t.version} to v${td}`),t.version=td),t):(ln.warn("Invalid gamification state structure in localStorage"),null)}catch(e){ln.error("Failed to load gamification state:",e);try{localStorage.removeItem(hh),ln.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Vu(e){if(!yb()){ln.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(hh,JSON.stringify(e))}catch(t){ln.error("Failed to save gamification state:",t)}}const Gw=1;function Zw(){const e=ss();if(!e){ln.warn("No progress data to export");return}const t={version:Gw,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),ln.info("Progress exported successfully")}function $w(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!vb(t.state))}async function Xw(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var r;try{const s=(r=i.target)==null?void 0:r.result;if(typeof s!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(s);if(!$w(a)){t({success:!1,message:"Invalid backup file format"});return}const l=ss(),u=(l==null?void 0:l.user.totalXP)??0,f=a.state.user.totalXP;if(u>f){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${f} XP). Import cancelled.`});return}Vu(a.state),ln.info(`Progress imported: ${f} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${f} XP!`,xpImported:f})}catch(s){ln.error("Failed to parse backup file:",s),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function Fw(){const e=ss();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function Yw(){const e=ss();e&&(e.migratedToServer=!0,Vu(e),ln.info("Marked progress as migrated to server"))}function Qw(){const e=ss();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function _b(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:Kw(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:gb,completed:!1},lastUpdated:e}}function Kw(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const Jw=50;function ey(e){return Math.round(e/Jw*100)}const Ww=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>ey(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>ey(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function eA(e){const t=[];for(const n of Ww){const i=e.achievements.find(s=>s.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function wa(e){for(let t=ko.length-1;t>=0;t--)if(e>=ko[t])return t+1;return 1}function bb(e,t){if(t>=ko.length)return 100;const n=ko[t-1],i=ko[t],r=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,r))}function Sb(e,t){const n={easy:rt.QUIZ_EASY,medium:rt.QUIZ_MEDIUM,hard:rt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const tA=1e3*60*60*24;function nA(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:gb,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const r=new Date(i),s=Math.floor((t.getTime()-r.getTime())/tA);if(s===0)return e;if(s===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return s===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function Tb(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(r=>r.score)),i=t.reduce((r,s)=>r+s.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function iA(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Gu=br("GamificationReducer");function rA(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const r=e.user.totalXP+rt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:r,level:wa(r)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+rt.SECTION_VISIT},lastUpdated:n}}function sA(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return Gu.warn(`Attempted to complete unvisited section: ${t}`),e;const r=e.user.totalXP+rt.SECTION_COMPLETE,s=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:r,level:wa(r),sectionsCompleted:s},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:Tb(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+rt.SECTION_COMPLETE},lastUpdated:n}}function aA(e,t,n){const{sectionId:i,difficulty:r,score:s,correctAnswers:a,totalQuestions:l}=t,u=e.sections[i];if(!u)return Gu.warn(`Section ${i} was not visited before quiz`),e;const f=Sb(r,s),h=a===l,p=h?Math.round(f*(1+rt.QUIZ_PERFECT_BONUS)):f,m=e.user.totalXP+p,S={timestamp:n,difficulty:r,score:s,correctAnswers:a,totalQuestions:l,xpEarned:p},I=[...u.quizAttempts,S],M={...u,quizAttempts:I},L=Tb(M),x=s>=80&&!u.completedAt,A=x&&!e.user.sectionsCompleted.includes(i),O=A?rt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:m+O,level:wa(m+O),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:h?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:A?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...M,masteryLevel:L,completedAt:x?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+p+O},lastUpdated:n}}function oA(e,t,n,i){const r=e.sections[t];if(r!=null&&r.visualizationsInteracted.includes(n))return e;if(!r)return Gu.warn(`Section ${t} was not visited before visualization`),e;const s=e.user.totalXP+rt.VISUALIZATION_USE,a=[...r.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:s,level:wa(s),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...r,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+rt.VISUALIZATION_USE},lastUpdated:i}}function lA(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+rt.PART_COMPLETE_BONUS;return Gu.info(`Part ${t} completed, awarding ${rt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:wa(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+rt.PART_COMPLETE_BONUS},lastUpdated:n}}function cA(e,t,n){let i=ii.GAME_PARTICIPATION;const r=ii.TIER_MULTIPLIER[t.tier],s=Math.floor(Math.max(0,t.score)/ii.POINTS_PER_XP_UNIT*rt.QUIZ_MEDIUM*r);if(i+=s,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=ii.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=ii.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=ii.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=ii.FIRST_PLACE_BONUS;break;case 2:i+=ii.SECOND_PLACE_BONUS;break;case 3:i+=ii.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,l=e.racingStats,u=t.score>((l==null?void 0:l.highScore)??0),f=t.isMultiplayer&&t.placement===1,h={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(f?1:0),lastPlayedAt:n},p=e.achievements.map(m=>{if(m.unlockedAt)return m;switch(m.id){case"racing-rookie":if(h.gamesPlayed>=1)return{...m,progress:1,unlockedAt:n};break;case"speed-demon":return h.fastAnswers>=50?{...m,progress:50,unlockedAt:n}:{...m,progress:Math.min(h.fastAnswers,50)};case"streak-legend":return h.longestStreak>=20?{...m,progress:20,unlockedAt:n}:{...m,progress:Math.min(h.longestStreak,20)};case"tier-climber":return h.highestTierUnlocked>=6?{...m,progress:6,unlockedAt:n}:{...m,progress:h.highestTierUnlocked};case"modular-master":return h.totalPoints>=1e4?{...m,progress:1e4,unlockedAt:n}:{...m,progress:Math.min(h.totalPoints,1e4)};case"multiplayer-champion":return h.multiplayerWins>=5?{...m,progress:5,unlockedAt:n}:{...m,progress:Math.min(h.multiplayerWins,5)}}return m});return{...e,user:{...e.user,totalXP:a,level:wa(a)},racingStats:h,achievements:p,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function uA(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return rA(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return sA(e,t.payload.sectionId,n);case"COMPLETE_PART":return lA(e,t.payload.partId,n);case"RECORD_QUIZ":return aA(e,t.payload,n);case"USE_VISUALIZATION":return oA(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return nA(e);case"RESET_PROGRESS":return _b();case"RECORD_RACE_GAME":return cA(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>{};var ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},dA=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,f=u?e[r+2]:0,h=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|f>>6,S=f&63;u||(S=64,a||(m=64)),i.push(n[h],n[p],n[m],n[S])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Eb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dA(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const f=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||f==null||p==null)throw new hA;const m=s<<2|l>>4;if(i.push(m),f!==64){const S=l<<4&240|f>>2;if(i.push(S),p!==64){const I=f<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(e){const t=Eb(e);return wb.encodeByteArray(t,!0)},Ab=function(e){return pA(e).replace(/\./g,"")},xb=function(e){try{return wb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=()=>mA().__FIREBASE_DEFAULTS__,yA=()=>{if(typeof process>"u"||typeof ty>"u")return;const e=ty.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xb(e[1]);return t&&JSON.parse(t)},Ap=()=>{try{return fA()||gA()||yA()||vA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nb=e=>{var t,n;return(n=(t=Ap())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},_A=e=>{const t=Nb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Cb=()=>{var e;return(e=Ap())==null?void 0:e.config},Ob=e=>{var t;return(t=Ap())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kb(e){return(await fetch(e,{credentials:"include"})).ok}const Io={};function SA(){const e={prod:[],emulator:[]};for(const t of Object.keys(Io))Io[t]?e.emulator.push(t):e.prod.push(t);return e}function TA(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ny=!1;function Ib(e,t){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||Io[e]===t||Io[e]||ny)return;Io[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=SA().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,S){m.setAttribute("width","24"),m.setAttribute("id",S),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function f(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ny=!0,a()},m}function h(m,S){m.setAttribute("id",S),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=TA(i),S=n("text"),I=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),L=document.getElementById(M)||document.createElement("a"),x=n("preprendIcon"),A=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const O=m.element;l(O),h(L,M);const k=f();u(A,x),O.append(A,I,L,k),document.body.appendChild(O)}s?(I.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function wA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const e=wt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="FirebaseError";class Fn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=kA,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?IA(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Fn(r,l,i)}}function IA(e,t){return e.replace(RA,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const RA=/\{\$([^}]+)}/g;function DA(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ha(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(iy(s)&&iy(a)){if(!ha(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function iy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function MA(e,t){const n=new zA(e,t);return n.subscribe.bind(n)}class zA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UA(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=nd),r.error===void 0&&(r.error=nd),r.complete===void 0&&(r.complete=nd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UA(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e&&e._delegate?e._delegate:e}class pr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new bA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PA(t))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=Vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vr){return this.instances.has(t)}getOptions(t=Vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jA(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Vr){return this.component?this.component.multipleInstances?t:Vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(e){return e===Vr?void 0:e}function PA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ve||(ve={}));const HA={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},qA=ve.INFO,VA={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},GA=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=VA[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xp{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($A(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $A(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ph="@firebase/app",ry="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new xp("@firebase/app"),XA="@firebase/app-compat",FA="@firebase/analytics-compat",YA="@firebase/analytics",QA="@firebase/app-check-compat",KA="@firebase/app-check",JA="@firebase/auth",WA="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",ix="@firebase/functions",rx="@firebase/functions-compat",sx="@firebase/installations",ax="@firebase/installations-compat",ox="@firebase/messaging",lx="@firebase/messaging-compat",cx="@firebase/performance",ux="@firebase/performance-compat",fx="@firebase/remote-config",dx="@firebase/remote-config-compat",hx="@firebase/storage",px="@firebase/storage-compat",mx="@firebase/firestore",gx="@firebase/ai",yx="@firebase/firestore-compat",vx="firebase",_x="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="[DEFAULT]",bx={[ph]:"fire-core",[XA]:"fire-core-compat",[YA]:"fire-analytics",[FA]:"fire-analytics-compat",[KA]:"fire-app-check",[QA]:"fire-app-check-compat",[JA]:"fire-auth",[WA]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[ix]:"fire-fn",[rx]:"fire-fn-compat",[sx]:"fire-iid",[ax]:"fire-iid-compat",[ox]:"fire-fcm",[lx]:"fire-fcm-compat",[cx]:"fire-perf",[ux]:"fire-perf-compat",[fx]:"fire-rc",[dx]:"fire-rc-compat",[hx]:"fire-gcs",[px]:"fire-gcs-compat",[mx]:"fire-fst",[yx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,Sx=new Map,gh=new Map;function sy(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function as(e){const t=e.name;if(gh.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;gh.set(t,e);for(const n of Ko.values())sy(n,e);for(const n of Sx.values())sy(n,e);return!0}function Np(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new pl("app","Firebase",Tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=_x;function Rb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:mh,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw lr.create("bad-app-name",{appName:String(r)});if(n||(n=Cb()),!n)throw lr.create("no-options");const s=Ko.get(r);if(s){if(ha(n,s.options)&&ha(i,s.config))return s;throw lr.create("duplicate-app",{appName:r})}const a=new BA(r);for(const u of gh.values())a.addComponent(u);const l=new Ex(n,i,a);return Ko.set(r,l),l}function Db(e=mh){const t=Ko.get(e);if(!t&&e===mh&&Cb())return Rb();if(!t)throw lr.create("no-app",{appName:e});return t}function wx(){return Array.from(Ko.values())}function Vn(e,t,n){let i=bx[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}as(new pr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-heartbeat-database",xx=1,Jo="firebase-heartbeat-store";let id=null;function Mb(){return id||(id=LS(Ax,xx,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(e=>{throw lr.create("idb-open",{originalErrorMessage:e.message})})),id}async function Nx(e){try{const n=(await Mb()).transaction(Jo),i=await n.objectStore(Jo).get(zb(e));return await n.done,i}catch(t){if(t instanceof Fn)Ei.warn(t.message);else{const n=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function ay(e,t){try{const i=(await Mb()).transaction(Jo,"readwrite");await i.objectStore(Jo).put(t,zb(e)),await i.done}catch(n){if(n instanceof Fn)Ei.warn(n.message);else{const i=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function zb(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=1024,Ox=30;class kx{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Ox){const a=Dx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oy(),{heartbeatsToSend:i,unsentEntries:r}=Ix(this._heartbeatsCache.heartbeats),s=Ab(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ei.warn(n),""}}}function oy(){return new Date().toISOString().substring(0,10)}function Ix(e,t=Cx){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),ly(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ly(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Rx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return ay(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ly(e){return Ab(JSON.stringify({version:2,heartbeats:e})).length}function Dx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(e){as(new pr("platform-logger",t=>new ZA(t),"PRIVATE")),as(new pr("heartbeat",t=>new kx(t),"PRIVATE")),Vn(ph,ry,e),Vn(ph,ry,"esm2020"),Vn("fire-js","")}Mx("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="type.googleapis.com/google.protobuf.Int64Value",Ux="type.googleapis.com/google.protobuf.UInt64Value";function Ub(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function lu(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>lu(t));if(typeof e=="function"||typeof e=="object")return Ub(e,t=>lu(t));throw new Error("Data cannot be encoded in JSON: "+e)}function pa(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case zx:case Ux:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>pa(t)):typeof e=="function"||typeof e=="object"?Ub(e,t=>pa(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Fn{constructor(t,n,i){super(`${Cp}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,kt.prototype)}}function Lx(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function cu(e,t){let n=Lx(e),i=n,r;try{const s=t&&t.error;if(s){const a=s.status;if(typeof a=="string"){if(!cy[a])return new kt("internal","internal");n=cy[a],i=a}const l=s.message;typeof l=="string"&&(i=l),r=s.details,r!==void 0&&(r=pa(r))}}catch{}return n==="ok"?null:new kt(n,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,n,i,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,cn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||i.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="us-central1",Px=/^data: (.*?)(?:\n|$)/;function Bx(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new kt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Hx{constructor(t,n,i,r,s=yh,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new jx(t,n,i,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=yh}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function qx(e,t,n){const i=Aa(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(kb(e.emulatorOrigin+"/backends"),Ib("Functions",!0))}function Vx(e,t,n){const i=r=>Zx(e,t,r,{});return i.stream=(r,s)=>Xx(e,t,r,s),i}function Lb(e){return e.emulatorOrigin&&Aa(e.emulatorOrigin)?"include":void 0}async function Gx(e,t,n,i,r){n["Content-Type"]="application/json";let s;try{s=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:Lb(r)})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}async function jb(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function Zx(e,t,n,i){const r=e._url(t);return $x(e,r,n,i)}async function $x(e,t,n,i){n=lu(n);const r={data:n},s=await jb(e,i),a=i.timeout||7e4,l=Bx(a),u=await Promise.race([Gx(t,r,s,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new kt("cancelled","Firebase Functions instance was deleted.");const f=cu(u.status,u.json);if(f)throw f;if(!u.json)throw new kt("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new kt("internal","Response is missing data field.");return{data:pa(h)}}function Xx(e,t,n,i){const r=e._url(t);return Fx(e,r,n,i||{})}async function Fx(e,t,n,i){var m;n=lu(n);const r={data:n},s=await jb(e,i);s["Content-Type"]="application/json",s.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(r),headers:s,signal:i==null?void 0:i.signal,credentials:Lb(e)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const M=new kt("cancelled","Request was cancelled.");return{data:Promise.reject(M),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(M)}}}}}}const I=cu(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let l,u;const f=new Promise((S,I)=>{l=S,u=I});(m=i==null?void 0:i.signal)==null||m.addEventListener("abort",()=>{const S=new kt("cancelled","Request was cancelled.");u(S)});const h=a.body.getReader(),p=Yx(h,l,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const S=p.getReader();return{async next(){const{value:I,done:M}=await S.read();return{value:I,done:M}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:f}}function Yx(e,t,n,i){const r=(a,l)=>{const u=a.match(Px);if(!u)return;const f=u[1];try{const h=JSON.parse(f);if("result"in h){t(pa(h.result));return}if("message"in h){l.enqueue(pa(h.message));return}if("error"in h){const p=cu(0,h);l.error(p),n(p);return}}catch(h){if(h instanceof kt){l.error(h),n(h);return}}},s=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(i!=null&&i.aborted){const f=new kt("cancelled","Request was cancelled");return a.error(f),n(f),Promise.resolve()}try{const{value:f,done:h}=await e.read();if(h){l.trim()&&r(l.trim(),a),a.close();return}if(i!=null&&i.aborted){const m=new kt("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}l+=s.decode(f,{stream:!0});const p=l.split(`
`);l=p.pop()||"";for(const m of p)m.trim()&&r(m.trim(),a);return u()}catch(f){const h=f instanceof kt?f:cu(0,null);a.error(h),n(h)}}},cancel(){return e.cancel()}})}const uy="@firebase/functions",fy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="auth-internal",Kx="app-check-internal",Jx="messaging-internal";function Wx(e){const t=(n,{instanceIdentifier:i})=>{const r=n.getProvider("app").getImmediate(),s=n.getProvider(Qx),a=n.getProvider(Jx),l=n.getProvider(Kx);return new Hx(r,s,a,l,i)};as(new pr(Cp,t,"PUBLIC").setMultipleInstances(!0)),Vn(uy,fy,e),Vn(uy,fy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e=Db(),t=yh){const i=Np(pn(e),Cp).getImmediate({identifier:t}),r=_A("functions");return r&&Pb(i,...r),i}function Pb(e,t,n){qx(pn(e),t,n)}function Wo(e,t,n){return Vx(pn(e),t)}Wx();var t2="firebase",n2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(t2,n2,"app");function Bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i2=Bb,Hb=new pl("auth","Firebase",Bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new xp("@firebase/auth");function r2(e,...t){uu.logLevel<=ve.WARN&&uu.warn(`Auth (${xa}): ${e}`,...t)}function Nc(e,...t){uu.logLevel<=ve.ERROR&&uu.error(`Auth (${xa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,...t){throw Op(e,...t)}function Gn(e,...t){return Op(e,...t)}function qb(e,t,n){const i={...i2(),[t]:n};return new pl("auth","Firebase",i).create(t,{appName:e.name})}function cr(e){return qb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Hb.create(e,...t)}function K(e,t,...n){if(!e)throw Op(t,...n)}function hi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nc(t),new Error(t)}function Ai(e,t){e||hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function s2(){return dy()==="http:"||dy()==="https:"}function dy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||AA()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ai(n>t,"Short delay should be less than long delay!"),this.isMobile=EA()||xA()}get(){return a2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e,t){Ai(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],u2=new gl(3e4,6e4);function Zu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Na(e,t,n,i,r={}){return Gb(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=ml({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:u,...s};return wA()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&Aa(e.emulatorConfig.host)&&(f.credentials="include"),Vb.fetch()(await $b(e,e.config.apiHost,n,l),f)})}async function Gb(e,t,n){e._canInitEmulator=!1;const i={...l2,...t};try{const r=new f2(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw nc(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw nc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw nc(e,"user-disabled",a);const h=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qb(e,h,f);wi(e,h)}}catch(r){if(r instanceof Fn)throw r;wi(e,"network-request-failed",{message:String(r)})}}async function Zb(e,t,n,i,r={}){const s=await Na(e,t,n,i,r);return"mfaPendingCredential"in s&&wi(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function $b(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?kp(e.config,r):`${e.config.apiScheme}://${r}`;return c2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class f2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Gn(this.auth,"network-request-failed")),u2.get())})}}function nc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Gn(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(e,t){return Na(e,"POST","/v1/accounts:delete",t)}async function fu(e,t){return Na(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function h2(e,t=!1){const n=pn(e),i=await n.getIdToken(t),r=Ip(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ro(rd(r.auth_time)),issuedAtTime:Ro(rd(r.iat)),expirationTime:Ro(rd(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rd(e){return Number(e)*1e3}function Ip(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const r=xb(n);return r?JSON.parse(r):(Nc("Failed to decode base64 JWT payload"),null)}catch(r){return Nc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function hy(e){const t=Ip(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Fn&&p2(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function p2({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e){var p;const t=e.auth,n=await e.getIdToken(),i=await el(e,fu(t,{idToken:n}));K(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?Xb(r.providerUserInfo):[],a=y2(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new _h(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(e,h)}async function g2(e){const t=pn(e);await du(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function y2(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Xb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(e,t){const n=await Gb(e,{},async()=>{const i=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await $b(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&Aa(e.emulatorConfig.host)&&(u.credentials="include"),Vb.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _2(e,t){return Na(e,"POST","/v2/accounts:revokeToken",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=hy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await v2(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ks;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ks,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class En{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new m2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _h(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await el(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return h2(this,t)}reload(){return g2(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new En({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(cr(this.auth));const t=await this.getIdToken();return await el(this,d2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:S,providerData:I,stsTokenManager:M}=n;K(p&&M,t,"internal-error");const L=Ks.fromJSON(this.name,M);K(typeof p=="string",t,"internal-error"),Ui(i,t.name),Ui(r,t.name),K(typeof m=="boolean",t,"internal-error"),K(typeof S=="boolean",t,"internal-error"),Ui(s,t.name),Ui(a,t.name),Ui(l,t.name),Ui(u,t.name),Ui(f,t.name),Ui(h,t.name);const x=new En({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:S,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:L,createdAt:f,lastLoginAt:h});return I&&Array.isArray(I)&&(x.providerData=I.map(A=>({...A}))),u&&(x._redirectEventId=u),x}static async _fromIdTokenResponse(t,n,i=!1){const r=new Ks;r.updateFromServerResponse(n);const s=new En({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await du(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Xb(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Ks;l.updateFromIdToken(i);const u=new En({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new _h(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=new Map;function pi(e){Ai(e instanceof Function,"Expected a class definition");let t=py.get(e);return t?(Ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,py.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Fb.type="NONE";const my=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e,t,n){return`firebase:${e}:${t}:${n}`}class Js{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await fu(this.auth,{idToken:t}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,t):null}return En._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Js(pi(my),t,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||pi(my);const a=Cc(i,t.config.apiKey,t.name);let l=null;for(const f of n)try{const h=await f._get(a);if(h){let p;if(typeof h=="string"){const m=await fu(t,{idToken:h}).catch(()=>{});if(!m)break;p=await En._fromGetAccountInfoResponse(t,m,h)}else p=En._fromJSON(t,h);f!==s&&(l=p),s=f;break}}catch{}const u=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Js(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Js(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(e1(t))return"Blackberry";if(t1(t))return"Webos";if(Qb(t))return"Safari";if((t.includes("chrome/")||Kb(t))&&!t.includes("edge/"))return"Chrome";if(Wb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Yb(e=wt()){return/firefox\//i.test(e)}function Qb(e=wt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kb(e=wt()){return/crios\//i.test(e)}function Jb(e=wt()){return/iemobile/i.test(e)}function Wb(e=wt()){return/android/i.test(e)}function e1(e=wt()){return/blackberry/i.test(e)}function t1(e=wt()){return/webos/i.test(e)}function Rp(e=wt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function b2(e=wt()){var t;return Rp(e)&&!!((t=window.navigator)!=null&&t.standalone)}function S2(){return NA()&&document.documentMode===10}function n1(e=wt()){return Rp(e)||Wb(e)||t1(e)||e1(e)||/windows phone/i.test(e)||Jb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(e,t=[]){let n;switch(e){case"Browser":n=gy(wt());break;case"Worker":n=`${gy(wt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(e,t={}){return Na(e,"GET","/v2/passwordPolicy",Zu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=6;class A2{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yy(this),this.idTokenSubscription=new yy(this),this.beforeStateQueue=new T2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Js.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await fu(this,{idToken:t}),i=await En._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(cn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await du(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cn(this.app))return Promise.reject(cr(this));const n=t?pn(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await E2(this),n=new A2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await _2(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&pi(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=i1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&r2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $u(e){return pn(e)}class yy{constructor(t){this.auth=t,this.observer=null,this.addObserver=MA(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(e){Dp=e}function C2(e){return Dp.loadJS(e)}function O2(){return Dp.gapiScript}function k2(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(e,t){const n=Np(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ha(s,t??{}))return r;wi(r,"already-initialized")}return n.initialize({options:t})}function R2(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(pi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function D2(e,t,n){const i=$u(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=r1(t),{host:a,port:l}=M2(t),u=l===null?"":`:${l}`,f={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(ha(f,i.config.emulator)&&ha(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Aa(a)?(kb(`${s}//${a}${u}`),Ib("Auth",!0)):z2()}function r1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function M2(e){const t=r1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:vy(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:vy(a)}}}function vy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function z2(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(t){return hi("not implemented")}_linkToIdToken(t,n){return hi("not implemented")}_getReauthenticationResolver(t){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e,t){return Zb(e,"POST","/v1/accounts:signInWithIdp",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="http://localhost";class os extends s1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new os(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new os(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ws(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Ws(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ws(t,n)}buildRequest(){const t={requestUri:U2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends yl{constructor(){super("facebook.com")}static credential(t){return os._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gi.credential(t.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return os._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends yl{constructor(){super("github.com")}static credential(t){return os._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $i.credential(t.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends yl{constructor(){super("twitter.com")}static credential(t,n){return os._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await En._fromIdTokenResponse(t,i,r),a=_y(i);return new ls({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=_y(i);return new ls({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function _y(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Fn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,hu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new hu(t,n,i,r)}}function o1(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hu._fromErrorAndOperation(e,s,t,i):s})}async function L2(e,t,n=!1){const i=await el(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ls._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(e,t,n=!1){const{auth:i}=e;if(cn(i.app))return Promise.reject(cr(i));const r="reauthenticate";try{const s=await el(e,o1(i,r,t,e),n);K(s.idToken,i,"internal-error");const a=Ip(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(e.uid===l,i,"user-mismatch"),ls._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&wi(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(e,t,n=!1){if(cn(e.app))return Promise.reject(cr(e));const i="signIn",r=await o1(e,i,t),s=await ls._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(e,t){return Zb(e,"POST","/v1/accounts:signInWithCustomToken",Zu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(e,t){if(cn(e.app))return Promise.reject(cr(e));const n=$u(e),i=await B2(n,{token:t,returnSecureToken:!0}),r=await ls._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}function q2(e,t,n,i){return pn(e).onIdTokenChanged(t,n,i)}function V2(e,t,n){return pn(e).beforeAuthStateChanged(t,n)}function G2(e,t,n,i){return pn(e).onAuthStateChanged(t,n,i)}function Z2(e){return pn(e).signOut()}const pu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=1e3,X2=10;class c1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);S2()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,X2):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}c1.type="LOCAL";const F2=c1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}u1.type="SESSION";const f1=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Xu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async f=>f(n.origin,s)),u=await Y2(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const f=Mp("",20);r.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===f)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function K2(e){Zn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function J2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W2(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function eN(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebaseLocalStorageDb",tN=1,mu="firebaseLocalStorage",p1="fbase_key";class vl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fu(e,t){return e.transaction([mu],t?"readwrite":"readonly").objectStore(mu)}function nN(){const e=indexedDB.deleteDatabase(h1);return new vl(e).toPromise()}function bh(){const e=indexedDB.open(h1,tN);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(mu,{keyPath:p1})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(mu)?t(i):(i.close(),await nN(),t(await bh()))})})}async function by(e,t,n){const i=Fu(e,!0).put({[p1]:t,value:n});return new vl(i).toPromise()}async function iN(e,t){const n=Fu(e,!1).get(t),i=await new vl(n).toPromise();return i===void 0?null:i.value}function Sy(e,t){const n=Fu(e,!0).delete(t);return new vl(n).toPromise()}const rN=800,sN=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bh(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>sN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xu._getInstance(eN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await J2(),!this.activeServiceWorker)return;this.sender=new Q2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||W2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bh();return await by(t,pu,"1"),await Sy(t,pu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>by(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>iN(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Fu(r,!1).getAll();return new vl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const aN=m1;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(e,t){return t?pi(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends s1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ws(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ws(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ws(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lN(e){return P2(e.auth,new zp(e),e.bypassAuthState)}function cN(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),j2(n,new zp(e),e.bypassAuthState)}async function uN(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),L2(n,new zp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return uN;case"reauthViaPopup":case"reauthViaRedirect":return cN;default:wi(this.auth,"internal-error")}}resolve(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new gl(2e3,1e4);class Hs extends g1{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const t=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fN.get())};t()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="pendingRedirect",Oc=new Map;class hN extends g1{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const i=await pN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pN(e,t){const n=yN(t),i=gN(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function mN(e,t){Oc.set(e._key(),t)}function gN(e){return pi(e._redirectPersistence)}function yN(e){return Cc(dN,e.config.apiKey,e.name)}async function vN(e,t,n=!1){if(cn(e.app))return Promise.reject(cr(e));const i=$u(e),r=oN(i,t),a=await new hN(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=10*60*1e3;class bN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!y1(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_N&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ty(t))}saveEventToCache(t){this.cachedEventUids.add(Ty(t)),this.lastProcessedEventTime=Date.now()}}function Ty(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function y1({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function SN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(e,t={}){return Na(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wN=/^https?/;async function AN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await TN(e);for(const n of t)try{if(xN(n))return}catch{}wi(e,"unauthorized-domain")}function xN(e){const t=vh(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!wN.test(n))return!1;if(EN.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new gl(3e4,6e4);function Ey(){const e=Zn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function CN(e){return new Promise((t,n)=>{var r,s,a;function i(){Ey(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ey(),n(Gn(e,"network-request-failed"))},timeout:NN.get()})}if((s=(r=Zn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=Zn().gapi)!=null&&a.load)i();else{const l=k2("iframefcb");return Zn()[l]=()=>{gapi.load?i():n(Gn(e,"network-request-failed"))},C2(`${O2()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw kc=null,t})}let kc=null;function ON(e){return kc=kc||CN(e),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new gl(5e3,15e3),IN="__/auth/iframe",RN="emulator/auth/iframe",DN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kp(t,RN):`https://${e.config.authDomain}/${IN}`,i={apiKey:t.apiKey,appName:e.name,v:xa},r=MN.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ml(i).slice(1)}`}async function UN(e){const t=await ON(e),n=Zn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:zN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DN,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Gn(e,"network-request-failed"),l=Zn().setTimeout(()=>{s(a)},kN.get());function u(){Zn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jN=500,PN=600,BN="_blank",HN="http://localhost";class wy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qN(e,t,n,i=jN,r=PN){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...LN,width:i.toString(),height:r.toString(),top:s,left:a},f=wt().toLowerCase();n&&(l=Kb(f)?BN:n),Yb(f)&&(t=t||HN,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[S,I])=>`${m}${S}=${I},`,"");if(b2(f)&&l!=="_self")return VN(t||"",l),new wy(null);const p=window.open(t||"",l,h);K(p,e,"popup-blocked");try{p.focus()}catch{}return new wy(p)}function VN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="__/auth/handler",ZN="emulator/auth/handler",$N=encodeURIComponent("fac");async function Ay(e,t,n,i,r,s){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:xa,eventId:r};if(t instanceof a1){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",DA(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(t instanceof yl){const h=t.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await e._getAppCheckToken(),f=u?`#${$N}=${encodeURIComponent(u)}`:"";return`${XN(e)}?${ml(l).slice(1)}${f}`}function XN({config:e}){return e.emulator?kp(e,ZN):`https://${e.authDomain}/${GN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=vN,this._overrideRedirectResult=mN}async _openPopup(t,n,i,r){var a;Ai((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Ay(t,n,i,vh(),r);return qN(t,s,Mp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await Ay(t,n,i,vh(),r);return K2(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ai(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await UN(t),i=new bN(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sd,{type:sd},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[sd];s!==void 0&&n(!!s),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return n1()||Qb()||Rp()}}const YN=FN;var xy="@firebase/auth",Ny="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JN(e){as(new pr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i1(e)},f=new x2(i,r,s,u);return R2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),as(new pr("auth-internal",t=>{const n=$u(t.getProvider("auth").getImmediate());return(i=>new QN(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(xy,Ny,KN(e)),Vn(xy,Ny,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=5*60,e4=Ob("authIdTokenMaxAge")||WN;let Cy=null;const t4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>e4)return;const r=n==null?void 0:n.token;Cy!==r&&(Cy=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function n4(e=Db()){const t=Np(e,"auth");if(t.isInitialized())return t.getImmediate();const n=I2(e,{popupRedirectResolver:YN,persistence:[aN,F2,f1]}),i=Ob("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=t4(s.toString());V2(n,a,()=>a(n.currentUser)),q2(n,l=>a(l))}}const r=Nb("auth");return r&&D2(n,`http://${r}`),n}function i4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}N2({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Gn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",i4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JN("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Up;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function b(){}b.prototype=_.prototype,E.F=_.prototype,E.prototype=new b,E.prototype.constructor=E,E.D=function(v,T,C){for(var w=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)w[ae-2]=arguments[ae];return _.prototype[T].apply(v,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,b){b||(b=0);const v=Array(16);if(typeof _=="string")for(var T=0;T<16;++T)v[T]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(T=0;T<16;++T)v[T]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=E.g[0],b=E.g[1],T=E.g[2];let C=E.g[3],w;w=_+(C^b&(T^C))+v[0]+3614090360&4294967295,_=b+(w<<7&4294967295|w>>>25),w=C+(T^_&(b^T))+v[1]+3905402710&4294967295,C=_+(w<<12&4294967295|w>>>20),w=T+(b^C&(_^b))+v[2]+606105819&4294967295,T=C+(w<<17&4294967295|w>>>15),w=b+(_^T&(C^_))+v[3]+3250441966&4294967295,b=T+(w<<22&4294967295|w>>>10),w=_+(C^b&(T^C))+v[4]+4118548399&4294967295,_=b+(w<<7&4294967295|w>>>25),w=C+(T^_&(b^T))+v[5]+1200080426&4294967295,C=_+(w<<12&4294967295|w>>>20),w=T+(b^C&(_^b))+v[6]+2821735955&4294967295,T=C+(w<<17&4294967295|w>>>15),w=b+(_^T&(C^_))+v[7]+4249261313&4294967295,b=T+(w<<22&4294967295|w>>>10),w=_+(C^b&(T^C))+v[8]+1770035416&4294967295,_=b+(w<<7&4294967295|w>>>25),w=C+(T^_&(b^T))+v[9]+2336552879&4294967295,C=_+(w<<12&4294967295|w>>>20),w=T+(b^C&(_^b))+v[10]+4294925233&4294967295,T=C+(w<<17&4294967295|w>>>15),w=b+(_^T&(C^_))+v[11]+2304563134&4294967295,b=T+(w<<22&4294967295|w>>>10),w=_+(C^b&(T^C))+v[12]+1804603682&4294967295,_=b+(w<<7&4294967295|w>>>25),w=C+(T^_&(b^T))+v[13]+4254626195&4294967295,C=_+(w<<12&4294967295|w>>>20),w=T+(b^C&(_^b))+v[14]+2792965006&4294967295,T=C+(w<<17&4294967295|w>>>15),w=b+(_^T&(C^_))+v[15]+1236535329&4294967295,b=T+(w<<22&4294967295|w>>>10),w=_+(T^C&(b^T))+v[1]+4129170786&4294967295,_=b+(w<<5&4294967295|w>>>27),w=C+(b^T&(_^b))+v[6]+3225465664&4294967295,C=_+(w<<9&4294967295|w>>>23),w=T+(_^b&(C^_))+v[11]+643717713&4294967295,T=C+(w<<14&4294967295|w>>>18),w=b+(C^_&(T^C))+v[0]+3921069994&4294967295,b=T+(w<<20&4294967295|w>>>12),w=_+(T^C&(b^T))+v[5]+3593408605&4294967295,_=b+(w<<5&4294967295|w>>>27),w=C+(b^T&(_^b))+v[10]+38016083&4294967295,C=_+(w<<9&4294967295|w>>>23),w=T+(_^b&(C^_))+v[15]+3634488961&4294967295,T=C+(w<<14&4294967295|w>>>18),w=b+(C^_&(T^C))+v[4]+3889429448&4294967295,b=T+(w<<20&4294967295|w>>>12),w=_+(T^C&(b^T))+v[9]+568446438&4294967295,_=b+(w<<5&4294967295|w>>>27),w=C+(b^T&(_^b))+v[14]+3275163606&4294967295,C=_+(w<<9&4294967295|w>>>23),w=T+(_^b&(C^_))+v[3]+4107603335&4294967295,T=C+(w<<14&4294967295|w>>>18),w=b+(C^_&(T^C))+v[8]+1163531501&4294967295,b=T+(w<<20&4294967295|w>>>12),w=_+(T^C&(b^T))+v[13]+2850285829&4294967295,_=b+(w<<5&4294967295|w>>>27),w=C+(b^T&(_^b))+v[2]+4243563512&4294967295,C=_+(w<<9&4294967295|w>>>23),w=T+(_^b&(C^_))+v[7]+1735328473&4294967295,T=C+(w<<14&4294967295|w>>>18),w=b+(C^_&(T^C))+v[12]+2368359562&4294967295,b=T+(w<<20&4294967295|w>>>12),w=_+(b^T^C)+v[5]+4294588738&4294967295,_=b+(w<<4&4294967295|w>>>28),w=C+(_^b^T)+v[8]+2272392833&4294967295,C=_+(w<<11&4294967295|w>>>21),w=T+(C^_^b)+v[11]+1839030562&4294967295,T=C+(w<<16&4294967295|w>>>16),w=b+(T^C^_)+v[14]+4259657740&4294967295,b=T+(w<<23&4294967295|w>>>9),w=_+(b^T^C)+v[1]+2763975236&4294967295,_=b+(w<<4&4294967295|w>>>28),w=C+(_^b^T)+v[4]+1272893353&4294967295,C=_+(w<<11&4294967295|w>>>21),w=T+(C^_^b)+v[7]+4139469664&4294967295,T=C+(w<<16&4294967295|w>>>16),w=b+(T^C^_)+v[10]+3200236656&4294967295,b=T+(w<<23&4294967295|w>>>9),w=_+(b^T^C)+v[13]+681279174&4294967295,_=b+(w<<4&4294967295|w>>>28),w=C+(_^b^T)+v[0]+3936430074&4294967295,C=_+(w<<11&4294967295|w>>>21),w=T+(C^_^b)+v[3]+3572445317&4294967295,T=C+(w<<16&4294967295|w>>>16),w=b+(T^C^_)+v[6]+76029189&4294967295,b=T+(w<<23&4294967295|w>>>9),w=_+(b^T^C)+v[9]+3654602809&4294967295,_=b+(w<<4&4294967295|w>>>28),w=C+(_^b^T)+v[12]+3873151461&4294967295,C=_+(w<<11&4294967295|w>>>21),w=T+(C^_^b)+v[15]+530742520&4294967295,T=C+(w<<16&4294967295|w>>>16),w=b+(T^C^_)+v[2]+3299628645&4294967295,b=T+(w<<23&4294967295|w>>>9),w=_+(T^(b|~C))+v[0]+4096336452&4294967295,_=b+(w<<6&4294967295|w>>>26),w=C+(b^(_|~T))+v[7]+1126891415&4294967295,C=_+(w<<10&4294967295|w>>>22),w=T+(_^(C|~b))+v[14]+2878612391&4294967295,T=C+(w<<15&4294967295|w>>>17),w=b+(C^(T|~_))+v[5]+4237533241&4294967295,b=T+(w<<21&4294967295|w>>>11),w=_+(T^(b|~C))+v[12]+1700485571&4294967295,_=b+(w<<6&4294967295|w>>>26),w=C+(b^(_|~T))+v[3]+2399980690&4294967295,C=_+(w<<10&4294967295|w>>>22),w=T+(_^(C|~b))+v[10]+4293915773&4294967295,T=C+(w<<15&4294967295|w>>>17),w=b+(C^(T|~_))+v[1]+2240044497&4294967295,b=T+(w<<21&4294967295|w>>>11),w=_+(T^(b|~C))+v[8]+1873313359&4294967295,_=b+(w<<6&4294967295|w>>>26),w=C+(b^(_|~T))+v[15]+4264355552&4294967295,C=_+(w<<10&4294967295|w>>>22),w=T+(_^(C|~b))+v[6]+2734768916&4294967295,T=C+(w<<15&4294967295|w>>>17),w=b+(C^(T|~_))+v[13]+1309151649&4294967295,b=T+(w<<21&4294967295|w>>>11),w=_+(T^(b|~C))+v[4]+4149444226&4294967295,_=b+(w<<6&4294967295|w>>>26),w=C+(b^(_|~T))+v[11]+3174756917&4294967295,C=_+(w<<10&4294967295|w>>>22),w=T+(_^(C|~b))+v[2]+718787259&4294967295,T=C+(w<<15&4294967295|w>>>17),w=b+(C^(T|~_))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+C&4294967295}i.prototype.v=function(E,_){_===void 0&&(_=E.length);const b=_-this.blockSize,v=this.C;let T=this.h,C=0;for(;C<_;){if(T==0)for(;C<=b;)r(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<_;)if(v[T++]=E.charCodeAt(C++),T==this.blockSize){r(this,v),T=0;break}}else for(;C<_;)if(v[T++]=E[C++],T==this.blockSize){r(this,v),T=0;break}}this.h=T,this.o+=_},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var b=E.length-8;b<E.length;++b)E[b]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,b=0;b<4;++b)for(let v=0;v<32;v+=8)E[_++]=this.g[b]>>>v&255;return E};function s(E,_){var b=l;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=_(E)}function a(E,_){this.h=_;const b=[];let v=!0;for(let T=E.length-1;T>=0;T--){const C=E[T]|0;v&&C==_||(b[T]=C,v=!1)}this.g=b}var l={};function u(E){return-128<=E&&E<128?s(E,function(_){return new a([_|0],_<0?-1:0)}):new a([E|0],E<0?-1:0)}function f(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return L(f(-E));const _=[];let b=1;for(let v=0;E>=b;v++)_[v]=E/b|0,b*=4294967296;return new a(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return L(h(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=f(Math.pow(_,8));let v=p;for(let C=0;C<E.length;C+=8){var T=Math.min(8,E.length-C);const w=parseInt(E.substring(C,C+T),_);T<8?(T=f(Math.pow(_,T)),v=v.j(T).add(f(w))):(v=v.j(b),v=v.add(f(w)))}return v}var p=u(0),m=u(1),S=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-L(this).m();let E=0,_=1;for(let b=0;b<this.g.length;b++){const v=this.i(b);E+=(v>=0?v:4294967296+v)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(M(this))return"-"+L(this).toString(E);const _=f(Math.pow(E,6));var b=this;let v="";for(;;){const T=k(b,_).g;b=x(b,T.j(_));let C=((b.g.length>0?b.g[0]:b.h)>>>0).toString(E);if(b=T,I(b))return C+v;for(;C.length<6;)C="0"+C;v=C+v}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=x(this,E),M(E)?-1:I(E)?0:1};function L(E){const _=E.g.length,b=[];for(let v=0;v<_;v++)b[v]=~E.g[v];return new a(b,~E.h).add(m)}e.abs=function(){return M(this)?L(this):this},e.add=function(E){const _=Math.max(this.g.length,E.g.length),b=[];let v=0;for(let T=0;T<=_;T++){let C=v+(this.i(T)&65535)+(E.i(T)&65535),w=(C>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);v=w>>>16,C&=65535,w&=65535,b[T]=w<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function x(E,_){return E.add(L(_))}e.j=function(E){if(I(this)||I(E))return p;if(M(this))return M(E)?L(this).j(L(E)):L(L(this).j(E));if(M(E))return L(this.j(L(E)));if(this.l(S)<0&&E.l(S)<0)return f(this.m()*E.m());const _=this.g.length+E.g.length,b=[];for(var v=0;v<2*_;v++)b[v]=0;for(v=0;v<this.g.length;v++)for(let T=0;T<E.g.length;T++){const C=this.i(v)>>>16,w=this.i(v)&65535,ae=E.i(T)>>>16,le=E.i(T)&65535;b[2*v+2*T]+=w*le,A(b,2*v+2*T),b[2*v+2*T+1]+=C*le,A(b,2*v+2*T+1),b[2*v+2*T+1]+=w*ae,A(b,2*v+2*T+1),b[2*v+2*T+2]+=C*ae,A(b,2*v+2*T+2)}for(E=0;E<_;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=_;E<2*_;E++)b[E]=0;return new a(b,0)};function A(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function O(E,_){this.g=E,this.h=_}function k(E,_){if(I(_))throw Error("division by zero");if(I(E))return new O(p,p);if(M(E))return _=k(L(E),_),new O(L(_.g),L(_.h));if(M(_))return _=k(E,L(_)),new O(L(_.g),_.h);if(E.g.length>30){if(M(E)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var b=m,v=_;v.l(E)<=0;)b=j(b),v=j(v);var T=H(b,1),C=H(v,1);for(v=H(v,2),b=H(b,2);!I(v);){var w=C.add(v);w.l(E)<=0&&(T=T.add(b),C=w),v=H(v,1),b=H(b,1)}return _=x(E,T.j(_)),new O(T,_)}for(T=p;E.l(_)>=0;){for(b=Math.max(1,Math.floor(E.m()/_.m())),v=Math.ceil(Math.log(b)/Math.LN2),v=v<=48?1:Math.pow(2,v-48),C=f(b),w=C.j(_);M(w)||w.l(E)>0;)b-=v,C=f(b),w=C.j(_);I(C)&&(C=m),T=T.add(C),E=x(E,w)}return new O(T,E)}e.B=function(E){return k(this,E).h},e.and=function(E){const _=Math.max(this.g.length,E.g.length),b=[];for(let v=0;v<_;v++)b[v]=this.i(v)&E.i(v);return new a(b,this.h&E.h)},e.or=function(E){const _=Math.max(this.g.length,E.g.length),b=[];for(let v=0;v<_;v++)b[v]=this.i(v)|E.i(v);return new a(b,this.h|E.h)},e.xor=function(E){const _=Math.max(this.g.length,E.g.length),b=[];for(let v=0;v<_;v++)b[v]=this.i(v)^E.i(v);return new a(b,this.h^E.h)};function j(E){const _=E.g.length+1,b=[];for(let v=0;v<_;v++)b[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(b,E.h)}function H(E,_){const b=_>>5;_%=32;const v=E.g.length-b,T=[];for(let C=0;C<v;C++)T[C]=_>0?E.i(C+b)>>>_|E.i(C+b+1)<<32-_:E.i(C+b);return new a(T,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Up=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,c){if(c)e:{var d=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var R=o[y];if(!(R in d))break e;d=d[R]}o=o[o.length-1],y=d[o],c=c(y),c!=y&&c!=null&&t(d,o,{configurable:!0,writable:!0,value:c})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(c){var d=[],y;for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&d.push([y,c[y]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,d){return o.call.apply(o.bind,arguments)}function f(o,c,d){return f=u,f.apply(null,arguments)}function h(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function p(o,c){function d(){}d.prototype=c.prototype,o.Z=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(y,R,D){for(var q=Array(arguments.length-2),te=2;te<arguments.length;te++)q[te-2]=arguments[te];return c.prototype[R].apply(y,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function S(o){const c=o.length;if(c>0){const d=Array(c);for(let y=0;y<c;y++)d[y]=o[y];return d}return[]}function I(o,c){for(let y=1;y<arguments.length;y++){const R=arguments[y];var d=typeof R;if(d=d!="object"?d:R?Array.isArray(R)?"array":d:"null",d=="array"||d=="object"&&typeof R.length=="number"){d=o.length||0;const D=R.length||0;o.length=d+D;for(let q=0;q<D;q++)o[d+q]=R[q]}else o.push(R)}}class M{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function L(o){a.setTimeout(()=>{throw o},0)}function x(){var o=E;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class A{constructor(){this.h=this.g=null}add(c,d){const y=O.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var O=new M(()=>new k,o=>o.reset());class k{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,E=new A,_=()=>{const o=Promise.resolve(void 0);j=()=>{o.then(b)}};function b(){for(var o;o=x();){try{o.h.call(o.g)}catch(d){L(d)}var c=O;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}H=!1}function v(){this.u=this.u,this.C=this.C}v.prototype.u=!1,v.prototype.dispose=function(){this.u||(this.u=!0,this.N())},v.prototype[Symbol.dispose]=function(){this.dispose()},v.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,c),a.removeEventListener("test",d,c)}catch{}return o}();function w(o){return/^[\s\xa0]*$/.test(o)}function ae(o,c){T.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}p(ae,T),ae.prototype.init=function(o,c){const d=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),B=0;function X(o,c,d,y,R){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=R,this.key=++B,this.da=this.fa=!1}function F(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ue(o,c,d){for(const y in o)c.call(d,o[y],y,o)}function Se(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function Y(o){const c={};for(const d in o)c[d]=o[d];return c}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(o,c){let d,y;for(let R=1;R<arguments.length;R++){y=arguments[R];for(d in y)o[d]=y[d];for(let D=0;D<J.length;D++)d=J[D],Object.prototype.hasOwnProperty.call(y,d)&&(o[d]=y[d])}}function Ie(o){this.src=o,this.g={},this.h=0}Ie.prototype.add=function(o,c,d,y,R){const D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);const q=gn(o,c,y,R);return q>-1?(c=o[q],d||(c.fa=!1)):(c=new X(c,this.src,D,!!y,R),c.fa=d,o.push(c)),c};function fe(o,c){const d=c.type;if(d in o.g){var y=o.g[d],R=Array.prototype.indexOf.call(y,c,void 0),D;(D=R>=0)&&Array.prototype.splice.call(y,R,1),D&&(F(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function gn(o,c,d,y){for(let R=0;R<o.length;++R){const D=o[R];if(!D.da&&D.listener==c&&D.capture==!!d&&D.ha==y)return R}return-1}var Er="closure_lm_"+(Math.random()*1e6|0),Nn={};function ka(o,c,d,y,R){if(Array.isArray(c)){for(let D=0;D<c.length;D++)ka(o,c[D],d,y,R);return null}return d=Qn(d),o&&o[le]?o.J(c,d,l(y)?!!y.capture:!1,R):Ia(o,c,d,!1,y,R)}function Ia(o,c,d,y,R,D){if(!c)throw Error("Invalid event type");const q=l(R)?!!R.capture:!!R;let te=Ar(o);if(te||(o[Er]=te=new Ie(o)),d=te.add(c,d,y,q,D),d.proxy)return d;if(y=bl(),d.proxy=y,y.src=o,y.listener=d,o.addEventListener)C||(R=q),R===void 0&&(R=!1),o.addEventListener(c.toString(),y,R);else if(o.attachEvent)o.attachEvent(wr(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function bl(){function o(d){return c.call(o.src,o.listener,d)}const c=Yn;return o}function Ra(o,c,d,y,R){if(Array.isArray(c))for(var D=0;D<c.length;D++)Ra(o,c[D],d,y,R);else y=l(y)?!!y.capture:!!y,d=Qn(d),o&&o[le]?(o=o.i,D=String(c).toString(),D in o.g&&(c=o.g[D],d=gn(c,d,y,R),d>-1&&(F(c[d]),Array.prototype.splice.call(c,d,1),c.length==0&&(delete o.g[D],o.h--)))):o&&(o=Ar(o))&&(c=o.g[c.toString()],o=-1,c&&(o=gn(c,d,y,R)),(d=o>-1?c[o]:null)&&Cn(d))}function Cn(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[le])fe(c.i,o);else{var d=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(d,y,o.capture):c.detachEvent?c.detachEvent(wr(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=Ar(c))?(fe(d,o),d.h==0&&(d.src=null,c[Er]=null)):F(o)}}}function wr(o){return o in Nn?Nn[o]:Nn[o]="on"+o}function Yn(o,c){if(o.da)o=!0;else{c=new ae(c,this);const d=o.listener,y=o.ha||o.src;o.fa&&Cn(o),o=d.call(y,c)}return o}function Ar(o){return o=o[Er],o instanceof Ie?o:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qn(o){return typeof o=="function"?o:(o[xr]||(o[xr]=function(c){return o.handleEvent(c)}),o[xr])}function He(){v.call(this),this.i=new Ie(this),this.M=this,this.G=null}p(He,v),He.prototype[le]=!0,He.prototype.removeEventListener=function(o,c,d,y){Ra(this,o,c,d,y)};function Xe(o,c){var d,y=o.G;if(y)for(d=[];y;y=y.G)d.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new T(c,o);else if(c instanceof T)c.target=c.target||o;else{var R=c;c=new T(y,o),W(c,R)}R=!0;let D,q;if(d)for(q=d.length-1;q>=0;q--)D=c.g=d[q],R=Nr(D,y,!0,c)&&R;if(D=c.g=o,R=Nr(D,y,!0,c)&&R,R=Nr(D,y,!1,c)&&R,d)for(q=0;q<d.length;q++)D=c.g=d[q],R=Nr(D,y,!1,c)&&R}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const d=o.g[c];for(let y=0;y<d.length;y++)F(d[y]);delete o.g[c],o.h--}}this.G=null},He.prototype.J=function(o,c,d,y){return this.i.add(String(o),c,!1,d,y)},He.prototype.K=function(o,c,d,y){return this.i.add(String(o),c,!0,d,y)};function Nr(o,c,d,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let R=!0;for(let D=0;D<c.length;++D){const q=c[D];if(q&&!q.da&&q.capture==d){const te=q.listener,tt=q.ha||q.src;q.fa&&fe(o.i,q),R=te.call(tt,y)!==!1&&R}}return R&&!y.defaultPrevented}function Sl(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=f(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function Tl(o){o.g=Sl(()=>{o.g=null,o.i&&(o.i=!1,Tl(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Da extends v{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(o){v.call(this),this.h=o,this.g={}}p(yn,v);var Kn=[];function zt(o){ue(o.g,function(c,d){this.g.hasOwnProperty(d)&&Cn(c)},o),o.g={}}yn.prototype.N=function(){yn.Z.N.call(this),zt(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=a.JSON.stringify,El=a.JSON.parse,wl=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function ys(){}function Al(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){T.call(this,"d")}p(Ni,T);function Ut(){T.call(this,"c")}p(Ut,T);var Lt={},vs=null;function Or(){return vs=vs||new He}Lt.Ia="serverreachability";function xl(o){T.call(this,Lt.Ia,o)}p(xl,T);function kn(o){const c=Or();Xe(c,new xl(c))}Lt.STAT_EVENT="statevent";function kr(o,c){T.call(this,Lt.STAT_EVENT,o),this.stat=c}p(kr,T);function ft(o){const c=Or();Xe(c,new kr(c,o))}Lt.Ja="timingevent";function Ci(o,c){T.call(this,Lt.Ja,o),this.size=c}p(Ci,T);function Ir(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function Rr(){this.g=!0}Rr.prototype.ua=function(){this.g=!1};function qe(o,c,d,y,R,D){o.info(function(){if(o.g)if(D){var q="",te=D.split("&");for(let we=0;we<te.length;we++){var tt=te[we].split("=");if(tt.length>1){const at=tt[0];tt=tt[1];const Rn=at.split("_");q=Rn.length>=2&&Rn[1]=="type"?q+(at+"="+tt+"&"):q+(at+"=redacted&")}}}else q=null;else q=D;return"XMLHTTP REQ ("+y+") [attempt "+R+"]: "+c+`
`+d+`
`+q})}function Oi(o,c,d,y,R,D,q){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+R+"]: "+c+`
`+d+`
`+D+" "+q})}function ki(o,c,d,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ma(o,d)+(y?" "+y:"")})}function Nl(o,c){o.info(function(){return"TIMEOUT: "+c})}Rr.prototype.info=function(){};function Ma(o,c){if(!o.g)return c;if(!c)return null;try{const D=JSON.parse(c);if(D){for(o=0;o<D.length;o++)if(Array.isArray(D[o])){var d=D[o];if(!(d.length<2)){var y=d[1];if(Array.isArray(y)&&!(y.length<1)){var R=y[0];if(R!="noop"&&R!="stop"&&R!="close")for(let q=1;q<y.length;q++)y[q]=""}}}}return Cr(D)}catch{return c}}var _s={NO_ERROR:0,TIMEOUT:8},Cl={},Ol;function At(){}p(At,ys),At.prototype.g=function(){return new XMLHttpRequest},Ol=new At;function jt(o){return encodeURIComponent(String(o))}function kl(o){var c=1;o=o.split(":");const d=[];for(;c>0&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function vn(o,c,d,y){this.j=o,this.i=c,this.l=d,this.S=y||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}var za={},Pt={};function Ss(o,c,d){o.M=1,o.A=Rl(In(c)),o.u=d,o.R=!0,Ua(o,null)}function Ua(o,c){o.F=Date.now(),Z(o),o.B=In(o.A);var d=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),Jp(d.i,"t",y),o.C=0,d=o.j.L,o.h=new bs,o.g=gm(o.j,d?c:null,!o.u),o.P>0&&(o.O=new Da(f(o.Y,o,o.g),o.P)),c=o.V,d=o.g,y=o.ba;var R="readystatechange";Array.isArray(R)||(R&&(Kn[0]=R.toString()),R=Kn);for(let D=0;D<R.length;D++){const q=ka(d,R[D],y||c.handleEvent,!1,c.h||c);if(!q)break;c.g[q.key]=q}c=o.J?Y(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),kn(),qe(o.i,o.v,o.B,o.l,o.S,o.u)}vn.prototype.ba=function(o){o=o.target;const c=this.O;c&&Di(o)==3?c.j():this.Y(o)},vn.prototype.Y=function(o){try{if(o==this.g)e:{const te=Di(this.g),tt=this.g.ya(),we=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||sm(this.g)))){this.K||te!=4||tt==7||(tt==8||we<=0?kn(3):kn(2)),P(this);var c=this.g.ca();this.X=c;var d=Il(this);if(this.o=c==200,Oi(this.i,this.v,this.B,this.l,this.S,te,c),this.o){if(this.U&&!this.L){t:{if(this.g){var y,R=this.g;if((y=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(y)){var D=y;break t}}D=null}if(o=D)ki(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fe(this,o);else{this.o=!1,this.m=3,ft(12),de(this),G(this);break e}}if(this.R){o=!0;let at;for(;!this.K&&this.C<d.length;)if(at=tf(this,d),at==Pt){te==4&&(this.m=4,ft(14),o=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(at==za){this.m=4,ft(15),ki(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else ki(this.i,this.l,at,null),Fe(this,at);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||d.length!=0||this.h.h||(this.m=1,ft(16),o=!1),this.o=this.o&&o,!o)ki(this.i,this.l,d,"[Invalid Chunked Response]"),de(this),G(this);else if(d.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),lf(q),q.P=!0,ft(11))}}else ki(this.i,this.l,d,null),Fe(this,d);te==4&&de(this),this.o&&!this.K&&(te==4?dm(this.j,this):(this.o=!1,Z(this)))}else RS(this.g),c==400&&d.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),de(this),G(this)}}}catch{}finally{}};function Il(o){if(!La(o))return o.g.la();const c=sm(o.g);if(c==="")return"";let d="";const y=c.length,R=Di(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return de(o),G(o),"";o.h.i=new a.TextDecoder}for(let D=0;D<y;D++)o.h.h=!0,d+=o.h.i.decode(c[D],{stream:!(R&&D==y-1)});return c.length=0,o.h.g+=d,o.C=0,o.h.g}function La(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function tf(o,c){var d=o.C,y=c.indexOf(`
`,d);return y==-1?Pt:(d=Number(c.substring(d,y)),isNaN(d)?za:(y+=1,y+d>c.length?Pt:(c=c.slice(y,y+d),o.C=y+d,c)))}vn.prototype.cancel=function(){this.K=!0,de(this)};function Z(o){o.T=Date.now()+o.H,N(o,o.H)}function N(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ir(f(o.aa,o),c)}function P(o){o.D&&(a.clearTimeout(o.D),o.D=null)}vn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Nl(this.i,this.B),this.M!=2&&(kn(),ft(17)),de(this),this.m=2,G(this)):N(this,this.T-o)};function G(o){o.j.I==0||o.K||dm(o.j,o)}function de(o){P(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,zt(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function Fe(o,c){try{var d=o.j;if(d.I!=0&&(d.g==o||Dr(d.h,o))){if(!o.L&&Dr(d.h,o)&&d.I==3){try{var y=d.Ba.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var R=y;if(R[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Ll(d),zl(d);else break e;of(d),ft(18)}}else d.xa=R[1],0<d.xa-d.K&&R[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Ir(f(d.Va,d),6e3));Jn(d.h)<=1&&d.ta&&(d.ta=void 0)}else zr(d,11)}else if((o.L||d.g==o)&&Ll(d),!w(c))for(R=d.Ba.g.parse(c),c=0;c<R.length;c++){let we=R[c];const at=we[0];if(!(at<=d.K))if(d.K=at,we=we[1],d.I==2)if(we[0]=="c"){d.M=we[1],d.ba=we[2];const Rn=we[3];Rn!=null&&(d.ka=Rn,d.j.info("VER="+d.ka));const Ur=we[4];Ur!=null&&(d.za=Ur,d.j.info("SVER="+d.za));const Mi=we[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(y=1.5*Mi,d.O=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const zi=o.g;if(zi){const jl=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var D=y.h;D.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Ve(D,D.h),D.h=null))}if(y.G){const cf=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;cf&&(y.wa=cf,Ne(y.J,y.G,cf))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),y=d;var q=o;if(y.na=mm(y,y.L?y.ba:null,y.W),q.L){ja(y.h,q);var te=q,tt=y.O;tt&&(te.H=tt),te.D&&(P(te),Z(te)),y.g=q}else um(y);d.i.length>0&&Ul(d)}else we[0]!="stop"&&we[0]!="close"||zr(d,7);else d.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?zr(d,7):af(d):we[0]!="noop"&&d.l&&d.l.qa(we),d.A=0)}}kn(4)}catch{}}var ze=class{constructor(o,c){this.g=o,this.map=c}};function dt(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jt(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Jn(o){return o.h?1:o.g?o.g.size:0}function Dr(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Ve(o,c){o.g?o.g.add(c):o.h=c}function ja(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}dt.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pa(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.G);return c}return S(o.i)}var Xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bS(o,c){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const y=o[d].indexOf("=");let R,D=null;y>=0?(R=o[d].substring(0,y),D=o[d].substring(y+1)):R=o[d],c(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ii(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof Ii?(this.l=o.l,Ba(this,o.j),this.o=o.o,this.g=o.g,Ha(this,o.u),this.h=o.h,nf(this,Wp(o.i)),this.m=o.m):o&&(c=String(o).match(Xp))?(this.l=!1,Ba(this,c[1]||"",!0),this.o=qa(c[2]||""),this.g=qa(c[3]||"",!0),Ha(this,c[4]),this.h=qa(c[5]||"",!0),nf(this,c[6]||"",!0),this.m=qa(c[7]||"")):(this.l=!1,this.i=new Ga(null,this.l))}Ii.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(Va(c,Fp,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Va(c,Fp,!0),"@"),o.push(jt(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Va(d,d.charAt(0)=="/"?ES:TS,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Va(d,AS)),o.join("")},Ii.prototype.resolve=function(o){const c=In(this);let d=!!o.j;d?Ba(c,o.j):d=!!o.o,d?c.o=o.o:d=!!o.g,d?c.g=o.g:d=o.u!=null;var y=o.h;if(d)Ha(c,o.u);else if(d=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var R=c.h.lastIndexOf("/");R!=-1&&(y=c.h.slice(0,R+1)+y)}if(R=y,R==".."||R==".")y="";else if(R.indexOf("./")!=-1||R.indexOf("/.")!=-1){y=R.lastIndexOf("/",0)==0,R=R.split("/");const D=[];for(let q=0;q<R.length;){const te=R[q++];te=="."?y&&q==R.length&&D.push(""):te==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),y&&q==R.length&&D.push("")):(D.push(te),y=!0)}y=D.join("/")}else y=R}return d?c.h=y:d=o.i.toString()!=="",d?nf(c,Wp(o.i)):d=!!o.m,d&&(c.m=o.m),c};function In(o){return new Ii(o)}function Ba(o,c,d){o.j=d?qa(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ha(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function nf(o,c,d){c instanceof Ga?(o.i=c,xS(o.i,o.l)):(d||(c=Va(c,wS)),o.i=new Ga(c,o.l))}function Ne(o,c,d){o.i.set(c,d)}function Rl(o){return Ne(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function qa(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Va(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,SS),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function SS(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fp=/[#\/\?@]/g,TS=/[#\?:]/g,ES=/[#\?]/g,wS=/[#\?@]/g,AS=/#/g;function Ga(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Mr(o){o.g||(o.g=new Map,o.h=0,o.i&&bS(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}e=Ga.prototype,e.add=function(o,c){Mr(this),this.i=null,o=Ts(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function Yp(o,c){Mr(o),c=Ts(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Qp(o,c){return Mr(o),c=Ts(o,c),o.g.has(c)}e.forEach=function(o,c){Mr(this),this.g.forEach(function(d,y){d.forEach(function(R){o.call(c,R,y,this)},this)},this)};function Kp(o,c){Mr(o);let d=[];if(typeof c=="string")Qp(o,c)&&(d=d.concat(o.g.get(Ts(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)d=d.concat(o[c]);return d}e.set=function(o,c){return Mr(this),this.i=null,o=Ts(this,o),Qp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=Kp(this,o),o.length>0?String(o[0]):c):c};function Jp(o,c,d){Yp(o,c),d.length>0&&(o.i=null,o.g.set(Ts(o,c),S(d)),o.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let y=0;y<c.length;y++){var d=c[y];const R=jt(d);d=Kp(this,d);for(let D=0;D<d.length;D++){let q=R;d[D]!==""&&(q+="="+jt(d[D])),o.push(q)}}return this.i=o.join("&")};function Wp(o){const c=new Ga;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function Ts(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function xS(o,c){c&&!o.j&&(Mr(o),o.i=null,o.g.forEach(function(d,y){const R=y.toLowerCase();y!=R&&(Yp(this,y),Jp(this,R,d))},o)),o.j=c}function NS(o,c){const d=new Rr;if(a.Image){const y=new Image;y.onload=h(Ri,d,"TestLoadImage: loaded",!0,c,y),y.onerror=h(Ri,d,"TestLoadImage: error",!1,c,y),y.onabort=h(Ri,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=h(Ri,d,"TestLoadImage: timeout",!1,c,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function CS(o,c){const d=new Rr,y=new AbortController,R=setTimeout(()=>{y.abort(),Ri(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(D=>{clearTimeout(R),D.ok?Ri(d,"TestPingServer: ok",!0,c):Ri(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(R),Ri(d,"TestPingServer: error",!1,c)})}function Ri(o,c,d,y,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),y(d)}catch{}}function OS(){this.g=new wl}function rf(o){this.i=o.Sb||null,this.h=o.ab||!1}p(rf,ys),rf.prototype.g=function(){return new Dl(this.i,this.h)};function Dl(o,c){He.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Dl,He),e=Dl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,$a(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;em(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function em(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Za(this):$a(this),this.readyState==3&&em(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,Za(this))},e.Na=function(o){this.g&&(this.response=o,Za(this))},e.ga=function(){this.g&&Za(this)};function Za(o){o.readyState=4,o.l=null,o.j=null,o.B=null,$a(o)}e.setRequestHeader=function(o,c){this.A.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function $a(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function tm(o){let c="";return ue(o,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function sf(o,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=tm(d),typeof o=="string"?d!=null&&jt(d):Ne(o,c,d))}function Ge(o){He.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ge,He);var kS=/^https?$/i,IS=["POST","PUT"];e=Ge.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ol.g(),this.g.onreadystatechange=m(f(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(D){nm(this,D);return}if(o=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var R in y)d.set(R,y[R]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())d.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(D=>D.toLowerCase()=="content-type"),R=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(IS,c,void 0)>=0)||y||R||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,q]of d)this.g.setRequestHeader(D,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(D){nm(this,D)}};function nm(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,im(o),Ml(o)}function im(o){o.A||(o.A=!0,Xe(o,"complete"),Xe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Xe(this,"complete"),Xe(this,"abort"),Ml(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Ge.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?rm(this):this.Xa())},e.Xa=function(){rm(this)};function rm(o){if(o.h&&typeof s<"u"){if(o.v&&Di(o)==4)setTimeout(o.Ca.bind(o),0);else if(Xe(o,"readystatechange"),Di(o)==4){o.h=!1;try{const D=o.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=D===0){let q=String(o.D).match(Xp)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),y=!kS.test(q?q.toLowerCase():"")}d=y}if(d)Xe(o,"complete"),Xe(o,"success");else{o.o=6;try{var R=Di(o)>2?o.g.statusText:""}catch{R=""}o.l=R+" ["+o.ca()+"]",im(o)}}finally{Ml(o)}}}}function Ml(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,c||Xe(o,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Di(o){return o.g?o.g.readyState:0}e.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),El(c)}};function sm(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function RS(o){const c={};o=(o.g&&Di(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(w(o[y]))continue;var d=kl(o[y]);const R=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const D=c[R]||[];c[R]=D,D.push(d)}Se(c,function(y){return y.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function am(o){this.za=0,this.i=[],this.j=new Rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xa("baseRetryDelayMs",5e3,o),this.Za=Xa("retryDelaySeedMs",1e4,o),this.Ta=Xa("forwardChannelMaxRetries",2,o),this.va=Xa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new dt(o&&o.concurrentRequestLimit),this.Ba=new OS,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=am.prototype,e.ka=8,e.I=1,e.connect=function(o,c,d,y){ft(0),this.W=o,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.J=mm(this,null,this.W),Ul(this)};function af(o){if(om(o),o.I==3){var c=o.V++,d=In(o.J);if(Ne(d,"SID",o.M),Ne(d,"RID",c),Ne(d,"TYPE","terminate"),Fa(o,d),c=new vn(o,o.j,c),c.M=2,c.A=Rl(In(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=c.A,d=!0),d||(c.g=gm(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Z(c)}pm(o)}function zl(o){o.g&&(lf(o),o.g.cancel(),o.g=null)}function om(o){zl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ll(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ul(o){if(!Jt(o.h)&&!o.m){o.m=!0;var c=o.Ea;j||_(),H||(j(),H=!0),E.add(c,o),o.D=0}}function DS(o,c){return Jn(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ir(f(o.Ea,o,c),hm(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const R=new vn(this,this.j,o);let D=this.o;if(this.U&&(D?(D=Y(D),W(D,this.U)):D=this.U),this.u!==null||this.R||(R.J=D,D=null),this.S)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,c>4096){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=cm(this,R,c),d=In(this.J),Ne(d,"RID",o),Ne(d,"CVER",22),this.G&&Ne(d,"X-HTTP-Session-Id",this.G),Fa(this,d),D&&(this.R?c="headers="+jt(tm(D))+"&"+c:this.u&&sf(d,this.u,D)),Ve(this.h,R),this.Ra&&Ne(d,"TYPE","init"),this.S?(Ne(d,"$req",c),Ne(d,"SID","null"),R.U=!0,Ss(R,d,null)):Ss(R,d,c),this.I=2}}else this.I==3&&(o?lm(this,o):this.i.length==0||Jt(this.h)||lm(this))};function lm(o,c){var d;c?d=c.l:d=o.V++;const y=In(o.J);Ne(y,"SID",o.M),Ne(y,"RID",d),Ne(y,"AID",o.K),Fa(o,y),o.u&&o.o&&sf(y,o.u,o.o),d=new vn(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),c&&(o.i=c.G.concat(o.i)),c=cm(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ve(o.h,d),Ss(d,y,c)}function Fa(o,c){o.H&&ue(o.H,function(d,y){Ne(c,y,d)}),o.l&&ue({},function(d,y){Ne(c,y,d)})}function cm(o,c,d){d=Math.min(o.i.length,d);const y=o.l?f(o.l.Ka,o.l,o):null;e:{var R=o.i;let te=-1;for(;;){const tt=["count="+d];te==-1?d>0?(te=R[0].g,tt.push("ofs="+te)):te=0:tt.push("ofs="+te);let we=!0;for(let at=0;at<d;at++){var D=R[at].g;const Rn=R[at].map;if(D-=te,D<0)te=Math.max(0,R[at].g-100),we=!1;else try{D="req"+D+"_"||"";try{var q=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Ur,Mi]of q){let zi=Mi;l(Mi)&&(zi=Cr(Mi)),tt.push(D+Ur+"="+encodeURIComponent(zi))}}catch(Ur){throw tt.push(D+"type="+encodeURIComponent("_badmap")),Ur}}catch{y&&y(Rn)}}if(we){q=tt.join("&");break e}}q=void 0}return o=o.i.splice(0,d),c.G=o,q}function um(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;j||_(),H||(j(),H=!0),E.add(c,o),o.A=0}}function of(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ir(f(o.Da,o),hm(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ir(f(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),zl(this),fm(this))};function lf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function fm(o){o.g=new vn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=In(o.na);Ne(c,"RID","rpc"),Ne(c,"SID",o.M),Ne(c,"AID",o.K),Ne(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ne(c,"TO",o.ia),Ne(c,"TYPE","xmlhttp"),Fa(o,c),o.u&&o.o&&sf(c,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=Rl(In(c)),d.u=null,d.R=!0,Ua(d,o)}e.Va=function(){this.C!=null&&(this.C=null,zl(this),of(this),ft(19))};function Ll(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function dm(o,c){var d=null;if(o.g==c){Ll(o),lf(o),o.g=null;var y=2}else if(Dr(o.h,c))d=c.G,ja(o.h,c),y=1;else return;if(o.I!=0){if(c.o)if(y==1){d=c.u?c.u.length:0,c=Date.now()-c.F;var R=o.D;y=Or(),Xe(y,new Ci(y,d)),Ul(o)}else um(o);else if(R=c.m,R==3||R==0&&c.X>0||!(y==1&&DS(o,c)||y==2&&of(o)))switch(d&&d.length>0&&(c=o.h,c.i=c.i.concat(d)),R){case 1:zr(o,5);break;case 4:zr(o,10);break;case 3:zr(o,6);break;default:zr(o,2)}}}function hm(o,c){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*c}function zr(o,c){if(o.j.info("Error code "+c),c==2){var d=f(o.bb,o),y=o.Ua;const R=!y;y=new Ii(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ba(y,"https"),Rl(y),R?NS(y.toString(),d):CS(y.toString(),d)}else ft(2);o.I=0,o.l&&o.l.pa(c),pm(o),om(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function pm(o){if(o.I=0,o.ja=[],o.l){const c=Pa(o.h);(c.length!=0||o.i.length!=0)&&(I(o.ja,c),I(o.ja,o.i),o.h.i.length=0,S(o.i),o.i.length=0),o.l.oa()}}function mm(o,c,d){var y=d instanceof Ii?In(d):new Ii(d);if(y.g!="")c&&(y.g=c+"."+y.g),Ha(y,y.u);else{var R=a.location;y=R.protocol,c=c?c+"."+R.hostname:R.hostname,R=+R.port;const D=new Ii(null);y&&Ba(D,y),c&&(D.g=c),R&&Ha(D,R),d&&(D.h=d),y=D}return d=o.G,c=o.wa,d&&c&&Ne(y,d,c),Ne(y,"VER",o.ka),Fa(o,y),y}function gm(o,c,d){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Ge(new rf({ab:d})):new Ge(o.ma),c.Fa(o.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}e=ym.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Wt(o,c){He.call(this),this.g=new am(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!w(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!w(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Es(this)}p(Wt,He),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){af(this.g)},Wt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=Cr(o),o=d);c.i.push(new ze(c.Ya++,o)),c.I==3&&Ul(c)},Wt.prototype.N=function(){this.g.l=null,delete this.j,af(this.g),delete this.g,Wt.Z.N.call(this)};function vm(o){Ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}p(vm,Ni);function _m(){Ut.call(this),this.status=1}p(_m,Ut);function Es(o){this.g=o}p(Es,ym),Es.prototype.ra=function(){Xe(this.g,"a")},Es.prototype.qa=function(o){Xe(this.g,new vm(o))},Es.prototype.pa=function(o){Xe(this.g,new _m)},Es.prototype.oa=function(){Xe(this.g,"b")},Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,Cl.COMPLETE="complete",Al.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",He.prototype.listen=He.prototype.J,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="12.8.0";function r4(e){Yu=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new xp("@firebase/firestore");function wn(e,...t){if(gu.logLevel<=ve.DEBUG){const n=t.map(_1);gu.debug(`Firestore (${Yu}): ${e}`,...n)}}function v1(e,...t){if(gu.logLevel<=ve.ERROR){const n=t.map(_1);gu.error(`Firestore (${Yu}): ${e}`,...n)}}function _1(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,b1(e,i,n)}function b1(e,t,n){let i=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw v1(i),new Error(i)}function Do(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||b1(t,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class pe extends Fn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class a4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class o4{constructor(t){this.t=t,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Do(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mo,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mo)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Do(typeof i.accessToken=="string",31837,{l:i}),new s4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Do(t===null||typeof t=="string",2055,{h:t}),new Ht(t)}}class l4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class c4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new l4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Do(this.o===void 0,3512);const i=s=>{s.error!=null&&wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,wn("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Do(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ky(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=f4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function mr(e,t){return e<t?-1:e>t?1:0}function h4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return ad(r)===ad(s)?mr(r,s):ad(r)?1:-1}return mr(e.length,t.length)}const p4=55296,m4=57343;function ad(e){const t=e.charCodeAt(0);return t>=p4&&t<=m4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="__name__";class Mn{constructor(t,n,i){n===void 0?n=0:n>t.length&&yu(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&yu(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Mn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=Mn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return mr(t.length,n.length)}static compareSegments(t,n){const i=Mn.isNumericId(t),r=Mn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Mn.extractNumericId(t).compare(Mn.extractNumericId(n)):h4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Up.fromString(t.substring(4,t.length-2))}}class Tn extends Mn{construct(t,n,i){return new Tn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new pe(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const g4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends Mn{construct(t,n,i){return new Gr(t,n,i)}static isValidIdentifier(t){return g4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iy}static keyField(){return new Gr([Iy])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new pe(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Gr(n)}static emptyPath(){return new Gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.path=t}static fromPath(t){return new Zr(Tn.fromString(t))}static fromName(t){return new Zr(Tn.fromString(t).popFirst(5))}static empty(){return new Zr(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Tn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Tn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zr(new Tn(t.slice()))}}function y4(e,t,n,i){if(t===!0&&i===!0)throw new pe(he.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function v4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e,t){const n={typeString:e};return t&&(n.value=t),n}function _l(e,t){if(!v4(e))throw new pe(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new pe(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Dy=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(t){return Un.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Dy);return new Un(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ry)throw new pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(t){return this.seconds===t.seconds?mr(this.nanoseconds,t.nanoseconds):mr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_l(t,Un._jsonSchema))return new Un(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ry;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:We("string",Un._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};function _4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b4("Invalid base64 string: "+s):s}}(t);return new cs(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new cs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const My="(default)";class vu{constructor(t,n){this.projectId=t,this.database=n||My}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===My}isEqual(t){return t instanceof vu&&t.projectId===this.projectId&&t.database===this.database}}function S4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function E4(e){return new T4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zy,ce;(ce=zy||(zy={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Up([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=1048576;function od(){return typeof document<"u"?document:null}class x4{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&wn("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new Lp(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Uy,Ly;(Ly=Uy||(Uy={})).Ma="default",Ly.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="ComponentProvider",jy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="firestore.googleapis.com",Py=!0;class By{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O4,this.ssl=Py}else this.host=t.host,this.ssl=t.ssl??Py;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=w4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<A4)throw new pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}y4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N4(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class k4{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new a4;switch(i.type){case"firstParty":return new c4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=jy.get(n);i&&(wn(C4,"Removing Datastore"),jy.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jp(this.firestore,t,this._query)}}class Hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(_l(n,Hn._jsonSchema))return new Hn(t,i||null,new Zr(Tn.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:We("string",Hn._jsonSchemaVersion),referencePath:We("string")};class Pp extends jp{constructor(t,n,i){super(t,n,E4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new Zr(t))}withConverter(t){return new Pp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="AsyncQueue";class qy{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x4(this,"async_queue_retry"),this._c=()=>{const i=od();i&&wn(Hy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=od();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!_4(t))throw t;wn(Hy,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,v1("INTERNAL UNHANDLED ERROR: ",Vy(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Lp.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&yu(47125,{Pc:Vy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Vy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class I4 extends k4{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new qy,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qy(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new li(cs.fromBase64String(t))}catch(n){throw new pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new li(cs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_l(t,li._jsonSchema))return li.fromBase64String(t.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:We("string",li._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return mr(this._lat,t._lat)||mr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(t){if(_l(t,Jr._jsonSchema))return new Jr(t.latitude,t.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:We("string",Jr._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_l(t,Wr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Wr(t.vectorValues);throw new pe(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:We("string",Wr._jsonSchemaVersion),vectorValues:We("object")};function T1(e,t,n){if((t=pn(t))instanceof S1)return t._internalPath;if(typeof t=="string")return D4(e,t);throw Sh("Field path arguments must be of type string or ",e)}const R4=new RegExp("[~\\*/\\[\\]]");function D4(e,t,n){if(t.search(R4)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new S1(...t.split("."))._internalPath}catch{throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Sh(e,t,n,i,r){let s=`Function ${t}() called with invalid data`;s+=". ";let a="";return new pe(he.INVALID_ARGUMENT,s+e+a)}const Gy="@firebase/firestore",Zy="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new M4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(T1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M4 extends E1{data(){return super.data()}}class rc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends E1{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(T1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:We("string",ea._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Ic extends ea{data(t={}){return super.data(t)}}class zo{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new rc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ic(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Ic(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Ic(r._firestore,r._userDataWriter,l.doc.key,l.doc,new rc(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,h=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:z4(l.type),doc:u,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=d4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function z4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yu(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:We("string",zo._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};(function(t,n=!0){r4(xa),as(new pr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new I4(new o4(i.getProvider("auth-internal")),new u4(a,i.getProvider("app-check-internal")),S4(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Vn(Gy,Zy,t),Vn(Gy,Zy,"esm2020")})();const w1={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},U4=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let sc=null,ld=null,ac=null;function A1(){if(!sc){const e=wx();e.length>0?sc=e[0]:sc=Rb(w1)}return sc}function cd(){return ld||(ld=n4(A1())),ld}function _u(){if(!ac&&(ac=e2(A1()),U4&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{Pb(ac,"localhost",5001)}catch{}return ac}function $r(){const e=w1.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const L4=5e3,j4=2e3,x1=3e4,e3=3e4,N1=30*1e3,C1=2e3,t3=60*60*1e3,O1=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],P4=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],B4=["none","learning","familiar","mastered"];function $y(e){return B4.indexOf(e)}function H4(e,t){return $y(e)>=$y(t)?e:t}function Th(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function q4(e,t){const n=new Set,i=[];for(const r of[...e,...t]){const s=`${r.timestamp}-${r.difficulty}-${r.score}`;n.has(s)||(n.add(s),i.push(r))}return i.sort((r,s)=>new Date(r.timestamp).getTime()-new Date(s.timestamp).getTime())}function V4(e,t){return e?t?{sectionId:e.sectionId,visitedAt:Th(e.visitedAt,t.visitedAt),completedAt:Th(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:q4(e.quizAttempts,t.quizAttempts),masteryLevel:H4(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function G4(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const r of n){const s=V4(e[r],t[r]);s&&(i[r]=s)}return i}function Z4(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:Th(e.joinedAt,t.joinedAt)||e.joinedAt}}function $4(e,t){const n=new Map;for(const i of[...t,...e]){const r=n.get(i.id);r?(i.unlockedAt&&!r.unlockedAt||!i.unlockedAt&&!r.unlockedAt&&i.progress>r.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function X4(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function F4(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function Y4(e,t){return{version:Math.max(e.version,t.version),user:Z4(e.user,t.user),sections:G4(e.sections,t.sections),achievements:$4(e.achievements,t.achievements),streak:X4(e.streak,t.streak),dailyGoals:F4(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const ri=br("ProgressSync");class Q4{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!$r())return ri.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=_u(),i=await Wo(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,ri.info("Fetched progress from server")),i.data}catch(t){return ri.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};ri.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(ri.info("Server has existing progress, merging with local"),i=Y4(t,n.progress)):i=t;const r=await this.syncNow(i);return r.success?(ri.info("Migration complete"),{success:!0,state:r.state||i,merged:n.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},N1),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},C1))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!$r())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<x1)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=_u(),s=await Wo(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(ri.info("Server merged states due to conflict"),Vu(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return ri.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const r=await this.syncNow(t);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(i<n-1){const s=1e3*Math.pow(2,i);ri.debug(`Sync retry ${i+1}/${n} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let ud=null;function Xy(){return ud||(ud=new Q4),ud}const zn=br("NostrUtils"),Eh="qpzry9x8gf2tvdw0s3jn54khce6mua7l",K4=[996825010,642813549,513874426,1027748829,705979059];function k1(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let r=0;r<5;r++)i>>r&1&&(t^=K4[r])}return t}function I1(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function J4(e,t){return k1([...I1(e),...t])===1}function W4(e,t){const n=[...I1(e),...t,0,0,0,0,0,0],i=k1(n)^1,r=[];for(let s=0;s<6;s++)r.push(i>>5*(5-s)&31);return r}function R1(e,t,n,i){let r=0,s=0;const a=[],l=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(r=r<<t|u,s+=t;s>=n;)s-=n,a.push(r>>s&l)}if(i)s>0&&a.push(r<<n-s&l);else if(s>=t||r<<n-s&l)return null;return a}function eC(e,t){const n=R1(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=W4(e,n);let r=e+"1";for(const s of n)r+=Eh[s];for(const s of i)r+=Eh[s];return r}function tC(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const s=i.slice(0,r),a=i.slice(r+1),l=[];for(const h of a){const p=Eh.indexOf(h);if(p===-1)return null;l.push(p)}if(!J4(s,l))return null;const u=l.slice(0,-6),f=R1(new Uint8Array(u),5,8,!1);return f?{hrp:s,data:new Uint8Array(f)}:null}function nC(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function iC(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function rC(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=nC(e);return eC("npub",t)}function D1(e){const t=tC(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return iC(t.data)}async function sC(e){try{const t=D1(e),n=aC(),i=n.map(async a=>{try{return await Promise.race([M1(a,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(l){return zn.debug(`Failed to fetch profile from relay ${a}:`,l),null}}),s=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return s.length>0?s[0]:(zn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return zn.debug("Failed to convert npub to hex:",t),null}}function aC(){return[...O1,...P4]}function n3(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function bu(){return typeof window<"u"&&typeof window.nostr<"u"}function oC(e=3e3){return new Promise(t=>{if(bu()){t(!0);return}const n=Date.now(),i=setInterval(()=>{bu()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function M1(e,t){return new Promise(n=>{let i=!1,r=null,s=null;const a=()=>{if(!i&&(i=!0,s&&(clearTimeout(s),s=null),r&&r.readyState!==WebSocket.CLOSED&&r.readyState!==WebSocket.CLOSING))try{r.close()}catch(u){zn.debug(`Error closing WebSocket for ${e}:`,u)}};s=setTimeout(()=>{zn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},L4);try{r=new WebSocket(e)}catch(u){zn.debug(`Failed to create WebSocket for relay ${e}:`,u),a(),n(null);return}const l=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(!(i||!r))try{const u=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);r.send(u)}catch(u){zn.debug(`Failed to send subscription to ${e}:`,u),a(),n(null)}},r.onmessage=u=>{if(!i)try{const f=JSON.parse(u.data);if(f[0]==="EVENT"&&f[1]===l){const h=JSON.parse(f[2].content);a(),n({name:h.name||h.display_name,display_name:h.display_name,nip05:h.nip05,picture:h.picture,about:h.about})}else f[0]==="EOSE"&&(a(),n(null))}catch(f){zn.debug(`Failed to parse WebSocket message from ${e}:`,f)}},r.onerror=u=>{zn.debug(`WebSocket error for relay ${e}:`,u),a(),n(null)},r.onclose=u=>{i||(zn.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),a(),n(null))}})}async function i3(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const s=e.slice(i,i+n).map(async a=>{const l=await sC(a);l&&t.set(a,l)});await Promise.all(s)}return t}const lC=22242;function z(e,t,n){function i(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const f=a.prototype,h=Object.keys(f);for(let p=0;p<h.length;p++){const m=h[p];m in l||(l[m]=f[m].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class s extends r{}Object.defineProperty(s,"name",{value:e});function a(l){var u;const f=n!=null&&n.Parent?new s:this;i(f,l),(u=f._zod).deferred??(u.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var u,f;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(f=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:f.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ta extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class z1 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const U1={};function gr(e){return U1}function L1(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,r])=>t.indexOf(+i)===-1).map(([i,r])=>r)}function wh(e,t){return typeof t=="bigint"?t.toString():t}function Bp(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Hp(e){return e==null}function qp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function cC(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return a%l/10**s}const Fy=Symbol("evaluating");function be(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==Fy)return i===void 0&&(i=Fy,i=n()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function ms(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Sr(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function Yy(e){return JSON.stringify(e)}function uC(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const j1="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Su(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const fC=Bp(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ma(e){if(Su(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Su(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function P1(e){return ma(e)?{...e}:Array.isArray(e)?[...e]:e}const dC=new Set(["string","number","symbol"]);function Qu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Tr(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function $(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function hC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const pC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function mC(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=Sr(e._zod.def,{get shape(){const a={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n.shape[l])}return ms(this,"shape",a),a},checks:[]});return Tr(e,s)}function gC(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=Sr(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete a[l]}return ms(this,"shape",a),a},checks:[]});return Tr(e,s)}function yC(e,t){if(!ma(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const s=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(s,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Sr(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return ms(this,"shape",s),s}});return Tr(e,r)}function vC(e,t){if(!ma(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Sr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return ms(this,"shape",i),i}});return Tr(e,n)}function _C(e,t){const n=Sr(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return ms(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Tr(e,n)}function bC(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Sr(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const f in n){if(!(f in l))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(u[f]=e?new e({type:"optional",innerType:l[f]}):l[f])}else for(const f in l)u[f]=e?new e({type:"optional",innerType:l[f]}):l[f];return ms(this,"shape",u),u},checks:[]});return Tr(t,a)}function SC(e,t,n){const i=Sr(t._zod.def,{get shape(){const r=t._zod.def.shape,s={...r};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new e({type:"nonoptional",innerType:r[a]}))}else for(const a in r)s[a]=new e({type:"nonoptional",innerType:r[a]});return ms(this,"shape",s),s}});return Tr(t,i)}function qs(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Vs(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function oc(e){return typeof e=="string"?e:e==null?void 0:e.message}function yr(e,t,n){var r,s,a,l,u,f;const i={...e,path:e.path??[]};if(!e.message){const h=oc((a=(s=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,e))??oc((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??oc((u=n.customError)==null?void 0:u.call(n,e))??oc((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";i.message=h}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Vp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function tl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const B1=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,wh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},H1=z("$ZodError",B1),q1=z("$ZodError",B1,{Parent:Error});function TC(e,t=n=>n.message){const n={},i=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):i.push(t(r));return{formErrors:i,fieldErrors:n}}function EC(e,t=n=>n.message){const n={_errors:[]},i=r=>{for(const s of r.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(t(s));else{let a=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),n}const Gp=e=>(t,n,i,r)=>{const s=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new ta;if(a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(u=>yr(u,s,gr())));throw j1(l,r==null?void 0:r.callee),l}return a.value},Zp=e=>async(t,n,i,r)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((r==null?void 0:r.Err)??e)(a.issues.map(u=>yr(u,s,gr())));throw j1(l,r==null?void 0:r.callee),l}return a.value},Ku=e=>(t,n,i)=>{const r=i?{...i,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},r);if(s instanceof Promise)throw new ta;return s.issues.length?{success:!1,error:new(e??H1)(s.issues.map(a=>yr(a,r,gr())))}:{success:!0,data:s.value}},wC=Ku(q1),Ju=e=>async(t,n,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},r);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(a=>yr(a,r,gr())))}:{success:!0,data:s.value}},AC=Ju(q1),xC=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gp(e)(t,n,r)},NC=e=>(t,n,i)=>Gp(e)(t,n,i),CC=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Zp(e)(t,n,r)},OC=e=>async(t,n,i)=>Zp(e)(t,n,i),kC=e=>(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ku(e)(t,n,r)},IC=e=>(t,n,i)=>Ku(e)(t,n,i),RC=e=>async(t,n,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ju(e)(t,n,r)},DC=e=>async(t,n,i)=>Ju(e)(t,n,i),MC=/^[cC][^\s-]{8,}$/,zC=/^[0-9a-z]+$/,UC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,LC=/^[0-9a-vA-V]{20}$/,jC=/^[A-Za-z0-9]{27}$/,PC=/^[a-zA-Z0-9_-]{21}$/,BC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,HC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Qy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,qC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,VC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function GC(){return new RegExp(VC,"u")}const ZC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$C=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,XC=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,FC=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YC=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,V1=/^[A-Za-z0-9_-]*$/,QC=/^\+[1-9]\d{6,14}$/,G1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",KC=new RegExp(`^${G1}$`);function Z1(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function JC(e){return new RegExp(`^${Z1(e)}$`)}function WC(e){const t=Z1({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${G1}T(?:${i})$`)}const eO=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},tO=/^-?\d+$/,$1=/^-?\d+(?:\.\d+)?$/,nO=/^(?:true|false)$/i,iO=/^[^A-Z]*$/,rO=/^[^a-z]*$/,Mt=z("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),X1={number:"number",bigint:"bigint",object:"date"},F1=z("$ZodCheckLessThan",(e,t)=>{Mt.init(e,t);const n=X1[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Y1=z("$ZodCheckGreaterThan",(e,t)=>{Mt.init(e,t);const n=X1[typeof t.value];e._zod.onattach.push(i=>{const r=i._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sO=z("$ZodCheckMultipleOf",(e,t)=>{Mt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):cC(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),aO=z("$ZodCheckNumberFormat",(e,t)=>{var a;Mt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[r,s]=pC[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=r,u.maximum=s,n&&(u.pattern=tO)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),oO=z("$ZodCheckMaxLength",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hp(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const r=i.value;if(r.length<=t.maximum)return;const a=Vp(r);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),lO=z("$ZodCheckMinLength",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hp(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const r=i.value;if(r.length>=t.minimum)return;const a=Vp(r);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),cO=z("$ZodCheckLengthEquals",(e,t)=>{var n;Mt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const r=i.value;return!Hp(r)&&r.length!==void 0}),e._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=i=>{const r=i.value,s=r.length;if(s===t.length)return;const a=Vp(r),l=s>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Wu=z("$ZodCheckStringFormat",(e,t)=>{var n,i;Mt.init(e,t),e._zod.onattach.push(r=>{const s=r._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),uO=z("$ZodCheckRegex",(e,t)=>{Wu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),fO=z("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=iO),Wu.init(e,t)}),dO=z("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=rO),Wu.init(e,t)}),hO=z("$ZodCheckIncludes",(e,t)=>{Mt.init(e,t);const n=Qu(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),pO=z("$ZodCheckStartsWith",(e,t)=>{Mt.init(e,t);const n=new RegExp(`^${Qu(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),mO=z("$ZodCheckEndsWith",(e,t)=>{Mt.init(e,t);const n=new RegExp(`.*${Qu(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),gO=z("$ZodCheckOverwrite",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class yO{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),r=Math.min(...i.map(a=>a.length-a.trimStart().length)),s=i.map(a=>a.slice(r)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,r.join(`
`))}}const vO={major:4,minor:3,patch:5},Pe=z("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=vO;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const s of i)for(const a of s._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const s=(l,u,f)=>{let h=qs(l),p;for(const m of u){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(h)continue;const S=l.issues.length,I=m._zod.check(l);if(I instanceof Promise&&(f==null?void 0:f.async)===!1)throw new ta;if(p||I instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await I,l.issues.length!==S&&(h||(h=qs(l,S)))});else{if(l.issues.length===S)continue;h||(h=qs(l,S))}}return p?p.then(()=>l):l},a=(l,u,f)=>{if(qs(l))return l.aborted=!0,l;const h=s(u,i,f);if(h instanceof Promise){if(f.async===!1)throw new ta;return h.then(p=>e._zod.parse(p,f))}return e._zod.parse(h,f)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const h=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return h instanceof Promise?h.then(p=>a(p,l,u)):a(h,l,u)}const f=e._zod.parse(l,u);if(f instanceof Promise){if(u.async===!1)throw new ta;return f.then(h=>s(h,i,u))}return s(f,i,u)}}be(e,"~standard",()=>({validate:s=>{var a;try{const l=wC(e,s);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return AC(e,s).then(u=>{var f;return u.success?{value:u.data}:{issues:(f=u.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),$p=z("$ZodString",(e,t)=>{var n;Pe.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??eO(e._zod.bag),e._zod.parse=(i,r)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),De=z("$ZodStringFormat",(e,t)=>{Wu.init(e,t),$p.init(e,t)}),_O=z("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=HC),De.init(e,t)}),bO=z("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Qy(i))}else t.pattern??(t.pattern=Qy());De.init(e,t)}),SO=z("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=qC),De.init(e,t)}),TO=z("$ZodURL",(e,t)=>{De.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),r=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),EO=z("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=GC()),De.init(e,t)}),wO=z("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=PC),De.init(e,t)}),AO=z("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=MC),De.init(e,t)}),xO=z("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zC),De.init(e,t)}),NO=z("$ZodULID",(e,t)=>{t.pattern??(t.pattern=UC),De.init(e,t)}),CO=z("$ZodXID",(e,t)=>{t.pattern??(t.pattern=LC),De.init(e,t)}),OO=z("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jC),De.init(e,t)}),kO=z("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WC(t)),De.init(e,t)}),IO=z("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=KC),De.init(e,t)}),RO=z("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=JC(t)),De.init(e,t)}),DO=z("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=BC),De.init(e,t)}),MO=z("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ZC),De.init(e,t),e._zod.bag.format="ipv4"}),zO=z("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=$C),De.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),UO=z("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=XC),De.init(e,t)}),LO=z("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=FC),De.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[r,s]=i;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Q1(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jO=z("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=YC),De.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Q1(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function PO(e){if(!V1.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Q1(n)}const BO=z("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=V1),De.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{PO(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),HO=z("$ZodE164",(e,t)=>{t.pattern??(t.pattern=QC),De.init(e,t)});function qO(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const VO=z("$ZodJWT",(e,t)=>{De.init(e,t),e._zod.check=n=>{qO(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),K1=z("$ZodNumber",(e,t)=>{Pe.init(e,t),e._zod.pattern=e._zod.bag.pattern??$1,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const s=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...s?{received:s}:{}}),n}}),GO=z("$ZodNumberFormat",(e,t)=>{aO.init(e,t),K1.init(e,t)}),ZO=z("$ZodBoolean",(e,t)=>{Pe.init(e,t),e._zod.pattern=nO,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),$O=z("$ZodUnknown",(e,t)=>{Pe.init(e,t),e._zod.parse=n=>n}),XO=z("$ZodNever",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Ky(e,t,n){e.issues.length&&t.issues.push(...Vs(n,e.issues)),t.value[n]=e.value}const FO=z("$ZodArray",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const s=[];for(let a=0;a<r.length;a++){const l=r[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?s.push(u.then(f=>Ky(f,n,a))):Ky(u,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function Tu(e,t,n,i,r){if(e.issues.length){if(r&&!(n in i))return;t.issues.push(...Vs(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function J1(e){var i,r,s,a;const t=Object.keys(e.shape);for(const l of t)if(!((a=(s=(r=(i=e.shape)==null?void 0:i[l])==null?void 0:r._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=hC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function W1(e,t,n,i,r,s){const a=[],l=r.keySet,u=r.catchall._zod,f=u.def.type,h=u.optout==="optional";for(const p in t){if(l.has(p))continue;if(f==="never"){a.push(p);continue}const m=u.run({value:t[p],issues:[]},i);m instanceof Promise?e.push(m.then(S=>Tu(S,n,p,t,h))):Tu(m,n,p,t,h)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const YO=z("$ZodObject",(e,t)=>{Pe.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=Bp(()=>J1(t));be(e._zod,"propValues",()=>{const l=t.shape,u={};for(const f in l){const h=l[f]._zod;if(h.values){u[f]??(u[f]=new Set);for(const p of h.values)u[f].add(p)}}return u});const r=Su,s=t.catchall;let a;e._zod.parse=(l,u)=>{a??(a=i.value);const f=l.value;if(!r(f))return l.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),l;l.value={};const h=[],p=a.shape;for(const m of a.keys){const S=p[m],I=S._zod.optout==="optional",M=S._zod.run({value:f[m],issues:[]},u);M instanceof Promise?h.push(M.then(L=>Tu(L,l,m,f,I))):Tu(M,l,m,f,I)}return s?W1(h,f,l,u,i.value,e):h.length?Promise.all(h).then(()=>l):l}}),QO=z("$ZodObjectJIT",(e,t)=>{YO.init(e,t);const n=e._zod.parse,i=Bp(()=>J1(t)),r=m=>{var O;const S=new yO(["shape","payload","ctx"]),I=i.value,M=k=>{const j=Yy(k);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};S.write("const input = payload.value;");const L=Object.create(null);let x=0;for(const k of I.keys)L[k]=`key_${x++}`;S.write("const newResult = {};");for(const k of I.keys){const j=L[k],H=Yy(k),E=m[k],_=((O=E==null?void 0:E._zod)==null?void 0:O.optout)==="optional";S.write(`const ${j} = ${M(k)};`),_?S.write(`
        if (${j}.issues.length) {
          if (${H} in input) {
            payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${H}, ...iss.path] : [${H}]
            })));
          }
        }
        
        if (${j}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${j}.value;
        }
        
      `):S.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${H}, ...iss.path] : [${H}]
          })));
        }
        
        if (${j}.value === undefined) {
          if (${H} in input) {
            newResult[${H}] = undefined;
          }
        } else {
          newResult[${H}] = ${j}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const A=S.compile();return(k,j)=>A(m,k,j)};let s;const a=Su,l=!U1.jitless,f=l&&fC.value,h=t.catchall;let p;e._zod.parse=(m,S)=>{p??(p=i.value);const I=m.value;return a(I)?l&&f&&(S==null?void 0:S.async)===!1&&S.jitless!==!0?(s||(s=r(t.shape)),m=s(m,S),h?W1([],I,m,S,p,e):m):n(m,S):(m.issues.push({expected:"object",code:"invalid_type",input:I,inst:e}),m)}});function Jy(e,t,n,i){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const r=e.filter(s=>!qs(s));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(a=>yr(a,i,gr())))}),t)}const KO=z("$ZodUnion",(e,t)=>{Pe.init(e,t),be(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),be(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),be(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),be(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${r.map(s=>qp(s.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(r,s)=>{if(n)return i(r,s);let a=!1;const l=[];for(const u of t.options){const f=u._zod.run({value:r.value,issues:[]},s);if(f instanceof Promise)l.push(f),a=!0;else{if(f.issues.length===0)return f;l.push(f)}}return a?Promise.all(l).then(u=>Jy(u,r,e,s)):Jy(l,r,e,s)}}),JO=z("$ZodIntersection",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const r=n.value,s=t.left._zod.run({value:r,issues:[]},i),a=t.right._zod.run({value:r,issues:[]},i);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([u,f])=>Wy(n,u,f)):Wy(n,s,a)}});function Ah(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ma(e)&&ma(t)){const n=Object.keys(t),i=Object.keys(e).filter(s=>n.indexOf(s)!==-1),r={...e,...t};for(const s of i){const a=Ah(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};r[s]=a.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const r=e[i],s=t[i],a=Ah(r,s);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Wy(e,t,n){const i=new Map;let r;for(const l of t.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).r=!0;else e.issues.push(l);const s=[...i].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(s.length&&r&&e.issues.push({...r,keys:s}),qs(e))return e;const a=Ah(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const WO=z("$ZodRecord",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const r=n.value;if(!ma(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:e}),n;const s=[],a=t.keyType._zod.values;if(a){n.value={};const l=new Set;for(const f of a)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){l.add(typeof f=="number"?f.toString():f);const h=t.valueType._zod.run({value:r[f],issues:[]},i);h instanceof Promise?s.push(h.then(p=>{p.issues.length&&n.issues.push(...Vs(f,p.issues)),n.value[f]=p.value})):(h.issues.length&&n.issues.push(...Vs(f,h.issues)),n.value[f]=h.value)}let u;for(const f in r)l.has(f)||(u=u??[],u.push(f));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(r)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&$1.test(l)&&u.issues.length&&u.issues.some(p=>p.code==="invalid_type"&&p.expected==="number")){const p=t.keyType._zod.run({value:Number(l),issues:[]},i);if(p instanceof Promise)throw new Error("Async schemas not supported in object keys currently");p.issues.length===0&&(u=p)}if(u.issues.length){t.mode==="loose"?n.value[l]=r[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(p=>yr(p,i,gr())),input:l,path:[l],inst:e});continue}const h=t.valueType._zod.run({value:r[l],issues:[]},i);h instanceof Promise?s.push(h.then(p=>{p.issues.length&&n.issues.push(...Vs(l,p.issues)),n.value[u.value]=p.value})):(h.issues.length&&n.issues.push(...Vs(l,h.issues)),n.value[u.value]=h.value)}}return s.length?Promise.all(s).then(()=>n):n}}),ek=z("$ZodEnum",(e,t)=>{Pe.init(e,t);const n=L1(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(r=>dC.has(typeof r)).map(r=>typeof r=="string"?Qu(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const a=r.value;return i.has(a)||r.issues.push({code:"invalid_value",values:n,input:a,inst:e}),r}}),tk=z("$ZodTransform",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new z1(e.constructor.name);const r=t.transform(n.value,n);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(a=>(n.value=a,n));if(r instanceof Promise)throw new ta;return n.value=r,n}});function ev(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const eS=z("$ZodOptional",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${qp(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>ev(s,n.value)):ev(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),nk=z("$ZodExactOptional",(e,t)=>{eS.init(e,t),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),ik=z("$ZodNullable",(e,t)=>{Pe.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${qp(n.source)}|null)$`):void 0}),be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),rk=z("$ZodDefault",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>tv(s,t)):tv(r,t)}});function tv(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const sk=z("$ZodPrefault",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),ak=z("$ZodNonOptional",(e,t)=>{Pe.init(e,t),be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>nv(s,e)):nv(r,e)}});function nv(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ok=z("$ZodCatch",(e,t)=>{Pe.init(e,t),be(e._zod,"optin",()=>t.innerType._zod.optin),be(e._zod,"optout",()=>t.innerType._zod.optout),be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(a=>yr(a,i,gr()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(s=>yr(s,i,gr()))},input:n.value}),n.issues=[]),n)}}),lk=z("$ZodPipe",(e,t)=>{Pe.init(e,t),be(e._zod,"values",()=>t.in._zod.values),be(e._zod,"optin",()=>t.in._zod.optin),be(e._zod,"optout",()=>t.out._zod.optout),be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const s=t.out._zod.run(n,i);return s instanceof Promise?s.then(a=>lc(a,t.in,i)):lc(s,t.in,i)}const r=t.in._zod.run(n,i);return r instanceof Promise?r.then(s=>lc(s,t.out,i)):lc(r,t.out,i)}});function lc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ck=z("$ZodReadonly",(e,t)=>{Pe.init(e,t),be(e._zod,"propValues",()=>t.innerType._zod.propValues),be(e._zod,"values",()=>t.innerType._zod.values),be(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),be(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const r=t.innerType._zod.run(n,i);return r instanceof Promise?r.then(iv):iv(r)}});function iv(e){return e.value=Object.freeze(e.value),e}const uk=z("$ZodCustom",(e,t)=>{Mt.init(e,t),Pe.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,r=t.fn(i);if(r instanceof Promise)return r.then(s=>rv(s,n,i,e));rv(r,n,i,e)}});function rv(e,t,n,i){if(!e){const r={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),t.issues.push(tl(r))}}var sv;class fk{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const r={...i,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function dk(){return new fk}(sv=globalThis).__zod_globalRegistry??(sv.__zod_globalRegistry=dk());const go=globalThis.__zod_globalRegistry;function hk(e,t){return new e({type:"string",...$(t)})}function pk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...$(t)})}function av(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...$(t)})}function mk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...$(t)})}function gk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...$(t)})}function yk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...$(t)})}function vk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...$(t)})}function _k(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...$(t)})}function bk(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...$(t)})}function Sk(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...$(t)})}function Tk(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...$(t)})}function Ek(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...$(t)})}function wk(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...$(t)})}function Ak(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...$(t)})}function xk(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...$(t)})}function Nk(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...$(t)})}function Ck(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...$(t)})}function Ok(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...$(t)})}function kk(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...$(t)})}function Ik(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...$(t)})}function Rk(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...$(t)})}function Dk(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...$(t)})}function Mk(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...$(t)})}function zk(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...$(t)})}function Uk(e,t){return new e({type:"string",format:"date",check:"string_format",...$(t)})}function Lk(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...$(t)})}function jk(e,t){return new e({type:"string",format:"duration",check:"string_format",...$(t)})}function Pk(e,t){return new e({type:"number",checks:[],...$(t)})}function Bk(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...$(t)})}function Hk(e,t){return new e({type:"boolean",...$(t)})}function qk(e){return new e({type:"unknown"})}function Vk(e,t){return new e({type:"never",...$(t)})}function ov(e,t){return new F1({check:"less_than",...$(t),value:e,inclusive:!1})}function fd(e,t){return new F1({check:"less_than",...$(t),value:e,inclusive:!0})}function lv(e,t){return new Y1({check:"greater_than",...$(t),value:e,inclusive:!1})}function dd(e,t){return new Y1({check:"greater_than",...$(t),value:e,inclusive:!0})}function cv(e,t){return new sO({check:"multiple_of",...$(t),value:e})}function tS(e,t){return new oO({check:"max_length",...$(t),maximum:e})}function Eu(e,t){return new lO({check:"min_length",...$(t),minimum:e})}function nS(e,t){return new cO({check:"length_equals",...$(t),length:e})}function Gk(e,t){return new uO({check:"string_format",format:"regex",...$(t),pattern:e})}function Zk(e){return new fO({check:"string_format",format:"lowercase",...$(e)})}function $k(e){return new dO({check:"string_format",format:"uppercase",...$(e)})}function Xk(e,t){return new hO({check:"string_format",format:"includes",...$(t),includes:e})}function Fk(e,t){return new pO({check:"string_format",format:"starts_with",...$(t),prefix:e})}function Yk(e,t){return new mO({check:"string_format",format:"ends_with",...$(t),suffix:e})}function Ca(e){return new gO({check:"overwrite",tx:e})}function Qk(e){return Ca(t=>t.normalize(e))}function Kk(){return Ca(e=>e.trim())}function Jk(){return Ca(e=>e.toLowerCase())}function Wk(){return Ca(e=>e.toUpperCase())}function eI(){return Ca(e=>uC(e))}function tI(e,t,n){return new e({type:"array",element:t,...$(n)})}function nI(e,t,n){return new e({type:"custom",check:"custom",fn:t,...$(n)})}function iI(e){const t=rI(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(tl(i,n.value,t._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(tl(r))}},e(n.value,n)));return t}function rI(e,t){const n=new Mt({check:"custom",...$(t)});return n._zod.check=e,n}function iS(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??go,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function et(e,t,n={path:[],schemaPath:[]}){var h,p;var i;const r=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const l=(p=(h=e._zod).toJSONSchema)==null?void 0:p.call(h);if(l)a.schema=l;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,m);else{const I=a.schema,M=t.processors[r.type];if(!M)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);M(e,t,I,m)}const S=e._zod.parent;S&&(a.ref||(a.ref=S),et(S,t,m),t.seen.get(S).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&bt(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function rS(e,t){var a,l,u,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const h of e.seen.entries()){const p=(a=e.metadataRegistry.get(h[0]))==null?void 0:a.id;if(p){const m=i.get(p);if(m&&m!==h[0])throw new Error(`Duplicate schema id "${p}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(p,h[0])}}const r=h=>{var M;const p=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const L=(M=e.external.registry.get(h[0]))==null?void 0:M.id,x=e.external.uri??(O=>O);if(L)return{ref:x(L)};const A=h[1].defId??h[1].schema.id??`schema${e.counter++}`;return h[1].defId=A,{defId:A,ref:`${x("__shared")}#/${p}/${A}`}}if(h[1]===n)return{ref:"#"};const S=`#/${p}/`,I=h[1].schema.id??`__schema${e.counter++}`;return{defId:I,ref:S+I}},s=h=>{if(h[1].schema.$ref)return;const p=h[1],{ref:m,defId:S}=r(h);p.def={...p.schema},S&&(p.defId=S);const I=p.schema;for(const M in I)delete I[M];I.$ref=m};if(e.cycles==="throw")for(const h of e.seen.entries()){const p=h[1];if(p.cycle)throw new Error(`Cycle detected: #/${(l=p.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const h of e.seen.entries()){const p=h[1];if(t===h[0]){s(h);continue}if(e.external){const S=(u=e.external.registry.get(h[0]))==null?void 0:u.id;if(t!==h[0]&&S){s(h);continue}}if((f=e.metadataRegistry.get(h[0]))==null?void 0:f.id){s(h);continue}if(p.cycle){s(h);continue}if(p.count>1&&e.reused==="ref"){s(h);continue}}}function sS(e,t){var a,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=f=>{const h=e.seen.get(f);if(h.ref===null)return;const p=h.def??h.schema,m={...p},S=h.ref;if(h.ref=null,S){i(S);const M=e.seen.get(S),L=M.schema;if(L.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(L)):Object.assign(p,L),Object.assign(p,m),f._zod.parent===S)for(const A in p)A==="$ref"||A==="allOf"||A in m||delete p[A];if(L.$ref)for(const A in p)A==="$ref"||A==="allOf"||A in M.def&&JSON.stringify(p[A])===JSON.stringify(M.def[A])&&delete p[A]}const I=f._zod.parent;if(I&&I!==S){i(I);const M=e.seen.get(I);if(M!=null&&M.schema.$ref&&(p.$ref=M.schema.$ref,M.def))for(const L in p)L==="$ref"||L==="allOf"||L in M.def&&JSON.stringify(p[L])===JSON.stringify(M.def[L])&&delete p[L]}e.override({zodSchema:f,jsonSchema:p,path:h.path??[]})};for(const f of[...e.seen.entries()].reverse())i(f[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const f=(l=e.external.registry.get(t))==null?void 0:l.id;if(!f)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(f)}Object.assign(r,n.def??n.schema);const s=((u=e.external)==null?void 0:u.defs)??{};for(const f of e.seen.entries()){const h=f[1];h.def&&h.defId&&(s[h.defId]=h.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?r.$defs=s:r.definitions=s);try{const f=JSON.parse(JSON.stringify(r));return Object.defineProperty(f,"~standard",{value:{...t["~standard"],jsonSchema:{input:wu(t,"input",e.processors),output:wu(t,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function bt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return bt(i.element,n);if(i.type==="set")return bt(i.valueType,n);if(i.type==="lazy")return bt(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return bt(i.innerType,n);if(i.type==="intersection")return bt(i.left,n)||bt(i.right,n);if(i.type==="record"||i.type==="map")return bt(i.keyType,n)||bt(i.valueType,n);if(i.type==="pipe")return bt(i.in,n)||bt(i.out,n);if(i.type==="object"){for(const r in i.shape)if(bt(i.shape[r],n))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(bt(r,n))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(bt(r,n))return!0;return!!(i.rest&&bt(i.rest,n))}return!1}const sI=(e,t={})=>n=>{const i=iS({...n,processors:t});return et(e,i),rS(i,e),sS(i,e)},wu=(e,t,n={})=>i=>{const{libraryOptions:r,target:s}=i??{},a=iS({...r??{},target:s,io:t,processors:n});return et(e,a),rS(a,e),sS(a,e)},aI={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},oI=(e,t,n,i)=>{const r=n;r.type="string";const{minimum:s,maximum:a,format:l,patterns:u,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(r.minLength=s),typeof a=="number"&&(r.maxLength=a),l&&(r.format=aI[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),f&&(r.contentEncoding=f),u&&u.size>0){const h=[...u];h.length===1?r.pattern=h[0].source:h.length>1&&(r.allOf=[...h.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},lI=(e,t,n,i)=>{const r=n,{minimum:s,maximum:a,format:l,multipleOf:u,exclusiveMaximum:f,exclusiveMinimum:h}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=h,r.exclusiveMinimum=!0):r.exclusiveMinimum=h),typeof s=="number"&&(r.minimum=s,typeof h=="number"&&t.target!=="draft-04"&&(h>=s?delete r.minimum:delete r.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=f,r.exclusiveMaximum=!0):r.exclusiveMaximum=f),typeof a=="number"&&(r.maximum=a,typeof f=="number"&&t.target!=="draft-04"&&(f<=a?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},cI=(e,t,n,i)=>{n.type="boolean"},uI=(e,t,n,i)=>{n.not={}},fI=(e,t,n,i)=>{},dI=(e,t,n,i)=>{const r=e._zod.def,s=L1(r.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},hI=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},pI=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},mI=(e,t,n,i)=>{const r=n,s=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(r.minItems=a),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=et(s.element,t,{...i,path:[...i.path,"items"]})},gI=(e,t,n,i)=>{var f;const r=n,s=e._zod.def;r.type="object",r.properties={};const a=s.shape;for(const h in a)r.properties[h]=et(a[h],t,{...i,path:[...i.path,"properties",h]});const l=new Set(Object.keys(a)),u=new Set([...l].filter(h=>{const p=s.shape[h]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((f=s.catchall)==null?void 0:f._zod.def.type)==="never"?r.additionalProperties=!1:s.catchall?s.catchall&&(r.additionalProperties=et(s.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},yI=(e,t,n,i)=>{const r=e._zod.def,s=r.inclusive===!1,a=r.options.map((l,u)=>et(l,t,{...i,path:[...i.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=a:n.anyOf=a},vI=(e,t,n,i)=>{const r=e._zod.def,s=et(r.left,t,{...i,path:[...i.path,"allOf",0]}),a=et(r.right,t,{...i,path:[...i.path,"allOf",1]}),l=f=>"allOf"in f&&Object.keys(f).length===1,u=[...l(s)?s.allOf:[s],...l(a)?a.allOf:[a]];n.allOf=u},_I=(e,t,n,i)=>{const r=n,s=e._zod.def;r.type="object";const a=s.keyType,l=a._zod.bag,u=l==null?void 0:l.patterns;if(s.mode==="loose"&&u&&u.size>0){const h=et(s.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});r.patternProperties={};for(const p of u)r.patternProperties[p.source]=h}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(r.propertyNames=et(s.keyType,t,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=et(s.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const f=a._zod.values;if(f){const h=[...f].filter(p=>typeof p=="string"||typeof p=="number");h.length>0&&(r.required=h)}},bI=(e,t,n,i)=>{const r=e._zod.def,s=et(r.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=r.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},SI=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},TI=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},EI=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},wI=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType;let a;try{a=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},AI=(e,t,n,i)=>{const r=e._zod.def,s=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;et(s,t,i);const a=t.seen.get(e);a.ref=s},xI=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType,n.readOnly=!0},aS=(e,t,n,i)=>{const r=e._zod.def;et(r.innerType,t,i);const s=t.seen.get(e);s.ref=r.innerType},NI=z("ZodISODateTime",(e,t)=>{kO.init(e,t),Me.init(e,t)});function CI(e){return zk(NI,e)}const OI=z("ZodISODate",(e,t)=>{IO.init(e,t),Me.init(e,t)});function kI(e){return Uk(OI,e)}const II=z("ZodISOTime",(e,t)=>{RO.init(e,t),Me.init(e,t)});function RI(e){return Lk(II,e)}const DI=z("ZodISODuration",(e,t)=>{DO.init(e,t),Me.init(e,t)});function MI(e){return jk(DI,e)}const zI=(e,t)=>{H1.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>EC(e,n)},flatten:{value:n=>TC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,wh,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,wh,2)}},isEmpty:{get(){return e.issues.length===0}}})},mn=z("ZodError",zI,{Parent:Error}),UI=Gp(mn),LI=Zp(mn),jI=Ku(mn),PI=Ju(mn),BI=xC(mn),HI=NC(mn),qI=CC(mn),VI=OC(mn),GI=kC(mn),ZI=IC(mn),$I=RC(mn),XI=DC(mn),Be=z("ZodType",(e,t)=>(Pe.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:wu(e,"input"),output:wu(e,"output")}}),e.toJSONSchema=sI(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Sr(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Tr(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>UI(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>jI(e,n,i),e.parseAsync=async(n,i)=>LI(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>PI(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>BI(e,n,i),e.decode=(n,i)=>HI(e,n,i),e.encodeAsync=async(n,i)=>qI(e,n,i),e.decodeAsync=async(n,i)=>VI(e,n,i),e.safeEncode=(n,i)=>GI(e,n,i),e.safeDecode=(n,i)=>ZI(e,n,i),e.safeEncodeAsync=async(n,i)=>$I(e,n,i),e.safeDecodeAsync=async(n,i)=>XI(e,n,i),e.refine=(n,i)=>e.check(BR(n,i)),e.superRefine=n=>e.check(HR(n)),e.overwrite=n=>e.check(Ca(n)),e.optional=()=>dv(e),e.exactOptional=()=>NR(e),e.nullable=()=>hv(e),e.nullish=()=>dv(hv(e)),e.nonoptional=n=>DR(e,n),e.array=()=>ga(e),e.or=n=>cS([e,n]),e.and=n=>TR(e,n),e.transform=n=>pv(e,AR(n)),e.default=n=>kR(e,n),e.prefault=n=>RR(e,n),e.catch=n=>zR(e,n),e.pipe=n=>pv(e,n),e.readonly=()=>jR(e),e.describe=n=>{const i=e.clone();return go.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=go.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return go.get(e);const i=e.clone();return go.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),oS=z("_ZodString",(e,t)=>{$p.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(i,r,s)=>oI(e,i,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(Gk(...i)),e.includes=(...i)=>e.check(Xk(...i)),e.startsWith=(...i)=>e.check(Fk(...i)),e.endsWith=(...i)=>e.check(Yk(...i)),e.min=(...i)=>e.check(Eu(...i)),e.max=(...i)=>e.check(tS(...i)),e.length=(...i)=>e.check(nS(...i)),e.nonempty=(...i)=>e.check(Eu(1,...i)),e.lowercase=i=>e.check(Zk(i)),e.uppercase=i=>e.check($k(i)),e.trim=()=>e.check(Kk()),e.normalize=(...i)=>e.check(Qk(...i)),e.toLowerCase=()=>e.check(Jk()),e.toUpperCase=()=>e.check(Wk()),e.slugify=()=>e.check(eI())}),FI=z("ZodString",(e,t)=>{$p.init(e,t),oS.init(e,t),e.email=n=>e.check(pk(YI,n)),e.url=n=>e.check(_k(QI,n)),e.jwt=n=>e.check(Mk(fR,n)),e.emoji=n=>e.check(bk(KI,n)),e.guid=n=>e.check(av(uv,n)),e.uuid=n=>e.check(mk(cc,n)),e.uuidv4=n=>e.check(gk(cc,n)),e.uuidv6=n=>e.check(yk(cc,n)),e.uuidv7=n=>e.check(vk(cc,n)),e.nanoid=n=>e.check(Sk(JI,n)),e.guid=n=>e.check(av(uv,n)),e.cuid=n=>e.check(Tk(WI,n)),e.cuid2=n=>e.check(Ek(eR,n)),e.ulid=n=>e.check(wk(tR,n)),e.base64=n=>e.check(Ik(lR,n)),e.base64url=n=>e.check(Rk(cR,n)),e.xid=n=>e.check(Ak(nR,n)),e.ksuid=n=>e.check(xk(iR,n)),e.ipv4=n=>e.check(Nk(rR,n)),e.ipv6=n=>e.check(Ck(sR,n)),e.cidrv4=n=>e.check(Ok(aR,n)),e.cidrv6=n=>e.check(kk(oR,n)),e.e164=n=>e.check(Dk(uR,n)),e.datetime=n=>e.check(CI(n)),e.date=n=>e.check(kI(n)),e.time=n=>e.check(RI(n)),e.duration=n=>e.check(MI(n))});function it(e){return hk(FI,e)}const Me=z("ZodStringFormat",(e,t)=>{De.init(e,t),oS.init(e,t)}),YI=z("ZodEmail",(e,t)=>{SO.init(e,t),Me.init(e,t)}),uv=z("ZodGUID",(e,t)=>{_O.init(e,t),Me.init(e,t)}),cc=z("ZodUUID",(e,t)=>{bO.init(e,t),Me.init(e,t)}),QI=z("ZodURL",(e,t)=>{TO.init(e,t),Me.init(e,t)}),KI=z("ZodEmoji",(e,t)=>{EO.init(e,t),Me.init(e,t)}),JI=z("ZodNanoID",(e,t)=>{wO.init(e,t),Me.init(e,t)}),WI=z("ZodCUID",(e,t)=>{AO.init(e,t),Me.init(e,t)}),eR=z("ZodCUID2",(e,t)=>{xO.init(e,t),Me.init(e,t)}),tR=z("ZodULID",(e,t)=>{NO.init(e,t),Me.init(e,t)}),nR=z("ZodXID",(e,t)=>{CO.init(e,t),Me.init(e,t)}),iR=z("ZodKSUID",(e,t)=>{OO.init(e,t),Me.init(e,t)}),rR=z("ZodIPv4",(e,t)=>{MO.init(e,t),Me.init(e,t)}),sR=z("ZodIPv6",(e,t)=>{zO.init(e,t),Me.init(e,t)}),aR=z("ZodCIDRv4",(e,t)=>{UO.init(e,t),Me.init(e,t)}),oR=z("ZodCIDRv6",(e,t)=>{LO.init(e,t),Me.init(e,t)}),lR=z("ZodBase64",(e,t)=>{jO.init(e,t),Me.init(e,t)}),cR=z("ZodBase64URL",(e,t)=>{BO.init(e,t),Me.init(e,t)}),uR=z("ZodE164",(e,t)=>{HO.init(e,t),Me.init(e,t)}),fR=z("ZodJWT",(e,t)=>{VO.init(e,t),Me.init(e,t)}),lS=z("ZodNumber",(e,t)=>{K1.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(i,r,s)=>lI(e,i,r),e.gt=(i,r)=>e.check(lv(i,r)),e.gte=(i,r)=>e.check(dd(i,r)),e.min=(i,r)=>e.check(dd(i,r)),e.lt=(i,r)=>e.check(ov(i,r)),e.lte=(i,r)=>e.check(fd(i,r)),e.max=(i,r)=>e.check(fd(i,r)),e.int=i=>e.check(fv(i)),e.safe=i=>e.check(fv(i)),e.positive=i=>e.check(lv(0,i)),e.nonnegative=i=>e.check(dd(0,i)),e.negative=i=>e.check(ov(0,i)),e.nonpositive=i=>e.check(fd(0,i)),e.multipleOf=(i,r)=>e.check(cv(i,r)),e.step=(i,r)=>e.check(cv(i,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function pt(e){return Pk(lS,e)}const dR=z("ZodNumberFormat",(e,t)=>{GO.init(e,t),lS.init(e,t)});function fv(e){return Bk(dR,e)}const hR=z("ZodBoolean",(e,t)=>{ZO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>cI(e,n,i)});function pR(e){return Hk(hR,e)}const mR=z("ZodUnknown",(e,t)=>{$O.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>fI()});function xh(){return qk(mR)}const gR=z("ZodNever",(e,t)=>{XO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>uI(e,n,i)});function yR(e){return Vk(gR,e)}const vR=z("ZodArray",(e,t)=>{FO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>mI(e,n,i,r),e.element=t.element,e.min=(n,i)=>e.check(Eu(n,i)),e.nonempty=n=>e.check(Eu(1,n)),e.max=(n,i)=>e.check(tS(n,i)),e.length=(n,i)=>e.check(nS(n,i)),e.unwrap=()=>e.element});function ga(e,t){return tI(vR,e,t)}const _R=z("ZodObject",(e,t)=>{QO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>gI(e,n,i,r),be(e,"shape",()=>t.shape),e.keyof=()=>Ch(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:xh()}),e.loose=()=>e.clone({...e._zod.def,catchall:xh()}),e.strict=()=>e.clone({...e._zod.def,catchall:yR()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>yC(e,n),e.safeExtend=n=>vC(e,n),e.merge=n=>_C(e,n),e.pick=n=>mC(e,n),e.omit=n=>gC(e,n),e.partial=(...n)=>bC(fS,e,n[0]),e.required=(...n)=>SC(dS,e,n[0])});function An(e,t){const n={type:"object",shape:e??{},...$(t)};return new _R(n)}const bR=z("ZodUnion",(e,t)=>{KO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>yI(e,n,i,r),e.options=t.options});function cS(e,t){return new bR({type:"union",options:e,...$(t)})}const SR=z("ZodIntersection",(e,t)=>{JO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>vI(e,n,i,r)});function TR(e,t){return new SR({type:"intersection",left:e,right:t})}const ER=z("ZodRecord",(e,t)=>{WO.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>_I(e,n,i,r),e.keyType=t.keyType,e.valueType=t.valueType});function uS(e,t,n){return new ER({type:"record",keyType:e,valueType:t,...$(n)})}const Nh=z("ZodEnum",(e,t)=>{ek.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(i,r,s)=>dI(e,i,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,r)=>{const s={};for(const a of i)if(n.has(a))s[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Nh({...t,checks:[],...$(r),entries:s})},e.exclude=(i,r)=>{const s={...t.entries};for(const a of i)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Nh({...t,checks:[],...$(r),entries:s})}});function Ch(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Nh({type:"enum",entries:n,...$(t)})}const wR=z("ZodTransform",(e,t)=>{tk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>pI(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new z1(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(tl(s,n.value,t));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(tl(a))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(s=>(n.value=s,n)):(n.value=r,n)}});function AR(e){return new wR({type:"transform",transform:e})}const fS=z("ZodOptional",(e,t)=>{eS.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>aS(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function dv(e){return new fS({type:"optional",innerType:e})}const xR=z("ZodExactOptional",(e,t)=>{nk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>aS(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function NR(e){return new xR({type:"optional",innerType:e})}const CR=z("ZodNullable",(e,t)=>{ik.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>bI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function hv(e){return new CR({type:"nullable",innerType:e})}const OR=z("ZodDefault",(e,t)=>{rk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>TI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function kR(e,t){return new OR({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():P1(t)}})}const IR=z("ZodPrefault",(e,t)=>{sk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>EI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function RR(e,t){return new IR({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():P1(t)}})}const dS=z("ZodNonOptional",(e,t)=>{ak.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>SI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function DR(e,t){return new dS({type:"nonoptional",innerType:e,...$(t)})}const MR=z("ZodCatch",(e,t)=>{ok.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>wI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function zR(e,t){return new MR({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const UR=z("ZodPipe",(e,t)=>{lk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>AI(e,n,i,r),e.in=t.in,e.out=t.out});function pv(e,t){return new UR({type:"pipe",in:e,out:t})}const LR=z("ZodReadonly",(e,t)=>{ck.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>xI(e,n,i,r),e.unwrap=()=>e._zod.def.innerType});function jR(e){return new LR({type:"readonly",innerType:e})}const PR=z("ZodCustom",(e,t)=>{uk.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,i,r)=>hI(e,n)});function BR(e,t={}){return nI(PR,e,t)}function HR(e){return iI(e)}br("Validation");const mv=it().min(1).max(100);it().regex(/^[a-fA-F0-9]{64}$/);const ef=it().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),hS=it().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);it().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);An({challenge:it().min(10).max(200),expiresAt:pt().int().positive()});An({kind:pt().int(),created_at:pt().int().nonnegative(),tags:ga(ga(it())),content:it()});const qR=An({npub:ef,displayName:hS.nullable()}),pS=An({visitedAt:it().nullable().optional(),completedAt:it().nullable().optional(),quizAttempts:ga(An({xpEarned:pt().int().min(0).optional(),score:pt().min(0).max(100).optional(),timestamp:it().optional(),difficulty:Ch(["easy","medium","hard"]).optional(),correctAnswers:pt().int().min(0).optional(),totalQuestions:pt().int().min(1).optional()})).optional(),visualizationsInteracted:ga(it().max(100)).optional(),masteryLevel:cS([pt().int().min(0).max(3),Ch(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:it().optional(),timeSpentSeconds:pt().int().min(0).optional()});An({user:An({totalXP:pt().int().min(0),level:pt().int().min(1).max(10),sectionsCompleted:ga(mv)}),sections:uS(mv,pS),dailyGoals:An({lastResetDate:it().nullable(),currentStreak:pt().int().min(0),xpEarned:pt().int().min(0),xpGoal:pt().int().min(0)}),lastUpdated:pt().int().nonnegative()});An({success:pR(),totalXP:pt().int().min(0)});An({npub:ef,displayName:hS.nullable(),xp:pt().int().min(0),lastSync:it()});An({timestamp:it(),action:it(),targetNpub:ef.nullable(),performedBy:it(),details:uS(it(),xh()).nullable()});function r3(e){return ef.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function VR(e){const t=pS.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function GR(e){const t=qR.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Au=br("SyncManager"),ZR="magic-internet-math-progress";function gv(){try{const e=localStorage.getItem(ZR);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[r,s]of Object.entries(t.sections)){const[a]=r.split(":");if(!qw(a))continue;const l=a,u=VR(s);if(!u.valid||!u.data){Au.warn(`Invalid section data for ${r}, skipping`);continue}const f=u.data;if(f.quizAttempts)for(const h of f.quizAttempts)h.xpEarned&&(i[l]+=h.xpEarned);f.visitedAt&&(i[l]+=rt.SECTION_VISIT),f.completedAt&&(i[l]+=rt.SECTION_COMPLETE),f.visualizationsInteracted&&(i[l]+=f.visualizationsInteracted.length*rt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return Au.error("Error extracting scores from storage:",e),null}}class $R{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},N1),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},C1))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!$r())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<x1)return{success:!1,error:"Rate limited"};try{const n=gv();if(!n)return{success:!1,error:"No scores to sync"};const i=_u(),r=Wo(i,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const a=await r(s);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return Au.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const r=1e3*Math.pow(2,n);Au.debug(`Sync retry ${n+1}/${t} in ${r}ms`),await new Promise(s=>setTimeout(s,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=gv();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let hd=null;function lo(){return hd||(hd=new $R),hd}const ot=br("NostrAuth"),mS=V.createContext(null),co="magic-internet-math-nostr-auth";function XR({children:e}){const[t,n]=V.useState(!1),[i,r]=V.useState(null),[s,a]=V.useState(null),[l,u]=V.useState(null),[f,h]=V.useState(!1),[p,m]=V.useState(null),[S,I]=V.useState(!1),[M,L]=V.useState(!1),[x,A]=V.useState(null);V.useEffect(()=>{(async()=>{const v=await oC(j4);I(v),L(!0)})()},[]);const O=V.useCallback(async b=>{for(const v of O1)try{const T=await M1(v,b);if(T){T.nip05&&u(T.nip05);const C=T.display_name||T.name;if(C){a(C);const w=lo();w.setDisplayName(C),w.requestSync()}return}}catch(T){ot.warn(`Failed to fetch profile from ${v}:`,T)}},[]);V.useEffect(()=>{if(!$r())return;const b=cd(),v=G2(b,async T=>{if(A(T),T){r(T.uid);try{const w=await T.getIdTokenResult(!0);ot.debug("Token claims:",w.claims),h(w.claims.isAdmin===!0)}catch(w){ot.error("Error getting token:",w),h(!1)}try{const w=localStorage.getItem(co);if(w){const ae=JSON.parse(w),le=GR(ae);if(!le.valid||!le.data){ot.warn("Invalid auth state in localStorage:",le.error),localStorage.removeItem(co);return}le.data.npub===T.uid&&a(le.data.displayName)}}catch(w){ot.debug("Storage read error:",w)}const C=lo();C.setAuthenticated(!0),C.startPeriodicSync();try{const w=D1(T.uid);O(w)}catch(w){ot.debug("Npub conversion error:",w)}}else{r(null),u(null),h(!1),a(null);const C=lo();C.setAuthenticated(!1),C.stopPeriodicSync()}});return()=>v()},[O]);const k=V.useCallback(async()=>{if(ot.debug("connect() called"),ot.debug("isFirebaseConfigured:",$r()),ot.debug("hasNostrExtension:",bu()),!$r()){ot.info("Firebase not configured, cannot connect");return}if(!bu()){m("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),ot.warn("No extension found, returning");return}n(!0),m(null),ot.info("Starting Nostr connection...");try{const b=window.nostr,v=_u(),T=await b.getPublicKey(),C=rC(T),ae=await Wo(v,"createChallenge")({pubkeyHex:T}),{challenge:le}=ae.data,B={kind:lC,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",le]],content:le},X=await b.signEvent(B),ue=await Wo(v,"verifyNostrAndCreateToken")({signedEvent:X,challenge:le}),Se=cd();await H2(Se,ue.data.token);try{const J={npub:C,displayName:null};localStorage.setItem(co,JSON.stringify(J))}catch(J){ot.warn("Failed to store auth state:",J)}lo().syncNow().catch(J=>{ot.warn("Initial sync failed:",J)})}catch(b){ot.error("Nostr connect error:",b),m(b instanceof Error?b.message:"Failed to connect. Please try again.")}finally{n(!1)}},[S]),j=V.useCallback(async()=>{try{if($r()){const b=cd();await Z2(b)}try{localStorage.removeItem(co)}catch(b){ot.warn("Failed to clear auth state from storage:",b)}r(null),a(null),h(!1)}catch(b){ot.error("Disconnect error:",b),m(b instanceof Error?b.message:"Failed to disconnect")}},[]),H=V.useCallback(b=>{if(a(b),i)try{localStorage.setItem(co,JSON.stringify({npub:i,displayName:b}))}catch(T){ot.warn("Failed to update display name in storage:",T)}const v=lo();v.setDisplayName(b),v.requestSync()},[i]),E=V.useCallback(()=>{m(null)},[]),_=V.useMemo(()=>({isAuthenticated:!!x&&!!i,isConnecting:t,npub:i,displayName:s,nip05:l,isAdmin:f,error:p,hasExtension:S,extensionChecked:M,connect:k,disconnect:j,setDisplayName:H,clearError:E}),[x,i,t,s,l,f,p,S,M,k,j,H,E]);return g.jsx(mS.Provider,{value:_,children:e})}const FR={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function YR(){const e=V.useContext(mS);return e||FR}const Li=br("GamificationProgress"),QR=500,KR=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},xs=(e,t)=>{KR()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},gS=V.createContext(null);function JR({children:e,courseId:t,curriculum:n}){const[i,r]=V.useReducer(uA,_b()),[s,a]=V.useState(!0),[l,u]=V.useState([]),[f,h]=V.useState("idle"),p=V.useRef(null),m=V.useRef(!1),S=V.useRef(!1),{isAuthenticated:I,npub:M}=YR(),L=V.useCallback(v=>`${t}:${v}`,[t]),x=V.useCallback((v,T)=>{if(!n)return null;const C=n.find(X=>X.sections.some(F=>F.id===v));if(!C)return null;const w=`${t}:part${C.id}`;if(T.user.partsCompleted.includes(w))return null;const ae=C.sections.map(X=>L(X.id)),le=L(v);return ae.every(X=>T.user.sectionsCompleted.includes(X)||X===le)?w:null},[n,t,L]);V.useEffect(()=>{const v=ss();v&&r({type:"LOAD_STATE",payload:v}),I||queueMicrotask(()=>a(!1))},[]),V.useEffect(()=>{const v=Xy(),T=v.onStatusChange(h),C=S.current;return S.current=I,I&&!C?(Li.info("User authenticated, fetching progress from server"),v.setAuthenticated(!0),(async()=>{a(!0);try{const ae=Qw(),le=ss();if(ae&&le){Li.info("Migrating local progress to server");const B=await v.migrateLocalProgress(le);B.success&&B.state?(r({type:"MERGE_WITH_SERVER",payload:B.state}),Yw(),Li.info("Migration complete")):Li.warn("Migration failed, using local state")}else{const B=await v.fetchServerProgress();B.found&&B.progress?(Li.info("Loaded progress from server"),r({type:"LOAD_FROM_SERVER",payload:B.progress}),v.setLastSyncedAt(B.lastSyncedAt)):Li.info("No server progress found, using local state")}}catch(ae){Li.error("Failed to sync with server:",ae)}finally{queueMicrotask(()=>a(!1)),m.current=!0}})(),v.startPeriodicSync()):!I&&C?(Li.info("User logged out"),v.setAuthenticated(!1),v.stopPeriodicSync(),m.current=!1):I||queueMicrotask(()=>a(!1)),()=>{T()}},[I,M]),V.useEffect(()=>{s||(Vu(i),I&&m.current&&Xy().requestSync(i))},[i,s,I]),V.useEffect(()=>{s||r({type:"UPDATE_STREAK"})},[s]),V.useEffect(()=>{if(!s)return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const v=eA(i);v.length>0&&u(T=>[...T,...v])},QR),()=>{p.current&&clearTimeout(p.current)}},[i,s]);const A=V.useCallback(v=>{r({type:"VISIT_SECTION",payload:{sectionId:L(v)}})},[L]),O=V.useCallback(v=>{const T=x(v,i);r({type:"COMPLETE_SECTION",payload:{sectionId:L(v)}}),T&&(r({type:"COMPLETE_PART",payload:{partId:T}}),xs("partCompleted",{partId:T,courseId:t})),xs("sectionCompleted",{sectionId:L(v),courseId:t})},[L,t,x,i]),k=V.useCallback((v,T,C,w,ae)=>{const le=L(v),B=C>=80?x(v,i):null;r({type:"RECORD_QUIZ",payload:{sectionId:le,difficulty:T,score:C,correctAnswers:w,totalQuestions:ae}}),B&&(r({type:"COMPLETE_PART",payload:{partId:B}}),xs("partCompleted",{partId:B,courseId:t})),xs("quizCompleted",{sectionId:le,courseId:t,score:C,correctAnswers:w,totalQuestions:ae}),C>=80&&xs("sectionCompleted",{sectionId:le,courseId:t})},[L,t,x,i]),j=V.useCallback((v,T)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:L(v),name:T}})},[L]),H=V.useCallback(v=>{u(T=>T.filter(C=>C.id!==v))},[]),E=V.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),_=V.useCallback(v=>{r({type:"RECORD_RACE_GAME",payload:v}),xs("raceGameCompleted",{courseId:t,score:v.score,tier:v.tier,correctAnswers:v.correctAnswers,totalQuestions:v.totalQuestions,isMultiplayer:v.isMultiplayer})},[t]),b=V.useMemo(()=>({state:i,isLoading:s,notifications:l,syncStatus:f,visitSection:A,completeSection:O,recordQuiz:k,useVisualization:j,dismissNotification:H,resetProgress:E,recordRaceGame:_,dispatch:r}),[i,s,l,f,A,O,k,j,H,E,_,r]);return g.jsx(gS.Provider,{value:b,children:e})}function Oa(){const e=V.useContext(gS);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const WR=Qo;function s3(e){return`${WR}:${e}`}function yv({children:e}){return g.jsx(JR,{courseId:Qo,children:e})}const yS=V.createContext(null);function eD({config:e,children:t}){return g.jsx(yS.Provider,{value:e,children:t})}function vS(){const e=V.useContext(yS);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}function tD({xp:e,level:t,compact:n=!1}){const i=bb(e,t);return n?g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),g.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:g.jsx("span",{className:"text-sm font-bold text-white",children:t})}),g.jsxs("div",{className:"flex-1 min-w-[80px]",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[g.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),g.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),g.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:g.jsx(ci.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function nD({streak:e}){return e===0?null:g.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[g.jsx("span",{className:"text-orange-400",children:""}),g.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}const iD={progress:"",mastery:"",dedication:"",exploration:""};function rD({notification:e,onDismiss:t}){return V.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),g.jsx(ci.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:g.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[g.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:iD[e.category]||""}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),g.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),g.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),g.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),g.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function sD(){const{notifications:e,dismissNotification:t}=Oa();return g.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:g.jsx(pd,{mode:"popLayout",children:e.map(n=>g.jsx(rD,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function aD({xp:e,level:t,compact:n=!1}){const i=bb(e,t);return n?g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),g.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:g.jsx("span",{className:"text-sm font-bold text-white",children:t})}),g.jsxs("div",{className:"flex-1 min-w-[80px]",children:[g.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[g.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),g.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),g.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:g.jsx(ci.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function oD({streak:e}){return e===0?null:g.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[g.jsx("span",{className:"text-orange-400",children:""}),g.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function lD({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:r}=iA(e);return g.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[g.jsx("span",{className:"text-sm",children:r}),t&&g.jsx("span",{className:"text-xs",children:n})]})}function cD({onImportSuccess:e}){const[t,n]=V.useState(!1),[i,r]=V.useState(null),[s,a]=V.useState(!1),l=V.useRef(null),u=Fw(),f=()=>{Zw(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},h=()=>{var m;(m=l.current)==null||m.click()},p=async m=>{var M;const S=(M=m.target.files)==null?void 0:M[0];if(!S)return;a(!0),r(null);const I=await Xw(S);a(!1),r({type:I.success?"success":"error",text:I.message}),I.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:g.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[g.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&g.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[g.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),g.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[g.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),g.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),g.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:f,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),g.jsxs("button",{onClick:h,disabled:s,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),s?"Importing...":"Import Backup"]}),g.jsx("input",{ref:l,type:"file",accept:".json",onChange:p,className:"hidden"})]}),i&&g.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),g.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function uD({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:r,hubUrl:s}=vS(),a=Oa(),l=r.gamification?a:null;return g.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:g.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:g.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),g.jsxs(Ln,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[g.jsx("span",{className:"text-2xl",children:i}),g.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),g.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[g.jsx("a",{href:s,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),g.jsx(Ln,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),r.theoremIndex&&g.jsx(Ln,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),r.interactiveModules&&g.jsx(Ln,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),r.leaderboard&&g.jsx(Ln,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[r.gamification&&l&&g.jsxs(g.Fragment,{children:[g.jsx(oD,{streak:l.state.streak.currentStreak}),g.jsx(aD,{xp:l.state.user.totalXP,level:l.state.user.level})]}),r.gamification&&g.jsx(cD,{})]})]})})}function fD({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:r}=vS(),[s,a]=V.useState(new Set([1])),l=Oa(),u=i.gamification?l:null,f=p=>{a(m=>{const S=new Set(m);return S.has(p)?S.delete(p):S.add(p),S})},h=p=>{var S;if(!u)return"none";const m=`${n}:${p}`;return((S=u.state.sections[m])==null?void 0:S.masteryLevel)??"none"};return g.jsxs(g.Fragment,{children:[g.jsx(pd,{children:e&&g.jsx(ci.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),g.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:g.jsxs("nav",{className:"p-4",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[g.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),g.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&g.jsx("li",{children:g.jsxs(Ya,{to:"/theorems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[g.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&g.jsx("li",{children:g.jsxs(Ya,{to:"/interactive",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[g.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&g.jsx("li",{children:g.jsxs(Ya,{to:"/problems",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[g.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&g.jsx("li",{children:g.jsxs(Ya,{to:"/transcripts",className:({isActive:p})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[g.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),g.jsx("div",{className:"space-y-2",children:r.map(p=>g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>f(p.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:g.jsx("span",{className:"text-xs font-bold text-primary-400",children:p.id})}),g.jsx("span",{className:"text-sm font-medium text-dark-200",children:p.title})]}),g.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${s.has(p.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g.jsx(pd,{children:s.has(p.id)&&g.jsx(ci.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:p.sections.map(m=>g.jsx("li",{children:g.jsxs(Ya,{to:`/section/${m.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:S})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${S?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[g.jsx("span",{className:"truncate",children:m.title}),i.gamification&&g.jsx(lD,{level:h(m.id)})]})},m.id))})})]},p.id))})]})})]})}const gs=[{id:1,title:"Part One: Fundamentals of Human Action",slug:"fundamentals-human-action",sections:[{id:0,title:"Chapter 1: Fundamentals of Human Action",slug:"fundamentals-of-human-action",description:"The concept of action, first implications of the concept, further implications: means, time preference, the law of marginal utility, and factors of production."},{id:1,title:"Chapter 2: Direct Exchange",slug:"direct-exchange",description:"Types of interpersonal action: violence and voluntary exchange, exchange and the division of labor, the terms of exchange, determination of price: equilibrium price."}]},{id:2,title:"Part Two: Indirect Exchange and Prices",slug:"indirect-exchange-prices",sections:[{id:2,title:"Chapter 3: The Pattern of Indirect Exchange",slug:"pattern-indirect-exchange",description:"The limitations of direct exchange, the emergence of indirect exchange, the development of money, money and prices."},{id:3,title:"Chapter 4: Prices and Consumption",slug:"prices-and-consumption",description:"Money prices, the determination of money prices, the gains of exchange, pricing and the theory of the consumer."}]},{id:3,title:"Part Three: Production Theory",slug:"production-theory",sections:[{id:4,title:"Chapter 5: Production: The Structure",slug:"production-structure",description:"The production structure, time and production, saved capital, capital values and aggregate profits, the structure of production: present goods and future goods."},{id:5,title:"Chapter 6: Production: The Rate of Interest",slug:"production-interest-rate",description:"The rate of interest and its determination, time preference, determination of the pure rate of interest, the time market and the production structure."},{id:6,title:"Chapter 7: Production: General Pricing of the Factors",slug:"production-factor-pricing",description:"Imputation of the discounted marginal value product, the pricing of the factors, the source of factor incomes, discounting and the structure of production."},{id:7,title:"Chapter 8: Production: Entrepreneurship and Change",slug:"production-entrepreneurship",description:"Entrepreneurial profit and loss, the effects of investment on interest and production, entrepreneurs and the economy, the function of the entrepreneur."},{id:8,title:"Chapter 9: Production: Particular Factor Prices",slug:"production-particular-factors",description:"Land, labor, and capital goods, wages and marginal productivity, the determination of wages, capitalization and rent, the pricing of productive factors."}]},{id:4,title:"Part Four: Market Structure and Money",slug:"market-structure-money",sections:[{id:9,title:"Chapter 10: Monopoly and Competition",slug:"monopoly-and-competition",description:"The concept of consumer sovereignty, monopoly and competition on the free market, cartels, the illusion of monopoly price on the free market."},{id:10,title:"Chapter 11: Money and Its Purchasing Power",slug:"money-purchasing-power",description:"The supply of money, demand for money, the determination of money prices, changes in the money relation, cash balance and the individual."}]},{id:5,title:"Part Five: Violent Intervention in the Market",slug:"violent-intervention",sections:[{id:11,title:"Chapter 12: The Economics of Violent Intervention",slug:"economics-violent-intervention",description:"Types of intervention, effects of government intervention, direct effects on utility, effects of price control, effects of product control, effects on the pattern of production."}]},{id:6,title:"Power and Market: Government and the Economy",slug:"power-and-market",sections:[{id:12,title:"Chapter 1: Defense Services on the Free Market",slug:"defense-services-free-market",description:"The private production of defense, the nature of the State, property rights and the theory of contracts."},{id:13,title:"Chapter 2: Fundamentals of Intervention",slug:"fundamentals-of-intervention",description:"Types of intervention: autistic, binary, and triangular, direct effects of intervention on utility."},{id:14,title:"Chapter 3: Triangular Intervention",slug:"triangular-intervention",description:"Price control, product control, grants of monopolistic privilege, effects on production and allocation."},{id:15,title:"Chapter 4: Binary Intervention: Taxation",slug:"binary-intervention-taxation",description:"The nature and types of taxation, incidence and effects of taxation, the canons of justice in taxation."},{id:16,title:"Chapter 5: Binary Intervention: Government Expenditures",slug:"binary-intervention-expenditures",description:"Government subsidies, resource-using activities, the fallacy of government ownership, bureaucracy."},{id:17,title:"Chapter 6: Antimarket Ethics: A Praxeological Critique",slug:"antimarket-ethics",description:"The nature of economics and ethics, implicit ethics in critiques of the market, alleged defects of the market, alleged merits of intervention."},{id:18,title:"Chapter 7: Conclusion: Economics and Public Policy",slug:"economics-public-policy",description:"The role of the economist, economics and social philosophy, toward a libertarian society."}]}];function dD(e){for(const t of gs){const n=t.sections.find(i=>i.id===e);if(n)return n}}function hD(e){return gs.find(t=>t.sections.some(n=>n.id===e))}function a3(e){const t=gs.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function pD(){return gs.reduce((e,t)=>e+t.sections.length,0)}function mD(){return gs.flatMap(e=>e.sections)}function o3(e){return mD().findIndex(n=>n.id===e)}const gD={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function Rc({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=g.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[g.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${gD[t]}`,role:"status","aria-label":"Loading"}),e&&g.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?g.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}function yD(e){const t={};for(const[n,i]of Object.entries(e)){const r=n.match(/Section(\d+)/);if(r){const s=parseInt(r[1],10);t[s]=i}}return t}function vv(){const e=Oa(),t=Zt.gamification?e:null,n=pD(),i=t?t.state.user.sectionsCompleted.filter(s=>s.startsWith(Qo)).length:0,r=Math.round(i/n*100);return g.jsx("div",{className:"py-8 px-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("span",{className:"text-6xl mb-4 block",children:fb}),g.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:ub}),g.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:mw})]}),Zt.gamification&&t&&g.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),g.jsx(nD,{streak:t.state.streak.currentStreak})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsx("div",{children:g.jsx(tD,{xp:t.state.user.totalXP,level:t.state.user.level})}),g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[g.jsx("span",{className:"text-dark-400",children:"Course Progress"}),g.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),g.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),g.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),g.jsxs("div",{className:"flex flex-col justify-center items-end",children:[g.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),g.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),g.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),g.jsx("div",{className:"space-y-4",children:gs.map(s=>g.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:g.jsx("span",{className:"text-lg font-bold text-primary-400",children:s.id})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s.title}),g.jsxs("p",{className:"text-sm text-dark-400",children:[s.sections.length," sections"]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:s.sections.map(a=>{const l=`${Qo}:${a.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return g.jsxs(Ln,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[g.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?g.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):g.jsx("span",{className:"text-xs",children:a.id})}),g.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},s.id))})]})})}function vD({sectionId:e,questions:t,title:n="Section Quiz"}){var F,ue,Se;const i=Oa(),r=Zt.gamification?i:null,[s,a]=V.useState(0),[l,u]=V.useState(null),[f,h]=V.useState(null),[p,m]=V.useState(""),[S,I]=V.useState(!1),[M,L]=V.useState(0),[x,A]=V.useState([]),[O,k]=V.useState(!1),[j,H]=V.useState(""),[E,_]=V.useState(0),b=V.useMemo(()=>[...t].sort(()=>globalThis.Math.random()-.5).slice(0,5),[t]),v=b[s],T=b.length,C=(v==null?void 0:v.type)??"multiple-choice",w=Y=>{if(l!==null)return;u(Y);const J=Y===v.correctIndex;J&&L(W=>W+1),A(W=>[...W,J]),I(!0)},ae=()=>{if(f===null||Number.isNaN(f)){H("Please enter a number");return}const{min:Y,max:J}=v.numericRange??{};if(Y!==void 0&&f<Y){H(`Answer must be at least ${Y}`);return}if(J!==void 0&&f>J){H(`Answer must be at most ${J}`);return}H("");const W=f===v.correctAnswer;W&&L(Ie=>Ie+1),A(Ie=>[...Ie,W]),I(!0)},le=()=>{const Y=p.trim();if(Y==="")return;const J=Y.toLowerCase()===String(v.correctAnswer??"").toLowerCase();J&&L(W=>W+1),A(W=>[...W,J]),I(!0)},B=()=>{if(s<T-1)a(Y=>Y+1),u(null),h(null),m(""),I(!1),H("");else{k(!0);const Y=M+(S&&(C==="multiple-choice"&&l===v.correctIndex||C==="numeric"&&f===v.correctAnswer||C==="text"&&p.toLowerCase()===String(v.correctAnswer??"").toLowerCase())?1:0),J=globalThis.Math.round(Y/T*100);let W=Sb(v.difficulty,J);J===100&&(W=globalThis.Math.round(W*(1+rt.QUIZ_PERFECT_BONUS))),_(W),r&&r.recordQuiz(e,v.difficulty,J,Y,T)}},X=()=>{a(0),u(null),h(null),m(""),I(!1),L(0),A([]),k(!1),H(""),_(0)};if(O){const Y=x.filter(Boolean).length,J=globalThis.Math.round(Y/T*100);return g.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-6xl mb-4",children:J>=80?"":J>=60?"":""}),g.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),g.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",Y," out of ",T," (",J,"%)"]}),Zt.gamification&&E>0&&g.jsxs(ci.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",E," XP"]}),J===100&&g.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),g.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:x.map((W,Ie)=>g.jsx("div",{className:`w-3 h-3 rounded-full ${W?"bg-emerald-500":"bg-red-500"}`},Ie))}),g.jsx("button",{onClick:X,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return g.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:n}),g.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",s+1," of ",T]})]}),g.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:g.jsx(ci.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(s+1)/T*100}%`}})}),g.jsx("div",{className:"mb-4",children:g.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${v.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":v.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:v.difficulty.charAt(0).toUpperCase()+v.difficulty.slice(1)})}),g.jsx("p",{className:"text-lg text-dark-200 mb-6",children:g.jsx("span",{dangerouslySetInnerHTML:{__html:Wf(v.question)}})}),C==="multiple-choice"&&v.options&&g.jsx("div",{className:"space-y-3 mb-6",children:v.options.map((Y,J)=>{const W=l===J,Ie=J===v.correctIndex,fe=S&&Ie,gn=S&&W&&!Ie;return g.jsx("button",{onClick:()=>w(J),disabled:S,className:`w-full p-4 rounded-xl text-left transition-all ${fe?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":gn?"bg-red-500/20 border-red-500/50 text-red-300":W?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+J)}),g.jsx("span",{dangerouslySetInnerHTML:{__html:Wf(Y)}})]})},J)})}),C==="numeric"&&g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsx("input",{type:"number",step:(F=v.numericRange)!=null&&F.precision?1/globalThis.Math.pow(10,v.numericRange.precision):1,min:(ue=v.numericRange)==null?void 0:ue.min,max:(Se=v.numericRange)==null?void 0:Se.max,value:f??"",onChange:Y=>{const J=Y.target.value;h(J===""?null:parseFloat(J))},disabled:S,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),j&&g.jsx("p",{className:"text-red-400 text-sm",children:j}),g.jsx("button",{onClick:ae,disabled:S||f===null||Number.isNaN(f),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),C==="text"&&g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsx("input",{type:"text",value:p,onChange:Y=>m(Y.target.value),disabled:S,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),g.jsx("button",{onClick:le,disabled:S||!p.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),S&&v.explanation&&g.jsx(ci.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:g.jsxs("p",{className:"text-sm text-dark-300",children:[g.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),g.jsx("span",{dangerouslySetInnerHTML:{__html:Wf(v.explanation)}})]})}),S&&g.jsx(ci.button,{initial:{opacity:0},animate:{opacity:1},onClick:B,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:s<T-1?"Next Question":"See Results"})]})}const _D=[{id:1,type:"multiple-choice",question:"What is the fundamental axiom of praxeology according to Rothbard?",options:["Humans act purposefully to achieve goals","Humans are rational beings","Humans seek to maximize utility","Humans respond to incentives"],correctIndex:0,difficulty:"easy",explanation:"The action axiom states that humans act purposefully, using means to achieve ends. This is the foundational premise of praxeological economics."},{id:2,type:"multiple-choice",question:"According to the law of marginal utility, why does the utility of additional units decrease?",options:["Because goods become worn out with use","Because higher-valued ends are satisfied first","Because people get bored with the same goods","Because production costs increase"],correctIndex:1,difficulty:"medium",explanation:"As we acquire more units of a good, we satisfy our most urgent wants first. Each additional unit goes to a less important use, hence lower marginal utility."},{id:3,type:"multiple-choice",question:'What does "demonstrated preference" mean in praxeology?',options:["Preferences stated in surveys","Preferences that can be measured numerically","Preferences revealed through actual choices and actions","Preferences that remain constant over time"],correctIndex:2,difficulty:"easy",explanation:"Demonstrated preference means we can only know what people prefer by observing their actual actions, not by asking them hypothetically."},{id:4,type:"multiple-choice",question:"Why does Rothbard argue that utility cannot be measured cardinally?",options:["Measurement tools are not accurate enough","People lie about their preferences","Different cultures measure utility differently","Utility is subjective and ordinal, not numerical"],correctIndex:3,difficulty:"medium",explanation:"Utility is inherently subjective and can only be ranked (ordinal), not measured in units. We can say A > B, but not that A = 2B."},{id:5,type:"multiple-choice",question:"What is the relationship between means and ends in human action?",options:["Ends determine what means are sought","Means determine what ends are possible","Ends and means are independent of each other","Means always limit ends"],correctIndex:0,difficulty:"easy",explanation:"Humans first identify ends (goals) they wish to achieve, then seek means (resources, methods) to achieve those ends."},{id:6,type:"multiple-choice",question:"According to Rothbard, what makes economic laws universal?",options:["They are based on empirical observation across cultures","They are derived logically from the action axiom","They have been tested in laboratory experiments","They are agreed upon by most economists"],correctIndex:1,difficulty:"hard",explanation:"Praxeological laws are derived through logical deduction from the action axiom, making them a priori true for all human action."}],bD=[{id:1,type:"multiple-choice",question:"What is direct exchange (barter)?",options:["Exchange using money as a medium","Exchange through a middleman","Exchange of goods directly for other goods","Exchange of labor for wages"],correctIndex:2,difficulty:"easy",explanation:"Direct exchange or barter involves trading goods directly for other goods without using money as an intermediary."},{id:2,type:"multiple-choice",question:"Why is voluntary exchange mutually beneficial?",options:["Because the government regulates it","Because one party always wins and one loses","Because prices are always fair","Because both parties expect to gain from the trade"],correctIndex:3,difficulty:"easy",explanation:"Both parties to a voluntary exchange expect to be better offotherwise, they would not agree to trade. This is demonstrated by their action."},{id:3,type:"multiple-choice",question:'What is the "double coincidence of wants" problem in barter?',options:["Each party must want exactly what the other has to offer","Both parties must want the exact same thing","Trades must happen at the same time","Both parties must agree on the price"],correctIndex:0,difficulty:"medium",explanation:"For barter to occur, each trader must want exactly what the other is offering. This coincidence is rare, limiting barter's usefulness."},{id:4,type:"multiple-choice",question:"According to Austrian economics, where do property rights originate?",options:["Government legislation","Self-ownership and homesteading","Social contract","Democratic vote"],correctIndex:1,difficulty:"medium",explanation:"Property rights derive from self-ownership (you own your body) and original appropriation (mixing labor with unowned resources)."},{id:5,type:"multiple-choice",question:"Why do people engage in exchange rather than producing everything themselves?",options:["It is required by law","Self-sufficiency is impossible","Division of labor increases total output through specialization","Exchange is always cheaper"],correctIndex:2,difficulty:"medium",explanation:"Specialization and division of labor allow people to focus on what they do best, increasing total productivity and enabling exchange."},{id:6,type:"multiple-choice",question:"What limits the extent of barter in an economy?",options:["Government regulations","People's unwillingness to trade","Lack of transportation","The double coincidence of wants and indivisibility of goods"],correctIndex:3,difficulty:"hard",explanation:"Barter is limited by the need for coinciding wants and the difficulty of dividing certain goods. These problems led to the emergence of money."}],SD=[{id:1,type:"multiple-choice",question:"What is indirect exchange?",options:["Using a commonly accepted medium (money) to facilitate trade","Trading goods through a government agency","Trading only with family members","Exchanging goods through barter"],correctIndex:0,difficulty:"easy",explanation:"Indirect exchange uses money as an intermediary. Instead of trading goods directly, you sell for money, then buy what you want."},{id:2,type:"multiple-choice",question:"According to Menger's theory, how did money emerge?",options:["Government decree","Spontaneously from market processes as the most saleable commodity","International agreement","Religious institutions created it"],correctIndex:1,difficulty:"medium",explanation:"Money emerged spontaneously as traders began using the most marketable (saleable) commodities as media of exchange."},{id:3,type:"multiple-choice",question:"What property makes a good suitable as money?",options:["It must be beautiful","It must be produced by government","It must be divisible, durable, portable, and widely accepted","It must be consumable"],correctIndex:2,difficulty:"easy",explanation:"Good money is divisible (can make change), durable (doesn't decay), portable (easy to carry), and widely accepted."},{id:4,type:"multiple-choice",question:"Why did gold and silver historically become money?",options:["Government mandated their use","They were the most useful for industrial purposes","They were the most abundant metals","They possessed ideal monetary properties and high marketability"],correctIndex:3,difficulty:"medium",explanation:"Gold and silver became money because they are durable, divisible, portable, scarce, and were already widely valued and traded."},{id:5,type:"multiple-choice",question:"What is the regression theorem?",options:["Money's purchasing power traces back to its original commodity value","Money always loses value over time","Governments always debase money","Money must be backed by gold"],correctIndex:0,difficulty:"hard",explanation:"The regression theorem explains that money's current value traces back historically to when the money commodity was valued for direct use."},{id:6,type:"multiple-choice",question:'How does money solve the "double coincidence of wants" problem?',options:["By forcing people to want the same things","By allowing any good to be exchanged for money, then money for desired goods","By eliminating the need for trade","By standardizing all prices"],correctIndex:1,difficulty:"easy",explanation:"With money, you don't need to find someone who wants your specific goods. You sell for money, then use money to buy anything."}],TD=[{id:1,type:"multiple-choice",question:"How are prices determined in a free market?",options:["By government decree","By the cost of production alone","By the interaction of supply and demand","By agreement among producers"],correctIndex:2,difficulty:"easy",explanation:"Market prices emerge from the interaction of buyers' demand schedules and sellers' supply schedules."},{id:2,type:"multiple-choice",question:"What is consumer sovereignty?",options:["Consumers control the government","Consumers vote on what should be produced","Consumers can buy whatever they want","Consumer preferences ultimately direct production decisions"],correctIndex:3,difficulty:"medium",explanation:"Consumer sovereignty means producers must satisfy consumer wants to earn profits. Consumer spending directs what gets produced."},{id:3,type:"multiple-choice",question:"What role do prices serve in the economy?",options:["They coordinate economic activity by conveying information about scarcity","They make goods more expensive","They benefit sellers at the expense of buyers","They are arbitrary numbers"],correctIndex:0,difficulty:"medium",explanation:"Prices communicate information about relative scarcity and value, allowing millions of people to coordinate their plans."},{id:4,type:"multiple-choice",question:"According to Rothbard, what causes a good's market price to rise?",options:["Producer greed","Increased demand or decreased supply","Government intervention only","Inflation only"],correctIndex:1,difficulty:"easy",explanation:"Prices rise when demand increases (more buyers at each price) or supply decreases (fewer units available)."},{id:5,type:"multiple-choice",question:"What is the law of demand?",options:["Higher prices lead to higher demand","Lower prices lead to lower demand","As price rises, quantity demanded falls, ceteris paribus","Demand is unrelated to price"],correctIndex:2,difficulty:"easy",explanation:"The law of demand states that, all else equal, as the price of a good rises, the quantity demanded decreases."},{id:6,type:"multiple-choice",question:"Why can't central planners replicate market price formation?",options:["They lack computers","Markets are illegal under central planning","They are not smart enough","They lack the dispersed knowledge that only market prices can aggregate"],correctIndex:3,difficulty:"hard",explanation:"Market prices aggregate knowledge dispersed among millions of individuals. No central authority can possess this information."}],ED=[{id:1,type:"multiple-choice",question:"What is the structure of production according to Austrian economics?",options:["A series of stages from higher-order goods to consumer goods","A single stage from raw materials to consumer goods","Random production processes","Government-planned production sequences"],correctIndex:0,difficulty:"medium",explanation:"Production moves through stages: from raw materials (higher-order goods) through intermediate stages to final consumer goods."},{id:2,type:"multiple-choice",question:'What are "higher-order goods"?',options:["Luxury consumer items","Goods used to produce other goods","Goods with higher prices","Government-produced goods"],correctIndex:1,difficulty:"easy",explanation:"Higher-order goods (capital goods, raw materials) are used in earlier production stages to eventually create consumer goods."},{id:3,type:"multiple-choice",question:"What is capital in the Austrian view?",options:["Money in the bank","Stock market investments","Previously produced goods used to produce future goods","Government bonds"],correctIndex:2,difficulty:"medium",explanation:"Capital consists of produced means of productiontools, machines, factoriesthat aid in producing consumer goods."},{id:4,type:"multiple-choice",question:"Why is production time-consuming?",options:["Workers are slow","There is no reasonproduction can be instantaneous","Government regulations slow it down","Production requires going through multiple stages of transformation"],correctIndex:3,difficulty:"easy",explanation:"Production takes time because goods must pass through various stages of transformation before becoming consumer goods."},{id:5,type:"multiple-choice",question:"What determines the value of producer goods (factors of production)?",options:["The value of the consumer goods they help produce","Government assessment","Their cost of production","Their weight and size"],correctIndex:0,difficulty:"medium",explanation:"Producer goods derive their value from the consumer goods they help create. Value flows backward from consumption."},{id:6,type:"multiple-choice",question:"According to Rothbard, what happens when capital is consumed rather than maintained?",options:["Nothing significant","Future production capacity decreases","Prices immediately fall","Workers become unemployed instantly"],correctIndex:1,difficulty:"hard",explanation:"Consuming capital (not replacing worn-out equipment) reduces future productive capacity, lowering future living standards."}],wD=[{id:1,type:"multiple-choice",question:"What is time preference?",options:["Preference for working certain hours","Preference for saving over spending","The tendency to value present goods over future goods","The optimal timing for production"],correctIndex:2,difficulty:"easy",explanation:"Time preference is the preference for present satisfaction over future satisfaction. People generally prefer goods now to the same goods later."},{id:2,type:"multiple-choice",question:"According to Austrian economics, what determines the interest rate?",options:["The central bank","International agreements","The rate of inflation","The social rate of time preference"],correctIndex:3,difficulty:"medium",explanation:"The natural interest rate reflects society's time preferencehow much more people value present goods versus future goods."},{id:3,type:"multiple-choice",question:"Why does saving lead to economic growth?",options:["It provides funds for capital investment, increasing future production","It increases money in circulation","It reduces consumption, leaving more goods available","It forces businesses to lower prices"],correctIndex:0,difficulty:"medium",explanation:"Saving means forgoing present consumption, freeing resources for investment in capital goods that increase future output."},{id:4,type:"multiple-choice",question:"What is the originary interest rate?",options:["The rate charged by the first bank","The pure time preference component of interest","The interest rate on government bonds","The inflation-adjusted interest rate"],correctIndex:1,difficulty:"hard",explanation:"Originary interest is the pure time preference component of interestthe premium present goods command over future goods."},{id:5,type:"multiple-choice",question:"What happens when time preference decreases in society?",options:["Interest rates rise","More resources are devoted to present consumption","Savings increase and more capital is accumulated","Economic growth slows"],correctIndex:2,difficulty:"medium",explanation:"Lower time preference means people are more willing to delay gratification, leading to more saving and capital accumulation."},{id:6,type:"multiple-choice",question:"Why is interest not exploitation according to Rothbard?",options:["Because governments regulate it","Because only rich people earn interest","Because interest rates are always low","Because it reflects the genuine time preferences of savers and borrowers"],correctIndex:3,difficulty:"hard",explanation:"Interest compensates savers for forgoing present consumption. It reflects mutual benefit: borrowers get funds now, savers are rewarded for waiting."}],AD=[{id:1,type:"multiple-choice",question:"What determines the price of a factor of production?",options:["Its discounted marginal revenue product","Its cost of production","Government regulation","Historical tradition"],correctIndex:0,difficulty:"medium",explanation:"Factors are paid according to their marginal contribution to revenue, discounted by the interest rate to account for time."},{id:2,type:"multiple-choice",question:"What is the marginal revenue product (MRP) of a factor?",options:["The total revenue from selling all output","The additional revenue from employing one more unit of the factor","The cost of producing one more unit","The profit per unit of output"],correctIndex:1,difficulty:"medium",explanation:"MRP is the additional revenue generated by employing one more unit of a factor, holding other inputs constant."},{id:3,type:"multiple-choice",question:"Why does the law of diminishing returns apply to factor employment?",options:["Workers get tired over time","Prices always rise","Adding more of one factor while holding others fixed yields smaller increments","Technology becomes obsolete"],correctIndex:2,difficulty:"medium",explanation:"With other factors fixed, adding more of one factor eventually yields diminishing marginal returns as the factor ratio becomes less optimal."},{id:4,type:"multiple-choice",question:"According to Rothbard, what happens when factor prices are set above market levels?",options:["Employment increases","Nothing changes","Quality improves","Unemployment or surplus of that factor results"],correctIndex:3,difficulty:"easy",explanation:"If factor prices exceed MRP, employers will hire less of that factor, creating unemployment or surplus."},{id:5,type:"multiple-choice",question:"What is the imputation problem in economics?",options:["How to attribute value to individual factors when they work jointly","How to accuse people of economic crimes","How to calculate taxes","How to measure GDP"],correctIndex:0,difficulty:"hard",explanation:"The imputation problem asks how to determine each factor's individual contribution when factors produce jointly."},{id:6,type:"multiple-choice",question:"Why do factor prices tend toward their marginal revenue product?",options:["Government mandates it","Competition among employers bids prices up to MRP","Workers demand it","It is a mathematical identity"],correctIndex:1,difficulty:"medium",explanation:"Competition among employers for factors drives prices up toward MRP; if prices exceeded MRP, losses would occur."}],xD=[{id:1,type:"multiple-choice",question:"What is the primary function of the entrepreneur?",options:["To follow orders from managers","To invent new products","To bear uncertainty and coordinate production based on forecasts","To lobby government for subsidies"],correctIndex:2,difficulty:"medium",explanation:"Entrepreneurs bear uncertainty by forecasting future consumer demands and coordinating production accordingly."},{id:2,type:"multiple-choice",question:"What is the difference between risk and uncertainty?",options:["Risk is bigger than uncertainty","Uncertainty is always negative; risk can be positive","There is no difference","Risk is calculable; uncertainty cannot be reduced to probabilities"],correctIndex:3,difficulty:"hard",explanation:"Risk can be insured against using probability calculations; true uncertainty (as in entrepreneurship) cannot be quantified."},{id:3,type:"multiple-choice",question:"Where do profits come from according to Austrian economics?",options:["Successful forecasting and serving consumers better than competitors","Exploitation of workers","Monopoly power","Government contracts"],correctIndex:0,difficulty:"easy",explanation:"Profits reward entrepreneurs who correctly anticipate consumer wants and serve them more efficiently than competitors."},{id:4,type:"multiple-choice",question:"What causes entrepreneurial losses?",options:["Bad luck only","Failure to correctly forecast consumer demands","Government interference only","Worker strikes"],correctIndex:1,difficulty:"easy",explanation:"Losses occur when entrepreneurs misjudge consumer wants or production costs, resulting in unsold goods or excess costs."},{id:5,type:"multiple-choice",question:"According to Rothbard, what would happen to profits in a perfectly static economy?",options:["Profits would be maximized","Profits would remain constant","Profits would be eliminated as all opportunities are exploited","Profits would depend on government policy"],correctIndex:2,difficulty:"hard",explanation:"In a hypothetical evenly rotating economy with no change, all profit opportunities would be arbitraged away."},{id:6,type:"multiple-choice",question:"How does entrepreneurial activity benefit consumers?",options:["By keeping prices artificially low","By increasing government revenue","By reducing production","By directing resources toward goods consumers want most"],correctIndex:3,difficulty:"medium",explanation:"Entrepreneurs compete to satisfy consumer wants, directing resources toward more valued uses and away from less valued ones."}],ND=[{id:1,type:"multiple-choice",question:"What determines wage rates in a free market?",options:["The discounted marginal revenue product of labor","Union bargaining power","Government minimum wage laws","Historical custom"],correctIndex:0,difficulty:"medium",explanation:"Wages are determined by labor's marginal contribution to revenue, discounted by the interest rate."},{id:2,type:"multiple-choice",question:"What is economic rent in the context of factor prices?",options:["Monthly payment for an apartment","Payment to a factor above its opportunity cost","Government tax on property","Interest on capital"],correctIndex:1,difficulty:"hard",explanation:"Economic rent is the surplus payment to a factor above what is needed to keep it in its current use."},{id:3,type:"multiple-choice",question:"Why do skilled workers earn more than unskilled workers?",options:["Discrimination against unskilled workers","Union power for skilled trades","Their higher marginal productivity makes them more valuable to employers","Government subsidies for skilled work"],correctIndex:2,difficulty:"easy",explanation:"Higher skills mean higher marginal productivity, which translates to higher wages through employer competition."},{id:4,type:"multiple-choice",question:"According to Rothbard, what is the effect of minimum wage laws?",options:["They help all workers","They increase productivity","They have no economic effect","They cause unemployment among workers whose MRP is below the minimum"],correctIndex:3,difficulty:"medium",explanation:"Minimum wages price out workers whose productivity is below the mandated wage, causing unemployment."},{id:5,type:"multiple-choice",question:"What is the relationship between land rent and land prices?",options:["Land prices are the capitalized value of expected future rents","Land prices are unrelated to rent","Land prices determine rent","Both are set by government"],correctIndex:0,difficulty:"medium",explanation:"The price of land equals the present value of expected future rental income, discounted at the interest rate."},{id:6,type:"multiple-choice",question:"Why do factor prices tend to equalize across industries?",options:["Government regulations","Factors move toward higher-paying uses until returns equalize","Workers prefer equality","Union negotiations"],correctIndex:1,difficulty:"medium",explanation:"Mobile factors flow from lower-paying to higher-paying uses, equalizing returns across uses (adjusted for non-monetary differences)."}],CD=[{id:1,type:"multiple-choice",question:"According to Rothbard, what is the definition of a monopoly?",options:["Any large company","The most efficient producer in an industry","A sole seller protected from competition by government grant","Any company with significant market share"],correctIndex:2,difficulty:"medium",explanation:"Rothbard defines monopoly as a grant of exclusive privilege by government, not simply being a sole seller."},{id:2,type:"multiple-choice",question:"What is the difference between monopoly price and competitive price?",options:["Monopoly price is always higher","Monopoly price benefits consumers","Competitive price is set by government",'On a free market, there is no valid distinctionall prices are "competitive"'],correctIndex:3,difficulty:"hard",explanation:"Rothbard argues the monopoly/competitive price distinction is meaningless on the free market; all prices reflect supply and demand."},{id:3,type:"multiple-choice",question:"Can a company become a harmful monopoly through market success alone?",options:["No, only government barriers can create harmful monopoly positions","Yes, size alone creates monopoly power","Yes, if it has more than 50% market share","No, because all monopolies are beneficial"],correctIndex:0,difficulty:"medium",explanation:"On a free market, even a sole producer cannot exploit consumers because potential competition constrains behavior."},{id:4,type:"multiple-choice",question:"What does Rothbard say about antitrust laws?",options:["They protect consumers from monopoly","They often punish efficient firms and protect less efficient competitors","They are essential for free markets","They should be strengthened"],correctIndex:1,difficulty:"medium",explanation:"Rothbard argues antitrust laws actually harm competition by punishing success and protecting less efficient firms."},{id:5,type:"multiple-choice",question:"Why doesn't monopoly theory apply to unique goods?",options:["It does apply to unique goods","Unique goods are not traded on markets",'Every producer of a differentiated product is technically a "sole seller"',"Government exempts unique goods"],correctIndex:2,difficulty:"hard",explanation:'Every product is somewhat unique; if "monopoly" meant sole seller of a specific item, everyone would be a monopolist.'},{id:6,type:"multiple-choice",question:"What type of monopoly does Rothbard consider harmful?",options:["Any monopoly is harmful","Monopolies that earn profits","Monopolies with high market share","Only government-granted exclusive privileges that bar competition"],correctIndex:3,difficulty:"easy",explanation:"Only monopolies created by government barriers to entry are harmful; market-created positions face potential competition."}],OD=[{id:1,type:"multiple-choice",question:"What determines the purchasing power of money?",options:["The supply of and demand for money","Government decree","The gold standard alone","International agreements"],correctIndex:0,difficulty:"easy",explanation:"Like any good, money's value (purchasing power) is determined by the interaction of supply and demand."},{id:2,type:"multiple-choice",question:"What is inflation according to the Austrian definition?",options:["Rising prices","An increase in the money supply","Economic growth","Rising wages"],correctIndex:1,difficulty:"medium",explanation:"Austrians define inflation as the increase in money supply, which typically leads to rising prices as a consequence."},{id:3,type:"multiple-choice",question:"Why does increasing the money supply not make society wealthier?",options:["Because the government takes it all","Because banks charge interest","Because money is only a medium of exchange, not real wealth","Because people don't spend it"],correctIndex:2,difficulty:"medium",explanation:"Money is a medium of exchange. More money just changes prices; it doesn't create more goods and services."},{id:4,type:"multiple-choice",question:"What is the Cantillon effect?",options:["Money always flows to the rich","Money loses value over time","Inflation affects all prices equally","New money benefits those who receive it first at the expense of later recipients"],correctIndex:3,difficulty:"hard",explanation:"Those who receive new money first can spend it before prices rise, benefiting at the expense of those who receive it later."},{id:5,type:"multiple-choice",question:"According to Austrian Business Cycle Theory, what causes boom-bust cycles?",options:["Credit expansion by banks that pushes interest rates below natural levels","Animal spirits of entrepreneurs","Overproduction of goods","Underconsumption by workers"],correctIndex:0,difficulty:"hard",explanation:"Credit expansion artificially lowers interest rates, encouraging malinvestments that must eventually be liquidated."},{id:6,type:"multiple-choice",question:"What is fractional reserve banking?",options:["Banks that only lend fractions of money","Banks that keep only a fraction of deposits on hand while lending the rest","Banks that charge fractional interest","Government-owned banks"],correctIndex:1,difficulty:"easy",explanation:"Fractional reserve banking means banks lend out most deposits, keeping only a fraction in reserve for withdrawals."}],kD=[{id:1,type:"multiple-choice",question:"What is intervention in the Rothbardian sense?",options:["Any government action","Helpful government programs","The use of coercion to alter voluntary exchanges or restrict individual action","International diplomacy"],correctIndex:2,difficulty:"easy",explanation:"Intervention is the use of force or threat of force to interfere with voluntary exchanges or individual freedom."},{id:2,type:"multiple-choice",question:"What are the three types of intervention according to Rothbard?",options:["Federal, state, and local","Direct, indirect, and regulatory","Economic, political, and social","Autistic, binary, and triangular"],correctIndex:3,difficulty:"medium",explanation:"Rothbard classifies intervention as autistic (restricting individual alone), binary (government-individual exchange), or triangular (regulating exchanges)."},{id:3,type:"multiple-choice",question:"Why does all intervention reduce social utility?",options:["Because at least one party is forced to act against their demonstrated preference","Because government is inefficient","Because politicians are corrupt","Because taxes fund it"],correctIndex:0,difficulty:"medium",explanation:"Intervention overrides voluntary choices. The coerced party would not have chosen that action, demonstrating utility loss."},{id:4,type:"multiple-choice",question:"What is an example of autistic intervention?",options:["Taxation","Drug prohibition","Price controls","Tariffs"],correctIndex:1,difficulty:"easy",explanation:"Autistic intervention restricts an individual's use of their own person or property, like drug laws or censorship."},{id:5,type:"multiple-choice",question:"What is an example of triangular intervention?",options:["Income tax","Military conscription","Minimum wage laws","Drug prohibition"],correctIndex:2,difficulty:"medium",explanation:"Triangular intervention regulates exchanges between private parties, like price controls or licensing requirements."},{id:6,type:"multiple-choice",question:"According to Rothbard, can any intervention be justified on utilitarian grounds?",options:["Yes, if benefits exceed costs","Only during emergencies","Yes, if approved democratically","No, because interpersonal utility comparisons are impossible"],correctIndex:3,difficulty:"hard",explanation:"Since we cannot compare utilities across individuals, we cannot demonstrate that intervention produces net benefits."}],ID=[{id:1,type:"multiple-choice",question:"According to Rothbard, can defense services be provided by the free market?",options:["Yes, defense is an economic service like any other","No, only government can provide defense","Only partiallymilitary must be government","Only during peacetime"],correctIndex:0,difficulty:"easy",explanation:"Rothbard argues defense is an economic service that could be provided by competing private agencies."},{id:2,type:"multiple-choice",question:"How does Rothbard define the State?",options:["Any organization that provides public goods","The organization claiming a territorial monopoly on the use of force","An elected government","The collection of public employees"],correctIndex:1,difficulty:"medium",explanation:"The State is defined by its claim to exclusive use of force over a territory and its power to tax without consent."},{id:3,type:"multiple-choice",question:"What is anarcho-capitalism?",options:["Chaos and disorder","Capitalism controlled by anarchist groups","A society with private property and free markets but no State","A mixed economy"],correctIndex:2,difficulty:"medium",explanation:"Anarcho-capitalism envisions a society based on voluntary exchange and private property, with all servicesincluding defenseprovided privately."},{id:4,type:"multiple-choice",question:"According to Rothbard, why would private defense agencies cooperate rather than fight?",options:["Government would force them to","There would be no weapons","Customers would not allow fighting","War is expensive; arbitration is cheaper"],correctIndex:3,difficulty:"medium",explanation:"Conflict destroys value. Defense agencies would find arbitration more profitable than warfare."},{id:5,type:"multiple-choice",question:"What historical examples does Rothbard cite for private law?",options:["Medieval Iceland, the American West, and merchant law","Ancient Rome and Greece","Modern corporations","The United Nations"],correctIndex:0,difficulty:"hard",explanation:"Rothbard points to medieval Iceland, frontier America, and lex mercatoria as examples of order without state monopoly."},{id:6,type:"multiple-choice",question:"On what foundation does Rothbard base property rights?",options:["Social contract","Self-ownership and original appropriation (homesteading)","Government grants","Majority vote"],correctIndex:1,difficulty:"easy",explanation:"Property rights derive from self-ownership (owning your body) and homesteading (mixing labor with unowned resources)."}],RD=[{id:1,type:"multiple-choice",question:"What is autistic intervention?",options:["Intervention affecting international trade","Intervention in the banking system","Government restriction on an individual's use of their own person or property","Voluntary self-restriction"],correctIndex:2,difficulty:"medium",explanation:"Autistic intervention restricts what individuals can do with their own bodies or property, with no exchange involved."},{id:2,type:"multiple-choice",question:"What is binary intervention?",options:["Intervention affecting two countries","Computer-based regulation","Regulation of two industries","Coerced exchange between government and individual (taxation, subsidies)"],correctIndex:3,difficulty:"medium",explanation:"Binary intervention involves a forced exchange between the State and the individual, such as taxation or conscription."},{id:3,type:"multiple-choice",question:'Why does intervention "beget more intervention" according to Rothbard?',options:["Each intervention creates problems that seem to require further intervention","Bureaucrats want more power","The public demands it","It is required by law"],correctIndex:0,difficulty:"medium",explanation:"Intervention creates unintended consequences that are used to justify additional interventions, creating an expansionary dynamic."},{id:4,type:"multiple-choice",question:'Who are the "unseen victims" of intervention?',options:["Those who receive subsidies","Those who pay higher prices, lose opportunities, or never get to produce","Government officials","Foreign countries"],correctIndex:1,difficulty:"easy",explanation:"The unseen victims include consumers paying higher prices, workers losing jobs, and entrepreneurs whose businesses never exist."},{id:5,type:"multiple-choice",question:'What is the "knowledge problem" created by intervention?',options:["Officials don't have degrees","People become less educated","Intervention destroys the price signals that convey dispersed knowledge","Information is classified"],correctIndex:2,difficulty:"hard",explanation:"Prices convey information that no central authority can possess. Intervention disrupts this signaling mechanism."},{id:6,type:"multiple-choice",question:'According to Rothbard, is the "mixed economy" stable?',options:["Yes, it balances freedom and control","Only in democracies","It depends on the specific policies","No, it tends toward either full socialism or the free market"],correctIndex:3,difficulty:"medium",explanation:"The mixed economy is inherently unstableit tends either toward more intervention (socialism) or toward liberalization."}],DD=[{id:1,type:"multiple-choice",question:"What is a price ceiling?",options:["A maximum price set by government below market equilibrium","A minimum price set by government","The highest price anyone is willing to pay","An average market price"],correctIndex:0,difficulty:"easy",explanation:"A price ceiling is a legally mandated maximum price, typically set below the market equilibrium price."},{id:2,type:"multiple-choice",question:"What is the result of a price ceiling below market equilibrium?",options:["Surplus","Shortage","No effect","Increased production"],correctIndex:1,difficulty:"easy",explanation:"Price ceilings cause shortages because quantity demanded exceeds quantity supplied at the artificially low price."},{id:3,type:"multiple-choice",question:"What is the result of a price floor above market equilibrium?",options:["Shortage","No effect","Surplus","Price reduction"],correctIndex:2,difficulty:"easy",explanation:"Price floors cause surpluses because quantity supplied exceeds quantity demanded at the artificially high price."},{id:4,type:"multiple-choice",question:"What is a grant of monopolistic privilege?",options:["Earning monopoly profits through efficiency","Having a patent on an innovation","Being the only seller in a market","Government-enforced barriers that exclude competitors"],correctIndex:3,difficulty:"medium",explanation:"Monopolistic privilege refers to legal barriers (licensing, franchises, etc.) that prevent competition."},{id:5,type:"multiple-choice",question:"According to Rothbard, what creates true monopoly?",options:["Government enforcement excluding competitors","Superior efficiency","Large company size","Consumer preference"],correctIndex:0,difficulty:"medium",explanation:"True monopoly requires government enforcement. On a free market, monopoly positions are always subject to competition."},{id:6,type:"multiple-choice",question:"Why do harmful policies persist despite their effects?",options:["Because voters are irrational","Because beneficiaries are concentrated and organized while victims are dispersed","Because economists don't understand them","Because they are actually beneficial"],correctIndex:1,difficulty:"hard",explanation:"Concentrated benefits and dispersed costs create political asymmetrybeneficiaries lobby hard while victims barely notice."}],MD=[{id:1,type:"multiple-choice",question:"How does taxation differ from voluntary payment according to Rothbard?",options:["Taxation is for public goods only","There is no meaningful difference","Taxation is coerced while voluntary payment involves mutual benefit","Taxation is always lower"],correctIndex:2,difficulty:"easy",explanation:"Voluntary payments involve expected mutual benefit; taxation is coercedif it weren't, government could simply charge fees."},{id:2,type:"multiple-choice",question:"What is tax incidence?",options:["How often taxes are collected","When taxes are due","The tax rate","Who ultimately bears the economic burden of a tax"],correctIndex:3,difficulty:"medium",explanation:"Tax incidence refers to who actually bears the burden, which may differ from who legally pays the tax."},{id:3,type:"multiple-choice",question:"Who typically bears the burden of employer payroll taxes?",options:["Primarily workers through reduced wages","Only employers","Only consumers","The government"],correctIndex:0,difficulty:"medium",explanation:"Though nominally paid by employers, payroll taxes ultimately reduce what employers can pay workers."},{id:4,type:"multiple-choice",question:"What is Rothbard's critique of progressive taxation?",options:["It raises too much revenue","It penalizes success and destroys capital formation","It is too complicated","It benefits the middle class too much"],correctIndex:1,difficulty:"medium",explanation:"Progressive taxation punishes those who serve consumers most effectively and destroys capital that could fund investment."},{id:5,type:"multiple-choice",question:'What does Rothbard argue about "ability to pay" justifications for progressive taxes?',options:["They are scientifically valid","They should be used for all taxes","They ignore that wealth is produced, not found","They benefit the poor"],correctIndex:2,difficulty:"hard",explanation:'The "ability to pay" argument ignores that wealth is produced by serving others, not simply possessed.'},{id:6,type:"multiple-choice",question:'According to Rothbard, is there such a thing as a "neutral" tax?',options:["Yes, sales taxes are neutral","Yes, flat taxes are neutral","Only lump-sum taxes are neutral","No, all taxes distort the market"],correctIndex:3,difficulty:"hard",explanation:"All taxes alter behavior and resource allocation; there is no tax that leaves the market undistorted."}],zD=[{id:1,type:"multiple-choice",question:"Why does government spending lack market discipline?",options:["Spenders don't bear the costs and recipients don't choose the goods","Government workers are lazy","There is not enough money","Bureaucracy is inherently slow"],correctIndex:0,difficulty:"medium",explanation:"Government spenders use others' money for othersthe category with the weakest incentive to economize."},{id:2,type:"multiple-choice",question:"What are transfer payments?",options:["Payments for government services","Payments taken from some and given to others without production","International wire transfers","Tax refunds"],correctIndex:1,difficulty:"easy",explanation:"Transfer payments redistribute wealththey don't pay for production, just move resources from one group to another."},{id:3,type:"multiple-choice",question:'Why are "free" government services not really free?',options:["Because there are application fees","Because they require waiting in line","Because they are paid for through taxation","Because quality is lower"],correctIndex:2,difficulty:"easy",explanation:"Services funded by taxes are not freethe cost is merely hidden and shifted to taxpayers."},{id:4,type:"multiple-choice",question:"What is crowding out?",options:["Too many people using government services","Public spaces becoming overcrowded","Regulations that prevent business entry","Government borrowing that reduces private investment"],correctIndex:3,difficulty:"medium",explanation:"When government borrows, it competes with private borrowers, raising interest rates and reducing private investment."},{id:5,type:"multiple-choice",question:'What is the "ratchet effect" in government spending?',options:["Spending rises during crises but never fully returns to pre-crisis levels","Spending increases smoothly over time","Spending follows a mechanical formula","Spending is controlled by a ratchet mechanism"],correctIndex:0,difficulty:"hard",explanation:"Crises justify increased spending, but when crises end, spending doesn't return to previous levelsit ratchets up."},{id:6,type:"multiple-choice",question:"According to Rothbard, what do both the welfare state and warfare state have in common?",options:["They both help the poor","They both consume resources that would otherwise serve consumers","They are both constitutional","They are both popular"],correctIndex:1,difficulty:"medium",explanation:"Both welfare and warfare states divert resources from productive uses determined by consumers to political uses."}],UD=[{id:1,type:"multiple-choice",question:"What can praxeology do regarding ethical arguments for intervention?",options:["Prove them right or wrong morally","Nothingeconomics is purely descriptive","Expose internal contradictions and show if means achieve stated ends","Vote on which ethics are correct"],correctIndex:2,difficulty:"medium",explanation:"Praxeology can critique ethics by showing logical contradictions and whether proposed means actually achieve stated goals."},{id:2,type:"multiple-choice",question:"What is Rothbard's critique of egalitarianism?",options:["Inequality is morally good","Equality is impossible to define","Some people deserve more","Equality of outcomes requires unequal treatment and destroys incentives"],correctIndex:3,difficulty:"medium",explanation:"Enforcing equality of outcomes requires treating people unequally and removes the incentive to produce."},{id:3,type:"multiple-choice",question:"Why can't cost-benefit analysis justify intervention?",options:["Interpersonal utility comparisons are impossible","Benefits are too hard to calculate","Government analysts are biased","All costs and benefits are equal"],correctIndex:0,difficulty:"hard",explanation:"We cannot compare one person's utility loss to another's gainutility is subjective and cannot be measured or compared."},{id:4,type:"multiple-choice",question:'What is wrong with "public interest" justifications for intervention?',options:["The public doesn't vote on it",`Only individuals have interests; "society" doesn't choose`,"Politicians ignore the public interest","The public interest is always clear"],correctIndex:1,difficulty:"medium",explanation:`Only individuals act and have preferences. "Public interest" is a rhetorical device masking that some gain at others' expense.`},{id:5,type:"multiple-choice",question:"According to Rothbard, does democratic approval make intervention legitimate?",options:["Yes, democracy reflects the will of the people","Only if the vote is unanimous","No, rights are not subject to vote","Only in constitutional democracies"],correctIndex:2,difficulty:"medium",explanation:"Rights cannot be voted away. Majority approval doesn't make an action rightit just means more people supported it."},{id:6,type:"multiple-choice",question:"What ethical framework does Rothbard advocate instead of utilitarianism?",options:["Majority rule","Virtue ethics","Social contract theory","Natural rights based on self-ownership"],correctIndex:3,difficulty:"easy",explanation:"Rothbard advocates natural rights derived from self-ownership, which provide clear, consistent rules without utility calculations."}],LD=[{id:1,type:"multiple-choice",question:"According to Rothbard, what is the proper role of economic science in policy?",options:["To show if proposed means achieve stated ends, without judging those ends","To prescribe what goals society should pursue","To run the economy scientifically","To advise politicians on legislation"],correctIndex:0,difficulty:"medium",explanation:"Economics is value-freeit can show consequences of policies but cannot say what ends are worth pursuing."},{id:2,type:"multiple-choice",question:"What is consumer sovereignty?",options:["Consumers control the government","Consumer preferences ultimately direct production through the market","Consumers are always right","Consumers vote on products"],correctIndex:1,difficulty:"easy",explanation:"Consumer sovereignty means producers must satisfy consumers to earn profitsspending directs production."},{id:3,type:"multiple-choice",question:"According to Rothbard, what does a free society require for law and order?",options:["A strong central government","No rules at all","Voluntary provision of defense and courts by competing private agencies","An elected police force"],correctIndex:2,difficulty:"medium",explanation:"Rothbard envisions law and defense provided by competing private agencies, like any other service."},{id:4,type:"multiple-choice",question:"What monetary system does Rothbard advocate?",options:["Central bank-managed fiat currency","International currency union","Cryptocurrency","Market-chosen commodity money like gold"],correctIndex:3,difficulty:"easy",explanation:"Rothbard advocates market-chosen commodity money (historically gold) to prevent inflation and business cycles."},{id:5,type:"multiple-choice",question:"According to Rothbard, how can a free society be achieved?",options:["Spreading sound economic ideas that change intellectual opinion","Revolution","Voting for libertarian candidates","Ignoring the government"],correctIndex:0,difficulty:"medium",explanation:"Government rests on ideological acceptance. Changing minds through education can undermine that acceptance."},{id:6,type:"multiple-choice",question:"What is the core message of Man, Economy, and State with Power and Market?",options:["Government intervention is sometimes necessary","The free market coordinates human action efficiently; intervention always fails","Economics is too complex for conclusions","Mixed economies are optimal"],correctIndex:1,difficulty:"easy",explanation:"Rothbard's treatise argues that markets coordinate efficiently through prices while all intervention distorts and fails."}],jD={0:_D,1:bD,2:SD,3:TD,4:ED,5:wD,6:AD,7:xD,8:ND,9:CD,10:OD,11:kD,12:ID,13:RD,14:DD,15:MD,16:zD,17:UD,18:LD};function PD(e){return jD[e]??null}function BD(){const{id:e}=_v(),t=parseInt(e||"0",10),n=PD(t),i=dD(t),r=hD(t),s=Oa(),a=Zt.gamification?s:null;return V.useEffect(()=>{a&&a.visitSection(t)},[t,a]),!n||n.length===0?g.jsxs("div",{className:"min-h-screen relative",children:[g.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),g.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),g.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),g.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),g.jsxs(Ln,{to:`/section/${t}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):g.jsxs("div",{className:"min-h-screen relative",children:[g.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),g.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:g.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[g.jsxs(Ln,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),g.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),g.jsxs(Ln,{to:`/section/${t}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",t]}),g.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),g.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),g.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[g.jsxs("header",{className:"mb-10",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[g.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[g.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),r&&g.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",r.id,": ",r.title]})]}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:g.jsx("span",{className:"text-gradient",children:i==null?void 0:i.title})}),g.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",n.length," question",n.length!==1?"s":"","."]}),g.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[g.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),g.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),g.jsx(vD,{sectionId:t,questions:n}),g.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:g.jsxs(Ln,{to:`/section/${t}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",t]})})]})]})}const HD=V.lazy(()=>Le(()=>import("./Leaderboard-CuEYtLME.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),qD=V.lazy(()=>Le(()=>import("./Theorems-V9KvoPEV.js"),__vite__mapDeps([5,1,2,6,3,4]),import.meta.url)),VD=V.lazy(()=>Le(()=>import("./InteractiveModules-DuVI_KIe.js"),__vite__mapDeps([7,1,2,6,3,4]),import.meta.url)),GD=Object.assign({"./pages/sections/Section00.tsx":()=>Le(()=>import("./Section00-kxyyGmHK.js"),__vite__mapDeps([8,1,2,9,3,4]),import.meta.url),"./pages/sections/Section01.tsx":()=>Le(()=>import("./Section01-BTg2x-eC.js"),__vite__mapDeps([10,1,2,9,3,4]),import.meta.url),"./pages/sections/Section02.tsx":()=>Le(()=>import("./Section02-Bs8uaTC7.js"),__vite__mapDeps([11,1,2,9,3,4]),import.meta.url),"./pages/sections/Section03.tsx":()=>Le(()=>import("./Section03-BU3nvCy6.js"),__vite__mapDeps([12,1,2,9,3,4]),import.meta.url),"./pages/sections/Section04.tsx":()=>Le(()=>import("./Section04-CE02YkEd.js"),__vite__mapDeps([13,1,2,9,3,4]),import.meta.url),"./pages/sections/Section05.tsx":()=>Le(()=>import("./Section05-DpgW4y37.js"),__vite__mapDeps([14,1,2,9,3,4]),import.meta.url),"./pages/sections/Section06.tsx":()=>Le(()=>import("./Section06-CYP8p8WZ.js"),__vite__mapDeps([15,1,2,9,3,4]),import.meta.url),"./pages/sections/Section07.tsx":()=>Le(()=>import("./Section07-tYP1fRuR.js"),__vite__mapDeps([16,1,2,9,3,4]),import.meta.url),"./pages/sections/Section08.tsx":()=>Le(()=>import("./Section08-DfJ8mFNq.js"),__vite__mapDeps([17,1,2,9,3,4]),import.meta.url),"./pages/sections/Section09.tsx":()=>Le(()=>import("./Section09-D5NX6qmn.js"),__vite__mapDeps([18,1,2,9,3,4]),import.meta.url),"./pages/sections/Section10.tsx":()=>Le(()=>import("./Section10-COv8aB_3.js"),__vite__mapDeps([19,1,2,9,3,4]),import.meta.url),"./pages/sections/Section11.tsx":()=>Le(()=>import("./Section11-D8M2pxYp.js"),__vite__mapDeps([20,1,2,9,3,4]),import.meta.url),"./pages/sections/Section12.tsx":()=>Le(()=>import("./Section12-Bkn0Mprf.js"),__vite__mapDeps([21,1,2,9,3,4]),import.meta.url),"./pages/sections/Section13.tsx":()=>Le(()=>import("./Section13-Bv2PXZFY.js"),__vite__mapDeps([22,1,2,9,3,4]),import.meta.url),"./pages/sections/Section14.tsx":()=>Le(()=>import("./Section14-ByJSuub_.js"),__vite__mapDeps([23,1,2,9,3,4]),import.meta.url),"./pages/sections/Section15.tsx":()=>Le(()=>import("./Section15-DWN-A_tT.js"),__vite__mapDeps([24,1,2,9,3,4]),import.meta.url),"./pages/sections/Section16.tsx":()=>Le(()=>import("./Section16-BCC1memu.js"),__vite__mapDeps([25,1,2,9,3,4]),import.meta.url),"./pages/sections/Section17.tsx":()=>Le(()=>import("./Section17-CD8Ns5ZL.js"),__vite__mapDeps([26,1,2,9,3,4]),import.meta.url),"./pages/sections/Section18.tsx":()=>Le(()=>import("./Section18-CqVEfzeC.js"),__vite__mapDeps([27,1,2,9,3,4]),import.meta.url)}),ZD=yD(GD),_S={};for(const[e,t]of Object.entries(ZD))_S[Number(e)]=V.lazy(t);const $D={id:Qo,name:ub,icon:fb,hubUrl:gw,features:Zt,curriculum:gs.map(e=>({id:e.id,title:e.title,sections:e.sections.map(t=>({id:t.id,title:t.title}))}))};function XD({children:e}){const[t,n]=V.useState(!1);return g.jsxs("div",{className:"min-h-screen bg-dark-950",children:[g.jsx(uD,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),g.jsx(fD,{isOpen:t,onClose:()=>n(!1)}),g.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function FD(){const{id:e}=_v(),t=parseInt(e||"0",10),n=_S[t];return n?g.jsx(V.Suspense,{fallback:g.jsx(Rc,{message:"Loading section..."}),children:g.jsx(n,{})}):g.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),g.jsxs("p",{className:"text-dark-400",children:["Section ",t," is not yet implemented."]})]})})}function uc(){return g.jsxs(g.Fragment,{children:[g.jsx(XD,{children:g.jsxs(US,{children:[g.jsx(Lr,{path:"/",element:g.jsx(vv,{})}),Zt.leaderboard&&g.jsx(Lr,{path:"/leaderboard",element:g.jsx(V.Suspense,{fallback:g.jsx(Rc,{message:"Loading leaderboard..."}),children:g.jsx(HD,{})})}),Zt.theoremIndex&&g.jsx(Lr,{path:"/theorems",element:g.jsx(V.Suspense,{fallback:g.jsx(Rc,{message:"Loading theorems..."}),children:g.jsx(qD,{})})}),Zt.interactiveModules&&g.jsx(Lr,{path:"/interactive",element:g.jsx(V.Suspense,{fallback:g.jsx(Rc,{message:"Loading modules..."}),children:g.jsx(VD,{})})}),g.jsx(Lr,{path:"/section/:id",element:g.jsx(FD,{})}),g.jsx(Lr,{path:"/quiz/section/:id",element:g.jsx(BD,{})}),g.jsx(Lr,{path:"*",element:g.jsx(vv,{})})]})}),Zt.gamification&&g.jsx(sD,{})]})}function YD(){return g.jsx(zS,{children:g.jsx(eD,{config:$D,children:Zt.nostrAuth?g.jsx(XR,{children:Zt.gamification?g.jsx(yv,{children:g.jsx(uc,{})}):g.jsx(uc,{})}):Zt.gamification?g.jsx(yv,{children:g.jsx(uc,{})}):g.jsx(uc,{})})})}dw.createRoot(document.getElementById("root")).render(g.jsx(V.StrictMode,{children:g.jsx(YD,{})}));export{ub as C,Zt as F,gw as H,t3 as L,e3 as R,nD as S,tD as X,br as a,lo as b,iA as c,Fw as d,Zw as e,i3 as f,_u as g,Wo as h,$r as i,Xw as j,Oa as k,fb as l,gs as m,Qo as n,dD as o,hD as p,a3 as q,pD as r,n3 as s,o3 as t,YR as u,r3 as v,s3 as w,PD as x};
