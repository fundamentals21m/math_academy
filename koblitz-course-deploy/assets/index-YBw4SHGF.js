var I_=Object.defineProperty;var L_=(t,e,n)=>e in t?I_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xs=(t,e,n)=>L_(t,typeof e!="symbol"?e+"":e,n);function B_(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function P_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E8={exports:{}},f1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=Symbol.for("react.transitional.element"),F_=Symbol.for("react.fragment");function C8(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:$_,type:t,key:i,ref:e!==void 0?e:null,props:n}}f1.Fragment=F_;f1.jsx=C8;f1.jsxs=C8;E8.exports=f1;var r=E8.exports,M8={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=Symbol.for("react.transitional.element"),U_=Symbol.for("react.portal"),H_=Symbol.for("react.fragment"),V_=Symbol.for("react.strict_mode"),G_=Symbol.for("react.profiler"),Z_=Symbol.for("react.consumer"),K_=Symbol.for("react.context"),W_=Symbol.for("react.forward_ref"),Y_=Symbol.for("react.suspense"),X_=Symbol.for("react.memo"),z8=Symbol.for("react.lazy"),Q_=Symbol.for("react.activity"),J5=Symbol.iterator;function J_(t){return t===null||typeof t!="object"?null:(t=J5&&t[J5]||t["@@iterator"],typeof t=="function"?t:null)}var D8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R8=Object.assign,O8={};function B0(t,e,n){this.props=t,this.context=e,this.refs=O8,this.updater=n||D8}B0.prototype.isReactComponent={};B0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};B0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q8(){}q8.prototype=B0.prototype;function zx(t,e,n){this.props=t,this.context=e,this.refs=O8,this.updater=n||D8}var Dx=zx.prototype=new q8;Dx.constructor=zx;R8(Dx,B0.prototype);Dx.isPureReactComponent=!0;var e6=Array.isArray;function w4(){}var _t={H:null,A:null,T:null,S:null},I8=Object.prototype.hasOwnProperty;function Rx(t,e,n){var i=n.ref;return{$$typeof:Mx,type:t,key:e,ref:i!==void 0?i:null,props:n}}function eE(t,e){return Rx(t.type,e,t.props)}function Ox(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mx}function tE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t6=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tE(""+t.key):e.toString(36)}function nE(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(w4,w4):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Io(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Mx:case U_:l=!0;break;case z8:return l=t._init,Io(l(t._payload),e,n,i,s)}}if(l)return s=s(t),l=i===""?"."+jf(t,0):i,e6(s)?(n="",l!=null&&(n=l.replace(t6,"$&/")+"/"),Io(s,e,n,"",function(h){return h})):s!=null&&(Ox(s)&&(s=eE(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(t6,"$&/")+"/")+l)),e.push(s)),1;l=0;var c=i===""?".":i+":";if(e6(t))for(var u=0;u<t.length;u++)i=t[u],a=c+jf(i,u),l+=Io(i,e,n,a,s);else if(u=J_(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,a=c+jf(i,u++),l+=Io(i,e,n,a,s);else if(a==="object"){if(typeof t.then=="function")return Io(nE(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function Ih(t,e,n){if(t==null)return t;var i=[],s=0;return Io(t,i,"","",function(a){return e.call(n,a,s++)}),i}function rE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var n6=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},iE={map:Ih,forEach:function(t,e,n){Ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ih(t,function(){e++}),e},toArray:function(t){return Ih(t,function(e){return e})||[]},only:function(t){if(!Ox(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Activity=Q_;Ge.Children=iE;Ge.Component=B0;Ge.Fragment=H_;Ge.Profiler=G_;Ge.PureComponent=zx;Ge.StrictMode=V_;Ge.Suspense=Y_;Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Ge.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _t.H.useMemoCache(t)}};Ge.cache=function(t){return function(){return t.apply(null,arguments)}};Ge.cacheSignal=function(){return null};Ge.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=R8({},t.props),s=t.key;if(e!=null)for(a in e.key!==void 0&&(s=""+e.key),e)!I8.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}return Rx(t.type,s,i)};Ge.createContext=function(t){return t={$$typeof:K_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Z_,_context:t},t};Ge.createElement=function(t,e,n){var i,s={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)I8.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return Rx(t,a,s)};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:W_,render:t}};Ge.isValidElement=Ox;Ge.lazy=function(t){return{$$typeof:z8,_payload:{_status:-1,_result:t},_init:rE}};Ge.memo=function(t,e){return{$$typeof:X_,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=_t.T,n={};_t.T=n;try{var i=t(),s=_t.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(w4,n6)}catch(a){n6(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),_t.T=e}};Ge.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()};Ge.use=function(t){return _t.H.use(t)};Ge.useActionState=function(t,e,n){return _t.H.useActionState(t,e,n)};Ge.useCallback=function(t,e){return _t.H.useCallback(t,e)};Ge.useContext=function(t){return _t.H.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t,e){return _t.H.useDeferredValue(t,e)};Ge.useEffect=function(t,e){return _t.H.useEffect(t,e)};Ge.useEffectEvent=function(t){return _t.H.useEffectEvent(t)};Ge.useId=function(){return _t.H.useId()};Ge.useImperativeHandle=function(t,e,n){return _t.H.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return _t.H.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return _t.H.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return _t.H.useMemo(t,e)};Ge.useOptimistic=function(t,e){return _t.H.useOptimistic(t,e)};Ge.useReducer=function(t,e,n){return _t.H.useReducer(t,e,n)};Ge.useRef=function(t){return _t.H.useRef(t)};Ge.useState=function(t){return _t.H.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return _t.H.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return _t.H.useTransition()};Ge.version="19.2.3";M8.exports=Ge;var K=M8.exports;const sE=P_(K),aE=B_({__proto__:null,default:sE},[K]);var L8={exports:{}},p1={},B8={exports:{}},P8={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(le,me){var ve=le.length;le.push(me);e:for(;0<ve;){var Be=ve-1>>>1,ze=le[Be];if(0<s(ze,me))le[Be]=me,le[ve]=ze,ve=Be;else break e}}function n(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var me=le[0],ve=le.pop();if(ve!==me){le[0]=ve;e:for(var Be=0,ze=le.length,we=ze>>>1;Be<we;){var ye=2*(Be+1)-1,Se=le[ye],ct=ye+1,Pe=le[ct];if(0>s(Se,ve))ct<ze&&0>s(Pe,Se)?(le[Be]=Pe,le[ct]=ve,Be=ct):(le[Be]=Se,le[ye]=ve,Be=ye);else if(ct<ze&&0>s(Pe,ve))le[Be]=Pe,le[ct]=ve,Be=ct;else break e}}return me}function s(le,me){var ve=le.sortIndex-me.sortIndex;return ve!==0?ve:le.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],m=1,f=null,p=3,v=!1,T=!1,M=!1,q=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(le){for(var me=n(h);me!==null;){if(me.callback===null)i(h);else if(me.startTime<=le)i(h),me.sortIndex=me.expirationTime,e(u,me);else break;me=n(h)}}function U(le){if(M=!1,L(le),!T)if(n(u)!==null)T=!0,Q||(Q=!0,F());else{var me=n(h);me!==null&&Ee(U,me.startTime-le)}}var Q=!1,D=-1,C=5,z=-1;function B(){return q?!0:!(t.unstable_now()-z<C)}function P(){if(q=!1,Q){var le=t.unstable_now();z=le;var me=!0;try{e:{T=!1,M&&(M=!1,A(D),D=-1),v=!0;var ve=p;try{t:{for(L(le),f=n(u);f!==null&&!(f.expirationTime>le&&B());){var Be=f.callback;if(typeof Be=="function"){f.callback=null,p=f.priorityLevel;var ze=Be(f.expirationTime<=le);if(le=t.unstable_now(),typeof ze=="function"){f.callback=ze,L(le),me=!0;break t}f===n(u)&&i(u),L(le)}else i(u);f=n(u)}if(f!==null)me=!0;else{var we=n(h);we!==null&&Ee(U,we.startTime-le),me=!1}}break e}finally{f=null,p=ve,v=!1}me=void 0}}finally{me?F():Q=!1}}}var F;if(typeof N=="function")F=function(){N(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,_e=$.port2;$.port1.onmessage=P,F=function(){_e.postMessage(null)}}else F=function(){S(P,0)};function Ee(le,me){D=S(function(){le(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(le){switch(p){case 1:case 2:case 3:var me=3;break;default:me=p}var ve=p;p=me;try{return le()}finally{p=ve}},t.unstable_requestPaint=function(){q=!0},t.unstable_runWithPriority=function(le,me){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ve=p;p=le;try{return me()}finally{p=ve}},t.unstable_scheduleCallback=function(le,me,ve){var Be=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Be+ve:Be):ve=Be,le){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ve+ze,le={id:m++,callback:me,priorityLevel:le,startTime:ve,expirationTime:ze,sortIndex:-1},ve>Be?(le.sortIndex=ve,e(h,le),n(u)===null&&le===n(h)&&(M?(A(D),D=-1):M=!0,Ee(U,ve-Be))):(le.sortIndex=ze,e(u,le),T||v||(T=!0,Q||(Q=!0,F()))),le},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(le){var me=p;return function(){var ve=p;p=me;try{return le.apply(this,arguments)}finally{p=ve}}}})(P8);B8.exports=P8;var lE=B8.exports,$8={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=K;function F8(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pa(){}var Jn={d:{f:pa,r:function(){throw Error(F8(522))},D:pa,C:pa,L:pa,m:pa,X:pa,S:pa,M:pa},p:0,findDOMNode:null},cE=Symbol.for("react.portal");function uE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cE,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Gc=oE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x1(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Jn;lr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(F8(299));return uE(t,e,null,n)};lr.flushSync=function(t){var e=Gc.T,n=Jn.p;try{if(Gc.T=null,Jn.p=2,t)return t()}finally{Gc.T=e,Jn.p=n,Jn.d.f()}};lr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Jn.d.C(t,e))};lr.prefetchDNS=function(t){typeof t=="string"&&Jn.d.D(t)};lr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=x1(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Jn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&Jn.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};lr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=x1(e.as,e.crossOrigin);Jn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Jn.d.M(t)};lr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=x1(n,e.crossOrigin);Jn.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};lr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=x1(e.as,e.crossOrigin);Jn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Jn.d.m(t)};lr.requestFormReset=function(t){Jn.d.r(t)};lr.unstable_batchedUpdates=function(t,e){return t(e)};lr.useFormState=function(t,e,n){return Gc.H.useFormState(t,e,n)};lr.useFormStatus=function(){return Gc.H.useHostTransitionStatus()};lr.version="19.2.3";function U8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U8)}catch(t){console.error(t)}}U8(),$8.exports=lr;var hE=$8.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jn=lE,H8=K,dE=hE;function re(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function V8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z8(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r6(t){if(Zu(t)!==t)throw Error(re(188))}function mE(t){var e=t.alternate;if(!e){if(e=Zu(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return r6(s),t;if(a===i)return r6(s),e;a=a.sibling}throw Error(re(188))}if(n.return!==i.return)n=s,i=a;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,i=a;break}if(c===i){l=!0,i=s,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,i=s;break}if(c===i){l=!0,i=a,n=s;break}c=c.sibling}if(!l)throw Error(re(189))}}if(n.alternate!==i)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function K8(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=K8(t),e!==null)return e;t=t.sibling}return null}var Et=Object.assign,fE=Symbol.for("react.element"),Lh=Symbol.for("react.transitional.element"),Ic=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),W8=Symbol.for("react.strict_mode"),S4=Symbol.for("react.profiler"),Y8=Symbol.for("react.consumer"),Ns=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),k4=Symbol.for("react.suspense"),T4=Symbol.for("react.suspense_list"),Ix=Symbol.for("react.memo"),Sa=Symbol.for("react.lazy"),A4=Symbol.for("react.activity"),pE=Symbol.for("react.memo_cache_sentinel"),i6=Symbol.iterator;function Sc(t){return t===null||typeof t!="object"?null:(t=i6&&t[i6]||t["@@iterator"],typeof t=="function"?t:null)}var xE=Symbol.for("react.client.reference");function N4(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xE?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case S4:return"Profiler";case W8:return"StrictMode";case k4:return"Suspense";case T4:return"SuspenseList";case A4:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Ic:return"Portal";case Ns:return t.displayName||"Context";case Y8:return(t._context.displayName||"Context")+".Consumer";case qx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ix:return e=t.displayName||null,e!==null?e:N4(t.type)||"Memo";case Sa:e=t._payload,t=t._init;try{return N4(t(e))}catch{}}return null}var Lc=Array.isArray,He=H8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=dE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jl={pending:!1,data:null,method:null,action:null},_4=[],$o=-1;function es(t){return{current:t}}function Mn(t){0>$o||(t.current=_4[$o],_4[$o]=null,$o--)}function jt(t,e){$o++,_4[$o]=t.current,t.current=e}var Ki=es(null),xu=es(null),Fa=es(null),im=es(null);function sm(t,e){switch(jt(Fa,e),jt(xu,t),jt(Ki,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=uv(e),t=xw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Mn(Ki),jt(Ki,t)}function j0(){Mn(Ki),Mn(xu),Mn(Fa)}function E4(t){t.memoizedState!==null&&jt(im,t);var e=Ki.current,n=xw(e,t.type);e!==n&&(jt(xu,t),jt(Ki,n))}function am(t){xu.current===t&&(Mn(Ki),Mn(xu)),im.current===t&&(Mn(im),Nu._currentValue=Jl)}var wf,s6;function Pl(t){if(wf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wf=e&&e[1]||"",s6=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wf+t+s6}var Sf=!1;function kf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(v){var p=v}Reflect.construct(t,[],f)}else{try{f.call()}catch(v){p=v}t.call(f.prototype)}}else{try{throw Error()}catch(v){p=v}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(v){if(v&&p&&typeof v.stack=="string")return[v.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),l=a[0],c=a[1];if(l&&c){var u=l.split(`
`),h=c.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var m=`
`+u[i].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=i&&0<=s);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Pl(n):""}function gE(t,e){switch(t.tag){case 26:case 27:case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return t.child!==e&&e!==null?Pl("Suspense Fallback"):Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 15:return kf(t.type,!1);case 11:return kf(t.type.render,!1);case 1:return kf(t.type,!0);case 31:return Pl("Activity");default:return""}}function a6(t){try{var e="",n=null;do e+=gE(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var C4=Object.prototype.hasOwnProperty,Lx=jn.unstable_scheduleCallback,Tf=jn.unstable_cancelCallback,vE=jn.unstable_shouldYield,yE=jn.unstable_requestPaint,qr=jn.unstable_now,bE=jn.unstable_getCurrentPriorityLevel,X8=jn.unstable_ImmediatePriority,Q8=jn.unstable_UserBlockingPriority,lm=jn.unstable_NormalPriority,jE=jn.unstable_LowPriority,J8=jn.unstable_IdlePriority,wE=jn.log,SE=jn.unstable_setDisableYieldValue,Ku=null,Ir=null;function Da(t){if(typeof wE=="function"&&SE(t),Ir&&typeof Ir.setStrictMode=="function")try{Ir.setStrictMode(Ku,t)}catch{}}var Lr=Math.clz32?Math.clz32:AE,kE=Math.log,TE=Math.LN2;function AE(t){return t>>>=0,t===0?32:31-(kE(t)/TE|0)|0}var Bh=256,Ph=262144,$h=4194304;function $l(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function g1(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,a=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var c=i&134217727;return c!==0?(i=c&~a,i!==0?s=$l(i):(l&=c,l!==0?s=$l(l):n||(n=c&~t,n!==0&&(s=$l(n))))):(c=i&~a,c!==0?s=$l(c):l!==0?s=$l(l):n||(n=i&~t,n!==0&&(s=$l(n)))),s===0?0:e!==0&&e!==s&&!(e&a)&&(a=s&-s,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:s}function Wu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function NE(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e9(){var t=$h;return $h<<=1,!($h&62914560)&&($h=4194304),t}function Af(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _E(t,e,n,i,s,a){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var c=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=l&~n;0<n;){var m=31-Lr(n),f=1<<m;c[m]=0,u[m]=-1;var p=h[m];if(p!==null)for(h[m]=null,m=0;m<p.length;m++){var v=p[m];v!==null&&(v.lane&=-536870913)}n&=~f}i!==0&&t9(t,i,0),a!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=a&~(l&~e))}function t9(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Lr(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function n9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Lr(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function r9(t,e){var n=e&-e;return n=n&42?1:Bx(n),n&(t.suspendedLanes|e)?0:n}function Bx(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Px(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function i9(){var t=ot.p;return t!==0?t:(t=window.event,t===void 0?32:Nw(t.type))}function l6(t,e){var n=ot.p;try{return ot.p=t,e()}finally{ot.p=n}}var xl=Math.random().toString(36).slice(2),Ln="__reactFiber$"+xl,wr="__reactProps$"+xl,P0="__reactContainer$"+xl,M4="__reactEvents$"+xl,EE="__reactListeners$"+xl,CE="__reactHandles$"+xl,o6="__reactResources$"+xl,Xu="__reactMarker$"+xl;function $x(t){delete t[Ln],delete t[wr],delete t[M4],delete t[EE],delete t[CE]}function Fo(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[P0]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pv(t);t!==null;){if(n=t[Ln])return n;t=pv(t)}return e}t=n,n=t.parentNode}return null}function $0(t){if(t=t[Ln]||t[P0]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Bc(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(re(33))}function a0(t){var e=t[o6];return e||(e=t[o6]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Cn(t){t[Xu]=!0}var s9=new Set,a9={};function po(t,e){w0(t,e),w0(t+"Capture",e)}function w0(t,e){for(a9[t]=e,t=0;t<e.length;t++)s9.add(e[t])}var ME=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),c6={},u6={};function zE(t){return C4.call(u6,t)?!0:C4.call(c6,t)?!1:ME.test(t)?u6[t]=!0:(c6[t]=!0,!1)}function Cd(t,e,n){if(zE(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Fh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gs(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Xr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DE(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,a=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function z4(t){if(!t._valueTracker){var e=l9(t)?"checked":"value";t._valueTracker=DE(t,e,""+t[e])}}function o9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=l9(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function om(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var RE=/[\n"\\]/g;function ei(t){return t.replace(RE,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function D4(t,e,n,i,s,a,l,c){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Xr(e)):t.value!==""+Xr(e)&&(t.value=""+Xr(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?R4(t,l,Xr(e)):n!=null?R4(t,l,Xr(n)):i!=null&&t.removeAttribute("value"),s==null&&a!=null&&(t.defaultChecked=!!a),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Xr(c):t.removeAttribute("name")}function c9(t,e,n,i,s,a,l,c){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){z4(t);return}n=n!=null?""+Xr(n):"",e=e!=null?""+Xr(e):n,c||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=c?t.checked:!!i,t.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),z4(t)}function R4(t,e,n){e==="number"&&om(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function l0(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function u9(t,e,n){if(e!=null&&(e=""+Xr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Xr(n):""}function h9(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(re(92));if(Lc(i)){if(1<i.length)throw Error(re(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Xr(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),z4(t)}function S0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var OE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function h6(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||OE.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function d9(t,e,n){if(e!=null&&typeof e!="object")throw Error(re(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&h6(t,s,i)}else for(var a in e)e.hasOwnProperty(a)&&h6(t,a,e[a])}function Fx(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Md(t){return IE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _s(){}var O4=null;function Ux(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uo=null,o0=null;function d6(t){var e=$0(t);if(e&&(t=e.stateNode)){var n=t[wr]||null;e:switch(t=e.stateNode,e.type){case"input":if(D4(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ei(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[wr]||null;if(!s)throw Error(re(90));D4(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&o9(i)}break e;case"textarea":u9(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&l0(t,!!n.multiple,e,!1)}}}var Nf=!1;function m9(t,e,n){if(Nf)return t(e,n);Nf=!0;try{var i=t(e);return i}finally{if(Nf=!1,(Uo!==null||o0!==null)&&(E1(),Uo&&(e=Uo,t=o0,o0=Uo=null,d6(e),t)))for(e=0;e<t.length;e++)d6(t[e])}}function gu(t,e){var n=t.stateNode;if(n===null)return null;var i=n[wr]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q4=!1;if($s)try{var kc={};Object.defineProperty(kc,"passive",{get:function(){q4=!0}}),window.addEventListener("test",kc,kc),window.removeEventListener("test",kc,kc)}catch{q4=!1}var Ra=null,Hx=null,zd=null;function f9(){if(zd)return zd;var t,e=Hx,n=e.length,i,s="value"in Ra?Ra.value:Ra.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[a-i];i++);return zd=s.slice(t,1<i?1-i:void 0)}function Dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uh(){return!0}function m6(){return!1}function Sr(t){function e(n,i,s,a,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uh:m6,this.isPropagationStopped=m6,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uh)},persist:function(){},isPersistent:Uh}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v1=Sr(xo),Qu=Et({},xo,{view:0,detail:0}),LE=Sr(Qu),_f,Ef,Tc,y1=Et({},Qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tc&&(Tc&&t.type==="mousemove"?(_f=t.screenX-Tc.screenX,Ef=t.screenY-Tc.screenY):Ef=_f=0,Tc=t),_f)},movementY:function(t){return"movementY"in t?t.movementY:Ef}}),f6=Sr(y1),BE=Et({},y1,{dataTransfer:0}),PE=Sr(BE),$E=Et({},Qu,{relatedTarget:0}),Cf=Sr($E),FE=Et({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),UE=Sr(FE),HE=Et({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VE=Sr(HE),GE=Et({},xo,{data:0}),p6=Sr(GE),ZE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WE[t])?!!e[t]:!1}function Vx(){return YE}var XE=Et({},Qu,{key:function(t){if(t.key){var e=ZE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vx,charCode:function(t){return t.type==="keypress"?Dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QE=Sr(XE),JE=Et({},y1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x6=Sr(JE),eC=Et({},Qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vx}),tC=Sr(eC),nC=Et({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rC=Sr(nC),iC=Et({},y1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sC=Sr(iC),aC=Et({},xo,{newState:0,oldState:0}),lC=Sr(aC),oC=[9,13,27,32],Gx=$s&&"CompositionEvent"in window,Zc=null;$s&&"documentMode"in document&&(Zc=document.documentMode);var cC=$s&&"TextEvent"in window&&!Zc,p9=$s&&(!Gx||Zc&&8<Zc&&11>=Zc),g6=" ",v6=!1;function x9(t,e){switch(t){case"keyup":return oC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function uC(t,e){switch(t){case"compositionend":return g9(e);case"keypress":return e.which!==32?null:(v6=!0,g6);case"textInput":return t=e.data,t===g6&&v6?null:t;default:return null}}function hC(t,e){if(Ho)return t==="compositionend"||!Gx&&x9(t,e)?(t=f9(),zd=Hx=Ra=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p9&&e.locale!=="ko"?null:e.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dC[t.type]:e==="textarea"}function v9(t,e,n,i){Uo?o0?o0.push(i):o0=[i]:Uo=i,e=Am(e,"onChange"),0<e.length&&(n=new v1("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Kc=null,vu=null;function mC(t){mw(t,0)}function b1(t){var e=Bc(t);if(o9(e))return t}function b6(t,e){if(t==="change")return e}var y9=!1;if($s){var Mf;if($s){var zf="oninput"in document;if(!zf){var j6=document.createElement("div");j6.setAttribute("oninput","return;"),zf=typeof j6.oninput=="function"}Mf=zf}else Mf=!1;y9=Mf&&(!document.documentMode||9<document.documentMode)}function w6(){Kc&&(Kc.detachEvent("onpropertychange",b9),vu=Kc=null)}function b9(t){if(t.propertyName==="value"&&b1(vu)){var e=[];v9(e,vu,t,Ux(t)),m9(mC,e)}}function fC(t,e,n){t==="focusin"?(w6(),Kc=e,vu=n,Kc.attachEvent("onpropertychange",b9)):t==="focusout"&&w6()}function pC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return b1(vu)}function xC(t,e){if(t==="click")return b1(e)}function gC(t,e){if(t==="input"||t==="change")return b1(e)}function vC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $r=typeof Object.is=="function"?Object.is:vC;function yu(t,e){if($r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!C4.call(e,s)||!$r(t[s],e[s]))return!1}return!0}function S6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k6(t,e){var n=S6(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S6(n)}}function j9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w9(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=om(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=om(t.document)}return e}function Zx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var yC=$s&&"documentMode"in document&&11>=document.documentMode,Vo=null,I4=null,Wc=null,L4=!1;function T6(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L4||Vo==null||Vo!==om(i)||(i=Vo,"selectionStart"in i&&Zx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wc&&yu(Wc,i)||(Wc=i,i=Am(I4,"onSelect"),0<i.length&&(e=new v1("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Vo)))}function Rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},Df={},S9={};$s&&(S9=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function go(t){if(Df[t])return Df[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S9)return Df[t]=e[n];return t}var k9=go("animationend"),T9=go("animationiteration"),A9=go("animationstart"),bC=go("transitionrun"),jC=go("transitionstart"),wC=go("transitioncancel"),N9=go("transitionend"),_9=new Map,B4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");B4.push("scrollEnd");function Di(t,e){_9.set(t,e),po(e,[t])}var cm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wr=[],Zo=0,Kx=0;function j1(){for(var t=Zo,e=Kx=Zo=0;e<t;){var n=Wr[e];Wr[e++]=null;var i=Wr[e];Wr[e++]=null;var s=Wr[e];Wr[e++]=null;var a=Wr[e];if(Wr[e++]=null,i!==null&&s!==null){var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}a!==0&&E9(n,s,a)}}function w1(t,e,n,i){Wr[Zo++]=t,Wr[Zo++]=e,Wr[Zo++]=n,Wr[Zo++]=i,Kx|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Wx(t,e,n,i){return w1(t,e,n,i),um(t)}function vo(t,e){return w1(t,null,null,e),um(t)}function E9(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(s=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,s&&e!==null&&(s=31-Lr(n),t=a.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),a):null}function um(t){if(50<iu)throw iu=0,a2=null,Error(re(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ko={};function SC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,i){return new SC(t,e,n,i)}function Yx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rs(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function C9(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Rd(t,e,n,i,s,a){var l=0;if(i=t,typeof t=="function")Yx(t)&&(l=1);else if(typeof t=="string")l=_M(t,n,Ki.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A4:return t=zr(31,n,e,s),t.elementType=A4,t.lanes=a,t;case Po:return eo(n.children,s,a,e);case W8:l=8,s|=24;break;case S4:return t=zr(12,n,e,s|2),t.elementType=S4,t.lanes=a,t;case k4:return t=zr(13,n,e,s),t.elementType=k4,t.lanes=a,t;case T4:return t=zr(19,n,e,s),t.elementType=T4,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ns:l=10;break e;case Y8:l=9;break e;case qx:l=11;break e;case Ix:l=14;break e;case Sa:l=16,i=null;break e}l=29,n=Error(re(130,t===null?"null":typeof t,"")),i=null}return e=zr(l,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function eo(t,e,n,i){return t=zr(7,t,i,e),t.lanes=n,t}function Rf(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function M9(t){var e=zr(18,null,null,0);return e.stateNode=t,e}function Of(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var A6=new WeakMap;function ti(t,e){if(typeof t=="object"&&t!==null){var n=A6.get(t);return n!==void 0?n:(e={value:t,source:e,stack:a6(e)},A6.set(t,e),e)}return{value:t,source:e,stack:a6(e)}}var Wo=[],Yo=0,hm=null,bu=0,Qr=[],Jr=0,tl=null,Pi=1,$i="";function ks(t,e){Wo[Yo++]=bu,Wo[Yo++]=hm,hm=t,bu=e}function z9(t,e,n){Qr[Jr++]=Pi,Qr[Jr++]=$i,Qr[Jr++]=tl,tl=t;var i=Pi;t=$i;var s=32-Lr(i)-1;i&=~(1<<s),n+=1;var a=32-Lr(e)+s;if(30<a){var l=s-s%5;a=(i&(1<<l)-1).toString(32),i>>=l,s-=l,Pi=1<<32-Lr(e)+s|n<<s|i,$i=a+t}else Pi=1<<a|n<<s|i,$i=t}function Xx(t){t.return!==null&&(ks(t,1),z9(t,1,0))}function Qx(t){for(;t===hm;)hm=Wo[--Yo],Wo[Yo]=null,bu=Wo[--Yo],Wo[Yo]=null;for(;t===tl;)tl=Qr[--Jr],Qr[Jr]=null,$i=Qr[--Jr],Qr[Jr]=null,Pi=Qr[--Jr],Qr[Jr]=null}function D9(t,e){Qr[Jr++]=Pi,Qr[Jr++]=$i,Qr[Jr++]=tl,Pi=e.id,$i=e.overflow,tl=t}var Bn=null,Nt=null,et=!1,Ua=null,ni=!1,P4=Error(re(519));function nl(t){var e=Error(re(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ju(ti(e,t)),P4}function N6(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Ln]=t,e[wr]=i,n){case"dialog":Xe("cancel",e),Xe("close",e);break;case"iframe":case"object":case"embed":Xe("load",e);break;case"video":case"audio":for(n=0;n<Tu.length;n++)Xe(Tu[n],e);break;case"source":Xe("error",e);break;case"img":case"image":case"link":Xe("error",e),Xe("load",e);break;case"details":Xe("toggle",e);break;case"input":Xe("invalid",e),c9(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Xe("invalid",e);break;case"textarea":Xe("invalid",e),h9(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||pw(e.textContent,n)?(i.popover!=null&&(Xe("beforetoggle",e),Xe("toggle",e)),i.onScroll!=null&&Xe("scroll",e),i.onScrollEnd!=null&&Xe("scrollend",e),i.onClick!=null&&(e.onclick=_s),e=!0):e=!1,e||nl(t,!0)}function _6(t){for(Bn=t.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Bn=Bn.return}}function Do(t){if(t!==Bn)return!1;if(!et)return _6(t),et=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||h2(t.type,t.memoizedProps)),n=!n),n&&Nt&&nl(t),_6(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));Nt=fv(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));Nt=fv(t)}else e===27?(e=Nt,gl(t.type)?(t=p2,p2=null,Nt=t):Nt=e):Nt=Bn?li(t.stateNode.nextSibling):null;return!0}function ao(){Nt=Bn=null,et=!1}function qf(){var t=Ua;return t!==null&&(vr===null?vr=t:vr.push.apply(vr,t),Ua=null),t}function ju(t){Ua===null?Ua=[t]:Ua.push(t)}var $4=es(null),yo=null,Es=null;function Ta(t,e,n){jt($4,e._currentValue),e._currentValue=n}function Os(t){t._currentValue=$4.current,Mn($4)}function F4(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function U4(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){var l=s.child;a=a.firstContext;e:for(;a!==null;){var c=a;a=s;for(var u=0;u<e.length;u++)if(c.context===e[u]){a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),F4(a.return,n,t),i||(l=null);break e}a=c.next}}else if(s.tag===18){if(l=s.return,l===null)throw Error(re(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),F4(l,n,t),l=null}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}}function F0(t,e,n,i){t=null;for(var s=e,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var l=s.alternate;if(l===null)throw Error(re(387));if(l=l.memoizedProps,l!==null){var c=s.type;$r(s.pendingProps.value,l.value)||(t!==null?t.push(c):t=[c])}}else if(s===im.current){if(l=s.alternate,l===null)throw Error(re(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Nu):t=[Nu])}s=s.return}t!==null&&U4(e,t,n,i),e.flags|=262144}function dm(t){for(t=t.firstContext;t!==null;){if(!$r(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lo(t){yo=t,Es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pn(t){return R9(yo,t)}function Hh(t,e){return yo===null&&lo(t),R9(t,e)}function R9(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Es===null){if(t===null)throw Error(re(308));Es=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Es=Es.next=e;return n}var kC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},TC=jn.unstable_scheduleCallback,AC=jn.unstable_NormalPriority,hn={$$typeof:Ns,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jx(){return{controller:new kC,data:new Map,refCount:0}}function Ju(t){t.refCount--,t.refCount===0&&TC(AC,function(){t.controller.abort()})}var Yc=null,H4=0,k0=0,c0=null;function NC(t,e){if(Yc===null){var n=Yc=[];H4=0,k0=kg(),c0={status:"pending",value:void 0,then:function(i){n.push(i)}}}return H4++,e.then(E6,E6),e}function E6(){if(--H4===0&&Yc!==null){c0!==null&&(c0.status="fulfilled");var t=Yc;Yc=null,k0=0,c0=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _C(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var C6=He.S;He.S=function(t,e){Kj=qr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&NC(t,e),C6!==null&&C6(t,e)};var to=es(null);function eg(){var t=to.current;return t!==null?t:xt.pooledCache}function Od(t,e){e===null?jt(to,to.current):jt(to,e.pool)}function O9(){var t=eg();return t===null?null:{parent:hn._currentValue,pool:t}}var U0=Error(re(460)),tg=Error(re(474)),S1=Error(re(542)),mm={then:function(){}};function M6(t){return t=t.status,t==="fulfilled"||t==="rejected"}function q9(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(_s,_s),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,D6(t),t;default:if(typeof e.status=="string")e.then(_s,_s);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(re(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,D6(t),t}throw no=e,U0}}function Fl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(no=n,U0):n}}var no=null;function z6(){if(no===null)throw Error(re(459));var t=no;return no=null,t}function D6(t){if(t===U0||t===S1)throw Error(re(483))}var u0=null,wu=0;function Vh(t){var e=wu;return wu+=1,u0===null&&(u0=[]),q9(u0,t,e)}function Ac(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Gh(t,e){throw e.$$typeof===fE?Error(re(525)):(t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function I9(t){function e(S,A){if(t){var N=S.deletions;N===null?(S.deletions=[A],S.flags|=16):N.push(A)}}function n(S,A){if(!t)return null;for(;A!==null;)e(S,A),A=A.sibling;return null}function i(S){for(var A=new Map;S!==null;)S.key!==null?A.set(S.key,S):A.set(S.index,S),S=S.sibling;return A}function s(S,A){return S=Rs(S,A),S.index=0,S.sibling=null,S}function a(S,A,N){return S.index=N,t?(N=S.alternate,N!==null?(N=N.index,N<A?(S.flags|=67108866,A):N):(S.flags|=67108866,A)):(S.flags|=1048576,A)}function l(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function c(S,A,N,L){return A===null||A.tag!==6?(A=Rf(N,S.mode,L),A.return=S,A):(A=s(A,N),A.return=S,A)}function u(S,A,N,L){var U=N.type;return U===Po?m(S,A,N.props.children,L,N.key):A!==null&&(A.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Sa&&Fl(U)===A.type)?(A=s(A,N.props),Ac(A,N),A.return=S,A):(A=Rd(N.type,N.key,N.props,null,S.mode,L),Ac(A,N),A.return=S,A)}function h(S,A,N,L){return A===null||A.tag!==4||A.stateNode.containerInfo!==N.containerInfo||A.stateNode.implementation!==N.implementation?(A=Of(N,S.mode,L),A.return=S,A):(A=s(A,N.children||[]),A.return=S,A)}function m(S,A,N,L,U){return A===null||A.tag!==7?(A=eo(N,S.mode,L,U),A.return=S,A):(A=s(A,N),A.return=S,A)}function f(S,A,N){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Rf(""+A,S.mode,N),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Lh:return N=Rd(A.type,A.key,A.props,null,S.mode,N),Ac(N,A),N.return=S,N;case Ic:return A=Of(A,S.mode,N),A.return=S,A;case Sa:return A=Fl(A),f(S,A,N)}if(Lc(A)||Sc(A))return A=eo(A,S.mode,N,null),A.return=S,A;if(typeof A.then=="function")return f(S,Vh(A),N);if(A.$$typeof===Ns)return f(S,Hh(S,A),N);Gh(S,A)}return null}function p(S,A,N,L){var U=A!==null?A.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return U!==null?null:c(S,A,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lh:return N.key===U?u(S,A,N,L):null;case Ic:return N.key===U?h(S,A,N,L):null;case Sa:return N=Fl(N),p(S,A,N,L)}if(Lc(N)||Sc(N))return U!==null?null:m(S,A,N,L,null);if(typeof N.then=="function")return p(S,A,Vh(N),L);if(N.$$typeof===Ns)return p(S,A,Hh(S,N),L);Gh(S,N)}return null}function v(S,A,N,L,U){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return S=S.get(N)||null,c(A,S,""+L,U);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Lh:return S=S.get(L.key===null?N:L.key)||null,u(A,S,L,U);case Ic:return S=S.get(L.key===null?N:L.key)||null,h(A,S,L,U);case Sa:return L=Fl(L),v(S,A,N,L,U)}if(Lc(L)||Sc(L))return S=S.get(N)||null,m(A,S,L,U,null);if(typeof L.then=="function")return v(S,A,N,Vh(L),U);if(L.$$typeof===Ns)return v(S,A,N,Hh(A,L),U);Gh(A,L)}return null}function T(S,A,N,L){for(var U=null,Q=null,D=A,C=A=0,z=null;D!==null&&C<N.length;C++){D.index>C?(z=D,D=null):z=D.sibling;var B=p(S,D,N[C],L);if(B===null){D===null&&(D=z);break}t&&D&&B.alternate===null&&e(S,D),A=a(B,A,C),Q===null?U=B:Q.sibling=B,Q=B,D=z}if(C===N.length)return n(S,D),et&&ks(S,C),U;if(D===null){for(;C<N.length;C++)D=f(S,N[C],L),D!==null&&(A=a(D,A,C),Q===null?U=D:Q.sibling=D,Q=D);return et&&ks(S,C),U}for(D=i(D);C<N.length;C++)z=v(D,S,C,N[C],L),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?C:z.key),A=a(z,A,C),Q===null?U=z:Q.sibling=z,Q=z);return t&&D.forEach(function(P){return e(S,P)}),et&&ks(S,C),U}function M(S,A,N,L){if(N==null)throw Error(re(151));for(var U=null,Q=null,D=A,C=A=0,z=null,B=N.next();D!==null&&!B.done;C++,B=N.next()){D.index>C?(z=D,D=null):z=D.sibling;var P=p(S,D,B.value,L);if(P===null){D===null&&(D=z);break}t&&D&&P.alternate===null&&e(S,D),A=a(P,A,C),Q===null?U=P:Q.sibling=P,Q=P,D=z}if(B.done)return n(S,D),et&&ks(S,C),U;if(D===null){for(;!B.done;C++,B=N.next())B=f(S,B.value,L),B!==null&&(A=a(B,A,C),Q===null?U=B:Q.sibling=B,Q=B);return et&&ks(S,C),U}for(D=i(D);!B.done;C++,B=N.next())B=v(D,S,C,B.value,L),B!==null&&(t&&B.alternate!==null&&D.delete(B.key===null?C:B.key),A=a(B,A,C),Q===null?U=B:Q.sibling=B,Q=B);return t&&D.forEach(function(F){return e(S,F)}),et&&ks(S,C),U}function q(S,A,N,L){if(typeof N=="object"&&N!==null&&N.type===Po&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Lh:e:{for(var U=N.key;A!==null;){if(A.key===U){if(U=N.type,U===Po){if(A.tag===7){n(S,A.sibling),L=s(A,N.props.children),L.return=S,S=L;break e}}else if(A.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Sa&&Fl(U)===A.type){n(S,A.sibling),L=s(A,N.props),Ac(L,N),L.return=S,S=L;break e}n(S,A);break}else e(S,A);A=A.sibling}N.type===Po?(L=eo(N.props.children,S.mode,L,N.key),L.return=S,S=L):(L=Rd(N.type,N.key,N.props,null,S.mode,L),Ac(L,N),L.return=S,S=L)}return l(S);case Ic:e:{for(U=N.key;A!==null;){if(A.key===U)if(A.tag===4&&A.stateNode.containerInfo===N.containerInfo&&A.stateNode.implementation===N.implementation){n(S,A.sibling),L=s(A,N.children||[]),L.return=S,S=L;break e}else{n(S,A);break}else e(S,A);A=A.sibling}L=Of(N,S.mode,L),L.return=S,S=L}return l(S);case Sa:return N=Fl(N),q(S,A,N,L)}if(Lc(N))return T(S,A,N,L);if(Sc(N)){if(U=Sc(N),typeof U!="function")throw Error(re(150));return N=U.call(N),M(S,A,N,L)}if(typeof N.then=="function")return q(S,A,Vh(N),L);if(N.$$typeof===Ns)return q(S,A,Hh(S,N),L);Gh(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,A!==null&&A.tag===6?(n(S,A.sibling),L=s(A,N),L.return=S,S=L):(n(S,A),L=Rf(N,S.mode,L),L.return=S,S=L),l(S)):n(S,A)}return function(S,A,N,L){try{wu=0;var U=q(S,A,N,L);return u0=null,U}catch(D){if(D===U0||D===S1)throw D;var Q=zr(29,D,null,S.mode);return Q.lanes=L,Q.return=S,Q}finally{}}}var oo=I9(!0),L9=I9(!1),ka=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Va(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,lt&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=um(t),E9(t,null,n),e}return w1(t,i,e,n),um(t)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,n9(t,n)}}function If(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var G4=!1;function Qc(){if(G4){var t=c0;if(t!==null)throw t}}function Jc(t,e,n,i){G4=!1;var s=t.updateQueue;ka=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,h=u.next;u.next=null,l===null?a=h:l.next=h,l=u;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=u))}if(a!==null){var f=s.baseState;l=0,m=h=u=null,c=a;do{var p=c.lane&-536870913,v=p!==c.lane;if(v?(Je&p)===p:(i&p)===p){p!==0&&p===k0&&(G4=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var T=t,M=c;p=e;var q=n;switch(M.tag){case 1:if(T=M.payload,typeof T=="function"){f=T.call(q,f,p);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=M.payload,p=typeof T=="function"?T.call(q,f,p):T,p==null)break e;f=Et({},f,p);break e;case 2:ka=!0}}p=c.callback,p!==null&&(t.flags|=64,v&&(t.flags|=8192),v=s.callbacks,v===null?s.callbacks=[p]:v.push(p))}else v={lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=v,u=f):m=m.next=v,l|=p;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);m===null&&(u=f),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=m,a===null&&(s.shared.lanes=0),il|=l,t.lanes=l,t.memoizedState=f}}function B9(t,e){if(typeof t!="function")throw Error(re(191,t));t.call(e)}function P9(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)B9(n[t],e)}var T0=es(null),fm=es(0);function R6(t,e){t=Vs,jt(fm,t),jt(T0,e),Vs=t|e.baseLanes}function Z4(){jt(fm,Vs),jt(T0,T0.current)}function rg(){Vs=fm.current,Mn(T0),Mn(fm)}var Fr=es(null),ai=null;function Aa(t){var e=t.alternate;jt(nn,nn.current&1),jt(Fr,t),ai===null&&(e===null||T0.current!==null||e.memoizedState!==null)&&(ai=t)}function K4(t){jt(nn,nn.current),jt(Fr,t),ai===null&&(ai=t)}function $9(t){t.tag===22?(jt(nn,nn.current),jt(Fr,t),ai===null&&(ai=t)):Na()}function Na(){jt(nn,nn.current),jt(Fr,Fr.current)}function Mr(t){Mn(Fr),ai===t&&(ai=null),Mn(nn)}var nn=es(0);function pm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||m2(n)||f2(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fs=0,Ze=null,ft=null,cn=null,xm=!1,h0=!1,co=!1,gm=0,Su=0,d0=null,EC=0;function Kt(){throw Error(re(321))}function ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$r(t[n],e[n]))return!1;return!0}function sg(t,e,n,i,s,a){return Fs=a,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,He.H=t===null||t.memoizedState===null?vj:xg,co=!1,a=n(i,s),co=!1,h0&&(a=U9(e,n,i,s)),F9(t),a}function F9(t){He.H=ku;var e=ft!==null&&ft.next!==null;if(Fs=0,cn=ft=Ze=null,xm=!1,Su=0,d0=null,e)throw Error(re(300));t===null||dn||(t=t.dependencies,t!==null&&dm(t)&&(dn=!0))}function U9(t,e,n,i){Ze=t;var s=0;do{if(h0&&(d0=null),Su=0,h0=!1,25<=s)throw Error(re(301));if(s+=1,cn=ft=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}He.H=yj,a=e(n,i)}while(h0);return a}function CC(){var t=He.H,e=t.useState()[0];return e=typeof e.then=="function"?eh(e):e,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Ze.flags|=1024),e}function ag(){var t=gm!==0;return gm=0,t}function lg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function og(t){if(xm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}xm=!1}Fs=0,cn=ft=Ze=null,h0=!1,Su=gm=0,d0=null}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ze.memoizedState=cn=t:cn=cn.next=t,cn}function an(){if(ft===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=cn===null?Ze.memoizedState:cn.next;if(e!==null)cn=e,ft=t;else{if(t===null)throw Ze.alternate===null?Error(re(467)):Error(re(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},cn===null?Ze.memoizedState=cn=t:cn=cn.next=t}return cn}function k1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(t){var e=Su;return Su+=1,d0===null&&(d0=[]),t=q9(d0,t,e),e=Ze,(cn===null?e.memoizedState:cn.next)===null&&(e=e.alternate,He.H=e===null||e.memoizedState===null?vj:xg),t}function T1(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return eh(t);if(t.$$typeof===Ns)return Pn(t)}throw Error(re(438,String(t)))}function cg(t){var e=null,n=Ze.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=Ze.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=k1(),Ze.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=pE;return e.index++,n}function Us(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=an();return ug(e,ft,t)}function ug(t,e,n){var i=t.queue;if(i===null)throw Error(re(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}e.baseQueue=s=a,i.pending=null}if(a=t.baseState,s===null)t.memoizedState=a;else{e=s.next;var c=l=null,u=null,h=e,m=!1;do{var f=h.lane&-536870913;if(f!==h.lane?(Je&f)===f:(Fs&f)===f){var p=h.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),f===k0&&(m=!0);else if((Fs&p)===p){h=h.next,p===k0&&(m=!0);continue}else f={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(c=u=f,l=a):u=u.next=f,Ze.lanes|=p,il|=p;f=h.action,co&&n(a,f),a=h.hasEagerState?h.eagerState:n(a,f)}else p={lane:f,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(c=u=p,l=a):u=u.next=p,Ze.lanes|=f,il|=f;h=h.next}while(h!==null&&h!==e);if(u===null?l=a:u.next=c,!$r(a,t.memoizedState)&&(dn=!0,m&&(n=c0,n!==null)))throw n;t.memoizedState=a,t.baseState=l,t.baseQueue=u,i.lastRenderedState=a}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Lf(t){var e=an(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=t(a,l.action),l=l.next;while(l!==s);$r(a,e.memoizedState)||(dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function H9(t,e,n){var i=Ze,s=an(),a=et;if(a){if(n===void 0)throw Error(re(407));n=n()}else n=e();var l=!$r((ft||s).memoizedState,n);if(l&&(s.memoizedState=n,dn=!0),s=s.queue,hg(Z9.bind(null,i,s,t),[t]),s.getSnapshot!==e||l||cn!==null&&cn.memoizedState.tag&1){if(i.flags|=2048,A0(9,{destroy:void 0},G9.bind(null,i,s,n,e),null),xt===null)throw Error(re(349));a||Fs&127||V9(i,e,n)}return n}function V9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e=k1(),Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function G9(t,e,n,i){e.value=n,e.getSnapshot=i,K9(e)&&W9(t)}function Z9(t,e,n){return n(function(){K9(e)&&W9(t)})}function K9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$r(t,n)}catch{return!0}}function W9(t){var e=vo(t,2);e!==null&&jr(e,t,2)}function W4(t){var e=Qn();if(typeof t=="function"){var n=t;if(t=n(),co){Da(!0);try{n()}finally{Da(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:t},e}function Y9(t,e,n,i){return t.baseState=n,ug(t,ft,typeof i=="function"?i:Us)}function MC(t,e,n,i,s){if(N1(t))throw Error(re(485));if(t=e.action,t!==null){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};He.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,X9(e,a)):(a.next=n.next,e.pending=n.next=a)}}function X9(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var a=He.T,l={};He.T=l;try{var c=n(s,i),u=He.S;u!==null&&u(l,c),O6(t,e,c)}catch(h){Y4(t,e,h)}finally{a!==null&&l.types!==null&&(a.types=l.types),He.T=a}}else try{a=n(s,i),O6(t,e,a)}catch(h){Y4(t,e,h)}}function O6(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){q6(t,e,i)},function(i){return Y4(t,e,i)}):q6(t,e,n)}function q6(t,e,n){e.status="fulfilled",e.value=n,Q9(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,X9(t,n)))}function Y4(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Q9(e),e=e.next;while(e!==i)}t.action=null}function Q9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function J9(t,e){return e}function I6(t,e){if(et){var n=xt.formState;if(n!==null){e:{var i=Ze;if(et){if(Nt){t:{for(var s=Nt,a=ni;s.nodeType!==8;){if(!a){s=null;break t}if(s=li(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Nt=li(s.nextSibling),i=s.data==="F!";break e}}nl(i)}i=!1}i&&(e=n[0])}}return n=Qn(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J9,lastRenderedState:e},n.queue=i,n=pj.bind(null,Ze,i),i.dispatch=n,i=W4(!1),a=pg.bind(null,Ze,!1,i.queue),i=Qn(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=MC.bind(null,Ze,s,a,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function L6(t){var e=an();return ej(e,ft,t)}function ej(t,e,n){if(e=ug(t,e,J9)[0],t=qd(Us)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=eh(e)}catch(l){throw l===U0?S1:l}else i=e;e=an();var s=e.queue,a=s.dispatch;return n!==e.memoizedState&&(Ze.flags|=2048,A0(9,{destroy:void 0},zC.bind(null,s,n),null)),[i,a,t]}function zC(t,e){t.action=e}function B6(t){var e=an(),n=ft;if(n!==null)return ej(e,n,t);an(),e=e.memoizedState,n=an();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function A0(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=Ze.updateQueue,e===null&&(e=k1(),Ze.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function tj(){return an().memoizedState}function Id(t,e,n,i){var s=Qn();Ze.flags|=t,s.memoizedState=A0(1|e,{destroy:void 0},n,i===void 0?null:i)}function A1(t,e,n,i){var s=an();i=i===void 0?null:i;var a=s.memoizedState.inst;ft!==null&&i!==null&&ig(i,ft.memoizedState.deps)?s.memoizedState=A0(e,a,n,i):(Ze.flags|=t,s.memoizedState=A0(1|e,a,n,i))}function P6(t,e){Id(8390656,8,t,e)}function hg(t,e){A1(2048,8,t,e)}function DC(t){Ze.flags|=4;var e=Ze.updateQueue;if(e===null)e=k1(),Ze.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function nj(t){var e=an().memoizedState;return DC({ref:e,nextImpl:t}),function(){if(lt&2)throw Error(re(440));return e.impl.apply(void 0,arguments)}}function rj(t,e){return A1(4,2,t,e)}function ij(t,e){return A1(4,4,t,e)}function sj(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aj(t,e,n){n=n!=null?n.concat([t]):null,A1(4,4,sj.bind(null,e,t),n)}function dg(){}function lj(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&ig(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function oj(t,e){var n=an();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&ig(e,i[1]))return i[0];if(i=t(),co){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[i,e],i}function mg(t,e,n){return n===void 0||Fs&1073741824&&!(Je&261930)?t.memoizedState=e:(t.memoizedState=n,t=Yj(),Ze.lanes|=t,il|=t,n)}function cj(t,e,n,i){return $r(n,e)?n:T0.current!==null?(t=mg(t,n,i),$r(t,e)||(dn=!0),t):!(Fs&42)||Fs&1073741824&&!(Je&261930)?(dn=!0,t.memoizedState=n):(t=Yj(),Ze.lanes|=t,il|=t,e)}function uj(t,e,n,i,s){var a=ot.p;ot.p=a!==0&&8>a?a:8;var l=He.T,c={};He.T=c,pg(t,!1,e,n);try{var u=s(),h=He.S;if(h!==null&&h(c,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=_C(u,i);eu(t,e,m,Br(t))}else eu(t,e,i,Br(t))}catch(f){eu(t,e,{then:function(){},status:"rejected",reason:f},Br())}finally{ot.p=a,l!==null&&c.types!==null&&(l.types=c.types),He.T=l}}function RC(){}function X4(t,e,n,i){if(t.tag!==5)throw Error(re(476));var s=hj(t).queue;uj(t,s,e,Jl,n===null?RC:function(){return dj(t),n(i)})}function hj(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Jl,baseState:Jl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:Jl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function dj(t){var e=hj(t);e.next===null&&(e=t.alternate.memoizedState),eu(t,e.next.queue,{},Br())}function fg(){return Pn(Nu)}function mj(){return an().memoizedState}function fj(){return an().memoizedState}function OC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Br();t=Ha(n);var i=Va(e,t,n);i!==null&&(jr(i,e,n),Xc(i,e,n)),e={cache:Jx()},t.payload=e;return}e=e.return}}function qC(t,e,n){var i=Br();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},N1(t)?xj(e,n):(n=Wx(t,e,n,i),n!==null&&(jr(n,t,i),gj(n,e,i)))}function pj(t,e,n){var i=Br();eu(t,e,n,i)}function eu(t,e,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(N1(t))xj(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(s.hasEagerState=!0,s.eagerState=c,$r(c,l))return w1(t,e,s,0),xt===null&&j1(),!1}catch{}finally{}if(n=Wx(t,e,s,i),n!==null)return jr(n,t,i),gj(n,e,i),!0}return!1}function pg(t,e,n,i){if(i={lane:2,revertLane:kg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},N1(t)){if(e)throw Error(re(479))}else e=Wx(t,n,i,2),e!==null&&jr(e,t,2)}function N1(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function xj(t,e){h0=xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gj(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,n9(t,n)}}var ku={readContext:Pn,use:T1,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};ku.useEffectEvent=Kt;var vj={readContext:Pn,use:T1,useCallback:function(t,e){return Qn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:P6,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Id(4194308,4,sj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Id(4194308,4,t,e)},useInsertionEffect:function(t,e){Id(4,2,t,e)},useMemo:function(t,e){var n=Qn();e=e===void 0?null:e;var i=t();if(co){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Qn();if(n!==void 0){var s=n(e);if(co){Da(!0);try{n(e)}finally{Da(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=qC.bind(null,Ze,t),[i.memoizedState,t]},useRef:function(t){var e=Qn();return t={current:t},e.memoizedState=t},useState:function(t){t=W4(t);var e=t.queue,n=pj.bind(null,Ze,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:dg,useDeferredValue:function(t,e){var n=Qn();return mg(n,t,e)},useTransition:function(){var t=W4(!1);return t=uj.bind(null,Ze,t.queue,!0,!1),Qn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=Ze,s=Qn();if(et){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),xt===null)throw Error(re(349));Je&127||V9(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,P6(Z9.bind(null,i,a,t),[t]),i.flags|=2048,A0(9,{destroy:void 0},G9.bind(null,i,a,n,e),null),n},useId:function(){var t=Qn(),e=xt.identifierPrefix;if(et){var n=$i,i=Pi;n=(i&~(1<<32-Lr(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=gm++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=EC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:fg,useFormState:I6,useActionState:I6,useOptimistic:function(t){var e=Qn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=pg.bind(null,Ze,!0,n),n.dispatch=e,[t,e]},useMemoCache:cg,useCacheRefresh:function(){return Qn().memoizedState=OC.bind(null,Ze)},useEffectEvent:function(t){var e=Qn(),n={impl:t};return e.memoizedState=n,function(){if(lt&2)throw Error(re(440));return n.impl.apply(void 0,arguments)}}},xg={readContext:Pn,use:T1,useCallback:lj,useContext:Pn,useEffect:hg,useImperativeHandle:aj,useInsertionEffect:rj,useLayoutEffect:ij,useMemo:oj,useReducer:qd,useRef:tj,useState:function(){return qd(Us)},useDebugValue:dg,useDeferredValue:function(t,e){var n=an();return cj(n,ft.memoizedState,t,e)},useTransition:function(){var t=qd(Us)[0],e=an().memoizedState;return[typeof t=="boolean"?t:eh(t),e]},useSyncExternalStore:H9,useId:mj,useHostTransitionStatus:fg,useFormState:L6,useActionState:L6,useOptimistic:function(t,e){var n=an();return Y9(n,ft,t,e)},useMemoCache:cg,useCacheRefresh:fj};xg.useEffectEvent=nj;var yj={readContext:Pn,use:T1,useCallback:lj,useContext:Pn,useEffect:hg,useImperativeHandle:aj,useInsertionEffect:rj,useLayoutEffect:ij,useMemo:oj,useReducer:Lf,useRef:tj,useState:function(){return Lf(Us)},useDebugValue:dg,useDeferredValue:function(t,e){var n=an();return ft===null?mg(n,t,e):cj(n,ft.memoizedState,t,e)},useTransition:function(){var t=Lf(Us)[0],e=an().memoizedState;return[typeof t=="boolean"?t:eh(t),e]},useSyncExternalStore:H9,useId:mj,useHostTransitionStatus:fg,useFormState:B6,useActionState:B6,useOptimistic:function(t,e){var n=an();return ft!==null?Y9(n,ft,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:cg,useCacheRefresh:fj};yj.useEffectEvent=nj;function Bf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Q4={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Br(),s=Ha(i);s.payload=e,n!=null&&(s.callback=n),e=Va(t,s,i),e!==null&&(jr(e,t,i),Xc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Br(),s=Ha(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Va(t,s,i),e!==null&&(jr(e,t,i),Xc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Br(),i=Ha(n);i.tag=2,e!=null&&(i.callback=e),e=Va(t,i,n),e!==null&&(jr(e,t,n),Xc(e,t,n))}};function $6(t,e,n,i,s,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,l):e.prototype&&e.prototype.isPureReactComponent?!yu(n,i)||!yu(s,a):!0}function F6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Q4.enqueueReplaceState(e,e.state,null)}function uo(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Et({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function bj(t){cm(t)}function jj(t){console.error(t)}function wj(t){cm(t)}function vm(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function U6(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function J4(t,e,n){return n=Ha(n),n.tag=3,n.payload={element:null},n.callback=function(){vm(t,e)},n}function Sj(t){return t=Ha(t),t.tag=3,t}function kj(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){U6(e,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){U6(e,n,i),typeof s!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var c=i.stack;this.componentDidCatch(i.value,{componentStack:c!==null?c:""})})}function IC(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&F0(e,n,s,!0),n=Fr.current,n!==null){switch(n.tag){case 31:case 13:return ai===null?Sm():n.alternate===null&&Yt===0&&(Yt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===mm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Yf(t,i,s)),!1;case 22:return n.flags|=65536,i===mm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Yf(t,i,s)),!1}throw Error(re(435,n.tag))}return Yf(t,i,s),Sm(),!1}if(et)return e=Fr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==P4&&(t=Error(re(422),{cause:i}),ju(ti(t,n)))):(i!==P4&&(e=Error(re(423),{cause:i}),ju(ti(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=ti(i,n),s=J4(t.stateNode,i,s),If(t,s),Yt!==4&&(Yt=2)),!1;var a=Error(re(520),{cause:i});if(a=ti(a,n),ru===null?ru=[a]:ru.push(a),Yt!==4&&(Yt=2),e===null)return!0;i=ti(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=J4(n.stateNode,i,t),If(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Ga===null||!Ga.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Sj(s),kj(s,t,n,i),If(n,s),!1}n=n.return}while(n!==null);return!1}var gg=Error(re(461)),dn=!1;function qn(t,e,n,i){e.child=t===null?L9(e,null,n,i):oo(e,t.child,n,i)}function H6(t,e,n,i,s){n=n.render;var a=e.ref;if("ref"in i){var l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}else l=i;return lo(e),i=sg(t,e,n,l,a,s),c=ag(),t!==null&&!dn?(lg(t,e,s),Hs(t,e,s)):(et&&c&&Xx(e),e.flags|=1,qn(t,e,i,s),e.child)}function V6(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Yx(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,Tj(t,e,a,i,s)):(t=Rd(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!vg(t,s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:yu,n(l,i)&&t.ref===e.ref)return Hs(t,e,s)}return e.flags|=1,t=Rs(a,i),t.ref=e.ref,t.return=e,e.child=t}function Tj(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(yu(a,i)&&t.ref===e.ref)if(dn=!1,e.pendingProps=i=a,vg(t,s))t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Hs(t,e,s)}return e2(t,e,n,i,s)}function Aj(t,e,n,i){var s=i.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,e.child=null;return G6(t,e,a,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Od(e,a!==null?a.cachePool:null),a!==null?R6(e,a):Z4(),$9(e);else return i=e.lanes=536870912,G6(t,e,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(Od(e,a.cachePool),R6(e,a),Na(),e.memoizedState=null):(t!==null&&Od(e,null),Z4(),Na());return qn(t,e,s,n),e.child}function Pc(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function G6(t,e,n,i,s){var a=eg();return a=a===null?null:{parent:hn._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Od(e,null),Z4(),$9(e),t!==null&&F0(t,e,i,!0),e.childLanes=s,null}function Ld(t,e){return e=ym({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Z6(t,e,n){return oo(e,t.child,null,n),t=Ld(e,e.pendingProps),t.flags|=2,Mr(e),e.memoizedState=null,t}function LC(t,e,n){var i=e.pendingProps,s=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(et){if(i.mode==="hidden")return t=Ld(e,i),e.lanes=536870912,Pc(null,t);if(K4(e),(t=Nt)?(t=vw(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:tl!==null?{id:Pi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},n=M9(t),n.return=e,e.child=n,Bn=e,Nt=null)):t=null,t===null)throw nl(e);return e.lanes=536870912,null}return Ld(e,i)}var a=t.memoizedState;if(a!==null){var l=a.dehydrated;if(K4(e),s)if(e.flags&256)e.flags&=-257,e=Z6(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(re(558));else if(dn||F0(t,e,n,!1),s=(n&t.childLanes)!==0,dn||s){if(i=xt,i!==null&&(l=r9(i,n),l!==0&&l!==a.retryLane))throw a.retryLane=l,vo(t,l),jr(i,t,l),gg;Sm(),e=Z6(t,e,n)}else t=a.treeContext,Nt=li(l.nextSibling),Bn=e,et=!0,Ua=null,ni=!1,t!==null&&D9(e,t),e=Ld(e,i),e.flags|=4096;return e}return t=Rs(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Bd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(re(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function e2(t,e,n,i,s){return lo(e),n=sg(t,e,n,i,void 0,s),i=ag(),t!==null&&!dn?(lg(t,e,s),Hs(t,e,s)):(et&&i&&Xx(e),e.flags|=1,qn(t,e,n,s),e.child)}function K6(t,e,n,i,s,a){return lo(e),e.updateQueue=null,n=U9(e,i,n,s),F9(t),i=ag(),t!==null&&!dn?(lg(t,e,a),Hs(t,e,a)):(et&&i&&Xx(e),e.flags|=1,qn(t,e,n,a),e.child)}function W6(t,e,n,i,s){if(lo(e),e.stateNode===null){var a=Ko,l=n.contextType;typeof l=="object"&&l!==null&&(a=Pn(l)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Q4,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},ng(e),l=n.contextType,a.context=typeof l=="object"&&l!==null?Pn(l):Ko,a.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Bf(e,n,l,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&Q4.enqueueReplaceState(a,a.state,null),Jc(e,i,a,s),Qc(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var c=e.memoizedProps,u=uo(n,c);a.props=u;var h=a.context,m=n.contextType;l=Ko,typeof m=="object"&&m!==null&&(l=Pn(m));var f=n.getDerivedStateFromProps;m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c||h!==l)&&F6(e,a,i,l),ka=!1;var p=e.memoizedState;a.state=p,Jc(e,i,a,s),Qc(),h=e.memoizedState,c||p!==h||ka?(typeof f=="function"&&(Bf(e,n,f,i),h=e.memoizedState),(u=ka||$6(e,n,u,i,p,h,l))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=l,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,V4(t,e),l=e.memoizedProps,m=uo(n,l),a.props=m,f=e.pendingProps,p=a.context,h=n.contextType,u=Ko,typeof h=="object"&&h!==null&&(u=Pn(h)),c=n.getDerivedStateFromProps,(h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==u)&&F6(e,a,i,u),ka=!1,p=e.memoizedState,a.state=p,Jc(e,i,a,s),Qc();var v=e.memoizedState;l!==f||p!==v||ka||t!==null&&t.dependencies!==null&&dm(t.dependencies)?(typeof c=="function"&&(Bf(e,n,c,i),v=e.memoizedState),(m=ka||$6(e,n,m,i,p,v,u)||t!==null&&t.dependencies!==null&&dm(t.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,v,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),a.props=i,a.state=v,a.context=u,i=m):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Bd(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=oo(e,t.child,null,s),e.child=oo(e,null,n,s)):qn(t,e,n,s),e.memoizedState=a.state,t=e.child):t=Hs(t,e,s),t}function Y6(t,e,n,i){return ao(),e.flags|=256,qn(t,e,n,i),e.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:O9()}}function Ff(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Or),t}function Nj(t,e,n){var i=e.pendingProps,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(nn.current&2)!==0),l&&(s=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(et){if(s?Aa(e):Na(),(t=Nt)?(t=vw(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:tl!==null?{id:Pi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},n=M9(t),n.return=e,e.child=n,Bn=e,Nt=null)):t=null,t===null)throw nl(e);return f2(t)?e.lanes=32:e.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(Na(),s=e.mode,c=ym({mode:"hidden",children:c},s),i=eo(i,s,n,null),c.return=e,i.return=e,c.sibling=i,e.child=c,i=e.child,i.memoizedState=$f(n),i.childLanes=Ff(t,l,n),e.memoizedState=Pf,Pc(null,i)):(Aa(e),t2(e,c))}var u=t.memoizedState;if(u!==null&&(c=u.dehydrated,c!==null)){if(a)e.flags&256?(Aa(e),e.flags&=-257,e=Uf(t,e,n)):e.memoizedState!==null?(Na(),e.child=t.child,e.flags|=128,e=null):(Na(),c=i.fallback,s=e.mode,i=ym({mode:"visible",children:i.children},s),c=eo(c,s,n,null),c.flags|=2,i.return=e,c.return=e,i.sibling=c,e.child=i,oo(e,t.child,null,n),i=e.child,i.memoizedState=$f(n),i.childLanes=Ff(t,l,n),e.memoizedState=Pf,e=Pc(null,i));else if(Aa(e),f2(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var h=l.dgst;l=h,i=Error(re(419)),i.stack="",i.digest=l,ju({value:i,source:null,stack:null}),e=Uf(t,e,n)}else if(dn||F0(t,e,n,!1),l=(n&t.childLanes)!==0,dn||l){if(l=xt,l!==null&&(i=r9(l,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,vo(t,i),jr(l,t,i),gg;m2(c)||Sm(),e=Uf(t,e,n)}else m2(c)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Nt=li(c.nextSibling),Bn=e,et=!0,Ua=null,ni=!1,t!==null&&D9(e,t),e=t2(e,i.children),e.flags|=4096);return e}return s?(Na(),c=i.fallback,s=e.mode,u=t.child,h=u.sibling,i=Rs(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?c=Rs(h,c):(c=eo(c,s,n,null),c.flags|=2),c.return=e,i.return=e,i.sibling=c,e.child=i,Pc(null,i),i=e.child,c=t.child.memoizedState,c===null?c=$f(n):(s=c.cachePool,s!==null?(u=hn._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=O9(),c={baseLanes:c.baseLanes|n,cachePool:s}),i.memoizedState=c,i.childLanes=Ff(t,l,n),e.memoizedState=Pf,Pc(t.child,i)):(Aa(e),n=t.child,t=n.sibling,n=Rs(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function t2(t,e){return e=ym({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ym(t,e){return t=zr(22,t,null,e),t.lanes=0,t}function Uf(t,e,n){return oo(e,t.child,null,n),t=t2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X6(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),F4(t.return,e,n)}function Hf(t,e,n,i,s,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=s,l.treeForkCount=a)}function _j(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var l=nn.current,c=(l&2)!==0;if(c?(l=l&1|2,e.flags|=128):l&=1,jt(nn,l),qn(t,e,i,n),i=et?bu:0,!c&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X6(t,n,e);else if(t.tag===19)X6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hf(e,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hf(e,!0,n,null,a,i);break;case"together":Hf(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function Hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(n&e.childLanes))if(t!==null){if(F0(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&dm(t)))}function BC(t,e,n){switch(e.tag){case 3:sm(e,e.stateNode.containerInfo),Ta(e,hn,t.memoizedState.cache),ao();break;case 27:case 5:E4(e);break;case 4:sm(e,e.stateNode.containerInfo);break;case 10:Ta(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,K4(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Aa(e),e.flags|=128,null):n&e.child.childLanes?Nj(t,e,n):(Aa(e),t=Hs(t,e,n),t!==null?t.sibling:null);Aa(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(F0(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return _j(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(nn,nn.current),i)break;return null;case 22:return e.lanes=0,Aj(t,e,n,e.pendingProps);case 24:Ta(e,hn,t.memoizedState.cache)}return Hs(t,e,n)}function Ej(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)dn=!0;else{if(!vg(t,n)&&!(e.flags&128))return dn=!1,BC(t,e,n);dn=!!(t.flags&131072)}else dn=!1,et&&e.flags&1048576&&z9(e,bu,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Fl(e.elementType),e.type=t,typeof t=="function")Yx(t)?(i=uo(t,i),e.tag=1,e=W6(null,e,t,i,n)):(e.tag=0,e=e2(null,e,t,i,n));else{if(t!=null){var s=t.$$typeof;if(s===qx){e.tag=11,e=H6(null,e,t,i,n);break e}else if(s===Ix){e.tag=14,e=V6(null,e,t,i,n);break e}}throw e=N4(t)||t,Error(re(306,e,""))}}return e;case 0:return e2(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=uo(i,e.pendingProps),W6(t,e,i,s,n);case 3:e:{if(sm(e,e.stateNode.containerInfo),t===null)throw Error(re(387));i=e.pendingProps;var a=e.memoizedState;s=a.element,V4(t,e),Jc(e,i,null,n);var l=e.memoizedState;if(i=l.cache,Ta(e,hn,i),i!==a.cache&&U4(e,[hn],n,!0),Qc(),i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Y6(t,e,i,n);break e}else if(i!==s){s=ti(Error(re(424)),e),ju(s),e=Y6(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Nt=li(t.firstChild),Bn=e,et=!0,Ua=null,ni=!0,n=L9(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ao(),i===s){e=Hs(t,e,n);break e}qn(t,e,i,n)}e=e.child}return e;case 26:return Bd(t,e),t===null?(n=gv(e.type,null,e.pendingProps,null))?e.memoizedState=n:et||(n=e.type,t=e.pendingProps,i=Nm(Fa.current).createElement(n),i[Ln]=e,i[wr]=t,$n(i,n,t),Cn(i),e.stateNode=i):e.memoizedState=gv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return E4(e),t===null&&et&&(i=e.stateNode=yw(e.type,e.pendingProps,Fa.current),Bn=e,ni=!0,s=Nt,gl(e.type)?(p2=s,Nt=li(i.firstChild)):Nt=s),qn(t,e,e.pendingProps.children,n),Bd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&et&&((s=i=Nt)&&(i=pM(i,e.type,e.pendingProps,ni),i!==null?(e.stateNode=i,Bn=e,Nt=li(i.firstChild),ni=!1,s=!0):s=!1),s||nl(e)),E4(e),s=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,h2(s,a)?i=null:l!==null&&h2(s,l)&&(e.flags|=32),e.memoizedState!==null&&(s=sg(t,e,CC,null,null,n),Nu._currentValue=s),Bd(t,e),qn(t,e,i,n),e.child;case 6:return t===null&&et&&((t=n=Nt)&&(n=xM(n,e.pendingProps,ni),n!==null?(e.stateNode=n,Bn=e,Nt=null,t=!0):t=!1),t||nl(e)),null;case 13:return Nj(t,e,n);case 4:return sm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=oo(e,null,i,n):qn(t,e,i,n),e.child;case 11:return H6(t,e,e.type,e.pendingProps,n);case 7:return qn(t,e,e.pendingProps,n),e.child;case 8:return qn(t,e,e.pendingProps.children,n),e.child;case 12:return qn(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,Ta(e,e.type,i.value),qn(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,lo(e),s=Pn(s),i=i(s),e.flags|=1,qn(t,e,i,n),e.child;case 14:return V6(t,e,e.type,e.pendingProps,n);case 15:return Tj(t,e,e.type,e.pendingProps,n);case 19:return _j(t,e,n);case 31:return LC(t,e,n);case 22:return Aj(t,e,n,e.pendingProps);case 24:return lo(e),i=Pn(hn),t===null?(s=eg(),s===null&&(s=xt,a=Jx(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),e.memoizedState={parent:i,cache:s},ng(e),Ta(e,hn,s)):(t.lanes&n&&(V4(t,e),Jc(e,null,null,n),Qc()),s=t.memoizedState,a=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Ta(e,hn,i)):(i=a.cache,Ta(e,hn,i),i!==s.cache&&U4(e,[hn],n,!0))),qn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(re(156,e.tag))}function vs(t){t.flags|=4}function Vf(t,e,n,i,s){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(s&335544128)===s)if(t.stateNode.complete)t.flags|=8192;else if(Jj())t.flags|=8192;else throw no=mm,tg}else t.flags&=-16777217}function Q6(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ww(e))if(Jj())t.flags|=8192;else throw no=mm,tg}function Zh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?e9():536870912,t.lanes|=e,N0|=e)}function Nc(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function PC(t,e,n){var i=e.pendingProps;switch(Qx(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return At(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Os(hn),j0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Do(e)?vs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qf())),At(e),null;case 26:var s=e.type,a=e.memoizedState;return t===null?(vs(e),a!==null?(At(e),Q6(e,a)):(At(e),Vf(e,s,null,i,n))):a?a!==t.memoizedState?(vs(e),At(e),Q6(e,a)):(At(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&vs(e),At(e),Vf(e,s,t,i,n)),null;case 27:if(am(e),n=Fa.current,s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vs(e);else{if(!i){if(e.stateNode===null)throw Error(re(166));return At(e),null}t=Ki.current,Do(e)?N6(e):(t=yw(s,i,n),e.stateNode=t,vs(e))}return At(e),null;case 5:if(am(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vs(e);else{if(!i){if(e.stateNode===null)throw Error(re(166));return At(e),null}if(a=Ki.current,Do(e))N6(e);else{var l=Nm(Fa.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?l.createElement(s,{is:i.is}):l.createElement(s)}}a[Ln]=e,a[wr]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=a;e:switch($n(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vs(e)}}return At(e),Vf(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&vs(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(re(166));if(t=Fa.current,Do(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=Bn,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[Ln]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||pw(t.nodeValue,n)),t||nl(e,!0)}else t=Nm(t).createTextNode(i),t[Ln]=e,e.stateNode=t}return At(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Do(e),n!==null){if(t===null){if(!i)throw Error(re(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(557));t[Ln]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),t=!1}else n=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Mr(e),e):(Mr(e),null);if(e.flags&128)throw Error(re(558))}return At(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Do(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Ln]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else s=qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Mr(e),e):(Mr(e),null)}return Mr(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Zh(e,e.updateQueue),At(e),null);case 4:return j0(),t===null&&Tg(e.stateNode.containerInfo),At(e),null;case 10:return Os(e.type),At(e),null;case 19:if(Mn(nn),i=e.memoizedState,i===null)return At(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)Nc(i,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=pm(t),a!==null){for(e.flags|=128,Nc(i,!1),t=a.updateQueue,e.updateQueue=t,Zh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)C9(n,t),n=n.sibling;return jt(nn,nn.current&1|2),et&&ks(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&qr()>jm&&(e.flags|=128,s=!0,Nc(i,!1),e.lanes=4194304)}else{if(!s)if(t=pm(a),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Zh(e,t),Nc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!et)return At(e),null}else 2*qr()-i.renderingStartTime>jm&&n!==536870912&&(e.flags|=128,s=!0,Nc(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qr(),t.sibling=null,n=nn.current,jt(nn,s?n&1|2:n&1),et&&ks(e,i.treeForkCount),t):(At(e),null);case 22:case 23:return Mr(e),rg(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),n=e.updateQueue,n!==null&&Zh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Mn(to),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Os(hn),At(e),null;case 25:return null;case 30:return null}throw Error(re(156,e.tag))}function $C(t,e){switch(Qx(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(hn),j0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return am(e),null;case 31:if(e.memoizedState!==null){if(Mr(e),e.alternate===null)throw Error(re(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Mr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mn(nn),null;case 4:return j0(),null;case 10:return Os(e.type),null;case 22:case 23:return Mr(e),rg(),t!==null&&Mn(to),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Os(hn),null;case 25:return null;default:return null}}function Cj(t,e){switch(Qx(e),e.tag){case 3:Os(hn),j0();break;case 26:case 27:case 5:am(e);break;case 4:j0();break;case 31:e.memoizedState!==null&&Mr(e);break;case 13:Mr(e);break;case 19:Mn(nn);break;case 10:Os(e.type);break;case 22:case 23:Mr(e),rg(),t!==null&&Mn(to);break;case 24:Os(hn)}}function th(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create,l=n.inst;i=a(),l.destroy=i}n=n.next}while(n!==s)}}catch(c){dt(e,e.return,c)}}function rl(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&t)===t){var l=i.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,s=e;var u=n,h=c;try{h()}catch(m){dt(s,u,m)}}}i=i.next}while(i!==a)}}catch(m){dt(e,e.return,m)}}function Mj(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{P9(e,n)}catch(i){dt(t,t.return,i)}}}function zj(t,e,n){n.props=uo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){dt(t,e,i)}}function tu(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){dt(t,e,s)}}function Fi(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){dt(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){dt(t,e,s)}else n.current=null}function Dj(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){dt(t,t.return,s)}}function Gf(t,e,n){try{var i=t.stateNode;cM(i,t.type,n,e),i[wr]=e}catch(s){dt(t,t.return,s)}}function Rj(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gl(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function n2(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_s));else if(i!==4&&(i===27&&gl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(n2(t,e,n),t=t.sibling;t!==null;)n2(t,e,n),t=t.sibling}function bm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&gl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(bm(t,e,n),t=t.sibling;t!==null;)bm(t,e,n),t=t.sibling}function Oj(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);$n(e,i,n),e[Ln]=t,e[wr]=n}catch(a){dt(t,t.return,a)}}var As=!1,un=!1,Kf=!1,J6=typeof WeakSet=="function"?WeakSet:Set,En=null;function FC(t,e){if(t=t.containerInfo,c2=Mm,t=w9(t),Zx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,c=-1,u=-1,h=0,m=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(c=l+s),f!==a||i!==0&&f.nodeType!==3||(u=l+i),f.nodeType===3&&(l+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++h===s&&(c=l),p===a&&++m===i&&(u=l),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(u2={focusedElem:t,selectionRange:n},Mm=!1,En=e;En!==null;)if(e=En,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,En=t;else for(;En!==null;){switch(e=En,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)s=t[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var T=uo(n.type,s);t=i.getSnapshotBeforeUpdate(T,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(M){dt(n,n.return,M)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)d2(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":d2(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(re(163))}if(t=e.sibling,t!==null){t.return=e.return,En=t;break}En=e.return}}function qj(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:bs(t,n),i&4&&th(5,n);break;case 1:if(bs(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){dt(n,n.return,l)}else{var s=uo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){dt(n,n.return,l)}}i&64&&Mj(n),i&512&&tu(n,n.return);break;case 3:if(bs(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{P9(t,e)}catch(l){dt(n,n.return,l)}}break;case 27:e===null&&i&4&&Oj(n);case 26:case 5:bs(t,n),e===null&&i&4&&Dj(n),i&512&&tu(n,n.return);break;case 12:bs(t,n);break;case 31:bs(t,n),i&4&&Bj(t,n);break;case 13:bs(t,n),i&4&&Pj(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=XC.bind(null,n),gM(t,n))));break;case 22:if(i=n.memoizedState!==null||As,!i){e=e!==null&&e.memoizedState!==null||un,s=As;var a=un;As=i,(un=e)&&!a?Ss(t,n,(n.subtreeFlags&8772)!==0):bs(t,n),As=s,un=a}break;case 30:break;default:bs(t,n)}}function Ij(t){var e=t.alternate;e!==null&&(t.alternate=null,Ij(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&$x(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,pr=!1;function ys(t,e,n){for(n=n.child;n!==null;)Lj(t,e,n),n=n.sibling}function Lj(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(Ku,n)}catch{}switch(n.tag){case 26:un||Fi(n,e),ys(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:un||Fi(n,e);var i=Ct,s=pr;gl(n.type)&&(Ct=n.stateNode,pr=!1),ys(t,e,n),su(n.stateNode),Ct=i,pr=s;break;case 5:un||Fi(n,e);case 6:if(i=Ct,s=pr,Ct=null,ys(t,e,n),Ct=i,pr=s,Ct!==null)if(pr)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(n.stateNode)}catch(a){dt(n,e,a)}else try{Ct.removeChild(n.stateNode)}catch(a){dt(n,e,a)}break;case 18:Ct!==null&&(pr?(t=Ct,dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),M0(t)):dv(Ct,n.stateNode));break;case 4:i=Ct,s=pr,Ct=n.stateNode.containerInfo,pr=!0,ys(t,e,n),Ct=i,pr=s;break;case 0:case 11:case 14:case 15:rl(2,n,e),un||rl(4,n,e),ys(t,e,n);break;case 1:un||(Fi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&zj(n,e,i)),ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:un=(i=un)||n.memoizedState!==null,ys(t,e,n),un=i;break;default:ys(t,e,n)}}function Bj(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{M0(t)}catch(n){dt(e,e.return,n)}}}function Pj(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{M0(t)}catch(n){dt(e,e.return,n)}}function UC(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new J6),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new J6),e;default:throw Error(re(435,t.tag))}}function Kh(t,e){var n=UC(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var s=QC.bind(null,t,i);i.then(s,s)}})}function mr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(gl(c.type)){Ct=c.stateNode,pr=!1;break e}break;case 5:Ct=c.stateNode,pr=!1;break e;case 3:case 4:Ct=c.stateNode.containerInfo,pr=!0;break e}c=c.return}if(Ct===null)throw Error(re(160));Lj(a,l,s),Ct=null,pr=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)$j(e,t),e=e.sibling}var ki=null;function $j(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mr(e,t),fr(t),i&4&&(rl(3,t,t.return),th(3,t),rl(5,t,t.return));break;case 1:mr(e,t),fr(t),i&512&&(un||n===null||Fi(n,n.return)),i&64&&As&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=ki;if(mr(e,t),fr(t),i&512&&(un||n===null||Fi(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[Xu]||a[Ln]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),$n(a,i,n),a[Ln]=t,Cn(a),i=a;break e;case"link":var l=yv("link","href",s).get(i+(n.href||""));if(l){for(var c=0;c<l.length;c++)if(a=l[c],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(c,1);break t}}a=s.createElement(i),$n(a,i,n),s.head.appendChild(a);break;case"meta":if(l=yv("meta","content",s).get(i+(n.content||""))){for(c=0;c<l.length;c++)if(a=l[c],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(c,1);break t}}a=s.createElement(i),$n(a,i,n),s.head.appendChild(a);break;default:throw Error(re(468,i))}a[Ln]=t,Cn(a),i=a}t.stateNode=i}else bv(s,t.type,t.stateNode);else t.stateNode=vv(s,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?bv(s,t.type,t.stateNode):vv(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Gf(t,t.memoizedProps,n.memoizedProps)}break;case 27:mr(e,t),fr(t),i&512&&(un||n===null||Fi(n,n.return)),n!==null&&i&4&&Gf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(mr(e,t),fr(t),i&512&&(un||n===null||Fi(n,n.return)),t.flags&32){s=t.stateNode;try{S0(s,"")}catch(T){dt(t,t.return,T)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Gf(t,s,n!==null?n.memoizedProps:s)),i&1024&&(Kf=!0);break;case 6:if(mr(e,t),fr(t),i&4){if(t.stateNode===null)throw Error(re(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(T){dt(t,t.return,T)}}break;case 3:if(Fd=null,s=ki,ki=_m(e.containerInfo),mr(e,t),ki=s,fr(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{M0(e.containerInfo)}catch(T){dt(t,t.return,T)}Kf&&(Kf=!1,Fj(t));break;case 4:i=ki,ki=_m(t.stateNode.containerInfo),mr(e,t),fr(t),ki=i;break;case 12:mr(e,t),fr(t);break;case 31:mr(e,t),fr(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kh(t,i)));break;case 13:mr(e,t),fr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(_1=qr()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kh(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=As,m=un;if(As=h||s,un=m||u,mr(e,t),un=m,As=h,fr(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||As||un||Ul(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,s)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=u.stateNode;var f=u.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;c.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(T){dt(u,u.return,T)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(T){dt(u,u.return,T)}}}else if(e.tag===18){if(n===null){u=e;try{var v=u.stateNode;s?mv(v,!0):mv(u.stateNode,!1)}catch(T){dt(u,u.return,T)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kh(t,n))));break;case 19:mr(e,t),fr(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Kh(t,i)));break;case 30:break;case 21:break;default:mr(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Rj(i)){n=i;break}i=i.return}if(n==null)throw Error(re(160));switch(n.tag){case 27:var s=n.stateNode,a=Zf(t);bm(t,a,s);break;case 5:var l=n.stateNode;n.flags&32&&(S0(l,""),n.flags&=-33);var c=Zf(t);bm(t,c,l);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Zf(t);n2(t,h,u);break;default:throw Error(re(161))}}catch(m){dt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fj(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Fj(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function bs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qj(t,e.alternate,e),e=e.sibling}function Ul(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:rl(4,e,e.return),Ul(e);break;case 1:Fi(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&zj(e,e.return,n),Ul(e);break;case 27:su(e.stateNode);case 26:case 5:Fi(e,e.return),Ul(e);break;case 22:e.memoizedState===null&&Ul(e);break;case 30:Ul(e);break;default:Ul(e)}t=t.sibling}}function Ss(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:Ss(s,a,n),th(4,a);break;case 1:if(Ss(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){dt(i,i.return,h)}if(i=a,s=i.updateQueue,s!==null){var c=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)B9(u[s],c)}catch(h){dt(i,i.return,h)}}n&&l&64&&Mj(a),tu(a,a.return);break;case 27:Oj(a);case 26:case 5:Ss(s,a,n),n&&i===null&&l&4&&Dj(a),tu(a,a.return);break;case 12:Ss(s,a,n);break;case 31:Ss(s,a,n),n&&l&4&&Bj(s,a);break;case 13:Ss(s,a,n),n&&l&4&&Pj(s,a);break;case 22:a.memoizedState===null&&Ss(s,a,n),tu(a,a.return);break;case 30:break;default:Ss(s,a,n)}e=e.sibling}}function yg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ju(n))}function bg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ju(t))}function bi(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uj(t,e,n,i),e=e.sibling}function Uj(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:bi(t,e,n,i),s&2048&&th(9,e);break;case 1:bi(t,e,n,i);break;case 3:bi(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ju(t)));break;case 12:if(s&2048){bi(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,l=a.id,c=a.onPostCommit;typeof c=="function"&&c(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){dt(e,e.return,u)}}else bi(t,e,n,i);break;case 31:bi(t,e,n,i);break;case 13:bi(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,l=e.alternate,e.memoizedState!==null?a._visibility&2?bi(t,e,n,i):nu(t,e):a._visibility&2?bi(t,e,n,i):(a._visibility|=2,Lo(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),s&2048&&yg(l,e);break;case 24:bi(t,e,n,i),s&2048&&bg(e.alternate,e);break;default:bi(t,e,n,i)}}function Lo(t,e,n,i,s){for(s=s&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,l=e,c=n,u=i,h=l.flags;switch(l.tag){case 0:case 11:case 15:Lo(a,l,c,u,s),th(8,l);break;case 23:break;case 22:var m=l.stateNode;l.memoizedState!==null?m._visibility&2?Lo(a,l,c,u,s):nu(a,l):(m._visibility|=2,Lo(a,l,c,u,s)),s&&h&2048&&yg(l.alternate,l);break;case 24:Lo(a,l,c,u,s),s&&h&2048&&bg(l.alternate,l);break;default:Lo(a,l,c,u,s)}e=e.sibling}}function nu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:nu(n,i),s&2048&&yg(i.alternate,i);break;case 24:nu(n,i),s&2048&&bg(i.alternate,i);break;default:nu(n,i)}e=e.sibling}}var $c=8192;function Ro(t,e,n){if(t.subtreeFlags&$c)for(t=t.child;t!==null;)Hj(t,e,n),t=t.sibling}function Hj(t,e,n){switch(t.tag){case 26:Ro(t,e,n),t.flags&$c&&t.memoizedState!==null&&EM(n,ki,t.memoizedState,t.memoizedProps);break;case 5:Ro(t,e,n);break;case 3:case 4:var i=ki;ki=_m(t.stateNode.containerInfo),Ro(t,e,n),ki=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=$c,$c=16777216,Ro(t,e,n),$c=i):Ro(t,e,n));break;default:Ro(t,e,n)}}function Vj(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function _c(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];En=i,Zj(i,t)}Vj(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gj(t),t=t.sibling}function Gj(t){switch(t.tag){case 0:case 11:case 15:_c(t),t.flags&2048&&rl(9,t,t.return);break;case 3:_c(t);break;case 12:_c(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Pd(t)):_c(t);break;default:_c(t)}}function Pd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];En=i,Zj(i,t)}Vj(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:rl(8,e,e.return),Pd(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Pd(e));break;default:Pd(e)}t=t.sibling}}function Zj(t,e){for(;En!==null;){var n=En;switch(n.tag){case 0:case 11:case 15:rl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ju(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,En=i;else e:for(n=t;En!==null;){i=En;var s=i.sibling,a=i.return;if(Ij(i),i===n){En=null;break e}if(s!==null){s.return=a,En=s;break e}En=a}}}var HC={getCacheForType:function(t){var e=Pn(hn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Pn(hn).controller.signal}},VC=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,Qe=null,Je=0,ut=0,Er=null,Oa=!1,H0=!1,jg=!1,Vs=0,Yt=0,il=0,ro=0,wg=0,Or=0,N0=0,ru=null,vr=null,r2=!1,_1=0,Kj=0,jm=1/0,wm=null,Ga=null,vn=0,Za=null,_0=null,qs=0,i2=0,s2=null,Wj=null,iu=0,a2=null;function Br(){return lt&2&&Je!==0?Je&-Je:He.T!==null?kg():i9()}function Yj(){if(Or===0)if(!(Je&536870912)||et){var t=Ph;Ph<<=1,!(Ph&3932160)&&(Ph=262144),Or=t}else Or=536870912;return t=Fr.current,t!==null&&(t.flags|=32),Or}function jr(t,e,n){(t===xt&&(ut===2||ut===9)||t.cancelPendingCommit!==null)&&(E0(t,0),qa(t,Je,Or,!1)),Yu(t,n),(!(lt&2)||t!==xt)&&(t===xt&&(!(lt&2)&&(ro|=n),Yt===4&&qa(t,Je,Or,!1)),ts(t))}function Xj(t,e,n){if(lt&6)throw Error(re(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Wu(t,e),s=i?KC(t,e):Wf(t,e,!0),a=i;do{if(s===0){H0&&!i&&qa(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!GC(n)){s=Wf(t,e,!1),a=!1;continue}if(s===2){if(a=e,t.errorRecoveryDisabledLanes&a)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var c=t;s=ru;var u=c.current.memoizedState.isDehydrated;if(u&&(E0(c,l).flags|=256),l=Wf(c,l,!1),l!==2){if(jg&&!u){c.errorRecoveryDisabledLanes|=a,ro|=a,s=4;break e}a=vr,vr=s,a!==null&&(vr===null?vr=a:vr.push.apply(vr,a))}s=l}if(a=!1,s!==2)continue}}if(s===1){E0(t,0),qa(t,e,0,!0);break}e:{switch(i=t,a=s,a){case 0:case 1:throw Error(re(345));case 4:if((e&4194048)!==e)break;case 6:qa(i,e,Or,!Oa);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(re(329))}if((e&62914560)===e&&(s=_1+300-qr(),10<s)){if(qa(i,e,Or,!Oa),g1(i,0,!0)!==0)break e;qs=e,i.timeoutHandle=gw(ev.bind(null,i,n,vr,wm,r2,e,Or,ro,N0,Oa,a,"Throttled",-0,0),s);break e}ev(i,n,vr,wm,r2,e,Or,ro,N0,Oa,a,null,-0,0)}}break}while(!0);ts(t)}function ev(t,e,n,i,s,a,l,c,u,h,m,f,p,v){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_s},Hj(e,a,f);var T=(a&62914560)===a?_1-qr():(a&4194048)===a?Kj-qr():0;if(T=CM(f,T),T!==null){qs=a,t.cancelPendingCommit=T(nv.bind(null,t,e,a,n,i,s,l,c,u,m,f,null,p,v)),qa(t,a,l,!h);return}}nv(t,e,a,n,i,s,l,c,u)}function GC(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!$r(a(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qa(t,e,n,i){e&=~wg,e&=~ro,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var a=31-Lr(s),l=1<<a;i[a]=-1,s&=~l}n!==0&&t9(t,n,e)}function E1(){return lt&6?!0:(nh(0),!1)}function Sg(){if(Qe!==null){if(ut===0)var t=Qe.return;else t=Qe,Es=yo=null,og(t),u0=null,wu=0,t=Qe;for(;t!==null;)Cj(t.alternate,t),t=t.return;Qe=null}}function E0(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,dM(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),qs=0,Sg(),xt=t,Qe=n=Rs(t.current,null),Je=e,ut=0,Er=null,Oa=!1,H0=Wu(t,e),jg=!1,N0=Or=wg=ro=il=Yt=0,vr=ru=null,r2=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Lr(i),a=1<<s;e|=t[s],i&=~a}return Vs=e,j1(),n}function Qj(t,e){Ze=null,He.H=ku,e===U0||e===S1?(e=z6(),ut=3):e===tg?(e=z6(),ut=4):ut=e===gg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Er=e,Qe===null&&(Yt=1,vm(t,ti(e,t.current)))}function Jj(){var t=Fr.current;return t===null?!0:(Je&4194048)===Je?ai===null:(Je&62914560)===Je||Je&536870912?t===ai:!1}function ew(){var t=He.H;return He.H=ku,t===null?ku:t}function tw(){var t=He.A;return He.A=HC,t}function Sm(){Yt=4,Oa||(Je&4194048)!==Je&&Fr.current!==null||(H0=!0),!(il&134217727)&&!(ro&134217727)||xt===null||qa(xt,Je,Or,!1)}function Wf(t,e,n){var i=lt;lt|=2;var s=ew(),a=tw();(xt!==t||Je!==e)&&(wm=null,E0(t,e)),e=!1;var l=Yt;e:do try{if(ut!==0&&Qe!==null){var c=Qe,u=Er;switch(ut){case 8:Sg(),l=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(e=!0);var h=ut;if(ut=0,Er=null,Xo(t,c,u,h),n&&H0){l=0;break e}break;default:h=ut,ut=0,Er=null,Xo(t,c,u,h)}}ZC(),l=Yt;break}catch(m){Qj(t,m)}while(!0);return e&&t.shellSuspendCounter++,Es=yo=null,lt=i,He.H=s,He.A=a,Qe===null&&(xt=null,Je=0,j1()),l}function ZC(){for(;Qe!==null;)nw(Qe)}function KC(t,e){var n=lt;lt|=2;var i=ew(),s=tw();xt!==t||Je!==e?(wm=null,jm=qr()+500,E0(t,e)):H0=Wu(t,e);e:do try{if(ut!==0&&Qe!==null){e=Qe;var a=Er;t:switch(ut){case 1:ut=0,Er=null,Xo(t,e,a,1);break;case 2:case 9:if(M6(a)){ut=0,Er=null,tv(e);break}e=function(){ut!==2&&ut!==9||xt!==t||(ut=7),ts(t)},a.then(e,e);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:M6(a)?(ut=0,Er=null,tv(e)):(ut=0,Er=null,Xo(t,e,a,7));break;case 5:var l=null;switch(Qe.tag){case 26:l=Qe.memoizedState;case 5:case 27:var c=Qe;if(l?ww(l):c.stateNode.complete){ut=0,Er=null;var u=c.sibling;if(u!==null)Qe=u;else{var h=c.return;h!==null?(Qe=h,C1(h)):Qe=null}break t}}ut=0,Er=null,Xo(t,e,a,5);break;case 6:ut=0,Er=null,Xo(t,e,a,6);break;case 8:Sg(),Yt=6;break e;default:throw Error(re(462))}}WC();break}catch(m){Qj(t,m)}while(!0);return Es=yo=null,He.H=i,He.A=s,lt=n,Qe!==null?0:(xt=null,Je=0,j1(),Yt)}function WC(){for(;Qe!==null&&!vE();)nw(Qe)}function nw(t){var e=Ej(t.alternate,t,Vs);t.memoizedProps=t.pendingProps,e===null?C1(t):Qe=e}function tv(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=K6(n,e,e.pendingProps,e.type,void 0,Je);break;case 11:e=K6(n,e,e.pendingProps,e.type.render,e.ref,Je);break;case 5:og(e);default:Cj(n,e),e=Qe=C9(e,Vs),e=Ej(n,e,Vs)}t.memoizedProps=t.pendingProps,e===null?C1(t):Qe=e}function Xo(t,e,n,i){Es=yo=null,og(e),u0=null,wu=0;var s=e.return;try{if(IC(t,s,e,n,Je)){Yt=1,vm(t,ti(n,t.current)),Qe=null;return}}catch(a){if(s!==null)throw Qe=s,a;Yt=1,vm(t,ti(n,t.current)),Qe=null;return}e.flags&32768?(et||i===1?t=!0:H0||Je&536870912?t=!1:(Oa=t=!0,(i===2||i===9||i===3||i===6)&&(i=Fr.current,i!==null&&i.tag===13&&(i.flags|=16384))),rw(e,t)):C1(e)}function C1(t){var e=t;do{if(e.flags&32768){rw(e,Oa);return}t=e.return;var n=PC(e.alternate,e,Vs);if(n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Yt===0&&(Yt=5)}function rw(t,e){do{var n=$C(t.alternate,t);if(n!==null){n.flags&=32767,Qe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=n}while(t!==null);Yt=6,Qe=null}function nv(t,e,n,i,s,a,l,c,u){t.cancelPendingCommit=null;do M1();while(vn!==0);if(lt&6)throw Error(re(327));if(e!==null){if(e===t.current)throw Error(re(177));if(a=e.lanes|e.childLanes,a|=Kx,_E(t,n,a,l,c,u),t===xt&&(Qe=xt=null,Je=0),_0=e,Za=t,qs=n,i2=a,s2=s,Wj=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,JC(lm,function(){return ow(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=He.T,He.T=null,s=ot.p,ot.p=2,l=lt,lt|=4;try{FC(t,e,n)}finally{lt=l,ot.p=s,He.T=i}}vn=1,iw(),sw(),aw()}}function iw(){if(vn===1){vn=0;var t=Za,e=_0,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=He.T,He.T=null;var i=ot.p;ot.p=2;var s=lt;lt|=4;try{$j(e,t);var a=u2,l=w9(t.containerInfo),c=a.focusedElem,u=a.selectionRange;if(l!==c&&c&&c.ownerDocument&&j9(c.ownerDocument.documentElement,c)){if(u!==null&&Zx(c)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in c)c.selectionStart=h,c.selectionEnd=Math.min(m,c.value.length);else{var f=c.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var v=p.getSelection(),T=c.textContent.length,M=Math.min(u.start,T),q=u.end===void 0?M:Math.min(u.end,T);!v.extend&&M>q&&(l=q,q=M,M=l);var S=k6(c,M),A=k6(c,q);if(S&&A&&(v.rangeCount!==1||v.anchorNode!==S.node||v.anchorOffset!==S.offset||v.focusNode!==A.node||v.focusOffset!==A.offset)){var N=f.createRange();N.setStart(S.node,S.offset),v.removeAllRanges(),M>q?(v.addRange(N),v.extend(A.node,A.offset)):(N.setEnd(A.node,A.offset),v.addRange(N))}}}}for(f=[],v=c;v=v.parentNode;)v.nodeType===1&&f.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<f.length;c++){var L=f[c];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Mm=!!c2,u2=c2=null}finally{lt=s,ot.p=i,He.T=n}}t.current=e,vn=2}}function sw(){if(vn===2){vn=0;var t=Za,e=_0,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=He.T,He.T=null;var i=ot.p;ot.p=2;var s=lt;lt|=4;try{qj(t,e.alternate,e)}finally{lt=s,ot.p=i,He.T=n}}vn=3}}function aw(){if(vn===4||vn===3){vn=0,yE();var t=Za,e=_0,n=qs,i=Wj;e.subtreeFlags&10256||e.flags&10256?vn=5:(vn=0,_0=Za=null,lw(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(Ga=null),Px(n),e=e.stateNode,Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(Ku,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=He.T,s=ot.p,ot.p=2,He.T=null;try{for(var a=t.onRecoverableError,l=0;l<i.length;l++){var c=i[l];a(c.value,{componentStack:c.stack})}}finally{He.T=e,ot.p=s}}qs&3&&M1(),ts(t),s=t.pendingLanes,n&261930&&s&42?t===a2?iu++:(iu=0,a2=t):iu=0,nh(0)}}function lw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ju(e)))}function M1(){return iw(),sw(),aw(),ow()}function ow(){if(vn!==5)return!1;var t=Za,e=i2;i2=0;var n=Px(qs),i=He.T,s=ot.p;try{ot.p=32>n?32:n,He.T=null,n=s2,s2=null;var a=Za,l=qs;if(vn=0,_0=Za=null,qs=0,lt&6)throw Error(re(331));var c=lt;if(lt|=4,Gj(a.current),Uj(a,a.current,l,n),lt=c,nh(0,!1),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(Ku,a)}catch{}return!0}finally{ot.p=s,He.T=i,lw(t,e)}}function rv(t,e,n){e=ti(n,e),e=J4(t.stateNode,e,2),t=Va(t,e,2),t!==null&&(Yu(t,2),ts(t))}function dt(t,e,n){if(t.tag===3)rv(t,t,n);else for(;e!==null;){if(e.tag===3){rv(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ga===null||!Ga.has(i))){t=ti(n,t),n=Sj(2),i=Va(e,n,2),i!==null&&(kj(n,i,e,t),Yu(i,2),ts(i));break}}e=e.return}}function Yf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new VC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(jg=!0,s.add(n),t=YC.bind(null,t,e,n),e.then(t,t))}function YC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,xt===t&&(Je&n)===n&&(Yt===4||Yt===3&&(Je&62914560)===Je&&300>qr()-_1?!(lt&2)&&E0(t,0):wg|=n,N0===Je&&(N0=0)),ts(t)}function cw(t,e){e===0&&(e=e9()),t=vo(t,e),t!==null&&(Yu(t,e),ts(t))}function XC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cw(t,n)}function QC(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(re(314))}i!==null&&i.delete(e),cw(t,n)}function JC(t,e){return Lx(t,e)}var km=null,Bo=null,l2=!1,Tm=!1,Xf=!1,Ia=0;function ts(t){t!==Bo&&t.next===null&&(Bo===null?km=Bo=t:Bo=Bo.next=t),Tm=!0,l2||(l2=!0,tM())}function nh(t,e){if(!Xf&&Tm){Xf=!0;do for(var n=!1,i=km;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var l=i.suspendedLanes,c=i.pingedLanes;a=(1<<31-Lr(42|t)+1)-1,a&=s&~(l&~c),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,iv(i,a))}else a=Je,a=g1(i,i===xt?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Wu(i,a)||(n=!0,iv(i,a));i=i.next}while(n);Xf=!1}}function eM(){uw()}function uw(){Tm=l2=!1;var t=0;Ia!==0&&hM()&&(t=Ia);for(var e=qr(),n=null,i=km;i!==null;){var s=i.next,a=hw(i,e);a===0?(i.next=null,n===null?km=s:n.next=s,s===null&&(Bo=n)):(n=i,(t!==0||a&3)&&(Tm=!0)),i=s}vn!==0&&vn!==5||nh(t),Ia!==0&&(Ia=0)}function hw(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-Lr(a),c=1<<l,u=s[l];u===-1?(!(c&n)||c&i)&&(s[l]=NE(c,e)):u<=e&&(t.expiredLanes|=c),a&=~c}if(e=xt,n=Je,n=g1(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ut===2||ut===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Tf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Wu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Tf(i),Px(n)){case 2:case 8:n=Q8;break;case 32:n=lm;break;case 268435456:n=J8;break;default:n=lm}return i=dw.bind(null,t),n=Lx(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Tf(i),t.callbackPriority=2,t.callbackNode=null,2}function dw(t,e){if(vn!==0&&vn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(M1()&&t.callbackNode!==n)return null;var i=Je;return i=g1(t,t===xt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Xj(t,i,e),hw(t,qr()),t.callbackNode!=null&&t.callbackNode===n?dw.bind(null,t):null)}function iv(t,e){if(M1())return null;Xj(t,e,!0)}function tM(){mM(function(){lt&6?Lx(X8,eM):uw()})}function kg(){if(Ia===0){var t=k0;t===0&&(t=Bh,Bh<<=1,!(Bh&261888)&&(Bh=256)),Ia=t}return Ia}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Md(""+t)}function av(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function nM(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var a=sv((s[wr]||null).action),l=i.submitter;l&&(e=(e=l[wr]||null)?sv(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var c=new v1("action","action",null,i,s);t.push({event:c,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ia!==0){var u=l?av(s,l):new FormData(s);X4(n,{pending:!0,data:u,method:s.method,action:a},null,u)}}else typeof a=="function"&&(c.preventDefault(),u=l?av(s,l):new FormData(s),X4(n,{pending:!0,data:u,method:s.method,action:a},a,u))},currentTarget:s}]})}}for(var Qf=0;Qf<B4.length;Qf++){var Jf=B4[Qf],rM=Jf.toLowerCase(),iM=Jf[0].toUpperCase()+Jf.slice(1);Di(rM,"on"+iM)}Di(k9,"onAnimationEnd");Di(T9,"onAnimationIteration");Di(A9,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(bC,"onTransitionRun");Di(jC,"onTransitionStart");Di(wC,"onTransitionCancel");Di(N9,"onTransitionEnd");w0("onMouseEnter",["mouseout","mouseover"]);w0("onMouseLeave",["mouseout","mouseover"]);w0("onPointerEnter",["pointerout","pointerover"]);w0("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==a&&s.isPropagationStopped())break e;a=c,s.currentTarget=h;try{a(s)}catch(m){cm(m)}s.currentTarget=null,a=u}else for(l=0;l<i.length;l++){if(c=i[l],u=c.instance,h=c.currentTarget,c=c.listener,u!==a&&s.isPropagationStopped())break e;a=c,s.currentTarget=h;try{a(s)}catch(m){cm(m)}s.currentTarget=null,a=u}}}}function Xe(t,e){var n=e[M4];n===void 0&&(n=e[M4]=new Set);var i=t+"__bubble";n.has(i)||(fw(e,t,2,!1),n.add(i))}function ep(t,e,n){var i=0;e&&(i|=4),fw(n,t,i,e)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function Tg(t){if(!t[Wh]){t[Wh]=!0,s9.forEach(function(n){n!=="selectionchange"&&(sM.has(n)||ep(n,!1,t),ep(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wh]||(e[Wh]=!0,ep("selectionchange",!1,e))}}function fw(t,e,n,i){switch(Nw(e)){case 2:var s=DM;break;case 8:s=RM;break;default:s=Eg}n=s.bind(null,e,n,t),s=void 0,!q4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function tp(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===s)break;if(l===4)for(l=i.return;l!==null;){var u=l.tag;if((u===3||u===4)&&l.stateNode.containerInfo===s)return;l=l.return}for(;c!==null;){if(l=Fo(c),l===null)return;if(u=l.tag,u===5||u===6||u===26||u===27){i=a=l;continue e}c=c.parentNode}}i=i.return}m9(function(){var h=a,m=Ux(n),f=[];e:{var p=_9.get(t);if(p!==void 0){var v=v1,T=t;switch(t){case"keypress":if(Dd(n)===0)break e;case"keydown":case"keyup":v=QE;break;case"focusin":T="focus",v=Cf;break;case"focusout":T="blur",v=Cf;break;case"beforeblur":case"afterblur":v=Cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=f6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=PE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tC;break;case k9:case T9:case A9:v=UE;break;case N9:v=rC;break;case"scroll":case"scrollend":v=LE;break;case"wheel":v=sC;break;case"copy":case"cut":case"paste":v=VE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=x6;break;case"toggle":case"beforetoggle":v=lC}var M=(e&4)!==0,q=!M&&(t==="scroll"||t==="scrollend"),S=M?p!==null?p+"Capture":null:p;M=[];for(var A=h,N;A!==null;){var L=A;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||S===null||(L=gu(A,S),L!=null&&M.push(Au(A,L,N))),q)break;A=A.return}0<M.length&&(p=new v(p,T,null,n,m),f.push({event:p,listeners:M}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==O4&&(T=n.relatedTarget||n.fromElement)&&(Fo(T)||T[P0]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=h,T=T?Fo(T):null,T!==null&&(q=Zu(T),M=T.tag,T!==q||M!==5&&M!==27&&M!==6)&&(T=null)):(v=null,T=h),v!==T)){if(M=f6,L="onMouseLeave",S="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(M=x6,L="onPointerLeave",S="onPointerEnter",A="pointer"),q=v==null?p:Bc(v),N=T==null?p:Bc(T),p=new M(L,A+"leave",v,n,m),p.target=q,p.relatedTarget=N,L=null,Fo(m)===h&&(M=new M(S,A+"enter",T,n,m),M.target=N,M.relatedTarget=q,L=M),q=L,v&&T)t:{for(M=aM,S=v,A=T,N=0,L=S;L;L=M(L))N++;L=0;for(var U=A;U;U=M(U))L++;for(;0<N-L;)S=M(S),N--;for(;0<L-N;)A=M(A),L--;for(;N--;){if(S===A||A!==null&&S===A.alternate){M=S;break t}S=M(S),A=M(A)}M=null}else M=null;v!==null&&lv(f,p,v,M,!1),T!==null&&q!==null&&lv(f,q,T,M,!0)}}e:{if(p=h?Bc(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var Q=b6;else if(y6(p))if(y9)Q=gC;else{Q=pC;var D=fC}else v=p.nodeName,!v||v.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&Fx(h.elementType)&&(Q=b6):Q=xC;if(Q&&(Q=Q(t,h))){v9(f,Q,n,m);break e}D&&D(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&R4(p,"number",p.value)}switch(D=h?Bc(h):window,t){case"focusin":(y6(D)||D.contentEditable==="true")&&(Vo=D,I4=h,Wc=null);break;case"focusout":Wc=I4=Vo=null;break;case"mousedown":L4=!0;break;case"contextmenu":case"mouseup":case"dragend":L4=!1,T6(f,n,m);break;case"selectionchange":if(yC)break;case"keydown":case"keyup":T6(f,n,m)}var C;if(Gx)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Ho?x9(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(p9&&n.locale!=="ko"&&(Ho||z!=="onCompositionStart"?z==="onCompositionEnd"&&Ho&&(C=f9()):(Ra=m,Hx="value"in Ra?Ra.value:Ra.textContent,Ho=!0)),D=Am(h,z),0<D.length&&(z=new p6(z,t,null,n,m),f.push({event:z,listeners:D}),C?z.data=C:(C=g9(n),C!==null&&(z.data=C)))),(C=cC?uC(t,n):hC(t,n))&&(z=Am(h,"onBeforeInput"),0<z.length&&(D=new p6("onBeforeInput","beforeinput",null,n,m),f.push({event:D,listeners:z}),D.data=C)),nM(f,t,h,n,m)}mw(f,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Am(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=gu(t,n),s!=null&&i.unshift(Au(t,s,a)),s=gu(t,e),s!=null&&i.push(Au(t,s,a))),t.tag===3)return i;t=t.return}return[]}function aM(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,e,n,i,s){for(var a=e._reactName,l=[];n!==null&&n!==i;){var c=n,u=c.alternate,h=c.stateNode;if(c=c.tag,u!==null&&u===i)break;c!==5&&c!==26&&c!==27||h===null||(u=h,s?(h=gu(n,a),h!=null&&l.unshift(Au(n,h,u))):s||(h=gu(n,a),h!=null&&l.push(Au(n,h,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var lM=/\r\n?/g,oM=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(lM,`
`).replace(oM,"")}function pw(t,e){return e=ov(e),ov(t)===e}function mt(t,e,n,i,s,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||S0(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&S0(t,""+i);break;case"className":Fh(t,"class",i);break;case"tabIndex":Fh(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fh(t,n,i);break;case"style":d9(t,i,a);break;case"data":if(e!=="object"){Fh(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Md(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&mt(t,e,"name",s.name,s,null),mt(t,e,"formEncType",s.formEncType,s,null),mt(t,e,"formMethod",s.formMethod,s,null),mt(t,e,"formTarget",s.formTarget,s,null)):(mt(t,e,"encType",s.encType,s,null),mt(t,e,"method",s.method,s,null),mt(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Md(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=_s);break;case"onScroll":i!=null&&Xe("scroll",t);break;case"onScrollEnd":i!=null&&Xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(re(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(re(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Md(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Xe("beforetoggle",t),Xe("toggle",t),Cd(t,"popover",i);break;case"xlinkActuate":gs(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":gs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":gs(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":gs(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":gs(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":gs(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":gs(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":gs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":gs(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Cd(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=qE.get(n)||n,Cd(t,n,i))}}function o2(t,e,n,i,s,a){switch(n){case"style":d9(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(re(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(re(60));t.innerHTML=n}}break;case"children":typeof i=="string"?S0(t,i):(typeof i=="number"||typeof i=="bigint")&&S0(t,""+i);break;case"onScroll":i!=null&&Xe("scroll",t);break;case"onScrollEnd":i!=null&&Xe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!a9.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),a=t[wr]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Cd(t,n,i)}}}function $n(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",t),Xe("load",t);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(l!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(re(137,e));default:mt(t,e,a,l,n,null)}}s&&mt(t,e,"srcSet",n.srcSet,n,null),i&&mt(t,e,"src",n.src,n,null);return;case"input":Xe("invalid",t);var c=a=l=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":s=m;break;case"type":l=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(re(137,e));break;default:mt(t,e,i,m,n,null)}}c9(t,a,c,u,h,l,s,!1);return;case"select":Xe("invalid",t),i=l=a=null;for(s in n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case"value":a=c;break;case"defaultValue":l=c;break;case"multiple":i=c;default:mt(t,e,s,c,n,null)}e=a,n=l,t.multiple=!!i,e!=null?l0(t,!!i,e,!1):n!=null&&l0(t,!!i,n,!0);return;case"textarea":Xe("invalid",t),a=s=i=null;for(l in n)if(n.hasOwnProperty(l)&&(c=n[l],c!=null))switch(l){case"value":i=c;break;case"defaultValue":s=c;break;case"children":a=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(re(91));break;default:mt(t,e,l,c,n,null)}h9(t,i,s,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(t,e,u,i,n,null)}return;case"dialog":Xe("beforetoggle",t),Xe("toggle",t),Xe("cancel",t),Xe("close",t);break;case"iframe":case"object":Xe("load",t);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Xe(Tu[i],t);break;case"image":Xe("error",t),Xe("load",t);break;case"details":Xe("toggle",t);break;case"embed":case"source":case"link":Xe("error",t),Xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(re(137,e));default:mt(t,e,h,i,n,null)}return;default:if(Fx(e)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&o2(t,e,m,i,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(i=n[c],i!=null&&mt(t,e,c,i,n,null))}function cM(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,l=null,c=null,u=null,h=null,m=null;for(v in n){var f=n[v];if(n.hasOwnProperty(v)&&f!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=f;default:i.hasOwnProperty(v)||mt(t,e,v,null,i,f)}}for(var p in i){var v=i[p];if(f=n[p],i.hasOwnProperty(p)&&(v!=null||f!=null))switch(p){case"type":a=v;break;case"name":s=v;break;case"checked":h=v;break;case"defaultChecked":m=v;break;case"value":l=v;break;case"defaultValue":c=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(re(137,e));break;default:v!==f&&mt(t,e,p,v,i,f)}}D4(t,l,c,u,h,m,a,s);return;case"select":v=l=c=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(a)||mt(t,e,a,null,i,u)}for(s in i)if(a=i[s],u=n[s],i.hasOwnProperty(s)&&(a!=null||u!=null))switch(s){case"value":p=a;break;case"defaultValue":c=a;break;case"multiple":l=a;default:a!==u&&mt(t,e,s,a,i,u)}e=c,n=l,i=v,p!=null?l0(t,!!n,p,!1):!!i!=!!n&&(e!=null?l0(t,!!n,e,!0):l0(t,!!n,n?[]:"",!1));return;case"textarea":v=p=null;for(c in n)if(s=n[c],n.hasOwnProperty(c)&&s!=null&&!i.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:mt(t,e,c,null,i,s)}for(l in i)if(s=i[l],a=n[l],i.hasOwnProperty(l)&&(s!=null||a!=null))switch(l){case"value":p=s;break;case"defaultValue":v=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(re(91));break;default:s!==a&&mt(t,e,l,s,i,a)}u9(t,p,v);return;case"option":for(var T in n)if(p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T))switch(T){case"selected":t.selected=!1;break;default:mt(t,e,T,null,i,p)}for(u in i)if(p=i[u],v=n[u],i.hasOwnProperty(u)&&p!==v&&(p!=null||v!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:mt(t,e,u,p,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)p=n[M],n.hasOwnProperty(M)&&p!=null&&!i.hasOwnProperty(M)&&mt(t,e,M,null,i,p);for(h in i)if(p=i[h],v=n[h],i.hasOwnProperty(h)&&p!==v&&(p!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(re(137,e));break;default:mt(t,e,h,p,i,v)}return;default:if(Fx(e)){for(var q in n)p=n[q],n.hasOwnProperty(q)&&p!==void 0&&!i.hasOwnProperty(q)&&o2(t,e,q,void 0,i,p);for(m in i)p=i[m],v=n[m],!i.hasOwnProperty(m)||p===v||p===void 0&&v===void 0||o2(t,e,m,p,i,v);return}}for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S)&&mt(t,e,S,null,i,p);for(f in i)p=i[f],v=n[f],!i.hasOwnProperty(f)||p===v||p==null&&v==null||mt(t,e,f,p,i,v)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uM(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,l=s.initiatorType,c=s.duration;if(a&&c&&cv(l)){for(l=0,c=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>c)break;var m=u.transferSize,f=u.initiatorType;m&&cv(f)&&(u=u.responseEnd,l+=m*(u<c?1:(c-h)/(u-h)))}if(--i,e+=8*(a+l)/(s.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var c2=null,u2=null;function Nm(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function h2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=null;function hM(){var t=window.event;return t&&t.type==="popstate"?t===np?!1:(np=t,!0):(np=null,!1)}var gw=typeof setTimeout=="function"?setTimeout:void 0,dM=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(fM)}:gw;function fM(t){setTimeout(function(){throw t})}function gl(t){return t==="head"}function dv(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(s),M0(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")su(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,su(n);for(var a=n.firstChild;a;){var l=a.nextSibling,c=a.nodeName;a[Xu]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}else n==="body"&&su(t.ownerDocument.body);n=s}while(n);M0(e)}function mv(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function d2(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":d2(n),$x(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function pM(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Xu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function xM(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=li(t.nextSibling),t===null))return null;return t}function vw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=li(t.nextSibling),t===null))return null;return t}function m2(t){return t.data==="$?"||t.data==="$~"}function f2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gM(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var p2=null;function fv(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return li(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function pv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function yw(t,e,n){switch(e=Nm(n),t){case"html":if(t=e.documentElement,!t)throw Error(re(452));return t;case"head":if(t=e.head,!t)throw Error(re(453));return t;case"body":if(t=e.body,!t)throw Error(re(454));return t;default:throw Error(re(451))}}function su(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);$x(t)}var ci=new Map,xv=new Set;function _m(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=ot.d;ot.d={f:vM,r:yM,D:bM,C:jM,L:wM,m:SM,X:TM,S:kM,M:AM};function vM(){var t=ra.f(),e=E1();return t||e}function yM(t){var e=$0(t);e!==null&&e.tag===5&&e.type==="form"?dj(e):ra.r(t)}var V0=typeof document>"u"?null:document;function bw(t,e,n){var i=V0;if(i&&typeof e=="string"&&e){var s=ei(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),xv.has(s)||(xv.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),$n(e,"link",t),Cn(e),i.head.appendChild(e)))}}function bM(t){ra.D(t),bw("dns-prefetch",t,null)}function jM(t,e){ra.C(t,e),bw("preconnect",t,e)}function wM(t,e,n){ra.L(t,e,n);var i=V0;if(i&&t&&e){var s='link[rel="preload"][as="'+ei(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ei(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+ei(n.imageSizes)+'"]')):s+='[href="'+ei(t)+'"]';var a=s;switch(e){case"style":a=C0(t);break;case"script":a=G0(t)}ci.has(a)||(t=Et({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ci.set(a,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(rh(a))||e==="script"&&i.querySelector(ih(a))||(e=i.createElement("link"),$n(e,"link",t),Cn(e),i.head.appendChild(e)))}}function SM(t,e){ra.m(t,e);var n=V0;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+ei(i)+'"][href="'+ei(t)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=G0(t)}if(!ci.has(a)&&(t=Et({rel:"modulepreload",href:t},e),ci.set(a,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ih(a)))return}i=n.createElement("link"),$n(i,"link",t),Cn(i),n.head.appendChild(i)}}}function kM(t,e,n){ra.S(t,e,n);var i=V0;if(i&&t){var s=a0(i).hoistableStyles,a=C0(t);e=e||"default";var l=s.get(a);if(!l){var c={loading:0,preload:null};if(l=i.querySelector(rh(a)))c.loading=5;else{t=Et({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ci.get(a))&&Ag(t,n);var u=l=i.createElement("link");Cn(u),$n(u,"link",t),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){c.loading|=1}),u.addEventListener("error",function(){c.loading|=2}),c.loading|=4,$d(l,e,i)}l={type:"stylesheet",instance:l,count:1,state:c},s.set(a,l)}}}function TM(t,e){ra.X(t,e);var n=V0;if(n&&t){var i=a0(n).hoistableScripts,s=G0(t),a=i.get(s);a||(a=n.querySelector(ih(s)),a||(t=Et({src:t,async:!0},e),(e=ci.get(s))&&Ng(t,e),a=n.createElement("script"),Cn(a),$n(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function AM(t,e){ra.M(t,e);var n=V0;if(n&&t){var i=a0(n).hoistableScripts,s=G0(t),a=i.get(s);a||(a=n.querySelector(ih(s)),a||(t=Et({src:t,async:!0,type:"module"},e),(e=ci.get(s))&&Ng(t,e),a=n.createElement("script"),Cn(a),$n(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function gv(t,e,n,i){var s=(s=Fa.current)?_m(s):null;if(!s)throw Error(re(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=C0(n.href),n=a0(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=C0(n.href);var a=a0(s).hoistableStyles,l=a.get(t);if(l||(s=s.ownerDocument||s,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,l),(a=s.querySelector(rh(t)))&&!a._p&&(l.instance=a,l.state.loading=5),ci.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ci.set(t,n),a||NM(s,t,n,l.state))),e&&i===null)throw Error(re(528,""));return l}if(e&&i!==null)throw Error(re(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=G0(n),n=a0(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(re(444,t))}}function C0(t){return'href="'+ei(t)+'"'}function rh(t){return'link[rel="stylesheet"]['+t+"]"}function jw(t){return Et({},t,{"data-precedence":t.precedence,precedence:null})}function NM(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),$n(e,"link",n),Cn(e),t.head.appendChild(e))}function G0(t){return'[src="'+ei(t)+'"]'}function ih(t){return"script[async]"+t}function vv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ei(n.href)+'"]');if(i)return e.instance=i,Cn(i),i;var s=Et({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Cn(i),$n(i,"style",s),$d(i,n.precedence,t),e.instance=i;case"stylesheet":s=C0(n.href);var a=t.querySelector(rh(s));if(a)return e.state.loading|=4,e.instance=a,Cn(a),a;i=jw(n),(s=ci.get(s))&&Ag(i,s),a=(t.ownerDocument||t).createElement("link"),Cn(a);var l=a;return l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),$n(a,"link",i),e.state.loading|=4,$d(a,n.precedence,t),e.instance=a;case"script":return a=G0(n.src),(s=t.querySelector(ih(a)))?(e.instance=s,Cn(s),s):(i=n,(s=ci.get(a))&&(i=Et({},n),Ng(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),Cn(s),$n(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(re(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,$d(i,n.precedence,t));return e.instance}function $d(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,l=0;l<i.length;l++){var c=i[l];if(c.dataset.precedence===e)a=c;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ag(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ng(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Fd=null;function yv(t,e,n){if(Fd===null){var i=new Map,s=Fd=new Map;s.set(n,i)}else s=Fd,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[Xu]||a[Ln]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var c=i.get(l);c?c.push(a):i.set(l,[a])}}return i}function bv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function _M(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ww(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function EM(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=C0(i.href),a=e.querySelector(rh(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Em.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,Cn(a);return}a=e.ownerDocument||e,i=jw(i),(s=ci.get(s))&&Ag(i,s),a=a.createElement("link"),Cn(a);var l=a;l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),$n(a,"link",i),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Em.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var rp=0;function CM(t,e){return t.stylesheets&&t.count===0&&Ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&rp===0&&(rp=62500*uM());var s=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>rp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Em(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cm=null;function Ud(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cm=new Map,e.forEach(MM,t),Cm=null,Em.call(t))}function MM(t,e){if(!(e.state.loading&4)){var n=Cm.get(t);if(n)var i=n.get(null);else{n=new Map,Cm.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var l=s[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}s=e.instance,l=s.getAttribute("data-precedence"),a=n.get(l)||i,a===i&&n.set(null,s),n.set(l,s),this.count++,i=Em.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Nu={$$typeof:Ns,Provider:null,Consumer:null,_currentValue:Jl,_currentValue2:Jl,_threadCount:0};function zM(t,e,n,i,s,a,l,c,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.hiddenUpdates=Af(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Sw(t,e,n,i,s,a,l,c,u,h,m,f){return t=new zM(t,e,n,l,u,h,m,f,c),e=1,a===!0&&(e|=24),a=zr(3,null,null,e),t.current=a,a.stateNode=t,e=Jx(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},ng(a),t}function kw(t){return t?(t=Ko,t):Ko}function Tw(t,e,n,i,s,a){s=kw(s),i.context===null?i.context=s:i.pendingContext=s,i=Ha(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Va(t,i,e),n!==null&&(jr(n,t,e),Xc(n,t,e))}function jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _g(t,e){jv(t,e),(t=t.alternate)&&jv(t,e)}function Aw(t){if(t.tag===13||t.tag===31){var e=vo(t,67108864);e!==null&&jr(e,t,67108864),_g(t,67108864)}}function wv(t){if(t.tag===13||t.tag===31){var e=Br();e=Bx(e);var n=vo(t,e);n!==null&&jr(n,t,e),_g(t,e)}}var Mm=!0;function DM(t,e,n,i){var s=He.T;He.T=null;var a=ot.p;try{ot.p=2,Eg(t,e,n,i)}finally{ot.p=a,He.T=s}}function RM(t,e,n,i){var s=He.T;He.T=null;var a=ot.p;try{ot.p=8,Eg(t,e,n,i)}finally{ot.p=a,He.T=s}}function Eg(t,e,n,i){if(Mm){var s=x2(i);if(s===null)tp(t,e,i,zm,n),Sv(t,i);else if(qM(s,t,e,n,i))i.stopPropagation();else if(Sv(t,i),e&4&&-1<OM.indexOf(t)){for(;s!==null;){var a=$0(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=$l(a.pendingLanes);if(l!==0){var c=a;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var u=1<<31-Lr(l);c.entanglements[1]|=u,l&=~u}ts(a),!(lt&6)&&(jm=qr()+500,nh(0))}}break;case 31:case 13:c=vo(a,2),c!==null&&jr(c,a,2),E1(),_g(a,2)}if(a=x2(i),a===null&&tp(t,e,i,zm,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else tp(t,e,i,null,n)}}function x2(t){return t=Ux(t),Cg(t)}var zm=null;function Cg(t){if(zm=null,t=Fo(t),t!==null){var e=Zu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=G8(e),t!==null)return t;t=null}else if(n===31){if(t=Z8(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zm=t,null}function Nw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bE()){case X8:return 2;case Q8:return 8;case lm:case jE:return 32;case J8:return 268435456;default:return 32}default:return 32}}var g2=!1,Ka=null,Wa=null,Ya=null,_u=new Map,Eu=new Map,_a=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Ec(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=$0(e),e!==null&&Aw(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qM(t,e,n,i,s){switch(e){case"focusin":return Ka=Ec(Ka,t,e,n,i,s),!0;case"dragenter":return Wa=Ec(Wa,t,e,n,i,s),!0;case"mouseover":return Ya=Ec(Ya,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return _u.set(a,Ec(_u.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,Eu.set(a,Ec(Eu.get(a)||null,t,e,n,i,s)),!0}return!1}function _w(t){var e=Fo(t.target);if(e!==null){var n=Zu(e);if(n!==null){if(e=n.tag,e===13){if(e=G8(n),e!==null){t.blockedOn=e,l6(t.priority,function(){wv(n)});return}}else if(e===31){if(e=Z8(n),e!==null){t.blockedOn=e,l6(t.priority,function(){wv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=x2(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);O4=i,n.target.dispatchEvent(i),O4=null}else return e=$0(n),e!==null&&Aw(e),t.blockedOn=n,!1;e.shift()}return!0}function kv(t,e,n){Hd(t)&&n.delete(e)}function IM(){g2=!1,Ka!==null&&Hd(Ka)&&(Ka=null),Wa!==null&&Hd(Wa)&&(Wa=null),Ya!==null&&Hd(Ya)&&(Ya=null),_u.forEach(kv),Eu.forEach(kv)}function Yh(t,e){t.blockedOn===e&&(t.blockedOn=null,g2||(g2=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,IM)))}var Xh=null;function Tv(t){Xh!==t&&(Xh=t,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,function(){Xh===t&&(Xh=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Cg(i||n)===null)continue;break}var a=$0(n);a!==null&&(t.splice(e,3),e-=3,X4(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function M0(t){function e(u){return Yh(u,t)}Ka!==null&&Yh(Ka,t),Wa!==null&&Yh(Wa,t),Ya!==null&&Yh(Ya,t),_u.forEach(e),Eu.forEach(e);for(var n=0;n<_a.length;n++){var i=_a[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<_a.length&&(n=_a[0],n.blockedOn===null);)_w(n),n.blockedOn===null&&_a.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],l=s[wr]||null;if(typeof a=="function")l||Tv(n);else if(l){var c=null;if(a&&a.hasAttribute("formAction")){if(s=a,l=a[wr]||null)c=l.formAction;else if(Cg(s)!==null)continue}else c=l.action;typeof c=="function"?n[i+1]=c:(n.splice(i,3),i-=3),Tv(n)}}}function Ew(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return s=l})},focusReset:"manual",scroll:"manual"})}function e(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),s!==null&&(s(),s=null)}}}function Mg(t){this._internalRoot=t}z1.prototype.render=Mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));var n=e.current,i=Br();Tw(n,i,t,e,null,null)};z1.prototype.unmount=Mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tw(t.current,2,null,t,null,null),E1(),e[P0]=null}};function z1(t){this._internalRoot=t}z1.prototype.unstable_scheduleHydration=function(t){if(t){var e=i9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_a.length&&e!==0&&e<_a[n].priority;n++);_a.splice(n,0,t),n===0&&_w(t)}};var Av=H8.version;if(Av!=="19.2.3")throw Error(re(527,Av,"19.2.3"));ot.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=mE(e),t=t!==null?K8(t):null,t=t===null?null:t.stateNode,t};var LM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:He,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{Ku=Qh.inject(LM),Ir=Qh}catch{}}p1.createRoot=function(t,e){if(!V8(t))throw Error(re(299));var n=!1,i="",s=bj,a=jj,l=wj;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=Sw(t,1,!1,null,null,n,i,null,s,a,l,Ew),t[P0]=e.current,Tg(t),new Mg(e)};p1.hydrateRoot=function(t,e,n){if(!V8(t))throw Error(re(299));var i=!1,s="",a=bj,l=jj,c=wj,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=Sw(t,1,!0,e,n??null,i,s,u,a,l,c,Ew),e.context=kw(null),n=e.current,i=Br(),i=Bx(i),s=Ha(i),s.callback=null,Va(n,s,i),n=i,e.current.lanes=n,Yu(e,n),ts(e),t[P0]=e.current,Tg(t),new z1(e)};p1.version="19.2.3";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(t){console.error(t)}}Cw(),L8.exports=p1;var BM=L8.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cu.apply(this,arguments)}var La;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(La||(La={}));const Nv="popstate";function PM(t){t===void 0&&(t={});function e(s,a){let{pathname:l="/",search:c="",hash:u=""}=bo(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),v2("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=s.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:Dm(a))}function i(s,a){D1(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return FM(e,n,i,t)}function Xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $M(){return Math.random().toString(36).substr(2,8)}function _v(t,e){return{usr:t.state,key:t.key,idx:e}}function v2(t,e,n,i){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||i||$M()})}function Dm(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function FM(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,l=s.history,c=La.Pop,u=null,h=m();h==null&&(h=0,l.replaceState(Cu({},l.state,{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function f(){c=La.Pop;let q=m(),S=q==null?null:q-h;h=q,u&&u({action:c,location:M.location,delta:S})}function p(q,S){c=La.Push;let A=v2(M.location,q,S);n&&n(A,q),h=m()+1;let N=_v(A,h),L=M.createHref(A);try{l.pushState(N,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(L)}a&&u&&u({action:c,location:M.location,delta:1})}function v(q,S){c=La.Replace;let A=v2(M.location,q,S);n&&n(A,q),h=m();let N=_v(A,h),L=M.createHref(A);l.replaceState(N,"",L),a&&u&&u({action:c,location:M.location,delta:0})}function T(q){let S=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof q=="string"?q:Dm(q);return A=A.replace(/ $/,"%20"),Xt(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let M={get action(){return c},get location(){return t(s,l)},listen(q){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Nv,f),u=q,()=>{s.removeEventListener(Nv,f),u=null}},createHref(q){return e(s,q)},createURL:T,encodeLocation(q){let S=T(q);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:v,go(q){return l.go(q)}};return M}var Ev;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ev||(Ev={}));function UM(t,e,n){return n===void 0&&(n="/"),HM(t,e,n)}function HM(t,e,n,i){let s=typeof e=="string"?bo(e):e,a=z0(s.pathname||"/",n);if(a==null)return null;let l=Mw(t);VM(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=nz(a);c=ez(l[u],h)}return c}function Mw(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(a,l,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(Xt(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=Xa([i,u.relativePath]),m=n.concat(u);a.children&&a.children.length>0&&(Xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Mw(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:QM(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let u of zw(a.path))s(a,l,u)}),e}function zw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let l=zw(i.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),s&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function VM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JM(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const GM=/^:[\w-]+$/,ZM=3,KM=2,WM=1,YM=10,XM=-2,Cv=t=>t==="*";function QM(t,e){let n=t.split("/"),i=n.length;return n.some(Cv)&&(i+=XM),e&&(i+=KM),n.filter(s=>!Cv(s)).reduce((s,a)=>s+(GM.test(a)?ZM:a===""?WM:YM),i)}function JM(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function ez(t,e,n){let{routesMeta:i}=t,s={},a="/",l=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=y2({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),p=u.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:Xa([a,f.pathname]),pathnameBase:lz(Xa([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Xa([a,f.pathnameBase]))}return l}function y2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=tz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((h,m,f)=>{let{paramName:p,isOptional:v}=m;if(p==="*"){let M=c[f]||"";l=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const T=c[f];return v&&!T?h[p]=void 0:h[p]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function tz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),D1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function nz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return D1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function z0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const rz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iz=t=>rz.test(t);function sz(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?bo(t):t,a;if(n)if(iz(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),D1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=Mv(n.substring(1),"/"):a=Mv(n,e)}else a=e;return{pathname:a,search:oz(i),hash:cz(s)}}function Mv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ip(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function az(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dw(t,e){let n=az(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Rw(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=bo(t):(s=Cu({},t),Xt(!s.pathname||!s.pathname.includes("?"),ip("?","pathname","search",s)),Xt(!s.pathname||!s.pathname.includes("#"),ip("#","pathname","hash",s)),Xt(!s.search||!s.search.includes("#"),ip("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let f=e.length-1;if(!i&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}c=f>=0?e[f]:"/"}let u=sz(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}const Xa=t=>t.join("/").replace(/\/\/+/g,"/"),lz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ow=["post","put","patch","delete"];new Set(Ow);const hz=["get",...Ow];new Set(hz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mu.apply(this,arguments)}const R1=K.createContext(null),qw=K.createContext(null),vl=K.createContext(null),O1=K.createContext(null),yl=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Iw=K.createContext(null);function dz(t,e){let{relative:n}=e===void 0?{}:e;sh()||Xt(!1);let{basename:i,navigator:s}=K.useContext(vl),{hash:a,pathname:l,search:c}=q1(t,{relative:n}),u=l;return i!=="/"&&(u=l==="/"?i:Xa([i,l])),s.createHref({pathname:u,search:c,hash:a})}function sh(){return K.useContext(O1)!=null}function ah(){return sh()||Xt(!1),K.useContext(O1).location}function Lw(t){K.useContext(vl).static||K.useLayoutEffect(t)}function mz(){let{isDataRoute:t}=K.useContext(yl);return t?Az():fz()}function fz(){sh()||Xt(!1);let t=K.useContext(R1),{basename:e,future:n,navigator:i}=K.useContext(vl),{matches:s}=K.useContext(yl),{pathname:a}=ah(),l=JSON.stringify(Dw(s,n.v7_relativeSplatPath)),c=K.useRef(!1);return Lw(()=>{c.current=!0}),K.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){i.go(h);return}let f=Rw(h,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xa([e,f.pathname])),(m.replace?i.replace:i.push)(f,m.state,m)},[e,i,l,a,t])}function Bw(){let{matches:t}=K.useContext(yl),e=t[t.length-1];return e?e.params:{}}function q1(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=K.useContext(vl),{matches:s}=K.useContext(yl),{pathname:a}=ah(),l=JSON.stringify(Dw(s,i.v7_relativeSplatPath));return K.useMemo(()=>Rw(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function pz(t,e){return xz(t,e)}function xz(t,e,n,i){sh()||Xt(!1);let{navigator:s}=K.useContext(vl),{matches:a}=K.useContext(yl),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let h=ah(),m;if(e){var f;let q=typeof e=="string"?bo(e):e;u==="/"||(f=q.pathname)!=null&&f.startsWith(u)||Xt(!1),m=q}else m=h;let p=m.pathname||"/",v=p;if(u!=="/"){let q=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(q.length).join("/")}let T=UM(t,{pathname:v}),M=jz(T&&T.map(q=>Object.assign({},q,{params:Object.assign({},c,q.params),pathname:Xa([u,s.encodeLocation?s.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?u:Xa([u,s.encodeLocation?s.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,n,i);return e&&M?K.createElement(O1.Provider,{value:{location:Mu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:La.Pop}},M):M}function gz(){let t=Tz(),e=uz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:s},n):null,null)}const vz=K.createElement(gz,null);class yz extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(yl.Provider,{value:this.props.routeContext},K.createElement(Iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bz(t){let{routeContext:e,match:n,children:i}=t,s=K.useContext(R1);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(yl.Provider,{value:e},i)}function jz(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);m>=0||Xt(!1),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<l.length;m++){let f=l[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=m),f.route.id){let{loaderData:p,errors:v}=n,T=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||T){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((m,f,p)=>{let v,T=!1,M=null,q=null;n&&(v=c&&f.route.id?c[f.route.id]:void 0,M=f.route.errorElement||vz,u&&(h<0&&p===0?(Nz("route-fallback"),T=!0,q=null):h===p&&(T=!0,q=f.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,p+1)),A=()=>{let N;return v?N=M:T?N=q:f.route.Component?N=K.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=m,K.createElement(bz,{match:f,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?K.createElement(yz,{location:n.location,revalidation:n.revalidation,component:M,error:v,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var Pw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pw||{}),$w=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($w||{});function wz(t){let e=K.useContext(R1);return e||Xt(!1),e}function Sz(t){let e=K.useContext(qw);return e||Xt(!1),e}function kz(t){let e=K.useContext(yl);return e||Xt(!1),e}function Fw(t){let e=kz(),n=e.matches[e.matches.length-1];return n.route.id||Xt(!1),n.route.id}function Tz(){var t;let e=K.useContext(Iw),n=Sz(),i=Fw();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Az(){let{router:t}=wz(Pw.UseNavigateStable),e=Fw($w.UseNavigateStable),n=K.useRef(!1);return Lw(()=>{n.current=!0}),K.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mu({fromRouteId:e},a)))},[t,e])}const zv={};function Nz(t,e,n){zv[t]||(zv[t]=!0)}function _z(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ja(t){Xt(!1)}function Ez(t){let{basename:e="/",children:n=null,location:i,navigationType:s=La.Pop,navigator:a,static:l=!1,future:c}=t;sh()&&Xt(!1);let u=e.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:a,static:l,future:Mu({v7_relativeSplatPath:!1},c)}),[u,c,a,l]);typeof i=="string"&&(i=bo(i));let{pathname:m="/",search:f="",hash:p="",state:v=null,key:T="default"}=i,M=K.useMemo(()=>{let q=z0(m,u);return q==null?null:{location:{pathname:q,search:f,hash:p,state:v,key:T},navigationType:s}},[u,m,f,p,v,T,s]);return M==null?null:K.createElement(vl.Provider,{value:h},K.createElement(O1.Provider,{children:n,value:M}))}function Cz(t){let{children:e,location:n}=t;return pz(b2(e),n)}new Promise(()=>{});function b2(t,e){e===void 0&&(e=[]);let n=[];return K.Children.forEach(t,(i,s)=>{if(!K.isValidElement(i))return;let a=[...e,s];if(i.type===K.Fragment){n.push.apply(n,b2(i.props.children,a));return}i.type!==ja&&Xt(!1),!i.props.index||!i.props.children||Xt(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=b2(i.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rm.apply(this,arguments)}function Uw(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Mz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zz(t,e){return t.button===0&&(!e||e==="_self")&&!Mz(t)}const Dz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Oz="6";try{window.__reactRouterVersion=Oz}catch{}const qz=K.createContext({isTransitioning:!1}),Iz="startTransition",Dv=aE[Iz];function Lz(t){let{basename:e,children:n,future:i,window:s}=t,a=K.useRef();a.current==null&&(a.current=PM({window:s,v5Compat:!0}));let l=a.current,[c,u]=K.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},m=K.useCallback(f=>{h&&Dv?Dv(()=>u(f)):u(f)},[u,h]);return K.useLayoutEffect(()=>l.listen(m),[l,m]),K.useEffect(()=>_z(i),[i]),K.createElement(Ez,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Bz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=K.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:m,viewTransition:f}=e,p=Uw(e,Dz),{basename:v}=K.useContext(vl),T,M=!1;if(typeof h=="string"&&Pz.test(h)&&(T=h,Bz))try{let N=new URL(window.location.href),L=h.startsWith("//")?new URL(N.protocol+h):new URL(h),U=z0(L.pathname,v);L.origin===N.origin&&U!=null?h=U+L.search+L.hash:M=!0}catch{}let q=dz(h,{relative:s}),S=Fz(h,{replace:l,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:f});function A(N){i&&i(N),N.defaultPrevented||S(N)}return K.createElement("a",Rm({},p,{href:T||q,onClick:M||a?i:A,ref:n,target:u}))}),sp=K.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:a="",end:l=!1,style:c,to:u,viewTransition:h,children:m}=e,f=Uw(e,Rz),p=q1(u,{relative:f.relative}),v=ah(),T=K.useContext(qw),{navigator:M,basename:q}=K.useContext(vl),S=T!=null&&Uz(p)&&h===!0,A=M.encodeLocation?M.encodeLocation(p).pathname:p.pathname,N=v.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(N=N.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&q&&(L=z0(L,q)||L);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=N===A||!l&&N.startsWith(A)&&N.charAt(U)==="/",D=L!=null&&(L===A||!l&&L.startsWith(A)&&L.charAt(A.length)==="/"),C={isActive:Q,isPending:D,isTransitioning:S},z=Q?i:void 0,B;typeof a=="function"?B=a(C):B=[a,Q?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(C):c;return K.createElement(yn,Rm({},f,{"aria-current":z,className:B,ref:n,style:P,to:u,viewTransition:h}),typeof m=="function"?m(C):m)});var j2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j2||(j2={}));var Rv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rv||(Rv={}));function $z(t){let e=K.useContext(R1);return e||Xt(!1),e}function Fz(t,e){let{target:n,replace:i,state:s,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,u=mz(),h=ah(),m=q1(t,{relative:l});return K.useCallback(f=>{if(zz(f,n)){f.preventDefault();let p=i!==void 0?i:Dm(h)===Dm(m);u(t,{replace:p,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[h,u,m,i,s,n,t,a,l,c])}function Uz(t,e){e===void 0&&(e={});let n=K.useContext(qz);n==null&&Xt(!1);let{basename:i}=$z(j2.useViewTransitionState),s=q1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=z0(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=z0(n.nextLocation.pathname,i)||n.nextLocation.pathname;return y2(s.pathname,l)!=null||y2(s.pathname,a)!=null}const zu="koblitz",zg="Number Theory and Cryptography",Hz="A graduate-level course in number theory and cryptography based on Koblitz",Hw="",Vz="https://mathacademy-cyan.vercel.app";var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Gz=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],u=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let p=(c&15)<<2|h>>6,v=h&63;u||(v=64,l||(p=64)),i.push(n[m],n[f],n[p],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||h==null||f==null)throw new Zz;const p=a<<2|c>>4;if(i.push(p),h!==64){const v=c<<4&240|h>>2;if(i.push(v),f!==64){const T=h<<6&192|f;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kz=function(t){const e=Vw(t);return Gw.encodeByteArray(e,!0)},Zw=function(t){return Kz(t).replace(/\./g,"")},Kw=function(t){try{return Gw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=()=>Wz().__FIREBASE_DEFAULTS__,Xz=()=>{if(typeof process>"u"||typeof Ov>"u")return;const t=Ov.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kw(t[1]);return e&&JSON.parse(e)},Dg=()=>{try{return Yz()||Xz()||Qz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ww=t=>{var e,n;return(n=(e=Dg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jz=t=>{const e=Ww(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Yw=()=>{var t;return(t=Dg())===null||t===void 0?void 0:t.config},Xw=t=>{var e;return(e=Dg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function nD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sD(){const t=ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aD(){try{return typeof indexedDB=="object"}catch{return!1}}function lD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="FirebaseError";class ns extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oD,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lh.prototype.create)}}class lh{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?cD(a,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ns(s,c,i)}}function cD(t,e){return t.replace(uD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const uD=/\{\$([^}]+)}/g;function hD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Om(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const a=t[s],l=e[s];if(qv(a)&&qv(l)){if(!Om(a,l))return!1}else if(a!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function dD(t,e){const n=new mD(t,e);return n.subscribe.bind(n)}class mD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=ap),s.error===void 0&&(s.error=ap),s.complete===void 0&&(s.complete=ap);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){return t&&t._delegate?t._delegate:t}class sl{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new eD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hl){return this.instances.has(e)}getOptions(e=Hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hl){return this.component?this.component.multipleInstances?e:Hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xD(t){return t===Hl?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const yD={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},bD=ht.INFO,jD={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},wD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=jD[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=bD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const SD=(t,e)=>e.some(n=>t instanceof n);let Iv,Lv;function kD(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TD(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,w2=new WeakMap,Jw=new WeakMap,lp=new WeakMap,Og=new WeakMap;function AD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Qa(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Qw.set(n,t)}).catch(()=>{}),Og.set(e,t),e}function ND(t){if(w2.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});w2.set(t,e)}let S2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return w2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _D(t){S2=t(S2)}function ED(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(op(this),e,...n);return Jw.set(i,e.sort?e.sort():[e]),Qa(i)}:TD().includes(t)?function(...e){return t.apply(op(this),e),Qa(Qw.get(this))}:function(...e){return Qa(t.apply(op(this),e))}}function CD(t){return typeof t=="function"?ED(t):(t instanceof IDBTransaction&&ND(t),SD(t,kD())?new Proxy(t,S2):t)}function Qa(t){if(t instanceof IDBRequest)return AD(t);if(lp.has(t))return lp.get(t);const e=CD(t);return e!==t&&(lp.set(t,e),Og.set(e,t)),e}const op=t=>Og.get(t);function MD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Qa(l);return i&&l.addEventListener("upgradeneeded",u=>{i(Qa(l.result),u.oldVersion,u.newVersion,Qa(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const zD=["get","getKey","getAll","getAllKeys","count"],DD=["put","add","delete","clear"],cp=new Map;function Bv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=DD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||zD.includes(n)))return;const a=async function(l,...c){const u=this.transaction(l,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return cp.set(e,a),a}_D(t=>({...t,get:(e,n,i)=>Bv(e,n)||t.get(e,n,i),has:(e,n)=>!!Bv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function OD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const k2="@firebase/app",Pv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Rg("@firebase/app"),qD="@firebase/app-compat",ID="@firebase/analytics-compat",LD="@firebase/analytics",BD="@firebase/app-check-compat",PD="@firebase/app-check",$D="@firebase/auth",FD="@firebase/auth-compat",UD="@firebase/database",HD="@firebase/data-connect",VD="@firebase/database-compat",GD="@firebase/functions",ZD="@firebase/functions-compat",KD="@firebase/installations",WD="@firebase/installations-compat",YD="@firebase/messaging",XD="@firebase/messaging-compat",QD="@firebase/performance",JD="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",rR="@firebase/storage-compat",iR="@firebase/firestore",sR="@firebase/vertexai-preview",aR="@firebase/firestore-compat",lR="firebase",oR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="[DEFAULT]",cR={[k2]:"fire-core",[qD]:"fire-core-compat",[LD]:"fire-analytics",[ID]:"fire-analytics-compat",[PD]:"fire-app-check",[BD]:"fire-app-check-compat",[$D]:"fire-auth",[FD]:"fire-auth-compat",[UD]:"fire-rtdb",[HD]:"fire-data-connect",[VD]:"fire-rtdb-compat",[GD]:"fire-fn",[ZD]:"fire-fn-compat",[KD]:"fire-iid",[WD]:"fire-iid-compat",[YD]:"fire-fcm",[XD]:"fire-fcm-compat",[QD]:"fire-perf",[JD]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[rR]:"fire-gcs-compat",[iR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[lR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,uR=new Map,A2=new Map;function $v(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(A2.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;A2.set(e,t);for(const n of Du.values())$v(n,t);for(const n of uR.values())$v(n,t);return!0}function qg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new lh("app","Firebase",hR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=oR;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:T2,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Ja.create("bad-app-name",{appName:String(s)});if(n||(n=Yw()),!n)throw Ja.create("no-options");const a=Du.get(s);if(a){if(Om(n,a.options)&&Om(i,a.config))return a;throw Ja.create("duplicate-app",{appName:s})}const l=new vD(s);for(const u of A2.values())l.addComponent(u);const c=new dR(n,i,l);return Du.set(s,c),c}function tS(t=T2){const e=Du.get(t);if(!e&&t===T2&&Yw())return eS();if(!e)throw Ja.create("no-app",{appName:t});return e}function mR(){return Array.from(Du.values())}function Wi(t,e,n){var i;let s=(i=cR[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(c.join(" "));return}ho(new sl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebase-heartbeat-database",pR=1,Ru="firebase-heartbeat-store";let up=null;function nS(){return up||(up=MD(fR,pR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ja.create("idb-open",{originalErrorMessage:t.message})})),up}async function xR(t){try{const n=(await nS()).transaction(Ru),i=await n.objectStore(Ru).get(rS(t));return await n.done,i}catch(e){if(e instanceof ns)Gs.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function Fv(t,e){try{const i=(await nS()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(e,rS(t)),await i.done}catch(n){if(n instanceof ns)Gs.warn(n.message);else{const i=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(i.message)}}}function rS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,vR=30*24*60*60*1e3;class yR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Uv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=vR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uv(),{heartbeatsToSend:i,unsentEntries:s}=bR(this._heartbeatsCache.heartbeats),a=Zw(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Gs.warn(n),""}}}function Uv(){return new Date().toISOString().substring(0,10)}function bR(t,e=gR){const n=[];let i=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Hv(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aD()?lD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hv(t){return Zw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){ho(new sl("platform-logger",e=>new RD(e),"PRIVATE")),ho(new sl("heartbeat",e=>new yR(e),"PRIVATE")),Wi(k2,Pv,t),Wi(k2,Pv,"esm2017"),Wi("fire-js","")}wR("");var SR="firebase",kR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(SR,kR,"app");function Ig(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TR=iS,sS=new lh("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new Rg("@firebase/auth");function AR(t,...e){qm.logLevel<=ht.WARN&&qm.warn(`Auth (${Z0}): ${t}`,...e)}function Vd(t,...e){qm.logLevel<=ht.ERROR&&qm.error(`Auth (${Z0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,...e){throw Lg(t,...e)}function Yi(t,...e){return Lg(t,...e)}function aS(t,e,n){const i=Object.assign(Object.assign({},TR()),{[e]:n});return new lh("auth","Firebase",i).create(e,{appName:t.name})}function el(t){return aS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return sS.create(t,...e)}function Ve(t,e,...n){if(!t)throw Lg(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function Ks(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NR(){return Vv()==="http:"||Vv()==="https:"}function Vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||rD()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=tD()||iD()}get(){return _R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new ch(3e4,6e4);function I1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function K0(t,e,n,i,s={}){return oS(t,s,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const c=oh(Object.assign({key:t.config.apiKey},l)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},a);return nD()||(h.referrerPolicy="no-referrer"),lS.fetch()(uS(t,t.config.apiHost,n,c),h)})}async function oS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},CR),e);try{const s=new zR(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Jh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw Jh(t,"user-disabled",l);const m=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw aS(t,m,h);Zs(t,m)}}catch(s){if(s instanceof ns)throw s;Zs(t,"network-request-failed",{message:String(s)})}}async function cS(t,e,n,i,s={}){const a=await K0(t,e,n,i,s);return"mfaPendingCredential"in a&&Zs(t,"multi-factor-auth-required",{_serverResponse:a}),a}function uS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Bg(t.config,s):`${t.config.apiScheme}://${s}`}class zR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yi(this.auth,"network-request-failed")),MR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Yi(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(t,e){return K0(t,"POST","/v1/accounts:delete",e)}async function hS(t,e){return K0(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RR(t,e=!1){const n=Ri(t),i=await n.getIdToken(e),s=Pg(i);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:au(hp(s.auth_time)),issuedAtTime:au(hp(s.iat)),expirationTime:au(hp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hp(t){return Number(t)*1e3}function Pg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Kw(n);return s?JSON.parse(s):(Vd("Failed to decode base64 JWT payload"),null)}catch(s){return Vd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Gv(t){const e=Pg(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ns&&OR(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function OR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Ou(t,hS(n,{idToken:i}));Ve(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?dS(a.providerUserInfo):[],c=LR(t.providerData,l),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=u?h:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new _2(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,f)}async function IR(t){const e=Ri(t);await Im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LR(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function dS(t){return t.map(e=>{var{providerId:n}=e,i=Ig(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e){const n=await oS(t,{},async()=>{const i=oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=uS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PR(t,e){return K0(t,"POST","/v2/accounts:revokeToken",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:a}=await BR(e,n);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:a}=n,l=new m0;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Ve(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ve(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new m0,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,a=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _2(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RR(this,e)}reload(){return IR(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Im(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await Ou(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,a,l,c,u,h,m;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,M=(c=n.tenantId)!==null&&c!==void 0?c:void 0,q=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,A=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:N,emailVerified:L,isAnonymous:U,providerData:Q,stsTokenManager:D}=n;Ve(N&&D,e,"internal-error");const C=m0.fromJSON(this.name,D);Ve(typeof N=="string",e,"internal-error"),xa(f,e.name),xa(p,e.name),Ve(typeof L=="boolean",e,"internal-error"),Ve(typeof U=="boolean",e,"internal-error"),xa(v,e.name),xa(T,e.name),xa(M,e.name),xa(q,e.name),xa(S,e.name),xa(A,e.name);const z=new zs({uid:N,auth:e,email:p,emailVerified:L,displayName:f,isAnonymous:U,photoURL:T,phoneNumber:v,tenantId:M,stsTokenManager:C,createdAt:S,lastLoginAt:A});return Q&&Array.isArray(Q)&&(z.providerData=Q.map(B=>Object.assign({},B))),q&&(z._redirectEventId=q),z}static async _fromIdTokenResponse(e,n,i=!1){const s=new m0;s.updateFromServerResponse(n);const a=new zs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Im(a),a}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?dS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new m0;c.updateFromIdToken(i);const u=new zs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function Ds(t){Ks(t instanceof Function,"Expected a class definition");let e=Zv.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mS.type="NONE";const Kv=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class f0{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Gd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Gd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new f0(Ds(Kv),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Ds(Kv);const l=Gd(i,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){const f=zs._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new f0(a,e,i):(a=u[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new f0(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(bS(e))return"Webos";if(pS(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(vS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fS(t=ir()){return/firefox\//i.test(t)}function pS(t=ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=ir()){return/crios\//i.test(t)}function gS(t=ir()){return/iemobile/i.test(t)}function vS(t=ir()){return/android/i.test(t)}function yS(t=ir()){return/blackberry/i.test(t)}function bS(t=ir()){return/webos/i.test(t)}function $g(t=ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $R(t=ir()){var e;return $g(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FR(){return sD()&&document.documentMode===10}function jS(t=ir()){return $g(t)||vS(t)||bS(t)||yS(t)||/windows phone/i.test(t)||gS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e=[]){let n;switch(t){case"Browser":n=Wv(ir());break;case"Worker":n=`${Wv(ir())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Z0}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((l,c)=>{try{const u=e(a);l(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e={}){return K0(t,"GET","/v2/passwordPolicy",I1(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=6;class GR{constructor(e){var n,i,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:VR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,a,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await f0.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hS(this,{idToken:e}),i=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Im(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(el(this));const n=e?Ri(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HR(this),n=new GR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lh("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await PR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await f0.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function L1(t){return Ri(t)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=dD(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KR(t){Fg=t}function WR(t){return Fg.loadJS(t)}function YR(){return Fg.gapiScript}function XR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e){const n=qg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Om(a,e??{}))return s;Zs(s,"already-initialized")}return n.initialize({options:e})}function JR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function eO(t,e,n){const i=L1(t);Ve(i._canInitEmulator,i,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=SS(e),{host:l,port:c}=tO(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${a}//${l}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),nO()}function SS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tO(t){const e=SS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Xv(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:Xv(l)}}}function Xv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(t,e){return cS(t,"POST","/v1/accounts:signInWithIdp",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="http://localhost";class mo extends kS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,a=Ig(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new mo(i,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return p0(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,p0(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,p0(e,n)}buildRequest(){const e={requestUri:rO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends TS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends uh{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ca.credential(n,i)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends uh{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends uh{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return za.credential(n,i)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const a=await zs._fromIdTokenResponse(e,i,s),l=Qv(i);return new fo({user:a,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=Qv(i);return new fo({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function Qv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends ns{constructor(e,n,i,s){var a;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Lm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Lm(e,n,i,s)}}function AS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,a,e,i):a})}async function iO(t,e,n=!1){const i=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(t,e,n=!1){const{auth:i}=t;if(Cs(i.app))return Promise.reject(el(i));const s="reauthenticate";try{const a=await Ou(t,AS(i,s,e,t),n);Ve(a.idToken,i,"internal-error");const l=Pg(a.idToken);Ve(l,i,"internal-error");const{sub:c}=l;return Ve(t.uid===c,i,"user-mismatch"),fo._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zs(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e,n=!1){if(Cs(t.app))return Promise.reject(el(t));const i="signIn",s=await AS(t,i,e),a=await fo._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return cS(t,"POST","/v1/accounts:signInWithCustomToken",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e){if(Cs(t.app))return Promise.reject(el(t));const n=L1(t),i=await lO(n,{token:e,returnSecureToken:!0}),s=await fo._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function cO(t,e,n,i){return Ri(t).onIdTokenChanged(e,n,i)}function uO(t,e,n){return Ri(t).beforeAuthStateChanged(e,n)}function hO(t,e,n,i){return Ri(t).onAuthStateChanged(e,n,i)}function dO(t){return Ri(t).signOut()}const Bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bm,"1"),this.storage.removeItem(Bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e3,fO=10;class _S extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);FR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fO):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},mO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const pO=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ES.type="SESSION";const CS=ES;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new B1(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,a)),u=await xO(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}B1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,u)=>{const h=Ug("",20);s.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function vO(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function yO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jO(){return MS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firebaseLocalStorageDb",wO=1,Pm="firebaseLocalStorage",DS="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function P1(t,e){return t.transaction([Pm],e?"readwrite":"readonly").objectStore(Pm)}function SO(){const t=indexedDB.deleteDatabase(zS);return new hh(t).toPromise()}function E2(){const t=indexedDB.open(zS,wO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Pm,{keyPath:DS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Pm)?e(i):(i.close(),await SO(),e(await E2()))})})}async function Jv(t,e,n){const i=P1(t,!0).put({[DS]:e,value:n});return new hh(i).toPromise()}async function kO(t,e){const n=P1(t,!1).get(e),i=await new hh(n).toPromise();return i===void 0?null:i.value}function e7(t,e){const n=P1(t,!0).delete(e);return new hh(n).toPromise()}const TO=800,AO=3;class RS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>AO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=B1._getInstance(jO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yO(),!this.activeServiceWorker)return;this.sender=new gO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E2();return await Jv(e,Bm,"1"),await e7(e,Bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jv(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>kO(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e7(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=P1(s,!1).getAll();return new hh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RS.type="LOCAL";const NO=RS;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){return e?Ds(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends kS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return p0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return p0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return p0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EO(t){return aO(t.auth,new Hg(t),t.bypassAuthState)}function CO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),sO(n,new Hg(t),t.bypassAuthState)}async function MO(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),iO(n,new Hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EO;case"linkViaPopup":case"linkViaRedirect":return MO;case"reauthViaPopup":case"reauthViaRedirect":return CO;default:Zs(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new ch(2e3,1e4);class Qo extends OS{constructor(e,n,i,s,a){super(e,n,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zO.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="pendingRedirect",Zd=new Map;class RO extends OS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const i=await OO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OO(t,e){const n=LO(e),i=IO(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function qO(t,e){Zd.set(t._key(),e)}function IO(t){return Ds(t._redirectPersistence)}function LO(t){return Gd(DO,t.config.apiKey,t.name)}async function BO(t,e,n=!1){if(Cs(t.app))return Promise.reject(el(t));const i=L1(t),s=_O(i,e),l=await new RO(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=10*60*1e3;class $O{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!qS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PO&&this.cachedEventUids.clear(),this.cachedEventUids.has(t7(e))}saveEventToCache(e){this.cachedEventUids.add(t7(e)),this.lastProcessedEventTime=Date.now()}}function t7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e={}){return K0(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VO=/^https?/;async function GO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UO(t);for(const n of e)try{if(ZO(n))return}catch{}Zs(t,"unauthorized-domain")}function ZO(t){const e=N2(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!VO.test(n))return!1;if(HO.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new ch(3e4,6e4);function n7(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WO(t){return new Promise((e,n)=>{var i,s,a;function l(){n7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n7(),n(Yi(t,"network-request-failed"))},timeout:KO.get()})}if(!((s=(i=Xi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Xi().gapi)===null||a===void 0)&&a.load)l();else{const c=XR("iframefcb");return Xi()[c]=()=>{gapi.load?l():n(Yi(t,"network-request-failed"))},WR(`${YR()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function YO(t){return Kd=Kd||WO(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new ch(5e3,15e3),QO="__/auth/iframe",JO="emulator/auth/iframe",eq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nq(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bg(e,JO):`https://${t.config.authDomain}/${QO}`,i={apiKey:e.apiKey,appName:t.name,v:Z0},s=tq.get(t.config.apiHost);s&&(i.eid=s);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${oh(i).slice(1)}`}async function rq(t){const e=await YO(t),n=Xi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:nq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eq,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const l=Yi(t,"network-request-failed"),c=Xi().setTimeout(()=>{a(l)},XO.get());function u(){Xi().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sq=500,aq=600,lq="_blank",oq="http://localhost";class r7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cq(t,e,n,i=sq,s=aq){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},iq),{width:i.toString(),height:s.toString(),top:a,left:l}),h=ir().toLowerCase();n&&(c=xS(h)?lq:n),fS(h)&&(e=e||oq,u.scrollbars="yes");const m=Object.entries(u).reduce((p,[v,T])=>`${p}${v}=${T},`,"");if($R(h)&&c!=="_self")return uq(e||"",c),new r7(null);const f=window.open(e||"",c,m);Ve(f,t,"popup-blocked");try{f.focus()}catch{}return new r7(f)}function uq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="__/auth/handler",dq="emulator/auth/handler",mq=encodeURIComponent("fac");async function i7(t,e,n,i,s,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Z0,eventId:s};if(e instanceof TS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))l[m]=f}if(e instanceof uh){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),h=u?`#${mq}=${encodeURIComponent(u)}`:"";return`${fq(t)}?${oh(c).slice(1)}${h}`}function fq({config:t}){return t.emulator?Bg(t,dq):`https://${t.authDomain}/${hq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="webStorageSupport";class pq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=BO,this._overrideRedirectResult=qO}async _openPopup(e,n,i,s){var a;Ks((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await i7(e,n,i,N2(),s);return cq(e,l,Ug())}async _openRedirect(e,n,i,s){await this._originValidation(e);const a=await i7(e,n,i,N2(),s);return vO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Ks(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await rq(e),i=new $O(e);return n.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dp,{type:dp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[dp];l!==void 0&&n(!!l),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jS()||pS()||$g()}}const xq=pq;var s7="@firebase/auth",a7="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yq(t){ho(new sl("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ve(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(t)},h=new ZR(i,s,a,u);return JR(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ho(new sl("auth-internal",e=>{const n=L1(e.getProvider("auth").getImmediate());return(i=>new gq(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(s7,a7,vq(t)),Wi(s7,a7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=5*60,jq=Xw("authIdTokenMaxAge")||bq;let l7=null;const wq=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jq)return;const s=n==null?void 0:n.token;l7!==s&&(l7=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Sq(t=tS()){const e=qg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QR(t,{popupRedirectResolver:xq,persistence:[NO,pO,CS]}),i=Xw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=wq(a.toString());uO(n,l,()=>l(n.currentUser)),cO(n,c=>l(c))}}const s=Ww("auth");return s&&eO(n,`http://${s}`),n}function kq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KR({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const a=Yi("internal-error");a.customData=s,n(a)},i.type="text/javascript",i.charset="UTF-8",kq().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yq("Browser");var o7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function z(){}z.prototype=C.prototype,D.D=C.prototype,D.prototype=new z,D.prototype.constructor=D,D.C=function(B,P,F){for(var $=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];return C.prototype[P].apply(B,$)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,C,z){z||(z=0);var B=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)B[P]=C.charCodeAt(z++)|C.charCodeAt(z++)<<8|C.charCodeAt(z++)<<16|C.charCodeAt(z++)<<24;else for(P=0;16>P;++P)B[P]=C[z++]|C[z++]<<8|C[z++]<<16|C[z++]<<24;C=D.g[0],z=D.g[1],P=D.g[2];var F=D.g[3],$=C+(F^z&(P^F))+B[0]+3614090360&4294967295;C=z+($<<7&4294967295|$>>>25),$=F+(P^C&(z^P))+B[1]+3905402710&4294967295,F=C+($<<12&4294967295|$>>>20),$=P+(z^F&(C^z))+B[2]+606105819&4294967295,P=F+($<<17&4294967295|$>>>15),$=z+(C^P&(F^C))+B[3]+3250441966&4294967295,z=P+($<<22&4294967295|$>>>10),$=C+(F^z&(P^F))+B[4]+4118548399&4294967295,C=z+($<<7&4294967295|$>>>25),$=F+(P^C&(z^P))+B[5]+1200080426&4294967295,F=C+($<<12&4294967295|$>>>20),$=P+(z^F&(C^z))+B[6]+2821735955&4294967295,P=F+($<<17&4294967295|$>>>15),$=z+(C^P&(F^C))+B[7]+4249261313&4294967295,z=P+($<<22&4294967295|$>>>10),$=C+(F^z&(P^F))+B[8]+1770035416&4294967295,C=z+($<<7&4294967295|$>>>25),$=F+(P^C&(z^P))+B[9]+2336552879&4294967295,F=C+($<<12&4294967295|$>>>20),$=P+(z^F&(C^z))+B[10]+4294925233&4294967295,P=F+($<<17&4294967295|$>>>15),$=z+(C^P&(F^C))+B[11]+2304563134&4294967295,z=P+($<<22&4294967295|$>>>10),$=C+(F^z&(P^F))+B[12]+1804603682&4294967295,C=z+($<<7&4294967295|$>>>25),$=F+(P^C&(z^P))+B[13]+4254626195&4294967295,F=C+($<<12&4294967295|$>>>20),$=P+(z^F&(C^z))+B[14]+2792965006&4294967295,P=F+($<<17&4294967295|$>>>15),$=z+(C^P&(F^C))+B[15]+1236535329&4294967295,z=P+($<<22&4294967295|$>>>10),$=C+(P^F&(z^P))+B[1]+4129170786&4294967295,C=z+($<<5&4294967295|$>>>27),$=F+(z^P&(C^z))+B[6]+3225465664&4294967295,F=C+($<<9&4294967295|$>>>23),$=P+(C^z&(F^C))+B[11]+643717713&4294967295,P=F+($<<14&4294967295|$>>>18),$=z+(F^C&(P^F))+B[0]+3921069994&4294967295,z=P+($<<20&4294967295|$>>>12),$=C+(P^F&(z^P))+B[5]+3593408605&4294967295,C=z+($<<5&4294967295|$>>>27),$=F+(z^P&(C^z))+B[10]+38016083&4294967295,F=C+($<<9&4294967295|$>>>23),$=P+(C^z&(F^C))+B[15]+3634488961&4294967295,P=F+($<<14&4294967295|$>>>18),$=z+(F^C&(P^F))+B[4]+3889429448&4294967295,z=P+($<<20&4294967295|$>>>12),$=C+(P^F&(z^P))+B[9]+568446438&4294967295,C=z+($<<5&4294967295|$>>>27),$=F+(z^P&(C^z))+B[14]+3275163606&4294967295,F=C+($<<9&4294967295|$>>>23),$=P+(C^z&(F^C))+B[3]+4107603335&4294967295,P=F+($<<14&4294967295|$>>>18),$=z+(F^C&(P^F))+B[8]+1163531501&4294967295,z=P+($<<20&4294967295|$>>>12),$=C+(P^F&(z^P))+B[13]+2850285829&4294967295,C=z+($<<5&4294967295|$>>>27),$=F+(z^P&(C^z))+B[2]+4243563512&4294967295,F=C+($<<9&4294967295|$>>>23),$=P+(C^z&(F^C))+B[7]+1735328473&4294967295,P=F+($<<14&4294967295|$>>>18),$=z+(F^C&(P^F))+B[12]+2368359562&4294967295,z=P+($<<20&4294967295|$>>>12),$=C+(z^P^F)+B[5]+4294588738&4294967295,C=z+($<<4&4294967295|$>>>28),$=F+(C^z^P)+B[8]+2272392833&4294967295,F=C+($<<11&4294967295|$>>>21),$=P+(F^C^z)+B[11]+1839030562&4294967295,P=F+($<<16&4294967295|$>>>16),$=z+(P^F^C)+B[14]+4259657740&4294967295,z=P+($<<23&4294967295|$>>>9),$=C+(z^P^F)+B[1]+2763975236&4294967295,C=z+($<<4&4294967295|$>>>28),$=F+(C^z^P)+B[4]+1272893353&4294967295,F=C+($<<11&4294967295|$>>>21),$=P+(F^C^z)+B[7]+4139469664&4294967295,P=F+($<<16&4294967295|$>>>16),$=z+(P^F^C)+B[10]+3200236656&4294967295,z=P+($<<23&4294967295|$>>>9),$=C+(z^P^F)+B[13]+681279174&4294967295,C=z+($<<4&4294967295|$>>>28),$=F+(C^z^P)+B[0]+3936430074&4294967295,F=C+($<<11&4294967295|$>>>21),$=P+(F^C^z)+B[3]+3572445317&4294967295,P=F+($<<16&4294967295|$>>>16),$=z+(P^F^C)+B[6]+76029189&4294967295,z=P+($<<23&4294967295|$>>>9),$=C+(z^P^F)+B[9]+3654602809&4294967295,C=z+($<<4&4294967295|$>>>28),$=F+(C^z^P)+B[12]+3873151461&4294967295,F=C+($<<11&4294967295|$>>>21),$=P+(F^C^z)+B[15]+530742520&4294967295,P=F+($<<16&4294967295|$>>>16),$=z+(P^F^C)+B[2]+3299628645&4294967295,z=P+($<<23&4294967295|$>>>9),$=C+(P^(z|~F))+B[0]+4096336452&4294967295,C=z+($<<6&4294967295|$>>>26),$=F+(z^(C|~P))+B[7]+1126891415&4294967295,F=C+($<<10&4294967295|$>>>22),$=P+(C^(F|~z))+B[14]+2878612391&4294967295,P=F+($<<15&4294967295|$>>>17),$=z+(F^(P|~C))+B[5]+4237533241&4294967295,z=P+($<<21&4294967295|$>>>11),$=C+(P^(z|~F))+B[12]+1700485571&4294967295,C=z+($<<6&4294967295|$>>>26),$=F+(z^(C|~P))+B[3]+2399980690&4294967295,F=C+($<<10&4294967295|$>>>22),$=P+(C^(F|~z))+B[10]+4293915773&4294967295,P=F+($<<15&4294967295|$>>>17),$=z+(F^(P|~C))+B[1]+2240044497&4294967295,z=P+($<<21&4294967295|$>>>11),$=C+(P^(z|~F))+B[8]+1873313359&4294967295,C=z+($<<6&4294967295|$>>>26),$=F+(z^(C|~P))+B[15]+4264355552&4294967295,F=C+($<<10&4294967295|$>>>22),$=P+(C^(F|~z))+B[6]+2734768916&4294967295,P=F+($<<15&4294967295|$>>>17),$=z+(F^(P|~C))+B[13]+1309151649&4294967295,z=P+($<<21&4294967295|$>>>11),$=C+(P^(z|~F))+B[4]+4149444226&4294967295,C=z+($<<6&4294967295|$>>>26),$=F+(z^(C|~P))+B[11]+3174756917&4294967295,F=C+($<<10&4294967295|$>>>22),$=P+(C^(F|~z))+B[2]+718787259&4294967295,P=F+($<<15&4294967295|$>>>17),$=z+(F^(P|~C))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var z=C-this.blockSize,B=this.B,P=this.h,F=0;F<C;){if(P==0)for(;F<=z;)s(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<C;)if(B[P++]=D.charCodeAt(F++),P==this.blockSize){s(this,B),P=0;break}}else for(;F<C;)if(B[P++]=D[F++],P==this.blockSize){s(this,B),P=0;break}}this.h=P,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var z=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=z&255,z/=256;for(this.u(D),D=Array(16),C=z=0;4>C;++C)for(var B=0;32>B;B+=8)D[z++]=this.g[C]>>>B&255;return D};function a(D,C){var z=c;return Object.prototype.hasOwnProperty.call(z,D)?z[D]:z[D]=C(D)}function l(D,C){this.h=C;for(var z=[],B=!0,P=D.length-1;0<=P;P--){var F=D[P]|0;B&&F==C||(z[P]=F,B=!1)}this.g=z}var c={};function u(D){return-128<=D&&128>D?a(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return q(h(-D));for(var C=[],z=1,B=0;D>=z;B++)C[B]=D/z|0,z*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return q(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=h(Math.pow(C,8)),B=f,P=0;P<D.length;P+=8){var F=Math.min(8,D.length-P),$=parseInt(D.substring(P,P+F),C);8>F?(F=h(Math.pow(C,F)),B=B.j(F).add(h($))):(B=B.j(z),B=B.add(h($)))}return B}var f=u(0),p=u(1),v=u(16777216);t=l.prototype,t.m=function(){if(M(this))return-q(this).m();for(var D=0,C=1,z=0;z<this.g.length;z++){var B=this.i(z);D+=(0<=B?B:4294967296+B)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(M(this))return"-"+q(this).toString(D);for(var C=h(Math.pow(D,6)),z=this,B="";;){var P=L(z,C).g;z=S(z,P.j(C));var F=((0<z.g.length?z.g[0]:z.h)>>>0).toString(D);if(z=P,T(z))return F+B;for(;6>F.length;)F="0"+F;B=F+B}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=S(this,D),M(D)?-1:T(D)?0:1};function q(D){for(var C=D.g.length,z=[],B=0;B<C;B++)z[B]=~D.g[B];return new l(z,~D.h).add(p)}t.abs=function(){return M(this)?q(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),z=[],B=0,P=0;P<=C;P++){var F=B+(this.i(P)&65535)+(D.i(P)&65535),$=(F>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);B=$>>>16,F&=65535,$&=65535,z[P]=$<<16|F}return new l(z,z[z.length-1]&-2147483648?-1:0)};function S(D,C){return D.add(q(C))}t.j=function(D){if(T(this)||T(D))return f;if(M(this))return M(D)?q(this).j(q(D)):q(q(this).j(D));if(M(D))return q(this.j(q(D)));if(0>this.l(v)&&0>D.l(v))return h(this.m()*D.m());for(var C=this.g.length+D.g.length,z=[],B=0;B<2*C;B++)z[B]=0;for(B=0;B<this.g.length;B++)for(var P=0;P<D.g.length;P++){var F=this.i(B)>>>16,$=this.i(B)&65535,_e=D.i(P)>>>16,Ee=D.i(P)&65535;z[2*B+2*P]+=$*Ee,A(z,2*B+2*P),z[2*B+2*P+1]+=F*Ee,A(z,2*B+2*P+1),z[2*B+2*P+1]+=$*_e,A(z,2*B+2*P+1),z[2*B+2*P+2]+=F*_e,A(z,2*B+2*P+2)}for(B=0;B<C;B++)z[B]=z[2*B+1]<<16|z[2*B];for(B=C;B<2*C;B++)z[B]=0;return new l(z,0)};function A(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function N(D,C){this.g=D,this.h=C}function L(D,C){if(T(C))throw Error("division by zero");if(T(D))return new N(f,f);if(M(D))return C=L(q(D),C),new N(q(C.g),q(C.h));if(M(C))return C=L(D,q(C)),new N(q(C.g),C.h);if(30<D.g.length){if(M(D)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var z=p,B=C;0>=B.l(D);)z=U(z),B=U(B);var P=Q(z,1),F=Q(B,1);for(B=Q(B,2),z=Q(z,2);!T(B);){var $=F.add(B);0>=$.l(D)&&(P=P.add(z),F=$),B=Q(B,1),z=Q(z,1)}return C=S(D,P.j(C)),new N(P,C)}for(P=f;0<=D.l(C);){for(z=Math.max(1,Math.floor(D.m()/C.m())),B=Math.ceil(Math.log(z)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),F=h(z),$=F.j(C);M($)||0<$.l(D);)z-=B,F=h(z),$=F.j(C);T(F)&&(F=p),P=P.add(F),D=S(D,$)}return new N(P,D)}t.A=function(D){return L(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),z=[],B=0;B<C;B++)z[B]=this.i(B)&D.i(B);return new l(z,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),z=[],B=0;B<C;B++)z[B]=this.i(B)|D.i(B);return new l(z,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),z=[],B=0;B<C;B++)z[B]=this.i(B)^D.i(B);return new l(z,this.h^D.h)};function U(D){for(var C=D.g.length+1,z=[],B=0;B<C;B++)z[B]=D.i(B)<<1|D.i(B-1)>>>31;return new l(z,D.h)}function Q(D,C){var z=C>>5;C%=32;for(var B=D.g.length-z,P=[],F=0;F<B;F++)P[F]=0<C?D.i(F+z)>>>C|D.i(F+z+1)<<32-C:D.i(F+z);return new l(P,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,IS=l}).apply(typeof o7<"u"?o7:typeof self<"u"?self:typeof window<"u"?window:{});var ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ed=="object"&&ed];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function s(d,y){if(y)e:{var w=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var J=d[I];if(!(J in w))break e;w=w[J]}d=d[d.length-1],I=w[d],y=y(I),y!=I&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var w=0,I=!1,J={next:function(){if(!I&&w<d.length){var ne=w++;return{value:y(ne,d[ne]),done:!1}}return I=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}s("Array.prototype.values",function(d){return d||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,w){return d.call.apply(d.bind,arguments)}function f(d,y,w){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,I),d.apply(y,J)}}return function(){return d.apply(y,arguments)}}function p(d,y,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:f,p.apply(null,arguments)}function v(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function T(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(I,J,ne){for(var xe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)xe[pt-2]=arguments[pt];return y.prototype[J].apply(I,xe)}}function M(d){const y=d.length;if(0<y){const w=Array(y);for(let I=0;I<y;I++)w[I]=d[I];return w}return[]}function q(d,y){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(u(I)){const J=d.length||0,ne=I.length||0;d.length=J+ne;for(let xe=0;xe<ne;xe++)d[J+xe]=I[xe]}else d.push(I)}}class S{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function A(d){return/^[\s\xa0]*$/.test(d)}function N(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function L(d){return L[" "](d),d}L[" "]=function(){};var U=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function Q(d,y,w){for(const I in d)y.call(w,d[I],I,d)}function D(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function C(d){const y={};for(const w in d)y[w]=d[w];return y}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(d,y){let w,I;for(let J=1;J<arguments.length;J++){I=arguments[J];for(w in I)d[w]=I[w];for(let ne=0;ne<z.length;ne++)w=z[ne],Object.prototype.hasOwnProperty.call(I,w)&&(d[w]=I[w])}}function P(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function F(d){c.setTimeout(()=>{throw d},0)}function $(){var d=Be;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class _e{constructor(){this.h=this.g=null}add(y,w){const I=Ee.get();I.set(y,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Ee=new S(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ve=!1,Be=new _e,ze=()=>{const d=c.Promise.resolve(void 0);me=()=>{d.then(we)}};var we=()=>{for(var d;d=$();){try{d.h.call(d.g)}catch(w){F(w)}var y=Ee;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ve=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d}();function Pe(d,y){if(Se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(U){e:{try{L(y.nodeName);var J=!0;break e}catch{}J=!1}J||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Gn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}T(Pe,Se);var Gn={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function ur(d,y,w,I,J){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!I,this.ha=J,this.key=++Vt,this.da=this.fa=!1}function Tn(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xi(d){this.src=d,this.g={},this.h=0}xi.prototype.add=function(d,y,w,I,J){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var xe=hr(d,y,I,J);return-1<xe?(y=d[xe],w||(y.fa=!1)):(y=new ur(y,this.src,ne,!!I,J),y.fa=w,d.push(y)),y};function Oi(d,y){var w=y.type;if(w in d.g){var I=d.g[w],J=Array.prototype.indexOf.call(I,y,void 0),ne;(ne=0<=J)&&Array.prototype.splice.call(I,J,1),ne&&(Tn(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function hr(d,y,w,I){for(var J=0;J<d.length;++J){var ne=d[J];if(!ne.da&&ne.listener==y&&ne.capture==!!w&&ne.ha==I)return J}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),zn={};function Vr(d,y,w,I,J){if(Array.isArray(y)){for(var ne=0;ne<y.length;ne++)Vr(d,y[ne],w,I,J);return null}return w=la(w),d&&d[Ht]?d.K(y,w,h(I)?!!I.capture:!1,J):Nr(d,y,w,!1,I,J)}function Nr(d,y,w,I,J,ne){if(!y)throw Error("Invalid event type");var xe=h(J)?!!J.capture:!!J,pt=ic(d);if(pt||(d[Fn]=pt=new xi(d)),w=pt.add(y,w,I,xe,ne),w.proxy)return w;if(I=An(),w.proxy=I,I.src=d,I.listener=w,d.addEventListener)ct||(J=xe),J===void 0&&(J=!1),d.addEventListener(y.toString(),I,J);else if(d.attachEvent)d.attachEvent(rc(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function An(){function d(w){return y.call(d.src,d.listener,w)}const y=wh;return d}function Dn(d,y,w,I,J){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)Dn(d,y[ne],w,I,J);else I=h(I)?!!I.capture:!!I,w=la(w),d&&d[Ht]?(d=d.i,y=String(y).toString(),y in d.g&&(ne=d.g[y],w=hr(ne,w,I,J),-1<w&&(Tn(ne[w]),Array.prototype.splice.call(ne,w,1),ne.length==0&&(delete d.g[y],d.h--)))):d&&(d=ic(d))&&(y=d.g[y.toString()],d=-1,y&&(d=hr(y,w,I,J)),(w=-1<d?y[d]:null)&&aa(w))}function aa(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ht])Oi(y.i,d);else{var w=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(w,I,d.capture):y.detachEvent?y.detachEvent(rc(w),I):y.addListener&&y.removeListener&&y.removeListener(I),(w=ic(y))?(Oi(w,d),w.h==0&&(w.src=null,y[Fn]=null)):Tn(d)}}}function rc(d){return d in zn?zn[d]:zn[d]="on"+d}function wh(d,y){if(d.da)d=!0;else{y=new Pe(y,this);var w=d.listener,I=d.ha||d.src;d.fa&&aa(d),d=w.call(I,y)}return d}function ic(d){return d=d[Fn],d instanceof xi?d:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function la(d){return typeof d=="function"?d:(d[kl]||(d[kl]=function(y){return d.handleEvent(y)}),d[kl])}function Ot(){ye.call(this),this.i=new xi(this),this.M=this,this.F=null}T(Ot,ye),Ot.prototype[Ht]=!0,Ot.prototype.removeEventListener=function(d,y,w,I){Dn(this,d,y,w,I)};function yt(d,y){var w,I=d.F;if(I)for(w=[];I;I=I.F)w.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new Se(y,d);else if(y instanceof Se)y.target=y.target||d;else{var J=y;y=new Se(I,d),B(y,J)}if(J=!0,w)for(var ne=w.length-1;0<=ne;ne--){var xe=y.g=w[ne];J=oa(xe,I,!0,y)&&J}if(xe=y.g=d,J=oa(xe,I,!0,y)&&J,J=oa(xe,I,!1,y)&&J,w)for(ne=0;ne<w.length;ne++)xe=y.g=w[ne],J=oa(xe,I,!1,y)&&J}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],I=0;I<w.length;I++)Tn(w[I]);delete d.g[y],d.h--}}this.F=null},Ot.prototype.K=function(d,y,w,I){return this.i.add(String(d),y,!1,w,I)},Ot.prototype.L=function(d,y,w,I){return this.i.add(String(d),y,!0,w,I)};function oa(d,y,w,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var J=!0,ne=0;ne<y.length;++ne){var xe=y[ne];if(xe&&!xe.da&&xe.capture==w){var pt=xe.listener,Rn=xe.ha||xe.src;xe.fa&&Oi(d.i,xe),J=pt.call(Rn,I)!==!1&&J}}return J&&!I.defaultPrevented}function sc(d,y,w){if(typeof d=="function")w&&(d=p(d,w));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function ac(d){d.g=sc(()=>{d.g=null,d.i&&(d.i=!1,ac(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class lc extends ye{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(d){ye.call(this),this.h=d,this.g={}}T(ca,ye);var Tl=[];function Al(d){Q(d.g,function(y,w){this.g.hasOwnProperty(w)&&aa(y)},d),d.g={}}ca.prototype.N=function(){ca.aa.N.call(this),Al(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=c.JSON.stringify,ua=c.JSON.parse,oc=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Nl(){}Nl.prototype.h=null;function Sh(d){return d.h||(d.h=d.i())}function No(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cc(){Se.call(this,"d")}T(cc,Se);function us(){Se.call(this,"c")}T(us,Se);var ha={},kh=null;function qt(){return kh=kh||new Ot}ha.La="serverreachability";function hs(d){Se.call(this,ha.La,d)}T(hs,Se);function _l(d){const y=qt();yt(y,new hs(y))}ha.STAT_EVENT="statevent";function uc(d,y){Se.call(this,ha.STAT_EVENT,d),this.stat=y}T(uc,Se);function pn(d){const y=qt();yt(y,new uc(y,d))}ha.Ma="timingevent";function hc(d,y){Se.call(this,ha.Ma,d),this.size=y}T(hc,Se);function da(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function Gr(d,y,w,I,J,ne){d.info(function(){if(d.g)if(ne)for(var xe="",pt=ne.split("&"),Rn=0;Rn<pt.length;Rn++){var it=pt[Rn].split("=");if(1<it.length){var Un=it[0];it=it[1];var Hn=Un.split("_");xe=2<=Hn.length&&Hn[1]=="type"?xe+(Un+"="+it+"&"):xe+(Un+"=redacted&")}}else xe=null;else xe=ne;return"XMLHTTP REQ ("+I+") [attempt "+J+"]: "+y+`
`+w+`
`+xe})}function ds(d,y,w,I,J,ne,xe){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+J+"]: "+y+`
`+w+`
`+ne+" "+xe})}function ms(d,y,w,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+dc(d,w)+(I?" "+I:"")})}function Th(d,y){d.info(function(){return"TIMEOUT: "+y})}El.prototype.info=function(){};function dc(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var I=w[d];if(!(2>I.length)){var J=I[1];if(Array.isArray(J)&&!(1>J.length)){var ne=J[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var xe=1;xe<J.length;xe++)J[xe]=""}}}}return _r(w)}catch{return y}}var _o={NO_ERROR:0,TIMEOUT:8},gi={},Eo;function Cl(){}T(Cl,Nl),Cl.prototype.g=function(){return new XMLHttpRequest},Cl.prototype.i=function(){return{}},Eo=new Cl;function vi(d,y,w,I){this.j=d,this.i=y,this.l=w,this.R=I||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mc}function mc(){this.i=null,this.g="",this.h=!1}var Ah={},Ce={};function W(d,y,w){d.L=1,d.v=Eh(fs(y)),d.m=w,d.P=!0,ue(d,null)}function ue(d,y){d.F=Date.now(),en(d),d.A=fs(d.v);var w=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),M5(w.i,"t",I),d.C=0,w=d.j.J,d.h=new mc,d.g=W5(d.j,w?y:null,!d.m),0<d.O&&(d.M=new lc(p(d.Y,d,d.g),d.O)),y=d.U,w=d.g,I=d.ca;var J="readystatechange";Array.isArray(J)||(J&&(Tl[0]=J.toString()),J=Tl);for(var ne=0;ne<J.length;ne++){var xe=Vr(w,J[ne],I||y.handleEvent,!1,y.h||y);if(!xe)break;y.g[xe.key]=xe}y=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),_l(),Gr(d.i,d.u,d.A,d.l,d.R,d.m)}vi.prototype.ca=function(d){d=d.target;const y=this.M;y&&ps(d)==3?y.j():this.Y(d)},vi.prototype.Y=function(d){try{if(d==this.g)e:{const Hn=ps(this.g);var y=this.g.Ba();const zo=this.g.Z();if(!(3>Hn)&&(Hn!=3||this.g&&(this.h.h||this.g.oa()||L5(this.g)))){this.J||Hn!=4||y==7||(y==8||0>=zo?_l(3):_l(2)),Nn(this);var w=this.g.Z();this.X=w;t:if(Ne(this)){var I=L5(this.g);d="";var J=I.length,ne=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),Zn(this);var xe="";break t}this.h.i=new c.TextDecoder}for(y=0;y<J;y++)this.h.h=!0,d+=this.h.i.decode(I[y],{stream:!(ne&&y==J-1)});I.length=0,this.h.g+=d,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=w==200,ds(this.i,this.u,this.A,this.l,this.R,Hn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Rn=this.g;if((pt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(pt)){var it=pt;break t}}it=null}if(w=it)ms(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ml(this,w);else{this.o=!1,this.s=3,pn(12),dr(this),Zn(this);break e}}if(this.P){w=!0;let yi;for(;!this.J&&this.C<xe.length;)if(yi=bt(this,xe),yi==Ce){Hn==4&&(this.s=4,pn(14),w=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==Ah){this.s=4,pn(15),ms(this.i,this.l,xe,"[Invalid Chunk]"),w=!1;break}else ms(this.i,this.l,yi,null),Ml(this,yi);if(Ne(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hn!=4||xe.length!=0||this.h.h||(this.s=1,pn(16),w=!1),this.o=this.o&&w,!w)ms(this.i,this.l,xe,"[Invalid Chunked Response]"),dr(this),Zn(this);else if(0<xe.length&&!this.W){this.W=!0;var Un=this.j;Un.g==this&&Un.ba&&!Un.M&&(Un.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),yf(Un),Un.M=!0,pn(11))}}else ms(this.i,this.l,xe,null),Ml(this,xe);Hn==4&&dr(this),this.o&&!this.J&&(Hn==4?V5(this.j,this):(this.o=!1,en(this)))}else O_(this.g),w==400&&0<xe.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),dr(this),Zn(this)}}}catch{}finally{}};function Ne(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function bt(d,y){var w=d.C,I=y.indexOf(`
`,w);return I==-1?Ce:(w=Number(y.substring(w,I)),isNaN(w)?Ah:(I+=1,I+w>y.length?Ce:(y=y.slice(I,I+w),d.C=I+w,y)))}vi.prototype.cancel=function(){this.J=!0,dr(this)};function en(d){d.S=Date.now()+d.I,It(d,d.I)}function It(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=da(p(d.ba,d),y)}function Nn(d){d.B&&(c.clearTimeout(d.B),d.B=null)}vi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Th(this.i,this.A),this.L!=2&&(_l(),pn(17)),dr(this),this.s=2,Zn(this)):It(this,this.S-d)};function Zn(d){d.j.G==0||d.J||V5(d.j,d)}function dr(d){Nn(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Al(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ml(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||ff(w.h,d))){if(!d.K&&ff(w.h,d)&&w.G==3){try{var I=w.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var J=I;if(J[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Oh(w),Dh(w);else break e;vf(w),pn(18)}}else w.za=J[1],0<w.za-w.T&&37500>J[2]&&w.F&&w.v==0&&!w.C&&(w.C=da(p(w.Za,w),6e3));if(1>=w5(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Dl(w,11)}else if((d.K||w.g==d)&&Oh(w),!A(y))for(J=w.Da.g.parse(y),y=0;y<J.length;y++){let it=J[y];if(w.T=it[0],it=it[1],w.G==2)if(it[0]=="c"){w.K=it[1],w.ia=it[2];const Un=it[3];Un!=null&&(w.la=Un,w.j.info("VER="+w.la));const Hn=it[4];Hn!=null&&(w.Aa=Hn,w.j.info("SVER="+w.Aa));const zo=it[5];zo!=null&&typeof zo=="number"&&0<zo&&(I=1.5*zo,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const yi=d.g;if(yi){const qh=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qh){var ne=I.h;ne.g||qh.indexOf("spdy")==-1&&qh.indexOf("quic")==-1&&qh.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(pf(ne,ne.h),ne.h=null))}if(I.D){const bf=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(I.ya=bf,Tt(I.I,I.D,bf))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var xe=d;if(I.qa=K5(I,I.J?I.ia:null,I.W),xe.K){S5(I.h,xe);var pt=xe,Rn=I.L;Rn&&(pt.I=Rn),pt.B&&(Nn(pt),en(pt)),I.g=xe}else U5(I);0<w.i.length&&Rh(w)}else it[0]!="stop"&&it[0]!="close"||Dl(w,7);else w.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Dl(w,7):gf(w):it[0]!="noop"&&w.l&&w.l.ta(it),w.v=0)}}_l(4)}catch{}}var xn=class{constructor(d,y){this.g=d,this.map=y}};function fc(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function w5(d){return d.h?1:d.g?d.g.size:0}function ff(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function pf(d,y){d.g?d.g.add(y):d.h=y}function S5(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}fc.prototype.cancel=function(){if(this.i=k5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function k5(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return M(d.i)}function b_(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var y=[],w=d.length,I=0;I<w;I++)y.push(d[I]);return y}y=[],w=0;for(I in d)y[w++]=d[I];return y}function j_(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const I in d)y[w++]=I;return y}}}function T5(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=j_(d),I=b_(d),J=I.length,ne=0;ne<J;ne++)y.call(void 0,I[ne],w&&w[ne],d)}var A5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w_(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var I=d[w].indexOf("="),J=null;if(0<=I){var ne=d[w].substring(0,I);J=d[w].substring(I+1)}else ne=d[w];y(ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function zl(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof zl){this.h=d.h,Nh(this,d.j),this.o=d.o,this.g=d.g,_h(this,d.s),this.l=d.l;var y=d.i,w=new vc;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),N5(this,w),this.m=d.m}else d&&(y=String(d).match(A5))?(this.h=!1,Nh(this,y[1]||"",!0),this.o=xc(y[2]||""),this.g=xc(y[3]||"",!0),_h(this,y[4]),this.l=xc(y[5]||"",!0),N5(this,y[6]||"",!0),this.m=xc(y[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}zl.prototype.toString=function(){var d=[],y=this.j;y&&d.push(gc(y,_5,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(gc(y,_5,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(gc(w,w.charAt(0)=="/"?T_:k_,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",gc(w,N_)),d.join("")};function fs(d){return new zl(d)}function Nh(d,y,w){d.j=w?xc(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function _h(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function N5(d,y,w){y instanceof vc?(d.i=y,__(d.i,d.h)):(w||(y=gc(y,A_)),d.i=new vc(y,d.h))}function Tt(d,y,w){d.i.set(y,w)}function Eh(d){return Tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xc(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function gc(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,S_),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function S_(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _5=/[#\/\?@]/g,k_=/[#\?:]/g,T_=/[#\?]/g,A_=/[#\?@]/g,N_=/#/g;function vc(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ma(d){d.g||(d.g=new Map,d.h=0,d.i&&w_(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=vc.prototype,t.add=function(d,y){ma(this),this.i=null,d=Co(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function E5(d,y){ma(d),y=Co(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function C5(d,y){return ma(d),y=Co(d,y),d.g.has(y)}t.forEach=function(d,y){ma(this),this.g.forEach(function(w,I){w.forEach(function(J){d.call(y,J,I,this)},this)},this)},t.na=function(){ma(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let I=0;I<y.length;I++){const J=d[I];for(let ne=0;ne<J.length;ne++)w.push(y[I])}return w},t.V=function(d){ma(this);let y=[];if(typeof d=="string")C5(this,d)&&(y=y.concat(this.g.get(Co(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},t.set=function(d,y){return ma(this),this.i=null,d=Co(this,d),C5(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function M5(d,y,w){E5(d,y),0<w.length&&(d.i=null,d.g.set(Co(d,y),M(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var I=y[w];const ne=encodeURIComponent(String(I)),xe=this.V(I);for(I=0;I<xe.length;I++){var J=ne;xe[I]!==""&&(J+="="+encodeURIComponent(String(xe[I]))),d.push(J)}}return this.i=d.join("&")};function Co(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function __(d,y){y&&!d.j&&(ma(d),d.i=null,d.g.forEach(function(w,I){var J=I.toLowerCase();I!=J&&(E5(this,I),M5(this,J,w))},d)),d.j=y}function E_(d,y){const w=new El;if(c.Image){const I=new Image;I.onload=v(fa,w,"TestLoadImage: loaded",!0,y,I),I.onerror=v(fa,w,"TestLoadImage: error",!1,y,I),I.onabort=v(fa,w,"TestLoadImage: abort",!1,y,I),I.ontimeout=v(fa,w,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function C_(d,y){const w=new El,I=new AbortController,J=setTimeout(()=>{I.abort(),fa(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(ne=>{clearTimeout(J),ne.ok?fa(w,"TestPingServer: ok",!0,y):fa(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(J),fa(w,"TestPingServer: error",!1,y)})}function fa(d,y,w,I,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),I(w)}catch{}}function M_(){this.g=new oc}function z_(d,y,w){const I=w||"";try{T5(d,function(J,ne){let xe=J;h(J)&&(xe=_r(J)),y.push(I+ne+"="+encodeURIComponent(xe))})}catch(J){throw y.push(I+"type="+encodeURIComponent("_badmap")),J}}function Ch(d){this.l=d.Ub||null,this.j=d.eb||!1}T(Ch,Nl),Ch.prototype.g=function(){return new Mh(this.l,this.j)},Ch.prototype.i=function(d){return function(){return d}}({});function Mh(d,y){Ot.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Mh,Ot),t=Mh.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,bc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bc(this)),this.g&&(this.readyState=3,bc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z5(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function z5(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?yc(this):bc(this),this.readyState==3&&z5(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,yc(this))},t.Qa=function(d){this.g&&(this.response=d,yc(this))},t.ga=function(){this.g&&yc(this)};function yc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,bc(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function bc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function D5(d){let y="";return Q(d,function(w,I){y+=I,y+=":",y+=w,y+=`\r
`}),y}function xf(d,y,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=D5(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Tt(d,y,w))}function tn(d){Ot.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(tn,Ot);var D_=/^https?$/i,R_=["POST","PUT"];t=tn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eo.g(),this.v=this.o?Sh(this.o):Sh(Eo),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(ne){R5(this,ne);return}if(d=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var J in I)w.set(J,I[J]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ne of I.keys())w.set(ne,I.get(ne));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(R_,y,void 0))||I||J||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,xe]of w)this.g.setRequestHeader(ne,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I5(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){R5(this,ne)}};function R5(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,O5(d),zh(d)}function O5(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),zh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zh(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?q5(this):this.bb())},t.bb=function(){q5(this)};function q5(d){if(d.h&&typeof l<"u"&&(!d.v[1]||ps(d)!=4||d.Z()!=2)){if(d.u&&ps(d)==4)sc(d.Ea,0,d);else if(yt(d,"readystatechange"),ps(d)==4){d.h=!1;try{const xe=d.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var I;if(I=xe===0){var J=String(d.D).match(A5)[1]||null;!J&&c.self&&c.self.location&&(J=c.self.location.protocol.slice(0,-1)),I=!D_.test(J?J.toLowerCase():"")}w=I}if(w)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var ne=2<ps(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",O5(d)}}finally{zh(d)}}}}function zh(d,y){if(d.g){I5(d);const w=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||yt(d,"ready");try{w.onreadystatechange=I}catch{}}}function I5(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ps(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),ua(y)}};function L5(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function O_(d){const y={};d=(d.g&&2<=ps(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(A(d[I]))continue;var w=P(d[I]);const J=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ne=y[J]||[];y[J]=ne,ne.push(w)}D(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function B5(d){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,d),this.cb=jc("retryDelaySeedMs",1e4,d),this.Wa=jc("forwardChannelMaxRetries",2,d),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fc(d&&d.concurrentRequestLimit),this.Da=new M_,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=B5.prototype,t.la=8,t.G=1,t.connect=function(d,y,w,I){pn(0),this.W=d,this.H=y||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=K5(this,null,this.W),Rh(this)};function gf(d){if(P5(d),d.G==3){var y=d.U++,w=fs(d.I);if(Tt(w,"SID",d.K),Tt(w,"RID",y),Tt(w,"TYPE","terminate"),wc(d,w),y=new vi(d,d.j,y),y.L=2,y.v=Eh(fs(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=W5(y.j,null),y.g.ea(y.v)),y.F=Date.now(),en(y)}Z5(d)}function Dh(d){d.g&&(yf(d),d.g.cancel(),d.g=null)}function P5(d){Dh(d),d.u&&(c.clearTimeout(d.u),d.u=null),Oh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Rh(d){if(!pc(d.h)&&!d.s){d.s=!0;var y=d.Ga;me||ze(),ve||(me(),ve=!0),Be.add(y,d),d.B=0}}function q_(d,y){return w5(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=da(p(d.Ga,d,y),G5(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const J=new vi(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=C(ne),B(ne,this.S)):ne=this.S),this.m!==null||this.O||(J.H=ne,ne=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=F5(this,J,y),w=fs(this.I),Tt(w,"RID",d),Tt(w,"CVER",22),this.D&&Tt(w,"X-HTTP-Session-Id",this.D),wc(this,w),ne&&(this.O?y="headers="+encodeURIComponent(String(D5(ne)))+"&"+y:this.m&&xf(w,this.m,ne)),pf(this.h,J),this.Ua&&Tt(w,"TYPE","init"),this.P?(Tt(w,"$req",y),Tt(w,"SID","null"),J.T=!0,W(J,w,null)):W(J,w,y),this.G=2}}else this.G==3&&(d?$5(this,d):this.i.length==0||pc(this.h)||$5(this))};function $5(d,y){var w;y?w=y.l:w=d.U++;const I=fs(d.I);Tt(I,"SID",d.K),Tt(I,"RID",w),Tt(I,"AID",d.T),wc(d,I),d.m&&d.o&&xf(I,d.m,d.o),w=new vi(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=F5(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),pf(d.h,w),W(w,I,y)}function wc(d,y){d.H&&Q(d.H,function(w,I){Tt(y,I,w)}),d.l&&T5({},function(w,I){Tt(y,I,w)})}function F5(d,y,w){w=Math.min(d.i.length,w);var I=d.l?p(d.l.Na,d.l,d):null;e:{var J=d.i;let ne=-1;for(;;){const xe=["count="+w];ne==-1?0<w?(ne=J[0].g,xe.push("ofs="+ne)):ne=0:xe.push("ofs="+ne);let pt=!0;for(let Rn=0;Rn<w;Rn++){let it=J[Rn].g;const Un=J[Rn].map;if(it-=ne,0>it)ne=Math.max(0,J[Rn].g-100),pt=!1;else try{z_(Un,xe,"req"+it+"_")}catch{I&&I(Un)}}if(pt){I=xe.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,I}function U5(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;me||ze(),ve||(me(),ve=!0),Be.add(y,d),d.v=0}}function vf(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=da(p(d.Fa,d),G5(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,H5(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=da(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),Dh(this),H5(this))};function yf(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function H5(d){d.g=new vi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=fs(d.qa);Tt(y,"RID","rpc"),Tt(y,"SID",d.K),Tt(y,"AID",d.T),Tt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Tt(y,"TO",d.ja),Tt(y,"TYPE","xmlhttp"),wc(d,y),d.m&&d.o&&xf(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Eh(fs(y)),w.m=null,w.P=!0,ue(w,d)}t.Za=function(){this.C!=null&&(this.C=null,Dh(this),vf(this),pn(19))};function Oh(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function V5(d,y){var w=null;if(d.g==y){Oh(d),yf(d),d.g=null;var I=2}else if(ff(d.h,y))w=y.D,S5(d.h,y),I=1;else return;if(d.G!=0){if(y.o)if(I==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var J=d.B;I=qt(),yt(I,new hc(I,w)),Rh(d)}else U5(d);else if(J=y.s,J==3||J==0&&0<y.X||!(I==1&&q_(d,y)||I==2&&vf(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),J){case 1:Dl(d,5);break;case 4:Dl(d,10);break;case 3:Dl(d,6);break;default:Dl(d,2)}}}function G5(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function Dl(d,y){if(d.j.info("Error code "+y),y==2){var w=p(d.fb,d),I=d.Xa;const J=!I;I=new zl(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Nh(I,"https"),Eh(I),J?E_(I.toString(),w):C_(I.toString(),w)}else pn(2);d.G=0,d.l&&d.l.sa(y),Z5(d),P5(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function Z5(d){if(d.G=0,d.ka=[],d.l){const y=k5(d.h);(y.length!=0||d.i.length!=0)&&(q(d.ka,y),q(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function K5(d,y,w){var I=w instanceof zl?fs(w):new zl(w);if(I.g!="")y&&(I.g=y+"."+I.g),_h(I,I.s);else{var J=c.location;I=J.protocol,y=y?y+"."+J.hostname:J.hostname,J=+J.port;var ne=new zl(null);I&&Nh(ne,I),y&&(ne.g=y),J&&_h(ne,J),w&&(ne.l=w),I=ne}return w=d.D,y=d.ya,w&&y&&Tt(I,w,y),Tt(I,"VER",d.la),wc(d,I),I}function W5(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new tn(new Ch({eb:w})):new tn(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Y5(){}t=Y5.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zr(d,y){Ot.call(this),this.g=new B5(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!A(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!A(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Mo(this)}T(Zr,Ot),Zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zr.prototype.close=function(){gf(this.g)},Zr.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=_r(d),d=w);y.i.push(new xn(y.Ya++,d)),y.G==3&&Rh(y)},Zr.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,Zr.aa.N.call(this)};function X5(d){cc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}T(X5,cc);function Q5(){us.call(this),this.status=1}T(Q5,us);function Mo(d){this.g=d}T(Mo,Y5),Mo.prototype.ua=function(){yt(this.g,"a")},Mo.prototype.ta=function(d){yt(this.g,new X5(d))},Mo.prototype.sa=function(d){yt(this.g,new Q5)},Mo.prototype.ra=function(){yt(this.g,"b")},Zr.prototype.send=Zr.prototype.o,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,gi.COMPLETE="complete",No.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha}).apply(typeof ed<"u"?ed:typeof self<"u"?self:typeof window<"u"?window:{});const c7="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Rg("@firebase/firestore");function Ci(t,...e){if($m.logLevel<=ht.DEBUG){const n=e.map(BS);$m.debug(`Firestore (${$1}): ${t}`,...n)}}function LS(t,...e){if($m.logLevel<=ht.ERROR){const n=e.map(BS);$m.error(`Firestore (${$1}): ${t}`,...n)}}function BS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t="Unexpected state"){const e=`FIRESTORE (${$1}) INTERNAL ASSERTION FAILED: `+t;throw LS(e),new Error(e)}function lu(t,e){t||PS()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class _i extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Aq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Cr.UNAUTHENTICATED))}shutdown(){}}class Nq{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lu(this.o===void 0);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new ou;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ou,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{Ci("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ci("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ou)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ci("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(lu(typeof i.accessToken=="string"),new Tq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lu(e===null||typeof e=="string"),new Cr(e)}}class _q{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Eq{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new _q(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){lu(this.o===void 0);const i=a=>{a.error!=null&&Ci("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ci("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{Ci("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Ci("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(lu(typeof n.token=="string"),this.R=n.token,new Cq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zq(t){return t.name==="IndexedDbTransactionError"}class Fm{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fm("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u7,tt;(tt=u7||(u7={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new IS([4294967295,4294967295],0);function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,i=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-i);s>0&&Ci("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,i,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new ou,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,a){const l=Date.now()+i,c=new Vg(e,n,l,s,a);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _i(Ni.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var h7,d7;(d7=h7||(h7={})).ea="default",d7.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Map;function Oq(t,e,n,i){if(e===!0&&i===!0)throw new _i(Ni.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _i(Ni.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _i(Ni.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rq((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _i(Ni.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _i(Ni.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _i(Ni.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qq{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f7({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _i(Ni.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _i(Ni.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f7(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Aq;switch(i.type){case"firstParty":return new Eq(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _i(Ni.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=m7.get(n);i&&(Ci("ComponentProvider","Removing Datastore"),m7.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Dq(this,"async_queue_retry"),this.Vu=()=>{const i=mp();i&&Ci("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ou;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zq(e))throw e;Ci("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw LS("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Vg.createAndSchedule(this,e,n,i,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&PS()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Iq extends qq{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new p7,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p7(e),this._firestoreClient=void 0,await e}}}(function(e,n=!0){(function(s){$1=s})(Z0),ho(new sl("firestore",(i,{instanceIdentifier:s,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new Iq(new Nq(i.getProvider("auth-internal")),new Mq(i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _i(Ni.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fm(h.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Wi(c7,"4.7.3",e),Wi(c7,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq="type.googleapis.com/google.protobuf.Int64Value",Bq="type.googleapis.com/google.protobuf.UInt64Value";function $S(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function C2(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>C2(e));if(typeof t=="function"||typeof t=="object")return $S(t,e=>C2(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Um(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Lq:case Bq:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Um(e)):typeof t=="function"||typeof t=="object"?$S(t,e=>Um(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x0 extends ns{constructor(e,n,i){super(`${Gg}/${e}`,n||""),this.details=i}}function Pq(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function $q(t,e){let n=Pq(t),i=n,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!x7[l])return new x0("internal","internal");n=x7[l],i=l}const c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=Um(s))}}catch{}return n==="ok"?null:new x0(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="us-central1";function Uq(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new x0("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Hq{constructor(e,n,i,s,a=M2,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new Fq(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=M2}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Vq(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function Gq(t,e,n){return i=>Kq(t,e,i,{})}async function Zq(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function Kq(t,e,n,i){const s=t._url(e);return Wq(t,s,n,i)}async function Wq(t,e,n,i){n=C2(n);const s={data:n},a={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,u=Uq(c),h=await Promise.race([Zq(e,s,a,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!h)throw new x0("cancelled","Firebase Functions instance was deleted.");const m=$q(h.status,h.json);if(m)throw m;if(!h.json)throw new x0("internal","Response is not valid JSON object.");let f=h.json.data;if(typeof f>"u"&&(f=h.json.result),typeof f>"u")throw new x0("internal","Response is missing data field.");return{data:Um(f)}}const g7="@firebase/functions",v7="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="auth-internal",Xq="app-check-internal",Qq="messaging-internal";function Jq(t,e){const n=(i,{instanceIdentifier:s})=>{const a=i.getProvider("app").getImmediate(),l=i.getProvider(Yq),c=i.getProvider(Qq),u=i.getProvider(Xq);return new Hq(a,l,c,u,s,t)};ho(new sl(Gg,n,"PUBLIC").setMultipleInstances(!0)),Wi(g7,v7,e),Wi(g7,v7,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t=tS(),e=M2){const i=qg(Ri(t),Gg).getImmediate({identifier:e}),s=Jz("functions");return s&&FS(i,...s),i}function FS(t,e,n){Vq(Ri(t),e,n)}function Ba(t,e,n){return Gq(Ri(t),e)}Jq(fetch.bind(self));const z2={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},tI=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let td=null,fp=null,nd=null;function US(){if(!td){const t=mR();t.length>0?td=t[0]:td=eS(z2)}return td}function pp(){return fp||(fp=Sq(US())),fp}function Kl(){if(!nd&&(nd=eI(US()),tI&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{FS(nd,"localhost",5001)}catch{}return nd}function Wl(){return!!z2.apiKey&&z2.apiKey!=="YOUR_API_KEY"}const nI=22242,rI=5e3,iI=2e3,sI=3e4,aI=3e4,lI=30*1e3,oI=2e3,cI=60*60*1e3,D2=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class uI{constructor(e="",n=!0){xs(this,"prefix");xs(this,"enabled");this.prefix=e?`[${e}]`:"",this.enabled=n}log(e,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(e==="debug"||e==="info")return;const a=console[e]||console.log;i!==void 0?a(s,i):a(s)}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}setEnabled(e){this.enabled=e}}const xp={};function rs(t){const e=t||"__default__";return xp[e]||(xp[e]=new uI(t)),xp[e]}const Yl=rs("NostrUtils"),R2="qpzry9x8gf2tvdw0s3jn54khce6mua7l",hI=[996825010,642813549,513874426,1027748829,705979059];function HS(t){let e=1;for(const n of t){const i=e>>25;e=(e&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(e^=hI[s])}return e}function VS(t){const e=[];for(const n of t)e.push(n.charCodeAt(0)>>5);e.push(0);for(const n of t)e.push(n.charCodeAt(0)&31);return e}function dI(t,e){return HS([...VS(t),...e])===1}function mI(t,e){const n=[...VS(t),...e,0,0,0,0,0,0],i=HS(n)^1,s=[];for(let a=0;a<6;a++)s.push(i>>5*(5-a)&31);return s}function GS(t,e,n,i){let s=0,a=0;const l=[],c=(1<<n)-1;for(const u of t){if(u<0||u>>e)return null;for(s=s<<e|u,a+=e;a>=n;)a-=n,l.push(s>>a&c)}if(i)a>0&&l.push(s<<n-a&c);else if(a>=e||s<<n-a&c)return null;return l}function fI(t,e){const n=GS(e,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=mI(t,n);let s=t+"1";for(const a of n)s+=R2[a];for(const a of i)s+=R2[a];return s}function pI(t){const e=t.toLowerCase(),n=t.toUpperCase();if(t!==e&&t!==n)return null;const i=e,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const a=i.slice(0,s),l=i.slice(s+1),c=[];for(const m of l){const f=R2.indexOf(m);if(f===-1)return null;c.push(f)}if(!dI(a,c))return null;const u=c.slice(0,-6),h=GS(new Uint8Array(u),5,8,!1);return h?{hrp:a,data:new Uint8Array(h)}:null}function xI(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}function gI(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function vI(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const e=xI(t);return fI("npub",e)}function ZS(t){const e=pI(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return gI(e.data)}function Hm(t,e=8){return t.length<=e*2+3?t:`${t.slice(0,e)}...${t.slice(-e)}`}function Vm(){return typeof window<"u"&&window.nostr!==void 0}function yI(t=3e3){return new Promise(e=>{if(Vm()){e(!0);return}const n=Date.now(),i=setInterval(()=>{Vm()?(clearInterval(i),e(!0)):Date.now()-n>t&&(clearInterval(i),e(!1))},100)})}function KS(t,e){return new Promise(n=>{let i=!1,s=null,a=null;const l=()=>{i||(i=!0,a&&(clearTimeout(a),a=null),s&&s.readyState!==WebSocket.CLOSED&&s.close())};a=setTimeout(()=>{Yl.debug(`WebSocket timeout for relay: ${t}`),l(),n(null)},rI);try{s=new WebSocket(t)}catch(u){Yl.debug(`Failed to create WebSocket for relay ${t}:`,u),l(),n(null);return}const c=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(i||!s)return;const u=JSON.stringify(["REQ",c,{kinds:[0],authors:[e],limit:1}]);s.send(u)},s.onmessage=u=>{if(!i)try{const h=JSON.parse(u.data);if(h[0]==="EVENT"&&h[1]===c){const m=JSON.parse(h[2].content);l(),n({name:m.name||m.display_name,display_name:m.display_name,nip05:m.nip05,picture:m.picture,about:m.about})}else h[0]==="EOSE"&&(l(),n(null))}catch(h){Yl.debug(`Failed to parse WebSocket message from ${t}:`,h)}},s.onerror=u=>{Yl.debug(`WebSocket error for relay ${t}:`,u),l(),n(null)},s.onclose=()=>{i||(l(),n(null))}})}async function bI(t){try{const e=ZS(t);for(const n of D2)try{const i=await KS(n,e);if(i)return i}catch(i){Yl.debug(`Failed to fetch profile from relay ${n}:`,i)}return Yl.debug(`No profile found for npub across ${D2.length} relays`),null}catch(e){return Yl.debug("Failed to convert npub to hex:",e),null}}async function jI(t){const e=new Map,n=10;for(let i=0;i<t.length;i+=n){const a=t.slice(i,i+n).map(async l=>{const c=await bI(l);c&&e.set(l,c)});await Promise.all(a)}return e}const wI=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art"];function SI(t){return wI.includes(t)}function ie(t,e,n){function i(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,u);const h=l.prototype,m=Object.keys(h);for(let f=0;f<m.length;f++){const p=m[f];p in c||(c[p]=h[p].bind(c))}}const s=(n==null?void 0:n.Parent)??Object;class a extends s{}Object.defineProperty(a,"name",{value:t});function l(c){var u;const h=n!=null&&n.Parent?new a:this;i(h,c),(u=h._zod).deferred??(u.deferred=[]);for(const m of h._zod.deferred)m();return h}return Object.defineProperty(l,"init",{value:i}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var u,h;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(h=(u=c==null?void 0:c._zod)==null?void 0:u.traits)==null?void 0:h.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class g0 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class WS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const YS={};function al(t){return YS}function XS(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,s])=>e.indexOf(+i)===-1).map(([i,s])=>s)}function O2(t,e){return typeof e=="bigint"?e.toString():e}function Zg(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Kg(t){return t==null}function Wg(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function kI(t,e){const n=(t.toString().split(".")[1]||"").length,i=e.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(s=Number.parseInt(u[1]))}const a=n>s?n:s,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}const y7=Symbol("evaluating");function wt(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==y7)return i===void 0&&(i=y7,i=n()),i},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function jo(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function wo(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function b7(t){return JSON.stringify(t)}function TI(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const QS="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Gm(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const AI=Zg(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function D0(t){if(Gm(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(Gm(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function JS(t){return D0(t)?{...t}:Array.isArray(t)?[...t]:t}const NI=new Set(["string","number","symbol"]);function F1(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bl(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(i._zod.parent=t),i}function Me(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function _I(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const EI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function CI(t,e){const n=t._zod.def,i=wo(t._zod.def,{get shape(){const s={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(s[a]=n.shape[a])}return jo(this,"shape",s),s},checks:[]});return bl(t,i)}function MI(t,e){const n=t._zod.def,i=wo(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete s[a]}return jo(this,"shape",s),s},checks:[]});return bl(t,i)}function zI(t,e){if(!D0(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=wo(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return jo(this,"shape",a),a},checks:[]});return bl(t,s)}function DI(t,e){if(!D0(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const i={...t._zod.def.shape,...e};return jo(this,"shape",i),i},checks:t._zod.def.checks};return bl(t,n)}function RI(t,e){const n=wo(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return jo(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return bl(t,n)}function OI(t,e,n){const i=wo(e._zod.def,{get shape(){const s=e._zod.def.shape,a={...s};if(n)for(const l in n){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)a[l]=t?new t({type:"optional",innerType:s[l]}):s[l];return jo(this,"shape",a),a},checks:[]});return bl(e,i)}function qI(t,e,n){const i=wo(e._zod.def,{get shape(){const s=e._zod.def.shape,a={...s};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:s[l]}))}else for(const l in s)a[l]=new t({type:"nonoptional",innerType:s[l]});return jo(this,"shape",a),a},checks:[]});return bl(e,i)}function Jo(t,e=0){var n;if(t.aborted===!0)return!0;for(let i=e;i<t.issues.length;i++)if(((n=t.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function e0(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function rd(t){return typeof t=="string"?t:t==null?void 0:t.message}function ll(t,e,n){var s,a,l,c,u,h;const i={...t,path:t.path??[]};if(!t.message){const m=rd((l=(a=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??rd((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??rd((u=n.customError)==null?void 0:u.call(n,t))??rd((h=n.localeError)==null?void 0:h.call(n,t))??"Invalid input";i.message=m}return delete i.inst,delete i.continue,e!=null&&e.reportInput||delete i.input,i}function Yg(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function qu(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const ek=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,O2,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},tk=ie("$ZodError",ek),nk=ie("$ZodError",ek,{Parent:Error});function II(t,e=n=>n.message){const n={},i=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:n}}function LI(t,e=n=>n.message){const n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>i({issues:l}));else if(a.code==="invalid_key")i({issues:a.issues});else if(a.code==="invalid_element")i({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(e(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(t),n}const Xg=t=>(e,n,i,s)=>{const a=i?Object.assign(i,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new g0;if(l.issues.length){const c=new((s==null?void 0:s.Err)??t)(l.issues.map(u=>ll(u,a,al())));throw QS(c,s==null?void 0:s.callee),c}return l.value},Qg=t=>async(e,n,i,s)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((s==null?void 0:s.Err)??t)(l.issues.map(u=>ll(u,a,al())));throw QS(c,s==null?void 0:s.callee),c}return l.value},U1=t=>(e,n,i)=>{const s=i?{...i,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new g0;return a.issues.length?{success:!1,error:new(t??tk)(a.issues.map(l=>ll(l,s,al())))}:{success:!0,data:a.value}},BI=U1(nk),H1=t=>async(e,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>ll(l,s,al())))}:{success:!0,data:a.value}},PI=H1(nk),$I=t=>(e,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Xg(t)(e,n,s)},FI=t=>(e,n,i)=>Xg(t)(e,n,i),UI=t=>async(e,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Qg(t)(e,n,s)},HI=t=>async(e,n,i)=>Qg(t)(e,n,i),VI=t=>(e,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return U1(t)(e,n,s)},GI=t=>(e,n,i)=>U1(t)(e,n,i),ZI=t=>async(e,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return H1(t)(e,n,s)},KI=t=>async(e,n,i)=>H1(t)(e,n,i),WI=/^[cC][^\s-]{8,}$/,YI=/^[0-9a-z]+$/,XI=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,QI=/^[0-9a-vA-V]{20}$/,JI=/^[A-Za-z0-9]{27}$/,eL=/^[a-zA-Z0-9_-]{21}$/,tL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,nL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,j7=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,rL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,iL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function sL(){return new RegExp(iL,"u")}const aL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,oL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rk=/^[A-Za-z0-9_-]*$/,hL=/^\+(?:[0-9]){6,14}[0-9]$/,ik="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",dL=new RegExp(`^${ik}$`);function sk(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function mL(t){return new RegExp(`^${sk(t)}$`)}function fL(t){const e=sk({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${ik}T(?:${i})$`)}const pL=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},xL=/^-?\d+$/,gL=/^-?\d+(?:\.\d+)?/,vL=/^(?:true|false)$/i,yL=/^[^A-Z]*$/,bL=/^[^a-z]*$/,kr=ie("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),ak={number:"number",bigint:"bigint",object:"date"},lk=ie("$ZodCheckLessThan",(t,e)=>{kr.init(t,e);const n=ak[typeof e.value];t._zod.onattach.push(i=>{const s=i._zod.bag,a=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value<=e.value:i.value<e.value)||i.issues.push({origin:n,code:"too_big",maximum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ok=ie("$ZodCheckGreaterThan",(t,e)=>{kr.init(t,e);const n=ak[typeof e.value];t._zod.onattach.push(i=>{const s=i._zod.bag,a=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=i=>{(e.inclusive?i.value>=e.value:i.value>e.value)||i.issues.push({origin:n,code:"too_small",minimum:e.value,input:i.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),jL=ie("$ZodCheckMultipleOf",(t,e)=>{kr.init(t,e),t._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):kI(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),wL=ie("$ZodCheckNumberFormat",(t,e)=>{var l;kr.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),i=n?"int":"number",[s,a]=EI[e.format];t._zod.onattach.push(c=>{const u=c._zod.bag;u.format=e.format,u.minimum=s,u.maximum=a,n&&(u.pattern=xL)}),t._zod.check=c=>{const u=c.value;if(n){if(!Number.isInteger(u)){c.issues.push({expected:i,format:e.format,code:"invalid_type",continue:!1,input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?c.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort}):c.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,continue:!e.abort});return}}u<s&&c.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),u>a&&c.issues.push({origin:"number",input:u,code:"too_big",maximum:a,inst:t})}}),SL=ie("$ZodCheckMaxLength",(t,e)=>{var n;kr.init(t,e),(n=t._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),t._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const s=i.value;if(s.length<=e.maximum)return;const l=Yg(s);i.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),kL=ie("$ZodCheckMinLength",(t,e)=>{var n;kr.init(t,e),(n=t._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),t._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const s=i.value;if(s.length>=e.minimum)return;const l=Yg(s);i.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),TL=ie("$ZodCheckLengthEquals",(t,e)=>{var n;kr.init(t,e),(n=t._zod.def).when??(n.when=i=>{const s=i.value;return!Kg(s)&&s.length!==void 0}),t._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=i=>{const s=i.value,a=s.length;if(a===e.length)return;const l=Yg(s),c=a>e.length;i.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),V1=ie("$ZodCheckStringFormat",(t,e)=>{var n,i;kr.init(t,e),t._zod.onattach.push(s=>{const a=s._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),AL=ie("$ZodCheckRegex",(t,e)=>{V1.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),NL=ie("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=yL),V1.init(t,e)}),_L=ie("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=bL),V1.init(t,e)}),EL=ie("$ZodCheckIncludes",(t,e)=>{kr.init(t,e);const n=F1(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(s=>{const a=s._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(i)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),CL=ie("$ZodCheckStartsWith",(t,e)=>{kr.init(t,e);const n=new RegExp(`^${F1(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),ML=ie("$ZodCheckEndsWith",(t,e)=>{kr.init(t,e);const n=new RegExp(`.*${F1(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),zL=ie("$ZodCheckOverwrite",(t,e)=>{kr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class DL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(l=>l),s=Math.min(...i.map(l=>l.length-l.trimStart().length)),a=i.map(l=>l.slice(s)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...n,s.join(`
`))}}const RL={major:4,minor:2,patch:1},Qt=ie("$ZodType",(t,e)=>{var s;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=RL;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const a of i)for(const l of a._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),(s=t._zod.deferred)==null||s.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,u,h)=>{let m=Jo(c),f;for(const p of u){if(p._zod.def.when){if(!p._zod.def.when(c))continue}else if(m)continue;const v=c.issues.length,T=p._zod.check(c);if(T instanceof Promise&&(h==null?void 0:h.async)===!1)throw new g0;if(f||T instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await T,c.issues.length!==v&&(m||(m=Jo(c,v)))});else{if(c.issues.length===v)continue;m||(m=Jo(c,v))}}return f?f.then(()=>c):c},l=(c,u,h)=>{if(Jo(c))return c.aborted=!0,c;const m=a(u,i,h);if(m instanceof Promise){if(h.async===!1)throw new g0;return m.then(f=>t._zod.parse(f,h))}return t._zod.parse(m,h)};t._zod.run=(c,u)=>{if(u.skipChecks)return t._zod.parse(c,u);if(u.direction==="backward"){const m=t._zod.parse({value:c.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(f=>l(f,c,u)):l(m,c,u)}const h=t._zod.parse(c,u);if(h instanceof Promise){if(u.async===!1)throw new g0;return h.then(m=>a(m,i,u))}return a(h,i,u)}}t["~standard"]={validate:a=>{var l;try{const c=BI(t,a);return c.success?{value:c.data}:{issues:(l=c.error)==null?void 0:l.issues}}catch{return PI(t,a).then(u=>{var h;return u.success?{value:u.data}:{issues:(h=u.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),Jg=ie("$ZodString",(t,e)=>{var n;Qt.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??pL(t._zod.bag),t._zod.parse=(i,s)=>{if(e.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:t}),i}}),zt=ie("$ZodStringFormat",(t,e)=>{V1.init(t,e),Jg.init(t,e)}),OL=ie("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=nL),zt.init(t,e)}),qL=ie("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=j7(i))}else e.pattern??(e.pattern=j7());zt.init(t,e)}),IL=ie("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=rL),zt.init(t,e)}),LL=ie("$ZodURL",(t,e)=>{zt.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),BL=ie("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=sL()),zt.init(t,e)}),PL=ie("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=eL),zt.init(t,e)}),$L=ie("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=WI),zt.init(t,e)}),FL=ie("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=YI),zt.init(t,e)}),UL=ie("$ZodULID",(t,e)=>{e.pattern??(e.pattern=XI),zt.init(t,e)}),HL=ie("$ZodXID",(t,e)=>{e.pattern??(e.pattern=QI),zt.init(t,e)}),VL=ie("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=JI),zt.init(t,e)}),GL=ie("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=fL(e)),zt.init(t,e)}),ZL=ie("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=dL),zt.init(t,e)}),KL=ie("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=mL(e)),zt.init(t,e)}),WL=ie("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=tL),zt.init(t,e)}),YL=ie("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=aL),zt.init(t,e),t._zod.bag.format="ipv4"}),XL=ie("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=lL),zt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),QL=ie("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=oL),zt.init(t,e)}),JL=ie("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=cL),zt.init(t,e),t._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,a]=i;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ck(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const eB=ie("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=uL),zt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{ck(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function tB(t){if(!rk.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ck(n)}const nB=ie("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=rk),zt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{tB(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),rB=ie("$ZodE164",(t,e)=>{e.pattern??(e.pattern=hL),zt.init(t,e)});function iB(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const sB=ie("$ZodJWT",(t,e)=>{zt.init(t,e),t._zod.check=n=>{iB(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),uk=ie("$ZodNumber",(t,e)=>{Qt.init(t,e),t._zod.pattern=t._zod.bag.pattern??gL,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const a=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...a?{received:a}:{}}),n}}),aB=ie("$ZodNumberFormat",(t,e)=>{wL.init(t,e),uk.init(t,e)}),lB=ie("$ZodBoolean",(t,e)=>{Qt.init(t,e),t._zod.pattern=vL,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),n}}),oB=ie("$ZodUnknown",(t,e)=>{Qt.init(t,e),t._zod.parse=n=>n}),cB=ie("$ZodNever",(t,e)=>{Qt.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function w7(t,e,n){t.issues.length&&e.issues.push(...e0(n,t.issues)),e.value[n]=t.value}const uB=ie("$ZodArray",(t,e)=>{Qt.init(t,e),t._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const a=[];for(let l=0;l<s.length;l++){const c=s[l],u=e.element._zod.run({value:c,issues:[]},i);u instanceof Promise?a.push(u.then(h=>w7(h,n,l))):w7(u,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function Zm(t,e,n,i){t.issues.length&&e.issues.push(...e0(n,t.issues)),t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}function hk(t){var i,s,a,l;const e=Object.keys(t.shape);for(const c of e)if(!((l=(a=(s=(i=t.shape)==null?void 0:i[c])==null?void 0:s._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=_I(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function dk(t,e,n,i,s,a){const l=[],c=s.keySet,u=s.catchall._zod,h=u.def.type;for(const m in e){if(c.has(m))continue;if(h==="never"){l.push(m);continue}const f=u.run({value:e[m],issues:[]},i);f instanceof Promise?t.push(f.then(p=>Zm(p,n,m,e))):Zm(f,n,m,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const hB=ie("$ZodObject",(t,e)=>{Qt.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...c};return Object.defineProperty(e,"shape",{value:u}),u}})}const i=Zg(()=>hk(e));wt(t._zod,"propValues",()=>{const c=e.shape,u={};for(const h in c){const m=c[h]._zod;if(m.values){u[h]??(u[h]=new Set);for(const f of m.values)u[h].add(f)}}return u});const s=Gm,a=e.catchall;let l;t._zod.parse=(c,u)=>{l??(l=i.value);const h=c.value;if(!s(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),c;c.value={};const m=[],f=l.shape;for(const p of l.keys){const T=f[p]._zod.run({value:h[p],issues:[]},u);T instanceof Promise?m.push(T.then(M=>Zm(M,c,p,h))):Zm(T,c,p,h)}return a?dk(m,h,c,u,i.value,t):m.length?Promise.all(m).then(()=>c):c}}),dB=ie("$ZodObjectJIT",(t,e)=>{hB.init(t,e);const n=t._zod.parse,i=Zg(()=>hk(e)),s=p=>{const v=new DL(["shape","payload","ctx"]),T=i.value,M=N=>{const L=b7(N);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};v.write("const input = payload.value;");const q=Object.create(null);let S=0;for(const N of T.keys)q[N]=`key_${S++}`;v.write("const newResult = {};");for(const N of T.keys){const L=q[N],U=b7(N);v.write(`const ${L} = ${M(N)};`),v.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${U}, ...iss.path] : [${U}]
          })));
        }
        
        
        if (${L}.value === undefined) {
          if (${U} in input) {
            newResult[${U}] = undefined;
          }
        } else {
          newResult[${U}] = ${L}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const A=v.compile();return(N,L)=>A(p,N,L)};let a;const l=Gm,c=!YS.jitless,h=c&&AI.value,m=e.catchall;let f;t._zod.parse=(p,v)=>{f??(f=i.value);const T=p.value;return l(T)?c&&h&&(v==null?void 0:v.async)===!1&&v.jitless!==!0?(a||(a=s(e.shape)),p=a(p,v),m?dk([],T,p,v,f,t):p):n(p,v):(p.issues.push({expected:"object",code:"invalid_type",input:T,inst:t}),p)}});function S7(t,e,n,i){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const s=t.filter(a=>!Jo(a));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>ll(l,i,al())))}),e)}const mB=ie("$ZodUnion",(t,e)=>{Qt.init(t,e),wt(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),wt(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),wt(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),wt(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${s.map(a=>Wg(a.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(s,a)=>{if(n)return i(s,a);let l=!1;const c=[];for(const u of e.options){const h=u._zod.run({value:s.value,issues:[]},a);if(h instanceof Promise)c.push(h),l=!0;else{if(h.issues.length===0)return h;c.push(h)}}return l?Promise.all(c).then(u=>S7(u,s,t,a)):S7(c,s,t,a)}}),fB=ie("$ZodIntersection",(t,e)=>{Qt.init(t,e),t._zod.parse=(n,i)=>{const s=n.value,a=e.left._zod.run({value:s,issues:[]},i),l=e.right._zod.run({value:s,issues:[]},i);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([u,h])=>k7(n,u,h)):k7(n,a,l)}});function q2(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(D0(t)&&D0(e)){const n=Object.keys(e),i=Object.keys(t).filter(a=>n.indexOf(a)!==-1),s={...t,...e};for(const a of i){const l=q2(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};s[a]=l.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const s=t[i],a=e[i],l=q2(s,a);if(!l.valid)return{valid:!1,mergeErrorPath:[i,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function k7(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Jo(t))return t;const i=q2(e.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return t.value=i.data,t}const pB=ie("$ZodRecord",(t,e)=>{Qt.init(t,e),t._zod.parse=(n,i)=>{const s=n.value;if(!D0(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),n;const a=[],l=e.keyType._zod.values;if(l){n.value={};const c=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){c.add(typeof h=="number"?h.toString():h);const m=e.valueType._zod.run({value:s[h],issues:[]},i);m instanceof Promise?a.push(m.then(f=>{f.issues.length&&n.issues.push(...e0(h,f.issues)),n.value[h]=f.value})):(m.issues.length&&n.issues.push(...e0(h,m.issues)),n.value[h]=m.value)}let u;for(const h in s)c.has(h)||(u=u??[],u.push(h));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:u})}else{n.value={};for(const c of Reflect.ownKeys(s)){if(c==="__proto__")continue;const u=e.keyType._zod.run({value:c,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){e.mode==="loose"?n.value[c]=s[c]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(m=>ll(m,i,al())),input:c,path:[c],inst:t});continue}const h=e.valueType._zod.run({value:s[c],issues:[]},i);h instanceof Promise?a.push(h.then(m=>{m.issues.length&&n.issues.push(...e0(c,m.issues)),n.value[u.value]=m.value})):(h.issues.length&&n.issues.push(...e0(c,h.issues)),n.value[u.value]=h.value)}}return a.length?Promise.all(a).then(()=>n):n}}),xB=ie("$ZodEnum",(t,e)=>{Qt.init(t,e);const n=XS(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(s=>NI.has(typeof s)).map(s=>typeof s=="string"?F1(s):s.toString()).join("|")})$`),t._zod.parse=(s,a)=>{const l=s.value;return i.has(l)||s.issues.push({code:"invalid_value",values:n,input:l,inst:t}),s}}),gB=ie("$ZodTransform",(t,e)=>{Qt.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new WS(t.constructor.name);const s=e.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(l=>(n.value=l,n));if(s instanceof Promise)throw new g0;return n.value=s,n}});function T7(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const vB=ie("$ZodOptional",(t,e)=>{Qt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",wt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),wt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Wg(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,i);return s instanceof Promise?s.then(a=>T7(a,n.value)):T7(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),yB=ie("$ZodNullable",(t,e)=>{Qt.init(t,e),wt(t._zod,"optin",()=>e.innerType._zod.optin),wt(t._zod,"optout",()=>e.innerType._zod.optout),wt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Wg(n.source)}|null)$`):void 0}),wt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),bB=ie("$ZodDefault",(t,e)=>{Qt.init(t,e),t._zod.optin="optional",wt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,i);return s instanceof Promise?s.then(a=>A7(a,e)):A7(s,e)}});function A7(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const jB=ie("$ZodPrefault",(t,e)=>{Qt.init(t,e),t._zod.optin="optional",wt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),wB=ie("$ZodNonOptional",(t,e)=>{Qt.init(t,e),wt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const s=e.innerType._zod.run(n,i);return s instanceof Promise?s.then(a=>N7(a,t)):N7(s,t)}});function N7(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const SB=ie("$ZodCatch",(t,e)=>{Qt.init(t,e),wt(t._zod,"optin",()=>e.innerType._zod.optin),wt(t._zod,"optout",()=>e.innerType._zod.optout),wt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const s=e.innerType._zod.run(n,i);return s instanceof Promise?s.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>ll(l,i,al()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>ll(a,i,al()))},input:n.value}),n.issues=[]),n)}}),kB=ie("$ZodPipe",(t,e)=>{Qt.init(t,e),wt(t._zod,"values",()=>e.in._zod.values),wt(t._zod,"optin",()=>e.in._zod.optin),wt(t._zod,"optout",()=>e.out._zod.optout),wt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{if(i.direction==="backward"){const a=e.out._zod.run(n,i);return a instanceof Promise?a.then(l=>id(l,e.in,i)):id(a,e.in,i)}const s=e.in._zod.run(n,i);return s instanceof Promise?s.then(a=>id(a,e.out,i)):id(s,e.out,i)}});function id(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const TB=ie("$ZodReadonly",(t,e)=>{Qt.init(t,e),wt(t._zod,"propValues",()=>e.innerType._zod.propValues),wt(t._zod,"values",()=>e.innerType._zod.values),wt(t._zod,"optin",()=>{var n,i;return(i=(n=e.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),wt(t._zod,"optout",()=>{var n,i;return(i=(n=e.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const s=e.innerType._zod.run(n,i);return s instanceof Promise?s.then(_7):_7(s)}});function _7(t){return t.value=Object.freeze(t.value),t}const AB=ie("$ZodCustom",(t,e)=>{kr.init(t,e),Qt.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,s=e.fn(i);if(s instanceof Promise)return s.then(a=>E7(a,n,i,t));E7(s,n,i,t)}});function E7(t,e,n,i){if(!t){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),e.issues.push(qu(s))}}var C7;class NB{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const i=n[0];if(this._map.set(e,i),i&&typeof i=="object"&&"id"in i){if(this._idmap.has(i.id))throw new Error(`ID ${i.id} already exists in the registry`);this._idmap.set(i.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function _B(){return new NB}(C7=globalThis).__zod_globalRegistry??(C7.__zod_globalRegistry=_B());const Fc=globalThis.__zod_globalRegistry;function EB(t,e){return new t({type:"string",...Me(e)})}function CB(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Me(e)})}function M7(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Me(e)})}function MB(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Me(e)})}function zB(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Me(e)})}function DB(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Me(e)})}function RB(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Me(e)})}function OB(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Me(e)})}function qB(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Me(e)})}function IB(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Me(e)})}function LB(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Me(e)})}function BB(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Me(e)})}function PB(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Me(e)})}function $B(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Me(e)})}function FB(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Me(e)})}function UB(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Me(e)})}function HB(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Me(e)})}function VB(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Me(e)})}function GB(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Me(e)})}function ZB(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Me(e)})}function KB(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Me(e)})}function WB(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Me(e)})}function YB(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Me(e)})}function XB(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Me(e)})}function QB(t,e){return new t({type:"string",format:"date",check:"string_format",...Me(e)})}function JB(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Me(e)})}function eP(t,e){return new t({type:"string",format:"duration",check:"string_format",...Me(e)})}function tP(t,e){return new t({type:"number",checks:[],...Me(e)})}function nP(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Me(e)})}function rP(t,e){return new t({type:"boolean",...Me(e)})}function iP(t){return new t({type:"unknown"})}function sP(t,e){return new t({type:"never",...Me(e)})}function z7(t,e){return new lk({check:"less_than",...Me(e),value:t,inclusive:!1})}function gp(t,e){return new lk({check:"less_than",...Me(e),value:t,inclusive:!0})}function D7(t,e){return new ok({check:"greater_than",...Me(e),value:t,inclusive:!1})}function vp(t,e){return new ok({check:"greater_than",...Me(e),value:t,inclusive:!0})}function R7(t,e){return new jL({check:"multiple_of",...Me(e),value:t})}function mk(t,e){return new SL({check:"max_length",...Me(e),maximum:t})}function Km(t,e){return new kL({check:"min_length",...Me(e),minimum:t})}function fk(t,e){return new TL({check:"length_equals",...Me(e),length:t})}function aP(t,e){return new AL({check:"string_format",format:"regex",...Me(e),pattern:t})}function lP(t){return new NL({check:"string_format",format:"lowercase",...Me(t)})}function oP(t){return new _L({check:"string_format",format:"uppercase",...Me(t)})}function cP(t,e){return new EL({check:"string_format",format:"includes",...Me(e),includes:t})}function uP(t,e){return new CL({check:"string_format",format:"starts_with",...Me(e),prefix:t})}function hP(t,e){return new ML({check:"string_format",format:"ends_with",...Me(e),suffix:t})}function W0(t){return new zL({check:"overwrite",tx:t})}function dP(t){return W0(e=>e.normalize(t))}function mP(){return W0(t=>t.trim())}function fP(){return W0(t=>t.toLowerCase())}function pP(){return W0(t=>t.toUpperCase())}function xP(){return W0(t=>TI(t))}function gP(t,e,n){return new t({type:"array",element:e,...Me(n)})}function vP(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Me(n)})}function yP(t){const e=bP(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(qu(i,n.value,e._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push(qu(s))}},t(n.value,n)));return e}function bP(t,e){const n=new kr({check:"custom",...Me(e)});return n._zod.check=t,n}function pk(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Fc,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function wn(t,e,n={path:[],schemaPath:[]}){var m,f;var i;const s=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const c=(f=(m=t._zod).toJSONSchema)==null?void 0:f.call(m);if(c)l.schema=c;else{const p={...n,schemaPath:[...n.schemaPath,t],path:n.path},v=t._zod.parent;if(v)l.ref=v,wn(v,e,p),e.seen.get(v).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,p);else{const T=l.schema,M=e.processors[s.type];if(!M)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);M(t,e,T,p)}}const u=e.metadataRegistry.get(t);return u&&Object.assign(l.schema,u),e.io==="input"&&Xn(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((i=l.schema).default??(i.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function xk(t,e){var a,l,c;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{var v;const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const T=(v=t.external.registry.get(u[0]))==null?void 0:v.id,M=t.external.uri??(S=>S);if(T)return{ref:M(T)};const q=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=q,{defId:q,ref:`${M("__shared")}#/${h}/${q}`}}if(u[1]===n)return{ref:"#"};const f=`#/${h}/`,p=u[1].schema.id??`__schema${t.counter++}`;return{defId:p,ref:f+p}},s=u=>{if(u[1].schema.$ref)return;const h=u[1],{ref:m,defId:f}=i(u);h.def={...h.schema},f&&(h.defId=f);const p=h.schema;for(const v in p)delete p[v];p.$ref=m};if(t.cycles==="throw")for(const u of t.seen.entries()){const h=u[1];if(h.cycle)throw new Error(`Cycle detected: #/${(a=h.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const h=u[1];if(e===u[0]){s(u);continue}if(t.external){const f=(l=t.external.registry.get(u[0]))==null?void 0:l.id;if(e!==u[0]&&f){s(u);continue}}if((c=t.metadataRegistry.get(u[0]))==null?void 0:c.id){s(u);continue}if(h.cycle){s(u);continue}if(h.count>1&&t.reused==="ref"){s(u);continue}}}function gk(t,e){var l,c,u;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const m=t.seen.get(h),f=m.def??m.schema,p={...f};if(m.ref===null)return;const v=m.ref;if(m.ref=null,v){i(v);const T=t.seen.get(v).schema;T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(T)):(Object.assign(f,T),Object.assign(f,p))}m.isParent||t.override({zodSchema:h,jsonSchema:f,path:m.path??[]})};for(const h of[...t.seen.entries()].reverse())i(h[0]);const s={};if(t.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const h=(c=t.external.registry.get(e))==null?void 0:c.id;if(!h)throw new Error("Schema is missing an `id` property");s.$id=t.external.uri(h)}Object.assign(s,n.def??n.schema);const a=((u=t.external)==null?void 0:u.defs)??{};for(const h of t.seen.entries()){const m=h[1];m.def&&m.defId&&(a[m.defId]=m.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?s.$defs=a:s.definitions=a);try{const h=JSON.parse(JSON.stringify(s));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:Wm(e,"input"),output:Wm(e,"output")}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function Xn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const i=t._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Xn(i.element,n);if(i.type==="set")return Xn(i.valueType,n);if(i.type==="lazy")return Xn(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Xn(i.innerType,n);if(i.type==="intersection")return Xn(i.left,n)||Xn(i.right,n);if(i.type==="record"||i.type==="map")return Xn(i.keyType,n)||Xn(i.valueType,n);if(i.type==="pipe")return Xn(i.in,n)||Xn(i.out,n);if(i.type==="object"){for(const s in i.shape)if(Xn(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(Xn(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(Xn(s,n))return!0;return!!(i.rest&&Xn(i.rest,n))}return!1}const jP=(t,e={})=>n=>{const i=pk({...n,processors:e});return wn(t,i),xk(i,t),gk(i,t)},Wm=(t,e)=>n=>{const{libraryOptions:i,target:s}=n??{},a=pk({...i??{},target:s,io:e,processors:{}});return wn(t,a),xk(a,t),gk(a,t)},wP={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},SP=(t,e,n,i)=>{const s=n;s.type="string";const{minimum:a,maximum:l,format:c,patterns:u,contentEncoding:h}=t._zod.bag;if(typeof a=="number"&&(s.minLength=a),typeof l=="number"&&(s.maxLength=l),c&&(s.format=wP[c]??c,s.format===""&&delete s.format),h&&(s.contentEncoding=h),u&&u.size>0){const m=[...u];m.length===1?s.pattern=m[0].source:m.length>1&&(s.allOf=[...m.map(f=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},kP=(t,e,n,i)=>{const s=n,{minimum:a,maximum:l,format:c,multipleOf:u,exclusiveMaximum:h,exclusiveMinimum:m}=t._zod.bag;typeof c=="string"&&c.includes("int")?s.type="integer":s.type="number",typeof m=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.minimum=m,s.exclusiveMinimum=!0):s.exclusiveMinimum=m),typeof a=="number"&&(s.minimum=a,typeof m=="number"&&e.target!=="draft-04"&&(m>=a?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof l=="number"&&(s.maximum=l,typeof h=="number"&&e.target!=="draft-04"&&(h<=l?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},TP=(t,e,n,i)=>{n.type="boolean"},AP=(t,e,n,i)=>{n.not={}},NP=(t,e,n,i)=>{},_P=(t,e,n,i)=>{const s=t._zod.def,a=XS(s.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},EP=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},CP=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},MP=(t,e,n,i)=>{const s=n,a=t._zod.def,{minimum:l,maximum:c}=t._zod.bag;typeof l=="number"&&(s.minItems=l),typeof c=="number"&&(s.maxItems=c),s.type="array",s.items=wn(a.element,e,{...i,path:[...i.path,"items"]})},zP=(t,e,n,i)=>{var h;const s=n,a=t._zod.def;s.type="object",s.properties={};const l=a.shape;for(const m in l)s.properties[m]=wn(l[m],e,{...i,path:[...i.path,"properties",m]});const c=new Set(Object.keys(l)),u=new Set([...c].filter(m=>{const f=a.shape[m]._zod;return e.io==="input"?f.optin===void 0:f.optout===void 0}));u.size>0&&(s.required=Array.from(u)),((h=a.catchall)==null?void 0:h._zod.def.type)==="never"?s.additionalProperties=!1:a.catchall?a.catchall&&(s.additionalProperties=wn(a.catchall,e,{...i,path:[...i.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},DP=(t,e,n,i)=>{const s=t._zod.def,a=s.inclusive===!1,l=s.options.map((c,u)=>wn(c,e,{...i,path:[...i.path,a?"oneOf":"anyOf",u]}));a?n.oneOf=l:n.anyOf=l},RP=(t,e,n,i)=>{const s=t._zod.def,a=wn(s.left,e,{...i,path:[...i.path,"allOf",0]}),l=wn(s.right,e,{...i,path:[...i.path,"allOf",1]}),c=h=>"allOf"in h&&Object.keys(h).length===1,u=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];n.allOf=u},OP=(t,e,n,i)=>{const s=n,a=t._zod.def;s.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(s.propertyNames=wn(a.keyType,e,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=wn(a.valueType,e,{...i,path:[...i.path,"additionalProperties"]})},qP=(t,e,n,i)=>{const s=t._zod.def,a=wn(s.innerType,e,i),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=s.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},IP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType},LP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},BP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},PP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType;let l;try{l=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},$P=(t,e,n,i)=>{const s=t._zod.def,a=e.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;wn(a,e,i);const l=e.seen.get(t);l.ref=a},FP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType,n.readOnly=!0},UP=(t,e,n,i)=>{const s=t._zod.def;wn(s.innerType,e,i);const a=e.seen.get(t);a.ref=s.innerType},HP=ie("ZodISODateTime",(t,e)=>{GL.init(t,e),Ut.init(t,e)});function VP(t){return XB(HP,t)}const GP=ie("ZodISODate",(t,e)=>{ZL.init(t,e),Ut.init(t,e)});function ZP(t){return QB(GP,t)}const KP=ie("ZodISOTime",(t,e)=>{KL.init(t,e),Ut.init(t,e)});function WP(t){return JB(KP,t)}const YP=ie("ZodISODuration",(t,e)=>{WL.init(t,e),Ut.init(t,e)});function XP(t){return eP(YP,t)}const QP=(t,e)=>{tk.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>LI(t,n)},flatten:{value:n=>II(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,O2,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,O2,2)}},isEmpty:{get(){return t.issues.length===0}}})},pi=ie("ZodError",QP,{Parent:Error}),JP=Xg(pi),e$=Qg(pi),t$=U1(pi),n$=H1(pi),r$=$I(pi),i$=FI(pi),s$=UI(pi),a$=HI(pi),l$=VI(pi),o$=GI(pi),c$=ZI(pi),u$=KI(pi),ln=ie("ZodType",(t,e)=>(Qt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Wm(t,"input"),output:Wm(t,"output")}}),t.toJSONSchema=jP(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(wo(e,{checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]})),t.clone=(n,i)=>bl(t,n,i),t.brand=()=>t,t.register=(n,i)=>(n.add(t,i),t),t.parse=(n,i)=>JP(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>t$(t,n,i),t.parseAsync=async(n,i)=>e$(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>n$(t,n,i),t.spa=t.safeParseAsync,t.encode=(n,i)=>r$(t,n,i),t.decode=(n,i)=>i$(t,n,i),t.encodeAsync=async(n,i)=>s$(t,n,i),t.decodeAsync=async(n,i)=>a$(t,n,i),t.safeEncode=(n,i)=>l$(t,n,i),t.safeDecode=(n,i)=>o$(t,n,i),t.safeEncodeAsync=async(n,i)=>c$(t,n,i),t.safeDecodeAsync=async(n,i)=>u$(t,n,i),t.refine=(n,i)=>t.check(tF(n,i)),t.superRefine=n=>t.check(nF(n)),t.overwrite=n=>t.check(W0(n)),t.optional=()=>I7(t),t.nullable=()=>L7(t),t.nullish=()=>I7(L7(t)),t.nonoptional=n=>K$(t,n),t.array=()=>R0(t),t.or=n=>bk([t,n]),t.and=n=>B$(t,n),t.transform=n=>B7(t,F$(n)),t.default=n=>V$(t,n),t.prefault=n=>Z$(t,n),t.catch=n=>Y$(t,n),t.pipe=n=>B7(t,n),t.readonly=()=>J$(t),t.describe=n=>{const i=t.clone();return Fc.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){var n;return(n=Fc.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Fc.get(t);const i=t.clone();return Fc.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),vk=ie("_ZodString",(t,e)=>{Jg.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(i,s,a)=>SP(t,i,s);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(aP(...i)),t.includes=(...i)=>t.check(cP(...i)),t.startsWith=(...i)=>t.check(uP(...i)),t.endsWith=(...i)=>t.check(hP(...i)),t.min=(...i)=>t.check(Km(...i)),t.max=(...i)=>t.check(mk(...i)),t.length=(...i)=>t.check(fk(...i)),t.nonempty=(...i)=>t.check(Km(1,...i)),t.lowercase=i=>t.check(lP(i)),t.uppercase=i=>t.check(oP(i)),t.trim=()=>t.check(mP()),t.normalize=(...i)=>t.check(dP(...i)),t.toLowerCase=()=>t.check(fP()),t.toUpperCase=()=>t.check(pP()),t.slugify=()=>t.check(xP())}),h$=ie("ZodString",(t,e)=>{Jg.init(t,e),vk.init(t,e),t.email=n=>t.check(CB(d$,n)),t.url=n=>t.check(OB(m$,n)),t.jwt=n=>t.check(YB(_$,n)),t.emoji=n=>t.check(qB(f$,n)),t.guid=n=>t.check(M7(O7,n)),t.uuid=n=>t.check(MB(sd,n)),t.uuidv4=n=>t.check(zB(sd,n)),t.uuidv6=n=>t.check(DB(sd,n)),t.uuidv7=n=>t.check(RB(sd,n)),t.nanoid=n=>t.check(IB(p$,n)),t.guid=n=>t.check(M7(O7,n)),t.cuid=n=>t.check(LB(x$,n)),t.cuid2=n=>t.check(BB(g$,n)),t.ulid=n=>t.check(PB(v$,n)),t.base64=n=>t.check(ZB(T$,n)),t.base64url=n=>t.check(KB(A$,n)),t.xid=n=>t.check($B(y$,n)),t.ksuid=n=>t.check(FB(b$,n)),t.ipv4=n=>t.check(UB(j$,n)),t.ipv6=n=>t.check(HB(w$,n)),t.cidrv4=n=>t.check(VB(S$,n)),t.cidrv6=n=>t.check(GB(k$,n)),t.e164=n=>t.check(WB(N$,n)),t.datetime=n=>t.check(VP(n)),t.date=n=>t.check(ZP(n)),t.time=n=>t.check(WP(n)),t.duration=n=>t.check(XP(n))});function bn(t){return EB(h$,t)}const Ut=ie("ZodStringFormat",(t,e)=>{zt.init(t,e),vk.init(t,e)}),d$=ie("ZodEmail",(t,e)=>{IL.init(t,e),Ut.init(t,e)}),O7=ie("ZodGUID",(t,e)=>{OL.init(t,e),Ut.init(t,e)}),sd=ie("ZodUUID",(t,e)=>{qL.init(t,e),Ut.init(t,e)}),m$=ie("ZodURL",(t,e)=>{LL.init(t,e),Ut.init(t,e)}),f$=ie("ZodEmoji",(t,e)=>{BL.init(t,e),Ut.init(t,e)}),p$=ie("ZodNanoID",(t,e)=>{PL.init(t,e),Ut.init(t,e)}),x$=ie("ZodCUID",(t,e)=>{$L.init(t,e),Ut.init(t,e)}),g$=ie("ZodCUID2",(t,e)=>{FL.init(t,e),Ut.init(t,e)}),v$=ie("ZodULID",(t,e)=>{UL.init(t,e),Ut.init(t,e)}),y$=ie("ZodXID",(t,e)=>{HL.init(t,e),Ut.init(t,e)}),b$=ie("ZodKSUID",(t,e)=>{VL.init(t,e),Ut.init(t,e)}),j$=ie("ZodIPv4",(t,e)=>{YL.init(t,e),Ut.init(t,e)}),w$=ie("ZodIPv6",(t,e)=>{XL.init(t,e),Ut.init(t,e)}),S$=ie("ZodCIDRv4",(t,e)=>{QL.init(t,e),Ut.init(t,e)}),k$=ie("ZodCIDRv6",(t,e)=>{JL.init(t,e),Ut.init(t,e)}),T$=ie("ZodBase64",(t,e)=>{eB.init(t,e),Ut.init(t,e)}),A$=ie("ZodBase64URL",(t,e)=>{nB.init(t,e),Ut.init(t,e)}),N$=ie("ZodE164",(t,e)=>{rB.init(t,e),Ut.init(t,e)}),_$=ie("ZodJWT",(t,e)=>{sB.init(t,e),Ut.init(t,e)}),yk=ie("ZodNumber",(t,e)=>{uk.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(i,s,a)=>kP(t,i,s),t.gt=(i,s)=>t.check(D7(i,s)),t.gte=(i,s)=>t.check(vp(i,s)),t.min=(i,s)=>t.check(vp(i,s)),t.lt=(i,s)=>t.check(z7(i,s)),t.lte=(i,s)=>t.check(gp(i,s)),t.max=(i,s)=>t.check(gp(i,s)),t.int=i=>t.check(q7(i)),t.safe=i=>t.check(q7(i)),t.positive=i=>t.check(D7(0,i)),t.nonnegative=i=>t.check(vp(0,i)),t.negative=i=>t.check(z7(0,i)),t.nonpositive=i=>t.check(gp(0,i)),t.multipleOf=(i,s)=>t.check(R7(i,s)),t.step=(i,s)=>t.check(R7(i,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function In(t){return tP(yk,t)}const E$=ie("ZodNumberFormat",(t,e)=>{aB.init(t,e),yk.init(t,e)});function q7(t){return nP(E$,t)}const C$=ie("ZodBoolean",(t,e)=>{lB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>TP(t,n,i)});function M$(t){return rP(C$,t)}const z$=ie("ZodUnknown",(t,e)=>{oB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>NP()});function I2(){return iP(z$)}const D$=ie("ZodNever",(t,e)=>{cB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>AP(t,n,i)});function R$(t){return sP(D$,t)}const O$=ie("ZodArray",(t,e)=>{uB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>MP(t,n,i,s),t.element=e.element,t.min=(n,i)=>t.check(Km(n,i)),t.nonempty=n=>t.check(Km(1,n)),t.max=(n,i)=>t.check(mk(n,i)),t.length=(n,i)=>t.check(fk(n,i)),t.unwrap=()=>t.element});function R0(t,e){return gP(O$,t,e)}const q$=ie("ZodObject",(t,e)=>{dB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>zP(t,n,i,s),wt(t,"shape",()=>e.shape),t.keyof=()=>B2(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:I2()}),t.loose=()=>t.clone({...t._zod.def,catchall:I2()}),t.strict=()=>t.clone({...t._zod.def,catchall:R$()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>zI(t,n),t.safeExtend=n=>DI(t,n),t.merge=n=>RI(t,n),t.pick=n=>CI(t,n),t.omit=n=>MI(t,n),t.partial=(...n)=>OI(wk,t,n[0]),t.required=(...n)=>qI(Sk,t,n[0])});function Mi(t,e){const n={type:"object",shape:t??{},...Me(e)};return new q$(n)}const I$=ie("ZodUnion",(t,e)=>{mB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>DP(t,n,i,s),t.options=e.options});function bk(t,e){return new I$({type:"union",options:t,...Me(e)})}const L$=ie("ZodIntersection",(t,e)=>{fB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>RP(t,n,i,s)});function B$(t,e){return new L$({type:"intersection",left:t,right:e})}const P$=ie("ZodRecord",(t,e)=>{pB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>OP(t,n,i,s),t.keyType=e.keyType,t.valueType=e.valueType});function jk(t,e,n){return new P$({type:"record",keyType:t,valueType:e,...Me(n)})}const L2=ie("ZodEnum",(t,e)=>{xB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(i,s,a)=>_P(t,i,s),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,s)=>{const a={};for(const l of i)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new L2({...e,checks:[],...Me(s),entries:a})},t.exclude=(i,s)=>{const a={...e.entries};for(const l of i)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new L2({...e,checks:[],...Me(s),entries:a})}});function B2(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new L2({type:"enum",entries:n,...Me(e)})}const $$=ie("ZodTransform",(t,e)=>{gB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>CP(t,n),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new WS(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(qu(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(qu(l))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(a=>(n.value=a,n)):(n.value=s,n)}});function F$(t){return new $$({type:"transform",transform:t})}const wk=ie("ZodOptional",(t,e)=>{vB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>UP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType});function I7(t){return new wk({type:"optional",innerType:t})}const U$=ie("ZodNullable",(t,e)=>{yB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>qP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType});function L7(t){return new U$({type:"nullable",innerType:t})}const H$=ie("ZodDefault",(t,e)=>{bB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>LP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function V$(t,e){return new H$({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():JS(e)}})}const G$=ie("ZodPrefault",(t,e)=>{jB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>BP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType});function Z$(t,e){return new G$({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():JS(e)}})}const Sk=ie("ZodNonOptional",(t,e)=>{wB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>IP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType});function K$(t,e){return new Sk({type:"nonoptional",innerType:t,...Me(e)})}const W$=ie("ZodCatch",(t,e)=>{SB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>PP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Y$(t,e){return new W$({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const X$=ie("ZodPipe",(t,e)=>{kB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>$P(t,n,i,s),t.in=e.in,t.out=e.out});function B7(t,e){return new X$({type:"pipe",in:t,out:e})}const Q$=ie("ZodReadonly",(t,e)=>{TB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>FP(t,n,i,s),t.unwrap=()=>t._zod.def.innerType});function J$(t){return new Q$({type:"readonly",innerType:t})}const eF=ie("ZodCustom",(t,e)=>{AB.init(t,e),ln.init(t,e),t._zod.processJSONSchema=(n,i,s)=>EP(t,n)});function tF(t,e={}){return vP(eF,t,e)}function nF(t){return yP(t)}rs("Validation");const P7=bn().min(1).max(100);bn().regex(/^[a-fA-F0-9]{64}$/);const G1=bn().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),kk=bn().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);bn().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);Mi({challenge:bn().min(10).max(200),expiresAt:In().int().positive()});Mi({kind:In().int(),created_at:In().int().nonnegative(),tags:R0(R0(bn())),content:bn()});const rF=Mi({npub:G1,displayName:kk.nullable()}),Tk=Mi({visitedAt:bn().nullable().optional(),completedAt:bn().nullable().optional(),quizAttempts:R0(Mi({xpEarned:In().int().min(0).optional(),score:In().min(0).max(100).optional(),timestamp:bn().optional(),difficulty:B2(["easy","medium","hard"]).optional(),correctAnswers:In().int().min(0).optional(),totalQuestions:In().int().min(1).optional()})).optional(),visualizationsInteracted:R0(bn().max(100)).optional(),masteryLevel:bk([In().int().min(0).max(3),B2(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:bn().optional(),timeSpentSeconds:In().int().min(0).optional()});Mi({user:Mi({totalXP:In().int().min(0),level:In().int().min(1).max(10),sectionsCompleted:R0(P7)}),sections:jk(P7,Tk),dailyGoals:Mi({lastResetDate:bn().nullable(),currentStreak:In().int().min(0),xpEarned:In().int().min(0),xpGoal:In().int().min(0)}),lastUpdated:In().int().nonnegative()});Mi({success:M$(),totalXP:In().int().min(0)});Mi({npub:G1,displayName:kk.nullable(),xp:In().int().min(0),lastSync:bn()});Mi({timestamp:bn(),action:bn(),targetNpub:G1.nullable(),performedBy:bn(),details:jk(bn(),I2()).nullable()});function yp(t){return G1.safeParse(t).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function iF(t){const e=Tk.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}function sF(t){const e=rF.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid auth state format"}}const rr={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},cu=[0,100,250,500,850,1300,1900,2650,3550,4600],Ak=50,Ym=rs("SyncManager"),aF="magic-internet-math-progress";function $7(){try{const t=localStorage.getItem(aF);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const n={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0};for(const[i,s]of Object.entries(e.sections)){const[a]=i.split(":");if(!SI(a))continue;const l=a,c=iF(s);if(!c.valid||!c.data){Ym.warn(`Invalid section data for ${i}, skipping`);continue}const u=c.data;if(u.quizAttempts)for(const h of u.quizAttempts)h.xpEarned&&(n[l]+=h.xpEarned);u.visitedAt&&(n[l]+=rr.SECTION_VISIT),u.completedAt&&(n[l]+=rr.SECTION_COMPLETE),u.visualizationsInteracted&&(n[l]+=u.visualizationsInteracted.length*rr.VISUALIZATION_USE)}return[{courseId:"ba",xp:n.ba},{courseId:"crypto",xp:n.crypto},{courseId:"aa",xp:n.aa},{courseId:"linalg",xp:n.linalg},{courseId:"advlinalg",xp:n.advlinalg},{courseId:"template",xp:n.template},{courseId:"islr",xp:n.islr},{courseId:"ra",xp:n.ra},{courseId:"calc1",xp:n.calc1},{courseId:"calc_lib_art",xp:n.calc_lib_art}]}catch(t){return Ym.error("Error extracting scores from storage:",t),null}}class lF{constructor(){xs(this,"syncInterval",null);xs(this,"debounceTimeout",null);xs(this,"lastSyncTime",0);xs(this,"isAuthenticated",!1);xs(this,"displayName",null);xs(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},lI),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},oI))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Wl())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<sI)return{success:!1,error:"Rate limited"};try{const n=$7();if(!n)return{success:!1,error:"No scores to sync"};const i=Kl(),s=Ba(i,"syncScores"),a={scores:n};this.displayName!==void 0&&(a.displayName=this.displayName);const l=await s(a);return this.lastSyncTime=e,{success:l.data.success,totalXP:l.data.totalXP}}catch(n){return Ym.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(e=3){for(let n=0;n<e;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<e-1){const s=1e3*Math.pow(2,n);Ym.debug(`Sync retry ${n+1}/${e} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=$7();return e?e.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0}):null}}let bp=null;function Zl(){return bp||(bp=new lF),bp}const _n=rs("NostrAuth"),Nk=K.createContext(null),Cc="magic-internet-math-nostr-auth";function oF({children:t}){const[e,n]=K.useState(!1),[i,s]=K.useState(null),[a,l]=K.useState(null),[c,u]=K.useState(null),[h,m]=K.useState(!1),[f,p]=K.useState(null),[v,T]=K.useState(!1),[M,q]=K.useState(!1),[S,A]=K.useState(null);K.useEffect(()=>{(async()=>{const B=await yI(iI);T(B),q(!0)})()},[]);const N=K.useCallback(async z=>{for(const B of D2)try{const P=await KS(B,z);if(P){P.nip05&&u(P.nip05);const F=P.display_name||P.name;if(F){l(F);const $=Zl();$.setDisplayName(F),$.requestSync()}return}}catch(P){_n.warn(`Failed to fetch profile from ${B}:`,P)}},[]);K.useEffect(()=>{if(!Wl())return;const z=pp(),B=hO(z,async P=>{if(A(P),P){s(P.uid);try{const $=await P.getIdTokenResult(!0);_n.debug("Token claims:",$.claims),m($.claims.isAdmin===!0)}catch($){_n.error("Error getting token:",$),m(!1)}try{const $=localStorage.getItem(Cc);if($){const _e=JSON.parse($),Ee=sF(_e);if(!Ee.valid||!Ee.data){_n.warn("Invalid auth state in localStorage:",Ee.error),localStorage.removeItem(Cc);return}Ee.data.npub===P.uid&&l(Ee.data.displayName)}}catch($){_n.debug("Storage read error:",$)}const F=Zl();F.setAuthenticated(!0),F.startPeriodicSync();try{const $=ZS(P.uid);N($)}catch($){_n.debug("Npub conversion error:",$)}}else{s(null),u(null),m(!1),l(null);const F=Zl();F.setAuthenticated(!1),F.stopPeriodicSync()}});return()=>B()},[N]);const L=K.useCallback(async()=>{if(_n.debug("connect() called"),_n.debug("isFirebaseConfigured:",Wl()),_n.debug("hasNostrExtension:",Vm()),!Wl()){_n.info("Firebase not configured, cannot connect");return}if(!Vm()){p("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),_n.warn("No extension found, returning");return}n(!0),p(null),_n.info("Starting Nostr connection...");try{const z=window.nostr,B=Kl(),P=await z.getPublicKey(),F=vI(P),_e=await Ba(B,"createChallenge")({pubkeyHex:P}),{challenge:Ee}=_e.data,le={kind:nI,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Ee]],content:Ee},me=await z.signEvent(le),Be=await Ba(B,"verifyNostrAndCreateToken")({signedEvent:me,challenge:Ee}),ze=pp();await oO(ze,Be.data.token);try{const ye={npub:F,displayName:null};localStorage.setItem(Cc,JSON.stringify(ye))}catch(ye){_n.warn("Failed to store auth state:",ye)}Zl().syncNow().catch(ye=>{_n.warn("Initial sync failed:",ye)})}catch(z){_n.error("Nostr connect error:",z),p(z instanceof Error?z.message:"Failed to connect. Please try again.")}finally{n(!1)}},[v]),U=K.useCallback(async()=>{try{if(Wl()){const z=pp();await dO(z)}try{localStorage.removeItem(Cc)}catch(z){_n.warn("Failed to clear auth state from storage:",z)}s(null),l(null),m(!1)}catch(z){_n.error("Disconnect error:",z),p(z instanceof Error?z.message:"Failed to disconnect")}},[]),Q=K.useCallback(z=>{if(l(z),i)try{localStorage.setItem(Cc,JSON.stringify({npub:i,displayName:z}))}catch(P){_n.warn("Failed to update display name in storage:",P)}const B=Zl();B.setDisplayName(z),B.requestSync()},[i]),D=K.useCallback(()=>{p(null)},[]),C=K.useMemo(()=>({isAuthenticated:!!S&&!!i,isConnecting:e,npub:i,displayName:a,nip05:c,isAdmin:h,error:f,hasExtension:v,extensionChecked:M,connect:L,disconnect:U,setDisplayName:Q,clearError:D}),[S,i,e,a,c,h,f,v,M,L,U,Q,D]);return r.jsx(Nk.Provider,{value:C,children:t})}const cF={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function Z1(){const t=K.useContext(Nk);return t||cF}rs("ErrorContext");K.createContext(null);rs("ErrorBoundary");function F7({className:t="",showDisplayName:e=!0}){var p,v;const{isAuthenticated:n,isConnecting:i,npub:s,displayName:a,hasExtension:l,extensionChecked:c,error:u,connect:h,disconnect:m,clearError:f}=Z1();return c?n?r.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((p=a==null?void 0:a[0])==null?void 0:p.toUpperCase())||((v=s==null?void 0:s[5])==null?void 0:v.toUpperCase())||"?"}),r.jsxs("div",{className:"flex flex-col",children:[e&&a&&r.jsx("span",{className:"text-sm font-medium text-dark-100",children:a}),r.jsx("span",{className:"text-xs text-dark-400 font-mono",children:s?Hm(s,6):"..."})]})]}),r.jsx("button",{onClick:m,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):r.jsxs("div",{className:`flex flex-col items-center gap-2 ${t}`,children:[r.jsx("button",{onClick:()=>{h()},disabled:i||!l,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${l?i?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!l&&r.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",r.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",r.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),u&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[r.jsx("span",{children:u}),r.jsx("button",{onClick:f,className:"text-dark-400 hover:text-dark-200",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):r.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[r.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),r.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function uF(t){switch(t){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${t}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function hF({entry:t,isCurrentUser:e}){var i,s,a;const n=uF(t.rank);return r.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${e?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[r.jsx("div",{className:`
          w-10 h-10 rounded-lg ${n.bgColor} ${n.borderColor} border
          flex items-center justify-center font-bold ${n.textColor}
          ${t.rank<=3?"text-lg":"text-sm"}
        `,children:n.emoji}),r.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${t.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":t.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":t.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((s=(i=t.displayName)==null?void 0:i[0])==null?void 0:s.toUpperCase())||((a=t.npub[5])==null?void 0:a.toUpperCase())||"?"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`font-medium truncate ${e?"text-primary-300":"text-dark-100"}`,children:t.displayName||Hm(t.npub,8)}),e&&r.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),t.displayName&&r.jsx("span",{className:"text-xs text-dark-500 font-mono",children:Hm(t.npub,6)})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[t.xp.toLocaleString(),r.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),r.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",t.level]})]})]})}function dF(){return r.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(t=>r.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),r.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),r.jsxs("div",{className:"space-y-2 text-right",children:[r.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),r.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},t))})}function mF(){return r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),r.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function fF({rankings:t,currentUserNpub:e,isLoading:n=!1}){return n?r.jsx(dF,{}):t.length===0?r.jsx(mF,{}):r.jsx("div",{className:"space-y-2",children:t.map(i=>r.jsx(hF,{entry:i,isCurrentUser:e===i.npub},i.npub))})}function pF({rank:t,totalXP:e,level:n,courseXP:i}){var m,f;const{npub:s,displayName:a,nip05:l}=Z1(),[c,u]=K.useState(!1),h=K.useCallback(()=>{s&&(navigator.clipboard.writeText(s),u(!0),setTimeout(()=>u(!1),2e3))},[s]);return s?r.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((m=a==null?void 0:a[0])==null?void 0:m.toUpperCase())||((f=s[5])==null?void 0:f.toUpperCase())||"?"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[a&&r.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:a}),l&&r.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[r.jsx("span",{className:"truncate",children:l}),r.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),r.jsxs("button",{onClick:h,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[s,r.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:c?"":""})]})]}),r.jsx("div",{className:"text-right",children:t!==null?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",t]}),r.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),r.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:e.toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:n}),r.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),i&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[r.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[r.jsx("div",{className:"text-sm font-bold text-blue-400",children:(i.ba||0).toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),r.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[r.jsx("div",{className:"text-sm font-bold text-green-400",children:(i.crypto||0).toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),r.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[r.jsx("div",{className:"text-sm font-bold text-purple-400",children:(i.aa||0).toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),r.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[r.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(i.linalg||0).toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),r.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[r.jsx("div",{className:"text-sm font-bold text-pink-400",children:(i.advlinalg||0).toLocaleString()}),r.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const xF=rs("AdminPanel");function gF({className:t=""}){const{isAdmin:e}=Z1(),[n,i]=K.useState(""),[s,a]=K.useState(""),[l,c]=K.useState(!1),[u,h]=K.useState(null),[m,f]=K.useState([]),[p,v]=K.useState(!1),T=K.useCallback(async()=>{if(!(!Wl()||!e))try{const N=Kl(),U=await Ba(N,"getAdminLogs")({limit:20});f(U.data.logs)}catch(N){xF.error("Failed to load admin logs:",N)}},[e]);K.useEffect(()=>{p&&T()},[p,T]);const M=async()=>{const N=n.trim();if(!N){h({type:"error",text:"Please enter an npub"});return}const L=yp(N);if(!L.valid){h({type:"error",text:L.error||"Invalid npub format"});return}c(!0),h(null);try{const U=Kl();await Ba(U,"banUser")({targetNpub:n.trim(),reason:s.trim()||void 0}),h({type:"success",text:"User banned successfully"}),i(""),a(""),p&&T()}catch(U){h({type:"error",text:U instanceof Error?U.message:"Failed to ban user"})}finally{c(!1)}},q=async()=>{const N=n.trim();if(!N){h({type:"error",text:"Please enter an npub"});return}const L=yp(N);if(!L.valid){h({type:"error",text:L.error||"Invalid npub format"});return}c(!0),h(null);try{const U=Kl();await Ba(U,"unbanUser")({targetNpub:n.trim()}),h({type:"success",text:"User unbanned successfully"}),i(""),p&&T()}catch(U){h({type:"error",text:U instanceof Error?U.message:"Failed to unban user"})}finally{c(!1)}},S=async()=>{const N=n.trim();if(!N){h({type:"error",text:"Please enter an npub"});return}const L=yp(N);if(!L.valid){h({type:"error",text:L.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){c(!0),h(null);try{const U=Kl();await Ba(U,"resetUserScores")({targetNpub:n.trim(),reason:s.trim()||void 0}),h({type:"success",text:"User scores reset successfully"}),i(""),a(""),p&&T()}catch(U){h({type:"error",text:U instanceof Error?U.message:"Failed to reset scores"})}finally{c(!1)}}},A=N=>new Date(N.seconds*1e3).toLocaleString();return e?r.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${t}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[r.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),r.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),r.jsx("input",{type:"text",value:n,onChange:N=>i(N.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),r.jsx("input",{type:"text",value:s,onChange:N=>a(N.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{onClick:M,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),r.jsx("button",{onClick:q,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),r.jsx("button",{onClick:S,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),u&&r.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${u.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:u.text}),r.jsxs("button",{onClick:()=>v(!p),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[p?"Hide":"Show"," Admin Logs",r.jsx("svg",{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[r.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),m.length===0?r.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(N=>r.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:`font-medium ${N.action==="ban"?"text-red-400":N.action==="unban"?"text-green-400":"text-orange-400"}`,children:N.action.toUpperCase()}),r.jsx("span",{className:"text-dark-500",children:A(N.timestamp)})]}),r.jsxs("div",{className:"text-dark-400",children:["Target: ",r.jsx("span",{className:"font-mono",children:Hm(N.targetNpub,8)})]}),N.reason&&r.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",N.reason]})]},N.id))})]})]}):null}const vF=rs("Leaderboard"),_k="magic-internet-math-leaderboard-cache";function yF(t){try{const e=localStorage.getItem(_k);if(!e)return null;const n=JSON.parse(e);return n.tab!==t||Date.now()-n.timestamp>cI?null:n}catch{return null}}function bF(t,e,n){try{const i={rankings:t,userRank:e,timestamp:Date.now(),tab:n};localStorage.setItem(_k,JSON.stringify(i))}catch{}}function U7(t){if(t instanceof Error){const e=t.message.toLowerCase();if(e.includes("unauthenticated")||e.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(e.includes("permission")||e.includes("denied"))return"You don't have permission to access this resource.";if(e.includes("not-found")||e.includes("not found"))return"The requested data was not found.";if(e.includes("network")||e.includes("fetch")||e.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(e.includes("timeout")||e.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const H7=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function jF({className:t=""}){var P;const{isAuthenticated:e,npub:n,displayName:i,setDisplayName:s,isAdmin:a}=Z1(),[l,c]=K.useState("overall"),[u,h]=K.useState([]),[m,f]=K.useState(null),[p,v]=K.useState(!0),[T,M]=K.useState(null),[q,S]=K.useState(!1),[A,N]=K.useState(i||""),L=K.useRef(new Map),U=K.useCallback(async()=>{if(!Wl()){M("Firebase not configured"),v(!1);return}v(!0),M(null);try{const F=Kl(),_e=await Ba(F,"getLeaderboard")({courseId:l,limit:50});h(_e.data.rankings),f(_e.data.userRank),bF(_e.data.rankings,_e.data.userRank,l)}catch(F){vF.error("Failed to load leaderboard:",F);const $=yF(l);$?(h($.rankings),f($.userRank),M("Showing cached data. "+U7(F))):M(U7(F))}finally{v(!1)}},[l]);K.useEffect(()=>{U()},[U]),K.useEffect(()=>{(async()=>{const $=u.filter(Ee=>!Ee.displayName&&!L.current.has(Ee.npub)).map(Ee=>Ee.npub);if($.length===0)return;const _e=await jI($);_e.forEach((Ee,le)=>{L.current.set(le,Ee)}),_e.size>0&&h(Ee=>Ee.map(le=>{const me=L.current.get(le.npub);return!le.displayName&&me?{...le,displayName:me.display_name||me.name||null}:le}))})()},[u]),K.useEffect(()=>{const F=setInterval(U,aI);return()=>clearInterval(F)},[U]);const D=Zl().getLocalScores(),C=D?Object.values(D).reduce((F,$)=>F+($||0),0):0,z=Math.floor(Math.sqrt(C/100))+1,B=()=>{const F=A.trim().slice(0,30);s(F||null),S(!1)};return r.jsxs("div",{className:`max-w-2xl mx-auto ${t}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),r.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),r.jsx(F7,{showDisplayName:!1})]}),e&&r.jsxs("div",{className:"mb-6",children:[r.jsx(pF,{rank:m,totalXP:C,level:z,courseXP:D||void 0}),r.jsx("div",{className:"mt-3 flex items-center gap-2",children:q?r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"text",value:A,onChange:F=>N(F.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:F=>{F.key==="Enter"&&B(),F.key==="Escape"&&S(!1)}}),r.jsx("button",{onClick:B,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),r.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):r.jsx("button",{onClick:()=>{N(i||""),S(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:i?"Edit display name":"Set display name"})})]}),!e&&r.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[r.jsx("div",{className:"text-4xl mb-3",children:""}),r.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),r.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),r.jsx(F7,{})]}),r.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:H7.map(F=>r.jsxs("button",{onClick:()=>c(F.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${l===F.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[r.jsx("span",{className:"hidden sm:inline",children:F.label}),r.jsx("span",{className:"sm:hidden",children:F.shortLabel})]},F.id))}),T&&r.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[T,r.jsx("button",{onClick:U,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),r.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"font-semibold text-dark-100",children:[(P=H7.find(F=>F.id===l))==null?void 0:P.label," Rankings"]}),r.jsx("button",{onClick:U,disabled:p,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:p?"Loading...":"Refresh"})]}),r.jsx(fF,{rankings:u,currentUserNpub:n,isLoading:p})]}),a&&r.jsx(gF,{className:"mt-6"}),r.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}let Yr=class Ek{constructor(e,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=i}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Ek(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}},zi=class Ck{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ck(n,Yr.range(this,e))}},de=class Mk{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,s,a,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;s=l.start,a=l.end,s===c.length?i+=" at end of input: ":i+=" at position "+(s+1)+": ";var u=c.slice(s,a).replace(/[^]/g,"$&"),h;s>15?h=""+c.slice(s-15,s):h=c.slice(0,s);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),i+=h+u+m}var f=new Error(i);return f.name="ParseError",f.__proto__=Mk.prototype,f.position=s,s!=null&&a!=null&&(f.length=a-s),f.rawMessage=e,f}};de.prototype.__proto__=Error.prototype;var wF=function(e,n){return e===void 0?n:e},SF=/([A-Z])/g,kF=function(e){return e.replace(SF,"-$1").toLowerCase()},TF={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},AF=/[&><"']/g;function NF(t){return String(t).replace(AF,e=>TF[e])}var zk=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},_F=function(e){var n=zk(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},EF=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},CF=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},st={deflt:wF,escape:NF,hyphenate:kF,getBaseElem:zk,isCharacterBox:_F,protocolFromUrl:CF},Wd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function MF(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let e3=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Wd)if(Wd.hasOwnProperty(n)){var i=Wd[n];this[n]=e[n]!==void 0?i.processor?i.processor(e[n]):e[n]:MF(i)}}reportNonstrict(e,n,i){var s=this.strict;if(typeof s=="function"&&(s=s(e,n,i)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new de("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),i);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,i){var s=this.strict;if(typeof s=="function")try{s=s(e,n,i)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=st.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}},ga=class{constructor(e,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=i}sup(){return Li[zF[this.id]]}sub(){return Li[DF[this.id]]}fracNum(){return Li[RF[this.id]]}fracDen(){return Li[OF[this.id]]}cramp(){return Li[qF[this.id]]}text(){return Li[IF[this.id]]}isTight(){return this.size>=2}};var t3=0,Xm=1,v0=2,Is=3,Iu=4,ri=5,O0=6,er=7,Li=[new ga(t3,0,!1),new ga(Xm,0,!0),new ga(v0,1,!1),new ga(Is,1,!0),new ga(Iu,2,!1),new ga(ri,2,!0),new ga(O0,3,!1),new ga(er,3,!0)],zF=[Iu,ri,Iu,ri,O0,er,O0,er],DF=[ri,ri,ri,ri,er,er,er,er],RF=[v0,Is,Iu,ri,O0,er,O0,er],OF=[Is,Is,ri,ri,er,er,er,er],qF=[Xm,Xm,Is,Is,ri,ri,er,er],IF=[t3,Xm,v0,Is,v0,Is,v0,Is],Oe={DISPLAY:Li[t3],TEXT:Li[v0],SCRIPT:Li[Iu],SCRIPTSCRIPT:Li[O0]},P2=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function LF(t){for(var e=0;e<P2.length;e++)for(var n=P2[e],i=0;i<n.blocks.length;i++){var s=n.blocks[i];if(t>=s[0]&&t<=s[1])return n.name}return null}var Yd=[];P2.forEach(t=>t.blocks.forEach(e=>Yd.push(...e)));function Dk(t){for(var e=0;e<Yd.length;e+=2)if(t>=Yd[e]&&t<=Yd[e+1])return!0;return!1}var Oo=80,BF=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},PF=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},$F=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},FF=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},UF=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},HF=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},VF=function(e,n,i){var s=i-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},GF=function(e,n,i){n=1e3*n;var s="";switch(e){case"sqrtMain":s=BF(n,Oo);break;case"sqrtSize1":s=PF(n,Oo);break;case"sqrtSize2":s=$F(n,Oo);break;case"sqrtSize3":s=FF(n,Oo);break;case"sqrtSize4":s=UF(n,Oo);break;case"sqrtTall":s=VF(n,Oo,i)}return s},ZF=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},V7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},KF=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let dh=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var Ui={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ad={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},G7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function WF(t,e){Ui[t]=e}function n3(t,e,n){if(!Ui[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),s=Ui[e][i];if(!s&&t[0]in G7&&(i=G7[t[0]].charCodeAt(0),s=Ui[e][i]),!s&&n==="text"&&Dk(i)&&(s=Ui[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var jp={};function YF(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!jp[e]){var n=jp[e]={cssEmPerMu:ad.quad[e]/18};for(var i in ad)ad.hasOwnProperty(i)&&(n[i]=ad[i][e])}return jp[e]}var XF=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Z7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],K7=function(e,n){return n.size<2?e:XF[e-1][n.size-1]};let Rk=class Vl{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Vl.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Z7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return new Vl(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:K7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Z7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=K7(Vl.BASESIZE,e);return this.size===n&&this.textSize===Vl.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Vl.BASESIZE?["sizing","reset-size"+this.size,"size"+Vl.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=YF(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};Rk.BASESIZE=6;var $2={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},QF={ex:!0,em:!0,mu:!0},Ok=function(e){return typeof e!="string"&&(e=e.unit),e in $2||e in QF||e==="ex"},Pt=function(e,n){var i;if(e.unit in $2)i=$2[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var s;if(n.style.isTight()?s=n.havingStyle(n.style.text()):s=n,e.unit==="ex")i=s.fontMetrics().xHeight;else if(e.unit==="em")i=s.fontMetrics().quad;else throw new de("Invalid unit: '"+e.unit+"'");s!==n&&(i*=s.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*i,n.maxSize)},fe=function(e){return+e.toFixed(4)+"em"},ol=function(e){return e.filter(n=>n).join(" ")},qk=function(e,n,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var s=n.getColor();s&&(this.style.color=s)}},Ik=function(e){var n=document.createElement(e);n.className=ol(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&n.setAttribute(s,this.attributes[s]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},JF=/[\s"'>/=\x00-\x1f]/,Lk=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+st.escape(ol(this.classes))+'"');var i="";for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=st.hyphenate(s)+":"+this.style[s]+";");i&&(n+=' style="'+st.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(JF.test(a))throw new de("Invalid attribute name '"+a+"'");n+=" "+a+'="'+st.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};let mh=class{constructor(e,n,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,qk.call(this,e,i,s),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Ik.call(this,"span")}toMarkup(){return Lk.call(this,"span")}},r3=class{constructor(e,n,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,qk.call(this,n,s),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return Ik.call(this,"a")}toMarkup(){return Lk.call(this,"a")}},eU=class{constructor(e,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+st.escape(this.src)+'"'+(' alt="'+st.escape(this.alt)+'"'),n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=st.hyphenate(i)+":"+this.style[i]+";");return n&&(e+=' style="'+st.escape(n)+'"'),e+="'/>",e}};var tU={:"",:"",:"",:""};let ui=class{constructor(e,n,i,s,a,l,c,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=i||0,this.italic=s||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=u||{},this.maxFontSize=0;var h=LF(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=tU[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=fe(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ol(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=st.escape(ol(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=st.hyphenate(s)+":"+this.style[s]+";");i&&(e=!0,n+=' style="'+st.escape(i)+'"');var a=st.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}},Ws=class{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+st.escape(this.attributes[n])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}},cl=class{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",V7[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+st.escape(this.alternate)+'"/>':'<path d="'+st.escape(V7[this.pathName])+'"/>'}},F2=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+st.escape(this.attributes[n])+'"');return e+="/>",e}};function W7(t){if(t instanceof ui)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function nU(t){if(t instanceof mh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var rU={bin:1,close:1,inner:1,open:1,punct:1,rel:1},iU={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},St={math:{},text:{}};function x(t,e,n,i,s,a){St[t][s]={font:e,group:n,replace:i},a&&i&&(St[t][i]=St[t][s])}var b="math",se="text",_="main",H="ams",Dt="accent-token",Te="bin",or="close",Y0="inner",De="mathord",mn="op-token",Ur="open",K1="punct",G="rel",ia="spacing",Y="textord";x(b,_,G,"","\\equiv",!0);x(b,_,G,"","\\prec",!0);x(b,_,G,"","\\succ",!0);x(b,_,G,"","\\sim",!0);x(b,_,G,"","\\perp");x(b,_,G,"","\\preceq",!0);x(b,_,G,"","\\succeq",!0);x(b,_,G,"","\\simeq",!0);x(b,_,G,"","\\mid",!0);x(b,_,G,"","\\ll",!0);x(b,_,G,"","\\gg",!0);x(b,_,G,"","\\asymp",!0);x(b,_,G,"","\\parallel");x(b,_,G,"","\\bowtie",!0);x(b,_,G,"","\\smile",!0);x(b,_,G,"","\\sqsubseteq",!0);x(b,_,G,"","\\sqsupseteq",!0);x(b,_,G,"","\\doteq",!0);x(b,_,G,"","\\frown",!0);x(b,_,G,"","\\ni",!0);x(b,_,G,"","\\propto",!0);x(b,_,G,"","\\vdash",!0);x(b,_,G,"","\\dashv",!0);x(b,_,G,"","\\owns");x(b,_,K1,".","\\ldotp");x(b,_,K1,"","\\cdotp");x(b,_,Y,"#","\\#");x(se,_,Y,"#","\\#");x(b,_,Y,"&","\\&");x(se,_,Y,"&","\\&");x(b,_,Y,"","\\aleph",!0);x(b,_,Y,"","\\forall",!0);x(b,_,Y,"","\\hbar",!0);x(b,_,Y,"","\\exists",!0);x(b,_,Y,"","\\nabla",!0);x(b,_,Y,"","\\flat",!0);x(b,_,Y,"","\\ell",!0);x(b,_,Y,"","\\natural",!0);x(b,_,Y,"","\\clubsuit",!0);x(b,_,Y,"","\\wp",!0);x(b,_,Y,"","\\sharp",!0);x(b,_,Y,"","\\diamondsuit",!0);x(b,_,Y,"","\\Re",!0);x(b,_,Y,"","\\heartsuit",!0);x(b,_,Y,"","\\Im",!0);x(b,_,Y,"","\\spadesuit",!0);x(b,_,Y,"","\\S",!0);x(se,_,Y,"","\\S");x(b,_,Y,"","\\P",!0);x(se,_,Y,"","\\P");x(b,_,Y,"","\\dag");x(se,_,Y,"","\\dag");x(se,_,Y,"","\\textdagger");x(b,_,Y,"","\\ddag");x(se,_,Y,"","\\ddag");x(se,_,Y,"","\\textdaggerdbl");x(b,_,or,"","\\rmoustache",!0);x(b,_,Ur,"","\\lmoustache",!0);x(b,_,or,"","\\rgroup",!0);x(b,_,Ur,"","\\lgroup",!0);x(b,_,Te,"","\\mp",!0);x(b,_,Te,"","\\ominus",!0);x(b,_,Te,"","\\uplus",!0);x(b,_,Te,"","\\sqcap",!0);x(b,_,Te,"","\\ast");x(b,_,Te,"","\\sqcup",!0);x(b,_,Te,"","\\bigcirc",!0);x(b,_,Te,"","\\bullet",!0);x(b,_,Te,"","\\ddagger");x(b,_,Te,"","\\wr",!0);x(b,_,Te,"","\\amalg");x(b,_,Te,"&","\\And");x(b,_,G,"","\\longleftarrow",!0);x(b,_,G,"","\\Leftarrow",!0);x(b,_,G,"","\\Longleftarrow",!0);x(b,_,G,"","\\longrightarrow",!0);x(b,_,G,"","\\Rightarrow",!0);x(b,_,G,"","\\Longrightarrow",!0);x(b,_,G,"","\\leftrightarrow",!0);x(b,_,G,"","\\longleftrightarrow",!0);x(b,_,G,"","\\Leftrightarrow",!0);x(b,_,G,"","\\Longleftrightarrow",!0);x(b,_,G,"","\\mapsto",!0);x(b,_,G,"","\\longmapsto",!0);x(b,_,G,"","\\nearrow",!0);x(b,_,G,"","\\hookleftarrow",!0);x(b,_,G,"","\\hookrightarrow",!0);x(b,_,G,"","\\searrow",!0);x(b,_,G,"","\\leftharpoonup",!0);x(b,_,G,"","\\rightharpoonup",!0);x(b,_,G,"","\\swarrow",!0);x(b,_,G,"","\\leftharpoondown",!0);x(b,_,G,"","\\rightharpoondown",!0);x(b,_,G,"","\\nwarrow",!0);x(b,_,G,"","\\rightleftharpoons",!0);x(b,H,G,"","\\nless",!0);x(b,H,G,"","\\@nleqslant");x(b,H,G,"","\\@nleqq");x(b,H,G,"","\\lneq",!0);x(b,H,G,"","\\lneqq",!0);x(b,H,G,"","\\@lvertneqq");x(b,H,G,"","\\lnsim",!0);x(b,H,G,"","\\lnapprox",!0);x(b,H,G,"","\\nprec",!0);x(b,H,G,"","\\npreceq",!0);x(b,H,G,"","\\precnsim",!0);x(b,H,G,"","\\precnapprox",!0);x(b,H,G,"","\\nsim",!0);x(b,H,G,"","\\@nshortmid");x(b,H,G,"","\\nmid",!0);x(b,H,G,"","\\nvdash",!0);x(b,H,G,"","\\nvDash",!0);x(b,H,G,"","\\ntriangleleft");x(b,H,G,"","\\ntrianglelefteq",!0);x(b,H,G,"","\\subsetneq",!0);x(b,H,G,"","\\@varsubsetneq");x(b,H,G,"","\\subsetneqq",!0);x(b,H,G,"","\\@varsubsetneqq");x(b,H,G,"","\\ngtr",!0);x(b,H,G,"","\\@ngeqslant");x(b,H,G,"","\\@ngeqq");x(b,H,G,"","\\gneq",!0);x(b,H,G,"","\\gneqq",!0);x(b,H,G,"","\\@gvertneqq");x(b,H,G,"","\\gnsim",!0);x(b,H,G,"","\\gnapprox",!0);x(b,H,G,"","\\nsucc",!0);x(b,H,G,"","\\nsucceq",!0);x(b,H,G,"","\\succnsim",!0);x(b,H,G,"","\\succnapprox",!0);x(b,H,G,"","\\ncong",!0);x(b,H,G,"","\\@nshortparallel");x(b,H,G,"","\\nparallel",!0);x(b,H,G,"","\\nVDash",!0);x(b,H,G,"","\\ntriangleright");x(b,H,G,"","\\ntrianglerighteq",!0);x(b,H,G,"","\\@nsupseteqq");x(b,H,G,"","\\supsetneq",!0);x(b,H,G,"","\\@varsupsetneq");x(b,H,G,"","\\supsetneqq",!0);x(b,H,G,"","\\@varsupsetneqq");x(b,H,G,"","\\nVdash",!0);x(b,H,G,"","\\precneqq",!0);x(b,H,G,"","\\succneqq",!0);x(b,H,G,"","\\@nsubseteqq");x(b,H,Te,"","\\unlhd");x(b,H,Te,"","\\unrhd");x(b,H,G,"","\\nleftarrow",!0);x(b,H,G,"","\\nrightarrow",!0);x(b,H,G,"","\\nLeftarrow",!0);x(b,H,G,"","\\nRightarrow",!0);x(b,H,G,"","\\nleftrightarrow",!0);x(b,H,G,"","\\nLeftrightarrow",!0);x(b,H,G,"","\\vartriangle");x(b,H,Y,"","\\hslash");x(b,H,Y,"","\\triangledown");x(b,H,Y,"","\\lozenge");x(b,H,Y,"","\\circledS");x(b,H,Y,"","\\circledR");x(se,H,Y,"","\\circledR");x(b,H,Y,"","\\measuredangle",!0);x(b,H,Y,"","\\nexists");x(b,H,Y,"","\\mho");x(b,H,Y,"","\\Finv",!0);x(b,H,Y,"","\\Game",!0);x(b,H,Y,"","\\backprime");x(b,H,Y,"","\\blacktriangle");x(b,H,Y,"","\\blacktriangledown");x(b,H,Y,"","\\blacksquare");x(b,H,Y,"","\\blacklozenge");x(b,H,Y,"","\\bigstar");x(b,H,Y,"","\\sphericalangle",!0);x(b,H,Y,"","\\complement",!0);x(b,H,Y,"","\\eth",!0);x(se,_,Y,"","");x(b,H,Y,"","\\diagup");x(b,H,Y,"","\\diagdown");x(b,H,Y,"","\\square");x(b,H,Y,"","\\Box");x(b,H,Y,"","\\Diamond");x(b,H,Y,"","\\yen",!0);x(se,H,Y,"","\\yen",!0);x(b,H,Y,"","\\checkmark",!0);x(se,H,Y,"","\\checkmark");x(b,H,Y,"","\\beth",!0);x(b,H,Y,"","\\daleth",!0);x(b,H,Y,"","\\gimel",!0);x(b,H,Y,"","\\digamma",!0);x(b,H,Y,"","\\varkappa");x(b,H,Ur,"","\\@ulcorner",!0);x(b,H,or,"","\\@urcorner",!0);x(b,H,Ur,"","\\@llcorner",!0);x(b,H,or,"","\\@lrcorner",!0);x(b,H,G,"","\\leqq",!0);x(b,H,G,"","\\leqslant",!0);x(b,H,G,"","\\eqslantless",!0);x(b,H,G,"","\\lesssim",!0);x(b,H,G,"","\\lessapprox",!0);x(b,H,G,"","\\approxeq",!0);x(b,H,Te,"","\\lessdot");x(b,H,G,"","\\lll",!0);x(b,H,G,"","\\lessgtr",!0);x(b,H,G,"","\\lesseqgtr",!0);x(b,H,G,"","\\lesseqqgtr",!0);x(b,H,G,"","\\doteqdot");x(b,H,G,"","\\risingdotseq",!0);x(b,H,G,"","\\fallingdotseq",!0);x(b,H,G,"","\\backsim",!0);x(b,H,G,"","\\backsimeq",!0);x(b,H,G,"","\\subseteqq",!0);x(b,H,G,"","\\Subset",!0);x(b,H,G,"","\\sqsubset",!0);x(b,H,G,"","\\preccurlyeq",!0);x(b,H,G,"","\\curlyeqprec",!0);x(b,H,G,"","\\precsim",!0);x(b,H,G,"","\\precapprox",!0);x(b,H,G,"","\\vartriangleleft");x(b,H,G,"","\\trianglelefteq");x(b,H,G,"","\\vDash",!0);x(b,H,G,"","\\Vvdash",!0);x(b,H,G,"","\\smallsmile");x(b,H,G,"","\\smallfrown");x(b,H,G,"","\\bumpeq",!0);x(b,H,G,"","\\Bumpeq",!0);x(b,H,G,"","\\geqq",!0);x(b,H,G,"","\\geqslant",!0);x(b,H,G,"","\\eqslantgtr",!0);x(b,H,G,"","\\gtrsim",!0);x(b,H,G,"","\\gtrapprox",!0);x(b,H,Te,"","\\gtrdot");x(b,H,G,"","\\ggg",!0);x(b,H,G,"","\\gtrless",!0);x(b,H,G,"","\\gtreqless",!0);x(b,H,G,"","\\gtreqqless",!0);x(b,H,G,"","\\eqcirc",!0);x(b,H,G,"","\\circeq",!0);x(b,H,G,"","\\triangleq",!0);x(b,H,G,"","\\thicksim");x(b,H,G,"","\\thickapprox");x(b,H,G,"","\\supseteqq",!0);x(b,H,G,"","\\Supset",!0);x(b,H,G,"","\\sqsupset",!0);x(b,H,G,"","\\succcurlyeq",!0);x(b,H,G,"","\\curlyeqsucc",!0);x(b,H,G,"","\\succsim",!0);x(b,H,G,"","\\succapprox",!0);x(b,H,G,"","\\vartriangleright");x(b,H,G,"","\\trianglerighteq");x(b,H,G,"","\\Vdash",!0);x(b,H,G,"","\\shortmid");x(b,H,G,"","\\shortparallel");x(b,H,G,"","\\between",!0);x(b,H,G,"","\\pitchfork",!0);x(b,H,G,"","\\varpropto");x(b,H,G,"","\\blacktriangleleft");x(b,H,G,"","\\therefore",!0);x(b,H,G,"","\\backepsilon");x(b,H,G,"","\\blacktriangleright");x(b,H,G,"","\\because",!0);x(b,H,G,"","\\llless");x(b,H,G,"","\\gggtr");x(b,H,Te,"","\\lhd");x(b,H,Te,"","\\rhd");x(b,H,G,"","\\eqsim",!0);x(b,_,G,"","\\Join");x(b,H,G,"","\\Doteq",!0);x(b,H,Te,"","\\dotplus",!0);x(b,H,Te,"","\\smallsetminus");x(b,H,Te,"","\\Cap",!0);x(b,H,Te,"","\\Cup",!0);x(b,H,Te,"","\\doublebarwedge",!0);x(b,H,Te,"","\\boxminus",!0);x(b,H,Te,"","\\boxplus",!0);x(b,H,Te,"","\\divideontimes",!0);x(b,H,Te,"","\\ltimes",!0);x(b,H,Te,"","\\rtimes",!0);x(b,H,Te,"","\\leftthreetimes",!0);x(b,H,Te,"","\\rightthreetimes",!0);x(b,H,Te,"","\\curlywedge",!0);x(b,H,Te,"","\\curlyvee",!0);x(b,H,Te,"","\\circleddash",!0);x(b,H,Te,"","\\circledast",!0);x(b,H,Te,"","\\centerdot");x(b,H,Te,"","\\intercal",!0);x(b,H,Te,"","\\doublecap");x(b,H,Te,"","\\doublecup");x(b,H,Te,"","\\boxtimes",!0);x(b,H,G,"","\\dashrightarrow",!0);x(b,H,G,"","\\dashleftarrow",!0);x(b,H,G,"","\\leftleftarrows",!0);x(b,H,G,"","\\leftrightarrows",!0);x(b,H,G,"","\\Lleftarrow",!0);x(b,H,G,"","\\twoheadleftarrow",!0);x(b,H,G,"","\\leftarrowtail",!0);x(b,H,G,"","\\looparrowleft",!0);x(b,H,G,"","\\leftrightharpoons",!0);x(b,H,G,"","\\curvearrowleft",!0);x(b,H,G,"","\\circlearrowleft",!0);x(b,H,G,"","\\Lsh",!0);x(b,H,G,"","\\upuparrows",!0);x(b,H,G,"","\\upharpoonleft",!0);x(b,H,G,"","\\downharpoonleft",!0);x(b,_,G,"","\\origof",!0);x(b,_,G,"","\\imageof",!0);x(b,H,G,"","\\multimap",!0);x(b,H,G,"","\\leftrightsquigarrow",!0);x(b,H,G,"","\\rightrightarrows",!0);x(b,H,G,"","\\rightleftarrows",!0);x(b,H,G,"","\\twoheadrightarrow",!0);x(b,H,G,"","\\rightarrowtail",!0);x(b,H,G,"","\\looparrowright",!0);x(b,H,G,"","\\curvearrowright",!0);x(b,H,G,"","\\circlearrowright",!0);x(b,H,G,"","\\Rsh",!0);x(b,H,G,"","\\downdownarrows",!0);x(b,H,G,"","\\upharpoonright",!0);x(b,H,G,"","\\downharpoonright",!0);x(b,H,G,"","\\rightsquigarrow",!0);x(b,H,G,"","\\leadsto");x(b,H,G,"","\\Rrightarrow",!0);x(b,H,G,"","\\restriction");x(b,_,Y,"","`");x(b,_,Y,"$","\\$");x(se,_,Y,"$","\\$");x(se,_,Y,"$","\\textdollar");x(b,_,Y,"%","\\%");x(se,_,Y,"%","\\%");x(b,_,Y,"_","\\_");x(se,_,Y,"_","\\_");x(se,_,Y,"_","\\textunderscore");x(b,_,Y,"","\\angle",!0);x(b,_,Y,"","\\infty",!0);x(b,_,Y,"","\\prime");x(b,_,Y,"","\\triangle");x(b,_,Y,"","\\Gamma",!0);x(b,_,Y,"","\\Delta",!0);x(b,_,Y,"","\\Theta",!0);x(b,_,Y,"","\\Lambda",!0);x(b,_,Y,"","\\Xi",!0);x(b,_,Y,"","\\Pi",!0);x(b,_,Y,"","\\Sigma",!0);x(b,_,Y,"","\\Upsilon",!0);x(b,_,Y,"","\\Phi",!0);x(b,_,Y,"","\\Psi",!0);x(b,_,Y,"","\\Omega",!0);x(b,_,Y,"A","");x(b,_,Y,"B","");x(b,_,Y,"E","");x(b,_,Y,"Z","");x(b,_,Y,"H","");x(b,_,Y,"I","");x(b,_,Y,"K","");x(b,_,Y,"M","");x(b,_,Y,"N","");x(b,_,Y,"O","");x(b,_,Y,"P","");x(b,_,Y,"T","");x(b,_,Y,"X","");x(b,_,Y,"","\\neg",!0);x(b,_,Y,"","\\lnot");x(b,_,Y,"","\\top");x(b,_,Y,"","\\bot");x(b,_,Y,"","\\emptyset");x(b,H,Y,"","\\varnothing");x(b,_,De,"","\\alpha",!0);x(b,_,De,"","\\beta",!0);x(b,_,De,"","\\gamma",!0);x(b,_,De,"","\\delta",!0);x(b,_,De,"","\\epsilon",!0);x(b,_,De,"","\\zeta",!0);x(b,_,De,"","\\eta",!0);x(b,_,De,"","\\theta",!0);x(b,_,De,"","\\iota",!0);x(b,_,De,"","\\kappa",!0);x(b,_,De,"","\\lambda",!0);x(b,_,De,"","\\mu",!0);x(b,_,De,"","\\nu",!0);x(b,_,De,"","\\xi",!0);x(b,_,De,"","\\omicron",!0);x(b,_,De,"","\\pi",!0);x(b,_,De,"","\\rho",!0);x(b,_,De,"","\\sigma",!0);x(b,_,De,"","\\tau",!0);x(b,_,De,"","\\upsilon",!0);x(b,_,De,"","\\phi",!0);x(b,_,De,"","\\chi",!0);x(b,_,De,"","\\psi",!0);x(b,_,De,"","\\omega",!0);x(b,_,De,"","\\varepsilon",!0);x(b,_,De,"","\\vartheta",!0);x(b,_,De,"","\\varpi",!0);x(b,_,De,"","\\varrho",!0);x(b,_,De,"","\\varsigma",!0);x(b,_,De,"","\\varphi",!0);x(b,_,Te,"","*",!0);x(b,_,Te,"+","+");x(b,_,Te,"","-",!0);x(b,_,Te,"","\\cdot",!0);x(b,_,Te,"","\\circ",!0);x(b,_,Te,"","\\div",!0);x(b,_,Te,"","\\pm",!0);x(b,_,Te,"","\\times",!0);x(b,_,Te,"","\\cap",!0);x(b,_,Te,"","\\cup",!0);x(b,_,Te,"","\\setminus",!0);x(b,_,Te,"","\\land");x(b,_,Te,"","\\lor");x(b,_,Te,"","\\wedge",!0);x(b,_,Te,"","\\vee",!0);x(b,_,Y,"","\\surd");x(b,_,Ur,"","\\langle",!0);x(b,_,Ur,"","\\lvert");x(b,_,Ur,"","\\lVert");x(b,_,or,"?","?");x(b,_,or,"!","!");x(b,_,or,"","\\rangle",!0);x(b,_,or,"","\\rvert");x(b,_,or,"","\\rVert");x(b,_,G,"=","=");x(b,_,G,":",":");x(b,_,G,"","\\approx",!0);x(b,_,G,"","\\cong",!0);x(b,_,G,"","\\ge");x(b,_,G,"","\\geq",!0);x(b,_,G,"","\\gets");x(b,_,G,">","\\gt",!0);x(b,_,G,"","\\in",!0);x(b,_,G,"","\\@not");x(b,_,G,"","\\subset",!0);x(b,_,G,"","\\supset",!0);x(b,_,G,"","\\subseteq",!0);x(b,_,G,"","\\supseteq",!0);x(b,H,G,"","\\nsubseteq",!0);x(b,H,G,"","\\nsupseteq",!0);x(b,_,G,"","\\models");x(b,_,G,"","\\leftarrow",!0);x(b,_,G,"","\\le");x(b,_,G,"","\\leq",!0);x(b,_,G,"<","\\lt",!0);x(b,_,G,"","\\rightarrow",!0);x(b,_,G,"","\\to");x(b,H,G,"","\\ngeq",!0);x(b,H,G,"","\\nleq",!0);x(b,_,ia,"","\\ ");x(b,_,ia,"","\\space");x(b,_,ia,"","\\nobreakspace");x(se,_,ia,"","\\ ");x(se,_,ia,""," ");x(se,_,ia,"","\\space");x(se,_,ia,"","\\nobreakspace");x(b,_,ia,null,"\\nobreak");x(b,_,ia,null,"\\allowbreak");x(b,_,K1,",",",");x(b,_,K1,";",";");x(b,H,Te,"","\\barwedge",!0);x(b,H,Te,"","\\veebar",!0);x(b,_,Te,"","\\odot",!0);x(b,_,Te,"","\\oplus",!0);x(b,_,Te,"","\\otimes",!0);x(b,_,Y,"","\\partial",!0);x(b,_,Te,"","\\oslash",!0);x(b,H,Te,"","\\circledcirc",!0);x(b,H,Te,"","\\boxdot",!0);x(b,_,Te,"","\\bigtriangleup");x(b,_,Te,"","\\bigtriangledown");x(b,_,Te,"","\\dagger");x(b,_,Te,"","\\diamond");x(b,_,Te,"","\\star");x(b,_,Te,"","\\triangleleft");x(b,_,Te,"","\\triangleright");x(b,_,Ur,"{","\\{");x(se,_,Y,"{","\\{");x(se,_,Y,"{","\\textbraceleft");x(b,_,or,"}","\\}");x(se,_,Y,"}","\\}");x(se,_,Y,"}","\\textbraceright");x(b,_,Ur,"{","\\lbrace");x(b,_,or,"}","\\rbrace");x(b,_,Ur,"[","\\lbrack",!0);x(se,_,Y,"[","\\lbrack",!0);x(b,_,or,"]","\\rbrack",!0);x(se,_,Y,"]","\\rbrack",!0);x(b,_,Ur,"(","\\lparen",!0);x(b,_,or,")","\\rparen",!0);x(se,_,Y,"<","\\textless",!0);x(se,_,Y,">","\\textgreater",!0);x(b,_,Ur,"","\\lfloor",!0);x(b,_,or,"","\\rfloor",!0);x(b,_,Ur,"","\\lceil",!0);x(b,_,or,"","\\rceil",!0);x(b,_,Y,"\\","\\backslash");x(b,_,Y,"","|");x(b,_,Y,"","\\vert");x(se,_,Y,"|","\\textbar",!0);x(b,_,Y,"","\\|");x(b,_,Y,"","\\Vert");x(se,_,Y,"","\\textbardbl");x(se,_,Y,"~","\\textasciitilde");x(se,_,Y,"\\","\\textbackslash");x(se,_,Y,"^","\\textasciicircum");x(b,_,G,"","\\uparrow",!0);x(b,_,G,"","\\Uparrow",!0);x(b,_,G,"","\\downarrow",!0);x(b,_,G,"","\\Downarrow",!0);x(b,_,G,"","\\updownarrow",!0);x(b,_,G,"","\\Updownarrow",!0);x(b,_,mn,"","\\coprod");x(b,_,mn,"","\\bigvee");x(b,_,mn,"","\\bigwedge");x(b,_,mn,"","\\biguplus");x(b,_,mn,"","\\bigcap");x(b,_,mn,"","\\bigcup");x(b,_,mn,"","\\int");x(b,_,mn,"","\\intop");x(b,_,mn,"","\\iint");x(b,_,mn,"","\\iiint");x(b,_,mn,"","\\prod");x(b,_,mn,"","\\sum");x(b,_,mn,"","\\bigotimes");x(b,_,mn,"","\\bigoplus");x(b,_,mn,"","\\bigodot");x(b,_,mn,"","\\oint");x(b,_,mn,"","\\oiint");x(b,_,mn,"","\\oiiint");x(b,_,mn,"","\\bigsqcup");x(b,_,mn,"","\\smallint");x(se,_,Y0,"","\\textellipsis");x(b,_,Y0,"","\\mathellipsis");x(se,_,Y0,"","\\ldots",!0);x(b,_,Y0,"","\\ldots",!0);x(b,_,Y0,"","\\@cdots",!0);x(b,_,Y0,"","\\ddots",!0);x(b,_,Y,"","\\varvdots");x(se,_,Y,"","\\varvdots");x(b,_,Dt,"","\\acute");x(b,_,Dt,"","\\grave");x(b,_,Dt,"","\\ddot");x(b,_,Dt,"~","\\tilde");x(b,_,Dt,"","\\bar");x(b,_,Dt,"","\\breve");x(b,_,Dt,"","\\check");x(b,_,Dt,"^","\\hat");x(b,_,Dt,"","\\vec");x(b,_,Dt,"","\\dot");x(b,_,Dt,"","\\mathring");x(b,_,De,"","\\@imath");x(b,_,De,"","\\@jmath");x(b,_,Y,"","");x(b,_,Y,"","");x(se,_,Y,"","\\i",!0);x(se,_,Y,"","\\j",!0);x(se,_,Y,"","\\ss",!0);x(se,_,Y,"","\\ae",!0);x(se,_,Y,"","\\oe",!0);x(se,_,Y,"","\\o",!0);x(se,_,Y,"","\\AE",!0);x(se,_,Y,"","\\OE",!0);x(se,_,Y,"","\\O",!0);x(se,_,Dt,"","\\'");x(se,_,Dt,"","\\`");x(se,_,Dt,"","\\^");x(se,_,Dt,"","\\~");x(se,_,Dt,"","\\=");x(se,_,Dt,"","\\u");x(se,_,Dt,"","\\.");x(se,_,Dt,"","\\c");x(se,_,Dt,"","\\r");x(se,_,Dt,"","\\v");x(se,_,Dt,"",'\\"');x(se,_,Dt,"","\\H");x(se,_,Dt,"","\\textcircled");var Bk={"--":!0,"---":!0,"``":!0,"''":!0};x(se,_,Y,"","--",!0);x(se,_,Y,"","\\textendash");x(se,_,Y,"","---",!0);x(se,_,Y,"","\\textemdash");x(se,_,Y,"","`",!0);x(se,_,Y,"","\\textquoteleft");x(se,_,Y,"","'",!0);x(se,_,Y,"","\\textquoteright");x(se,_,Y,"","``",!0);x(se,_,Y,"","\\textquotedblleft");x(se,_,Y,"","''",!0);x(se,_,Y,"","\\textquotedblright");x(b,_,Y,"","\\degree",!0);x(se,_,Y,"","\\degree");x(se,_,Y,"","\\textdegree",!0);x(b,_,Y,"","\\pounds");x(b,_,Y,"","\\mathsterling",!0);x(se,_,Y,"","\\pounds");x(se,_,Y,"","\\textsterling",!0);x(b,H,Y,"","\\maltese");x(se,H,Y,"","\\maltese");var Y7='0123456789/@."';for(var wp=0;wp<Y7.length;wp++){var X7=Y7.charAt(wp);x(b,_,Y,X7,X7)}var Q7='0123456789!@*()-=+";:?/.,';for(var Sp=0;Sp<Q7.length;Sp++){var J7=Q7.charAt(Sp);x(se,_,Y,J7,J7)}var Qm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var kp=0;kp<Qm.length;kp++){var ld=Qm.charAt(kp);x(b,_,De,ld,ld),x(se,_,Y,ld,ld)}x(b,H,Y,"C","");x(se,H,Y,"C","");x(b,H,Y,"H","");x(se,H,Y,"H","");x(b,H,Y,"N","");x(se,H,Y,"N","");x(b,H,Y,"P","");x(se,H,Y,"P","");x(b,H,Y,"Q","");x(se,H,Y,"Q","");x(b,H,Y,"R","");x(se,H,Y,"R","");x(b,H,Y,"Z","");x(se,H,Y,"Z","");x(b,_,De,"h","");x(se,_,De,"h","");var $e="";for(var Kn=0;Kn<Qm.length;Kn++){var Gt=Qm.charAt(Kn);$e=String.fromCharCode(55349,56320+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56372+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56424+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56580+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56684+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56736+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56788+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56840+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56944+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),Kn<26&&($e=String.fromCharCode(55349,56632+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e),$e=String.fromCharCode(55349,56476+Kn),x(b,_,De,Gt,$e),x(se,_,Y,Gt,$e))}$e="";x(b,_,De,"k",$e);x(se,_,Y,"k",$e);for(var Ol=0;Ol<10;Ol++){var va=Ol.toString();$e=String.fromCharCode(55349,57294+Ol),x(b,_,De,va,$e),x(se,_,Y,va,$e),$e=String.fromCharCode(55349,57314+Ol),x(b,_,De,va,$e),x(se,_,Y,va,$e),$e=String.fromCharCode(55349,57324+Ol),x(b,_,De,va,$e),x(se,_,Y,va,$e),$e=String.fromCharCode(55349,57334+Ol),x(b,_,De,va,$e),x(se,_,Y,va,$e)}var U2="";for(var Tp=0;Tp<U2.length;Tp++){var od=U2.charAt(Tp);x(b,_,De,od,od),x(se,_,Y,od,od)}var cd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ey=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],sU=function(e,n){var i=e.charCodeAt(0),s=e.charCodeAt(1),a=(i-55296)*1024+(s-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[cd[c][2],cd[c][l]]}else if(120782<=a&&a<=120831){var u=Math.floor((a-120782)/10);return[ey[u][2],ey[u][l]]}else{if(a===120485||a===120486)return[cd[0][2],cd[0][l]];if(120486<a&&a<120782)return["",""];throw new de("Unsupported character: "+e)}},W1=function(e,n,i){return St[i][e]&&St[i][e].replace&&(e=St[i][e].replace),{value:e,metrics:n3(e,n,i)}},Ti=function(e,n,i,s,a){var l=W1(e,n,i),c=l.metrics;e=l.value;var u;if(c){var h=c.italic;(i==="text"||s&&s.font==="mathit")&&(h=0),u=new ui(e,c.height,c.depth,h,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+i+"'")),u=new ui(e,0,0,0,0,0,a);if(s){u.maxFontSize=s.sizeMultiplier,s.style.isTight()&&u.classes.push("mtight");var m=s.getColor();m&&(u.style.color=m)}return u},aU=function(e,n,i,s){return s===void 0&&(s=[]),i.font==="boldsymbol"&&W1(e,"Main-Bold",n).metrics?Ti(e,"Main-Bold",n,i,s.concat(["mathbf"])):e==="\\"||St[n][e].font==="main"?Ti(e,"Main-Regular",n,i,s):Ti(e,"AMS-Regular",n,i,s.concat(["amsrm"]))},lU=function(e,n,i,s,a){return a!=="textord"&&W1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},oU=function(e,n,i){var s=e.mode,a=e.text,l=["mord"],c=s==="math"||s==="text"&&n.font,u=c?n.font:n.fontFamily,h="",m="";if(a.charCodeAt(0)===55349&&([h,m]=sU(a,s)),h.length>0)return Ti(a,h,s,n,l.concat(m));if(u){var f,p;if(u==="boldsymbol"){var v=lU(a,s,n,l,i);f=v.fontName,p=[v.fontClass]}else c?(f=Fk[u].fontName,p=[u]):(f=ud(u,n.fontWeight,n.fontShape),p=[u,n.fontWeight,n.fontShape]);if(W1(a,f,s).metrics)return Ti(a,f,s,n,l.concat(p));if(Bk.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var T=[],M=0;M<a.length;M++)T.push(Ti(a[M],f,s,n,l.concat(p)));return $k(T)}}if(i==="mathord")return Ti(a,"Math-Italic",s,n,l.concat(["mathnormal"]));if(i==="textord"){var q=St[s][a]&&St[s][a].font;if(q==="ams"){var S=ud("amsrm",n.fontWeight,n.fontShape);return Ti(a,S,s,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(q==="main"||!q){var A=ud("textrm",n.fontWeight,n.fontShape);return Ti(a,A,s,n,l.concat(n.fontWeight,n.fontShape))}else{var N=ud(q,n.fontWeight,n.fontShape);return Ti(a,N,s,n,l.concat(N,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},cU=(t,e)=>{if(ol(t.classes)!==ol(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;return!0},uU=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],i=t[e+1];n instanceof ui&&i instanceof ui&&cU(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,t.splice(e+1,1),e--)}return t},i3=function(e){for(var n=0,i=0,s=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>i&&(i=l.depth),l.maxFontSize>s&&(s=l.maxFontSize)}e.height=n,e.depth=i,e.maxFontSize=s},xr=function(e,n,i,s){var a=new mh(e,n,i,s);return i3(a),a},Pk=(t,e,n,i)=>new mh(t,e,n,i),hU=function(e,n,i){var s=xr([e],[],n);return s.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),s.style.borderBottomWidth=fe(s.height),s.maxFontSize=1,s},dU=function(e,n,i,s){var a=new r3(e,n,i,s);return i3(a),a},$k=function(e){var n=new dh(e);return i3(n),n},mU=function(e,n){return e instanceof dh?xr([],[e],n):e},fU=function(e){if(e.positionType==="individualShift"){for(var n=e.children,i=[n[0]],s=-n[0].shift-n[0].elem.depth,a=s,l=1;l<n.length;l++){var c=-n[l].shift-a-n[l].elem.depth,u=c-(n[l-1].elem.height+n[l-1].elem.depth);a=a+c,i.push({type:"kern",size:u}),i.push(n[l])}return{children:i,depth:s}}var h;if(e.positionType==="top"){for(var m=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];m-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=m}else if(e.positionType==="bottom")h=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},pU=function(e,n){for(var{children:i,depth:s}=fU(e),a=0,l=0;l<i.length;l++){var c=i[l];if(c.type==="elem"){var u=c.elem;a=Math.max(a,u.maxFontSize,u.height)}}a+=2;var h=xr(["pstrut"],[]);h.style.height=fe(a);for(var m=[],f=s,p=s,v=s,T=0;T<i.length;T++){var M=i[T];if(M.type==="kern")v+=M.size;else{var q=M.elem,S=M.wrapperClasses||[],A=M.wrapperStyle||{},N=xr(S,[h,q],void 0,A);N.style.top=fe(-a-v-q.depth),M.marginLeft&&(N.style.marginLeft=M.marginLeft),M.marginRight&&(N.style.marginRight=M.marginRight),m.push(N),v+=q.height+q.depth}f=Math.min(f,v),p=Math.max(p,v)}var L=xr(["vlist"],m);L.style.height=fe(p);var U;if(f<0){var Q=xr([],[]),D=xr(["vlist"],[Q]);D.style.height=fe(-f);var C=xr(["vlist-s"],[new ui("")]);U=[xr(["vlist-r"],[L,C]),xr(["vlist-r"],[D])]}else U=[xr(["vlist-r"],[L])];var z=xr(["vlist-t"],U);return U.length===2&&z.classes.push("vlist-t2"),z.height=p,z.depth=-f,z},xU=(t,e)=>{var n=xr(["mspace"],[],e),i=Pt(t,e);return n.style.marginRight=fe(i),n},ud=function(e,n,i){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var a;return n==="textbf"&&i==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",s+"-"+a},Fk={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Uk={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},gU=function(e,n){var[i,s,a]=Uk[e],l=new cl(i),c=new Ws([l],{width:fe(s),height:fe(a),style:"width:"+fe(s),viewBox:"0 0 "+1e3*s+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),u=Pk(["overlay"],[c],n);return u.height=a,u.style.height=fe(a),u.style.width=fe(s),u},ee={fontMap:Fk,makeSymbol:Ti,mathsym:aU,makeSpan:xr,makeSvgSpan:Pk,makeLineSpan:hU,makeAnchor:dU,makeFragment:$k,wrapFragment:mU,makeVList:pU,makeOrd:oU,makeGlue:xU,staticSvg:gU,svgData:Uk,tryCombineChars:uU},Lt={number:3,unit:"mu"},ql={number:4,unit:"mu"},js={number:5,unit:"mu"},vU={mord:{mop:Lt,mbin:ql,mrel:js,minner:Lt},mop:{mord:Lt,mop:Lt,mrel:js,minner:Lt},mbin:{mord:ql,mop:ql,mopen:ql,minner:ql},mrel:{mord:js,mop:js,mopen:js,minner:js},mopen:{},mclose:{mop:Lt,mbin:ql,mrel:js,minner:Lt},mpunct:{mord:Lt,mop:Lt,mrel:js,mopen:Lt,mclose:Lt,mpunct:Lt,minner:Lt},minner:{mord:Lt,mop:Lt,mbin:ql,mrel:js,mopen:Lt,mpunct:Lt,minner:Lt}},yU={mord:{mop:Lt},mop:{mord:Lt,mop:Lt},mbin:{},mrel:{},mopen:{},mclose:{mop:Lt},mpunct:{},minner:{mop:Lt}},Hk={},Jm={},e1={};function be(t){for(var{type:e,names:n,props:i,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:s},u=0;u<n.length;++u)Hk[n[u]]=c;e&&(a&&(Jm[e]=a),l&&(e1[e]=l))}function So(t){var{type:e,htmlBuilder:n,mathmlBuilder:i}=t;be({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var t1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},rn=function(e){return e.type==="ordgroup"?e.body:[e]},Ys=ee.makeSpan,bU=["leftmost","mbin","mopen","mrel","mop","mpunct"],jU=["rightmost","mrel","mclose","mpunct"],wU={display:Oe.DISPLAY,text:Oe.TEXT,script:Oe.SCRIPT,scriptscript:Oe.SCRIPTSCRIPT},SU={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Sn=function(e,n,i,s){s===void 0&&(s=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=nt(e[l],n);if(c instanceof dh){var u=c.children;a.push(...u)}else a.push(c)}if(ee.tryCombineChars(a),!i)return a;var h=n;if(e.length===1){var m=e[0];m.type==="sizing"?h=n.havingSize(m.size):m.type==="styling"&&(h=n.havingStyle(wU[m.style]))}var f=Ys([s[0]||"leftmost"],[],n),p=Ys([s[1]||"rightmost"],[],n),v=i==="root";return ty(a,(T,M)=>{var q=M.classes[0],S=T.classes[0];q==="mbin"&&jU.includes(S)?M.classes[0]="mord":S==="mbin"&&bU.includes(q)&&(T.classes[0]="mord")},{node:f},p,v),ty(a,(T,M)=>{var q=H2(M),S=H2(T),A=q&&S?T.hasClass("mtight")?yU[q][S]:vU[q][S]:null;if(A)return ee.makeGlue(A,h)},{node:f},p,v),a},ty=function t(e,n,i,s,a){s&&e.push(s);for(var l=0;l<e.length;l++){var c=e[l],u=Vk(c);if(u){t(u.children,n,i,null,a);continue}var h=!c.hasClass("mspace");if(h){var m=n(c,i.node);m&&(i.insertAfter?i.insertAfter(m):(e.unshift(m),l++))}h?i.node=c:a&&c.hasClass("newline")&&(i.node=Ys(["leftmost"])),i.insertAfter=(f=>p=>{e.splice(f+1,0,p),l++})(l)}s&&e.pop()},Vk=function(e){return e instanceof dh||e instanceof r3||e instanceof mh&&e.hasClass("enclosing")?e:null},kU=function t(e,n){var i=Vk(e);if(i){var s=i.children;if(s.length){if(n==="right")return t(s[s.length-1],"right");if(n==="left")return t(s[0],"left")}}return e},H2=function(e,n){return e?(n&&(e=kU(e,n)),SU[e.classes[0]]||null):null},Lu=function(e,n){var i=["nulldelimiter"].concat(e.baseSizingClasses());return Ys(n.concat(i))},nt=function(e,n,i){if(!e)return Ys();if(Jm[e.type]){var s=Jm[e.type](e,n);if(i&&n.size!==i.size){s=Ys(n.sizingClasses(i),[s],n);var a=n.sizeMultiplier/i.sizeMultiplier;s.height*=a,s.depth*=a}return s}else throw new de("Got group of unknown type: '"+e.type+"'")};function hd(t,e){var n=Ys(["base"],t,e),i=Ys(["strut"]);return i.style.height=fe(n.height+n.depth),n.depth&&(i.style.verticalAlign=fe(-n.depth)),n.children.unshift(i),n}function V2(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var i=Sn(t,e,"root"),s;i.length===2&&i[1].hasClass("tag")&&(s=i.pop());for(var a=[],l=[],c=0;c<i.length;c++)if(l.push(i[c]),i[c].hasClass("mbin")||i[c].hasClass("mrel")||i[c].hasClass("allowbreak")){for(var u=!1;c<i.length-1&&i[c+1].hasClass("mspace")&&!i[c+1].hasClass("newline");)c++,l.push(i[c]),i[c].hasClass("nobreak")&&(u=!0);u||(a.push(hd(l,e)),l=[])}else i[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(hd(l,e)),l=[]),a.push(i[c]));l.length>0&&a.push(hd(l,e));var h;n?(h=hd(Sn(n,e,!0)),h.classes=["tag"],a.push(h)):s&&a.push(s);var m=Ys(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),h){var f=h.children[0];f.style.height=fe(m.height+m.depth),m.depth&&(f.style.verticalAlign=fe(-m.depth))}return m}function Gk(t){return new dh(t)}let Dr=class{constructor(e,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=ol(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Hi&&this.children[i+1]instanceof Hi){for(var s=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Hi;)s+=this.children[++i].toText();e.appendChild(new Hi(s).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=st.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+st.escape(ol(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Hi=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return st.escape(this.toText())}toText(){return this.text}},TU=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",fe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+fe(this.width)+'"/>'}toText(){return this.character?this.character:" "}};var oe={MathNode:Dr,TextNode:Hi,SpaceNode:TU,newDocumentFragment:Gk},hi=function(e,n,i){return St[n][e]&&St[n][e].replace&&e.charCodeAt(0)!==55349&&!(Bk.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=St[n][e].replace),new oe.TextNode(e)},s3=function(e){return e.length===1?e[0]:new oe.MathNode("mrow",e)},a3=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var s=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;St[s][a]&&St[s][a].replace&&(a=St[s][a].replace);var l=ee.fontMap[i].fontName;return n3(a,l,s)?ee.fontMap[i].variant:null};function Ap(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Hi&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Hi&&n.text===","}else return!1}var Tr=function(e,n,i){if(e.length===1){var s=gt(e[0],n);return i&&s instanceof Dr&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var a=[],l,c=0;c<e.length;c++){var u=gt(e[c],n);if(u instanceof Dr&&l instanceof Dr){if(u.type==="mtext"&&l.type==="mtext"&&u.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...u.children);continue}else if(u.type==="mn"&&l.type==="mn"){l.children.push(...u.children);continue}else if(Ap(u)&&l.type==="mn"){l.children.push(...u.children);continue}else if(u.type==="mn"&&Ap(l))u.children=[...l.children,...u.children],a.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(l.type==="mn"||Ap(l))){var h=u.children[0];h instanceof Dr&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Hi&&m.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var f=u.children[0];f instanceof Hi&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(u),l=u}return a},ul=function(e,n,i){return s3(Tr(e,n,i))},gt=function(e,n){if(!e)return new oe.MathNode("mrow");if(e1[e.type]){var i=e1[e.type](e,n);return i}else throw new de("Got group of unknown type: '"+e.type+"'")};function ny(t,e,n,i,s){var a=Tr(t,n),l;a.length===1&&a[0]instanceof Dr&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new oe.MathNode("mrow",a);var c=new oe.MathNode("annotation",[new oe.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var u=new oe.MathNode("semantics",[l,c]),h=new oe.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&h.setAttribute("display","block");var m=s?"katex":"katex-mathml";return ee.makeSpan([m],[h])}var Zk=function(e){return new Rk({style:e.displayMode?Oe.DISPLAY:Oe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Kk=function(e,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),e=ee.makeSpan(i,[e])}return e},AU=function(e,n,i){var s=Zk(i),a;if(i.output==="mathml")return ny(e,n,s,i.displayMode,!0);if(i.output==="html"){var l=V2(e,s);a=ee.makeSpan(["katex"],[l])}else{var c=ny(e,n,s,i.displayMode,!1),u=V2(e,s);a=ee.makeSpan(["katex"],[c,u])}return Kk(a,i)},NU=function(e,n,i){var s=Zk(i),a=V2(e,s),l=ee.makeSpan(["katex"],[a]);return Kk(l,i)},_U={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},EU=function(e){var n=new oe.MathNode("mo",[new oe.TextNode(_U[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},CU={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},MU=function(e){return e.type==="ordgroup"?e.body.length:1},zU=function(e,n){function i(){var c=4e5,u=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var h=e,m=MU(h.base),f,p,v;if(m>5)u==="widehat"||u==="widecheck"?(f=420,c=2364,v=.42,p=u+"4"):(f=312,c=2340,v=.34,p="tilde4");else{var T=[1,1,2,2,3,3][m];u==="widehat"||u==="widecheck"?(c=[0,1062,2364,2364,2364][T],f=[0,239,300,360,420][T],v=[0,.24,.3,.3,.36,.42][T],p=u+T):(c=[0,600,1033,2339,2340][T],f=[0,260,286,306,312][T],v=[0,.26,.286,.3,.306,.34][T],p="tilde"+T)}var M=new cl(p),q=new Ws([M],{width:"100%",height:fe(v),viewBox:"0 0 "+c+" "+f,preserveAspectRatio:"none"});return{span:ee.makeSvgSpan([],[q],n),minWidth:0,height:v}}else{var S=[],A=CU[u],[N,L,U]=A,Q=U/1e3,D=N.length,C,z;if(D===1){var B=A[3];C=["hide-tail"],z=[B]}else if(D===2)C=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(D===3)C=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var P=0;P<D;P++){var F=new cl(N[P]),$=new Ws([F],{width:"400em",height:fe(Q),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:z[P]+" slice"}),_e=ee.makeSvgSpan([C[P]],[$],n);if(D===1)return{span:_e,minWidth:L,height:Q};_e.style.height=fe(Q),S.push(_e)}return{span:ee.makeSpan(["stretchy"],S,n),minWidth:L,height:Q}}}var{span:s,minWidth:a,height:l}=i();return s.height=l,s.style.height=fe(l),a>0&&(s.style.minWidth=fe(a)),s},DU=function(e,n,i,s,a){var l,c=e.height+e.depth+i+s;if(/fbox|color|angl/.test(n)){if(l=ee.makeSpan(["stretchy",n],[],a),n==="fbox"){var u=a.color&&a.getColor();u&&(l.style.borderColor=u)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new F2({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new F2({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new Ws(h,{width:"100%",height:fe(c)});l=ee.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=fe(c),l},Xs={encloseSpan:DU,mathMLnode:EU,svgSpan:zU};function Ke(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function l3(t){var e=Y1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Y1(t){return t&&(t.type==="atom"||iU.hasOwnProperty(t.type))?t:null}var o3=(t,e)=>{var n,i,s;t&&t.type==="supsub"?(i=Ke(t.base,"accent"),n=i.base,t.base=n,s=nU(nt(t,e)),t.base=i):(i=Ke(t,"accent"),n=i.base);var a=nt(n,e.havingCrampedStyle()),l=i.isShifty&&st.isCharacterBox(n),c=0;if(l){var u=st.getBaseElem(n),h=nt(u,e.havingCrampedStyle());c=W7(h).skew}var m=i.label==="\\c",f=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(i.isStretchy)p=Xs.svgSpan(i,e),p=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+fe(2*c)+")",marginLeft:fe(2*c)}:void 0}]},e);else{var v,T;i.label==="\\vec"?(v=ee.staticSvg("vec",e),T=ee.svgData.vec[1]):(v=ee.makeOrd({mode:i.mode,text:i.label},e,"textord"),v=W7(v),v.italic=0,T=v.width,m&&(f+=v.depth)),p=ee.makeSpan(["accent-body"],[v]);var M=i.label==="\\textcircled";M&&(p.classes.push("accent-full"),f=a.height);var q=c;M||(q-=T/2),p.style.left=fe(q),i.label==="\\textcircled"&&(p.style.top=".2em"),p=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var S=ee.makeSpan(["mord","accent"],[p],e);return s?(s.children[0]=S,s.height=Math.max(S.height,s.height),s.classes[0]="mord",s):S},Wk=(t,e)=>{var n=t.isStretchy?Xs.mathMLnode(t.label):new oe.MathNode("mo",[hi(t.label,t.mode)]),i=new oe.MathNode("mover",[gt(t.base,e),n]);return i.setAttribute("accent","true"),i},RU=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));be({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=t1(e[0]),i=!RU.test(t.funcName),s=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:s,base:n}},htmlBuilder:o3,mathmlBuilder:Wk});be({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:o3,mathmlBuilder:Wk});be({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"accentUnder",mode:n.mode,label:i,base:s}},htmlBuilder:(t,e)=>{var n=nt(t.base,e),i=Xs.svgSpan(t,e),s=t.label==="\\utilde"?.12:0,a=ee.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:n}]},e);return ee.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=Xs.mathMLnode(t.label),i=new oe.MathNode("munder",[gt(t.base,e),n]);return i.setAttribute("accentunder","true"),i}});var dd=t=>{var e=new oe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};be({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:i,funcName:s}=t;return{type:"xArrow",mode:i.mode,label:s,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,i=e.havingStyle(n.sup()),s=ee.wrapFragment(nt(t.body,i,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(a+"-arrow-pad");var l;t.below&&(i=e.havingStyle(n.sub()),l=ee.wrapFragment(nt(t.below,i,e),e),l.classes.push(a+"-arrow-pad"));var c=Xs.svgSpan(t,e),u=-e.fontMetrics().axisHeight+.5*c.height,h=-e.fontMetrics().axisHeight-.5*c.height-.111;(s.depth>.25||t.label==="\\xleftequilibrium")&&(h-=s.depth);var m;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:c,shift:u},{type:"elem",elem:l,shift:f}]},e)}else m=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:c,shift:u}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),ee.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=Xs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var s=dd(gt(t.body,e));if(t.below){var a=dd(gt(t.below,e));i=new oe.MathNode("munderover",[n,a,s])}else i=new oe.MathNode("mover",[n,s])}else if(t.below){var l=dd(gt(t.below,e));i=new oe.MathNode("munder",[n,l])}else i=dd(),i=new oe.MathNode("mover",[n,i]);return i}});var OU=ee.makeSpan;function Yk(t,e){var n=Sn(t.body,e,!0);return OU([t.mclass],n,e)}function Xk(t,e){var n,i=Tr(t.body,e);return t.mclass==="minner"?n=new oe.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(n=i[0],n.type="mi"):n=new oe.MathNode("mi",i):(t.isCharacterBox?(n=i[0],n.type="mo"):n=new oe.MathNode("mo",i),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}be({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:rn(s),isCharacterBox:st.isCharacterBox(s)}},htmlBuilder:Yk,mathmlBuilder:Xk});var X1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};be({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:X1(e[0]),body:rn(e[1]),isCharacterBox:st.isCharacterBox(e[1])}}});be({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:i}=t,s=e[1],a=e[0],l;i!=="\\stackrel"?l=X1(s):l="mrel";var c={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:rn(s)},u={type:"supsub",mode:a.mode,base:c,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[u],isCharacterBox:st.isCharacterBox(u)}},htmlBuilder:Yk,mathmlBuilder:Xk});be({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:X1(e[0]),body:rn(e[0])}},htmlBuilder(t,e){var n=Sn(t.body,e,!0),i=ee.makeSpan([t.mclass],n,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var n=Tr(t.body,e),i=new oe.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var qU={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ry=()=>({type:"styling",body:[],mode:"math",style:"display"}),iy=t=>t.type==="textord"&&t.text==="@",IU=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function LU(t,e,n){var i=qU[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[s,l,c]};return n.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function BU(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new de("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],s=[i],a=0;a<e.length;a++){for(var l=e[a],c=ry(),u=0;u<l.length;u++)if(!iy(l[u]))c.body.push(l[u]);else{i.push(c),u+=1;var h=l3(l[u]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var f=0;f<2;f++){for(var p=!0,v=u+1;v<l.length;v++){if(IU(l[v],h)){p=!1,u=v;break}if(iy(l[v]))throw new de("Missing a "+h+" character to complete a CD arrow.",l[v]);m[f].body.push(l[v])}if(p)throw new de("Missing a "+h+" character to complete a CD arrow.",l[u])}else throw new de('Expected one of "<>AV=|." after @',l[u]);var T=LU(h,m,t),M={type:"styling",body:[T],mode:"math",style:"display"};i.push(M),c=ry()}a%2===0?i.push(c):i.shift(),i=[],s.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var q=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:q,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}be({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),i=ee.wrapFragment(nt(t.label,n,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=fe(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var n=new oe.MathNode("mrow",[gt(t.label,e)]);return n=new oe.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new oe.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});be({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ee.wrapFragment(nt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new oe.MathNode("mrow",[gt(t.fragment,e)])}});be({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,i=Ke(e[0],"ordgroup"),s=i.body,a="",l=0;l<s.length;l++){var c=Ke(s[l],"textord");a+=c.text}var u=parseInt(a),h;if(isNaN(u))throw new de("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new de("\\@char with invalid code point "+a);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var Qk=(t,e)=>{var n=Sn(t.body,e.withColor(t.color),!1);return ee.makeFragment(n)},Jk=(t,e)=>{var n=Tr(t.body,e.withColor(t.color)),i=new oe.MathNode("mstyle",n);return i.setAttribute("mathcolor",t.color),i};be({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,i=Ke(e[0],"color-token").color,s=e[1];return{type:"color",mode:n.mode,color:i,body:rn(s)}},htmlBuilder:Qk,mathmlBuilder:Jk});be({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:i}=t,s=Ke(e[0],"color-token").color;n.gullet.macros.set("\\current@color",s);var a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:s,body:a}},htmlBuilder:Qk,mathmlBuilder:Jk});be({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:i}=t,s=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:s&&Ke(s,"size").value}},htmlBuilder(t,e){var n=ee.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=fe(Pt(t.size,e)))),n},mathmlBuilder(t,e){var n=new oe.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",fe(Pt(t.size,e)))),n}});var G2={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},eT=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new de("Expected a control sequence",t);return e},PU=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},tT=(t,e,n,i)=>{var s=t.gullet.macros.get(n.text);s==null&&(n.noexpand=!0,s={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,s,i)};be({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var i=e.fetch();if(G2[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=G2[i.text]),Ke(e.parseFunction(),"internal");throw new de("Invalid token after macro prefix",i)}});be({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=e.gullet.popToken(),s=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new de("Expected a control sequence",i);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new de('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new de('Argument number "'+i.text+'" out of order');a++,c.push([])}else{if(i.text==="EOF")throw new de("Expected a macro definition");c[a].push(i.text)}var{tokens:u}=e.gullet.consumeArg();return l&&u.unshift(l),(n==="\\edef"||n==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(s,{tokens:u,numArgs:a,delimiters:c},n===G2[n]),{type:"internal",mode:e.mode}}});be({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=eT(e.gullet.popToken());e.gullet.consumeSpaces();var s=PU(e);return tT(e,i,s,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});be({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=eT(e.gullet.popToken()),s=e.gullet.popToken(),a=e.gullet.popToken();return tT(e,i,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var Uc=function(e,n,i){var s=St.math[e]&&St.math[e].replace,a=n3(s||e,n,i);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},c3=function(e,n,i,s){var a=i.havingBaseStyle(n),l=ee.makeSpan(s.concat(a.sizingClasses(i)),[e],i),c=a.sizeMultiplier/i.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},nT=function(e,n,i){var s=n.havingBaseStyle(i),a=(1-n.sizeMultiplier/s.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=fe(a),e.height-=a,e.depth+=a},$U=function(e,n,i,s,a,l){var c=ee.makeSymbol(e,"Main-Regular",a,s),u=c3(c,n,s,l);return i&&nT(u,s,n),u},FU=function(e,n,i,s){return ee.makeSymbol(e,"Size"+n+"-Regular",i,s)},rT=function(e,n,i,s,a,l){var c=FU(e,n,a,s),u=c3(ee.makeSpan(["delimsizing","size"+n],[c],s),Oe.TEXT,s,l);return i&&nT(u,s,Oe.TEXT),u},Np=function(e,n,i){var s;n==="Size1-Regular"?s="delim-size1":s="delim-size4";var a=ee.makeSpan(["delimsizinginner",s],[ee.makeSpan([],[ee.makeSymbol(e,n,i)])]);return{type:"elem",elem:a}},_p=function(e,n,i){var s=Ui["Size4-Regular"][e.charCodeAt(0)]?Ui["Size4-Regular"][e.charCodeAt(0)][4]:Ui["Size1-Regular"][e.charCodeAt(0)][4],a=new cl("inner",ZF(e,Math.round(1e3*n))),l=new Ws([a],{width:fe(s),height:fe(n),style:"width:"+fe(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=ee.makeSvgSpan([],[l],i);return c.height=n,c.style.height=fe(n),c.style.width=fe(s),{type:"elem",elem:c}},Z2=.008,md={type:"kern",size:-1*Z2},UU=["|","\\lvert","\\rvert","\\vert"],HU=["\\|","\\lVert","\\rVert","\\Vert"],iT=function(e,n,i,s,a,l){var c,u,h,m,f="",p=0;c=h=m=e,u=null;var v="Size1-Regular";e==="\\uparrow"?h=m="":e==="\\Uparrow"?h=m="":e==="\\downarrow"?c=h="":e==="\\Downarrow"?c=h="":e==="\\updownarrow"?(c="\\uparrow",h="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",h="",m="\\Downarrow"):UU.includes(e)?(h="",f="vert",p=333):HU.includes(e)?(h="",f="doublevert",p=556):e==="["||e==="\\lbrack"?(c="",h="",m="",v="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(c="",h="",m="",v="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e===""?(h=c="",m="",v="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e===""?(c="",h=m="",v="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e===""?(h=c="",m="",v="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e===""?(c="",h=m="",v="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(c="",h="",m="",v="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(c="",h="",m="",v="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(c="",u="",m="",h="",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",u="",m="",h="",v="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",h="",v="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",h="",v="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",h="",v="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",h="",v="Size4-Regular");var T=Uc(c,v,a),M=T.height+T.depth,q=Uc(h,v,a),S=q.height+q.depth,A=Uc(m,v,a),N=A.height+A.depth,L=0,U=1;if(u!==null){var Q=Uc(u,v,a);L=Q.height+Q.depth,U=2}var D=M+N+L,C=Math.max(0,Math.ceil((n-D)/(U*S))),z=D+C*U*S,B=s.fontMetrics().axisHeight;i&&(B*=s.sizeMultiplier);var P=z/2-B,F=[];if(f.length>0){var $=z-M-N,_e=Math.round(z*1e3),Ee=KF(f,Math.round($*1e3)),le=new cl(f,Ee),me=(p/1e3).toFixed(3)+"em",ve=(_e/1e3).toFixed(3)+"em",Be=new Ws([le],{width:me,height:ve,viewBox:"0 0 "+p+" "+_e}),ze=ee.makeSvgSpan([],[Be],s);ze.height=_e/1e3,ze.style.width=me,ze.style.height=ve,F.push({type:"elem",elem:ze})}else{if(F.push(Np(m,v,a)),F.push(md),u===null){var we=z-M-N+2*Z2;F.push(_p(h,we,s))}else{var ye=(z-M-N-L)/2+2*Z2;F.push(_p(h,ye,s)),F.push(md),F.push(Np(u,v,a)),F.push(md),F.push(_p(h,ye,s))}F.push(md),F.push(Np(c,v,a))}var Se=s.havingBaseStyle(Oe.TEXT),ct=ee.makeVList({positionType:"bottom",positionData:P,children:F},Se);return c3(ee.makeSpan(["delimsizing","mult"],[ct],Se),Oe.TEXT,s,l)},Ep=80,Cp=.08,Mp=function(e,n,i,s,a){var l=GF(e,s,i),c=new cl(e,l),u=new Ws([c],{width:"400em",height:fe(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return ee.makeSvgSpan(["hide-tail"],[u],a)},VU=function(e,n){var i=n.havingBaseSizing(),s=oT("\\surd",e*i.sizeMultiplier,lT,i),a=i.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,u=0,h=0,m=0,f;return s.type==="small"?(m=1e3+1e3*l+Ep,e<1?a=1:e<1.4&&(a=.7),u=(1+l+Cp)/a,h=(1+l)/a,c=Mp("sqrtMain",u,m,l,n),c.style.minWidth="0.853em",f=.833/a):s.type==="large"?(m=(1e3+Ep)*uu[s.size],h=(uu[s.size]+l)/a,u=(uu[s.size]+l+Cp)/a,c=Mp("sqrtSize"+s.size,u,m,l,n),c.style.minWidth="1.02em",f=1/a):(u=e+l+Cp,h=e+l,m=Math.floor(1e3*e+l)+Ep,c=Mp("sqrtTall",u,m,l,n),c.style.minWidth="0.742em",f=1.056),c.height=h,c.style.height=fe(u),{span:c,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},sT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],GU=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],aT=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],uu=[0,1.2,1.8,2.4,3],ZU=function(e,n,i,s,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),sT.includes(e)||aT.includes(e))return rT(e,n,!1,i,s,a);if(GU.includes(e))return iT(e,uu[n],!1,i,s,a);throw new de("Illegal delimiter: '"+e+"'")},KU=[{type:"small",style:Oe.SCRIPTSCRIPT},{type:"small",style:Oe.SCRIPT},{type:"small",style:Oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],WU=[{type:"small",style:Oe.SCRIPTSCRIPT},{type:"small",style:Oe.SCRIPT},{type:"small",style:Oe.TEXT},{type:"stack"}],lT=[{type:"small",style:Oe.SCRIPTSCRIPT},{type:"small",style:Oe.SCRIPT},{type:"small",style:Oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],YU=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},oT=function(e,n,i,s){for(var a=Math.min(2,3-s.style.size),l=a;l<i.length&&i[l].type!=="stack";l++){var c=Uc(e,YU(i[l]),"math"),u=c.height+c.depth;if(i[l].type==="small"){var h=s.havingBaseStyle(i[l].style);u*=h.sizeMultiplier}if(u>n)return i[l]}return i[i.length-1]},cT=function(e,n,i,s,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;aT.includes(e)?c=KU:sT.includes(e)?c=lT:c=WU;var u=oT(e,n,c,s);return u.type==="small"?$U(e,u.style,i,s,a,l):u.type==="large"?rT(e,u.size,i,s,a,l):iT(e,n,i,s,a,l)},XU=function(e,n,i,s,a,l){var c=s.fontMetrics().axisHeight*s.sizeMultiplier,u=901,h=5/s.fontMetrics().ptPerEm,m=Math.max(n-c,i+c),f=Math.max(m/500*u,2*m-h);return cT(e,f,!0,s,a,l)},Ls={sqrtImage:VU,sizedDelim:ZU,sizeToMaxHeight:uu,customSizedDelim:cT,leftRightDelim:XU},sy={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},QU=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Q1(t,e){var n=Y1(t);if(n&&QU.includes(n.text))return n;throw n?new de("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new de("Invalid delimiter type '"+t.type+"'",t)}be({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Q1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:sy[t.funcName].size,mclass:sy[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ee.makeSpan([t.mclass]):Ls.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(hi(t.delim,t.mode));var n=new oe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=fe(Ls.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function ay(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}be({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new de("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Q1(e[0],t).text,color:n}}});be({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Q1(e[0],t),i=t.parser;++i.leftrightDepth;var s=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=Ke(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:s,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{ay(t);for(var n=Sn(t.body,e,!0,["mopen","mclose"]),i=0,s=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(i=Math.max(n[l].height,i),s=Math.max(n[l].depth,s));i*=e.sizeMultiplier,s*=e.sizeMultiplier;var c;if(t.left==="."?c=Lu(e,["mopen"]):c=Ls.leftRightDelim(t.left,i,s,e,t.mode,["mopen"]),n.unshift(c),a)for(var u=1;u<n.length;u++){var h=n[u],m=h.isMiddle;m&&(n[u]=Ls.leftRightDelim(m.delim,i,s,m.options,t.mode,[]))}var f;if(t.right===".")f=Lu(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;f=Ls.leftRightDelim(t.right,i,s,p,t.mode,["mclose"])}return n.push(f),ee.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{ay(t);var n=Tr(t.body,e);if(t.left!=="."){var i=new oe.MathNode("mo",[hi(t.left,t.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(t.right!=="."){var s=new oe.MathNode("mo",[hi(t.right,t.mode)]);s.setAttribute("fence","true"),t.rightColor&&s.setAttribute("mathcolor",t.rightColor),n.push(s)}return s3(n)}});be({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Q1(e[0],t);if(!t.parser.leftrightDepth)throw new de("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Lu(e,[]);else{n=Ls.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};n.isMiddle=i}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?hi("|","text"):hi(t.delim,t.mode),i=new oe.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var u3=(t,e)=>{var n=ee.wrapFragment(nt(t.body,e),e),i=t.label.slice(1),s=e.sizeMultiplier,a,l=0,c=st.isCharacterBox(t.body);if(i==="sout")a=ee.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var u=Pt({number:.6,unit:"pt"},e),h=Pt({number:.35,unit:"ex"},e),m=e.havingBaseSizing();s=s/m.sizeMultiplier;var f=n.height+n.depth+u+h;n.style.paddingLeft=fe(f/2+u);var p=Math.floor(1e3*f*s),v=HF(p),T=new Ws([new cl("phase",v)],{width:"400em",height:fe(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=ee.makeSvgSpan(["hide-tail"],[T],e),a.style.height=fe(f),l=n.depth+u+h}else{/cancel/.test(i)?c||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var M=0,q=0,S=0;/box/.test(i)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),M=e.fontMetrics().fboxsep+(i==="colorbox"?0:S),q=M):i==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),M=4*S,q=Math.max(0,.25-n.depth)):(M=c?.2:0,q=M),a=Xs.encloseSpan(n,i,M,q,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=fe(S)):i==="angl"&&S!==.049&&(a.style.borderTopWidth=fe(S),a.style.borderRightWidth=fe(S)),l=n.depth+q,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var A;if(t.backgroundColor)A=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var N=/cancel|phase/.test(i)?["svg-align"]:[];A=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:N}]},e)}return/cancel/.test(i)&&(A.height=n.height,A.depth=n.depth),/cancel/.test(i)&&!c?ee.makeSpan(["mord","cancel-lap"],[A],e):ee.makeSpan(["mord"],[A],e)},h3=(t,e)=>{var n=0,i=new oe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[gt(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+s+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};be({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:i,funcName:s}=t,a=Ke(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:i.mode,label:s,backgroundColor:a,body:l}},htmlBuilder:u3,mathmlBuilder:h3});be({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:i,funcName:s}=t,a=Ke(e[0],"color-token").color,l=Ke(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:i.mode,label:s,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:u3,mathmlBuilder:h3});be({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});be({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"enclose",mode:n.mode,label:i,body:s}},htmlBuilder:u3,mathmlBuilder:h3});be({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var uT={};function is(t){for(var{type:e,names:n,props:i,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},u=0;u<n.length;++u)uT[n[u]]=c;a&&(Jm[e]=a),l&&(e1[e]=l)}var hT={};function R(t,e){hT[t]=e}function ly(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var J1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new de("{"+t.envName+"} can be used only in display mode.")};function d3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function jl(t,e,n){var{hskipBeforeAndAfter:i,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:u,singleRow:h,emptySingleRow:m,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var v=t.gullet.expandMacroAsText("\\arraystretch");if(v==null)l=1;else if(l=parseFloat(v),!l||l<0)throw new de("Invalid \\arraystretch: "+v)}t.gullet.beginGroup();var T=[],M=[T],q=[],S=[],A=u!=null?[]:void 0;function N(){u&&t.gullet.macros.set("\\@eqnsw","1",!0)}function L(){A&&(t.gullet.macros.get("\\df@tag")?(A.push(t.subparse([new zi("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!u&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(N(),S.push(ly(t));;){var U=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),T.push(U);var Q=t.fetch().text;if(Q==="&"){if(f&&T.length===f){if(h||c)throw new de("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(Q==="\\end"){L(),T.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(M.length>1||!m)&&M.pop(),S.length<M.length+1&&S.push([]);break}else if(Q==="\\\\"){t.consume();var D=void 0;t.gullet.future().text!==" "&&(D=t.parseSizeGroup(!0)),q.push(D?D.value:null),L(),S.push(ly(t)),T=[],M.push(T),N()}else throw new de("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:s,arraystretch:l,body:M,cols:a,rowGaps:q,hskipBeforeAndAfter:i,hLinesBeforeRow:S,colSeparationType:c,tags:A,leqno:p}}function m3(t){return t.slice(0,1)==="d"?"display":"text"}var ss=function(e,n){var i,s,a=e.body.length,l=e.hLinesBeforeRow,c=0,u=new Array(a),h=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var v=n.havingStyle(Oe.SCRIPT).sizeMultiplier;p=.2778*(v/n.sizeMultiplier)}var T=e.colSeparationType==="CD"?Pt({number:3,unit:"ex"},n):12*f,M=3*f,q=e.arraystretch*T,S=.7*q,A=.3*q,N=0;function L(An){for(var Dn=0;Dn<An.length;++Dn)Dn>0&&(N+=.25),h.push({pos:N,isDashed:An[Dn]})}for(L(l[0]),i=0;i<e.body.length;++i){var U=e.body[i],Q=S,D=A;c<U.length&&(c=U.length);var C=new Array(U.length);for(s=0;s<U.length;++s){var z=nt(U[s],n);D<z.depth&&(D=z.depth),Q<z.height&&(Q=z.height),C[s]=z}var B=e.rowGaps[i],P=0;B&&(P=Pt(B,n),P>0&&(P+=A,D<P&&(D=P),P=0)),e.addJot&&(D+=M),C.height=Q,C.depth=D,N+=Q,C.pos=N,N+=D+P,u[i]=C,L(l[i+1])}var F=N/2+n.fontMetrics().axisHeight,$=e.cols||[],_e=[],Ee,le,me=[];if(e.tags&&e.tags.some(An=>An))for(i=0;i<a;++i){var ve=u[i],Be=ve.pos-F,ze=e.tags[i],we=void 0;ze===!0?we=ee.makeSpan(["eqn-num"],[],n):ze===!1?we=ee.makeSpan([],[],n):we=ee.makeSpan([],Sn(ze,n,!0),n),we.depth=ve.depth,we.height=ve.height,me.push({type:"elem",elem:we,shift:Be})}for(s=0,le=0;s<c||le<$.length;++s,++le){for(var ye=$[le]||{},Se=!0;ye.type==="separator";){if(Se||(Ee=ee.makeSpan(["arraycolsep"],[]),Ee.style.width=fe(n.fontMetrics().doubleRuleSep),_e.push(Ee)),ye.separator==="|"||ye.separator===":"){var ct=ye.separator==="|"?"solid":"dashed",Pe=ee.makeSpan(["vertical-separator"],[],n);Pe.style.height=fe(N),Pe.style.borderRightWidth=fe(m),Pe.style.borderRightStyle=ct,Pe.style.margin="0 "+fe(-m/2);var Gn=N-F;Gn&&(Pe.style.verticalAlign=fe(-Gn)),_e.push(Pe)}else throw new de("Invalid separator type: "+ye.separator);le++,ye=$[le]||{},Se=!1}if(!(s>=c)){var Ht=void 0;(s>0||e.hskipBeforeAndAfter)&&(Ht=st.deflt(ye.pregap,p),Ht!==0&&(Ee=ee.makeSpan(["arraycolsep"],[]),Ee.style.width=fe(Ht),_e.push(Ee)));var Vt=[];for(i=0;i<a;++i){var ur=u[i],Tn=ur[s];if(Tn){var xi=ur.pos-F;Tn.depth=ur.depth,Tn.height=ur.height,Vt.push({type:"elem",elem:Tn,shift:xi})}}Vt=ee.makeVList({positionType:"individualShift",children:Vt},n),Vt=ee.makeSpan(["col-align-"+(ye.align||"c")],[Vt]),_e.push(Vt),(s<c-1||e.hskipBeforeAndAfter)&&(Ht=st.deflt(ye.postgap,p),Ht!==0&&(Ee=ee.makeSpan(["arraycolsep"],[]),Ee.style.width=fe(Ht),_e.push(Ee)))}}if(u=ee.makeSpan(["mtable"],_e),h.length>0){for(var Oi=ee.makeLineSpan("hline",n,m),hr=ee.makeLineSpan("hdashline",n,m),Fn=[{type:"elem",elem:u,shift:0}];h.length>0;){var zn=h.pop(),Vr=zn.pos-F;zn.isDashed?Fn.push({type:"elem",elem:hr,shift:Vr}):Fn.push({type:"elem",elem:Oi,shift:Vr})}u=ee.makeVList({positionType:"individualShift",children:Fn},n)}if(me.length===0)return ee.makeSpan(["mord"],[u],n);var Nr=ee.makeVList({positionType:"individualShift",children:me},n);return Nr=ee.makeSpan(["tag"],[Nr],n),ee.makeFragment([u,Nr])},JU={c:"center ",l:"left ",r:"right "},as=function(e,n){for(var i=[],s=new oe.MathNode("mtd",[],["mtr-glue"]),a=new oe.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],u=[],h=0;h<c.length;h++)u.push(new oe.MathNode("mtd",[gt(c[h],n)]));e.tags&&e.tags[l]&&(u.unshift(s),u.push(s),e.leqno?u.unshift(a):u.push(a)),i.push(new oe.MathNode("mtr",u))}var m=new oe.MathNode("mtable",i),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",fe(f));var p="",v="";if(e.cols&&e.cols.length>0){var T=e.cols,M="",q=!1,S=0,A=T.length;T[0].type==="separator"&&(p+="top ",S=1),T[T.length-1].type==="separator"&&(p+="bottom ",A-=1);for(var N=S;N<A;N++)T[N].type==="align"?(v+=JU[T[N].align],q&&(M+="none "),q=!0):T[N].type==="separator"&&q&&(M+=T[N].separator==="|"?"solid ":"dashed ",q=!1);m.setAttribute("columnalign",v.trim()),/[sd]/.test(M)&&m.setAttribute("columnlines",M.trim())}if(e.colSeparationType==="align"){for(var L=e.cols||[],U="",Q=1;Q<L.length;Q++)U+=Q%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var D="",C=e.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var z=1;z<C.length-1;z++)D+=C[z].length===0?"none ":C[z][0]?"dashed ":"solid ";return/[sd]/.test(D)&&m.setAttribute("rowlines",D.trim()),p!==""&&(m=new oe.MathNode("menclose",[m]),m.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(m=new oe.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},dT=function(e,n){e.envName.indexOf("ed")===-1&&J1(e);var i=[],s=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=jl(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:d3(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,u=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",f=0;f<n[0].body.length;f++){var p=Ke(n[0].body[f],"textord");m+=p.text}c=Number(m),u=c*2}var v=!u;l.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var N=Ke(S[A],"styling"),L=Ke(N.body[0],"ordgroup");L.body.unshift(h)}if(v)u<S.length&&(u=S.length);else{var U=S.length/2;if(c<U)throw new de("Too many math in a row: "+("expected "+c+", but got "+U),S[0])}});for(var T=0;T<u;++T){var M="r",q=0;T%2===1?M="l":T>0&&v&&(q=1),i[T]={type:"align",align:M,pregap:q,postgap:0}}return l.colSeparationType=v?"align":"alignat",l};is({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Y1(e[0]),i=n?[e[0]]:Ke(e[0],"ordgroup").body,s=i.map(function(l){var c=l3(l),u=c.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new de("Unknown column alignment: "+u,l)}),a={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return jl(t.parser,a,m3(t.envName))},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var s=t.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),n=s.fetch().text,"lcr".indexOf(n)===-1)throw new de("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),i.cols=[{type:"align",align:n}]}}var a=jl(t.parser,i,m3(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=jl(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Y1(e[0]),i=n?[e[0]]:Ke(e[0],"ordgroup").body,s=i.map(function(l){var c=l3(l),u=c.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new de("Unknown column alignment: "+u,l)});if(s.length>1)throw new de("{subarray} can contain only one column");var a={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=jl(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new de("{subarray} can contain only one column");return a},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=jl(t.parser,e,m3(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:dT,htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&J1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:d3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return jl(t.parser,e,"display")},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:dT,htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){J1(t);var e={autoTag:d3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return jl(t.parser,e,"display")},htmlBuilder:ss,mathmlBuilder:as});is({type:"array",names:["CD"],props:{numArgs:0},handler(t){return J1(t),BU(t.parser)},htmlBuilder:ss,mathmlBuilder:as});R("\\nonumber","\\gdef\\@eqnsw{0}");R("\\notag","\\nonumber");be({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new de(t.funcName+" valid only within array environment")}});var oy=uT;be({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];if(s.type!=="ordgroup")throw new de("Invalid environment name",s);for(var a="",l=0;l<s.body.length;++l)a+=Ke(s.body[l],"textord").text;if(i==="\\begin"){if(!oy.hasOwnProperty(a))throw new de("No such environment: "+a,s);var c=oy[a],{args:u,optArgs:h}=n.parseArguments("\\begin{"+a+"}",c),m={mode:n.mode,envName:a,parser:n},f=c.handler(m,u,h);n.expect("\\end",!1);var p=n.nextToken,v=Ke(n.parseFunction(),"environment");if(v.name!==a)throw new de("Mismatch: \\begin{"+a+"} matched by \\end{"+v.name+"}",p);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:s}}});var mT=(t,e)=>{var n=t.font,i=e.withFont(n);return nt(t.body,i)},fT=(t,e)=>{var n=t.font,i=e.withFont(n);return gt(t.body,i)},cy={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};be({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=t1(e[0]),a=i;return a in cy&&(a=cy[a]),{type:"font",mode:n.mode,font:a.slice(1),body:s}},htmlBuilder:mT,mathmlBuilder:fT});be({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,i=e[0],s=st.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:X1(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:s}}});be({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i,breakOnTokenText:s}=t,{mode:a}=n,l=n.parseExpression(!0,s),c="math"+i.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:mT,mathmlBuilder:fT});var pT=(t,e)=>{var n=e;return t==="display"?n=n.id>=Oe.SCRIPT.id?n.text():Oe.DISPLAY:t==="text"&&n.size===Oe.DISPLAY.size?n=Oe.TEXT:t==="script"?n=Oe.SCRIPT:t==="scriptscript"&&(n=Oe.SCRIPTSCRIPT),n},f3=(t,e)=>{var n=pT(t.size,e.style),i=n.fracNum(),s=n.fracDen(),a;a=e.havingStyle(i);var l=nt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<u?u:l.depth}a=e.havingStyle(s);var h=nt(t.denom,a,e),m,f,p;t.hasBarLine?(t.barSize?(f=Pt(t.barSize,e),m=ee.makeLineSpan("frac-line",e,f)):m=ee.makeLineSpan("frac-line",e),f=m.height,p=m.height):(m=null,f=0,p=e.fontMetrics().defaultRuleThickness);var v,T,M;n.size===Oe.DISPLAY.size||t.size==="display"?(v=e.fontMetrics().num1,f>0?T=3*p:T=7*p,M=e.fontMetrics().denom1):(f>0?(v=e.fontMetrics().num2,T=p):(v=e.fontMetrics().num3,T=3*p),M=e.fontMetrics().denom2);var q;if(m){var A=e.fontMetrics().axisHeight;v-l.depth-(A+.5*f)<T&&(v+=T-(v-l.depth-(A+.5*f))),A-.5*f-(h.height-M)<T&&(M+=T-(A-.5*f-(h.height-M)));var N=-(A-.5*f);q=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:M},{type:"elem",elem:m,shift:N},{type:"elem",elem:l,shift:-v}]},e)}else{var S=v-l.depth-(h.height-M);S<T&&(v+=.5*(T-S),M+=.5*(T-S)),q=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:M},{type:"elem",elem:l,shift:-v}]},e)}a=e.havingStyle(n),q.height*=a.sizeMultiplier/e.sizeMultiplier,q.depth*=a.sizeMultiplier/e.sizeMultiplier;var L;n.size===Oe.DISPLAY.size?L=e.fontMetrics().delim1:n.size===Oe.SCRIPTSCRIPT.size?L=e.havingStyle(Oe.SCRIPT).fontMetrics().delim2:L=e.fontMetrics().delim2;var U,Q;return t.leftDelim==null?U=Lu(e,["mopen"]):U=Ls.customSizedDelim(t.leftDelim,L,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?Q=ee.makeSpan([]):t.rightDelim==null?Q=Lu(e,["mclose"]):Q=Ls.customSizedDelim(t.rightDelim,L,!0,e.havingStyle(n),t.mode,["mclose"]),ee.makeSpan(["mord"].concat(a.sizingClasses(e)),[U,ee.makeSpan(["mfrac"],[q]),Q],e)},p3=(t,e)=>{var n=new oe.MathNode("mfrac",[gt(t.numer,e),gt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var i=Pt(t.barSize,e);n.setAttribute("linethickness",fe(i))}var s=pT(t.size,e.style);if(s.size!==e.style.size){n=new oe.MathNode("mstyle",[n]);var a=s.size===Oe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new oe.MathNode("mo",[new oe.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var u=new oe.MathNode("mo",[new oe.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}return s3(l)}return n};be({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=e[1],l,c=null,u=null,h="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",u=")";break;case"\\\\bracefrac":l=!1,c="\\{",u="\\}";break;case"\\\\brackfrac":l=!1,c="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:s,denom:a,hasBarLine:l,leftDelim:c,rightDelim:u,size:h,barSize:null}},htmlBuilder:f3,mathmlBuilder:p3});be({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:s,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});be({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:i}=t,s;switch(n){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:i}}});var uy=["display","text","script","scriptscript"],hy=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};be({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,i=e[4],s=e[5],a=t1(e[0]),l=a.type==="atom"&&a.family==="open"?hy(a.text):null,c=t1(e[1]),u=c.type==="atom"&&c.family==="close"?hy(c.text):null,h=Ke(e[2],"size"),m,f=null;h.isBlank?m=!0:(f=h.value,m=f.number>0);var p="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var T=Ke(v.body[0],"textord");p=uy[Number(T.text)]}}else v=Ke(v,"textord"),p=uy[Number(v.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:m,barSize:f,leftDelim:l,rightDelim:u,size:p}},htmlBuilder:f3,mathmlBuilder:p3});be({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:i,token:s}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ke(e[0],"size").value,token:s}}});be({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=EF(Ke(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:n.mode,numer:s,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:f3,mathmlBuilder:p3});var xT=(t,e)=>{var n=e.style,i,s;t.type==="supsub"?(i=t.sup?nt(t.sup,e.havingStyle(n.sup()),e):nt(t.sub,e.havingStyle(n.sub()),e),s=Ke(t.base,"horizBrace")):s=Ke(t,"horizBrace");var a=nt(s.base,e.havingBaseStyle(Oe.DISPLAY)),l=Xs.svgSpan(s,e),c;if(s.isOver?(c=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=ee.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),i){var u=ee.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e);s.isOver?c=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:i}]},e):c=ee.makeVList({positionType:"bottom",positionData:u.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return ee.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e)},eH=(t,e)=>{var n=Xs.mathMLnode(t.label);return new oe.MathNode(t.isOver?"mover":"munder",[gt(t.base,e),n])};be({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:xT,mathmlBuilder:eH});be({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[1],s=Ke(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:n.mode,href:s,body:rn(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Sn(t.body,e,!1);return ee.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=ul(t.body,e);return n instanceof Dr||(n=new Dr("mrow",[n])),n.setAttribute("href",t.href),n}});be({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=Ke(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var s=[],a=0;a<i.length;a++){var l=i[a];l==="~"&&(l="\\textasciitilde"),s.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:s};return{type:"href",mode:n.mode,href:i,body:rn(c)}}});be({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:rn(e[0])}},htmlBuilder(t,e){var n=Sn(t.body,e,!1);return ee.makeFragment(n)},mathmlBuilder(t,e){return new oe.MathNode("mrow",Tr(t.body,e))}});be({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i,token:s}=t,a=Ke(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,u={};switch(i){case"\\htmlClass":u.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),m=0;m<h.length;m++){var f=h[m],p=f.indexOf("=");if(p<0)throw new de("\\htmlData key/value '"+f+"' missing equals sign");var v=f.slice(0,p),T=f.slice(p+1);u["data-"+v.trim()]=T}c={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:u,body:rn(l)}:n.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var n=Sn(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var s=ee.makeSpan(i,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&s.setAttribute(a,t.attributes[a]);return s},mathmlBuilder:(t,e)=>ul(t.body,e)});be({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:rn(e[0]),mathml:rn(e[1])}},htmlBuilder:(t,e)=>{var n=Sn(t.html,e,!1);return ee.makeFragment(n)},mathmlBuilder:(t,e)=>ul(t.mathml,e)});var zp=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new de("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!Ok(i))throw new de("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};be({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:i}=t,s={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var u=Ke(n[0],"raw").string,h=u.split(","),m=0;m<h.length;m++){var f=h[m].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":c=p;break;case"width":s=zp(p);break;case"height":a=zp(p);break;case"totalheight":l=zp(p);break;default:throw new de("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var v=Ke(e[0],"url").url;return c===""&&(c=v,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:i.mode,alt:c,width:s,height:a,totalheight:l,src:v}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Pt(t.height,e),i=0;t.totalheight.number>0&&(i=Pt(t.totalheight,e)-n);var s=0;t.width.number>0&&(s=Pt(t.width,e));var a={height:fe(n+i)};s>0&&(a.width=fe(s)),i>0&&(a.verticalAlign=fe(-i));var l=new eU(t.src,t.alt,a);return l.height=n,l.depth=i,l},mathmlBuilder:(t,e)=>{var n=new oe.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var i=Pt(t.height,e),s=0;if(t.totalheight.number>0&&(s=Pt(t.totalheight,e)-i,n.setAttribute("valign",fe(-s))),n.setAttribute("height",fe(i+s)),t.width.number>0){var a=Pt(t.width,e);n.setAttribute("width",fe(a))}return n.setAttribute("src",t.src),n}});be({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:i}=t,s=Ke(e[0],"size");if(n.settings.strict){var a=i[1]==="m",l=s.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+s.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:s.value}},htmlBuilder(t,e){return ee.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Pt(t.dimension,e);return new oe.SpaceNode(n)}});be({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:s}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ee.makeSpan([],[nt(t.body,e)]),n=ee.makeSpan(["inner"],[n],e)):n=ee.makeSpan(["inner"],[nt(t.body,e)]);var i=ee.makeSpan(["fix"],[]),s=ee.makeSpan([t.alignment],[n,i],e),a=ee.makeSpan(["strut"]);return a.style.height=fe(s.height+s.depth),s.depth&&(a.style.verticalAlign=fe(-s.depth)),s.children.unshift(a),s=ee.makeSpan(["thinbox"],[s],e),ee.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(t,e)=>{var n=new oe.MathNode("mpadded",[gt(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});be({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:i}=t,s=i.mode;i.switchMode("math");var a=n==="\\("?"\\)":"$",l=i.parseExpression(!1,a);return i.expect(a),i.switchMode(s),{type:"styling",mode:i.mode,style:"text",body:l}}});be({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new de("Mismatched "+t.funcName)}});var dy=(t,e)=>{switch(e.style.size){case Oe.DISPLAY.size:return t.display;case Oe.TEXT.size:return t.text;case Oe.SCRIPT.size:return t.script;case Oe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};be({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:rn(e[0]),text:rn(e[1]),script:rn(e[2]),scriptscript:rn(e[3])}},htmlBuilder:(t,e)=>{var n=dy(t,e),i=Sn(n,e,!1);return ee.makeFragment(i)},mathmlBuilder:(t,e)=>{var n=dy(t,e);return ul(n,e)}});var gT=(t,e,n,i,s,a,l)=>{t=ee.makeSpan([],[t]);var c=n&&st.isCharacterBox(n),u,h;if(e){var m=nt(e,i.havingStyle(s.sup()),i);h={elem:m,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var f=nt(n,i.havingStyle(s.sub()),i);u={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-f.height)}}var p;if(h&&u){var v=i.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+t.depth+l;p=ee.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:fe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:fe(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(u){var T=t.height-l;p=ee.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:fe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t}]},i)}else if(h){var M=t.depth+l;p=ee.makeVList({positionType:"bottom",positionData:M,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:fe(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var q=[p];if(u&&a!==0&&!c){var S=ee.makeSpan(["mspace"],[],i);S.style.marginRight=fe(a),q.unshift(S)}return ee.makeSpan(["mop","op-limits"],q,i)},vT=["\\smallint"],X0=(t,e)=>{var n,i,s=!1,a;t.type==="supsub"?(n=t.sup,i=t.sub,a=Ke(t.base,"op"),s=!0):a=Ke(t,"op");var l=e.style,c=!1;l.size===Oe.DISPLAY.size&&a.symbol&&!vT.includes(a.name)&&(c=!0);var u;if(a.symbol){var h=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),u=ee.makeSymbol(a.name,h,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var f=u.italic,p=ee.staticSvg(m+"Size"+(c?"2":"1"),e);u=ee.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},e),a.name="\\"+m,u.classes.unshift("mop"),u.italic=f}}else if(a.body){var v=Sn(a.body,e,!0);v.length===1&&v[0]instanceof ui?(u=v[0],u.classes[0]="mop"):u=ee.makeSpan(["mop"],v,e)}else{for(var T=[],M=1;M<a.name.length;M++)T.push(ee.mathsym(a.name[M],a.mode,e));u=ee.makeSpan(["mop"],T,e)}var q=0,S=0;return(u instanceof ui||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(q=(u.height-u.depth)/2-e.fontMetrics().axisHeight,S=u.italic),s?gT(u,n,i,e,l,S,q):(q&&(u.style.position="relative",u.style.top=fe(q)),u)},fh=(t,e)=>{var n;if(t.symbol)n=new Dr("mo",[hi(t.name,t.mode)]),vT.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Dr("mo",Tr(t.body,e));else{n=new Dr("mi",[new Hi(t.name.slice(1))]);var i=new Dr("mo",[hi("","text")]);t.parentIsSupSub?n=new Dr("mrow",[n,i]):n=Gk([n,i])}return n},tH={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};be({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=i;return s.length===1&&(s=tH[s]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:X0,mathmlBuilder:fh});be({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:rn(i)}},htmlBuilder:X0,mathmlBuilder:fh});var nH={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};be({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:X0,mathmlBuilder:fh});be({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:X0,mathmlBuilder:fh});be({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,i=n;return i.length===1&&(i=nH[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:X0,mathmlBuilder:fh});var yT=(t,e)=>{var n,i,s=!1,a;t.type==="supsub"?(n=t.sup,i=t.sub,a=Ke(t.base,"operatorname"),s=!0):a=Ke(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),u=Sn(c,e.withFont("mathrm"),!0),h=0;h<u.length;h++){var m=u[h];m instanceof ui&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ee.makeSpan(["mop"],u,e)}else l=ee.makeSpan(["mop"],[],e);return s?gT(l,n,i,e,e.style,0,0):l},rH=(t,e)=>{for(var n=Tr(t.body,e.withFont("mathrm")),i=!0,s=0;s<n.length;s++){var a=n[s];if(!(a instanceof oe.SpaceNode))if(a instanceof oe.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof oe.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var c=n.map(m=>m.toText()).join("");n=[new oe.TextNode(c)]}var u=new oe.MathNode("mi",n);u.setAttribute("mathvariant","normal");var h=new oe.MathNode("mo",[hi("","text")]);return t.parentIsSupSub?new oe.MathNode("mrow",[u,h]):oe.newDocumentFragment([u,h])};be({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"operatorname",mode:n.mode,body:rn(s),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yT,mathmlBuilder:rH});R("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");So({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ee.makeFragment(Sn(t.body,e,!1)):ee.makeSpan(["mord"],Sn(t.body,e,!0),e)},mathmlBuilder(t,e){return ul(t.body,e,!0)}});be({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,i=e[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(t,e){var n=nt(t.body,e.havingCrampedStyle()),i=ee.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,a=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:i},{type:"kern",size:s}]},e);return ee.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new oe.MathNode("mo",[new oe.TextNode("")]);n.setAttribute("stretchy","true");var i=new oe.MathNode("mover",[gt(t.body,e),n]);return i.setAttribute("accent","true"),i}});be({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"phantom",mode:n.mode,body:rn(i)}},htmlBuilder:(t,e)=>{var n=Sn(t.body,e.withPhantom(),!1);return ee.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Tr(t.body,e);return new oe.MathNode("mphantom",n)}});be({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(t,e)=>{var n=ee.makeSpan([],[nt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ee.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Tr(rn(t.body),e),i=new oe.MathNode("mphantom",n),s=new oe.MathNode("mpadded",[i]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});be({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(t,e)=>{var n=ee.makeSpan(["inner"],[nt(t.body,e.withPhantom())]),i=ee.makeSpan(["fix"],[]);return ee.makeSpan(["mord","rlap"],[n,i],e)},mathmlBuilder:(t,e)=>{var n=Tr(rn(t.body),e),i=new oe.MathNode("mphantom",n),s=new oe.MathNode("mpadded",[i]);return s.setAttribute("width","0px"),s}});be({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,i=Ke(e[0],"size").value,s=e[1];return{type:"raisebox",mode:n.mode,dy:i,body:s}},htmlBuilder(t,e){var n=nt(t.body,e),i=Pt(t.dy,e);return ee.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new oe.MathNode("mpadded",[gt(t.body,e)]),i=t.dy.number+t.dy.unit;return n.setAttribute("voffset",i),n}});be({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});be({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:i}=t,s=n[0],a=Ke(e[0],"size"),l=Ke(e[1],"size");return{type:"rule",mode:i.mode,shift:s&&Ke(s,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=ee.makeSpan(["mord","rule"],[],e),i=Pt(t.width,e),s=Pt(t.height,e),a=t.shift?Pt(t.shift,e):0;return n.style.borderRightWidth=fe(i),n.style.borderTopWidth=fe(s),n.style.bottom=fe(a),n.width=i,n.height=s+a,n.depth=-a,n.maxFontSize=s*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Pt(t.width,e),i=Pt(t.height,e),s=t.shift?Pt(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new oe.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",fe(n)),l.setAttribute("height",fe(i));var c=new oe.MathNode("mpadded",[l]);return s>=0?c.setAttribute("height",fe(s)):(c.setAttribute("height",fe(s)),c.setAttribute("depth",fe(-s))),c.setAttribute("voffset",fe(s)),c}});function bT(t,e,n){for(var i=Sn(t,e,!1),s=e.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var l=i[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(n)):i[a].classes[l+1]==="reset-size"+e.size&&(i[a].classes[l+1]="reset-size"+n.size),i[a].height*=s,i[a].depth*=s}return ee.makeFragment(i)}var my=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],iH=(t,e)=>{var n=e.havingSize(t.size);return bT(t.body,n,e)};be({type:"sizing",names:my,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:i,parser:s}=t,a=s.parseExpression(!1,n);return{type:"sizing",mode:s.mode,size:my.indexOf(i)+1,body:a}},htmlBuilder:iH,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),i=Tr(t.body,n),s=new oe.MathNode("mstyle",i);return s.setAttribute("mathsize",fe(n.sizeMultiplier)),s}});be({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:i}=t,s=!1,a=!1,l=n[0]&&Ke(n[0],"ordgroup");if(l)for(var c="",u=0;u<l.body.length;++u){var h=l.body[u];if(c=h.text,c==="t")s=!0;else if(c==="b")a=!0;else{s=!1,a=!1;break}}else s=!0,a=!0;var m=e[0];return{type:"smash",mode:i.mode,body:m,smashHeight:s,smashDepth:a}},htmlBuilder:(t,e)=>{var n=ee.makeSpan([],[nt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].depth=0;var a=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ee.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new oe.MathNode("mpadded",[gt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});be({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:i}=t,s=n[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:s}},htmlBuilder(t,e){var n=nt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ee.wrapFragment(n,e);var i=e.fontMetrics(),s=i.defaultRuleThickness,a=s;e.style.id<Oe.TEXT.id&&(a=e.fontMetrics().xHeight);var l=s+a/4,c=n.height+n.depth+l+s,{span:u,ruleWidth:h,advanceWidth:m}=Ls.sqrtImage(c,e),f=u.height-h;f>n.height+n.depth+l&&(l=(l+f-n.height-n.depth)/2);var p=u.height-n.height-l-h;n.style.paddingLeft=fe(m);var v=ee.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:u},{type:"kern",size:h}]},e);if(t.index){var T=e.havingStyle(Oe.SCRIPTSCRIPT),M=nt(t.index,T,e),q=.6*(v.height-v.depth),S=ee.makeVList({positionType:"shift",positionData:-q,children:[{type:"elem",elem:M}]},e),A=ee.makeSpan(["root"],[S]);return ee.makeSpan(["mord","sqrt"],[A,v],e)}else return ee.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(t,e){var{body:n,index:i}=t;return i?new oe.MathNode("mroot",[gt(n,e),gt(i,e)]):new oe.MathNode("msqrt",[gt(n,e)])}});var fy={display:Oe.DISPLAY,text:Oe.TEXT,script:Oe.SCRIPT,scriptscript:Oe.SCRIPTSCRIPT};be({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:i,parser:s}=t,a=s.parseExpression(!0,n),l=i.slice(1,i.length-5);return{type:"styling",mode:s.mode,style:l,body:a}},htmlBuilder(t,e){var n=fy[t.style],i=e.havingStyle(n).withFont("");return bT(t.body,i,e)},mathmlBuilder(t,e){var n=fy[t.style],i=e.havingStyle(n),s=Tr(t.body,i),a=new oe.MathNode("mstyle",s),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var sH=function(e,n){var i=e.base;if(i)if(i.type==="op"){var s=i.limits&&(n.style.size===Oe.DISPLAY.size||i.alwaysHandleSupSub);return s?X0:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(n.style.size===Oe.DISPLAY.size||i.limits);return a?yT:null}else{if(i.type==="accent")return st.isCharacterBox(i.base)?o3:null;if(i.type==="horizBrace"){var l=!e.sub;return l===i.isOver?xT:null}else return null}else return null};So({type:"supsub",htmlBuilder(t,e){var n=sH(t,e);if(n)return n(t,e);var{base:i,sup:s,sub:a}=t,l=nt(i,e),c,u,h=e.fontMetrics(),m=0,f=0,p=i&&st.isCharacterBox(i);if(s){var v=e.havingStyle(e.style.sup());c=nt(s,v,e),p||(m=l.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(a){var T=e.havingStyle(e.style.sub());u=nt(a,T,e),p||(f=l.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var M;e.style===Oe.DISPLAY?M=h.sup1:e.style.cramped?M=h.sup3:M=h.sup2;var q=e.sizeMultiplier,S=fe(.5/h.ptPerEm/q),A=null;if(u){var N=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof ui||N)&&(A=fe(-l.italic))}var L;if(c&&u){m=Math.max(m,M,c.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var U=h.defaultRuleThickness,Q=4*U;if(m-c.depth-(u.height-f)<Q){f=Q-(m-c.depth)+u.height;var D=.8*h.xHeight-(m-c.depth);D>0&&(m+=D,f-=D)}var C=[{type:"elem",elem:u,shift:f,marginRight:S,marginLeft:A},{type:"elem",elem:c,shift:-m,marginRight:S}];L=ee.makeVList({positionType:"individualShift",children:C},e)}else if(u){f=Math.max(f,h.sub1,u.height-.8*h.xHeight);var z=[{type:"elem",elem:u,marginLeft:A,marginRight:S}];L=ee.makeVList({positionType:"shift",positionData:f,children:z},e)}else if(c)m=Math.max(m,M,c.depth+.25*h.xHeight),L=ee.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var B=H2(l,"right")||"mord";return ee.makeSpan([B],[l,ee.makeSpan(["msupsub"],[L])],e)},mathmlBuilder(t,e){var n=!1,i,s;t.base&&t.base.type==="horizBrace"&&(s=!!t.sup,s===t.base.isOver&&(n=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[gt(t.base,e)];t.sub&&a.push(gt(t.sub,e)),t.sup&&a.push(gt(t.sup,e));var l;if(n)l=i?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===Oe.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===Oe.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===Oe.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===Oe.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Oe.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Oe.DISPLAY)?l="mover":l="msup"}return new oe.MathNode(l,a)}});So({type:"atom",htmlBuilder(t,e){return ee.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new oe.MathNode("mo",[hi(t.text,t.mode)]);if(t.family==="bin"){var i=a3(t,e);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var jT={mi:"italic",mn:"normal",mtext:"normal"};So({type:"mathord",htmlBuilder(t,e){return ee.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new oe.MathNode("mi",[hi(t.text,t.mode,e)]),i=a3(t,e)||"italic";return i!==jT[n.type]&&n.setAttribute("mathvariant",i),n}});So({type:"textord",htmlBuilder(t,e){return ee.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=hi(t.text,t.mode,e),i=a3(t,e)||"normal",s;return t.mode==="text"?s=new oe.MathNode("mtext",[n]):/[0-9]/.test(t.text)?s=new oe.MathNode("mn",[n]):t.text==="\\prime"?s=new oe.MathNode("mo",[n]):s=new oe.MathNode("mi",[n]),i!==jT[s.type]&&s.setAttribute("mathvariant",i),s}});var Dp={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Rp={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};So({type:"spacing",htmlBuilder(t,e){if(Rp.hasOwnProperty(t.text)){var n=Rp[t.text].className||"";if(t.mode==="text"){var i=ee.makeOrd(t,e,"textord");return i.classes.push(n),i}else return ee.makeSpan(["mspace",n],[ee.mathsym(t.text,t.mode,e)],e)}else{if(Dp.hasOwnProperty(t.text))return ee.makeSpan(["mspace",Dp[t.text]],[],e);throw new de('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Rp.hasOwnProperty(t.text))n=new oe.MathNode("mtext",[new oe.TextNode("")]);else{if(Dp.hasOwnProperty(t.text))return new oe.MathNode("mspace");throw new de('Unknown type of space "'+t.text+'"')}return n}});var py=()=>{var t=new oe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};So({type:"tag",mathmlBuilder(t,e){var n=new oe.MathNode("mtable",[new oe.MathNode("mtr",[py(),new oe.MathNode("mtd",[ul(t.body,e)]),py(),new oe.MathNode("mtd",[ul(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var xy={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},gy={"\\textbf":"textbf","\\textmd":"textmd"},aH={"\\textit":"textit","\\textup":"textup"},vy=(t,e)=>{var n=t.font;if(n){if(xy[n])return e.withTextFontFamily(xy[n]);if(gy[n])return e.withTextFontWeight(gy[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(aH[n])};be({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"text",mode:n.mode,body:rn(s),font:i}},htmlBuilder(t,e){var n=vy(t,e),i=Sn(t.body,n,!0);return ee.makeSpan(["mord","text"],i,n)},mathmlBuilder(t,e){var n=vy(t,e);return ul(t.body,n)}});be({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=nt(t.body,e),i=ee.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,a=ee.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:s},{type:"elem",elem:i},{type:"kern",size:3*s},{type:"elem",elem:n}]},e);return ee.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new oe.MathNode("mo",[new oe.TextNode("")]);n.setAttribute("stretchy","true");var i=new oe.MathNode("munder",[gt(t.body,e),n]);return i.setAttribute("accentunder","true"),i}});be({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=nt(t.body,e),i=e.fontMetrics().axisHeight,s=.5*(n.height-i-(n.depth+i));return ee.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new oe.MathNode("mpadded",[gt(t.body,e)],["vcenter"])}});be({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new de("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=yy(t),i=[],s=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),i.push(ee.makeSymbol(l,"Typewriter-Regular",t.mode,s,["mord","texttt"]))}return ee.makeSpan(["mord","text"].concat(s.sizingClasses(e)),ee.tryCombineChars(i),s)},mathmlBuilder(t,e){var n=new oe.TextNode(yy(t)),i=new oe.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var yy=t=>t.body.replace(/ /g,t.star?"":""),Pa=Hk,wT=`[ \r
	]`,lH="\\\\[a-zA-Z@]+",oH="\\\\[^\uD800-\uDFFF]",cH="("+lH+")"+wT+"*",uH=`\\\\(
|[ \r	]+
?)[ \r	]*`,K2="[-]",hH=new RegExp(K2+"+$"),dH="("+wT+"+)|"+(uH+"|")+"([!-\\[\\]---]"+(K2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(K2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+cH)+("|"+oH+")");let by=class{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(dH,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new zi("EOF",new Yr(this,n,n));var i=this.tokenRegex.exec(e);if(i===null||i.index!==n)throw new de("Unexpected character: '"+e[n]+"'",new zi(e[n],new Yr(this,n,n+1)));var s=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[s]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new zi(s,new Yr(this,n,this.tokenRegex.lastIndex))}},mH=class{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new de("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,i){if(i===void 0&&(i=!1),i){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}};var fH=hT;R("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});R("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});R("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});R("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});R("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});R("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");R("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var jy={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};R("\\char",function(t){var e=t.popToken(),n,i="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new de("\\char` missing argument");i=e.text.charCodeAt(0)}else n=10;if(n){if(i=jy[e.text],i==null||i>=n)throw new de("Invalid base-"+n+" digit "+e.text);for(var s;(s=jy[t.future().text])!=null&&s<n;)i*=n,i+=s,t.popToken()}return"\\@char{"+i+"}"});var x3=(t,e,n,i)=>{var s=t.consumeArg().tokens;if(s.length!==1)throw new de("\\newcommand's first argument must be a macro name");var a=s[0].text,l=t.isDefined(a);if(l&&!e)throw new de("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new de("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(s=t.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var u="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)u+=h.text,h=t.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new de("Invalid number of arguments: "+u);c=parseInt(u),s=t.consumeArg().tokens}return l&&i||t.macros.set(a,{tokens:s,numArgs:c}),""};R("\\newcommand",t=>x3(t,!1,!0,!1));R("\\renewcommand",t=>x3(t,!0,!1,!1));R("\\providecommand",t=>x3(t,!0,!0,!0));R("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});R("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});R("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Pa[n],St.math[n],St.text[n]),""});R("\\bgroup","{");R("\\egroup","}");R("~","\\nobreakspace");R("\\lq","`");R("\\rq","'");R("\\aa","\\r a");R("\\AA","\\r A");R("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");R("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");R("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");R("","\\mathscr{B}");R("","\\mathscr{E}");R("","\\mathscr{F}");R("","\\mathscr{H}");R("","\\mathscr{I}");R("","\\mathscr{L}");R("","\\mathscr{M}");R("","\\mathscr{R}");R("","\\mathfrak{C}");R("","\\mathfrak{H}");R("","\\mathfrak{Z}");R("\\Bbbk","\\Bbb{k}");R("","\\cdotp");R("\\llap","\\mathllap{\\textrm{#1}}");R("\\rlap","\\mathrlap{\\textrm{#1}}");R("\\clap","\\mathclap{\\textrm{#1}}");R("\\mathstrut","\\vphantom{(}");R("\\underbar","\\underline{\\text{#1}}");R("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');R("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");R("\\ne","\\neq");R("","\\neq");R("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");R("","\\notin");R("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");R("","\\perp");R("","\\mathclose{!\\mkern-0.8mu!}");R("","\\notni");R("","\\ulcorner");R("","\\urcorner");R("","\\llcorner");R("","\\lrcorner");R("","\\copyright");R("","\\textregistered");R("","\\textregistered");R("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');R("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');R("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');R("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');R("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");R("","\\vdots");R("\\varGamma","\\mathit{\\Gamma}");R("\\varDelta","\\mathit{\\Delta}");R("\\varTheta","\\mathit{\\Theta}");R("\\varLambda","\\mathit{\\Lambda}");R("\\varXi","\\mathit{\\Xi}");R("\\varPi","\\mathit{\\Pi}");R("\\varSigma","\\mathit{\\Sigma}");R("\\varUpsilon","\\mathit{\\Upsilon}");R("\\varPhi","\\mathit{\\Phi}");R("\\varPsi","\\mathit{\\Psi}");R("\\varOmega","\\mathit{\\Omega}");R("\\substack","\\begin{subarray}{c}#1\\end{subarray}");R("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");R("\\boxed","\\fbox{$\\displaystyle{#1}$}");R("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");R("\\implies","\\DOTSB\\;\\Longrightarrow\\;");R("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");R("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");R("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var wy={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};R("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in wy?e=wy[n]:(n.slice(0,4)==="\\not"||n in St.math&&["bin","rel"].includes(St.math[n].group))&&(e="\\dotsb"),e});var g3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};R("\\dotso",function(t){var e=t.future().text;return e in g3?"\\ldots\\,":"\\ldots"});R("\\dotsc",function(t){var e=t.future().text;return e in g3&&e!==","?"\\ldots\\,":"\\ldots"});R("\\cdots",function(t){var e=t.future().text;return e in g3?"\\@cdots\\,":"\\@cdots"});R("\\dotsb","\\cdots");R("\\dotsm","\\cdots");R("\\dotsi","\\!\\cdots");R("\\dotsx","\\ldots\\,");R("\\DOTSI","\\relax");R("\\DOTSB","\\relax");R("\\DOTSX","\\relax");R("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");R("\\,","\\tmspace+{3mu}{.1667em}");R("\\thinspace","\\,");R("\\>","\\mskip{4mu}");R("\\:","\\tmspace+{4mu}{.2222em}");R("\\medspace","\\:");R("\\;","\\tmspace+{5mu}{.2777em}");R("\\thickspace","\\;");R("\\!","\\tmspace-{3mu}{.1667em}");R("\\negthinspace","\\!");R("\\negmedspace","\\tmspace-{4mu}{.2222em}");R("\\negthickspace","\\tmspace-{5mu}{.277em}");R("\\enspace","\\kern.5em ");R("\\enskip","\\hskip.5em\\relax");R("\\quad","\\hskip1em\\relax");R("\\qquad","\\hskip2em\\relax");R("\\tag","\\@ifstar\\tag@literal\\tag@paren");R("\\tag@paren","\\tag@literal{({#1})}");R("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new de("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});R("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");R("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");R("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");R("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");R("\\newline","\\\\\\relax");R("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var ST=fe(Ui["Main-Regular"][84][1]-.7*Ui["Main-Regular"][65][1]);R("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+ST+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");R("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+ST+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");R("\\hspace","\\@ifstar\\@hspacer\\@hspace");R("\\@hspace","\\hskip #1\\relax");R("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");R("\\ordinarycolon",":");R("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");R("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');R("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');R("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');R("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');R("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');R("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');R("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');R("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');R("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');R("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');R("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');R("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');R("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');R("","\\dblcolon");R("","\\eqcolon");R("","\\coloneqq");R("","\\eqqcolon");R("","\\Coloneqq");R("\\ratio","\\vcentcolon");R("\\coloncolon","\\dblcolon");R("\\colonequals","\\coloneqq");R("\\coloncolonequals","\\Coloneqq");R("\\equalscolon","\\eqqcolon");R("\\equalscoloncolon","\\Eqqcolon");R("\\colonminus","\\coloneq");R("\\coloncolonminus","\\Coloneq");R("\\minuscolon","\\eqcolon");R("\\minuscoloncolon","\\Eqcolon");R("\\coloncolonapprox","\\Colonapprox");R("\\coloncolonsim","\\Colonsim");R("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");R("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");R("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");R("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");R("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");R("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");R("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");R("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");R("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");R("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");R("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");R("\\ngeqq","\\html@mathml{\\@ngeqq}{}");R("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");R("\\nleqq","\\html@mathml{\\@nleqq}{}");R("\\nleqslant","\\html@mathml{\\@nleqslant}{}");R("\\nshortmid","\\html@mathml{\\@nshortmid}{}");R("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");R("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");R("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");R("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");R("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");R("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");R("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");R("\\imath","\\html@mathml{\\@imath}{}");R("\\jmath","\\html@mathml{\\@jmath}{}");R("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");R("","\\llbracket");R("","\\rrbracket");R("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");R("","\\lBrace");R("","\\rBrace");R("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");R("","\\minuso");R("\\darr","\\downarrow");R("\\dArr","\\Downarrow");R("\\Darr","\\Downarrow");R("\\lang","\\langle");R("\\rang","\\rangle");R("\\uarr","\\uparrow");R("\\uArr","\\Uparrow");R("\\Uarr","\\Uparrow");R("\\N","\\mathbb{N}");R("\\R","\\mathbb{R}");R("\\Z","\\mathbb{Z}");R("\\alef","\\aleph");R("\\alefsym","\\aleph");R("\\Alpha","\\mathrm{A}");R("\\Beta","\\mathrm{B}");R("\\bull","\\bullet");R("\\Chi","\\mathrm{X}");R("\\clubs","\\clubsuit");R("\\cnums","\\mathbb{C}");R("\\Complex","\\mathbb{C}");R("\\Dagger","\\ddagger");R("\\diamonds","\\diamondsuit");R("\\empty","\\emptyset");R("\\Epsilon","\\mathrm{E}");R("\\Eta","\\mathrm{H}");R("\\exist","\\exists");R("\\harr","\\leftrightarrow");R("\\hArr","\\Leftrightarrow");R("\\Harr","\\Leftrightarrow");R("\\hearts","\\heartsuit");R("\\image","\\Im");R("\\infin","\\infty");R("\\Iota","\\mathrm{I}");R("\\isin","\\in");R("\\Kappa","\\mathrm{K}");R("\\larr","\\leftarrow");R("\\lArr","\\Leftarrow");R("\\Larr","\\Leftarrow");R("\\lrarr","\\leftrightarrow");R("\\lrArr","\\Leftrightarrow");R("\\Lrarr","\\Leftrightarrow");R("\\Mu","\\mathrm{M}");R("\\natnums","\\mathbb{N}");R("\\Nu","\\mathrm{N}");R("\\Omicron","\\mathrm{O}");R("\\plusmn","\\pm");R("\\rarr","\\rightarrow");R("\\rArr","\\Rightarrow");R("\\Rarr","\\Rightarrow");R("\\real","\\Re");R("\\reals","\\mathbb{R}");R("\\Reals","\\mathbb{R}");R("\\Rho","\\mathrm{P}");R("\\sdot","\\cdot");R("\\sect","\\S");R("\\spades","\\spadesuit");R("\\sub","\\subset");R("\\sube","\\subseteq");R("\\supe","\\supseteq");R("\\Tau","\\mathrm{T}");R("\\thetasym","\\vartheta");R("\\weierp","\\wp");R("\\Zeta","\\mathrm{Z}");R("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");R("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");R("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");R("\\bra","\\mathinner{\\langle{#1}|}");R("\\ket","\\mathinner{|{#1}\\rangle}");R("\\braket","\\mathinner{\\langle{#1}\\rangle}");R("\\Bra","\\left\\langle#1\\right|");R("\\Ket","\\left|#1\\right\\rangle");var kT=t=>e=>{var n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var u=f=>p=>{t&&(p.macros.set("|",l),s.length&&p.macros.set("\\|",c));var v=f;if(!f&&s.length){var T=p.future();T.text==="|"&&(p.popToken(),v=!0)}return{tokens:v?s:i,numArgs:0}};e.macros.set("|",u(!1)),s.length&&e.macros.set("\\|",u(!0));var h=e.consumeArg().tokens,m=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};R("\\bra@ket",kT(!1));R("\\bra@set",kT(!0));R("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");R("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");R("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");R("\\angln","{\\angl n}");R("\\blue","\\textcolor{##6495ed}{#1}");R("\\orange","\\textcolor{##ffa500}{#1}");R("\\pink","\\textcolor{##ff00af}{#1}");R("\\red","\\textcolor{##df0030}{#1}");R("\\green","\\textcolor{##28ae7b}{#1}");R("\\gray","\\textcolor{gray}{#1}");R("\\purple","\\textcolor{##9d38bd}{#1}");R("\\blueA","\\textcolor{##ccfaff}{#1}");R("\\blueB","\\textcolor{##80f6ff}{#1}");R("\\blueC","\\textcolor{##63d9ea}{#1}");R("\\blueD","\\textcolor{##11accd}{#1}");R("\\blueE","\\textcolor{##0c7f99}{#1}");R("\\tealA","\\textcolor{##94fff5}{#1}");R("\\tealB","\\textcolor{##26edd5}{#1}");R("\\tealC","\\textcolor{##01d1c1}{#1}");R("\\tealD","\\textcolor{##01a995}{#1}");R("\\tealE","\\textcolor{##208170}{#1}");R("\\greenA","\\textcolor{##b6ffb0}{#1}");R("\\greenB","\\textcolor{##8af281}{#1}");R("\\greenC","\\textcolor{##74cf70}{#1}");R("\\greenD","\\textcolor{##1fab54}{#1}");R("\\greenE","\\textcolor{##0d923f}{#1}");R("\\goldA","\\textcolor{##ffd0a9}{#1}");R("\\goldB","\\textcolor{##ffbb71}{#1}");R("\\goldC","\\textcolor{##ff9c39}{#1}");R("\\goldD","\\textcolor{##e07d10}{#1}");R("\\goldE","\\textcolor{##a75a05}{#1}");R("\\redA","\\textcolor{##fca9a9}{#1}");R("\\redB","\\textcolor{##ff8482}{#1}");R("\\redC","\\textcolor{##f9685d}{#1}");R("\\redD","\\textcolor{##e84d39}{#1}");R("\\redE","\\textcolor{##bc2612}{#1}");R("\\maroonA","\\textcolor{##ffbde0}{#1}");R("\\maroonB","\\textcolor{##ff92c6}{#1}");R("\\maroonC","\\textcolor{##ed5fa6}{#1}");R("\\maroonD","\\textcolor{##ca337c}{#1}");R("\\maroonE","\\textcolor{##9e034e}{#1}");R("\\purpleA","\\textcolor{##ddd7ff}{#1}");R("\\purpleB","\\textcolor{##c6b9fc}{#1}");R("\\purpleC","\\textcolor{##aa87ff}{#1}");R("\\purpleD","\\textcolor{##7854ab}{#1}");R("\\purpleE","\\textcolor{##543b78}{#1}");R("\\mintA","\\textcolor{##f5f9e8}{#1}");R("\\mintB","\\textcolor{##edf2df}{#1}");R("\\mintC","\\textcolor{##e0e5cc}{#1}");R("\\grayA","\\textcolor{##f6f7f7}{#1}");R("\\grayB","\\textcolor{##f0f1f2}{#1}");R("\\grayC","\\textcolor{##e3e5e6}{#1}");R("\\grayD","\\textcolor{##d6d8da}{#1}");R("\\grayE","\\textcolor{##babec2}{#1}");R("\\grayF","\\textcolor{##888d93}{#1}");R("\\grayG","\\textcolor{##626569}{#1}");R("\\grayH","\\textcolor{##3b3e40}{#1}");R("\\grayI","\\textcolor{##21242c}{#1}");R("\\kaBlue","\\textcolor{##314453}{#1}");R("\\kaGreen","\\textcolor{##71B307}{#1}");var TT={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let pH=class{constructor(e,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new mH(fH,n.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new by(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,i,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:s,end:i}=this.consumeArg(["]"])}else({tokens:s,start:n,end:i}=this.consumeArg());return this.pushToken(new zi("EOF",i.loc)),this.pushTokens(s),new zi("",Yr.range(n,i))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],i=e&&e.length>0;i||this.consumeSpaces();var s=this.future(),a,l=0,c=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new de("Extra }",a)}else if(a.text==="EOF")throw new de("Unexpected end of input in a macro argument, expected '"+(e&&i?e[c]:"}")+"'",a);if(e&&i)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||i);return s.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:s,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new de("The length of delimiters doesn't match the number of args!");for(var i=n[0],s=0;s<i.length;s++){var a=this.popToken();if(i[s]!==a.text)throw new de("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new de("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),i=n.text,s=n.noexpand?null:this._getExpansion(i);if(s==null||e&&s.unexpandable){if(e&&s==null&&i[0]==="\\"&&!this.isDefined(i))throw new de("Undefined control sequence: "+i);return this.pushToken(n),!1}this.countExpansion(1);var a=s.tokens,l=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var u=a[c];if(u.text==="#"){if(c===0)throw new de("Incomplete placeholder at end of macro body",u);if(u=a[--c],u.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(u.text))a.splice(c,2,...l[+u.text-1]);else throw new de("Not a valid argument number",u)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zi(e)]):void 0}expandTokens(e){var n=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),n.push(s)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(i=>i.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var s=typeof n=="function"?n(this):n;if(typeof s=="string"){var a=0;if(s.indexOf("#")!==-1)for(var l=s.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new by(s,this.settings),u=[],h=c.lex();h.text!=="EOF";)u.push(h),h=c.lex();u.reverse();var m={tokens:u,numArgs:a};return m}return s}isDefined(e){return this.macros.has(e)||Pa.hasOwnProperty(e)||St.math.hasOwnProperty(e)||St.text.hasOwnProperty(e)||TT.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Pa.hasOwnProperty(e)&&!Pa[e].primitive}};var Sy=/^[]/,fd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Op={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},ky={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let AT=class NT{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new pH(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new de("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new zi("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(e,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(NT.endOfExpression.indexOf(s.text)!==-1||n&&s.text===n||e&&Pa[s.text]&&Pa[s.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var n=-1,i,s=0;s<e.length;s++)if(e[s].type==="infix"){if(n!==-1)throw new de("only one infix operator per group",e[s].token);n=s,i=e[s].replaceWith}if(n!==-1&&i){var a,l,c=e.slice(0,n),u=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},u.length===1&&u[0].type==="ordgroup"?l=u[0]:l={type:"ordgroup",mode:this.mode,body:u};var h;return i==="\\\\abovefrac"?h=this.callFunction(i,[a,e[n],l],[]):h=this.callFunction(i,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var s;do{var a;s=this.parseGroup(e)}while(((a=s)==null?void 0:a.type)==="internal");if(!s)throw new de("Expected group after '"+i+"'",n);return s}formatUnsupportedCmd(e){for(var n=[],i=0;i<e.length;i++)n.push({type:"textord",mode:"text",text:e[i]});var s={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,s;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new de("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new de("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(s)throw new de("Double subscript",a);s=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new de("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},u=[c];for(this.consume();this.fetch().text==="'";)u.push(c),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:u}}else if(fd[a.text]){var h=Sy.test(a.text),m=[];for(m.push(new zi(fd[a.text])),this.consume();;){var f=this.fetch().text;if(!fd[f]||Sy.test(f)!==h)break;m.unshift(new zi(fd[f])),this.consume()}var p=this.subparse(m);h?s={type:"ordgroup",mode:"math",body:p}:i={type:"ordgroup",mode:"math",body:p}}else break}return i||s?{type:"supsub",mode:this.mode,base:n,sup:i,sub:s}:n}parseFunction(e,n){var i=this.fetch(),s=i.text,a=Pa[s];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new de("Got function '"+s+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!a.allowedInText)throw new de("Can't use function '"+s+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new de("Can't use function '"+s+"' in math mode",i);var{args:l,optArgs:c}=this.parseArguments(s,a);return this.callFunction(s,l,c,i,e)}callFunction(e,n,i,s,a){var l={funcName:e,parser:this,token:s,breakOnTokenText:a},c=Pa[e];if(c&&c.handler)return c.handler(l,n,i);throw new de("No function handler for "+e)}parseArguments(e,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var s=[],a=[],l=0;l<i;l++){var c=n.argTypes&&n.argTypes[l],u=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",c,u);if(u)a.push(h);else if(h!=null)s.push(h);else throw new de("Null argument, please report this as a bug")}return{args:s,optArgs:a}}parseGroupOfType(e,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var s=this.parseArgumentGroup(i,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new de("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new de("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new de("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var s="",a;(a=this.fetch()).text!=="EOF";)s+=a.text,this.consume();return this.consume(),i.text=s,i}parseRegexGroup(e,n){for(var i=this.fetch(),s=i,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)s=l,a+=s.text,this.consume();if(a==="")throw new de("Invalid "+n+": '"+i.text+"'",i);return i.range(s,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var i=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new de("Invalid color: '"+n.text+"'",n);var s=i[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var n,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",i=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!s)throw new de("Invalid size: '"+n.text+"'",n);var a={number:+(s[1]+s[2]),unit:s[3]};if(!Ok(a))throw new de("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,n){var i=this.gullet.scanArgument(e);if(i==null)return null;var s=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return n&&this.switchMode(s),l}parseGroup(e,n){var i=this.fetch(),s=i.text,a;if(s==="{"||s==="\\begingroup"){this.consume();var l=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),u=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:Yr.range(i,u),body:c,semisimple:s==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&s[0]==="\\"&&!TT.hasOwnProperty(s)){if(this.settings.throwOnError)throw new de("Undefined control sequence: "+s,i);a=this.formatUnsupportedCmd(s),this.consume()}return a}formLigatures(e){for(var n=e.length-1,i=0;i<n;++i){var s=e[i],a=s.text;a==="-"&&e[i+1].text==="-"&&(i+1<n&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:Yr.range(s,e[i+2]),text:"---"}),n-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:Yr.range(s,e[i+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:Yr.range(s,e[i+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),s=i.charAt(0)==="*";if(s&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new de(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:s}}ky.hasOwnProperty(n[0])&&!St[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=ky[n[0]]+n.slice(1));var a=hH.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(St[this.mode][n]){this.settings.strict&&this.mode==="math"&&U2.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=St[this.mode][n].group,u=Yr.range(e),h;if(rU.hasOwnProperty(c)){var m=c;h={type:"atom",mode:this.mode,family:m,loc:u,text:n}}else h={type:c,mode:this.mode,loc:u,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Dk(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:Yr.range(e),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var p=a[0][f];if(!Op[p])throw new de("Unknown accent ' "+p+"'",e);var v=Op[p][this.mode]||Op[p].text;if(!v)throw new de("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:Yr.range(e),label:v,isStretchy:!1,isShifty:!0,base:l}}return l}};AT.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var v3=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new AT(e,n);delete i.gullet.macros.current["\\df@tag"];var s=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new de("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:i.subparse([new zi("\\df@tag")])}]}return s},_T=function(e,n,i){n.textContent="";var s=y3(e,i).toNode();n.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),_T=function(){throw new de("KaTeX doesn't work in quirks mode.")});var xH=function(e,n){var i=y3(e,n).toMarkup();return i},gH=function(e,n){var i=new e3(n);return v3(e,i)},ET=function(e,n,i){if(i.throwOnError||!(e instanceof de))throw e;var s=ee.makeSpan(["katex-error"],[new ui(n)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+i.errorColor),s},y3=function(e,n){var i=new e3(n);try{var s=v3(e,i);return AU(s,e,i)}catch(a){return ET(a,e,i)}},vH=function(e,n){var i=new e3(n);try{var s=v3(e,i);return NU(s,e,i)}catch(a){return ET(a,e,i)}},yH="0.16.27",bH={Span:mh,Anchor:r3,SymbolNode:ui,SvgNode:Ws,PathNode:cl,LineNode:F2},Ty={version:yH,render:_T,renderToString:xH,ParseError:de,SETTINGS_SCHEMA:Wd,__parse:gH,__renderToDomTree:y3,__renderToHTMLTree:vH,__setFontMetrics:WF,__defineSymbol:x,__defineFunction:be,__defineMacro:R,__domTree:bH};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:CT,setPrototypeOf:Ay,isFrozen:jH,getPrototypeOf:wH,getOwnPropertyDescriptor:SH}=Object;let{freeze:sr,seal:di,create:W2}=Object,{apply:Y2,construct:X2}=typeof Reflect<"u"&&Reflect;sr||(sr=function(e){return e});di||(di=function(e){return e});Y2||(Y2=function(e,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];return e.apply(n,s)});X2||(X2=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new e(...i)});const pd=ar(Array.prototype.forEach),kH=ar(Array.prototype.lastIndexOf),Ny=ar(Array.prototype.pop),Mc=ar(Array.prototype.push),TH=ar(Array.prototype.splice),Xd=ar(String.prototype.toLowerCase),qp=ar(String.prototype.toString),Ip=ar(String.prototype.match),zc=ar(String.prototype.replace),AH=ar(String.prototype.indexOf),NH=ar(String.prototype.trim),wi=ar(Object.prototype.hasOwnProperty),Wn=ar(RegExp.prototype.test),Dc=_H(TypeError);function ar(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return Y2(t,e,i)}}function _H(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return X2(t,n)}}function Ye(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Xd;Ay&&Ay(t,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const a=n(s);a!==s&&(jH(e)||(e[i]=a),s=a)}t[s]=!0}return t}function EH(t){for(let e=0;e<t.length;e++)wi(t,e)||(t[e]=null);return t}function Ii(t){const e=W2(null);for(const[n,i]of CT(t))wi(t,n)&&(Array.isArray(i)?e[n]=EH(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=Ii(i):e[n]=i);return e}function Rc(t,e){for(;t!==null;){const i=SH(t,e);if(i){if(i.get)return ar(i.get);if(typeof i.value=="function")return ar(i.value)}t=wH(t)}function n(){return null}return n}const _y=sr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lp=sr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bp=sr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),CH=sr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Pp=sr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),MH=sr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ey=sr(["#text"]),Cy=sr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),$p=sr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),My=sr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xd=sr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zH=di(/\{\{[\w\W]*|[\w\W]*\}\}/gm),DH=di(/<%[\w\W]*|[\w\W]*%>/gm),RH=di(/\$\{[\w\W]*/gm),OH=di(/^data-[\-\w.\u00B7-\uFFFF]+$/),qH=di(/^aria-[\-\w]+$/),MT=di(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IH=di(/^(?:\w+script|data):/i),LH=di(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zT=di(/^html$/i),BH=di(/^[a-z][.\w]*(-[.\w]+)+$/i);var zy=Object.freeze({__proto__:null,ARIA_ATTR:qH,ATTR_WHITESPACE:LH,CUSTOM_ELEMENT:BH,DATA_ATTR:OH,DOCTYPE_NAME:zT,ERB_EXPR:DH,IS_ALLOWED_URI:MT,IS_SCRIPT_OR_DATA:IH,MUSTACHE_EXPR:zH,TMPLIT_EXPR:RH});const Oc={element:1,text:3,progressingInstruction:7,comment:8,document:9},PH=function(){return typeof window>"u"?null:window},$H=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const a="dompurify"+(i?"#"+i:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Dy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function DT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PH();const e=Ce=>DT(Ce);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Oc.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,s=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:u,NodeFilter:h,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:v}=t,T=u.prototype,M=Rc(T,"cloneNode"),q=Rc(T,"remove"),S=Rc(T,"nextSibling"),A=Rc(T,"childNodes"),N=Rc(T,"parentNode");if(typeof l=="function"){const Ce=n.createElement("template");Ce.content&&Ce.content.ownerDocument&&(n=Ce.content.ownerDocument)}let L,U="";const{implementation:Q,createNodeIterator:D,createDocumentFragment:C,getElementsByTagName:z}=n,{importNode:B}=i;let P=Dy();e.isSupported=typeof CT=="function"&&typeof N=="function"&&Q&&Q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:F,ERB_EXPR:$,TMPLIT_EXPR:_e,DATA_ATTR:Ee,ARIA_ATTR:le,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:ve,CUSTOM_ELEMENT:Be}=zy;let{IS_ALLOWED_URI:ze}=zy,we=null;const ye=Ye({},[..._y,...Lp,...Bp,...Pp,...Ey]);let Se=null;const ct=Ye({},[...Cy,...$p,...My,...xd]);let Pe=Object.seal(W2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Gn=null,Ht=null;const Vt=Object.seal(W2(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ur=!0,Tn=!0,xi=!1,Oi=!0,hr=!1,Fn=!0,zn=!1,Vr=!1,Nr=!1,An=!1,Dn=!1,aa=!1,rc=!0,wh=!1;const ic="user-content-";let kl=!0,la=!1,Ot={},yt=null;const oa=Ye({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let sc=null;const ac=Ye({},["audio","video","img","source","image","track"]);let lc=null;const ca=Ye({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Tl="http://www.w3.org/1998/Math/MathML",Al="http://www.w3.org/2000/svg",_r="http://www.w3.org/1999/xhtml";let ua=_r,oc=!1,Nl=null;const Sh=Ye({},[Tl,Al,_r],qp);let No=Ye({},["mi","mo","mn","ms","mtext"]),qi=Ye({},["annotation-xml"]);const cc=Ye({},["title","style","font","a","script"]);let us=null;const ha=["application/xhtml+xml","text/html"],kh="text/html";let qt=null,hs=null;const _l=n.createElement("form"),uc=function(W){return W instanceof RegExp||W instanceof Function},pn=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(hs&&hs===W)){if((!W||typeof W!="object")&&(W={}),W=Ii(W),us=ha.indexOf(W.PARSER_MEDIA_TYPE)===-1?kh:W.PARSER_MEDIA_TYPE,qt=us==="application/xhtml+xml"?qp:Xd,we=wi(W,"ALLOWED_TAGS")?Ye({},W.ALLOWED_TAGS,qt):ye,Se=wi(W,"ALLOWED_ATTR")?Ye({},W.ALLOWED_ATTR,qt):ct,Nl=wi(W,"ALLOWED_NAMESPACES")?Ye({},W.ALLOWED_NAMESPACES,qp):Sh,lc=wi(W,"ADD_URI_SAFE_ATTR")?Ye(Ii(ca),W.ADD_URI_SAFE_ATTR,qt):ca,sc=wi(W,"ADD_DATA_URI_TAGS")?Ye(Ii(ac),W.ADD_DATA_URI_TAGS,qt):ac,yt=wi(W,"FORBID_CONTENTS")?Ye({},W.FORBID_CONTENTS,qt):oa,Gn=wi(W,"FORBID_TAGS")?Ye({},W.FORBID_TAGS,qt):Ii({}),Ht=wi(W,"FORBID_ATTR")?Ye({},W.FORBID_ATTR,qt):Ii({}),Ot=wi(W,"USE_PROFILES")?W.USE_PROFILES:!1,ur=W.ALLOW_ARIA_ATTR!==!1,Tn=W.ALLOW_DATA_ATTR!==!1,xi=W.ALLOW_UNKNOWN_PROTOCOLS||!1,Oi=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,hr=W.SAFE_FOR_TEMPLATES||!1,Fn=W.SAFE_FOR_XML!==!1,zn=W.WHOLE_DOCUMENT||!1,An=W.RETURN_DOM||!1,Dn=W.RETURN_DOM_FRAGMENT||!1,aa=W.RETURN_TRUSTED_TYPE||!1,Nr=W.FORCE_BODY||!1,rc=W.SANITIZE_DOM!==!1,wh=W.SANITIZE_NAMED_PROPS||!1,kl=W.KEEP_CONTENT!==!1,la=W.IN_PLACE||!1,ze=W.ALLOWED_URI_REGEXP||MT,ua=W.NAMESPACE||_r,No=W.MATHML_TEXT_INTEGRATION_POINTS||No,qi=W.HTML_INTEGRATION_POINTS||qi,Pe=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&uc(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&uc(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pe.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),hr&&(Tn=!1),Dn&&(An=!0),Ot&&(we=Ye({},Ey),Se=[],Ot.html===!0&&(Ye(we,_y),Ye(Se,Cy)),Ot.svg===!0&&(Ye(we,Lp),Ye(Se,$p),Ye(Se,xd)),Ot.svgFilters===!0&&(Ye(we,Bp),Ye(Se,$p),Ye(Se,xd)),Ot.mathMl===!0&&(Ye(we,Pp),Ye(Se,My),Ye(Se,xd))),W.ADD_TAGS&&(typeof W.ADD_TAGS=="function"?Vt.tagCheck=W.ADD_TAGS:(we===ye&&(we=Ii(we)),Ye(we,W.ADD_TAGS,qt))),W.ADD_ATTR&&(typeof W.ADD_ATTR=="function"?Vt.attributeCheck=W.ADD_ATTR:(Se===ct&&(Se=Ii(Se)),Ye(Se,W.ADD_ATTR,qt))),W.ADD_URI_SAFE_ATTR&&Ye(lc,W.ADD_URI_SAFE_ATTR,qt),W.FORBID_CONTENTS&&(yt===oa&&(yt=Ii(yt)),Ye(yt,W.FORBID_CONTENTS,qt)),W.ADD_FORBID_CONTENTS&&(yt===oa&&(yt=Ii(yt)),Ye(yt,W.ADD_FORBID_CONTENTS,qt)),kl&&(we["#text"]=!0),zn&&Ye(we,["html","head","body"]),we.table&&(Ye(we,["tbody"]),delete Gn.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw Dc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Dc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');L=W.TRUSTED_TYPES_POLICY,U=L.createHTML("")}else L===void 0&&(L=$H(v,s)),L!==null&&typeof U=="string"&&(U=L.createHTML(""));sr&&sr(W),hs=W}},hc=Ye({},[...Lp,...Bp,...CH]),da=Ye({},[...Pp,...MH]),El=function(W){let ue=N(W);(!ue||!ue.tagName)&&(ue={namespaceURI:ua,tagName:"template"});const Ne=Xd(W.tagName),bt=Xd(ue.tagName);return Nl[W.namespaceURI]?W.namespaceURI===Al?ue.namespaceURI===_r?Ne==="svg":ue.namespaceURI===Tl?Ne==="svg"&&(bt==="annotation-xml"||No[bt]):!!hc[Ne]:W.namespaceURI===Tl?ue.namespaceURI===_r?Ne==="math":ue.namespaceURI===Al?Ne==="math"&&qi[bt]:!!da[Ne]:W.namespaceURI===_r?ue.namespaceURI===Al&&!qi[bt]||ue.namespaceURI===Tl&&!No[bt]?!1:!da[Ne]&&(cc[Ne]||!hc[Ne]):!!(us==="application/xhtml+xml"&&Nl[W.namespaceURI]):!1},Gr=function(W){Mc(e.removed,{element:W});try{N(W).removeChild(W)}catch{q(W)}},ds=function(W,ue){try{Mc(e.removed,{attribute:ue.getAttributeNode(W),from:ue})}catch{Mc(e.removed,{attribute:null,from:ue})}if(ue.removeAttribute(W),W==="is")if(An||Dn)try{Gr(ue)}catch{}else try{ue.setAttribute(W,"")}catch{}},ms=function(W){let ue=null,Ne=null;if(Nr)W="<remove></remove>"+W;else{const It=Ip(W,/^[\r\n\t ]+/);Ne=It&&It[0]}us==="application/xhtml+xml"&&ua===_r&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const bt=L?L.createHTML(W):W;if(ua===_r)try{ue=new p().parseFromString(bt,us)}catch{}if(!ue||!ue.documentElement){ue=Q.createDocument(ua,"template",null);try{ue.documentElement.innerHTML=oc?U:bt}catch{}}const en=ue.body||ue.documentElement;return W&&Ne&&en.insertBefore(n.createTextNode(Ne),en.childNodes[0]||null),ua===_r?z.call(ue,zn?"html":"body")[0]:zn?ue.documentElement:en},Th=function(W){return D.call(W.ownerDocument||W,W,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},dc=function(W){return W instanceof f&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof m)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},_o=function(W){return typeof c=="function"&&W instanceof c};function gi(Ce,W,ue){pd(Ce,Ne=>{Ne.call(e,W,ue,hs)})}const Eo=function(W){let ue=null;if(gi(P.beforeSanitizeElements,W,null),dc(W))return Gr(W),!0;const Ne=qt(W.nodeName);if(gi(P.uponSanitizeElement,W,{tagName:Ne,allowedTags:we}),Fn&&W.hasChildNodes()&&!_o(W.firstElementChild)&&Wn(/<[/\w!]/g,W.innerHTML)&&Wn(/<[/\w!]/g,W.textContent)||W.nodeType===Oc.progressingInstruction||Fn&&W.nodeType===Oc.comment&&Wn(/<[/\w]/g,W.data))return Gr(W),!0;if(!(Vt.tagCheck instanceof Function&&Vt.tagCheck(Ne))&&(!we[Ne]||Gn[Ne])){if(!Gn[Ne]&&vi(Ne)&&(Pe.tagNameCheck instanceof RegExp&&Wn(Pe.tagNameCheck,Ne)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(Ne)))return!1;if(kl&&!yt[Ne]){const bt=N(W)||W.parentNode,en=A(W)||W.childNodes;if(en&&bt){const It=en.length;for(let Nn=It-1;Nn>=0;--Nn){const Zn=M(en[Nn],!0);Zn.__removalCount=(W.__removalCount||0)+1,bt.insertBefore(Zn,S(W))}}}return Gr(W),!0}return W instanceof u&&!El(W)||(Ne==="noscript"||Ne==="noembed"||Ne==="noframes")&&Wn(/<\/no(script|embed|frames)/i,W.innerHTML)?(Gr(W),!0):(hr&&W.nodeType===Oc.text&&(ue=W.textContent,pd([F,$,_e],bt=>{ue=zc(ue,bt," ")}),W.textContent!==ue&&(Mc(e.removed,{element:W.cloneNode()}),W.textContent=ue)),gi(P.afterSanitizeElements,W,null),!1)},Cl=function(W,ue,Ne){if(rc&&(ue==="id"||ue==="name")&&(Ne in n||Ne in _l))return!1;if(!(Tn&&!Ht[ue]&&Wn(Ee,ue))){if(!(ur&&Wn(le,ue))){if(!(Vt.attributeCheck instanceof Function&&Vt.attributeCheck(ue,W))){if(!Se[ue]||Ht[ue]){if(!(vi(W)&&(Pe.tagNameCheck instanceof RegExp&&Wn(Pe.tagNameCheck,W)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(W))&&(Pe.attributeNameCheck instanceof RegExp&&Wn(Pe.attributeNameCheck,ue)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(ue,W))||ue==="is"&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&Wn(Pe.tagNameCheck,Ne)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(Ne))))return!1}else if(!lc[ue]){if(!Wn(ze,zc(Ne,ve,""))){if(!((ue==="src"||ue==="xlink:href"||ue==="href")&&W!=="script"&&AH(Ne,"data:")===0&&sc[W])){if(!(xi&&!Wn(me,zc(Ne,ve,"")))){if(Ne)return!1}}}}}}}return!0},vi=function(W){return W!=="annotation-xml"&&Ip(W,Be)},mc=function(W){gi(P.beforeSanitizeAttributes,W,null);const{attributes:ue}=W;if(!ue||dc(W))return;const Ne={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let bt=ue.length;for(;bt--;){const en=ue[bt],{name:It,namespaceURI:Nn,value:Zn}=en,dr=qt(It),Ml=Zn;let xn=It==="value"?Ml:NH(Ml);if(Ne.attrName=dr,Ne.attrValue=xn,Ne.keepAttr=!0,Ne.forceKeepAttr=void 0,gi(P.uponSanitizeAttribute,W,Ne),xn=Ne.attrValue,wh&&(dr==="id"||dr==="name")&&(ds(It,W),xn=ic+xn),Fn&&Wn(/((--!?|])>)|<\/(style|title|textarea)/i,xn)){ds(It,W);continue}if(dr==="attributename"&&Ip(xn,"href")){ds(It,W);continue}if(Ne.forceKeepAttr)continue;if(!Ne.keepAttr){ds(It,W);continue}if(!Oi&&Wn(/\/>/i,xn)){ds(It,W);continue}hr&&pd([F,$,_e],pc=>{xn=zc(xn,pc," ")});const fc=qt(W.nodeName);if(!Cl(fc,dr,xn)){ds(It,W);continue}if(L&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Nn)switch(v.getAttributeType(fc,dr)){case"TrustedHTML":{xn=L.createHTML(xn);break}case"TrustedScriptURL":{xn=L.createScriptURL(xn);break}}if(xn!==Ml)try{Nn?W.setAttributeNS(Nn,It,xn):W.setAttribute(It,xn),dc(W)?Gr(W):Ny(e.removed)}catch{ds(It,W)}}gi(P.afterSanitizeAttributes,W,null)},Ah=function Ce(W){let ue=null;const Ne=Th(W);for(gi(P.beforeSanitizeShadowDOM,W,null);ue=Ne.nextNode();)gi(P.uponSanitizeShadowNode,ue,null),Eo(ue),mc(ue),ue.content instanceof a&&Ce(ue.content);gi(P.afterSanitizeShadowDOM,W,null)};return e.sanitize=function(Ce){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=null,Ne=null,bt=null,en=null;if(oc=!Ce,oc&&(Ce="<!-->"),typeof Ce!="string"&&!_o(Ce))if(typeof Ce.toString=="function"){if(Ce=Ce.toString(),typeof Ce!="string")throw Dc("dirty is not a string, aborting")}else throw Dc("toString is not a function");if(!e.isSupported)return Ce;if(Vr||pn(W),e.removed=[],typeof Ce=="string"&&(la=!1),la){if(Ce.nodeName){const Zn=qt(Ce.nodeName);if(!we[Zn]||Gn[Zn])throw Dc("root node is forbidden and cannot be sanitized in-place")}}else if(Ce instanceof c)ue=ms("<!---->"),Ne=ue.ownerDocument.importNode(Ce,!0),Ne.nodeType===Oc.element&&Ne.nodeName==="BODY"||Ne.nodeName==="HTML"?ue=Ne:ue.appendChild(Ne);else{if(!An&&!hr&&!zn&&Ce.indexOf("<")===-1)return L&&aa?L.createHTML(Ce):Ce;if(ue=ms(Ce),!ue)return An?null:aa?U:""}ue&&Nr&&Gr(ue.firstChild);const It=Th(la?Ce:ue);for(;bt=It.nextNode();)Eo(bt),mc(bt),bt.content instanceof a&&Ah(bt.content);if(la)return Ce;if(An){if(Dn)for(en=C.call(ue.ownerDocument);ue.firstChild;)en.appendChild(ue.firstChild);else en=ue;return(Se.shadowroot||Se.shadowrootmode)&&(en=B.call(i,en,!0)),en}let Nn=zn?ue.outerHTML:ue.innerHTML;return zn&&we["!doctype"]&&ue.ownerDocument&&ue.ownerDocument.doctype&&ue.ownerDocument.doctype.name&&Wn(zT,ue.ownerDocument.doctype.name)&&(Nn="<!DOCTYPE "+ue.ownerDocument.doctype.name+`>
`+Nn),hr&&pd([F,$,_e],Zn=>{Nn=zc(Nn,Zn," ")}),L&&aa?L.createHTML(Nn):Nn},e.setConfig=function(){let Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pn(Ce),Vr=!0},e.clearConfig=function(){hs=null,Vr=!1},e.isValidAttribute=function(Ce,W,ue){hs||pn({});const Ne=qt(Ce),bt=qt(W);return Cl(Ne,bt,ue)},e.addHook=function(Ce,W){typeof W=="function"&&Mc(P[Ce],W)},e.removeHook=function(Ce,W){if(W!==void 0){const ue=kH(P[Ce],W);return ue===-1?void 0:TH(P[Ce],ue,1)[0]}return Ny(P[Ce])},e.removeHooks=function(Ce){P[Ce]=[]},e.removeAllHooks=function(){P=Dy()},e}var FH=DT();function Fp(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function UH(t){if(!t)return[];const e=[];let n=0;const i=[],s=/\$\$([^$]*?)\$\$/g;let a;for(;(a=s.exec(t))!==null;)i.push({type:"display",latex:a[1],start:a.index,end:a.index+a[0].length});const l=/\$([^$]+?)\$/g;let c;for(;(c=l.exec(t))!==null;)i.some(h=>c.index>=h.start&&c.index<h.end)||i.push({type:"inline",latex:c[1],start:c.index,end:c.index+c[0].length});return i.sort((u,h)=>u.start-h.start),i.forEach(u=>{const h=t.slice(n,u.start);h&&e.push({type:"text",content:h}),e.push({type:u.type==="display"?"display-math":"inline-math",content:u.latex}),n=u.end}),n<t.length&&e.push({type:"text",content:t.slice(n)}),e}function HH(t){if(!t)return"";const n=UH(t).map(i=>{if(i.type==="text")return Fp(i.content);if(i.type==="inline-math")try{return Ty.renderToString(i.content,{throwOnError:!1,displayMode:!1})}catch{return Fp(i.content)}else if(i.type==="display-math")try{return Ty.renderToString(i.content,{throwOnError:!1,displayMode:!0})}catch{return Fp(i.content)}return""}).join("");return FH.sanitize(n,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function Up(t){return typeof t=="string"?HH(t):t.map(e=>(e.type==="text",e.content)).join("")}const Ei=rs("Storage"),Q2="magic-internet-math-progress",Hp=2;function RT(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function OT(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const n=e.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=e.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function ef(){if(!RT())return Ei.warn("localStorage is not available"),null;try{const t=localStorage.getItem(Q2);if(!t)return null;const e=JSON.parse(t);return OT(e)?(e.version!==Hp&&(Ei.info(`Migrating state from v${e.version} to v${Hp}`),e.version=Hp),e):(Ei.warn("Invalid gamification state structure in localStorage"),null)}catch(t){Ei.error("Failed to load gamification state:",t);try{localStorage.removeItem(Q2),Ei.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function qT(t){if(!RT()){Ei.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Q2,JSON.stringify(t))}catch(e){Ei.error("Failed to save gamification state:",e)}}const VH=1;function GH(){const t=ef();if(!t){Ei.warn("No progress data to export");return}const e={version:VH,exportedAt:new Date().toISOString(),source:window.location.hostname,state:t},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),Ei.info("Progress exported successfully")}function ZH(t){if(t===null||typeof t!="object")return!1;const e=t;return!(typeof e.version!="number"||typeof e.exportedAt!="string"||typeof e.source!="string"||!OT(e.state))}async function KH(t){return new Promise(e=>{const n=new FileReader;n.onload=i=>{var s;try{const a=(s=i.target)==null?void 0:s.result;if(typeof a!="string"){e({success:!1,message:"Failed to read file"});return}const l=JSON.parse(a);if(!ZH(l)){e({success:!1,message:"Invalid backup file format"});return}const c=ef(),u=(c==null?void 0:c.user.totalXP)??0,h=l.state.user.totalXP;if(u>h){e({success:!1,message:`Current progress (${u} XP) is higher than backup (${h} XP). Import cancelled.`});return}qT(l.state),Ei.info(`Progress imported: ${h} XP from backup dated ${l.exportedAt}`),e({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(a){Ei.error("Failed to parse backup file:",a),e({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{e({success:!1,message:"Failed to read file"})},n.readAsText(t)})}function WH(){const t=ef();return t?{totalXP:t.user.totalXP,level:t.user.level,sectionsCompleted:t.user.sectionsCompleted.length}:null}function IT(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:YH(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:Ak,completed:!1},lastUpdated:t}}function YH(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const XH=50;function Ry(t){return Math.round(t/XH*100)}const QH=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>Ry(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>Ry(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function JH(t){const e=[];for(const n of QH){const i=t.achievements.find(a=>a.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(t)>=n.target&&e.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return e}function tf(t){for(let e=cu.length-1;e>=0;e--)if(t>=cu[e])return e+1;return 1}function eV(t,e){if(e>=cu.length)return 100;const n=cu[e-1],i=cu[e],s=(t-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function LT(t,e){const n={easy:rr.QUIZ_EASY,medium:rr.QUIZ_MEDIUM,hard:rr.QUIZ_HARD}[t];return Math.round(n*(e/100))}const tV=1e3*60*60*24;function nV(t){const e=new Date,n=e.toISOString().split("T")[0],i=t.streak.lastActivityDate;if(t.dailyGoals.date!==n&&(t={...t,dailyGoals:{date:n,xpEarned:0,xpGoal:Ak,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!i)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),a=Math.floor((e.getTime()-s.getTime())/tV);if(a===0)return t;if(a===1){const l=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:l,longestStreak:Math.max(l,t.streak.longestStreak),lastActivityDate:n}}}return a===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:n}}}function BT(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const n=Math.max(...e.map(a=>a.score)),i=e.reduce((a,l)=>a+l.score,0)/e.length;return e.filter(a=>a.score>=100).length>=1||i>=90&&e.length>=3?"mastered":n>=80||i>=70&&e.length>=2?"familiar":"learning"}function rV(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const b3=rs("GamificationReducer");function iV(t,e,n){const i=t.sections[e];if(i!=null&&i.visitedAt)return t;const s=t.user.totalXP+rr.SECTION_VISIT;return{...t,user:{...t.user,totalXP:s,level:tf(s)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+rr.SECTION_VISIT},lastUpdated:n}}function sV(t,e,n){const i=t.sections[e];if(i!=null&&i.completedAt)return t;if(!i)return b3.warn(`Attempted to complete unvisited section: ${e}`),t;const s=t.user.totalXP+rr.SECTION_COMPLETE,a=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:s,level:tf(s),sectionsCompleted:a},sections:{...t.sections,[e]:{...i,completedAt:n,masteryLevel:BT(i)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+rr.SECTION_COMPLETE},lastUpdated:n}}function aV(t,e,n){const{sectionId:i,difficulty:s,score:a,correctAnswers:l,totalQuestions:c}=e,u=t.sections[i];if(!u)return b3.warn(`Section ${i} was not visited before quiz`),t;const h=LT(s,a),m=l===c,f=m?Math.round(h*(1+rr.QUIZ_PERFECT_BONUS)):h,p=t.user.totalXP+f,v={timestamp:n,difficulty:s,score:a,correctAnswers:l,totalQuestions:c,xpEarned:f},T=[...u.quizAttempts,v],M={...u,quizAttempts:T},q=BT(M),S=a>=80&&!u.completedAt,A=S&&!t.user.sectionsCompleted.includes(i),N=A?rr.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:p+N,level:tf(p+N),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:m?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:A?[...t.user.sectionsCompleted,i]:t.user.sectionsCompleted},sections:{...t.sections,[i]:{...M,masteryLevel:q,completedAt:S?u.completedAt||n:u.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+f+N},lastUpdated:n}}function lV(t,e,n,i){const s=t.sections[e];if(s!=null&&s.visualizationsInteracted.includes(n))return t;if(!s)return b3.warn(`Section ${e} was not visited before visualization`),t;const a=t.user.totalXP+rr.VISUALIZATION_USE,l=[...s.visualizationsInteracted,n];return{...t,user:{...t.user,totalXP:a,level:tf(a),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...s,visualizationsInteracted:l}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+rr.VISUALIZATION_USE},lastUpdated:i}}function oV(t,e){const n=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"VISIT_SECTION":return iV(t,e.payload.sectionId,n);case"COMPLETE_SECTION":return sV(t,e.payload.sectionId,n);case"RECORD_QUIZ":return aV(t,e.payload,n);case"USE_VISUALIZATION":return lV(t,e.payload.sectionId,e.payload.name,n);case"UPDATE_STREAK":return nV(t);case"RESET_PROGRESS":return IT();default:return t}}const cV=500,PT=K.createContext(null);function uV({children:t,courseId:e}){const[n,i]=K.useReducer(oV,IT()),[s,a]=K.useState(!0),[l,c]=K.useState([]),u=K.useRef(null),h=K.useCallback(S=>`${e}:${S}`,[e]);K.useEffect(()=>{const S=ef();S&&i({type:"LOAD_STATE",payload:S}),a(!1)},[]),K.useEffect(()=>{s||(qT(n),Zl().requestSync())},[n,s]),K.useEffect(()=>{s||i({type:"UPDATE_STREAK"})},[s]),K.useEffect(()=>{if(!s)return u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{const S=JH(n);S.length>0&&c(A=>[...A,...S])},cV),()=>{u.current&&clearTimeout(u.current)}},[n,s]);const m=K.useCallback(S=>{i({type:"VISIT_SECTION",payload:{sectionId:h(S)}})},[h]),f=K.useCallback(S=>{i({type:"COMPLETE_SECTION",payload:{sectionId:h(S)}})},[h]),p=K.useCallback((S,A,N,L,U)=>{i({type:"RECORD_QUIZ",payload:{sectionId:h(S),difficulty:A,score:N,correctAnswers:L,totalQuestions:U}})},[h]),v=K.useCallback((S,A)=>{i({type:"USE_VISUALIZATION",payload:{sectionId:h(S),name:A}})},[h]),T=K.useCallback(S=>{c(A=>A.filter(N=>N.id!==S))},[]),M=K.useCallback(()=>{i({type:"RESET_PROGRESS"})},[]),q=K.useMemo(()=>({state:n,isLoading:s,notifications:l,visitSection:m,completeSection:f,recordQuiz:p,useVisualization:v,dismissNotification:T,resetProgress:M}),[n,s,l,m,f,p,v,T,M]);return r.jsx(PT.Provider,{value:q,children:t})}function ko(){const t=K.useContext(PT);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}const hV=zu;function dV(t){return`${hV}:${t}`}function mV({children:t}){return r.jsx(uV,{courseId:zu,children:t})}const j3=K.createContext({});function w3(t){const e=K.useRef(null);return e.current===null&&(e.current=t()),e.current}const S3=typeof window<"u",$T=S3?K.useLayoutEffect:K.useEffect,nf=K.createContext(null);function k3(t,e){t.indexOf(e)===-1&&t.push(e)}function T3(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qs=(t,e,n)=>n>e?e:n<t?t:n;let A3=()=>{};const Js={},FT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function UT(t){return typeof t=="object"&&t!==null}const HT=t=>/^0[^.\s]+$/u.test(t);function N3(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,fV=(t,e)=>n=>e(t(n)),ph=(...t)=>t.reduce(fV),Bu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class _3{constructor(){this.subscriptions=[]}add(e){return k3(this.subscriptions,e),()=>T3(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qi=t=>t*1e3,ii=t=>t/1e3;function VT(t,e){return e?t*(1e3/e):0}const GT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pV=1e-7,xV=12;function gV(t,e,n,i,s){let a,l,c=0;do l=e+(n-e)/2,a=GT(l,i,s)-t,a>0?n=l:e=l;while(Math.abs(a)>pV&&++c<xV);return l}function xh(t,e,n,i){if(t===e&&n===i)return oi;const s=a=>gV(a,0,1,t,n);return a=>a===0||a===1?a:GT(s(a),e,i)}const ZT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KT=t=>e=>1-t(1-e),WT=xh(.33,1.53,.69,.99),E3=KT(WT),YT=ZT(E3),XT=t=>(t*=2)<1?.5*E3(t):.5*(2-Math.pow(2,-10*(t-1))),C3=t=>1-Math.sin(Math.acos(t)),QT=KT(C3),JT=ZT(C3),vV=xh(.42,0,1,1),yV=xh(0,0,.58,1),eA=xh(.42,0,.58,1),bV=t=>Array.isArray(t)&&typeof t[0]!="number",tA=t=>Array.isArray(t)&&typeof t[0]=="number",jV={linear:oi,easeIn:vV,easeInOut:eA,easeOut:yV,circIn:C3,circInOut:JT,circOut:QT,backIn:E3,backInOut:YT,backOut:WT,anticipate:XT},wV=t=>typeof t=="string",Oy=t=>{if(tA(t)){A3(t.length===4);const[e,n,i,s]=t;return xh(e,n,i,s)}else if(wV(t))return jV[t];return t},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SV(t,e){let n=new Set,i=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,p=!1)=>{const T=p&&s?n:i;return f&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,a&&(a=!1,h.process(m))}};return h}const kV=40;function nA(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=gd.reduce((N,L)=>(N[L]=SV(a),N),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:m,update:f,preRender:p,render:v,postRender:T}=l,M=()=>{const N=Js.useManualTiming?s.timestamp:performance.now();n=!1,Js.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(N-s.timestamp,kV),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),u.process(s),h.process(s),m.process(s),f.process(s),p.process(s),v.process(s),T.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(M))},q=()=>{n=!0,i=!0,s.isProcessing||t(M)};return{schedule:gd.reduce((N,L)=>{const U=l[L];return N[L]=(Q,D=!1,C=!1)=>(n||q(),U.schedule(Q,D,C)),N},{}),cancel:N=>{for(let L=0;L<gd.length;L++)l[gd[L]].cancel(N)},state:s,steps:l}}const{schedule:Mt,cancel:hl,state:On,steps:Vp}=nA(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Qd;function TV(){Qd=void 0}const br={now:()=>(Qd===void 0&&br.set(On.isProcessing||Js.useManualTiming?On.timestamp:performance.now()),Qd),set:t=>{Qd=t,queueMicrotask(TV)}},rA=t=>e=>typeof e=="string"&&e.startsWith(t),iA=rA("--"),AV=rA("var(--"),M3=t=>AV(t)?NV.test(t.split("/*")[0].trim()):!1,NV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Q0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pu={...Q0,transform:t=>Qs(0,1,t)},vd={...Q0,default:1},hu=t=>Math.round(t*1e5)/1e5,z3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _V(t){return t==null}const EV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,D3=(t,e)=>n=>!!(typeof n=="string"&&EV.test(n)&&n.startsWith(t)||e&&!_V(n)&&Object.prototype.hasOwnProperty.call(n,e)),sA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,a,l,c]=i.match(z3);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},CV=t=>Qs(0,255,t),Gp={...Q0,transform:t=>Math.round(CV(t))},Xl={test:D3("rgb","red"),parse:sA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Gp.transform(t)+", "+Gp.transform(e)+", "+Gp.transform(n)+", "+hu(Pu.transform(i))+")"};function MV(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const J2={test:D3("#"),parse:MV,transform:Xl.transform},gh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wa=gh("deg"),Ji=gh("%"),Ue=gh("px"),zV=gh("vh"),DV=gh("vw"),qy={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},t0={test:D3("hsl","hue"),parse:sA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ji.transform(hu(e))+", "+Ji.transform(hu(n))+", "+hu(Pu.transform(i))+")"},on={test:t=>Xl.test(t)||J2.test(t)||t0.test(t),parse:t=>Xl.test(t)?Xl.parse(t):t0.test(t)?t0.parse(t):J2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xl.transform(t):t0.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},RV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(z3))==null?void 0:e.length)||0)+(((n=t.match(RV))==null?void 0:n.length)||0)>0}const aA="number",lA="color",qV="var",IV="var(",Iy="${}",LV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $u(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(LV,u=>(on.test(u)?(i.color.push(a),s.push(lA),n.push(on.parse(u))):u.startsWith(IV)?(i.var.push(a),s.push(qV),n.push(u)):(i.number.push(a),s.push(aA),n.push(parseFloat(u))),++a,Iy)).split(Iy);return{values:n,split:c,indexes:i,types:s}}function oA(t){return $u(t).values}function cA(t){const{split:e,types:n}=$u(t),i=e.length;return s=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===aA?a+=hu(s[l]):c===lA?a+=on.transform(s[l]):a+=s[l]}return a}}const BV=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function PV(t){const e=oA(t);return cA(t)(e.map(BV))}const dl={test:OV,parse:oA,createTransformer:cA,getAnimatableNone:PV};function Zp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $V({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Zp(u,c,t+1/3),a=Zp(u,c,t),l=Zp(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function n1(t,e){return n=>n>0?e:t}const Ft=(t,e,n)=>t+(e-t)*n,Kp=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},FV=[J2,Xl,t0],UV=t=>FV.find(e=>e.test(t));function Ly(t){const e=UV(t);if(!e)return!1;let n=e.parse(t);return e===t0&&(n=$V(n)),n}const By=(t,e)=>{const n=Ly(t),i=Ly(e);if(!n||!i)return n1(t,e);const s={...n};return a=>(s.red=Kp(n.red,i.red,a),s.green=Kp(n.green,i.green,a),s.blue=Kp(n.blue,i.blue,a),s.alpha=Ft(n.alpha,i.alpha,a),Xl.transform(s))},ex=new Set(["none","hidden"]);function HV(t,e){return ex.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function VV(t,e){return n=>Ft(t,e,n)}function R3(t){return typeof t=="number"?VV:typeof t=="string"?M3(t)?n1:on.test(t)?By:KV:Array.isArray(t)?uA:typeof t=="object"?on.test(t)?By:GV:n1}function uA(t,e){const n=[...t],i=n.length,s=t.map((a,l)=>R3(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=s[l](a);return n}}function GV(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=R3(t[s])(t[s],e[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function ZV(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][i[a]],c=t.values[l]??0;n[s]=c,i[a]++}return n}const KV=(t,e)=>{const n=dl.createTransformer(e),i=$u(t),s=$u(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ex.has(t)&&!s.values.length||ex.has(e)&&!i.values.length?HV(t,e):ph(uA(ZV(i,s),s.values),n):n1(t,e)};function hA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ft(t,e,n):R3(t)(t,e)}const WV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Mt.update(e,n),stop:()=>hl(e),now:()=>On.isProcessing?On.timestamp:br.now()}},dA=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)i+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},r1=2e4;function O3(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<r1;)e+=n,i=t.next(e);return e>=r1?1/0:e}function YV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(O3(i),r1);return{type:"keyframes",ease:a=>i.next(s*a).value/e,duration:ii(s)}}const XV=5;function mA(t,e,n){const i=Math.max(e-XV,0);return VT(n-t(i),e-i)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wp=.001;function QV({duration:t=Wt.duration,bounce:e=Wt.bounce,velocity:n=Wt.velocity,mass:i=Wt.mass}){let s,a,l=1-e;l=Qs(Wt.minDamping,Wt.maxDamping,l),t=Qs(Wt.minDuration,Wt.maxDuration,ii(t)),l<1?(s=h=>{const m=h*l,f=m*t,p=m-n,v=tx(h,l),T=Math.exp(-f);return Wp-p/v*T},a=h=>{const f=h*l*t,p=f*n+n,v=Math.pow(l,2)*Math.pow(h,2)*t,T=Math.exp(-f),M=tx(Math.pow(h,2),l);return(-s(h)+Wp>0?-1:1)*((p-v)*T)/M}):(s=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-Wp+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,u=eG(s,a,c);if(t=Qi(t),isNaN(u))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:t};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:l*2*Math.sqrt(i*h),duration:t}}}const JV=12;function eG(t,e,n){let i=n;for(let s=1;s<JV;s++)i=i-t(i)/e(i);return i}function tx(t,e){return t*Math.sqrt(1-e*e)}const tG=["duration","bounce"],nG=["stiffness","damping","mass"];function Py(t,e){return e.some(n=>t[n]!==void 0)}function rG(t){let e={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...t};if(!Py(t,nG)&&Py(t,tG))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*Qs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Wt.mass,stiffness:s,damping:a}}else{const n=QV(t);e={...e,...n,mass:Wt.mass},e.isResolvedFromDuration=!0}return e}function i1(t=Wt.visualDuration,e=Wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:m,duration:f,velocity:p,isResolvedFromDuration:v}=rG({...n,velocity:-ii(n.velocity||0)}),T=p||0,M=h/(2*Math.sqrt(u*m)),q=l-a,S=ii(Math.sqrt(u/m)),A=Math.abs(q)<5;i||(i=A?Wt.restSpeed.granular:Wt.restSpeed.default),s||(s=A?Wt.restDelta.granular:Wt.restDelta.default);let N;if(M<1){const U=tx(S,M);N=Q=>{const D=Math.exp(-M*S*Q);return l-D*((T+M*S*q)/U*Math.sin(U*Q)+q*Math.cos(U*Q))}}else if(M===1)N=U=>l-Math.exp(-S*U)*(q+(T+S*q)*U);else{const U=S*Math.sqrt(M*M-1);N=Q=>{const D=Math.exp(-M*S*Q),C=Math.min(U*Q,300);return l-D*((T+M*S*q)*Math.sinh(C)+U*q*Math.cosh(C))/U}}const L={calculatedDuration:v&&f||null,next:U=>{const Q=N(U);if(v)c.done=U>=f;else{let D=U===0?T:0;M<1&&(D=U===0?Qi(T):mA(N,U,Q));const C=Math.abs(D)<=i,z=Math.abs(l-Q)<=s;c.done=C&&z}return c.value=c.done?l:Q,c},toString:()=>{const U=Math.min(O3(L),r1),Q=dA(D=>L.next(U*D).value,U,30);return U+"ms "+Q},toTransition:()=>{}};return L}i1.applyToOptions=t=>{const e=YV(t,100,i1);return t.ease=e.ease,t.duration=Qi(e.duration),t.type="keyframes",t};function nx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:m}){const f=t[0],p={done:!1,value:f},v=C=>c!==void 0&&C<c||u!==void 0&&C>u,T=C=>c===void 0?u:u===void 0||Math.abs(c-C)<Math.abs(u-C)?c:u;let M=n*e;const q=f+M,S=l===void 0?q:l(q);S!==q&&(M=S-f);const A=C=>-M*Math.exp(-C/i),N=C=>S+A(C),L=C=>{const z=A(C),B=N(C);p.done=Math.abs(z)<=h,p.value=p.done?S:B};let U,Q;const D=C=>{v(p.value)&&(U=C,Q=i1({keyframes:[p.value,T(p.value)],velocity:mA(N,C,p.value),damping:s,stiffness:a,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let z=!1;return!Q&&U===void 0&&(z=!0,L(C),D(C)),U!==void 0&&C>=U?Q.next(C-U):(!z&&L(C),p)}}}function iG(t,e,n){const i=[],s=n||Js.mix||hA,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||oi:e;c=ph(u,c)}i.push(c)}return i}function sG(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const a=t.length;if(A3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=iG(e,i,s),u=c.length,h=m=>{if(l&&m<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const p=Bu(t[f],t[f+1],m);return c[f](p)};return n?m=>h(Qs(t[0],t[a-1],m)):h}function aG(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=Bu(0,e,i);t.push(Ft(n,1,s))}}function lG(t){const e=[0];return aG(e,t.length-1),e}function oG(t,e){return t.map(n=>n*e)}function cG(t,e){return t.map(()=>e||eA).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=bV(i)?i.map(Oy):Oy(i),a={done:!1,value:e[0]},l=oG(n&&n.length===e.length?n:lG(e),t),c=sG(l,e,{ease:Array.isArray(s)?s:cG(e,s)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const uG=t=>t!==null;function q3(t,{repeat:e,repeatType:n="loop"},i,s=1){const a=t.filter(uG),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const hG={decay:nx,inertia:nx,tween:du,keyframes:du,spring:i1};function fA(t){typeof t.type=="string"&&(t.type=hG[t.type])}class I3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const dG=t=>t/100;class L3 extends I3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==br.now()&&this.tick(br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;fA(e);const{type:n=du,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const u=n||du;u!==du&&typeof c[0]!="number"&&(this.mixKeyframes=ph(dG,hA(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=O3(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:p,repeatDelay:v,type:T,onUpdate:M,finalKeyframe:q}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,L=i;if(f){const C=Math.min(this.currentTime,s)/c;let z=Math.floor(C),B=C%1;!B&&C>=1&&(B=1),B===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(B=1-B,v&&(B-=v/c)):p==="mirror"&&(L=l)),N=Qs(0,1,B)*c}const U=A?{done:!1,value:m[0]}:L.next(N);a&&(U.value=a(U.value));let{done:Q}=U;!A&&u!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return D&&T!==nx&&(U.value=q3(m,this.options,q,this.speed)),M&&M(U.value),D&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){var n;e=Qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(br.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=WV,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function mG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ql=t=>t*180/Math.PI,rx=t=>{const e=Ql(Math.atan2(t[1],t[0]));return ix(e)},fG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rx,rotateZ:rx,skewX:t=>Ql(Math.atan(t[1])),skewY:t=>Ql(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ix=t=>(t=t%360,t<0&&(t+=360),t),$y=rx,Fy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Uy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fy,scaleY:Uy,scale:t=>(Fy(t)+Uy(t))/2,rotateX:t=>ix(Ql(Math.atan2(t[6],t[5]))),rotateY:t=>ix(Ql(Math.atan2(-t[2],t[0]))),rotateZ:$y,rotate:$y,skewX:t=>Ql(Math.atan(t[4])),skewY:t=>Ql(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sx(t){return t.includes("scale")?1:0}function ax(t,e){if(!t||t==="none")return sx(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=pG,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fG,s=c}if(!s)return sx(e);const a=i[e],l=s[1].split(",").map(gG);return typeof a=="function"?a(l):l[a]}const xG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ax(n,e)};function gG(t){return parseFloat(t.trim())}const J0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ec=new Set(J0),Hy=t=>t===Q0||t===Ue,vG=new Set(["x","y","z"]),yG=J0.filter(t=>!vG.has(t));function bG(t){const e=[];return yG.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const io={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ax(e,"x"),y:(t,{transform:e})=>ax(e,"y")};io.translateX=io.x;io.translateY=io.y;const so=new Set;let lx=!1,ox=!1,cx=!1;function pA(){if(ox){const t=Array.from(so).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=bG(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,l])=>{var c;(c=i.getValue(a))==null||c.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ox=!1,lx=!1,so.forEach(t=>t.complete(cx)),so.clear()}function xA(){so.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ox=!0)})}function jG(){cx=!0,xA(),pA(),cx=!1}class B3{constructor(e,n,i,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(so.add(this),lx||(lx=!0,Mt.read(xA),Mt.resolveKeyframes(pA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const c=i.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}mG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),so.delete(this)}cancel(){this.state==="scheduled"&&(so.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wG=t=>t.startsWith("--");function SG(t,e,n){wG(e)?t.style.setProperty(e,n):t.style[e]=n}const kG=N3(()=>window.ScrollTimeline!==void 0),TG={};function AG(t,e){const n=N3(t);return()=>TG[e]??n()}const gA=AG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function vA(t,e){if(t)return typeof t=="function"?gA()?dA(t,e):"ease-out":tA(t)?Hc(t):Array.isArray(t)?t.map(n=>vA(n,e)||Vy.easeOut):Vy[t]}function NG(t,e,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:u}={},h=void 0){const m={[e]:n};u&&(m.offset=u);const f=vA(c,s);Array.isArray(f)&&(m.easing=f);const p={delay:i,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(p.pseudoElement=h),t.animate(m,p)}function yA(t){return typeof t=="function"&&"applyToOptions"in t}function _G({type:t,...e}){return yA(t)&&gA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class EG extends I3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,A3(typeof e.type!="string");const h=_G(e);this.animation=NG(n,i,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=q3(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):SG(n,i,m),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kG()?(this.animation.timeline=e,oi):n(this)}}const bA={anticipate:XT,backInOut:YT,circInOut:JT};function CG(t){return t in bA}function MG(t){typeof t.ease=="string"&&CG(t.ease)&&(t.ease=bA[t.ease])}const Gy=10;class zG extends EG{constructor(e){MG(e),fA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new L3({...l,autoplay:!1}),u=Qi(this.finishedTime??this.time);n.setWithVelocity(c.sample(u-Gy).value,c.sample(u).value,Gy),c.stop()}}const Zy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(dl.test(t)||t==="0")&&!t.startsWith("url("));function DG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RG(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Zy(s,e),c=Zy(a,e);return!l||!c?!1:DG(t)||(n==="spring"||yA(n))&&i}function ux(t){t.duration=0,t.type="keyframes"}const OG=new Set(["opacity","clipPath","filter","transform"]),qG=N3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IG(t){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return qG()&&n&&OG.has(n)&&(n!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&a!==0&&l!=="inertia"}const LG=40;class BG extends I3{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:u,motionValue:h,element:m,...f}){var T;super(),this.stop=()=>{var M,q;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(q=this.keyframeResolver)==null||q.cancel()},this.createdAt=br.now();const p={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:l,name:u,motionValue:h,element:m,...f},v=(m==null?void 0:m.KeyframeResolver)||B3;this.keyframeResolver=new v(c,(M,q,S)=>this.onKeyframesResolved(M,q,p,!S),u,h,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:u,isHandoff:h,onUpdate:m}=i;this.resolvedAt=br.now(),RG(e,a,l,c)||((Js.instantAnimations||!u)&&(m==null||m(q3(e,i,n))),e[0]=e[e.length-1],ux(i),i.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>LG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},v=!h&&IG(p)?new zG({...p,element:p.motionValue.owner.current}):new L3(p);v.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),jG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $G(t){const e=PG.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function jA(t,e,n=1){const[i,s]=$G(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return FT(l)?parseFloat(l):l}return M3(s)?jA(s,e,n+1):s}function P3(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const wA=new Set(["width","height","top","left","right","bottom",...J0]),FG={test:t=>t==="auto",parse:t=>t},SA=t=>e=>e.test(t),kA=[Q0,Ue,Ji,wa,DV,zV,FG],Ky=t=>kA.find(SA(t));function UG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HT(t):!0}const HG=new Set(["brightness","contrast","saturate","opacity"]);function VG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(z3)||[];if(!i)return t;const s=n.replace(i,"");let a=HG.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+s+")"}const GG=/\b([a-z-]*)\(.*?\)/gu,hx={...dl,getAnimatableNone:t=>{const e=t.match(GG);return e?e.map(VG).join(" "):t}},Wy={...Q0,transform:Math.round},ZG={rotate:wa,rotateX:wa,rotateY:wa,rotateZ:wa,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:wa,skewX:wa,skewY:wa,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Pu,originX:qy,originY:qy,originZ:Ue},$3={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...ZG,zIndex:Wy,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:Wy},KG={...$3,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:hx,WebkitFilter:hx},TA=t=>KG[t];function AA(t,e){let n=TA(t);return n!==hx&&(n=dl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WG=new Set(["auto","none","0"]);function YG(t,e,n){let i=0,s;for(;i<t.length&&!s;){const a=t[i];typeof a=="string"&&!WG.has(a)&&$u(a).values.length&&(s=t[i]),i++}if(s&&n)for(const a of e)t[a]=AA(n,s)}class XG extends B3{constructor(e,n,i,s,a){super(e,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),M3(h))){const m=jA(h,n.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!wA.has(i)||e.length!==2)return;const[s,a]=e,l=Ky(s),c=Ky(a);if(l!==c)if(Hy(l)&&Hy(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else io[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||UG(e[s]))&&i.push(s);i.length&&YG(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=io[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,l=i[a];i[a]=io[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function QG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(n==null?void 0:n[t])??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const NA=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function _A(t){return UT(t)&&"offsetHeight"in t}const Yy=30,JG=t=>!isNaN(parseFloat(t));class eZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var a;const s=br.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _3);const i=this.events[e].add(n);return e==="change"?()=>{i(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yy);return VT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function q0(t,e){return new eZ(t,e)}const{schedule:F3}=nA(queueMicrotask,!1),Si={x:!1,y:!1};function EA(){return Si.x||Si.y}function tZ(t){return t==="x"||t==="y"?Si[t]?null:(Si[t]=!0,()=>{Si[t]=!1}):Si.x||Si.y?null:(Si.x=Si.y=!0,()=>{Si.x=Si.y=!1})}function CA(t,e){const n=QG(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function Xy(t){return!(t.pointerType==="touch"||EA())}function nZ(t,e,n={}){const[i,s,a]=CA(t,n),l=c=>{if(!Xy(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const m=f=>{Xy(f)&&(h(f),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,s)};return i.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const MA=(t,e)=>e?t===e?!0:MA(t,e.parentElement):!1,U3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iZ(t){return rZ.has(t.tagName)||t.tabIndex!==-1}const Jd=new WeakSet;function Qy(t){return e=>{e.key==="Enter"&&t(e)}}function Yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const sZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Qy(()=>{if(Jd.has(n))return;Yp(n,"down");const s=Qy(()=>{Yp(n,"up")}),a=()=>Yp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Jy(t){return U3(t)&&!EA()}function aZ(t,e,n={}){const[i,s,a]=CA(t,n),l=c=>{const u=c.currentTarget;if(!Jy(c))return;Jd.add(u);const h=e(u,c),m=(v,T)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Jd.has(u)&&Jd.delete(u),Jy(v)&&typeof h=="function"&&h(v,{success:T})},f=v=>{m(v,u===window||u===document||n.useGlobalTarget||MA(u,v.target))},p=v=>{m(v,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),_A(c)&&(c.addEventListener("focus",h=>sZ(h,s)),!iZ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function zA(t){return UT(t)&&"ownerSVGElement"in t}function lZ(t){return zA(t)&&t.tagName==="svg"}const Vn=t=>!!(t&&t.getVelocity),oZ=[...kA,on,dl],cZ=t=>oZ.find(SA(t)),H3=K.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function eb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function uZ(...t){return e=>{let n=!1;const i=t.map(s=>{const a=eb(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<i.length;s++){const a=i[s];typeof a=="function"?a():eb(t[s],null)}}}}function hZ(...t){return K.useCallback(uZ(...t),t)}class dZ extends K.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=_A(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mZ({children:t,isPresent:e,anchorX:n,root:i}){const s=K.useId(),a=K.useRef(null),l=K.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=K.useContext(H3),u=hZ(a,t==null?void 0:t.ref);return K.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:p,right:v}=l.current;if(e||!a.current||!h||!m)return;const T=n==="left"?`left: ${p}`:`right: ${v}`;a.current.dataset.motionPopId=s;const M=document.createElement("style");c&&(M.nonce=c);const q=i??document.head;return q.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${f}px !important;
          }
        `),()=>{q.contains(M)&&q.removeChild(M)}},[e]),r.jsx(dZ,{isPresent:e,childRef:a,sizeRef:l,children:K.cloneElement(t,{ref:u})})}const fZ=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,root:u})=>{const h=w3(pZ),m=K.useId();let f=!0,p=K.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:v=>{h.set(v,!0);for(const T of h.values())if(!T)return;i&&i()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,i]);return a&&f&&(p={...p}),K.useMemo(()=>{h.forEach((v,T)=>h.set(T,!1))},[n]),K.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),l==="popLayout"&&(t=r.jsx(mZ,{isPresent:n,anchorX:c,root:u,children:t})),r.jsx(nf.Provider,{value:p,children:t})};function pZ(){return new Map}function DA(t=!0){const e=K.useContext(nf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,a=K.useId();K.useEffect(()=>{if(t)return s(a)},[t]);const l=K.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const yd=t=>t.key||"";function tb(t){const e=[];return K.Children.forEach(t,n=>{K.isValidElement(n)&&e.push(n)}),e}const Fu=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[h,m]=DA(l),f=K.useMemo(()=>tb(t),[t]),p=l&&!h?[]:f.map(yd),v=K.useRef(!0),T=K.useRef(f),M=w3(()=>new Map),[q,S]=K.useState(f),[A,N]=K.useState(f);$T(()=>{v.current=!1,T.current=f;for(let Q=0;Q<A.length;Q++){const D=yd(A[Q]);p.includes(D)?M.delete(D):M.get(D)!==!0&&M.set(D,!1)}},[A,p.length,p.join("-")]);const L=[];if(f!==q){let Q=[...f];for(let D=0;D<A.length;D++){const C=A[D],z=yd(C);p.includes(z)||(Q.splice(D,0,C),L.push(C))}return a==="wait"&&L.length&&(Q=L),N(tb(Q)),S(f),null}const{forceRender:U}=K.useContext(j3);return r.jsx(r.Fragment,{children:A.map(Q=>{const D=yd(Q),C=l&&!h?!1:f===A||p.includes(D),z=()=>{if(M.has(D))M.set(D,!0);else return;let B=!0;M.forEach(P=>{P||(B=!1)}),B&&(U==null||U(),N(T.current),l&&(m==null||m()),i&&i())};return r.jsx(fZ,{isPresent:C,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:u,onExitComplete:C?void 0:z,anchorX:c,children:Q},D)})})},RA=K.createContext({strict:!1}),nb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},I0={};for(const t in nb)I0[t]={isEnabled:e=>nb[t].some(n=>!!e[n])};function xZ(t){for(const e in t)I0[e]={...I0[e],...t[e]}}const gZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function s1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||gZ.has(t)}let OA=t=>!s1(t);function vZ(t){typeof t=="function"&&(OA=e=>e.startsWith("on")?!s1(e):t(e))}try{vZ(require("@emotion/is-prop-valid").default)}catch{}function yZ(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(OA(s)||n===!0&&s1(s)||!e&&!s1(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const rf=K.createContext({});function sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Uu(t){return typeof t=="string"||Array.isArray(t)}const V3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G3=["initial",...V3];function af(t){return sf(t.animate)||G3.some(e=>Uu(t[e]))}function qA(t){return!!(af(t)||t.variants)}function bZ(t,e){if(af(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(i)?i:void 0}}return t.inherit!==!1?e:{}}function jZ(t){const{initial:e,animate:n}=bZ(t,K.useContext(rf));return K.useMemo(()=>({initial:e,animate:n}),[rb(e),rb(n)])}function rb(t){return Array.isArray(t)?t.join(" "):t}function ib(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=ib(t,e.target.x),i=ib(t,e.target.y);return`${n}% ${i}%`}},wZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=dl.parse(t);if(s.length>5)return i;const a=dl.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=u;const h=Ft(c,u,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}},dx={borderRadius:{...qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qc,borderTopRightRadius:qc,borderBottomLeftRadius:qc,borderBottomRightRadius:qc,boxShadow:wZ};function IA(t,{layout:e,layoutId:n}){return ec.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dx[t]||t==="opacity")}const SZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kZ=J0.length;function TZ(t,e,n){let i="",s=!0;for(let a=0;a<kZ;a++){const l=J0[a],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=NA(c,$3[l]);if(!u){s=!1;const m=SZ[l]||l;i+=`${m}(${h}) `}n&&(e[l]=h)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function Z3(t,e,n){const{style:i,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const u in e){const h=e[u];if(ec.has(u)){l=!0;continue}else if(iA(u)){s[u]=h;continue}else{const m=NA(h,$3[u]);u.startsWith("origin")?(c=!0,a[u]=m):i[u]=m}}if(e.transform||(l||n?i.transform=TZ(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:m=0}=a;i.transformOrigin=`${u} ${h} ${m}`}}const K3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LA(t,e,n){for(const i in e)!Vn(e[i])&&!IA(i,n)&&(t[i]=e[i])}function AZ({transformTemplate:t},e){return K.useMemo(()=>{const n=K3();return Z3(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NZ(t,e){const n=t.style||{},i={};return LA(i,n,t),Object.assign(i,AZ(t,e)),i}function _Z(t,e){const n={},i=NZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const EZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},CZ={offset:"strokeDashoffset",array:"strokeDasharray"};function MZ(t,e,n=1,i=0,s=!0){t.pathLength=1;const a=s?EZ:CZ;t[a.offset]=Ue.transform(-i);const l=Ue.transform(e),c=Ue.transform(n);t[a.array]=`${l} ${c}`}function BA(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,h,m){if(Z3(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),s!==void 0&&MZ(f,s,a,l,!1)}const PA=()=>({...K3(),attrs:{}}),$A=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zZ(t,e,n,i){const s=K.useMemo(()=>{const a=PA();return BA(a,e,$A(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};LA(a,t.style,t),s.style={...a,...s.style}}return s}const DZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function W3(t){return typeof t!="string"||t.includes("-")?!1:!!(DZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function RZ(t,e,n,{latestValues:i},s,a=!1){const c=(W3(t)?zZ:_Z)(e,i,s,t),u=yZ(e,typeof t=="string",a),h=t!==K.Fragment?{...u,...c,ref:n}:{},{children:m}=e,f=K.useMemo(()=>Vn(m)?m.get():m,[m]);return K.createElement(t,{...h,children:f})}function sb(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Y3(t,e,n,i){if(typeof e=="function"){const[s,a]=sb(i);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=sb(i);e=e(n!==void 0?n:t.custom,s,a)}return e}function em(t){return Vn(t)?t.get():t}function OZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:qZ(n,i,s,t),renderState:e()}}function qZ(t,e,n,i){const s={},a=i(t,{});for(const p in a)s[p]=em(a[p]);let{initial:l,animate:c}=t;const u=af(t),h=qA(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const f=m?c:l;if(f&&typeof f!="boolean"&&!sf(f)){const p=Array.isArray(f)?f:[f];for(let v=0;v<p.length;v++){const T=Y3(t,p[v]);if(T){const{transitionEnd:M,transition:q,...S}=T;for(const A in S){let N=S[A];if(Array.isArray(N)){const L=m?N.length-1:0;N=N[L]}N!==null&&(s[A]=N)}for(const A in M)s[A]=M[A]}}}return s}const FA=t=>(e,n)=>{const i=K.useContext(rf),s=K.useContext(nf),a=()=>OZ(t,e,i,s);return n?a():w3(a)};function X3(t,e,n){var a;const{style:i}=t,s={};for(const l in i)(Vn(i[l])||e.style&&Vn(e.style[l])||IA(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(s[l]=i[l]);return s}const IZ=FA({scrapeMotionValuesFromProps:X3,createRenderState:K3});function UA(t,e,n){const i=X3(t,e,n);for(const s in t)if(Vn(t[s])||Vn(e[s])){const a=J0.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=t[s]}return i}const LZ=FA({scrapeMotionValuesFromProps:UA,createRenderState:PA}),BZ=Symbol.for("motionComponentSymbol");function n0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PZ(t,e,n){return K.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):n0(n)&&(n.current=i))},[e])}const Q3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$Z="framerAppearId",HA="data-"+Q3($Z),VA=K.createContext({});function FZ(t,e,n,i,s){var M,q;const{visualElement:a}=K.useContext(rf),l=K.useContext(RA),c=K.useContext(nf),u=K.useContext(H3).reducedMotion,h=K.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=K.useContext(VA);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&UZ(h.current,n,s,f);const p=K.useRef(!1);K.useInsertionEffect(()=>{m&&p.current&&m.update(n,c)});const v=n[HA],T=K.useRef(!!v&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,v))&&((q=window.MotionHasOptimisedAnimation)==null?void 0:q.call(window,v)));return $T(()=>{m&&(p.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),K.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),T.current=!1),m.enteringChildren=void 0)}),m}function UZ(t,e,n,i){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GA(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&n0(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:u,layoutRoot:h})}function GA(t){if(t)return t.options.allowProjection!==!1?t.projection:GA(t.parent)}function Xp(t,{forwardMotionProps:e=!1}={},n,i){n&&xZ(n);const s=W3(t)?LZ:IZ;function a(c,u){let h;const m={...K.useContext(H3),...c,layoutId:HZ(c)},{isStatic:f}=m,p=jZ(c),v=s(c,f);if(!f&&S3){VZ();const T=GZ(m);h=T.MeasureLayout,p.visualElement=FZ(t,v,m,i,T.ProjectionNode)}return r.jsxs(rf.Provider,{value:p,children:[h&&p.visualElement?r.jsx(h,{visualElement:p.visualElement,...m}):null,RZ(t,c,PZ(v,p.visualElement,u),v,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=K.forwardRef(a);return l[BZ]=t,l}function HZ({layoutId:t}){const e=K.useContext(j3).id;return e&&t!==void 0?e+"-"+t:t}function VZ(t,e){K.useContext(RA).strict}function GZ(t){const{drag:e,layout:n}=I0;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ZZ(t,e){if(typeof Proxy>"u")return Xp;const n=new Map,i=(a,l)=>Xp(a,l,t,e),s=(a,l)=>i(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?i:(n.has(l)||n.set(l,Xp(l,void 0,t,e)),n.get(l))})}function ZA({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function KZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function WZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Qp(t){return t===void 0||t===1}function mx({scale:t,scaleX:e,scaleY:n}){return!Qp(t)||!Qp(e)||!Qp(n)}function Gl(t){return mx(t)||KA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KA(t){return ab(t.x)||ab(t.y)}function ab(t){return t&&t!=="0%"}function a1(t,e,n){const i=t-n,s=e*i;return n+s}function lb(t,e,n,i,s){return s!==void 0&&(t=a1(t,s,i)),a1(t,n,i)+e}function fx(t,e=0,n=1,i,s){t.min=lb(t.min,e,n,i,s),t.max=lb(t.max,e,n,i,s)}function WA(t,{x:e,y:n}){fx(t.x,e.translate,e.scale,e.originPoint),fx(t.y,n.translate,n.scale,n.originPoint)}const ob=.999999999999,cb=1.0000000000001;function YZ(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&i0(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,WA(t,l)),i&&Gl(a.latestValues)&&i0(t,a.latestValues))}e.x<cb&&e.x>ob&&(e.x=1),e.y<cb&&e.y>ob&&(e.y=1)}function r0(t,e){t.min=t.min+e,t.max=t.max+e}function ub(t,e,n,i,s=.5){const a=Ft(t.min,t.max,s);fx(t,e,n,a,i)}function i0(t,e){ub(t.x,e.x,e.scaleX,e.scale,e.originX),ub(t.y,e.y,e.scaleY,e.scale,e.originY)}function YA(t,e){return ZA(WZ(t.getBoundingClientRect(),e))}function XZ(t,e,n){const i=YA(t,n),{scroll:s}=e;return s&&(r0(i.x,s.offset.x),r0(i.y,s.offset.y)),i}const hb=()=>({translate:0,scale:1,origin:0,originPoint:0}),s0=()=>({x:hb(),y:hb()}),db=()=>({min:0,max:0}),gn=()=>({x:db(),y:db()}),px={current:null},XA={current:!1};function QZ(){if(XA.current=!0,!!S3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=t.matches;t.addEventListener("change",e),e()}else px.current=!1}const JZ=new WeakMap;function eK(t,e,n){for(const i in e){const s=e[i],a=n[i];if(Vn(s))t.addValue(i,s);else if(Vn(a))t.addValue(i,q0(s,{owner:t}));else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,q0(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const mb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tK{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=br.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Mt.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=af(n),this.isVariantNode=qA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const v=f[p];u[p]!==void 0&&Vn(v)&&v.set(u[p])}}mount(e){var n;this.current=e,JZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),XA.current||QZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),hl(this.notifyUpdate),hl(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ec.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in I0){const n=I0[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mb.length;i++){const s=mb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=eK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=q0(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(FT(i)||HT(i))?i=parseFloat(i):!cZ(i)&&dl.test(n)&&(i=AA(e,n)),this.setBaseTarget(e,Vn(i)?i.get():i)),Vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Y3(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _3),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){F3.render(this.render)}}class QA extends tK{constructor(){super(...arguments),this.KeyframeResolver=XG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JA(t,{style:e,vars:n},i,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,i);for(l in n)a.setProperty(l,n[l])}function nK(t){return window.getComputedStyle(t)}class rK extends QA{constructor(){super(...arguments),this.type="html",this.renderInstance=JA}readValueFromInstance(e,n){var i;if(ec.has(n))return(i=this.projection)!=null&&i.isProjecting?sx(n):xG(e,n);{const s=nK(e),a=(iA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YA(e,n)}build(e,n,i){Z3(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return X3(e,n,i)}}const eN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iK(t,e,n,i){JA(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(eN.has(s)?s:Q3(s),e.attrs[s])}class sK extends QA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ec.has(n)){const i=TA(n);return i&&i.default||0}return n=eN.has(n)?n:Q3(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return UA(e,n,i)}build(e,n,i){BA(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){iK(e,n,i,s)}mount(e){this.isSVGTag=$A(e.tagName),super.mount(e)}}const aK=(t,e)=>W3(t)?new sK(e):new rK(e,{allowProjection:t!==K.Fragment});function y0(t,e,n){const i=t.getProps();return Y3(i,e,n!==void 0?n:i.custom,t)}const xx=t=>Array.isArray(t);function lK(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,q0(n))}function oK(t){return xx(t)?t[t.length-1]||0:t}function cK(t,e){const n=y0(t,e);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const l in a){const c=oK(a[l]);lK(t,l,c)}}function uK(t){return!!(Vn(t)&&t.add)}function gx(t,e){const n=t.getValue("willChange");if(uK(n))return n.add(e);if(!n&&Js.WillChange){const i=new Js.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function tN(t){return t.props[HA]}const hK=t=>t!==null;function dK(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(hK),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const mK={type:"spring",stiffness:500,damping:25,restSpeed:10},fK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),pK={type:"keyframes",duration:.8},xK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gK=(t,{keyframes:e})=>e.length>2?pK:ec.has(t)?t.startsWith("scale")?fK(e[1]):mK:xK;function vK({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const J3=(t,e,n,i={},s,a)=>l=>{const c=P3(i,t)||{},u=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Qi(u);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:p=>{e.set(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};vK(c)||Object.assign(m,gK(t,m)),m.duration&&(m.duration=Qi(m.duration)),m.repeatDelay&&(m.repeatDelay=Qi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(ux(m),m.delay===0&&(f=!0)),(Js.instantAnimations||Js.skipAnimations)&&(f=!0,ux(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const p=dK(m.keyframes,c);if(p!==void 0){Mt.update(()=>{m.onUpdate(p),m.onComplete()});return}}return c.isSync?new L3(m):new BG(m)};function yK({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function nN(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;i&&(a=i);const u=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),p=c[m];if(p===void 0||h&&yK(h,m))continue;const v={delay:n,...P3(a||{},m)},T=f.get();if(T!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===T&&!v.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const S=tN(t);if(S){const A=window.MotionHandoffAnimation(S,m,Mt);A!==null&&(v.startTime=A,M=!0)}}gx(t,m),f.start(J3(m,f,p,t.shouldReduceMotion&&wA.has(m)?{type:!1}:v,t,M));const q=f.animation;q&&u.push(q)}return l&&Promise.all(u).then(()=>{Mt.update(()=>{l&&cK(t,l)})}),u}function rN(t,e,n,i=0,s=1){const a=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*i;return typeof n=="function"?n(a,l):s===1?a*i:c-a*i}function vx(t,e,n={}){var u;const i=y0(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(nN(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:p}=s;return bK(t,e,h,m,f,p,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,m]=c==="beforeChildren"?[a,l]:[l,a];return h().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function bK(t,e,n=0,i=0,s=0,a=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(vx(u,e,{...l,delay:n+(typeof i=="function"?0:i)+rN(t.variantChildren,u,i,s,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function jK(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(a=>vx(t,a,n));i=Promise.all(s)}else if(typeof e=="string")i=vx(t,e,n);else{const s=typeof e=="function"?y0(t,e,n.custom):e;i=Promise.all(nN(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function iN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const wK=G3.length;function sN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?sN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wK;n++){const i=G3[n],s=t.props[i];(Uu(s)||s===!1)&&(e[i]=s)}return e}const SK=[...V3].reverse(),kK=V3.length;function TK(t){return e=>Promise.all(e.map(({animation:n,options:i})=>jK(t,n,i)))}function AK(t){let e=TK(t),n=fb(),i=!0;const s=u=>(h,m)=>{var p;const f=y0(t,m,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:v,transitionEnd:T,...M}=f;h={...h,...M,...T}}return h};function a(u){e=u(t)}function l(u){const{props:h}=t,m=sN(t.parent)||{},f=[],p=new Set;let v={},T=1/0;for(let q=0;q<kK;q++){const S=SK[q],A=n[S],N=h[S]!==void 0?h[S]:m[S],L=Uu(N),U=S===u?A.isActive:null;U===!1&&(T=q);let Q=N===m[S]&&N!==h[S]&&L;if(Q&&i&&t.manuallyAnimateOnMount&&(Q=!1),A.protectedKeys={...v},!A.isActive&&U===null||!N&&!A.prevProp||sf(N)||typeof N=="boolean")continue;const D=NK(A.prevProp,N);let C=D||S===u&&A.isActive&&!Q&&L||q>T&&L,z=!1;const B=Array.isArray(N)?N:[N];let P=B.reduce(s(S),{});U===!1&&(P={});const{prevResolvedValues:F={}}=A,$={...F,...P},_e=me=>{C=!0,p.has(me)&&(z=!0,p.delete(me)),A.needsAnimating[me]=!0;const ve=t.getValue(me);ve&&(ve.liveStyle=!1)};for(const me in $){const ve=P[me],Be=F[me];if(v.hasOwnProperty(me))continue;let ze=!1;xx(ve)&&xx(Be)?ze=!iN(ve,Be):ze=ve!==Be,ze?ve!=null?_e(me):p.add(me):ve!==void 0&&p.has(me)?_e(me):A.protectedKeys[me]=!0}A.prevProp=N,A.prevResolvedValues=P,A.isActive&&(v={...v,...P}),i&&t.blockInitialAnimation&&(C=!1);const Ee=Q&&D;C&&(!Ee||z)&&f.push(...B.map(me=>{const ve={type:S};if(typeof me=="string"&&i&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:Be}=t,ze=y0(Be,me);if(Be.enteringChildren&&ze){const{delayChildren:we}=ze.transition||{};ve.delay=rN(Be.enteringChildren,t,we)}}return{animation:me,options:ve}}))}if(p.size){const q={};if(typeof h.initial!="boolean"){const S=y0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(q.transition=S.transition)}p.forEach(S=>{const A=t.getBaseTarget(S),N=t.getValue(S);N&&(N.liveStyle=!0),q[S]=A??null}),f.push({animation:q})}let M=!!f.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(f):Promise.resolve()}function c(u,h){var f;if(n[u].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var v;return(v=p.animationState)==null?void 0:v.setActive(u,h)}),n[u].isActive=h;const m=l(u);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=fb()}}}function NK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iN(e,t):!1}function Il(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fb(){return{animate:Il(!0),whileInView:Il(),whileHover:Il(),whileTap:Il(),whileDrag:Il(),whileFocus:Il(),exit:Il()}}class wl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _K extends wl{constructor(e){super(e),e.animationState||(e.animationState=AK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let EK=0;class CK extends wl{constructor(){super(...arguments),this.id=EK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const MK={animation:{Feature:_K},exit:{Feature:CK}};function Hu(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function vh(t){return{point:{x:t.pageX,y:t.pageY}}}const zK=t=>e=>U3(e)&&t(e,vh(e));function mu(t,e,n,i){return Hu(t,e,zK(n),i)}const aN=1e-4,DK=1-aN,RK=1+aN,lN=.01,OK=0-lN,qK=0+lN;function tr(t){return t.max-t.min}function IK(t,e,n){return Math.abs(t-e)<=n}function pb(t,e,n,i=.5){t.origin=i,t.originPoint=Ft(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=Ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=DK&&t.scale<=RK||isNaN(t.scale))&&(t.scale=1),(t.translate>=OK&&t.translate<=qK||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,i){pb(t.x,e.x,n.x,i?i.originX:void 0),pb(t.y,e.y,n.y,i?i.originY:void 0)}function xb(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function LK(t,e,n){xb(t.x,e.x,n.x),xb(t.y,e.y,n.y)}function gb(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function l1(t,e,n){gb(t.x,e.x,n.x),gb(t.y,e.y,n.y)}function Kr(t){return[t("x"),t("y")]}const oN=({current:t})=>t?t.ownerDocument.defaultView:null,vb=(t,e)=>Math.abs(t-e);function BK(t,e){const n=vb(t.x,e.x),i=vb(t.y,e.y);return Math.sqrt(n**2+i**2)}class cN{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=e4(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,T=BK(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!T)return;const{point:M}=p,{timestamp:q}=On;this.history.push({...M,timestamp:q});const{onStart:S,onMove:A}=this.handlers;v||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Jp(v,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:T,onSessionEnd:M,resumeAnimation:q}=this.handlers;if(this.dragSnapToOrigin&&q&&q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=e4(p.type==="pointercancel"?this.lastMoveEventInfo:Jp(v,this.transformPagePoint),this.history);this.startEvent&&T&&T(p,S),M&&M(p,S)},!U3(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=s||window;const c=vh(e),u=Jp(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=On;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=n;f&&f(e,e4(u,this.history)),this.removeListeners=ph(mu(this.contextWindow,"pointermove",this.handlePointerMove),mu(this.contextWindow,"pointerup",this.handlePointerUp),mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hl(this.updatePoint)}}function Jp(t,e){return e?{point:e(t.point)}:t}function yb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function e4({point:t},e){return{point:t,delta:yb(t,uN(e)),offset:yb(t,PK(e)),velocity:$K(e,.1)}}function PK(t){return t[0]}function uN(t){return t[t.length-1]}function $K(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=uN(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>Qi(e)));)n--;if(!i)return{x:0,y:0};const a=ii(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function FK(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ft(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ft(n,t,i.max):Math.min(t,n)),t}function bb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UK(t,{top:e,left:n,bottom:i,right:s}){return{x:bb(t.x,n,s),y:bb(t.y,e,i)}}function jb(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function HK(t,e){return{x:jb(t.x,e.x),y:jb(t.y,e.y)}}function VK(t,e){let n=.5;const i=tr(t),s=tr(e);return s>i?n=Bu(e.min,e.max-i,t.min):i>s&&(n=Bu(t.min,t.max-s,e.min)),Qs(0,1,n)}function GK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yx=.35;function ZK(t=yx){return t===!1?t=0:t===!0&&(t=yx),{x:wb(t,"left","right"),y:wb(t,"top","bottom")}}function wb(t,e,n){return{min:Sb(t,e),max:Sb(t,n)}}function Sb(t,e){return typeof t=="number"?t:t[e]||0}const KK=new WeakMap;class WK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vh(f).point)},l=(f,p)=>{const{drag:v,dragPropagation:T,onDragStart:M}=this.getProps();if(v&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tZ(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kr(S=>{let A=this.getAxisMotionValue(S).get()||0;if(Ji.test(A)){const{projection:N}=this.visualElement;if(N&&N.layout){const L=N.layout.layoutBox[S];L&&(A=tr(L)*(parseFloat(A)/100))}}this.originPoint[S]=A}),M&&Mt.postRender(()=>M(f,p)),gx(this.visualElement,"transform");const{animationState:q}=this.visualElement;q&&q.setActive("whileDrag",!0)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:v,dragDirectionLock:T,onDirectionLock:M,onDrag:q}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=p;if(T&&this.currentDirection===null){this.currentDirection=YK(S),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),q&&q(f,p)},u=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Kr(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new cN(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:oN(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Mt.postRender(()=>c(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!bd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=FK(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&n0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=UK(i.layoutBox,e):this.constraints=!1,this.elastic=ZK(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Kr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GK(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!n0(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=XZ(i,s.root,this.visualElement.getTransformPagePoint());let l=HK(s.layout.layoutBox,a);if(n){const c=n(KZ(l));this.hasMutatedConstraints=!!c,c&&(l=ZA(c))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Kr(m=>{if(!bd(m,n,this.currentDirection))return;let f=u&&u[m]||{};l&&(f={min:0,max:0});const p=s?200:1e6,v=s?40:1e7,T={type:"inertia",velocity:i?e[m]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,T)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return gx(this.visualElement,e),i.start(J3(e,i,0,n,this.visualElement,!1))}stopAnimation(){Kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Kr(n=>{const{drag:i}=this.getProps();if(!bd(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-Ft(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!n0(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();s[l]=VK({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Kr(l=>{if(!bd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Ft(u,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;KK.set(this.visualElement,this);const e=this.visualElement.current,n=mu(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();n0(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mt.read(i);const l=Hu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Kr(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=u[m].translate,f.set(f.get()+u[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=yx,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XK extends wl{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new WK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const kb=t=>(e,n)=>{t&&Mt.postRender(()=>t(e,n))};class QK extends wl{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new cN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:kb(e),onStart:kb(n),onMove:i,onEnd:(a,l)=>{delete this.session,s&&Mt.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=mu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let t4=!1;class JK extends K.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),t4&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),tm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:l}=i;return l&&(l.isPresent=a,t4=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Mt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;t4=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hN(t){const[e,n]=DA(),i=K.useContext(j3);return r.jsx(JK,{...t,layoutGroup:i,switchLayoutGroup:K.useContext(VA),isPresent:e,safeToRemove:n})}function eW(t,e,n){const i=Vn(t)?t:q0(t);return i.start(J3("",i,e,n)),i.animation}const tW=(t,e)=>t.depth-e.depth;class nW{constructor(){this.children=[],this.isDirty=!1}add(e){k3(this.children,e),this.isDirty=!0}remove(e){T3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tW),this.isDirty=!1,this.children.forEach(e)}}function rW(t,e){const n=br.now(),i=({timestamp:s})=>{const a=s-n;a>=e&&(hl(i),t(a-e))};return Mt.setup(i,!0),()=>hl(i)}const dN=["TopLeft","TopRight","BottomLeft","BottomRight"],iW=dN.length,Tb=t=>typeof t=="string"?parseFloat(t):t,Ab=t=>typeof t=="number"||Ue.test(t);function sW(t,e,n,i,s,a){s?(t.opacity=Ft(0,n.opacity??1,aW(i)),t.opacityExit=Ft(e.opacity??1,0,lW(i))):a&&(t.opacity=Ft(e.opacity??1,n.opacity??1,i));for(let l=0;l<iW;l++){const c=`border${dN[l]}Radius`;let u=Nb(e,c),h=Nb(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Ab(u)===Ab(h)?(t[c]=Math.max(Ft(Tb(u),Tb(h),i),0),(Ji.test(h)||Ji.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Ft(e.rotate||0,n.rotate||0,i))}function Nb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const aW=mN(0,.5,QT),lW=mN(.5,.95,oi);function mN(t,e,n){return i=>i<t?0:i>e?1:n(Bu(t,e,i))}function _b(t,e){t.min=e.min,t.max=e.max}function ji(t,e){_b(t.x,e.x),_b(t.y,e.y)}function Eb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cb(t,e,n,i,s){return t-=e,t=a1(t,1/n,i),s!==void 0&&(t=a1(t,1/s,i)),t}function oW(t,e=0,n=1,i=.5,s,a=t,l=t){if(Ji.test(e)&&(e=parseFloat(e),e=Ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ft(a.min,a.max,i);t===a&&(c-=e),t.min=Cb(t.min,e,n,c,s),t.max=Cb(t.max,e,n,c,s)}function Mb(t,e,[n,i,s],a,l){oW(t,e[n],e[i],e[s],e.scale,a,l)}const cW=["x","scaleX","originX"],uW=["y","scaleY","originY"];function zb(t,e,n,i){Mb(t.x,e,cW,n?n.x:void 0,i?i.x:void 0),Mb(t.y,e,uW,n?n.y:void 0,i?i.y:void 0)}function Db(t){return t.translate===0&&t.scale===1}function fN(t){return Db(t.x)&&Db(t.y)}function Rb(t,e){return t.min===e.min&&t.max===e.max}function hW(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Ob(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pN(t,e){return Ob(t.x,e.x)&&Ob(t.y,e.y)}function qb(t){return tr(t.x)/tr(t.y)}function Ib(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dW{constructor(){this.members=[]}add(e){k3(this.members,e),e.scheduleRender()}remove(e){if(T3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mW(t,e,n){let i="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(i=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:p,skewX:v,skewY:T}=n;h&&(i=`perspective(${h}px) ${i}`),m&&(i+=`rotate(${m}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),v&&(i+=`skewX(${v}deg) `),T&&(i+=`skewY(${T}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const n4=["","X","Y","Z"],fW=1e3;let pW=0;function r4(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function xN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mt,!(s||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&xN(i)}function gN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=pW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vW),this.nodes.forEach(wW),this.nodes.forEach(SW),this.nodes.forEach(yW)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nW)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new _3),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=zA(l)&&!lZ(l),this.instance=l;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const p=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{f=window.innerWidth}),t(l,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,m&&m(),m=rW(p,250),tm.hasAnimatedSinceResize&&(tm.hasAnimatedSinceResize=!1,this.nodes.forEach(Pb)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||_W,{onLayoutAnimationStart:M,onLayoutAnimationComplete:q}=h.getProps(),S=!this.targetLayout||!pN(this.targetLayout,v),A=!f&&p;if(this.options.layoutRoot||this.resumeFrom||A||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...P3(T,"layout"),onPlay:M,onComplete:q};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,A)}else f||Pb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kW),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Bb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jW),this.nodes.forEach(xW),this.nodes.forEach(gW)):this.nodes.forEach(Bb),this.clearAllSnapshots();const c=br.now();On.delta=Qs(0,1e3/60,c-On.timestamp),On.timestamp=c,On.isProcessing=!0,Vp.update.process(On),Vp.preRender.process(On),Vp.render.process(On),On.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bW),this.sharedNodes.forEach(TW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tr(this.snapshot.measuredBox.x)&&!tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!fN(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Gl(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),EW(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return gn();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(CW))){const{scroll:m}=this.root;m&&(r0(c.x,m.offset.x),r0(c.y,m.offset.y))}return c}removeElementScroll(l){var u;const c=gn();if(ji(c,l),(u=this.scroll)!=null&&u.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:p}=m;m!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&ji(c,l),r0(c.x,f.offset.x),r0(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const u=gn();ji(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&i0(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gl(m.latestValues)&&i0(u,m.latestValues)}return Gl(this.latestValues)&&i0(u,this.latestValues),u}removeTransform(l){const c=gn();ji(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Gl(h.latestValues))continue;mx(h.latestValues)&&h.updateSnapshot();const m=gn(),f=h.measurePageBox();ji(m,f),zb(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Gl(this.latestValues)&&zb(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==On.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=On.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),WA(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mx(this.parent.latestValues)||KA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,u){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),l1(this.relativeTargetOrigin,c,u),ji(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===On.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;ji(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;YZ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gn());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Eb(this.prevProjectionDelta.x,this.projectionDelta.x),Eb(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Ib(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ib(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=s0(),this.projectionDelta=s0(),this.projectionDeltaWithTransform=s0()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},f=s0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const p=gn(),v=u?u.source:void 0,T=this.layout?this.layout.source:void 0,M=v!==T,q=this.getStack(),S=!q||q.members.length<=1,A=!!(M&&!S&&this.options.crossfade===!0&&!this.path.some(NW));this.animationProgress=0;let N;this.mixTargetDelta=L=>{const U=L/1e3;$b(f.x,l.x,U),$b(f.y,l.y,U),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(l1(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AW(this.relativeTarget,this.relativeTargetOrigin,p,U),N&&hW(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=gn()),ji(N,this.relativeTarget)),M&&(this.animationValues=m,sW(m,h,this.latestValues,U,A,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,u,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(),this.pendingAnimation&&(hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{tm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=q0(0)),this.currentAnimation=eW(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&vN(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||gn();const f=tr(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const p=tr(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+p}ji(c,u),i0(c,m),fu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new dW),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&r4("z",l,h,this.animationValues);for(let m=0;m<n4.length;m++)r4(`rotate${n4[m]}`,l,h,this.animationValues),r4(`skew${n4[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=em(c==null?void 0:c.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=em(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Gl(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=mW(this.projectionDeltaWithTransform,this.treeScale,m);u&&(f=u(m,f)),l.transform=f;const{x:p,y:v}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in dx){if(m[T]===void 0)continue;const{correct:M,applyTo:q,isCSSVariable:S}=dx[T],A=f==="none"?m[T]:M(m[T],h);if(q){const N=q.length;for(let L=0;L<N;L++)l[q[L]]=A}else S?this.options.visualElement.renderState.vars[T]=A:l[T]=A}this.options.layoutId&&(l.pointerEvents=h===this?em(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Lb),this.root.sharedNodes.clear()}}}function xW(t){t.updateLayout()}function gW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Kr(f=>{const p=l?e.measuredBox[f]:e.layoutBox[f],v=tr(p);p.min=i[f].min,p.max=p.min+v}):vN(a,e.layoutBox,i)&&Kr(f=>{const p=l?e.measuredBox[f]:e.layoutBox[f],v=tr(i[f]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const c=s0();fu(c,i,e.layoutBox);const u=s0();l?fu(u,t.applyTransform(s,!0),e.measuredBox):fu(u,i,e.layoutBox);const h=!fN(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:v}=f;if(p&&v){const T=gn();l1(T,e.layoutBox,p.layoutBox);const M=gn();l1(M,i,v.layoutBox),pN(T,M)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function vW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bW(t){t.clearSnapshot()}function Lb(t){t.clearMeasurements()}function Bb(t){t.isLayoutDirty=!1}function jW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Pb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wW(t){t.resolveTargetDelta()}function SW(t){t.calcProjection()}function kW(t){t.resetSkewAndRotation()}function TW(t){t.removeLeadSnapshot()}function $b(t,e,n){t.translate=Ft(e.translate,0,n),t.scale=Ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fb(t,e,n,i){t.min=Ft(e.min,n.min,i),t.max=Ft(e.max,n.max,i)}function AW(t,e,n,i){Fb(t.x,e.x,n.x,i),Fb(t.y,e.y,n.y,i)}function NW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _W={duration:.45,ease:[.4,0,.1,1]},Ub=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Hb=Ub("applewebkit/")&&!Ub("chrome/")?Math.round:oi;function Vb(t){t.min=Hb(t.min),t.max=Hb(t.max)}function EW(t){Vb(t.x),Vb(t.y)}function vN(t,e,n){return t==="position"||t==="preserve-aspect"&&!IK(qb(e),qb(n),.2)}function CW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const MW=gN({attachResizeListener:(t,e)=>Hu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),i4={current:void 0},yN=gN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!i4.current){const t=new MW({});t.mount(window),t.setOptions({layoutScroll:!0}),i4.current=t}return i4.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zW={pan:{Feature:QK},drag:{Feature:XK,ProjectionNode:yN,MeasureLayout:hN}};function Gb(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&Mt.postRender(()=>a(e,vh(e)))}class DW extends wl{mount(){const{current:e}=this.node;e&&(this.unmount=nZ(e,(n,i)=>(Gb(this.node,i,"Start"),s=>Gb(this.node,s,"End"))))}unmount(){}}class RW extends wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ph(Hu(this.node.current,"focus",()=>this.onFocus()),Hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Zb(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&Mt.postRender(()=>a(e,vh(e)))}class OW extends wl{mount(){const{current:e}=this.node;e&&(this.unmount=aZ(e,(n,i)=>(Zb(this.node,i,"Start"),(s,{success:a})=>Zb(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bx=new WeakMap,s4=new WeakMap,qW=t=>{const e=bx.get(t.target);e&&e(t)},IW=t=>{t.forEach(qW)};function LW({root:t,...e}){const n=t||document;s4.has(n)||s4.set(n,{});const i=s4.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(IW,{root:t,...e})),i[s]}function BW(t,e,n){const i=LW(e);return bx.set(t,n),i.observe(t),()=>{bx.delete(t),i.unobserve(t)}}const PW={some:0,all:1};class $W extends wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:PW[s]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),p=h?m:f;p&&p(u)};return BW(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FW(e,n))&&this.startObserver()}unmount(){}}function FW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UW={inView:{Feature:$W},tap:{Feature:OW},focus:{Feature:RW},hover:{Feature:DW}},HW={layout:{ProjectionNode:yN,MeasureLayout:hN}},VW={...MK,...UW,...zW,...HW},Vi=ZZ(VW,aK);function bN({xp:t,level:e,compact:n=!1}){const i=eV(t,e);return n?r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",e]}),r.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-bold text-white",children:e})}),r.jsxs("div",{className:"flex-1 min-w-[80px]",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[r.jsxs("span",{className:"text-dark-400",children:["Level ",e]}),r.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),r.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:r.jsx(Vi.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function jN({streak:t}){return t===0?null:r.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[r.jsx("span",{className:"text-orange-400",children:""}),r.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function GW({level:t,showLabel:e=!1}){const{label:n,color:i,symbol:s}=rV(t);return r.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[r.jsx("span",{className:"text-sm",children:s}),e&&r.jsx("span",{className:"text-xs",children:n})]})}const ZW={progress:"",mastery:"",dedication:"",exploration:""};function KW({notification:t,onDismiss:e}){return K.useEffect(()=>{const n=setTimeout(e,5e3);return()=>clearTimeout(n)},[e]),r.jsx(Vi.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:r.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:ZW[t.category]||""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),r.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),r.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),r.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),r.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function WW(){const{notifications:t,dismissNotification:e}=ko();return r.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:r.jsx(Fu,{mode:"popLayout",children:t.map(n=>r.jsx(KW,{notification:n,onDismiss:()=>e(n.id)},n.id))})})}function YW({onImportSuccess:t}){const[e,n]=K.useState(!1),[i,s]=K.useState(null),[a,l]=K.useState(!1),c=K.useRef(null),u=WH(),h=()=>{GH(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},m=()=>{var p;(p=c.current)==null||p.click()},f=async p=>{var M;const v=(M=p.target.files)==null?void 0:M[0];if(!v)return;l(!0),s(null);const T=await KH(v);l(!1),s({type:T.success?"success":"error",text:T.message}),T.success&&(t==null||t(),setTimeout(()=>{window.location.reload()},1500)),c.current&&(c.current.value="")};return r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>n(!e),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:r.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&r.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[r.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),r.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),r.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:h,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),r.jsxs("button",{onClick:m,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a?"Importing...":"Import Backup"]}),r.jsx("input",{ref:c,type:"file",accept:".json",onChange:f,className:"hidden"})]}),i&&r.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),r.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function e5({onToggleSidebar:t,sidebarOpen:e}){const i=ko();return r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":e?"Close sidebar":"Open sidebar",children:r.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsxs(yn,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[r.jsx("span",{className:"text-2xl",children:Hw}),r.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:zg})]})]}),r.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[r.jsx("a",{href:Vz,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),r.jsx(yn,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),r.jsx(yn,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),r.jsx(yn,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),r.jsx(yn,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[i&&r.jsxs(r.Fragment,{children:[r.jsx(jN,{streak:i.state.streak.currentStreak}),r.jsx(bN,{xp:i.state.user.totalXP,level:i.state.user.level})]}),r.jsx(YW,{})]})]})})}const To=[{id:1,title:"Elementary Number Theory",slug:"elementary-number-theory",sections:[{id:0,title:"Time Estimates for Doing Arithmetic",slug:"time-estimates",description:"Computational complexity of basic arithmetic operations."},{id:1,title:"Divisibility and the Euclidean Algorithm",slug:"divisibility-euclidean",description:"GCD, Euclidean algorithm, and fundamental divisibility properties."},{id:2,title:"Congruences",slug:"congruences",description:"Modular arithmetic, Chinese Remainder Theorem, and applications."},{id:3,title:"Some Applications to Factoring",slug:"factoring-applications",description:"Using number theory for integer factorization."}]},{id:2,title:"Finite Fields and Quadratic Residues",slug:"finite-fields",sections:[{id:4,title:"Finite Fields",slug:"finite-fields-intro",description:"Structure and properties of finite fields."},{id:5,title:"Quadratic Residues and Reciprocity",slug:"quadratic-residues",description:"Legendre symbol, quadratic reciprocity law."}]},{id:3,title:"Classical Cryptography",slug:"classical-cryptography",sections:[{id:6,title:"Some Simple Cryptosystems",slug:"simple-cryptosystems",description:"Shift ciphers, substitution ciphers, and Vigenre cipher."},{id:7,title:"Enciphering Matrices",slug:"enciphering-matrices",description:"Hill cipher and matrix-based encryption."}]},{id:4,title:"Public Key Cryptography",slug:"public-key",sections:[{id:8,title:"The Idea of Public Key Cryptography",slug:"public-key-idea",description:"One-way functions and the revolutionary concept of asymmetric encryption."},{id:9,title:"RSA",slug:"rsa",description:"The RSA cryptosystem: encryption, decryption, and security."},{id:10,title:"Discrete Logarithm",slug:"discrete-log",description:"Discrete log problem, Diffie-Hellman, and ElGamal."},{id:11,title:"Knapsack",slug:"knapsack",description:"Knapsack-based cryptosystems and their security."},{id:12,title:"Zero-Knowledge Proofs",slug:"zero-knowledge",description:"Zero-knowledge protocols and oblivious transfer."}]},{id:5,title:"Primality and Factoring",slug:"primality-factoring",sections:[{id:13,title:"Pseudoprimes",slug:"pseudoprimes",description:"Fermat pseudoprimes, Carmichael numbers, and Miller-Rabin test."},{id:14,title:"The Rho Method",slug:"rho-method",description:"Pollard's rho algorithm for factorization."},{id:15,title:"Fermat Factorization and Factor Bases",slug:"fermat-factorization",description:"Fermat factorization method and smooth numbers."},{id:16,title:"The Continued Fraction Method",slug:"continued-fraction",description:"Using continued fractions for factorization."},{id:17,title:"The Quadratic Sieve Method",slug:"quadratic-sieve",description:"The quadratic sieve factoring algorithm."}]},{id:6,title:"Elliptic Curves",slug:"elliptic-curves",sections:[{id:18,title:"Basic Facts",slug:"elliptic-basics",description:"Definition, group law, and properties of elliptic curves."},{id:19,title:"Elliptic Curve Cryptosystems",slug:"ecc",description:"ECDH, ECDSA, and elliptic curve encryption."},{id:20,title:"Elliptic Curve Primality Test",slug:"ec-primality",description:"Using elliptic curves for primality testing."},{id:21,title:"Elliptic Curve Factorization",slug:"ec-factorization",description:"Lenstra's elliptic curve factorization method."}]}];function wN(t){for(const e of To){const n=e.sections.find(i=>i.id===t);if(n)return n}}function SN(t){return To.find(e=>e.sections.some(n=>n.id===t))}function XW(t){const e=To.flatMap(i=>i.sections),n=e.findIndex(i=>i.id===t);return{prev:n>0?e[n-1]:null,next:n<e.length-1?e[n+1]:null}}function kN(){return To.reduce((t,e)=>t+e.sections.length,0)}function QW(){return To.flatMap(t=>t.sections)}function JW(t){return QW().findIndex(n=>n.id===t)}function t5({isOpen:t,onClose:e}){const[n,i]=K.useState(new Set([1])),a=ko(),l=u=>{i(h=>{const m=new Set(h);return m.has(u)?m.delete(u):m.add(u),m})},c=u=>{var m;if(!a)return"none";const h=`${zu}:${u}`;return((m=a.state.sections[h])==null?void 0:m.masteryLevel)??"none"};return r.jsxs(r.Fragment,{children:[r.jsx(Fu,{children:t&&r.jsx(Vi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),r.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:r.jsxs("nav",{className:"p-4",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),r.jsxs("ul",{className:"space-y-0.5",children:[r.jsx("li",{children:r.jsxs(sp,{to:"/theorems",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[r.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),r.jsx("li",{children:r.jsxs(sp,{to:"/interactive",className:({isActive:u})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[r.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),r.jsx("div",{className:"space-y-2",children:To.map(u=>r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>l(u.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-bold text-primary-400",children:u.id})}),r.jsx("span",{className:"text-sm font-medium text-dark-200",children:u.title})]}),r.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(u.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r.jsx(Fu,{children:n.has(u.id)&&r.jsx(Vi.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:u.sections.map(h=>r.jsx("li",{children:r.jsxs(sp,{to:`/section/${h.id}`,onClick:()=>{window.innerWidth<1024&&e()},className:({isActive:m})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[r.jsx("span",{className:"truncate",children:h.title}),r.jsx(GW,{level:c(h.id)})]})},h.id))})})]},u.id))})]})})]})}function Kb(){const e=ko(),n=kN(),i=e?e.state.user.sectionsCompleted.filter(a=>a.startsWith(zu)).length:0,s=Math.round(i/n*100);return r.jsx("div",{className:"py-8 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("span",{className:"text-6xl mb-4 block",children:Hw}),r.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:zg}),r.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:Hz})]}),e&&r.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),r.jsx(jN,{streak:e.state.streak.currentStreak})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{children:r.jsx(bN,{xp:e.state.user.totalXP,level:e.state.user.level})}),r.jsxs("div",{className:"flex flex-col justify-center",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-dark-400",children:"Course Progress"}),r.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),r.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),r.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),r.jsxs("div",{className:"flex flex-col justify-center items-end",children:[r.jsx("div",{className:"text-2xl font-bold text-dark-100",children:e.state.user.quizzesTaken}),r.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),r.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),r.jsx("div",{className:"space-y-4",children:To.map(a=>r.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:r.jsx("span",{className:"text-lg font-bold text-primary-400",children:a.id})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:a.title}),r.jsxs("p",{className:"text-sm text-dark-400",children:[a.sections.length," sections"]})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:a.sections.map(l=>{const c=`${zu}:${l.id}`,u=e==null?void 0:e.state.user.sectionsCompleted.includes(c);return r.jsxs(yn,{to:`/section/${l.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?r.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):r.jsx("span",{className:"text-xs",children:l.id})}),r.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:l.title})]},l.id)})})]},a.id))})]})})}function eY(){return r.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:r.jsx(jF,{})})}const tY=[{id:1,type:"multiple-choice",question:"What is $x^2$ when $x=3$?",options:["$3$","$6$","$9$","$12$"],correctIndex:2,difficulty:"easy",explanation:"$3^2 = 9$"},{id:2,type:"multiple-choice",question:"Which of the following is a linear function?",options:["$f(x) = x^2$","$f(x) = 2^x$","$f(x) = mx + b$","$f(x) = x/x$"],correctIndex:2,difficulty:"medium",explanation:"A linear function has the form $f(x) = mx + b$ where $m$ and $b$ are constants."},{id:3,type:"numeric",question:"Calculate: $3 \\times 5 + 2$",correctAnswer:17,numericRange:{min:0,max:100,precision:0},difficulty:"easy",explanation:"$3 \\times 5 = 15$, then $15 + 2 = 17$"},{id:4,type:"numeric",question:"What is the value of $\\int_0^1 2x \\, dx$?",correctAnswer:1,numericRange:{min:0,max:100,precision:2},difficulty:"medium",explanation:"$$\\int_0^1 2x \\, dx = x^2 \\Big|_0^1 = 1 - 0 = 1$$"},{id:5,type:"text",question:"What is the name of the function $f(x) = \\log_a(x)$?",correctAnswer:"logarithm",difficulty:"medium",explanation:"A function of the form $f(x) = \\log_a(x)$ is called a logarithm."},{id:6,type:"text",question:"In the equation $y = mx + b$, what letter represents the slope?",correctAnswer:"m",difficulty:"easy",explanation:"The slope is represented by the letter $m$ in the linear equation $y = mx + b$."}],nY=[{id:1,type:"multiple-choice",question:"What is $\\gcd(48, 18)$?",options:["$2$","$3$","$6$","$9$"],correctIndex:2,difficulty:"easy",explanation:"Using Euclidean algorithm: $48 = 2 \\cdot 18 + 12$, $18 = 1 \\cdot 12 + 6$, $12 = 2 \\cdot 6 + 0$. So $\\gcd(48, 18) = 6$."},{id:2,type:"multiple-choice",question:"Which statement about the Euclidean algorithm is TRUE?",options:["It always requires $n$ steps for $n$-digit numbers","The number of steps is at most $5$ times the number of digits","It only works for prime numbers","It requires factoring both numbers first"],correctIndex:1,difficulty:"medium",explanation:"Lam proved the number of steps is at most $5$ times the number of digits of the smaller number."},{id:3,type:"numeric",question:"If $\\gcd(a, b) = d$, we can write $d = ax + by$ for some integers $x, y$. For $\\gcd(35, 15) = 5$, what is $x$ if $5 = 35x + 15(-2)$?",correctAnswer:1,numericRange:{min:-10,max:10,precision:0},difficulty:"medium",explanation:"$35(1) + 15(-2) = 35 - 30 = 5$, so $x = 1$."},{id:4,type:"multiple-choice",question:"What is the complexity of the Euclidean algorithm for computing $\\gcd(a, b)$?",options:["$O(a + b)$","$O(ab)$","$O(\\log(\\min(a,b)))$ bit operations","$O((\\log a)(\\log b))$ bit operations"],correctIndex:3,difficulty:"hard",explanation:"The Euclidean algorithm takes $O((\\log a)(\\log b))$ bit operations, making it efficient for large numbers."},{id:5,type:"text",question:"What is the name of the identity that expresses $\\gcd(a,b)$ as a linear combination $ax + by$?",correctAnswer:"Bezout",difficulty:"medium",explanation:"Bzout's identity states that $\\gcd(a,b) = ax + by$ for some integers $x$ and $y$."}],rY=[{id:1,type:"multiple-choice",question:"What is $17 \\bmod 5$?",options:["$0$","$2$","$3$","$4$"],correctIndex:1,difficulty:"easy",explanation:"$17 = 3 \\cdot 5 + 2$, so $17 \\equiv 2 \\pmod{5}$."},{id:2,type:"multiple-choice",question:"According to Fermat's Little Theorem, if $p$ is prime and $\\gcd(a, p) = 1$, then:",options:["$a^p \\equiv 1 \\pmod{p}$","$a^{p-1} \\equiv 1 \\pmod{p}$","$a^{p+1} \\equiv 1 \\pmod{p}$","$a^{2p} \\equiv 1 \\pmod{p}$"],correctIndex:1,difficulty:"medium",explanation:"Fermat's Little Theorem: $a^{p-1} \\equiv 1 \\pmod{p}$ when $p$ is prime and $\\gcd(a,p) = 1$."},{id:3,type:"numeric",question:"Using Fermat's Little Theorem, what is $2^{10} \\bmod 11$?",correctAnswer:1,numericRange:{min:0,max:10,precision:0},difficulty:"medium",explanation:"Since $11$ is prime and $\\gcd(2,11)=1$, by Fermat's Little Theorem: $2^{10} \\equiv 1 \\pmod{11}$."},{id:4,type:"multiple-choice",question:"What does Euler's theorem generalize?",options:["The Euclidean algorithm","Fermat's Little Theorem","The Chinese Remainder Theorem","Quadratic reciprocity"],correctIndex:1,difficulty:"medium",explanation:"Euler's theorem ($a^{\\phi(n)} \\equiv 1 \\pmod{n}$) generalizes Fermat's Little Theorem to composite moduli."},{id:5,type:"numeric",question:"What is $\\phi(12)$, the Euler totient of 12?",correctAnswer:4,numericRange:{min:1,max:12,precision:0},difficulty:"easy",explanation:"Numbers coprime to 12 in $\\{1,...,11\\}$: 1, 5, 7, 11. So $\\phi(12) = 4$."}],iY=[{id:1,type:"multiple-choice",question:"In the Pollard $p-1$ method, a factor $p$ of $n$ is found when:",options:["$p-1$ is a large prime","$p-1$ has only small prime factors (is smooth)","$p+1$ is smooth","$p$ is a Sophie Germain prime"],correctIndex:1,difficulty:"medium",explanation:"Pollard's $p-1$ method works when $p-1$ is $B$-smooth (all prime factors $\\leq B$)."},{id:2,type:"multiple-choice",question:"What is the Carmichael function $\\lambda(15)$?",options:["$2$","$4$","$6$","$8$"],correctIndex:1,difficulty:"hard",explanation:"$15 = 3 \\cdot 5$, so $\\lambda(15) = \\text{lcm}(\\lambda(3), \\lambda(5)) = \\text{lcm}(2, 4) = 4$."},{id:3,type:"numeric",question:"How many primitive roots exist modulo a prime $p = 7$?",correctAnswer:2,numericRange:{min:0,max:6,precision:0},difficulty:"medium",explanation:"The number of primitive roots mod $p$ is $\\phi(p-1) = \\phi(6) = 2$. They are 3 and 5."},{id:4,type:"multiple-choice",question:"What is a key advantage of the Pollard $p-1$ factoring method?",options:["It always finds factors in polynomial time","It works well when $p-1$ is smooth","It doesn't require any modular arithmetic","It factors any RSA modulus efficiently"],correctIndex:1,difficulty:"easy",explanation:"Pollard's $p-1$ is efficient when one factor $p$ has $p-1$ smooth (many small prime factors)."},{id:5,type:"text",question:"What is the term for a number whose prime factorization contains only small primes?",correctAnswer:"smooth",difficulty:"easy",explanation:"A number is called $B$-smooth if all its prime factors are at most $B$."}],sY=[{id:1,type:"multiple-choice",question:"How many elements are in the finite field $\\mathbb{F}_{27}$?",options:["$26$","$27$","$28$","$81$"],correctIndex:1,difficulty:"easy",explanation:"$\\mathbb{F}_{27}$ has exactly 27 elements. Note that $27 = 3^3$, a prime power."},{id:2,type:"multiple-choice",question:"Which of the following can be the order of a finite field?",options:["$6$","$10$","$16$","$15$"],correctIndex:2,difficulty:"medium",explanation:"Finite fields exist only for prime powers. $16 = 2^4$ is a prime power; 6, 10, 15 are not."},{id:3,type:"numeric",question:"In $\\mathbb{F}_7$, what is $3^{-1}$ (the multiplicative inverse of 3)?",correctAnswer:5,numericRange:{min:1,max:6,precision:0},difficulty:"medium",explanation:"$3 \\cdot 5 = 15 \\equiv 1 \\pmod{7}$, so $3^{-1} = 5$ in $\\mathbb{F}_7$."},{id:4,type:"multiple-choice",question:"What is the multiplicative group $\\mathbb{F}_p^*$ isomorphic to?",options:["The integers mod $p$","A cyclic group of order $p$","A cyclic group of order $p-1$","A cyclic group of order $p+1$"],correctIndex:2,difficulty:"medium",explanation:"$\\mathbb{F}_p^* = \\mathbb{F}_p \\setminus \\{0\\}$ has $p-1$ elements and is cyclic."},{id:5,type:"text",question:"What polynomial is used to construct $\\mathbb{F}_{p^n}$ from $\\mathbb{F}_p$?",correctAnswer:"irreducible",difficulty:"medium",explanation:"$\\mathbb{F}_{p^n}$ is constructed as $\\mathbb{F}_p[x]/(f(x))$ where $f$ is an irreducible polynomial of degree $n$."}],aY=[{id:1,type:"multiple-choice",question:"What is the Legendre symbol $\\left(\\frac{2}{7}\\right)$?",options:["$-1$","$0$","$1$","undefined"],correctIndex:2,difficulty:"medium",explanation:"$2^3 = 8 \\equiv 1 \\pmod{7}$. Since $2^{(7-1)/2} = 2^3 \\equiv 1$, we have $\\left(\\frac{2}{7}\\right) = 1$."},{id:2,type:"multiple-choice",question:"According to quadratic reciprocity, if $p$ and $q$ are distinct odd primes:",options:["$\\left(\\frac{p}{q}\\right) = \\left(\\frac{q}{p}\\right)$ always","$\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{(p-1)(q-1)/4}$","$\\left(\\frac{p}{q}\\right) = -\\left(\\frac{q}{p}\\right)$ always","$\\left(\\frac{p}{q}\\right) = 0$"],correctIndex:1,difficulty:"hard",explanation:"Quadratic reciprocity: $\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2}\\frac{q-1}{2}}$."},{id:3,type:"numeric",question:"How many quadratic residues are there modulo a prime $p = 11$?",correctAnswer:5,numericRange:{min:1,max:10,precision:0},difficulty:"easy",explanation:"For an odd prime $p$, there are exactly $(p-1)/2$ quadratic residues mod $p$. For $p=11$: $(11-1)/2 = 5$."},{id:4,type:"multiple-choice",question:"Is $-1$ a quadratic residue modulo $p$ when $p \\equiv 3 \\pmod{4}$?",options:["Yes, always","No, never","Only when $p$ is a Mersenne prime","Depends on the specific value of $p$"],correctIndex:1,difficulty:"medium",explanation:"$-1$ is a QR mod $p$ iff $p \\equiv 1 \\pmod{4}$. When $p \\equiv 3 \\pmod{4}$, $-1$ is a non-residue."},{id:5,type:"text",question:"What symbol, named after a French mathematician, denotes whether $a$ is a quadratic residue mod $p$?",correctAnswer:"Legendre",difficulty:"easy",explanation:"The Legendre symbol $\\left(\\frac{a}{p}\\right)$ equals $1$ if $a$ is a QR, $-1$ if not, and $0$ if $p|a$."}],lY=[{id:1,type:"multiple-choice",question:'In the Caesar cipher with shift 3, what does "ABC" encrypt to?',options:['"XYZ"','"DEF"','"BCD"','"CDE"'],correctIndex:1,difficulty:"easy",explanation:'Caesar cipher shifts each letter by 3: AD, BE, CF, so "ABC""DEF".'},{id:2,type:"multiple-choice",question:"What type of attack exploits letter frequency patterns in ciphertext?",options:["Brute force attack","Frequency analysis","Man-in-the-middle attack","Side channel attack"],correctIndex:1,difficulty:"easy",explanation:"Frequency analysis uses the fact that letters like E, T, A appear most often in English text."},{id:3,type:"numeric",question:"How many possible keys does a simple substitution cipher have? Express as $n!$ where $n$ is the alphabet size (26).",correctAnswer:26,numericRange:{min:1,max:100,precision:0},difficulty:"medium",explanation:"A substitution cipher permutes the 26-letter alphabet, giving $26!$ possible keys."},{id:4,type:"multiple-choice",question:"The Vigenre cipher is best described as:",options:["A single substitution cipher","Multiple Caesar ciphers with a repeating keyword","A transposition cipher","An asymmetric cipher"],correctIndex:1,difficulty:"medium",explanation:"Vigenre uses a keyword to cycle through multiple Caesar shifts, making frequency analysis harder."},{id:5,type:"text",question:"What is the name of the cipher where each plaintext letter is replaced by a different letter according to a fixed permutation?",correctAnswer:"substitution",difficulty:"easy",explanation:"A substitution cipher replaces each letter with another letter according to a fixed mapping."}],oY=[{id:1,type:"multiple-choice",question:"For a Hill cipher matrix to be valid, it must be:",options:["Symmetric","Orthogonal","Invertible modulo 26","Diagonal"],correctIndex:2,difficulty:"medium",explanation:"The encryption matrix must have $\\gcd(\\det(A), 26) = 1$ to be invertible mod 26."},{id:2,type:"numeric",question:"For a $2 \\times 2$ Hill cipher matrix $A$, if $\\det(A) = 5$, what is $\\det(A)^{-1} \\bmod 26$?",correctAnswer:21,numericRange:{min:0,max:25,precision:0},difficulty:"hard",explanation:"We need $5x \\equiv 1 \\pmod{26}$. Since $5 \\cdot 21 = 105 = 4 \\cdot 26 + 1$, we get $5^{-1} \\equiv 21$."},{id:3,type:"multiple-choice",question:"What is the main advantage of the Hill cipher over simple substitution?",options:["Uses a longer key","Encrypts multiple letters at once, hiding single-letter frequencies","Is computationally faster","Requires no key exchange"],correctIndex:1,difficulty:"medium",explanation:"Hill cipher encrypts letter blocks together, obscuring individual letter frequencies."},{id:4,type:"multiple-choice",question:"The Hill cipher is vulnerable to:",options:["Brute force only","Known-plaintext attack using linear algebra","Frequency analysis of single letters","Dictionary attack"],correctIndex:1,difficulty:"hard",explanation:"With enough plaintext-ciphertext pairs, the encryption matrix can be recovered using linear algebra."},{id:5,type:"text",question:"What mathematical structure does the Hill cipher use for encryption (hint: arrays of numbers)?",correctAnswer:"matrix",difficulty:"easy",explanation:"The Hill cipher uses matrix multiplication: $C = AP \\bmod 26$."}],cY=[{id:1,type:"multiple-choice",question:"What problem does public key cryptography solve?",options:["Making encryption faster","Key distribution without a secure channel","Reducing key size","Preventing brute force attacks"],correctIndex:1,difficulty:"easy",explanation:"Public key crypto allows secure communication without pre-shared secrets."},{id:2,type:"multiple-choice",question:"In a public key system, the encryption key is:",options:["Kept secret by the sender","Kept secret by the receiver","Made public","Shared between sender and receiver"],correctIndex:2,difficulty:"easy",explanation:"The public key is published; anyone can encrypt. Only the private key holder can decrypt."},{id:3,type:"multiple-choice",question:"A trapdoor function is:",options:["Easy to compute in both directions","Hard to compute in both directions","Easy to compute, hard to invert without secret information","Impossible to compute"],correctIndex:2,difficulty:"medium",explanation:"Trapdoor functions are easy to compute but hard to invert unless you know the trapdoor (secret)."},{id:4,type:"multiple-choice",question:"Who published the first public key cryptography paper?",options:["Rivest, Shamir, and Adleman","Diffie and Hellman","Shannon","Turing"],correctIndex:1,difficulty:"medium",explanation:'Diffie and Hellman published "New Directions in Cryptography" in 1976.'},{id:5,type:"text",question:"What type of cryptography uses a pair of keys: one public and one private?",correctAnswer:"asymmetric",difficulty:"easy",explanation:"Asymmetric (or public key) cryptography uses key pairs, unlike symmetric cryptography which uses one shared key."}],uY=[{id:1,type:"multiple-choice",question:"In RSA, the public modulus $n$ is:",options:["A large prime","A product of two large primes $p \\cdot q$","A power of 2","Any large integer"],correctIndex:1,difficulty:"easy",explanation:"RSA modulus $n = pq$ where $p$ and $q$ are large, distinct primes."},{id:2,type:"multiple-choice",question:"The RSA decryption exponent $d$ satisfies:",options:["$ed \\equiv 1 \\pmod{n}$","$ed \\equiv 1 \\pmod{\\phi(n)}$","$e + d = n$","$e \\cdot d = n$"],correctIndex:1,difficulty:"medium",explanation:"$d$ is the modular inverse of $e$ mod $\\phi(n)$: $ed \\equiv 1 \\pmod{\\phi(n)}$."},{id:3,type:"numeric",question:"If $n = 15$, $e = 3$, and $\\phi(15) = 8$, what is the decryption exponent $d$?",correctAnswer:3,numericRange:{min:1,max:14,precision:0},difficulty:"medium",explanation:"We need $3d \\equiv 1 \\pmod{8}$. Since $3 \\cdot 3 = 9 \\equiv 1 \\pmod{8}$, $d = 3$."},{id:4,type:"multiple-choice",question:"The security of RSA relies on the difficulty of:",options:["Computing discrete logarithms","Factoring large integers","Solving systems of linear equations","Finding hash collisions"],correctIndex:1,difficulty:"easy",explanation:"RSA security is based on the computational difficulty of factoring $n = pq$."},{id:5,type:"text",question:"What function of $n = pq$ determines the RSA private key calculation: $\\phi(n) = (p-1)(q-1)$?",correctAnswer:"Euler",difficulty:"medium",explanation:"Euler's totient function $\\phi(n)$ counts integers coprime to $n$."}],hY=[{id:1,type:"multiple-choice",question:"The discrete logarithm problem asks: given $g, h, p$, find $x$ such that:",options:["$g + x \\equiv h \\pmod{p}$","$g^x \\equiv h \\pmod{p}$","$x^g \\equiv h \\pmod{p}$","$gx \\equiv h \\pmod{p}$"],correctIndex:1,difficulty:"easy",explanation:"DLP: Given $g^x \\equiv h \\pmod{p}$, find $x$."},{id:2,type:"multiple-choice",question:"In Diffie-Hellman key exchange, Alice and Bob share:",options:["Their private keys","The computed shared secret $g^{ab} \\bmod p$","The prime $p$ and generator $g$ only","Nothing - it's one-way communication"],correctIndex:2,difficulty:"medium",explanation:"They publicly share $p$, $g$, and their public values $g^a$, $g^b$. The shared secret $g^{ab}$ is computed privately."},{id:3,type:"multiple-choice",question:"ElGamal encryption is based on:",options:["Integer factorization","Discrete logarithm problem","Lattice problems","Error-correcting codes"],correctIndex:1,difficulty:"easy",explanation:"ElGamal's security relies on the difficulty of the discrete logarithm problem."},{id:4,type:"numeric",question:"In a group of prime order $p = 7$, if $g = 3$ is a generator and $3^x \\equiv 5 \\pmod{7}$, what is $x$?",correctAnswer:5,numericRange:{min:0,max:6,precision:0},difficulty:"hard",explanation:"Computing: $3^1=3, 3^2=2, 3^3=6, 3^4=4, 3^5=5 \\pmod{7}$. So $x=5$."},{id:5,type:"text",question:"What is the name of the key exchange protocol where two parties establish a shared secret over an insecure channel?",correctAnswer:"Diffie-Hellman",difficulty:"easy",explanation:"Diffie-Hellman (1976) was the first published public key protocol for key exchange."}],dY=[{id:1,type:"multiple-choice",question:"The knapsack problem asks to find a subset of weights that:",options:["Minimizes total weight","Sums to a target value","Maximizes value given a capacity","Has exactly $k$ elements"],correctIndex:1,difficulty:"easy",explanation:"The subset sum variant: given weights $w_i$ and target $S$, find subset summing to $S$."},{id:2,type:"multiple-choice",question:"A superincreasing sequence has the property that:",options:["Each term is prime","Each term is greater than the sum of all previous terms","Terms alternate between even and odd","Each term is a power of 2"],correctIndex:1,difficulty:"medium",explanation:"In a superincreasing sequence, $a_i > \\sum_{j<i} a_j$ for all $i$."},{id:3,type:"multiple-choice",question:"The Merkle-Hellman knapsack cryptosystem was broken by:",options:["Quantum computers","Lattice reduction (LLL algorithm)","Brute force","Differential cryptanalysis"],correctIndex:1,difficulty:"hard",explanation:"Shamir and later LLL-based attacks broke Merkle-Hellman in polynomial time."},{id:4,type:"numeric",question:"For a superincreasing sequence $(1, 2, 5, 11)$, what target sum is represented by the binary $(1,0,1,1)$?",correctAnswer:17,numericRange:{min:0,max:30,precision:0},difficulty:"easy",explanation:"Binary $(1,0,1,1)$ selects $1 + 5 + 11 = 17$."},{id:5,type:"text",question:"What complexity class contains the general knapsack problem (hint: abbreviation)?",correctAnswer:"NP",difficulty:"medium",explanation:"The subset sum / knapsack problem is NP-complete."}],mY=[{id:1,type:"multiple-choice",question:"In a zero-knowledge proof, the prover convinces the verifier:",options:["By revealing the secret","Without revealing any information beyond the statement's truth","By providing half the secret","Using encryption only"],correctIndex:1,difficulty:"easy",explanation:"Zero-knowledge: verifier learns nothing except that the statement is true."},{id:2,type:"multiple-choice",question:"The three properties of a zero-knowledge proof are:",options:["Fast, secure, simple","Completeness, soundness, zero-knowledge","Authentication, integrity, confidentiality","Public, private, shared"],correctIndex:1,difficulty:"medium",explanation:"Completeness (honest prover convinces), soundness (cheater fails), zero-knowledge (nothing leaked)."},{id:3,type:"multiple-choice",question:"In the graph isomorphism ZK protocol, the prover demonstrates knowledge of:",options:["The adjacency matrices","A permutation mapping one graph to another","The number of vertices","The chromatic number"],correctIndex:1,difficulty:"medium",explanation:"The prover knows a permutation $\\pi$ such that $G_1 = \\pi(G_0)$."},{id:4,type:"numeric",question:"If a ZK protocol has soundness error $1/2$ per round, how many rounds give error probability $< 1/1000$?",correctAnswer:10,numericRange:{min:1,max:20,precision:0},difficulty:"hard",explanation:"After $k$ rounds, error is $(1/2)^k$. We need $(1/2)^{10} = 1/1024 < 1/1000$."},{id:5,type:"text",question:"What property ensures a cheating prover cannot convince a verifier of a false statement?",correctAnswer:"soundness",difficulty:"easy",explanation:"Soundness: if the statement is false, no prover strategy succeeds with high probability."}],fY=[{id:1,type:"multiple-choice",question:"A Fermat pseudoprime to base $a$ is a composite $n$ satisfying:",options:["$a^n \\equiv a \\pmod{n}$","$a^{n-1} \\equiv 1 \\pmod{n}$","$a^{n+1} \\equiv 1 \\pmod{n}$","$n^a \\equiv 1 \\pmod{a}$"],correctIndex:1,difficulty:"medium",explanation:"Fermat pseudoprime: composite $n$ with $a^{n-1} \\equiv 1 \\pmod{n}$ (passes Fermat test)."},{id:2,type:"multiple-choice",question:"A Carmichael number is:",options:["A prime that looks composite","A composite that passes Fermat test for all bases coprime to it","A prime power","A Mersenne prime"],correctIndex:1,difficulty:"hard",explanation:"Carmichael numbers are absolute Fermat pseudoprimesthey fool the Fermat test for all valid bases."},{id:3,type:"multiple-choice",question:"The Miller-Rabin test improves on Fermat by also checking:",options:["More bases","Square roots of 1 (witnesses)","Larger exponents","Prime factorization"],correctIndex:1,difficulty:"medium",explanation:"Miller-Rabin checks if $a^d \\equiv 1$ or $a^{2^r d} \\equiv -1$ for proper witnesses."},{id:4,type:"numeric",question:"The smallest Carmichael number is:",correctAnswer:561,numericRange:{min:100,max:1e3,precision:0},difficulty:"hard",explanation:"$561 = 3 \\times 11 \\times 17$ is the smallest Carmichael number."},{id:5,type:"text",question:"What type of primality test gives a definite answer (not probabilistic)?",correctAnswer:"deterministic",difficulty:"easy",explanation:"Deterministic tests (like AKS) always correctly identify primes, unlike probabilistic tests."}],pY=[{id:1,type:"multiple-choice",question:"Pollard's rho algorithm finds factors using:",options:["Trial division","A pseudo-random walk with cycle detection","Matrix operations","Continued fractions"],correctIndex:1,difficulty:"medium",explanation:"Pollard rho uses $f(x) = x^2 + c \\bmod n$ and detects cycles via Floyd's algorithm."},{id:2,type:"multiple-choice",question:"The expected running time of Pollard's rho to find a factor $p$ is:",options:["$O(p)$","$O(\\sqrt{p})$","$O(\\log p)$","$O(p^2)$"],correctIndex:1,difficulty:"medium",explanation:"Birthday paradox: collision expected after $O(\\sqrt{p})$ iterations."},{id:3,type:"multiple-choice",question:"Floyd's cycle detection uses how many pointers?",options:["One","Two (slow and fast)","Three","Logarithmically many"],correctIndex:1,difficulty:"easy",explanation:`Floyd's "tortoise and hare": slow pointer moves 1 step, fast moves 2 steps.`},{id:4,type:"numeric",question:"In Pollard rho, if $x_i = x_{2i}$ (mod $p$) but $x_i \\neq x_{2i}$ (mod $n$), then $\\gcd(x_i - x_{2i}, n)$ reveals:",correctAnswer:1,numericRange:{min:0,max:1,precision:0},difficulty:"hard",explanation:'The GCD reveals a non-trivial factor of $n$ (specifically $p$). Answer 1 represents "a factor".'},{id:5,type:"text",question:"What mathematical phenomenon explains why Pollard rho finds collisions quickly?",correctAnswer:"birthday",difficulty:"medium",explanation:"The birthday paradox: in a set of size $n$, expect collisions after $O(\\sqrt{n})$ samples."}],xY=[{id:1,type:"multiple-choice",question:"Fermat's factorization method represents $n$ as:",options:["$n = p + q$","$n = a^2 - b^2 = (a-b)(a+b)$","$n = 2^k \\cdot m$","$n = p^a \\cdot q^b$"],correctIndex:1,difficulty:"easy",explanation:"Fermat factorization: $n = a^2 - b^2 = (a-b)(a+b)$ gives factors when $a, b$ are found."},{id:2,type:"multiple-choice",question:"Fermat's method is most efficient when:",options:["Factors are small","Factors are close together (near $\\sqrt{n}$)","One factor is 2","Factors differ greatly in size"],correctIndex:1,difficulty:"medium",explanation:"When $p \\approx q \\approx \\sqrt{n}$, the search for $a = (p+q)/2$ starts near $\\sqrt{n}$."},{id:3,type:"numeric",question:"To factor $n = 91$ by Fermat's method, we start with $a = \\lceil\\sqrt{91}\\rceil$. What is this value?",correctAnswer:10,numericRange:{min:1,max:20,precision:0},difficulty:"easy",explanation:"$\\sqrt{91} \\approx 9.54$, so $\\lceil\\sqrt{91}\\rceil = 10$."},{id:4,type:"multiple-choice",question:"The difference of squares identity $a^2 - b^2 = (a-b)(a+b)$ requires:",options:["$a$ and $b$ both odd","$a$ and $b$ both even","$a > b$","$a$ and $b$ coprime"],correctIndex:2,difficulty:"easy",explanation:"For non-trivial factorization, we need $a > b > 0$ so that $a - b > 0$ and $a + b > a - b$."},{id:5,type:"text",question:"What is the name of the technique that improves Fermat's method using factor bases?",correctAnswer:"sieve",difficulty:"hard",explanation:"The quadratic sieve extends Fermat's ideas using smooth numbers and a factor base."}],gY=[{id:1,type:"multiple-choice",question:"A continued fraction represents a number as:",options:["A sum of unit fractions","A nested sequence of integer quotients","A product of primes","A decimal expansion"],correctIndex:1,difficulty:"easy",explanation:"Continued fractions: $a_0 + \\cfrac{1}{a_1 + \\cfrac{1}{a_2 + \\cdots}}$."},{id:2,type:"multiple-choice",question:"The continued fraction expansion of a rational number is:",options:["Infinite","Finite","Periodic","Undefined"],correctIndex:1,difficulty:"easy",explanation:"Rational numbers have finite continued fractions; irrationals have infinite expansions."},{id:3,type:"multiple-choice",question:"The convergents of a continued fraction are:",options:["The partial quotients","Rational approximations $p_k/q_k$","The remainders","The denominators only"],correctIndex:1,difficulty:"medium",explanation:"Convergents $p_k/q_k$ are the best rational approximations with denominator $\\leq q_k$."},{id:4,type:"numeric",question:"The continued fraction $[1; 2, 2]$ equals $1 + 1/(2 + 1/2)$. What is the numerator when simplified?",correctAnswer:7,numericRange:{min:1,max:20,precision:0},difficulty:"medium",explanation:"$[1;2,2] = 1 + 1/(2 + 1/2) = 1 + 1/(5/2) = 1 + 2/5 = 7/5$."},{id:5,type:"text",question:"What is the continued fraction expansion of $\\sqrt{2}$ characterized by (hint: it repeats)?",correctAnswer:"periodic",difficulty:"medium",explanation:"$\\sqrt{2} = [1; \\overline{2}]$ has a periodic (repeating) continued fraction."}],vY=[{id:1,type:"multiple-choice",question:"The quadratic sieve factors $n$ by finding:",options:["Two primes directly","Congruences $x^2 \\equiv y^2 \\pmod{n}$ with $x \\not\\equiv \\pm y$","The continued fraction of $\\sqrt{n}$","Smooth numbers only"],correctIndex:1,difficulty:"medium",explanation:"QS finds $x^2 \\equiv y^2 \\pmod{n}$, then $\\gcd(x-y, n)$ often gives a factor."},{id:2,type:"multiple-choice",question:"A number is $B$-smooth if:",options:["It equals $B$","All its prime factors are $\\leq B$","It divides $B!$","It has exactly $B$ factors"],correctIndex:1,difficulty:"easy",explanation:"$B$-smooth means all prime factors are at most $B$."},{id:3,type:"multiple-choice",question:"The complexity of the quadratic sieve is:",options:["Polynomial in $n$","Exponential in $n$","Subexponential: $L(n)^{1+o(1)}$","$O(\\sqrt{n})$"],correctIndex:2,difficulty:"hard",explanation:"QS runs in $L(n) = \\exp(c\\sqrt{\\ln n \\ln \\ln n})$, which is subexponential."},{id:4,type:"multiple-choice",question:"In the quadratic sieve, the factor base consists of:",options:["All primes up to $n$","Primes $p$ for which $n$ is a quadratic residue mod $p$","Only twin primes","Powers of 2"],correctIndex:1,difficulty:"hard",explanation:"The factor base includes small primes $p$ where $\\left(\\frac{n}{p}\\right) = 1$."},{id:5,type:"text",question:"What algorithm, faster than QS for large $n$, uses number fields for factoring?",correctAnswer:"NFS",difficulty:"hard",explanation:"The Number Field Sieve (NFS) is the fastest known algorithm for factoring large integers."}],yY=[{id:1,type:"multiple-choice",question:"An elliptic curve over a field $K$ (in Weierstrass form) is defined by:",options:["$y = x^3 + ax + b$","$y^2 = x^3 + ax + b$","$y^2 = x^2 + ax + b$","$y^3 = x^3 + ax + b$"],correctIndex:1,difficulty:"easy",explanation:"Weierstrass form: $y^2 = x^3 + ax + b$ with non-zero discriminant."},{id:2,type:"multiple-choice",question:"The points on an elliptic curve form:",options:["A ring","A field","An abelian group","A vector space"],correctIndex:2,difficulty:"medium",explanation:"Elliptic curve points form an abelian group under the chord-and-tangent law."},{id:3,type:"multiple-choice",question:"The identity element of the elliptic curve group is:",options:["$(0, 0)$","$(1, 1)$","The point at infinity $\\mathcal{O}$","Any point on the curve"],correctIndex:2,difficulty:"easy",explanation:"The point at infinity $\\mathcal{O}$ serves as the identity: $P + \\mathcal{O} = P$."},{id:4,type:"multiple-choice",question:"Hasse's theorem bounds $\\#E(\\mathbb{F}_p)$ by:",options:["$|\\#E - p| \\leq p$","$|\\#E - p - 1| \\leq 2\\sqrt{p}$","$\\#E = p + 1$","$\\#E \\leq p^2$"],correctIndex:1,difficulty:"hard",explanation:"Hasse: $|\\#E(\\mathbb{F}_p) - (p+1)| \\leq 2\\sqrt{p}$."},{id:5,type:"text",question:"What is the name for $nP = P + P + \\cdots + P$ ($n$ times) on an elliptic curve?",correctAnswer:"scalar multiplication",difficulty:"easy",explanation:"Scalar multiplication computes $nP$ efficiently via double-and-add."}],bY=[{id:1,type:"multiple-choice",question:"The elliptic curve discrete log problem (ECDLP) asks: given $P$ and $Q = nP$, find:",options:["$P$","$Q$","$n$","The curve equation"],correctIndex:2,difficulty:"easy",explanation:"ECDLP: Given $Q = nP$, find the scalar $n$."},{id:2,type:"multiple-choice",question:"Why does ECC provide equivalent security with smaller keys than RSA?",options:["ECC uses faster algorithms","No subexponential attack on ECDLP is known","ECC is newer technology","RSA has more overhead"],correctIndex:1,difficulty:"medium",explanation:"Unlike integer DLP, ECDLP has no known subexponential algorithm, requiring smaller keys for same security."},{id:3,type:"numeric",question:"A 256-bit ECC key provides roughly the same security as how many bits of RSA?",correctAnswer:3072,numericRange:{min:2e3,max:4e3,precision:0},difficulty:"medium",explanation:"256-bit ECC  3072-bit RSA for 128-bit security level."},{id:4,type:"multiple-choice",question:"In ECDSA, what must be kept secret and unique for each signature?",options:["The public key","The message hash","The random nonce $k$","The curve parameters"],correctIndex:2,difficulty:"medium",explanation:"Reusing or leaking the nonce $k$ allows private key recovery."},{id:5,type:"text",question:"What EC-based key exchange protocol is analogous to Diffie-Hellman?",correctAnswer:"ECDH",difficulty:"easy",explanation:"ECDH (Elliptic Curve Diffie-Hellman) provides key exchange using elliptic curves."}],jY=[{id:1,type:"multiple-choice",question:"ECPP (Elliptic Curve Primality Proving) produces:",options:["A probable prime","A verifiable certificate of primality","The factorization of $n$","An approximation of primality"],correctIndex:1,difficulty:"medium",explanation:"ECPP generates a certificate that can be independently verified, proving primality."},{id:2,type:"multiple-choice",question:"The Goldwasser-Kilian algorithm uses elliptic curves to:",options:["Factor large numbers","Prove primality by finding curves with specific group orders","Generate random primes","Compute discrete logs"],correctIndex:1,difficulty:"hard",explanation:"It finds curves where the group order has a large prime factor, enabling recursive primality proof."},{id:3,type:"multiple-choice",question:"Schoof's algorithm computes:",options:["Discrete logarithms on elliptic curves","The number of points on an elliptic curve over $\\mathbb{F}_p$","The j-invariant of a curve","Optimal curve parameters"],correctIndex:1,difficulty:"medium",explanation:"Schoof's algorithm counts $\\#E(\\mathbb{F}_p)$ in polynomial time."},{id:4,type:"multiple-choice",question:"ECPP is compared to which deterministic primality test?",options:["Miller-Rabin","Fermat test","AKS","Lucas test"],correctIndex:2,difficulty:"medium",explanation:"AKS is deterministic polynomial-time, but ECPP is faster in practice."},{id:5,type:"text",question:'What does the "PP" in ECPP stand for?',correctAnswer:"Primality Proving",difficulty:"easy",explanation:"ECPP = Elliptic Curve Primality Proving."}],wY=[{id:1,type:"multiple-choice",question:"Lenstra's ECM (Elliptic Curve Method) is used for:",options:["Primality testing","Integer factorization","Discrete logarithms","Key generation"],correctIndex:1,difficulty:"easy",explanation:"ECM is a factorization algorithm that finds small to medium factors efficiently."},{id:2,type:"multiple-choice",question:"ECM's running time depends primarily on:",options:["The size of $n$ being factored","The size of the smallest prime factor","The number of curves tried","The field characteristic"],correctIndex:1,difficulty:"medium",explanation:"Unlike QS/NFS, ECM's complexity depends on the factor size, not $n$."},{id:3,type:"multiple-choice",question:"ECM generalizes which classical factoring method?",options:["Trial division","Fermat's method","Pollard's $p-1$ method","Quadratic sieve"],correctIndex:2,difficulty:"medium",explanation:"ECM generalizes $p-1$ by using elliptic curve groups instead of $(\\mathbb{Z}/p\\mathbb{Z})^*$."},{id:4,type:"multiple-choice",question:"ECM finds a factor when:",options:["A point has infinite order","A GCD computation yields a non-trivial factor","The curve is supersingular","The group order equals $p$"],correctIndex:1,difficulty:"medium",explanation:"When computing $MP$ fails due to non-invertible denominator, GCD reveals a factor."},{id:5,type:"text",question:"What form of elliptic curves, named after a mathematician, is often used in ECM for efficiency?",correctAnswer:"Montgomery",difficulty:"hard",explanation:"Montgomery curves allow faster point operations using only x-coordinates."}],SY={0:tY,1:nY,2:rY,3:iY,4:sY,5:aY,6:lY,7:oY,8:cY,9:uY,10:hY,11:dY,12:mY,13:fY,14:pY,15:xY,16:gY,17:vY,18:yY,19:bY,20:jY,21:wY};function jx(t){return SY[t]??null}function Jt({sectionId:t,children:e}){const n=wN(t),i=SN(t),{prev:s,next:a}=XW(t),l=kN(),c=JW(t),h=ko();K.useEffect(()=>{h&&h.visitSection(t)},[t,h]);const m=(h==null?void 0:h.state.user.sectionsCompleted.includes(dV(t)))??!1;if(!n||!i)return r.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:r.jsx("p",{className:"text-dark-400",children:"Section not found"})});const f=(c+1)/l*100,p=jx(t)&&jx(t).length>0;return r.jsxs("div",{className:"min-h-screen relative",children:[r.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),r.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-primary-500 to-cyan-400 transition-all duration-500 ease-out",style:{width:`${f}%`}})}),r.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:r.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[r.jsxs(yn,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),r.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsxs("span",{className:"text-dark-500",children:["Part ",i.id]}),r.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsxs("span",{className:"text-dark-300 font-medium",children:["S",n.id]})]})}),r.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[r.jsxs("header",{className:"mb-14",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 rounded-full border border-primary-500/20",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400"}),"Section ",n.id]}),r.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",i.id,": ",i.title]})]}),r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:r.jsx("span",{className:"text-gradient",children:n.title})}),r.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl",children:n.description}),r.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/50"}),r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/30"}),r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/10"})]}),r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),r.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:e})]}),r.jsxs("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:[p&&r.jsx("div",{className:"mb-6",children:r.jsxs(yn,{to:`/quiz/section/${t}`,className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-amber-600/20 to-amber-500/10 border border-amber-500/20 text-amber-400 hover:from-amber-600/30 hover:to-amber-500/20 transition-all duration-300",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),r.jsx("span",{className:"font-semibold",children:"Take Section Quiz"}),r.jsx("span",{className:"text-amber-300/70 text-sm",children:"Test your knowledge"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s?r.jsxs(yn,{to:`/section/${s.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:r.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),r.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:s.title})]})]}):r.jsx("div",{}),a?r.jsxs(yn,{to:`/section/${a.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:r.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),r.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:a.title})]})]}):r.jsxs("div",{className:"flex flex-col gap-3",children:[!m&&r.jsxs("button",{onClick:()=>h==null?void 0:h.completeSection(t),className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-semibold shadow-lg shadow-emerald-500/20 hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-[1.02] transition-all duration-300",children:[r.jsx("span",{children:"Mark Complete"}),r.jsx("span",{className:"text-emerald-200 text-sm",children:"+25 XP"})]}),r.jsxs(yn,{to:"/",className:`group flex items-center justify-center gap-3 p-5 rounded-2xl font-semibold transition-all duration-300 ${m?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30 hover:scale-[1.02]":"bg-dark-800/60 text-dark-300 hover:bg-dark-700/60"}`,children:[r.jsx("span",{children:m?"Course Complete!":"Return Home"}),r.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:m?"M5 13l4 4L19 7":"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})]})]})]})]})}class yr{constructor(e,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=i}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new yr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Pr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Pr(n,yr.range(this,e))}}class he{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,s,a,l=n&&n.loc;if(l&&l.start<=l.end){var c=l.lexer.input;s=l.start,a=l.end,s===c.length?i+=" at end of input: ":i+=" at position "+(s+1)+": ";var u=c.slice(s,a).replace(/[^]/g,"$&"),h;s>15?h=""+c.slice(s-15,s):h=c.slice(0,s);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),i+=h+u+m}var f=new Error(i);return f.name="ParseError",f.__proto__=he.prototype,f.position=s,s!=null&&a!=null&&(f.length=a-s),f.rawMessage=e,f}}he.prototype.__proto__=Error.prototype;var kY=function(e,n){return e===void 0?n:e},TY=/([A-Z])/g,AY=function(e){return e.replace(TY,"-$1").toLowerCase()},NY={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_Y=/[&><"']/g;function EY(t){return String(t).replace(_Y,e=>NY[e])}var TN=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},CY=function(e){var n=TN(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},MY=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},zY=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},at={deflt:kY,escape:EY,hyphenate:AY,getBaseElem:TN,isCharacterBox:CY,protocolFromUrl:zY},nm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function DY(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class n5{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in nm)if(nm.hasOwnProperty(n)){var i=nm[n];this[n]=e[n]!==void 0?i.processor?i.processor(e[n]):e[n]:DY(i)}}reportNonstrict(e,n,i){var s=this.strict;if(typeof s=="function"&&(s=s(e,n,i)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new he("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),i);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,i){var s=this.strict;if(typeof s=="function")try{s=s(e,n,i)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=at.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class ya{constructor(e,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=i}sup(){return Bi[RY[this.id]]}sub(){return Bi[OY[this.id]]}fracNum(){return Bi[qY[this.id]]}fracDen(){return Bi[IY[this.id]]}cramp(){return Bi[LY[this.id]]}text(){return Bi[BY[this.id]]}isTight(){return this.size>=2}}var r5=0,o1=1,b0=2,Bs=3,Vu=4,si=5,L0=6,nr=7,Bi=[new ya(r5,0,!1),new ya(o1,0,!0),new ya(b0,1,!1),new ya(Bs,1,!0),new ya(Vu,2,!1),new ya(si,2,!0),new ya(L0,3,!1),new ya(nr,3,!0)],RY=[Vu,si,Vu,si,L0,nr,L0,nr],OY=[si,si,si,si,nr,nr,nr,nr],qY=[b0,Bs,Vu,si,L0,nr,L0,nr],IY=[Bs,Bs,si,si,nr,nr,nr,nr],LY=[o1,o1,Bs,Bs,si,si,nr,nr],BY=[r5,o1,b0,Bs,b0,Bs,b0,Bs],qe={DISPLAY:Bi[r5],TEXT:Bi[b0],SCRIPT:Bi[Vu],SCRIPTSCRIPT:Bi[L0]},wx=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function PY(t){for(var e=0;e<wx.length;e++)for(var n=wx[e],i=0;i<n.blocks.length;i++){var s=n.blocks[i];if(t>=s[0]&&t<=s[1])return n.name}return null}var rm=[];wx.forEach(t=>t.blocks.forEach(e=>rm.push(...e)));function AN(t){for(var e=0;e<rm.length;e+=2)if(t>=rm[e]&&t<=rm[e+1])return!0;return!1}var qo=80,$Y=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},FY=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},UY=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},HY=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},VY=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},GY=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},ZY=function(e,n,i){var s=i-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},KY=function(e,n,i){n=1e3*n;var s="";switch(e){case"sqrtMain":s=$Y(n,qo);break;case"sqrtSize1":s=FY(n,qo);break;case"sqrtSize2":s=UY(n,qo);break;case"sqrtSize3":s=HY(n,qo);break;case"sqrtSize4":s=VY(n,qo);break;case"sqrtTall":s=ZY(n,qo,i)}return s},WY=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Wb={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},YY=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class yh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Gi={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},jd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Yb={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function XY(t,e){Gi[t]=e}function i5(t,e,n){if(!Gi[e])throw new Error("Font metrics not found for font: "+e+".");var i=t.charCodeAt(0),s=Gi[e][i];if(!s&&t[0]in Yb&&(i=Yb[t[0]].charCodeAt(0),s=Gi[e][i]),!s&&n==="text"&&AN(i)&&(s=Gi[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var a4={};function QY(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!a4[e]){var n=a4[e]={cssEmPerMu:jd.quad[e]/18};for(var i in jd)jd.hasOwnProperty(i)&&(n[i]=jd[i][e])}return a4[e]}var JY=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Xb=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Qb=function(e,n){return n.size<2?e:JY[e-1][n.size-1]};class Ts{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ts.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Xb[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return new Ts(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Qb(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Xb[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Qb(Ts.BASESIZE,e);return this.size===n&&this.textSize===Ts.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ts.BASESIZE?["sizing","reset-size"+this.size,"size"+Ts.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=QY(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ts.BASESIZE=6;var Sx={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},eX={ex:!0,em:!0,mu:!0},NN=function(e){return typeof e!="string"&&(e=e.unit),e in Sx||e in eX||e==="ex"},$t=function(e,n){var i;if(e.unit in Sx)i=Sx[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var s;if(n.style.isTight()?s=n.havingStyle(n.style.text()):s=n,e.unit==="ex")i=s.fontMetrics().xHeight;else if(e.unit==="em")i=s.fontMetrics().quad;else throw new he("Invalid unit: '"+e.unit+"'");s!==n&&(i*=s.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*i,n.maxSize)},pe=function(e){return+e.toFixed(4)+"em"},ml=function(e){return e.filter(n=>n).join(" ")},_N=function(e,n,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var s=n.getColor();s&&(this.style.color=s)}},EN=function(e){var n=document.createElement(e);n.className=ml(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&n.setAttribute(s,this.attributes[s]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},tX=/[\s"'>/=\x00-\x1f]/,CN=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+at.escape(ml(this.classes))+'"');var i="";for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=at.hyphenate(s)+":"+this.style[s]+";");i&&(n+=' style="'+at.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(tX.test(a))throw new he("Invalid attribute name '"+a+"'");n+=" "+a+'="'+at.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class bh{constructor(e,n,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,_N.call(this,e,i,s),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return EN.call(this,"span")}toMarkup(){return CN.call(this,"span")}}class s5{constructor(e,n,i,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,_N.call(this,n,s),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return EN.call(this,"a")}toMarkup(){return CN.call(this,"a")}}class nX{constructor(e,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+at.escape(this.src)+'"'+(' alt="'+at.escape(this.alt)+'"'),n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=at.hyphenate(i)+":"+this.style[i]+";");return n&&(e+=' style="'+at.escape(n)+'"'),e+="'/>",e}}var rX={:"",:"",:"",:""};class mi{constructor(e,n,i,s,a,l,c,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=i||0,this.italic=s||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=u||{},this.maxFontSize=0;var h=PY(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=rX[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=pe(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ml(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=at.escape(ml(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(i+=at.hyphenate(s)+":"+this.style[s]+";");i&&(e=!0,n+=' style="'+at.escape(i)+'"');var a=at.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class ea{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+at.escape(this.attributes[n])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class fl{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Wb[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+at.escape(this.alternate)+'"/>':'<path d="'+at.escape(Wb[this.pathName])+'"/>'}}class kx{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+at.escape(this.attributes[n])+'"');return e+="/>",e}}function Jb(t){if(t instanceof mi)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function iX(t){if(t instanceof bh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var sX={bin:1,close:1,inner:1,open:1,punct:1,rel:1},aX={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},kt={math:{},text:{}};function g(t,e,n,i,s,a){kt[t][s]={font:e,group:n,replace:i},a&&i&&(kt[t][i]=kt[t][s])}var j="math",ae="text",E="main",V="ams",Rt="accent-token",Ae="bin",cr="close",tc="inner",Re="mathord",fn="op-token",Hr="open",lf="punct",Z="rel",sa="spacing",X="textord";g(j,E,Z,"","\\equiv",!0);g(j,E,Z,"","\\prec",!0);g(j,E,Z,"","\\succ",!0);g(j,E,Z,"","\\sim",!0);g(j,E,Z,"","\\perp");g(j,E,Z,"","\\preceq",!0);g(j,E,Z,"","\\succeq",!0);g(j,E,Z,"","\\simeq",!0);g(j,E,Z,"","\\mid",!0);g(j,E,Z,"","\\ll",!0);g(j,E,Z,"","\\gg",!0);g(j,E,Z,"","\\asymp",!0);g(j,E,Z,"","\\parallel");g(j,E,Z,"","\\bowtie",!0);g(j,E,Z,"","\\smile",!0);g(j,E,Z,"","\\sqsubseteq",!0);g(j,E,Z,"","\\sqsupseteq",!0);g(j,E,Z,"","\\doteq",!0);g(j,E,Z,"","\\frown",!0);g(j,E,Z,"","\\ni",!0);g(j,E,Z,"","\\propto",!0);g(j,E,Z,"","\\vdash",!0);g(j,E,Z,"","\\dashv",!0);g(j,E,Z,"","\\owns");g(j,E,lf,".","\\ldotp");g(j,E,lf,"","\\cdotp");g(j,E,X,"#","\\#");g(ae,E,X,"#","\\#");g(j,E,X,"&","\\&");g(ae,E,X,"&","\\&");g(j,E,X,"","\\aleph",!0);g(j,E,X,"","\\forall",!0);g(j,E,X,"","\\hbar",!0);g(j,E,X,"","\\exists",!0);g(j,E,X,"","\\nabla",!0);g(j,E,X,"","\\flat",!0);g(j,E,X,"","\\ell",!0);g(j,E,X,"","\\natural",!0);g(j,E,X,"","\\clubsuit",!0);g(j,E,X,"","\\wp",!0);g(j,E,X,"","\\sharp",!0);g(j,E,X,"","\\diamondsuit",!0);g(j,E,X,"","\\Re",!0);g(j,E,X,"","\\heartsuit",!0);g(j,E,X,"","\\Im",!0);g(j,E,X,"","\\spadesuit",!0);g(j,E,X,"","\\S",!0);g(ae,E,X,"","\\S");g(j,E,X,"","\\P",!0);g(ae,E,X,"","\\P");g(j,E,X,"","\\dag");g(ae,E,X,"","\\dag");g(ae,E,X,"","\\textdagger");g(j,E,X,"","\\ddag");g(ae,E,X,"","\\ddag");g(ae,E,X,"","\\textdaggerdbl");g(j,E,cr,"","\\rmoustache",!0);g(j,E,Hr,"","\\lmoustache",!0);g(j,E,cr,"","\\rgroup",!0);g(j,E,Hr,"","\\lgroup",!0);g(j,E,Ae,"","\\mp",!0);g(j,E,Ae,"","\\ominus",!0);g(j,E,Ae,"","\\uplus",!0);g(j,E,Ae,"","\\sqcap",!0);g(j,E,Ae,"","\\ast");g(j,E,Ae,"","\\sqcup",!0);g(j,E,Ae,"","\\bigcirc",!0);g(j,E,Ae,"","\\bullet",!0);g(j,E,Ae,"","\\ddagger");g(j,E,Ae,"","\\wr",!0);g(j,E,Ae,"","\\amalg");g(j,E,Ae,"&","\\And");g(j,E,Z,"","\\longleftarrow",!0);g(j,E,Z,"","\\Leftarrow",!0);g(j,E,Z,"","\\Longleftarrow",!0);g(j,E,Z,"","\\longrightarrow",!0);g(j,E,Z,"","\\Rightarrow",!0);g(j,E,Z,"","\\Longrightarrow",!0);g(j,E,Z,"","\\leftrightarrow",!0);g(j,E,Z,"","\\longleftrightarrow",!0);g(j,E,Z,"","\\Leftrightarrow",!0);g(j,E,Z,"","\\Longleftrightarrow",!0);g(j,E,Z,"","\\mapsto",!0);g(j,E,Z,"","\\longmapsto",!0);g(j,E,Z,"","\\nearrow",!0);g(j,E,Z,"","\\hookleftarrow",!0);g(j,E,Z,"","\\hookrightarrow",!0);g(j,E,Z,"","\\searrow",!0);g(j,E,Z,"","\\leftharpoonup",!0);g(j,E,Z,"","\\rightharpoonup",!0);g(j,E,Z,"","\\swarrow",!0);g(j,E,Z,"","\\leftharpoondown",!0);g(j,E,Z,"","\\rightharpoondown",!0);g(j,E,Z,"","\\nwarrow",!0);g(j,E,Z,"","\\rightleftharpoons",!0);g(j,V,Z,"","\\nless",!0);g(j,V,Z,"","\\@nleqslant");g(j,V,Z,"","\\@nleqq");g(j,V,Z,"","\\lneq",!0);g(j,V,Z,"","\\lneqq",!0);g(j,V,Z,"","\\@lvertneqq");g(j,V,Z,"","\\lnsim",!0);g(j,V,Z,"","\\lnapprox",!0);g(j,V,Z,"","\\nprec",!0);g(j,V,Z,"","\\npreceq",!0);g(j,V,Z,"","\\precnsim",!0);g(j,V,Z,"","\\precnapprox",!0);g(j,V,Z,"","\\nsim",!0);g(j,V,Z,"","\\@nshortmid");g(j,V,Z,"","\\nmid",!0);g(j,V,Z,"","\\nvdash",!0);g(j,V,Z,"","\\nvDash",!0);g(j,V,Z,"","\\ntriangleleft");g(j,V,Z,"","\\ntrianglelefteq",!0);g(j,V,Z,"","\\subsetneq",!0);g(j,V,Z,"","\\@varsubsetneq");g(j,V,Z,"","\\subsetneqq",!0);g(j,V,Z,"","\\@varsubsetneqq");g(j,V,Z,"","\\ngtr",!0);g(j,V,Z,"","\\@ngeqslant");g(j,V,Z,"","\\@ngeqq");g(j,V,Z,"","\\gneq",!0);g(j,V,Z,"","\\gneqq",!0);g(j,V,Z,"","\\@gvertneqq");g(j,V,Z,"","\\gnsim",!0);g(j,V,Z,"","\\gnapprox",!0);g(j,V,Z,"","\\nsucc",!0);g(j,V,Z,"","\\nsucceq",!0);g(j,V,Z,"","\\succnsim",!0);g(j,V,Z,"","\\succnapprox",!0);g(j,V,Z,"","\\ncong",!0);g(j,V,Z,"","\\@nshortparallel");g(j,V,Z,"","\\nparallel",!0);g(j,V,Z,"","\\nVDash",!0);g(j,V,Z,"","\\ntriangleright");g(j,V,Z,"","\\ntrianglerighteq",!0);g(j,V,Z,"","\\@nsupseteqq");g(j,V,Z,"","\\supsetneq",!0);g(j,V,Z,"","\\@varsupsetneq");g(j,V,Z,"","\\supsetneqq",!0);g(j,V,Z,"","\\@varsupsetneqq");g(j,V,Z,"","\\nVdash",!0);g(j,V,Z,"","\\precneqq",!0);g(j,V,Z,"","\\succneqq",!0);g(j,V,Z,"","\\@nsubseteqq");g(j,V,Ae,"","\\unlhd");g(j,V,Ae,"","\\unrhd");g(j,V,Z,"","\\nleftarrow",!0);g(j,V,Z,"","\\nrightarrow",!0);g(j,V,Z,"","\\nLeftarrow",!0);g(j,V,Z,"","\\nRightarrow",!0);g(j,V,Z,"","\\nleftrightarrow",!0);g(j,V,Z,"","\\nLeftrightarrow",!0);g(j,V,Z,"","\\vartriangle");g(j,V,X,"","\\hslash");g(j,V,X,"","\\triangledown");g(j,V,X,"","\\lozenge");g(j,V,X,"","\\circledS");g(j,V,X,"","\\circledR");g(ae,V,X,"","\\circledR");g(j,V,X,"","\\measuredangle",!0);g(j,V,X,"","\\nexists");g(j,V,X,"","\\mho");g(j,V,X,"","\\Finv",!0);g(j,V,X,"","\\Game",!0);g(j,V,X,"","\\backprime");g(j,V,X,"","\\blacktriangle");g(j,V,X,"","\\blacktriangledown");g(j,V,X,"","\\blacksquare");g(j,V,X,"","\\blacklozenge");g(j,V,X,"","\\bigstar");g(j,V,X,"","\\sphericalangle",!0);g(j,V,X,"","\\complement",!0);g(j,V,X,"","\\eth",!0);g(ae,E,X,"","");g(j,V,X,"","\\diagup");g(j,V,X,"","\\diagdown");g(j,V,X,"","\\square");g(j,V,X,"","\\Box");g(j,V,X,"","\\Diamond");g(j,V,X,"","\\yen",!0);g(ae,V,X,"","\\yen",!0);g(j,V,X,"","\\checkmark",!0);g(ae,V,X,"","\\checkmark");g(j,V,X,"","\\beth",!0);g(j,V,X,"","\\daleth",!0);g(j,V,X,"","\\gimel",!0);g(j,V,X,"","\\digamma",!0);g(j,V,X,"","\\varkappa");g(j,V,Hr,"","\\@ulcorner",!0);g(j,V,cr,"","\\@urcorner",!0);g(j,V,Hr,"","\\@llcorner",!0);g(j,V,cr,"","\\@lrcorner",!0);g(j,V,Z,"","\\leqq",!0);g(j,V,Z,"","\\leqslant",!0);g(j,V,Z,"","\\eqslantless",!0);g(j,V,Z,"","\\lesssim",!0);g(j,V,Z,"","\\lessapprox",!0);g(j,V,Z,"","\\approxeq",!0);g(j,V,Ae,"","\\lessdot");g(j,V,Z,"","\\lll",!0);g(j,V,Z,"","\\lessgtr",!0);g(j,V,Z,"","\\lesseqgtr",!0);g(j,V,Z,"","\\lesseqqgtr",!0);g(j,V,Z,"","\\doteqdot");g(j,V,Z,"","\\risingdotseq",!0);g(j,V,Z,"","\\fallingdotseq",!0);g(j,V,Z,"","\\backsim",!0);g(j,V,Z,"","\\backsimeq",!0);g(j,V,Z,"","\\subseteqq",!0);g(j,V,Z,"","\\Subset",!0);g(j,V,Z,"","\\sqsubset",!0);g(j,V,Z,"","\\preccurlyeq",!0);g(j,V,Z,"","\\curlyeqprec",!0);g(j,V,Z,"","\\precsim",!0);g(j,V,Z,"","\\precapprox",!0);g(j,V,Z,"","\\vartriangleleft");g(j,V,Z,"","\\trianglelefteq");g(j,V,Z,"","\\vDash",!0);g(j,V,Z,"","\\Vvdash",!0);g(j,V,Z,"","\\smallsmile");g(j,V,Z,"","\\smallfrown");g(j,V,Z,"","\\bumpeq",!0);g(j,V,Z,"","\\Bumpeq",!0);g(j,V,Z,"","\\geqq",!0);g(j,V,Z,"","\\geqslant",!0);g(j,V,Z,"","\\eqslantgtr",!0);g(j,V,Z,"","\\gtrsim",!0);g(j,V,Z,"","\\gtrapprox",!0);g(j,V,Ae,"","\\gtrdot");g(j,V,Z,"","\\ggg",!0);g(j,V,Z,"","\\gtrless",!0);g(j,V,Z,"","\\gtreqless",!0);g(j,V,Z,"","\\gtreqqless",!0);g(j,V,Z,"","\\eqcirc",!0);g(j,V,Z,"","\\circeq",!0);g(j,V,Z,"","\\triangleq",!0);g(j,V,Z,"","\\thicksim");g(j,V,Z,"","\\thickapprox");g(j,V,Z,"","\\supseteqq",!0);g(j,V,Z,"","\\Supset",!0);g(j,V,Z,"","\\sqsupset",!0);g(j,V,Z,"","\\succcurlyeq",!0);g(j,V,Z,"","\\curlyeqsucc",!0);g(j,V,Z,"","\\succsim",!0);g(j,V,Z,"","\\succapprox",!0);g(j,V,Z,"","\\vartriangleright");g(j,V,Z,"","\\trianglerighteq");g(j,V,Z,"","\\Vdash",!0);g(j,V,Z,"","\\shortmid");g(j,V,Z,"","\\shortparallel");g(j,V,Z,"","\\between",!0);g(j,V,Z,"","\\pitchfork",!0);g(j,V,Z,"","\\varpropto");g(j,V,Z,"","\\blacktriangleleft");g(j,V,Z,"","\\therefore",!0);g(j,V,Z,"","\\backepsilon");g(j,V,Z,"","\\blacktriangleright");g(j,V,Z,"","\\because",!0);g(j,V,Z,"","\\llless");g(j,V,Z,"","\\gggtr");g(j,V,Ae,"","\\lhd");g(j,V,Ae,"","\\rhd");g(j,V,Z,"","\\eqsim",!0);g(j,E,Z,"","\\Join");g(j,V,Z,"","\\Doteq",!0);g(j,V,Ae,"","\\dotplus",!0);g(j,V,Ae,"","\\smallsetminus");g(j,V,Ae,"","\\Cap",!0);g(j,V,Ae,"","\\Cup",!0);g(j,V,Ae,"","\\doublebarwedge",!0);g(j,V,Ae,"","\\boxminus",!0);g(j,V,Ae,"","\\boxplus",!0);g(j,V,Ae,"","\\divideontimes",!0);g(j,V,Ae,"","\\ltimes",!0);g(j,V,Ae,"","\\rtimes",!0);g(j,V,Ae,"","\\leftthreetimes",!0);g(j,V,Ae,"","\\rightthreetimes",!0);g(j,V,Ae,"","\\curlywedge",!0);g(j,V,Ae,"","\\curlyvee",!0);g(j,V,Ae,"","\\circleddash",!0);g(j,V,Ae,"","\\circledast",!0);g(j,V,Ae,"","\\centerdot");g(j,V,Ae,"","\\intercal",!0);g(j,V,Ae,"","\\doublecap");g(j,V,Ae,"","\\doublecup");g(j,V,Ae,"","\\boxtimes",!0);g(j,V,Z,"","\\dashrightarrow",!0);g(j,V,Z,"","\\dashleftarrow",!0);g(j,V,Z,"","\\leftleftarrows",!0);g(j,V,Z,"","\\leftrightarrows",!0);g(j,V,Z,"","\\Lleftarrow",!0);g(j,V,Z,"","\\twoheadleftarrow",!0);g(j,V,Z,"","\\leftarrowtail",!0);g(j,V,Z,"","\\looparrowleft",!0);g(j,V,Z,"","\\leftrightharpoons",!0);g(j,V,Z,"","\\curvearrowleft",!0);g(j,V,Z,"","\\circlearrowleft",!0);g(j,V,Z,"","\\Lsh",!0);g(j,V,Z,"","\\upuparrows",!0);g(j,V,Z,"","\\upharpoonleft",!0);g(j,V,Z,"","\\downharpoonleft",!0);g(j,E,Z,"","\\origof",!0);g(j,E,Z,"","\\imageof",!0);g(j,V,Z,"","\\multimap",!0);g(j,V,Z,"","\\leftrightsquigarrow",!0);g(j,V,Z,"","\\rightrightarrows",!0);g(j,V,Z,"","\\rightleftarrows",!0);g(j,V,Z,"","\\twoheadrightarrow",!0);g(j,V,Z,"","\\rightarrowtail",!0);g(j,V,Z,"","\\looparrowright",!0);g(j,V,Z,"","\\curvearrowright",!0);g(j,V,Z,"","\\circlearrowright",!0);g(j,V,Z,"","\\Rsh",!0);g(j,V,Z,"","\\downdownarrows",!0);g(j,V,Z,"","\\upharpoonright",!0);g(j,V,Z,"","\\downharpoonright",!0);g(j,V,Z,"","\\rightsquigarrow",!0);g(j,V,Z,"","\\leadsto");g(j,V,Z,"","\\Rrightarrow",!0);g(j,V,Z,"","\\restriction");g(j,E,X,"","`");g(j,E,X,"$","\\$");g(ae,E,X,"$","\\$");g(ae,E,X,"$","\\textdollar");g(j,E,X,"%","\\%");g(ae,E,X,"%","\\%");g(j,E,X,"_","\\_");g(ae,E,X,"_","\\_");g(ae,E,X,"_","\\textunderscore");g(j,E,X,"","\\angle",!0);g(j,E,X,"","\\infty",!0);g(j,E,X,"","\\prime");g(j,E,X,"","\\triangle");g(j,E,X,"","\\Gamma",!0);g(j,E,X,"","\\Delta",!0);g(j,E,X,"","\\Theta",!0);g(j,E,X,"","\\Lambda",!0);g(j,E,X,"","\\Xi",!0);g(j,E,X,"","\\Pi",!0);g(j,E,X,"","\\Sigma",!0);g(j,E,X,"","\\Upsilon",!0);g(j,E,X,"","\\Phi",!0);g(j,E,X,"","\\Psi",!0);g(j,E,X,"","\\Omega",!0);g(j,E,X,"A","");g(j,E,X,"B","");g(j,E,X,"E","");g(j,E,X,"Z","");g(j,E,X,"H","");g(j,E,X,"I","");g(j,E,X,"K","");g(j,E,X,"M","");g(j,E,X,"N","");g(j,E,X,"O","");g(j,E,X,"P","");g(j,E,X,"T","");g(j,E,X,"X","");g(j,E,X,"","\\neg",!0);g(j,E,X,"","\\lnot");g(j,E,X,"","\\top");g(j,E,X,"","\\bot");g(j,E,X,"","\\emptyset");g(j,V,X,"","\\varnothing");g(j,E,Re,"","\\alpha",!0);g(j,E,Re,"","\\beta",!0);g(j,E,Re,"","\\gamma",!0);g(j,E,Re,"","\\delta",!0);g(j,E,Re,"","\\epsilon",!0);g(j,E,Re,"","\\zeta",!0);g(j,E,Re,"","\\eta",!0);g(j,E,Re,"","\\theta",!0);g(j,E,Re,"","\\iota",!0);g(j,E,Re,"","\\kappa",!0);g(j,E,Re,"","\\lambda",!0);g(j,E,Re,"","\\mu",!0);g(j,E,Re,"","\\nu",!0);g(j,E,Re,"","\\xi",!0);g(j,E,Re,"","\\omicron",!0);g(j,E,Re,"","\\pi",!0);g(j,E,Re,"","\\rho",!0);g(j,E,Re,"","\\sigma",!0);g(j,E,Re,"","\\tau",!0);g(j,E,Re,"","\\upsilon",!0);g(j,E,Re,"","\\phi",!0);g(j,E,Re,"","\\chi",!0);g(j,E,Re,"","\\psi",!0);g(j,E,Re,"","\\omega",!0);g(j,E,Re,"","\\varepsilon",!0);g(j,E,Re,"","\\vartheta",!0);g(j,E,Re,"","\\varpi",!0);g(j,E,Re,"","\\varrho",!0);g(j,E,Re,"","\\varsigma",!0);g(j,E,Re,"","\\varphi",!0);g(j,E,Ae,"","*",!0);g(j,E,Ae,"+","+");g(j,E,Ae,"","-",!0);g(j,E,Ae,"","\\cdot",!0);g(j,E,Ae,"","\\circ",!0);g(j,E,Ae,"","\\div",!0);g(j,E,Ae,"","\\pm",!0);g(j,E,Ae,"","\\times",!0);g(j,E,Ae,"","\\cap",!0);g(j,E,Ae,"","\\cup",!0);g(j,E,Ae,"","\\setminus",!0);g(j,E,Ae,"","\\land");g(j,E,Ae,"","\\lor");g(j,E,Ae,"","\\wedge",!0);g(j,E,Ae,"","\\vee",!0);g(j,E,X,"","\\surd");g(j,E,Hr,"","\\langle",!0);g(j,E,Hr,"","\\lvert");g(j,E,Hr,"","\\lVert");g(j,E,cr,"?","?");g(j,E,cr,"!","!");g(j,E,cr,"","\\rangle",!0);g(j,E,cr,"","\\rvert");g(j,E,cr,"","\\rVert");g(j,E,Z,"=","=");g(j,E,Z,":",":");g(j,E,Z,"","\\approx",!0);g(j,E,Z,"","\\cong",!0);g(j,E,Z,"","\\ge");g(j,E,Z,"","\\geq",!0);g(j,E,Z,"","\\gets");g(j,E,Z,">","\\gt",!0);g(j,E,Z,"","\\in",!0);g(j,E,Z,"","\\@not");g(j,E,Z,"","\\subset",!0);g(j,E,Z,"","\\supset",!0);g(j,E,Z,"","\\subseteq",!0);g(j,E,Z,"","\\supseteq",!0);g(j,V,Z,"","\\nsubseteq",!0);g(j,V,Z,"","\\nsupseteq",!0);g(j,E,Z,"","\\models");g(j,E,Z,"","\\leftarrow",!0);g(j,E,Z,"","\\le");g(j,E,Z,"","\\leq",!0);g(j,E,Z,"<","\\lt",!0);g(j,E,Z,"","\\rightarrow",!0);g(j,E,Z,"","\\to");g(j,V,Z,"","\\ngeq",!0);g(j,V,Z,"","\\nleq",!0);g(j,E,sa,"","\\ ");g(j,E,sa,"","\\space");g(j,E,sa,"","\\nobreakspace");g(ae,E,sa,"","\\ ");g(ae,E,sa,""," ");g(ae,E,sa,"","\\space");g(ae,E,sa,"","\\nobreakspace");g(j,E,sa,null,"\\nobreak");g(j,E,sa,null,"\\allowbreak");g(j,E,lf,",",",");g(j,E,lf,";",";");g(j,V,Ae,"","\\barwedge",!0);g(j,V,Ae,"","\\veebar",!0);g(j,E,Ae,"","\\odot",!0);g(j,E,Ae,"","\\oplus",!0);g(j,E,Ae,"","\\otimes",!0);g(j,E,X,"","\\partial",!0);g(j,E,Ae,"","\\oslash",!0);g(j,V,Ae,"","\\circledcirc",!0);g(j,V,Ae,"","\\boxdot",!0);g(j,E,Ae,"","\\bigtriangleup");g(j,E,Ae,"","\\bigtriangledown");g(j,E,Ae,"","\\dagger");g(j,E,Ae,"","\\diamond");g(j,E,Ae,"","\\star");g(j,E,Ae,"","\\triangleleft");g(j,E,Ae,"","\\triangleright");g(j,E,Hr,"{","\\{");g(ae,E,X,"{","\\{");g(ae,E,X,"{","\\textbraceleft");g(j,E,cr,"}","\\}");g(ae,E,X,"}","\\}");g(ae,E,X,"}","\\textbraceright");g(j,E,Hr,"{","\\lbrace");g(j,E,cr,"}","\\rbrace");g(j,E,Hr,"[","\\lbrack",!0);g(ae,E,X,"[","\\lbrack",!0);g(j,E,cr,"]","\\rbrack",!0);g(ae,E,X,"]","\\rbrack",!0);g(j,E,Hr,"(","\\lparen",!0);g(j,E,cr,")","\\rparen",!0);g(ae,E,X,"<","\\textless",!0);g(ae,E,X,">","\\textgreater",!0);g(j,E,Hr,"","\\lfloor",!0);g(j,E,cr,"","\\rfloor",!0);g(j,E,Hr,"","\\lceil",!0);g(j,E,cr,"","\\rceil",!0);g(j,E,X,"\\","\\backslash");g(j,E,X,"","|");g(j,E,X,"","\\vert");g(ae,E,X,"|","\\textbar",!0);g(j,E,X,"","\\|");g(j,E,X,"","\\Vert");g(ae,E,X,"","\\textbardbl");g(ae,E,X,"~","\\textasciitilde");g(ae,E,X,"\\","\\textbackslash");g(ae,E,X,"^","\\textasciicircum");g(j,E,Z,"","\\uparrow",!0);g(j,E,Z,"","\\Uparrow",!0);g(j,E,Z,"","\\downarrow",!0);g(j,E,Z,"","\\Downarrow",!0);g(j,E,Z,"","\\updownarrow",!0);g(j,E,Z,"","\\Updownarrow",!0);g(j,E,fn,"","\\coprod");g(j,E,fn,"","\\bigvee");g(j,E,fn,"","\\bigwedge");g(j,E,fn,"","\\biguplus");g(j,E,fn,"","\\bigcap");g(j,E,fn,"","\\bigcup");g(j,E,fn,"","\\int");g(j,E,fn,"","\\intop");g(j,E,fn,"","\\iint");g(j,E,fn,"","\\iiint");g(j,E,fn,"","\\prod");g(j,E,fn,"","\\sum");g(j,E,fn,"","\\bigotimes");g(j,E,fn,"","\\bigoplus");g(j,E,fn,"","\\bigodot");g(j,E,fn,"","\\oint");g(j,E,fn,"","\\oiint");g(j,E,fn,"","\\oiiint");g(j,E,fn,"","\\bigsqcup");g(j,E,fn,"","\\smallint");g(ae,E,tc,"","\\textellipsis");g(j,E,tc,"","\\mathellipsis");g(ae,E,tc,"","\\ldots",!0);g(j,E,tc,"","\\ldots",!0);g(j,E,tc,"","\\@cdots",!0);g(j,E,tc,"","\\ddots",!0);g(j,E,X,"","\\varvdots");g(ae,E,X,"","\\varvdots");g(j,E,Rt,"","\\acute");g(j,E,Rt,"","\\grave");g(j,E,Rt,"","\\ddot");g(j,E,Rt,"~","\\tilde");g(j,E,Rt,"","\\bar");g(j,E,Rt,"","\\breve");g(j,E,Rt,"","\\check");g(j,E,Rt,"^","\\hat");g(j,E,Rt,"","\\vec");g(j,E,Rt,"","\\dot");g(j,E,Rt,"","\\mathring");g(j,E,Re,"","\\@imath");g(j,E,Re,"","\\@jmath");g(j,E,X,"","");g(j,E,X,"","");g(ae,E,X,"","\\i",!0);g(ae,E,X,"","\\j",!0);g(ae,E,X,"","\\ss",!0);g(ae,E,X,"","\\ae",!0);g(ae,E,X,"","\\oe",!0);g(ae,E,X,"","\\o",!0);g(ae,E,X,"","\\AE",!0);g(ae,E,X,"","\\OE",!0);g(ae,E,X,"","\\O",!0);g(ae,E,Rt,"","\\'");g(ae,E,Rt,"","\\`");g(ae,E,Rt,"","\\^");g(ae,E,Rt,"","\\~");g(ae,E,Rt,"","\\=");g(ae,E,Rt,"","\\u");g(ae,E,Rt,"","\\.");g(ae,E,Rt,"","\\c");g(ae,E,Rt,"","\\r");g(ae,E,Rt,"","\\v");g(ae,E,Rt,"",'\\"');g(ae,E,Rt,"","\\H");g(ae,E,Rt,"","\\textcircled");var MN={"--":!0,"---":!0,"``":!0,"''":!0};g(ae,E,X,"","--",!0);g(ae,E,X,"","\\textendash");g(ae,E,X,"","---",!0);g(ae,E,X,"","\\textemdash");g(ae,E,X,"","`",!0);g(ae,E,X,"","\\textquoteleft");g(ae,E,X,"","'",!0);g(ae,E,X,"","\\textquoteright");g(ae,E,X,"","``",!0);g(ae,E,X,"","\\textquotedblleft");g(ae,E,X,"","''",!0);g(ae,E,X,"","\\textquotedblright");g(j,E,X,"","\\degree",!0);g(ae,E,X,"","\\degree");g(ae,E,X,"","\\textdegree",!0);g(j,E,X,"","\\pounds");g(j,E,X,"","\\mathsterling",!0);g(ae,E,X,"","\\pounds");g(ae,E,X,"","\\textsterling",!0);g(j,V,X,"","\\maltese");g(ae,V,X,"","\\maltese");var e8='0123456789/@."';for(var l4=0;l4<e8.length;l4++){var t8=e8.charAt(l4);g(j,E,X,t8,t8)}var n8='0123456789!@*()-=+";:?/.,';for(var o4=0;o4<n8.length;o4++){var r8=n8.charAt(o4);g(ae,E,X,r8,r8)}var c1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var c4=0;c4<c1.length;c4++){var wd=c1.charAt(c4);g(j,E,Re,wd,wd),g(ae,E,X,wd,wd)}g(j,V,X,"C","");g(ae,V,X,"C","");g(j,V,X,"H","");g(ae,V,X,"H","");g(j,V,X,"N","");g(ae,V,X,"N","");g(j,V,X,"P","");g(ae,V,X,"P","");g(j,V,X,"Q","");g(ae,V,X,"Q","");g(j,V,X,"R","");g(ae,V,X,"R","");g(j,V,X,"Z","");g(ae,V,X,"Z","");g(j,E,Re,"h","");g(ae,E,Re,"h","");var Fe="";for(var Yn=0;Yn<c1.length;Yn++){var Zt=c1.charAt(Yn);Fe=String.fromCharCode(55349,56320+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56372+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56424+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56580+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56684+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56736+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56788+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56840+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56944+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Yn<26&&(Fe=String.fromCharCode(55349,56632+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe),Fe=String.fromCharCode(55349,56476+Yn),g(j,E,Re,Zt,Fe),g(ae,E,X,Zt,Fe))}Fe="";g(j,E,Re,"k",Fe);g(ae,E,X,"k",Fe);for(var Ll=0;Ll<10;Ll++){var ba=Ll.toString();Fe=String.fromCharCode(55349,57294+Ll),g(j,E,Re,ba,Fe),g(ae,E,X,ba,Fe),Fe=String.fromCharCode(55349,57314+Ll),g(j,E,Re,ba,Fe),g(ae,E,X,ba,Fe),Fe=String.fromCharCode(55349,57324+Ll),g(j,E,Re,ba,Fe),g(ae,E,X,ba,Fe),Fe=String.fromCharCode(55349,57334+Ll),g(j,E,Re,ba,Fe),g(ae,E,X,ba,Fe)}var Tx="";for(var u4=0;u4<Tx.length;u4++){var Sd=Tx.charAt(u4);g(j,E,Re,Sd,Sd),g(ae,E,X,Sd,Sd)}var kd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],i8=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],lX=function(e,n){var i=e.charCodeAt(0),s=e.charCodeAt(1),a=(i-55296)*1024+(s-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[kd[c][2],kd[c][l]]}else if(120782<=a&&a<=120831){var u=Math.floor((a-120782)/10);return[i8[u][2],i8[u][l]]}else{if(a===120485||a===120486)return[kd[0][2],kd[0][l]];if(120486<a&&a<120782)return["",""];throw new he("Unsupported character: "+e)}},of=function(e,n,i){return kt[i][e]&&kt[i][e].replace&&(e=kt[i][e].replace),{value:e,metrics:i5(e,n,i)}},Ai=function(e,n,i,s,a){var l=of(e,n,i),c=l.metrics;e=l.value;var u;if(c){var h=c.italic;(i==="text"||s&&s.font==="mathit")&&(h=0),u=new mi(e,c.height,c.depth,h,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+i+"'")),u=new mi(e,0,0,0,0,0,a);if(s){u.maxFontSize=s.sizeMultiplier,s.style.isTight()&&u.classes.push("mtight");var m=s.getColor();m&&(u.style.color=m)}return u},oX=function(e,n,i,s){return s===void 0&&(s=[]),i.font==="boldsymbol"&&of(e,"Main-Bold",n).metrics?Ai(e,"Main-Bold",n,i,s.concat(["mathbf"])):e==="\\"||kt[n][e].font==="main"?Ai(e,"Main-Regular",n,i,s):Ai(e,"AMS-Regular",n,i,s.concat(["amsrm"]))},cX=function(e,n,i,s,a){return a!=="textord"&&of(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},uX=function(e,n,i){var s=e.mode,a=e.text,l=["mord"],c=s==="math"||s==="text"&&n.font,u=c?n.font:n.fontFamily,h="",m="";if(a.charCodeAt(0)===55349&&([h,m]=lX(a,s)),h.length>0)return Ai(a,h,s,n,l.concat(m));if(u){var f,p;if(u==="boldsymbol"){var v=cX(a,s,n,l,i);f=v.fontName,p=[v.fontClass]}else c?(f=RN[u].fontName,p=[u]):(f=Td(u,n.fontWeight,n.fontShape),p=[u,n.fontWeight,n.fontShape]);if(of(a,f,s).metrics)return Ai(a,f,s,n,l.concat(p));if(MN.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var T=[],M=0;M<a.length;M++)T.push(Ai(a[M],f,s,n,l.concat(p)));return DN(T)}}if(i==="mathord")return Ai(a,"Math-Italic",s,n,l.concat(["mathnormal"]));if(i==="textord"){var q=kt[s][a]&&kt[s][a].font;if(q==="ams"){var S=Td("amsrm",n.fontWeight,n.fontShape);return Ai(a,S,s,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(q==="main"||!q){var A=Td("textrm",n.fontWeight,n.fontShape);return Ai(a,A,s,n,l.concat(n.fontWeight,n.fontShape))}else{var N=Td(q,n.fontWeight,n.fontShape);return Ai(a,N,s,n,l.concat(N,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},hX=(t,e)=>{if(ml(t.classes)!==ml(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in t.style)if(t.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;return!0},dX=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],i=t[e+1];n instanceof mi&&i instanceof mi&&hX(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,t.splice(e+1,1),e--)}return t},a5=function(e){for(var n=0,i=0,s=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>i&&(i=l.depth),l.maxFontSize>s&&(s=l.maxFontSize)}e.height=n,e.depth=i,e.maxFontSize=s},gr=function(e,n,i,s){var a=new bh(e,n,i,s);return a5(a),a},zN=(t,e,n,i)=>new bh(t,e,n,i),mX=function(e,n,i){var s=gr([e],[],n);return s.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),s.style.borderBottomWidth=pe(s.height),s.maxFontSize=1,s},fX=function(e,n,i,s){var a=new s5(e,n,i,s);return a5(a),a},DN=function(e){var n=new yh(e);return a5(n),n},pX=function(e,n){return e instanceof yh?gr([],[e],n):e},xX=function(e){if(e.positionType==="individualShift"){for(var n=e.children,i=[n[0]],s=-n[0].shift-n[0].elem.depth,a=s,l=1;l<n.length;l++){var c=-n[l].shift-a-n[l].elem.depth,u=c-(n[l-1].elem.height+n[l-1].elem.depth);a=a+c,i.push({type:"kern",size:u}),i.push(n[l])}return{children:i,depth:s}}var h;if(e.positionType==="top"){for(var m=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];m-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=m}else if(e.positionType==="bottom")h=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},gX=function(e,n){for(var{children:i,depth:s}=xX(e),a=0,l=0;l<i.length;l++){var c=i[l];if(c.type==="elem"){var u=c.elem;a=Math.max(a,u.maxFontSize,u.height)}}a+=2;var h=gr(["pstrut"],[]);h.style.height=pe(a);for(var m=[],f=s,p=s,v=s,T=0;T<i.length;T++){var M=i[T];if(M.type==="kern")v+=M.size;else{var q=M.elem,S=M.wrapperClasses||[],A=M.wrapperStyle||{},N=gr(S,[h,q],void 0,A);N.style.top=pe(-a-v-q.depth),M.marginLeft&&(N.style.marginLeft=M.marginLeft),M.marginRight&&(N.style.marginRight=M.marginRight),m.push(N),v+=q.height+q.depth}f=Math.min(f,v),p=Math.max(p,v)}var L=gr(["vlist"],m);L.style.height=pe(p);var U;if(f<0){var Q=gr([],[]),D=gr(["vlist"],[Q]);D.style.height=pe(-f);var C=gr(["vlist-s"],[new mi("")]);U=[gr(["vlist-r"],[L,C]),gr(["vlist-r"],[D])]}else U=[gr(["vlist-r"],[L])];var z=gr(["vlist-t"],U);return U.length===2&&z.classes.push("vlist-t2"),z.height=p,z.depth=-f,z},vX=(t,e)=>{var n=gr(["mspace"],[],e),i=$t(t,e);return n.style.marginRight=pe(i),n},Td=function(e,n,i){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var a;return n==="textbf"&&i==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",s+"-"+a},RN={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ON={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},yX=function(e,n){var[i,s,a]=ON[e],l=new fl(i),c=new ea([l],{width:pe(s),height:pe(a),style:"width:"+pe(s),viewBox:"0 0 "+1e3*s+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),u=zN(["overlay"],[c],n);return u.height=a,u.style.height=pe(a),u.style.width=pe(s),u},te={fontMap:RN,makeSymbol:Ai,mathsym:oX,makeSpan:gr,makeSvgSpan:zN,makeLineSpan:mX,makeAnchor:fX,makeFragment:DN,wrapFragment:pX,makeVList:gX,makeOrd:uX,makeGlue:vX,staticSvg:yX,svgData:ON,tryCombineChars:dX},Bt={number:3,unit:"mu"},Bl={number:4,unit:"mu"},ws={number:5,unit:"mu"},bX={mord:{mop:Bt,mbin:Bl,mrel:ws,minner:Bt},mop:{mord:Bt,mop:Bt,mrel:ws,minner:Bt},mbin:{mord:Bl,mop:Bl,mopen:Bl,minner:Bl},mrel:{mord:ws,mop:ws,mopen:ws,minner:ws},mopen:{},mclose:{mop:Bt,mbin:Bl,mrel:ws,minner:Bt},mpunct:{mord:Bt,mop:Bt,mrel:ws,mopen:Bt,mclose:Bt,mpunct:Bt,minner:Bt},minner:{mord:Bt,mop:Bt,mbin:Bl,mrel:ws,mopen:Bt,mpunct:Bt,minner:Bt}},jX={mord:{mop:Bt},mop:{mord:Bt,mop:Bt},mbin:{},mrel:{},mopen:{},mclose:{mop:Bt},mpunct:{},minner:{mop:Bt}},qN={},u1={},h1={};function je(t){for(var{type:e,names:n,props:i,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:s},u=0;u<n.length;++u)qN[n[u]]=c;e&&(a&&(u1[e]=a),l&&(h1[e]=l))}function Ao(t){var{type:e,htmlBuilder:n,mathmlBuilder:i}=t;je({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var d1=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},sn=function(e){return e.type==="ordgroup"?e.body:[e]},ta=te.makeSpan,wX=["leftmost","mbin","mopen","mrel","mop","mpunct"],SX=["rightmost","mrel","mclose","mpunct"],kX={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT},TX={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},kn=function(e,n,i,s){s===void 0&&(s=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=rt(e[l],n);if(c instanceof yh){var u=c.children;a.push(...u)}else a.push(c)}if(te.tryCombineChars(a),!i)return a;var h=n;if(e.length===1){var m=e[0];m.type==="sizing"?h=n.havingSize(m.size):m.type==="styling"&&(h=n.havingStyle(kX[m.style]))}var f=ta([s[0]||"leftmost"],[],n),p=ta([s[1]||"rightmost"],[],n),v=i==="root";return s8(a,(T,M)=>{var q=M.classes[0],S=T.classes[0];q==="mbin"&&SX.includes(S)?M.classes[0]="mord":S==="mbin"&&wX.includes(q)&&(T.classes[0]="mord")},{node:f},p,v),s8(a,(T,M)=>{var q=Ax(M),S=Ax(T),A=q&&S?T.hasClass("mtight")?jX[q][S]:bX[q][S]:null;if(A)return te.makeGlue(A,h)},{node:f},p,v),a},s8=function t(e,n,i,s,a){s&&e.push(s);for(var l=0;l<e.length;l++){var c=e[l],u=IN(c);if(u){t(u.children,n,i,null,a);continue}var h=!c.hasClass("mspace");if(h){var m=n(c,i.node);m&&(i.insertAfter?i.insertAfter(m):(e.unshift(m),l++))}h?i.node=c:a&&c.hasClass("newline")&&(i.node=ta(["leftmost"])),i.insertAfter=(f=>p=>{e.splice(f+1,0,p),l++})(l)}s&&e.pop()},IN=function(e){return e instanceof yh||e instanceof s5||e instanceof bh&&e.hasClass("enclosing")?e:null},AX=function t(e,n){var i=IN(e);if(i){var s=i.children;if(s.length){if(n==="right")return t(s[s.length-1],"right");if(n==="left")return t(s[0],"left")}}return e},Ax=function(e,n){return e?(n&&(e=AX(e,n)),TX[e.classes[0]]||null):null},Gu=function(e,n){var i=["nulldelimiter"].concat(e.baseSizingClasses());return ta(n.concat(i))},rt=function(e,n,i){if(!e)return ta();if(u1[e.type]){var s=u1[e.type](e,n);if(i&&n.size!==i.size){s=ta(n.sizingClasses(i),[s],n);var a=n.sizeMultiplier/i.sizeMultiplier;s.height*=a,s.depth*=a}return s}else throw new he("Got group of unknown type: '"+e.type+"'")};function Ad(t,e){var n=ta(["base"],t,e),i=ta(["strut"]);return i.style.height=pe(n.height+n.depth),n.depth&&(i.style.verticalAlign=pe(-n.depth)),n.children.unshift(i),n}function Nx(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var i=kn(t,e,"root"),s;i.length===2&&i[1].hasClass("tag")&&(s=i.pop());for(var a=[],l=[],c=0;c<i.length;c++)if(l.push(i[c]),i[c].hasClass("mbin")||i[c].hasClass("mrel")||i[c].hasClass("allowbreak")){for(var u=!1;c<i.length-1&&i[c+1].hasClass("mspace")&&!i[c+1].hasClass("newline");)c++,l.push(i[c]),i[c].hasClass("nobreak")&&(u=!0);u||(a.push(Ad(l,e)),l=[])}else i[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Ad(l,e)),l=[]),a.push(i[c]));l.length>0&&a.push(Ad(l,e));var h;n?(h=Ad(kn(n,e,!0)),h.classes=["tag"],a.push(h)):s&&a.push(s);var m=ta(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),h){var f=h.children[0];f.style.height=pe(m.height+m.depth),m.depth&&(f.style.verticalAlign=pe(-m.depth))}return m}function LN(t){return new yh(t)}class Rr{constructor(e,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=ml(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof Zi&&this.children[i+1]instanceof Zi){for(var s=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof Zi;)s+=this.children[++i].toText();e.appendChild(new Zi(s).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=at.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+at.escape(ml(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Zi{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return at.escape(this.toText())}toText(){return this.text}}class NX{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",pe(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+pe(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ce={MathNode:Rr,TextNode:Zi,SpaceNode:NX,newDocumentFragment:LN},fi=function(e,n,i){return kt[n][e]&&kt[n][e].replace&&e.charCodeAt(0)!==55349&&!(MN.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=kt[n][e].replace),new ce.TextNode(e)},l5=function(e){return e.length===1?e[0]:new ce.MathNode("mrow",e)},o5=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var s=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;kt[s][a]&&kt[s][a].replace&&(a=kt[s][a].replace);var l=te.fontMap[i].fontName;return i5(a,l,s)?te.fontMap[i].variant:null};function h4(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Zi&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Zi&&n.text===","}else return!1}var Ar=function(e,n,i){if(e.length===1){var s=vt(e[0],n);return i&&s instanceof Rr&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var a=[],l,c=0;c<e.length;c++){var u=vt(e[c],n);if(u instanceof Rr&&l instanceof Rr){if(u.type==="mtext"&&l.type==="mtext"&&u.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...u.children);continue}else if(u.type==="mn"&&l.type==="mn"){l.children.push(...u.children);continue}else if(h4(u)&&l.type==="mn"){l.children.push(...u.children);continue}else if(u.type==="mn"&&h4(l))u.children=[...l.children,...u.children],a.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(l.type==="mn"||h4(l))){var h=u.children[0];h instanceof Rr&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Zi&&m.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var f=u.children[0];f instanceof Zi&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(u),l=u}return a},pl=function(e,n,i){return l5(Ar(e,n,i))},vt=function(e,n){if(!e)return new ce.MathNode("mrow");if(h1[e.type]){var i=h1[e.type](e,n);return i}else throw new he("Got group of unknown type: '"+e.type+"'")};function a8(t,e,n,i,s){var a=Ar(t,n),l;a.length===1&&a[0]instanceof Rr&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new ce.MathNode("mrow",a);var c=new ce.MathNode("annotation",[new ce.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var u=new ce.MathNode("semantics",[l,c]),h=new ce.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&h.setAttribute("display","block");var m=s?"katex":"katex-mathml";return te.makeSpan([m],[h])}var BN=function(e){return new Ts({style:e.displayMode?qe.DISPLAY:qe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},PN=function(e,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),e=te.makeSpan(i,[e])}return e},_X=function(e,n,i){var s=BN(i),a;if(i.output==="mathml")return a8(e,n,s,i.displayMode,!0);if(i.output==="html"){var l=Nx(e,s);a=te.makeSpan(["katex"],[l])}else{var c=a8(e,n,s,i.displayMode,!1),u=Nx(e,s);a=te.makeSpan(["katex"],[c,u])}return PN(a,i)},EX=function(e,n,i){var s=BN(i),a=Nx(e,s),l=te.makeSpan(["katex"],[a]);return PN(l,i)},CX={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},MX=function(e){var n=new ce.MathNode("mo",[new ce.TextNode(CX[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},zX={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},DX=function(e){return e.type==="ordgroup"?e.body.length:1},RX=function(e,n){function i(){var c=4e5,u=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var h=e,m=DX(h.base),f,p,v;if(m>5)u==="widehat"||u==="widecheck"?(f=420,c=2364,v=.42,p=u+"4"):(f=312,c=2340,v=.34,p="tilde4");else{var T=[1,1,2,2,3,3][m];u==="widehat"||u==="widecheck"?(c=[0,1062,2364,2364,2364][T],f=[0,239,300,360,420][T],v=[0,.24,.3,.3,.36,.42][T],p=u+T):(c=[0,600,1033,2339,2340][T],f=[0,260,286,306,312][T],v=[0,.26,.286,.3,.306,.34][T],p="tilde"+T)}var M=new fl(p),q=new ea([M],{width:"100%",height:pe(v),viewBox:"0 0 "+c+" "+f,preserveAspectRatio:"none"});return{span:te.makeSvgSpan([],[q],n),minWidth:0,height:v}}else{var S=[],A=zX[u],[N,L,U]=A,Q=U/1e3,D=N.length,C,z;if(D===1){var B=A[3];C=["hide-tail"],z=[B]}else if(D===2)C=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(D===3)C=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var P=0;P<D;P++){var F=new fl(N[P]),$=new ea([F],{width:"400em",height:pe(Q),viewBox:"0 0 "+c+" "+U,preserveAspectRatio:z[P]+" slice"}),_e=te.makeSvgSpan([C[P]],[$],n);if(D===1)return{span:_e,minWidth:L,height:Q};_e.style.height=pe(Q),S.push(_e)}return{span:te.makeSpan(["stretchy"],S,n),minWidth:L,height:Q}}}var{span:s,minWidth:a,height:l}=i();return s.height=l,s.style.height=pe(l),a>0&&(s.style.minWidth=pe(a)),s},OX=function(e,n,i,s,a){var l,c=e.height+e.depth+i+s;if(/fbox|color|angl/.test(n)){if(l=te.makeSpan(["stretchy",n],[],a),n==="fbox"){var u=a.color&&a.getColor();u&&(l.style.borderColor=u)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new kx({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new kx({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ea(h,{width:"100%",height:pe(c)});l=te.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=pe(c),l},na={encloseSpan:OX,mathMLnode:MX,svgSpan:RX};function We(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function c5(t){var e=cf(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function cf(t){return t&&(t.type==="atom"||aX.hasOwnProperty(t.type))?t:null}var u5=(t,e)=>{var n,i,s;t&&t.type==="supsub"?(i=We(t.base,"accent"),n=i.base,t.base=n,s=iX(rt(t,e)),t.base=i):(i=We(t,"accent"),n=i.base);var a=rt(n,e.havingCrampedStyle()),l=i.isShifty&&at.isCharacterBox(n),c=0;if(l){var u=at.getBaseElem(n),h=rt(u,e.havingCrampedStyle());c=Jb(h).skew}var m=i.label==="\\c",f=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(i.isStretchy)p=na.svgSpan(i,e),p=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+pe(2*c)+")",marginLeft:pe(2*c)}:void 0}]},e);else{var v,T;i.label==="\\vec"?(v=te.staticSvg("vec",e),T=te.svgData.vec[1]):(v=te.makeOrd({mode:i.mode,text:i.label},e,"textord"),v=Jb(v),v.italic=0,T=v.width,m&&(f+=v.depth)),p=te.makeSpan(["accent-body"],[v]);var M=i.label==="\\textcircled";M&&(p.classes.push("accent-full"),f=a.height);var q=c;M||(q-=T/2),p.style.left=pe(q),i.label==="\\textcircled"&&(p.style.top=".2em"),p=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var S=te.makeSpan(["mord","accent"],[p],e);return s?(s.children[0]=S,s.height=Math.max(S.height,s.height),s.classes[0]="mord",s):S},$N=(t,e)=>{var n=t.isStretchy?na.mathMLnode(t.label):new ce.MathNode("mo",[fi(t.label,t.mode)]),i=new ce.MathNode("mover",[vt(t.base,e),n]);return i.setAttribute("accent","true"),i},qX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));je({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=d1(e[0]),i=!qX.test(t.funcName),s=!i||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:i,isShifty:s,base:n}},htmlBuilder:u5,mathmlBuilder:$N});je({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],i=t.parser.mode;return i==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:u5,mathmlBuilder:$N});je({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"accentUnder",mode:n.mode,label:i,base:s}},htmlBuilder:(t,e)=>{var n=rt(t.base,e),i=na.svgSpan(t,e),s=t.label==="\\utilde"?.12:0,a=te.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:n}]},e);return te.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=na.mathMLnode(t.label),i=new ce.MathNode("munder",[vt(t.base,e),n]);return i.setAttribute("accentunder","true"),i}});var Nd=t=>{var e=new ce.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};je({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:i,funcName:s}=t;return{type:"xArrow",mode:i.mode,label:s,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,i=e.havingStyle(n.sup()),s=te.wrapFragment(rt(t.body,i,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(a+"-arrow-pad");var l;t.below&&(i=e.havingStyle(n.sub()),l=te.wrapFragment(rt(t.below,i,e),e),l.classes.push(a+"-arrow-pad"));var c=na.svgSpan(t,e),u=-e.fontMetrics().axisHeight+.5*c.height,h=-e.fontMetrics().axisHeight-.5*c.height-.111;(s.depth>.25||t.label==="\\xleftequilibrium")&&(h-=s.depth);var m;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:c,shift:u},{type:"elem",elem:l,shift:f}]},e)}else m=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:c,shift:u}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),te.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var n=na.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(t.body){var s=Nd(vt(t.body,e));if(t.below){var a=Nd(vt(t.below,e));i=new ce.MathNode("munderover",[n,a,s])}else i=new ce.MathNode("mover",[n,s])}else if(t.below){var l=Nd(vt(t.below,e));i=new ce.MathNode("munder",[n,l])}else i=Nd(),i=new ce.MathNode("mover",[n,i]);return i}});var IX=te.makeSpan;function FN(t,e){var n=kn(t.body,e,!0);return IX([t.mclass],n,e)}function UN(t,e){var n,i=Ar(t.body,e);return t.mclass==="minner"?n=new ce.MathNode("mpadded",i):t.mclass==="mord"?t.isCharacterBox?(n=i[0],n.type="mi"):n=new ce.MathNode("mi",i):(t.isCharacterBox?(n=i[0],n.type="mo"):n=new ce.MathNode("mo",i),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}je({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:sn(s),isCharacterBox:at.isCharacterBox(s)}},htmlBuilder:FN,mathmlBuilder:UN});var uf=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};je({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:uf(e[0]),body:sn(e[1]),isCharacterBox:at.isCharacterBox(e[1])}}});je({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:i}=t,s=e[1],a=e[0],l;i!=="\\stackrel"?l=uf(s):l="mrel";var c={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:sn(s)},u={type:"supsub",mode:a.mode,base:c,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[u],isCharacterBox:at.isCharacterBox(u)}},htmlBuilder:FN,mathmlBuilder:UN});je({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:uf(e[0]),body:sn(e[0])}},htmlBuilder(t,e){var n=kn(t.body,e,!0),i=te.makeSpan([t.mclass],n,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(t,e){var n=Ar(t.body,e),i=new ce.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var LX={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},l8=()=>({type:"styling",body:[],mode:"math",style:"display"}),o8=t=>t.type==="textord"&&t.text==="@",BX=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function PX(t,e,n){var i=LX[t];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),c=n.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[s,l,c]};return n.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function $X(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new he("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var i=[],s=[i],a=0;a<e.length;a++){for(var l=e[a],c=l8(),u=0;u<l.length;u++)if(!o8(l[u]))c.body.push(l[u]);else{i.push(c),u+=1;var h=c5(l[u]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var f=0;f<2;f++){for(var p=!0,v=u+1;v<l.length;v++){if(BX(l[v],h)){p=!1,u=v;break}if(o8(l[v]))throw new he("Missing a "+h+" character to complete a CD arrow.",l[v]);m[f].body.push(l[v])}if(p)throw new he("Missing a "+h+" character to complete a CD arrow.",l[u])}else throw new he('Expected one of "<>AV=|." after @',l[u]);var T=PX(h,m,t),M={type:"styling",body:[T],mode:"math",style:"display"};i.push(M),c=l8()}a%2===0?i.push(c):i.shift(),i=[],s.push(i)}t.gullet.endGroup(),t.gullet.endGroup();var q=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:q,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}je({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),i=te.wrapFragment(rt(t.label,n,e),e);return i.classes.push("cd-label-"+t.side),i.style.bottom=pe(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(t,e){var n=new ce.MathNode("mrow",[vt(t.label,e)]);return n=new ce.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ce.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});je({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=te.wrapFragment(rt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ce.MathNode("mrow",[vt(t.fragment,e)])}});je({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,i=We(e[0],"ordgroup"),s=i.body,a="",l=0;l<s.length;l++){var c=We(s[l],"textord");a+=c.text}var u=parseInt(a),h;if(isNaN(u))throw new he("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new he("\\@char with invalid code point "+a);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var HN=(t,e)=>{var n=kn(t.body,e.withColor(t.color),!1);return te.makeFragment(n)},VN=(t,e)=>{var n=Ar(t.body,e.withColor(t.color)),i=new ce.MathNode("mstyle",n);return i.setAttribute("mathcolor",t.color),i};je({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,i=We(e[0],"color-token").color,s=e[1];return{type:"color",mode:n.mode,color:i,body:sn(s)}},htmlBuilder:HN,mathmlBuilder:VN});je({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:i}=t,s=We(e[0],"color-token").color;n.gullet.macros.set("\\current@color",s);var a=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:s,body:a}},htmlBuilder:HN,mathmlBuilder:VN});je({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:i}=t,s=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:s&&We(s,"size").value}},htmlBuilder(t,e){var n=te.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=pe($t(t.size,e)))),n},mathmlBuilder(t,e){var n=new ce.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",pe($t(t.size,e)))),n}});var _x={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},GN=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new he("Expected a control sequence",t);return e},FX=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},ZN=(t,e,n,i)=>{var s=t.gullet.macros.get(n.text);s==null&&(n.noexpand=!0,s={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,s,i)};je({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var i=e.fetch();if(_x[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=_x[i.text]),We(e.parseFunction(),"internal");throw new he("Invalid token after macro prefix",i)}});je({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=e.gullet.popToken(),s=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new he("Expected a control sequence",i);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new he('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new he('Argument number "'+i.text+'" out of order');a++,c.push([])}else{if(i.text==="EOF")throw new he("Expected a macro definition");c[a].push(i.text)}var{tokens:u}=e.gullet.consumeArg();return l&&u.unshift(l),(n==="\\edef"||n==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(s,{tokens:u,numArgs:a,delimiters:c},n===_x[n]),{type:"internal",mode:e.mode}}});je({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=GN(e.gullet.popToken());e.gullet.consumeSpaces();var s=FX(e);return ZN(e,i,s,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});je({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,i=GN(e.gullet.popToken()),s=e.gullet.popToken(),a=e.gullet.popToken();return ZN(e,i,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var Vc=function(e,n,i){var s=kt.math[e]&&kt.math[e].replace,a=i5(s||e,n,i);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},h5=function(e,n,i,s){var a=i.havingBaseStyle(n),l=te.makeSpan(s.concat(a.sizingClasses(i)),[e],i),c=a.sizeMultiplier/i.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},KN=function(e,n,i){var s=n.havingBaseStyle(i),a=(1-n.sizeMultiplier/s.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=pe(a),e.height-=a,e.depth+=a},UX=function(e,n,i,s,a,l){var c=te.makeSymbol(e,"Main-Regular",a,s),u=h5(c,n,s,l);return i&&KN(u,s,n),u},HX=function(e,n,i,s){return te.makeSymbol(e,"Size"+n+"-Regular",i,s)},WN=function(e,n,i,s,a,l){var c=HX(e,n,a,s),u=h5(te.makeSpan(["delimsizing","size"+n],[c],s),qe.TEXT,s,l);return i&&KN(u,s,qe.TEXT),u},d4=function(e,n,i){var s;n==="Size1-Regular"?s="delim-size1":s="delim-size4";var a=te.makeSpan(["delimsizinginner",s],[te.makeSpan([],[te.makeSymbol(e,n,i)])]);return{type:"elem",elem:a}},m4=function(e,n,i){var s=Gi["Size4-Regular"][e.charCodeAt(0)]?Gi["Size4-Regular"][e.charCodeAt(0)][4]:Gi["Size1-Regular"][e.charCodeAt(0)][4],a=new fl("inner",WY(e,Math.round(1e3*n))),l=new ea([a],{width:pe(s),height:pe(n),style:"width:"+pe(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=te.makeSvgSpan([],[l],i);return c.height=n,c.style.height=pe(n),c.style.width=pe(s),{type:"elem",elem:c}},Ex=.008,_d={type:"kern",size:-1*Ex},VX=["|","\\lvert","\\rvert","\\vert"],GX=["\\|","\\lVert","\\rVert","\\Vert"],YN=function(e,n,i,s,a,l){var c,u,h,m,f="",p=0;c=h=m=e,u=null;var v="Size1-Regular";e==="\\uparrow"?h=m="":e==="\\Uparrow"?h=m="":e==="\\downarrow"?c=h="":e==="\\Downarrow"?c=h="":e==="\\updownarrow"?(c="\\uparrow",h="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",h="",m="\\Downarrow"):VX.includes(e)?(h="",f="vert",p=333):GX.includes(e)?(h="",f="doublevert",p=556):e==="["||e==="\\lbrack"?(c="",h="",m="",v="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(c="",h="",m="",v="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e===""?(h=c="",m="",v="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e===""?(c="",h=m="",v="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e===""?(h=c="",m="",v="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e===""?(c="",h=m="",v="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(c="",h="",m="",v="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(c="",h="",m="",v="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(c="",u="",m="",h="",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",u="",m="",h="",v="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",h="",v="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",h="",v="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",h="",v="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",h="",v="Size4-Regular");var T=Vc(c,v,a),M=T.height+T.depth,q=Vc(h,v,a),S=q.height+q.depth,A=Vc(m,v,a),N=A.height+A.depth,L=0,U=1;if(u!==null){var Q=Vc(u,v,a);L=Q.height+Q.depth,U=2}var D=M+N+L,C=Math.max(0,Math.ceil((n-D)/(U*S))),z=D+C*U*S,B=s.fontMetrics().axisHeight;i&&(B*=s.sizeMultiplier);var P=z/2-B,F=[];if(f.length>0){var $=z-M-N,_e=Math.round(z*1e3),Ee=YY(f,Math.round($*1e3)),le=new fl(f,Ee),me=(p/1e3).toFixed(3)+"em",ve=(_e/1e3).toFixed(3)+"em",Be=new ea([le],{width:me,height:ve,viewBox:"0 0 "+p+" "+_e}),ze=te.makeSvgSpan([],[Be],s);ze.height=_e/1e3,ze.style.width=me,ze.style.height=ve,F.push({type:"elem",elem:ze})}else{if(F.push(d4(m,v,a)),F.push(_d),u===null){var we=z-M-N+2*Ex;F.push(m4(h,we,s))}else{var ye=(z-M-N-L)/2+2*Ex;F.push(m4(h,ye,s)),F.push(_d),F.push(d4(u,v,a)),F.push(_d),F.push(m4(h,ye,s))}F.push(_d),F.push(d4(c,v,a))}var Se=s.havingBaseStyle(qe.TEXT),ct=te.makeVList({positionType:"bottom",positionData:P,children:F},Se);return h5(te.makeSpan(["delimsizing","mult"],[ct],Se),qe.TEXT,s,l)},f4=80,p4=.08,x4=function(e,n,i,s,a){var l=KY(e,s,i),c=new fl(e,l),u=new ea([c],{width:"400em",height:pe(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return te.makeSvgSpan(["hide-tail"],[u],a)},ZX=function(e,n){var i=n.havingBaseSizing(),s=e_("\\surd",e*i.sizeMultiplier,JN,i),a=i.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,u=0,h=0,m=0,f;return s.type==="small"?(m=1e3+1e3*l+f4,e<1?a=1:e<1.4&&(a=.7),u=(1+l+p4)/a,h=(1+l)/a,c=x4("sqrtMain",u,m,l,n),c.style.minWidth="0.853em",f=.833/a):s.type==="large"?(m=(1e3+f4)*pu[s.size],h=(pu[s.size]+l)/a,u=(pu[s.size]+l+p4)/a,c=x4("sqrtSize"+s.size,u,m,l,n),c.style.minWidth="1.02em",f=1/a):(u=e+l+p4,h=e+l,m=Math.floor(1e3*e+l)+f4,c=x4("sqrtTall",u,m,l,n),c.style.minWidth="0.742em",f=1.056),c.height=h,c.style.height=pe(u),{span:c,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},XN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],KX=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],QN=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],pu=[0,1.2,1.8,2.4,3],WX=function(e,n,i,s,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),XN.includes(e)||QN.includes(e))return WN(e,n,!1,i,s,a);if(KX.includes(e))return YN(e,pu[n],!1,i,s,a);throw new he("Illegal delimiter: '"+e+"'")},YX=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],XX=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"stack"}],JN=[{type:"small",style:qe.SCRIPTSCRIPT},{type:"small",style:qe.SCRIPT},{type:"small",style:qe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],QX=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},e_=function(e,n,i,s){for(var a=Math.min(2,3-s.style.size),l=a;l<i.length&&i[l].type!=="stack";l++){var c=Vc(e,QX(i[l]),"math"),u=c.height+c.depth;if(i[l].type==="small"){var h=s.havingBaseStyle(i[l].style);u*=h.sizeMultiplier}if(u>n)return i[l]}return i[i.length-1]},t_=function(e,n,i,s,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;QN.includes(e)?c=YX:XN.includes(e)?c=JN:c=XX;var u=e_(e,n,c,s);return u.type==="small"?UX(e,u.style,i,s,a,l):u.type==="large"?WN(e,u.size,i,s,a,l):YN(e,n,i,s,a,l)},JX=function(e,n,i,s,a,l){var c=s.fontMetrics().axisHeight*s.sizeMultiplier,u=901,h=5/s.fontMetrics().ptPerEm,m=Math.max(n-c,i+c),f=Math.max(m/500*u,2*m-h);return t_(e,f,!0,s,a,l)},Ps={sqrtImage:ZX,sizedDelim:WX,sizeToMaxHeight:pu,customSizedDelim:t_,leftRightDelim:JX},c8={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},eQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function hf(t,e){var n=cf(t);if(n&&eQ.includes(n.text))return n;throw n?new he("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new he("Invalid delimiter type '"+t.type+"'",t)}je({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=hf(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:c8[t.funcName].size,mclass:c8[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?te.makeSpan([t.mclass]):Ps.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(fi(t.delim,t.mode));var n=new ce.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=pe(Ps.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function u8(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}je({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new he("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:hf(e[0],t).text,color:n}}});je({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=hf(e[0],t),i=t.parser;++i.leftrightDepth;var s=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=We(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:s,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{u8(t);for(var n=kn(t.body,e,!0,["mopen","mclose"]),i=0,s=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(i=Math.max(n[l].height,i),s=Math.max(n[l].depth,s));i*=e.sizeMultiplier,s*=e.sizeMultiplier;var c;if(t.left==="."?c=Gu(e,["mopen"]):c=Ps.leftRightDelim(t.left,i,s,e,t.mode,["mopen"]),n.unshift(c),a)for(var u=1;u<n.length;u++){var h=n[u],m=h.isMiddle;m&&(n[u]=Ps.leftRightDelim(m.delim,i,s,m.options,t.mode,[]))}var f;if(t.right===".")f=Gu(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;f=Ps.leftRightDelim(t.right,i,s,p,t.mode,["mclose"])}return n.push(f),te.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{u8(t);var n=Ar(t.body,e);if(t.left!=="."){var i=new ce.MathNode("mo",[fi(t.left,t.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(t.right!=="."){var s=new ce.MathNode("mo",[fi(t.right,t.mode)]);s.setAttribute("fence","true"),t.rightColor&&s.setAttribute("mathcolor",t.rightColor),n.push(s)}return l5(n)}});je({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=hf(e[0],t);if(!t.parser.leftrightDepth)throw new he("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Gu(e,[]);else{n=Ps.sizedDelim(t.delim,1,e,t.mode,[]);var i={delim:t.delim,options:e};n.isMiddle=i}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?fi("|","text"):fi(t.delim,t.mode),i=new ce.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var d5=(t,e)=>{var n=te.wrapFragment(rt(t.body,e),e),i=t.label.slice(1),s=e.sizeMultiplier,a,l=0,c=at.isCharacterBox(t.body);if(i==="sout")a=te.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/s,l=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var u=$t({number:.6,unit:"pt"},e),h=$t({number:.35,unit:"ex"},e),m=e.havingBaseSizing();s=s/m.sizeMultiplier;var f=n.height+n.depth+u+h;n.style.paddingLeft=pe(f/2+u);var p=Math.floor(1e3*f*s),v=GY(p),T=new ea([new fl("phase",v)],{width:"400em",height:pe(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=te.makeSvgSpan(["hide-tail"],[T],e),a.style.height=pe(f),l=n.depth+u+h}else{/cancel/.test(i)?c||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var M=0,q=0,S=0;/box/.test(i)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),M=e.fontMetrics().fboxsep+(i==="colorbox"?0:S),q=M):i==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),M=4*S,q=Math.max(0,.25-n.depth)):(M=c?.2:0,q=M),a=na.encloseSpan(n,i,M,q,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=pe(S)):i==="angl"&&S!==.049&&(a.style.borderTopWidth=pe(S),a.style.borderRightWidth=pe(S)),l=n.depth+q,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var A;if(t.backgroundColor)A=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var N=/cancel|phase/.test(i)?["svg-align"]:[];A=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:N}]},e)}return/cancel/.test(i)&&(A.height=n.height,A.depth=n.depth),/cancel/.test(i)&&!c?te.makeSpan(["mord","cancel-lap"],[A],e):te.makeSpan(["mord"],[A],e)},m5=(t,e)=>{var n=0,i=new ce.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vt(t.body,e)]);switch(t.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+s+"em solid "+String(t.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&i.setAttribute("mathbackground",t.backgroundColor),i};je({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:i,funcName:s}=t,a=We(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:i.mode,label:s,backgroundColor:a,body:l}},htmlBuilder:d5,mathmlBuilder:m5});je({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:i,funcName:s}=t,a=We(e[0],"color-token").color,l=We(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:i.mode,label:s,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:d5,mathmlBuilder:m5});je({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});je({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"enclose",mode:n.mode,label:i,body:s}},htmlBuilder:d5,mathmlBuilder:m5});je({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var n_={};function ls(t){for(var{type:e,names:n,props:i,handler:s,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},u=0;u<n.length;++u)n_[n[u]]=c;a&&(u1[e]=a),l&&(h1[e]=l)}var r_={};function O(t,e){r_[t]=e}function h8(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var df=t=>{var e=t.parser.settings;if(!e.displayMode)throw new he("{"+t.envName+"} can be used only in display mode.")};function f5(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Sl(t,e,n){var{hskipBeforeAndAfter:i,addJot:s,cols:a,arraystretch:l,colSeparationType:c,autoTag:u,singleRow:h,emptySingleRow:m,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var v=t.gullet.expandMacroAsText("\\arraystretch");if(v==null)l=1;else if(l=parseFloat(v),!l||l<0)throw new he("Invalid \\arraystretch: "+v)}t.gullet.beginGroup();var T=[],M=[T],q=[],S=[],A=u!=null?[]:void 0;function N(){u&&t.gullet.macros.set("\\@eqnsw","1",!0)}function L(){A&&(t.gullet.macros.get("\\df@tag")?(A.push(t.subparse([new Pr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!u&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(N(),S.push(h8(t));;){var U=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),U={type:"ordgroup",mode:t.mode,body:U},n&&(U={type:"styling",mode:t.mode,style:n,body:[U]}),T.push(U);var Q=t.fetch().text;if(Q==="&"){if(f&&T.length===f){if(h||c)throw new he("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(Q==="\\end"){L(),T.length===1&&U.type==="styling"&&U.body[0].body.length===0&&(M.length>1||!m)&&M.pop(),S.length<M.length+1&&S.push([]);break}else if(Q==="\\\\"){t.consume();var D=void 0;t.gullet.future().text!==" "&&(D=t.parseSizeGroup(!0)),q.push(D?D.value:null),L(),S.push(h8(t)),T=[],M.push(T),N()}else throw new he("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:s,arraystretch:l,body:M,cols:a,rowGaps:q,hskipBeforeAndAfter:i,hLinesBeforeRow:S,colSeparationType:c,tags:A,leqno:p}}function p5(t){return t.slice(0,1)==="d"?"display":"text"}var os=function(e,n){var i,s,a=e.body.length,l=e.hLinesBeforeRow,c=0,u=new Array(a),h=[],m=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var v=n.havingStyle(qe.SCRIPT).sizeMultiplier;p=.2778*(v/n.sizeMultiplier)}var T=e.colSeparationType==="CD"?$t({number:3,unit:"ex"},n):12*f,M=3*f,q=e.arraystretch*T,S=.7*q,A=.3*q,N=0;function L(An){for(var Dn=0;Dn<An.length;++Dn)Dn>0&&(N+=.25),h.push({pos:N,isDashed:An[Dn]})}for(L(l[0]),i=0;i<e.body.length;++i){var U=e.body[i],Q=S,D=A;c<U.length&&(c=U.length);var C=new Array(U.length);for(s=0;s<U.length;++s){var z=rt(U[s],n);D<z.depth&&(D=z.depth),Q<z.height&&(Q=z.height),C[s]=z}var B=e.rowGaps[i],P=0;B&&(P=$t(B,n),P>0&&(P+=A,D<P&&(D=P),P=0)),e.addJot&&(D+=M),C.height=Q,C.depth=D,N+=Q,C.pos=N,N+=D+P,u[i]=C,L(l[i+1])}var F=N/2+n.fontMetrics().axisHeight,$=e.cols||[],_e=[],Ee,le,me=[];if(e.tags&&e.tags.some(An=>An))for(i=0;i<a;++i){var ve=u[i],Be=ve.pos-F,ze=e.tags[i],we=void 0;ze===!0?we=te.makeSpan(["eqn-num"],[],n):ze===!1?we=te.makeSpan([],[],n):we=te.makeSpan([],kn(ze,n,!0),n),we.depth=ve.depth,we.height=ve.height,me.push({type:"elem",elem:we,shift:Be})}for(s=0,le=0;s<c||le<$.length;++s,++le){for(var ye=$[le]||{},Se=!0;ye.type==="separator";){if(Se||(Ee=te.makeSpan(["arraycolsep"],[]),Ee.style.width=pe(n.fontMetrics().doubleRuleSep),_e.push(Ee)),ye.separator==="|"||ye.separator===":"){var ct=ye.separator==="|"?"solid":"dashed",Pe=te.makeSpan(["vertical-separator"],[],n);Pe.style.height=pe(N),Pe.style.borderRightWidth=pe(m),Pe.style.borderRightStyle=ct,Pe.style.margin="0 "+pe(-m/2);var Gn=N-F;Gn&&(Pe.style.verticalAlign=pe(-Gn)),_e.push(Pe)}else throw new he("Invalid separator type: "+ye.separator);le++,ye=$[le]||{},Se=!1}if(!(s>=c)){var Ht=void 0;(s>0||e.hskipBeforeAndAfter)&&(Ht=at.deflt(ye.pregap,p),Ht!==0&&(Ee=te.makeSpan(["arraycolsep"],[]),Ee.style.width=pe(Ht),_e.push(Ee)));var Vt=[];for(i=0;i<a;++i){var ur=u[i],Tn=ur[s];if(Tn){var xi=ur.pos-F;Tn.depth=ur.depth,Tn.height=ur.height,Vt.push({type:"elem",elem:Tn,shift:xi})}}Vt=te.makeVList({positionType:"individualShift",children:Vt},n),Vt=te.makeSpan(["col-align-"+(ye.align||"c")],[Vt]),_e.push(Vt),(s<c-1||e.hskipBeforeAndAfter)&&(Ht=at.deflt(ye.postgap,p),Ht!==0&&(Ee=te.makeSpan(["arraycolsep"],[]),Ee.style.width=pe(Ht),_e.push(Ee)))}}if(u=te.makeSpan(["mtable"],_e),h.length>0){for(var Oi=te.makeLineSpan("hline",n,m),hr=te.makeLineSpan("hdashline",n,m),Fn=[{type:"elem",elem:u,shift:0}];h.length>0;){var zn=h.pop(),Vr=zn.pos-F;zn.isDashed?Fn.push({type:"elem",elem:hr,shift:Vr}):Fn.push({type:"elem",elem:Oi,shift:Vr})}u=te.makeVList({positionType:"individualShift",children:Fn},n)}if(me.length===0)return te.makeSpan(["mord"],[u],n);var Nr=te.makeVList({positionType:"individualShift",children:me},n);return Nr=te.makeSpan(["tag"],[Nr],n),te.makeFragment([u,Nr])},tQ={c:"center ",l:"left ",r:"right "},cs=function(e,n){for(var i=[],s=new ce.MathNode("mtd",[],["mtr-glue"]),a=new ce.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],u=[],h=0;h<c.length;h++)u.push(new ce.MathNode("mtd",[vt(c[h],n)]));e.tags&&e.tags[l]&&(u.unshift(s),u.push(s),e.leqno?u.unshift(a):u.push(a)),i.push(new ce.MathNode("mtr",u))}var m=new ce.MathNode("mtable",i),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",pe(f));var p="",v="";if(e.cols&&e.cols.length>0){var T=e.cols,M="",q=!1,S=0,A=T.length;T[0].type==="separator"&&(p+="top ",S=1),T[T.length-1].type==="separator"&&(p+="bottom ",A-=1);for(var N=S;N<A;N++)T[N].type==="align"?(v+=tQ[T[N].align],q&&(M+="none "),q=!0):T[N].type==="separator"&&q&&(M+=T[N].separator==="|"?"solid ":"dashed ",q=!1);m.setAttribute("columnalign",v.trim()),/[sd]/.test(M)&&m.setAttribute("columnlines",M.trim())}if(e.colSeparationType==="align"){for(var L=e.cols||[],U="",Q=1;Q<L.length;Q++)U+=Q%2?"0em ":"1em ";m.setAttribute("columnspacing",U.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var D="",C=e.hLinesBeforeRow;p+=C[0].length>0?"left ":"",p+=C[C.length-1].length>0?"right ":"";for(var z=1;z<C.length-1;z++)D+=C[z].length===0?"none ":C[z][0]?"dashed ":"solid ";return/[sd]/.test(D)&&m.setAttribute("rowlines",D.trim()),p!==""&&(m=new ce.MathNode("menclose",[m]),m.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(m=new ce.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},i_=function(e,n){e.envName.indexOf("ed")===-1&&df(e);var i=[],s=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=Sl(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:f5(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,u=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var m="",f=0;f<n[0].body.length;f++){var p=We(n[0].body[f],"textord");m+=p.text}c=Number(m),u=c*2}var v=!u;l.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var N=We(S[A],"styling"),L=We(N.body[0],"ordgroup");L.body.unshift(h)}if(v)u<S.length&&(u=S.length);else{var U=S.length/2;if(c<U)throw new he("Too many math in a row: "+("expected "+c+", but got "+U),S[0])}});for(var T=0;T<u;++T){var M="r",q=0;T%2===1?M="l":T>0&&v&&(q=1),i[T]={type:"align",align:M,pregap:q,postgap:0}}return l.colSeparationType=v?"align":"alignat",l};ls({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=cf(e[0]),i=n?[e[0]]:We(e[0],"ordgroup").body,s=i.map(function(l){var c=c5(l),u=c.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new he("Unknown column alignment: "+u,l)}),a={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return Sl(t.parser,a,p5(t.envName))},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var s=t.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),n=s.fetch().text,"lcr".indexOf(n)===-1)throw new he("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),i.cols=[{type:"align",align:n}]}}var a=Sl(t.parser,i,p5(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Sl(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=cf(e[0]),i=n?[e[0]]:We(e[0],"ordgroup").body,s=i.map(function(l){var c=c5(l),u=c.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new he("Unknown column alignment: "+u,l)});if(s.length>1)throw new he("{subarray} can contain only one column");var a={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Sl(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new he("{subarray} can contain only one column");return a},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Sl(t.parser,e,p5(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:i_,htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&df(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:f5(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Sl(t.parser,e,"display")},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:i_,htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){df(t);var e={autoTag:f5(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Sl(t.parser,e,"display")},htmlBuilder:os,mathmlBuilder:cs});ls({type:"array",names:["CD"],props:{numArgs:0},handler(t){return df(t),$X(t.parser)},htmlBuilder:os,mathmlBuilder:cs});O("\\nonumber","\\gdef\\@eqnsw{0}");O("\\notag","\\nonumber");je({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new he(t.funcName+" valid only within array environment")}});var d8=n_;je({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];if(s.type!=="ordgroup")throw new he("Invalid environment name",s);for(var a="",l=0;l<s.body.length;++l)a+=We(s.body[l],"textord").text;if(i==="\\begin"){if(!d8.hasOwnProperty(a))throw new he("No such environment: "+a,s);var c=d8[a],{args:u,optArgs:h}=n.parseArguments("\\begin{"+a+"}",c),m={mode:n.mode,envName:a,parser:n},f=c.handler(m,u,h);n.expect("\\end",!1);var p=n.nextToken,v=We(n.parseFunction(),"environment");if(v.name!==a)throw new he("Mismatch: \\begin{"+a+"} matched by \\end{"+v.name+"}",p);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:s}}});var s_=(t,e)=>{var n=t.font,i=e.withFont(n);return rt(t.body,i)},a_=(t,e)=>{var n=t.font,i=e.withFont(n);return vt(t.body,i)},m8={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};je({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=d1(e[0]),a=i;return a in m8&&(a=m8[a]),{type:"font",mode:n.mode,font:a.slice(1),body:s}},htmlBuilder:s_,mathmlBuilder:a_});je({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,i=e[0],s=at.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:uf(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:s}}});je({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i,breakOnTokenText:s}=t,{mode:a}=n,l=n.parseExpression(!0,s),c="math"+i.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:s_,mathmlBuilder:a_});var l_=(t,e)=>{var n=e;return t==="display"?n=n.id>=qe.SCRIPT.id?n.text():qe.DISPLAY:t==="text"&&n.size===qe.DISPLAY.size?n=qe.TEXT:t==="script"?n=qe.SCRIPT:t==="scriptscript"&&(n=qe.SCRIPTSCRIPT),n},x5=(t,e)=>{var n=l_(t.size,e.style),i=n.fracNum(),s=n.fracDen(),a;a=e.havingStyle(i);var l=rt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<u?u:l.depth}a=e.havingStyle(s);var h=rt(t.denom,a,e),m,f,p;t.hasBarLine?(t.barSize?(f=$t(t.barSize,e),m=te.makeLineSpan("frac-line",e,f)):m=te.makeLineSpan("frac-line",e),f=m.height,p=m.height):(m=null,f=0,p=e.fontMetrics().defaultRuleThickness);var v,T,M;n.size===qe.DISPLAY.size||t.size==="display"?(v=e.fontMetrics().num1,f>0?T=3*p:T=7*p,M=e.fontMetrics().denom1):(f>0?(v=e.fontMetrics().num2,T=p):(v=e.fontMetrics().num3,T=3*p),M=e.fontMetrics().denom2);var q;if(m){var A=e.fontMetrics().axisHeight;v-l.depth-(A+.5*f)<T&&(v+=T-(v-l.depth-(A+.5*f))),A-.5*f-(h.height-M)<T&&(M+=T-(A-.5*f-(h.height-M)));var N=-(A-.5*f);q=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:M},{type:"elem",elem:m,shift:N},{type:"elem",elem:l,shift:-v}]},e)}else{var S=v-l.depth-(h.height-M);S<T&&(v+=.5*(T-S),M+=.5*(T-S)),q=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:M},{type:"elem",elem:l,shift:-v}]},e)}a=e.havingStyle(n),q.height*=a.sizeMultiplier/e.sizeMultiplier,q.depth*=a.sizeMultiplier/e.sizeMultiplier;var L;n.size===qe.DISPLAY.size?L=e.fontMetrics().delim1:n.size===qe.SCRIPTSCRIPT.size?L=e.havingStyle(qe.SCRIPT).fontMetrics().delim2:L=e.fontMetrics().delim2;var U,Q;return t.leftDelim==null?U=Gu(e,["mopen"]):U=Ps.customSizedDelim(t.leftDelim,L,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?Q=te.makeSpan([]):t.rightDelim==null?Q=Gu(e,["mclose"]):Q=Ps.customSizedDelim(t.rightDelim,L,!0,e.havingStyle(n),t.mode,["mclose"]),te.makeSpan(["mord"].concat(a.sizingClasses(e)),[U,te.makeSpan(["mfrac"],[q]),Q],e)},g5=(t,e)=>{var n=new ce.MathNode("mfrac",[vt(t.numer,e),vt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var i=$t(t.barSize,e);n.setAttribute("linethickness",pe(i))}var s=l_(t.size,e.style);if(s.size!==e.style.size){n=new ce.MathNode("mstyle",[n]);var a=s.size===qe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new ce.MathNode("mo",[new ce.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(n),t.rightDelim!=null){var u=new ce.MathNode("mo",[new ce.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),l.push(u)}return l5(l)}return n};je({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=e[1],l,c=null,u=null,h="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",u=")";break;case"\\\\bracefrac":l=!1,c="\\{",u="\\}";break;case"\\\\brackfrac":l=!1,c="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:s,denom:a,hasBarLine:l,leftDelim:c,rightDelim:u,size:h,barSize:null}},htmlBuilder:x5,mathmlBuilder:g5});je({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:s,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});je({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:i}=t,s;switch(n){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:i}}});var f8=["display","text","script","scriptscript"],p8=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};je({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,i=e[4],s=e[5],a=d1(e[0]),l=a.type==="atom"&&a.family==="open"?p8(a.text):null,c=d1(e[1]),u=c.type==="atom"&&c.family==="close"?p8(c.text):null,h=We(e[2],"size"),m,f=null;h.isBlank?m=!0:(f=h.value,m=f.number>0);var p="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var T=We(v.body[0],"textord");p=f8[Number(T.text)]}}else v=We(v,"textord"),p=f8[Number(v.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:m,barSize:f,leftDelim:l,rightDelim:u,size:p}},htmlBuilder:x5,mathmlBuilder:g5});je({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:i,token:s}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:We(e[0],"size").value,token:s}}});je({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0],a=MY(We(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:n.mode,numer:s,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:x5,mathmlBuilder:g5});var o_=(t,e)=>{var n=e.style,i,s;t.type==="supsub"?(i=t.sup?rt(t.sup,e.havingStyle(n.sup()),e):rt(t.sub,e.havingStyle(n.sub()),e),s=We(t.base,"horizBrace")):s=We(t,"horizBrace");var a=rt(s.base,e.havingBaseStyle(qe.DISPLAY)),l=na.svgSpan(s,e),c;if(s.isOver?(c=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=te.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),i){var u=te.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e);s.isOver?c=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:i}]},e):c=te.makeVList({positionType:"bottom",positionData:u.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return te.makeSpan(["mord",s.isOver?"mover":"munder"],[c],e)},nQ=(t,e)=>{var n=na.mathMLnode(t.label);return new ce.MathNode(t.isOver?"mover":"munder",[vt(t.base,e),n])};je({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:i}=t;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:o_,mathmlBuilder:nQ});je({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[1],s=We(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:n.mode,href:s,body:sn(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=kn(t.body,e,!1);return te.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=pl(t.body,e);return n instanceof Rr||(n=new Rr("mrow",[n])),n.setAttribute("href",t.href),n}});je({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=We(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var s=[],a=0;a<i.length;a++){var l=i[a];l==="~"&&(l="\\textasciitilde"),s.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:n.mode,font:"\\texttt",body:s};return{type:"href",mode:n.mode,href:i,body:sn(c)}}});je({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:sn(e[0])}},htmlBuilder(t,e){var n=kn(t.body,e,!1);return te.makeFragment(n)},mathmlBuilder(t,e){return new ce.MathNode("mrow",Ar(t.body,e))}});je({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i,token:s}=t,a=We(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,u={};switch(i){case"\\htmlClass":u.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),m=0;m<h.length;m++){var f=h[m],p=f.indexOf("=");if(p<0)throw new he("\\htmlData key/value '"+f+"' missing equals sign");var v=f.slice(0,p),T=f.slice(p+1);u["data-"+v.trim()]=T}c={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:u,body:sn(l)}:n.formatUnsupportedCmd(i)},htmlBuilder:(t,e)=>{var n=kn(t.body,e,!1),i=["enclosing"];t.attributes.class&&i.push(...t.attributes.class.trim().split(/\s+/));var s=te.makeSpan(i,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&s.setAttribute(a,t.attributes[a]);return s},mathmlBuilder:(t,e)=>pl(t.body,e)});je({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:sn(e[0]),mathml:sn(e[1])}},htmlBuilder:(t,e)=>{var n=kn(t.html,e,!1);return te.makeFragment(n)},mathmlBuilder:(t,e)=>pl(t.mathml,e)});var g4=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new he("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!NN(i))throw new he("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};je({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:i}=t,s={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(n[0])for(var u=We(n[0],"raw").string,h=u.split(","),m=0;m<h.length;m++){var f=h[m].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":c=p;break;case"width":s=g4(p);break;case"height":a=g4(p);break;case"totalheight":l=g4(p);break;default:throw new he("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var v=We(e[0],"url").url;return c===""&&(c=v,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:i.mode,alt:c,width:s,height:a,totalheight:l,src:v}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=$t(t.height,e),i=0;t.totalheight.number>0&&(i=$t(t.totalheight,e)-n);var s=0;t.width.number>0&&(s=$t(t.width,e));var a={height:pe(n+i)};s>0&&(a.width=pe(s)),i>0&&(a.verticalAlign=pe(-i));var l=new nX(t.src,t.alt,a);return l.height=n,l.depth=i,l},mathmlBuilder:(t,e)=>{var n=new ce.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var i=$t(t.height,e),s=0;if(t.totalheight.number>0&&(s=$t(t.totalheight,e)-i,n.setAttribute("valign",pe(-s))),n.setAttribute("height",pe(i+s)),t.width.number>0){var a=$t(t.width,e);n.setAttribute("width",pe(a))}return n.setAttribute("src",t.src),n}});je({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:i}=t,s=We(e[0],"size");if(n.settings.strict){var a=i[1]==="m",l=s.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+s.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:s.value}},htmlBuilder(t,e){return te.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=$t(t.dimension,e);return new ce.SpaceNode(n)}});je({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:s}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=te.makeSpan([],[rt(t.body,e)]),n=te.makeSpan(["inner"],[n],e)):n=te.makeSpan(["inner"],[rt(t.body,e)]);var i=te.makeSpan(["fix"],[]),s=te.makeSpan([t.alignment],[n,i],e),a=te.makeSpan(["strut"]);return a.style.height=pe(s.height+s.depth),s.depth&&(a.style.verticalAlign=pe(-s.depth)),s.children.unshift(a),s=te.makeSpan(["thinbox"],[s],e),te.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(t,e)=>{var n=new ce.MathNode("mpadded",[vt(t.body,e)]);if(t.alignment!=="rlap"){var i=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});je({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:i}=t,s=i.mode;i.switchMode("math");var a=n==="\\("?"\\)":"$",l=i.parseExpression(!1,a);return i.expect(a),i.switchMode(s),{type:"styling",mode:i.mode,style:"text",body:l}}});je({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new he("Mismatched "+t.funcName)}});var x8=(t,e)=>{switch(e.style.size){case qe.DISPLAY.size:return t.display;case qe.TEXT.size:return t.text;case qe.SCRIPT.size:return t.script;case qe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};je({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:sn(e[0]),text:sn(e[1]),script:sn(e[2]),scriptscript:sn(e[3])}},htmlBuilder:(t,e)=>{var n=x8(t,e),i=kn(n,e,!1);return te.makeFragment(i)},mathmlBuilder:(t,e)=>{var n=x8(t,e);return pl(n,e)}});var c_=(t,e,n,i,s,a,l)=>{t=te.makeSpan([],[t]);var c=n&&at.isCharacterBox(n),u,h;if(e){var m=rt(e,i.havingStyle(s.sup()),i);h={elem:m,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-m.depth)}}if(n){var f=rt(n,i.havingStyle(s.sub()),i);u={elem:f,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-f.height)}}var p;if(h&&u){var v=i.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+t.depth+l;p=te.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:pe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:pe(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(u){var T=t.height-l;p=te.makeVList({positionType:"top",positionData:T,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:pe(-a)},{type:"kern",size:u.kern},{type:"elem",elem:t}]},i)}else if(h){var M=t.depth+l;p=te.makeVList({positionType:"bottom",positionData:M,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:pe(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return t;var q=[p];if(u&&a!==0&&!c){var S=te.makeSpan(["mspace"],[],i);S.style.marginRight=pe(a),q.unshift(S)}return te.makeSpan(["mop","op-limits"],q,i)},u_=["\\smallint"],nc=(t,e)=>{var n,i,s=!1,a;t.type==="supsub"?(n=t.sup,i=t.sub,a=We(t.base,"op"),s=!0):a=We(t,"op");var l=e.style,c=!1;l.size===qe.DISPLAY.size&&a.symbol&&!u_.includes(a.name)&&(c=!0);var u;if(a.symbol){var h=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),u=te.makeSymbol(a.name,h,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var f=u.italic,p=te.staticSvg(m+"Size"+(c?"2":"1"),e);u=te.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},e),a.name="\\"+m,u.classes.unshift("mop"),u.italic=f}}else if(a.body){var v=kn(a.body,e,!0);v.length===1&&v[0]instanceof mi?(u=v[0],u.classes[0]="mop"):u=te.makeSpan(["mop"],v,e)}else{for(var T=[],M=1;M<a.name.length;M++)T.push(te.mathsym(a.name[M],a.mode,e));u=te.makeSpan(["mop"],T,e)}var q=0,S=0;return(u instanceof mi||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(q=(u.height-u.depth)/2-e.fontMetrics().axisHeight,S=u.italic),s?c_(u,n,i,e,l,S,q):(q&&(u.style.position="relative",u.style.top=pe(q)),u)},jh=(t,e)=>{var n;if(t.symbol)n=new Rr("mo",[fi(t.name,t.mode)]),u_.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Rr("mo",Ar(t.body,e));else{n=new Rr("mi",[new Zi(t.name.slice(1))]);var i=new Rr("mo",[fi("","text")]);t.parentIsSupSub?n=new Rr("mrow",[n,i]):n=LN([n,i])}return n},rQ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};je({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=i;return s.length===1&&(s=rQ[s]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:nc,mathmlBuilder:jh});je({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:sn(i)}},htmlBuilder:nc,mathmlBuilder:jh});var iQ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};je({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:nc,mathmlBuilder:jh});je({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:nc,mathmlBuilder:jh});je({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,i=n;return i.length===1&&(i=iQ[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:nc,mathmlBuilder:jh});var h_=(t,e)=>{var n,i,s=!1,a;t.type==="supsub"?(n=t.sup,i=t.sub,a=We(t.base,"operatorname"),s=!0):a=We(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),u=kn(c,e.withFont("mathrm"),!0),h=0;h<u.length;h++){var m=u[h];m instanceof mi&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=te.makeSpan(["mop"],u,e)}else l=te.makeSpan(["mop"],[],e);return s?c_(l,n,i,e,e.style,0,0):l},sQ=(t,e)=>{for(var n=Ar(t.body,e.withFont("mathrm")),i=!0,s=0;s<n.length;s++){var a=n[s];if(!(a instanceof ce.SpaceNode))if(a instanceof ce.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof ce.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var c=n.map(m=>m.toText()).join("");n=[new ce.TextNode(c)]}var u=new ce.MathNode("mi",n);u.setAttribute("mathvariant","normal");var h=new ce.MathNode("mo",[fi("","text")]);return t.parentIsSupSub?new ce.MathNode("mrow",[u,h]):ce.newDocumentFragment([u,h])};je({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:i}=t,s=e[0];return{type:"operatorname",mode:n.mode,body:sn(s),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:h_,mathmlBuilder:sQ});O("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ao({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?te.makeFragment(kn(t.body,e,!1)):te.makeSpan(["mord"],kn(t.body,e,!0),e)},mathmlBuilder(t,e){return pl(t.body,e,!0)}});je({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,i=e[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(t,e){var n=rt(t.body,e.havingCrampedStyle()),i=te.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,a=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*s},{type:"elem",elem:i},{type:"kern",size:s}]},e);return te.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new ce.MathNode("mo",[new ce.TextNode("")]);n.setAttribute("stretchy","true");var i=new ce.MathNode("mover",[vt(t.body,e),n]);return i.setAttribute("accent","true"),i}});je({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"phantom",mode:n.mode,body:sn(i)}},htmlBuilder:(t,e)=>{var n=kn(t.body,e.withPhantom(),!1);return te.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ar(t.body,e);return new ce.MathNode("mphantom",n)}});je({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(t,e)=>{var n=te.makeSpan([],[rt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),te.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ar(sn(t.body),e),i=new ce.MathNode("mphantom",n),s=new ce.MathNode("mpadded",[i]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});je({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,i=e[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(t,e)=>{var n=te.makeSpan(["inner"],[rt(t.body,e.withPhantom())]),i=te.makeSpan(["fix"],[]);return te.makeSpan(["mord","rlap"],[n,i],e)},mathmlBuilder:(t,e)=>{var n=Ar(sn(t.body),e),i=new ce.MathNode("mphantom",n),s=new ce.MathNode("mpadded",[i]);return s.setAttribute("width","0px"),s}});je({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,i=We(e[0],"size").value,s=e[1];return{type:"raisebox",mode:n.mode,dy:i,body:s}},htmlBuilder(t,e){var n=rt(t.body,e),i=$t(t.dy,e);return te.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ce.MathNode("mpadded",[vt(t.body,e)]),i=t.dy.number+t.dy.unit;return n.setAttribute("voffset",i),n}});je({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});je({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:i}=t,s=n[0],a=We(e[0],"size"),l=We(e[1],"size");return{type:"rule",mode:i.mode,shift:s&&We(s,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=te.makeSpan(["mord","rule"],[],e),i=$t(t.width,e),s=$t(t.height,e),a=t.shift?$t(t.shift,e):0;return n.style.borderRightWidth=pe(i),n.style.borderTopWidth=pe(s),n.style.bottom=pe(a),n.width=i,n.height=s+a,n.depth=-a,n.maxFontSize=s*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=$t(t.width,e),i=$t(t.height,e),s=t.shift?$t(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new ce.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",pe(n)),l.setAttribute("height",pe(i));var c=new ce.MathNode("mpadded",[l]);return s>=0?c.setAttribute("height",pe(s)):(c.setAttribute("height",pe(s)),c.setAttribute("depth",pe(-s))),c.setAttribute("voffset",pe(s)),c}});function d_(t,e,n){for(var i=kn(t,e,!1),s=e.sizeMultiplier/n.sizeMultiplier,a=0;a<i.length;a++){var l=i[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(n)):i[a].classes[l+1]==="reset-size"+e.size&&(i[a].classes[l+1]="reset-size"+n.size),i[a].height*=s,i[a].depth*=s}return te.makeFragment(i)}var g8=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],aQ=(t,e)=>{var n=e.havingSize(t.size);return d_(t.body,n,e)};je({type:"sizing",names:g8,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:i,parser:s}=t,a=s.parseExpression(!1,n);return{type:"sizing",mode:s.mode,size:g8.indexOf(i)+1,body:a}},htmlBuilder:aQ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),i=Ar(t.body,n),s=new ce.MathNode("mstyle",i);return s.setAttribute("mathsize",pe(n.sizeMultiplier)),s}});je({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:i}=t,s=!1,a=!1,l=n[0]&&We(n[0],"ordgroup");if(l)for(var c="",u=0;u<l.body.length;++u){var h=l.body[u];if(c=h.text,c==="t")s=!0;else if(c==="b")a=!0;else{s=!1,a=!1;break}}else s=!0,a=!0;var m=e[0];return{type:"smash",mode:i.mode,body:m,smashHeight:s,smashDepth:a}},htmlBuilder:(t,e)=>{var n=te.makeSpan([],[rt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].depth=0;var a=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return te.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new ce.MathNode("mpadded",[vt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});je({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:i}=t,s=n[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:s}},htmlBuilder(t,e){var n=rt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=te.wrapFragment(n,e);var i=e.fontMetrics(),s=i.defaultRuleThickness,a=s;e.style.id<qe.TEXT.id&&(a=e.fontMetrics().xHeight);var l=s+a/4,c=n.height+n.depth+l+s,{span:u,ruleWidth:h,advanceWidth:m}=Ps.sqrtImage(c,e),f=u.height-h;f>n.height+n.depth+l&&(l=(l+f-n.height-n.depth)/2);var p=u.height-n.height-l-h;n.style.paddingLeft=pe(m);var v=te.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:u},{type:"kern",size:h}]},e);if(t.index){var T=e.havingStyle(qe.SCRIPTSCRIPT),M=rt(t.index,T,e),q=.6*(v.height-v.depth),S=te.makeVList({positionType:"shift",positionData:-q,children:[{type:"elem",elem:M}]},e),A=te.makeSpan(["root"],[S]);return te.makeSpan(["mord","sqrt"],[A,v],e)}else return te.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(t,e){var{body:n,index:i}=t;return i?new ce.MathNode("mroot",[vt(n,e),vt(i,e)]):new ce.MathNode("msqrt",[vt(n,e)])}});var v8={display:qe.DISPLAY,text:qe.TEXT,script:qe.SCRIPT,scriptscript:qe.SCRIPTSCRIPT};je({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:i,parser:s}=t,a=s.parseExpression(!0,n),l=i.slice(1,i.length-5);return{type:"styling",mode:s.mode,style:l,body:a}},htmlBuilder(t,e){var n=v8[t.style],i=e.havingStyle(n).withFont("");return d_(t.body,i,e)},mathmlBuilder(t,e){var n=v8[t.style],i=e.havingStyle(n),s=Ar(t.body,i),a=new ce.MathNode("mstyle",s),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var lQ=function(e,n){var i=e.base;if(i)if(i.type==="op"){var s=i.limits&&(n.style.size===qe.DISPLAY.size||i.alwaysHandleSupSub);return s?nc:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(n.style.size===qe.DISPLAY.size||i.limits);return a?h_:null}else{if(i.type==="accent")return at.isCharacterBox(i.base)?u5:null;if(i.type==="horizBrace"){var l=!e.sub;return l===i.isOver?o_:null}else return null}else return null};Ao({type:"supsub",htmlBuilder(t,e){var n=lQ(t,e);if(n)return n(t,e);var{base:i,sup:s,sub:a}=t,l=rt(i,e),c,u,h=e.fontMetrics(),m=0,f=0,p=i&&at.isCharacterBox(i);if(s){var v=e.havingStyle(e.style.sup());c=rt(s,v,e),p||(m=l.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(a){var T=e.havingStyle(e.style.sub());u=rt(a,T,e),p||(f=l.depth+T.fontMetrics().subDrop*T.sizeMultiplier/e.sizeMultiplier)}var M;e.style===qe.DISPLAY?M=h.sup1:e.style.cramped?M=h.sup3:M=h.sup2;var q=e.sizeMultiplier,S=pe(.5/h.ptPerEm/q),A=null;if(u){var N=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof mi||N)&&(A=pe(-l.italic))}var L;if(c&&u){m=Math.max(m,M,c.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var U=h.defaultRuleThickness,Q=4*U;if(m-c.depth-(u.height-f)<Q){f=Q-(m-c.depth)+u.height;var D=.8*h.xHeight-(m-c.depth);D>0&&(m+=D,f-=D)}var C=[{type:"elem",elem:u,shift:f,marginRight:S,marginLeft:A},{type:"elem",elem:c,shift:-m,marginRight:S}];L=te.makeVList({positionType:"individualShift",children:C},e)}else if(u){f=Math.max(f,h.sub1,u.height-.8*h.xHeight);var z=[{type:"elem",elem:u,marginLeft:A,marginRight:S}];L=te.makeVList({positionType:"shift",positionData:f,children:z},e)}else if(c)m=Math.max(m,M,c.depth+.25*h.xHeight),L=te.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var B=Ax(l,"right")||"mord";return te.makeSpan([B],[l,te.makeSpan(["msupsub"],[L])],e)},mathmlBuilder(t,e){var n=!1,i,s;t.base&&t.base.type==="horizBrace"&&(s=!!t.sup,s===t.base.isOver&&(n=!0,i=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[vt(t.base,e)];t.sub&&a.push(vt(t.sub,e)),t.sup&&a.push(vt(t.sup,e));var l;if(n)l=i?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===qe.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===qe.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===qe.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===qe.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===qe.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===qe.DISPLAY)?l="mover":l="msup"}return new ce.MathNode(l,a)}});Ao({type:"atom",htmlBuilder(t,e){return te.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ce.MathNode("mo",[fi(t.text,t.mode)]);if(t.family==="bin"){var i=o5(t,e);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var m_={mi:"italic",mn:"normal",mtext:"normal"};Ao({type:"mathord",htmlBuilder(t,e){return te.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ce.MathNode("mi",[fi(t.text,t.mode,e)]),i=o5(t,e)||"italic";return i!==m_[n.type]&&n.setAttribute("mathvariant",i),n}});Ao({type:"textord",htmlBuilder(t,e){return te.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=fi(t.text,t.mode,e),i=o5(t,e)||"normal",s;return t.mode==="text"?s=new ce.MathNode("mtext",[n]):/[0-9]/.test(t.text)?s=new ce.MathNode("mn",[n]):t.text==="\\prime"?s=new ce.MathNode("mo",[n]):s=new ce.MathNode("mi",[n]),i!==m_[s.type]&&s.setAttribute("mathvariant",i),s}});var v4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},y4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ao({type:"spacing",htmlBuilder(t,e){if(y4.hasOwnProperty(t.text)){var n=y4[t.text].className||"";if(t.mode==="text"){var i=te.makeOrd(t,e,"textord");return i.classes.push(n),i}else return te.makeSpan(["mspace",n],[te.mathsym(t.text,t.mode,e)],e)}else{if(v4.hasOwnProperty(t.text))return te.makeSpan(["mspace",v4[t.text]],[],e);throw new he('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(y4.hasOwnProperty(t.text))n=new ce.MathNode("mtext",[new ce.TextNode("")]);else{if(v4.hasOwnProperty(t.text))return new ce.MathNode("mspace");throw new he('Unknown type of space "'+t.text+'"')}return n}});var y8=()=>{var t=new ce.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ao({type:"tag",mathmlBuilder(t,e){var n=new ce.MathNode("mtable",[new ce.MathNode("mtr",[y8(),new ce.MathNode("mtd",[pl(t.body,e)]),y8(),new ce.MathNode("mtd",[pl(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var b8={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},j8={"\\textbf":"textbf","\\textmd":"textmd"},oQ={"\\textit":"textit","\\textup":"textup"},w8=(t,e)=>{var n=t.font;if(n){if(b8[n])return e.withTextFontFamily(b8[n]);if(j8[n])return e.withTextFontWeight(j8[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(oQ[n])};je({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:i}=t,s=e[0];return{type:"text",mode:n.mode,body:sn(s),font:i}},htmlBuilder(t,e){var n=w8(t,e),i=kn(t.body,n,!0);return te.makeSpan(["mord","text"],i,n)},mathmlBuilder(t,e){var n=w8(t,e);return pl(t.body,n)}});je({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=rt(t.body,e),i=te.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,a=te.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:s},{type:"elem",elem:i},{type:"kern",size:3*s},{type:"elem",elem:n}]},e);return te.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new ce.MathNode("mo",[new ce.TextNode("")]);n.setAttribute("stretchy","true");var i=new ce.MathNode("munder",[vt(t.body,e),n]);return i.setAttribute("accentunder","true"),i}});je({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=rt(t.body,e),i=e.fontMetrics().axisHeight,s=.5*(n.height-i-(n.depth+i));return te.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ce.MathNode("mpadded",[vt(t.body,e)],["vcenter"])}});je({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new he("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=S8(t),i=[],s=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),i.push(te.makeSymbol(l,"Typewriter-Regular",t.mode,s,["mord","texttt"]))}return te.makeSpan(["mord","text"].concat(s.sizingClasses(e)),te.tryCombineChars(i),s)},mathmlBuilder(t,e){var n=new ce.TextNode(S8(t)),i=new ce.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var S8=t=>t.body.replace(/ /g,t.star?"":""),$a=qN,f_=`[ \r
	]`,cQ="\\\\[a-zA-Z@]+",uQ="\\\\[^\uD800-\uDFFF]",hQ="("+cQ+")"+f_+"*",dQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,Cx="[-]",mQ=new RegExp(Cx+"+$"),fQ="("+f_+"+)|"+(dQ+"|")+"([!-\\[\\]---]"+(Cx+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Cx+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+hQ)+("|"+uQ+")");class k8{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(fQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Pr("EOF",new yr(this,n,n));var i=this.tokenRegex.exec(e);if(i===null||i.index!==n)throw new he("Unexpected character: '"+e[n]+"'",new Pr(e[n],new yr(this,n,n+1)));var s=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[s]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Pr(s,new yr(this,n,this.tokenRegex.lastIndex))}}class pQ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new he("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,i){if(i===void 0&&(i=!1),i){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var xQ=r_;O("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});O("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});O("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});O("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});O("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});O("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");O("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var T8={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};O("\\char",function(t){var e=t.popToken(),n,i="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new he("\\char` missing argument");i=e.text.charCodeAt(0)}else n=10;if(n){if(i=T8[e.text],i==null||i>=n)throw new he("Invalid base-"+n+" digit "+e.text);for(var s;(s=T8[t.future().text])!=null&&s<n;)i*=n,i+=s,t.popToken()}return"\\@char{"+i+"}"});var v5=(t,e,n,i)=>{var s=t.consumeArg().tokens;if(s.length!==1)throw new he("\\newcommand's first argument must be a macro name");var a=s[0].text,l=t.isDefined(a);if(l&&!e)throw new he("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new he("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(s=t.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var u="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)u+=h.text,h=t.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new he("Invalid number of arguments: "+u);c=parseInt(u),s=t.consumeArg().tokens}return l&&i||t.macros.set(a,{tokens:s,numArgs:c}),""};O("\\newcommand",t=>v5(t,!1,!0,!1));O("\\renewcommand",t=>v5(t,!0,!1,!1));O("\\providecommand",t=>v5(t,!0,!0,!0));O("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});O("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});O("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),$a[n],kt.math[n],kt.text[n]),""});O("\\bgroup","{");O("\\egroup","}");O("~","\\nobreakspace");O("\\lq","`");O("\\rq","'");O("\\aa","\\r a");O("\\AA","\\r A");O("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");O("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");O("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");O("","\\mathscr{B}");O("","\\mathscr{E}");O("","\\mathscr{F}");O("","\\mathscr{H}");O("","\\mathscr{I}");O("","\\mathscr{L}");O("","\\mathscr{M}");O("","\\mathscr{R}");O("","\\mathfrak{C}");O("","\\mathfrak{H}");O("","\\mathfrak{Z}");O("\\Bbbk","\\Bbb{k}");O("","\\cdotp");O("\\llap","\\mathllap{\\textrm{#1}}");O("\\rlap","\\mathrlap{\\textrm{#1}}");O("\\clap","\\mathclap{\\textrm{#1}}");O("\\mathstrut","\\vphantom{(}");O("\\underbar","\\underline{\\text{#1}}");O("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');O("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");O("\\ne","\\neq");O("","\\neq");O("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");O("","\\notin");O("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");O("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");O("","\\perp");O("","\\mathclose{!\\mkern-0.8mu!}");O("","\\notni");O("","\\ulcorner");O("","\\urcorner");O("","\\llcorner");O("","\\lrcorner");O("","\\copyright");O("","\\textregistered");O("","\\textregistered");O("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');O("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');O("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');O("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');O("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");O("","\\vdots");O("\\varGamma","\\mathit{\\Gamma}");O("\\varDelta","\\mathit{\\Delta}");O("\\varTheta","\\mathit{\\Theta}");O("\\varLambda","\\mathit{\\Lambda}");O("\\varXi","\\mathit{\\Xi}");O("\\varPi","\\mathit{\\Pi}");O("\\varSigma","\\mathit{\\Sigma}");O("\\varUpsilon","\\mathit{\\Upsilon}");O("\\varPhi","\\mathit{\\Phi}");O("\\varPsi","\\mathit{\\Psi}");O("\\varOmega","\\mathit{\\Omega}");O("\\substack","\\begin{subarray}{c}#1\\end{subarray}");O("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");O("\\boxed","\\fbox{$\\displaystyle{#1}$}");O("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");O("\\implies","\\DOTSB\\;\\Longrightarrow\\;");O("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");O("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");O("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var A8={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};O("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in A8?e=A8[n]:(n.slice(0,4)==="\\not"||n in kt.math&&["bin","rel"].includes(kt.math[n].group))&&(e="\\dotsb"),e});var y5={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};O("\\dotso",function(t){var e=t.future().text;return e in y5?"\\ldots\\,":"\\ldots"});O("\\dotsc",function(t){var e=t.future().text;return e in y5&&e!==","?"\\ldots\\,":"\\ldots"});O("\\cdots",function(t){var e=t.future().text;return e in y5?"\\@cdots\\,":"\\@cdots"});O("\\dotsb","\\cdots");O("\\dotsm","\\cdots");O("\\dotsi","\\!\\cdots");O("\\dotsx","\\ldots\\,");O("\\DOTSI","\\relax");O("\\DOTSB","\\relax");O("\\DOTSX","\\relax");O("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");O("\\,","\\tmspace+{3mu}{.1667em}");O("\\thinspace","\\,");O("\\>","\\mskip{4mu}");O("\\:","\\tmspace+{4mu}{.2222em}");O("\\medspace","\\:");O("\\;","\\tmspace+{5mu}{.2777em}");O("\\thickspace","\\;");O("\\!","\\tmspace-{3mu}{.1667em}");O("\\negthinspace","\\!");O("\\negmedspace","\\tmspace-{4mu}{.2222em}");O("\\negthickspace","\\tmspace-{5mu}{.277em}");O("\\enspace","\\kern.5em ");O("\\enskip","\\hskip.5em\\relax");O("\\quad","\\hskip1em\\relax");O("\\qquad","\\hskip2em\\relax");O("\\tag","\\@ifstar\\tag@literal\\tag@paren");O("\\tag@paren","\\tag@literal{({#1})}");O("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new he("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});O("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");O("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");O("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");O("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");O("\\newline","\\\\\\relax");O("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var p_=pe(Gi["Main-Regular"][84][1]-.7*Gi["Main-Regular"][65][1]);O("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+p_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");O("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+p_+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");O("\\hspace","\\@ifstar\\@hspacer\\@hspace");O("\\@hspace","\\hskip #1\\relax");O("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");O("\\ordinarycolon",":");O("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");O("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');O("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');O("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');O("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');O("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');O("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');O("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');O("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');O("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');O("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');O("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');O("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');O("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');O("","\\dblcolon");O("","\\eqcolon");O("","\\coloneqq");O("","\\eqqcolon");O("","\\Coloneqq");O("\\ratio","\\vcentcolon");O("\\coloncolon","\\dblcolon");O("\\colonequals","\\coloneqq");O("\\coloncolonequals","\\Coloneqq");O("\\equalscolon","\\eqqcolon");O("\\equalscoloncolon","\\Eqqcolon");O("\\colonminus","\\coloneq");O("\\coloncolonminus","\\Coloneq");O("\\minuscolon","\\eqcolon");O("\\minuscoloncolon","\\Eqcolon");O("\\coloncolonapprox","\\Colonapprox");O("\\coloncolonsim","\\Colonsim");O("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");O("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");O("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");O("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");O("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");O("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");O("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");O("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");O("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");O("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");O("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");O("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");O("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");O("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");O("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");O("\\ngeqq","\\html@mathml{\\@ngeqq}{}");O("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");O("\\nleqq","\\html@mathml{\\@nleqq}{}");O("\\nleqslant","\\html@mathml{\\@nleqslant}{}");O("\\nshortmid","\\html@mathml{\\@nshortmid}{}");O("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");O("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");O("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");O("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");O("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");O("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");O("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");O("\\imath","\\html@mathml{\\@imath}{}");O("\\jmath","\\html@mathml{\\@jmath}{}");O("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");O("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");O("","\\llbracket");O("","\\rrbracket");O("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");O("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");O("","\\lBrace");O("","\\rBrace");O("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");O("","\\minuso");O("\\darr","\\downarrow");O("\\dArr","\\Downarrow");O("\\Darr","\\Downarrow");O("\\lang","\\langle");O("\\rang","\\rangle");O("\\uarr","\\uparrow");O("\\uArr","\\Uparrow");O("\\Uarr","\\Uparrow");O("\\N","\\mathbb{N}");O("\\R","\\mathbb{R}");O("\\Z","\\mathbb{Z}");O("\\alef","\\aleph");O("\\alefsym","\\aleph");O("\\Alpha","\\mathrm{A}");O("\\Beta","\\mathrm{B}");O("\\bull","\\bullet");O("\\Chi","\\mathrm{X}");O("\\clubs","\\clubsuit");O("\\cnums","\\mathbb{C}");O("\\Complex","\\mathbb{C}");O("\\Dagger","\\ddagger");O("\\diamonds","\\diamondsuit");O("\\empty","\\emptyset");O("\\Epsilon","\\mathrm{E}");O("\\Eta","\\mathrm{H}");O("\\exist","\\exists");O("\\harr","\\leftrightarrow");O("\\hArr","\\Leftrightarrow");O("\\Harr","\\Leftrightarrow");O("\\hearts","\\heartsuit");O("\\image","\\Im");O("\\infin","\\infty");O("\\Iota","\\mathrm{I}");O("\\isin","\\in");O("\\Kappa","\\mathrm{K}");O("\\larr","\\leftarrow");O("\\lArr","\\Leftarrow");O("\\Larr","\\Leftarrow");O("\\lrarr","\\leftrightarrow");O("\\lrArr","\\Leftrightarrow");O("\\Lrarr","\\Leftrightarrow");O("\\Mu","\\mathrm{M}");O("\\natnums","\\mathbb{N}");O("\\Nu","\\mathrm{N}");O("\\Omicron","\\mathrm{O}");O("\\plusmn","\\pm");O("\\rarr","\\rightarrow");O("\\rArr","\\Rightarrow");O("\\Rarr","\\Rightarrow");O("\\real","\\Re");O("\\reals","\\mathbb{R}");O("\\Reals","\\mathbb{R}");O("\\Rho","\\mathrm{P}");O("\\sdot","\\cdot");O("\\sect","\\S");O("\\spades","\\spadesuit");O("\\sub","\\subset");O("\\sube","\\subseteq");O("\\supe","\\supseteq");O("\\Tau","\\mathrm{T}");O("\\thetasym","\\vartheta");O("\\weierp","\\wp");O("\\Zeta","\\mathrm{Z}");O("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");O("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");O("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");O("\\bra","\\mathinner{\\langle{#1}|}");O("\\ket","\\mathinner{|{#1}\\rangle}");O("\\braket","\\mathinner{\\langle{#1}\\rangle}");O("\\Bra","\\left\\langle#1\\right|");O("\\Ket","\\left|#1\\right\\rangle");var x_=t=>e=>{var n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var u=f=>p=>{t&&(p.macros.set("|",l),s.length&&p.macros.set("\\|",c));var v=f;if(!f&&s.length){var T=p.future();T.text==="|"&&(p.popToken(),v=!0)}return{tokens:v?s:i,numArgs:0}};e.macros.set("|",u(!1)),s.length&&e.macros.set("\\|",u(!0));var h=e.consumeArg().tokens,m=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};O("\\bra@ket",x_(!1));O("\\bra@set",x_(!0));O("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");O("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");O("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");O("\\angln","{\\angl n}");O("\\blue","\\textcolor{##6495ed}{#1}");O("\\orange","\\textcolor{##ffa500}{#1}");O("\\pink","\\textcolor{##ff00af}{#1}");O("\\red","\\textcolor{##df0030}{#1}");O("\\green","\\textcolor{##28ae7b}{#1}");O("\\gray","\\textcolor{gray}{#1}");O("\\purple","\\textcolor{##9d38bd}{#1}");O("\\blueA","\\textcolor{##ccfaff}{#1}");O("\\blueB","\\textcolor{##80f6ff}{#1}");O("\\blueC","\\textcolor{##63d9ea}{#1}");O("\\blueD","\\textcolor{##11accd}{#1}");O("\\blueE","\\textcolor{##0c7f99}{#1}");O("\\tealA","\\textcolor{##94fff5}{#1}");O("\\tealB","\\textcolor{##26edd5}{#1}");O("\\tealC","\\textcolor{##01d1c1}{#1}");O("\\tealD","\\textcolor{##01a995}{#1}");O("\\tealE","\\textcolor{##208170}{#1}");O("\\greenA","\\textcolor{##b6ffb0}{#1}");O("\\greenB","\\textcolor{##8af281}{#1}");O("\\greenC","\\textcolor{##74cf70}{#1}");O("\\greenD","\\textcolor{##1fab54}{#1}");O("\\greenE","\\textcolor{##0d923f}{#1}");O("\\goldA","\\textcolor{##ffd0a9}{#1}");O("\\goldB","\\textcolor{##ffbb71}{#1}");O("\\goldC","\\textcolor{##ff9c39}{#1}");O("\\goldD","\\textcolor{##e07d10}{#1}");O("\\goldE","\\textcolor{##a75a05}{#1}");O("\\redA","\\textcolor{##fca9a9}{#1}");O("\\redB","\\textcolor{##ff8482}{#1}");O("\\redC","\\textcolor{##f9685d}{#1}");O("\\redD","\\textcolor{##e84d39}{#1}");O("\\redE","\\textcolor{##bc2612}{#1}");O("\\maroonA","\\textcolor{##ffbde0}{#1}");O("\\maroonB","\\textcolor{##ff92c6}{#1}");O("\\maroonC","\\textcolor{##ed5fa6}{#1}");O("\\maroonD","\\textcolor{##ca337c}{#1}");O("\\maroonE","\\textcolor{##9e034e}{#1}");O("\\purpleA","\\textcolor{##ddd7ff}{#1}");O("\\purpleB","\\textcolor{##c6b9fc}{#1}");O("\\purpleC","\\textcolor{##aa87ff}{#1}");O("\\purpleD","\\textcolor{##7854ab}{#1}");O("\\purpleE","\\textcolor{##543b78}{#1}");O("\\mintA","\\textcolor{##f5f9e8}{#1}");O("\\mintB","\\textcolor{##edf2df}{#1}");O("\\mintC","\\textcolor{##e0e5cc}{#1}");O("\\grayA","\\textcolor{##f6f7f7}{#1}");O("\\grayB","\\textcolor{##f0f1f2}{#1}");O("\\grayC","\\textcolor{##e3e5e6}{#1}");O("\\grayD","\\textcolor{##d6d8da}{#1}");O("\\grayE","\\textcolor{##babec2}{#1}");O("\\grayF","\\textcolor{##888d93}{#1}");O("\\grayG","\\textcolor{##626569}{#1}");O("\\grayH","\\textcolor{##3b3e40}{#1}");O("\\grayI","\\textcolor{##21242c}{#1}");O("\\kaBlue","\\textcolor{##314453}{#1}");O("\\kaGreen","\\textcolor{##71B307}{#1}");var g_={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class gQ{constructor(e,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new pQ(xQ,n.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new k8(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,i,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:s,end:i}=this.consumeArg(["]"])}else({tokens:s,start:n,end:i}=this.consumeArg());return this.pushToken(new Pr("EOF",i.loc)),this.pushTokens(s),new Pr("",yr.range(n,i))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],i=e&&e.length>0;i||this.consumeSpaces();var s=this.future(),a,l=0,c=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new he("Extra }",a)}else if(a.text==="EOF")throw new he("Unexpected end of input in a macro argument, expected '"+(e&&i?e[c]:"}")+"'",a);if(e&&i)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){n.splice(-c,c);break}}else c=0}while(l!==0||i);return s.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:s,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new he("The length of delimiters doesn't match the number of args!");for(var i=n[0],s=0;s<i.length;s++){var a=this.popToken();if(i[s]!==a.text)throw new he("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(n&&n[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new he("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),i=n.text,s=n.noexpand?null:this._getExpansion(i);if(s==null||e&&s.unexpandable){if(e&&s==null&&i[0]==="\\"&&!this.isDefined(i))throw new he("Undefined control sequence: "+i);return this.pushToken(n),!1}this.countExpansion(1);var a=s.tokens,l=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var u=a[c];if(u.text==="#"){if(c===0)throw new he("Incomplete placeholder at end of macro body",u);if(u=a[--c],u.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(u.text))a.splice(c,2,...l[+u.text-1]);else throw new he("Not a valid argument number",u)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Pr(e)]):void 0}expandTokens(e){var n=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),n.push(s)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(i=>i.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var s=typeof n=="function"?n(this):n;if(typeof s=="string"){var a=0;if(s.indexOf("#")!==-1)for(var l=s.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new k8(s,this.settings),u=[],h=c.lex();h.text!=="EOF";)u.push(h),h=c.lex();u.reverse();var m={tokens:u,numArgs:a};return m}return s}isDefined(e){return this.macros.has(e)||$a.hasOwnProperty(e)||kt.math.hasOwnProperty(e)||kt.text.hasOwnProperty(e)||g_.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:$a.hasOwnProperty(e)&&!$a[e].primitive}}var N8=/^[]/,Ed=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),b4={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},_8={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class mf{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new gQ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new he("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Pr("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(e,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(mf.endOfExpression.indexOf(s.text)!==-1||n&&s.text===n||e&&$a[s.text]&&$a[s.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var n=-1,i,s=0;s<e.length;s++)if(e[s].type==="infix"){if(n!==-1)throw new he("only one infix operator per group",e[s].token);n=s,i=e[s].replaceWith}if(n!==-1&&i){var a,l,c=e.slice(0,n),u=e.slice(n+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},u.length===1&&u[0].type==="ordgroup"?l=u[0]:l={type:"ordgroup",mode:this.mode,body:u};var h;return i==="\\\\abovefrac"?h=this.callFunction(i,[a,e[n],l],[]):h=this.callFunction(i,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var s;do{var a;s=this.parseGroup(e)}while(((a=s)==null?void 0:a.type)==="internal");if(!s)throw new he("Expected group after '"+i+"'",n);return s}formatUnsupportedCmd(e){for(var n=[],i=0;i<e.length;i++)n.push({type:"textord",mode:"text",text:e[i]});var s={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,s;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new he("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new he("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(s)throw new he("Double subscript",a);s=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new he("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},u=[c];for(this.consume();this.fetch().text==="'";)u.push(c),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:u}}else if(Ed[a.text]){var h=N8.test(a.text),m=[];for(m.push(new Pr(Ed[a.text])),this.consume();;){var f=this.fetch().text;if(!Ed[f]||N8.test(f)!==h)break;m.unshift(new Pr(Ed[f])),this.consume()}var p=this.subparse(m);h?s={type:"ordgroup",mode:"math",body:p}:i={type:"ordgroup",mode:"math",body:p}}else break}return i||s?{type:"supsub",mode:this.mode,base:n,sup:i,sub:s}:n}parseFunction(e,n){var i=this.fetch(),s=i.text,a=$a[s];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new he("Got function '"+s+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!a.allowedInText)throw new he("Can't use function '"+s+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new he("Can't use function '"+s+"' in math mode",i);var{args:l,optArgs:c}=this.parseArguments(s,a);return this.callFunction(s,l,c,i,e)}callFunction(e,n,i,s,a){var l={funcName:e,parser:this,token:s,breakOnTokenText:a},c=$a[e];if(c&&c.handler)return c.handler(l,n,i);throw new he("No function handler for "+e)}parseArguments(e,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var s=[],a=[],l=0;l<i;l++){var c=n.argTypes&&n.argTypes[l],u=l<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",c,u);if(u)a.push(h);else if(h!=null)s.push(h);else throw new he("Null argument, please report this as a bug")}return{args:s,optArgs:a}}parseGroupOfType(e,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var s=this.parseArgumentGroup(i,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new he("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new he("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new he("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var s="",a;(a=this.fetch()).text!=="EOF";)s+=a.text,this.consume();return this.consume(),i.text=s,i}parseRegexGroup(e,n){for(var i=this.fetch(),s=i,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)s=l,a+=s.text,this.consume();if(a==="")throw new he("Invalid "+n+": '"+i.text+"'",i);return i.range(s,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var i=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new he("Invalid color: '"+n.text+"'",n);var s=i[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var n,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",i=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!s)throw new he("Invalid size: '"+n.text+"'",n);var a={number:+(s[1]+s[2]),unit:s[3]};if(!NN(a))throw new he("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,n){var i=this.gullet.scanArgument(e);if(i==null)return null;var s=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return n&&this.switchMode(s),l}parseGroup(e,n){var i=this.fetch(),s=i.text,a;if(s==="{"||s==="\\begingroup"){this.consume();var l=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),u=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:yr.range(i,u),body:c,semisimple:s==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&s[0]==="\\"&&!g_.hasOwnProperty(s)){if(this.settings.throwOnError)throw new he("Undefined control sequence: "+s,i);a=this.formatUnsupportedCmd(s),this.consume()}return a}formLigatures(e){for(var n=e.length-1,i=0;i<n;++i){var s=e[i],a=s.text;a==="-"&&e[i+1].text==="-"&&(i+1<n&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:yr.range(s,e[i+2]),text:"---"}),n-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:yr.range(s,e[i+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:yr.range(s,e[i+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),s=i.charAt(0)==="*";if(s&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new he(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:s}}_8.hasOwnProperty(n[0])&&!kt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=_8[n[0]]+n.slice(1));var a=mQ.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(kt[this.mode][n]){this.settings.strict&&this.mode==="math"&&Tx.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var c=kt[this.mode][n].group,u=yr.range(e),h;if(sX.hasOwnProperty(c)){var m=c;h={type:"atom",mode:this.mode,family:m,loc:u,text:n}}else h={type:c,mode:this.mode,loc:u,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(AN(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:yr.range(e),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var p=a[0][f];if(!b4[p])throw new he("Unknown accent ' "+p+"'",e);var v=b4[p][this.mode]||b4[p].text;if(!v)throw new he("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:yr.range(e),label:v,isStretchy:!1,isShifty:!0,base:l}}return l}}mf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var b5=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new mf(e,n);delete i.gullet.macros.current["\\df@tag"];var s=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new he("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:i.subparse([new Pr("\\df@tag")])}]}return s},v_=function(e,n,i){n.textContent="";var s=j5(e,i).toNode();n.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),v_=function(){throw new he("KaTeX doesn't work in quirks mode.")});var vQ=function(e,n){var i=j5(e,n).toMarkup();return i},yQ=function(e,n){var i=new n5(n);return b5(e,i)},y_=function(e,n,i){if(i.throwOnError||!(e instanceof he))throw e;var s=te.makeSpan(["katex-error"],[new mi(n)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+i.errorColor),s},j5=function(e,n){var i=new n5(n);try{var s=b5(e,i);return _X(s,e,i)}catch(a){return y_(a,e,i)}},bQ=function(e,n){var i=new n5(n);try{var s=b5(e,i);return EX(s,e,i)}catch(a){return y_(a,e,i)}},jQ="0.16.27",wQ={Span:bh,Anchor:s5,SymbolNode:mi,SvgNode:ea,PathNode:fl,LineNode:kx},SQ={version:jQ,render:v_,renderToString:vQ,ParseError:he,SETTINGS_SCHEMA:nm,__parse:yQ,__renderToDomTree:j5,__renderToHTMLTree:bQ,__setFontMetrics:XY,__defineSymbol:g,__defineFunction:je,__defineMacro:O,__domTree:wQ};function o({children:t,math:e,inline:n,display:i,className:s=""}){const a=K.useRef(null),l=e??t??"",c=n===!0||i===!1;return K.useEffect(()=>{a.current&&l&&SQ.render(l,a.current,{throwOnError:!1,displayMode:!c})},[l,c]),c?r.jsx("span",{ref:a,className:`inline-block ${s}`}):r.jsx("div",{ref:a,className:`my-6 text-center text-lg overflow-x-auto ${s}`})}const m1=[{id:"def-sample",title:"Sample Definition",statement:"A function $f: A \\to B$ is a mapping from set $A$ to set $B$.",sectionId:1,category:"Fundamentals",type:"definition"},{id:"thm-sample",title:"Sample Theorem",statement:"If $A \\subseteq B$ and $B \\subseteq A$, then $A = B$",sectionId:2,category:"Fundamentals",type:"theorem",hasProof:!0,proof:`
      Let $x \\in A$. Since $A \\subseteq B$, we have $x \\in B$ by definition of subset.
      Therefore, every element of $A$ is in $B$.
      
      Now, let $y \\in B$. Since $B \\subseteq A$, we have $y \\in A$ by definition.
      Therefore, every element of $B$ is in $A$.
      
      Since $A \\subseteq B$ and $B \\subseteq A$, the two sets contain exactly the same elements.
      Thus, $A = B$.
    `}];function kQ(){return[...new Set(m1.map(t=>t.category).filter(t=>!!t))]}function TQ(t){const e=t.toLowerCase();return m1.filter(n=>n.title.toLowerCase().includes(e)||n.statement.toLowerCase().includes(e))}function AQ(){const[t,e]=K.useState(!1),[n,i]=K.useState(""),[s,a]=K.useState(null),l=n?TQ(n):m1,c=n?[{category:"Search Results",items:l}]:kQ().map(m=>({category:m,items:m1.filter(f=>f.category===m)})),u=m=>{a(s===m?null:m)},h={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx(e5,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),r.jsx(t5,{isOpen:t,onClose:()=>e(!1)}),r.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),r.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",zg]}),r.jsx("div",{className:"mb-8",children:r.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:n,onChange:m=>i(m.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),r.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:r.jsxs("p",{className:"text-amber-300 text-sm",children:[r.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),r.jsx("div",{className:"space-y-8",children:c.map(({category:m,items:f})=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[r.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:f.length}),m]}),r.jsx("div",{className:"space-y-2",children:f.map(p=>r.jsx(yn,{to:`/section/${p.sectionId}`,className:"block group",children:r.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[r.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"pl-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[p.type&&r.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${h[p.type]||"text-dark-400 bg-dark-700"}`,children:p.type}),r.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",p.sectionId]}),p.sectionTitle&&r.jsx("span",{className:"text-[10px] text-dark-600",children:p.sectionTitle}),p.hasProof&&p.proof&&r.jsx("span",{onClick:v=>{v.preventDefault(),u(p.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:s===p.id?"Hide Proof":"View Proof"})]}),r.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:p.title}),r.jsx("p",{className:"text-sm text-dark-400 mt-1",children:p.statement}),p.hasProof&&p.proof&&r.jsx("div",{className:"mt-3",children:r.jsx(Fu,{children:s===p.id?r.jsx(Vi.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:r.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[r.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),r.jsx(o,{children:p.proof})]})}):null})})]})]})},p.id))})]},m))}),l.length===0&&r.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),r.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:r.jsxs(yn,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const j4=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function NQ(){const[t,e]=K.useState(!1),[n,i]=K.useState(null),s=[...new Set(j4.map(l=>l.category))],a=n?j4.filter(l=>l.category===n):j4;return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx(e5,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),r.jsx(t5,{isOpen:t,onClose:()=>e(!1)}),r.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),r.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[r.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),s.map(l=>r.jsx("button",{onClick:()=>i(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===l?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:l},l))]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(l=>r.jsx(yn,{to:`/section/${l.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:l.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:l.title}),r.jsx("p",{className:"text-sm text-dark-400 mt-1",children:l.description}),r.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[r.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:l.category}),r.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",l.sectionId]})]})]})]})},l.id))}),a.length===0&&r.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function _Q({sectionId:t,questions:e,title:n="Section Quiz"}){var ve,Be,ze;const s=ko(),[a,l]=K.useState(0),[c,u]=K.useState(null),[h,m]=K.useState(null),[f,p]=K.useState(""),[v,T]=K.useState(!1),[M,q]=K.useState(0),[S,A]=K.useState([]),[N,L]=K.useState(!1),[U,Q]=K.useState(""),[D,C]=K.useState(0),z=K.useMemo(()=>[...e].sort(()=>globalThis.Math.random()-.5).slice(0,5),[e]),B=z[a],P=z.length,F=(B==null?void 0:B.type)??"multiple-choice",$=we=>{if(c!==null)return;u(we);const ye=we===B.correctIndex;ye&&q(Se=>Se+1),A(Se=>[...Se,ye]),T(!0)},_e=()=>{if(h===null||Number.isNaN(h)){Q("Please enter a number");return}const{min:we,max:ye}=B.numericRange??{};if(we!==void 0&&h<we){Q(`Answer must be at least ${we}`);return}if(ye!==void 0&&h>ye){Q(`Answer must be at most ${ye}`);return}Q("");const Se=h===B.correctAnswer;Se&&q(ct=>ct+1),A(ct=>[...ct,Se]),T(!0)},Ee=()=>{const we=f.trim();if(we==="")return;const ye=we.toLowerCase()===String(B.correctAnswer??"").toLowerCase();ye&&q(Se=>Se+1),A(Se=>[...Se,ye]),T(!0)},le=()=>{if(a<P-1)l(we=>we+1),u(null),m(null),p(""),T(!1),Q("");else{L(!0);const we=M+(v&&(F==="multiple-choice"&&c===B.correctIndex||F==="numeric"&&h===B.correctAnswer||F==="text"&&f.toLowerCase()===String(B.correctAnswer??"").toLowerCase())?1:0),ye=globalThis.Math.round(we/P*100);let Se=LT(B.difficulty,ye);ye===100&&(Se=globalThis.Math.round(Se*(1+rr.QUIZ_PERFECT_BONUS))),C(Se),s&&s.recordQuiz(t,B.difficulty,ye,we,P)}},me=()=>{l(0),u(null),m(null),p(""),T(!1),q(0),A([]),L(!1),Q(""),C(0)};if(N){const we=S.filter(Boolean).length,ye=globalThis.Math.round(we/P*100);return r.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:ye>=80?"":ye>=60?"":""}),r.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),r.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",we," out of ",P," (",ye,"%)"]}),D>0&&r.jsxs(Vi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",D," XP"]}),ye===100&&r.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),r.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:S.map((Se,ct)=>r.jsx("div",{className:`w-3 h-3 rounded-full ${Se?"bg-emerald-500":"bg-red-500"}`},ct))}),r.jsx("button",{onClick:me,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return r.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:n}),r.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",a+1," of ",P]})]}),r.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:r.jsx(Vi.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(a+1)/P*100}%`}})}),r.jsx("div",{className:"mb-4",children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${B.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":B.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:B.difficulty.charAt(0).toUpperCase()+B.difficulty.slice(1)})}),r.jsx("p",{className:"text-lg text-dark-200 mb-6",children:r.jsx("span",{dangerouslySetInnerHTML:{__html:Up(B.question)}})}),F==="multiple-choice"&&B.options&&r.jsx("div",{className:"space-y-3 mb-6",children:B.options.map((we,ye)=>{const Se=c===ye,ct=ye===B.correctIndex,Pe=v&&ct,Gn=v&&Se&&!ct;return r.jsx("button",{onClick:()=>$(ye),disabled:v,className:`w-full p-4 rounded-xl text-left transition-all ${Pe?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":Gn?"bg-red-500/20 border-red-500/50 text-red-300":Se?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+ye)}),r.jsx("span",{dangerouslySetInnerHTML:{__html:Up(we)}})]})},ye)})}),F==="numeric"&&r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("input",{type:"number",step:(ve=B.numericRange)!=null&&ve.precision?1/globalThis.Math.pow(10,B.numericRange.precision):1,min:(Be=B.numericRange)==null?void 0:Be.min,max:(ze=B.numericRange)==null?void 0:ze.max,value:h??"",onChange:we=>{const ye=we.target.value;m(ye===""?null:parseFloat(ye))},disabled:v,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),U&&r.jsx("p",{className:"text-red-400 text-sm",children:U}),r.jsx("button",{onClick:_e,disabled:v||h===null||Number.isNaN(h),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),F==="text"&&r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("input",{type:"text",value:f,onChange:we=>p(we.target.value),disabled:v,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),r.jsx("button",{onClick:Ee,disabled:v||!f.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),v&&B.explanation&&r.jsx(Vi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:r.jsxs("p",{className:"text-sm text-dark-300",children:[r.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),r.jsx("span",{dangerouslySetInnerHTML:{__html:Up(B.explanation)}})]})}),v&&r.jsx(Vi.button,{initial:{opacity:0},animate:{opacity:1},onClick:le,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:a<P-1?"Next Question":"See Results"})]})}function EQ(){const{id:t}=Bw(),e=parseInt(t||"0",10),n=jx(e),i=wN(e),s=SN(e),l=ko();return K.useEffect(()=>{l&&l.visitSection(e)},[e,l]),!n||n.length===0?r.jsxs("div",{className:"min-h-screen relative",children:[r.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[r.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),r.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),r.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),r.jsxs(yn,{to:`/section/${e}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):r.jsxs("div",{className:"min-h-screen relative",children:[r.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),r.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:r.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[r.jsxs(yn,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),r.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsxs(yn,{to:`/section/${e}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",e]}),r.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[r.jsxs("header",{className:"mb-10",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),s&&r.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",s.id,": ",s.title]})]}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:r.jsx("span",{className:"text-gradient",children:i==null?void 0:i.title})}),r.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",n.length," question",n.length!==1?"s":"","."]}),r.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),r.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),r.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),r.jsx(_Q,{sectionId:e,questions:n}),r.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:r.jsxs(yn,{to:`/section/${e}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",e]})})]})]})}function ge({title:t,children:e,className:n=""}){return r.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${n}`,children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),r.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),r.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}function ke({title:t,children:e,proof:n,className:i=""}){const[s,a]=K.useState(!1);return r.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${i}`,children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),r.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),r.jsx("div",{className:"text-dark-300 pl-11",children:e}),n&&r.jsxs("div",{className:"mt-4 pl-11",children:[r.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[r.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s?"Hide Proof":"Show Proof"]}),r.jsx(Fu,{children:s&&r.jsx(Vi.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[r.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),n,r.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function Le({title:t,children:e,className:n=""}){return r.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${n}`,children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:r.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),r.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),r.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}const CQ={info:{bg:"bg-blue-500/5",border:"border-blue-500/30",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/5",border:"border-yellow-500/30",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",iconColor:"text-yellow-400"},danger:{bg:"bg-red-500/5",border:"border-red-500/30",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-red-400"},success:{bg:"bg-emerald-500/5",border:"border-emerald-500/30",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-emerald-400"},note:{bg:"bg-purple-500/5",border:"border-purple-500/30",icon:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",iconColor:"text-purple-400"}};function Ie({type:t="info",title:e,children:n,className:i=""}){const s=CQ[t];return r.jsx("div",{className:`my-6 p-4 rounded-xl ${s.bg} border ${s.border} ${i}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("svg",{className:`w-5 h-5 ${s.iconColor} flex-shrink-0 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s.icon})}),r.jsxs("div",{className:"flex-1",children:[e&&r.jsx("h4",{className:`font-semibold ${s.iconColor} mb-1`,children:e}),r.jsx("div",{className:"text-dark-300 text-sm",children:n})]})]})})}function MQ(){return r.jsxs(Jt,{sectionId:0,children:[r.jsx("h2",{children:"Time Estimates for Doing Arithmetic"}),r.jsxs("p",{children:["One topic that plays a central role in cryptography is estimating the number of",r.jsx("strong",{children:" bit operations"})," needed to perform various number theoretic tasks by computer. Understanding computational complexity helps us determine which cryptographic algorithms are secure and which can be broken in reasonable time."]}),r.jsx("h3",{children:"Numbers in Different Bases"}),r.jsxs(ge,{title:"Base-b Representation",children:["A nonnegative integer ",r.jsx("em",{children:"n"})," written to the ",r.jsx("strong",{children:"base b"})," is a notation of the form"," ",r.jsx(o,{math:"(d_{k-1}d_{k-2} \\cdots d_1 d_0)_b"}),"where the ",r.jsx("em",{children:"d"}),"'s are ",r.jsx("strong",{children:"digits"}),", i.e., symbols for integers between 0 and b - 1. This notation means:",r.jsx(o,{math:"n = d_{k-1}b^{k-1} + d_{k-2}b^{k-2} + \\cdots + d_1 b + d_0"}),"If the first digit ",r.jsxs("em",{children:["d",r.jsx("sub",{children:"k-1"})]})," is not zero, we call ",r.jsx("em",{children:"n"})," a ",r.jsx("strong",{children:"k-digit base-b number"}),"."]}),r.jsxs("p",{children:["Any number between ",r.jsx(o,{math:"b^{k-1}",inline:!0})," and ",r.jsx(o,{math:"b^k",inline:!0})," is a k-digit number to the base b. The most common bases are:"]}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Decimal (b = 10)"})," - The standard system we use daily"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Binary (b = 2)"})," - Used by computers; digits are 0 and 1 (called ",r.jsx("em",{children:"bits"}),")"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Hexadecimal (b = 16)"})," - Compact representation using digits 0-9 and A-F"]})]}),r.jsxs(Le,{title:"Base Conversions",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"(a)"})," ",r.jsx(o,{math:"(11001001)_2 = 201",inline:!0})," in decimal"]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"(b)"})," When b = 26, using letters A-Z for digits 0-25: ",r.jsx(o,{math:"(BAD)_{26} = 679",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"(c)"})," Converting ",r.jsx(o,{math:"10^6",inline:!0})," to different bases:"]}),r.jsx(o,{math:"10^6 = (11110100001001000000)_2 = (11333311)_7 = (CEXHO)_{26}"})]}),r.jsx("h3",{children:"Number of Digits"}),r.jsxs("p",{children:["An integer ",r.jsx("em",{children:"n"})," satisfying ",r.jsx(o,{math:"b^{k-1} \\leq n < b^k",inline:!0})," has ",r.jsx("em",{children:"k"})," digits to the base ",r.jsx("em",{children:"b"}),". Using the definition of logarithms:"]}),r.jsxs(ke,{title:"Number of Digits Formula",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Let ",r.jsx("em",{children:"n"})," be a positive integer with ",r.jsx("em",{children:"k"})," digits in base ",r.jsx("em",{children:"b"}),". By definition of base-",r.jsx("em",{children:"b"})," representation:"]}),r.jsx(o,{math:"b^{k-1} \\leq n < b^k"}),r.jsxs("p",{children:["Taking logarithms base ",r.jsx("em",{children:"b"})," of all parts of this inequality:"]}),r.jsx(o,{math:"k - 1 \\leq \\log_b n < k"}),r.jsxs("p",{children:["This means ",r.jsx(o,{math:"\\lfloor \\log_b n \\rfloor = k - 1",inline:!0}),", and therefore:"]}),r.jsx(o,{math:"k = \\lfloor \\log_b n \\rfloor + 1"}),r.jsxs("p",{children:["Using the change of base formula ",r.jsx(o,{math:"\\log_b n = \\frac{\\log n}{\\log b}",inline:!0}),", we obtain the equivalent form:"]}),r.jsx(o,{math:"\\text{number of digits} = \\left\\lfloor \\frac{\\log n}{\\log b} \\right\\rfloor + 1"})]}),children:["The number of base-b digits in a positive integer ",r.jsx("em",{children:"n"})," is:",r.jsx(o,{math:"\\text{number of digits} = \\lfloor \\log_b n \\rfloor + 1 = \\left\\lfloor \\frac{\\log n}{\\log b} \\right\\rfloor + 1"}),"where ",r.jsx(o,{math:"\\lfloor \\cdot \\rfloor",inline:!0})," denotes the floor (greatest integer) function."]}),r.jsx("h3",{children:"Bit Operations"}),r.jsx("p",{children:"Let's analyze binary addition in detail. When adding two k-bit numbers, we repeat these steps k times:"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Binary Addition Steps"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsx("li",{children:"Look at the top and bottom bit, and check for a carry"}),r.jsx("li",{children:"If both bits are 0 and no carry: put down 0"}),r.jsx("li",{children:"If exactly one bit is 1 and no carry (or both 0 with carry): put down 1"}),r.jsx("li",{children:"If both bits are 1 and no carry (or one bit is 1 with carry): put down 0, carry 1"}),r.jsx("li",{children:"If both bits are 1 and there is a carry: put down 1, carry 1"})]})]}),r.jsxs(ge,{title:"Bit Operation",children:["A ",r.jsx("strong",{children:"bit operation"})," is a single step in binary arithmetic. The time a computer takes to perform a task is essentially proportional to the number of bit operations required."]}),r.jsxs(Ie,{type:"info",children:["Adding two k-bit numbers requires exactly ",r.jsx("strong",{children:"k bit operations"}),"."]}),r.jsx("h3",{children:"Time Complexity of Multiplication"}),r.jsxs("p",{children:["Consider multiplying a k-bit integer ",r.jsx("em",{children:"n"})," by an l-bit integer ",r.jsx("em",{children:"m"}),". Using the standard long multiplication algorithm, we obtain at most l rows, each requiring k bit operations to add."]}),r.jsxs(ke,{title:"Multiplication Time Bound",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Consider the standard long multiplication algorithm for multiplying a ",r.jsx("em",{children:"k"}),"-bit integer ",r.jsx("em",{children:"n"})," by an ",r.jsx("em",{children:"l"}),"-bit integer ",r.jsx("em",{children:"m"}),"."]}),r.jsxs("p",{children:["Write ",r.jsx("em",{children:"m"})," in binary as ",r.jsx(o,{math:"m = \\sum_{i=0}^{\\ell-1} m_i \\cdot 2^i",inline:!0})," where each ",r.jsx(o,{math:"m_i \\in \\{0, 1\\}",inline:!0}),"."]}),r.jsx("p",{children:"The product can be computed as:"}),r.jsx(o,{math:"n \\cdot m = \\sum_{i=0}^{\\ell-1} m_i \\cdot n \\cdot 2^i"}),r.jsxs("p",{children:["This sum has at most ",r.jsx("em",{children:"l"})," nonzero terms (one for each bit of ",r.jsx("em",{children:"m"}),"). Each term ",r.jsx(o,{math:"n \\cdot 2^i",inline:!0})," is simply ",r.jsx("em",{children:"n"})," shifted left by ",r.jsx("em",{children:"i"})," positions, which is a ",r.jsx(o,{math:"(k+i)",inline:!0}),"-bit number."]}),r.jsxs("p",{children:["Adding two numbers with at most ",r.jsx(o,{math:"(k + \\ell)",inline:!0})," bits requires at most ",r.jsx(o,{math:"k + \\ell",inline:!0})," bit operations. We perform at most ",r.jsx(o,{math:"\\ell - 1",inline:!0})," such additions."]}),r.jsxs("p",{children:["Each partial product computation involves examining one bit of ",r.jsx("em",{children:"m"})," and potentially adding a shifted copy of ",r.jsx("em",{children:"n"}),". The total work is bounded by:"]}),r.jsx(o,{math:"\\text{Total bit operations} < \\ell \\cdot k = k\\ell"}),r.jsxs("p",{children:["When ",r.jsx(o,{math:"k = \\ell",inline:!0}),", this gives the bound ",r.jsx(o,{math:"k^2",inline:!0})," bit operations."]})]}),children:[r.jsx(o,{math:"\\text{Time}(\\text{multiply } k\\text{-bit integer by } \\ell\\text{-bit integer}) < k\\ell"}),"As a special case:",r.jsx(o,{math:"\\text{Time}(\\text{multiply } k\\text{-bit by } k\\text{-bit}) < k^2"})]}),r.jsxs(Le,{title:"Computing n!",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Problem:"})," Find an upper bound for the number of bit operations to compute n!"]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," If n is a k-bit integer, then every integer less than n has at most k bits, and n! has at most nk bits. In each of the n-2 multiplications, we multiply an integer with at most k bits by one with at most nk bits, requiring at most nk",r.jsx("sup",{children:"2"})," bit operations."]}),r.jsx(o,{math:"\\text{Total bit operations} \\leq (n-2) \\cdot nk^2 = n(n-2)(\\lfloor \\log_2 n \\rfloor + 1)^2 \\approx n^2(\\log_2 n)^2"})]}),r.jsx("h3",{children:"Big-O Notation"}),r.jsxs("p",{children:["When analyzing algorithms, we use ",r.jsx("strong",{children:"Big-O notation"})," to describe how the running time grows as the input size increases:"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-6",children:[r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700",children:[r.jsx("h4",{className:"text-lg font-semibold text-emerald-400 mb-2",children:"Polynomial Time"}),r.jsx("p",{className:"text-dark-300 mb-2",children:"Algorithms with time bounded by a polynomial in input size:"}),r.jsxs("p",{className:"font-mono text-emerald-400",children:["O(k), O(k",r.jsx("sup",{children:"2"}),"), O(k",r.jsx("sup",{children:"3"}),")"]}),r.jsx("p",{className:"text-dark-400 text-sm mt-2",children:'These are considered "efficient" or "tractable".'})]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700",children:[r.jsx("h4",{className:"text-lg font-semibold text-amber-400 mb-2",children:"Exponential Time"}),r.jsx("p",{className:"text-dark-300 mb-2",children:"Algorithms where time grows exponentially:"}),r.jsxs("p",{className:"font-mono text-amber-400",children:["O(2",r.jsx("sup",{children:"k"}),"), O(e",r.jsx("sup",{children:"k"}),")"]}),r.jsx("p",{className:"text-dark-400 text-sm mt-2",children:"These become infeasible for large inputs."})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Key Insight for Cryptography:"})," Cryptographic security relies on the existence of one-way functions - operations that are easy (polynomial time) to compute but hard (exponential time) to reverse. For example, multiplication is O(k",r.jsx("sup",{children:"2"}),"), but factoring is believed to require subexponential time."]})]})}function zQ(){return r.jsxs(Jt,{sectionId:1,children:[r.jsx("h2",{children:"Divisibility and the Euclidean Algorithm"}),r.jsx("p",{children:"The concept of divisibility is fundamental to number theory and cryptography. In this section, we study the properties of divisibility and the ancient but remarkably efficient Euclidean algorithm for computing the greatest common divisor."}),r.jsx("h3",{children:"Basic Divisibility"}),r.jsxs(ge,{title:"Divisibility",children:["Let ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," be integers with ",r.jsx(o,{math:"b \\neq 0",inline:!0}),". We say that",r.jsx("em",{children:"b"})," ",r.jsx("strong",{children:"divides"})," ",r.jsx("em",{children:"a"}),", written ",r.jsx(o,{math:"b \\mid a",inline:!0}),", if there exists an integer ",r.jsx("em",{children:"q"})," such that ",r.jsx(o,{math:"a = bq",inline:!0}),"."]}),r.jsxs(ge,{title:"Greatest Common Divisor",children:["The ",r.jsx("strong",{children:"greatest common divisor"})," of integers ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"}),", denoted",r.jsx(o,{math:"\\gcd(a, b)",inline:!0})," or simply ",r.jsx(o,{math:"(a, b)",inline:!0}),", is the largest positive integer that divides both ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"}),"."]}),r.jsxs(ge,{title:"Relatively Prime",children:["Two integers ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," are ",r.jsx("strong",{children:"relatively prime"})," (or ",r.jsx("strong",{children:"coprime"}),") if ",r.jsx(o,{math:"\\gcd(a, b) = 1",inline:!0}),"."]}),r.jsx("h3",{children:"The Euclidean Algorithm"}),r.jsx("p",{children:"The Euclidean algorithm is one of the oldest algorithms known, dating back to around 300 BCE. It efficiently computes the GCD using repeated division with remainder."}),r.jsxs(ke,{title:"Division Algorithm",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Existence:"})," Consider the set ",r.jsx(o,{math:"S = \\{a - bk : k \\in \\mathbb{Z}, a - bk \\geq 0\\}",inline:!0}),"."]}),r.jsxs("p",{children:["This set is nonempty: if ",r.jsx(o,{math:"a \\geq 0",inline:!0}),", then ",r.jsx(o,{math:"a - b \\cdot 0 = a \\in S",inline:!0}),"; if ",r.jsx(o,{math:"a < 0",inline:!0}),", then ",r.jsx(o,{math:"a - b \\cdot a = a(1-b) \\geq 0",inline:!0})," since ",r.jsx(o,{math:"b \\geq 1",inline:!0})," and ",r.jsx(o,{math:"a < 0",inline:!0}),"."]}),r.jsxs("p",{children:["By the Well-Ordering Principle, ",r.jsx("em",{children:"S"})," has a least element. Let ",r.jsx(o,{math:"r = a - bq",inline:!0})," be this least element for some integer ",r.jsx("em",{children:"q"}),"."]}),r.jsxs("p",{children:["We have ",r.jsx(o,{math:"r \\geq 0",inline:!0})," by definition of ",r.jsx("em",{children:"S"}),". Suppose ",r.jsx(o,{math:"r \\geq b",inline:!0}),". Then:"]}),r.jsx(o,{math:"a - b(q+1) = a - bq - b = r - b \\geq 0"}),r.jsxs("p",{children:["This means ",r.jsx(o,{math:"r - b \\in S",inline:!0}),", contradicting that ",r.jsx("em",{children:"r"})," is the least element. Therefore ",r.jsx(o,{math:"0 \\leq r < b",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Uniqueness:"})," Suppose ",r.jsx(o,{math:"a = bq_1 + r_1 = bq_2 + r_2",inline:!0})," with ",r.jsx(o,{math:"0 \\leq r_1, r_2 < b",inline:!0}),"."]}),r.jsxs("p",{children:["Then ",r.jsx(o,{math:"b(q_1 - q_2) = r_2 - r_1",inline:!0}),". Since ",r.jsx(o,{math:"|r_2 - r_1| < b",inline:!0})," and ",r.jsx(o,{math:"b \\mid (r_2 - r_1)",inline:!0}),", we must have ",r.jsx(o,{math:"r_2 - r_1 = 0",inline:!0}),", so ",r.jsx(o,{math:"r_1 = r_2",inline:!0})," and consequently ",r.jsx(o,{math:"q_1 = q_2",inline:!0}),"."]})]}),children:["For any integers ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," with ",r.jsx(o,{math:"b > 0",inline:!0}),", there exist unique integers ",r.jsx("em",{children:"q"})," (quotient) and ",r.jsx("em",{children:"r"})," (remainder) such that:",r.jsx(o,{math:"a = bq + r, \\quad 0 \\leq r < b"})]}),r.jsxs(ke,{title:"Euclidean Algorithm",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Correctness:"})," The algorithm relies on the key identity:"]}),r.jsx(o,{math:"\\gcd(a, b) = \\gcd(b, a \\bmod b)"}),r.jsxs("p",{children:["To prove this, let ",r.jsx(o,{math:"d = \\gcd(a, b)",inline:!0})," and write ",r.jsx(o,{math:"a = bq + r",inline:!0})," where ",r.jsx(o,{math:"r = a \\bmod b",inline:!0}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"d \\mid a",inline:!0})," and ",r.jsx(o,{math:"d \\mid b",inline:!0}),", we have ",r.jsx(o,{math:"d \\mid (a - bq) = r",inline:!0}),". Thus ",r.jsx("em",{children:"d"})," is a common divisor of ",r.jsx("em",{children:"b"})," and ",r.jsx("em",{children:"r"}),"."]}),r.jsxs("p",{children:["Conversely, if ",r.jsx(o,{math:"c \\mid b",inline:!0})," and ",r.jsx(o,{math:"c \\mid r",inline:!0}),", then ",r.jsx(o,{math:"c \\mid (bq + r) = a",inline:!0}),". So every common divisor of ",r.jsx("em",{children:"b"})," and ",r.jsx("em",{children:"r"})," also divides ",r.jsx("em",{children:"a"}),"."]}),r.jsxs("p",{children:["Therefore, ",r.jsx(o,{math:"\\{",inline:!0}),"common divisors of ",r.jsx("em",{children:"a"}),", ",r.jsx("em",{children:"b"}),r.jsx(o,{math:"\\}",inline:!0})," = ",r.jsx(o,{math:"\\{",inline:!0}),"common divisors of ",r.jsx("em",{children:"b"}),", ",r.jsx("em",{children:"r"}),r.jsx(o,{math:"\\}",inline:!0}),", and so ",r.jsx(o,{math:"\\gcd(a,b) = \\gcd(b, r)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Termination:"})," The sequence of remainders ",r.jsx(o,{math:"r_1, r_2, r_3, \\ldots",inline:!0})," is strictly decreasing and nonnegative, so it must eventually reach 0. When ",r.jsx(o,{math:"r_k = 0",inline:!0}),", we have ",r.jsx(o,{math:"\\gcd(r_{k-2}, r_{k-1}) = r_{k-1}",inline:!0}),", and by the chain of equalities, this equals ",r.jsx(o,{math:"\\gcd(a, b)",inline:!0}),"."]})]}),children:["To compute ",r.jsx(o,{math:"\\gcd(a, b)",inline:!0})," where ",r.jsx(o,{math:"a > b > 0",inline:!0}),":",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Divide ",r.jsx("em",{children:"a"})," by ",r.jsx("em",{children:"b"})," to get remainder ",r.jsx("em",{children:"r"})]}),r.jsxs("li",{children:["If ",r.jsx("em",{children:"r = 0"}),", then ",r.jsx(o,{math:"\\gcd(a, b) = b",inline:!0})]}),r.jsxs("li",{children:["Otherwise, replace ",r.jsx("em",{children:"a"})," by ",r.jsx("em",{children:"b"}),", ",r.jsx("em",{children:"b"})," by ",r.jsx("em",{children:"r"}),", and repeat"]})]})]}),r.jsxs(Le,{title:"Computing GCD(252, 198)",children:[r.jsxs("div",{className:"font-mono text-sm space-y-1",children:[r.jsx("p",{children:"252 = 198  1 + 54"}),r.jsx("p",{children:"198 = 54  3 + 36"}),r.jsx("p",{children:"54 = 36  1 + 18"}),r.jsx("p",{children:"36 = 18  2 + 0"})]}),r.jsxs("p",{className:"mt-2",children:["Therefore, ",r.jsx(o,{math:"\\gcd(252, 198) = 18",inline:!0}),"."]})]}),r.jsx("h3",{children:"Time Complexity of the Euclidean Algorithm"}),r.jsxs(ke,{title:"Euclidean Algorithm Time Bound",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Bounding the number of steps:"})," Let the sequence of remainders be ",r.jsx(o,{math:"r_0 = a, r_1 = b, r_2, \\ldots, r_n = 0",inline:!0}),"."]}),r.jsxs("p",{children:["We claim that ",r.jsx(o,{math:"r_{i+2} < \\frac{1}{2} r_i",inline:!0})," for all valid ",r.jsx("em",{children:"i"}),". There are two cases:"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 1:"})," If ",r.jsx(o,{math:"r_{i+1} \\leq \\frac{1}{2} r_i",inline:!0}),", then ",r.jsx(o,{math:"r_{i+2} < r_{i+1} \\leq \\frac{1}{2} r_i",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 2:"})," If ",r.jsx(o,{math:"r_{i+1} > \\frac{1}{2} r_i",inline:!0}),", then ",r.jsx(o,{math:"r_i = 1 \\cdot r_{i+1} + r_{i+2}",inline:!0})," (the quotient is 1), so ",r.jsx(o,{math:"r_{i+2} = r_i - r_{i+1} < r_i - \\frac{1}{2} r_i = \\frac{1}{2} r_i",inline:!0}),"."]}),r.jsxs("p",{children:["Since the remainder is halved every two steps, after ",r.jsx(o,{math:"2k",inline:!0})," steps where ",r.jsx(o,{math:"k = \\lfloor \\log_2 b \\rfloor + 1",inline:!0}),", the remainder becomes 0."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Bit operations per step:"})," Each step involves dividing numbers with at most ",r.jsx("em",{children:"k"})," bits. Division of a ",r.jsx("em",{children:"k"}),"-bit number by a ",r.jsx("em",{children:"k"}),"-bit number requires ",r.jsx(o,{math:"O(k^2)",inline:!0})," bit operations."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total:"})," ",r.jsx(o,{math:"O(2k) \\cdot O(k^2) = O(k^3) = O((\\log b)^3)",inline:!0})," bit operations. With more careful analysis using that remainders shrink, this improves to ",r.jsx(o,{math:"O((\\log b)^2)",inline:!0}),"."]})]}),children:["The Euclidean algorithm to compute ",r.jsx(o,{math:"\\gcd(a, b)",inline:!0})," requires at most",r.jsx(o,{math:"O((\\log b)^2)",inline:!0})," bit operations, where the logarithm is base 2.",r.jsxs("p",{className:"mt-2",children:["More precisely, if ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," are both k-bit integers, the algorithm terminates in at most ",r.jsx(o,{math:"2k",inline:!0})," steps, each requiring ",r.jsx(o,{math:"O(k^2)",inline:!0}),"bit operations for the division."]})]}),r.jsx(Ie,{type:"info",children:"The Euclidean algorithm is remarkably efficient - it can compute the GCD of two 1000-digit numbers in a fraction of a second on modern computers."}),r.jsx("h3",{children:"Extended Euclidean Algorithm"}),r.jsxs(ke,{title:"Bezout's Identity",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove this by strong induction on ",r.jsx(o,{math:"\\min(|a|, |b|)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Base case:"})," If ",r.jsx(o,{math:"b = 0",inline:!0}),", then ",r.jsx(o,{math:"\\gcd(a, 0) = |a| = a \\cdot 1 + 0 \\cdot 0",inline:!0})," (assuming ",r.jsx(o,{math:"a > 0",inline:!0}),"; otherwise use ",r.jsx(o,{math:"a \\cdot (-1)",inline:!0}),")."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Inductive step:"})," Assume the result holds for all pairs with smaller minimum. Let ",r.jsx(o,{math:"a = bq + r",inline:!0})," where ",r.jsx(o,{math:"0 \\leq r < b",inline:!0}),"."]}),r.jsxs("p",{children:["By the inductive hypothesis, there exist integers ",r.jsx(o,{math:"x', y'",inline:!0})," such that:"]}),r.jsx(o,{math:"bx' + ry' = \\gcd(b, r) = \\gcd(a, b)"}),r.jsxs("p",{children:["Substituting ",r.jsx(o,{math:"r = a - bq",inline:!0}),":"]}),r.jsx(o,{math:"bx' + (a - bq)y' = \\gcd(a, b)"}),r.jsx(o,{math:"ay' + b(x' - qy') = \\gcd(a, b)"}),r.jsxs("p",{children:["Setting ",r.jsx(o,{math:"x = y'",inline:!0})," and ",r.jsx(o,{math:"y = x' - qy'",inline:!0}),", we obtain ",r.jsx(o,{math:"ax + by = \\gcd(a, b)",inline:!0}),"."]}),r.jsx("p",{children:"The extended Euclidean algorithm computes these coefficients by tracking the linear combinations at each step."})]}),children:["For any integers ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"}),", not both zero, there exist integers ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"}),"such that:",r.jsx(o,{math:"ax + by = \\gcd(a, b)"}),"The integers ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," can be found by running the Euclidean algorithm backwards."]}),r.jsxs(Le,{title:"Extended Euclidean Algorithm",children:[r.jsxs("p",{children:["Find integers ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," such that ",r.jsx(o,{math:"252x + 198y = 18",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:"Working backwards from the Euclidean algorithm:"}),r.jsxs("div",{className:"font-mono text-sm space-y-1 mt-2",children:[r.jsx("p",{children:"18 = 54 - 36  1"}),r.jsx("p",{children:"18 = 54 - (198 - 54  3) = 54  4 - 198"}),r.jsx("p",{children:"18 = (252 - 198)  4 - 198 = 252  4 - 198  5"})]}),r.jsxs("p",{className:"mt-2",children:["Therefore, ",r.jsx("em",{children:"x = 4"})," and ",r.jsx("em",{children:"y = -5"}),"."]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Cryptographic Application:"})," The extended Euclidean algorithm is essential for computing modular inverses, which are used in RSA encryption, digital signatures, and many other cryptographic protocols."]}),r.jsx("h3",{children:"Properties of GCD"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Key Properties"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx(o,{math:"\\gcd(a, b) = \\gcd(b, a)",inline:!0})," (commutativity)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"\\gcd(a, b) = \\gcd(a - b, b)",inline:!0})," if ",r.jsx(o,{math:"a > b",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"\\gcd(a, b) = \\gcd(a \\mod b, b)",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\gcd(a, 0) = |a|",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\gcd(a, 1) = 1",inline:!0})}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"\\gcd(a, b) = 1",inline:!0})," and ",r.jsx(o,{math:"a \\mid bc",inline:!0}),", then ",r.jsx(o,{math:"a \\mid c",inline:!0})]})]})]})]})}function DQ(){return r.jsxs(Jt,{sectionId:2,children:[r.jsx("h2",{children:"Congruences"}),r.jsx("p",{children:"Modular arithmetic is the foundation of modern cryptography. In this section, we develop the theory of congruences, including Fermat's Little Theorem, Euler's theorem, and the Chinese Remainder Theorem."}),r.jsx("h3",{children:"Basic Definitions"}),r.jsxs(ge,{title:"Congruence",children:["Let ",r.jsx("em",{children:"m"})," be a positive integer. We say that ",r.jsx("em",{children:"a"})," is ",r.jsx("strong",{children:"congruent"})," to"," ",r.jsx("em",{children:"b"})," modulo ",r.jsx("em",{children:"m"}),", written ",r.jsx(o,{math:"a \\equiv b \\pmod{m}",inline:!0}),", if"," ",r.jsx(o,{math:"m \\mid (a - b)",inline:!0}),", i.e., if ",r.jsx("em",{children:"m"})," divides the difference"," ",r.jsx("em",{children:"a - b"}),"."]}),r.jsxs(ge,{title:"Residue Class",children:["The ",r.jsx("strong",{children:"residue class"})," of an integer ",r.jsx("em",{children:"a"})," modulo ",r.jsx("em",{children:"m"})," is the set of all integers congruent to ",r.jsx("em",{children:"a"})," modulo ",r.jsx("em",{children:"m"}),":",r.jsx(o,{math:"\\bar{a} = \\{a + km : k \\in \\mathbb{Z}\\}"}),"The set of residue classes modulo ",r.jsx("em",{children:"m"})," is denoted ",r.jsx(o,{math:"\\mathbb{Z}/m\\mathbb{Z}",inline:!0}),"."]}),r.jsx("h3",{children:"Properties of Congruences"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Basic Properties"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx(o,{math:"a \\equiv a \\pmod{m}",inline:!0})," (reflexivity)"]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"a \\equiv b \\pmod{m}",inline:!0}),", then ",r.jsx(o,{math:"b \\equiv a \\pmod{m}",inline:!0})," (symmetry)"]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"a \\equiv b \\pmod{m}",inline:!0})," and ",r.jsx(o,{math:"b \\equiv c \\pmod{m}",inline:!0}),", then ",r.jsx(o,{math:"a \\equiv c \\pmod{m}",inline:!0})," (transitivity)"]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"a \\equiv b \\pmod{m}",inline:!0})," and ",r.jsx(o,{math:"c \\equiv d \\pmod{m}",inline:!0}),", then ",r.jsx(o,{math:"a + c \\equiv b + d \\pmod{m}",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"a \\equiv b \\pmod{m}",inline:!0})," and ",r.jsx(o,{math:"c \\equiv d \\pmod{m}",inline:!0}),", then ",r.jsx(o,{math:"ac \\equiv bd \\pmod{m}",inline:!0})]})]})]}),r.jsx("h3",{children:"Euler's Phi Function"}),r.jsxs(ge,{title:"Euler's Phi Function",children:["For a positive integer ",r.jsx("em",{children:"n"}),", the ",r.jsx("strong",{children:"Euler phi function"})," ",r.jsx(o,{math:"\\varphi(n)",inline:!0})," counts the number of integers between 1 and ",r.jsx("em",{children:"n"})," ","that are relatively prime to ",r.jsx("em",{children:"n"}),":",r.jsx(o,{math:"\\varphi(n) = |\\{k : 1 \\leq k \\leq n, \\gcd(k, n) = 1\\}|"})]}),r.jsx(Le,{title:"Computing (n)",children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsx("li",{children:r.jsx(o,{math:"\\varphi(1) = 1",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"\\varphi(p) = p - 1",inline:!0})," for prime ",r.jsx("em",{children:"p"})]}),r.jsxs("li",{children:[r.jsx(o,{math:"\\varphi(p^k) = p^{k-1}(p - 1)",inline:!0})," for prime power"]}),r.jsxs("li",{children:[r.jsx(o,{math:"\\varphi(12) = \\varphi(4)\\varphi(3) = 2 \\cdot 2 = 4",inline:!0})," (the numbers 1, 5, 7, 11)"]})]})}),r.jsxs(ke,{title:"Euler's Phi Formula",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We prove this in two steps."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Step 1: Prime powers."})," For ",r.jsx(o,{math:"n = p^k",inline:!0}),", an integer ",r.jsx(o,{math:"1 \\leq m \\leq p^k",inline:!0})," is not coprime to ",r.jsx(o,{math:"p^k",inline:!0})," if and only if ",r.jsx(o,{math:"p \\mid m",inline:!0}),"."]}),r.jsxs("p",{children:["The multiples of ",r.jsx("em",{children:"p"})," in ",r.jsx(o,{math:"\\{1, 2, \\ldots, p^k\\}",inline:!0})," are ",r.jsx(o,{math:"p, 2p, 3p, \\ldots, p^{k-1} \\cdot p",inline:!0}),", which number ",r.jsx(o,{math:"p^{k-1}",inline:!0}),"."]}),r.jsx("p",{children:"Therefore:"}),r.jsx(o,{math:"\\varphi(p^k) = p^k - p^{k-1} = p^{k-1}(p - 1) = p^k \\left(1 - \\frac{1}{p}\\right)"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Step 2: Multiplicativity."})," If ",r.jsx(o,{math:"\\gcd(m, n) = 1",inline:!0}),", then ",r.jsx(o,{math:"\\varphi(mn) = \\varphi(m)\\varphi(n)",inline:!0}),"."]}),r.jsxs("p",{children:["By the Chinese Remainder Theorem, the map ",r.jsx(o,{math:"\\mathbb{Z}/mn\\mathbb{Z} \\to \\mathbb{Z}/m\\mathbb{Z} \\times \\mathbb{Z}/n\\mathbb{Z}",inline:!0})," given by ",r.jsx(o,{math:"x \\mapsto (x \\bmod m, x \\bmod n)",inline:!0})," is a ring isomorphism."]}),r.jsxs("p",{children:["An element ",r.jsx("em",{children:"x"})," is a unit in ",r.jsx(o,{math:"\\mathbb{Z}/mn\\mathbb{Z}",inline:!0})," if and only if ",r.jsx(o,{math:"(x \\bmod m, x \\bmod n)",inline:!0})," is a unit, which happens if and only if both components are units. Thus:"]}),r.jsx(o,{math:"\\varphi(mn) = \\varphi(m) \\cdot \\varphi(n)"}),r.jsxs("p",{children:["Combining these results for ",r.jsx(o,{math:"n = p_1^{a_1} \\cdots p_k^{a_k}",inline:!0}),":"]}),r.jsx(o,{math:"\\varphi(n) = \\prod_{i=1}^{k} \\varphi(p_i^{a_i}) = \\prod_{i=1}^{k} p_i^{a_i}\\left(1 - \\frac{1}{p_i}\\right) = n \\prod_{p \\mid n}\\left(1 - \\frac{1}{p}\\right)"})]}),children:["For ",r.jsx(o,{math:"n = p_1^{a_1} p_2^{a_2} \\cdots p_k^{a_k}",inline:!0}),":",r.jsx(o,{math:"\\varphi(n) = n \\prod_{p \\mid n} \\left(1 - \\frac{1}{p}\\right) = n \\cdot \\frac{p_1 - 1}{p_1} \\cdot \\frac{p_2 - 1}{p_2} \\cdots \\frac{p_k - 1}{p_k}"})]}),r.jsx("h3",{children:"Fermat's Little Theorem and Euler's Theorem"}),r.jsxs(ke,{title:"Fermat's Little Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Consider the ",r.jsx(o,{math:"p - 1",inline:!0})," nonzero residue classes modulo ",r.jsx("em",{children:"p"}),":"]}),r.jsx(o,{math:"1, 2, 3, \\ldots, p-1"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),", multiplication by ",r.jsx("em",{children:"a"})," permutes these residue classes. That is, the products:"]}),r.jsx(o,{math:"a \\cdot 1, a \\cdot 2, a \\cdot 3, \\ldots, a \\cdot (p-1)"}),r.jsxs("p",{children:["are just a rearrangement of ",r.jsx(o,{math:"1, 2, 3, \\ldots, p-1",inline:!0})," modulo ",r.jsx("em",{children:"p"}),"."]}),r.jsx("p",{children:"Taking the product of all elements in each list:"}),r.jsx(o,{math:"(a \\cdot 1)(a \\cdot 2)(a \\cdot 3) \\cdots (a \\cdot (p-1)) \\equiv 1 \\cdot 2 \\cdot 3 \\cdots (p-1) \\pmod{p}"}),r.jsx(o,{math:"a^{p-1} \\cdot (p-1)! \\equiv (p-1)! \\pmod{p}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\gcd((p-1)!, p) = 1",inline:!0})," (none of the factors ",r.jsx(o,{math:"1, 2, \\ldots, p-1",inline:!0})," are divisible by ",r.jsx("em",{children:"p"}),"), we can cancel ",r.jsx(o,{math:"(p-1)!",inline:!0})," to obtain:"]}),r.jsx(o,{math:"a^{p-1} \\equiv 1 \\pmod{p}"}),r.jsxs("p",{children:["Multiplying both sides by ",r.jsx("em",{children:"a"})," gives the equivalent form ",r.jsx(o,{math:"a^p \\equiv a \\pmod{p}",inline:!0}),", which holds even when ",r.jsx(o,{math:"p \\mid a",inline:!0})," (both sides are 0)."]})]}),children:["If ",r.jsx("em",{children:"p"})," is prime and ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),", then:",r.jsx(o,{math:"a^{p-1} \\equiv 1 \\pmod{p}"}),"Equivalently, for any integer ",r.jsx("em",{children:"a"}),":",r.jsx(o,{math:"a^p \\equiv a \\pmod{p}"})]}),r.jsxs(ke,{title:"Euler's Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"r_1, r_2, \\ldots, r_{\\varphi(n)}",inline:!0})," be a reduced residue system modulo ",r.jsx("em",{children:"n"}),", i.e., representatives of all residue classes coprime to ",r.jsx("em",{children:"n"}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),", multiplication by ",r.jsx("em",{children:"a"})," permutes this set. That is:"]}),r.jsx(o,{math:"ar_1, ar_2, \\ldots, ar_{\\varphi(n)}"}),r.jsxs("p",{children:["is a rearrangement of ",r.jsx(o,{math:"r_1, r_2, \\ldots, r_{\\varphi(n)}",inline:!0})," modulo ",r.jsx("em",{children:"n"}),"."]}),r.jsx("p",{children:"This is because:"}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"\\gcd(ar_i, n) = 1",inline:!0})," since ",r.jsx(o,{math:"\\gcd(a, n) = \\gcd(r_i, n) = 1",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"ar_i \\equiv ar_j \\pmod{n}",inline:!0}),", then ",r.jsx(o,{math:"r_i \\equiv r_j \\pmod{n}",inline:!0})," (cancellation works since ",r.jsx(o,{math:"\\gcd(a,n)=1",inline:!0}),")"]})]}),r.jsx("p",{children:"Taking the product:"}),r.jsx(o,{math:"(ar_1)(ar_2) \\cdots (ar_{\\varphi(n)}) \\equiv r_1 r_2 \\cdots r_{\\varphi(n)} \\pmod{n}"}),r.jsx(o,{math:"a^{\\varphi(n)} \\cdot \\prod_{i=1}^{\\varphi(n)} r_i \\equiv \\prod_{i=1}^{\\varphi(n)} r_i \\pmod{n}"}),r.jsxs("p",{children:["Since each ",r.jsx(o,{math:"r_i",inline:!0})," is coprime to ",r.jsx("em",{children:"n"}),", so is their product. Canceling gives:"]}),r.jsx(o,{math:"a^{\\varphi(n)} \\equiv 1 \\pmod{n}"})]}),children:["If ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),", then:",r.jsx(o,{math:"a^{\\varphi(n)} \\equiv 1 \\pmod{n}"}),"This generalizes Fermat's Little Theorem (since ",r.jsx(o,{math:"\\varphi(p) = p - 1",inline:!0}),")."]}),r.jsxs(Le,{title:"Computing Large Powers",children:[r.jsxs("p",{children:["Find the last digit of ",r.jsx(o,{math:"7^{222}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," We need ",r.jsx(o,{math:"7^{222} \\pmod{10}",inline:!0}),". Since ",r.jsx(o,{math:"\\varphi(10) = 4",inline:!0})," and ",r.jsx(o,{math:"\\gcd(7, 10) = 1",inline:!0}),":"]}),r.jsx(o,{math:"7^4 \\equiv 1 \\pmod{10}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"222 = 4 \\cdot 55 + 2",inline:!0}),":"]}),r.jsx(o,{math:"7^{222} = (7^4)^{55} \\cdot 7^2 \\equiv 1^{55} \\cdot 49 \\equiv 9 \\pmod{10}"})]}),r.jsx("h3",{children:"The Chinese Remainder Theorem"}),r.jsxs(ke,{title:"Chinese Remainder Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Existence:"})," Let ",r.jsx(o,{math:"M = m_1 m_2 \\cdots m_r",inline:!0})," and ",r.jsx(o,{math:"M_i = M / m_i",inline:!0})," for each ",r.jsx("em",{children:"i"}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\gcd(M_i, m_i) = 1",inline:!0})," (as ",r.jsx(o,{math:"M_i",inline:!0})," is a product of moduli coprime to ",r.jsx(o,{math:"m_i",inline:!0}),"), there exists ",r.jsx(o,{math:"N_i",inline:!0})," such that:"]}),r.jsx(o,{math:"M_i N_i \\equiv 1 \\pmod{m_i}"}),r.jsx("p",{children:"Define:"}),r.jsx(o,{math:"x = \\sum_{i=1}^{r} a_i M_i N_i"}),r.jsxs("p",{children:["For each ",r.jsx("em",{children:"j"}),", we have ",r.jsx(o,{math:"M_i \\equiv 0 \\pmod{m_j}",inline:!0})," when ",r.jsx(o,{math:"i \\neq j",inline:!0})," (since ",r.jsx(o,{math:"m_j \\mid M_i",inline:!0}),"). Thus:"]}),r.jsx(o,{math:"x \\equiv a_j M_j N_j \\equiv a_j \\cdot 1 = a_j \\pmod{m_j}"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Uniqueness:"})," Suppose ",r.jsx(o,{math:"x",inline:!0})," and ",r.jsx(o,{math:"x'",inline:!0})," both satisfy all congruences. Then:"]}),r.jsx(o,{math:"x \\equiv x' \\pmod{m_i} \\quad \\text{for all } i"}),r.jsxs("p",{children:["This means ",r.jsx(o,{math:"m_i \\mid (x - x')",inline:!0})," for all ",r.jsx("em",{children:"i"}),". Since the ",r.jsx(o,{math:"m_i",inline:!0})," are pairwise coprime:"]}),r.jsx(o,{math:"M = m_1 m_2 \\cdots m_r \\mid (x - x')"}),r.jsxs("p",{children:["Therefore ",r.jsx(o,{math:"x \\equiv x' \\pmod{M}",inline:!0}),", proving uniqueness modulo ",r.jsx("em",{children:"M"}),"."]})]}),children:["Let ",r.jsx(o,{math:"m_1, m_2, \\ldots, m_r",inline:!0})," be pairwise relatively prime positive integers. Then the system of congruences:",r.jsx(o,{math:"x \\equiv a_1 \\pmod{m_1}, \\quad x \\equiv a_2 \\pmod{m_2}, \\quad \\ldots, \\quad x \\equiv a_r \\pmod{m_r}"}),"has a unique solution modulo ",r.jsx(o,{math:"M = m_1 m_2 \\cdots m_r",inline:!0}),"."]}),r.jsxs(Le,{title:"Solving a System of Congruences",children:[r.jsxs("p",{children:["Find ",r.jsx("em",{children:"x"})," such that ",r.jsx(o,{math:"x \\equiv 2 \\pmod{3}",inline:!0}),","," ",r.jsx(o,{math:"x \\equiv 3 \\pmod{5}",inline:!0}),", ",r.jsx(o,{math:"x \\equiv 2 \\pmod{7}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Let ",r.jsx(o,{math:"M = 3 \\cdot 5 \\cdot 7 = 105",inline:!0}),"."]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"M_1 = 35",inline:!0}),", need ",r.jsx(o,{math:"35N_1 \\equiv 1 \\pmod{3}",inline:!0}),", so ",r.jsx(o,{math:"N_1 = 2",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"M_2 = 21",inline:!0}),", need ",r.jsx(o,{math:"21N_2 \\equiv 1 \\pmod{5}",inline:!0}),", so ",r.jsx(o,{math:"N_2 = 1",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"M_3 = 15",inline:!0}),", need ",r.jsx(o,{math:"15N_3 \\equiv 1 \\pmod{7}",inline:!0}),", so ",r.jsx(o,{math:"N_3 = 1",inline:!0})]})]}),r.jsx(o,{math:"x = 2 \\cdot 35 \\cdot 2 + 3 \\cdot 21 \\cdot 1 + 2 \\cdot 15 \\cdot 1 = 140 + 63 + 30 = 233 \\equiv 23 \\pmod{105}"})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Cryptographic Application:"})," The Chinese Remainder Theorem is used in RSA to speed up decryption by a factor of 4, and forms the basis of secret sharing schemes."]}),r.jsx("h3",{children:"Modular Inverses"}),r.jsxs(ge,{title:"Modular Inverse",children:["The ",r.jsx("strong",{children:"modular inverse"})," of ",r.jsx("em",{children:"a"})," modulo ",r.jsx("em",{children:"m"})," is an integer ",r.jsx("em",{children:"b"})," such that:",r.jsx(o,{math:"ab \\equiv 1 \\pmod{m}"}),"It exists if and only if ",r.jsx(o,{math:"\\gcd(a, m) = 1",inline:!0}),", and can be computed using the extended Euclidean algorithm."]}),r.jsxs(ke,{title:"Existence of Inverses",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Necessity:"})," Suppose ",r.jsx("em",{children:"b"})," is an inverse of ",r.jsx("em",{children:"a"})," modulo ",r.jsx("em",{children:"m"}),", so ",r.jsx(o,{math:"ab \\equiv 1 \\pmod{m}",inline:!0}),"."]}),r.jsxs("p",{children:["Then ",r.jsx(o,{math:"ab = 1 + km",inline:!0})," for some integer ",r.jsx("em",{children:"k"}),", which gives ",r.jsx(o,{math:"ab - km = 1",inline:!0}),"."]}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"d = \\gcd(a, m)",inline:!0}),", then ",r.jsx(o,{math:"d \\mid a",inline:!0})," and ",r.jsx(o,{math:"d \\mid m",inline:!0}),", so ",r.jsx(o,{math:"d \\mid (ab - km) = 1",inline:!0}),". Thus ",r.jsx(o,{math:"d = 1",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Sufficiency:"})," If ",r.jsx(o,{math:"\\gcd(a, m) = 1",inline:!0}),", then by Bezout's identity there exist integers ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," such that:"]}),r.jsx(o,{math:"ax + my = 1"}),r.jsxs("p",{children:["Reducing modulo ",r.jsx("em",{children:"m"}),": ",r.jsx(o,{math:"ax \\equiv 1 \\pmod{m}",inline:!0}),". Thus ",r.jsx(o,{math:"b = x",inline:!0})," is an inverse of ",r.jsx("em",{children:"a"}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Uniqueness:"})," Suppose ",r.jsx(o,{math:"ab_1 \\equiv ab_2 \\equiv 1 \\pmod{m}",inline:!0}),". Then ",r.jsx(o,{math:"a(b_1 - b_2) \\equiv 0 \\pmod{m}",inline:!0}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\gcd(a, m) = 1",inline:!0}),", we can cancel ",r.jsx("em",{children:"a"})," to get ",r.jsx(o,{math:"b_1 \\equiv b_2 \\pmod{m}",inline:!0}),"."]})]}),children:["The integer ",r.jsx("em",{children:"a"})," has a multiplicative inverse modulo ",r.jsx("em",{children:"m"})," if and only if"," ",r.jsx(o,{math:"\\gcd(a, m) = 1",inline:!0}),". In this case, the inverse is unique modulo ",r.jsx("em",{children:"m"}),"."]}),r.jsxs(Le,{title:"Computing a Modular Inverse",children:[r.jsx("p",{children:"Find the inverse of 7 modulo 26."}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Using the extended Euclidean algorithm:"]}),r.jsxs("div",{className:"font-mono text-sm space-y-1 mt-2",children:[r.jsx("p",{children:"26 = 7  3 + 5"}),r.jsx("p",{children:"7 = 5  1 + 2"}),r.jsx("p",{children:"5 = 2  2 + 1"})]}),r.jsxs("p",{className:"mt-2",children:["Working backwards: ",r.jsx(o,{math:"1 = 5 - 2 \\cdot 2 = 5 - 2(7 - 5) = 3 \\cdot 5 - 2 \\cdot 7 = 3(26 - 3 \\cdot 7) - 2 \\cdot 7 = 3 \\cdot 26 - 11 \\cdot 7",inline:!0})]}),r.jsxs("p",{children:["Thus ",r.jsx(o,{math:"7^{-1} \\equiv -11 \\equiv 15 \\pmod{26}",inline:!0}),"."]})]}),r.jsx("h3",{children:"Time Complexity"}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Efficiency:"})," Computing ",r.jsx(o,{math:"a^n \\pmod{m}",inline:!0})," using repeated squaring requires only ",r.jsx(o,{math:"O(\\log n)",inline:!0})," multiplications, each taking"," ",r.jsx(o,{math:"O((\\log m)^2)",inline:!0})," bit operations. Total: ",r.jsx(o,{math:"O((\\log n)(\\log m)^2)",inline:!0}),"."]})]})}function RQ(){return r.jsxs(Jt,{sectionId:3,children:[r.jsx("h2",{children:"Some Applications to Factoring"}),r.jsx("p",{children:"The problem of factoring large integers is central to cryptography. In this section, we explore how properties of congruences can be used for factorization, setting the stage for more sophisticated methods."}),r.jsx("h3",{children:"The Factoring Problem"}),r.jsxs(ge,{title:"Factoring Problem",children:["Given a composite integer ",r.jsx("em",{children:"n"}),", find its prime factorization:",r.jsx(o,{math:"n = p_1^{a_1} p_2^{a_2} \\cdots p_k^{a_k}"}),"For cryptographic purposes, we are particularly interested in the case where"," ",r.jsx(o,{math:"n = pq",inline:!0})," is a product of two large primes."]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Computational Hardness:"})," No polynomial-time algorithm is known for factoring. The best known algorithms (like the General Number Field Sieve) run in subexponential time:",r.jsx(o,{math:"O\\left(\\exp\\left(c(\\log n)^{1/3}(\\log \\log n)^{2/3}\\right)\\right)"})]}),r.jsx("h3",{children:"Trial Division"}),r.jsxs(ke,{title:"Trial Division Bound",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Suppose ",r.jsx("em",{children:"n"})," is composite. Then ",r.jsx(o,{math:"n = ab",inline:!0})," for some integers ",r.jsx(o,{math:"1 < a, b < n",inline:!0}),"."]}),r.jsxs("p",{children:["We cannot have both ",r.jsx(o,{math:"a > \\sqrt{n}",inline:!0})," and ",r.jsx(o,{math:"b > \\sqrt{n}",inline:!0}),", for then:"]}),r.jsx(o,{math:"n = ab > \\sqrt{n} \\cdot \\sqrt{n} = n"}),r.jsxs("p",{children:["which is a contradiction. Therefore, at least one of ",r.jsx("em",{children:"a"})," or ",r.jsx("em",{children:"b"})," satisfies ",r.jsx(o,{math:"a \\leq \\sqrt{n}",inline:!0})," or ",r.jsx(o,{math:"b \\leq \\sqrt{n}",inline:!0}),"."]}),r.jsxs("p",{children:["Without loss of generality, assume ",r.jsx(o,{math:"a \\leq \\sqrt{n}",inline:!0}),". Since ",r.jsx(o,{math:"a > 1",inline:!0}),", ",r.jsx("em",{children:"a"})," has a prime divisor ",r.jsx("em",{children:"p"}),", and we have:"]}),r.jsx(o,{math:"p \\leq a \\leq \\sqrt{n}"}),r.jsxs("p",{children:["Moreover, ",r.jsx(o,{math:"p \\mid a",inline:!0})," and ",r.jsx(o,{math:"a \\mid n",inline:!0})," imply ",r.jsx(o,{math:"p \\mid n",inline:!0}),"."]}),r.jsxs("p",{children:["Contrapositive: if no prime ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0})," divides ",r.jsx("em",{children:"n"}),", then ",r.jsx("em",{children:"n"})," has no nontrivial factorization, so ",r.jsx("em",{children:"n"})," is prime."]})]}),children:["To factor ",r.jsx("em",{children:"n"})," by trial division, we only need to test primes up to"," ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),". If no prime ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0})," ","divides ",r.jsx("em",{children:"n"}),", then ",r.jsx("em",{children:"n"})," is prime."]}),r.jsxs(Le,{title:"Trial Division",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 1001",inline:!0})," by trial division."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," We test primes up to ",r.jsx(o,{math:"\\sqrt{1001} \\approx 31.6",inline:!0}),":"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"1001 / 7 = 143",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"143 / 11 = 13",inline:!0})})]}),r.jsxs("p",{children:["Therefore, ",r.jsx(o,{math:"1001 = 7 \\times 11 \\times 13",inline:!0}),"."]})]}),r.jsx("h3",{children:"Fermat's Factoring Method"}),r.jsxs("p",{children:["Fermat observed that if ",r.jsx(o,{math:"n = ab",inline:!0})," with ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," close to ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),", we can write:"]}),r.jsx(o,{math:"n = \\left(\\frac{a+b}{2}\\right)^2 - \\left(\\frac{a-b}{2}\\right)^2 = x^2 - y^2"}),r.jsxs(ke,{title:"Fermat's Method",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Correctness:"})," Suppose ",r.jsx(o,{math:"n = ab",inline:!0})," with ",r.jsx(o,{math:"a \\leq b",inline:!0}),". Set:"]}),r.jsx(o,{math:"x = \\frac{a + b}{2}, \\quad y = \\frac{b - a}{2}"}),r.jsxs("p",{children:["Then ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," are positive (since ",r.jsx(o,{math:"a, b \\geq 1",inline:!0}),") and:"]}),r.jsx(o,{math:"x^2 - y^2 = \\frac{(a+b)^2 - (b-a)^2}{4} = \\frac{4ab}{4} = ab = n"}),r.jsxs("p",{children:["So ",r.jsx(o,{math:"n = (x-y)(x+y) = ab",inline:!0})," where ",r.jsx(o,{math:"x - y = a",inline:!0})," and ",r.jsx(o,{math:"x + y = b",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Termination:"})," Since ",r.jsx(o,{math:"a \\leq \\sqrt{n} \\leq b",inline:!0}),", we have:"]}),r.jsx(o,{math:"x = \\frac{a + b}{2} \\geq \\frac{\\sqrt{n} + \\sqrt{n}}{2} = \\sqrt{n}"}),r.jsxs("p",{children:["Starting from ",r.jsx(o,{math:"\\lceil \\sqrt{n} \\rceil",inline:!0})," and incrementing, we will eventually reach the value ",r.jsx(o,{math:"x = (a+b)/2",inline:!0})," at which point ",r.jsx(o,{math:"x^2 - n = y^2",inline:!0})," is a perfect square."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Efficiency:"})," The method is fast when ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," are close to ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),", as then ",r.jsx(o,{math:"x \\approx \\sqrt{n}",inline:!0})," and few iterations are needed."]})]}),children:["To factor ",r.jsx("em",{children:"n"}),":",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Start with ",r.jsx(o,{math:"x = \\lceil \\sqrt{n} \\rceil",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"y^2 = x^2 - n",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"y^2",inline:!0})," is a perfect square, then ",r.jsx(o,{math:"n = (x-y)(x+y)",inline:!0})]}),r.jsxs("li",{children:["Otherwise, increment ",r.jsx("em",{children:"x"})," and repeat"]})]})]}),r.jsxs(Le,{title:"Fermat's Method",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 5959",inline:!0})," using Fermat's method."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," ",r.jsx(o,{math:"\\sqrt{5959} \\approx 77.2",inline:!0}),", so start with ",r.jsx(o,{math:"x = 78",inline:!0}),":"]}),r.jsxs("div",{className:"font-mono text-sm space-y-1 mt-2",children:[r.jsx("p",{children:"x = 78: 78 - 5959 = 6084 - 5959 = 125 (not a square)"}),r.jsx("p",{children:"x = 79: 79 - 5959 = 6241 - 5959 = 282 (not a square)"}),r.jsx("p",{children:"x = 80: 80 - 5959 = 6400 - 5959 = 441 = 21 "})]}),r.jsxs("p",{className:"mt-2",children:["So ",r.jsx(o,{math:"n = (80-21)(80+21) = 59 \\times 101",inline:!0}),"."]})]}),r.jsx("h3",{children:"The Difference of Squares Method"}),r.jsxs(ke,{title:"Factoring via Congruence",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["From ",r.jsx(o,{math:"x^2 \\equiv y^2 \\pmod{n}",inline:!0}),", we have:"]}),r.jsx(o,{math:"n \\mid (x^2 - y^2) = (x-y)(x+y)"}),r.jsxs("p",{children:["Let ",r.jsx(o,{math:"d_1 = \\gcd(x - y, n)",inline:!0})," and ",r.jsx(o,{math:"d_2 = \\gcd(x + y, n)",inline:!0}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"n \\mid (x-y)(x+y)",inline:!0}),", the prime factors of ",r.jsx("em",{children:"n"})," must divide the product ",r.jsx(o,{math:"(x-y)(x+y)",inline:!0}),"."]}),r.jsx("p",{children:r.jsx("strong",{children:"Why the factors are nontrivial:"})}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"d_1 = n",inline:!0}),", then ",r.jsx(o,{math:"n \\mid (x - y)",inline:!0}),", meaning ",r.jsx(o,{math:"x \\equiv y \\pmod{n}",inline:!0}),", which contradicts our assumption."]}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"d_1 = 1",inline:!0}),", then ",r.jsx(o,{math:"\\gcd(x - y, n) = 1",inline:!0}),", so all prime factors of ",r.jsx("em",{children:"n"})," must divide ",r.jsx(o,{math:"(x + y)",inline:!0}),". This means ",r.jsx(o,{math:"n \\mid (x + y)",inline:!0}),", giving ",r.jsx(o,{math:"x \\equiv -y \\pmod{n}",inline:!0}),", again contradicting our assumption."]}),r.jsxs("p",{children:["Therefore ",r.jsx(o,{math:"1 < d_1 < n",inline:!0}),", making ",r.jsx(o,{math:"d_1",inline:!0})," a nontrivial factor of ",r.jsx("em",{children:"n"}),"."]}),r.jsxs("p",{children:["The same argument applies to ",r.jsx(o,{math:"d_2",inline:!0}),", and we have ",r.jsx(o,{math:"n = d_1 \\cdot (n/d_1)",inline:!0})," where both factors can be computed using the GCD."]})]}),children:["Suppose we find integers ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," such that:",r.jsx(o,{math:"x^2 \\equiv y^2 \\pmod{n} \\quad \\text{but} \\quad x \\not\\equiv \\pm y \\pmod{n}"}),"Then ",r.jsx(o,{math:"\\gcd(x - y, n)",inline:!0})," and ",r.jsx(o,{math:"\\gcd(x + y, n)",inline:!0})," ","give nontrivial factors of ",r.jsx("em",{children:"n"}),"."]}),r.jsx("p",{children:"This observation is the basis of many modern factoring algorithms, including the Quadratic Sieve and Number Field Sieve."}),r.jsxs(Le,{title:"Difference of Squares",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 77",inline:!0})," given that ",r.jsx(o,{math:"10^2 \\equiv 23^2 \\pmod{77}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Since ",r.jsx(o,{math:"10 \\not\\equiv \\pm 23 \\pmod{77}",inline:!0}),":"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsxs("li",{children:[r.jsx(o,{math:"\\gcd(23 - 10, 77) = \\gcd(13, 77) = 1",inline:!0})," (no luck)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"\\gcd(23 + 10, 77) = \\gcd(33, 77) = 11",inline:!0})," "]})]}),r.jsxs("p",{children:["So ",r.jsx(o,{math:"77 = 11 \\times 7",inline:!0}),"."]})]}),r.jsx("h3",{children:"Pollard's p - 1 Method"}),r.jsxs(ge,{title:"Smooth Numbers",children:["An integer is ",r.jsx("strong",{children:"B-smooth"})," if all its prime factors are at most ",r.jsx("em",{children:"B"}),". For example, ",r.jsx(o,{math:"60 = 2^2 \\cdot 3 \\cdot 5",inline:!0})," is 5-smooth."]}),r.jsxs(ke,{title:"Pollard's p - 1 Method",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Why it works:"})," Suppose ",r.jsx("em",{children:"p"})," is a prime factor of ",r.jsx("em",{children:"n"})," and ",r.jsx(o,{math:"p - 1",inline:!0})," is ",r.jsx("em",{children:"B"}),"-smooth."]}),r.jsxs("p",{children:["By definition of ",r.jsx("em",{children:"B"}),"-smooth, every prime power ",r.jsx(o,{math:"q^k",inline:!0})," dividing ",r.jsx(o,{math:"p - 1",inline:!0})," satisfies ",r.jsx(o,{math:"q^k \\leq B",inline:!0}),"."]}),r.jsxs("p",{children:["The number ",r.jsx(o,{math:"M = \\text{lcm}(1, 2, \\ldots, B)",inline:!0})," is divisible by every integer up to ",r.jsx("em",{children:"B"}),", so in particular:"]}),r.jsx(o,{math:"(p - 1) \\mid M"}),r.jsxs("p",{children:["By Fermat's Little Theorem, if ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),":"]}),r.jsx(o,{math:"a^{p-1} \\equiv 1 \\pmod{p}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"(p-1) \\mid M",inline:!0}),", we have ",r.jsx(o,{math:"M = k(p-1)",inline:!0})," for some integer ",r.jsx("em",{children:"k"}),", so:"]}),r.jsx(o,{math:"a^M = (a^{p-1})^k \\equiv 1^k = 1 \\pmod{p}"}),r.jsxs("p",{children:["Therefore ",r.jsx(o,{math:"p \\mid (a^M - 1)",inline:!0}),", which means ",r.jsx(o,{math:"p \\mid (b - 1)",inline:!0})," where ",r.jsx(o,{math:"b = a^M \\bmod n",inline:!0}),"."]}),r.jsxs("p",{children:["Computing ",r.jsx(o,{math:"d = \\gcd(b - 1, n)",inline:!0}),", we get ",r.jsx(o,{math:"p \\mid d",inline:!0}),". If we're lucky that ",r.jsx(o,{math:"d \\neq n",inline:!0})," (i.e., not all prime factors of ",r.jsx("em",{children:"n"})," divide ",r.jsx(o,{math:"b - 1",inline:!0}),"), then ",r.jsx("em",{children:"d"})," is a nontrivial factor."]})]}),children:["If ",r.jsx("em",{children:"n"})," has a prime factor ",r.jsx("em",{children:"p"})," such that ",r.jsx(o,{math:"p - 1",inline:!0})," is"," ",r.jsx("em",{children:"B"}),"-smooth, then we can find ",r.jsx("em",{children:"p"})," efficiently:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"M = \\text{lcm}(1, 2, \\ldots, B) = \\prod_{q \\leq B} q^{\\lfloor \\log_q B \\rfloor}",inline:!0})]}),r.jsxs("li",{children:["For a random ",r.jsx("em",{children:"a"}),", compute ",r.jsx(o,{math:"b = a^M \\bmod n",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"d = \\gcd(b - 1, n)",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"1 < d < n",inline:!0}),", then ",r.jsx("em",{children:"d"})," is a factor"]})]})]}),r.jsxs("p",{children:["The method works because if ",r.jsx(o,{math:"(p-1) \\mid M",inline:!0}),", then by Fermat's Little Theorem, ",r.jsx(o,{math:"a^M \\equiv 1 \\pmod{p}",inline:!0}),", so ",r.jsx(o,{math:"p \\mid (b - 1)",inline:!0}),"."]}),r.jsxs(Le,{title:"Pollard's p - 1 Method",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 540143",inline:!0})," using ",r.jsx(o,{math:"B = 13",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"M = 2^3 \\cdot 3^2 \\cdot 5 \\cdot 7 \\cdot 11 \\cdot 13 = 360360",inline:!0})}),r.jsxs("li",{children:["Let ",r.jsx(o,{math:"a = 2",inline:!0}),", compute ",r.jsx(o,{math:"2^{360360} \\bmod 540143 = 53047",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"\\gcd(53046, 540143) = 421",inline:!0})})]}),r.jsxs("p",{children:["We found that ",r.jsx(o,{math:"540143 = 421 \\times 1283",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["This worked because ",r.jsx(o,{math:"420 = 2^2 \\cdot 3 \\cdot 5 \\cdot 7",inline:!0})," is 7-smooth."]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Key Insight:"})," Pollard's p - 1 method is fast when ",r.jsx(o,{math:"p - 1",inline:!0})," ","has only small prime factors. This is why cryptographic primes are often chosen to be"," ",r.jsx("strong",{children:"safe primes"}),": ",r.jsx(o,{math:"p = 2q + 1",inline:!0})," where ",r.jsx("em",{children:"q"})," is also prime."]}),r.jsx("h3",{children:"Time Complexity Comparison"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Factoring Methods"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Method"}),r.jsx("th",{className:"text-left py-2",children:"Complexity"}),r.jsx("th",{className:"text-left py-2",children:"Best for"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Trial Division"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})}),r.jsx("td",{className:"py-2",children:"Small factors"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Fermat's Method"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(n^{1/4})",inline:!0})}),r.jsx("td",{className:"py-2",children:"Factors near n"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Pollard's p - 1"}),r.jsx("td",{className:"py-2",children:"Depends on smoothness"}),r.jsx("td",{className:"py-2",children:"Smooth p - 1"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"Pollard's Rho"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(n^{1/4})",inline:!0})}),r.jsx("td",{className:"py-2",children:"General purpose"})]})]})]})]})]})}function OQ(){return r.jsxs(Jt,{sectionId:4,children:[r.jsx("h2",{children:"Finite Fields"}),r.jsx("p",{children:"Finite fields are algebraic structures that play a fundamental role in cryptography. They provide the mathematical foundation for many cryptographic systems, including AES, elliptic curve cryptography, and error-correcting codes."}),r.jsx("h3",{children:"Basic Definitions"}),r.jsxs(ge,{title:"Field",children:["A ",r.jsx("strong",{children:"field"})," is a set ",r.jsx("em",{children:"F"})," with two operations (addition and multiplication) satisfying:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("em",{children:"(F, +)"})," is an abelian group with identity 0"]}),r.jsxs("li",{children:[r.jsxs("em",{children:["(F \\ ","{0}",", )"]})," is an abelian group with identity 1"]}),r.jsxs("li",{children:["Distributivity: ",r.jsx(o,{math:"a(b + c) = ab + ac",inline:!0})]})]})]}),r.jsxs(ge,{title:"Finite Field",children:["A ",r.jsx("strong",{children:"finite field"})," (or ",r.jsx("strong",{children:"Galois field"}),") is a field with finitely many elements. The number of elements is called the ",r.jsx("strong",{children:"order"})," of the field."]}),r.jsx(ke,{title:"Classification of Finite Fields",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"(1) Order is a prime power:"})," Let ",r.jsx("em",{children:"F"})," be a finite field. Its characteristic ",r.jsx("em",{children:"p"})," must be prime (if ",r.jsx(o,{math:"p = ab",inline:!0})," with ",r.jsx(o,{math:"a, b > 1",inline:!0}),", then ",r.jsx(o,{math:"a \\cdot b = 0",inline:!0})," in ",r.jsx("em",{children:"F"})," implies ",r.jsx(o,{math:"a = 0",inline:!0})," or ",r.jsx(o,{math:"b = 0",inline:!0})," by field properties, contradiction)."]}),r.jsxs("p",{children:["The prime field ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})," is contained in ",r.jsx("em",{children:"F"}),". Thus ",r.jsx("em",{children:"F"})," is a vector space over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),"."]}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"\\dim_{\\mathbb{F}_p}(F) = n",inline:!0}),", then ",r.jsx(o,{math:"|F| = p^n",inline:!0})," (each of ",r.jsx("em",{children:"n"})," coordinates can take ",r.jsx("em",{children:"p"})," values)."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"(2) Existence:"})," Consider the polynomial ",r.jsx(o,{math:"x^{p^n} - x",inline:!0})," over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),". Its splitting field has exactly ",r.jsx(o,{math:"p^n",inline:!0})," elements (the roots of this polynomial), and these elements form a field under the inherited operations."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"(2) Uniqueness:"})," Every element ",r.jsx("em",{children:"a"})," of a field with ",r.jsx(o,{math:"p^n",inline:!0})," elements satisfies ",r.jsx(o,{math:"a^{p^n} = a",inline:!0})," (by Lagrange's theorem applied to the multiplicative group). Thus any field of order ",r.jsx(o,{math:"p^n",inline:!0})," is a splitting field for ",r.jsx(o,{math:"x^{p^n} - x",inline:!0}),", and splitting fields are unique up to isomorphism."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"(3)"})," The map ",r.jsx(o,{math:"\\mathbb{Z} \\to F",inline:!0})," sending ",r.jsx(o,{math:"1 \\mapsto 1_F",inline:!0})," has kernel ",r.jsx(o,{math:"p\\mathbb{Z}",inline:!0}),", inducing an isomorphism ",r.jsx(o,{math:"\\mathbb{Z}/p\\mathbb{Z} \\cong \\mathbb{F}_p",inline:!0}),"."]})]}),children:r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsxs("li",{children:["The order of any finite field is a prime power ",r.jsx(o,{math:"q = p^n",inline:!0})]}),r.jsxs("li",{children:["For every prime power ",r.jsx(o,{math:"q = p^n",inline:!0}),", there exists a unique (up to isomorphism) finite field of order ",r.jsx("em",{children:"q"}),", denoted ",r.jsx(o,{math:"\\mathbb{F}_q",inline:!0})," or ",r.jsx(o,{math:"GF(q)",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"\\mathbb{F}_p \\cong \\mathbb{Z}/p\\mathbb{Z}",inline:!0})," for prime ",r.jsx("em",{children:"p"})]})]})}),r.jsx("h3",{children:"The Prime Field"}),r.jsxs("p",{children:["The simplest finite fields are ",r.jsx(o,{math:"\\mathbb{F}_p = \\mathbb{Z}/p\\mathbb{Z}",inline:!0})," ","for prime ",r.jsx("em",{children:"p"}),". These are the integers modulo ",r.jsx("em",{children:"p"})," with standard addition and multiplication."]}),r.jsxs(Le,{title:"Arithmetic in F",children:[r.jsxs("p",{children:["In ",r.jsx(o,{math:"\\mathbb{F}_5 = \\{0, 1, 2, 3, 4\\}",inline:!0}),":"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:r.jsx(o,{math:"3 + 4 = 7 \\equiv 2 \\pmod{5}",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"3 \\times 4 = 12 \\equiv 2 \\pmod{5}",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"3^{-1} = 2",inline:!0})," since ",r.jsx(o,{math:"3 \\times 2 = 6 \\equiv 1 \\pmod{5}",inline:!0})]})]})]}),r.jsx("h3",{children:"Extension Fields"}),r.jsxs("p",{children:["For ",r.jsx(o,{math:"q = p^n",inline:!0})," with ",r.jsx(o,{math:"n > 1",inline:!0}),", we construct"," ",r.jsx(o,{math:"\\mathbb{F}_q",inline:!0})," using irreducible polynomials."]}),r.jsxs(ge,{title:"Irreducible Polynomial",children:["A polynomial ",r.jsx(o,{math:"f(x) \\in \\mathbb{F}_p[x]",inline:!0})," is ",r.jsx("strong",{children:"irreducible"})," ","if it cannot be factored as a product of polynomials of lower degree over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),"."]}),r.jsxs(ke,{title:"Extension Field Construction",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"f(x) \\in \\mathbb{F}_p[x]",inline:!0})," be irreducible of degree ",r.jsx("em",{children:"n"}),". We show ",r.jsx(o,{math:"R = \\mathbb{F}_p[x]/(f(x))",inline:!0})," is a field with ",r.jsx(o,{math:"p^n",inline:!0})," elements."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"R is a field:"})," Since ",r.jsx(o,{math:"f(x)",inline:!0})," is irreducible over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),", the ideal ",r.jsx(o,{math:"(f(x))",inline:!0})," is maximal in the principal ideal domain ",r.jsx(o,{math:"\\mathbb{F}_p[x]",inline:!0}),". Quotients by maximal ideals are fields."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Elements of R:"})," By the division algorithm, every polynomial ",r.jsx(o,{math:"g(x) \\in \\mathbb{F}_p[x]",inline:!0})," can be written as:"]}),r.jsx(o,{math:"g(x) = f(x) \\cdot q(x) + r(x), \\quad \\deg(r) < n"}),r.jsxs("p",{children:["Thus each coset in ",r.jsx("em",{children:"R"})," has a unique representative of degree less than ",r.jsx("em",{children:"n"}),":"]}),r.jsx(o,{math:"r(x) = a_0 + a_1 x + \\cdots + a_{n-1}x^{n-1}, \\quad a_i \\in \\mathbb{F}_p"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Counting elements:"})," There are ",r.jsx("em",{children:"p"})," choices for each of the ",r.jsx("em",{children:"n"})," coefficients, giving ",r.jsx(o,{math:"|R| = p^n",inline:!0})," elements."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Isomorphism:"})," By uniqueness of finite fields, ",r.jsx(o,{math:"R \\cong \\mathbb{F}_{p^n}",inline:!0}),"."]}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"\\alpha = x + (f(x))",inline:!0})," is the image of ",r.jsx("em",{children:"x"})," in ",r.jsx("em",{children:"R"}),", then ",r.jsx(o,{math:"f(\\alpha) = 0",inline:!0})," in ",r.jsx("em",{children:"R"}),", and we can identify ",r.jsx(o,{math:"R = \\mathbb{F}_p(\\alpha)",inline:!0}),"."]})]}),children:["If ",r.jsx(o,{math:"f(x)",inline:!0})," is an irreducible polynomial of degree ",r.jsx("em",{children:"n"})," over"," ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),", then:",r.jsx(o,{math:"\\mathbb{F}_{p^n} \\cong \\mathbb{F}_p[x]/(f(x))"}),"Elements are polynomials of degree less than ",r.jsx("em",{children:"n"})," with coefficients in ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),"."]}),r.jsxs(Le,{title:"Constructing F",children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"f(x) = x^2 + x + 1",inline:!0}),", which is irreducible over"," ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0}),". Then:"]}),r.jsx(o,{math:"\\mathbb{F}_4 = \\{0, 1, \\alpha, \\alpha + 1\\}"}),r.jsxs("p",{className:"mt-2",children:["where ",r.jsx(o,{math:"\\alpha^2 = \\alpha + 1",inline:!0})," (using ",r.jsx(o,{math:"\\alpha^2 + \\alpha + 1 = 0",inline:!0}),")."]}),r.jsx("p",{className:"mt-2",children:"Multiplication table (partial):"}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"\\alpha \\cdot \\alpha = \\alpha^2 = \\alpha + 1",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\alpha \\cdot (\\alpha + 1) = \\alpha^2 + \\alpha = (\\alpha + 1) + \\alpha = 1",inline:!0})})]})]}),r.jsx("h3",{children:"The Multiplicative Group"}),r.jsxs(ke,{title:"Cyclic Multiplicative Group",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"G = \\mathbb{F}_q^*",inline:!0}),", a finite abelian group of order ",r.jsx(o,{math:"q - 1",inline:!0}),"."]}),r.jsxs("p",{children:["We prove ",r.jsx("em",{children:"G"})," is cyclic by showing it has at most ",r.jsx("em",{children:"d"})," elements of order dividing ",r.jsx("em",{children:"d"})," for each ",r.jsx(o,{math:"d \\mid (q-1)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Key observation:"})," In a field, the polynomial ",r.jsx(o,{math:"x^d - 1",inline:!0})," has at most ",r.jsx("em",{children:"d"})," roots. Elements ",r.jsx(o,{math:"g \\in G",inline:!0})," with ",r.jsx(o,{math:"g^d = 1",inline:!0})," are exactly the roots of ",r.jsx(o,{math:"x^d - 1",inline:!0}),"."]}),r.jsxs("p",{children:["Let ",r.jsx(o,{math:"\\psi(d)",inline:!0})," denote the number of elements of order exactly ",r.jsx("em",{children:"d"})," in ",r.jsx("em",{children:"G"}),". We have:"]}),r.jsx(o,{math:"\\sum_{e \\mid d} \\psi(e) \\leq d"}),r.jsxs("p",{children:["since the left side counts elements whose order divides ",r.jsx("em",{children:"d"}),"."]}),r.jsxs("p",{children:["By Mobius inversion and the fact that ",r.jsx(o,{math:"\\sum_{e \\mid d} \\varphi(e) = d",inline:!0}),", if we had ",r.jsx(o,{math:"\\psi(d) < \\varphi(d)",inline:!0})," for some ",r.jsx("em",{children:"d"}),", summing over all divisors of ",r.jsx(o,{math:"q-1",inline:!0})," would give:"]}),r.jsx(o,{math:"|G| = \\sum_{d \\mid (q-1)} \\psi(d) < \\sum_{d \\mid (q-1)} \\varphi(d) = q - 1 = |G|"}),r.jsxs("p",{children:["a contradiction. Therefore ",r.jsx(o,{math:"\\psi(d) = \\varphi(d)",inline:!0})," for all ",r.jsx(o,{math:"d \\mid (q-1)",inline:!0}),"."]}),r.jsxs("p",{children:["In particular, ",r.jsx(o,{math:"\\psi(q-1) = \\varphi(q-1) \\geq 1",inline:!0}),", so there exists an element of order ",r.jsx(o,{math:"q - 1",inline:!0}),", proving ",r.jsx("em",{children:"G"})," is cyclic."]})]}),children:["The multiplicative group ",r.jsx(o,{math:"\\mathbb{F}_q^* = \\mathbb{F}_q \\setminus \\{0\\}",inline:!0})," ","is cyclic of order ",r.jsx(o,{math:"q - 1",inline:!0}),"."]}),r.jsxs(ge,{title:"Primitive Element",children:["A ",r.jsx("strong",{children:"primitive element"})," (or ",r.jsx("strong",{children:"generator"}),") of ",r.jsx(o,{math:"\\mathbb{F}_q",inline:!0})," ","is an element ",r.jsx("em",{children:"g"})," such that ",r.jsx(o,{math:"\\mathbb{F}_q^* = \\{g^0, g^1, g^2, \\ldots, g^{q-2}\\}",inline:!0}),"."]}),r.jsxs(Le,{title:"Primitive Element of F",children:[r.jsxs("p",{children:["Find a primitive element of ",r.jsx(o,{math:"\\mathbb{F}_7",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Check powers of 3:"]}),r.jsx(o,{math:"3^1 = 3, \\quad 3^2 = 2, \\quad 3^3 = 6, \\quad 3^4 = 4, \\quad 3^5 = 5, \\quad 3^6 = 1"}),r.jsxs("p",{children:["Since 3 generates all nonzero elements, ",r.jsx(o,{math:"g = 3",inline:!0})," is a primitive element."]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Finding Primitive Elements:"})," About ",r.jsx(o,{math:"\\varphi(q-1)/(q-1)",inline:!0})," ","of all nonzero elements are primitive. For large ",r.jsx("em",{children:"q"}),", randomly chosen elements are primitive with high probability."]}),r.jsx("h3",{children:"Subfields"}),r.jsxs(ke,{title:"Subfield Criterion",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:r.jsxs("strong",{children:["Necessity (if ",r.jsx(o,{math:"\\mathbb{F}_{p^m} \\subseteq \\mathbb{F}_{p^n}",inline:!0}),", then ",r.jsx(o,{math:"m \\mid n",inline:!0}),"):"]})}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," is a subfield of ",r.jsx(o,{math:"\\mathbb{F}_{p^n}",inline:!0}),", then ",r.jsx(o,{math:"\\mathbb{F}_{p^n}",inline:!0})," is a vector space over ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0}),"."]}),r.jsxs("p",{children:["Let ",r.jsx(o,{math:"k = \\dim_{\\mathbb{F}_{p^m}}(\\mathbb{F}_{p^n})",inline:!0}),". Then:"]}),r.jsx(o,{math:"p^n = |\\mathbb{F}_{p^n}| = |\\mathbb{F}_{p^m}|^k = (p^m)^k = p^{mk}"}),r.jsxs("p",{children:["Therefore ",r.jsx(o,{math:"n = mk",inline:!0}),", so ",r.jsx(o,{math:"m \\mid n",inline:!0}),"."]}),r.jsx("p",{children:r.jsxs("strong",{children:["Sufficiency (if ",r.jsx(o,{math:"m \\mid n",inline:!0}),", then ",r.jsx(o,{math:"\\mathbb{F}_{p^m} \\subseteq \\mathbb{F}_{p^n}",inline:!0}),"):"]})}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"m \\mid n",inline:!0}),", write ",r.jsx(o,{math:"n = mk",inline:!0}),". Then ",r.jsx(o,{math:"(p^m - 1) \\mid (p^n - 1)",inline:!0})," because:"]}),r.jsx(o,{math:"p^n - 1 = (p^m)^k - 1 = (p^m - 1)(p^{m(k-1)} + p^{m(k-2)} + \\cdots + p^m + 1)"}),r.jsxs("p",{children:["Elements of ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," are roots of ",r.jsx(o,{math:"x^{p^m} - x",inline:!0}),". Since ",r.jsx(o,{math:"(p^m - 1) \\mid (p^n - 1)",inline:!0}),", we have ",r.jsx(o,{math:"(x^{p^m} - x) \\mid (x^{p^n} - x)",inline:!0})," in ",r.jsx(o,{math:"\\mathbb{F}_p[x]",inline:!0}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\mathbb{F}_{p^n}",inline:!0})," consists of all roots of ",r.jsx(o,{math:"x^{p^n} - x",inline:!0}),", it contains all roots of ",r.jsx(o,{math:"x^{p^m} - x",inline:!0}),", namely ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Characterization:"})," An element ",r.jsx(o,{math:"x \\in \\mathbb{F}_{p^n}",inline:!0})," lies in ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," iff it satisfies ",r.jsx(o,{math:"x^{p^m} = x",inline:!0}),", by definition of ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," as the splitting field of ",r.jsx(o,{math:"x^{p^m} - x",inline:!0}),"."]})]}),children:[r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," is a subfield of ",r.jsx(o,{math:"\\mathbb{F}_{p^n}",inline:!0})," ","if and only if ",r.jsx(o,{math:"m \\mid n",inline:!0}),". In this case, elements of"," ",r.jsx(o,{math:"\\mathbb{F}_{p^m}",inline:!0})," are exactly those ",r.jsx(o,{math:"x \\in \\mathbb{F}_{p^n}",inline:!0})," ","satisfying ",r.jsx(o,{math:"x^{p^m} = x",inline:!0}),"."]}),r.jsx("h3",{children:"Frobenius Automorphism"}),r.jsxs(ge,{title:"Frobenius Map",children:["The ",r.jsx("strong",{children:"Frobenius automorphism"})," of ",r.jsx(o,{math:"\\mathbb{F}_{p^n}",inline:!0})," ","is the map ",r.jsx(o,{math:"\\sigma: x \\mapsto x^p",inline:!0}),". It generates the Galois group"," ",r.jsx(o,{math:"\\text{Gal}(\\mathbb{F}_{p^n}/\\mathbb{F}_p)",inline:!0}),", which is cyclic of order ",r.jsx("em",{children:"n"}),"."]}),r.jsx("h3",{children:"Cryptographic Applications"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Applications in Cryptography"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"AES:"})," Uses ",r.jsx(o,{math:"\\mathbb{F}_{2^8}",inline:!0})," for the S-box and MixColumns"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Elliptic Curves:"})," Curves over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})," or ",r.jsx(o,{math:"\\mathbb{F}_{2^n}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Secret Sharing:"})," Shamir's scheme uses polynomial interpolation over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Error Correction:"})," Reed-Solomon codes use ",r.jsx(o,{math:"\\mathbb{F}_{2^n}",inline:!0})]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Why Finite Fields?"})," Finite fields provide exact arithmetic (no rounding errors), efficient implementation, and rich algebraic structure - perfect for cryptographic applications."]})]})}function qQ(){return r.jsxs(Jt,{sectionId:5,children:[r.jsx("h2",{children:"Quadratic Residues and Reciprocity"}),r.jsxs("p",{children:["Quadratic residues are integers that are perfect squares modulo ",r.jsx("em",{children:"n"}),". The theory of quadratic residues, culminating in the Quadratic Reciprocity Law, is one of the most beautiful results in number theory with important cryptographic applications."]}),r.jsx("h3",{children:"Quadratic Residues"}),r.jsxs(ge,{title:"Quadratic Residue",children:["Let ",r.jsx("em",{children:"p"})," be an odd prime. An integer ",r.jsx("em",{children:"a"})," with ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0})," ","is a ",r.jsx("strong",{children:"quadratic residue"})," (QR) modulo ",r.jsx("em",{children:"p"})," if there exists an integer"," ",r.jsx("em",{children:"x"})," such that:",r.jsx(o,{math:"x^2 \\equiv a \\pmod{p}"}),"Otherwise, ",r.jsx("em",{children:"a"})," is a ",r.jsx("strong",{children:"quadratic nonresidue"})," (QNR)."]}),r.jsxs(ke,{title:"Number of Quadratic Residues",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Consider the squaring map ",r.jsx(o,{math:"\\sigma: \\mathbb{F}_p^* \\to \\mathbb{F}_p^*",inline:!0})," defined by ",r.jsx(o,{math:"\\sigma(x) = x^2",inline:!0}),"."]}),r.jsxs("p",{children:["The quadratic residues are exactly the image of ",r.jsx(o,{math:"\\sigma",inline:!0}),". We count them by determining the fiber sizes."]}),r.jsxs("p",{children:["For any ",r.jsx(o,{math:"a \\in \\mathbb{F}_p^*",inline:!0}),", if ",r.jsx(o,{math:"x^2 = a",inline:!0})," has a solution ",r.jsx("em",{children:"x"}),", then ",r.jsx(o,{math:"(-x)^2 = a",inline:!0})," as well. Moreover, ",r.jsx(o,{math:"x \\neq -x",inline:!0})," since ",r.jsx(o,{math:"2x \\neq 0",inline:!0})," in ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})," (as ",r.jsx(o,{math:"p > 2",inline:!0}),")."]}),r.jsxs("p",{children:["Thus each quadratic residue has exactly 2 square roots in ",r.jsx(o,{math:"\\mathbb{F}_p^*",inline:!0}),"."]}),r.jsxs("p",{children:["Partitioning ",r.jsx(o,{math:"\\mathbb{F}_p^*",inline:!0})," by the fibers of ",r.jsx(o,{math:"\\sigma",inline:!0}),":"]}),r.jsx(o,{math:"|\\mathbb{F}_p^*| = 2 \\cdot |\\text{image}(\\sigma)|"}),r.jsx(o,{math:"p - 1 = 2 \\cdot (\\text{number of QRs})"}),r.jsxs("p",{children:["Therefore, the number of quadratic residues is ",r.jsx(o,{math:"(p-1)/2",inline:!0}),"."]}),r.jsxs("p",{children:["Explicitly, the QRs are ",r.jsx(o,{math:"1^2, 2^2, \\ldots, ((p-1)/2)^2",inline:!0}),", and these are distinct because ",r.jsx(o,{math:"k^2 \\equiv (p-k)^2 \\pmod{p}",inline:!0})," pairs up elements symmetrically around ",r.jsx(o,{math:"p/2",inline:!0}),"."]})]}),children:["For an odd prime ",r.jsx("em",{children:"p"}),", exactly half of the nonzero elements modulo ",r.jsx("em",{children:"p"})," are quadratic residues. More precisely, the QRs are:",r.jsx(o,{math:"\\{1^2, 2^2, 3^2, \\ldots, ((p-1)/2)^2\\} \\pmod{p}"}),"and there are ",r.jsx(o,{math:"(p-1)/2",inline:!0})," of them."]}),r.jsxs(Le,{title:"Quadratic Residues mod 7",children:[r.jsx("p",{children:"Find all quadratic residues modulo 7."}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Compute squares of 1, 2, 3:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"1^2 \\equiv 1",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"2^2 \\equiv 4",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"3^2 \\equiv 9 \\equiv 2",inline:!0})})]}),r.jsxs("p",{className:"mt-2",children:["So QRs mod 7 are ",r.jsx(o,{math:"\\{1, 2, 4\\}",inline:!0}),", and QNRs are ",r.jsx(o,{math:"\\{3, 5, 6\\}",inline:!0}),"."]})]}),r.jsx("h3",{children:"The Legendre Symbol"}),r.jsxs(ge,{title:"Legendre Symbol",children:["For odd prime ",r.jsx("em",{children:"p"})," and integer ",r.jsx("em",{children:"a"}),", the ",r.jsx("strong",{children:"Legendre symbol"})," is:",r.jsx(o,{math:"\\left(\\frac{a}{p}\\right) = \\begin{cases} 0 & \\text{if } p \\mid a \\\\ 1 & \\text{if } a \\text{ is a QR mod } p \\\\ -1 & \\text{if } a \\text{ is a QNR mod } p \\end{cases}"})]}),r.jsxs(ke,{title:"Euler's Criterion",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["By Fermat's Little Theorem, ",r.jsx(o,{math:"a^{p-1} \\equiv 1 \\pmod{p}",inline:!0})," for ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),"."]}),r.jsxs("p",{children:["This means ",r.jsx(o,{math:"a^{p-1} - 1 \\equiv 0 \\pmod{p}",inline:!0}),", which factors as:"]}),r.jsx(o,{math:"(a^{(p-1)/2} - 1)(a^{(p-1)/2} + 1) \\equiv 0 \\pmod{p}"}),r.jsxs("p",{children:["Since ",r.jsx("em",{children:"p"})," is prime, either ",r.jsx(o,{math:"a^{(p-1)/2} \\equiv 1",inline:!0})," or ",r.jsx(o,{math:"a^{(p-1)/2} \\equiv -1 \\pmod{p}",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 1:"})," If ",r.jsx("em",{children:"a"})," is a QR, then ",r.jsx(o,{math:"a = x^2",inline:!0})," for some ",r.jsx("em",{children:"x"}),". Thus:"]}),r.jsx(o,{math:"a^{(p-1)/2} = (x^2)^{(p-1)/2} = x^{p-1} \\equiv 1 \\pmod{p}"}),r.jsx("p",{children:"by Fermat's Little Theorem."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 2:"})," If ",r.jsx("em",{children:"a"})," is a QNR, we show ",r.jsx(o,{math:"a^{(p-1)/2} \\equiv -1 \\pmod{p}",inline:!0}),"."]}),r.jsxs("p",{children:["The polynomial ",r.jsx(o,{math:"x^{(p-1)/2} - 1",inline:!0})," has degree ",r.jsx(o,{math:"(p-1)/2",inline:!0}),", so at most ",r.jsx(o,{math:"(p-1)/2",inline:!0})," roots in ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),"."]}),r.jsxs("p",{children:["From Case 1, all ",r.jsx(o,{math:"(p-1)/2",inline:!0})," quadratic residues are roots. These are all the roots."]}),r.jsxs("p",{children:["Since ",r.jsx("em",{children:"a"})," is not a QR, ",r.jsx(o,{math:"a^{(p-1)/2} \\not\\equiv 1 \\pmod{p}",inline:!0}),", so it must be ",r.jsx(o,{math:"-1",inline:!0}),"."]}),r.jsxs("p",{children:["This proves ",r.jsx(o,{math:"a^{(p-1)/2} \\equiv (a/p) \\pmod{p}",inline:!0}),"."]})]}),children:["For odd prime ",r.jsx("em",{children:"p"})," and ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),":",r.jsx(o,{math:"\\left(\\frac{a}{p}\\right) \\equiv a^{(p-1)/2} \\pmod{p}"})]}),r.jsxs(Le,{title:"Using Euler's Criterion",children:[r.jsx("p",{children:"Is 2 a quadratic residue modulo 7?"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Compute ",r.jsx(o,{math:"2^{(7-1)/2} = 2^3 = 8 \\equiv 1 \\pmod{7}",inline:!0}),"."]}),r.jsxs("p",{children:["Since the result is 1, we have ",r.jsx(o,{math:"(2/7) = 1",inline:!0}),", so 2 is a QR mod 7."]})]}),r.jsx("h3",{children:"Properties of the Legendre Symbol"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Key Properties"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx(o,{math:"(ab/p) = (a/p)(b/p)",inline:!0})," (multiplicativity)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"(a^2/p) = 1",inline:!0})," for ",r.jsx(o,{math:"p \\nmid a",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"a \\equiv b \\pmod{p}",inline:!0}),", then ",r.jsx(o,{math:"(a/p) = (b/p)",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"(1/p) = 1",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"(-1/p) = (-1)^{(p-1)/2}",inline:!0})})]})]}),r.jsx(ke,{title:"When is -1 a QR?",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"By Euler's Criterion:"}),r.jsx(o,{math:"\\left(\\frac{-1}{p}\\right) \\equiv (-1)^{(p-1)/2} \\pmod{p}"}),r.jsxs("p",{children:["Since the only values are ",r.jsx(o,{math:"\\pm 1",inline:!0})," and ",r.jsx(o,{math:"p > 2",inline:!0}),", the congruence is actually an equality."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 1:"})," If ",r.jsx(o,{math:"p \\equiv 1 \\pmod{4}",inline:!0}),", then ",r.jsx(o,{math:"p = 4k + 1",inline:!0})," for some integer ",r.jsx("em",{children:"k"}),", so:"]}),r.jsx(o,{math:"\\frac{p-1}{2} = \\frac{4k}{2} = 2k \\text{ (even)}"}),r.jsxs("p",{children:["Thus ",r.jsx(o,{math:"(-1)^{(p-1)/2} = (-1)^{2k} = 1",inline:!0}),", and ",r.jsx(o,{math:"-1",inline:!0})," is a QR."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 2:"})," If ",r.jsx(o,{math:"p \\equiv 3 \\pmod{4}",inline:!0}),", then ",r.jsx(o,{math:"p = 4k + 3",inline:!0}),", so:"]}),r.jsx(o,{math:"\\frac{p-1}{2} = \\frac{4k + 2}{2} = 2k + 1 \\text{ (odd)}"}),r.jsxs("p",{children:["Thus ",r.jsx(o,{math:"(-1)^{(p-1)/2} = (-1)^{2k+1} = -1",inline:!0}),", and ",r.jsx(o,{math:"-1",inline:!0})," is a QNR."]})]}),children:r.jsx(o,{math:"\\left(\\frac{-1}{p}\\right) = \\begin{cases} 1 & \\text{if } p \\equiv 1 \\pmod{4} \\\\ -1 & \\text{if } p \\equiv 3 \\pmod{4} \\end{cases}"})}),r.jsx(ke,{title:"When is 2 a QR?",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We use Gauss's Lemma. For ",r.jsx(o,{math:"a",inline:!0})," with ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),", consider the products:"]}),r.jsx(o,{math:"a \\cdot 1, a \\cdot 2, \\ldots, a \\cdot \\frac{p-1}{2}"}),r.jsxs("p",{children:["reducing each modulo ",r.jsx("em",{children:"p"})," to the range ",r.jsx(o,{math:"\\{-(p-1)/2, \\ldots, -1, 1, \\ldots, (p-1)/2\\}",inline:!0}),"."]}),r.jsxs("p",{children:["Let ",r.jsx(o,{math:"\\mu",inline:!0})," be the number of these products that are negative. Gauss's Lemma states:"]}),r.jsx(o,{math:"\\left(\\frac{a}{p}\\right) = (-1)^{\\mu}"}),r.jsxs("p",{children:["For ",r.jsx(o,{math:"a = 2",inline:!0}),", the products ",r.jsx(o,{math:"2, 4, 6, \\ldots, p-1",inline:!0})," are the even numbers up to ",r.jsx(o,{math:"p-1",inline:!0}),"."]}),r.jsxs("p",{children:["An even number ",r.jsx(o,{math:"2k",inline:!0})," (where ",r.jsx(o,{math:"1 \\leq k \\leq (p-1)/2",inline:!0}),") represents a negative residue when ",r.jsx(o,{math:"2k > p/2",inline:!0}),", i.e., when ",r.jsx(o,{math:"k > p/4",inline:!0}),"."]}),r.jsxs("p",{children:["The count ",r.jsx(o,{math:"\\mu",inline:!0})," equals the number of integers ",r.jsx("em",{children:"k"})," with ",r.jsx(o,{math:"p/4 < k \\leq (p-1)/2",inline:!0}),"."]}),r.jsx("p",{children:"After careful case analysis modulo 8:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["If ",r.jsx(o,{math:"p \\equiv 1 \\pmod{8}",inline:!0}),": ",r.jsx(o,{math:"\\mu",inline:!0})," is even, so ",r.jsx(o,{math:"(2/p) = 1",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"p \\equiv 3 \\pmod{8}",inline:!0}),": ",r.jsx(o,{math:"\\mu",inline:!0})," is odd, so ",r.jsx(o,{math:"(2/p) = -1",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"p \\equiv 5 \\pmod{8}",inline:!0}),": ",r.jsx(o,{math:"\\mu",inline:!0})," is odd, so ",r.jsx(o,{math:"(2/p) = -1",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"p \\equiv 7 \\pmod{8}",inline:!0}),": ",r.jsx(o,{math:"\\mu",inline:!0})," is even, so ",r.jsx(o,{math:"(2/p) = 1",inline:!0})]})]}),r.jsxs("p",{children:["This gives ",r.jsx(o,{math:"(2/p) = (-1)^{(p^2-1)/8}",inline:!0})," since ",r.jsx(o,{math:"(p^2 - 1)/8",inline:!0})," has the same parity as ",r.jsx(o,{math:"\\mu",inline:!0}),"."]})]}),children:r.jsx(o,{math:"\\left(\\frac{2}{p}\\right) = (-1)^{(p^2-1)/8} = \\begin{cases} 1 & \\text{if } p \\equiv \\pm 1 \\pmod{8} \\\\ -1 & \\text{if } p \\equiv \\pm 3 \\pmod{8} \\end{cases}"})}),r.jsx("h3",{children:"The Law of Quadratic Reciprocity"}),r.jsxs(ke,{title:"Quadratic Reciprocity (Gauss)",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We present Eisenstein's proof using the lattice point counting method."}),r.jsxs("p",{children:["Consider the rectangle ",r.jsx(o,{math:"R = \\{(x, y) : 1 \\leq x \\leq (p-1)/2, 1 \\leq y \\leq (q-1)/2\\}",inline:!0}),"."]}),r.jsxs("p",{children:["The number of lattice points in ",r.jsx("em",{children:"R"})," is ",r.jsx(o,{math:"\\frac{p-1}{2} \\cdot \\frac{q-1}{2}",inline:!0}),"."]}),r.jsxs("p",{children:["The diagonal line ",r.jsx(o,{math:"y = (q/p)x",inline:!0})," divides ",r.jsx("em",{children:"R"})," into two parts. Since ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"})," are distinct primes, no lattice points lie on this diagonal."]}),r.jsx("p",{children:"Let:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"N_1",inline:!0})," = number of lattice points below the diagonal (where ",r.jsx(o,{math:"y < (q/p)x",inline:!0}),")"]}),r.jsxs("li",{children:[r.jsx(o,{math:"N_2",inline:!0})," = number of lattice points above the diagonal (where ",r.jsx(o,{math:"y > (q/p)x",inline:!0}),")"]})]}),r.jsxs("p",{children:["Then ",r.jsx(o,{math:"N_1 + N_2 = \\frac{p-1}{2} \\cdot \\frac{q-1}{2}",inline:!0}),"."]}),r.jsxs("p",{children:["By Gauss's Lemma, ",r.jsx(o,{math:"(q/p) = (-1)^{N_1}",inline:!0})," (counting how many of ",r.jsx(o,{math:"q, 2q, \\ldots, ((p-1)/2)q",inline:!0})," have fractional parts exceeding 1/2 when divided by ",r.jsx("em",{children:"p"}),")."]}),r.jsxs("p",{children:["Similarly, ",r.jsx(o,{math:"(p/q) = (-1)^{N_2}",inline:!0})," by symmetry."]}),r.jsx("p",{children:"Therefore:"}),r.jsx(o,{math:"\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{N_1 + N_2} = (-1)^{\\frac{p-1}{2} \\cdot \\frac{q-1}{2}}"}),r.jsxs("p",{children:["The product equals 1 unless both ",r.jsx(o,{math:"(p-1)/2",inline:!0})," and ",r.jsx(o,{math:"(q-1)/2",inline:!0})," are odd, which happens iff ",r.jsx(o,{math:"p \\equiv q \\equiv 3 \\pmod{4}",inline:!0}),"."]})]}),children:["For distinct odd primes ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"}),":",r.jsx(o,{math:"\\left(\\frac{p}{q}\\right)\\left(\\frac{q}{p}\\right) = (-1)^{\\frac{p-1}{2} \\cdot \\frac{q-1}{2}}"}),"Equivalently:",r.jsx(o,{math:"\\left(\\frac{p}{q}\\right) = \\left(\\frac{q}{p}\\right) \\text{ unless } p \\equiv q \\equiv 3 \\pmod{4}, \\text{ in which case } \\left(\\frac{p}{q}\\right) = -\\left(\\frac{q}{p}\\right)"})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Historical Note:"}),' Gauss called this the "golden theorem" and published at least six different proofs. There are now over 200 known proofs!']}),r.jsxs(Le,{title:"Using Quadratic Reciprocity",children:[r.jsxs("p",{children:["Compute ",r.jsx(o,{math:"(71/73)",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[r.jsxs("li",{children:[r.jsx(o,{math:"71 \\equiv 3 \\pmod{4}",inline:!0})," and ",r.jsx(o,{math:"73 \\equiv 1 \\pmod{4}",inline:!0})]}),r.jsxs("li",{children:["Since not both are ",r.jsx(o,{math:"\\equiv 3 \\pmod{4}",inline:!0}),": ",r.jsx(o,{math:"(71/73) = (73/71)",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"73 \\equiv 2 \\pmod{71}",inline:!0}),", so ",r.jsx(o,{math:"(73/71) = (2/71)",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"71 \\equiv 7 \\pmod{8}",inline:!0}),", so ",r.jsx(o,{math:"(2/71) = 1",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["Therefore, ",r.jsx(o,{math:"(71/73) = 1",inline:!0}),", and 71 is a QR mod 73."]})]}),r.jsx("h3",{children:"The Jacobi Symbol"}),r.jsxs(ge,{title:"Jacobi Symbol",children:["For odd ",r.jsx(o,{math:"n = p_1^{a_1} \\cdots p_k^{a_k}",inline:!0})," and any integer ",r.jsx("em",{children:"a"}),", the ",r.jsx("strong",{children:"Jacobi symbol"})," is:",r.jsx(o,{math:"\\left(\\frac{a}{n}\\right) = \\left(\\frac{a}{p_1}\\right)^{a_1} \\cdots \\left(\\frac{a}{p_k}\\right)^{a_k}"})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Important:"})," ",r.jsx(o,{math:"(a/n) = 1",inline:!0})," does NOT necessarily mean"," ",r.jsx("em",{children:"a"})," is a QR mod ",r.jsx("em",{children:"n"})," when ",r.jsx("em",{children:"n"})," is composite. It only means that"," ",r.jsx("em",{children:"a"})," is a QR modulo an even number of prime factors."]}),r.jsx("h3",{children:"Computing Square Roots"}),r.jsxs(ke,{title:"Tonelli-Shanks Algorithm",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:r.jsxs("strong",{children:["Special case ",r.jsx(o,{math:"p \\equiv 3 \\pmod{4}",inline:!0}),":"]})}),r.jsxs("p",{children:["Let ",r.jsx("em",{children:"a"})," be a QR modulo ",r.jsx("em",{children:"p"}),", and set ",r.jsx(o,{math:"x = a^{(p+1)/4}",inline:!0}),". We verify ",r.jsx(o,{math:"x^2 = a",inline:!0}),":"]}),r.jsx(o,{math:"x^2 = a^{(p+1)/2} = a^{(p-1)/2} \\cdot a"}),r.jsxs("p",{children:["Since ",r.jsx("em",{children:"a"})," is a QR, by Euler's criterion ",r.jsx(o,{math:"a^{(p-1)/2} \\equiv 1 \\pmod{p}",inline:!0}),". Thus:"]}),r.jsx(o,{math:"x^2 \\equiv 1 \\cdot a = a \\pmod{p}"}),r.jsxs("p",{children:["so ",r.jsx("em",{children:"x"})," is indeed a square root of ",r.jsx("em",{children:"a"}),"."]}),r.jsx("p",{children:r.jsx("strong",{children:"General case (Tonelli-Shanks):"})}),r.jsxs("p",{children:["Write ",r.jsx(o,{math:"p - 1 = 2^s \\cdot t",inline:!0})," where ",r.jsx("em",{children:"t"})," is odd. The algorithm works by finding the square root in stages."]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Find a QNR ",r.jsx("em",{children:"n"})," modulo ",r.jsx("em",{children:"p"})," (by trying random elements)"]}),r.jsxs("li",{children:["Set ",r.jsx(o,{math:"b = n^t",inline:!0}),", so ",r.jsx("em",{children:"b"})," has order ",r.jsx(o,{math:"2^s",inline:!0})," in ",r.jsx(o,{math:"\\mathbb{F}_p^*",inline:!0})]}),r.jsxs("li",{children:["Set ",r.jsx(o,{math:"x = a^{(t+1)/2}",inline:!0}),", so ",r.jsx(o,{math:"x^2 = a^{t+1} = a \\cdot a^t",inline:!0})]}),r.jsxs("li",{children:["The ratio ",r.jsx(o,{math:"x^2/a = a^t",inline:!0})," has order dividing ",r.jsx(o,{math:"2^{s-1}",inline:!0})]}),r.jsxs("li",{children:["Iteratively multiply ",r.jsx("em",{children:"x"})," by powers of ",r.jsx("em",{children:"b"})," to adjust until ",r.jsx(o,{math:"x^2 = a",inline:!0})]})]}),r.jsxs("p",{children:["Each iteration reduces the 2-adic order of the discrepancy, converging in at most ",r.jsx("em",{children:"s"})," steps."]})]}),children:["If ",r.jsx("em",{children:"a"})," is a QR modulo ",r.jsx("em",{children:"p"}),", we can compute ",r.jsx(o,{math:"\\sqrt{a} \\pmod{p}",inline:!0})," ","in polynomial time. For ",r.jsx(o,{math:"p \\equiv 3 \\pmod{4}",inline:!0}),", there's a simple formula:",r.jsx(o,{math:"x = a^{(p+1)/4} \\pmod{p}"})]}),r.jsxs(Le,{title:"Square Root mod p  3 (mod 4)",children:[r.jsxs("p",{children:["Find ",r.jsx(o,{math:"\\sqrt{2} \\pmod{7}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Since ",r.jsx(o,{math:"7 \\equiv 3 \\pmod{4}",inline:!0}),":"]}),r.jsx(o,{math:"x = 2^{(7+1)/4} = 2^2 = 4 \\pmod{7}"}),r.jsxs("p",{children:["Check: ",r.jsx(o,{math:"4^2 = 16 \\equiv 2 \\pmod{7}",inline:!0})," "]}),r.jsxs("p",{className:"mt-2",children:["The other root is ",r.jsx(o,{math:"-4 \\equiv 3 \\pmod{7}",inline:!0}),"."]})]}),r.jsx("h3",{children:"Cryptographic Applications"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Applications"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Rabin Cryptosystem:"})," Security based on difficulty of computing square roots mod ",r.jsx("em",{children:"n = pq"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Primality Testing:"})," Solovay-Strassen test uses Jacobi symbol"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Quadratic Residuosity Problem:"})," Hard to determine if ",r.jsx("em",{children:"a"})," is QR mod composite ",r.jsx("em",{children:"n"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Goldwasser-Micali:"})," Probabilistic encryption based on QR problem"]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Key Insight:"})," Computing square roots mod ",r.jsx("em",{children:"p"})," is easy, but computing square roots mod ",r.jsx(o,{math:"n = pq",inline:!0})," (without knowing ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"}),") is as hard as factoring ",r.jsx("em",{children:"n"}),"."]})]})}function IQ(){return r.jsxs(Jt,{sectionId:6,children:[r.jsx("h2",{children:"Some Simple Cryptosystems"}),r.jsx("p",{children:"Before studying modern public-key cryptography, we examine classical cryptosystems. While these are insecure by modern standards, they illustrate fundamental cryptographic concepts and provide historical context."}),r.jsx("h3",{children:"Basic Terminology"}),r.jsx(ge,{title:"Cryptographic Terms",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Plaintext:"})," The original message ",r.jsx("em",{children:"P"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Ciphertext:"})," The encrypted message ",r.jsx("em",{children:"C"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Encryption:"})," The function ",r.jsx(o,{math:"E_k: P \\to C",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Decryption:"})," The function ",r.jsx(o,{math:"D_k: C \\to P",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Key:"})," Secret information ",r.jsx("em",{children:"k"})," used in encryption/decryption"]})]})}),r.jsx("h3",{children:"Shift Cipher (Caesar Cipher)"}),r.jsxs(ge,{title:"Shift Cipher",children:["Represent letters as numbers: A = 0, B = 1, ..., Z = 25. The ",r.jsx("strong",{children:"shift cipher"})," ","with key ",r.jsx(o,{math:"k \\in \\{0, 1, \\ldots, 25\\}",inline:!0})," encrypts letter ",r.jsx("em",{children:"P"})," as:",r.jsx(o,{math:"C \\equiv P + k \\pmod{26}"}),"Decryption: ",r.jsx(o,{math:"P \\equiv C - k \\pmod{26}",inline:!0})]}),r.jsxs(Le,{title:"Caesar Cipher (k = 3)",children:[r.jsxs("p",{children:['Encrypt "MATH" with key ',r.jsx(o,{math:"k = 3",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("div",{className:"font-mono text-sm mt-2",children:[r.jsx("p",{children:"M (12)  12 + 3 = 15  P"}),r.jsx("p",{children:"A (0)  0 + 3 = 3  D"}),r.jsx("p",{children:"T (19)  19 + 3 = 22  W"}),r.jsx("p",{children:"H (7)  7 + 3 = 10  K"})]}),r.jsxs("p",{className:"mt-2",children:["Ciphertext: ",r.jsx("strong",{children:"PDWK"})]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Security:"})," The shift cipher has only 26 possible keys, making it trivially breakable by exhaustive search (brute force attack)."]}),r.jsx("h3",{children:"Substitution Cipher"}),r.jsxs(ge,{title:"Simple Substitution Cipher",children:["A ",r.jsx("strong",{children:"substitution cipher"})," replaces each letter with another according to a fixed permutation ",r.jsx(o,{math:"\\sigma",inline:!0})," of the alphabet. The key is the permutation itself."]}),r.jsxs("p",{children:["The number of possible keys is ",r.jsx(o,{math:"26! \\approx 4 \\times 10^{26}",inline:!0}),", far too large for brute force. However, substitution ciphers are vulnerable to"," ",r.jsx("strong",{children:"frequency analysis"}),"."]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"English Letter Frequencies"}),r.jsx("p",{className:"text-dark-300 mb-2",children:"Most common letters: E (12.7%), T (9.1%), A (8.2%), O (7.5%), I (7.0%), N (6.7%)"}),r.jsx("p",{className:"text-dark-300",children:"Least common: Z (0.07%), Q (0.10%), X (0.15%), J (0.15%)"})]}),r.jsx("h3",{children:"Affine Cipher"}),r.jsxs(ge,{title:"Affine Cipher",children:["The ",r.jsx("strong",{children:"affine cipher"})," uses a linear function with keys"," ",r.jsx(o,{math:"a, b \\in \\mathbb{Z}_{26}",inline:!0})," where ",r.jsx(o,{math:"\\gcd(a, 26) = 1",inline:!0}),":",r.jsx(o,{math:"C \\equiv aP + b \\pmod{26}"}),"Decryption: ",r.jsx(o,{math:"P \\equiv a^{-1}(C - b) \\pmod{26}",inline:!0})]}),r.jsxs("p",{children:["The requirement ",r.jsx(o,{math:"\\gcd(a, 26) = 1",inline:!0})," ensures ",r.jsx("em",{children:"a"})," has an inverse. Valid values: ",r.jsx(o,{math:"a \\in \\{1, 3, 5, 7, 9, 11, 15, 17, 19, 21, 23, 25\\}",inline:!0})," (12 choices). Total keys: ",r.jsx(o,{math:"12 \\times 26 = 312",inline:!0}),"."]}),r.jsxs(Le,{title:"Affine Cipher",children:[r.jsxs("p",{children:['Encrypt "HI" with ',r.jsx(o,{math:"a = 5, b = 8",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("div",{className:"font-mono text-sm mt-2",children:[r.jsx("p",{children:"H (7)  57 + 8 = 43  17  R"}),r.jsx("p",{children:"I (8)  58 + 8 = 48  22  W"})]}),r.jsxs("p",{className:"mt-2",children:["Ciphertext: ",r.jsx("strong",{children:"RW"})]})]}),r.jsx("h3",{children:"Vigenre Cipher"}),r.jsxs(ge,{title:"Vigenre Cipher",children:["The ",r.jsx("strong",{children:"Vigenre cipher"})," uses a keyword to create a polyalphabetic substitution. If the keyword has length ",r.jsx("em",{children:"m"})," with letters ",r.jsx(o,{math:"k_0, k_1, \\ldots, k_{m-1}",inline:!0}),":",r.jsx(o,{math:"C_i \\equiv P_i + k_{i \\bmod m} \\pmod{26}"})]}),r.jsxs(Le,{title:"Vigenre Cipher",children:[r.jsx("p",{children:'Encrypt "CRYPTOGRAPHY" with keyword "KEY".'}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," K=10, E=4, Y=24"]}),r.jsxs("div",{className:"font-mono text-sm mt-2 overflow-x-auto",children:[r.jsx("p",{children:"C R Y P T O G R A P H Y"}),r.jsx("p",{children:"K E Y K E Y K E Y K E Y"}),r.jsx("p",{children:""}),r.jsx("p",{children:"M V W Z X M Q V Y Z L W"})]})]}),r.jsx("p",{children:"The Vigenre cipher was considered unbreakable for centuries but can be attacked using:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Kasiski examination:"})," Find repeated sequences to determine key length"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Index of coincidence:"})," Statistical method to find key length"]}),r.jsxs("li",{children:["Once key length ",r.jsx("em",{children:"m"})," is known, solve ",r.jsx("em",{children:"m"})," shift ciphers"]})]}),r.jsx("h3",{children:"One-Time Pad"}),r.jsxs(ke,{title:"One-Time Pad (Vernam Cipher)",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove perfect secrecy by showing that the ciphertext reveals no information about the plaintext. Let ",r.jsx(o,{math:"P",inline:!0})," be the plaintext, ",r.jsx(o,{math:"K",inline:!0})," the key (uniformly random over the message space), and ",r.jsx(o,{math:"C = P \\oplus K",inline:!0})," the ciphertext (where ",r.jsx(o,{math:"\\oplus",inline:!0})," denotes XOR or modular addition)."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Claim:"})," For any ciphertext ",r.jsx(o,{math:"c",inline:!0})," and any plaintext ",r.jsx(o,{math:"p",inline:!0}),":"]}),r.jsx(o,{math:"\\Pr[P = p \\mid C = c] = \\Pr[P = p]"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Proof:"})," For any fixed plaintext ",r.jsx(o,{math:"p",inline:!0})," and ciphertext ",r.jsx(o,{math:"c",inline:!0}),", there is exactly one key ",r.jsx(o,{math:"k = c \\oplus p",inline:!0})," (or ",r.jsx(o,{math:"k = c - p \\pmod{n}",inline:!0}),") that maps ",r.jsx(o,{math:"p",inline:!0})," to ",r.jsx(o,{math:"c",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"K",inline:!0})," is uniformly random over all possible keys:"]}),r.jsx(o,{math:"\\Pr[C = c \\mid P = p] = \\Pr[K = c \\oplus p] = \\frac{1}{|\\mathcal{K}|}"}),r.jsxs("p",{className:"mt-2",children:["This probability is the same for all plaintexts ",r.jsx(o,{math:"p",inline:!0}),". By Bayes' theorem:"]}),r.jsx(o,{math:"\\Pr[P = p \\mid C = c] = \\frac{\\Pr[C = c \\mid P = p] \\cdot \\Pr[P = p]}{\\Pr[C = c]}"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"\\Pr[C = c \\mid P = p] = 1/|\\mathcal{K}|",inline:!0})," for all ",r.jsx(o,{math:"p",inline:!0}),", and ",r.jsx(o,{math:"\\Pr[C = c] = \\sum_p \\Pr[C = c \\mid P = p] \\cdot \\Pr[P = p] = 1/|\\mathcal{K}|",inline:!0}),", we obtain:"]}),r.jsx(o,{math:"\\Pr[P = p \\mid C = c] = \\Pr[P = p]"}),r.jsxs("p",{className:"mt-2",children:["Thus observing the ciphertext provides no information about the plaintext, which is the definition of ",r.jsx("strong",{children:"perfect secrecy"})," (Shannon, 1949)."]})]}),children:["If the key is truly random, as long as the plaintext, and used only once, then the Vigenre cipher becomes ",r.jsx("strong",{children:"perfectly secure"})," (information-theoretically secure)."]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Perfect Secrecy:"})," The one-time pad is provably unbreakable - the ciphertext reveals absolutely no information about the plaintext. However, key distribution and management make it impractical for most applications."]}),r.jsx("h3",{children:"Cryptanalysis Summary"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Attack Methods"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Cipher"}),r.jsx("th",{className:"text-left py-2",children:"Key Space"}),r.jsx("th",{className:"text-left py-2",children:"Attack"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Shift"}),r.jsx("td",{className:"py-2",children:"26"}),r.jsx("td",{className:"py-2",children:"Brute force"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Affine"}),r.jsx("td",{className:"py-2",children:"312"}),r.jsx("td",{className:"py-2",children:"Brute force"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Substitution"}),r.jsx("td",{className:"py-2",children:"26!"}),r.jsx("td",{className:"py-2",children:"Frequency analysis"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Vigenre"}),r.jsx("td",{className:"py-2",children:"26^m"}),r.jsx("td",{className:"py-2",children:"Kasiski + frequency"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"One-time pad"}),r.jsx("td",{className:"py-2",children:"26^n"}),r.jsx("td",{className:"py-2",children:"None (perfect)"})]})]})]})]})]})}function LQ(){return r.jsxs(Jt,{sectionId:7,children:[r.jsx("h2",{children:"Enciphering Matrices"}),r.jsxs("p",{children:["The Hill cipher uses matrix multiplication over ",r.jsx(o,{math:"\\mathbb{Z}_{26}",inline:!0})," ","for encryption. This provides diffusion - small changes in plaintext affect the entire ciphertext block."]}),r.jsx("h3",{children:"The Hill Cipher"}),r.jsxs(ge,{title:"Hill Cipher",children:["Choose an ",r.jsx(o,{math:"m \\times m",inline:!0})," invertible matrix ",r.jsx("em",{children:"K"})," over"," ",r.jsx(o,{math:"\\mathbb{Z}_{26}",inline:!0})," as the key. To encrypt, group plaintext into vectors of length ",r.jsx("em",{children:"m"})," and compute:",r.jsx(o,{math:"C = KP \\pmod{26}"}),"To decrypt: ",r.jsx(o,{math:"P = K^{-1}C \\pmod{26}",inline:!0})]}),r.jsxs("p",{children:["The matrix ",r.jsx("em",{children:"K"})," must be invertible modulo 26, meaning"," ",r.jsx(o,{math:"\\gcd(\\det(K), 26) = 1",inline:!0}),"."]}),r.jsxs(Le,{title:"22 Hill Cipher",children:[r.jsx("p",{children:'Encrypt "OK" using the key matrix:'}),r.jsx(o,{math:"K = \\begin{pmatrix} 3 & 5 \\\\ 1 & 2 \\end{pmatrix}"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," O = 14, K = 10"]}),r.jsx(o,{math:"C = \\begin{pmatrix} 3 & 5 \\\\ 1 & 2 \\end{pmatrix} \\begin{pmatrix} 14 \\\\ 10 \\end{pmatrix} = \\begin{pmatrix} 92 \\\\ 34 \\end{pmatrix} \\equiv \\begin{pmatrix} 14 \\\\ 8 \\end{pmatrix} \\pmod{26}"}),r.jsxs("p",{children:["Ciphertext: ",r.jsx("strong",{children:"OI"})," (14 = O, 8 = I)"]})]}),r.jsx("h3",{children:"Matrix Inversion mod 26"}),r.jsxs(ke,{title:"Matrix Inverse mod n",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We verify that the proposed inverse satisfies ",r.jsx(o,{math:"K K^{-1} = I \\pmod{n}",inline:!0}),". Let ",r.jsx(o,{math:"K = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}",inline:!0})," with",r.jsx(o,{math:"\\det K = ad - bc",inline:!0})," and ",r.jsx(o,{math:"\\gcd(\\det K, n) = 1",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Define the ",r.jsx("strong",{children:"adjugate matrix"}),":"]}),r.jsx(o,{math:"\\text{adj}(K) = \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix}"}),r.jsxs("p",{className:"mt-2",children:["Computing ",r.jsx(o,{math:"K \\cdot \\text{adj}(K)",inline:!0}),":"]}),r.jsx(o,{math:"K \\cdot \\text{adj}(K) = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix} = \\begin{pmatrix} ad - bc & -ab + ba \\\\ cd - dc & -bc + ad \\end{pmatrix}"}),r.jsx(o,{math:"= \\begin{pmatrix} ad - bc & 0 \\\\ 0 & ad - bc \\end{pmatrix} = (ad - bc) \\cdot I = (\\det K) \\cdot I"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"\\gcd(\\det K, n) = 1",inline:!0}),", the determinant has a multiplicative inverse",r.jsx(o,{math:"(\\det K)^{-1}",inline:!0})," modulo ",r.jsx(o,{math:"n",inline:!0}),". Multiplying both sides:"]}),r.jsx(o,{math:"K \\cdot \\left[(\\det K)^{-1} \\cdot \\text{adj}(K)\\right] = (\\det K)^{-1} \\cdot (\\det K) \\cdot I = I \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:["Therefore ",r.jsx(o,{math:"K^{-1} = (\\det K)^{-1} \\cdot \\text{adj}(K) \\pmod{n}",inline:!0}),"."]})]}),children:["For a ",r.jsx(o,{math:"2 \\times 2",inline:!0})," matrix ",r.jsx(o,{math:"K = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}",inline:!0}),", the inverse modulo 26 is:",r.jsx(o,{math:"K^{-1} = (\\det K)^{-1} \\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix} \\pmod{26}"}),"where ",r.jsx(o,{math:"(\\det K)^{-1}",inline:!0})," is the modular inverse of ",r.jsx(o,{math:"ad - bc",inline:!0})," mod 26."]}),r.jsxs(Le,{title:"Computing K",children:[r.jsxs("p",{children:["Find the inverse of ",r.jsx(o,{math:"K = \\begin{pmatrix} 3 & 5 \\\\ 1 & 2 \\end{pmatrix}",inline:!0})," mod 26."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"\\det K = 3 \\cdot 2 - 5 \\cdot 1 = 1",inline:!0})}),r.jsxs("li",{children:["Since ",r.jsx(o,{math:"1^{-1} = 1 \\pmod{26}",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"K^{-1} = 1 \\cdot \\begin{pmatrix} 2 & -5 \\\\ -1 & 3 \\end{pmatrix} = \\begin{pmatrix} 2 & 21 \\\\ 25 & 3 \\end{pmatrix} \\pmod{26}",inline:!0})})]})]}),r.jsx("h3",{children:"Security of Hill Cipher"}),r.jsxs("p",{children:["The Hill cipher is vulnerable to ",r.jsx("strong",{children:"known-plaintext attacks"}),". If an attacker knows ",r.jsx("em",{children:"m"})," plaintext-ciphertext pairs, they can solve for the key matrix."]}),r.jsxs(Le,{title:"Known-Plaintext Attack",children:[r.jsx("p",{children:'Suppose we know that "FR" encrypts to "PQ" and "ID" encrypts to "FZ" using a 22 Hill cipher.'}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Attack:"})," Form matrices from known pairs:"]}),r.jsx(o,{math:"P = \\begin{pmatrix} 5 & 8 \\\\ 17 & 3 \\end{pmatrix}, \\quad C = \\begin{pmatrix} 15 & 5 \\\\ 16 & 25 \\end{pmatrix}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"C = KP",inline:!0}),", we have ",r.jsx(o,{math:"K = CP^{-1} \\pmod{26}",inline:!0}),"."]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Weakness:"})," With just 2 plaintext-ciphertext pairs for a 22 Hill cipher (or ",r.jsx("em",{children:"m"})," pairs for an ",r.jsx(o,{math:"m \\times m",inline:!0})," cipher), the key can be recovered."]}),r.jsx("h3",{children:"Permutation Matrices"}),r.jsxs(ge,{title:"Permutation Cipher",children:["A ",r.jsx("strong",{children:"permutation cipher"})," (or transposition cipher) rearranges the positions of plaintext characters according to a fixed permutation. This can be represented as multiplication by a permutation matrix."]}),r.jsxs(Le,{title:"Columnar Transposition",children:[r.jsx("p",{children:'Encrypt "MATHEMATICS" with key "CAB" (indicating column order 3, 1, 2).'}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Solution:"})," Arrange in columns under key:"]}),r.jsxs("div",{className:"font-mono text-sm mt-2",children:[r.jsx("p",{children:"C A B"}),r.jsx("p",{children:""}),r.jsx("p",{children:"M A T"}),r.jsx("p",{children:"H E M"}),r.jsx("p",{children:"A T I"}),r.jsx("p",{children:"C S X (pad with X)"})]}),r.jsx("p",{className:"mt-2",children:"Read columns in key order (A=1, B=2, C=3):"}),r.jsx("p",{className:"mt-1",children:"Column A: AETS, Column B: TMIX, Column C: MHAC"}),r.jsxs("p",{children:["Ciphertext: ",r.jsx("strong",{children:"AETSTMIXMHAC"})]})]}),r.jsx("h3",{children:"Product Ciphers"}),r.jsxs(ge,{title:"Product Cipher",children:["A ",r.jsx("strong",{children:"product cipher"})," combines multiple encryption steps. For example:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Substitution"})," followed by ",r.jsx("strong",{children:"permutation"})]}),r.jsx("li",{children:"Multiple rounds of substitution-permutation"})]}),"Modern block ciphers (DES, AES) are product ciphers with many rounds."]}),r.jsx("h3",{children:"Linear Algebra in Cryptanalysis"}),r.jsx("p",{children:"Linear cryptanalysis exploits linear relationships between plaintext, ciphertext, and key bits. For any cipher using linear operations (like Hill), the key can be recovered efficiently."}),r.jsxs(ke,{title:"Linear Cryptanalysis",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Suppose the cipher has the form ",r.jsx(o,{math:"C = KP + b",inline:!0})," where ",r.jsx(o,{math:"K",inline:!0})," is an ",r.jsx(o,{math:"m \\times m",inline:!0})," key matrix and ",r.jsx(o,{math:"b",inline:!0})," is a translation vector over a ring ",r.jsx(o,{math:"R",inline:!0})," (e.g., ",r.jsx(o,{math:"\\mathbb{Z}_n",inline:!0}),")."]}),r.jsxs("p",{className:"mt-2",children:["Given ",r.jsx(o,{math:"m",inline:!0})," linearly independent plaintext-ciphertext pairs",r.jsx(o,{math:"(P_1, C_1), (P_2, C_2), \\ldots, (P_m, C_m)",inline:!0}),", we form the matrices:"]}),r.jsx(o,{math:"\\mathbf{P} = \\begin{pmatrix} P_1 & P_2 & \\cdots & P_m \\end{pmatrix}, \\quad \\mathbf{C} = \\begin{pmatrix} C_1 & C_2 & \\cdots & C_m \\end{pmatrix}"}),r.jsx("p",{className:"mt-2",children:"From the encryption equation applied to each pair:"}),r.jsx(o,{math:"\\mathbf{C} = K\\mathbf{P} + \\begin{pmatrix} b & b & \\cdots & b \\end{pmatrix}"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 1:"})," If we know ",r.jsx(o,{math:"b = 0",inline:!0})," (or can determine it):"]}),r.jsx(o,{math:"K = \\mathbf{C}\\mathbf{P}^{-1}"}),r.jsxs("p",{className:"mt-2",children:["provided ",r.jsx(o,{math:"\\mathbf{P}",inline:!0})," is invertible over ",r.jsx(o,{math:"R",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 2:"})," If ",r.jsx(o,{math:"b",inline:!0})," is unknown, use ",r.jsx(o,{math:"m+1",inline:!0})," pairs. Taking differences eliminates ",r.jsx(o,{math:"b",inline:!0}),":"]}),r.jsx(o,{math:"C_i - C_1 = K(P_i - P_1)"}),r.jsxs("p",{className:"mt-2",children:["This yields ",r.jsx(o,{math:"m",inline:!0})," equations linear in the entries of ",r.jsx(o,{math:"K",inline:!0}),", which can be solved if the ",r.jsx(o,{math:"P_i - P_1",inline:!0})," span an ",r.jsx(o,{math:"m",inline:!0}),"-dimensional space. The complexity is ",r.jsx(o,{math:"O(m^3)",inline:!0})," for Gaussian elimination, which is polynomial time."]})]}),children:["If a cipher can be expressed as ",r.jsx(o,{math:"C = KP + b",inline:!0})," over some ring, then given ",r.jsx("em",{children:"sufficient plaintext-ciphertext pairs"}),", the key can be found by solving a system of linear equations."]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Design Principle:"})," Modern ciphers use ",r.jsx("strong",{children:"nonlinear"})," operations (S-boxes) combined with linear mixing (permutations) to resist both linear and differential cryptanalysis."]}),r.jsx("h3",{children:"Applications and Extensions"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Matrix Methods in Modern Crypto"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"AES MixColumns:"})," Matrix multiplication over ",r.jsx(o,{math:"\\mathbb{F}_{2^8}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Error-correcting codes:"})," Generator and parity-check matrices"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Lattice cryptography:"})," Matrix operations over ",r.jsx(o,{math:"\\mathbb{Z}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Multivariate crypto:"})," Systems of polynomial equations"]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Takeaway:"})," While the basic Hill cipher is insecure, the concept of using matrices for diffusion remains fundamental to modern cryptography. The key insight is that linear operations alone are insufficient - nonlinearity is essential for security."]})]})}function BQ(){return r.jsxs(Jt,{sectionId:8,children:[r.jsx("h2",{children:"The Idea of Public Key Cryptography"}),r.jsx("p",{children:"Public key cryptography, introduced by Diffie and Hellman in 1976, revolutionized cryptography by solving the key distribution problem. It enables secure communication without prior secret key exchange."}),r.jsx("h3",{children:"The Key Distribution Problem"}),r.jsx("p",{children:"In symmetric cryptography, Alice and Bob need to share a secret key before communicating securely. This creates a chicken-and-egg problem: how do they securely exchange the key in the first place?"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Symmetric Key Problems"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Key distribution:"})," How to securely share keys?"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Key management:"})," For ",r.jsx("em",{children:"n"})," users, need ",r.jsx(o,{math:"\\binom{n}{2} = \\frac{n(n-1)}{2}",inline:!0})," keys"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Scalability:"})," 1000 users need 499,500 keys!"]})]})]}),r.jsx("h3",{children:"The Public Key Revolution"}),r.jsxs(ge,{title:"Public Key Cryptosystem",children:["A ",r.jsx("strong",{children:"public key cryptosystem"})," consists of:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Public key:"})," Known to everyone, used for encryption"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Private key:"})," Known only to owner, used for decryption"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Key generation:"})," Algorithm producing public-private key pairs"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Encryption:"})," ",r.jsx(o,{math:"C = E_{\\text{pub}}(P)",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Decryption:"})," ",r.jsx(o,{math:"P = D_{\\text{priv}}(C)",inline:!0})]})]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Analogy:"})," Think of a public key as a padlock that anyone can close (encrypt), but only the owner with the private key can open (decrypt)."]}),r.jsx("h3",{children:"One-Way Functions"}),r.jsxs(ge,{title:"One-Way Function",children:["A function ",r.jsx(o,{math:"f: X \\to Y",inline:!0})," is ",r.jsx("strong",{children:"one-way"})," if:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Easy to compute:"})," Given ",r.jsx("em",{children:"x"}),", computing ",r.jsx(o,{math:"f(x)",inline:!0})," is efficient (polynomial time)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Hard to invert:"})," Given ",r.jsx("em",{children:"y"}),", finding any ",r.jsx("em",{children:"x"})," with ",r.jsx(o,{math:"f(x) = y",inline:!0})," is computationally infeasible"]})]})]}),r.jsxs(ge,{title:"Trapdoor One-Way Function",children:["A ",r.jsx("strong",{children:"trapdoor one-way function"}),' is a one-way function that becomes easy to invert given some extra secret information (the "trapdoor").']}),r.jsx(Le,{title:"Candidate One-Way Functions",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Multiplication vs. Factoring:"})," Computing ",r.jsx(o,{math:"n = pq",inline:!0})," is easy; factoring ",r.jsx("em",{children:"n"})," to find ",r.jsx("em",{children:"p, q"})," is believed hard"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Modular exponentiation vs. Discrete log:"})," Computing ",r.jsx(o,{math:"g^x \\bmod p",inline:!0})," is easy; finding ",r.jsx("em",{children:"x"})," given ",r.jsx(o,{math:"g^x",inline:!0})," is believed hard"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Elliptic curve point multiplication:"})," ",r.jsx(o,{math:"nP",inline:!0})," is easy; finding ",r.jsx("em",{children:"n"})," given ",r.jsx("em",{children:"P"})," and ",r.jsx(o,{math:"nP",inline:!0})," is believed hard"]})]})}),r.jsx("h3",{children:"Diffie-Hellman Key Exchange"}),r.jsxs(ke,{title:"Diffie-Hellman Protocol",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Correctness:"})," We prove that Alice and Bob compute the same shared secret ",r.jsx(o,{math:"K",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Alice receives ",r.jsx(o,{math:"B = g^b \\bmod p",inline:!0})," from Bob and computes:"]}),r.jsx(o,{math:"K_A = B^a \\bmod p = (g^b)^a \\bmod p = g^{ba} \\bmod p"}),r.jsxs("p",{className:"mt-2",children:["Bob receives ",r.jsx(o,{math:"A = g^a \\bmod p",inline:!0})," from Alice and computes:"]}),r.jsx(o,{math:"K_B = A^b \\bmod p = (g^a)^b \\bmod p = g^{ab} \\bmod p"}),r.jsxs("p",{className:"mt-2",children:["Since exponentiation in ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0})," is commutative (the group is abelian):"]}),r.jsx(o,{math:"g^{ab} = g^{ba} \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["Therefore ",r.jsx(o,{math:"K_A = K_B = K",inline:!0}),", and both parties obtain the same shared secret."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Security intuition:"})," An eavesdropper observes ",r.jsx(o,{math:"g, p, g^a, g^b",inline:!0})," but must compute ",r.jsx(o,{math:"g^{ab}",inline:!0})," to recover the shared secret. This is the Computational Diffie-Hellman (CDH) problem. Under the CDH assumption, no efficient algorithm can compute",r.jsx(o,{math:"g^{ab}",inline:!0})," from ",r.jsx(o,{math:"g^a",inline:!0})," and ",r.jsx(o,{math:"g^b",inline:!0})," alone."]})]}),children:["Alice and Bob can establish a shared secret over an insecure channel:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Setup:"})," Public prime ",r.jsx("em",{children:"p"})," and generator ",r.jsx("em",{children:"g"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Alice:"})," Chooses secret ",r.jsx("em",{children:"a"}),", sends ",r.jsx(o,{math:"A = g^a \\bmod p",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Bob:"})," Chooses secret ",r.jsx("em",{children:"b"}),", sends ",r.jsx(o,{math:"B = g^b \\bmod p",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Shared secret:"})," Both compute ",r.jsx(o,{math:"K = g^{ab} \\bmod p",inline:!0})]})]}),"Alice computes ",r.jsx(o,{math:"K = B^a",inline:!0}),", Bob computes ",r.jsx(o,{math:"K = A^b",inline:!0}),"."]}),r.jsxs(Le,{title:"Diffie-Hellman Example",children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"p = 23, g = 5",inline:!0}),"."]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Alice: ",r.jsx(o,{math:"a = 6",inline:!0}),", sends ",r.jsx(o,{math:"A = 5^6 \\bmod 23 = 8",inline:!0})]}),r.jsxs("li",{children:["Bob: ",r.jsx(o,{math:"b = 15",inline:!0}),", sends ",r.jsx(o,{math:"B = 5^{15} \\bmod 23 = 19",inline:!0})]}),r.jsxs("li",{children:["Alice computes: ",r.jsx(o,{math:"K = 19^6 \\bmod 23 = 2",inline:!0})]}),r.jsxs("li",{children:["Bob computes: ",r.jsx(o,{math:"K = 8^{15} \\bmod 23 = 2",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["Shared secret: ",r.jsx("strong",{children:"K = 2"})]})]}),r.jsx("h3",{children:"Security Assumptions"}),r.jsxs(ge,{title:"Computational Diffie-Hellman (CDH)",children:["Given ",r.jsx(o,{math:"g, g^a, g^b",inline:!0}),", it is hard to compute ",r.jsx(o,{math:"g^{ab}",inline:!0}),"."]}),r.jsxs(ge,{title:"Decisional Diffie-Hellman (DDH)",children:["Given ",r.jsx(o,{math:"g, g^a, g^b, g^c",inline:!0}),", it is hard to decide whether ",r.jsx(o,{math:"c = ab",inline:!0}),"."]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Man-in-the-Middle Attack:"})," Basic Diffie-Hellman is vulnerable to active attackers who intercept and substitute their own values. Authentication (digital signatures) is needed to prevent this."]}),r.jsx("h3",{children:"Digital Signatures"}),r.jsxs(ge,{title:"Digital Signature",children:["A ",r.jsx("strong",{children:"digital signature"})," provides:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Authentication:"})," Proves the signer's identity"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Integrity:"})," Detects message modification"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Non-repudiation:"})," Signer cannot deny signing"]})]}),"Sign with private key; verify with public key (opposite of encryption)."]}),r.jsx("h3",{children:"Comparison: Symmetric vs. Asymmetric"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Aspect"}),r.jsx("th",{className:"text-left py-2",children:"Symmetric"}),r.jsx("th",{className:"text-left py-2",children:"Asymmetric"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Keys"}),r.jsx("td",{className:"py-2",children:"One shared"}),r.jsx("td",{className:"py-2",children:"Public + Private"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Speed"}),r.jsx("td",{className:"py-2",children:"Fast (1000)"}),r.jsx("td",{className:"py-2",children:"Slow"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Key distribution"}),r.jsx("td",{className:"py-2",children:"Problem"}),r.jsx("td",{className:"py-2",children:"Easy"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Key size (128-bit)"}),r.jsx("td",{className:"py-2",children:"128 bits"}),r.jsx("td",{className:"py-2",children:"3072+ bits"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"Use case"}),r.jsx("td",{className:"py-2",children:"Bulk encryption"}),r.jsx("td",{className:"py-2",children:"Key exchange, signatures"})]})]})]})}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Hybrid Systems:"})," In practice, we use both: asymmetric crypto for key exchange, then symmetric crypto (AES) for bulk data encryption. This combines the best of both worlds."]})]})}function PQ(){return r.jsxs(Jt,{sectionId:9,children:[r.jsx("h2",{children:"RSA"}),r.jsx("p",{children:"RSA, named after Rivest, Shamir, and Adleman (1977), is the most widely deployed public-key cryptosystem. Its security is based on the difficulty of factoring large integers."}),r.jsx("h3",{children:"Key Generation"}),r.jsxs(ge,{title:"RSA Key Generation",children:[r.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[r.jsxs("li",{children:["Choose two large distinct primes ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"n = pq",inline:!0})," (the modulus)"]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"\\varphi(n) = (p-1)(q-1)",inline:!0})]}),r.jsxs("li",{children:["Choose ",r.jsx("em",{children:"e"})," with ",r.jsx(o,{math:"1 < e < \\varphi(n)",inline:!0})," and ",r.jsx(o,{math:"\\gcd(e, \\varphi(n)) = 1",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"d \\equiv e^{-1} \\pmod{\\varphi(n)}",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Public key:"})," ",r.jsx(o,{math:"(n, e)",inline:!0})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Private key:"})," ",r.jsx(o,{math:"d",inline:!0})," (or equivalently ",r.jsx("em",{children:"p, q"}),")"]})]}),r.jsx("h3",{children:"Encryption and Decryption"}),r.jsxs(ke,{title:"RSA Encryption/Decryption",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Well-definedness:"})," We must verify that decryption recovers the original message, i.e., that ",r.jsx(o,{math:"(M^e)^d \\equiv M \\pmod{n}",inline:!0})," for all ",r.jsx(o,{math:"M \\in \\mathbb{Z}_n",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["By construction, ",r.jsx(o,{math:"ed \\equiv 1 \\pmod{\\varphi(n)}",inline:!0}),", so we can write",r.jsx(o,{math:"ed = 1 + k\\varphi(n)",inline:!0})," for some integer ",r.jsx(o,{math:"k \\geq 0",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 1:"})," If ",r.jsx(o,{math:"\\gcd(M, n) = 1",inline:!0}),", then by Euler's theorem:"]}),r.jsx(o,{math:"M^{\\varphi(n)} \\equiv 1 \\pmod{n}"}),r.jsx("p",{className:"mt-2",children:"Therefore:"}),r.jsx(o,{math:"M^{ed} = M^{1 + k\\varphi(n)} = M \\cdot (M^{\\varphi(n)})^k \\equiv M \\cdot 1^k = M \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 2:"})," If ",r.jsx(o,{math:"\\gcd(M, n) \\neq 1",inline:!0}),", then since ",r.jsx(o,{math:"n = pq",inline:!0})," with",r.jsx(o,{math:"p \\neq q",inline:!0})," prime, we have ",r.jsx(o,{math:"M \\equiv 0 \\pmod{p}",inline:!0})," or",r.jsx(o,{math:"M \\equiv 0 \\pmod{q}",inline:!0})," (or both)."]}),r.jsxs("p",{className:"mt-2",children:["Suppose ",r.jsx(o,{math:"M \\equiv 0 \\pmod{p}",inline:!0})," but ",r.jsx(o,{math:"\\gcd(M, q) = 1",inline:!0}),". Then ",r.jsx(o,{math:"M^{ed} \\equiv 0 \\equiv M \\pmod{p}",inline:!0}),". By Fermat's little theorem, ",r.jsx(o,{math:"M^{q-1} \\equiv 1 \\pmod{q}",inline:!0}),", and since",r.jsx(o,{math:"(p-1) \\mid \\varphi(n)",inline:!0}),":"]}),r.jsx(o,{math:"M^{ed} = M \\cdot M^{k\\varphi(n)} = M \\cdot (M^{q-1})^{k(p-1)} \\equiv M \\cdot 1 = M \\pmod{q}"}),r.jsxs("p",{className:"mt-2",children:["By the Chinese Remainder Theorem, ",r.jsx(o,{math:"M^{ed} \\equiv M \\pmod{n}",inline:!0}),"."]})]}),children:["For message ",r.jsx(o,{math:"M \\in \\{0, 1, \\ldots, n-1\\}",inline:!0}),":",r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Encryption:"})}),r.jsx(o,{math:"C = M^e \\bmod n"}),r.jsx("p",{children:r.jsx("strong",{children:"Decryption:"})}),r.jsx(o,{math:"M = C^d \\bmod n"})]}),r.jsxs(ke,{title:"RSA Correctness",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["Since ",r.jsx(o,{math:"ed \\equiv 1 \\pmod{\\varphi(n)}",inline:!0}),", we can write",r.jsx(o,{math:"ed = 1 + k\\varphi(n)",inline:!0})," for some non-negative integer ",r.jsx(o,{math:"k",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["For ",r.jsx(o,{math:"M",inline:!0})," coprime to ",r.jsx(o,{math:"n",inline:!0}),", by Euler's theorem",r.jsx(o,{math:"M^{\\varphi(n)} \\equiv 1 \\pmod{n}",inline:!0}),":"]}),r.jsx(o,{math:"M^{ed} = M^{1+k\\varphi(n)} = M \\cdot (M^{\\varphi(n)})^k \\equiv M \\cdot 1^k = M \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:["For the case when ",r.jsx(o,{math:"\\gcd(M, n) \\neq 1",inline:!0}),", we use the Chinese Remainder Theorem by verifying the congruence modulo ",r.jsx(o,{math:"p",inline:!0})," and modulo ",r.jsx(o,{math:"q",inline:!0})," separately, applying Fermat's little theorem to each prime factor."]})]}),children:["Decryption recovers the original message: ",r.jsx(o,{math:"(M^e)^d \\equiv M \\pmod{n}",inline:!0})]}),r.jsxs(Le,{title:"Small RSA Example",children:[r.jsx("p",{children:r.jsx("strong",{children:"Key Generation:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Choose ",r.jsx(o,{math:"p = 61, q = 53",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"n = 61 \\times 53 = 3233",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\varphi(n) = 60 \\times 52 = 3120",inline:!0})}),r.jsxs("li",{children:["Choose ",r.jsx(o,{math:"e = 17",inline:!0})," (coprime to 3120)"]}),r.jsx("li",{children:r.jsx(o,{math:"d = 17^{-1} \\bmod 3120 = 2753",inline:!0})})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Encryption:"})," Encrypt ",r.jsx(o,{math:"M = 65",inline:!0})]}),r.jsx(o,{math:"C = 65^{17} \\bmod 3233 = 2790"}),r.jsx("p",{children:r.jsx("strong",{children:"Decryption:"})}),r.jsx(o,{math:"M = 2790^{2753} \\bmod 3233 = 65"})]}),r.jsx("h3",{children:"Security of RSA"}),r.jsxs(ge,{title:"RSA Problem",children:["Given the public key ",r.jsx(o,{math:"(n, e)",inline:!0})," and ciphertext ",r.jsx("em",{children:"C"}),", find the plaintext ",r.jsx("em",{children:"M"})," such that ",r.jsx(o,{math:"C \\equiv M^e \\pmod{n}",inline:!0}),"."]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Factoring Connection:"})," If we can factor ",r.jsx("em",{children:"n"})," into ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"}),", we can compute ",r.jsx(o,{math:"\\varphi(n)",inline:!0}),", then ",r.jsx("em",{children:"d"}),", breaking RSA. Conversely, knowing ",r.jsx("em",{children:"d"})," allows efficient factoring. Thus RSA security is closely tied to the factoring problem."]}),r.jsx("h3",{children:"Implementation Considerations"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Key Size Recommendations"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Security Level"}),r.jsx("th",{className:"text-left py-2",children:"RSA Modulus"}),r.jsx("th",{className:"text-left py-2",children:"Use Until"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"80-bit"}),r.jsx("td",{className:"py-2",children:"1024 bits"}),r.jsx("td",{className:"py-2",children:"Deprecated"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"112-bit"}),r.jsx("td",{className:"py-2",children:"2048 bits"}),r.jsx("td",{className:"py-2",children:"2030"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"128-bit"}),r.jsx("td",{className:"py-2",children:"3072 bits"}),r.jsx("td",{className:"py-2",children:"Beyond 2030"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"256-bit"}),r.jsx("td",{className:"py-2",children:"15360 bits"}),r.jsx("td",{className:"py-2",children:"Long-term"})]})]})]})]}),r.jsx("h3",{children:"CRT Optimization"}),r.jsxs(ke,{title:"RSA with Chinese Remainder Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Correctness:"})," We show that the CRT-based computation yields ",r.jsx(o,{math:"M = C^d \\bmod n",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["By Fermat's little theorem, for any ",r.jsx(o,{math:"x",inline:!0})," and prime ",r.jsx(o,{math:"p",inline:!0}),":"]}),r.jsx(o,{math:"x^{p-1} \\equiv 1 \\pmod{p} \\quad \\text{if } \\gcd(x, p) = 1"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"d_p = d \\bmod (p-1)",inline:!0}),", we can write ",r.jsx(o,{math:"d = d_p + k(p-1)",inline:!0})," for some integer ",r.jsx(o,{math:"k",inline:!0}),". Then:"]}),r.jsx(o,{math:"C^d \\equiv C^{d_p + k(p-1)} = C^{d_p} \\cdot (C^{p-1})^k \\equiv C^{d_p} \\cdot 1^k = C^{d_p} \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["Similarly, ",r.jsx(o,{math:"C^d \\equiv C^{d_q} \\pmod{q}",inline:!0}),". So:"]}),r.jsx(o,{math:"M_p = C^{d_p} \\bmod p \\equiv M \\pmod{p}"}),r.jsx(o,{math:"M_q = C^{d_q} \\bmod q \\equiv M \\pmod{q}"}),r.jsxs("p",{className:"mt-2",children:["The CRT reconstruction formula ",r.jsx(o,{math:"M = M_q + q \\cdot (q_{\\text{inv}} \\cdot (M_p - M_q) \\bmod p)",inline:!0})," gives the unique value in ",r.jsx(o,{math:"[0, n-1]",inline:!0})," satisfying both congruences."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Efficiency:"})," Exponentiations ",r.jsx(o,{math:"C^{d_p} \\bmod p",inline:!0})," and ",r.jsx(o,{math:"C^{d_q} \\bmod q",inline:!0})," each use operands of half the bit-length. Since modular exponentiation is ",r.jsx(o,{math:"O(k^3)",inline:!0})," where ",r.jsx(o,{math:"k",inline:!0})," is the bit-length, two half-size exponentiations cost ",r.jsx(o,{math:"2 \\cdot (k/2)^3 = k^3/4",inline:!0}),", yielding a ~4 speedup."]})]}),children:["Decryption can be sped up ~4 using CRT. Precompute:",r.jsx(o,{math:"d_p = d \\bmod (p-1), \\quad d_q = d \\bmod (q-1), \\quad q_{\\text{inv}} = q^{-1} \\bmod p"}),"Then compute:",r.jsx(o,{math:"M_p = C^{d_p} \\bmod p, \\quad M_q = C^{d_q} \\bmod q"}),r.jsx(o,{math:"M = M_q + q \\cdot (q_{\\text{inv}} \\cdot (M_p - M_q) \\bmod p)"})]}),r.jsx("h3",{children:"Attacks on RSA"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Known Attacks"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Factoring:"})," If ",r.jsx("em",{children:"n"})," can be factored, RSA is broken"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Small e attacks:"})," If ",r.jsx(o,{math:"M^e < n",inline:!0}),", take ",r.jsx("em",{children:"e"}),"-th root"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Common modulus:"})," Never use same ",r.jsx("em",{children:"n"})," for different users"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Timing attacks:"})," Measure computation time to leak ",r.jsx("em",{children:"d"})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Bleichenbacher's attack:"})," Against PKCS#1 v1.5 padding"]})]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Textbook RSA is Insecure!"})," Raw RSA is deterministic (same message  same ciphertext) and malleable. Always use proper padding schemes like OAEP."]}),r.jsx("h3",{children:"RSA Signatures"}),r.jsxs(ge,{title:"RSA Signature Scheme",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Sign:"})," ",r.jsx(o,{math:"\\sigma = H(M)^d \\bmod n",inline:!0})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Verify:"})," Check that ",r.jsx(o,{math:"\\sigma^e \\equiv H(M) \\pmod{n}",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["where ",r.jsx(o,{math:"H",inline:!0})," is a cryptographic hash function."]})]}),r.jsxs(Le,{title:"RSA Signature",children:[r.jsxs("p",{children:["Using keys from earlier (",r.jsx(o,{math:"n = 3233, e = 17, d = 2753",inline:!0}),"):"]}),r.jsxs("p",{className:"mt-2",children:["Sign message hash ",r.jsx(o,{math:"H(M) = 100",inline:!0}),":"]}),r.jsx(o,{math:"\\sigma = 100^{2753} \\bmod 3233 = 1951"}),r.jsxs("p",{children:["Verify: ",r.jsx(o,{math:"1951^{17} \\bmod 3233 = 100 = H(M)",inline:!0})," "]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"RSA's Legacy:"})," Despite being nearly 50 years old, RSA remains widely used for key exchange and digital signatures. Its mathematical elegance and well-understood security properties have made it a cornerstone of internet security."]})]})}function $Q(){return r.jsxs(Jt,{sectionId:10,children:[r.jsx("h2",{children:"Discrete Logarithm"}),r.jsx("p",{children:"The discrete logarithm problem (DLP) is another fundamental hard problem in cryptography, forming the basis of Diffie-Hellman key exchange, ElGamal encryption, and DSA signatures."}),r.jsx("h3",{children:"The Discrete Logarithm Problem"}),r.jsxs(ge,{title:"Discrete Logarithm",children:["Let ",r.jsx("em",{children:"G"})," be a cyclic group of order ",r.jsx("em",{children:"n"})," with generator ",r.jsx("em",{children:"g"}),". Given"," ",r.jsx(o,{math:"h \\in G",inline:!0}),", the ",r.jsx("strong",{children:"discrete logarithm"})," of ",r.jsx("em",{children:"h"})," ","to base ",r.jsx("em",{children:"g"})," is the integer ",r.jsx("em",{children:"x"})," such that:",r.jsx(o,{math:"g^x = h"}),"We write ",r.jsx(o,{math:"x = \\log_g h",inline:!0})," or ",r.jsx(o,{math:"x = \\text{dlog}_g(h)",inline:!0}),"."]}),r.jsxs(ge,{title:"Discrete Logarithm Problem (DLP)",children:["Given a cyclic group ",r.jsx("em",{children:"G"}),", generator ",r.jsx("em",{children:"g"}),", and element ",r.jsx("em",{children:"h"}),", find"," ",r.jsx(o,{math:"x = \\log_g h",inline:!0}),"."]}),r.jsxs(Le,{title:"DLP in Small Group",children:[r.jsxs("p",{children:["In ",r.jsx(o,{math:"\\mathbb{Z}_{11}^*",inline:!0})," with generator ",r.jsx(o,{math:"g = 2",inline:!0}),":"]}),r.jsxs("div",{className:"font-mono text-sm mt-2",children:[r.jsx("p",{children:"2 = 2, 2 = 4, 2 = 8, 2 = 5, 2 = 10"}),r.jsx("p",{children:"2 = 9, 2 = 7, 2 = 3, 2 = 6, 2 = 1"})]}),r.jsxs("p",{className:"mt-2",children:["So ",r.jsx(o,{math:"\\log_2 7 = 7",inline:!0})," in ",r.jsx(o,{math:"\\mathbb{Z}_{11}^*",inline:!0}),"."]})]}),r.jsx("h3",{children:"ElGamal Encryption"}),r.jsxs(ge,{title:"ElGamal Cryptosystem",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Setup:"})," Prime ",r.jsx("em",{children:"p"}),", generator ",r.jsx("em",{children:"g"})," of ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0})]}),r.jsx("p",{children:r.jsx("strong",{children:"Key Generation:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsxs("li",{children:["Private key: random ",r.jsx(o,{math:"x \\in \\{1, \\ldots, p-2\\}",inline:!0})]}),r.jsxs("li",{children:["Public key: ",r.jsx(o,{math:"h = g^x \\bmod p",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Encryption:"})," For message ",r.jsx(o,{math:"M \\in \\mathbb{Z}_p^*",inline:!0}),":"]}),r.jsxs("ul",{className:"list-disc list-inside",children:[r.jsxs("li",{children:["Choose random ",r.jsx(o,{math:"k \\in \\{1, \\ldots, p-2\\}",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"c_1 = g^k \\bmod p",inline:!0}),", ",r.jsx(o,{math:"c_2 = M \\cdot h^k \\bmod p",inline:!0})]}),r.jsxs("li",{children:["Ciphertext: ",r.jsx(o,{math:"(c_1, c_2)",inline:!0})]})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Decryption:"})}),r.jsx(o,{math:"M = c_2 \\cdot (c_1^x)^{-1} \\bmod p = c_2 \\cdot c_1^{p-1-x} \\bmod p"})]}),r.jsxs(Le,{title:"ElGamal Example",children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"p = 23, g = 5, x = 6",inline:!0}),". Public key: ",r.jsx(o,{math:"h = 5^6 \\bmod 23 = 8",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Encrypt M = 7:"})}),r.jsxs("ul",{className:"list-disc list-inside",children:[r.jsxs("li",{children:["Choose ",r.jsx(o,{math:"k = 3",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"c_1 = 5^3 \\bmod 23 = 10",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"c_2 = 7 \\cdot 8^3 \\bmod 23 = 7 \\cdot 6 = 42 \\bmod 23 = 19",inline:!0})})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Decrypt (10, 19):"})}),r.jsx(o,{math:"M = 19 \\cdot (10^6)^{-1} \\bmod 23 = 19 \\cdot 16^{-1} \\bmod 23 = 19 \\cdot 13 \\bmod 23 = 7"})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Semantic Security:"})," ElGamal is semantically secure under the DDH assumption. Unlike RSA, encrypting the same message twice yields different ciphertexts (due to random ",r.jsx("em",{children:"k"}),")."]}),r.jsx("h3",{children:"Algorithms for DLP"}),r.jsxs(ke,{title:"Baby-Step Giant-Step",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Correctness:"})," We seek ",r.jsx(o,{math:"x",inline:!0})," such that ",r.jsx(o,{math:"g^x = h",inline:!0})," where",r.jsx(o,{math:"0 \\leq x < n",inline:!0}),". Write ",r.jsx(o,{math:"x = im + j",inline:!0})," where ",r.jsx(o,{math:"m = \\lceil \\sqrt{n} \\rceil",inline:!0}),",",r.jsx(o,{math:"0 \\leq i < m",inline:!0}),", and ",r.jsx(o,{math:"0 \\leq j < m",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["From ",r.jsx(o,{math:"g^x = h",inline:!0}),":"]}),r.jsx(o,{math:"g^{im + j} = h \\implies g^j = h \\cdot g^{-im} = h \\cdot (g^{-m})^i"}),r.jsxs("p",{className:"mt-2",children:["The baby steps compute all values ",r.jsx(o,{math:"g^j",inline:!0})," for ",r.jsx(o,{math:"j \\in [0, m-1]",inline:!0}),". The giant steps compute ",r.jsx(o,{math:"h \\cdot (g^{-m})^i",inline:!0})," for ",r.jsx(o,{math:"i \\in [0, m-1]",inline:!0}),". A collision between these two sets reveals ",r.jsx(o,{math:"(i, j)",inline:!0})," such that ",r.jsx(o,{math:"g^j = h \\cdot (g^{-m})^i",inline:!0}),", giving ",r.jsx(o,{math:"x = im + j",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Complexity:"})," We compute at most ",r.jsx(o,{math:"m = O(\\sqrt{n})",inline:!0})," baby steps and at most ",r.jsx(o,{math:"m = O(\\sqrt{n})",inline:!0})," giant steps. With a hash table for lookups, each step costs ",r.jsx(o,{math:"O(1)",inline:!0})," expected time. Total: ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," time and",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," space for storing the baby-step table."]})]}),children:["Shanks' algorithm solves DLP in ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," time and space:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Set ",r.jsx(o,{math:"m = \\lceil \\sqrt{n} \\rceil",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Baby steps:"})," Compute ",r.jsx(o,{math:"g^j",inline:!0})," for ",r.jsx(o,{math:"j = 0, 1, \\ldots, m-1",inline:!0}),", store in table"]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"g^{-m}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Giant steps:"})," For ",r.jsx(o,{math:"i = 0, 1, \\ldots, m-1",inline:!0}),", compute ",r.jsx(o,{math:"h \\cdot (g^{-m})^i",inline:!0})," and check table"]}),r.jsxs("li",{children:["If match found: ",r.jsx(o,{math:"x = im + j",inline:!0})]})]})]}),r.jsxs(ke,{title:"Pollard's Rho for DLP",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Idea:"})," To solve ",r.jsx(o,{math:"g^x = h",inline:!0}),", we define a pseudo-random walk on the group and search for a collision. Each step produces an element of the form ",r.jsx(o,{math:"g^a h^b",inline:!0})," where we track the exponents ",r.jsx(o,{math:"(a, b)",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Partition the group into three sets ",r.jsx(o,{math:"S_1, S_2, S_3",inline:!0})," (e.g., based on ",r.jsx(o,{math:"z \\bmod 3",inline:!0})," for some representation). Define the iteration function:"]}),r.jsx(o,{math:"f(z) = \\begin{cases} hz & \\text{if } z \\in S_1 \\\\ z^2 & \\text{if } z \\in S_2 \\\\ gz & \\text{if } z \\in S_3 \\end{cases}"}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"z = g^a h^b",inline:!0}),", then ",r.jsx(o,{math:"f(z) = g^{a'} h^{b'}",inline:!0})," where:"]}),r.jsx(o,{math:"(a', b') = \\begin{cases} (a, b+1) & \\text{if } z \\in S_1 \\\\ (2a, 2b) & \\text{if } z \\in S_2 \\\\ (a+1, b) & \\text{if } z \\in S_3 \\end{cases}"}),r.jsxs("p",{className:"mt-2",children:["Using Floyd's cycle detection (tortoise and hare), we find indices ",r.jsx(o,{math:"i \\neq j",inline:!0})," with",r.jsx(o,{math:"g^{a_i} h^{b_i} = g^{a_j} h^{b_j}",inline:!0}),". Since ",r.jsx(o,{math:"h = g^x",inline:!0}),":"]}),r.jsx(o,{math:"g^{a_i + x b_i} = g^{a_j + x b_j} \\implies a_i + x b_i \\equiv a_j + x b_j \\pmod{n}"}),r.jsx(o,{math:"x(b_i - b_j) \\equiv a_j - a_i \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"\\gcd(b_i - b_j, n) = 1",inline:!0}),", we recover ",r.jsx(o,{math:"x = (a_j - a_i)(b_i - b_j)^{-1} \\bmod n",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Complexity:"})," By the birthday paradox, a collision is expected after ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," steps. Floyd's algorithm uses only ",r.jsx(o,{math:"O(1)",inline:!0})," space."]})]}),children:["Using a pseudo-random walk on the group, solve DLP in expected ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," ","time with ",r.jsx(o,{math:"O(1)",inline:!0})," space."]}),r.jsxs(ke,{title:"Index Calculus (for Z_p*)",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Overview:"})," Index calculus exploits the fact that integers in ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0}),' can be factored over a small "factor base" of primes. The algorithm has two phases:']}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Phase 1 (Relation collection):"})," Choose a factor base ",r.jsx(o,{math:"\\mathcal{B} = \\{p_1, p_2, \\ldots, p_B\\}",inline:!0})," of the first ",r.jsx(o,{math:"B",inline:!0})," primes. For random exponents ",r.jsx(o,{math:"k",inline:!0}),", compute ",r.jsx(o,{math:"g^k \\bmod p",inline:!0})," and attempt to factor the result over ",r.jsx(o,{math:"\\mathcal{B}",inline:!0}),". If ",r.jsx(o,{math:"g^k \\equiv \\prod p_i^{e_i} \\pmod{p}",inline:!0}),", then:"]}),r.jsx(o,{math:"k \\equiv \\sum_{i=1}^{B} e_i \\cdot \\log_g p_i \\pmod{p-1}"}),r.jsxs("p",{className:"mt-2",children:["Collect ",r.jsx(o,{math:"B + \\epsilon",inline:!0})," such relations to form an overdetermined linear system in the unknowns ",r.jsx(o,{math:"\\log_g p_i",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Phase 2 (Linear algebra):"})," Solve the system modulo ",r.jsx(o,{math:"p-1",inline:!0})," using Gaussian elimination to find ",r.jsx(o,{math:"\\log_g p_i",inline:!0})," for all ",r.jsx(o,{math:"p_i \\in \\mathcal{B}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Phase 3 (Individual logarithm):"})," To find ",r.jsx(o,{math:"x = \\log_g h",inline:!0}),", compute ",r.jsx(o,{math:"h \\cdot g^s \\bmod p",inline:!0})," for random ",r.jsx(o,{math:"s",inline:!0})," until the result factors over ",r.jsx(o,{math:"\\mathcal{B}",inline:!0}),":"]}),r.jsx(o,{math:"h \\cdot g^s \\equiv \\prod p_i^{f_i} \\pmod{p} \\implies x \\equiv \\sum f_i \\log_g p_i - s \\pmod{p-1}"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Complexity analysis:"})," With optimal ",r.jsx(o,{math:"B = L_p[1/2, c]",inline:!0})," where",r.jsx(o,{math:"L_p[\\alpha, c] = \\exp(c(\\log p)^\\alpha (\\log \\log p)^{1-\\alpha})",inline:!0}),", the algorithm achieves subexponential complexity ",r.jsx(o,{math:"L_p[1/2, \\sqrt{2}]",inline:!0}),". Variants like the Number Field Sieve achieve",r.jsx(o,{math:"L_p[1/3, c]",inline:!0}),"."]})]}),children:["For ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0}),", there exists a subexponential algorithm:",r.jsx(o,{math:"O\\left(\\exp\\left(c \\sqrt{\\log p \\cdot \\log \\log p}\\right)\\right)"}),"This is why DLP in ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0})," requires larger keys than elliptic curves."]}),r.jsx("h3",{children:"DSA: Digital Signature Algorithm"}),r.jsxs(ge,{title:"DSA Signature Scheme",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Parameters:"})," Primes ",r.jsx("em",{children:"p"})," and ",r.jsx("em",{children:"q"})," with ",r.jsx(o,{math:"q \\mid (p-1)",inline:!0}),", generator ",r.jsx("em",{children:"g"})," of order ",r.jsx("em",{children:"q"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Keys:"})," Private ",r.jsx(o,{math:"x \\in \\{1, \\ldots, q-1\\}",inline:!0}),", public ",r.jsx(o,{math:"y = g^x \\bmod p",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Sign message M:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsxs("li",{children:["Choose random ",r.jsx(o,{math:"k \\in \\{1, \\ldots, q-1\\}",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"r = (g^k \\bmod p) \\bmod q",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"s = k^{-1}(H(M) + xr) \\bmod q",inline:!0})}),r.jsxs("li",{children:["Signature: ",r.jsx(o,{math:"(r, s)",inline:!0})]})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Verify:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsx("li",{children:r.jsx(o,{math:"w = s^{-1} \\bmod q",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"u_1 = H(M) \\cdot w \\bmod q",inline:!0}),", ",r.jsx(o,{math:"u_2 = r \\cdot w \\bmod q",inline:!0})]}),r.jsx("li",{children:r.jsx(o,{math:"v = (g^{u_1} y^{u_2} \\bmod p) \\bmod q",inline:!0})}),r.jsxs("li",{children:["Accept if ",r.jsx(o,{math:"v = r",inline:!0})]})]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Nonce Reuse is Fatal!"})," If the same ",r.jsx("em",{children:"k"})," is used twice, the private key can be recovered. This famously led to the PlayStation 3 master key being extracted."]}),r.jsx("h3",{children:"DLP in Different Groups"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Group Comparison"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Group"}),r.jsx("th",{className:"text-left py-2",children:"Best Attack"}),r.jsx("th",{className:"text-left py-2",children:"128-bit Security"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0})}),r.jsx("td",{className:"py-2",children:"Index Calculus"}),r.jsxs("td",{className:"py-2",children:["3072-bit ",r.jsx("em",{children:"p"})]})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"\\mathbb{F}_{2^n}^*",inline:!0})}),r.jsx("td",{className:"py-2",children:"Index Calculus"}),r.jsx("td",{className:"py-2",children:"~3072-bit"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"Elliptic Curves"}),r.jsx("td",{className:"py-2",children:"Pollard Rho"}),r.jsx("td",{className:"py-2",children:"256-bit curve"})]})]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Why Elliptic Curves?"})," No subexponential algorithm is known for DLP on elliptic curves, allowing much smaller key sizes for the same security level."]})]})}function FQ(){return r.jsxs(Jt,{sectionId:11,children:[r.jsx("h2",{children:"Knapsack"}),r.jsx("p",{children:"The knapsack (or subset sum) problem was the first NP-complete problem proposed as a basis for public-key cryptography. While early knapsack cryptosystems were broken, they remain historically important and have influenced modern designs."}),r.jsx("h3",{children:"The Subset Sum Problem"}),r.jsxs(ge,{title:"Subset Sum Problem",children:["Given a set of positive integers ",r.jsx(o,{math:"\\{a_1, a_2, \\ldots, a_n\\}",inline:!0})," and a target sum ",r.jsx("em",{children:"S"}),", find a subset that sums to ",r.jsx("em",{children:"S"}),". Equivalently, find"," ",r.jsx(o,{math:"x_1, x_2, \\ldots, x_n \\in \\{0, 1\\}",inline:!0})," such that:",r.jsx(o,{math:"\\sum_{i=1}^{n} x_i a_i = S"})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"NP-Completeness:"})," The subset sum problem is NP-complete. The general case is believed to have no polynomial-time algorithm."]}),r.jsx("h3",{children:"Superincreasing Sequences"}),r.jsxs(ge,{title:"Superincreasing Sequence",children:["A sequence ",r.jsx(o,{math:"(b_1, b_2, \\ldots, b_n)",inline:!0})," is ",r.jsx("strong",{children:"superincreasing"})," ","if each element is greater than the sum of all preceding elements:",r.jsx(o,{math:"b_k > \\sum_{i=1}^{k-1} b_i \\quad \\text{for all } k \\geq 2"})]}),r.jsxs(ke,{title:"Easy Knapsack",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove correctness of the greedy algorithm by induction on ",r.jsx("em",{children:"n"}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Base case:"})," For ",r.jsx(o,{math:"n = 1",inline:!0}),", the algorithm correctly determines whether ",r.jsx(o,{math:"S = b_1",inline:!0})," or has no solution."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Inductive step:"})," Assume the algorithm works for sequences of length ",r.jsx(o,{math:"n - 1",inline:!0}),". Consider a superincreasing sequence ",r.jsx(o,{math:"(b_1, \\ldots, b_n)",inline:!0})," and target ",r.jsx("em",{children:"S"}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Claim:"})," If a solution exists with ",r.jsx(o,{math:"b_n",inline:!0})," included, then the greedy algorithm must include ",r.jsx(o,{math:"b_n",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Proof of claim:"})," Since the sequence is superincreasing:"]}),r.jsx(o,{math:"\\sum_{i=1}^{n-1} b_i < b_n"}),r.jsxs("p",{children:["Therefore, if ",r.jsx(o,{math:"b_n",inline:!0})," is in the solution but we don't include it, we cannot reach any target ",r.jsx(o,{math:"S \\geq b_n",inline:!0})," using only ",r.jsx(o,{math:"b_1, \\ldots, b_{n-1}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Conversely:"})," If ",r.jsx(o,{math:"S < b_n",inline:!0}),", then ",r.jsx(o,{math:"b_n",inline:!0})," cannot be in any solution (it would exceed ",r.jsx("em",{children:"S"})," by itself)."]}),r.jsxs("p",{className:"mt-2",children:["Thus the greedy choice is always correct. After deciding on ",r.jsx(o,{math:"b_n",inline:!0}),", we have a subproblem of size ",r.jsx(o,{math:"n - 1",inline:!0})," with target ",r.jsx(o,{math:"S' = S - b_n",inline:!0})," (if included) or ",r.jsx(o,{math:"S' = S",inline:!0})," (if not). By induction, the greedy algorithm solves this correctly."]}),r.jsxs("p",{className:"mt-2",children:["The algorithm makes exactly ",r.jsx("em",{children:"n"})," decisions, each in constant time, giving ",r.jsx(o,{math:"O(n)",inline:!0})," total complexity."]})]}),children:["For a superincreasing sequence, the subset sum problem can be solved in ",r.jsx(o,{math:"O(n)",inline:!0})," ","time using a greedy algorithm:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Start with the largest element ",r.jsx(o,{math:"b_n",inline:!0})]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"b_n \\leq S",inline:!0}),", include it and set ",r.jsx(o,{math:"S := S - b_n",inline:!0})]}),r.jsxs("li",{children:["Repeat for ",r.jsx(o,{math:"b_{n-1}, b_{n-2}, \\ldots, b_1",inline:!0})]})]})]}),r.jsxs(Le,{title:"Solving Easy Knapsack",children:[r.jsxs("p",{children:["Sequence: ",r.jsx(o,{math:"(2, 3, 7, 14, 30)",inline:!0}),". Find subset summing to ",r.jsx(o,{math:"S = 23",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Solution:"})}),r.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[r.jsxs("li",{children:[r.jsx(o,{math:"30 > 23",inline:!0}),", skip"]}),r.jsxs("li",{children:[r.jsx(o,{math:"14 \\leq 23",inline:!0}),", include. ",r.jsx(o,{math:"S := 23 - 14 = 9",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"7 \\leq 9",inline:!0}),", include. ",r.jsx(o,{math:"S := 9 - 7 = 2",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"3 > 2",inline:!0}),", skip"]}),r.jsxs("li",{children:[r.jsx(o,{math:"2 \\leq 2",inline:!0}),", include. ",r.jsx(o,{math:"S := 2 - 2 = 0",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["Answer: ",r.jsx(o,{math:"\\{2, 7, 14\\}",inline:!0})," (indices 1, 3, 4)"]})]}),r.jsx("h3",{children:"Merkle-Hellman Knapsack Cryptosystem"}),r.jsxs(ge,{title:"Merkle-Hellman Cryptosystem",children:[r.jsx("p",{children:r.jsx("strong",{children:"Key Generation:"})}),r.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[r.jsxs("li",{children:["Choose superincreasing sequence ",r.jsx(o,{math:"(b_1, \\ldots, b_n)",inline:!0})," (private)"]}),r.jsxs("li",{children:["Choose ",r.jsx(o,{math:"M > \\sum b_i",inline:!0})," and ",r.jsx(o,{math:"W",inline:!0})," with ",r.jsx(o,{math:"\\gcd(W, M) = 1",inline:!0})]}),r.jsxs("li",{children:["Compute public key: ",r.jsx(o,{math:"a_i = W \\cdot b_i \\bmod M",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Encryption:"})," For binary message ",r.jsx(o,{math:"(x_1, \\ldots, x_n)",inline:!0}),":"]}),r.jsx(o,{math:"S = \\sum_{i=1}^{n} x_i a_i"}),r.jsx("p",{children:r.jsx("strong",{children:"Decryption:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"S' = W^{-1} \\cdot S \\bmod M",inline:!0})]}),r.jsxs("li",{children:["Solve easy knapsack for ",r.jsx(o,{math:"(b_1, \\ldots, b_n)",inline:!0})," with target ",r.jsx(o,{math:"S'",inline:!0})]})]})]}),r.jsxs(Le,{title:"Merkle-Hellman Example",children:[r.jsxs("p",{children:["Private: ",r.jsx(o,{math:"(2, 5, 9, 21)",inline:!0}),", ",r.jsx(o,{math:"M = 50",inline:!0}),", ",r.jsx(o,{math:"W = 31",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["Public key: ",r.jsx(o,{math:"a_i = 31 \\cdot b_i \\bmod 50",inline:!0})]}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"a_1 = 31 \\cdot 2 = 62 \\equiv 12 \\pmod{50}",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"a_2 = 31 \\cdot 5 = 155 \\equiv 5 \\pmod{50}",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"a_3 = 31 \\cdot 9 = 279 \\equiv 29 \\pmod{50}",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"a_4 = 31 \\cdot 21 = 651 \\equiv 1 \\pmod{50}",inline:!0})})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Encrypt (1, 0, 1, 1):"})," ",r.jsx(o,{math:"S = 12 + 29 + 1 = 42",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Decrypt:"})}),r.jsxs("ul",{className:"list-disc list-inside",children:[r.jsx("li",{children:r.jsx(o,{math:"W^{-1} = 31^{-1} \\equiv 21 \\pmod{50}",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"S' = 21 \\cdot 42 \\bmod 50 = 882 \\bmod 50 = 32",inline:!0})}),r.jsxs("li",{children:["Solve easy knapsack: ",r.jsx(o,{math:"32 = 21 + 9 + 2",inline:!0}),"  (1, 0, 1, 1) "]})]})]}),r.jsx("h3",{children:"Shamir's Attack"}),r.jsxs(ke,{title:"Shamir's Attack (1984)",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The attack exploits the structure hidden in the public key through lattice techniques. We outline the key ideas:"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Step 1: Lattice formulation."})," Construct the lattice ",r.jsx(o,{math:"\\Lambda",inline:!0})," generated by the rows of:"]}),r.jsx(o,{math:"\\begin{pmatrix} 1 & 0 & \\cdots & 0 & a_1 \\\\ 0 & 1 & \\cdots & 0 & a_2 \\\\ \\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\\\ 0 & 0 & \\cdots & 1 & a_n \\\\ 0 & 0 & \\cdots & 0 & -n \\end{pmatrix}"}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Step 2: Short vector existence."})," The private superincreasing sequence ",r.jsx(o,{math:"(b_1, \\ldots, b_n)",inline:!0})," satisfies ",r.jsx(o,{math:"a_i \\equiv W b_i \\pmod{M}",inline:!0}),". This implies:"]}),r.jsx(o,{math:"a_i = W b_i - k_i M \\text{ for some } k_i"}),r.jsxs("p",{children:["The vector ",r.jsx(o,{math:"(b_1, b_2, \\ldots, b_n, W)",inline:!0})," lies in a sublattice and has unusually small norm because the ",r.jsx(o,{math:"b_i",inline:!0})," form a superincreasing sequence with relatively small entries."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Step 3: LLL reduction."})," Apply the LLL algorithm to find a reduced basis. With high probability, the shortest vectors in the reduced basis reveal linear combinations that expose the trapdoor structure."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Step 4: Extract trapdoor."})," From short lattice vectors, recover a pair ",r.jsx(o,{math:"(W', M')",inline:!0})," such that ",r.jsx(o,{math:"a_i W'^{-1} \\bmod M'",inline:!0})," yields a superincreasing-like sequence that enables decryption."]}),r.jsxs("p",{className:"mt-2",children:["The LLL algorithm runs in polynomial time ",r.jsx(o,{math:"O(n^6 \\log^3 B)",inline:!0})," where ",r.jsx("em",{children:"B"})," bounds the entries. Since the lattice dimension is ",r.jsx(o,{math:"n + 1",inline:!0}),", the entire attack is polynomial in the key length."]})]}),children:["The Merkle-Hellman cryptosystem can be broken in polynomial time using lattice reduction. Given the public key ",r.jsx(o,{math:"(a_1, \\ldots, a_n)",inline:!0}),", one can find a different trapdoor pair ",r.jsx(o,{math:"(W', M')",inline:!0})," that allows decryption."]}),r.jsx("p",{children:"The attack uses the LLL algorithm for lattice basis reduction to find short vectors in a certain lattice constructed from the public key."}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Broken!"})," The Merkle-Hellman cryptosystem and its variants are considered insecure. More sophisticated knapsack-based systems have also been broken."]}),r.jsx("h3",{children:"Modern Lattice Cryptography"}),r.jsx("p",{children:"Despite the failure of early knapsack schemes, lattice problems remain central to post-quantum cryptography:"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Lattice-Based Problems"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Shortest Vector Problem (SVP):"})," Find shortest nonzero vector in lattice"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Closest Vector Problem (CVP):"})," Find lattice point closest to target"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Learning With Errors (LWE):"})," Solve noisy linear equations"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Ring-LWE:"})," Structured version enabling efficient crypto"]})]})]}),r.jsxs(ge,{title:"NTRU (1996)",children:["A lattice-based cryptosystem using polynomial rings that has resisted attacks for decades. Operations are in ",r.jsx(o,{math:"\\mathbb{Z}[x]/(x^N - 1)",inline:!0}),":",r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsxs("li",{children:["Small polynomial secrets ",r.jsx("em",{children:"f"}),", ",r.jsx("em",{children:"g"})]}),r.jsxs("li",{children:["Public key: ",r.jsx(o,{math:"h = g \\cdot f^{-1} \\pmod{q}",inline:!0})]}),r.jsx("li",{children:"Security from difficulty of finding short vectors"})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Post-Quantum:"})," Lattice-based cryptography (Kyber, Dilithium) was selected by NIST for post-quantum standardization. Unlike RSA/ECC, these schemes resist quantum attacks."]}),r.jsx("h3",{children:"Lessons Learned"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Cryptographic Design Principles"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Worst-case vs. average-case:"})," NP-completeness is worst-case; crypto needs average-case hardness"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Trapdoor quality:"})," The trapdoor must not leak through the public key"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Reduction tightness:"})," Security should reduce tightly to the hard problem"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Conservative design:"})," Large security margins against unknown attacks"]})]})]})]})}function UQ(){return r.jsxs(Jt,{sectionId:12,children:[r.jsx("h2",{children:"Zero-Knowledge Proofs"}),r.jsx("p",{children:"Zero-knowledge proofs allow one party (the prover) to convince another party (the verifier) that a statement is true, without revealing anything beyond the truth of the statement. This remarkable concept has profound applications in cryptography."}),r.jsx("h3",{children:"The Concept of Zero-Knowledge"}),r.jsxs(ge,{title:"Interactive Proof",children:["An ",r.jsx("strong",{children:"interactive proof system"})," for a language ",r.jsx("em",{children:"L"})," consists of:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["A prover ",r.jsx("em",{children:"P"})," (computationally unbounded)"]}),r.jsxs("li",{children:["A verifier ",r.jsx("em",{children:"V"})," (polynomial-time)"]}),r.jsx("li",{children:"Multiple rounds of interaction"}),r.jsxs("li",{children:[r.jsx("strong",{children:"Completeness:"})," If ",r.jsx(o,{math:"x \\in L",inline:!0}),", honest prover convinces verifier"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Soundness:"})," If ",r.jsx(o,{math:"x \\notin L",inline:!0}),", no prover can convince verifier (except with negligible probability)"]})]})]}),r.jsxs(ge,{title:"Zero-Knowledge",children:["An interactive proof is ",r.jsx("strong",{children:"zero-knowledge"})," if the verifier learns nothing beyond the validity of the statement. Formally, there exists a simulator that can produce transcripts indistinguishable from real interactions."]}),r.jsx("h3",{children:"The Cave Analogy"}),r.jsx("p",{children:"Imagine a cave with a forking path that reconnects at the back. A magic door blocks the connection, openable only with a secret word."}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Ali Baba's Cave"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsx("li",{children:"Prover (Peggy) enters cave, chooses random path (A or B)"}),r.jsx("li",{children:"Verifier (Victor) waits outside, doesn't see which path"}),r.jsx("li",{children:"Victor calls out a random path for Peggy to exit from"}),r.jsx("li",{children:"Peggy exits from requested path (using secret word if needed)"}),r.jsx("li",{children:"Repeat many times; if Peggy always succeeds, she likely knows the secret"})]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Zero-Knowledge Property:"})," A video of this protocol proves nothing to third parties - it could be faked by having Victor and Peggy conspire to match paths. Yet it convinces Victor who chooses randomly."]}),r.jsx("h3",{children:"Schnorr Identification Protocol"}),r.jsxs(ge,{title:"Schnorr Protocol",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Setup:"})," Group ",r.jsx("em",{children:"G"})," of prime order ",r.jsx("em",{children:"q"}),", generator ",r.jsx("em",{children:"g"}),". Prover has secret ",r.jsx("em",{children:"x"}),", public key ",r.jsx(o,{math:"y = g^x",inline:!0}),"."]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Commitment:"})," Prover chooses random ",r.jsx("em",{children:"r"}),", sends ",r.jsx(o,{math:"R = g^r",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Challenge:"})," Verifier sends random ",r.jsx(o,{math:"c \\in \\{0, 1, \\ldots, 2^t-1\\}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Response:"})," Prover sends ",r.jsx(o,{math:"s = r + cx \\bmod q",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Verify:"})," Check that ",r.jsx(o,{math:"g^s = R \\cdot y^c",inline:!0})]})]})]}),r.jsxs(Le,{title:"Schnorr Protocol Execution",children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"g = 2, q = 11, x = 7",inline:!0}),". Public: ",r.jsx(o,{math:"y = 2^7 \\bmod 11 = 7",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Round:"})}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Prover: ",r.jsx(o,{math:"r = 4",inline:!0}),", ",r.jsx(o,{math:"R = 2^4 \\bmod 11 = 5",inline:!0})]}),r.jsxs("li",{children:["Verifier: ",r.jsx(o,{math:"c = 3",inline:!0})]}),r.jsxs("li",{children:["Prover: ",r.jsx(o,{math:"s = 4 + 3 \\cdot 7 = 25 \\equiv 3 \\pmod{11}",inline:!0})]}),r.jsxs("li",{children:["Verify: ",r.jsx(o,{math:"2^3 = 8",inline:!0})," and ",r.jsx(o,{math:"5 \\cdot 7^3 = 5 \\cdot 2 = 10 \\equiv 8",inline:!0})," "]})]})]}),r.jsxs(ke,{title:"Schnorr Security",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Completeness:"})," If the prover knows ",r.jsx("em",{children:"x"})," and follows the protocol honestly:"]}),r.jsx(o,{math:"g^s = g^{r + cx} = g^r \\cdot g^{cx} = g^r \\cdot (g^x)^c = R \\cdot y^c"}),r.jsxs("p",{children:["The verification equation ",r.jsx(o,{math:"g^s = R \\cdot y^c",inline:!0})," holds with probability 1."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Soundness:"})," We show a cheating prover succeeds with probability at most ",r.jsx(o,{math:"1/2^t",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Suppose a cheater can answer two different challenges ",r.jsx(o,{math:"c",inline:!0})," and ",r.jsx(o,{math:"c'",inline:!0})," for the same commitment ",r.jsx("em",{children:"R"})," with responses ",r.jsx("em",{children:"s"})," and ",r.jsx(o,{math:"s'",inline:!0}),". Then:"]}),r.jsx(o,{math:"g^s = R \\cdot y^c \\quad \\text{and} \\quad g^{s'} = R \\cdot y^{c'}"}),r.jsx("p",{children:"Dividing these equations:"}),r.jsx(o,{math:"g^{s - s'} = y^{c - c'} = g^{x(c - c')}"}),r.jsxs("p",{children:["Therefore ",r.jsx(o,{math:"s - s' \\equiv x(c - c') \\pmod{q}",inline:!0}),", giving:"]}),r.jsx(o,{math:"x = (s - s')(c - c')^{-1} \\bmod q"}),r.jsxs("p",{children:["This extracts the secret key! By contrapositive, a prover who doesn't know ",r.jsx("em",{children:"x"})," can answer at most one challenge per commitment. Since challenges are chosen uniformly from ",r.jsx(o,{math:"\\{0, 1, \\ldots, 2^t - 1\\}",inline:!0}),", the probability of guessing correctly is ",r.jsx(o,{math:"1/2^t",inline:!0}),"."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Zero-Knowledge:"})," We construct a simulator that produces transcripts indistinguishable from real ones:"]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Choose random ",r.jsx(o,{math:"c \\in \\{0, \\ldots, 2^t - 1\\}",inline:!0})," and random ",r.jsx(o,{math:"s \\in \\mathbb{Z}_q",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"R = g^s \\cdot y^{-c}",inline:!0})]}),r.jsxs("li",{children:["Output transcript ",r.jsx(o,{math:"(R, c, s)",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["Verification: ",r.jsx(o,{math:"g^s = g^s \\cdot y^{-c} \\cdot y^c = R \\cdot y^c",inline:!0})," holds by construction."]}),r.jsxs("p",{className:"mt-2",children:["In a real transcript, ",r.jsx("em",{children:"R"})," is uniform (since ",r.jsx(o,{math:"r",inline:!0})," is random), ",r.jsx("em",{children:"c"})," is uniform (chosen by verifier), and ",r.jsx("em",{children:"s"})," is uniform in ",r.jsx(o,{math:"\\mathbb{Z}_q",inline:!0})," (since ",r.jsx(o,{math:"r",inline:!0})," is). The simulated transcript has identical distribution: ",r.jsx("em",{children:"c"})," and ",r.jsx("em",{children:"s"})," are uniform by construction, and ",r.jsx("em",{children:"R"})," is uniform because ",r.jsx(o,{math:"g^s y^{-c}",inline:!0})," with uniform ",r.jsx("em",{children:"s"})," is uniform."]})]}),children:["The Schnorr protocol satisfies:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Completeness:"})," Honest prover always convinces verifier"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Soundness:"})," Cheater succeeds with probability ",r.jsx(o,{math:"1/2^t",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Zero-knowledge:"})," Simulator can fake transcripts (choose ",r.jsx("em",{children:"c, s"})," first, compute ",r.jsx(o,{math:"R = g^s y^{-c}",inline:!0}),")"]})]})]}),r.jsx("h3",{children:"Zero-Knowledge Proofs for NP"}),r.jsx(ke,{title:"ZK for All of NP (GMW, 1986)",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The proof proceeds in two steps: (1) construct a ZK proof for graph 3-coloring, and (2) use NP-completeness to extend to all of NP."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 1: ZK Proof for 3-Coloring"})}),r.jsxs("p",{className:"mt-2",children:["Given a graph ",r.jsx(o,{math:"G = (V, E)",inline:!0})," and a valid 3-coloring ",r.jsx(o,{math:"\\chi: V \\to \\{1, 2, 3\\}",inline:!0}),":"]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Commitment:"})," Prover randomly permutes the 3 colors (applying ",r.jsx(o,{math:"\\pi",inline:!0})," to ",r.jsx(o,{math:"\\chi",inline:!0}),"), then commits to each vertex's new color using a hiding commitment scheme."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Challenge:"})," Verifier selects a random edge ",r.jsx(o,{math:"(u, v) \\in E",inline:!0}),"."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Response:"})," Prover opens the commitments for vertices ",r.jsx("em",{children:"u"})," and ",r.jsx("em",{children:"v"}),"."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Verify:"})," Verifier checks that the two colors are different."]})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Analysis:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Completeness:"})," Valid coloring means adjacent vertices have different colors, so honest prover always passes."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Soundness:"})," If the graph is not 3-colorable, at least one edge has endpoints of the same color. Probability of catching this is ",r.jsx(o,{math:"\\geq 1/|E|",inline:!0}),". After ",r.jsx(o,{math:"k \\cdot |E|",inline:!0})," rounds, cheater's success probability is at most ",r.jsx(o,{math:"(1 - 1/|E|)^{k|E|} \\approx e^{-k}",inline:!0}),"."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Zero-knowledge:"})," The random permutation ensures each revealed pair is a uniformly random pair of distinct colors from ",r.jsx(o,{math:"\\{1,2,3\\}",inline:!0}),". A simulator can produce this distribution without knowing the coloring: for the challenged edge, output two random distinct colors with valid commitments."]})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 2: Extension to all of NP"})}),r.jsxs("p",{className:"mt-2",children:["Since 3-coloring is NP-complete, any NP language ",r.jsx("em",{children:"L"})," has a polynomial-time reduction to 3-coloring. Given instance ",r.jsx("em",{children:"x"})," and witness ",r.jsx("em",{children:"w"})," for ",r.jsx(o,{math:"x \\in L",inline:!0}),":"]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Compute the reduction: ",r.jsx(o,{math:"(G, \\chi) = \\text{Reduce}(x, w)",inline:!0})]}),r.jsxs("li",{children:["Run the 3-coloring ZK proof on ",r.jsx(o,{math:"(G, \\chi)",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["The reduction preserves zero-knowledge: the verifier only sees the graph ",r.jsx("em",{children:"G"})," (which is computable from ",r.jsx("em",{children:"x"})," alone) and the ZK proof reveals nothing about ",r.jsx(o,{math:"\\chi",inline:!0}),", hence nothing about ",r.jsx("em",{children:"w"}),"."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Note:"})," This construction requires a commitment scheme, which in turn requires one-way functions."]})]}),children:"Every problem in NP has a zero-knowledge proof system (assuming one-way functions exist). This is shown by giving a ZK proof for graph 3-coloring, which is NP-complete."}),r.jsx("h3",{children:"Non-Interactive Zero-Knowledge (NIZK)"}),r.jsxs(ge,{title:"Fiat-Shamir Transform",children:["Convert an interactive ZK proof to non-interactive using a hash function ",r.jsx("em",{children:"H"}),":",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Compute commitment ",r.jsx("em",{children:"R"})," as usual"]}),r.jsxs("li",{children:["Set challenge ",r.jsx(o,{math:"c = H(g, y, R)",inline:!0})," (no interaction needed)"]}),r.jsxs("li",{children:["Compute response ",r.jsx("em",{children:"s"})]}),r.jsxs("li",{children:["Proof is ",r.jsx(o,{math:"(R, s)",inline:!0})," or just ",r.jsx(o,{math:"(c, s)",inline:!0})]})]})]}),r.jsxs("p",{children:["The Fiat-Shamir transform converts Schnorr identification into the Schnorr signature scheme: sign message ",r.jsx("em",{children:"M"})," by including it in the hash: ",r.jsx(o,{math:"c = H(R, M)",inline:!0}),"."]}),r.jsx("h3",{children:"Applications"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Modern Applications"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Authentication:"})," Prove identity without revealing password"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"E-voting:"})," Prove vote validity without revealing choice"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Blockchain:"})," zk-SNARKs for private transactions (Zcash)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Credentials:"})," Prove age > 18 without revealing birthdate"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"zkRollups:"})," Scalable blockchain computation verification"]})]})]}),r.jsx("h3",{children:"zk-SNARKs"}),r.jsxs(ge,{title:"zk-SNARK",children:[r.jsx("strong",{children:"Zero-Knowledge Succinct Non-interactive ARgument of Knowledge:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Zero-knowledge:"})," Reveals nothing beyond statement truth"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Succinct:"})," Proof size is constant (a few hundred bytes)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Non-interactive:"})," Single message from prover to verifier"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Argument:"})," Computationally sound (vs. statistically)"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"of Knowledge:"}),' Prover must "know" the witness']})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Revolutionary Impact:"})," zk-SNARKs allow verification of arbitrary computation in constant time. A verifier can check that a program was executed correctly without re-running it - even for programs that take hours to run."]}),r.jsx("h3",{children:"Oblivious Transfer"}),r.jsxs(ge,{title:"1-out-of-2 Oblivious Transfer",children:["Alice has two messages ",r.jsx(o,{math:"m_0, m_1",inline:!0}),". Bob wants ",r.jsx(o,{math:"m_b",inline:!0})," ","for some choice bit ",r.jsx("em",{children:"b"}),". The protocol ensures:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Bob receives ",r.jsx(o,{math:"m_b",inline:!0})," but learns nothing about ",r.jsx(o,{math:"m_{1-b}",inline:!0})]}),r.jsx("li",{children:"Alice doesn't learn which message Bob chose"})]})]}),r.jsx(ke,{title:"OT Sufficiency",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We sketch the proof that OT suffices for secure two-party computation of any function ",r.jsx(o,{math:"f(x, y)",inline:!0}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 1: Boolean circuit representation"})}),r.jsxs("p",{className:"mt-2",children:["Any efficiently computable function can be expressed as a Boolean circuit with AND and XOR gates. Convert ",r.jsx("em",{children:"f"})," to such a circuit ",r.jsx("em",{children:"C"}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 2: Garbled circuits (Yao's protocol)"})}),r.jsxs("p",{className:"mt-2",children:["Party A (the garbler) creates an encrypted version of ",r.jsx("em",{children:"C"}),":"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["For each wire ",r.jsx("em",{children:"w"}),", choose two random keys ",r.jsx(o,{math:"k_w^0, k_w^1",inline:!0})," representing values 0 and 1"]}),r.jsx("li",{children:"For each gate, create a garbled gate table that encrypts the output wire keys under the corresponding input wire keys"})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 3: Input wire keys via OT"})}),r.jsx("p",{className:"mt-2",children:"A sends their garbled circuit and keys for their own input wires to B."}),r.jsxs("p",{className:"mt-2",children:["For B's input wires, they use OT: for each input bit ",r.jsx(o,{math:"b_i",inline:!0})," of B:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["A offers both keys ",r.jsx(o,{math:"(k_{w_i}^0, k_{w_i}^1)",inline:!0})]}),r.jsxs("li",{children:["B selects ",r.jsx(o,{math:"k_{w_i}^{b_i}",inline:!0})," without A learning ",r.jsx(o,{math:"b_i",inline:!0})]}),r.jsx("li",{children:"B receives exactly one key per wire without learning the other"})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 4: Evaluation"})}),r.jsx("p",{className:"mt-2",children:"B evaluates the garbled circuit gate-by-gate, decrypting each gate table with the known wire keys, obtaining the output."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Security:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"A learns nothing about B's input (OT hides B's choice)"}),r.jsxs("li",{children:["B learns nothing about A's input beyond ",r.jsx(o,{math:"f(x, y)",inline:!0})," (garbling hides intermediate values)"]})]}),r.jsx("p",{className:"mt-3",children:"This shows OT enables arbitrary secure computation. The conversethat secure computation implies OTis straightforward: OT itself is a two-party function."})]}),children:"Oblivious transfer is a complete primitive for secure two-party computation. Any function can be securely computed given OT as a building block."}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Broader Impact:"})," Zero-knowledge proofs have transformed from a theoretical curiosity to a practical technology. They enable privacy-preserving computation, verifiable credentials, and scalable blockchain systems."]})]})}function HQ(){return r.jsxs(Jt,{sectionId:13,children:[r.jsx("h2",{children:"Pseudoprimes"}),r.jsx("p",{children:"Primality testing is essential in cryptography for generating keys. Rather than proving primality directly, we often use probabilistic tests that efficiently detect composites. Understanding when these tests fail leads us to the theory of pseudoprimes."}),r.jsx("h3",{children:"Fermat Pseudoprimes"}),r.jsxs(ge,{title:"Fermat Pseudoprime",children:["A composite number ",r.jsx("em",{children:"n"})," is a ",r.jsx("strong",{children:"Fermat pseudoprime"})," to base ",r.jsx("em",{children:"a"})," ","if ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0})," and:",r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{n}"}),"Despite being composite, ",r.jsx("em",{children:"n"})," passes Fermat's test for this base."]}),r.jsxs(Le,{title:"Fermat Pseudoprime",children:[r.jsxs("p",{children:[r.jsx(o,{math:"n = 341 = 11 \\times 31",inline:!0})," is a pseudoprime to base 2:"]}),r.jsx(o,{math:"2^{340} \\equiv 1 \\pmod{341}"}),r.jsx("p",{children:"This is the smallest base-2 pseudoprime."})]}),r.jsxs(ke,{title:"Fermat Test",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:r.jsx("strong",{children:"Correctness of composite detection:"})}),r.jsx("p",{className:"mt-2",children:"This follows from the contrapositive of Fermat's Little Theorem. Recall:"}),r.jsx(o,{math:"\\text{If } p \\text{ is prime and } \\gcd(a, p) = 1, \\text{ then } a^{p-1} \\equiv 1 \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["Contrapositive: If ",r.jsx(o,{math:"a^{n-1} \\not\\equiv 1 \\pmod{n}",inline:!0})," for some ",r.jsx(o,{math:"a",inline:!0})," with ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),", then ",r.jsx("em",{children:"n"})," is not prime."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:'Why "probably" prime:'})}),r.jsxs("p",{className:"mt-2",children:["The converse of Fermat's Little Theorem is false. A composite ",r.jsx("em",{children:"n"})," may satisfy ",r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{n}",inline:!0})," for many bases ",r.jsx("em",{children:"a"}),". Such ",r.jsx("em",{children:"n"})," is called a Fermat pseudoprime to base ",r.jsx("em",{children:"a"}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Partial analysis:"})}),r.jsxs("p",{className:"mt-2",children:["For most composite ",r.jsx("em",{children:"n"}),", the Fermat test works well. Define:"]}),r.jsx(o,{math:"B_n = \\{a \\in (\\mathbb{Z}/n\\mathbb{Z})^* : a^{n-1} \\equiv 1 \\pmod{n}\\}"}),r.jsxs("p",{className:"mt-2",children:["This is a subgroup of ",r.jsx(o,{math:"(\\mathbb{Z}/n\\mathbb{Z})^*",inline:!0}),". If ",r.jsx(o,{math:"B_n \\neq (\\mathbb{Z}/n\\mathbb{Z})^*",inline:!0}),", then by Lagrange's theorem:"]}),r.jsx(o,{math:"|B_n| \\leq \\frac{\\phi(n)}{2}"}),r.jsxs("p",{className:"mt-2",children:["So at least half of all bases detect ",r.jsx("em",{children:"n"})," as composite."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Limitation:"})," When ",r.jsx(o,{math:"B_n = (\\mathbb{Z}/n\\mathbb{Z})^*",inline:!0})," (Carmichael numbers), the Fermat test fails for all coprime bases."]})]}),children:["For random base ",r.jsx("em",{children:"a"}),", if ",r.jsx(o,{math:"a^{n-1} \\not\\equiv 1 \\pmod{n}",inline:!0}),", then ",r.jsx("em",{children:"n"})," is definitely composite. If ",r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{n}",inline:!0}),", then ",r.jsx("em",{children:"n"})," is probably prime."]}),r.jsx("h3",{children:"Carmichael Numbers"}),r.jsxs(ge,{title:"Carmichael Number",children:["A ",r.jsx("strong",{children:"Carmichael number"})," is a composite ",r.jsx("em",{children:"n"})," that is a Fermat pseudoprime to ",r.jsx("em",{children:"every"})," base ",r.jsx("em",{children:"a"})," with ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),"."]}),r.jsxs(ke,{title:"Korselt's Criterion",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"() Necessity:"})," Suppose ",r.jsx("em",{children:"n"})," is a Carmichael number."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("em",{children:"Squarefree:"})," Assume for contradiction that ",r.jsx(o,{math:"p^2 \\mid n",inline:!0})," for some prime ",r.jsx("em",{children:"p"}),". Consider ",r.jsx(o,{math:"a = 1 + n/p",inline:!0}),". Then ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0})," (since ",r.jsx(o,{math:"a \\equiv 1 \\pmod{p}",inline:!0}),"). We have:"]}),r.jsx(o,{math:"a^{n-1} = (1 + n/p)^{n-1}"}),r.jsxs("p",{className:"mt-2",children:["Expanding by binomial theorem and working mod ",r.jsx(o,{math:"p^2",inline:!0}),":"]}),r.jsx(o,{math:"a^{n-1} \\equiv 1 + (n-1) \\cdot \\frac{n}{p} \\pmod{p^2}"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"p^2 \\mid n",inline:!0}),", we have ",r.jsx(o,{math:"n/p \\equiv 0 \\pmod{p}",inline:!0}),", so ",r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{p^2}",inline:!0})," only if specific conditions hold. However, careful analysis shows this fails, contradicting ",r.jsx("em",{children:"n"})," being Carmichael. Thus ",r.jsx("em",{children:"n"})," is squarefree."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("em",{children:"Divisibility:"})," Let ",r.jsx(o,{math:"p \\mid n",inline:!0}),". Take ",r.jsx("em",{children:"g"})," a primitive root mod ",r.jsx("em",{children:"p"}),". By CRT, lift ",r.jsx("em",{children:"g"})," to some ",r.jsx(o,{math:"a",inline:!0})," with ",r.jsx(o,{math:"a \\equiv g \\pmod{p}",inline:!0})," and ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),". Since ",r.jsx("em",{children:"n"})," is Carmichael:"]}),r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{n} \\implies a^{n-1} \\equiv 1 \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx("em",{children:"g"})," has order ",r.jsx(o,{math:"p - 1",inline:!0})," mod ",r.jsx("em",{children:"p"}),", we need ",r.jsx(o,{math:"(p-1) \\mid (n-1)",inline:!0}),"."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"() Sufficiency:"})," Suppose ",r.jsx("em",{children:"n"})," is squarefree and ",r.jsx(o,{math:"(p-1) \\mid (n-1)",inline:!0})," for all ",r.jsx(o,{math:"p \\mid n",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Let ",r.jsx(o,{math:"\\gcd(a, n) = 1",inline:!0}),". For each prime ",r.jsx(o,{math:"p \\mid n",inline:!0}),":"]}),r.jsx(o,{math:"a^{p-1} \\equiv 1 \\pmod{p} \\quad \\text{(Fermat's Little Theorem)}"}),r.jsxs("p",{className:"mt-2",children:["Since ",r.jsx(o,{math:"(p-1) \\mid (n-1)",inline:!0}),":"]}),r.jsx(o,{math:"a^{n-1} = (a^{p-1})^{(n-1)/(p-1)} \\equiv 1 \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["This holds for all primes ",r.jsx(o,{math:"p \\mid n",inline:!0}),". Since ",r.jsx("em",{children:"n"})," is squarefree, by CRT:"]}),r.jsx(o,{math:"a^{n-1} \\equiv 1 \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:["Thus ",r.jsx("em",{children:"n"})," is a Carmichael number."]})]}),children:[r.jsx("em",{children:"n"})," is a Carmichael number if and only if ",r.jsx("em",{children:"n"})," is:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Squarefree (no repeated prime factors)"}),r.jsxs("li",{children:["For every prime ",r.jsx(o,{math:"p \\mid n",inline:!0}),": ",r.jsx(o,{math:"(p-1) \\mid (n-1)",inline:!0})]})]})]}),r.jsxs(Le,{title:"Carmichael Numbers",children:[r.jsx("p",{children:"The smallest Carmichael numbers are:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"561 = 3 \\times 11 \\times 17",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"1105 = 5 \\times 13 \\times 17",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"1729 = 7 \\times 13 \\times 19",inline:!0})," (Hardy-Ramanujan number)"]})]}),r.jsxs("p",{className:"mt-2",children:["Check 561: ",r.jsx(o,{math:"560 = 2^4 \\times 5 \\times 7",inline:!0})," is divisible by 2, 10, and 16."]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Fermat Test Limitation:"})," Carmichael numbers fool the Fermat test for all bases. There are infinitely many Carmichael numbers (proved in 1994), so we need stronger tests."]}),r.jsx("h3",{children:"Strong Pseudoprimes"}),r.jsxs(ge,{title:"Strong Pseudoprime",children:["Write ",r.jsx(o,{math:"n - 1 = 2^s \\cdot d",inline:!0})," with ",r.jsx("em",{children:"d"})," odd. A composite ",r.jsx("em",{children:"n"})," ","is a ",r.jsx("strong",{children:"strong pseudoprime"})," to base ",r.jsx("em",{children:"a"})," if either:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"a^d \\equiv 1 \\pmod{n}",inline:!0}),", OR"]}),r.jsxs("li",{children:[r.jsx(o,{math:"a^{2^r d} \\equiv -1 \\pmod{n}",inline:!0})," for some ",r.jsx(o,{math:"0 \\leq r < s",inline:!0})]})]})]}),r.jsxs(ke,{title:"Miller-Rabin Test",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove that at most ",r.jsx(o,{math:"n/4",inline:!0})," bases in ",r.jsx(o,{math:"\\{1, \\ldots, n-1\\}",inline:!0})," are strong liars (witnesses that ",r.jsx("em",{children:"n"})," passes the test)."]}),r.jsxs("p",{className:"mt-2",children:["Write ",r.jsx(o,{math:"n - 1 = 2^s d",inline:!0})," with ",r.jsx("em",{children:"d"})," odd. Define:"]}),r.jsx(o,{math:"S = \\{a \\in (\\mathbb{Z}/n\\mathbb{Z})^* : a \\text{ is a strong liar for } n\\}"}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Key insight:"})," If ",r.jsx("em",{children:"n"}),' is composite, there exists a "witness" structure we can exploit.']}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 1:"})," ",r.jsx("em",{children:"n"})," has a prime power factor ",r.jsx(o,{math:"p^e",inline:!0})," with ",r.jsx(o,{math:"e \\geq 2",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["Consider the map ",r.jsx(o,{math:"\\phi: S \\to (\\mathbb{Z}/p^e\\mathbb{Z})^*",inline:!0}),". The image is contained in a proper subgroup (elements whose ",r.jsx(o,{math:"(n-1)",inline:!0}),"-th power sequence exhibits the strong pseudoprime pattern mod ",r.jsx(o,{math:"p^e",inline:!0}),"). This subgroup has index at least 2, so ",r.jsx(o,{math:"|S| \\leq \\phi(n)/2 \\leq n/4",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx("strong",{children:"Case 2:"})," ",r.jsx(o,{math:"n = p_1 p_2 \\cdots p_k",inline:!0})," is squarefree with ",r.jsx(o,{math:"k \\geq 2",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["For each ",r.jsx(o,{math:"p_i",inline:!0}),", write ",r.jsx(o,{math:"p_i - 1 = 2^{s_i} d_i",inline:!0}),". By CRT:"]}),r.jsx(o,{math:"(\\mathbb{Z}/n\\mathbb{Z})^* \\cong \\prod_{i=1}^{k} (\\mathbb{Z}/p_i\\mathbb{Z})^*"}),r.jsxs("p",{className:"mt-2",children:["Let ",r.jsx(o,{math:"s_{\\min} = \\min_i s_i",inline:!0}),". A strong liar ",r.jsx("em",{children:"a"})," must satisfy: either ",r.jsx(o,{math:"a^d \\equiv 1 \\pmod{n}",inline:!0}),", or ",r.jsx(o,{math:"a^{2^r d} \\equiv -1 \\pmod{n}",inline:!0})," for some ",r.jsx(o,{math:"r < s",inline:!0}),"."]}),r.jsx("p",{className:"mt-2",children:"Define:"}),r.jsx(o,{math:"t = \\max\\{r : a^{2^r d} \\equiv -1 \\pmod{n} \\text{ for some strong liar } a\\}"}),r.jsxs("p",{className:"mt-2",children:["For the condition ",r.jsx(o,{math:"a^{2^t d} \\equiv -1 \\pmod{n}",inline:!0})," to hold, we need ",r.jsx(o,{math:"a^{2^t d} \\equiv -1 \\pmod{p_i}",inline:!0})," for all ",r.jsx("em",{children:"i"}),". This constrains ",r.jsx("em",{children:"a"})," mod each ",r.jsx(o,{math:"p_i",inline:!0})," to one of two cosets (corresponding to ",r.jsx(o,{math:"\\pm",inline:!0})," square roots of unity at appropriate level)."]}),r.jsxs("p",{className:"mt-2",children:["The set of strong liars lies in a subgroup of ",r.jsx(o,{math:"(\\mathbb{Z}/n\\mathbb{Z})^*",inline:!0})," of index at least 4 (one factor of 2 from each of at least two prime factors). Therefore:"]}),r.jsx(o,{math:"|S| \\leq \\frac{\\phi(n)}{4} < \\frac{n}{4}"}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Conclusion:"})," For composite ",r.jsx("em",{children:"n"}),", at most ",r.jsx(o,{math:"1/4",inline:!0})," of bases are strong liars. With ",r.jsx("em",{children:"k"})," independent random bases, the probability all are liars is at most ",r.jsx(o,{math:"(1/4)^k",inline:!0}),"."]})]}),children:["For composite ",r.jsx("em",{children:"n"}),", at most ",r.jsx(o,{math:"1/4",inline:!0})," of bases"," ",r.jsx(o,{math:"1 \\leq a \\leq n-1",inline:!0})," witness ",r.jsx("em",{children:"n"})," as a strong pseudoprime. Thus, ",r.jsx("em",{children:"k"})," iterations give error probability at most ",r.jsx(o,{math:"(1/4)^k",inline:!0}),"."]}),r.jsxs(Le,{title:"Miller-Rabin Test",children:[r.jsxs("p",{children:["Test ",r.jsx(o,{math:"n = 561",inline:!0})," with base ",r.jsx(o,{math:"a = 2",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:[r.jsx(o,{math:"560 = 2^4 \\times 35",inline:!0}),", so ",r.jsx(o,{math:"s = 4, d = 35",inline:!0})]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"2^{35} \\equiv 263 \\pmod{561}",inline:!0})," (not 1)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"263^2 \\equiv 166 \\pmod{561}",inline:!0})," (not -1)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"166^2 \\equiv 67 \\pmod{561}",inline:!0})," (not -1)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"67^2 \\equiv 1 \\pmod{561}",inline:!0})," (reached 1 without hitting -1)"]})]}),r.jsxs("p",{className:"mt-2",children:["Since we reached 1 without passing through -1, ",r.jsx("strong",{children:"561 is composite"}),"."]})]}),r.jsx("h3",{children:"Miller-Rabin Algorithm"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Miller-Rabin Primality Test"}),r.jsxs("div",{className:"font-mono text-sm text-dark-300",children:[r.jsx("p",{children:"Input: n > 2 odd, security parameter k"}),r.jsx("p",{children:'Output: "composite" or "probably prime"'}),r.jsx("p",{className:"mt-2",children:"1. Write n - 1 = 2^s  d with d odd"}),r.jsx("p",{children:"2. Repeat k times:"}),r.jsx("p",{className:"ml-4",children:"a. Choose random a in [2, n-2]"}),r.jsx("p",{className:"ml-4",children:"b. Compute x = a^d mod n"}),r.jsx("p",{className:"ml-4",children:"c. If x = 1 or x = n-1, continue"}),r.jsx("p",{className:"ml-4",children:"d. For r = 1 to s-1:"}),r.jsx("p",{className:"ml-8",children:"x = x mod n"}),r.jsx("p",{className:"ml-8",children:"If x = n-1, continue to next iteration"}),r.jsx("p",{className:"ml-4",children:'e. Return "composite"'}),r.jsx("p",{children:'3. Return "probably prime"'})]})]}),r.jsx("h3",{children:"Deterministic Tests"}),r.jsxs(ke,{title:"Deterministic Miller-Rabin",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The proof relies on bounds for the smallest quadratic non-residue and character sums under GRH."}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Key result (Miller, 1976):"})," If ",r.jsx("em",{children:"n"})," is an odd composite, then there exists a witness ",r.jsx("em",{children:"a"})," (base that detects ",r.jsx("em",{children:"n"})," as composite) with:"]}),r.jsx(o,{math:"a \\leq 2(\\log n)^2"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Sketch of proof:"})}),r.jsxs("p",{className:"mt-2",children:["Under GRH, for any non-principal Dirichlet character ",r.jsx(o,{math:"\\chi",inline:!0})," mod ",r.jsx("em",{children:"m"}),", the character sum satisfies:"]}),r.jsx(o,{math:"\\left| \\sum_{a \\leq x} \\chi(a) \\right| = O(\\sqrt{m} \\log m)"}),r.jsxs("p",{className:"mt-2",children:["For composite ",r.jsx("em",{children:"n"}),", the set of strong liars forms a proper subgroup ",r.jsx("em",{children:"S"})," of ",r.jsx(o,{math:"(\\mathbb{Z}/n\\mathbb{Z})^*",inline:!0}),". The indicator function for ",r.jsx("em",{children:"S"})," can be expressed using characters."]}),r.jsxs("p",{className:"mt-2",children:["The GRH bound on character sums implies that the density of strong liars among small integers cannot be too high. Specifically, if all integers up to ",r.jsx(o,{math:"2(\\log n)^2",inline:!0})," were strong liars, the character sum would be too large, contradicting GRH."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Consequence:"})," Testing bases ",r.jsx(o,{math:"2, 3, \\ldots, \\lfloor 2(\\log n)^2 \\rfloor",inline:!0})," is guaranteed (under GRH) to find a witness if ",r.jsx("em",{children:"n"})," is composite. If all tests pass, ",r.jsx("em",{children:"n"})," is provably prime."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Complexity:"})," There are ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})," bases to test, each requiring ",r.jsx(o,{math:"O((\\log n)^3)",inline:!0})," bit operations for modular exponentiation. Total: ",r.jsx(o,{math:"O((\\log n)^5)",inline:!0})," operations."]})]}),children:["Under the Generalized Riemann Hypothesis (GRH), testing bases"," ",r.jsx(o,{math:"a = 2, 3, \\ldots, 2(\\log n)^2",inline:!0})," suffices to determine primality."]}),r.jsxs(ke,{title:"Small n Deterministic Test",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"This result is established through exhaustive computational verification combined with theoretical analysis."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Method:"})}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["For each subset ",r.jsx(o,{math:"B \\subseteq \\{2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37\\}",inline:!0}),", compute the smallest strong pseudoprime to all bases in ",r.jsx("em",{children:"B"}),"."]}),r.jsx("li",{children:'The smallest such "super-pseudoprime" for the full set of 12 bases determines the validity range.'})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Key findings (Jaeschke, Pomerance, and others):"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["No composite ",r.jsx(o,{math:"n < 2,047",inline:!0})," is a strong pseudoprime to base 2."]}),r.jsxs("li",{children:["No composite ",r.jsx(o,{math:"n < 1,373,653",inline:!0})," is a strong pseudoprime to bases 2 and 3."]}),r.jsxs("li",{children:["Adding more bases extends the range: the smallest strong pseudoprime to bases ",r.jsx(o,{math:"\\{2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37\\}",inline:!0})," is:"]})]}),r.jsx(o,{math:"318,665,857,834,031,151,167,461"}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Extension:"})," With careful analysis, the bound can be pushed to:"]}),r.jsx(o,{math:"3,317,044,064,679,887,385,961,981"}),r.jsx("p",{className:"mt-3",children:"Below this bound, the 12 specified bases provide a deterministic primality test. This is verified by showing that any composite in the range must fail the strong pseudoprime test for at least one of these bases, which follows from the distribution of strong pseudoprimes and extensive computation."})]}),children:["For ",r.jsx(o,{math:"n < 3,317,044,064,679,887,385,961,981",inline:!0}),", testing bases 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, and 37 is sufficient."]}),r.jsx("h3",{children:"AKS Primality Test"}),r.jsxs(ke,{title:"AKS Test (2002)",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"The AKS algorithm generalizes Fermat's Little Theorem to polynomial rings. We outline the main ideas."}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Key identity:"})," For prime ",r.jsx("em",{children:"p"})," and ",r.jsx(o,{math:"\\gcd(a, p) = 1",inline:!0}),":"]}),r.jsx(o,{math:"(x + a)^p \\equiv x^p + a \\pmod{p}"}),r.jsxs("p",{className:"mt-2",children:["This follows from the binomial theorem: ",r.jsx(o,{math:"\\binom{p}{k} \\equiv 0 \\pmod{p}",inline:!0})," for ",r.jsx(o,{math:"0 < k < p",inline:!0}),"."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Polynomial version:"})," The identity suggests testing whether:"]}),r.jsx(o,{math:"(x + a)^n \\equiv x^n + a \\pmod{n}"}),r.jsxs("p",{className:"mt-2",children:["holds in ",r.jsx(o,{math:"\\mathbb{Z}_n[x]",inline:!0}),". However, this requires exponentially many coefficient comparisons."]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"AKS insight:"})," Work in ",r.jsx(o,{math:"\\mathbb{Z}_n[x]/(x^r - 1)",inline:!0})," for carefully chosen small ",r.jsx("em",{children:"r"}),". Test:"]}),r.jsx(o,{math:"(x + a)^n \\equiv x^n + a \\pmod{n, x^r - 1}"}),r.jsxs("p",{className:"mt-2",children:["for several values of ",r.jsx("em",{children:"a"}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Algorithm:"})}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["If ",r.jsx(o,{math:"n = m^b",inline:!0})," for integers ",r.jsx(o,{math:"m, b > 1",inline:!0}),", output COMPOSITE."]}),r.jsxs("li",{children:["Find smallest ",r.jsx("em",{children:"r"})," such that ",r.jsx(o,{math:"\\text{ord}_r(n) > (\\log n)^2",inline:!0}),"."]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"1 < \\gcd(a, n) < n",inline:!0})," for some ",r.jsx(o,{math:"a \\leq r",inline:!0}),", output COMPOSITE."]}),r.jsxs("li",{children:["If ",r.jsx(o,{math:"n \\leq r",inline:!0}),", output PRIME."]}),r.jsxs("li",{children:["For ",r.jsx(o,{math:"a = 1",inline:!0})," to ",r.jsx(o,{math:"\\lfloor \\sqrt{\\phi(r)} \\log n \\rfloor",inline:!0}),":"]})]}),r.jsxs("p",{className:"ml-4 mt-1",children:["If ",r.jsx(o,{math:"(x + a)^n \\not\\equiv x^n + a \\pmod{n, x^r - 1}",inline:!0}),", output COMPOSITE."]}),r.jsx("p",{className:"mt-1",children:"6. Output PRIME."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Correctness sketch:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["If ",r.jsx("em",{children:"n"})," is prime, all tests pass (generalized Fermat)."]}),r.jsxs("li",{children:["If ",r.jsx("em",{children:"n"})," is composite and passes all tests, group-theoretic arguments show ",r.jsx("em",{children:"n"})," must be a prime power (step 1 catches this)."]})]}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Complexity:"})," Finding ",r.jsx("em",{children:"r"})," requires ",r.jsx(o,{math:"O((\\log n)^5)",inline:!0})," arithmetic operations. The main loop runs ",r.jsx(o,{math:"O(\\sqrt{r} \\log n)",inline:!0})," times, each iteration doing polynomial exponentiation in ",r.jsx(o,{math:"O(r \\log n)",inline:!0})," operations mod ",r.jsx(o,{math:"(n, x^r - 1)",inline:!0}),". With ",r.jsx(o,{math:"r = O((\\log n)^5)",inline:!0}),", total complexity is ",r.jsx(o,{math:"\\tilde{O}((\\log n)^6)",inline:!0}),"."]})]}),children:["There exists a deterministic polynomial-time algorithm for primality testing. The AKS algorithm runs in ",r.jsx(o,{math:"\\tilde{O}((\\log n)^6)",inline:!0})," time."]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Practical Choice:"})," In practice, Miller-Rabin with 40-64 iterations is preferred over AKS due to better constants. The probability of error is negligible (",r.jsx(o,{math:"< 2^{-128}",inline:!0}),")."]}),r.jsx("h3",{children:"Comparison of Primality Tests"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Test"}),r.jsx("th",{className:"text-left py-2",children:"Type"}),r.jsx("th",{className:"text-left py-2",children:"Complexity"}),r.jsx("th",{className:"text-left py-2",children:"Error"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Trial Division"}),r.jsx("td",{className:"py-2",children:"Deterministic"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})}),r.jsx("td",{className:"py-2",children:"0"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Fermat"}),r.jsx("td",{className:"py-2",children:"Probabilistic"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(k \\log^3 n)",inline:!0})}),r.jsx("td",{className:"py-2",children:"Fails on Carmichaels"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Miller-Rabin"}),r.jsx("td",{className:"py-2",children:"Probabilistic"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(k \\log^3 n)",inline:!0})}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"< 4^{-k}",inline:!0})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"AKS"}),r.jsx("td",{className:"py-2",children:"Deterministic"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(\\log^6 n)",inline:!0})}),r.jsx("td",{className:"py-2",children:"0"})]})]})]})})]})}function VQ(){return r.jsxs(Jt,{sectionId:14,children:[r.jsx("h2",{children:"The Rho Method"}),r.jsx("p",{children:"Pollard's rho algorithm is an elegant factoring method that uses very little memory. It exploits the birthday paradox to find collisions in a pseudo-random sequence, revealing factors of the target number."}),r.jsx("h3",{children:"The Birthday Paradox"}),r.jsxs(ke,{title:"Birthday Paradox",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We compute the probability of ",r.jsx("em",{children:"no"})," collision among ",r.jsx("em",{children:"k"})," samples from a set of size ",r.jsx("em",{children:"n"}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Exact probability:"})}),r.jsxs("p",{className:"mt-2",children:["The probability that all ",r.jsx("em",{children:"k"})," samples are distinct is:"]}),r.jsx(o,{math:"P(\\text{no collision}) = \\frac{n}{n} \\cdot \\frac{n-1}{n} \\cdot \\frac{n-2}{n} \\cdots \\frac{n-k+1}{n} = \\prod_{i=0}^{k-1} \\left(1 - \\frac{i}{n}\\right)"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Approximation:"})}),r.jsxs("p",{className:"mt-2",children:["Using ",r.jsx(o,{math:"1 - x \\approx e^{-x}",inline:!0})," for small ",r.jsx("em",{children:"x"}),":"]}),r.jsx(o,{math:"P(\\text{no collision}) \\approx \\prod_{i=0}^{k-1} e^{-i/n} = e^{-\\sum_{i=0}^{k-1} i/n} = e^{-k(k-1)/(2n)}"}),r.jsxs("p",{className:"mt-2",children:["For large ",r.jsx("em",{children:"k"}),", this is approximately ",r.jsx(o,{math:"e^{-k^2/(2n)}",inline:!0}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"50% collision threshold:"})}),r.jsxs("p",{className:"mt-2",children:["We want ",r.jsx(o,{math:"P(\\text{collision}) = 1 - P(\\text{no collision}) = 0.5",inline:!0}),":"]}),r.jsx(o,{math:"e^{-k^2/(2n)} = 0.5"}),r.jsx(o,{math:"-\\frac{k^2}{2n} = \\ln(0.5) = -\\ln 2"}),r.jsx(o,{math:"k^2 = 2n \\ln 2"}),r.jsx(o,{math:"k = \\sqrt{2n \\ln 2} \\approx 1.177\\sqrt{n}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"General bound:"})}),r.jsxs("p",{className:"mt-2",children:["For any constant probability ",r.jsx("em",{children:"p"})," of collision:"]}),r.jsx(o,{math:"k = \\sqrt{2n \\ln\\frac{1}{1-p}} = O(\\sqrt{n})"}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Classic example:"})," With ",r.jsx(o,{math:"n = 365",inline:!0})," days, we need only ",r.jsx(o,{math:"k = 23",inline:!0})," people for 50% collision probability (",r.jsx(o,{math:"\\sqrt{2 \\cdot 365 \\cdot \\ln 2} \\approx 22.5",inline:!0}),")."]})]}),children:["In a group of ",r.jsx(o,{math:"\\sqrt{2n \\ln 2} \\approx 1.18\\sqrt{n}",inline:!0})," randomly chosen people from a population of ",r.jsx("em",{children:"n"}),", there is a 50% chance of a repeated birthday. More generally, after ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})," samples, we expect a collision."]}),r.jsxs("p",{children:["The rho method applies this principle: if we can detect a collision in a sequence modulo a factor ",r.jsx("em",{children:"p"})," of ",r.jsx("em",{children:"n"}),", we can likely find ",r.jsx("em",{children:"p"}),"."]}),r.jsx("h3",{children:"Pollard's Rho Algorithm"}),r.jsxs(ge,{title:"Pollard's Rho",children:["To factor ",r.jsx("em",{children:"n"}),":",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Choose a polynomial ",r.jsx(o,{math:"f(x) = x^2 + c \\bmod n",inline:!0})," (typically c = 1)"]}),r.jsxs("li",{children:["Start with ",r.jsx(o,{math:"x_0 = 2",inline:!0})," (or random)"]}),r.jsxs("li",{children:["Generate sequence: ",r.jsx(o,{math:"x_{i+1} = f(x_i)",inline:!0})]}),r.jsxs("li",{children:["After ",r.jsx(o,{math:"O(\\sqrt{p})",inline:!0})," steps for smallest factor ",r.jsx("em",{children:"p"}),", expect collision mod ",r.jsx("em",{children:"p"})]}),r.jsxs("li",{children:["Use ",r.jsx(o,{math:"d = \\gcd(x_i - x_j, n)",inline:!0})," to find factor"]})]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:'Why "Rho"?'})," The sequence ",r.jsx(o,{math:"x_0, x_1, x_2, \\ldots",inline:!0})," eventually enters a cycle (by pigeonhole principle), forming a shape like the Greek letter ."]}),r.jsx("h3",{children:"Floyd's Cycle Detection"}),r.jsx("p",{children:`Rather than storing all values to detect collisions (expensive in memory), we use Floyd's "tortoise and hare" algorithm:`}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Floyd's Algorithm"}),r.jsxs("div",{className:"font-mono text-sm text-dark-300",children:[r.jsx("p",{children:"x = y = 2 (starting value)"}),r.jsx("p",{children:"repeat:"}),r.jsx("p",{className:"ml-4",children:"x = f(x)          // tortoise: one step"}),r.jsx("p",{className:"ml-4",children:"y = f(f(y))       // hare: two steps"}),r.jsx("p",{className:"ml-4",children:"d = gcd(|x - y|, n)"}),r.jsx("p",{className:"ml-4",children:"if 1 < d < n: return d"}),r.jsx("p",{className:"ml-4",children:"if d = n: try different c"})]})]}),r.jsxs(Le,{title:"Pollard Rho Example",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 8051",inline:!0})," using ",r.jsx(o,{math:"f(x) = x^2 + 1",inline:!0})]}),r.jsxs("table",{className:"w-full mt-2 text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"py-1 text-left",children:"i"}),r.jsx("th",{className:"py-1 text-left",children:"x (tortoise)"}),r.jsx("th",{className:"py-1 text-left",children:"y (hare)"}),r.jsx("th",{className:"py-1 text-left",children:"|x - y|"}),r.jsx("th",{className:"py-1 text-left",children:"gcd"})]})}),r.jsxs("tbody",{className:"text-dark-300",children:[r.jsxs("tr",{children:[r.jsx("td",{children:"0"}),r.jsx("td",{children:"2"}),r.jsx("td",{children:"2"}),r.jsx("td",{children:"0"}),r.jsx("td",{children:"-"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"1"}),r.jsx("td",{children:"5"}),r.jsx("td",{children:"26"}),r.jsx("td",{children:"21"}),r.jsx("td",{children:"1"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"2"}),r.jsx("td",{children:"26"}),r.jsx("td",{children:"7474"}),r.jsx("td",{children:"7448"}),r.jsx("td",{children:"1"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"3"}),r.jsx("td",{children:"677"}),r.jsx("td",{children:"871"}),r.jsx("td",{children:"194"}),r.jsx("td",{children:"97"})]})]})]}),r.jsxs("p",{className:"mt-2",children:["Found factor: ",r.jsx(o,{math:"97",inline:!0}),". Check: ",r.jsx(o,{math:"8051 = 97 \\times 83",inline:!0})]})]}),r.jsx("h3",{children:"Complexity Analysis"}),r.jsxs(ke,{title:"Rho Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We analyze Pollard's rho using the birthday paradox framework."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Setup:"})}),r.jsxs("p",{className:"mt-2",children:["Let ",r.jsx(o,{math:"n = pq",inline:!0})," with ",r.jsx(o,{math:"p \\leq q",inline:!0}),". The iteration function ",r.jsx(o,{math:"f(x) = x^2 + c \\bmod n",inline:!0})," induces a function on ",r.jsx(o,{math:"\\mathbb{Z}/p\\mathbb{Z}",inline:!0}),":"]}),r.jsx(o,{math:"\\bar{f}(x \\bmod p) = f(x) \\bmod p"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Collision detection:"})}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"x_i \\equiv x_j \\pmod{p}",inline:!0})," but ",r.jsx(o,{math:"x_i \\not\\equiv x_j \\pmod{n}",inline:!0}),", then:"]}),r.jsx(o,{math:"p \\mid (x_i - x_j) \\text{ but } n \\nmid (x_i - x_j)"}),r.jsxs("p",{className:"mt-2",children:["Therefore ",r.jsx(o,{math:"\\gcd(x_i - x_j, n)",inline:!0})," equals ",r.jsx("em",{children:"p"})," (or a multiple, but not ",r.jsx("em",{children:"n"}),")."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Birthday analysis mod p:"})}),r.jsxs("p",{className:"mt-2",children:["The sequence ",r.jsx(o,{math:"x_0, x_1, x_2, \\ldots",inline:!0})," reduced mod ",r.jsx("em",{children:"p"})," behaves like random samples from ",r.jsx(o,{math:"\\mathbb{Z}/p\\mathbb{Z}",inline:!0}),". By the birthday paradox, we expect a collision mod ",r.jsx("em",{children:"p"})," after approximately:"]}),r.jsx(o,{math:"O(\\sqrt{p})"}),r.jsx("p",{className:"mt-2",children:"iterations."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Factor size bound:"})}),r.jsxs("p",{className:"mt-2",children:["The smallest factor satisfies ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0})," (otherwise ",r.jsx(o,{math:"p > \\sqrt{n}",inline:!0})," and ",r.jsx(o,{math:"q \\geq p",inline:!0})," implies ",r.jsx(o,{math:"n = pq > n",inline:!0}),", contradiction)."]}),r.jsx(o,{math:"\\sqrt{p} \\leq \\sqrt[4]{n} = n^{1/4}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Bit complexity:"})}),r.jsx("p",{className:"mt-2",children:"Each iteration requires:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["One squaring mod ",r.jsx("em",{children:"n"}),": ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})," bit operations"]}),r.jsxs("li",{children:["One addition mod ",r.jsx("em",{children:"n"}),": ",r.jsx(o,{math:"O(\\log n)",inline:!0})," bit operations"]}),r.jsxs("li",{children:["One GCD computation: ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})," bit operations (Euclidean algorithm)"]})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Total complexity:"})}),r.jsx(o,{math:"O(\\sqrt{p}) \\cdot O((\\log n)^2) = O(n^{1/4} (\\log n)^2)"}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Heuristic assumption:"})," This analysis assumes ",r.jsx(o,{math:"f(x) = x^2 + c",inline:!0})," behaves like a random function mod ",r.jsx("em",{children:"p"}),". While not provably random, extensive empirical evidence supports this behavior for most ",r.jsx("em",{children:"c"}),"."]})]}),children:["For ",r.jsx(o,{math:"n = pq",inline:!0})," with ",r.jsx(o,{math:"p \\leq q",inline:!0}),", Pollard's rho finds factor ",r.jsx("em",{children:"p"})," in expected time ",r.jsx(o,{math:"O(\\sqrt{p})",inline:!0})," iterations. Since ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0}),", this is ",r.jsx(o,{math:"O(n^{1/4})",inline:!0}),".",r.jsxs("p",{className:"mt-2",children:["Each iteration requires ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})," bit operations, so total: ",r.jsx(o,{math:"O(n^{1/4} (\\log n)^2)",inline:!0})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Memory Efficient:"})," Unlike baby-step giant-step which needs"," ",r.jsx(o,{math:"O(\\sqrt{p})",inline:!0})," storage, Pollard's rho uses only ",r.jsx(o,{math:"O(1)",inline:!0})," memory."]}),r.jsx("h3",{children:"Brent's Improvement"}),r.jsxs(ge,{title:"Brent's Optimization",children:["Instead of Floyd's cycle detection, Brent's method:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Keeps one pointer fixed while advancing the other"}),r.jsx("li",{children:'Doubles the interval at each "cycle"'}),r.jsx("li",{children:"Provides ~24% speedup in practice"})]})]}),r.jsx("h3",{children:"Batch GCD Computation"}),r.jsx("p",{children:"Computing many individual GCDs is expensive. We can batch them:"}),r.jsxs(ke,{title:"Batching Strategy",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We prove correctness and analyze the trade-offs of batch GCD computation."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Correctness:"})}),r.jsxs("p",{className:"mt-2",children:["Suppose ",r.jsx(o,{math:"x_i \\equiv y_i \\pmod{p}",inline:!0})," for some factor ",r.jsx("em",{children:"p"})," of ",r.jsx("em",{children:"n"})," and some index ",r.jsx("em",{children:"i"})," in the batch. Then ",r.jsx(o,{math:"p \\mid (x_i - y_i)",inline:!0}),", which implies:"]}),r.jsx(o,{math:"p \\mid \\prod_{j=1}^{m} (x_j - y_j) = Q"}),r.jsx("p",{className:"mt-2",children:"Therefore:"}),r.jsx(o,{math:"\\gcd(Q, n) \\geq p > 1"}),r.jsx("p",{className:"mt-2",children:"The batch GCD detects the factor if any individual GCD would have detected it."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Complexity improvement:"})}),r.jsxs("p",{className:"mt-2",children:["Without batching, after ",r.jsx("em",{children:"k"})," iterations we compute ",r.jsx("em",{children:"k"})," GCDs, each costing ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0}),". Total: ",r.jsx(o,{math:"O(k (\\log n)^2)",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["With batching (batch size ",r.jsx("em",{children:"m"}),"):"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Multiplications: ",r.jsx(o,{math:"k",inline:!0})," products mod ",r.jsx("em",{children:"n"}),", each ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})]}),r.jsxs("li",{children:["GCDs: ",r.jsx(o,{math:"k/m",inline:!0})," computations, each ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["GCD cost reduced by factor of ",r.jsx("em",{children:"m"}),": ",r.jsx(o,{math:"O((k/m)(\\log n)^2)",inline:!0})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Trade-off:"})}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"\\gcd(Q, n) = n",inline:!0}),", the batch is uninformative (all differences might share different factors summing to ",r.jsx("em",{children:"n"}),"). We must then:"]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Fall back to individual GCDs within the batch, OR"}),r.jsx("li",{children:"Binary search to find which sub-batch contains the collision"})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Optimal batch size:"})}),r.jsxs("p",{className:"mt-2",children:["Typical choice: ",r.jsx(o,{math:"m \\approx 100",inline:!0})," to ",r.jsx(o,{math:"m \\approx 1000",inline:!0}),". This balances:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Reducing GCD overhead (larger ",r.jsx("em",{children:"m"})," better)"]}),r.jsxs("li",{children:["Avoiding overshooting the collision (smaller ",r.jsx("em",{children:"m"})," better)"]}),r.jsxs("li",{children:["Managing the cost of fallback when ",r.jsx(o,{math:"\\gcd = n",inline:!0})]})]}),r.jsx("p",{className:"mt-3",children:"In practice, batching provides a significant constant-factor speedup without changing the asymptotic complexity."})]}),children:["Accumulate products: ",r.jsx(o,{math:"Q = \\prod_{i=1}^{m} (x_i - y_i) \\bmod n",inline:!0}),"then compute ",r.jsx(o,{math:"\\gcd(Q, n)",inline:!0})," once every ",r.jsx("em",{children:"m"})," iterations. This reduces the number of GCD computations by factor of ",r.jsx("em",{children:"m"}),"."]}),r.jsx("h3",{children:"Pollard's Rho for DLP"}),r.jsxs("p",{children:["The same idea works for discrete logarithms. Given ",r.jsx(o,{math:"h = g^x",inline:!0}),", find ",r.jsx("em",{children:"x"})," by detecting collisions in a sequence that depends on both ",r.jsx("em",{children:"g"})," and ",r.jsx("em",{children:"h"}),"."]}),r.jsxs(ge,{title:"Rho for DLP",children:["Define three sets partitioning the group, and iteration function:",r.jsx(o,{math:"(a_{i+1}, b_{i+1}, x_{i+1}) = \\begin{cases} (a_i, b_i+1, x_i \\cdot h) & x_i \\in S_1 \\\\ (2a_i, 2b_i, x_i^2) & x_i \\in S_2 \\\\ (a_i+1, b_i, x_i \\cdot g) & x_i \\in S_3 \\end{cases}"}),"Collision ",r.jsx(o,{math:"x_i = x_j",inline:!0})," gives ",r.jsx(o,{math:"g^{a_i} h^{b_i} = g^{a_j} h^{b_j}",inline:!0}),", yielding ",r.jsx(o,{math:"x = (a_i - a_j)(b_j - b_i)^{-1} \\bmod q",inline:!0}),"."]}),r.jsx("h3",{children:"Practical Performance"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Rho Method Performance"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Smallest Factor"}),r.jsx("th",{className:"text-left py-2",children:"Expected Iterations"}),r.jsx("th",{className:"text-left py-2",children:"Time (rough)"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"20 digits"}),r.jsx("td",{className:"py-2",children:"~10^10"}),r.jsx("td",{className:"py-2",children:"Seconds"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"30 digits"}),r.jsx("td",{className:"py-2",children:"~10^15"}),r.jsx("td",{className:"py-2",children:"Days"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"40 digits"}),r.jsx("td",{className:"py-2",children:"~10^20"}),r.jsx("td",{className:"py-2",children:"Years"})]})]})]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Best Use Case:"})," Pollard's rho is ideal for finding small factors quickly. For balanced semiprimes (RSA moduli where p  q), more sophisticated methods like the quadratic sieve are needed."]})]})}function GQ(){return r.jsxs(Jt,{sectionId:15,children:[r.jsx("h2",{children:"Fermat Factorization and Factor Bases"}),r.jsxs("p",{children:["Fermat's method expresses ",r.jsx("em",{children:"n"})," as a difference of squares. When combined with the concept of factor bases and smooth numbers, it leads to powerful factoring algorithms."]}),r.jsx("h3",{children:"Fermat's Method Revisited"}),r.jsxs(ke,{title:"Fermat's Identity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:r.jsx("strong",{children:"Algebraic identity:"})}),r.jsx("p",{className:"mt-2",children:"The factorization follows from the difference of squares identity:"}),r.jsx(o,{math:"x^2 - y^2 = (x - y)(x + y)"}),r.jsxs("p",{className:"mt-2",children:["This is verified by expansion: ",r.jsx(o,{math:"(x-y)(x+y) = x^2 + xy - xy - y^2 = x^2 - y^2",inline:!0}),"."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Nontriviality condition:"})}),r.jsxs("p",{className:"mt-2",children:["The factors ",r.jsx(o,{math:"(x - y)",inline:!0})," and ",r.jsx(o,{math:"(x + y)",inline:!0})," are nontrivial (neither equals 1 nor ",r.jsx("em",{children:"n"}),") when:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"x - y > 1",inline:!0})," (so ",r.jsx(o,{math:"x > y + 1",inline:!0}),")"]}),r.jsxs("li",{children:[r.jsx(o,{math:"x + y < n",inline:!0})," (automatically satisfied since ",r.jsx(o,{math:"(x+y)(x-y) = n",inline:!0})," and ",r.jsx(o,{math:"x - y > 1",inline:!0}),")"]})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Existence for odd composites:"})}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"n = ab",inline:!0})," with ",r.jsx(o,{math:"1 < a \\leq b < n",inline:!0}),", set:"]}),r.jsx(o,{math:"x = \\frac{a + b}{2}, \\quad y = \\frac{b - a}{2}"}),r.jsx("p",{className:"mt-2",children:"Then:"}),r.jsx(o,{math:"x^2 - y^2 = \\frac{(a+b)^2 - (b-a)^2}{4} = \\frac{4ab}{4} = ab = n"}),r.jsxs("p",{className:"mt-2",children:["For odd ",r.jsx("em",{children:"n"}),", both ",r.jsx("em",{children:"a"})," and ",r.jsx("em",{children:"b"})," are odd (since ",r.jsx(o,{math:"n = ab",inline:!0})," is odd), so ",r.jsx(o,{math:"a + b",inline:!0})," and ",r.jsx(o,{math:"b - a",inline:!0})," are even, making ",r.jsx("em",{children:"x"})," and ",r.jsx("em",{children:"y"})," integers."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Congruence version:"})}),r.jsxs("p",{className:"mt-2",children:["More generally, if ",r.jsx(o,{math:"x^2 \\equiv y^2 \\pmod{n}",inline:!0})," with ",r.jsx(o,{math:"x \\not\\equiv \\pm y \\pmod{n}",inline:!0}),", then:"]}),r.jsx(o,{math:"n \\mid (x^2 - y^2) = (x-y)(x+y)"}),r.jsxs("p",{className:"mt-2",children:["But ",r.jsx(o,{math:"n \\nmid (x - y)",inline:!0})," and ",r.jsx(o,{math:"n \\nmid (x + y)",inline:!0}),". Therefore ",r.jsx(o,{math:"\\gcd(x - y, n)",inline:!0})," is a proper divisor of ",r.jsx("em",{children:"n"})," (similarly for ",r.jsx(o,{math:"x + y",inline:!0}),")."]})]}),children:["If ",r.jsx(o,{math:"n = x^2 - y^2",inline:!0})," with ",r.jsx(o,{math:"x \\neq \\pm y",inline:!0}),", then:",r.jsx(o,{math:"n = (x - y)(x + y)"}),"gives a nontrivial factorization (unless one factor equals 1 or ",r.jsx("em",{children:"n"}),")."]}),r.jsxs("p",{children:["More powerfully: if we find ",r.jsx(o,{math:"x^2 \\equiv y^2 \\pmod{n}",inline:!0})," with"," ",r.jsx(o,{math:"x \\not\\equiv \\pm y \\pmod{n}",inline:!0}),", then ",r.jsx(o,{math:"\\gcd(x - y, n)",inline:!0})," ","is a nontrivial factor."]}),r.jsx("h3",{children:"Smooth Numbers"}),r.jsxs(ge,{title:"B-Smooth Number",children:["An integer is ",r.jsx("strong",{children:"B-smooth"})," if all its prime factors are at most ",r.jsx("em",{children:"B"}),".",r.jsxs("p",{className:"mt-2",children:["Example: ",r.jsx(o,{math:"60 = 2^2 \\cdot 3 \\cdot 5",inline:!0})," is 5-smooth."]})]}),r.jsxs(ge,{title:"Factor Base",children:["A ",r.jsx("strong",{children:"factor base"})," is a set of small primes"," ",r.jsx(o,{math:"\\mathcal{F} = \\{p_1, p_2, \\ldots, p_k\\}",inline:!0})," used to express smooth numbers. If ",r.jsx("em",{children:"m"})," is ",r.jsx("em",{children:"B"}),"-smooth, we can write:",r.jsx(o,{math:"m = \\prod_{i=1}^{k} p_i^{e_i}"}),"The exponent vector ",r.jsx(o,{math:"(e_1, e_2, \\ldots, e_k)",inline:!0})," represents ",r.jsx("em",{children:"m"}),"."]}),r.jsxs(Le,{title:"Factor Base Representation",children:[r.jsxs("p",{children:["Factor base: ",r.jsx(o,{math:"\\{2, 3, 5, 7\\}",inline:!0})]}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"60 = 2^2 \\cdot 3^1 \\cdot 5^1 \\cdot 7^0 \\to (2, 1, 1, 0)",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"84 = 2^2 \\cdot 3^1 \\cdot 5^0 \\cdot 7^1 \\to (2, 1, 0, 1)",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"35 = 2^0 \\cdot 3^0 \\cdot 5^1 \\cdot 7^1 \\to (0, 0, 1, 1)",inline:!0})})]})]}),r.jsx("h3",{children:"The Random Squares Method"}),r.jsxs(ke,{title:"Random Squares Approach",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We prove that this approach produces a factorization with high probability."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 1: Relation collection"})}),r.jsxs("p",{className:"mt-2",children:["For each smooth relation ",r.jsx(o,{math:"x_i^2 \\equiv \\prod_{j=1}^{k} p_j^{e_{ij}} \\pmod{n}",inline:!0}),", we obtain an exponent vector:"]}),r.jsx(o,{math:"\\mathbf{v}_i = (e_{i1}, e_{i2}, \\ldots, e_{ik}) \\in \\mathbb{Z}^k"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 2: Linear algebra over F_2"})}),r.jsx("p",{className:"mt-2",children:"We need all exponents to be even. Reduce mod 2:"}),r.jsx(o,{math:"\\mathbf{v}_i \\bmod 2 = (e_{i1} \\bmod 2, \\ldots, e_{ik} \\bmod 2) \\in \\mathbb{F}_2^k"}),r.jsxs("p",{className:"mt-2",children:["We seek a subset ",r.jsx("em",{children:"S"})," such that ",r.jsx(o,{math:"\\sum_{i \\in S} \\mathbf{v}_i \\equiv \\mathbf{0} \\pmod{2}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["With ",r.jsx(o,{math:"k + 1",inline:!0})," or more relations, the vectors span a space of dimension at most ",r.jsx("em",{children:"k"}),", so a nontrivial linear dependence exists (by pigeonhole/rank-nullity)."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 3: Constructing the square"})}),r.jsxs("p",{className:"mt-2",children:["Let ",r.jsx(o,{math:"S = \\{i_1, \\ldots, i_m\\}",inline:!0})," be the dependent subset. Define:"]}),r.jsx(o,{math:"X = \\prod_{i \\in S} x_i, \\quad Y = \\prod_{j=1}^{k} p_j^{f_j} \\text{ where } f_j = \\frac{1}{2}\\sum_{i \\in S} e_{ij}"}),r.jsx("p",{className:"mt-2",children:"Then:"}),r.jsx(o,{math:"X^2 = \\prod_{i \\in S} x_i^2 \\equiv \\prod_{i \\in S} \\prod_j p_j^{e_{ij}} = \\prod_j p_j^{\\sum_i e_{ij}} = \\prod_j p_j^{2f_j} = Y^2 \\pmod{n}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Step 4: Factorization probability"})}),r.jsxs("p",{className:"mt-2",children:["We have ",r.jsx(o,{math:"X^2 \\equiv Y^2 \\pmod{n}",inline:!0}),", so ",r.jsx(o,{math:"n \\mid (X - Y)(X + Y)",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"X \\not\\equiv \\pm Y \\pmod{n}",inline:!0}),", then ",r.jsx(o,{math:"\\gcd(X - Y, n)",inline:!0})," is a proper factor."]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Success probability:"})}),r.jsxs("p",{className:"mt-2",children:["For ",r.jsx(o,{math:"n = pq",inline:!0}),", by CRT there are 4 square roots of ",r.jsx(o,{math:"Y^2",inline:!0})," mod ",r.jsx("em",{children:"n"}),": ",r.jsx(o,{math:"\\pm Y, \\pm Y'",inline:!0})," where ",r.jsx(o,{math:"Y' \\equiv Y \\pmod{p}",inline:!0})," but ",r.jsx(o,{math:"Y' \\equiv -Y \\pmod{q}",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx("em",{children:"X"}),' is "random" among these, probability of ',r.jsx(o,{math:"X \\not\\equiv \\pm Y",inline:!0})," is ",r.jsx(o,{math:"1/2",inline:!0}),". With multiple independent dependencies, success probability approaches 1."]})]}),children:["To factor ",r.jsx("em",{children:"n"}),":",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Choose factor base ",r.jsx(o,{math:"\\mathcal{F} = \\{p_1, \\ldots, p_k\\}",inline:!0})]}),r.jsxs("li",{children:["Find many ",r.jsx("em",{children:"x"})," values where ",r.jsx(o,{math:"x^2 \\bmod n",inline:!0})," is ",r.jsx(o,{math:"\\mathcal{F}",inline:!0}),"-smooth"]}),r.jsxs("li",{children:["Express each: ",r.jsx(o,{math:"x_i^2 \\equiv \\prod p_j^{e_{ij}} \\pmod{n}",inline:!0})]}),r.jsx("li",{children:"Find subset where exponents sum to even (linear algebra mod 2)"}),r.jsxs("li",{children:["This gives ",r.jsx(o,{math:"(\\prod x_i)^2 \\equiv (\\prod p_j^{f_j})^2 \\pmod{n}",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"\\gcd",inline:!0})," to find factor"]})]})]}),r.jsxs(Le,{title:"Simple Factor Base Method",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 1829",inline:!0})," with ",r.jsx(o,{math:"\\mathcal{F} = \\{2, 3, 5, 7, 11, 13\\}",inline:!0})]}),r.jsx("p",{className:"mt-2",children:"Find smooth squares:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsx("li",{children:r.jsx(o,{math:"43^2 = 1849 \\equiv 20 = 2^2 \\cdot 5 \\pmod{1829}",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"44^2 = 1936 \\equiv 107",inline:!0})," (not smooth)"]}),r.jsx("li",{children:r.jsx(o,{math:"45^2 = 2025 \\equiv 196 = 2^2 \\cdot 7^2 \\pmod{1829}",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"47^2 = 2209 \\equiv 380 = 2^2 \\cdot 5 \\cdot 19",inline:!0})," (not smooth)"]}),r.jsx("li",{children:r.jsx(o,{math:"52^2 = 2704 \\equiv 875 = 5^3 \\cdot 7 \\pmod{1829}",inline:!0})})]}),r.jsxs("p",{className:"mt-2",children:["Combine: ",r.jsx(o,{math:"(43 \\cdot 45 \\cdot 52)^2 \\equiv (2^2 \\cdot 5)(2^2 \\cdot 7^2)(5^3 \\cdot 7) = 2^4 \\cdot 5^4 \\cdot 7^3",inline:!0})]}),r.jsx("p",{children:"Need one more relation to make all exponents even..."})]}),r.jsx("h3",{children:"Probability of Smoothness"}),r.jsxs(ke,{title:"Smoothness Probability",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We derive the smoothness probability using the Dickman-de Bruijn function."}),r.jsxs("p",{className:"mt-3",children:[r.jsx("strong",{children:"Definition:"})," The Dickman function ",r.jsx(o,{math:"\\rho(u)",inline:!0})," satisfies:"]}),r.jsx(o,{math:"\\rho(u) = \\begin{cases} 1 & 0 \\leq u \\leq 1 \\\\ \\rho(u-1) - \\int_{u-1}^{u} \\frac{\\rho(t)}{t} dt & u > 1 \\end{cases}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Main theorem (de Bruijn):"})}),r.jsx(o,{math:"\\psi(x, B) = x \\cdot \\rho(u) \\cdot (1 + o(1)) \\quad \\text{where } u = \\frac{\\log x}{\\log B}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Asymptotic behavior:"})}),r.jsxs("p",{className:"mt-2",children:["For large ",r.jsx("em",{children:"u"}),", the Dickman function satisfies:"]}),r.jsx(o,{math:"\\rho(u) = u^{-u(1 + o(1))} = e^{-u \\ln u (1 + o(1))}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Heuristic derivation:"})}),r.jsxs("p",{className:"mt-2",children:["Consider the largest prime factor ",r.jsx("em",{children:"P"})," of a random integer ",r.jsx(o,{math:"m \\leq x",inline:!0}),". For ",r.jsx("em",{children:"m"})," to be ",r.jsx("em",{children:"B"}),"-smooth, we need ",r.jsx(o,{math:"P \\leq B",inline:!0}),"."]}),r.jsxs("p",{className:"mt-2",children:["If ",r.jsx(o,{math:"P = p",inline:!0})," for some prime ",r.jsx(o,{math:"p \\leq B",inline:!0}),", then ",r.jsx(o,{math:"m = p \\cdot m'",inline:!0})," where ",r.jsx(o,{math:"m' \\leq x/p",inline:!0})," is also ",r.jsx("em",{children:"B"}),"-smooth (and has largest prime factor ",r.jsx(o,{math:"\\leq p",inline:!0}),")."]}),r.jsx("p",{className:"mt-2",children:"This leads to the differential equation:"}),r.jsx(o,{math:"u \\cdot \\rho'(u) = -\\rho(u-1)"}),r.jsx("p",{className:"mt-2",children:"whose solution gives the Dickman function."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Numerical examples:"})}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"\\rho(2) \\approx 0.31",inline:!0})," (31% of numbers up to ",r.jsx(o,{math:"B^2",inline:!0})," are ",r.jsx("em",{children:"B"}),"-smooth)"]}),r.jsx("li",{children:r.jsx(o,{math:"\\rho(3) \\approx 0.049",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\rho(5) \\approx 0.0035",inline:!0})}),r.jsx("li",{children:r.jsx(o,{math:"\\rho(10) \\approx 2.8 \\times 10^{-11}",inline:!0})})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Consequence for factoring:"})}),r.jsxs("p",{className:"mt-2",children:["To factor ",r.jsx("em",{children:"n"}),", we test random ",r.jsx(o,{math:"x^2 \\bmod n \\approx n",inline:!0}),". With ",r.jsx(o,{math:"B = n^{1/u}",inline:!0}),":"]}),r.jsx(o,{math:"P(\\text{smooth}) \\approx u^{-u}"}),r.jsxs("p",{className:"mt-2",children:["Expected trials to find one smooth: ",r.jsx(o,{math:"u^u",inline:!0}),". Optimal ",r.jsx("em",{children:"u"})," balances this against factor base size ",r.jsx(o,{math:"\\pi(B)",inline:!0}),"."]})]}),children:["Let ",r.jsx(o,{math:"\\psi(x, B)",inline:!0})," denote the number of ",r.jsx("em",{children:"B"}),"-smooth integers up to ",r.jsx("em",{children:"x"}),". For ",r.jsx(o,{math:"u = \\frac{\\log x}{\\log B}",inline:!0}),":",r.jsx(o,{math:"\\psi(x, B) \\approx x \\cdot u^{-u}"}),"As ",r.jsx("em",{children:"u"})," increases, smooth numbers become exponentially rare."]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Trade-off:"})," Larger factor base  more numbers are smooth (easier to find) but more relations needed (harder linear algebra). Optimal ",r.jsx("em",{children:"B"})," balances these."]}),r.jsx("h3",{children:"Dixon's Algorithm"}),r.jsx(ge,{title:"Dixon's Random Squares",children:r.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[r.jsxs("li",{children:["Choose ",r.jsx(o,{math:"B = L(n)^{1/\\sqrt{2}}",inline:!0})," where ",r.jsx(o,{math:"L(n) = e^{\\sqrt{\\ln n \\ln \\ln n}}",inline:!0})]}),r.jsxs("li",{children:["Factor base: all primes  ",r.jsx("em",{children:"B"})]}),r.jsxs("li",{children:["Randomly sample ",r.jsx(o,{math:"x \\in [1, n]",inline:!0}),", check if ",r.jsx(o,{math:"x^2 \\bmod n",inline:!0})," is smooth"]}),r.jsxs("li",{children:["Collect ",r.jsx(o,{math:"\\pi(B) + 1",inline:!0})," relations"]}),r.jsx("li",{children:"Solve linear system mod 2 to find dependency"})]})}),r.jsxs(ke,{title:"Dixon's Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We analyze Dixon's algorithm by optimizing the factor base size."}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"L-notation:"})}),r.jsx("p",{className:"mt-2",children:"Define the subexponential function:"}),r.jsx(o,{math:"L(n) = L_n[1/2, 1] = e^{\\sqrt{\\ln n \\cdot \\ln \\ln n}}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Two costs to balance:"})}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Relation collection:"})," Expected trials to find one smooth relation"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Linear algebra:"})," Cost to solve the system over ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0})]})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Relation cost:"})}),r.jsxs("p",{className:"mt-2",children:["With factor base bound ",r.jsx(o,{math:"B = L(n)^\\alpha",inline:!0})," for parameter ",r.jsx(o,{math:"\\alpha",inline:!0})," to be determined:"]}),r.jsx(o,{math:"u = \\frac{\\ln n}{\\ln B} = \\frac{\\ln n}{\\alpha \\sqrt{\\ln n \\ln \\ln n}} = \\frac{\\sqrt{\\ln n}}{\\alpha \\sqrt{\\ln \\ln n}}"}),r.jsxs("p",{className:"mt-2",children:["Probability of smoothness: ",r.jsx(o,{math:"\\rho(u) \\approx u^{-u}",inline:!0})]}),r.jsx(o,{math:"\\ln(1/\\rho(u)) \\approx u \\ln u = \\frac{\\sqrt{\\ln n}}{\\alpha \\sqrt{\\ln \\ln n}} \\cdot \\frac{1}{2}\\ln\\left(\\frac{\\ln n}{\\ln \\ln n}\\right) \\approx \\frac{1}{2\\alpha}\\sqrt{\\ln n \\ln \\ln n}"}),r.jsxs("p",{className:"mt-2",children:["Expected trials: ",r.jsx(o,{math:"1/\\rho(u) = L(n)^{1/(2\\alpha)}",inline:!0})]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Linear algebra cost:"})}),r.jsxs("p",{className:"mt-2",children:["Factor base size: ",r.jsx(o,{math:"|\\mathcal{F}| = \\pi(B) \\approx B/\\ln B \\approx L(n)^\\alpha",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["Need ",r.jsx(o,{math:"|\\mathcal{F}| + 1",inline:!0})," relations, matrix is ",r.jsx(o,{math:"|\\mathcal{F}| \\times |\\mathcal{F}|",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["Gaussian elimination: ",r.jsx(o,{math:"O(|\\mathcal{F}|^3) = L(n)^{3\\alpha}",inline:!0})," (can be improved with sparse methods)"]}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Total cost:"})}),r.jsx(o,{math:"T(n) = L(n)^{1/(2\\alpha)} \\cdot L(n)^\\alpha + L(n)^{3\\alpha} \\approx L(n)^{\\max(1/(2\\alpha) + \\alpha, 3\\alpha)}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Optimization:"})}),r.jsxs("p",{className:"mt-2",children:["For basic Gaussian elimination, set ",r.jsx(o,{math:"3\\alpha = 1/(2\\alpha) + \\alpha",inline:!0}),":"]}),r.jsx(o,{math:"2\\alpha = \\frac{1}{2\\alpha} \\implies \\alpha^2 = \\frac{1}{4} \\implies \\alpha = \\frac{1}{2}"}),r.jsxs("p",{className:"mt-2",children:["This gives exponent ",r.jsx(o,{math:"3 \\cdot (1/2) = 3/2",inline:!0}),"... but with sparse matrix methods achieving ",r.jsx(o,{math:"O(|\\mathcal{F}|^2)",inline:!0}),":"]}),r.jsx(o,{math:"2\\alpha = \\frac{1}{2\\alpha} + \\alpha \\implies \\alpha = \\frac{1}{2\\alpha} \\implies \\alpha = \\frac{1}{\\sqrt{2}}"}),r.jsx("p",{className:"mt-3",children:r.jsx("strong",{children:"Final complexity:"})}),r.jsx(o,{math:"T(n) = L(n)^{\\sqrt{2} + o(1)} = e^{(\\sqrt{2} + o(1))\\sqrt{\\ln n \\ln \\ln n}}"}),r.jsxs("p",{className:"mt-2",children:["This is ",r.jsx("em",{children:"subexponential"}),": faster than any polynomial in ",r.jsx(o,{math:"\\ln n",inline:!0}),", but slower than any fixed polynomial in ",r.jsx("em",{children:"n"}),"."]})]}),children:["Dixon's algorithm factors ",r.jsx("em",{children:"n"})," in expected time:",r.jsx(o,{math:"L(n)^{\\sqrt{2} + o(1)} = e^{(1 + o(1))\\sqrt{2 \\ln n \\ln \\ln n}}"}),"This is subexponential - better than ",r.jsx(o,{math:"n^{1/4}",inline:!0})," but worse than polynomial."]}),r.jsx("h3",{children:"Linear Algebra over F"}),r.jsxs("p",{children:["Finding exponent dependencies requires solving sparse linear systems over ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0}),". Gaussian elimination works but structured methods (block Lanczos, block Wiedemann) are faster for large sparse systems."]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Key Components"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Step"}),r.jsx("th",{className:"text-left py-2",children:"Operation"}),r.jsx("th",{className:"text-left py-2",children:"Complexity Driver"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Relation Collection"}),r.jsx("td",{className:"py-2",children:"Find smooth squares"}),r.jsx("td",{className:"py-2",children:"Smoothness probability"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Smoothness Test"}),r.jsx("td",{className:"py-2",children:"Trial division"}),r.jsx("td",{className:"py-2",children:"Factor base size"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"Linear Algebra"}),r.jsx("td",{className:"py-2",children:"Null space mod 2"}),r.jsx("td",{className:"py-2",children:"Matrix dimensions"})]})]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Foundation for Modern Methods:"})," The factor base approach underlies both the Quadratic Sieve and Number Field Sieve. Understanding smooth numbers and linear algebra over ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0})," is essential for these advanced algorithms."]})]})}function ZQ(){return r.jsxs(Jt,{sectionId:16,children:[r.jsx("h2",{children:"The Continued Fraction Method"}),r.jsx("p",{children:"The continued fraction method (CFRAC) exploits the relationship between continued fractions and quadratic forms to find smooth values efficiently. It was the first subexponential factoring algorithm to be implemented successfully."}),r.jsx("h3",{children:"Continued Fractions"}),r.jsxs(ge,{title:"Continued Fraction",children:["A ",r.jsx("strong",{children:"continued fraction"})," is an expression of the form:",r.jsx(o,{math:"a_0 + \\cfrac{1}{a_1 + \\cfrac{1}{a_2 + \\cfrac{1}{a_3 + \\cdots}}}"}),"Written compactly as ",r.jsx(o,{math:"[a_0; a_1, a_2, a_3, \\ldots]",inline:!0}),"."]}),r.jsxs(ke,{title:"CF of n",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove that the continued fraction expansion of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0})," for non-square ",r.jsx("em",{children:"n"})," is purely periodic after the initial term."]}),r.jsxs("p",{children:["Define the sequence of complete quotients ",r.jsx(o,{math:"\\alpha_k",inline:!0})," by ",r.jsx(o,{math:"\\alpha_0 = \\sqrt{n}",inline:!0})," and:"]}),r.jsx(o,{math:"\\alpha_k = a_k + \\frac{1}{\\alpha_{k+1}}, \\quad a_k = \\lfloor \\alpha_k \\rfloor"}),r.jsxs("p",{children:["One can show that each ",r.jsx(o,{math:"\\alpha_k",inline:!0})," for ",r.jsx(o,{math:"k \\geq 1",inline:!0})," has the form:"]}),r.jsx(o,{math:"\\alpha_k = \\frac{\\sqrt{n} + P_k}{Q_k}"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"P_k, Q_k",inline:!0})," are integers satisfying the recurrences:"]}),r.jsx(o,{math:"P_{k+1} = a_k Q_k - P_k, \\quad Q_{k+1} = \\frac{n - P_{k+1}^2}{Q_k}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"0 < P_k < \\sqrt{n}",inline:!0})," and ",r.jsx(o,{math:"0 < Q_k < 2\\sqrt{n}",inline:!0}),", there are only finitely many pairs ",r.jsx(o,{math:"(P_k, Q_k)",inline:!0}),". By the pigeonhole principle, the sequence must eventually repeat, establishing periodicity."]}),r.jsxs("p",{children:["The period ends with ",r.jsx(o,{math:"2a_0",inline:!0})," because at the end of each period, we have ",r.jsx(o,{math:"\\alpha_k = \\sqrt{n} + a_0",inline:!0}),", giving ",r.jsx(o,{math:"a_k = \\lfloor \\sqrt{n} + a_0 \\rfloor = 2a_0",inline:!0})," (since ",r.jsx(o,{math:"a_0 = \\lfloor \\sqrt{n} \\rfloor",inline:!0}),")."]})]}),children:["For non-square ",r.jsx("em",{children:"n"}),", the continued fraction of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0})," is eventually periodic:",r.jsx(o,{math:"\\sqrt{n} = [a_0; \\overline{a_1, a_2, \\ldots, a_{r-1}, 2a_0}]"}),"The period ends with ",r.jsx(o,{math:"2a_0",inline:!0}),"."]}),r.jsxs(Le,{title:"Continued Fraction of 7",children:[r.jsx(o,{math:"\\sqrt{7} = [2; \\overline{1, 1, 1, 4}]"}),r.jsx("p",{className:"mt-2",children:"The convergents are: 2, 3, 5/2, 8/3, 37/14, ..."})]}),r.jsx("h3",{children:"Convergents and Quadratic Forms"}),r.jsxs(ge,{title:"Convergent",children:["The ",r.jsx("em",{children:"k"}),"-th ",r.jsx("strong",{children:"convergent"})," ",r.jsx(o,{math:"p_k/q_k",inline:!0})," of"," ",r.jsx(o,{math:"[a_0; a_1, \\ldots]",inline:!0})," is obtained by truncating after ",r.jsx("em",{children:"k"})," terms. They satisfy:",r.jsx(o,{math:"p_k = a_k p_{k-1} + p_{k-2}, \\quad q_k = a_k q_{k-1} + q_{k-2}"})]}),r.jsxs(ke,{title:"Key Property",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove this by induction using the recurrence relations for convergents and the structure of the continued fraction expansion of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),"."]}),r.jsxs("p",{children:["The complete quotients satisfy ",r.jsx(o,{math:"\\alpha_k = (\\sqrt{n} + P_k)/Q_k",inline:!0}),", and there is a fundamental identity:"]}),r.jsx(o,{math:"p_k \\alpha_{k+1} - q_k = (-1)^k / (q_k \\alpha_{k+1} + q_{k-1})"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"\\alpha_0 = \\sqrt{n}",inline:!0}),", we have for the convergents ",r.jsx(o,{math:"p_k/q_k",inline:!0})," of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),":"]}),r.jsx(o,{math:"p_k - q_k \\sqrt{n} = \\frac{(-1)^k}{q_k + q_{k-1}/\\sqrt{n}} \\cdot \\frac{1}{\\alpha_{k+1}/\\sqrt{n}}"}),r.jsxs("p",{children:["Using the relation ",r.jsx(o,{math:"(p_k - q_k\\sqrt{n})(p_k + q_k\\sqrt{n}) = p_k^2 - n q_k^2",inline:!0})," and the continued fraction structure, one derives:"]}),r.jsx(o,{math:"p_k^2 - n q_k^2 = (-1)^{k+1} Q_{k+1}"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"Q_{k+1}",inline:!0})," is the denominator appearing in ",r.jsx(o,{math:"\\alpha_{k+1} = (\\sqrt{n} + P_{k+1})/Q_{k+1}",inline:!0}),"."]}),r.jsxs("p",{children:["The bound ",r.jsx(o,{math:"|Q_k| < 2\\sqrt{n}",inline:!0})," follows from the theory of reduced quadratic irrationals: for ",r.jsx(o,{math:"k \\geq 1",inline:!0}),", the complete quotient ",r.jsx(o,{math:"\\alpha_k > 1",inline:!0})," and its conjugate ",r.jsx(o,{math:"\\bar{\\alpha}_k = (P_k - \\sqrt{n})/Q_k",inline:!0})," satisfies ",r.jsx(o,{math:"-1 < \\bar{\\alpha}_k < 0",inline:!0}),", which implies ",r.jsx(o,{math:"0 < Q_k < 2\\sqrt{n}",inline:!0}),"."]})]}),children:["For the continued fraction of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),", the convergents satisfy:",r.jsx(o,{math:"p_k^2 - n q_k^2 = (-1)^{k+1} Q_{k+1}"}),"where ",r.jsx(o,{math:"Q_k",inline:!0})," are small integers related to the CF expansion. Crucially, ",r.jsx(o,{math:"|Q_k| < 2\\sqrt{n}",inline:!0}),"."]}),r.jsxs("p",{children:["This gives us: ",r.jsx(o,{math:"p_k^2 \\equiv (-1)^{k+1} Q_{k+1} \\pmod{n}",inline:!0}),", producing small residues automatically!"]}),r.jsx("h3",{children:"The CFRAC Algorithm"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Continued Fraction Factoring"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:["Compute CF expansion of ",r.jsx(o,{math:"\\sqrt{n}",inline:!0})]}),r.jsxs("li",{children:["For each convergent ",r.jsx(o,{math:"p_k/q_k",inline:!0}),", compute ",r.jsx(o,{math:"Q_{k+1}",inline:!0})]}),r.jsxs("li",{children:["Check if ",r.jsx(o,{math:"|Q_{k+1}|",inline:!0})," is smooth over factor base"]}),r.jsx("li",{children:"Collect enough smooth relations"}),r.jsx("li",{children:"Use linear algebra to find square product"}),r.jsx("li",{children:"Compute GCD to extract factor"})]})]}),r.jsxs(Le,{title:"CFRAC Example",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 9509",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:[r.jsx(o,{math:"\\sqrt{9509} \\approx 97.5",inline:!0}),", so ",r.jsx(o,{math:"a_0 = 97",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["CF expansion: ",r.jsx(o,{math:"[97; 2, 6, 1, \\ldots]",inline:!0})]}),r.jsxs("table",{className:"w-full mt-2 text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"py-1 text-left",children:"k"}),r.jsx("th",{className:"py-1 text-left",children:"p_k"}),r.jsxs("th",{className:"py-1 text-left",children:["Q_",k+1]}),r.jsx("th",{className:"py-1 text-left",children:"Factorization"})]})}),r.jsxs("tbody",{className:"text-dark-300",children:[r.jsxs("tr",{children:[r.jsx("td",{children:"0"}),r.jsx("td",{children:"97"}),r.jsx("td",{children:"-100"}),r.jsx("td",{children:"-2  5"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"1"}),r.jsx("td",{children:"195"}),r.jsx("td",{children:"109"}),r.jsx("td",{children:"prime"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"2"}),r.jsx("td",{children:"1267"}),r.jsx("td",{children:"-75"}),r.jsx("td",{children:"-3  5"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"..."}),r.jsx("td",{children:"..."}),r.jsx("td",{children:"..."}),r.jsx("td",{children:"..."})]})]})]})]}),r.jsx("h3",{children:"Why CFRAC is Efficient"}),r.jsxs(ke,{title:"CFRAC Advantage",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We establish the smoothness probability advantage of CFRAC."}),r.jsxs("p",{children:["The bound ",r.jsx(o,{math:"|Q_k| < 2\\sqrt{n}",inline:!0})," was established in the Key Property theorem. For random ",r.jsx(o,{math:"x",inline:!0}),", the value ",r.jsx(o,{math:"x^2 \\bmod n",inline:!0})," is uniformly distributed in ",r.jsx(o,{math:"[0, n-1]",inline:!0}),", so residues can be as large as ",r.jsx(o,{math:"n",inline:!0}),"."]}),r.jsxs("p",{children:["By the Canfield-Erdos-Pomerance theorem, the probability that an integer ",r.jsx(o,{math:"x",inline:!0})," is ",r.jsx("em",{children:"B"}),"-smooth is approximately:"]}),r.jsx(o,{math:"\\Psi(x, B) / x \\approx u^{-u} \\quad \\text{where } u = \\frac{\\log x}{\\log B}"}),r.jsxs("p",{children:["For CFRAC, we have ",r.jsx(o,{math:"x \\approx 2\\sqrt{n}",inline:!0}),", so:"]}),r.jsx(o,{math:"u_{\\text{CFRAC}} = \\frac{\\log(2\\sqrt{n})}{\\log B} \\approx \\frac{\\log n}{2\\log B}"}),r.jsxs("p",{children:["For random squaring, ",r.jsx(o,{math:"x \\approx n",inline:!0}),", giving:"]}),r.jsx(o,{math:"u_{\\text{random}} = \\frac{\\log n}{\\log B}"}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"u_{\\text{CFRAC}} \\approx u_{\\text{random}}/2",inline:!0}),", and smoothness probability decays like ",r.jsx(o,{math:"u^{-u}",inline:!0}),", the halved exponent in CFRAC yields dramatically higher smoothness probability."]})]}),children:["The values ",r.jsx(o,{math:"Q_k",inline:!0})," are bounded by ",r.jsx(o,{math:"2\\sqrt{n}",inline:!0}),", much smaller than random ",r.jsx(o,{math:"x^2 \\bmod n",inline:!0})," (which can be up to ",r.jsx("em",{children:"n"}),"). Smaller values are more likely to be smooth:",r.jsx(o,{math:"P(\\text{smooth}) \\propto (\\log n)^{-u} \\text{ where } u = \\frac{\\log x}{\\log B}"})]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"Q_k \\approx \\sqrt{n}",inline:!0})," instead of ",r.jsx("em",{children:"n"}),", we have"," ",r.jsx(o,{math:"u \\approx \\frac{\\log \\sqrt{n}}{\\log B}",inline:!0}),", halving the exponent and dramatically increasing smoothness probability."]}),r.jsx("h3",{children:"Complexity"}),r.jsxs(ke,{title:"CFRAC Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We sketch the complexity analysis following the standard approach for subexponential factoring algorithms."}),r.jsxs("p",{children:["Define ",r.jsx(o,{math:"L(n) = e^{\\sqrt{\\ln n \\ln \\ln n}}",inline:!0}),". The algorithm has two main costs:"]}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Relation collection:"})," We need ",r.jsx(o,{math:"\\pi(B) + 1 \\approx B/\\ln B",inline:!0})," smooth values, where ",r.jsx("em",{children:"B"})," is the smoothness bound."]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Smoothness probability:"})," Values ",r.jsx(o,{math:"Q_k \\approx \\sqrt{n}",inline:!0})," are ",r.jsx("em",{children:"B"}),"-smooth with probability approximately ",r.jsx(o,{math:"u^{-u}",inline:!0})," where ",r.jsx(o,{math:"u = \\ln\\sqrt{n}/\\ln B",inline:!0}),"."]})]}),r.jsxs("p",{className:"mt-2",children:["The expected number of convergents needed is ",r.jsx(o,{math:"B/\\ln B \\cdot u^u",inline:!0}),". Each convergent requires ",r.jsx(o,{math:"O(\\log n)",inline:!0})," operations."]}),r.jsxs("p",{children:["Optimizing over ",r.jsx("em",{children:"B"}),": set ",r.jsx(o,{math:"B = L(n)^{1/2+o(1)}",inline:!0}),". Then ",r.jsx(o,{math:"u = \\sqrt{\\ln n / \\ln \\ln n} / (1/2) = \\sqrt{\\ln n \\ln \\ln n}",inline:!0}),", giving:"]}),r.jsx(o,{math:"u^u = e^{u \\ln u} = e^{\\sqrt{\\ln n \\ln \\ln n} \\cdot (1/2)\\ln(\\ln n / \\ln \\ln n)} = L(n)^{1/2+o(1)}"}),r.jsxs("p",{children:["Total cost: ",r.jsx(o,{math:"B \\cdot u^u = L(n)^{1/2} \\cdot L(n)^{1/2} = L(n)^{1+o(1)}",inline:!0}),"."]}),r.jsxs("p",{children:["The linear algebra phase (Gaussian elimination mod 2) costs ",r.jsx(o,{math:"O(B^3)",inline:!0})," naively, but sparse methods reduce this to ",r.jsx(o,{math:"O(B^2)",inline:!0}),", which is ",r.jsx(o,{math:"L(n)^{1+o(1)}",inline:!0}),"."]})]}),children:["The continued fraction method factors ",r.jsx("em",{children:"n"})," in time:",r.jsx(o,{math:"L(n)^{1 + o(1)} = e^{(1 + o(1))\\sqrt{\\ln n \\ln \\ln n}}"}),"This is the same as Dixon's method but with better constants in practice due to smaller residues."]}),r.jsx("h3",{children:"Multiple Polynomials"}),r.jsx("p",{children:"A key improvement (leading to MPQS) uses multiple quadratic polynomials:"}),r.jsxs(ge,{title:"Quadratic Polynomial",children:["For chosen ",r.jsx("em",{children:"A, B"})," with ",r.jsx(o,{math:"B^2 \\equiv n \\pmod{A}",inline:!0}),", the polynomial:",r.jsx(o,{math:"Q(x) = (Ax + B)^2 - n"}),"satisfies ",r.jsx(o,{math:"Q(x) \\equiv (Ax + B)^2 \\pmod{n}",inline:!0})," with values around ",r.jsx(o,{math:"\\sqrt{n}/A",inline:!0})," near ",r.jsx(o,{math:"x = 0",inline:!0}),"."]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Historical Note:"})," CFRAC was implemented by Morrison and Brillhart in 1975 to factor the seventh Fermat number ",r.jsx(o,{math:"F_7 = 2^{128} + 1",inline:!0}),". It remained the fastest general-purpose algorithm until the Quadratic Sieve."]}),r.jsx("h3",{children:"Comparison with Other Methods"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Method"}),r.jsx("th",{className:"text-left py-2",children:"Residue Size"}),r.jsx("th",{className:"text-left py-2",children:"Parallelizable"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Dixon"}),r.jsx("td",{className:"py-2",children:"~n"}),r.jsx("td",{className:"py-2",children:"Yes"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"CFRAC"}),r.jsx("td",{className:"py-2",children:"~n"}),r.jsx("td",{className:"py-2",children:"No (sequential)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"QS"}),r.jsx("td",{className:"py-2",children:"~n"}),r.jsx("td",{className:"py-2",children:"Yes (via MPQS)"})]})]})]})}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Legacy:"})," While superseded by the Quadratic Sieve, CFRAC introduced the crucial insight that structured sequences produce smaller residues, a principle that underlies all modern sieve-based factoring algorithms."]})]})}function KQ(){return r.jsxs(Jt,{sectionId:17,children:[r.jsx("h2",{children:"The Quadratic Sieve Method"}),r.jsx("p",{children:"The Quadratic Sieve (QS) was the fastest general-purpose factoring algorithm from 1981 until approximately 1993, when the Number Field Sieve surpassed it for very large numbers. QS remains competitive for numbers under ~100 digits and is conceptually simpler."}),r.jsx("h3",{children:"The Basic Idea"}),r.jsxs("p",{children:["Like CFRAC, QS seeks smooth values of ",r.jsx(o,{math:"Q(x) = x^2 - n",inline:!0})," for"," ",r.jsx(o,{math:"x",inline:!0})," near ",r.jsx(o,{math:"\\sqrt{n}",inline:!0}),". The key innovation is ",r.jsx("strong",{children:"sieving"}),": instead of testing each value for smoothness, we use the structure of primes to identify smooth values efficiently."]}),r.jsxs(ge,{title:"Sieving Interval",children:["Choose ",r.jsx(o,{math:"m = \\lceil \\sqrt{n} \\rceil",inline:!0}),". For the polynomial"," ",r.jsx(o,{math:"Q(x) = (m + x)^2 - n",inline:!0}),", evaluate at ",r.jsx(o,{math:"x \\in [-M, M]",inline:!0})," ","for some bound ",r.jsx("em",{children:"M"}),". Values ",r.jsx(o,{math:"Q(x)",inline:!0})," are approximately linear near 0:",r.jsx(o,{math:"Q(x) \\approx 2mx \\text{ for small } x"})]}),r.jsx("h3",{children:"The Sieving Process"}),r.jsxs(ke,{title:"Sieving Principle",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove the periodicity of divisibility by ",r.jsx("em",{children:"p"})," for the polynomial ",r.jsx(o,{math:"Q(x) = (m+x)^2 - n",inline:!0}),"."]}),r.jsxs("p",{children:["Suppose ",r.jsx(o,{math:"p \\mid Q(x_0)",inline:!0}),", i.e., ",r.jsx(o,{math:"(m + x_0)^2 \\equiv n \\pmod{p}",inline:!0}),". For any integer ",r.jsx("em",{children:"k"}),":"]}),r.jsx(o,{math:"Q(x_0 + kp) = (m + x_0 + kp)^2 - n"}),r.jsx(o,{math:"= (m + x_0)^2 + 2(m + x_0)(kp) + (kp)^2 - n"}),r.jsx(o,{math:"\\equiv (m + x_0)^2 - n \\equiv 0 \\pmod{p}"}),r.jsxs("p",{children:["since both ",r.jsx(o,{math:"2(m + x_0)(kp)",inline:!0})," and ",r.jsx(o,{math:"(kp)^2",inline:!0})," are divisible by ",r.jsx("em",{children:"p"}),"."]}),r.jsxs("p",{children:["For the root-finding step: ",r.jsx(o,{math:"p \\mid Q(x)",inline:!0})," iff ",r.jsx(o,{math:"(m+x)^2 \\equiv n \\pmod{p}",inline:!0}),". If ",r.jsx("em",{children:"n"})," is a quadratic residue mod ",r.jsx("em",{children:"p"})," (i.e., ",r.jsx(o,{math:"(n/p) = 1",inline:!0}),"), there exist exactly two solutions ",r.jsx(o,{math:"m + x \\equiv \\pm\\sqrt{n} \\pmod{p}",inline:!0}),", giving:"]}),r.jsx(o,{math:"x_1 \\equiv \\sqrt{n} - m \\pmod{p}, \\quad x_2 \\equiv -\\sqrt{n} - m \\pmod{p}"}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"(n/p) = -1",inline:!0}),", there are no solutions, so ",r.jsx("em",{children:"p"})," is excluded from the factor base. If ",r.jsx(o,{math:"p \\mid n",inline:!0}),", there is one solution (but this means ",r.jsx("em",{children:"p"})," divides ",r.jsx("em",{children:"n"}),", so we have already found a factor)."]})]}),children:["If prime ",r.jsx("em",{children:"p"})," divides ",r.jsx(o,{math:"Q(x_0)",inline:!0}),", then ",r.jsx("em",{children:"p"})," divides"," ",r.jsx(o,{math:"Q(x_0 + kp)",inline:!0})," for all integers ",r.jsx("em",{children:"k"}),". We can find all"," ",r.jsx("em",{children:"x"})," where ",r.jsx(o,{math:"p \\mid Q(x)",inline:!0})," by:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Solve ",r.jsx(o,{math:"(m + x)^2 \\equiv n \\pmod{p}",inline:!0})," for roots ",r.jsx(o,{math:"x_1, x_2",inline:!0})]}),r.jsxs("li",{children:["Mark positions ",r.jsx(o,{math:"x_1, x_1 + p, x_1 + 2p, \\ldots",inline:!0})," and same for ",r.jsx(o,{math:"x_2",inline:!0})]})]})]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"QS Algorithm"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:["Choose factor base ",r.jsx(o,{math:"\\mathcal{F} = \\{p : (n/p) = 1, p \\leq B\\}",inline:!0})]}),r.jsxs("li",{children:["Initialize array ",r.jsx(o,{math:"S[x] = \\log|Q(x)|",inline:!0})," for ",r.jsx(o,{math:"x \\in [-M, M]",inline:!0})]}),r.jsxs("li",{children:["For each ",r.jsx(o,{math:"p \\in \\mathcal{F}",inline:!0}),": subtract ",r.jsx(o,{math:"\\log p",inline:!0})," at positions where ",r.jsx(o,{math:"p \\mid Q(x)",inline:!0})]}),r.jsxs("li",{children:["After sieving, ",r.jsx(o,{math:"S[x] \\approx 0",inline:!0})," means ",r.jsx(o,{math:"Q(x)",inline:!0})," is smooth"]}),r.jsxs("li",{children:["For smooth ",r.jsx(o,{math:"Q(x)",inline:!0}),", factor completely to get exponent vector"]}),r.jsx("li",{children:"Use linear algebra to find dependency mod 2"})]})]}),r.jsxs(Le,{title:"Sieving Illustration",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 15347",inline:!0}),", ",r.jsx(o,{math:"m = 124",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx(o,{math:"Q(x) = (124 + x)^2 - 15347",inline:!0})}),r.jsxs("p",{className:"mt-2",children:["For ",r.jsx(o,{math:"p = 7",inline:!0}),": solve ",r.jsx(o,{math:"124 + x \\equiv \\pm \\sqrt{15347} \\pmod{7}",inline:!0})]}),r.jsxs("p",{children:[r.jsx(o,{math:"15347 \\equiv 2 \\pmod{7}",inline:!0}),", and ",r.jsx(o,{math:"3^2 \\equiv 2 \\pmod{7}",inline:!0}),", so roots are ",r.jsx(o,{math:"x \\equiv 3 - 124 \\equiv 4 \\pmod{7}",inline:!0})," and ",r.jsx(o,{math:"x \\equiv -3 - 124 \\equiv 0 \\pmod{7}",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["Sieve: subtract ",r.jsx(o,{math:"\\log 7",inline:!0})," at positions 0, 4, 7, 11, 14, ..."]})]}),r.jsx("h3",{children:"Multiple Polynomial QS (MPQS)"}),r.jsxs(ge,{title:"MPQS",children:["Use multiple polynomials of the form:",r.jsx(o,{math:"Q_A(x) = (Ax + B)^2 - n = A^2 x^2 + 2ABx + (B^2 - n)"}),"where ",r.jsx(o,{math:"A^2 \\mid (B^2 - n)",inline:!0}),". Each polynomial provides a fresh sieving interval, and the work can be parallelized."]}),r.jsxs("p",{children:["Choosing ",r.jsx(o,{math:"A \\approx \\sqrt{2n}/M",inline:!0})," gives values of size"," ",r.jsx(o,{math:"\\sqrt{n/2}",inline:!0})," in the sieving interval, maintaining small residues."]}),r.jsx("h3",{children:"Complexity Analysis"}),r.jsxs(ke,{title:"QS Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We analyze the complexity of the Quadratic Sieve by balancing relation collection against linear algebra costs."}),r.jsxs("p",{children:["Let ",r.jsx(o,{math:"L(n) = e^{\\sqrt{\\ln n \\ln \\ln n}}",inline:!0})," and write ",r.jsx(o,{math:"B = L(n)^\\alpha",inline:!0})," for the smoothness bound."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Relation collection:"})," Values ",r.jsx(o,{math:"Q(x) \\approx 2Mx",inline:!0})," for ",r.jsx(o,{math:"x \\in [-M, M]",inline:!0}),". With ",r.jsx(o,{math:"M \\approx \\sqrt{n}",inline:!0}),", we have ",r.jsx(o,{math:"|Q(x)| \\approx \\sqrt{n}",inline:!0}),"."]}),r.jsxs("p",{children:["The probability that ",r.jsx(o,{math:"Q(x)",inline:!0})," is ",r.jsx("em",{children:"B"}),"-smooth is approximately ",r.jsx(o,{math:"u^{-u}",inline:!0})," where:"]}),r.jsx(o,{math:"u = \\frac{\\ln \\sqrt{n}}{\\ln B} = \\frac{\\ln n}{2\\alpha \\sqrt{\\ln n \\ln \\ln n}}"}),r.jsxs("p",{children:["We need ",r.jsx(o,{math:"\\pi(B) \\approx B/\\ln B",inline:!0})," relations. The sieving interval must contain this many smooth values, requiring:"]}),r.jsx(o,{math:"M \\cdot u^{-u} \\geq B / \\ln B"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Sieving cost:"})," For each prime ",r.jsx(o,{math:"p \\leq B",inline:!0}),", we mark ",r.jsx(o,{math:"2M/p",inline:!0})," positions. Total sieving work is ",r.jsx(o,{math:"\\sum_{p \\leq B} 2M/p \\approx 2M \\ln \\ln B",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Linear algebra:"})," Solving a ",r.jsx(o,{math:"B \\times B",inline:!0})," sparse matrix costs ",r.jsx(o,{math:"O(B^2)",inline:!0})," with structured methods."]}),r.jsxs("p",{children:["Optimizing: set ",r.jsx(o,{math:"\\alpha = 1/2",inline:!0}),". Then ",r.jsx(o,{math:"u = \\sqrt{\\ln n / \\ln \\ln n}",inline:!0}),", and:"]}),r.jsx(o,{math:"u^u = \\exp\\left(\\sqrt{\\ln n / \\ln \\ln n} \\cdot \\frac{1}{2}\\ln(\\ln n / \\ln \\ln n)\\right) = L(n)^{1/2 + o(1)}"}),r.jsxs("p",{children:["With ",r.jsx(o,{math:"M = L(n)^{1/2}",inline:!0}),", sieving costs ",r.jsx(o,{math:"L(n)^{1/2} \\cdot L(n)^{1/2} = L(n)^{1+o(1)}",inline:!0}),". Linear algebra is ",r.jsx(o,{math:"L(n)^{1+o(1)}",inline:!0}),". Total: ",r.jsx(o,{math:"L(n)^{1+o(1)}",inline:!0}),"."]})]}),children:["The Quadratic Sieve factors ",r.jsx("em",{children:"n"})," in time:",r.jsx(o,{math:"L(n)^{1 + o(1)} = e^{(1 + o(1))\\sqrt{\\ln n \\ln \\ln n}}"}),"with optimal factor base bound ",r.jsx(o,{math:"B = L(n)^{1/2}",inline:!0})," and sieving interval ",r.jsx(o,{math:"M = L(n)^{1/2}",inline:!0}),"."]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Relation Count:"})," We need approximately ",r.jsx(o,{math:"\\pi(B) + 1",inline:!0})," ","smooth values. With ",r.jsx(o,{math:"B = L(n)^{1/2}",inline:!0}),", this is about"," ",r.jsx(o,{math:"L(n)^{1/2}",inline:!0})," relations, each requiring smoothness testing over the factor base."]}),r.jsx("h3",{children:"Large Prime Variation"}),r.jsxs(ge,{title:"Large Prime Variation",children:["Allow relations with one or two primes larger than ",r.jsx("em",{children:"B"})," (but still small):",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Single large prime:"})," If ",r.jsx(o,{math:"Q(x) = (\\text{smooth}) \\times p",inline:!0})," for ",r.jsx(o,{math:"p > B",inline:!0}),", save it"]}),r.jsx("li",{children:"Two relations with same large prime combine to eliminate it"}),r.jsxs("li",{children:[r.jsx("strong",{children:"Double large prime:"})," Allow two unfactored primes; more combinations possible"]})]}),"This can double the effective relation collection rate."]}),r.jsx("h3",{children:"Linear Algebra Phase"}),r.jsxs("p",{children:["After collecting enough relations, solve a sparse system over ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0}),":"]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Matrix Structure"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:["Rows: relations (one per smooth ",r.jsx(o,{math:"Q(x)",inline:!0}),")"]}),r.jsx("li",{children:"Columns: factor base primes"}),r.jsxs("li",{children:["Entry ",r.jsx(o,{math:"(i, j)",inline:!0}),": exponent of ",r.jsx(o,{math:"p_j",inline:!0})," in relation ",r.jsx("em",{children:"i"}),", mod 2"]}),r.jsxs("li",{children:["Dimension: ",r.jsx(o,{math:"\\sim L(n)^{1/2} \\times L(n)^{1/2}",inline:!0})]}),r.jsxs("li",{children:["Sparsity: each row has ",r.jsx(o,{math:"O(\\log n / \\log\\log n)",inline:!0})," nonzeros"]})]})]}),r.jsxs(ke,{title:"Efficient Linear Algebra",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We analyze the complexity of finding null vectors in the exponent matrix over ",r.jsx(o,{math:"\\mathbb{F}_2",inline:!0}),"."]}),r.jsxs("p",{children:["The matrix has dimensions ",r.jsx(o,{math:"r \\times c",inline:!0})," where ",r.jsx(o,{math:"r \\approx c \\approx \\pi(B) \\approx L(n)^{1/2}",inline:!0}),". Each row has at most ",r.jsx(o,{math:"O(\\log n / \\log \\log n)",inline:!0})," non-zero entries (the number of prime factors of a smooth number)."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Naive Gaussian elimination:"})," ",r.jsx(o,{math:"O(r^2 c) = O(L(n)^{3/2})",inline:!0}),", which dominates relation collection."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Block Lanczos method:"})," Finds the null space of ",r.jsx(o,{math:"A^T A",inline:!0})," by computing the sequence:"]}),r.jsx(o,{math:"v, Av, A^2v, \\ldots, A^k v"}),r.jsxs("p",{children:["until a linear dependency is found. Each matrix-vector product costs ",r.jsx(o,{math:"O(r \\cdot \\text{density})",inline:!0})," where density is ",r.jsx(o,{math:"O(\\log n / \\log \\log n)",inline:!0})," per row."]}),r.jsxs("p",{children:["The number of iterations needed is ",r.jsx(o,{math:"O(r)",inline:!0})," (dimension of the null space is ",r.jsx(o,{math:"r - c + 1",inline:!0}),"). Total cost:"]}),r.jsx(o,{math:"O(r \\times r \\times \\log n / \\log \\log n) = O(L(n)^1 \\times (\\log n)^{O(1)}) = O(L(n)^{1+o(1)})"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Block Wiedemann method:"})," Uses a similar Krylov subspace approach but is better suited for parallel computation. The asymptotic complexity is the same."]}),r.jsxs("p",{children:["Both methods exploit the sparse structure to achieve cost proportional to ",r.jsx(o,{math:"(\\text{rows})^2 \\times \\text{average density}",inline:!0}),"."]})]}),children:["Block Lanczos or Block Wiedemann algorithms find null vectors in time"," ",r.jsx(o,{math:"O((\\text{rows})^2 \\times \\text{density})",inline:!0}),", exploiting sparsity. For QS, this is ",r.jsx(o,{math:"O(L(n)^{1 + o(1)})",inline:!0}),"."]}),r.jsx("h3",{children:"Historical Factorizations"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Number"}),r.jsx("th",{className:"text-left py-2",children:"Digits"}),r.jsx("th",{className:"text-left py-2",children:"Year"}),r.jsx("th",{className:"text-left py-2",children:"Method"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"RSA-100"}),r.jsx("td",{className:"py-2",children:"100"}),r.jsx("td",{className:"py-2",children:"1991"}),r.jsx("td",{className:"py-2",children:"QS"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"RSA-110"}),r.jsx("td",{className:"py-2",children:"110"}),r.jsx("td",{className:"py-2",children:"1992"}),r.jsx("td",{className:"py-2",children:"QS"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"RSA-120"}),r.jsx("td",{className:"py-2",children:"120"}),r.jsx("td",{className:"py-2",children:"1993"}),r.jsx("td",{className:"py-2",children:"QS"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"RSA-129"}),r.jsx("td",{className:"py-2",children:"129"}),r.jsx("td",{className:"py-2",children:"1994"}),r.jsx("td",{className:"py-2",children:"QS (last)"})]})]})]})}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Self-Initializing QS:"})," Modern implementations (SIQS) automatically choose good polynomial parameters, making QS practical for numbers up to ~100 digits on a single computer, or ~120 digits with distributed computing."]}),r.jsx("h3",{children:"Comparison: QS vs NFS"}),r.jsxs("p",{children:["The Number Field Sieve (NFS) has complexity ",r.jsx(o,{math:"L(n)^{c}",inline:!0})," with"," ",r.jsx(o,{math:"c \\approx 1.9",inline:!0})," for QS vs ",r.jsx(o,{math:"c \\approx 1.5",inline:!0})," for NFS. The crossover point is around 100-110 digits; above this, NFS dominates."]})]})}function WQ(){return r.jsxs(Jt,{sectionId:18,children:[r.jsx("h2",{children:"Basic Facts About Elliptic Curves"}),r.jsx("p",{children:"Elliptic curves are algebraic curves with a rich group structure that makes them ideal for cryptography. They provide the same security as RSA with much smaller key sizes, making them essential for constrained environments."}),r.jsx("h3",{children:"Definition of Elliptic Curves"}),r.jsxs(ge,{title:"Elliptic Curve (Weierstrass Form)",children:["An ",r.jsx("strong",{children:"elliptic curve"})," over a field ",r.jsx("em",{children:"K"})," is the set of points"," ",r.jsx(o,{math:"(x, y) \\in K \\times K",inline:!0})," satisfying:",r.jsx(o,{math:"y^2 = x^3 + ax + b"}),"where ",r.jsx(o,{math:"a, b \\in K",inline:!0})," and ",r.jsx(o,{math:"4a^3 + 27b^2 \\neq 0",inline:!0})," ",'(non-singular condition), together with a "point at infinity" ',r.jsx(o,{math:"\\mathcal{O}",inline:!0}),"."]}),r.jsxs("p",{children:["The condition ",r.jsx(o,{math:"4a^3 + 27b^2 \\neq 0",inline:!0})," ensures the curve has no singular points (cusps or self-intersections)."]}),r.jsx(Le,{title:"Example Curves",children:r.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[r.jsxs("li",{children:[r.jsx(o,{math:"y^2 = x^3 - x",inline:!0})," (over ",r.jsx(o,{math:"\\mathbb{R}",inline:!0}),")"]}),r.jsxs("li",{children:[r.jsx(o,{math:"y^2 = x^3 + 1",inline:!0})," (over ",r.jsx(o,{math:"\\mathbb{F}_7",inline:!0}),": points are (0,1), (0,6), (2,3), (2,4), ",r.jsx(o,{math:"\\mathcal{O}",inline:!0}),")"]}),r.jsxs("li",{children:["secp256k1: ",r.jsx(o,{math:"y^2 = x^3 + 7",inline:!0})," over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})," (Bitcoin)"]})]})}),r.jsx("h3",{children:"The Group Law"}),r.jsxs(ke,{title:"Elliptic Curve Group",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We verify the group axioms for the chord-and-tangent law on an elliptic curve ",r.jsx(o,{math:"E: y^2 = x^3 + ax + b",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Identity:"})," The point at infinity ",r.jsx(o,{math:"\\mathcal{O}",inline:!0})," acts as identity. Geometrically, the line through ",r.jsx("em",{children:"P"})," and ",r.jsx(o,{math:"\\mathcal{O}",inline:!0})," is vertical, intersecting ",r.jsx("em",{children:"E"})," at ",r.jsx(o,{math:"P",inline:!0})," and ",r.jsx(o,{math:"-P = (x_P, -y_P)",inline:!0}),". Thus ",r.jsx(o,{math:"P + \\mathcal{O} = -(-P) = P",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Inverse:"})," For ",r.jsx(o,{math:"P = (x, y)",inline:!0}),", the vertical line through ",r.jsx("em",{children:"P"})," meets ",r.jsx("em",{children:"E"})," at ",r.jsx(o,{math:"P, (x, -y)",inline:!0}),", and ",r.jsx(o,{math:"\\mathcal{O}",inline:!0}),". Hence ",r.jsx(o,{math:"P + (x, -y) = \\mathcal{O}",inline:!0}),", so ",r.jsx(o,{math:"-P = (x, -y)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Commutativity:"})," The line through ",r.jsx("em",{children:"P"})," and ",r.jsx("em",{children:"Q"})," is the same as the line through ",r.jsx("em",{children:"Q"})," and ",r.jsx("em",{children:"P"}),", so ",r.jsx(o,{math:"P + Q = Q + P",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Associativity:"})," This is the non-trivial part. One approach uses the explicit addition formulas:"]}),r.jsx(o,{math:"x_{P+Q} = \\lambda^2 - x_P - x_Q, \\quad y_{P+Q} = \\lambda(x_P - x_{P+Q}) - y_P"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"\\lambda = (y_Q - y_P)/(x_Q - x_P)",inline:!0})," for ",r.jsx(o,{math:"P \\neq Q",inline:!0}),". Direct computation (tedious but elementary) shows ",r.jsx(o,{math:"(P + Q) + R = P + (Q + R)",inline:!0}),"."]}),r.jsxs("p",{children:["A more elegant proof uses the Riemann-Roch theorem and divisor theory on algebraic curves, showing that the group law corresponds to the degree-zero divisor class group of ",r.jsx("em",{children:"E"}),"."]})]}),children:['The points on an elliptic curve form an abelian group under the "chord-and-tangent" operation:',r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Identity:"})," The point at infinity ",r.jsx(o,{math:"\\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Inverse:"})," ",r.jsx(o,{math:"-(x, y) = (x, -y)",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Addition:"})," Draw line through ",r.jsx("em",{children:"P"})," and ",r.jsx("em",{children:"Q"}),", find third intersection ",r.jsx("em",{children:"R"}),", reflect to get ",r.jsx(o,{math:"P + Q = -R",inline:!0})]})]})]}),r.jsxs(ge,{title:"Point Addition Formulas",children:["For points ",r.jsx(o,{math:"P = (x_1, y_1)",inline:!0})," and ",r.jsx(o,{math:"Q = (x_2, y_2)",inline:!0})," ","with ",r.jsx(o,{math:"P \\neq \\pm Q",inline:!0}),":",r.jsx(o,{math:"\\lambda = \\frac{y_2 - y_1}{x_2 - x_1}"}),r.jsx(o,{math:"x_3 = \\lambda^2 - x_1 - x_2, \\quad y_3 = \\lambda(x_1 - x_3) - y_1"}),r.jsxs("p",{className:"mt-2",children:["For point doubling (",r.jsx(o,{math:"P = Q",inline:!0}),"):"]}),r.jsx(o,{math:"\\lambda = \\frac{3x_1^2 + a}{2y_1}"})]}),r.jsxs(Le,{title:"Point Addition on y = x - 7 (mod 11)",children:[r.jsxs("p",{children:["Let ",r.jsx(o,{math:"P = (2, 3)",inline:!0}),", ",r.jsx(o,{math:"Q = (5, 2)",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx(o,{math:"\\lambda = (2 - 3)/(5 - 2) = -1/3 \\equiv -1 \\cdot 4 = -4 \\equiv 7 \\pmod{11}",inline:!0})}),r.jsx("p",{children:r.jsx(o,{math:"x_3 = 49 - 2 - 5 = 42 \\equiv 9 \\pmod{11}",inline:!0})}),r.jsx("p",{children:r.jsx(o,{math:"y_3 = 7(2 - 9) - 3 = -52 \\equiv 3 \\pmod{11}",inline:!0})}),r.jsxs("p",{className:"mt-2",children:["So ",r.jsx(o,{math:"P + Q = (9, 3)",inline:!0})]})]}),r.jsx("h3",{children:"Order of the Group"}),r.jsxs(ke,{title:"Hasse's Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We outline the proof of Hasse's bound on ",r.jsx(o,{math:"\\#E(\\mathbb{F}_p)",inline:!0}),"."]}),r.jsxs("p",{children:["The key tool is the ",r.jsx("strong",{children:"Frobenius endomorphism"})," ",r.jsx(o,{math:"\\phi: E \\to E",inline:!0})," defined by ",r.jsx(o,{math:"\\phi(x, y) = (x^p, y^p)",inline:!0}),". This is a purely inseparable isogeny of degree ",r.jsx("em",{children:"p"}),"."]}),r.jsx("p",{children:"The Frobenius satisfies a characteristic equation:"}),r.jsx(o,{math:"\\phi^2 - t\\phi + p = 0"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"t = p + 1 - \\#E(\\mathbb{F}_p)",inline:!0})," is the trace of Frobenius."]}),r.jsxs("p",{children:["A point ",r.jsx(o,{math:"P \\in E(\\bar{\\mathbb{F}}_p)",inline:!0})," lies in ",r.jsx(o,{math:"E(\\mathbb{F}_p)",inline:!0})," iff ",r.jsx(o,{math:"\\phi(P) = P",inline:!0}),", i.e., ",r.jsx(o,{math:"(\\phi - 1)(P) = \\mathcal{O}",inline:!0}),"."]}),r.jsxs("p",{children:["The number of such points equals ",r.jsx(o,{math:"\\deg(\\phi - 1)",inline:!0})," (counting with appropriate multiplicity). Since ",r.jsx(o,{math:"\\phi - 1",inline:!0})," is separable, we have:"]}),r.jsx(o,{math:"\\#E(\\mathbb{F}_p) = \\deg(\\phi - 1) = (\\phi - 1)(\\bar{\\phi} - 1) = \\phi\\bar{\\phi} - \\phi - \\bar{\\phi} + 1"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"\\bar{\\phi}",inline:!0})," is the dual isogeny with ",r.jsx(o,{math:"\\phi\\bar{\\phi} = p",inline:!0}),". Thus ",r.jsx(o,{math:"\\#E(\\mathbb{F}_p) = p + 1 - (\\phi + \\bar{\\phi}) = p + 1 - t",inline:!0}),"."]}),r.jsxs("p",{children:["The bound ",r.jsx(o,{math:"|t| \\leq 2\\sqrt{p}",inline:!0})," follows because the eigenvalues of ",r.jsx(o,{math:"\\phi",inline:!0})," on the Tate module are algebraic integers of absolute value ",r.jsx(o,{math:"\\sqrt{p}",inline:!0})," (this is the Riemann Hypothesis for elliptic curves over finite fields, proved by Hasse)."]})]}),children:["For an elliptic curve over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),", the number of points satisfies:",r.jsx(o,{math:"|p + 1 - \\#E(\\mathbb{F}_p)| \\leq 2\\sqrt{p}"}),"So the order is approximately ",r.jsx("em",{children:"p"}),", within ",r.jsx(o,{math:"2\\sqrt{p}",inline:!0}),"."]}),r.jsxs(ge,{title:"Trace of Frobenius",children:["The ",r.jsx("strong",{children:"trace of Frobenius"})," is ",r.jsx(o,{math:"t = p + 1 - \\#E(\\mathbb{F}_p)",inline:!0}),". Hasse's theorem says ",r.jsx(o,{math:"|t| \\leq 2\\sqrt{p}",inline:!0}),"."]}),r.jsx("h3",{children:"Group Structure"}),r.jsxs(ke,{title:"Structure Theorem",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We prove that ",r.jsx(o,{math:"E(\\mathbb{F}_q)",inline:!0})," is the product of at most two cyclic groups."]}),r.jsx("p",{children:"By the structure theorem for finitely generated abelian groups, any finite abelian group is isomorphic to:"}),r.jsx(o,{math:"\\mathbb{Z}/d_1\\mathbb{Z} \\times \\mathbb{Z}/d_2\\mathbb{Z} \\times \\cdots \\times \\mathbb{Z}/d_k\\mathbb{Z}"}),r.jsxs("p",{children:["where ",r.jsx(o,{math:"d_i \\mid d_{i+1}",inline:!0}),". We must show ",r.jsx(o,{math:"k \\leq 2",inline:!0})," for elliptic curves."]}),r.jsxs("p",{children:["For any prime ",r.jsx(o,{math:"\\ell",inline:!0}),", the ",r.jsx(o,{math:"\\ell",inline:!0}),"-torsion ",r.jsx(o,{math:"E[\\ell]",inline:!0})," (points ",r.jsx("em",{children:"P"})," with ",r.jsx(o,{math:"\\ell P = \\mathcal{O}",inline:!0}),") over the algebraic closure satisfies:"]}),r.jsx(o,{math:"E[\\ell] \\cong (\\mathbb{Z}/\\ell\\mathbb{Z})^2"}),r.jsxs("p",{children:["when ",r.jsx(o,{math:"\\ell \\neq \\text{char}(\\mathbb{F}_q)",inline:!0}),". This is because ",r.jsx("em",{children:"E"})," is a 1-dimensional abelian variety, and the ",r.jsx(o,{math:"\\ell",inline:!0}),"-torsion has rank 2 over ",r.jsx(o,{math:"\\mathbb{Z}/\\ell\\mathbb{Z}",inline:!0}),"."]}),r.jsxs("p",{children:["Thus ",r.jsx(o,{math:"E(\\mathbb{F}_q)[\\ell] \\subseteq E[\\ell]",inline:!0})," has at most 2 generators as a ",r.jsx(o,{math:"\\mathbb{Z}/\\ell\\mathbb{Z}",inline:!0}),"-module. This holds for all ",r.jsx(o,{math:"\\ell",inline:!0}),", so ",r.jsx(o,{math:"E(\\mathbb{F}_q)",inline:!0})," has at most 2 invariant factors."]}),r.jsxs("p",{children:["The condition ",r.jsx(o,{math:"n_2 \\mid (q-1)",inline:!0})," follows from the Weil pairing: for ",r.jsx(o,{math:"P, Q \\in E[n_2]",inline:!0}),", the pairing ",r.jsx(o,{math:"e_{n_2}(P, Q)",inline:!0})," is a primitive ",r.jsx(o,{math:"n_2",inline:!0}),"-th root of unity in ",r.jsx(o,{math:"\\mathbb{F}_q^*",inline:!0}),", which requires ",r.jsx(o,{math:"n_2 \\mid (q-1)",inline:!0}),"."]})]}),children:["For an elliptic curve over a finite field:",r.jsx(o,{math:"E(\\mathbb{F}_q) \\cong \\mathbb{Z}/n_1\\mathbb{Z} \\times \\mathbb{Z}/n_2\\mathbb{Z}"}),"where ",r.jsx(o,{math:"n_2 \\mid n_1",inline:!0})," and ",r.jsx(o,{math:"n_2 \\mid (q - 1)",inline:!0}),". Often the group is cyclic (",r.jsx(o,{math:"n_2 = 1",inline:!0}),")."]}),r.jsx("h3",{children:"Scalar Multiplication"}),r.jsxs(ge,{title:"Scalar Multiplication",children:["For integer ",r.jsx("em",{children:"n"})," and point ",r.jsx("em",{children:"P"}),":",r.jsx(o,{math:"nP = \\underbrace{P + P + \\cdots + P}_{n \\text{ times}}"}),"Computed efficiently via ",r.jsx("strong",{children:"double-and-add"})," in ",r.jsx(o,{math:"O(\\log n)",inline:!0})," group operations."]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Double-and-Add Algorithm"}),r.jsxs("div",{className:"font-mono text-sm text-dark-300",children:[r.jsxs("p",{children:["Input: P, n = (b_k b_","{k-1}"," ... b_1 b_0)_2"]}),r.jsx("p",{children:"Q = O"}),r.jsx("p",{children:"for i = k down to 0:"}),r.jsx("p",{className:"ml-4",children:"Q = 2Q"}),r.jsx("p",{className:"ml-4",children:"if b_i = 1: Q = Q + P"}),r.jsx("p",{children:"return Q"})]})]}),r.jsx("h3",{children:"Special Curves"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Standard Curves"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Curve"}),r.jsx("th",{className:"text-left py-2",children:"Equation"}),r.jsx("th",{className:"text-left py-2",children:"Use"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"P-256"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"y^2 = x^3 - 3x + b",inline:!0})}),r.jsx("td",{className:"py-2",children:"NIST, TLS"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"secp256k1"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"y^2 = x^3 + 7",inline:!0})}),r.jsx("td",{className:"py-2",children:"Bitcoin"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"Curve25519"}),r.jsx("td",{className:"py-2",children:"Montgomery form"}),r.jsx("td",{className:"py-2",children:"Modern crypto"})]})]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Why Elliptic Curves?"})," The discrete log problem on elliptic curves has no known subexponential attack (unlike ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0}),"). This means 256-bit ECC  3072-bit RSA security, enabling smaller keys and faster operations."]})]})}function YQ(){return r.jsxs(Jt,{sectionId:19,children:[r.jsx("h2",{children:"Elliptic Curve Cryptosystems"}),r.jsx("p",{children:"Elliptic curve cryptography (ECC) translates classical public-key protocols to the setting of elliptic curves. The hardness of the elliptic curve discrete logarithm problem (ECDLP) provides security with much smaller keys than RSA."}),r.jsx("h3",{children:"The ECDLP"}),r.jsxs(ge,{title:"Elliptic Curve Discrete Logarithm Problem",children:["Given points ",r.jsx("em",{children:"P"})," and ",r.jsx(o,{math:"Q = nP",inline:!0})," on an elliptic curve, find the integer ",r.jsx("em",{children:"n"}),". This is believed hard (no subexponential algorithm known)."]}),r.jsx(ke,{title:"Best Known Attacks on ECDLP",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We analyze the complexity of known attacks on the ECDLP and explain why index calculus fails."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Pollard rho attack:"})," This generic algorithm works on any cyclic group. Given ",r.jsx(o,{math:"Q = nP",inline:!0}),", we compute a pseudo-random walk:"]}),r.jsx(o,{math:"W_i = a_i P + b_i Q"}),r.jsxs("p",{children:["using a deterministic iteration function. By the birthday paradox, after ",r.jsx(o,{math:"O(\\sqrt{|G|})",inline:!0})," steps, we expect a collision ",r.jsx(o,{math:"W_i = W_j",inline:!0}),", giving:"]}),r.jsx(o,{math:"a_i P + b_i Q = a_j P + b_j Q \\implies (a_i - a_j)P = (b_j - b_i)nP"}),r.jsx(o,{math:"\\implies n \\equiv (a_i - a_j)(b_j - b_i)^{-1} \\pmod{|G|}"}),r.jsxs("p",{children:["With ",r.jsx(o,{math:"|G| \\approx p",inline:!0}),", the complexity is ",r.jsx(o,{math:"O(\\sqrt{p})",inline:!0})," group operations."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Why index calculus fails:"})," Index calculus on ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0})," works by expressing random elements as products of a small factor base. On elliptic curves, there is no known efficient way to decompose points: given random ",r.jsx(o,{math:"R \\in E(\\mathbb{F}_p)",inline:!0}),", finding ",r.jsx(o,{math:"R = P_1 + P_2 + \\cdots + P_k",inline:!0}),' for "small" points ',r.jsx(o,{math:"P_i",inline:!0})," appears as hard as the ECDLP itself. The group ",r.jsx(o,{math:"E(\\mathbb{F}_p)",inline:!0})," lacks the multiplicative structure that makes factorization meaningful."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Supersingular exception:"})," For supersingular curves (",r.jsx(o,{math:"\\#E(\\mathbb{F}_p) = p + 1",inline:!0}),"), the MOV attack uses the Weil pairing to embed the ECDLP into ",r.jsx(o,{math:"\\mathbb{F}_{p^k}^*",inline:!0})," where index calculus applies. For properly chosen ordinary curves with large embedding degree ",r.jsx("em",{children:"k"}),", this attack is infeasible."]})]}),children:r.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Generic attacks:"})," Pollard rho in ",r.jsx(o,{math:"O(\\sqrt{n})",inline:!0})]}),r.jsxs("li",{children:[r.jsx("strong",{children:"No index calculus:"})," Unlike ",r.jsx(o,{math:"\\mathbb{Z}_p^*",inline:!0}),", the group structure prevents subexponential attacks"]}),r.jsx("li",{children:"Exception: Supersingular curves have efficient attacks (avoid in crypto)"})]})}),r.jsx("h3",{children:"ECDH: Key Exchange"}),r.jsxs(ge,{title:"Elliptic Curve Diffie-Hellman",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Setup:"})," Public curve ",r.jsx("em",{children:"E"})," over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),", base point ",r.jsx("em",{children:"G"})," of prime order ",r.jsx("em",{children:"n"})]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Alice: secret ",r.jsx(o,{math:"a \\in [1, n-1]",inline:!0}),", public ",r.jsx(o,{math:"A = aG",inline:!0})]}),r.jsxs("li",{children:["Bob: secret ",r.jsx(o,{math:"b \\in [1, n-1]",inline:!0}),", public ",r.jsx(o,{math:"B = bG",inline:!0})]}),r.jsxs("li",{children:["Shared secret: ",r.jsx(o,{math:"K = aB = bA = abG",inline:!0})]})]})]}),r.jsxs(Le,{title:"ECDH on Small Curve",children:[r.jsxs("p",{children:["Curve ",r.jsx(o,{math:"y^2 = x^3 + x + 6",inline:!0})," over ",r.jsx(o,{math:"\\mathbb{F}_{11}",inline:!0}),", base point ",r.jsx(o,{math:"G = (2, 7)",inline:!0}),", order 7"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Alice: ",r.jsx(o,{math:"a = 3",inline:!0}),", ",r.jsx(o,{math:"A = 3G = (7, 2)",inline:!0})]}),r.jsxs("li",{children:["Bob: ",r.jsx(o,{math:"b = 5",inline:!0}),", ",r.jsx(o,{math:"B = 5G = (8, 3)",inline:!0})]}),r.jsxs("li",{children:["Alice: ",r.jsx(o,{math:"K = 3B = 3 \\cdot 5G = 15G = G",inline:!0})," (since 15  1 mod 7)"]}),r.jsxs("li",{children:["Bob: ",r.jsx(o,{math:"K = 5A = 5 \\cdot 3G = 15G = G = (2, 7)",inline:!0})]})]}),r.jsxs("p",{className:"mt-2",children:["Shared secret: ",r.jsx(o,{math:"K = (2, 7)",inline:!0})]})]}),r.jsx("h3",{children:"ECDSA: Digital Signatures"}),r.jsxs(ge,{title:"Elliptic Curve Digital Signature Algorithm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Setup:"})," Curve ",r.jsx("em",{children:"E"}),", base point ",r.jsx("em",{children:"G"})," of order ",r.jsx("em",{children:"n"}),", hash function ",r.jsx("em",{children:"H"})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Keys:"})," Private ",r.jsx(o,{math:"d \\in [1, n-1]",inline:!0}),", public ",r.jsx(o,{math:"Q = dG",inline:!0})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Sign message M:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsxs("li",{children:["Choose random ",r.jsx(o,{math:"k \\in [1, n-1]",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"(x_1, y_1) = kG",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"r = x_1 \\bmod n",inline:!0})," (if ",r.jsx(o,{math:"r = 0",inline:!0}),", retry)"]}),r.jsxs("li",{children:[r.jsx(o,{math:"s = k^{-1}(H(M) + dr) \\bmod n",inline:!0})," (if ",r.jsx(o,{math:"s = 0",inline:!0}),", retry)"]}),r.jsxs("li",{children:["Signature: ",r.jsx(o,{math:"(r, s)",inline:!0})]})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Verify:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsx("li",{children:r.jsx(o,{math:"w = s^{-1} \\bmod n",inline:!0})}),r.jsxs("li",{children:[r.jsx(o,{math:"u_1 = H(M) \\cdot w \\bmod n",inline:!0}),", ",r.jsx(o,{math:"u_2 = r \\cdot w \\bmod n",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"(x_1, y_1) = u_1 G + u_2 Q",inline:!0})]}),r.jsxs("li",{children:["Accept if ",r.jsx(o,{math:"r \\equiv x_1 \\pmod{n}",inline:!0})]})]})]}),r.jsxs(Ie,{type:"warning",children:[r.jsx("strong",{children:"Critical:"})," The nonce ",r.jsx("em",{children:"k"})," must be truly random and unique for each signature. Reusing ",r.jsx("em",{children:"k"})," or using a biased ",r.jsx("em",{children:"k"})," allows recovery of the private key!"]}),r.jsx("h3",{children:"ElGamal Encryption on EC"}),r.jsxs(ge,{title:"EC ElGamal",children:[r.jsx("p",{children:r.jsx("strong",{children:"Encrypt message point M:"})}),r.jsxs("ol",{className:"list-decimal list-inside",children:[r.jsxs("li",{children:["Choose random ",r.jsx(o,{math:"k",inline:!0})]}),r.jsxs("li",{children:["Ciphertext: ",r.jsx(o,{math:"(kG, M + kQ)",inline:!0})," where ",r.jsx("em",{children:"Q"})," is receiver's public key"]})]}),r.jsx("p",{className:"mt-2",children:r.jsx("strong",{children:"Decrypt:"})}),r.jsx(o,{math:"M = (M + kQ) - d(kG) = M + kQ - kdG = M + kQ - kQ = M"})]}),r.jsxs("p",{children:["Note: Messages must be encoded as curve points. This is typically done using"," ",r.jsx("strong",{children:"Koblitz encoding"})," or ECIES (a hybrid scheme)."]}),r.jsx("h3",{children:"ECIES: Integrated Encryption"}),r.jsxs(ge,{title:"Elliptic Curve Integrated Encryption Scheme",children:["Hybrid encryption combining EC key agreement with symmetric encryption:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Generate ephemeral key pair ",r.jsx(o,{math:"(r, R = rG)",inline:!0})]}),r.jsxs("li",{children:["Compute shared point ",r.jsx(o,{math:"S = rQ",inline:!0})]}),r.jsxs("li",{children:["Derive symmetric key ",r.jsx(o,{math:"K = \\text{KDF}(S)",inline:!0})]}),r.jsxs("li",{children:["Encrypt: ",r.jsx(o,{math:"C = \\text{Enc}_K(M)",inline:!0})]}),r.jsxs("li",{children:["Send ",r.jsx(o,{math:"(R, C, \\text{MAC})",inline:!0})]})]})]}),r.jsx("h3",{children:"Key Size Comparison"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Equivalent Security Levels"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Security"}),r.jsx("th",{className:"text-left py-2",children:"Symmetric"}),r.jsx("th",{className:"text-left py-2",children:"RSA/DH"}),r.jsx("th",{className:"text-left py-2",children:"ECC"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"80-bit"}),r.jsx("td",{className:"py-2",children:"80"}),r.jsx("td",{className:"py-2",children:"1024"}),r.jsx("td",{className:"py-2",children:"160"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"112-bit"}),r.jsx("td",{className:"py-2",children:"112"}),r.jsx("td",{className:"py-2",children:"2048"}),r.jsx("td",{className:"py-2",children:"224"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"128-bit"}),r.jsx("td",{className:"py-2",children:"128"}),r.jsx("td",{className:"py-2",children:"3072"}),r.jsx("td",{className:"py-2",children:"256"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"256-bit"}),r.jsx("td",{className:"py-2",children:"256"}),r.jsx("td",{className:"py-2",children:"15360"}),r.jsx("td",{className:"py-2",children:"512"})]})]})]})]}),r.jsx("h3",{children:"Implementation Considerations"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Security Concerns"}),r.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Side-channel attacks:"})," Use constant-time scalar multiplication"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Invalid curve attacks:"})," Validate points are on the curve"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Small subgroup attacks:"})," Use cofactor multiplication or prime-order curves"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Twist attacks:"})," Validate points are not on the twist"]})]})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Modern Curves:"}),' Curve25519 and Ed25519 are designed to be "safe" by construction - their parameters avoid known attack classes and enable constant-time implementations.']})]})}function XQ(){return r.jsxs(Jt,{sectionId:20,children:[r.jsx("h2",{children:"Elliptic Curve Primality Test"}),r.jsx("p",{children:"Elliptic curves provide a powerful approach to primality testing. The Goldwasser-Kilian algorithm and later ECPP (Elliptic Curve Primality Proving) can prove primality of numbers with thousands of digits, producing verifiable certificates."}),r.jsx("h3",{children:"Primality and Group Order"}),r.jsxs(ke,{title:"Key Observation",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We establish how elliptic curve group structure reveals primality."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Well-definedness:"})," When ",r.jsx("em",{children:"n"})," is prime, ",r.jsx(o,{math:"\\mathbb{F}_n = \\mathbb{Z}/n\\mathbb{Z}",inline:!0})," is a field, and the elliptic curve equation ",r.jsx(o,{math:"y^2 = x^3 + ax + b",inline:!0})," with ",r.jsx(o,{math:"4a^3 + 27b^2 \\not\\equiv 0 \\pmod{n}",inline:!0})," defines a non-singular curve. The group law (point addition) is well-defined since all required field operations (especially division) are valid."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hasse's bound:"})," For prime ",r.jsx("em",{children:"n"}),", Hasse's theorem gives:"]}),r.jsx(o,{math:"|n + 1 - \\#E(\\mathbb{F}_n)| \\leq 2\\sqrt{n}"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Primality criterion:"})," Suppose ",r.jsx(o,{math:"\\#E(\\mathbb{F}_n) = m = kq",inline:!0})," where ",r.jsx("em",{children:"q"})," is prime with ",r.jsx(o,{math:"q > (n^{1/4} + 1)^2",inline:!0}),". If we find a point ",r.jsx("em",{children:"P"})," such that:"]}),r.jsx(o,{math:"mP = \\mathcal{O} \\quad \\text{but} \\quad (m/q)P \\neq \\mathcal{O}"}),r.jsxs("p",{children:["then ",r.jsx("em",{children:"P"})," has order divisible by ",r.jsx("em",{children:"q"}),". By Lagrange's theorem, ",r.jsx(o,{math:"q \\mid \\#E(\\mathbb{F}_n)",inline:!0}),"."]}),r.jsxs("p",{children:["If ",r.jsx("em",{children:"n"})," were composite with a prime factor ",r.jsx(o,{math:"p \\mid n",inline:!0}),", then ",r.jsx("em",{children:"E"})," mod ",r.jsx("em",{children:"p"})," would have at most ",r.jsx(o,{math:"p + 1 + 2\\sqrt{p} < (p^{1/2} + 1)^2",inline:!0})," points. But ",r.jsx(o,{math:"q > (n^{1/4}+1)^2 > (p^{1/2}+1)^2",inline:!0})," for any ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0}),", contradicting ",r.jsx(o,{math:"q \\mid \\#E(\\mathbb{F}_p)",inline:!0}),"."]})]}),children:["If ",r.jsx("em",{children:"n"})," is prime, then for any elliptic curve ",r.jsx("em",{children:"E"})," over ",r.jsx(o,{math:"\\mathbb{F}_n",inline:!0}),":",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["The group ",r.jsx(o,{math:"E(\\mathbb{F}_n)",inline:!0})," is well-defined"]}),r.jsxs("li",{children:["By Hasse: ",r.jsx(o,{math:"n + 1 - 2\\sqrt{n} \\leq \\#E(\\mathbb{F}_n) \\leq n + 1 + 2\\sqrt{n}",inline:!0})]}),r.jsxs("li",{children:["If we can show the group order has a large prime factor, ",r.jsx("em",{children:"n"})," must be prime"]})]})]}),r.jsx("h3",{children:"The Goldwasser-Kilian Algorithm"}),r.jsxs(ge,{title:"Basic Idea",children:["To prove ",r.jsx("em",{children:"n"})," is prime:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Find an elliptic curve ",r.jsx("em",{children:"E"})," over ",r.jsx(o,{math:"\\mathbb{Z}/n\\mathbb{Z}",inline:!0})]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"m = \\#E",inline:!0})," (using Schoof's algorithm)"]}),r.jsxs("li",{children:["Factor ",r.jsx(o,{math:"m = kq",inline:!0})," where ",r.jsx("em",{children:"q"})," is a probable prime ",r.jsx(o,{math:"> \\sqrt{n}",inline:!0})]}),r.jsxs("li",{children:["Find a point ",r.jsx("em",{children:"P"})," with ",r.jsx(o,{math:"mP = \\mathcal{O}",inline:!0})," but ",r.jsx(o,{math:"(m/q)P \\neq \\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:["Recursively prove ",r.jsx("em",{children:"q"})," is prime"]})]})]}),r.jsxs(ke,{title:"Why This Works",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We prove correctness of the Goldwasser-Kilian primality criterion."}),r.jsxs("p",{children:["Suppose all computations succeed mod ",r.jsx("em",{children:"n"}),", and we have verified that ",r.jsx("em",{children:"q"})," is prime with ",r.jsx(o,{math:"q > \\sqrt{n}",inline:!0}),". Assume for contradiction that ",r.jsx("em",{children:"n"})," is composite."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 1:"})," If during point additions we needed to invert some ",r.jsx(o,{math:"d",inline:!0})," with ",r.jsx(o,{math:"\\gcd(d, n) = g",inline:!0}),", ",r.jsx(o,{math:"1 < g < n",inline:!0}),", then the extended Euclidean algorithm would have revealed ",r.jsx("em",{children:"g"})," as a nontrivial factor. Since computations succeeded, this didn't happen."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Case 2:"})," Computations succeeded, meaning all slopes ",r.jsx(o,{math:"\\lambda",inline:!0})," in point additions were well-defined mod ",r.jsx("em",{children:"n"}),". Let ",r.jsx(o,{math:"p",inline:!0})," be the smallest prime factor of ",r.jsx("em",{children:"n"}),", so ",r.jsx(o,{math:"p \\leq \\sqrt{n}",inline:!0}),"."]}),r.jsxs("p",{children:["The point ",r.jsx("em",{children:"P"})," reduces to some point ",r.jsx(o,{math:"\\bar{P}",inline:!0})," on ",r.jsx(o,{math:"E(\\mathbb{F}_p)",inline:!0}),". Since ",r.jsx(o,{math:"mP = \\mathcal{O}",inline:!0})," mod ",r.jsx("em",{children:"n"}),", we have ",r.jsx(o,{math:"m\\bar{P} = \\mathcal{O}",inline:!0})," mod ",r.jsx("em",{children:"p"}),". Thus ",r.jsx(o,{math:"\\text{ord}(\\bar{P}) \\mid m",inline:!0}),"."]}),r.jsxs("p",{children:["Since ",r.jsx(o,{math:"(m/q)P \\neq \\mathcal{O}",inline:!0})," mod ",r.jsx("em",{children:"n"}),", we have ",r.jsx(o,{math:"(m/q)\\bar{P} \\neq \\mathcal{O}",inline:!0})," mod ",r.jsx("em",{children:"p"})," (otherwise all coordinates would be divisible by ",r.jsx("em",{children:"p"}),", detectable). Thus ",r.jsx(o,{math:"q \\mid \\text{ord}(\\bar{P})",inline:!0}),"."]}),r.jsxs("p",{children:["By Lagrange's theorem, ",r.jsx(o,{math:"\\text{ord}(\\bar{P}) \\mid \\#E(\\mathbb{F}_p)",inline:!0}),". So ",r.jsx(o,{math:"q \\mid \\#E(\\mathbb{F}_p)",inline:!0}),". By Hasse:"]}),r.jsx(o,{math:"\\#E(\\mathbb{F}_p) \\leq p + 1 + 2\\sqrt{p} < (\\sqrt{p} + 1)^2 \\leq (\\sqrt[4]{n} + 1)^2 < \\sqrt{n} < q"}),r.jsxs("p",{children:["This contradicts ",r.jsx(o,{math:"q \\mid \\#E(\\mathbb{F}_p)",inline:!0}),". Therefore ",r.jsx("em",{children:"n"})," must be prime."]})]}),children:["If computations succeed modulo ",r.jsx("em",{children:"n"})," and ",r.jsx("em",{children:"q"})," is prime with ",r.jsx(o,{math:"q > \\sqrt{n}",inline:!0}),", then ",r.jsx("em",{children:"n"})," must be prime. If ",r.jsx("em",{children:"n"})," were composite, the group operations would fail (denominators not invertible) or produce inconsistent results."]}),r.jsx("h3",{children:"Schoof's Algorithm"}),r.jsxs(ge,{title:"Computing Group Order",children:[r.jsx("strong",{children:"Schoof's algorithm"})," (1985) computes ",r.jsx(o,{math:"\\#E(\\mathbb{F}_p)",inline:!0})," ","in polynomial time ",r.jsx(o,{math:"O((\\log p)^8)",inline:!0}),":",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["For small primes ",r.jsx(o,{math:"\\ell",inline:!0}),", compute ",r.jsx(o,{math:"t \\bmod \\ell",inline:!0})," ","using division polynomials"]}),r.jsxs("li",{children:["Use CRT to combine: ",r.jsx(o,{math:"t \\bmod \\prod \\ell",inline:!0})]}),r.jsxs("li",{children:["Since ",r.jsx(o,{math:"|t| \\leq 2\\sqrt{p}",inline:!0}),", enough primes determine ",r.jsx("em",{children:"t"})]}),r.jsx("li",{children:r.jsx(o,{math:"\\#E = p + 1 - t",inline:!0})})]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Improvement:"})," The Schoof-Elkies-Atkin (SEA) algorithm improves complexity to ",r.jsx(o,{math:"O((\\log p)^4)",inline:!0}),", making it practical for large primes."]}),r.jsx("h3",{children:"ECPP: Elliptic Curve Primality Proving"}),r.jsxs(ge,{title:"ECPP Algorithm",children:["Atkin-Morain's ECPP improves on Goldwasser-Kilian:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Uses complex multiplication (CM) to construct curves with known order"}),r.jsx("li",{children:"Avoids point counting by using theory of complex multiplication"}),r.jsxs("li",{children:["Order is given by ",r.jsx(o,{math:"m = p + 1 - t",inline:!0})," where ",r.jsx("em",{children:"t"})," comes from CM theory"]}),r.jsx("li",{children:"Much faster in practice"})]})]}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"ECPP Overview"}),r.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[r.jsxs("li",{children:["Find discriminant ",r.jsx(o,{math:"-D",inline:!0})," with ",r.jsx(o,{math:"4n = t^2 + Ds^2",inline:!0}),' ("cornacchia")']}),r.jsxs("li",{children:["Use Hilbert class polynomial ",r.jsx(o,{math:"H_D(x)",inline:!0})," to get curve parameters"]}),r.jsxs("li",{children:["Curve order is ",r.jsx(o,{math:"m = n + 1 - t",inline:!0})," or ",r.jsx(o,{math:"m = n + 1 + t",inline:!0})]}),r.jsxs("li",{children:["Find point of order ",r.jsx("em",{children:"m"}),", factor ",r.jsx("em",{children:"m"})," to get recursive target"]}),r.jsx("li",{children:"Output certificate (curve, point, recursive proof)"})]})]}),r.jsx("h3",{children:"Primality Certificates"}),r.jsxs(ke,{title:"ECPP Certificate",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We prove the soundness and verifiability of ECPP certificates."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Certificate structure:"})," An ECPP certificate for ",r.jsx("em",{children:"n"})," consists of a descending chain ",r.jsx(o,{math:"n = n_0 > n_1 > \\cdots > n_k",inline:!0})," where each step contains:"]}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Curve parameters ",r.jsx(o,{math:"(a_i, b_i)",inline:!0})," defining ",r.jsx(o,{math:"E_i: y^2 = x^3 + a_i x + b_i",inline:!0})," mod ",r.jsx(o,{math:"n_i",inline:!0})]}),r.jsxs("li",{children:["A point ",r.jsx(o,{math:"P_i = (x_i, y_i)",inline:!0})," on ",r.jsx(o,{math:"E_i",inline:!0})]}),r.jsxs("li",{children:["The group order ",r.jsx(o,{math:"m_i = c_i \\cdot n_{i+1}",inline:!0})," with ",r.jsx(o,{math:"n_{i+1} > (n_i^{1/4} + 1)^2",inline:!0})]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Verification:"})," For each level ",r.jsx("em",{children:"i"}),", the verifier checks:"]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:[r.jsx(o,{math:"P_i",inline:!0})," lies on ",r.jsx(o,{math:"E_i",inline:!0}),": verify ",r.jsx(o,{math:"y_i^2 \\equiv x_i^3 + a_i x_i + b_i \\pmod{n_i}",inline:!0})]}),r.jsxs("li",{children:["Non-singularity: verify ",r.jsx(o,{math:"4a_i^3 + 27b_i^2 \\not\\equiv 0 \\pmod{n_i}",inline:!0})]}),r.jsxs("li",{children:["Order verification: compute ",r.jsx(o,{math:"m_i P_i",inline:!0})," and check it equals ",r.jsx(o,{math:"\\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:["Divisibility: compute ",r.jsx(o,{math:"(m_i/n_{i+1})P_i",inline:!0})," and check it's not ",r.jsx(o,{math:"\\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:["Size: verify ",r.jsx(o,{math:"n_{i+1} > (n_i^{1/4} + 1)^2",inline:!0})]})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Complexity:"})," Each scalar multiplication costs ",r.jsx(o,{math:"O(\\log m_i)",inline:!0})," group operations, each operation is ",r.jsx(o,{math:"O((\\log n_i)^2)",inline:!0})," for arithmetic mod ",r.jsx(o,{math:"n_i",inline:!0}),". Total verification is polynomial in ",r.jsx(o,{math:"\\log n",inline:!0}),"."]}),r.jsxs("p",{children:["The chain terminates at ",r.jsx(o,{math:"n_k",inline:!0})," small enough for direct verification (e.g., by trial division or a lookup table)."]})]}),children:["ECPP produces a certificate consisting of:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["A chain of primes ",r.jsx(o,{math:"n = n_0 > n_1 > \\cdots > n_k",inline:!0})," where ",r.jsx(o,{math:"n_k",inline:!0})," is small"]}),r.jsxs("li",{children:["For each ",r.jsx(o,{math:"n_i",inline:!0}),": curve ",r.jsx(o,{math:"E_i",inline:!0}),", point ",r.jsx(o,{math:"P_i",inline:!0}),", order ",r.jsx(o,{math:"m_i",inline:!0})]}),r.jsxs("li",{children:[r.jsx(o,{math:"m_i = c_i \\cdot n_{i+1}",inline:!0})," where ",r.jsx(o,{math:"n_{i+1}",inline:!0})," is the next prime to verify"]})]}),"The certificate can be verified in polynomial time without trusting the prover."]}),r.jsxs(Le,{title:"Certificate Structure",children:[r.jsx("p",{children:"To prove 31 is prime (toy example):"}),r.jsxs("ul",{className:"list-disc list-inside mt-2",children:[r.jsxs("li",{children:["Curve: ",r.jsx(o,{math:"y^2 = x^3 + x + 5",inline:!0})," over ",r.jsx(o,{math:"\\mathbb{F}_{31}",inline:!0})]}),r.jsxs("li",{children:["Order: ",r.jsx(o,{math:"m = 28 = 4 \\times 7",inline:!0})]}),r.jsxs("li",{children:["Point ",r.jsx(o,{math:"P = (0, 9)",inline:!0})," has order 28"]}),r.jsxs("li",{children:[r.jsx(o,{math:"7P \\neq \\mathcal{O}",inline:!0})," but ",r.jsx(o,{math:"28P = \\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:["Since ",r.jsx(o,{math:"7 > \\sqrt{31}",inline:!0}),", this proves 31 is prime (given 7 is prime)"]})]})]}),r.jsx("h3",{children:"Complexity"}),r.jsxs(ke,{title:"ECPP Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We analyze the expected running time of ECPP under standard heuristics."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Chain length:"})," At each step, we reduce ",r.jsx(o,{math:"n_i",inline:!0})," to ",r.jsx(o,{math:"n_{i+1} \\approx n_i / c",inline:!0})," for some small cofactor ",r.jsx("em",{children:"c"}),". The chain has length ",r.jsx(o,{math:"O(\\log n)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Finding suitable discriminant:"})," For each ",r.jsx(o,{math:"n_i",inline:!0}),", we need a negative discriminant ",r.jsx(o,{math:"-D",inline:!0})," such that:"]}),r.jsx(o,{math:"4n_i = t^2 + D s^2"}),r.jsxs("p",{children:["for integers ",r.jsx("em",{children:"t, s"})," with ",r.jsx(o,{math:"|t| \\leq 2\\sqrt{n_i}",inline:!0}),". By Cornacchia's algorithm, this costs ",r.jsx(o,{math:"O((\\log n_i)^2)",inline:!0})," per discriminant tried."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Heuristic:"})," The density of suitable discriminants is believed to be ",r.jsx(o,{math:"O(1/\\log n_i)",inline:!0}),", so we expect to try ",r.jsx(o,{math:"O(\\log n_i)",inline:!0})," discriminants. However, we want ",r.jsx(o,{math:"m_i = n_i + 1 - t",inline:!0})," to have a large prime factor, which succeeds with probability ",r.jsx(o,{math:"\\Omega(1/\\log n_i)",inline:!0})," (by number-theoretic estimates on smooth numbers)."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hilbert class polynomial:"})," Computing ",r.jsx(o,{math:"H_D(x)",inline:!0})," mod ",r.jsx(o,{math:"n_i",inline:!0})," costs ",r.jsx(o,{math:"O(|D| \\cdot (\\log n_i)^2)",inline:!0}),". Under GRH, class numbers grow as ",r.jsx(o,{math:"O(\\sqrt{D} \\log D)",inline:!0}),", and suitable ",r.jsx("em",{children:"D"})," values are ",r.jsx(o,{math:"O((\\log n_i)^2)",inline:!0})," on average."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total per level:"})," ",r.jsx(o,{math:"O((\\log n_i)^3)",inline:!0})," operations, where each operation is ",r.jsx(o,{math:"O((\\log n_i)^{1+\\epsilon})",inline:!0})," using fast multiplication."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Summing over chain:"})," Total time is ",r.jsx(o,{math:"\\sum_{i=0}^{O(\\log n)} O((\\log n_i)^{4+\\epsilon}) = O((\\log n)^{5+\\epsilon})",inline:!0})," under conservative estimates, or ",r.jsx(o,{math:"O((\\log n)^{4+\\epsilon})",inline:!0})," under optimistic heuristics about discriminant search."]})]}),children:["Under reasonable heuristics, ECPP runs in expected time:",r.jsx(o,{math:"O((\\log n)^{4+\\epsilon})"}),"This is significantly faster than the deterministic AKS test in practice."]}),r.jsx("h3",{children:"Comparison of Primality Methods"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Method"}),r.jsx("th",{className:"text-left py-2",children:"Type"}),r.jsx("th",{className:"text-left py-2",children:"Output"}),r.jsx("th",{className:"text-left py-2",children:"Speed"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Miller-Rabin"}),r.jsx("td",{className:"py-2",children:"Probabilistic"}),r.jsx("td",{className:"py-2",children:"No proof"}),r.jsx("td",{className:"py-2",children:"Fastest"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"AKS"}),r.jsx("td",{className:"py-2",children:"Deterministic"}),r.jsx("td",{className:"py-2",children:"Proof"}),r.jsx("td",{className:"py-2",children:"Slowest"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"ECPP"}),r.jsx("td",{className:"py-2",children:"Deterministic"}),r.jsx("td",{className:"py-2",children:"Certificate"}),r.jsx("td",{className:"py-2",children:"Fast (practical)"})]})]})]})}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Record Primes:"})," ECPP has been used to prove primality of numbers with over 30,000 decimal digits. The certificate can be verified much faster than it takes to generate, enabling distributed verification."]})]})}function QQ(){return r.jsxs(Jt,{sectionId:21,children:[r.jsx("h2",{children:"Elliptic Curve Factorization"}),r.jsx("p",{children:"Lenstra's elliptic curve factorization method (ECM) is a powerful algorithm for finding small to medium-sized factors of large numbers. Unlike the quadratic sieve or NFS, ECM's running time depends on the size of the factor, not the number being factored."}),r.jsx("h3",{children:"The Basic Idea"}),r.jsxs("p",{children:["ECM generalizes Pollard's ",r.jsx(o,{math:"p-1",inline:!0})," method. Recall that"," ",r.jsx(o,{math:"p-1",inline:!0})," works when ",r.jsx(o,{math:"p-1",inline:!0})," is smooth. ECM uses elliptic curves where the group order ",r.jsx(o,{math:"\\#E(\\mathbb{F}_p)",inline:!0})," ","varies, giving many chances to find a smooth order."]}),r.jsxs(ke,{title:"Key Observation",proof:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"We establish why varying elliptic curves gives ECM its power."}),r.jsxs("p",{children:[r.jsx("strong",{children:"Hasse's bound:"})," For any elliptic curve ",r.jsx("em",{children:"E"})," over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0}),", the group order ",r.jsx(o,{math:"\\#E(\\mathbb{F}_p) = p + 1 - t",inline:!0})," where ",r.jsx(o,{math:"|t| \\leq 2\\sqrt{p}",inline:!0}),". The trace ",r.jsx("em",{children:"t"})," depends on the curve."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Distribution of orders:"})," By the Sato-Tate theorem (proven by Taylor et al., 2008), as we vary over elliptic curves mod ",r.jsx("em",{children:"p"}),", the normalized trace ",r.jsx(o,{math:"t/(2\\sqrt{p})",inline:!0})," is distributed according to a semicircular distribution on ",r.jsx(o,{math:"[-1, 1]",inline:!0}),"."]}),r.jsxs("p",{children:["More precisely, the number of isomorphism classes of elliptic curves over ",r.jsx(o,{math:"\\mathbb{F}_p",inline:!0})," with order ",r.jsx(o,{math:"m = p + 1 - t",inline:!0})," is given by the Kronecker class number ",r.jsx(o,{math:"H(t^2 - 4p)",inline:!0})," (for ",r.jsx(o,{math:"|t| < 2\\sqrt{p}",inline:!0}),")."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Smoothness probability:"})," If ",r.jsx(o,{math:"m = \\#E(\\mathbb{F}_p)",inline:!0})," happens to be ",r.jsx("em",{children:"B"}),"-smooth, the ECM computation of ",r.jsx(o,{math:"M \\cdot P",inline:!0})," (where ",r.jsx(o,{math:"M = \\text{lcm}(1,2,\\ldots,B)",inline:!0}),") will yield the identity mod ",r.jsx("em",{children:"p"})," but not necessarily mod ",r.jsx("em",{children:"n"}),", revealing ",r.jsx("em",{children:"p"}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Key advantage:"})," Unlike Pollard's ",r.jsx(o,{math:"p-1",inline:!0})," method (which is stuck with ",r.jsx(o,{math:"p-1",inline:!0}),"), ECM can try ",r.jsx(o,{math:"p + 1 - t",inline:!0})," for various ",r.jsx("em",{children:"t"})," in the Hasse interval. Since there are ",r.jsx(o,{math:"\\sim 4\\sqrt{p}",inline:!0})," possible orders, if any one is smooth, ECM succeeds. The probability that at least one of many random integers near ",r.jsx("em",{children:"p"})," is smooth is much higher than for a single fixed value."]})]}),children:["For an elliptic curve ",r.jsx("em",{children:"E"})," and prime factor ",r.jsx("em",{children:"p"})," of ",r.jsx("em",{children:"n"}),":",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:r.jsx(o,{math:"\\#E(\\mathbb{F}_p) \\in [p + 1 - 2\\sqrt{p}, p + 1 + 2\\sqrt{p}]",inline:!0})}),r.jsx("li",{children:"Different curves give different orders in this range"}),r.jsx("li",{children:"If we're unlucky with one curve, try another!"})]})]}),r.jsx("h3",{children:"Lenstra's ECM Algorithm"}),r.jsxs(ge,{title:"ECM Algorithm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Input:"})," Composite ",r.jsx("em",{children:"n"}),", smoothness bound ",r.jsx("em",{children:"B"})]}),r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["Choose random curve ",r.jsx("em",{children:"E"})," and point ",r.jsx("em",{children:"P"})," (mod ",r.jsx("em",{children:"n"}),")"]}),r.jsxs("li",{children:["Compute ",r.jsx(o,{math:"M = \\text{lcm}(1, 2, \\ldots, B)",inline:!0})]}),r.jsxs("li",{children:["Try to compute ",r.jsx(o,{math:"Q = MP",inline:!0})," using group law mod ",r.jsx("em",{children:"n"})]}),r.jsx("li",{children:"If computation fails (GCD gives factor), output factor"}),r.jsx("li",{children:"If no factor found, try new curve and repeat"})]})]}),r.jsxs("p",{children:["The computation fails when we need to invert a number ",r.jsx("em",{children:"d"})," with"," ",r.jsx(o,{math:"1 < \\gcd(d, n) < n",inline:!0}),". This happens exactly when"," ",r.jsx(o,{math:"MP = \\mathcal{O}",inline:!0})," mod ",r.jsx("em",{children:"p"})," but not mod ",r.jsx("em",{children:"n"}),"."]}),r.jsxs(Le,{title:"ECM Example",children:[r.jsxs("p",{children:["Factor ",r.jsx(o,{math:"n = 455839",inline:!0})," using curve ",r.jsx(o,{math:"y^2 = x^3 + 5x - 5",inline:!0}),", point ",r.jsx(o,{math:"P = (1, 1)",inline:!0})]}),r.jsxs("p",{className:"mt-2",children:["Compute ",r.jsx(o,{math:"2! \\cdot P = 2P",inline:!0}),":"]}),r.jsxs("p",{children:["Slope ",r.jsx(o,{math:"\\lambda = (3 \\cdot 1^2 + 5)/(2 \\cdot 1) = 8/2 = 4",inline:!0})]}),r.jsx("p",{children:r.jsx(o,{math:"2P = (14, -57)",inline:!0})}),r.jsxs("p",{className:"mt-2",children:["Compute ",r.jsx(o,{math:"3! \\cdot P = 6P = 3 \\cdot 2P",inline:!0}),":"]}),r.jsxs("p",{children:["During calculation of ",r.jsx(o,{math:"3 \\cdot 2P",inline:!0}),", need to invert some denominator ",r.jsx("em",{children:"d"}),"..."]}),r.jsxs("p",{children:["If ",r.jsx(o,{math:"\\gcd(d, 455839) = 599",inline:!0}),", we found factor 599!"]}),r.jsxs("p",{className:"mt-2",children:["Check: ",r.jsx(o,{math:"455839 = 599 \\times 761",inline:!0})]})]}),r.jsx("h3",{children:"Stage 2 Improvement"}),r.jsxs(ge,{title:"ECM Stage 2",children:["After Stage 1 with bound ",r.jsx("em",{children:"B1"}),", the group order may have one large prime factor"," ",r.jsx(o,{math:"q \\in (B_1, B_2]",inline:!0}),". Stage 2 handles this:",r.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["After Stage 1, we have ",r.jsx(o,{math:"Q = M \\cdot P",inline:!0})," where"," ",r.jsx(o,{math:"M = \\prod_{p^a \\leq B_1} p^a",inline:!0})]}),r.jsxs("li",{children:["For each prime ",r.jsx(o,{math:"q \\in (B_1, B_2]",inline:!0}),", check if ",r.jsx(o,{math:"qQ = \\mathcal{O}",inline:!0})]}),r.jsxs("li",{children:["Efficiently: precompute ",r.jsx(o,{math:"Q, 2Q, 4Q, 6Q, \\ldots",inline:!0})," and"," ","use differences between consecutive primes"]})]}),"Stage 2 significantly increases success probability with moderate extra cost."]}),r.jsx("h3",{children:"Complexity Analysis"}),r.jsxs(ke,{title:"ECM Complexity",proof:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["We derive the subexponential complexity of ECM for finding a prime factor ",r.jsx("em",{children:"p"}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Success probability per curve:"})," The group order ",r.jsx(o,{math:"m = \\#E(\\mathbb{F}_p)",inline:!0})," is a random-looking integer in the interval ",r.jsx(o,{math:"[p + 1 - 2\\sqrt{p}, p + 1 + 2\\sqrt{p}]",inline:!0}),". By the Canfield-Erdos-Pomerance theorem, the probability that ",r.jsx("em",{children:"m"})," is ",r.jsx("em",{children:"B"}),"-smooth is approximately:"]}),r.jsx(o,{math:"\\rho(u) \\approx u^{-u}, \\quad u = \\frac{\\ln p}{\\ln B}"}),r.jsxs("p",{children:[r.jsx("strong",{children:"Cost per curve:"})," Computing ",r.jsx(o,{math:"M \\cdot P",inline:!0})," where ",r.jsx(o,{math:"M = \\text{lcm}(1, \\ldots, B) \\approx e^B",inline:!0})," requires ",r.jsx(o,{math:"O(B)",inline:!0})," elliptic curve operations (via prime-by-prime multiplication). Each EC operation costs ",r.jsx(o,{math:"O((\\log n)^2)",inline:!0}),"."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Expected curves needed:"})," ",r.jsx(o,{math:"1/\\rho(u) \\approx u^u",inline:!0})," curves on average."]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total cost:"})," ",r.jsx(o,{math:"T(B) = B \\cdot u^u \\cdot (\\log n)^{O(1)}",inline:!0})]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Optimization:"})," Set ",r.jsx(o,{math:"B = L(p)^{1/\\sqrt{2}}",inline:!0})," where ",r.jsx(o,{math:"L(p) = e^{\\sqrt{\\ln p \\ln \\ln p}}",inline:!0}),". Then:"]}),r.jsx(o,{math:"u = \\frac{\\ln p}{\\ln B} = \\frac{\\ln p}{(1/\\sqrt{2})\\sqrt{\\ln p \\ln \\ln p}} = \\sqrt{2} \\cdot \\sqrt{\\frac{\\ln p}{\\ln \\ln p}}"}),r.jsx(o,{math:"u \\ln u = \\sqrt{2} \\cdot \\sqrt{\\frac{\\ln p}{\\ln \\ln p}} \\cdot \\frac{1}{2}\\ln\\left(\\frac{\\ln p}{\\ln \\ln p}\\right) = \\frac{1}{\\sqrt{2}} \\sqrt{\\ln p \\ln \\ln p} + o(\\cdot)"}),r.jsxs("p",{children:["Thus ",r.jsx(o,{math:"u^u = L(p)^{1/\\sqrt{2} + o(1)}",inline:!0})," and:"]}),r.jsx(o,{math:"T = B \\cdot u^u = L(p)^{1/\\sqrt{2}} \\cdot L(p)^{1/\\sqrt{2}} = L(p)^{\\sqrt{2} + o(1)}"}),r.jsxs("p",{children:["Crucially, this depends only on ",r.jsx("em",{children:"p"}),", not on the size of ",r.jsx("em",{children:"n"}),'. ECM is thus optimal for finding "small" factors of large numbers.']})]}),children:["To find a prime factor ",r.jsx("em",{children:"p"})," of ",r.jsx("em",{children:"n"}),", ECM requires expected time:",r.jsx(o,{math:"L(p)^{\\sqrt{2} + o(1)} = \\exp\\left((1 + o(1))\\sqrt{2 \\ln p \\ln \\ln p}\\right)"}),r.jsxs("p",{className:"mt-2",children:["Note: The complexity depends on ",r.jsx("em",{children:"p"}),", not on ",r.jsx("em",{children:"n"}),"!"]})]}),r.jsxs(Ie,{type:"info",children:[r.jsx("strong",{children:"Optimal for Small Factors:"})," ECM excels when ",r.jsx("em",{children:"n"}),' has a "small" factor (up to ~60 digits). For balanced semiprimes where ',r.jsx(o,{math:"p \\approx q \\approx \\sqrt{n}",inline:!0}),", NFS is faster."]}),r.jsx("h3",{children:"Parameter Selection"}),r.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-primary-400 mb-3",children:"Recommended ECM Parameters"}),r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Factor Size"}),r.jsx("th",{className:"text-left py-2",children:"B1"}),r.jsx("th",{className:"text-left py-2",children:"B2"}),r.jsx("th",{className:"text-left py-2",children:"Curves"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"20 digits"}),r.jsx("td",{className:"py-2",children:"11,000"}),r.jsx("td",{className:"py-2",children:"1.9M"}),r.jsx("td",{className:"py-2",children:"74"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"30 digits"}),r.jsx("td",{className:"py-2",children:"250,000"}),r.jsx("td",{className:"py-2",children:"130M"}),r.jsx("td",{className:"py-2",children:"214"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"40 digits"}),r.jsx("td",{className:"py-2",children:"3M"}),r.jsx("td",{className:"py-2",children:"5.7B"}),r.jsx("td",{className:"py-2",children:"430"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"50 digits"}),r.jsx("td",{className:"py-2",children:"43M"}),r.jsx("td",{className:"py-2",children:"240B"}),r.jsx("td",{className:"py-2",children:"904"})]})]})]})]}),r.jsx("h3",{children:"Montgomery Curves"}),r.jsxs(ge,{title:"Montgomery Form",children:["For efficiency, ECM often uses curves in ",r.jsx("strong",{children:"Montgomery form"}),":",r.jsx(o,{math:"By^2 = x^3 + Ax^2 + x"}),"Point addition uses only x-coordinates (projective), avoiding expensive field inversions. This gives approximately 3 speedup over Weierstrass form."]}),r.jsx("h3",{children:"Comparison with Other Methods"}),r.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4 border border-dark-700 my-4",children:r.jsxs("table",{className:"w-full text-dark-300",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"text-left py-2",children:"Method"}),r.jsx("th",{className:"text-left py-2",children:"Complexity"}),r.jsx("th",{className:"text-left py-2",children:"Best For"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Trial Division"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(p)",inline:!0})}),r.jsx("td",{className:"py-2",children:"Very small factors"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Pollard Rho"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"O(\\sqrt{p})",inline:!0})}),r.jsx("td",{className:"py-2",children:"Small factors"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"Pollard p-1"}),r.jsx("td",{className:"py-2",children:"Depends on smoothness"}),r.jsx("td",{className:"py-2",children:"Smooth p-1"})]}),r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("td",{className:"py-2",children:"ECM"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"L(p)^{\\sqrt{2}}",inline:!0})}),r.jsx("td",{className:"py-2",children:"Medium factors (~60 digits)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-2",children:"QS/NFS"}),r.jsx("td",{className:"py-2",children:r.jsx(o,{math:"L(n)^{c}",inline:!0})}),r.jsx("td",{className:"py-2",children:"Balanced semiprimes"})]})]})]})}),r.jsx("h3",{children:"ECM Records"}),r.jsx("p",{children:"ECM is primarily used to find factors in the 30-70 digit range. Record factors found:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"2019: 83-digit factor (using special hardware)"}),r.jsx("li",{children:"Commonly finds 50-60 digit factors in large-scale searches"}),r.jsx("li",{children:"Essential preprocessing step before running NFS"})]}),r.jsxs(Ie,{type:"success",children:[r.jsx("strong",{children:"Practical Impact:"})," ECM is the method of choice for finding medium-sized factors. It's used routinely to remove small factors before attempting expensive NFS factorizations, and for factoring numbers in computational number theory research."]})]})}const JQ={0:MQ,1:zQ,2:DQ,3:RQ,4:OQ,5:qQ,6:IQ,7:LQ,8:BQ,9:PQ,10:$Q,11:FQ,12:UQ,13:HQ,14:VQ,15:GQ,16:ZQ,17:KQ,18:WQ,19:YQ,20:XQ,21:QQ};function eJ({children:t}){const[e,n]=K.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx(e5,{sidebarOpen:e,onToggleSidebar:()=>n(!e)}),r.jsx(t5,{isOpen:e,onClose:()=>n(!1)}),r.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function tJ(){const{id:t}=Bw(),e=parseInt(t||"0",10),n=JQ[e];return n?r.jsx(n,{}):r.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),r.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function nJ(){return r.jsxs(r.Fragment,{children:[r.jsx(eJ,{children:r.jsxs(Cz,{children:[r.jsx(ja,{path:"/",element:r.jsx(Kb,{})}),r.jsx(ja,{path:"/leaderboard",element:r.jsx(eY,{})}),r.jsx(ja,{path:"/theorems",element:r.jsx(AQ,{})}),r.jsx(ja,{path:"/interactive",element:r.jsx(NQ,{})}),r.jsx(ja,{path:"/section/:id",element:r.jsx(tJ,{})}),r.jsx(ja,{path:"/quiz/section/:id",element:r.jsx(EQ,{})}),r.jsx(ja,{path:"*",element:r.jsx(Kb,{})})]})}),r.jsx(WW,{})]})}function rJ(){return r.jsx(Lz,{children:r.jsx(oF,{children:r.jsx(mV,{children:r.jsx(nJ,{})})})})}BM.createRoot(document.getElementById("root")).render(r.jsx(K.StrictMode,{children:r.jsx(rJ,{})}));
