const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-B3sVL-nn.js","./vendor-animation-BJiDpXTb.js","./vendor-react-DamxDR2H.js","./vendor-math-p018AHG0.js","./Theorems-DhGbSYcE.js","./Sidebar-3PHUIuJf.js","./InteractiveModules-CHfizbpB.js","./SectionQuizPage-pn8ZiRSu.js","./quizMap-BI1Dm0Po.js","./Section00-CM66KN0I.js","./Card-CIA_2fR4.js","./Section01-DvsKRMTN.js","./Section02-BZWQHyde.js","./Section03-6xjzTmuL.js","./Section04-Dc83sBqS.js","./Section05-BsFmDC_d.js","./Section06-B8CcA0yp.js","./Section07-DSAScLV7.js","./Section08-Z5XWfrn5.js","./Section09-Cstr-82w.js","./Section10-DytL5hR6.js","./Section11-C8yvdp86.js","./Section12-vLXsEINq.js","./Section13-CCMyoGa9.js","./Section14-CoAyOoMq.js","./Section15-CpXzJCoB.js","./Section16-BQ1c10MW.js","./Section17-DFYR2mUr.js","./Section18-BMbyP8Y1.js","./Section19-D-WImEgT.js","./Section20-_Wn2LqEH.js"])))=>i.map(i=>d[i]);
import{j as w,m as YC}from"./vendor-animation-BJiDpXTb.js";import{r as k,a as KC,L as JC,H as QC,R as WC,b as lr,u as e2}from"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var Hb={exports:{}},qf={},Fb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var q=H.length;H.push(G);e:for(;0<q;){var ee=q-1>>>1,ce=H[ee];if(0<s(ce,G))H[ee]=G,H[q]=ce,q=ee;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],q=H.pop();if(q!==G){H[0]=q;e:for(var ee=0,ce=H.length,ge=ce>>>1;ee<ge;){var At=2*(ee+1)-1,Me=H[At],xt=At+1,pe=H[xt];if(0>s(Me,q))xt<ce&&0>s(pe,Me)?(H[ee]=pe,H[xt]=q,ee=xt):(H[ee]=Me,H[At]=q,ee=At);else if(xt<ce&&0>s(pe,q))H[ee]=pe,H[xt]=q,ee=xt;else break e}}return G}function s(H,G){var q=H.sortIndex-G.sortIndex;return q!==0?q:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],f=1,d=null,m=3,g=!1,C=!1,R=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var G=n(u);G!==null;){if(G.callback===null)i(u);else if(G.startTime<=H)i(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function L(H){if(R=!1,O(H),!C)if(n(c)!==null)C=!0,V||(V=!0,M());else{var G=n(u);G!==null&&ae(L,G.startTime-H)}}var V=!1,T=-1,y=5,S=-1;function E(){return I?!0:!(e.unstable_now()-S<y)}function x(){if(I=!1,V){var H=e.unstable_now();S=H;var G=!0;try{e:{C=!1,R&&(R=!1,v(T),T=-1),g=!0;var q=m;try{t:{for(O(H),d=n(c);d!==null&&!(d.expirationTime>H&&E());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,m=d.priorityLevel;var ce=ee(d.expirationTime<=H);if(H=e.unstable_now(),typeof ce=="function"){d.callback=ce,O(H),G=!0;break t}d===n(c)&&i(c),O(H)}else i(c);d=n(c)}if(d!==null)G=!0;else{var ge=n(u);ge!==null&&ae(L,ge.startTime-H),G=!1}}break e}finally{d=null,m=q,g=!1}G=void 0}}finally{G?M():V=!1}}}var M;if(typeof A=="function")M=function(){A(x)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,se=N.port2;N.port1.onmessage=x,M=function(){se.postMessage(null)}}else M=function(){b(x,0)};function ae(H,G){T=b(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return H()}finally{m=q}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=m;m=H;try{return G()}finally{m=q}},e.unstable_scheduleCallback=function(H,G,q){var ee=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,H={id:f++,callback:G,priorityLevel:H,startTime:q,expirationTime:ce,sortIndex:-1},q>ee?(H.sortIndex=q,t(u,H),n(c)===null&&H===n(u)&&(R?(v(T),T=-1):R=!0,ae(L,q-ee))):(H.sortIndex=ce,t(c,H),C||g||(C=!0,V||(V=!0,M()))),H},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(H){var G=m;return function(){var q=m;m=G;try{return H.apply(this,arguments)}finally{m=q}}}})(Gb);Fb.exports=Gb;var t2=Fb.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=t2,$b=k,n2=KC;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xb(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b0(e){if(nc(e)!==e)throw Error(j(188))}function i2(e){var t=e.alternate;if(!t){if(t=nc(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return b0(s),e;if(r===i)return b0(s),t;r=r.sibling}throw Error(j(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function Yb(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Yb(e),t!==null)return t;e=e.sibling}return null}var De=Object.assign,s2=Symbol.for("react.element"),Fc=Symbol.for("react.transitional.element"),Wo=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),Jb=Symbol.for("react.consumer"),Ci=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),lm=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),cm=Symbol.for("react.activity"),r2=Symbol.for("react.memo_cache_sentinel"),T0=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var a2=Symbol.for("react.client.reference");function um(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===a2?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ra:return"Fragment";case am:return"Profiler";case Kb:return"StrictMode";case om:return"Suspense";case lm:return"SuspenseList";case cm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Wo:return"Portal";case Ci:return e.displayName||"Context";case Jb:return(e._context.displayName||"Context")+".Consumer";case Xp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yp:return t=e.displayName||null,t!==null?t:um(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return um(e(t))}catch{}}return null}var el=Array.isArray,K=$b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},fm=[],aa=-1;function li(e){return{current:e}}function dt(e){0>aa||(e.current=fm[aa],fm[aa]=null,aa--)}function we(e,t){aa++,fm[aa]=e.current,e.current=t}var ni=li(null),Dl=li(null),bs=li(null),$u=li(null);function Zu(e,t){switch(we(bs,t),we(Dl,e),we(ni,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nv(t),e=yE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}dt(ni),we(ni,e)}function Pa(){dt(ni),dt(Dl),dt(bs)}function hm(e){e.memoizedState!==null&&we($u,e);var t=ni.current,n=yE(t,e.type);t!==n&&(we(Dl,e),we(ni,n))}function qu(e){Dl.current===e&&(dt(ni),dt(Dl)),$u.current===e&&(dt($u),Hl._currentValue=br)}var Uh,E0;function fr(e){if(Uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uh=t&&t[1]||"",E0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+e+E0}var jh=!1;function Vh(e,t){if(!e||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(s=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(i===c.length||s===u.length)for(i=c.length-1,s=u.length-1;1<=i&&0<=s&&c[i]!==u[s];)s--;for(;1<=i&&0<=s;i--,s--)if(c[i]!==u[s]){if(i!==1||s!==1)do if(i--,s--,0>s||c[i]!==u[s]){var f=`
`+c[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=s);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?fr(n):""}function o2(e,t){switch(e.tag){case 26:case 27:case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return e.child!==t&&t!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Vh(e.type,!1);case 11:return Vh(e.type.render,!1);case 1:return Vh(e.type,!0);case 31:return fr("Activity");default:return""}}function A0(e){try{var t="",n=null;do t+=o2(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var dm=Object.prototype.hasOwnProperty,Kp=lt.unstable_scheduleCallback,Bh=lt.unstable_cancelCallback,l2=lt.unstable_shouldYield,c2=lt.unstable_requestPaint,tn=lt.unstable_now,u2=lt.unstable_getCurrentPriorityLevel,Qb=lt.unstable_ImmediatePriority,Wb=lt.unstable_UserBlockingPriority,Xu=lt.unstable_NormalPriority,f2=lt.unstable_LowPriority,eT=lt.unstable_IdlePriority,h2=lt.log,d2=lt.unstable_setDisableYieldValue,ic=null,nn=null;function ms(e){if(typeof h2=="function"&&d2(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(ic,e)}catch{}}var sn=Math.clz32?Math.clz32:g2,m2=Math.log,p2=Math.LN2;function g2(e){return e>>>=0,e===0?32:31-(m2(e)/p2|0)|0}var Gc=256,$c=262144,Zc=4194304;function hr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xf(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=hr(i):(a&=o,a!==0?s=hr(a):n||(n=o&~e,n!==0&&(s=hr(n))))):(o=i&~r,o!==0?s=hr(o):a!==0?s=hr(a):n||(n=i&~e,n!==0&&(s=hr(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function sc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function y2(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tT(){var e=Zc;return Zc<<=1,!(Zc&62914560)&&(Zc=4194304),e}function Hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function v2(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-sn(n),d=1<<f;o[f]=0,c[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var g=m[f];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&nT(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function nT(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-sn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function iT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-sn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function sT(e,t){var n=t&-t;return n=n&42?1:Jp(n),n&(e.suspendedLanes|t)?0:n}function Jp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function rT(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:NE(e.type))}function w0(e,t){var n=me.p;try{return me.p=e,t()}finally{me.p=n}}var Fs=Math.random().toString(36).slice(2),St="__reactFiber$"+Fs,Ht="__reactProps$"+Fs,to="__reactContainer$"+Fs,mm="__reactEvents$"+Fs,_2="__reactListeners$"+Fs,S2="__reactHandles$"+Fs,x0="__reactResources$"+Fs,ac="__reactMarker$"+Fs;function Wp(e){delete e[St],delete e[Ht],delete e[mm],delete e[_2],delete e[S2]}function oa(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[to]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kv(e);e!==null;){if(n=e[St])return n;e=kv(e)}return t}e=n,n=e.parentNode}return null}function no(e){if(e=e[St]||e[to]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function tl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function Aa(e){var t=e[x0];return t||(t=e[x0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[ac]=!0}var aT=new Set,oT={};function jr(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(oT[e]=t,e=0;e<t.length;e++)aT.add(t[e])}var b2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),C0={},N0={};function T2(e){return dm.call(N0,e)?!0:dm.call(C0,e)?!1:b2.test(e)?N0[e]=!0:(C0[e]=!0,!1)}function _u(e,t,n){if(T2(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function qc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function yi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E2(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pm(e){if(!e._valueTracker){var t=lT(e)?"checked":"value";e._valueTracker=E2(e,t,""+e[t])}}function cT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=lT(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var A2=/[\n"\\]/g;function pn(e){return e.replace(A2,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+hn(t)):e.value!==""+hn(t)&&(e.value=""+hn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?ym(e,a,hn(t)):n!=null?ym(e,a,hn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+hn(o):e.removeAttribute("name")}function uT(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){pm(e);return}n=n!=null?""+hn(n):"",t=t!=null?""+hn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),pm(e)}function ym(e,t,n){t==="number"&&Yu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fT(e,t,n){if(t!=null&&(t=""+hn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+hn(n):""}function hT(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(j(92));if(el(i)){if(1<i.length)throw Error(j(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=hn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),pm(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var w2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function O0(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||w2.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function dT(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&O0(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&O0(e,r,t[r])}function eg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Su(e){return C2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ni(){}var vm=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,xa=null;function R0(e){var t=no(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(gm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Ht]||null;if(!s)throw Error(j(90));gm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&cT(i)}break e;case"textarea":fT(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var Fh=!1;function mT(e,t,n){if(Fh)return e(t,n);Fh=!0;try{var i=e(t);return i}finally{if(Fh=!1,(la!==null||xa!==null)&&(ah(),la&&(t=la,e=xa,xa=la=null,R0(t),e)))for(t=0;t<e.length;t++)R0(e[t])}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ht]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=!1;if(Li)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){_m=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{_m=!1}var ps=null,ng=null,bu=null;function pT(){if(bu)return bu;var e,t=ng,n=t.length,i,s="value"in ps?ps.value:ps.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return bu=s.slice(e,1<i?1-i:void 0)}function Tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function D0(){return!1}function Ft(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Xc:D0,this.isPropagationStopped=D0,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=Ft(Vr),oc=De({},Vr,{view:0,detail:0}),N2=Ft(oc),Gh,$h,jo,Kf=De({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jo&&(jo&&e.type==="mousemove"?(Gh=e.screenX-jo.screenX,$h=e.screenY-jo.screenY):$h=Gh=0,jo=e),Gh)},movementY:function(e){return"movementY"in e?e.movementY:$h}}),M0=Ft(Kf),O2=De({},Kf,{dataTransfer:0}),R2=Ft(O2),D2=De({},oc,{relatedTarget:0}),Zh=Ft(D2),M2=De({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),k2=Ft(M2),I2=De({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),z2=Ft(I2),L2=De({},Vr,{data:0}),k0=Ft(L2),P2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j2[e])?!!t[e]:!1}function ig(){return V2}var B2=De({},oc,{key:function(e){if(e.key){var t=P2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(e){return e.type==="keypress"?Tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H2=Ft(B2),F2=De({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Ft(F2),G2=De({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),$2=Ft(G2),Z2=De({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),q2=Ft(Z2),X2=De({},Kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y2=Ft(X2),K2=De({},Vr,{newState:0,oldState:0}),J2=Ft(K2),Q2=[9,13,27,32],sg=Li&&"CompositionEvent"in window,ll=null;Li&&"documentMode"in document&&(ll=document.documentMode);var W2=Li&&"TextEvent"in window&&!ll,gT=Li&&(!sg||ll&&8<ll&&11>=ll),z0=" ",L0=!1;function yT(e,t){switch(e){case"keyup":return Q2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function eN(e,t){switch(e){case"compositionend":return vT(t);case"keypress":return t.which!==32?null:(L0=!0,z0);case"textInput":return e=t.data,e===z0&&L0?null:e;default:return null}}function tN(e,t){if(ca)return e==="compositionend"||!sg&&yT(e,t)?(e=pT(),bu=ng=ps=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gT&&t.locale!=="ko"?null:t.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nN[e.type]:t==="textarea"}function _T(e,t,n,i){la?xa?xa.push(i):xa=[i]:la=i,t=mf(t,"onChange"),0<t.length&&(n=new Yf("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var cl=null,kl=null;function iN(e){mE(e,0)}function Jf(e){var t=tl(e);if(cT(t))return e}function U0(e,t){if(e==="change")return t}var ST=!1;if(Li){var qh;if(Li){var Xh="oninput"in document;if(!Xh){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),Xh=typeof j0.oninput=="function"}qh=Xh}else qh=!1;ST=qh&&(!document.documentMode||9<document.documentMode)}function V0(){cl&&(cl.detachEvent("onpropertychange",bT),kl=cl=null)}function bT(e){if(e.propertyName==="value"&&Jf(kl)){var t=[];_T(t,kl,e,tg(e)),mT(iN,t)}}function sN(e,t,n){e==="focusin"?(V0(),cl=t,kl=n,cl.attachEvent("onpropertychange",bT)):e==="focusout"&&V0()}function rN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jf(kl)}function aN(e,t){if(e==="click")return Jf(t)}function oN(e,t){if(e==="input"||e==="change")return Jf(t)}function lN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var an=typeof Object.is=="function"?Object.is:lN;function Il(e,t){if(an(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!dm.call(t,s)||!an(e[s],t[s]))return!1}return!0}function B0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H0(e,t){var n=B0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function TT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?TT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ET(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yu(e.document)}return t}function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cN=Li&&"documentMode"in document&&11>=document.documentMode,ua=null,Sm=null,ul=null,bm=!1;function F0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bm||ua==null||ua!==Yu(i)||(i=ua,"selectionStart"in i&&rg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ul&&Il(ul,i)||(ul=i,i=mf(Sm,"onSelect"),0<i.length&&(t=new Yf("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ua)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fa={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},Yh={},AT={};Li&&(AT=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Br(e){if(Yh[e])return Yh[e];if(!fa[e])return e;var t=fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in AT)return Yh[e]=t[n];return e}var wT=Br("animationend"),xT=Br("animationiteration"),CT=Br("animationstart"),uN=Br("transitionrun"),fN=Br("transitionstart"),hN=Br("transitioncancel"),NT=Br("transitionend"),OT=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function Vn(e,t){OT.set(e,t),jr(t,[e])}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fn=[],ha=0,ag=0;function Qf(){for(var e=ha,t=ag=ha=0;t<e;){var n=fn[t];fn[t++]=null;var i=fn[t];fn[t++]=null;var s=fn[t];fn[t++]=null;var r=fn[t];if(fn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&RT(n,s,r)}}function Wf(e,t,n,i){fn[ha++]=e,fn[ha++]=t,fn[ha++]=n,fn[ha++]=i,ag|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function og(e,t,n,i){return Wf(e,t,n,i),Ju(e)}function Hr(e,t){return Wf(e,null,null,t),Ju(e)}function RT(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-sn(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Ju(e){if(50<_l)throw _l=0,Fm=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var da={};function dN(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,n,i){return new dN(e,t,n,i)}function lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,t){var n=e.alternate;return n===null?(n=Wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function DT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Eu(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")lg(e)&&(a=1);else if(typeof e=="string")a=vO(e,n,ni.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case cm:return e=Wt(31,n,t,s),e.elementType=cm,e.lanes=r,e;case ra:return Tr(n.children,s,r,t);case Kb:a=8,s|=24;break;case am:return e=Wt(12,n,t,s|2),e.elementType=am,e.lanes=r,e;case om:return e=Wt(13,n,t,s),e.elementType=om,e.lanes=r,e;case lm:return e=Wt(19,n,t,s),e.elementType=lm,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ci:a=10;break e;case Jb:a=9;break e;case Xp:a=11;break e;case Yp:a=14;break e;case ss:a=16,i=null;break e}a=29,n=Error(j(130,e===null?"null":typeof e,"")),i=null}return t=Wt(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Tr(e,t,n,i){return e=Wt(7,e,i,t),e.lanes=n,e}function Kh(e,t,n){return e=Wt(6,e,null,t),e.lanes=n,e}function MT(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function Jh(e,t,n){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var G0=new WeakMap;function gn(e,t){if(typeof e=="object"&&e!==null){var n=G0.get(e);return n!==void 0?n:(t={value:e,source:t,stack:A0(t)},G0.set(e,t),t)}return{value:e,source:t,stack:A0(t)}}var ma=[],pa=0,Qu=null,zl=0,dn=[],mn=0,ks=null,Jn=1,Qn="";function Ai(e,t){ma[pa++]=zl,ma[pa++]=Qu,Qu=e,zl=t}function kT(e,t,n){dn[mn++]=Jn,dn[mn++]=Qn,dn[mn++]=ks,ks=e;var i=Jn;e=Qn;var s=32-sn(i)-1;i&=~(1<<s),n+=1;var r=32-sn(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Jn=1<<32-sn(t)+s|n<<s|i,Qn=r+e}else Jn=1<<r|n<<s|i,Qn=e}function cg(e){e.return!==null&&(Ai(e,1),kT(e,1,0))}function ug(e){for(;e===Qu;)Qu=ma[--pa],ma[pa]=null,zl=ma[--pa],ma[pa]=null;for(;e===ks;)ks=dn[--mn],dn[mn]=null,Qn=dn[--mn],dn[mn]=null,Jn=dn[--mn],dn[mn]=null}function IT(e,t){dn[mn++]=Jn,dn[mn++]=Qn,dn[mn++]=ks,Jn=t.id,Qn=t.overflow,ks=e}var bt=null,Oe=null,oe=!1,Ts=null,yn=!1,Em=Error(j(519));function Is(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(gn(t,e)),Em}function $0(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[St]=e,t[Ht]=i,n){case"dialog":ne("cancel",t),ne("close",t);break;case"iframe":case"object":case"embed":ne("load",t);break;case"video":case"audio":for(n=0;n<Vl.length;n++)ne(Vl[n],t);break;case"source":ne("error",t);break;case"img":case"image":case"link":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"input":ne("invalid",t),uT(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ne("invalid",t);break;case"textarea":ne("invalid",t),hT(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||gE(t.textContent,n)?(i.popover!=null&&(ne("beforetoggle",t),ne("toggle",t)),i.onScroll!=null&&ne("scroll",t),i.onScrollEnd!=null&&ne("scrollend",t),i.onClick!=null&&(t.onclick=Ni),t=!0):t=!1,t||Is(e,!0)}function Z0(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:bt=bt.return}}function Wr(e){if(e!==bt)return!1;if(!oe)return Z0(e),oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xm(e.type,e.memoizedProps)),n=!n),n&&Oe&&Is(e),Z0(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Oe=Mv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));Oe=Mv(e)}else t===27?(t=Oe,Gs(e.type)?(e=Qm,Qm=null,Oe=e):Oe=t):Oe=bt?Tn(e.stateNode.nextSibling):null;return!0}function Or(){Oe=bt=null,oe=!1}function Qh(){var e=Ts;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Ts=null),e}function Ll(e){Ts===null?Ts=[e]:Ts.push(e)}var Am=li(null),Fr=null,Oi=null;function as(e,t,n){we(Am,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=Am.current,dt(Am)}function wm(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xm(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),wm(r.return,n,e),i||(a=null);break e}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(j(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),wm(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function io(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(j(387));if(a=a.memoizedProps,a!==null){var o=s.type;an(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===$u.current){if(a=s.alternate,a===null)throw Error(j(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}s=s.return}e!==null&&xm(t,e,n,i),t.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){Fr=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Tt(e){return zT(Fr,e)}function Yc(e,t){return Fr===null&&Rr(e),zT(e,t)}function zT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Oi===null){if(e===null)throw Error(j(308));Oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oi=Oi.next=t;return n}var mN=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},pN=lt.unstable_scheduleCallback,gN=lt.unstable_NormalPriority,et={$$typeof:Ci,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fg(){return{controller:new mN,data:new Map,refCount:0}}function lc(e){e.refCount--,e.refCount===0&&pN(gN,function(){e.controller.abort()})}var fl=null,Cm=0,Va=0,Ca=null;function yN(e,t){if(fl===null){var n=fl=[];Cm=0,Va=Lg(),Ca={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Cm++,t.then(q0,q0),t}function q0(){if(--Cm===0&&fl!==null){Ca!==null&&(Ca.status="fulfilled");var e=fl;fl=null,Va=0,Ca=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vN(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var X0=K.S;K.S=function(e,t){Y1=tn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yN(e,t),X0!==null&&X0(e,t)};var Er=li(null);function hg(){var e=Er.current;return e!==null?e:Ae.pooledCache}function Au(e,t){t===null?we(Er,Er.current):we(Er,t.pool)}function LT(){var e=hg();return e===null?null:{parent:et._currentValue,pool:e}}var so=Error(j(460)),dg=Error(j(474)),eh=Error(j(542)),ef={then:function(){}};function Y0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function PT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ni,Ni),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,J0(e),e;default:if(typeof t.status=="string")t.then(Ni,Ni);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,J0(e),e}throw Ar=t,so}}function dr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ar=n,so):n}}var Ar=null;function K0(){if(Ar===null)throw Error(j(459));var e=Ar;return Ar=null,e}function J0(e){if(e===so||e===eh)throw Error(j(483))}var Na=null,Pl=0;function Kc(e){var t=Pl;return Pl+=1,Na===null&&(Na=[]),PT(Na,e,t)}function Vo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jc(e,t){throw t.$$typeof===s2?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function UT(e){function t(b,v){if(e){var A=b.deletions;A===null?(b.deletions=[v],b.flags|=16):A.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function i(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function s(b,v){return b=Mi(b,v),b.index=0,b.sibling=null,b}function r(b,v,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<v?(b.flags|=67108866,v):A):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,A,O){return v===null||v.tag!==6?(v=Kh(A,b.mode,O),v.return=b,v):(v=s(v,A),v.return=b,v)}function c(b,v,A,O){var L=A.type;return L===ra?f(b,v,A.props.children,O,A.key):v!==null&&(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ss&&dr(L)===v.type)?(v=s(v,A.props),Vo(v,A),v.return=b,v):(v=Eu(A.type,A.key,A.props,null,b.mode,O),Vo(v,A),v.return=b,v)}function u(b,v,A,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Jh(A,b.mode,O),v.return=b,v):(v=s(v,A.children||[]),v.return=b,v)}function f(b,v,A,O,L){return v===null||v.tag!==7?(v=Tr(A,b.mode,O,L),v.return=b,v):(v=s(v,A),v.return=b,v)}function d(b,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Kh(""+v,b.mode,A),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fc:return A=Eu(v.type,v.key,v.props,null,b.mode,A),Vo(A,v),A.return=b,A;case Wo:return v=Jh(v,b.mode,A),v.return=b,v;case ss:return v=dr(v),d(b,v,A)}if(el(v)||Po(v))return v=Tr(v,b.mode,A,null),v.return=b,v;if(typeof v.then=="function")return d(b,Kc(v),A);if(v.$$typeof===Ci)return d(b,Yc(b,v),A);Jc(b,v)}return null}function m(b,v,A,O){var L=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return L!==null?null:o(b,v,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Fc:return A.key===L?c(b,v,A,O):null;case Wo:return A.key===L?u(b,v,A,O):null;case ss:return A=dr(A),m(b,v,A,O)}if(el(A)||Po(A))return L!==null?null:f(b,v,A,O,null);if(typeof A.then=="function")return m(b,v,Kc(A),O);if(A.$$typeof===Ci)return m(b,v,Yc(b,A),O);Jc(b,A)}return null}function g(b,v,A,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return b=b.get(A)||null,o(v,b,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Fc:return b=b.get(O.key===null?A:O.key)||null,c(v,b,O,L);case Wo:return b=b.get(O.key===null?A:O.key)||null,u(v,b,O,L);case ss:return O=dr(O),g(b,v,A,O,L)}if(el(O)||Po(O))return b=b.get(A)||null,f(v,b,O,L,null);if(typeof O.then=="function")return g(b,v,A,Kc(O),L);if(O.$$typeof===Ci)return g(b,v,A,Yc(v,O),L);Jc(v,O)}return null}function C(b,v,A,O){for(var L=null,V=null,T=v,y=v=0,S=null;T!==null&&y<A.length;y++){T.index>y?(S=T,T=null):S=T.sibling;var E=m(b,T,A[y],O);if(E===null){T===null&&(T=S);break}e&&T&&E.alternate===null&&t(b,T),v=r(E,v,y),V===null?L=E:V.sibling=E,V=E,T=S}if(y===A.length)return n(b,T),oe&&Ai(b,y),L;if(T===null){for(;y<A.length;y++)T=d(b,A[y],O),T!==null&&(v=r(T,v,y),V===null?L=T:V.sibling=T,V=T);return oe&&Ai(b,y),L}for(T=i(T);y<A.length;y++)S=g(T,b,y,A[y],O),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?y:S.key),v=r(S,v,y),V===null?L=S:V.sibling=S,V=S);return e&&T.forEach(function(x){return t(b,x)}),oe&&Ai(b,y),L}function R(b,v,A,O){if(A==null)throw Error(j(151));for(var L=null,V=null,T=v,y=v=0,S=null,E=A.next();T!==null&&!E.done;y++,E=A.next()){T.index>y?(S=T,T=null):S=T.sibling;var x=m(b,T,E.value,O);if(x===null){T===null&&(T=S);break}e&&T&&x.alternate===null&&t(b,T),v=r(x,v,y),V===null?L=x:V.sibling=x,V=x,T=S}if(E.done)return n(b,T),oe&&Ai(b,y),L;if(T===null){for(;!E.done;y++,E=A.next())E=d(b,E.value,O),E!==null&&(v=r(E,v,y),V===null?L=E:V.sibling=E,V=E);return oe&&Ai(b,y),L}for(T=i(T);!E.done;y++,E=A.next())E=g(T,b,y,E.value,O),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?y:E.key),v=r(E,v,y),V===null?L=E:V.sibling=E,V=E);return e&&T.forEach(function(M){return t(b,M)}),oe&&Ai(b,y),L}function I(b,v,A,O){if(typeof A=="object"&&A!==null&&A.type===ra&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Fc:e:{for(var L=A.key;v!==null;){if(v.key===L){if(L=A.type,L===ra){if(v.tag===7){n(b,v.sibling),O=s(v,A.props.children),O.return=b,b=O;break e}}else if(v.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ss&&dr(L)===v.type){n(b,v.sibling),O=s(v,A.props),Vo(O,A),O.return=b,b=O;break e}n(b,v);break}else t(b,v);v=v.sibling}A.type===ra?(O=Tr(A.props.children,b.mode,O,A.key),O.return=b,b=O):(O=Eu(A.type,A.key,A.props,null,b.mode,O),Vo(O,A),O.return=b,b=O)}return a(b);case Wo:e:{for(L=A.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(b,v.sibling),O=s(v,A.children||[]),O.return=b,b=O;break e}else{n(b,v);break}else t(b,v);v=v.sibling}O=Jh(A,b.mode,O),O.return=b,b=O}return a(b);case ss:return A=dr(A),I(b,v,A,O)}if(el(A))return C(b,v,A,O);if(Po(A)){if(L=Po(A),typeof L!="function")throw Error(j(150));return A=L.call(A),R(b,v,A,O)}if(typeof A.then=="function")return I(b,v,Kc(A),O);if(A.$$typeof===Ci)return I(b,v,Yc(b,A),O);Jc(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(n(b,v.sibling),O=s(v,A),O.return=b,b=O):(n(b,v),O=Kh(A,b.mode,O),O.return=b,b=O),a(b)):n(b,v)}return function(b,v,A,O){try{Pl=0;var L=I(b,v,A,O);return Na=null,L}catch(T){if(T===so||T===eh)throw T;var V=Wt(29,T,null,b.mode);return V.lanes=O,V.return=b,V}finally{}}}var Dr=UT(!0),jT=UT(!1),rs=!1;function mg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,de&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Ju(e),RT(e,null,n),t}return Wf(e,i,t,n),Ju(e)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,iT(e,n)}}function Wh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Om=!1;function dl(){if(Om){var e=Ca;if(e!==null)throw e}}function ml(e,t,n,i){Om=!1;var s=e.updateQueue;rs=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?r=u:a.next=u,a=c;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(r!==null){var d=s.baseState;a=0,f=u=c=null,o=r;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(re&m)===m:(i&m)===m){m!==0&&m===Va&&(Om=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var C=e,R=o;m=t;var I=n;switch(R.tag){case 1:if(C=R.payload,typeof C=="function"){d=C.call(I,d,m);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=R.payload,m=typeof C=="function"?C.call(I,d,m):C,m==null)break e;d=De({},d,m);break e;case 2:rs=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=g,c=d):f=f.next=g,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,r===null&&(s.shared.lanes=0),Ls|=a,e.lanes=a,e.memoizedState=d}}function VT(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function BT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)VT(n[e],t)}var Ba=li(null),tf=li(0);function Q0(e,t){e=Vi,we(tf,e),we(Ba,t),Vi=e|t.baseLanes}function Rm(){we(tf,Vi),we(Ba,Ba.current)}function pg(){Vi=tf.current,dt(Ba),dt(tf)}var on=li(null),bn=null;function os(e){var t=e.alternate;we(qe,qe.current&1),we(on,e),bn===null&&(t===null||Ba.current!==null||t.memoizedState!==null)&&(bn=e)}function Dm(e){we(qe,qe.current),we(on,e),bn===null&&(bn=e)}function HT(e){e.tag===22?(we(qe,qe.current),we(on,e),bn===null&&(bn=e)):ls()}function ls(){we(qe,qe.current),we(on,on.current)}function Qt(e){dt(on),bn===e&&(bn=null),dt(qe)}var qe=li(0);function nf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Km(n)||Jm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=0,Q=null,Te=null,Qe=null,sf=!1,Oa=!1,Mr=!1,rf=0,Ul=0,Ra=null,_N=0;function Ue(){throw Error(j(321))}function gg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!an(e[n],t[n]))return!1;return!0}function yg(e,t,n,i,s,r){return Pi=r,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?_1:Ng,Mr=!1,r=n(i,s),Mr=!1,Oa&&(r=GT(t,n,i,s)),FT(e),r}function FT(e){K.H=jl;var t=Te!==null&&Te.next!==null;if(Pi=0,Qe=Te=Q=null,sf=!1,Ul=0,Ra=null,t)throw Error(j(300));e===null||tt||(e=e.dependencies,e!==null&&Wu(e)&&(tt=!0))}function GT(e,t,n,i){Q=e;var s=0;do{if(Oa&&(Ra=null),Ul=0,Oa=!1,25<=s)throw Error(j(301));if(s+=1,Qe=Te=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=S1,r=t(n,i)}while(Oa);return r}function SN(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?cc(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(Q.flags|=1024),t}function vg(){var e=rf!==0;return rf=0,e}function _g(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Sg(e){if(sf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}sf=!1}Pi=0,Qe=Te=Q=null,Oa=!1,Ul=rf=0,Ra=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Q.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xe(){if(Te===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Qe===null?Q.memoizedState:Qe.next;if(t!==null)Qe=t,Te=e;else{if(e===null)throw Q.alternate===null?Error(j(467)):Error(j(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Qe===null?Q.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cc(e){var t=Ul;return Ul+=1,Ra===null&&(Ra=[]),e=PT(Ra,e,t),t=Q,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?_1:Ng),e}function nh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cc(e);if(e.$$typeof===Ci)return Tt(e)}throw Error(j(438,String(e)))}function bg(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=th(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=r2;return t.index++,n}function Ui(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=Xe();return Tg(t,Te,e)}function Tg(e,t,n){var i=e.queue;if(i===null)throw Error(j(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,c=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(re&d)===d:(Pi&d)===d){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Va&&(f=!0);else if((Pi&m)===m){u=u.next,m===Va&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,a=r):c=c.next=d,Q.lanes|=m,Ls|=m;d=u.action,Mr&&n(r,d),r=u.hasEagerState?u.eagerState:n(r,d)}else m={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=m,a=r):c=c.next=m,Q.lanes|=d,Ls|=d;u=u.next}while(u!==null&&u!==t);if(c===null?a=r:c.next=o,!an(r,e.memoizedState)&&(tt=!0,f&&(n=Ca,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=c,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ed(e){var t=Xe(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);an(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function $T(e,t,n){var i=Q,s=Xe(),r=oe;if(r){if(n===void 0)throw Error(j(407));n=n()}else n=t();var a=!an((Te||s).memoizedState,n);if(a&&(s.memoizedState=n,tt=!0),s=s.queue,Eg(XT.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(i.flags|=2048,Ha(9,{destroy:void 0},qT.bind(null,i,s,n,t),null),Ae===null)throw Error(j(349));r||Pi&127||ZT(i,t,n)}return n}function ZT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=th(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qT(e,t,n,i){t.value=n,t.getSnapshot=i,YT(t)&&KT(e)}function XT(e,t,n){return n(function(){YT(t)&&KT(e)})}function YT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!an(e,n)}catch{return!0}}function KT(e){var t=Hr(e,2);t!==null&&Bt(t,e,2)}function Mm(e){var t=Ot();if(typeof e=="function"){var n=e;if(e=n(),Mr){ms(!0);try{n()}finally{ms(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t}function JT(e,t,n,i){return e.baseState=n,Tg(e,Te,typeof i=="function"?i:Ui)}function bN(e,t,n,i,s){if(sh(e))throw Error(j(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};K.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,QT(t,r)):(r.next=n.next,t.pending=n.next=r)}}function QT(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=K.T,a={};K.T=a;try{var o=n(s,i),c=K.S;c!==null&&c(a,o),W0(e,t,o)}catch(u){km(e,t,u)}finally{r!==null&&a.types!==null&&(r.types=a.types),K.T=r}}else try{r=n(s,i),W0(e,t,r)}catch(u){km(e,t,u)}}function W0(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){ev(e,t,i)},function(i){return km(e,t,i)}):ev(e,t,n)}function ev(e,t,n){t.status="fulfilled",t.value=n,WT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,QT(e,n)))}function km(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,WT(t),t=t.next;while(t!==i)}e.action=null}function WT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function e1(e,t){return t}function tv(e,t){if(oe){var n=Ae.formState;if(n!==null){e:{var i=Q;if(oe){if(Oe){t:{for(var s=Oe,r=yn;s.nodeType!==8;){if(!r){s=null;break t}if(s=Tn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Oe=Tn(s.nextSibling),i=s.data==="F!";break e}}Is(i)}i=!1}i&&(t=n[0])}}return n=Ot(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e1,lastRenderedState:t},n.queue=i,n=g1.bind(null,Q,i),i.dispatch=n,i=Mm(!1),r=Cg.bind(null,Q,!1,i.queue),i=Ot(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=bN.bind(null,Q,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function nv(e){var t=Xe();return t1(t,Te,e)}function t1(e,t,n){if(t=Tg(e,t,e1)[0],e=wu(Ui)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cc(t)}catch(a){throw a===so?eh:a}else i=t;t=Xe();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,Ha(9,{destroy:void 0},TN.bind(null,s,n),null)),[i,r,e]}function TN(e,t){e.action=t}function iv(e){var t=Xe(),n=Te;if(n!==null)return t1(t,n,e);Xe(),t=t.memoizedState,n=Xe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ha(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Q.updateQueue,t===null&&(t=th(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function n1(){return Xe().memoizedState}function xu(e,t,n,i){var s=Ot();Q.flags|=e,s.memoizedState=Ha(1|t,{destroy:void 0},n,i===void 0?null:i)}function ih(e,t,n,i){var s=Xe();i=i===void 0?null:i;var r=s.memoizedState.inst;Te!==null&&i!==null&&gg(i,Te.memoizedState.deps)?s.memoizedState=Ha(t,r,n,i):(Q.flags|=e,s.memoizedState=Ha(1|t,r,n,i))}function sv(e,t){xu(8390656,8,e,t)}function Eg(e,t){ih(2048,8,e,t)}function EN(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=th(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function i1(e){var t=Xe().memoizedState;return EN({ref:t,nextImpl:e}),function(){if(de&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function s1(e,t){return ih(4,2,e,t)}function r1(e,t){return ih(4,4,e,t)}function a1(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o1(e,t,n){n=n!=null?n.concat([e]):null,ih(4,4,a1.bind(null,t,e),n)}function Ag(){}function l1(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function c1(e,t){var n=Xe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gg(t,i[1]))return i[0];if(i=e(),Mr){ms(!0);try{e()}finally{ms(!1)}}return n.memoizedState=[i,t],i}function wg(e,t,n){return n===void 0||Pi&1073741824&&!(re&261930)?e.memoizedState=t:(e.memoizedState=n,e=J1(),Q.lanes|=e,Ls|=e,n)}function u1(e,t,n,i){return an(n,t)?n:Ba.current!==null?(e=wg(e,n,i),an(e,t)||(tt=!0),e):!(Pi&42)||Pi&1073741824&&!(re&261930)?(tt=!0,e.memoizedState=n):(e=J1(),Q.lanes|=e,Ls|=e,t)}function f1(e,t,n,i,s){var r=me.p;me.p=r!==0&&8>r?r:8;var a=K.T,o={};K.T=o,Cg(e,!1,t,n);try{var c=s(),u=K.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=vN(c,i);pl(e,t,f,rn(e))}else pl(e,t,i,rn(e))}catch(d){pl(e,t,{then:function(){},status:"rejected",reason:d},rn())}finally{me.p=r,a!==null&&o.types!==null&&(a.types=o.types),K.T=a}}function AN(){}function Im(e,t,n,i){if(e.tag!==5)throw Error(j(476));var s=h1(e).queue;f1(e,s,t,br,n===null?AN:function(){return d1(e),n(i)})}function h1(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:br},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function d1(e){var t=h1(e);t.next===null&&(t=e.alternate.memoizedState),pl(e,t.next.queue,{},rn())}function xg(){return Tt(Hl)}function m1(){return Xe().memoizedState}function p1(){return Xe().memoizedState}function wN(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=rn();e=Es(n);var i=As(t,e,n);i!==null&&(Bt(i,t,n),hl(i,t,n)),t={cache:fg()},e.payload=t;return}t=t.return}}function xN(e,t,n){var i=rn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sh(e)?y1(t,n):(n=og(e,t,n,i),n!==null&&(Bt(n,e,i),v1(n,t,i)))}function g1(e,t,n){var i=rn();pl(e,t,n,i)}function pl(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(sh(e))y1(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,an(o,a))return Wf(e,t,s,0),Ae===null&&Qf(),!1}catch{}finally{}if(n=og(e,t,s,i),n!==null)return Bt(n,e,i),v1(n,t,i),!0}return!1}function Cg(e,t,n,i){if(i={lane:2,revertLane:Lg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sh(e)){if(t)throw Error(j(479))}else t=og(e,n,i,2),t!==null&&Bt(t,e,2)}function sh(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function y1(e,t){Oa=sf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function v1(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,iT(e,n)}}var jl={readContext:Tt,use:nh,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};jl.useEffectEvent=Ue;var _1={readContext:Tt,use:nh,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:sv,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xu(4194308,4,a1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xu(4194308,4,e,t)},useInsertionEffect:function(e,t){xu(4,2,e,t)},useMemo:function(e,t){var n=Ot();t=t===void 0?null:t;var i=e();if(Mr){ms(!0);try{e()}finally{ms(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ot();if(n!==void 0){var s=n(t);if(Mr){ms(!0);try{n(t)}finally{ms(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=xN.bind(null,Q,e),[i.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Mm(e);var t=e.queue,n=g1.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Ot();return wg(n,e,t)},useTransition:function(){var e=Mm(!1);return e=f1.bind(null,Q,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Q,s=Ot();if(oe){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Ae===null)throw Error(j(349));re&127||ZT(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,sv(XT.bind(null,i,r,e),[e]),i.flags|=2048,Ha(9,{destroy:void 0},qT.bind(null,i,r,n,t),null),n},useId:function(){var e=Ot(),t=Ae.identifierPrefix;if(oe){var n=Qn,i=Jn;n=(i&~(1<<32-sn(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=rf++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=_N++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xg,useFormState:tv,useActionState:tv,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Cg.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:bg,useCacheRefresh:function(){return Ot().memoizedState=wN.bind(null,Q)},useEffectEvent:function(e){var t=Ot(),n={impl:e};return t.memoizedState=n,function(){if(de&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},Ng={readContext:Tt,use:nh,useCallback:l1,useContext:Tt,useEffect:Eg,useImperativeHandle:o1,useInsertionEffect:s1,useLayoutEffect:r1,useMemo:c1,useReducer:wu,useRef:n1,useState:function(){return wu(Ui)},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Xe();return u1(n,Te.memoizedState,e,t)},useTransition:function(){var e=wu(Ui)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:$T,useId:m1,useHostTransitionStatus:xg,useFormState:nv,useActionState:nv,useOptimistic:function(e,t){var n=Xe();return JT(n,Te,e,t)},useMemoCache:bg,useCacheRefresh:p1};Ng.useEffectEvent=i1;var S1={readContext:Tt,use:nh,useCallback:l1,useContext:Tt,useEffect:Eg,useImperativeHandle:o1,useInsertionEffect:s1,useLayoutEffect:r1,useMemo:c1,useReducer:ed,useRef:n1,useState:function(){return ed(Ui)},useDebugValue:Ag,useDeferredValue:function(e,t){var n=Xe();return Te===null?wg(n,e,t):u1(n,Te.memoizedState,e,t)},useTransition:function(){var e=ed(Ui)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:cc(e),t]},useSyncExternalStore:$T,useId:m1,useHostTransitionStatus:xg,useFormState:iv,useActionState:iv,useOptimistic:function(e,t){var n=Xe();return Te!==null?JT(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bg,useCacheRefresh:p1};S1.useEffectEvent=i1;function td(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zm={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rn(),s=Es(i);s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Bt(t,e,i),hl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rn(),s=Es(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=As(e,s,i),t!==null&&(Bt(t,e,i),hl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),i=Es(n);i.tag=2,t!=null&&(i.callback=t),t=As(e,i,n),t!==null&&(Bt(t,e,n),hl(t,e,n))}};function rv(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Il(n,i)||!Il(s,r):!0}function av(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&zm.enqueueReplaceState(t,t.state,null)}function kr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=De({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function b1(e){Ku(e)}function T1(e){console.error(e)}function E1(e){Ku(e)}function af(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ov(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Lm(e,t,n){return n=Es(n),n.tag=3,n.payload={element:null},n.callback=function(){af(e,t)},n}function A1(e){return e=Es(e),e.tag=3,e}function w1(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){ov(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){ov(t,n,i),typeof s!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function CN(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&io(t,n,s,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return bn===null?ff():n.alternate===null&&Ve===0&&(Ve=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ef?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),hd(e,i,s)),!1;case 22:return n.flags|=65536,i===ef?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),hd(e,i,s)),!1}throw Error(j(435,n.tag))}return hd(e,i,s),ff(),!1}if(oe)return t=on.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Em&&(e=Error(j(422),{cause:i}),Ll(gn(e,n)))):(i!==Em&&(t=Error(j(423),{cause:i}),Ll(gn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=gn(i,n),s=Lm(e.stateNode,i,s),Wh(e,s),Ve!==4&&(Ve=2)),!1;var r=Error(j(520),{cause:i});if(r=gn(r,n),vl===null?vl=[r]:vl.push(r),Ve!==4&&(Ve=2),t===null)return!0;i=gn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Lm(n.stateNode,i,e),Wh(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=A1(s),w1(s,e,n,i),Wh(n,s),!1}n=n.return}while(n!==null);return!1}var Og=Error(j(461)),tt=!1;function vt(e,t,n,i){t.child=e===null?jT(t,null,n,i):Dr(t,e.child,n,i)}function lv(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Rr(t),i=yg(e,t,n,a,r,s),o=vg(),e!==null&&!tt?(_g(e,t,s),ji(e,t,s)):(oe&&o&&cg(t),t.flags|=1,vt(e,t,i,s),t.child)}function cv(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!lg(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,x1(e,t,r,i,s)):(e=Eu(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Rg(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(a,i)&&e.ref===t.ref)return ji(e,t,s)}return t.flags|=1,e=Mi(r,i),e.ref=t.ref,e.return=t,t.child=e}function x1(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Il(r,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=r,Rg(e,s))e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,ji(e,t,s)}return Pm(e,t,n,i,s)}function C1(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return uv(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(t,r!==null?r.cachePool:null),r!==null?Q0(t,r):Rm(),HT(t);else return i=t.lanes=536870912,uv(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Au(t,r.cachePool),Q0(t,r),ls(),t.memoizedState=null):(e!==null&&Au(t,null),Rm(),ls());return vt(e,t,s,n),t.child}function nl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uv(e,t,n,i,s){var r=hg();return r=r===null?null:{parent:et._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Au(t,null),Rm(),HT(t),e!==null&&io(e,t,i,!0),t.childLanes=s,null}function Cu(e,t){return t=of({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fv(e,t,n){return Dr(t,e.child,null,n),e=Cu(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function NN(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(oe){if(i.mode==="hidden")return e=Cu(t,i),t.lanes=536870912,nl(null,e);if(Dm(t),(e=Oe)?(e=_E(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Jn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=MT(e),n.return=t,t.child=n,bt=t,Oe=null)):e=null,e===null)throw Is(t);return t.lanes=536870912,null}return Cu(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(Dm(t),s)if(t.flags&256)t.flags&=-257,t=fv(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(tt||io(e,t,n,!1),s=(n&e.childLanes)!==0,tt||s){if(i=Ae,i!==null&&(a=sT(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Hr(e,a),Bt(i,e,a),Og;ff(),t=fv(e,t,n)}else e=r.treeContext,Oe=Tn(a.nextSibling),bt=t,oe=!0,Ts=null,yn=!1,e!==null&&IT(t,e),t=Cu(t,i),t.flags|=4096;return t}return e=Mi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Pm(e,t,n,i,s){return Rr(t),n=yg(e,t,n,i,void 0,s),i=vg(),e!==null&&!tt?(_g(e,t,s),ji(e,t,s)):(oe&&i&&cg(t),t.flags|=1,vt(e,t,n,s),t.child)}function hv(e,t,n,i,s,r){return Rr(t),t.updateQueue=null,n=GT(t,i,n,s),FT(e),i=vg(),e!==null&&!tt?(_g(e,t,r),ji(e,t,r)):(oe&&i&&cg(t),t.flags|=1,vt(e,t,n,r),t.child)}function dv(e,t,n,i,s){if(Rr(t),t.stateNode===null){var r=da,a=n.contextType;typeof a=="object"&&a!==null&&(r=Tt(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=zm,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},mg(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?Tt(a):da,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(td(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&zm.enqueueReplaceState(r,r.state,null),ml(t,i,r,s),dl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,c=kr(n,o);r.props=c;var u=r.context,f=n.contextType;a=da,typeof f=="object"&&f!==null&&(a=Tt(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==a)&&av(t,r,i,a),rs=!1;var m=t.memoizedState;r.state=m,ml(t,i,r,s),dl(),u=t.memoizedState,o||m!==u||rs?(typeof d=="function"&&(td(t,n,d,i),u=t.memoizedState),(c=rs||rv(t,n,c,i,m,u,a))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),r.props=i,r.state=u,r.context=a,i=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Nm(e,t),a=t.memoizedProps,f=kr(n,a),r.props=f,d=t.pendingProps,m=r.context,u=n.contextType,c=da,typeof u=="object"&&u!==null&&(c=Tt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||m!==c)&&av(t,r,i,c),rs=!1,m=t.memoizedState,r.state=m,ml(t,i,r,s),dl();var g=t.memoizedState;a!==d||m!==g||rs||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof o=="function"&&(td(t,n,o,i),g=t.memoizedState),(f=rs||rv(t,n,f,i,m,g,c)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=c,i=f):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Nu(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Dr(t,e.child,null,s),t.child=Dr(t,null,n,s)):vt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=ji(e,t,s),e}function mv(e,t,n,i){return Or(),t.flags|=256,vt(e,t,n,i),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function id(e){return{baseLanes:e,cachePool:LT()}}function sd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=en),e}function N1(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(s?os(t):ls(),(e=Oe)?(e=_E(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Jn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},n=MT(e),n.return=t,t.child=n,bt=t,Oe=null)):e=null,e===null)throw Is(t);return Jm(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(ls(),s=t.mode,o=of({mode:"hidden",children:o},s),i=Tr(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=id(n),i.childLanes=sd(e,a,n),t.memoizedState=nd,nl(null,i)):(os(t),Um(t,o))}var c=e.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(r)t.flags&256?(os(t),t.flags&=-257,t=rd(e,t,n)):t.memoizedState!==null?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,s=t.mode,i=of({mode:"visible",children:i.children},s),o=Tr(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Dr(t,e.child,null,n),i=t.child,i.memoizedState=id(n),i.childLanes=sd(e,a,n),t.memoizedState=nd,t=nl(null,i));else if(os(t),Jm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(j(419)),i.stack="",i.digest=a,Ll({value:i,source:null,stack:null}),t=rd(e,t,n)}else if(tt||io(e,t,n,!1),a=(n&e.childLanes)!==0,tt||a){if(a=Ae,a!==null&&(i=sT(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Hr(e,i),Bt(a,e,i),Og;Km(o)||ff(),t=rd(e,t,n)}else Km(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Oe=Tn(o.nextSibling),bt=t,oe=!0,Ts=null,yn=!1,e!==null&&IT(t,e),t=Um(t,i.children),t.flags|=4096);return t}return s?(ls(),o=i.fallback,s=t.mode,c=e.child,u=c.sibling,i=Mi(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=Mi(u,o):(o=Tr(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,nl(null,i),i=t.child,o=e.child.memoizedState,o===null?o=id(n):(s=o.cachePool,s!==null?(c=et._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=LT(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=sd(e,a,n),t.memoizedState=nd,nl(e.child,i)):(os(t),n=e.child,e=n.sibling,n=Mi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Um(e,t){return t=of({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function of(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function rd(e,t,n){return Dr(t,e.child,null,n),e=Um(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pv(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),wm(e.return,t,n)}function ad(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function O1(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=qe.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,we(qe,a),vt(e,t,i,n),i=oe?zl:0,!o&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pv(e,n,t);else if(e.tag===19)pv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ad(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ad(t,!0,n,null,r,i);break;case"together":ad(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(n&t.childLanes))if(e!==null){if(io(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Mi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function ON(e,t,n){switch(t.tag){case 3:Zu(t,t.stateNode.containerInfo),as(t,et,e.memoizedState.cache),Or();break;case 27:case 5:hm(t);break;case 4:Zu(t,t.stateNode.containerInfo);break;case 10:as(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Dm(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(os(t),t.flags|=128,null):n&t.child.childLanes?N1(e,t,n):(os(t),e=ji(e,t,n),e!==null?e.sibling:null);os(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(io(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return O1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(qe,qe.current),i)break;return null;case 22:return t.lanes=0,C1(e,t,n,t.pendingProps);case 24:as(t,et,e.memoizedState.cache)}return ji(e,t,n)}function R1(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Rg(e,n)&&!(t.flags&128))return tt=!1,ON(e,t,n);tt=!!(e.flags&131072)}else tt=!1,oe&&t.flags&1048576&&kT(t,zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=dr(t.elementType),t.type=e,typeof e=="function")lg(e)?(i=kr(e,i),t.tag=1,t=dv(null,t,e,i,n)):(t.tag=0,t=Pm(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Xp){t.tag=11,t=lv(null,t,e,i,n);break e}else if(s===Yp){t.tag=14,t=cv(null,t,e,i,n);break e}}throw t=um(e)||e,Error(j(306,t,""))}}return t;case 0:return Pm(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=kr(i,t.pendingProps),dv(e,t,i,s,n);case 3:e:{if(Zu(t,t.stateNode.containerInfo),e===null)throw Error(j(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Nm(e,t),ml(t,i,null,n);var a=t.memoizedState;if(i=a.cache,as(t,et,i),i!==r.cache&&xm(t,[et],n,!0),dl(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=mv(e,t,i,n);break e}else if(i!==s){s=gn(Error(j(424)),t),Ll(s),t=mv(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Tn(e.firstChild),bt=t,oe=!0,Ts=null,yn=!0,n=jT(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Or(),i===s){t=ji(e,t,n);break e}vt(e,t,i,n)}t=t.child}return t;case 26:return Nu(e,t),e===null?(n=zv(t.type,null,t.pendingProps,null))?t.memoizedState=n:oe||(n=t.type,e=t.pendingProps,i=pf(bs.current).createElement(n),i[St]=t,i[Ht]=e,Et(i,n,e),ht(i),t.stateNode=i):t.memoizedState=zv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hm(t),e===null&&oe&&(i=t.stateNode=SE(t.type,t.pendingProps,bs.current),bt=t,yn=!0,s=Oe,Gs(t.type)?(Qm=s,Oe=Tn(i.firstChild)):Oe=s),vt(e,t,t.pendingProps.children,n),Nu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&oe&&((s=i=Oe)&&(i=rO(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,bt=t,Oe=Tn(i.firstChild),yn=!1,s=!0):s=!1),s||Is(t)),hm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Xm(s,r)?i=null:a!==null&&Xm(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=yg(e,t,SN,null,null,n),Hl._currentValue=s),Nu(e,t),vt(e,t,i,n),t.child;case 6:return e===null&&oe&&((e=n=Oe)&&(n=aO(n,t.pendingProps,yn),n!==null?(t.stateNode=n,bt=t,Oe=null,e=!0):e=!1),e||Is(t)),null;case 13:return N1(e,t,n);case 4:return Zu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Dr(t,null,i,n):vt(e,t,i,n),t.child;case 11:return lv(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,as(t,t.type,i.value),vt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Rr(t),s=Tt(s),i=i(s),t.flags|=1,vt(e,t,i,n),t.child;case 14:return cv(e,t,t.type,t.pendingProps,n);case 15:return x1(e,t,t.type,t.pendingProps,n);case 19:return O1(e,t,n);case 31:return NN(e,t,n);case 22:return C1(e,t,n,t.pendingProps);case 24:return Rr(t),i=Tt(et),e===null?(s=hg(),s===null&&(s=Ae,r=fg(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},mg(t),as(t,et,s)):(e.lanes&n&&(Nm(e,t),ml(t,null,null,n),dl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),as(t,et,i)):(i=r.cache,as(t,et,i),i!==s.cache&&xm(t,[et],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function vi(e){e.flags|=4}function od(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(eE())e.flags|=8192;else throw Ar=ef,dg}else e.flags&=-16777217}function gv(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!EE(t))if(eE())e.flags|=8192;else throw Ar=ef,dg}function Qc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?tT():536870912,e.lanes|=t,Fa|=t)}function Bo(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function RN(e,t,n){var i=t.pendingProps;switch(ug(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ki(et),Pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wr(t)?vi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qh())),Ce(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(vi(t),r!==null?(Ce(t),gv(t,r)):(Ce(t),od(t,s,null,i,n))):r?r!==e.memoizedState?(vi(t),Ce(t),gv(t,r)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vi(t),Ce(t),od(t,s,e,i,n)),null;case 27:if(qu(t),n=bs.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Ce(t),null}e=ni.current,Wr(t)?$0(t):(e=SE(s,i,n),t.stateNode=e,vi(t))}return Ce(t),null;case 5:if(qu(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return Ce(t),null}if(r=ni.current,Wr(t))$0(t);else{var a=pf(bs.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[St]=t,r[Ht]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;e:switch(Et(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vi(t)}}return Ce(t),od(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(e=bs.current,Wr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=bt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||gE(e.nodeValue,n)),e||Is(t,!0)}else e=pf(e).createTextNode(i),e[St]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Wr(t),n!==null){if(e===null){if(!i)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[St]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if(t.flags&128)throw Error(j(558))}return Ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Wr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(j(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[St]=t}else Or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),s=!1}else s=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qc(t,t.updateQueue),Ce(t),null);case 4:return Pa(),e===null&&Pg(t.stateNode.containerInfo),Ce(t),null;case 10:return ki(t.type),Ce(t),null;case 19:if(dt(qe),i=t.memoizedState,i===null)return Ce(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Bo(i,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=nf(e),r!==null){for(t.flags|=128,Bo(i,!1),e=r.updateQueue,t.updateQueue=e,Qc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)DT(n,e),n=n.sibling;return we(qe,qe.current&1|2),oe&&Ai(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&tn()>cf&&(t.flags|=128,s=!0,Bo(i,!1),t.lanes=4194304)}else{if(!s)if(e=nf(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Qc(t,e),Bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!oe)return Ce(t),null}else 2*tn()-i.renderingStartTime>cf&&n!==536870912&&(t.flags|=128,s=!0,Bo(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tn(),e.sibling=null,n=qe.current,we(qe,s?n&1|2:n&1),oe&&Ai(t,i.treeForkCount),e):(Ce(t),null);case 22:case 23:return Qt(t),pg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&Qc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&dt(Er),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(et),Ce(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function DN(e,t){switch(ug(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(et),Pa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qu(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(j(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(qe),null;case 4:return Pa(),null;case 10:return ki(t.type),null;case 22:case 23:return Qt(t),pg(),e!==null&&dt(Er),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ki(et),null;case 25:return null;default:return null}}function D1(e,t){switch(ug(t),t.tag){case 3:ki(et),Pa();break;case 26:case 27:case 5:qu(t);break;case 4:Pa();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:dt(qe);break;case 10:ki(t.type);break;case 22:case 23:Qt(t),pg(),e!==null&&dt(Er);break;case 24:ki(et)}}function uc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){_e(t,t.return,o)}}function zs(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var c=n,u=o;try{u()}catch(f){_e(s,c,f)}}}i=i.next}while(i!==r)}}catch(f){_e(t,t.return,f)}}function M1(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{BT(t,n)}catch(i){_e(e,e.return,i)}}}function k1(e,t,n){n.props=kr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){_e(e,t,i)}}function gl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){_e(e,t,s)}}function Wn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){_e(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){_e(e,t,s)}else n.current=null}function I1(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){_e(e,e.return,s)}}function ld(e,t,n){try{var i=e.stateNode;WN(i,e.type,n,t),i[Ht]=t}catch(s){_e(e,e.return,s)}}function z1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function cd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jm(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ni));else if(i!==4&&(i===27&&Gs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(jm(e,t,n),e=e.sibling;e!==null;)jm(e,t,n),e=e.sibling}function lf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Gs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}function L1(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Et(t,i,n),t[St]=e,t[Ht]=n}catch(r){_e(e,e.return,r)}}var wi=!1,We=!1,ud=!1,yv=typeof WeakSet=="function"?WeakSet:Set,ft=null;function MN(e,t){if(e=e.containerInfo,Zm=_f,e=ET(e),rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(c=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===n&&++u===s&&(o=a),m===r&&++f===i&&(c=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qm={focusedElem:e,selectionRange:n},_f=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var C=kr(n.type,s);e=i.getSnapshotBeforeUpdate(C,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(R){_e(n,n.return,R)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ym(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ym(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function P1(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Si(e,n),i&4&&uc(5,n);break;case 1:if(Si(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){_e(n,n.return,a)}else{var s=kr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&M1(n),i&512&&gl(n,n.return);break;case 3:if(Si(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{BT(e,t)}catch(a){_e(n,n.return,a)}}break;case 27:t===null&&i&4&&L1(n);case 26:case 5:Si(e,n),t===null&&i&4&&I1(n),i&512&&gl(n,n.return);break;case 12:Si(e,n);break;case 31:Si(e,n),i&4&&V1(e,n);break;case 13:Si(e,n),i&4&&B1(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=BN.bind(null,n),oO(e,n))));break;case 22:if(i=n.memoizedState!==null||wi,!i){t=t!==null&&t.memoizedState!==null||We,s=wi;var r=We;wi=i,(We=t)&&!r?Ei(e,n,(n.subtreeFlags&8772)!==0):Si(e,n),wi=s,We=r}break;case 30:break;default:Si(e,n)}}function U1(e){var t=e.alternate;t!==null&&(e.alternate=null,U1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Ut=!1;function _i(e,t,n){for(n=n.child;n!==null;)j1(e,t,n),n=n.sibling}function j1(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 26:We||Wn(n,t),_i(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||Wn(n,t);var i=ke,s=Ut;Gs(n.type)&&(ke=n.stateNode,Ut=!1),_i(e,t,n),Sl(n.stateNode),ke=i,Ut=s;break;case 5:We||Wn(n,t);case 6:if(i=ke,s=Ut,ke=null,_i(e,t,n),ke=i,Ut=s,ke!==null)if(Ut)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(r){_e(n,t,r)}else try{ke.removeChild(n.stateNode)}catch(r){_e(n,t,r)}break;case 18:ke!==null&&(Ut?(e=ke,Rv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),qa(e)):Rv(ke,n.stateNode));break;case 4:i=ke,s=Ut,ke=n.stateNode.containerInfo,Ut=!0,_i(e,t,n),ke=i,Ut=s;break;case 0:case 11:case 14:case 15:zs(2,n,t),We||zs(4,n,t),_i(e,t,n);break;case 1:We||(Wn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&k1(n,t,i)),_i(e,t,n);break;case 21:_i(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,_i(e,t,n),We=i;break;default:_i(e,t,n)}}function V1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(n){_e(t,t.return,n)}}}function B1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(n){_e(t,t.return,n)}}function kN(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yv),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yv),t;default:throw Error(j(435,e.tag))}}function Wc(e,t){var n=kN(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=HN.bind(null,e,i);i.then(s,s)}})}function Lt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Gs(o.type)){ke=o.stateNode,Ut=!1;break e}break;case 5:ke=o.stateNode,Ut=!1;break e;case 3:case 4:ke=o.stateNode.containerInfo,Ut=!0;break e}o=o.return}if(ke===null)throw Error(j(160));j1(r,a,s),ke=null,Ut=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)H1(t,e),t=t.sibling}var In=null;function H1(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Pt(e),i&4&&(zs(3,e,e.return),uc(3,e),zs(5,e,e.return));break;case 1:Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),i&64&&wi&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=In;if(Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[ac]||r[St]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Et(r,i,n),r[St]=e,ht(r),i=r;break e;case"link":var a=Pv("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Pv("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}r=s.createElement(i),Et(r,i,n),s.head.appendChild(r);break;default:throw Error(j(468,i))}r[St]=e,ht(r),i=r}e.stateNode=i}else Uv(s,e.type,e.stateNode);else e.stateNode=Lv(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Uv(s,e.type,e.stateNode):Lv(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ld(e,e.memoizedProps,n.memoizedProps)}break;case 27:Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),n!==null&&i&4&&ld(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Lt(t,e),Pt(e),i&512&&(We||n===null||Wn(n,n.return)),e.flags&32){s=e.stateNode;try{ja(s,"")}catch(C){_e(e,e.return,C)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,ld(e,s,n!==null?n.memoizedProps:s)),i&1024&&(ud=!0);break;case 6:if(Lt(t,e),Pt(e),i&4){if(e.stateNode===null)throw Error(j(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(C){_e(e,e.return,C)}}break;case 3:if(Du=null,s=In,In=gf(t.containerInfo),Lt(t,e),In=s,Pt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(C){_e(e,e.return,C)}ud&&(ud=!1,F1(e));break;case 4:i=In,In=gf(e.stateNode.containerInfo),Lt(t,e),Pt(e),In=i;break;case 12:Lt(t,e),Pt(e);break;case 31:Lt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 13:Lt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rh=tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 22:s=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=wi,f=We;if(wi=u||s,We=f||c,Lt(t,e),We=f,wi=u,Pt(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||c||wi||We||mr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(r=c.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var d=c.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(C){_e(c,c.return,C)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(C){_e(c,c.return,C)}}}else if(t.tag===18){if(n===null){c=t;try{var g=c.stateNode;s?Dv(g,!0):Dv(c.stateNode,!1)}catch(C){_e(c,c.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Wc(e,n))));break;case 19:Lt(t,e),Pt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 30:break;case 21:break;default:Lt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(z1(i)){n=i;break}i=i.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var s=n.stateNode,r=cd(e);lf(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(ja(a,""),n.flags&=-33);var o=cd(e);lf(e,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=cd(e);jm(e,u,c);break;default:throw Error(j(161))}}catch(f){_e(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function F1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;F1(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)P1(e,t.alternate,t),t=t.sibling}function mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zs(4,t,t.return),mr(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&k1(t,t.return,n),mr(t);break;case 27:Sl(t.stateNode);case 26:case 5:Wn(t,t.return),mr(t);break;case 22:t.memoizedState===null&&mr(t);break;case 30:mr(t);break;default:mr(t)}e=e.sibling}}function Ei(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(s,r,n),uc(4,r);break;case 1:if(Ei(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){_e(i,i.return,u)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var c=s.shared.hiddenCallbacks;if(c!==null)for(s.shared.hiddenCallbacks=null,s=0;s<c.length;s++)VT(c[s],o)}catch(u){_e(i,i.return,u)}}n&&a&64&&M1(r),gl(r,r.return);break;case 27:L1(r);case 26:case 5:Ei(s,r,n),n&&i===null&&a&4&&I1(r),gl(r,r.return);break;case 12:Ei(s,r,n);break;case 31:Ei(s,r,n),n&&a&4&&V1(s,r);break;case 13:Ei(s,r,n),n&&a&4&&B1(s,r);break;case 22:r.memoizedState===null&&Ei(s,r,n),gl(r,r.return);break;case 30:break;default:Ei(s,r,n)}t=t.sibling}}function Dg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lc(n))}function Mg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lc(e))}function Rn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)G1(e,t,n,i),t=t.sibling}function G1(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,n,i),s&2048&&uc(9,t);break;case 1:Rn(e,t,n,i);break;case 3:Rn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lc(e)));break;case 12:if(s&2048){Rn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){_e(t,t.return,c)}}else Rn(e,t,n,i);break;case 31:Rn(e,t,n,i);break;case 13:Rn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?Rn(e,t,n,i):yl(e,t):r._visibility&2?Rn(e,t,n,i):(r._visibility|=2,na(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Dg(a,t);break;case 24:Rn(e,t,n,i),s&2048&&Mg(t.alternate,t);break;default:Rn(e,t,n,i)}}function na(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,c=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:na(r,a,o,c,s),uc(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?na(r,a,o,c,s):yl(r,a):(f._visibility|=2,na(r,a,o,c,s)),s&&u&2048&&Dg(a.alternate,a);break;case 24:na(r,a,o,c,s),s&&u&2048&&Mg(a.alternate,a);break;default:na(r,a,o,c,s)}t=t.sibling}}function yl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:yl(n,i),s&2048&&Dg(i.alternate,i);break;case 24:yl(n,i),s&2048&&Mg(i.alternate,i);break;default:yl(n,i)}t=t.sibling}}var il=8192;function ea(e,t,n){if(e.subtreeFlags&il)for(e=e.child;e!==null;)$1(e,t,n),e=e.sibling}function $1(e,t,n){switch(e.tag){case 26:ea(e,t,n),e.flags&il&&e.memoizedState!==null&&_O(n,In,e.memoizedState,e.memoizedProps);break;case 5:ea(e,t,n);break;case 3:case 4:var i=In;In=gf(e.stateNode.containerInfo),ea(e,t,n),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=il,il=16777216,ea(e,t,n),il=i):ea(e,t,n));break;default:ea(e,t,n)}}function Z1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ho(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,X1(i,e)}Z1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)q1(e),e=e.sibling}function q1(e){switch(e.tag){case 0:case 11:case 15:Ho(e),e.flags&2048&&zs(9,e,e.return);break;case 3:Ho(e);break;case 12:Ho(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ou(e)):Ho(e);break;default:Ho(e)}}function Ou(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ft=i,X1(i,e)}Z1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zs(8,t,t.return),Ou(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ou(t));break;default:Ou(t)}e=e.sibling}}function X1(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:zs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:lc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ft=i;else e:for(n=e;ft!==null;){i=ft;var s=i.sibling,r=i.return;if(U1(i),i===n){ft=null;break e}if(s!==null){s.return=r,ft=s;break e}ft=r}}}var IN={getCacheForType:function(e){var t=Tt(et),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Tt(et).controller.signal}},zN=typeof WeakMap=="function"?WeakMap:Map,de=0,Ae=null,ie=null,re=0,ye=0,Kt=null,gs=!1,ro=!1,kg=!1,Vi=0,Ve=0,Ls=0,wr=0,Ig=0,en=0,Fa=0,vl=null,jt=null,Vm=!1,rh=0,Y1=0,cf=1/0,uf=null,ws=null,at=0,xs=null,Ga=null,Ii=0,Bm=0,Hm=null,K1=null,_l=0,Fm=null;function rn(){return de&2&&re!==0?re&-re:K.T!==null?Lg():rT()}function J1(){if(en===0)if(!(re&536870912)||oe){var e=$c;$c<<=1,!($c&3932160)&&($c=262144),en=e}else en=536870912;return e=on.current,e!==null&&(e.flags|=32),en}function Bt(e,t,n){(e===Ae&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&($a(e,0),ys(e,re,en,!1)),rc(e,n),(!(de&2)||e!==Ae)&&(e===Ae&&(!(de&2)&&(wr|=n),Ve===4&&ys(e,re,en,!1)),ci(e))}function Q1(e,t,n){if(de&6)throw Error(j(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||sc(e,t),s=i?UN(e,t):fd(e,t,!0),r=i;do{if(s===0){ro&&!i&&ys(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!LN(n)){s=fd(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var o=e;s=vl;var c=o.current.memoizedState.isDehydrated;if(c&&($a(o,a).flags|=256),a=fd(o,a,!1),a!==2){if(kg&&!c){o.errorRecoveryDisabledLanes|=r,wr|=r,s=4;break e}r=jt,jt=s,r!==null&&(jt===null?jt=r:jt.push.apply(jt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){$a(e,0),ys(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:ys(i,t,en,!gs);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(s=rh+300-tn(),10<s)){if(ys(i,t,en,!gs),Xf(i,0,!0)!==0)break e;Ii=t,i.timeoutHandle=vE(vv.bind(null,i,n,jt,uf,Vm,t,en,wr,Fa,gs,r,"Throttled",-0,0),s);break e}vv(i,n,jt,uf,Vm,t,en,wr,Fa,gs,r,null,-0,0)}}break}while(!0);ci(e)}function vv(e,t,n,i,s,r,a,o,c,u,f,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},$1(t,r,d);var C=(r&62914560)===r?rh-tn():(r&4194048)===r?Y1-tn():0;if(C=SO(d,C),C!==null){Ii=r,e.cancelPendingCommit=C(Sv.bind(null,e,t,r,n,i,s,a,o,c,f,d,null,m,g)),ys(e,r,a,!u);return}}Sv(e,t,r,n,i,s,a,o,c)}function LN(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!an(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ys(e,t,n,i){t&=~Ig,t&=~wr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-sn(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&nT(e,n,t)}function ah(){return de&6?!0:(fc(0),!1)}function zg(){if(ie!==null){if(ye===0)var e=ie.return;else e=ie,Oi=Fr=null,Sg(e),Na=null,Pl=0,e=ie;for(;e!==null;)D1(e.alternate,e),e=e.return;ie=null}}function $a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,nO(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ii=0,zg(),Ae=e,ie=n=Mi(e.current,null),re=t,ye=0,Kt=null,gs=!1,ro=sc(e,t),kg=!1,Fa=en=Ig=wr=Ls=Ve=0,jt=vl=null,Vm=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-sn(i),r=1<<s;t|=e[s],i&=~r}return Vi=t,Qf(),n}function W1(e,t){Q=null,K.H=jl,t===so||t===eh?(t=K0(),ye=3):t===dg?(t=K0(),ye=4):ye=t===Og?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,ie===null&&(Ve=1,af(e,gn(t,e.current)))}function eE(){var e=on.current;return e===null?!0:(re&4194048)===re?bn===null:(re&62914560)===re||re&536870912?e===bn:!1}function tE(){var e=K.H;return K.H=jl,e===null?jl:e}function nE(){var e=K.A;return K.A=IN,e}function ff(){Ve=4,gs||(re&4194048)!==re&&on.current!==null||(ro=!0),!(Ls&134217727)&&!(wr&134217727)||Ae===null||ys(Ae,re,en,!1)}function fd(e,t,n){var i=de;de|=2;var s=tE(),r=nE();(Ae!==e||re!==t)&&(uf=null,$a(e,t)),t=!1;var a=Ve;e:do try{if(ye!==0&&ie!==null){var o=ie,c=Kt;switch(ye){case 8:zg(),a=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var u=ye;if(ye=0,Kt=null,ga(e,o,c,u),n&&ro){a=0;break e}break;default:u=ye,ye=0,Kt=null,ga(e,o,c,u)}}PN(),a=Ve;break}catch(f){W1(e,f)}while(!0);return t&&e.shellSuspendCounter++,Oi=Fr=null,de=i,K.H=s,K.A=r,ie===null&&(Ae=null,re=0,Qf()),a}function PN(){for(;ie!==null;)iE(ie)}function UN(e,t){var n=de;de|=2;var i=tE(),s=nE();Ae!==e||re!==t?(uf=null,cf=tn()+500,$a(e,t)):ro=sc(e,t);e:do try{if(ye!==0&&ie!==null){t=ie;var r=Kt;t:switch(ye){case 1:ye=0,Kt=null,ga(e,t,r,1);break;case 2:case 9:if(Y0(r)){ye=0,Kt=null,_v(t);break}t=function(){ye!==2&&ye!==9||Ae!==e||(ye=7),ci(e)},r.then(t,t);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Y0(r)?(ye=0,Kt=null,_v(t)):(ye=0,Kt=null,ga(e,t,r,7));break;case 5:var a=null;switch(ie.tag){case 26:a=ie.memoizedState;case 5:case 27:var o=ie;if(a?EE(a):o.stateNode.complete){ye=0,Kt=null;var c=o.sibling;if(c!==null)ie=c;else{var u=o.return;u!==null?(ie=u,oh(u)):ie=null}break t}}ye=0,Kt=null,ga(e,t,r,5);break;case 6:ye=0,Kt=null,ga(e,t,r,6);break;case 8:zg(),Ve=6;break e;default:throw Error(j(462))}}jN();break}catch(f){W1(e,f)}while(!0);return Oi=Fr=null,K.H=i,K.A=s,de=n,ie!==null?0:(Ae=null,re=0,Qf(),Ve)}function jN(){for(;ie!==null&&!l2();)iE(ie)}function iE(e){var t=R1(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,t===null?oh(e):ie=t}function _v(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hv(n,t,t.pendingProps,t.type,void 0,re);break;case 11:t=hv(n,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:Sg(t);default:D1(n,t),t=ie=DT(t,Vi),t=R1(n,t,Vi)}e.memoizedProps=e.pendingProps,t===null?oh(e):ie=t}function ga(e,t,n,i){Oi=Fr=null,Sg(t),Na=null,Pl=0;var s=t.return;try{if(CN(e,s,t,n,re)){Ve=1,af(e,gn(n,e.current)),ie=null;return}}catch(r){if(s!==null)throw ie=s,r;Ve=1,af(e,gn(n,e.current)),ie=null;return}t.flags&32768?(oe||i===1?e=!0:ro||re&536870912?e=!1:(gs=e=!0,(i===2||i===9||i===3||i===6)&&(i=on.current,i!==null&&i.tag===13&&(i.flags|=16384))),sE(t,e)):oh(t)}function oh(e){var t=e;do{if(t.flags&32768){sE(t,gs);return}e=t.return;var n=RN(t.alternate,t,Vi);if(n!==null){ie=n;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);Ve===0&&(Ve=5)}function sE(e,t){do{var n=DN(e.alternate,e);if(n!==null){n.flags&=32767,ie=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ie=e;return}ie=e=n}while(e!==null);Ve=6,ie=null}function Sv(e,t,n,i,s,r,a,o,c){e.cancelPendingCommit=null;do lh();while(at!==0);if(de&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(r=t.lanes|t.childLanes,r|=ag,v2(e,n,r,a,o,c),e===Ae&&(ie=Ae=null,re=0),Ga=t,xs=e,Ii=n,Bm=r,Hm=s,K1=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,FN(Xu,function(){return cE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,s=me.p,me.p=2,a=de,de|=4;try{MN(e,t,n)}finally{de=a,me.p=s,K.T=i}}at=1,rE(),aE(),oE()}}function rE(){if(at===1){at=0;var e=xs,t=Ga,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=me.p;me.p=2;var s=de;de|=4;try{H1(t,e);var r=qm,a=ET(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&TT(o.ownerDocument.documentElement,o)){if(c!==null&&rg(o)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),C=o.textContent.length,R=Math.min(c.start,C),I=c.end===void 0?R:Math.min(c.end,C);!g.extend&&R>I&&(a=I,I=R,R=a);var b=H0(o,R),v=H0(o,I);if(b&&v&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==v.node||g.focusOffset!==v.offset)){var A=d.createRange();A.setStart(b.node,b.offset),g.removeAllRanges(),R>I?(g.addRange(A),g.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),g.addRange(A))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var O=d[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}_f=!!Zm,qm=Zm=null}finally{de=s,me.p=i,K.T=n}}e.current=t,at=2}}function aE(){if(at===2){at=0;var e=xs,t=Ga,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=me.p;me.p=2;var s=de;de|=4;try{P1(e,t.alternate,t)}finally{de=s,me.p=i,K.T=n}}at=3}}function oE(){if(at===4||at===3){at=0,c2();var e=xs,t=Ga,n=Ii,i=K1;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,Ga=xs=null,lE(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ws=null),Qp(n),t=t.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(ic,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,s=me.p,me.p=2,K.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{K.T=t,me.p=s}}Ii&3&&lh(),ci(e),s=e.pendingLanes,n&261930&&s&42?e===Fm?_l++:(_l=0,Fm=e):_l=0,fc(0)}}function lE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lc(t)))}function lh(){return rE(),aE(),oE(),cE()}function cE(){if(at!==5)return!1;var e=xs,t=Bm;Bm=0;var n=Qp(Ii),i=K.T,s=me.p;try{me.p=32>n?32:n,K.T=null,n=Hm,Hm=null;var r=xs,a=Ii;if(at=0,Ga=xs=null,Ii=0,de&6)throw Error(j(331));var o=de;if(de|=4,q1(r.current),G1(r,r.current,a,n),de=o,fc(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(ic,r)}catch{}return!0}finally{me.p=s,K.T=i,lE(e,t)}}function bv(e,t,n){t=gn(n,t),t=Lm(e.stateNode,t,2),e=As(e,t,2),e!==null&&(rc(e,2),ci(e))}function _e(e,t,n){if(e.tag===3)bv(e,e,n);else for(;t!==null;){if(t.tag===3){bv(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ws===null||!ws.has(i))){e=gn(n,e),n=A1(2),i=As(t,n,2),i!==null&&(w1(n,i,t,e),rc(i,2),ci(i));break}}t=t.return}}function hd(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new zN;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(kg=!0,s.add(n),e=VN.bind(null,e,t,n),t.then(e,e))}function VN(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ae===e&&(re&n)===n&&(Ve===4||Ve===3&&(re&62914560)===re&&300>tn()-rh?!(de&2)&&$a(e,0):Ig|=n,Fa===re&&(Fa=0)),ci(e)}function uE(e,t){t===0&&(t=tT()),e=Hr(e,t),e!==null&&(rc(e,t),ci(e))}function BN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uE(e,n)}function HN(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(j(314))}i!==null&&i.delete(t),uE(e,n)}function FN(e,t){return Kp(e,t)}var hf=null,ia=null,Gm=!1,df=!1,dd=!1,vs=0;function ci(e){e!==ia&&e.next===null&&(ia===null?hf=ia=e:ia=ia.next=e),df=!0,Gm||(Gm=!0,$N())}function fc(e,t){if(!dd&&df){dd=!0;do for(var n=!1,i=hf;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-sn(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Tv(i,r))}else r=re,r=Xf(i,i===Ae?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||sc(i,r)||(n=!0,Tv(i,r));i=i.next}while(n);dd=!1}}function GN(){fE()}function fE(){df=Gm=!1;var e=0;vs!==0&&tO()&&(e=vs);for(var t=tn(),n=null,i=hf;i!==null;){var s=i.next,r=hE(i,t);r===0?(i.next=null,n===null?hf=s:n.next=s,s===null&&(ia=n)):(n=i,(e!==0||r&3)&&(df=!0)),i=s}at!==0&&at!==5||fc(e),vs!==0&&(vs=0)}function hE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-sn(r),o=1<<a,c=s[a];c===-1?(!(o&n)||o&i)&&(s[a]=y2(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(t=Ae,n=re,n=Xf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Bh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||sc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Bh(i),Qp(n)){case 2:case 8:n=Wb;break;case 32:n=Xu;break;case 268435456:n=eT;break;default:n=Xu}return i=dE.bind(null,e),n=Kp(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Bh(i),e.callbackPriority=2,e.callbackNode=null,2}function dE(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lh()&&e.callbackNode!==n)return null;var i=re;return i=Xf(e,e===Ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Q1(e,i,t),hE(e,tn()),e.callbackNode!=null&&e.callbackNode===n?dE.bind(null,e):null)}function Tv(e,t){if(lh())return null;Q1(e,t,!0)}function $N(){iO(function(){de&6?Kp(Qb,GN):fE()})}function Lg(){if(vs===0){var e=Va;e===0&&(e=Gc,Gc<<=1,!(Gc&261888)&&(Gc=256)),vs=e}return vs}function Ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Su(""+e)}function Av(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ZN(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=Ev((s[Ht]||null).action),a=i.submitter;a&&(t=(t=a[Ht]||null)?Ev(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Yf("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vs!==0){var c=a?Av(s,a):new FormData(s);Im(n,{pending:!0,data:c,method:s.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=a?Av(s,a):new FormData(s),Im(n,{pending:!0,data:c,method:s.method,action:r},r,c))},currentTarget:s}]})}}for(var md=0;md<Tm.length;md++){var pd=Tm[md],qN=pd.toLowerCase(),XN=pd[0].toUpperCase()+pd.slice(1);Vn(qN,"on"+XN)}Vn(wT,"onAnimationEnd");Vn(xT,"onAnimationIteration");Vn(CT,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(uN,"onTransitionRun");Vn(fN,"onTransitionStart");Vn(hN,"onTransitionCancel");Vn(NT,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function mE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(f){Ku(f)}s.currentTarget=null,r=c}else for(a=0;a<i.length;a++){if(o=i[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&s.isPropagationStopped())break e;r=o,s.currentTarget=u;try{r(s)}catch(f){Ku(f)}s.currentTarget=null,r=c}}}}function ne(e,t){var n=t[mm];n===void 0&&(n=t[mm]=new Set);var i=e+"__bubble";n.has(i)||(pE(t,e,2,!1),n.add(i))}function gd(e,t,n){var i=0;t&&(i|=4),pE(n,e,i,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Pg(e){if(!e[eu]){e[eu]=!0,aT.forEach(function(n){n!=="selectionchange"&&(YN.has(n)||gd(n,!1,e),gd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,gd("selectionchange",!1,t))}}function pE(e,t,n,i){switch(NE(t)){case 2:var s=EO;break;case 8:s=AO;break;default:s=Bg}n=s.bind(null,t,n,e),s=void 0,!_m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function yd(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=oa(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=r=a;continue e}o=o.parentNode}}i=i.return}mT(function(){var u=r,f=tg(n),d=[];e:{var m=OT.get(e);if(m!==void 0){var g=Yf,C=e;switch(e){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":g=H2;break;case"focusin":C="focus",g=Zh;break;case"focusout":C="blur",g=Zh;break;case"beforeblur":case"afterblur":g=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=$2;break;case wT:case xT:case CT:g=k2;break;case NT:g=q2;break;case"scroll":case"scrollend":g=N2;break;case"wheel":g=Y2;break;case"copy":case"cut":case"paste":g=z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=I0;break;case"toggle":case"beforetoggle":g=J2}var R=(t&4)!==0,I=!R&&(e==="scroll"||e==="scrollend"),b=R?m!==null?m+"Capture":null:m;R=[];for(var v=u,A;v!==null;){var O=v;if(A=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||A===null||b===null||(O=Ml(v,b),O!=null&&R.push(Bl(v,O,A))),I)break;v=v.return}0<R.length&&(m=new g(m,C,null,n,f),d.push({event:m,listeners:R}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==vm&&(C=n.relatedTarget||n.fromElement)&&(oa(C)||C[to]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=u,C=C?oa(C):null,C!==null&&(I=nc(C),R=C.tag,C!==I||R!==5&&R!==27&&R!==6)&&(C=null)):(g=null,C=u),g!==C)){if(R=M0,O="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(R=I0,O="onPointerLeave",b="onPointerEnter",v="pointer"),I=g==null?m:tl(g),A=C==null?m:tl(C),m=new R(O,v+"leave",g,n,f),m.target=I,m.relatedTarget=A,O=null,oa(f)===u&&(R=new R(b,v+"enter",C,n,f),R.target=A,R.relatedTarget=I,O=R),I=O,g&&C)t:{for(R=KN,b=g,v=C,A=0,O=b;O;O=R(O))A++;O=0;for(var L=v;L;L=R(L))O++;for(;0<A-O;)b=R(b),A--;for(;0<O-A;)v=R(v),O--;for(;A--;){if(b===v||v!==null&&b===v.alternate){R=b;break t}b=R(b),v=R(v)}R=null}else R=null;g!==null&&wv(d,m,g,R,!1),C!==null&&I!==null&&wv(d,I,C,R,!0)}}e:{if(m=u?tl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var V=U0;else if(P0(m))if(ST)V=oN;else{V=rN;var T=sN}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&eg(u.elementType)&&(V=U0):V=aN;if(V&&(V=V(e,u))){_T(d,V,n,f);break e}T&&T(e,m,u),e==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&ym(m,"number",m.value)}switch(T=u?tl(u):window,e){case"focusin":(P0(T)||T.contentEditable==="true")&&(ua=T,Sm=u,ul=null);break;case"focusout":ul=Sm=ua=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,F0(d,n,f);break;case"selectionchange":if(cN)break;case"keydown":case"keyup":F0(d,n,f)}var y;if(sg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ca?yT(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(gT&&n.locale!=="ko"&&(ca||S!=="onCompositionStart"?S==="onCompositionEnd"&&ca&&(y=pT()):(ps=f,ng="value"in ps?ps.value:ps.textContent,ca=!0)),T=mf(u,S),0<T.length&&(S=new k0(S,e,null,n,f),d.push({event:S,listeners:T}),y?S.data=y:(y=vT(n),y!==null&&(S.data=y)))),(y=W2?eN(e,n):tN(e,n))&&(S=mf(u,"onBeforeInput"),0<S.length&&(T=new k0("onBeforeInput","beforeinput",null,n,f),d.push({event:T,listeners:S}),T.data=y)),ZN(d,e,u,n,f)}mE(d,t)})}function Bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mf(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ml(e,n),s!=null&&i.unshift(Bl(e,s,r)),s=Ml(e,t),s!=null&&i.push(Bl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function KN(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wv(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===i)break;o!==5&&o!==26&&o!==27||u===null||(c=u,s?(u=Ml(n,r),u!=null&&a.unshift(Bl(n,u,c))):s||(u=Ml(n,r),u!=null&&a.push(Bl(n,u,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var JN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(JN,`
`).replace(QN,"")}function gE(e,t){return t=xv(t),xv(e)===t}function be(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ja(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ja(e,""+i);break;case"className":qc(e,"class",i);break;case"tabIndex":qc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":qc(e,n,i);break;case"style":dT(e,i,r);break;case"data":if(t!=="object"){qc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Su(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&be(e,t,"name",s.name,s,null),be(e,t,"formEncType",s.formEncType,s,null),be(e,t,"formMethod",s.formMethod,s,null),be(e,t,"formTarget",s.formTarget,s,null)):(be(e,t,"encType",s.encType,s,null),be(e,t,"method",s.method,s,null),be(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Su(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ni);break;case"onScroll":i!=null&&ne("scroll",e);break;case"onScrollEnd":i!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Su(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ne("beforetoggle",e),ne("toggle",e),_u(e,"popover",i);break;case"xlinkActuate":yi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":_u(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=x2.get(n)||n,_u(e,n,i))}}function $m(e,t,n,i,s,r){switch(n){case"style":dT(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ja(e,i):(typeof i=="number"||typeof i=="bigint")&&ja(e,""+i);break;case"onScroll":i!=null&&ne("scroll",e);break;case"onScrollEnd":i!=null&&ne("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Ht]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):_u(e,n,i)}}}function Et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:be(e,t,r,a,n,null)}}s&&be(e,t,"srcSet",n.srcSet,n,null),i&&be(e,t,"src",n.src,n,null);return;case"input":ne("invalid",e);var o=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":s=f;break;case"type":a=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,t));break;default:be(e,t,i,f,n,null)}}uT(e,r,o,c,u,a,s,!1);return;case"select":ne("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:be(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?wa(e,!!i,t,!1):n!=null&&wa(e,!!i,n,!0);return;case"textarea":ne("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:be(e,t,a,o,n,null)}hT(e,i,s,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:be(e,t,c,i,n,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(i=0;i<Vl.length;i++)ne(Vl[i],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:be(e,t,u,i,n,null)}return;default:if(eg(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&$m(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&be(e,t,o,i,n,null))}function WN(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,c=null,u=null,f=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=d;default:i.hasOwnProperty(g)||be(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":r=g;break;case"name":s=g;break;case"checked":u=g;break;case"defaultChecked":f=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(j(137,t));break;default:g!==d&&be(e,t,m,g,i,d)}}gm(e,a,o,c,u,f,r,s);return;case"select":g=a=o=m=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(r)||be(e,t,r,null,i,c)}for(s in i)if(r=i[s],c=n[s],i.hasOwnProperty(s)&&(r!=null||c!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==c&&be(e,t,s,r,i,c)}t=o,n=a,i=g,m!=null?wa(e,!!n,m,!1):!!i!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:be(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(j(91));break;default:s!==r&&be(e,t,a,s,i,r)}fT(e,m,g);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:be(e,t,C,null,i,m)}for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:be(e,t,c,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var R in n)m=n[R],n.hasOwnProperty(R)&&m!=null&&!i.hasOwnProperty(R)&&be(e,t,R,null,i,m);for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(j(137,t));break;default:be(e,t,u,m,i,g)}return;default:if(eg(t)){for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!==void 0&&!i.hasOwnProperty(I)&&$m(e,t,I,void 0,i,m);for(f in i)m=i[f],g=n[f],!i.hasOwnProperty(f)||m===g||m===void 0&&g===void 0||$m(e,t,f,m,i,g);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&be(e,t,b,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||be(e,t,d,m,i,g)}function Cv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eO(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&Cv(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var c=n[i],u=c.startTime;if(u>o)break;var f=c.transferSize,d=c.initiatorType;f&&Cv(d)&&(c=c.responseEnd,a+=f*(c<o?1:(o-u)/(c-u)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zm=null,qm=null;function pf(e){return e.nodeType===9?e:e.ownerDocument}function Nv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vd=null;function tO(){var e=window.event;return e&&e.type==="popstate"?e===vd?!1:(vd=e,!0):(vd=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,nO=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,iO=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(sO)}:vE;function sO(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function Rv(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),qa(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Sl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Sl(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[ac]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Sl(e.ownerDocument.body);n=s}while(n);qa(t)}function Dv(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ym(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ym(n),Wp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function rO(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ac])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function aO(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function _E(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function Km(e){return e.data==="$?"||e.data==="$~"}function Jm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oO(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qm=null;function Mv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function kv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function SE(e,t,n){switch(t=pf(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wp(e)}var An=new Map,Iv=new Set;function gf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=me.d;me.d={f:lO,r:cO,D:uO,C:fO,L:hO,m:dO,X:pO,S:mO,M:gO};function lO(){var e=$i.f(),t=ah();return e||t}function cO(e){var t=no(e);t!==null&&t.tag===5&&t.type==="form"?d1(t):$i.r(e)}var ao=typeof document>"u"?null:document;function bE(e,t,n){var i=ao;if(i&&typeof t=="string"&&t){var s=pn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Iv.has(s)||(Iv.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function uO(e){$i.D(e),bE("dns-prefetch",e,null)}function fO(e,t){$i.C(e,t),bE("preconnect",e,t)}function hO(e,t,n){$i.L(e,t,n);var i=ao;if(i&&e&&t){var s='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+pn(n.imageSizes)+'"]')):s+='[href="'+pn(e)+'"]';var r=s;switch(t){case"style":r=Za(e);break;case"script":r=oo(e)}An.has(r)||(e=De({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(hc(r))||t==="script"&&i.querySelector(dc(r))||(t=i.createElement("link"),Et(t,"link",e),ht(t),i.head.appendChild(t)))}}function dO(e,t){$i.m(e,t);var n=ao;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+pn(i)+'"][href="'+pn(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=oo(e)}if(!An.has(r)&&(e=De({rel:"modulepreload",href:e},t),An.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dc(r)))return}i=n.createElement("link"),Et(i,"link",e),ht(i),n.head.appendChild(i)}}}function mO(e,t,n){$i.S(e,t,n);var i=ao;if(i&&e){var s=Aa(i).hoistableStyles,r=Za(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(hc(r)))o.loading=5;else{e=De({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(r))&&Ug(e,n);var c=a=i.createElement("link");ht(c),Et(c,"link",e),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ru(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function pO(e,t){$i.X(e,t);var n=ao;if(n&&e){var i=Aa(n).hoistableScripts,s=oo(e),r=i.get(s);r||(r=n.querySelector(dc(s)),r||(e=De({src:e,async:!0},t),(t=An.get(s))&&jg(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function gO(e,t){$i.M(e,t);var n=ao;if(n&&e){var i=Aa(n).hoistableScripts,s=oo(e),r=i.get(s);r||(r=n.querySelector(dc(s)),r||(e=De({src:e,async:!0,type:"module"},t),(t=An.get(s))&&jg(e,t),r=n.createElement("script"),ht(r),Et(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function zv(e,t,n,i){var s=(s=bs.current)?gf(s):null;if(!s)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Za(n.href),n=Aa(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Za(n.href);var r=Aa(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(hc(e)))&&!r._p&&(a.instance=r,a.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),r||yO(s,e,n,a.state))),t&&i===null)throw Error(j(528,""));return a}if(t&&i!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oo(n),n=Aa(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function Za(e){return'href="'+pn(e)+'"'}function hc(e){return'link[rel="stylesheet"]['+e+"]"}function TE(e){return De({},e,{"data-precedence":e.precedence,precedence:null})}function yO(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Et(t,"link",n),ht(t),e.head.appendChild(t))}function oo(e){return'[src="'+pn(e)+'"]'}function dc(e){return"script[async]"+e}function Lv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(i)return t.instance=i,ht(i),i;var s=De({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ht(i),Et(i,"style",s),Ru(i,n.precedence,e),t.instance=i;case"stylesheet":s=Za(n.href);var r=e.querySelector(hc(s));if(r)return t.state.loading|=4,t.instance=r,ht(r),r;i=TE(n),(s=An.get(s))&&Ug(i,s),r=(e.ownerDocument||e).createElement("link"),ht(r);var a=r;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),Et(r,"link",i),t.state.loading|=4,Ru(r,n.precedence,e),t.instance=r;case"script":return r=oo(n.src),(s=e.querySelector(dc(r)))?(t.instance=s,ht(s),s):(i=n,(s=An.get(r))&&(i=De({},n),jg(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),ht(s),Et(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Ru(i,n.precedence,e));return t.instance}function Ru(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ug(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Du=null;function Pv(e,t,n){if(Du===null){var i=new Map,s=Du=new Map;s.set(n,i)}else s=Du,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[ac]||r[St]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function Uv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vO(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function EE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function _O(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Za(i.href),r=t.querySelector(hc(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,ht(r);return}r=t.ownerDocument||t,i=TE(i),(s=An.get(s))&&Ug(i,s),r=r.createElement("link"),ht(r);var a=r;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),Et(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=yf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var _d=0;function SO(e,t){return e.stylesheets&&e.count===0&&Mu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Mu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&_d===0&&(_d=62500*eO());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mu(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>_d?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vf=null;function Mu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vf=new Map,t.forEach(bO,e),vf=null,yf.call(e))}function bO(e,t){if(!(t.state.loading&4)){var n=vf.get(e);if(n)var i=n.get(null);else{n=new Map,vf.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=yf.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Hl={$$typeof:Ci,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function TO(e,t,n,i,s,r,a,o,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.hiddenUpdates=Hh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function AE(e,t,n,i,s,r,a,o,c,u,f,d){return e=new TO(e,t,n,a,c,u,f,d,o),t=1,r===!0&&(t|=24),r=Wt(3,null,null,t),e.current=r,r.stateNode=e,t=fg(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},mg(r),e}function wE(e){return e?(e=da,e):da}function xE(e,t,n,i,s,r){s=wE(s),i.context===null?i.context=s:i.pendingContext=s,i=Es(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=As(e,i,t),n!==null&&(Bt(n,e,t),hl(n,e,t))}function jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vg(e,t){jv(e,t),(e=e.alternate)&&jv(e,t)}function CE(e){if(e.tag===13||e.tag===31){var t=Hr(e,67108864);t!==null&&Bt(t,e,67108864),Vg(e,67108864)}}function Vv(e){if(e.tag===13||e.tag===31){var t=rn();t=Jp(t);var n=Hr(e,t);n!==null&&Bt(n,e,t),Vg(e,t)}}var _f=!0;function EO(e,t,n,i){var s=K.T;K.T=null;var r=me.p;try{me.p=2,Bg(e,t,n,i)}finally{me.p=r,K.T=s}}function AO(e,t,n,i){var s=K.T;K.T=null;var r=me.p;try{me.p=8,Bg(e,t,n,i)}finally{me.p=r,K.T=s}}function Bg(e,t,n,i){if(_f){var s=Wm(i);if(s===null)yd(e,t,i,Sf,n),Bv(e,i);else if(xO(s,e,t,n,i))i.stopPropagation();else if(Bv(e,i),t&4&&-1<wO.indexOf(e)){for(;s!==null;){var r=no(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=hr(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-sn(a);o.entanglements[1]|=c,a&=~c}ci(r),!(de&6)&&(cf=tn()+500,fc(0))}}break;case 31:case 13:o=Hr(r,2),o!==null&&Bt(o,r,2),ah(),Vg(r,2)}if(r=Wm(i),r===null&&yd(e,t,i,Sf,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else yd(e,t,i,null,n)}}function Wm(e){return e=tg(e),Hg(e)}var Sf=null;function Hg(e){if(Sf=null,e=oa(e),e!==null){var t=nc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=qb(t),e!==null)return e;e=null}else if(n===31){if(e=Xb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sf=e,null}function NE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(u2()){case Qb:return 2;case Wb:return 8;case Xu:case f2:return 32;case eT:return 268435456;default:return 32}default:return 32}}var ep=!1,Cs=null,Ns=null,Os=null,Fl=new Map,Gl=new Map,cs=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(t.pointerId)}}function Fo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=no(t),t!==null&&CE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function xO(e,t,n,i,s){switch(t){case"focusin":return Cs=Fo(Cs,e,t,n,i,s),!0;case"dragenter":return Ns=Fo(Ns,e,t,n,i,s),!0;case"mouseover":return Os=Fo(Os,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Fl.set(r,Fo(Fl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Gl.set(r,Fo(Gl.get(r)||null,e,t,n,i,s)),!0}return!1}function OE(e){var t=oa(e.target);if(t!==null){var n=nc(t);if(n!==null){if(t=n.tag,t===13){if(t=qb(n),t!==null){e.blockedOn=t,w0(e.priority,function(){Vv(n)});return}}else if(t===31){if(t=Xb(n),t!==null){e.blockedOn=t,w0(e.priority,function(){Vv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wm(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);vm=i,n.target.dispatchEvent(i),vm=null}else return t=no(n),t!==null&&CE(t),e.blockedOn=n,!1;t.shift()}return!0}function Hv(e,t,n){ku(e)&&n.delete(t)}function CO(){ep=!1,Cs!==null&&ku(Cs)&&(Cs=null),Ns!==null&&ku(Ns)&&(Ns=null),Os!==null&&ku(Os)&&(Os=null),Fl.forEach(Hv),Gl.forEach(Hv)}function tu(e,t){e.blockedOn===t&&(e.blockedOn=null,ep||(ep=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,CO)))}var nu=null;function Fv(e){nu!==e&&(nu=e,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,function(){nu===e&&(nu=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(Hg(i||n)===null)continue;break}var r=no(n);r!==null&&(e.splice(t,3),t-=3,Im(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function qa(e){function t(c){return tu(c,e)}Cs!==null&&tu(Cs,e),Ns!==null&&tu(Ns,e),Os!==null&&tu(Os,e),Fl.forEach(t),Gl.forEach(t);for(var n=0;n<cs.length;n++){var i=cs[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)OE(n),n.blockedOn===null&&cs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Ht]||null;if(typeof r=="function")a||Fv(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Ht]||null)o=a.formAction;else if(Hg(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Fv(n)}}}function RE(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Fg(e){this._internalRoot=e}ch.prototype.render=Fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,i=rn();xE(n,i,e,t,null,null)};ch.prototype.unmount=Fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xE(e.current,2,null,e,null,null),ah(),t[to]=null}};function ch(e){this._internalRoot=e}ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=rT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cs.length&&t!==0&&t<cs[n].priority;n++);cs.splice(n,0,e),n===0&&OE(e)}};var Gv=$b.version;if(Gv!=="19.2.3")throw Error(j(527,Gv,"19.2.3"));me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=i2(t),e=e!==null?Yb(e):null,e=e===null?null:e.stateNode,e};var NO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{ic=iu.inject(NO),nn=iu}catch{}}qf.createRoot=function(e,t){if(!Zb(e))throw Error(j(299));var n=!1,i="",s=b1,r=T1,a=E1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=AE(e,1,!1,null,null,n,i,null,s,r,a,RE),e[to]=t.current,Pg(e),new Fg(t)};qf.hydrateRoot=function(e,t,n){if(!Zb(e))throw Error(j(299));var i=!1,s="",r=b1,a=T1,o=E1,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=AE(e,1,!0,t,n??null,i,s,c,r,a,o,RE),t.context=wE(null),n=t.current,i=rn(),i=Jp(i),s=Es(i),s.callback=null,As(n,s,i),n=i,t.current.lanes=n,rc(t,n),ci(t),e[to]=t.current,Pg(e),new ch(t)};qf.version="19.2.3";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(e){console.error(e)}}DE(),Hb.exports=qf;var OO=Hb.exports;const RO="modulepreload",DO=function(e,t){return new URL(e,t).href},$v={},Ne=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=DO(u,i),u in $v)return;$v[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!i)for(let C=a.length-1;C>=0;C--){const R=a[C];if(R.href===u&&(!f||R.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":RO,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((C,R)=>{g.addEventListener("load",C),g.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})},$l="saylor-diss",ME="Michael Saylor's Dissertation",MO="An interactive course for learning mathematics",kE="",kO="https://mathacademy-cyan.vercel.app",IO="https://www.youtube.com/playlist?list=PLaAxhhFb7OVE6me8fF4UWmgm6wEfJgFLo",ei={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:IE,setPrototypeOf:Zv,isFrozen:zO,getPrototypeOf:LO,getOwnPropertyDescriptor:PO}=Object;let{freeze:Mt,seal:wn,create:tp}=Object,{apply:np,construct:ip}=typeof Reflect<"u"&&Reflect;Mt||(Mt=function(t){return t});wn||(wn=function(t){return t});np||(np=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return t.apply(n,s)});ip||(ip=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const su=kt(Array.prototype.forEach),UO=kt(Array.prototype.lastIndexOf),qv=kt(Array.prototype.pop),Go=kt(Array.prototype.push),jO=kt(Array.prototype.splice),Iu=kt(String.prototype.toLowerCase),Sd=kt(String.prototype.toString),bd=kt(String.prototype.match),$o=kt(String.prototype.replace),VO=kt(String.prototype.indexOf),BO=kt(String.prototype.trim),Mn=kt(Object.prototype.hasOwnProperty),Ct=kt(RegExp.prototype.test),Zo=HO(TypeError);function kt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return np(e,t,i)}}function HO(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ip(e,n)}}function te(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Iu;Zv&&Zv(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const r=n(s);r!==s&&(zO(t)||(t[i]=r),s=r)}e[s]=!0}return e}function FO(e){for(let t=0;t<e.length;t++)Mn(e,t)||(e[t]=null);return e}function qn(e){const t=tp(null);for(const[n,i]of IE(e))Mn(e,n)&&(Array.isArray(i)?t[n]=FO(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=qn(i):t[n]=i);return t}function qo(e,t){for(;e!==null;){const i=PO(e,t);if(i){if(i.get)return kt(i.get);if(typeof i.value=="function")return kt(i.value)}e=LO(e)}function n(){return null}return n}const Xv=Mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Td=Mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ed=Mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GO=Mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ad=Mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$O=Mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yv=Mt(["#text"]),Kv=Mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wd=Mt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Jv=Mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ru=Mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZO=wn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qO=wn(/<%[\w\W]*|[\w\W]*%>/gm),XO=wn(/\$\{[\w\W]*/gm),YO=wn(/^data-[\-\w.\u00B7-\uFFFF]+$/),KO=wn(/^aria-[\-\w]+$/),zE=wn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JO=wn(/^(?:\w+script|data):/i),QO=wn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LE=wn(/^html$/i),WO=wn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qv=Object.freeze({__proto__:null,ARIA_ATTR:KO,ATTR_WHITESPACE:QO,CUSTOM_ELEMENT:WO,DATA_ATTR:YO,DOCTYPE_NAME:LE,ERB_EXPR:qO,IS_ALLOWED_URI:zE,IS_SCRIPT_OR_DATA:JO,MUSTACHE_EXPR:ZO,TMPLIT_EXPR:XO});const Xo={element:1,text:3,progressingInstruction:7,comment:8,document:9},eR=function(){return typeof window>"u"?null:window},tR=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Wv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function PE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eR();const t=X=>PE(X);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Xo.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:o,Element:c,NodeFilter:u,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:m,trustedTypes:g}=e,C=c.prototype,R=qo(C,"cloneNode"),I=qo(C,"remove"),b=qo(C,"nextSibling"),v=qo(C,"childNodes"),A=qo(C,"parentNode");if(typeof a=="function"){const X=n.createElement("template");X.content&&X.content.ownerDocument&&(n=X.content.ownerDocument)}let O,L="";const{implementation:V,createNodeIterator:T,createDocumentFragment:y,getElementsByTagName:S}=n,{importNode:E}=i;let x=Wv();t.isSupported=typeof IE=="function"&&typeof A=="function"&&V&&V.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:N,TMPLIT_EXPR:se,DATA_ATTR:ae,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:ee}=Qv;let{IS_ALLOWED_URI:ce}=Qv,ge=null;const At=te({},[...Xv,...Td,...Ed,...Ad,...Yv]);let Me=null;const xt=te({},[...Kv,...wd,...Jv,...ru]);let pe=Object.seal(tp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),hi=null,Xs=null;const Bn=Object.seal(tp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let vo=!0,_o=!0,Ac=!1,So=!0,Hn=!1,Ys=!0,di=!1,Ks=!1,Js=!1,mi=!1,Fe=!1,Ye=!1,Qs=!0,wc=!1;const xc="user-content-";let bo=!0,Nn=!1,pi={},$t=null;const Ws=te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Cc=null;const Nc=te({},["audio","video","img","source","image","track"]);let Zr=null;const Oc=te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Fn="http://www.w3.org/1998/Math/MathML",Zi="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml";let qt=Zt,qr=!1,er=null;const Rc=te({},[Fn,Zi,Zt],Sd);let Gn=te({},["mi","mo","mn","ms","mtext"]),tr=te({},["annotation-xml"]);const pt=te({},["title","style","font","a","script"]);let qi=null;const nr=["application/xhtml+xml","text/html"],ir="text/html";let Ge=null,Xi=null;const Yi=n.createElement("form"),Dc=function(D){return D instanceof RegExp||D instanceof Function},To=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xi&&Xi===D)){if((!D||typeof D!="object")&&(D={}),D=qn(D),qi=nr.indexOf(D.PARSER_MEDIA_TYPE)===-1?ir:D.PARSER_MEDIA_TYPE,Ge=qi==="application/xhtml+xml"?Sd:Iu,ge=Mn(D,"ALLOWED_TAGS")?te({},D.ALLOWED_TAGS,Ge):At,Me=Mn(D,"ALLOWED_ATTR")?te({},D.ALLOWED_ATTR,Ge):xt,er=Mn(D,"ALLOWED_NAMESPACES")?te({},D.ALLOWED_NAMESPACES,Sd):Rc,Zr=Mn(D,"ADD_URI_SAFE_ATTR")?te(qn(Oc),D.ADD_URI_SAFE_ATTR,Ge):Oc,Cc=Mn(D,"ADD_DATA_URI_TAGS")?te(qn(Nc),D.ADD_DATA_URI_TAGS,Ge):Nc,$t=Mn(D,"FORBID_CONTENTS")?te({},D.FORBID_CONTENTS,Ge):Ws,hi=Mn(D,"FORBID_TAGS")?te({},D.FORBID_TAGS,Ge):qn({}),Xs=Mn(D,"FORBID_ATTR")?te({},D.FORBID_ATTR,Ge):qn({}),pi=Mn(D,"USE_PROFILES")?D.USE_PROFILES:!1,vo=D.ALLOW_ARIA_ATTR!==!1,_o=D.ALLOW_DATA_ATTR!==!1,Ac=D.ALLOW_UNKNOWN_PROTOCOLS||!1,So=D.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Hn=D.SAFE_FOR_TEMPLATES||!1,Ys=D.SAFE_FOR_XML!==!1,di=D.WHOLE_DOCUMENT||!1,mi=D.RETURN_DOM||!1,Fe=D.RETURN_DOM_FRAGMENT||!1,Ye=D.RETURN_TRUSTED_TYPE||!1,Js=D.FORCE_BODY||!1,Qs=D.SANITIZE_DOM!==!1,wc=D.SANITIZE_NAMED_PROPS||!1,bo=D.KEEP_CONTENT!==!1,Nn=D.IN_PLACE||!1,ce=D.ALLOWED_URI_REGEXP||zE,qt=D.NAMESPACE||Zt,Gn=D.MATHML_TEXT_INTEGRATION_POINTS||Gn,tr=D.HTML_INTEGRATION_POINTS||tr,pe=D.CUSTOM_ELEMENT_HANDLING||{},D.CUSTOM_ELEMENT_HANDLING&&Dc(D.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pe.tagNameCheck=D.CUSTOM_ELEMENT_HANDLING.tagNameCheck),D.CUSTOM_ELEMENT_HANDLING&&Dc(D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pe.attributeNameCheck=D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),D.CUSTOM_ELEMENT_HANDLING&&typeof D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pe.allowCustomizedBuiltInElements=D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Hn&&(_o=!1),Fe&&(mi=!0),pi&&(ge=te({},Yv),Me=[],pi.html===!0&&(te(ge,Xv),te(Me,Kv)),pi.svg===!0&&(te(ge,Td),te(Me,wd),te(Me,ru)),pi.svgFilters===!0&&(te(ge,Ed),te(Me,wd),te(Me,ru)),pi.mathMl===!0&&(te(ge,Ad),te(Me,Jv),te(Me,ru))),D.ADD_TAGS&&(typeof D.ADD_TAGS=="function"?Bn.tagCheck=D.ADD_TAGS:(ge===At&&(ge=qn(ge)),te(ge,D.ADD_TAGS,Ge))),D.ADD_ATTR&&(typeof D.ADD_ATTR=="function"?Bn.attributeCheck=D.ADD_ATTR:(Me===xt&&(Me=qn(Me)),te(Me,D.ADD_ATTR,Ge))),D.ADD_URI_SAFE_ATTR&&te(Zr,D.ADD_URI_SAFE_ATTR,Ge),D.FORBID_CONTENTS&&($t===Ws&&($t=qn($t)),te($t,D.FORBID_CONTENTS,Ge)),D.ADD_FORBID_CONTENTS&&($t===Ws&&($t=qn($t)),te($t,D.ADD_FORBID_CONTENTS,Ge)),bo&&(ge["#text"]=!0),di&&te(ge,["html","head","body"]),ge.table&&(te(ge,["tbody"]),delete hi.tbody),D.TRUSTED_TYPES_POLICY){if(typeof D.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof D.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=D.TRUSTED_TYPES_POLICY,L=O.createHTML("")}else O===void 0&&(O=tR(g,s)),O!==null&&typeof L=="string"&&(L=O.createHTML(""));Mt&&Mt(D),Xi=D}},Xr=te({},[...Td,...Ed,...GO]),Mc=te({},[...Ad,...$O]),kc=function(D){let B=A(D);(!B||!B.tagName)&&(B={namespaceURI:qt,tagName:"template"});const $=Iu(D.tagName),ue=Iu(B.tagName);return er[D.namespaceURI]?D.namespaceURI===Zi?B.namespaceURI===Zt?$==="svg":B.namespaceURI===Fn?$==="svg"&&(ue==="annotation-xml"||Gn[ue]):!!Xr[$]:D.namespaceURI===Fn?B.namespaceURI===Zt?$==="math":B.namespaceURI===Zi?$==="math"&&tr[ue]:!!Mc[$]:D.namespaceURI===Zt?B.namespaceURI===Zi&&!tr[ue]||B.namespaceURI===Fn&&!Gn[ue]?!1:!Mc[$]&&(pt[$]||!Xr[$]):!!(qi==="application/xhtml+xml"&&er[D.namespaceURI]):!1},zt=function(D){Go(t.removed,{element:D});try{A(D).removeChild(D)}catch{I(D)}},Xt=function(D,B){try{Go(t.removed,{attribute:B.getAttributeNode(D),from:B})}catch{Go(t.removed,{attribute:null,from:B})}if(B.removeAttribute(D),D==="is")if(mi||Fe)try{zt(B)}catch{}else try{B.setAttribute(D,"")}catch{}},Ic=function(D){let B=null,$=null;if(Js)D="<remove></remove>"+D;else{const Pe=bd(D,/^[\r\n\t ]+/);$=Pe&&Pe[0]}qi==="application/xhtml+xml"&&qt===Zt&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");const ue=O?O.createHTML(D):D;if(qt===Zt)try{B=new m().parseFromString(ue,qi)}catch{}if(!B||!B.documentElement){B=V.createDocument(qt,"template",null);try{B.documentElement.innerHTML=qr?L:ue}catch{}}const Ke=B.body||B.documentElement;return D&&$&&Ke.insertBefore(n.createTextNode($),Ke.childNodes[0]||null),qt===Zt?S.call(B,di?"html":"body")[0]:di?B.documentElement:Ke},On=function(D){return T.call(D.ownerDocument||D,D,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Yr=function(D){return D instanceof d&&(typeof D.nodeName!="string"||typeof D.textContent!="string"||typeof D.removeChild!="function"||!(D.attributes instanceof f)||typeof D.removeAttribute!="function"||typeof D.setAttribute!="function"||typeof D.namespaceURI!="string"||typeof D.insertBefore!="function"||typeof D.hasChildNodes!="function")},Eo=function(D){return typeof o=="function"&&D instanceof o};function Yt(X,D,B){su(X,$=>{$.call(t,D,B,Xi)})}const Kr=function(D){let B=null;if(Yt(x.beforeSanitizeElements,D,null),Yr(D))return zt(D),!0;const $=Ge(D.nodeName);if(Yt(x.uponSanitizeElement,D,{tagName:$,allowedTags:ge}),Ys&&D.hasChildNodes()&&!Eo(D.firstElementChild)&&Ct(/<[/\w!]/g,D.innerHTML)&&Ct(/<[/\w!]/g,D.textContent)||D.nodeType===Xo.progressingInstruction||Ys&&D.nodeType===Xo.comment&&Ct(/<[/\w]/g,D.data))return zt(D),!0;if(!(Bn.tagCheck instanceof Function&&Bn.tagCheck($))&&(!ge[$]||hi[$])){if(!hi[$]&&zc($)&&(pe.tagNameCheck instanceof RegExp&&Ct(pe.tagNameCheck,$)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck($)))return!1;if(bo&&!$t[$]){const ue=A(D)||D.parentNode,Ke=v(D)||D.childNodes;if(Ke&&ue){const Pe=Ke.length;for(let gt=Pe-1;gt>=0;--gt){const ln=R(Ke[gt],!0);ln.__removalCount=(D.__removalCount||0)+1,ue.insertBefore(ln,b(D))}}}return zt(D),!0}return D instanceof c&&!kc(D)||($==="noscript"||$==="noembed"||$==="noframes")&&Ct(/<\/no(script|embed|frames)/i,D.innerHTML)?(zt(D),!0):(Hn&&D.nodeType===Xo.text&&(B=D.textContent,su([M,N,se],ue=>{B=$o(B,ue," ")}),D.textContent!==B&&(Go(t.removed,{element:D.cloneNode()}),D.textContent=B)),Yt(x.afterSanitizeElements,D,null),!1)},Ao=function(D,B,$){if(Qs&&(B==="id"||B==="name")&&($ in n||$ in Yi))return!1;if(!(_o&&!Xs[B]&&Ct(ae,B))){if(!(vo&&Ct(H,B))){if(!(Bn.attributeCheck instanceof Function&&Bn.attributeCheck(B,D))){if(!Me[B]||Xs[B]){if(!(zc(D)&&(pe.tagNameCheck instanceof RegExp&&Ct(pe.tagNameCheck,D)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(D))&&(pe.attributeNameCheck instanceof RegExp&&Ct(pe.attributeNameCheck,B)||pe.attributeNameCheck instanceof Function&&pe.attributeNameCheck(B,D))||B==="is"&&pe.allowCustomizedBuiltInElements&&(pe.tagNameCheck instanceof RegExp&&Ct(pe.tagNameCheck,$)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck($))))return!1}else if(!Zr[B]){if(!Ct(ce,$o($,q,""))){if(!((B==="src"||B==="xlink:href"||B==="href")&&D!=="script"&&VO($,"data:")===0&&Cc[D])){if(!(Ac&&!Ct(G,$o($,q,"")))){if($)return!1}}}}}}}return!0},zc=function(D){return D!=="annotation-xml"&&bd(D,ee)},wo=function(D){Yt(x.beforeSanitizeAttributes,D,null);const{attributes:B}=D;if(!B||Yr(D))return;const $={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Me,forceKeepAttr:void 0};let ue=B.length;for(;ue--;){const Ke=B[ue],{name:Pe,namespaceURI:gt,value:ln}=Ke,gi=Ge(Pe),sr=ln;let $e=Pe==="value"?sr:BO(sr);if($.attrName=gi,$.attrValue=$e,$.keepAttr=!0,$.forceKeepAttr=void 0,Yt(x.uponSanitizeAttribute,D,$),$e=$.attrValue,wc&&(gi==="id"||gi==="name")&&(Xt(Pe,D),$e=xc+$e),Ys&&Ct(/((--!?|])>)|<\/(style|title|textarea)/i,$e)){Xt(Pe,D);continue}if(gi==="attributename"&&bd($e,"href")){Xt(Pe,D);continue}if($.forceKeepAttr)continue;if(!$.keepAttr){Xt(Pe,D);continue}if(!So&&Ct(/\/>/i,$e)){Xt(Pe,D);continue}Hn&&su([M,N,se],Co=>{$e=$o($e,Co," ")});const xo=Ge(D.nodeName);if(!Ao(xo,gi,$e)){Xt(Pe,D);continue}if(O&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!gt)switch(g.getAttributeType(xo,gi)){case"TrustedHTML":{$e=O.createHTML($e);break}case"TrustedScriptURL":{$e=O.createScriptURL($e);break}}if($e!==sr)try{gt?D.setAttributeNS(gt,Pe,$e):D.setAttribute(Pe,$e),Yr(D)?zt(D):qv(t.removed)}catch{Xt(Pe,D)}}Yt(x.afterSanitizeAttributes,D,null)},Rh=function X(D){let B=null;const $=On(D);for(Yt(x.beforeSanitizeShadowDOM,D,null);B=$.nextNode();)Yt(x.uponSanitizeShadowNode,B,null),Kr(B),wo(B),B.content instanceof r&&X(B.content);Yt(x.afterSanitizeShadowDOM,D,null)};return t.sanitize=function(X){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=null,$=null,ue=null,Ke=null;if(qr=!X,qr&&(X="<!-->"),typeof X!="string"&&!Eo(X))if(typeof X.toString=="function"){if(X=X.toString(),typeof X!="string")throw Zo("dirty is not a string, aborting")}else throw Zo("toString is not a function");if(!t.isSupported)return X;if(Ks||To(D),t.removed=[],typeof X=="string"&&(Nn=!1),Nn){if(X.nodeName){const ln=Ge(X.nodeName);if(!ge[ln]||hi[ln])throw Zo("root node is forbidden and cannot be sanitized in-place")}}else if(X instanceof o)B=Ic("<!---->"),$=B.ownerDocument.importNode(X,!0),$.nodeType===Xo.element&&$.nodeName==="BODY"||$.nodeName==="HTML"?B=$:B.appendChild($);else{if(!mi&&!Hn&&!di&&X.indexOf("<")===-1)return O&&Ye?O.createHTML(X):X;if(B=Ic(X),!B)return mi?null:Ye?L:""}B&&Js&&zt(B.firstChild);const Pe=On(Nn?X:B);for(;ue=Pe.nextNode();)Kr(ue),wo(ue),ue.content instanceof r&&Rh(ue.content);if(Nn)return X;if(mi){if(Fe)for(Ke=y.call(B.ownerDocument);B.firstChild;)Ke.appendChild(B.firstChild);else Ke=B;return(Me.shadowroot||Me.shadowrootmode)&&(Ke=E.call(i,Ke,!0)),Ke}let gt=di?B.outerHTML:B.innerHTML;return di&&ge["!doctype"]&&B.ownerDocument&&B.ownerDocument.doctype&&B.ownerDocument.doctype.name&&Ct(LE,B.ownerDocument.doctype.name)&&(gt="<!DOCTYPE "+B.ownerDocument.doctype.name+`>
`+gt),Hn&&su([M,N,se],ln=>{gt=$o(gt,ln," ")}),O&&Ye?O.createHTML(gt):gt},t.setConfig=function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};To(X),Ks=!0},t.clearConfig=function(){Xi=null,Ks=!1},t.isValidAttribute=function(X,D,B){Xi||To({});const $=Ge(X),ue=Ge(D);return Ao($,ue,B)},t.addHook=function(X,D){typeof D=="function"&&Go(x[X],D)},t.removeHook=function(X,D){if(D!==void 0){const B=UO(x[X],D);return B===-1?void 0:jO(x[X],B,1)[0]}return qv(x[X])},t.removeHooks=function(X){x[X]=[]},t.removeAllHooks=function(){x=Wv()},t}var m8=PE();const nR=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function iR(e){return nR.includes(e)}const mt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},bi={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},bl=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],UE=50;class sR{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const r=console[t]||console.log;i!==void 0?r(s,i):r(s)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const xd={};function ui(e){const t=e||"__default__";return xd[t]||(xd[t]=new sR(e)),xd[t]}const vn=ui("Storage"),sp="magic-internet-math-progress",Cd=2;function jE(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function VE(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function Ir(){if(!jE())return vn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(sp);if(!e)return null;const t=JSON.parse(e);return VE(t)?(t.version!==Cd&&(vn.info(`Migrating state from v${t.version} to v${Cd}`),t.version=Cd),t):(vn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){vn.error("Failed to load gamification state:",e);try{localStorage.removeItem(sp),vn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function uh(e){if(!jE()){vn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(sp,JSON.stringify(e))}catch(t){vn.error("Failed to save gamification state:",t)}}const rR=1;function aR(){const e=Ir();if(!e){vn.warn("No progress data to export");return}const t={version:rR,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),vn.info("Progress exported successfully")}function oR(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!VE(t.state))}async function lR(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var s;try{const r=(s=i.target)==null?void 0:s.result;if(typeof r!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(r);if(!oR(a)){t({success:!1,message:"Invalid backup file format"});return}const o=Ir(),c=(o==null?void 0:o.user.totalXP)??0,u=a.state.user.totalXP;if(c>u){t({success:!1,message:`Current progress (${c} XP) is higher than backup (${u} XP). Import cancelled.`});return}uh(a.state),vn.info(`Progress imported: ${u} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${u} XP!`,xpImported:u})}catch(r){vn.error("Failed to parse backup file:",r),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function cR(){const e=Ir();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function uR(){const e=Ir();e&&(e.migratedToServer=!0,uh(e),vn.info("Marked progress as migrated to server"))}function fR(){const e=Ir();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function BE(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:hR(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:UE,completed:!1},lastUpdated:e}}function hR(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const dR=50;function e_(e){return Math.round(e/dR*100)}const mR=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>e_(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>e_(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function pR(e){const t=[];for(const n of mR){const i=e.achievements.find(r=>r.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function lo(e){for(let t=bl.length-1;t>=0;t--)if(e>=bl[t])return t+1;return 1}function HE(e,t){if(t>=bl.length)return 100;const n=bl[t-1],i=bl[t],s=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function gR(e,t){const n={easy:mt.QUIZ_EASY,medium:mt.QUIZ_MEDIUM,hard:mt.QUIZ_HARD}[e];return Math.round(n*(t/100))}const yR=1e3*60*60*24;function vR(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:UE,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),r=Math.floor((t.getTime()-s.getTime())/yR);if(r===0)return e;if(r===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return r===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function FE(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,r)=>s+r.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function _R(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const fh=ui("GamificationReducer");function SR(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const s=e.user.totalXP+mt.SECTION_VISIT;return{...e,user:{...e.user,totalXP:s,level:lo(s)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_VISIT},lastUpdated:n}}function bR(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return fh.warn(`Attempted to complete unvisited section: ${t}`),e;const s=e.user.totalXP+mt.SECTION_COMPLETE,r=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:s,level:lo(s),sectionsCompleted:r},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:FE(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.SECTION_COMPLETE},lastUpdated:n}}function TR(e,t,n){const{sectionId:i,difficulty:s,score:r,correctAnswers:a,totalQuestions:o}=t,c=e.sections[i];if(!c)return fh.warn(`Section ${i} was not visited before quiz`),e;const u=gR(s,r),f=a===o,d=f?Math.round(u*(1+mt.QUIZ_PERFECT_BONUS)):u,m=e.user.totalXP+d,g={timestamp:n,difficulty:s,score:r,correctAnswers:a,totalQuestions:o,xpEarned:d},C=[...c.quizAttempts,g],R={...c,quizAttempts:C},I=FE(R),b=r>=80&&!c.completedAt,v=b&&!e.user.sectionsCompleted.includes(i),A=v?mt.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:m+A,level:lo(m+A),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:f?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:v?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...R,masteryLevel:I,completedAt:b?c.completedAt||n:c.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+d+A},lastUpdated:n}}function ER(e,t,n,i){const s=e.sections[t];if(s!=null&&s.visualizationsInteracted.includes(n))return e;if(!s)return fh.warn(`Section ${t} was not visited before visualization`),e;const r=e.user.totalXP+mt.VISUALIZATION_USE,a=[...s.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:r,level:lo(r),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...s,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.VISUALIZATION_USE},lastUpdated:i}}function AR(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+mt.PART_COMPLETE_BONUS;return fh.info(`Part ${t} completed, awarding ${mt.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:lo(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+mt.PART_COMPLETE_BONUS},lastUpdated:n}}function wR(e,t,n){let i=bi.GAME_PARTICIPATION;const s=bi.TIER_MULTIPLIER[t.tier],r=Math.floor(Math.max(0,t.score)/bi.POINTS_PER_XP_UNIT*mt.QUIZ_MEDIUM*s);if(i+=r,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=bi.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=bi.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=bi.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=bi.FIRST_PLACE_BONUS;break;case 2:i+=bi.SECOND_PLACE_BONUS;break;case 3:i+=bi.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,o=e.racingStats,c=t.score>((o==null?void 0:o.highScore)??0),u=t.isMultiplayer&&t.placement===1,f={gamesPlayed:((o==null?void 0:o.gamesPlayed)??0)+1,multiplayerGamesPlayed:((o==null?void 0:o.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((o==null?void 0:o.totalPoints)??0)+Math.max(0,t.score),highScore:c?t.score:(o==null?void 0:o.highScore)??0,highestTierUnlocked:Math.max((o==null?void 0:o.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((o==null?void 0:o.longestStreak)??0,t.maxStreak),fastAnswers:((o==null?void 0:o.fastAnswers)??0)+t.fastAnswers,totalCorrect:((o==null?void 0:o.totalCorrect)??0)+t.correctAnswers,totalAttempted:((o==null?void 0:o.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((o==null?void 0:o.multiplayerWins)??0)+(u?1:0),lastPlayedAt:n},d=e.achievements.map(m=>{if(m.unlockedAt)return m;switch(m.id){case"racing-rookie":if(f.gamesPlayed>=1)return{...m,progress:1,unlockedAt:n};break;case"speed-demon":return f.fastAnswers>=50?{...m,progress:50,unlockedAt:n}:{...m,progress:Math.min(f.fastAnswers,50)};case"streak-legend":return f.longestStreak>=20?{...m,progress:20,unlockedAt:n}:{...m,progress:Math.min(f.longestStreak,20)};case"tier-climber":return f.highestTierUnlocked>=6?{...m,progress:6,unlockedAt:n}:{...m,progress:f.highestTierUnlocked};case"modular-master":return f.totalPoints>=1e4?{...m,progress:1e4,unlockedAt:n}:{...m,progress:Math.min(f.totalPoints,1e4)};case"multiplayer-champion":return f.multiplayerWins>=5?{...m,progress:5,unlockedAt:n}:{...m,progress:Math.min(f.multiplayerWins,5)}}return m});return{...e,user:{...e.user,totalXP:a,level:lo(a)},racingStats:f,achievements:d,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function xR(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return SR(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return bR(e,t.payload.sectionId,n);case"COMPLETE_PART":return AR(e,t.payload.partId,n);case"RECORD_QUIZ":return TR(e,t.payload,n);case"USE_VISUALIZATION":return ER(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return vR(e);case"RESET_PROGRESS":return BE();case"RECORD_RACE_GAME":return wR(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},NR=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},$E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,f=r>>2,d=(r&3)<<4|o>>4;let m=(o&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),i.push(n[f],n[d],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GE(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):NR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||u==null||d==null)throw new OR;const m=r<<2|o>>4;if(i.push(m),u!==64){const g=o<<4&240|u>>2;if(i.push(g),d!==64){const C=u<<6&192|d;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(e){const t=GE(e);return $E.encodeByteArray(t,!0)},ZE=function(e){return RR(e).replace(/\./g,"")},qE=function(e){try{return $E.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>DR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof t_>"u")return;const e=t_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qE(e[1]);return t&&JSON.parse(t)},Gg=()=>{try{return CR()||MR()||kR()||IR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XE=e=>{var t,n;return(n=(t=Gg())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},zR=e=>{const t=XE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},YE=()=>{var e;return(e=Gg())==null?void 0:e.config},KE=e=>{var t;return(t=Gg())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(e){return(await fetch(e,{credentials:"include"})).ok}const Tl={};function PR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?e.emulator.push(t):e.prod.push(t);return e}function UR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let n_=!1;function QE(e,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Tl[e]===t||Tl[e]||n_)return;Tl[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=PR().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{n_=!0,a()},m}function f(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=UR(i),g=n("text"),C=document.getElementById(g)||document.createElement("span"),R=n("learnmore"),I=document.getElementById(R)||document.createElement("a"),b=n("preprendIcon"),v=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;o(A),f(I,R);const O=u();c(v,b),A.append(v,C,I,O),document.body.appendChild(A)}r?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function VR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FR(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="FirebaseError";class fi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=ZR,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?qR(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new fi(s,o,i)}}function qR(e,t){return e.replace(XR,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const XR=/\{\$([^}]+)}/g;function YR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(i_(r)&&i_(a)){if(!Xa(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function i_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function KR(e,t){const n=new JR(e,t);return n.subscribe.bind(n)}class JR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QR(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Nd),s.error===void 0&&(s.error=Nd),s.complete===void 0&&(s.complete=Nd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Nd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return e&&e._delegate?e._delegate:e}class Ps{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new LR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tD(t))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pr){return this.instances.has(t)}getOptions(t=pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eD(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pr){return this.component?this.component.multipleInstances?t:pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eD(e){return e===pr?void 0:e}function tD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new WR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ve||(ve={}));const iD={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},sD=ve.INFO,rD={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},aD=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=rD[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $g{constructor(t){this.name=t,this._logLevel=sD,this._logHandler=aD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const oD=(e,t)=>t.some(n=>e instanceof n);let s_,r_;function lD(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cD(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,rp=new WeakMap,eA=new WeakMap,Od=new WeakMap,Zg=new WeakMap;function uD(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Rs(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&WE.set(n,e)}).catch(()=>{}),Zg.set(t,e),t}function fD(e){if(rp.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});rp.set(e,t)}let ap={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||eA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hD(e){ap=e(ap)}function dD(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Rd(this),t,...n);return eA.set(i,t.sort?t.sort():[t]),Rs(i)}:cD().includes(e)?function(...t){return e.apply(Rd(this),t),Rs(WE.get(this))}:function(...t){return Rs(e.apply(Rd(this),t))}}function mD(e){return typeof e=="function"?dD(e):(e instanceof IDBTransaction&&fD(e),oD(e,lD())?new Proxy(e,ap):e)}function Rs(e){if(e instanceof IDBRequest)return uD(e);if(Od.has(e))return Od.get(e);const t=mD(e);return t!==e&&(Od.set(e,t),Zg.set(t,e)),t}const Rd=e=>Zg.get(e);function pD(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=Rs(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Rs(a.result),c.oldVersion,c.newVersion,Rs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const gD=["get","getKey","getAll","getAllKeys","count"],yD=["put","add","delete","clear"],Dd=new Map;function a_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=yD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||gD.includes(n)))return;const r=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Dd.set(t,r),r}hD(e=>({...e,get:(t,n,i)=>a_(t,n)||e.get(t,n,i),has:(t,n)=>!!a_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_D(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function _D(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const op="@firebase/app",o_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new $g("@firebase/app"),SD="@firebase/app-compat",bD="@firebase/analytics-compat",TD="@firebase/analytics",ED="@firebase/app-check-compat",AD="@firebase/app-check",wD="@firebase/auth",xD="@firebase/auth-compat",CD="@firebase/database",ND="@firebase/data-connect",OD="@firebase/database-compat",RD="@firebase/functions",DD="@firebase/functions-compat",MD="@firebase/installations",kD="@firebase/installations-compat",ID="@firebase/messaging",zD="@firebase/messaging-compat",LD="@firebase/performance",PD="@firebase/performance-compat",UD="@firebase/remote-config",jD="@firebase/remote-config-compat",VD="@firebase/storage",BD="@firebase/storage-compat",HD="@firebase/firestore",FD="@firebase/ai",GD="@firebase/firestore-compat",$D="firebase",ZD="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",qD={[op]:"fire-core",[SD]:"fire-core-compat",[TD]:"fire-analytics",[bD]:"fire-analytics-compat",[AD]:"fire-app-check",[ED]:"fire-app-check-compat",[wD]:"fire-auth",[xD]:"fire-auth-compat",[CD]:"fire-rtdb",[ND]:"fire-data-connect",[OD]:"fire-rtdb-compat",[RD]:"fire-fn",[DD]:"fire-fn-compat",[MD]:"fire-iid",[kD]:"fire-iid-compat",[ID]:"fire-fcm",[zD]:"fire-fcm-compat",[LD]:"fire-perf",[PD]:"fire-perf-compat",[UD]:"fire-rc",[jD]:"fire-rc-compat",[VD]:"fire-gcs",[BD]:"fire-gcs-compat",[HD]:"fire-fst",[GD]:"fire-fst-compat",[FD]:"fire-vertex","fire-js":"fire-js",[$D]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,XD=new Map,cp=new Map;function l_(e,t){try{e.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zr(e){const t=e.name;if(cp.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;cp.set(t,e);for(const n of Zl.values())l_(n,e);for(const n of XD.values())l_(n,e);return!0}function qg(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new mc("app","Firebase",YD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=ZD;function tA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:lp,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ds.create("bad-app-name",{appName:String(s)});if(n||(n=YE()),!n)throw Ds.create("no-options");const r=Zl.get(s);if(r){if(Xa(n,r.options)&&Xa(i,r.config))return r;throw Ds.create("duplicate-app",{appName:s})}const a=new nD(s);for(const c of cp.values())a.addComponent(c);const o=new KD(n,i,a);return Zl.set(s,o),o}function nA(e=lp){const t=Zl.get(e);if(!t&&e===lp&&YE())return tA();if(!t)throw Ds.create("no-app",{appName:e});return t}function JD(){return Array.from(Zl.values())}function ii(e,t,n){let i=qD[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}zr(new Ps(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firebase-heartbeat-database",WD=1,ql="firebase-heartbeat-store";let Md=null;function iA(){return Md||(Md=pD(QD,WD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ds.create("idb-open",{originalErrorMessage:e.message})})),Md}async function eM(e){try{const n=(await iA()).transaction(ql),i=await n.objectStore(ql).get(sA(e));return await n.done,i}catch(t){if(t instanceof fi)Bi.warn(t.message);else{const n=Ds.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}async function c_(e,t){try{const i=(await iA()).transaction(ql,"readwrite");await i.objectStore(ql).put(t,sA(e)),await i.done}catch(n){if(n instanceof fi)Bi.warn(n.message);else{const i=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(i.message)}}}function sA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1024,nM=30;class iM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rM(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>nM){const a=aM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Bi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:i,unsentEntries:s}=sM(this._heartbeatsCache.heartbeats),r=ZE(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Bi.warn(n),""}}}function u_(){return new Date().toISOString().substring(0,10)}function sM(e,t=tM){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),f_(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),f_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class rM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function f_(e){return ZE(JSON.stringify({version:2,heartbeats:e})).length}function aM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(e){zr(new Ps("platform-logger",t=>new vD(t),"PRIVATE")),zr(new Ps("heartbeat",t=>new iM(t),"PRIVATE")),ii(op,o_,e),ii(op,o_,"esm2020"),ii("fire-js","")}oM("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="type.googleapis.com/google.protobuf.Int64Value",cM="type.googleapis.com/google.protobuf.UInt64Value";function rA(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function bf(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>bf(t));if(typeof e=="function"||typeof e=="object")return rA(e,t=>bf(t));throw new Error("Data cannot be encoded in JSON: "+e)}function Ya(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case lM:case cM:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>Ya(t)):typeof e=="function"||typeof e=="object"?rA(e,t=>Ya(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends fi{constructor(t,n,i){super(`${Xg}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,Vt.prototype)}}function uM(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Tf(e,t){let n=uM(e),i=n,s;try{const r=t&&t.error;if(r){const a=r.status;if(typeof a=="string"){if(!h_[a])return new Vt("internal","internal");n=h_[a],i=a}const o=r.message;typeof o=="string"&&(i=o),s=r.details,s!==void 0&&(s=Ya(s))}}catch{}return n==="ok"?null:new Vt(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t,n,i,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,_n(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="us-central1",hM=/^data: (.*?)(?:\n|$)/;function dM(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new Vt("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class mM{constructor(t,n,i,s,r=up,a=(...o)=>fetch(...o)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new fM(t,n,i,s),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(r);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=up}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function pM(e,t,n){const i=co(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(JE(e.emulatorOrigin+"/backends"),QE("Functions",!0))}function gM(e,t,n){const i=s=>vM(e,t,s,{});return i.stream=(s,r)=>SM(e,t,s,r),i}function aA(e){return e.emulatorOrigin&&co(e.emulatorOrigin)?"include":void 0}async function yM(e,t,n,i,s){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:aA(s)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function oA(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function vM(e,t,n,i){const s=e._url(t);return _M(e,s,n,i)}async function _M(e,t,n,i){n=bf(n);const s={data:n},r=await oA(e,i),a=i.timeout||7e4,o=dM(a),c=await Promise.race([yM(t,s,r,e.fetchImpl,e),o.promise,e.cancelAllRequests]);if(o.cancel(),!c)throw new Vt("cancelled","Firebase Functions instance was deleted.");const u=Tf(c.status,c.json);if(u)throw u;if(!c.json)throw new Vt("internal","Response is not valid JSON object.");let f=c.json.data;if(typeof f>"u"&&(f=c.json.result),typeof f>"u")throw new Vt("internal","Response is missing data field.");return{data:Ya(f)}}function SM(e,t,n,i){const s=e._url(t);return bM(e,s,n,i||{})}async function bM(e,t,n,i){var m;n=bf(n);const s={data:n},r=await oA(e,i);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:r,signal:i==null?void 0:i.signal,credentials:aA(e)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const R=new Vt("cancelled","Request was cancelled.");return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}const C=Tf(0,null);return{data:Promise.reject(C),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(C)}}}}}}let o,c;const u=new Promise((g,C)=>{o=g,c=C});(m=i==null?void 0:i.signal)==null||m.addEventListener("abort",()=>{const g=new Vt("cancelled","Request was cancelled.");c(g)});const f=a.body.getReader(),d=TM(f,o,c,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const g=d.getReader();return{async next(){const{value:C,done:R}=await g.read();return{value:C,done:R}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:u}}function TM(e,t,n,i){const s=(a,o)=>{const c=a.match(hM);if(!c)return;const u=c[1];try{const f=JSON.parse(u);if("result"in f){t(Ya(f.result));return}if("message"in f){o.enqueue(Ya(f.message));return}if("error"in f){const d=Tf(0,f);o.error(d),n(d);return}}catch(f){if(f instanceof Vt){o.error(f),n(f);return}}},r=new TextDecoder;return new ReadableStream({start(a){let o="";return c();async function c(){if(i!=null&&i.aborted){const u=new Vt("cancelled","Request was cancelled");return a.error(u),n(u),Promise.resolve()}try{const{value:u,done:f}=await e.read();if(f){o.trim()&&s(o.trim(),a),a.close();return}if(i!=null&&i.aborted){const m=new Vt("cancelled","Request was cancelled");a.error(m),n(m),await e.cancel();return}o+=r.decode(u,{stream:!0});const d=o.split(`
`);o=d.pop()||"";for(const m of d)m.trim()&&s(m.trim(),a);return c()}catch(u){const f=u instanceof Vt?u:Tf(0,null);a.error(f),n(f)}}},cancel(){return e.cancel()}})}const d_="@firebase/functions",m_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="auth-internal",AM="app-check-internal",wM="messaging-internal";function xM(e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),r=n.getProvider(EM),a=n.getProvider(wM),o=n.getProvider(AM);return new mM(s,r,a,o,i)};zr(new Ps(Xg,t,"PUBLIC").setMultipleInstances(!0)),ii(d_,m_,e),ii(d_,m_,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(e=nA(),t=up){const i=qg(xn(e),Xg).getImmediate({identifier:t}),s=zR("functions");return s&&lA(i,...s),i}function lA(e,t,n){pM(xn(e),t,n)}function Ka(e,t,n){return gM(xn(e),t)}xM();var NM="firebase",OM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(NM,OM,"app");function cA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RM=cA,uA=new mc("auth","Firebase",cA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new $g("@firebase/auth");function DM(e,...t){Ef.logLevel<=ve.WARN&&Ef.warn(`Auth (${uo}): ${e}`,...t)}function zu(e,...t){Ef.logLevel<=ve.ERROR&&Ef.error(`Auth (${uo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e,...t){throw Yg(e,...t)}function si(e,...t){return Yg(e,...t)}function fA(e,t,n){const i={...RM(),[t]:n};return new mc("auth","Firebase",i).create(t,{appName:e.name})}function Ms(e){return fA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return uA.create(e,...t)}function J(e,t,...n){if(!e)throw Yg(t,...n)}function Ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zu(t),new Error(t)}function Fi(e,t){e||Ri(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function MM(){return p_()==="http:"||p_()==="https:"}function p_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MM()||BR()||"connection"in navigator)?navigator.onLine:!0}function IM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=jR()||HR()}get(){return kM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e,t){Fi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PM=new gc(3e4,6e4);function hh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function fo(e,t,n,i,s={}){return dA(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=pc({key:e.config.apiKey,...a}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u={method:t,headers:c,...r};return VR()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&co(e.emulatorConfig.host)&&(u.credentials="include"),hA.fetch()(await pA(e,e.config.apiHost,n,o),u)})}async function dA(e,t,n){e._canInitEmulator=!1;const i={...zM,...t};try{const s=new UM(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw au(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw au(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw au(e,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fA(e,f,u);Hi(e,f)}}catch(s){if(s instanceof fi)throw s;Hi(e,"network-request-failed",{message:String(s)})}}async function mA(e,t,n,i,s={}){const r=await fo(e,t,n,i,s);return"mfaPendingCredential"in r&&Hi(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function pA(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?Kg(e.config,s):`${e.config.apiScheme}://${s}`;return LM.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class UM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),PM.get())})}}function au(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=si(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(e,t){return fo(e,"POST","/v1/accounts:delete",t)}async function Af(e,t){return fo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VM(e,t=!1){const n=xn(e),i=await n.getIdToken(t),s=Jg(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:El(kd(s.auth_time)),issuedAtTime:El(kd(s.iat)),expirationTime:El(kd(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function kd(e){return Number(e)*1e3}function Jg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const s=qE(n);return s?JSON.parse(s):(zu("Failed to decode base64 JWT payload"),null)}catch(s){return zu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g_(e){const t=Jg(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof fi&&BM(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function BM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e){var d;const t=e.auth,n=await e.getIdToken(),i=await Xl(e,Af(t,{idToken:n}));J(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(d=s.providerUserInfo)!=null&&d.length?gA(s.providerUserInfo):[],a=GM(e.providerData,r),o=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,f)}async function FM(e){const t=xn(e);await wf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GM(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function gA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(e,t){const n=await dA(e,{},async()=>{const i=pc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await pA(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return e.emulatorConfig&&co(e.emulatorConfig.host)&&(c.credentials="include"),hA.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZM(e,t){return fo(e,"POST","/v2/accounts:revokeToken",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):g_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");const n=g_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await $M(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Da;return i&&(J(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(J(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new HM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return VM(this,t)}reload(){return FM(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Xl(this,jM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:C,stsTokenManager:R}=n;J(d&&R,t,"internal-error");const I=Da.fromJSON(this.name,R);J(typeof d=="string",t,"internal-error"),ts(i,t.name),ts(s,t.name),J(typeof m=="boolean",t,"internal-error"),J(typeof g=="boolean",t,"internal-error"),ts(r,t.name),ts(a,t.name),ts(o,t.name),ts(c,t.name),ts(u,t.name),ts(f,t.name);const b=new Ln({uid:d,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:g,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:I,createdAt:u,lastLoginAt:f});return C&&Array.isArray(C)&&(b.providerData=C.map(v=>({...v}))),c&&(b._redirectEventId=c),b}static async _fromIdTokenResponse(t,n,i=!1){const s=new Da;s.updateFromServerResponse(n);const r=new Ln({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await wf(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];J(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?gA(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Da;o.updateFromIdToken(i);const c=new Ln({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;function Di(e){Fi(e instanceof Function,"Expected a class definition");let t=y_.get(e);return t?(Fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,y_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yA.type="NONE";const v_=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e,t,n){return`firebase:${e}:${t}:${n}`}class Ma{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Lu(this.userKey,s.apiKey,r),this.fullPersistenceKey=Lu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Af(this.auth,{idToken:t}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ma(Di(v_),t,i);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let r=s[0]||Di(v_);const a=Lu(i,t.config.apiKey,t.name);let o=null;for(const u of n)try{const f=await u._get(a);if(f){let d;if(typeof f=="string"){const m=await Af(t,{idToken:f}).catch(()=>{});if(!m)break;d=await Ln._fromGetAccountInfoResponse(t,m,f)}else d=Ln._fromJSON(t,f);u!==r&&(o=d),r=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Ma(r,t,i):(r=c[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==r)try{await u._remove(a)}catch{}})),new Ma(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EA(t))return"Blackberry";if(AA(t))return"Webos";if(_A(t))return"Safari";if((t.includes("chrome/")||SA(t))&&!t.includes("edge/"))return"Chrome";if(TA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function vA(e=It()){return/firefox\//i.test(e)}function _A(e=It()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SA(e=It()){return/crios\//i.test(e)}function bA(e=It()){return/iemobile/i.test(e)}function TA(e=It()){return/android/i.test(e)}function EA(e=It()){return/blackberry/i.test(e)}function AA(e=It()){return/webos/i.test(e)}function Qg(e=It()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qM(e=It()){var t;return Qg(e)&&!!((t=window.navigator)!=null&&t.standalone)}function XM(){return FR()&&document.documentMode===10}function wA(e=It()){return Qg(e)||TA(e)||AA(e)||EA(e)||/windows phone/i.test(e)||bA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(e,t=[]){let n;switch(e){case"Browser":n=__(It());break;case"Worker":n=`${__(It())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const c=t(r);a(c)}catch(c){o(c)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(e,t={}){return fo(e,"GET","/v2/passwordPolicy",hh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class QM{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new YM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Ma.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Af(this,{idToken:t}),i=await Ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===o)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await wf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_n(this.app))return Promise.reject(Ms(this));const n=t?xn(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _n(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await KM(this),n=new QM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mc("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZM(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Di(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Ma.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,i,s);return()=>{a=!0,c()}}else{const c=t.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&DM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dh(e){return xn(e)}class S_{constructor(t){this.auth=t,this.observer=null,this.addObserver=KR(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ek(e){Wg=e}function tk(e){return Wg.loadJS(e)}function nk(){return Wg.gapiScript}function ik(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e,t){const n=qg(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Xa(r,t??{}))return s;Hi(s,"already-initialized")}return n.initialize({options:t})}function rk(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function ak(e,t,n){const i=dh(e);J(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=CA(t),{host:a,port:o}=ok(t),c=o===null?"":`:${o}`,u={url:`${r}//${a}${c}/`},f=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(Xa(u,i.config.emulator)&&Xa(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,co(a)?(JE(`${r}//${a}${c}`),QE("Auth",!0)):lk()}function CA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ok(e){const t=CA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:b_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:b_(a)}}}function b_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function lk(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(t){return Ri("not implemented")}_linkToIdToken(t,n){return Ri("not implemented")}_getReauthenticationResolver(t){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(e,t){return mA(e,"POST","/v1/accounts:signInWithIdp",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="http://localhost";class Lr extends NA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Lr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new Lr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ka(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ka(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ka(t,n)}buildRequest(){const t={requestUri:ck,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends OA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends yc{constructor(){super("facebook.com")}static credential(t){return Lr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Lr._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fs.credentialFromTaggedObject(t)}static credentialFromError(t){return fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return fs.credential(n,i)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends yc{constructor(){super("github.com")}static credential(t){return Lr._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hs.credentialFromTaggedObject(t)}static credentialFromError(t){return hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends yc{constructor(){super("twitter.com")}static credential(t,n){return Lr._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return ds.credential(n,i)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Ln._fromIdTokenResponse(t,i,s),a=T_(i);return new Pr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=T_(i);return new Pr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function T_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends fi{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new xf(t,n,i,s)}}function RA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(e,r,t,i):r})}async function uk(e,t,n=!1){const i=await Xl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(e,t,n=!1){const{auth:i}=e;if(_n(i.app))return Promise.reject(Ms(i));const s="reauthenticate";try{const r=await Xl(e,RA(i,s,t,e),n);J(r.idToken,i,"internal-error");const a=Jg(r.idToken);J(a,i,"internal-error");const{sub:o}=a;return J(e.uid===o,i,"user-mismatch"),Pr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Hi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(e,t,n=!1){if(_n(e.app))return Promise.reject(Ms(e));const i="signIn",s=await RA(e,i,t),r=await Pr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t){return mA(e,"POST","/v1/accounts:signInWithCustomToken",hh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(e,t){if(_n(e.app))return Promise.reject(Ms(e));const n=dh(e),i=await dk(n,{token:t,returnSecureToken:!0}),s=await Pr._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function pk(e,t,n,i){return xn(e).onIdTokenChanged(t,n,i)}function gk(e,t,n){return xn(e).beforeAuthStateChanged(t,n)}function yk(e,t,n,i){return xn(e).onAuthStateChanged(t,n,i)}function vk(e){return xn(e).signOut()}const Cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=1e3,Sk=10;class MA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);XM()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Sk):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}MA.type="LOCAL";const bk=MA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kA.type="SESSION";const IA=kA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new mh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,r)),c=await Tk(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,c)=>{const u=ey("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(f),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function Ak(e){ri().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function wk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xk(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Ck(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firebaseLocalStorageDb",Nk=1,Nf="firebaseLocalStorage",PA="fbase_key";class vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ph(e,t){return e.transaction([Nf],t?"readwrite":"readonly").objectStore(Nf)}function Ok(){const e=indexedDB.deleteDatabase(LA);return new vc(e).toPromise()}function dp(){const e=indexedDB.open(LA,Nk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Nf,{keyPath:PA})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Nf)?t(i):(i.close(),await Ok(),t(await dp()))})})}async function E_(e,t,n){const i=ph(e,!0).put({[PA]:t,value:n});return new vc(i).toPromise()}async function Rk(e,t){const n=ph(e,!1).get(t),i=await new vc(n).toPromise();return i===void 0?null:i.value}function A_(e,t){const n=ph(e,!0).delete(t);return new vc(n).toPromise()}const Dk=800,Mk=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Mk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(Ck()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await wk(),!this.activeServiceWorker)return;this.sender=new Ek(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await E_(t,Cf,"1"),await A_(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Rk(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>A_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=ph(s,!1).getAll();return new vc(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const kk=UA;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e,t){return t?Di(t):(J(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends NA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ka(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function zk(e){return hk(e.auth,new ty(e),e.bypassAuthState)}function Lk(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),fk(n,new ty(e),e.bypassAuthState)}async function Pk(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),uk(n,new ty(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zk;case"linkViaPopup":case"linkViaRedirect":return Pk;case"reauthViaPopup":case"reauthViaRedirect":return Lk;default:Hi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new gc(2e3,1e4);class ya extends jA{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Uk.get())};t()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="pendingRedirect",Pu=new Map;class Vk extends jA{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Pu.get(this.auth._key());if(!t){try{const i=await Bk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Pu.set(this.auth._key(),t)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bk(e,t){const n=Gk(t),i=Fk(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Hk(e,t){Pu.set(e._key(),t)}function Fk(e){return Di(e._redirectPersistence)}function Gk(e){return Lu(jk,e.config.apiKey,e.name)}async function $k(e,t,n=!1){if(_n(e.app))return Promise.reject(Ms(e));const i=dh(e),s=Ik(i,t),a=await new Vk(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=10*60*1e3;class qk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xk(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!VA(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Zk&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(t))}saveEventToCache(t){this.cachedEventUids.add(w_(t)),this.lastProcessedEventTime=Date.now()}}function w_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function VA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Xk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(e,t={}){return fo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jk=/^https?/;async function Qk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Yk(e);for(const n of t)try{if(Wk(n))return}catch{}Hi(e,"unauthorized-domain")}function Wk(e){const t=fp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Jk.test(n))return!1;if(Kk.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new gc(3e4,6e4);function x_(){const e=ri().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function t4(e){return new Promise((t,n)=>{var s,r,a;function i(){x_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(si(e,"network-request-failed"))},timeout:e4.get()})}if((r=(s=ri().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=ri().gapi)!=null&&a.load)i();else{const o=ik("iframefcb");return ri()[o]=()=>{gapi.load?i():n(si(e,"network-request-failed"))},tk(`${nk()}?onload=${o}`).catch(c=>n(c))}}).catch(t=>{throw Uu=null,t})}let Uu=null;function n4(e){return Uu=Uu||t4(e),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new gc(5e3,15e3),s4="__/auth/iframe",r4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l4(e){const t=e.config;J(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kg(t,r4):`https://${e.config.authDomain}/${s4}`,i={apiKey:t.apiKey,appName:e.name,v:uo},s=o4.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${pc(i).slice(1)}`}async function c4(e){const t=await n4(e),n=ri().gapi;return J(n,e,"internal-error"),t.open({where:document.body,url:l4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=si(e,"network-request-failed"),o=ri().setTimeout(()=>{r(a)},i4.get());function c(){ri().clearTimeout(o),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f4=500,h4=600,d4="_blank",m4="http://localhost";class C_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p4(e,t,n,i=f4,s=h4){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c={...u4,width:i.toString(),height:s.toString(),top:r,left:a},u=It().toLowerCase();n&&(o=SA(u)?d4:n),vA(u)&&(t=t||m4,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[g,C])=>`${m}${g}=${C},`,"");if(qM(u)&&o!=="_self")return g4(t||"",o),new C_(null);const d=window.open(t||"",o,f);J(d,e,"popup-blocked");try{d.focus()}catch{}return new C_(d)}function g4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="__/auth/handler",v4="emulator/auth/handler",_4=encodeURIComponent("fac");async function N_(e,t,n,i,s,r){J(e.config.authDomain,e,"auth-domain-config-required"),J(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:uo,eventId:s};if(t instanceof OA){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",YR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(t instanceof yc){const f=t.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await e._getAppCheckToken(),u=c?`#${_4}=${encodeURIComponent(c)}`:"";return`${S4(e)}?${pc(o).slice(1)}${u}`}function S4({config:e}){return e.emulator?Kg(e,v4):`https://${e.authDomain}/${y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class b4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=$k,this._overrideRedirectResult=Hk}async _openPopup(t,n,i,s){var a;Fi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await N_(t,n,i,fp(),s);return p4(t,r,ey())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await N_(t,n,i,fp(),s);return Ak(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Fi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await c4(t),i=new qk(t);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Id,{type:Id},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Id];r!==void 0&&n(!!r),Hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qk(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wA()||_A()||Qg()}}const T4=b4;var O_="@firebase/auth",R_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(e){zr(new Ps("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(e)},u=new WM(i,s,r,c);return rk(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),zr(new Ps("auth-internal",t=>{const n=dh(t.getProvider("auth").getImmediate());return(i=>new E4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(O_,R_,A4(e)),ii(O_,R_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=5*60,C4=KE("authIdTokenMaxAge")||x4;let D_=null;const N4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>C4)return;const s=n==null?void 0:n.token;D_!==s&&(D_=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function O4(e=nA()){const t=qg(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sk(e,{popupRedirectResolver:T4,persistence:[kk,bk,IA]}),i=KE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=N4(r.toString());gk(n,a,()=>a(n.currentUser)),pk(n,o=>a(o))}}const s=XE("auth");return s&&ak(n,`http://${s}`),n}function R4(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}ek({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=si("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",R4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ny;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,y){function S(){}S.prototype=y.prototype,T.F=y.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(E,x,M){for(var N=Array(arguments.length-2),se=2;se<arguments.length;se++)N[se-2]=arguments[se];return y.prototype[x].apply(E,N)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,y,S){S||(S=0);const E=Array(16);if(typeof y=="string")for(var x=0;x<16;++x)E[x]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(x=0;x<16;++x)E[x]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=T.g[0],S=T.g[1],x=T.g[2];let M=T.g[3],N;N=y+(M^S&(x^M))+E[0]+3614090360&4294967295,y=S+(N<<7&4294967295|N>>>25),N=M+(x^y&(S^x))+E[1]+3905402710&4294967295,M=y+(N<<12&4294967295|N>>>20),N=x+(S^M&(y^S))+E[2]+606105819&4294967295,x=M+(N<<17&4294967295|N>>>15),N=S+(y^x&(M^y))+E[3]+3250441966&4294967295,S=x+(N<<22&4294967295|N>>>10),N=y+(M^S&(x^M))+E[4]+4118548399&4294967295,y=S+(N<<7&4294967295|N>>>25),N=M+(x^y&(S^x))+E[5]+1200080426&4294967295,M=y+(N<<12&4294967295|N>>>20),N=x+(S^M&(y^S))+E[6]+2821735955&4294967295,x=M+(N<<17&4294967295|N>>>15),N=S+(y^x&(M^y))+E[7]+4249261313&4294967295,S=x+(N<<22&4294967295|N>>>10),N=y+(M^S&(x^M))+E[8]+1770035416&4294967295,y=S+(N<<7&4294967295|N>>>25),N=M+(x^y&(S^x))+E[9]+2336552879&4294967295,M=y+(N<<12&4294967295|N>>>20),N=x+(S^M&(y^S))+E[10]+4294925233&4294967295,x=M+(N<<17&4294967295|N>>>15),N=S+(y^x&(M^y))+E[11]+2304563134&4294967295,S=x+(N<<22&4294967295|N>>>10),N=y+(M^S&(x^M))+E[12]+1804603682&4294967295,y=S+(N<<7&4294967295|N>>>25),N=M+(x^y&(S^x))+E[13]+4254626195&4294967295,M=y+(N<<12&4294967295|N>>>20),N=x+(S^M&(y^S))+E[14]+2792965006&4294967295,x=M+(N<<17&4294967295|N>>>15),N=S+(y^x&(M^y))+E[15]+1236535329&4294967295,S=x+(N<<22&4294967295|N>>>10),N=y+(x^M&(S^x))+E[1]+4129170786&4294967295,y=S+(N<<5&4294967295|N>>>27),N=M+(S^x&(y^S))+E[6]+3225465664&4294967295,M=y+(N<<9&4294967295|N>>>23),N=x+(y^S&(M^y))+E[11]+643717713&4294967295,x=M+(N<<14&4294967295|N>>>18),N=S+(M^y&(x^M))+E[0]+3921069994&4294967295,S=x+(N<<20&4294967295|N>>>12),N=y+(x^M&(S^x))+E[5]+3593408605&4294967295,y=S+(N<<5&4294967295|N>>>27),N=M+(S^x&(y^S))+E[10]+38016083&4294967295,M=y+(N<<9&4294967295|N>>>23),N=x+(y^S&(M^y))+E[15]+3634488961&4294967295,x=M+(N<<14&4294967295|N>>>18),N=S+(M^y&(x^M))+E[4]+3889429448&4294967295,S=x+(N<<20&4294967295|N>>>12),N=y+(x^M&(S^x))+E[9]+568446438&4294967295,y=S+(N<<5&4294967295|N>>>27),N=M+(S^x&(y^S))+E[14]+3275163606&4294967295,M=y+(N<<9&4294967295|N>>>23),N=x+(y^S&(M^y))+E[3]+4107603335&4294967295,x=M+(N<<14&4294967295|N>>>18),N=S+(M^y&(x^M))+E[8]+1163531501&4294967295,S=x+(N<<20&4294967295|N>>>12),N=y+(x^M&(S^x))+E[13]+2850285829&4294967295,y=S+(N<<5&4294967295|N>>>27),N=M+(S^x&(y^S))+E[2]+4243563512&4294967295,M=y+(N<<9&4294967295|N>>>23),N=x+(y^S&(M^y))+E[7]+1735328473&4294967295,x=M+(N<<14&4294967295|N>>>18),N=S+(M^y&(x^M))+E[12]+2368359562&4294967295,S=x+(N<<20&4294967295|N>>>12),N=y+(S^x^M)+E[5]+4294588738&4294967295,y=S+(N<<4&4294967295|N>>>28),N=M+(y^S^x)+E[8]+2272392833&4294967295,M=y+(N<<11&4294967295|N>>>21),N=x+(M^y^S)+E[11]+1839030562&4294967295,x=M+(N<<16&4294967295|N>>>16),N=S+(x^M^y)+E[14]+4259657740&4294967295,S=x+(N<<23&4294967295|N>>>9),N=y+(S^x^M)+E[1]+2763975236&4294967295,y=S+(N<<4&4294967295|N>>>28),N=M+(y^S^x)+E[4]+1272893353&4294967295,M=y+(N<<11&4294967295|N>>>21),N=x+(M^y^S)+E[7]+4139469664&4294967295,x=M+(N<<16&4294967295|N>>>16),N=S+(x^M^y)+E[10]+3200236656&4294967295,S=x+(N<<23&4294967295|N>>>9),N=y+(S^x^M)+E[13]+681279174&4294967295,y=S+(N<<4&4294967295|N>>>28),N=M+(y^S^x)+E[0]+3936430074&4294967295,M=y+(N<<11&4294967295|N>>>21),N=x+(M^y^S)+E[3]+3572445317&4294967295,x=M+(N<<16&4294967295|N>>>16),N=S+(x^M^y)+E[6]+76029189&4294967295,S=x+(N<<23&4294967295|N>>>9),N=y+(S^x^M)+E[9]+3654602809&4294967295,y=S+(N<<4&4294967295|N>>>28),N=M+(y^S^x)+E[12]+3873151461&4294967295,M=y+(N<<11&4294967295|N>>>21),N=x+(M^y^S)+E[15]+530742520&4294967295,x=M+(N<<16&4294967295|N>>>16),N=S+(x^M^y)+E[2]+3299628645&4294967295,S=x+(N<<23&4294967295|N>>>9),N=y+(x^(S|~M))+E[0]+4096336452&4294967295,y=S+(N<<6&4294967295|N>>>26),N=M+(S^(y|~x))+E[7]+1126891415&4294967295,M=y+(N<<10&4294967295|N>>>22),N=x+(y^(M|~S))+E[14]+2878612391&4294967295,x=M+(N<<15&4294967295|N>>>17),N=S+(M^(x|~y))+E[5]+4237533241&4294967295,S=x+(N<<21&4294967295|N>>>11),N=y+(x^(S|~M))+E[12]+1700485571&4294967295,y=S+(N<<6&4294967295|N>>>26),N=M+(S^(y|~x))+E[3]+2399980690&4294967295,M=y+(N<<10&4294967295|N>>>22),N=x+(y^(M|~S))+E[10]+4293915773&4294967295,x=M+(N<<15&4294967295|N>>>17),N=S+(M^(x|~y))+E[1]+2240044497&4294967295,S=x+(N<<21&4294967295|N>>>11),N=y+(x^(S|~M))+E[8]+1873313359&4294967295,y=S+(N<<6&4294967295|N>>>26),N=M+(S^(y|~x))+E[15]+4264355552&4294967295,M=y+(N<<10&4294967295|N>>>22),N=x+(y^(M|~S))+E[6]+2734768916&4294967295,x=M+(N<<15&4294967295|N>>>17),N=S+(M^(x|~y))+E[13]+1309151649&4294967295,S=x+(N<<21&4294967295|N>>>11),N=y+(x^(S|~M))+E[4]+4149444226&4294967295,y=S+(N<<6&4294967295|N>>>26),N=M+(S^(y|~x))+E[11]+3174756917&4294967295,M=y+(N<<10&4294967295|N>>>22),N=x+(y^(M|~S))+E[2]+718787259&4294967295,x=M+(N<<15&4294967295|N>>>17),N=S+(M^(x|~y))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+M&4294967295}i.prototype.v=function(T,y){y===void 0&&(y=T.length);const S=y-this.blockSize,E=this.C;let x=this.h,M=0;for(;M<y;){if(x==0)for(;M<=S;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<y;)if(E[x++]=T.charCodeAt(M++),x==this.blockSize){s(this,E),x=0;break}}else for(;M<y;)if(E[x++]=T[M++],x==this.blockSize){s(this,E),x=0;break}}this.h=x,this.o+=y},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;y=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=y&255,y/=256;for(this.v(T),T=Array(16),y=0,S=0;S<4;++S)for(let E=0;E<32;E+=8)T[y++]=this.g[S]>>>E&255;return T};function r(T,y){var S=o;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=y(T)}function a(T,y){this.h=y;const S=[];let E=!0;for(let x=T.length-1;x>=0;x--){const M=T[x]|0;E&&M==y||(S[x]=M,E=!1)}this.g=S}var o={};function c(T){return-128<=T&&T<128?r(T,function(y){return new a([y|0],y<0?-1:0)}):new a([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return I(u(-T));const y=[];let S=1;for(let E=0;T>=S;E++)y[E]=T/S|0,S*=4294967296;return new a(y,0)}function f(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return I(f(T.substring(1),y));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=u(Math.pow(y,8));let E=d;for(let M=0;M<T.length;M+=8){var x=Math.min(8,T.length-M);const N=parseInt(T.substring(M,M+x),y);x<8?(x=u(Math.pow(y,x)),E=E.j(x).add(u(N))):(E=E.j(S),E=E.add(u(N)))}return E}var d=c(0),m=c(1),g=c(16777216);e=a.prototype,e.m=function(){if(R(this))return-I(this).m();let T=0,y=1;for(let S=0;S<this.g.length;S++){const E=this.i(S);T+=(E>=0?E:4294967296+E)*y,y*=4294967296}return T},e.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(R(this))return"-"+I(this).toString(T);const y=u(Math.pow(T,6));var S=this;let E="";for(;;){const x=O(S,y).g;S=b(S,x.j(y));let M=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=x,C(S))return M+E;for(;M.length<6;)M="0"+M;E=M+E}},e.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function R(T){return T.h==-1}e.l=function(T){return T=b(this,T),R(T)?-1:C(T)?0:1};function I(T){const y=T.g.length,S=[];for(let E=0;E<y;E++)S[E]=~T.g[E];return new a(S,~T.h).add(m)}e.abs=function(){return R(this)?I(this):this},e.add=function(T){const y=Math.max(this.g.length,T.g.length),S=[];let E=0;for(let x=0;x<=y;x++){let M=E+(this.i(x)&65535)+(T.i(x)&65535),N=(M>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);E=N>>>16,M&=65535,N&=65535,S[x]=N<<16|M}return new a(S,S[S.length-1]&-2147483648?-1:0)};function b(T,y){return T.add(I(y))}e.j=function(T){if(C(this)||C(T))return d;if(R(this))return R(T)?I(this).j(I(T)):I(I(this).j(T));if(R(T))return I(this.j(I(T)));if(this.l(g)<0&&T.l(g)<0)return u(this.m()*T.m());const y=this.g.length+T.g.length,S=[];for(var E=0;E<2*y;E++)S[E]=0;for(E=0;E<this.g.length;E++)for(let x=0;x<T.g.length;x++){const M=this.i(E)>>>16,N=this.i(E)&65535,se=T.i(x)>>>16,ae=T.i(x)&65535;S[2*E+2*x]+=N*ae,v(S,2*E+2*x),S[2*E+2*x+1]+=M*ae,v(S,2*E+2*x+1),S[2*E+2*x+1]+=N*se,v(S,2*E+2*x+1),S[2*E+2*x+2]+=M*se,v(S,2*E+2*x+2)}for(T=0;T<y;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=y;T<2*y;T++)S[T]=0;return new a(S,0)};function v(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function A(T,y){this.g=T,this.h=y}function O(T,y){if(C(y))throw Error("division by zero");if(C(T))return new A(d,d);if(R(T))return y=O(I(T),y),new A(I(y.g),I(y.h));if(R(y))return y=O(T,I(y)),new A(I(y.g),y.h);if(T.g.length>30){if(R(T)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var S=m,E=y;E.l(T)<=0;)S=L(S),E=L(E);var x=V(S,1),M=V(E,1);for(E=V(E,2),S=V(S,2);!C(E);){var N=M.add(E);N.l(T)<=0&&(x=x.add(S),M=N),E=V(E,1),S=V(S,1)}return y=b(T,x.j(y)),new A(x,y)}for(x=d;T.l(y)>=0;){for(S=Math.max(1,Math.floor(T.m()/y.m())),E=Math.ceil(Math.log(S)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),M=u(S),N=M.j(y);R(N)||N.l(T)>0;)S-=E,M=u(S),N=M.j(y);C(M)&&(M=m),x=x.add(M),T=b(T,N)}return new A(x,T)}e.B=function(T){return O(this,T).h},e.and=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let E=0;E<y;E++)S[E]=this.i(E)&T.i(E);return new a(S,this.h&T.h)},e.or=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let E=0;E<y;E++)S[E]=this.i(E)|T.i(E);return new a(S,this.h|T.h)},e.xor=function(T){const y=Math.max(this.g.length,T.g.length),S=[];for(let E=0;E<y;E++)S[E]=this.i(E)^T.i(E);return new a(S,this.h^T.h)};function L(T){const y=T.g.length+1,S=[];for(let E=0;E<y;E++)S[E]=T.i(E)<<1|T.i(E-1)>>>31;return new a(S,T.h)}function V(T,y){const S=y>>5;y%=32;const E=T.g.length-S,x=[];for(let M=0;M<E;M++)x[M]=y>0?T.i(M+S)>>>y|T.i(M+S+1)<<32-y:T.i(M+S);return new a(x,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,ny=a}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ou=="object"&&ou];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(l,h){if(h)e:{var p=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var z=l[_];if(!(z in p))break e;p=p[z]}l=l[l.length-1],_=p[l],h=h(_),h!=_&&h!=null&&t(p,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var p=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&p.push([_,h[_]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,p){return l.call.apply(l.bind,arguments)}function u(l,h,p){return u=c,u.apply(null,arguments)}function f(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function d(l,h){function p(){}p.prototype=h.prototype,l.Z=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(_,z,P){for(var F=Array(arguments.length-2),W=2;W<arguments.length;W++)F[W-2]=arguments[W];return h.prototype[z].apply(_,F)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const h=l.length;if(h>0){const p=Array(h);for(let _=0;_<h;_++)p[_]=l[_];return p}return[]}function C(l,h){for(let _=1;_<arguments.length;_++){const z=arguments[_];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=l.length||0;const P=z.length||0;l.length=p+P;for(let F=0;F<P;F++)l[p+F]=z[F]}else l.push(z)}}class R{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(l){a.setTimeout(()=>{throw l},0)}function b(){var l=T;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,p){const _=A.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var A=new R(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let L,V=!1,T=new v,y=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(S)}};function S(){for(var l;l=b();){try{l.h.call(l.g)}catch(p){I(p)}var h=A;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}V=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function N(l){return/^[\s\xa0]*$/.test(l)}function se(l,h){x.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}d(se,x),se.prototype.init=function(l,h){const p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(l,h,p,_,z){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=z,this.key=++H,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ee(l,h,p){for(const _ in l)h.call(p,l[_],_,l)}function ce(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function ge(l){const h={};for(const p in l)h[p]=l[p];return h}const At="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(l,h){let p,_;for(let z=1;z<arguments.length;z++){_=arguments[z];for(p in _)l[p]=_[p];for(let P=0;P<At.length;P++)p=At[P],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,h,p,_,z){const P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);const F=hi(l,h,_,z);return F>-1?(h=l[F],p||(h.fa=!1)):(h=new G(h,this.src,P,!!_,z),h.fa=p,l.push(h)),h};function pe(l,h){const p=h.type;if(p in l.g){var _=l.g[p],z=Array.prototype.indexOf.call(_,h,void 0),P;(P=z>=0)&&Array.prototype.splice.call(_,z,1),P&&(q(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function hi(l,h,p,_){for(let z=0;z<l.length;++z){const P=l[z];if(!P.da&&P.listener==h&&P.capture==!!p&&P.ha==_)return z}return-1}var Xs="closure_lm_"+(Math.random()*1e6|0),Bn={};function vo(l,h,p,_,z){if(Array.isArray(h)){for(let P=0;P<h.length;P++)vo(l,h[P],p,_,z);return null}return p=mi(p),l&&l[ae]?l.J(h,p,o(_)?!!_.capture:!1,z):_o(l,h,p,!1,_,z)}function _o(l,h,p,_,z,P){if(!h)throw Error("Invalid event type");const F=o(z)?!!z.capture:!!z;let W=Ks(l);if(W||(l[Xs]=W=new xt(l)),p=W.add(h,p,_,F,P),p.proxy)return p;if(_=Ac(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)M||(z=F),z===void 0&&(z=!1),l.addEventListener(h.toString(),_,z);else if(l.attachEvent)l.attachEvent(Ys(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ac(){function l(p){return h.call(l.src,l.listener,p)}const h=di;return l}function So(l,h,p,_,z){if(Array.isArray(h))for(var P=0;P<h.length;P++)So(l,h[P],p,_,z);else _=o(_)?!!_.capture:!!_,p=mi(p),l&&l[ae]?(l=l.i,P=String(h).toString(),P in l.g&&(h=l.g[P],p=hi(h,p,_,z),p>-1&&(q(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete l.g[P],l.h--)))):l&&(l=Ks(l))&&(h=l.g[h.toString()],l=-1,h&&(l=hi(h,p,_,z)),(p=l>-1?h[l]:null)&&Hn(p))}function Hn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ae])pe(h.i,l);else{var p=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(p,_,l.capture):h.detachEvent?h.detachEvent(Ys(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=Ks(h))?(pe(p,l),p.h==0&&(p.src=null,h[Xs]=null)):q(l)}}}function Ys(l){return l in Bn?Bn[l]:Bn[l]="on"+l}function di(l,h){if(l.da)l=!0;else{h=new se(h,this);const p=l.listener,_=l.ha||l.src;l.fa&&Hn(l),l=p.call(_,h)}return l}function Ks(l){return l=l[Xs],l instanceof xt?l:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function mi(l){return typeof l=="function"?l:(l[Js]||(l[Js]=function(h){return l.handleEvent(h)}),l[Js])}function Fe(){E.call(this),this.i=new xt(this),this.M=this,this.G=null}d(Fe,E),Fe.prototype[ae]=!0,Fe.prototype.removeEventListener=function(l,h,p,_){So(this,l,h,p,_)};function Ye(l,h){var p,_=l.G;if(_)for(p=[];_;_=_.G)p.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new x(h,l);else if(h instanceof x)h.target=h.target||l;else{var z=h;h=new x(_,l),Me(h,z)}z=!0;let P,F;if(p)for(F=p.length-1;F>=0;F--)P=h.g=p[F],z=Qs(P,_,!0,h)&&z;if(P=h.g=l,z=Qs(P,_,!0,h)&&z,z=Qs(P,_,!1,h)&&z,p)for(F=0;F<p.length;F++)P=h.g=p[F],z=Qs(P,_,!1,h)&&z}Fe.prototype.N=function(){if(Fe.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const p=l.g[h];for(let _=0;_<p.length;_++)q(p[_]);delete l.g[h],l.h--}}this.G=null},Fe.prototype.J=function(l,h,p,_){return this.i.add(String(l),h,!1,p,_)},Fe.prototype.K=function(l,h,p,_){return this.i.add(String(l),h,!0,p,_)};function Qs(l,h,p,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let z=!0;for(let P=0;P<h.length;++P){const F=h[P];if(F&&!F.da&&F.capture==p){const W=F.listener,st=F.ha||F.src;F.fa&&pe(l.i,F),z=W.call(st,_)!==!1&&z}}return z&&!_.defaultPrevented}function wc(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(l,h||0)}function xc(l){l.g=wc(()=>{l.g=null,l.i&&(l.i=!1,xc(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class bo extends E{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(l){E.call(this),this.h=l,this.g={}}d(Nn,E);var pi=[];function $t(l){ee(l.g,function(h,p){this.g.hasOwnProperty(p)&&Hn(h)},l),l.g={}}Nn.prototype.N=function(){Nn.Z.N.call(this),$t(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=a.JSON.stringify,Cc=a.JSON.parse,Nc=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Zr(){}function Oc(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){x.call(this,"d")}d(Zi,x);function Zt(){x.call(this,"c")}d(Zt,x);var qt={},qr=null;function er(){return qr=qr||new Fe}qt.Ia="serverreachability";function Rc(l){x.call(this,qt.Ia,l)}d(Rc,x);function Gn(l){const h=er();Ye(h,new Rc(h))}qt.STAT_EVENT="statevent";function tr(l,h){x.call(this,qt.STAT_EVENT,l),this.stat=h}d(tr,x);function pt(l){const h=er();Ye(h,new tr(h,l))}qt.Ja="timingevent";function qi(l,h){x.call(this,qt.Ja,l),this.size=h}d(qi,x);function nr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ir(){this.g=!0}ir.prototype.ua=function(){this.g=!1};function Ge(l,h,p,_,z,P){l.info(function(){if(l.g)if(P){var F="",W=P.split("&");for(let Ee=0;Ee<W.length;Ee++){var st=W[Ee].split("=");if(st.length>1){const ct=st[0];st=st[1];const Zn=ct.split("_");F=Zn.length>=2&&Zn[1]=="type"?F+(ct+"="+st+"&"):F+(ct+"=redacted&")}}}else F=null;else F=P;return"XMLHTTP REQ ("+_+") [attempt "+z+"]: "+h+`
`+p+`
`+F})}function Xi(l,h,p,_,z,P,F){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+z+"]: "+h+`
`+p+`
`+P+" "+F})}function Yi(l,h,p,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+To(l,p)+(_?" "+_:"")})}function Dc(l,h){l.info(function(){return"TIMEOUT: "+h})}ir.prototype.info=function(){};function To(l,h){if(!l.g)return h;if(!h)return null;try{const P=JSON.parse(h);if(P){for(l=0;l<P.length;l++)if(Array.isArray(P[l])){var p=P[l];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var z=_[0];if(z!="noop"&&z!="stop"&&z!="close")for(let F=1;F<_.length;F++)_[F]=""}}}}return Ws(P)}catch{return h}}var Xr={NO_ERROR:0,TIMEOUT:8},Mc={},kc;function zt(){}d(zt,Zr),zt.prototype.g=function(){return new XMLHttpRequest},kc=new zt;function Xt(l){return encodeURIComponent(String(l))}function Ic(l){var h=1;l=l.split(":");const p=[];for(;h>0&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function On(l,h,p,_){this.j=l,this.i=h,this.l=p,this.S=_||1,this.V=new Nn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}var Eo={},Yt={};function Kr(l,h,p){l.M=1,l.A=Lc($n(h)),l.u=p,l.R=!0,Ao(l,null)}function Ao(l,h){l.F=Date.now(),X(l),l.B=$n(l.A);var p=l.B,_=l.S;Array.isArray(_)||(_=[String(_)]),Wy(p.i,"t",_),l.C=0,p=l.j.L,l.h=new Yr,l.g=y0(l.j,p?h:null,!l.u),l.P>0&&(l.O=new bo(u(l.Y,l,l.g),l.P)),h=l.V,p=l.g,_=l.ba;var z="readystatechange";Array.isArray(z)||(z&&(pi[0]=z.toString()),z=pi);for(let P=0;P<z.length;P++){const F=vo(p,z[P],_||h.handleEvent,!1,h.h||h);if(!F)break;h.g[F.key]=F}h=l.J?ge(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Gn(),Ge(l.i,l.v,l.B,l.l,l.S,l.u)}On.prototype.ba=function(l){l=l.target;const h=this.O;h&&Qi(l)==3?h.j():this.Y(l)},On.prototype.Y=function(l){try{if(l==this.g)e:{const W=Qi(this.g),st=this.g.ya(),Ee=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||a0(this.g)))){this.K||W!=4||st==7||(st==8||Ee<=0?Gn(3):Gn(2)),B(this);var h=this.g.ca();this.X=h;var p=zc(this);if(this.o=h==200,Xi(this.i,this.v,this.B,this.l,this.S,W,h),this.o){if(this.U&&!this.L){t:{if(this.g){var _,z=this.g;if((_=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(_)){var P=_;break t}}P=null}if(l=P)Yi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,l);else{this.o=!1,this.m=3,pt(12),ue(this),$(this);break e}}if(this.R){l=!0;let ct;for(;!this.K&&this.C<p.length;)if(ct=Rh(this,p),ct==Yt){W==4&&(this.m=4,pt(14),l=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Eo){this.m=4,pt(15),Yi(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else Yi(this.i,this.l,ct,null),Ke(this,ct);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||p.length!=0||this.h.h||(this.m=1,pt(16),l=!1),this.o=this.o&&l,!l)Yi(this.i,this.l,p,"[Invalid Chunked Response]"),ue(this),$(this);else if(p.length>0&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.aa&&!F.P&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Lh(F),F.P=!0,pt(11))}}else Yi(this.i,this.l,p,null),Ke(this,p);W==4&&ue(this),this.o&&!this.K&&(W==4?d0(this.j,this):(this.o=!1,X(this)))}else qC(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),ue(this),$(this)}}}catch{}finally{}};function zc(l){if(!wo(l))return l.g.la();const h=a0(l.g);if(h==="")return"";let p="";const _=h.length,z=Qi(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ue(l),$(l),"";l.h.i=new a.TextDecoder}for(let P=0;P<_;P++)l.h.h=!0,p+=l.h.i.decode(h[P],{stream:!(z&&P==_-1)});return h.length=0,l.h.g+=p,l.C=0,l.h.g}function wo(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Rh(l,h){var p=l.C,_=h.indexOf(`
`,p);return _==-1?Yt:(p=Number(h.substring(p,_)),isNaN(p)?Eo:(_+=1,_+p>h.length?Yt:(h=h.slice(_,_+p),l.C=_+p,h)))}On.prototype.cancel=function(){this.K=!0,ue(this)};function X(l){l.T=Date.now()+l.H,D(l,l.H)}function D(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=nr(u(l.aa,l),h)}function B(l){l.D&&(a.clearTimeout(l.D),l.D=null)}On.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Dc(this.i,this.B),this.M!=2&&(Gn(),pt(17)),ue(this),this.m=2,$(this)):D(this,this.T-l)};function $(l){l.j.I==0||l.K||d0(l.j,l)}function ue(l){B(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,$t(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ke(l,h){try{var p=l.j;if(p.I!=0&&(p.g==l||sr(p.h,l))){if(!l.L&&sr(p.h,l)&&p.I==3){try{var _=p.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var z=_;if(z[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Bc(p),jc(p);else break e;zh(p),pt(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=nr(u(p.Va,p),6e3));gi(p.h)<=1&&p.ta&&(p.ta=void 0)}else ar(p,11)}else if((l.L||p.g==l)&&Bc(p),!N(h))for(z=p.Ba.g.parse(h),h=0;h<z.length;h++){let Ee=z[h];const ct=Ee[0];if(!(ct<=p.K))if(p.K=ct,Ee=Ee[1],p.I==2)if(Ee[0]=="c"){p.M=Ee[1],p.ba=Ee[2];const Zn=Ee[3];Zn!=null&&(p.ka=Zn,p.j.info("VER="+p.ka));const or=Ee[4];or!=null&&(p.za=or,p.j.info("SVER="+p.za));const Wi=Ee[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(_=1.5*Wi,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const es=l.g;if(es){const Hc=es.g?es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var P=_.h;P.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&($e(P,P.h),P.h=null))}if(_.G){const Ph=es.g?es.g.getResponseHeader("X-HTTP-Session-Id"):null;Ph&&(_.wa=Ph,xe(_.J,_.G,Ph))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var F=l;if(_.na=g0(_,_.L?_.ba:null,_.W),F.L){xo(_.h,F);var W=F,st=_.O;st&&(W.H=st),W.D&&(B(W),X(W)),_.g=F}else f0(_);p.i.length>0&&Vc(p)}else Ee[0]!="stop"&&Ee[0]!="close"||ar(p,7);else p.I==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?ar(p,7):Ih(p):Ee[0]!="noop"&&p.l&&p.l.qa(Ee),p.A=0)}}Gn(4)}catch{}}var Pe=class{constructor(l,h){this.g=l,this.map=h}};function gt(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ln(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gi(l){return l.h?1:l.g?l.g.size:0}function sr(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function $e(l,h){l.g?l.g.add(h):l.h=h}function xo(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}gt.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Co(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.G);return h}return g(l.i)}var Xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zC(l,h){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const _=l[p].indexOf("=");let z,P=null;_>=0?(z=l[p].substring(0,_),P=l[p].substring(_+1)):z=l[p],h(z,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ki(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Ki?(this.l=l.l,No(this,l.j),this.o=l.o,this.g=l.g,Oo(this,l.u),this.h=l.h,Dh(this,e0(l.i)),this.m=l.m):l&&(h=String(l).match(Xy))?(this.l=!1,No(this,h[1]||"",!0),this.o=Ro(h[2]||""),this.g=Ro(h[3]||"",!0),Oo(this,h[4]),this.h=Ro(h[5]||"",!0),Dh(this,h[6]||"",!0),this.m=Ro(h[7]||"")):(this.l=!1,this.i=new Mo(null,this.l))}Ki.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Do(h,Yy,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Do(h,Yy,!0),"@"),l.push(Xt(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Do(p,p.charAt(0)=="/"?UC:PC,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Do(p,VC)),l.join("")},Ki.prototype.resolve=function(l){const h=$n(this);let p=!!l.j;p?No(h,l.j):p=!!l.o,p?h.o=l.o:p=!!l.g,p?h.g=l.g:p=l.u!=null;var _=l.h;if(p)Oo(h,l.u);else if(p=!!l.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var z=h.h.lastIndexOf("/");z!=-1&&(_=h.h.slice(0,z+1)+_)}if(z=_,z==".."||z==".")_="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){_=z.lastIndexOf("/",0)==0,z=z.split("/");const P=[];for(let F=0;F<z.length;){const W=z[F++];W=="."?_&&F==z.length&&P.push(""):W==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),_&&F==z.length&&P.push("")):(P.push(W),_=!0)}_=P.join("/")}else _=z}return p?h.h=_:p=l.i.toString()!=="",p?Dh(h,e0(l.i)):p=!!l.m,p&&(h.m=l.m),h};function $n(l){return new Ki(l)}function No(l,h,p){l.j=p?Ro(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Oo(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Dh(l,h,p){h instanceof Mo?(l.i=h,BC(l.i,l.l)):(p||(h=Do(h,jC)),l.i=new Mo(h,l.l))}function xe(l,h,p){l.i.set(h,p)}function Lc(l){return xe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Ro(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Do(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,LC),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function LC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yy=/[#\/\?@]/g,PC=/[#\?:]/g,UC=/[#\?]/g,jC=/[#\?@]/g,VC=/#/g;function Mo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function rr(l){l.g||(l.g=new Map,l.h=0,l.i&&zC(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}e=Mo.prototype,e.add=function(l,h){rr(this),this.i=null,l=Jr(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Ky(l,h){rr(l),h=Jr(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Jy(l,h){return rr(l),h=Jr(l,h),l.g.has(h)}e.forEach=function(l,h){rr(this),this.g.forEach(function(p,_){p.forEach(function(z){l.call(h,z,_,this)},this)},this)};function Qy(l,h){rr(l);let p=[];if(typeof h=="string")Jy(l,h)&&(p=p.concat(l.g.get(Jr(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)p=p.concat(l[h]);return p}e.set=function(l,h){return rr(this),this.i=null,l=Jr(this,l),Jy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=Qy(this,l),l.length>0?String(l[0]):h):h};function Wy(l,h,p){Ky(l,h),p.length>0&&(l.i=null,l.g.set(Jr(l,h),g(p)),l.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var p=h[_];const z=Xt(p);p=Qy(this,p);for(let P=0;P<p.length;P++){let F=z;p[P]!==""&&(F+="="+Xt(p[P])),l.push(F)}}return this.i=l.join("&")};function e0(l){const h=new Mo;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Jr(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function BC(l,h){h&&!l.j&&(rr(l),l.i=null,l.g.forEach(function(p,_){const z=_.toLowerCase();_!=z&&(Ky(this,_),Wy(this,z,p))},l)),l.j=h}function HC(l,h){const p=new ir;if(a.Image){const _=new Image;_.onload=f(Ji,p,"TestLoadImage: loaded",!0,h,_),_.onerror=f(Ji,p,"TestLoadImage: error",!1,h,_),_.onabort=f(Ji,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(Ji,p,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function FC(l,h){const p=new ir,_=new AbortController,z=setTimeout(()=>{_.abort(),Ji(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(P=>{clearTimeout(z),P.ok?Ji(p,"TestPingServer: ok",!0,h):Ji(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(z),Ji(p,"TestPingServer: error",!1,h)})}function Ji(l,h,p,_,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),_(p)}catch{}}function GC(){this.g=new Nc}function Mh(l){this.i=l.Sb||null,this.h=l.ab||!1}d(Mh,Zr),Mh.prototype.g=function(){return new Pc(this.i,this.h)};function Pc(l,h){Fe.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(Pc,Fe),e=Pc.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Io(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;t0(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function t0(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ko(this):Io(this),this.readyState==3&&t0(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,ko(this))},e.Na=function(l){this.g&&(this.response=l,ko(this))},e.ga=function(){this.g&&ko(this)};function ko(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Io(l)}e.setRequestHeader=function(l,h){this.A.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Io(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function n0(l){let h="";return ee(l,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function kh(l,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=n0(p),typeof l=="string"?p!=null&&Xt(p):xe(l,h,p))}function Ze(l){Fe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Ze,Fe);var $C=/^https?$/i,ZC=["POST","PUT"];e=Ze.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kc.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(P){i0(this,P);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var z in _)p.set(z,_[z]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const P of _.keys())p.set(P,_.get(P));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),z=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(ZC,h,void 0)>=0)||_||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,F]of p)this.g.setRequestHeader(P,F);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(P){i0(this,P)}};function i0(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,s0(l),Uc(l)}function s0(l){l.A||(l.A=!0,Ye(l,"complete"),Ye(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ye(this,"complete"),Ye(this,"abort"),Uc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uc(this,!0)),Ze.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?r0(this):this.Xa())},e.Xa=function(){r0(this)};function r0(l){if(l.h&&typeof r<"u"){if(l.v&&Qi(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ye(l,"readystatechange"),Qi(l)==4){l.h=!1;try{const P=l.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=P===0){let F=String(l.D).match(Xy)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),_=!$C.test(F?F.toLowerCase():"")}p=_}if(p)Ye(l,"complete"),Ye(l,"success");else{l.o=6;try{var z=Qi(l)>2?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.ca()+"]",s0(l)}}finally{Uc(l)}}}}function Uc(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,h||Ye(l,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Qi(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Qi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Cc(h)}};function a0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qC(l){const h={};l=(l.g&&Qi(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(N(l[_]))continue;var p=Ic(l[_]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=h[z]||[];h[z]=P,P.push(p)}ce(h,function(_){return _.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zo(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function o0(l){this.za=0,this.i=[],this.j=new ir,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zo("baseRetryDelayMs",5e3,l),this.Za=zo("retryDelaySeedMs",1e4,l),this.Ta=zo("forwardChannelMaxRetries",2,l),this.va=zo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new gt(l&&l.concurrentRequestLimit),this.Ba=new GC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=o0.prototype,e.ka=8,e.I=1,e.connect=function(l,h,p,_){pt(0),this.W=l,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=g0(this,null,this.W),Vc(this)};function Ih(l){if(l0(l),l.I==3){var h=l.V++,p=$n(l.J);if(xe(p,"SID",l.M),xe(p,"RID",h),xe(p,"TYPE","terminate"),Lo(l,p),h=new On(l,l.j,h),h.M=2,h.A=Lc($n(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.A,p=!0),p||(h.g=y0(h.j,null),h.g.ea(h.A)),h.F=Date.now(),X(h)}p0(l)}function jc(l){l.g&&(Lh(l),l.g.cancel(),l.g=null)}function l0(l){jc(l),l.v&&(a.clearTimeout(l.v),l.v=null),Bc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Vc(l){if(!ln(l.h)&&!l.m){l.m=!0;var h=l.Ea;L||y(),V||(L(),V=!0),T.add(h,l),l.D=0}}function XC(l,h){return gi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=nr(u(l.Ea,l,h),m0(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const z=new On(this,this.j,l);let P=this.o;if(this.U&&(P?(P=ge(P),Me(P,this.U)):P=this.U),this.u!==null||this.R||(z.J=P,P=null),this.S)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=u0(this,z,h),p=$n(this.J),xe(p,"RID",l),xe(p,"CVER",22),this.G&&xe(p,"X-HTTP-Session-Id",this.G),Lo(this,p),P&&(this.R?h="headers="+Xt(n0(P))+"&"+h:this.u&&kh(p,this.u,P)),$e(this.h,z),this.Ra&&xe(p,"TYPE","init"),this.S?(xe(p,"$req",h),xe(p,"SID","null"),z.U=!0,Kr(z,p,null)):Kr(z,p,h),this.I=2}}else this.I==3&&(l?c0(this,l):this.i.length==0||ln(this.h)||c0(this))};function c0(l,h){var p;h?p=h.l:p=l.V++;const _=$n(l.J);xe(_,"SID",l.M),xe(_,"RID",p),xe(_,"AID",l.K),Lo(l,_),l.u&&l.o&&kh(_,l.u,l.o),p=new On(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),h&&(l.i=h.G.concat(l.i)),h=u0(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),$e(l.h,p),Kr(p,_,h)}function Lo(l,h){l.H&&ee(l.H,function(p,_){xe(h,_,p)}),l.l&&ee({},function(p,_){xe(h,_,p)})}function u0(l,h,p){p=Math.min(l.i.length,p);const _=l.l?u(l.l.Ka,l.l,l):null;e:{var z=l.i;let W=-1;for(;;){const st=["count="+p];W==-1?p>0?(W=z[0].g,st.push("ofs="+W)):W=0:st.push("ofs="+W);let Ee=!0;for(let ct=0;ct<p;ct++){var P=z[ct].g;const Zn=z[ct].map;if(P-=W,P<0)W=Math.max(0,z[ct].g-100),Ee=!1;else try{P="req"+P+"_"||"";try{var F=Zn instanceof Map?Zn:Object.entries(Zn);for(const[or,Wi]of F){let es=Wi;o(Wi)&&(es=Ws(Wi)),st.push(P+or+"="+encodeURIComponent(es))}}catch(or){throw st.push(P+"type="+encodeURIComponent("_badmap")),or}}catch{_&&_(Zn)}}if(Ee){F=st.join("&");break e}}F=void 0}return l=l.i.splice(0,p),h.G=l,F}function f0(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;L||y(),V||(L(),V=!0),T.add(h,l),l.A=0}}function zh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=nr(u(l.Da,l),m0(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,h0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=nr(u(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),jc(this),h0(this))};function Lh(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function h0(l){l.g=new On(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=$n(l.na);xe(h,"RID","rpc"),xe(h,"SID",l.M),xe(h,"AID",l.K),xe(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&xe(h,"TO",l.ia),xe(h,"TYPE","xmlhttp"),Lo(l,h),l.u&&l.o&&kh(h,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=Lc($n(h)),p.u=null,p.R=!0,Ao(p,l)}e.Va=function(){this.C!=null&&(this.C=null,jc(this),zh(this),pt(19))};function Bc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function d0(l,h){var p=null;if(l.g==h){Bc(l),Lh(l),l.g=null;var _=2}else if(sr(l.h,h))p=h.G,xo(l.h,h),_=1;else return;if(l.I!=0){if(h.o)if(_==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var z=l.D;_=er(),Ye(_,new qi(_,p)),Vc(l)}else f0(l);else if(z=h.m,z==3||z==0&&h.X>0||!(_==1&&XC(l,h)||_==2&&zh(l)))switch(p&&p.length>0&&(h=l.h,h.i=h.i.concat(p)),z){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function m0(l,h){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*h}function ar(l,h){if(l.j.info("Error code "+h),h==2){var p=u(l.bb,l),_=l.Ua;const z=!_;_=new Ki(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||No(_,"https"),Lc(_),z?HC(_.toString(),p):FC(_.toString(),p)}else pt(2);l.I=0,l.l&&l.l.pa(h),p0(l),l0(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function p0(l){if(l.I=0,l.ja=[],l.l){const h=Co(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ja,h),C(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function g0(l,h,p){var _=p instanceof Ki?$n(p):new Ki(p);if(_.g!="")h&&(_.g=h+"."+_.g),Oo(_,_.u);else{var z=a.location;_=z.protocol,h=h?h+"."+z.hostname:z.hostname,z=+z.port;const P=new Ki(null);_&&No(P,_),h&&(P.g=h),z&&Oo(P,z),p&&(P.h=p),_=P}return p=l.G,h=l.wa,p&&h&&xe(_,p,h),xe(_,"VER",l.ka),Lo(l,_),_}function y0(l,h,p){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ze(new Mh({ab:p})):new Ze(l.ma),h.Fa(l.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function v0(){}e=v0.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function cn(l,h){Fe.call(this),this.g=new o0(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!N(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!N(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Qr(this)}d(cn,Fe),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Ih(this.g)},cn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Ws(l),l=p);h.i.push(new Pe(h.Ya++,l)),h.I==3&&Vc(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,cn.Z.N.call(this)};function _0(l){Zi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}d(_0,Zi);function S0(){Zt.call(this),this.status=1}d(S0,Zt);function Qr(l){this.g=l}d(Qr,v0),Qr.prototype.ra=function(){Ye(this.g,"a")},Qr.prototype.qa=function(l){Ye(this.g,new _0(l))},Qr.prototype.pa=function(l){Ye(this.g,new S0)},Qr.prototype.oa=function(){Ye(this.g,"b")},cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Mc.COMPLETE="complete",Oc.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.J,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa}).apply(typeof ou<"u"?ou:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="12.8.0";function D4(e){gh=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new $g("@firebase/firestore");function Pn(e,...t){if(Of.logLevel<=ve.DEBUG){const n=t.map(HA);Of.debug(`Firestore (${gh}): ${e}`,...n)}}function BA(e,...t){if(Of.logLevel<=ve.ERROR){const n=t.map(HA);Of.error(`Firestore (${gh}): ${e}`,...n)}}function HA(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,FA(e,i,n)}function FA(e,t,n){let i=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw BA(i),new Error(i)}function Al(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||FA(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class he extends fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class k4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class I4{constructor(t){this.t=t,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Al(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let r=new wl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new wl,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},o=c=>{Pn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Pn("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new wl)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Pn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Al(typeof i.accessToken=="string",31837,{l:i}),new M4(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Al(t===null||typeof t=="string",2055,{h:t}),new Jt(t)}}class z4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class L4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new z4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Al(this.o===void 0,3512);const i=r=>{r.error!=null&&Pn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Pn("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Pn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Pn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Al(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=U4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function Us(e,t){return e<t?-1:e>t?1:0}function V4(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return zd(s)===zd(r)?Us(s,r):zd(s)?1:-1}return Us(e.length,t.length)}const B4=55296,H4=57343;function zd(e){const t=e.charCodeAt(0);return t>=B4&&t<=H4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="__name__";class Xn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rf(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Rf(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Xn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Xn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return Us(t.length,n.length)}static compareSegments(t,n){const i=Xn.isNumericId(t),s=Xn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Xn.extractNumericId(t).compare(Xn.extractNumericId(n)):V4(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ny.fromString(t.substring(4,t.length-2))}}class zn extends Xn{construct(t,n,i){return new zn(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new he(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const F4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Xn{construct(t,n,i){return new yr(t,n,i)}static isValidIdentifier(t){return F4.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I_}static keyField(){return new yr([I_])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new he(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new he(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new he(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t){this.path=t}static fromPath(t){return new vr(zn.fromString(t))}static fromName(t){return new vr(zn.fromString(t).popFirst(5))}static empty(){return new vr(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return zn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vr(new zn(t.slice()))}}function G4(e,t,n,i){if(t===!0&&i===!0)throw new he(fe.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $4(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(e,t){const n={typeString:e};return t&&(n.value=t),n}function _c(e,t){if(!$4(e))throw new he(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new he(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-62135596800,L_=1e6;class Kn{static now(){return Kn.fromMillis(Date.now())}static fromDate(t){return Kn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*L_);return new Kn(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new he(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<z_)throw new he(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(t){return this.seconds===t.seconds?Us(this.nanoseconds,t.nanoseconds):Us(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_c(t,Kn._jsonSchema))return new Kn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kn._jsonSchemaVersion="firestore/timestamp/1.0",Kn._jsonSchema={type:nt("string",Kn._jsonSchemaVersion),seconds:nt("number"),nanoseconds:nt("number")};function Z4(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new q4("Invalid base64 string: "+r):r}}(t);return new Ur(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new Ur(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Us(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const P_="(default)";class Df{constructor(t,n){this.projectId=t,this.database=n||P_}static empty(){return new Df("","")}get isDefaultDatabase(){return this.database===P_}isEqual(t){return t instanceof Df&&t.projectId===this.projectId&&t.database===this.database}}function X4(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new he(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function K4(e){return new Y4(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_,le;(le=U_||(U_={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ny([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=1048576;function Ld(){return typeof document<"u"?document:null}class W4{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&Pn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new iy(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var j_,V_;(V_=j_||(j_={})).Ma="default",V_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="ComponentProvider",B_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firestore.googleapis.com",H_=!0;class F_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new he(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nI,this.ssl=H_}else this.host=t.host,this.ssl=t.ssl??H_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=J4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Q4)throw new he(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class iI{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new he(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new k4;switch(i.type){case"firstParty":return new L4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=B_.get(n);i&&(Pn(tI,"Removing Datastore"),B_.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new sy(this.firestore,t,this._query)}}class ti{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ry(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ti(this.firestore,t,this._key)}toJSON(){return{type:ti._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(_c(n,ti._jsonSchema))return new ti(t,i||null,new vr(zn.fromString(n.referencePath)))}}ti._jsonSchemaVersion="firestore/documentReference/1.0",ti._jsonSchema={type:nt("string",ti._jsonSchemaVersion),referencePath:nt("string")};class ry extends sy{constructor(t,n,i){super(t,n,K4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ti(this.firestore,null,new vr(t))}withConverter(t){return new ry(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class $_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W4(this,"async_queue_retry"),this._c=()=>{const i=Ld();i&&Pn(G_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ld();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Z4(t))throw t;Pn(G_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,BA("INTERNAL UNHANDLED ERROR: ",Z_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=iy.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Rf(47125,{Pc:Z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Z_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class sI extends iI{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new $_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $_(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xi(Ur.fromBase64String(t))}catch(n){throw new he(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xi(Ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_c(t,xi._jsonSchema))return xi.fromBase64String(t.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:nt("string",xi._jsonSchemaVersion),bytes:nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new he(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new he(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new he(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Us(this._lat,t._lat)||Us(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(t){if(_c(t,xr._jsonSchema))return new xr(t.latitude,t.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:nt("string",xr._jsonSchemaVersion),latitude:nt("number"),longitude:nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_c(t,Cr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Cr(t.vectorValues);throw new he(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:nt("string",Cr._jsonSchemaVersion),vectorValues:nt("object")};function $A(e,t,n){if((t=xn(t))instanceof GA)return t._internalPath;if(typeof t=="string")return aI(e,t);throw mp("Field path arguments must be of type string or ",e)}const rI=new RegExp("[~\\*/\\[\\]]");function aI(e,t,n){if(t.search(rI)>=0)throw mp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new GA(...t.split("."))._internalPath}catch{throw mp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function mp(e,t,n,i,s){let r=`Function ${t}() called with invalid data`;r+=". ";let a="";return new he(fe.INVALID_ARGUMENT,r+e+a)}const q_="@firebase/firestore",X_="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field($A("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oI extends ZA{data(){return super.data()}}class lu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ia extends ZA{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field($A("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ia._jsonSchema={type:nt("string",Ia._jsonSchemaVersion),bundleSource:nt("string","DocumentSnapshot"),bundleName:nt("string"),bundle:nt("string")};class ju extends Ia{data(t={}){return super.data(t)}}class xl{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new lu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new ju(this._firestore,this._userDataWriter,i.key,i,new lu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const c=new ju(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const c=new ju(s._firestore,s._userDataWriter,o.doc.key,o.doc,new lu(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:lI(o.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=j4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rf(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:nt("string",xl._jsonSchemaVersion),bundleSource:nt("string","QuerySnapshot"),bundleName:nt("string"),bundle:nt("string")};(function(t,n=!0){D4(uo),zr(new Ps("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new sI(new I4(i.getProvider("auth-internal")),new P4(a,i.getProvider("app-check-internal")),X4(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ii(q_,X_,t),ii(q_,X_,"esm2020")})();const qA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},cI=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let cu=null,Pd=null,uu=null;function XA(){if(!cu){const e=JD();e.length>0?cu=e[0]:cu=tA(qA)}return cu}function Ud(){return Pd||(Pd=O4(XA())),Pd}function Yl(){if(!uu&&(uu=CM(XA()),cI&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{lA(uu,"localhost",5001)}catch{}return uu}function _s(){const e=qA.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const uI=5e3,fI=2e3,YA=3e4,p8=3e4,KA=30*1e3,JA=2e3,g8=60*60*1e3,QA=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],hI=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],dI=["none","learning","familiar","mastered"];function Y_(e){return dI.indexOf(e)}function mI(e,t){return Y_(e)>=Y_(t)?e:t}function pp(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function pI(e,t){const n=new Set,i=[];for(const s of[...e,...t]){const r=`${s.timestamp}-${s.difficulty}-${s.score}`;n.has(r)||(n.add(r),i.push(s))}return i.sort((s,r)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime())}function gI(e,t){return e?t?{sectionId:e.sectionId,visitedAt:pp(e.visitedAt,t.visitedAt),completedAt:pp(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:pI(e.quizAttempts,t.quizAttempts),masteryLevel:mI(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function yI(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const s of n){const r=gI(e[s],t[s]);r&&(i[s]=r)}return i}function vI(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:pp(e.joinedAt,t.joinedAt)||e.joinedAt}}function _I(e,t){const n=new Map;for(const i of[...t,...e]){const s=n.get(i.id);s?(i.unlockedAt&&!s.unlockedAt||!i.unlockedAt&&!s.unlockedAt&&i.progress>s.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function SI(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function bI(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function TI(e,t){return{version:Math.max(e.version,t.version),user:vI(e.user,t.user),sections:yI(e.sections,t.sections),achievements:_I(e.achievements,t.achievements),streak:SI(e.streak,t.streak),dailyGoals:bI(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const Ti=ui("ProgressSync");class EI{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!_s())return Ti.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=Yl(),i=await Ka(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,Ti.info("Fetched progress from server")),i.data}catch(t){return Ti.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};Ti.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(Ti.info("Server has existing progress, merging with local"),i=TI(t,n.progress)):i=t;const s=await this.syncNow(i);return s.success?(Ti.info("Migration complete"),{success:!0,state:s.state||i,merged:n.found}):s}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},KA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},JA))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!_s())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<YA)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=Yl(),r=await Ka(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=r.data.lastSyncedAt,this.pendingState=null,r.data.merged&&r.data.serverProgress?(Ti.info("Server merged states due to conflict"),uh(r.data.serverProgress),this.setStatus("success"),{success:!0,state:r.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return Ti.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const s=await this.syncNow(t);if(s.success||s.error==="Not authenticated"||s.error==="Firebase not configured")return s;if(i<n-1){const r=1e3*Math.pow(2,i);Ti.debug(`Sync retry ${i+1}/${n} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let jd=null;function K_(){return jd||(jd=new EI),jd}const Yn=ui("NostrUtils"),gp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",AI=[996825010,642813549,513874426,1027748829,705979059];function WA(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(t^=AI[s])}return t}function ew(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function wI(e,t){return WA([...ew(e),...t])===1}function xI(e,t){const n=[...ew(e),...t,0,0,0,0,0,0],i=WA(n)^1,s=[];for(let r=0;r<6;r++)s.push(i>>5*(5-r)&31);return s}function tw(e,t,n,i){let s=0,r=0;const a=[],o=(1<<n)-1;for(const c of e){if(c<0||c>>t)return null;for(s=s<<t|c,r+=t;r>=n;)r-=n,a.push(s>>r&o)}if(i)r>0&&a.push(s<<n-r&o);else if(r>=t||s<<n-r&o)return null;return a}function CI(e,t){const n=tw(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=xI(e,n);let s=e+"1";for(const r of n)s+=gp[r];for(const r of i)s+=gp[r];return s}function NI(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const r=i.slice(0,s),a=i.slice(s+1),o=[];for(const f of a){const d=gp.indexOf(f);if(d===-1)return null;o.push(d)}if(!wI(r,o))return null;const c=o.slice(0,-6),u=tw(new Uint8Array(c),5,8,!1);return u?{hrp:r,data:new Uint8Array(u)}:null}function OI(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function RI(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function DI(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=OI(e);return CI("npub",t)}function nw(e){const t=NI(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return RI(t.data)}async function MI(e){try{const t=nw(e),n=kI(),i=n.map(async a=>{try{return await Promise.race([iw(a,t),new Promise(c=>setTimeout(()=>c(null),2e3))])}catch(o){return Yn.debug(`Failed to fetch profile from relay ${a}:`,o),null}}),r=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return r.length>0?r[0]:(Yn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return Yn.debug("Failed to convert npub to hex:",t),null}}function kI(){return[...QA,...hI]}function y8(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Mf(){return typeof window<"u"&&typeof window.nostr<"u"}function II(e=3e3){return new Promise(t=>{if(Mf()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Mf()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function iw(e,t){return new Promise(n=>{let i=!1,s=null,r=null;const a=()=>{if(!i&&(i=!0,r&&(clearTimeout(r),r=null),s&&s.readyState!==WebSocket.CLOSED&&s.readyState!==WebSocket.CLOSING))try{s.close()}catch(c){Yn.debug(`Error closing WebSocket for ${e}:`,c)}};r=setTimeout(()=>{Yn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},uI);try{s=new WebSocket(e)}catch(c){Yn.debug(`Failed to create WebSocket for relay ${e}:`,c),a(),n(null);return}const o=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(!(i||!s))try{const c=JSON.stringify(["REQ",o,{kinds:[0],authors:[t],limit:1}]);s.send(c)}catch(c){Yn.debug(`Failed to send subscription to ${e}:`,c),a(),n(null)}},s.onmessage=c=>{if(!i)try{const u=JSON.parse(c.data);if(u[0]==="EVENT"&&u[1]===o){const f=JSON.parse(u[2].content);a(),n({name:f.name||f.display_name,display_name:f.display_name,nip05:f.nip05,picture:f.picture,about:f.about})}else u[0]==="EOSE"&&(a(),n(null))}catch(u){Yn.debug(`Failed to parse WebSocket message from ${e}:`,u)}},s.onerror=c=>{Yn.debug(`WebSocket error for relay ${e}:`,c),a(),n(null)},s.onclose=c=>{i||(Yn.debug(`WebSocket closed for ${e}, code: ${c.code}, reason: ${c.reason}`),a(),n(null))}})}async function v8(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const r=e.slice(i,i+n).map(async a=>{const o=await MI(a);o&&t.set(a,o)});await Promise.all(r)}return t}const zI=22242;function U(e,t,n){function i(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const u=a.prototype,f=Object.keys(u);for(let d=0;d<f.length;d++){const m=f[d];m in o||(o[m]=u[m].bind(o))}}const s=(n==null?void 0:n.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(o){var c;const u=n!=null&&n.Parent?new r:this;i(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var c,u;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(u=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class za extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class sw extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const rw={};function js(e){return rw}function aw(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function yp(e,t){return typeof t=="bigint"?t.toString():t}function ay(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function oy(e){return e==null}function ly(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function LI(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const c=i.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),o=Number.parseInt(t.toFixed(r).replace(".",""));return a%o/10**r}const J_=Symbol("evaluating");function Se(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==J_)return i===void 0&&(i=J_,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Gr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function $s(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function Q_(e){return JSON.stringify(e)}function PI(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ow="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function kf(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const UI=ay(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ja(e){if(kf(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(kf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function lw(e){return Ja(e)?{...e}:Array.isArray(e)?[...e]:e}const jI=new Set(["string","number","symbol"]);function yh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zs(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function Y(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function VI(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const BI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function HI(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const r=$s(e._zod.def,{get shape(){const a={};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(a[o]=n.shape[o])}return Gr(this,"shape",a),a},checks:[]});return Zs(e,r)}function FI(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const r=$s(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const o in t){if(!(o in n.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete a[o]}return Gr(this,"shape",a),a},checks:[]});return Zs(e,r)}function GI(e,t){if(!Ja(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const r=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(r,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=$s(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Gr(this,"shape",r),r}});return Zs(e,s)}function $I(e,t){if(!Ja(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=$s(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Gr(this,"shape",i),i}});return Zs(e,n)}function ZI(e,t){const n=$s(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return Gr(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Zs(e,n)}function qI(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=$s(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(n)for(const u in n){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)c[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Gr(this,"shape",c),c},checks:[]});return Zs(t,a)}function XI(e,t,n){const i=$s(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return Gr(this,"shape",r),r}});return Zs(t,i)}function va(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function _a(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function fu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Vs(e,t,n){var s,r,a,o,c,u;const i={...e,path:e.path??[]};if(!e.message){const f=fu((a=(r=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,e))??fu((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??fu((c=n.customError)==null?void 0:c.call(n,e))??fu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";i.message=f}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function cy(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Kl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const cw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,yp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},uw=U("$ZodError",cw),fw=U("$ZodError",cw,{Parent:Error});function YI(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function KI(e,t=n=>n.message){const n={_errors:[]},i=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>i({issues:a}));else if(r.code==="invalid_key")i({issues:r.issues});else if(r.code==="invalid_element")i({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,o=0;for(;o<r.path.length;){const c=r.path[o];o===r.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(r))):a[c]=a[c]||{_errors:[]},a=a[c],o++}}};return i(e),n}const uy=e=>(t,n,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new za;if(a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(c=>Vs(c,r,js())));throw ow(o,s==null?void 0:s.callee),o}return a.value},fy=e=>async(t,n,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((s==null?void 0:s.Err)??e)(a.issues.map(c=>Vs(c,r,js())));throw ow(o,s==null?void 0:s.callee),o}return a.value},vh=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new za;return r.issues.length?{success:!1,error:new(e??uw)(r.issues.map(a=>Vs(a,s,js())))}:{success:!0,data:r.value}},JI=vh(fw),_h=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>Vs(a,s,js())))}:{success:!0,data:r.value}},QI=_h(fw),WI=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return uy(e)(t,n,s)},e3=e=>(t,n,i)=>uy(e)(t,n,i),t3=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return fy(e)(t,n,s)},n3=e=>async(t,n,i)=>fy(e)(t,n,i),i3=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return vh(e)(t,n,s)},s3=e=>(t,n,i)=>vh(e)(t,n,i),r3=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return _h(e)(t,n,s)},a3=e=>async(t,n,i)=>_h(e)(t,n,i),o3=/^[cC][^\s-]{8,}$/,l3=/^[0-9a-z]+$/,c3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,u3=/^[0-9a-vA-V]{20}$/,f3=/^[A-Za-z0-9]{27}$/,h3=/^[a-zA-Z0-9_-]{21}$/,d3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,m3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W_=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,p3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,g3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function y3(){return new RegExp(g3,"u")}const v3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,S3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,b3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,T3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,hw=/^[A-Za-z0-9_-]*$/,E3=/^\+[1-9]\d{6,14}$/,dw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",A3=new RegExp(`^${dw}$`);function mw(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function w3(e){return new RegExp(`^${mw(e)}$`)}function x3(e){const t=mw({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${dw}T(?:${i})$`)}const C3=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},N3=/^-?\d+$/,pw=/^-?\d+(?:\.\d+)?$/,O3=/^(?:true|false)$/i,R3=/^[^A-Z]*$/,D3=/^[^a-z]*$/,Gt=U("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),gw={number:"number",bigint:"bigint",object:"date"},yw=U("$ZodCheckLessThan",(e,t)=>{Gt.init(e,t);const n=gw[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),vw=U("$ZodCheckGreaterThan",(e,t)=>{Gt.init(e,t);const n=gw[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),M3=U("$ZodCheckMultipleOf",(e,t)=>{Gt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):LI(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),k3=U("$ZodCheckNumberFormat",(e,t)=>{var a;Gt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[s,r]=BI[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=s,c.maximum=r,n&&(c.pattern=N3)}),e._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}c<s&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>r&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),I3=U("$ZodCheckMaxLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=cy(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),z3=U("$ZodCheckMinLength",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=cy(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),L3=U("$ZodCheckLengthEquals",(e,t)=>{var n;Gt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!oy(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,r=s.length;if(r===t.length)return;const a=cy(s),o=r>t.length;i.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Sh=U("$ZodCheckStringFormat",(e,t)=>{var n,i;Gt.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),P3=U("$ZodCheckRegex",(e,t)=>{Sh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),U3=U("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=R3),Sh.init(e,t)}),j3=U("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=D3),Sh.init(e,t)}),V3=U("$ZodCheckIncludes",(e,t)=>{Gt.init(e,t);const n=yh(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),B3=U("$ZodCheckStartsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`^${yh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),H3=U("$ZodCheckEndsWith",(e,t)=>{Gt.init(e,t);const n=new RegExp(`.*${yh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),F3=U("$ZodCheckOverwrite",(e,t)=>{Gt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class G3{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),r=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const $3={major:4,minor:3,patch:5},Be=U("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$3;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const a of r._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const r=(o,c,u)=>{let f=va(o),d;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(o))continue}else if(f)continue;const g=o.issues.length,C=m._zod.check(o);if(C instanceof Promise&&(u==null?void 0:u.async)===!1)throw new za;if(d||C instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await C,o.issues.length!==g&&(f||(f=va(o,g)))});else{if(o.issues.length===g)continue;f||(f=va(o,g))}}return d?d.then(()=>o):o},a=(o,c,u)=>{if(va(o))return o.aborted=!0,o;const f=r(c,i,u);if(f instanceof Promise){if(u.async===!1)throw new za;return f.then(d=>e._zod.parse(d,u))}return e._zod.parse(f,u)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(d=>a(d,o,c)):a(f,o,c)}const u=e._zod.parse(o,c);if(u instanceof Promise){if(c.async===!1)throw new za;return u.then(f=>r(f,i,c))}return r(u,i,c)}}Se(e,"~standard",()=>({validate:r=>{var a;try{const o=JI(e,r);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return QI(e,r).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),hy=U("$ZodString",(e,t)=>{var n;Be.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??C3(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),Ie=U("$ZodStringFormat",(e,t)=>{Sh.init(e,t),hy.init(e,t)}),Z3=U("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=m3),Ie.init(e,t)}),q3=U("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=W_(i))}else t.pattern??(t.pattern=W_());Ie.init(e,t)}),X3=U("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=p3),Ie.init(e,t)}),Y3=U("$ZodURL",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),K3=U("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=y3()),Ie.init(e,t)}),J3=U("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=h3),Ie.init(e,t)}),Q3=U("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=o3),Ie.init(e,t)}),W3=U("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=l3),Ie.init(e,t)}),ez=U("$ZodULID",(e,t)=>{t.pattern??(t.pattern=c3),Ie.init(e,t)}),tz=U("$ZodXID",(e,t)=>{t.pattern??(t.pattern=u3),Ie.init(e,t)}),nz=U("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=f3),Ie.init(e,t)}),iz=U("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=x3(t)),Ie.init(e,t)}),sz=U("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=A3),Ie.init(e,t)}),rz=U("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=w3(t)),Ie.init(e,t)}),az=U("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=d3),Ie.init(e,t)}),oz=U("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=v3),Ie.init(e,t),e._zod.bag.format="ipv4"}),lz=U("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=_3),Ie.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),cz=U("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=S3),Ie.init(e,t)}),uz=U("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=b3),Ie.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,r]=i;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function _w(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const fz=U("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=T3),Ie.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{_w(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function hz(e){if(!hw.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return _w(n)}const dz=U("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=hw),Ie.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{hz(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),mz=U("$ZodE164",(e,t)=>{t.pattern??(t.pattern=E3),Ie.init(e,t)});function pz(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const gz=U("$ZodJWT",(e,t)=>{Ie.init(e,t),e._zod.check=n=>{pz(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Sw=U("$ZodNumber",(e,t)=>{Be.init(e,t),e._zod.pattern=e._zod.bag.pattern??pw,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),yz=U("$ZodNumberFormat",(e,t)=>{k3.init(e,t),Sw.init(e,t)}),vz=U("$ZodBoolean",(e,t)=>{Be.init(e,t),e._zod.pattern=O3,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),_z=U("$ZodUnknown",(e,t)=>{Be.init(e,t),e._zod.parse=n=>n}),Sz=U("$ZodNever",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function eS(e,t,n){e.issues.length&&t.issues.push(..._a(n,e.issues)),t.value[n]=e.value}const bz=U("$ZodArray",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const o=s[a],c=t.element._zod.run({value:o,issues:[]},i);c instanceof Promise?r.push(c.then(u=>eS(u,n,a))):eS(c,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function If(e,t,n,i,s){if(e.issues.length){if(s&&!(n in i))return;t.issues.push(..._a(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function bw(e){var i,s,r,a;const t=Object.keys(e.shape);for(const o of t)if(!((a=(r=(s=(i=e.shape)==null?void 0:i[o])==null?void 0:s._zod)==null?void 0:r.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=VI(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Tw(e,t,n,i,s,r){const a=[],o=s.keySet,c=s.catchall._zod,u=c.def.type,f=c.optout==="optional";for(const d in t){if(o.has(d))continue;if(u==="never"){a.push(d);continue}const m=c.run({value:t[d],issues:[]},i);m instanceof Promise?e.push(m.then(g=>If(g,n,d,t,f))):If(m,n,d,t,f)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const Tz=U("$ZodObject",(e,t)=>{Be.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const i=ay(()=>bw(t));Se(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const f=o[u]._zod;if(f.values){c[u]??(c[u]=new Set);for(const d of f.values)c[u].add(d)}}return c});const s=kf,r=t.catchall;let a;e._zod.parse=(o,c)=>{a??(a=i.value);const u=o.value;if(!s(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const f=[],d=a.shape;for(const m of a.keys){const g=d[m],C=g._zod.optout==="optional",R=g._zod.run({value:u[m],issues:[]},c);R instanceof Promise?f.push(R.then(I=>If(I,o,m,u,C))):If(R,o,m,u,C)}return r?Tw(f,u,o,c,i.value,e):f.length?Promise.all(f).then(()=>o):o}}),Ez=U("$ZodObjectJIT",(e,t)=>{Tz.init(e,t);const n=e._zod.parse,i=ay(()=>bw(t)),s=m=>{var A;const g=new G3(["shape","payload","ctx"]),C=i.value,R=O=>{const L=Q_(O);return`shape[${L}]._zod.run({ value: input[${L}], issues: [] }, ctx)`};g.write("const input = payload.value;");const I=Object.create(null);let b=0;for(const O of C.keys)I[O]=`key_${b++}`;g.write("const newResult = {};");for(const O of C.keys){const L=I[O],V=Q_(O),T=m[O],y=((A=T==null?void 0:T._zod)==null?void 0:A.optout)==="optional";g.write(`const ${L} = ${R(O)};`),y?g.write(`
        if (${L}.issues.length) {
          if (${V} in input) {
            payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${V}, ...iss.path] : [${V}]
            })));
          }
        }
        
        if (${L}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${L}.value;
        }
        
      `):g.write(`
        if (${L}.issues.length) {
          payload.issues = payload.issues.concat(${L}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        if (${L}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${L}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const v=g.compile();return(O,L)=>v(m,O,L)};let r;const a=kf,o=!rw.jitless,u=o&&UI.value,f=t.catchall;let d;e._zod.parse=(m,g)=>{d??(d=i.value);const C=m.value;return a(C)?o&&u&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(r||(r=s(t.shape)),m=r(m,g),f?Tw([],C,m,g,d,e):m):n(m,g):(m.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),m)}});function tS(e,t,n,i){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!va(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>Vs(a,i,js())))}),t)}const Az=U("$ZodUnion",(e,t)=>{Be.init(e,t),Se(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Se(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Se(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Se(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>ly(r.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return i(s,r);let a=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:s.value,issues:[]},r);if(u instanceof Promise)o.push(u),a=!0;else{if(u.issues.length===0)return u;o.push(u)}}return a?Promise.all(o).then(c=>tS(c,s,e,r)):tS(o,s,e,r)}}),wz=U("$ZodIntersection",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([c,u])=>nS(n,c,u)):nS(n,r,a)}});function vp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ja(e)&&Ja(t)){const n=Object.keys(t),i=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of i){const a=vp(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],r=t[i],a=vp(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function nS(e,t,n){const i=new Map;let s;for(const o of t.issues)if(o.code==="unrecognized_keys"){s??(s=o);for(const c of o.keys)i.has(c)||i.set(c,{}),i.get(c).l=!0}else e.issues.push(o);for(const o of n.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)i.has(c)||i.set(c,{}),i.get(c).r=!0;else e.issues.push(o);const r=[...i].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(r.length&&s&&e.issues.push({...s,keys:r}),va(e))return e;const a=vp(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const xz=U("$ZodRecord",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Ja(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const o=new Set;for(const u of a)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){o.add(typeof u=="number"?u.toString():u);const f=t.valueType._zod.run({value:s[u],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(..._a(u,d.issues)),n.value[u]=d.value})):(f.issues.length&&n.issues.push(..._a(u,f.issues)),n.value[u]=f.value)}let c;for(const u in s)o.has(u)||(c=c??[],c.push(u));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:c})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;let c=t.keyType._zod.run({value:o,issues:[]},i);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof o=="string"&&pw.test(o)&&c.issues.length&&c.issues.some(d=>d.code==="invalid_type"&&d.expected==="number")){const d=t.keyType._zod.run({value:Number(o),issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){t.mode==="loose"?n.value[o]=s[o]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>Vs(d,i,js())),input:o,path:[o],inst:e});continue}const f=t.valueType._zod.run({value:s[o],issues:[]},i);f instanceof Promise?r.push(f.then(d=>{d.issues.length&&n.issues.push(..._a(o,d.issues)),n.value[c.value]=d.value})):(f.issues.length&&n.issues.push(..._a(o,f.issues)),n.value[c.value]=f.value)}}return r.length?Promise.all(r).then(()=>n):n}}),Cz=U("$ZodEnum",(e,t)=>{Be.init(e,t);const n=aw(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>jI.has(typeof s)).map(s=>typeof s=="string"?yh(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return i.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),Nz=U("$ZodTransform",(e,t)=>{Be.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new sw(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new za;return n.value=s,n}});function iS(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ew=U("$ZodOptional",(e,t)=>{Be.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Se(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Se(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ly(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>iS(r,n.value)):iS(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),Oz=U("$ZodExactOptional",(e,t)=>{Ew.init(e,t),Se(e._zod,"values",()=>t.innerType._zod.values),Se(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),Rz=U("$ZodNullable",(e,t)=>{Be.init(e,t),Se(e._zod,"optin",()=>t.innerType._zod.optin),Se(e._zod,"optout",()=>t.innerType._zod.optout),Se(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ly(n.source)}|null)$`):void 0}),Se(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),Dz=U("$ZodDefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",Se(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>sS(r,t)):sS(s,t)}});function sS(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Mz=U("$ZodPrefault",(e,t)=>{Be.init(e,t),e._zod.optin="optional",Se(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),kz=U("$ZodNonOptional",(e,t)=>{Be.init(e,t),Se(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>rS(r,e)):rS(s,e)}});function rS(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Iz=U("$ZodCatch",(e,t)=>{Be.init(e,t),Se(e._zod,"optin",()=>t.innerType._zod.optin),Se(e._zod,"optout",()=>t.innerType._zod.optout),Se(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Vs(a,i,js()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>Vs(r,i,js()))},input:n.value}),n.issues=[]),n)}}),zz=U("$ZodPipe",(e,t)=>{Be.init(e,t),Se(e._zod,"values",()=>t.in._zod.values),Se(e._zod,"optin",()=>t.in._zod.optin),Se(e._zod,"optout",()=>t.out._zod.optout),Se(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const r=t.out._zod.run(n,i);return r instanceof Promise?r.then(a=>hu(a,t.in,i)):hu(r,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(r=>hu(r,t.out,i)):hu(s,t.out,i)}});function hu(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Lz=U("$ZodReadonly",(e,t)=>{Be.init(e,t),Se(e._zod,"propValues",()=>t.innerType._zod.propValues),Se(e._zod,"values",()=>t.innerType._zod.values),Se(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),Se(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(aS):aS(s)}});function aS(e){return e.value=Object.freeze(e.value),e}const Pz=U("$ZodCustom",(e,t)=>{Gt.init(e,t),Be.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(r=>oS(r,n,i,e));oS(s,n,i,e)}});function oS(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(Kl(s))}}var lS;class Uz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function jz(){return new Uz}(lS=globalThis).__zod_globalRegistry??(lS.__zod_globalRegistry=jz());const sl=globalThis.__zod_globalRegistry;function Vz(e,t){return new e({type:"string",...Y(t)})}function Bz(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Y(t)})}function cS(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Y(t)})}function Hz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Y(t)})}function Fz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Y(t)})}function Gz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Y(t)})}function $z(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Y(t)})}function Zz(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Y(t)})}function qz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Y(t)})}function Xz(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Y(t)})}function Yz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Y(t)})}function Kz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Y(t)})}function Jz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Y(t)})}function Qz(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Y(t)})}function Wz(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Y(t)})}function eL(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Y(t)})}function tL(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Y(t)})}function nL(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Y(t)})}function iL(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Y(t)})}function sL(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Y(t)})}function rL(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Y(t)})}function aL(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Y(t)})}function oL(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Y(t)})}function lL(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Y(t)})}function cL(e,t){return new e({type:"string",format:"date",check:"string_format",...Y(t)})}function uL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Y(t)})}function fL(e,t){return new e({type:"string",format:"duration",check:"string_format",...Y(t)})}function hL(e,t){return new e({type:"number",checks:[],...Y(t)})}function dL(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Y(t)})}function mL(e,t){return new e({type:"boolean",...Y(t)})}function pL(e){return new e({type:"unknown"})}function gL(e,t){return new e({type:"never",...Y(t)})}function uS(e,t){return new yw({check:"less_than",...Y(t),value:e,inclusive:!1})}function Vd(e,t){return new yw({check:"less_than",...Y(t),value:e,inclusive:!0})}function fS(e,t){return new vw({check:"greater_than",...Y(t),value:e,inclusive:!1})}function Bd(e,t){return new vw({check:"greater_than",...Y(t),value:e,inclusive:!0})}function hS(e,t){return new M3({check:"multiple_of",...Y(t),value:e})}function Aw(e,t){return new I3({check:"max_length",...Y(t),maximum:e})}function zf(e,t){return new z3({check:"min_length",...Y(t),minimum:e})}function ww(e,t){return new L3({check:"length_equals",...Y(t),length:e})}function yL(e,t){return new P3({check:"string_format",format:"regex",...Y(t),pattern:e})}function vL(e){return new U3({check:"string_format",format:"lowercase",...Y(e)})}function _L(e){return new j3({check:"string_format",format:"uppercase",...Y(e)})}function SL(e,t){return new V3({check:"string_format",format:"includes",...Y(t),includes:e})}function bL(e,t){return new B3({check:"string_format",format:"starts_with",...Y(t),prefix:e})}function TL(e,t){return new H3({check:"string_format",format:"ends_with",...Y(t),suffix:e})}function ho(e){return new F3({check:"overwrite",tx:e})}function EL(e){return ho(t=>t.normalize(e))}function AL(){return ho(e=>e.trim())}function wL(){return ho(e=>e.toLowerCase())}function xL(){return ho(e=>e.toUpperCase())}function CL(){return ho(e=>PI(e))}function NL(e,t,n){return new e({type:"array",element:t,...Y(n)})}function OL(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Y(n)})}function RL(e){const t=DL(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(Kl(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Kl(s))}},e(n.value,n)));return t}function DL(e,t){const n=new Gt({check:"custom",...Y(t)});return n._zod.check=e,n}function xw(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??sl,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function it(e,t,n={path:[],schemaPath:[]}){var f,d;var i;const s=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const o=(d=(f=e._zod).toJSONSchema)==null?void 0:d.call(f);if(o)a.schema=o;else{const m={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,m);else{const C=a.schema,R=t.processors[s.type];if(!R)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);R(e,t,C,m)}const g=e._zod.parent;g&&(a.ref||(a.ref=g),it(g,t,m),t.seen.get(g).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(a.schema,c),t.io==="input"&&Nt(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function Cw(e,t){var a,o,c,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const f of e.seen.entries()){const d=(a=e.metadataRegistry.get(f[0]))==null?void 0:a.id;if(d){const m=i.get(d);if(m&&m!==f[0])throw new Error(`Duplicate schema id "${d}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(d,f[0])}}const s=f=>{var R;const d=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const I=(R=e.external.registry.get(f[0]))==null?void 0:R.id,b=e.external.uri??(A=>A);if(I)return{ref:b(I)};const v=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=v,{defId:v,ref:`${b("__shared")}#/${d}/${v}`}}if(f[1]===n)return{ref:"#"};const g=`#/${d}/`,C=f[1].schema.id??`__schema${e.counter++}`;return{defId:C,ref:g+C}},r=f=>{if(f[1].schema.$ref)return;const d=f[1],{ref:m,defId:g}=s(f);d.def={...d.schema},g&&(d.defId=g);const C=d.schema;for(const R in C)delete C[R];C.$ref=m};if(e.cycles==="throw")for(const f of e.seen.entries()){const d=f[1];if(d.cycle)throw new Error(`Cycle detected: #/${(o=d.cycle)==null?void 0:o.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const d=f[1];if(t===f[0]){r(f);continue}if(e.external){const g=(c=e.external.registry.get(f[0]))==null?void 0:c.id;if(t!==f[0]&&g){r(f);continue}}if((u=e.metadataRegistry.get(f[0]))==null?void 0:u.id){r(f);continue}if(d.cycle){r(f);continue}if(d.count>1&&e.reused==="ref"){r(f);continue}}}function Nw(e,t){var a,o,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{const f=e.seen.get(u);if(f.ref===null)return;const d=f.def??f.schema,m={...d},g=f.ref;if(f.ref=null,g){i(g);const R=e.seen.get(g),I=R.schema;if(I.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(I)):Object.assign(d,I),Object.assign(d,m),u._zod.parent===g)for(const v in d)v==="$ref"||v==="allOf"||v in m||delete d[v];if(I.$ref)for(const v in d)v==="$ref"||v==="allOf"||v in R.def&&JSON.stringify(d[v])===JSON.stringify(R.def[v])&&delete d[v]}const C=u._zod.parent;if(C&&C!==g){i(C);const R=e.seen.get(C);if(R!=null&&R.schema.$ref&&(d.$ref=R.schema.$ref,R.def))for(const I in d)I==="$ref"||I==="allOf"||I in R.def&&JSON.stringify(d[I])===JSON.stringify(R.def[I])&&delete d[I]}e.override({zodSchema:u,jsonSchema:d,path:f.path??[]})};for(const u of[...e.seen.entries()].reverse())i(u[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const u=(o=e.external.registry.get(t))==null?void 0:o.id;if(!u)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(u)}Object.assign(s,n.def??n.schema);const r=((c=e.external)==null?void 0:c.defs)??{};for(const u of e.seen.entries()){const f=u[1];f.def&&f.defId&&(r[f.defId]=f.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?s.$defs=r:s.definitions=r);try{const u=JSON.parse(JSON.stringify(s));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:Lf(t,"input",e.processors),output:Lf(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function Nt(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Nt(i.element,n);if(i.type==="set")return Nt(i.valueType,n);if(i.type==="lazy")return Nt(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Nt(i.innerType,n);if(i.type==="intersection")return Nt(i.left,n)||Nt(i.right,n);if(i.type==="record"||i.type==="map")return Nt(i.keyType,n)||Nt(i.valueType,n);if(i.type==="pipe")return Nt(i.in,n)||Nt(i.out,n);if(i.type==="object"){for(const s in i.shape)if(Nt(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(Nt(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(Nt(s,n))return!0;return!!(i.rest&&Nt(i.rest,n))}return!1}const ML=(e,t={})=>n=>{const i=xw({...n,processors:t});return it(e,i),Cw(i,e),Nw(i,e)},Lf=(e,t,n={})=>i=>{const{libraryOptions:s,target:r}=i??{},a=xw({...s??{},target:r,io:t,processors:n});return it(e,a),Cw(a,e),Nw(a,e)},kL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},IL=(e,t,n,i)=>{const s=n;s.type="string";const{minimum:r,maximum:a,format:o,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof r=="number"&&(s.minLength=r),typeof a=="number"&&(s.maxLength=a),o&&(s.format=kL[o]??o,s.format===""&&delete s.format,o==="time"&&delete s.format),u&&(s.contentEncoding=u),c&&c.size>0){const f=[...c];f.length===1?s.pattern=f[0].source:f.length>1&&(s.allOf=[...f.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},zL=(e,t,n,i)=>{const s=n,{minimum:r,maximum:a,format:o,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:f}=e._zod.bag;typeof o=="string"&&o.includes("int")?s.type="integer":s.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=f,s.exclusiveMinimum=!0):s.exclusiveMinimum=f),typeof r=="number"&&(s.minimum=r,typeof f=="number"&&t.target!=="draft-04"&&(f>=r?delete s.minimum:delete s.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=u,s.exclusiveMaximum=!0):s.exclusiveMaximum=u),typeof a=="number"&&(s.maximum=a,typeof u=="number"&&t.target!=="draft-04"&&(u<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof c=="number"&&(s.multipleOf=c)},LL=(e,t,n,i)=>{n.type="boolean"},PL=(e,t,n,i)=>{n.not={}},UL=(e,t,n,i)=>{},jL=(e,t,n,i)=>{const s=e._zod.def,r=aw(s.entries);r.every(a=>typeof a=="number")&&(n.type="number"),r.every(a=>typeof a=="string")&&(n.type="string"),n.enum=r},VL=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},BL=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},HL=(e,t,n,i)=>{const s=n,r=e._zod.def,{minimum:a,maximum:o}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof o=="number"&&(s.maxItems=o),s.type="array",s.items=it(r.element,t,{...i,path:[...i.path,"items"]})},FL=(e,t,n,i)=>{var u;const s=n,r=e._zod.def;s.type="object",s.properties={};const a=r.shape;for(const f in a)s.properties[f]=it(a[f],t,{...i,path:[...i.path,"properties",f]});const o=new Set(Object.keys(a)),c=new Set([...o].filter(f=>{const d=r.shape[f]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(s.required=Array.from(c)),((u=r.catchall)==null?void 0:u._zod.def.type)==="never"?s.additionalProperties=!1:r.catchall?r.catchall&&(s.additionalProperties=it(r.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},GL=(e,t,n,i)=>{const s=e._zod.def,r=s.inclusive===!1,a=s.options.map((o,c)=>it(o,t,{...i,path:[...i.path,r?"oneOf":"anyOf",c]}));r?n.oneOf=a:n.anyOf=a},$L=(e,t,n,i)=>{const s=e._zod.def,r=it(s.left,t,{...i,path:[...i.path,"allOf",0]}),a=it(s.right,t,{...i,path:[...i.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,c=[...o(r)?r.allOf:[r],...o(a)?a.allOf:[a]];n.allOf=c},ZL=(e,t,n,i)=>{const s=n,r=e._zod.def;s.type="object";const a=r.keyType,o=a._zod.bag,c=o==null?void 0:o.patterns;if(r.mode==="loose"&&c&&c.size>0){const f=it(r.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});s.patternProperties={};for(const d of c)s.patternProperties[d.source]=f}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=it(r.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=it(r.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const u=a._zod.values;if(u){const f=[...u].filter(d=>typeof d=="string"||typeof d=="number");f.length>0&&(s.required=f)}},qL=(e,t,n,i)=>{const s=e._zod.def,r=it(s.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},XL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},YL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},KL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},JL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},QL=(e,t,n,i)=>{const s=e._zod.def,r=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;it(r,t,i);const a=t.seen.get(e);a.ref=r},WL=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.readOnly=!0},Ow=(e,t,n,i)=>{const s=e._zod.def;it(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},e6=U("ZodISODateTime",(e,t)=>{iz.init(e,t),Le.init(e,t)});function t6(e){return lL(e6,e)}const n6=U("ZodISODate",(e,t)=>{sz.init(e,t),Le.init(e,t)});function i6(e){return cL(n6,e)}const s6=U("ZodISOTime",(e,t)=>{rz.init(e,t),Le.init(e,t)});function r6(e){return uL(s6,e)}const a6=U("ZodISODuration",(e,t)=>{az.init(e,t),Le.init(e,t)});function o6(e){return fL(a6,e)}const l6=(e,t)=>{uw.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>KI(e,n)},flatten:{value:n=>YI(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,yp,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,yp,2)}},isEmpty:{get(){return e.issues.length===0}}})},Cn=U("ZodError",l6,{Parent:Error}),c6=uy(Cn),u6=fy(Cn),f6=vh(Cn),h6=_h(Cn),d6=WI(Cn),m6=e3(Cn),p6=t3(Cn),g6=n3(Cn),y6=i3(Cn),v6=s3(Cn),_6=r3(Cn),S6=a3(Cn),He=U("ZodType",(e,t)=>(Be.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Lf(e,"input"),output:Lf(e,"output")}}),e.toJSONSchema=ML(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone($s(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Zs(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>c6(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>f6(e,n,i),e.parseAsync=async(n,i)=>u6(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>h6(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>d6(e,n,i),e.decode=(n,i)=>m6(e,n,i),e.encodeAsync=async(n,i)=>p6(e,n,i),e.decodeAsync=async(n,i)=>g6(e,n,i),e.safeEncode=(n,i)=>y6(e,n,i),e.safeDecode=(n,i)=>v6(e,n,i),e.safeEncodeAsync=async(n,i)=>_6(e,n,i),e.safeDecodeAsync=async(n,i)=>S6(e,n,i),e.refine=(n,i)=>e.check(d5(n,i)),e.superRefine=n=>e.check(m5(n)),e.overwrite=n=>e.check(ho(n)),e.optional=()=>pS(e),e.exactOptional=()=>e5(e),e.nullable=()=>gS(e),e.nullish=()=>pS(gS(e)),e.nonoptional=n=>a5(e,n),e.array=()=>Qa(e),e.or=n=>Mw([e,n]),e.and=n=>Y6(e,n),e.transform=n=>yS(e,Q6(n)),e.default=n=>i5(e,n),e.prefault=n=>r5(e,n),e.catch=n=>l5(e,n),e.pipe=n=>yS(e,n),e.readonly=()=>f5(e),e.describe=n=>{const i=e.clone();return sl.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=sl.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return sl.get(e);const i=e.clone();return sl.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Rw=U("_ZodString",(e,t)=>{hy.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>IL(e,i,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(yL(...i)),e.includes=(...i)=>e.check(SL(...i)),e.startsWith=(...i)=>e.check(bL(...i)),e.endsWith=(...i)=>e.check(TL(...i)),e.min=(...i)=>e.check(zf(...i)),e.max=(...i)=>e.check(Aw(...i)),e.length=(...i)=>e.check(ww(...i)),e.nonempty=(...i)=>e.check(zf(1,...i)),e.lowercase=i=>e.check(vL(i)),e.uppercase=i=>e.check(_L(i)),e.trim=()=>e.check(AL()),e.normalize=(...i)=>e.check(EL(...i)),e.toLowerCase=()=>e.check(wL()),e.toUpperCase=()=>e.check(xL()),e.slugify=()=>e.check(CL())}),b6=U("ZodString",(e,t)=>{hy.init(e,t),Rw.init(e,t),e.email=n=>e.check(Bz(T6,n)),e.url=n=>e.check(Zz(E6,n)),e.jwt=n=>e.check(oL(U6,n)),e.emoji=n=>e.check(qz(A6,n)),e.guid=n=>e.check(cS(dS,n)),e.uuid=n=>e.check(Hz(du,n)),e.uuidv4=n=>e.check(Fz(du,n)),e.uuidv6=n=>e.check(Gz(du,n)),e.uuidv7=n=>e.check($z(du,n)),e.nanoid=n=>e.check(Xz(w6,n)),e.guid=n=>e.check(cS(dS,n)),e.cuid=n=>e.check(Yz(x6,n)),e.cuid2=n=>e.check(Kz(C6,n)),e.ulid=n=>e.check(Jz(N6,n)),e.base64=n=>e.check(sL(z6,n)),e.base64url=n=>e.check(rL(L6,n)),e.xid=n=>e.check(Qz(O6,n)),e.ksuid=n=>e.check(Wz(R6,n)),e.ipv4=n=>e.check(eL(D6,n)),e.ipv6=n=>e.check(tL(M6,n)),e.cidrv4=n=>e.check(nL(k6,n)),e.cidrv6=n=>e.check(iL(I6,n)),e.e164=n=>e.check(aL(P6,n)),e.datetime=n=>e.check(t6(n)),e.date=n=>e.check(i6(n)),e.time=n=>e.check(r6(n)),e.duration=n=>e.check(o6(n))});function ot(e){return Vz(b6,e)}const Le=U("ZodStringFormat",(e,t)=>{Ie.init(e,t),Rw.init(e,t)}),T6=U("ZodEmail",(e,t)=>{X3.init(e,t),Le.init(e,t)}),dS=U("ZodGUID",(e,t)=>{Z3.init(e,t),Le.init(e,t)}),du=U("ZodUUID",(e,t)=>{q3.init(e,t),Le.init(e,t)}),E6=U("ZodURL",(e,t)=>{Y3.init(e,t),Le.init(e,t)}),A6=U("ZodEmoji",(e,t)=>{K3.init(e,t),Le.init(e,t)}),w6=U("ZodNanoID",(e,t)=>{J3.init(e,t),Le.init(e,t)}),x6=U("ZodCUID",(e,t)=>{Q3.init(e,t),Le.init(e,t)}),C6=U("ZodCUID2",(e,t)=>{W3.init(e,t),Le.init(e,t)}),N6=U("ZodULID",(e,t)=>{ez.init(e,t),Le.init(e,t)}),O6=U("ZodXID",(e,t)=>{tz.init(e,t),Le.init(e,t)}),R6=U("ZodKSUID",(e,t)=>{nz.init(e,t),Le.init(e,t)}),D6=U("ZodIPv4",(e,t)=>{oz.init(e,t),Le.init(e,t)}),M6=U("ZodIPv6",(e,t)=>{lz.init(e,t),Le.init(e,t)}),k6=U("ZodCIDRv4",(e,t)=>{cz.init(e,t),Le.init(e,t)}),I6=U("ZodCIDRv6",(e,t)=>{uz.init(e,t),Le.init(e,t)}),z6=U("ZodBase64",(e,t)=>{fz.init(e,t),Le.init(e,t)}),L6=U("ZodBase64URL",(e,t)=>{dz.init(e,t),Le.init(e,t)}),P6=U("ZodE164",(e,t)=>{mz.init(e,t),Le.init(e,t)}),U6=U("ZodJWT",(e,t)=>{gz.init(e,t),Le.init(e,t)}),Dw=U("ZodNumber",(e,t)=>{Sw.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>zL(e,i,s),e.gt=(i,s)=>e.check(fS(i,s)),e.gte=(i,s)=>e.check(Bd(i,s)),e.min=(i,s)=>e.check(Bd(i,s)),e.lt=(i,s)=>e.check(uS(i,s)),e.lte=(i,s)=>e.check(Vd(i,s)),e.max=(i,s)=>e.check(Vd(i,s)),e.int=i=>e.check(mS(i)),e.safe=i=>e.check(mS(i)),e.positive=i=>e.check(fS(0,i)),e.nonnegative=i=>e.check(Bd(0,i)),e.negative=i=>e.check(uS(0,i)),e.nonpositive=i=>e.check(Vd(0,i)),e.multipleOf=(i,s)=>e.check(hS(i,s)),e.step=(i,s)=>e.check(hS(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _t(e){return hL(Dw,e)}const j6=U("ZodNumberFormat",(e,t)=>{yz.init(e,t),Dw.init(e,t)});function mS(e){return dL(j6,e)}const V6=U("ZodBoolean",(e,t)=>{vz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>LL(e,n,i)});function B6(e){return mL(V6,e)}const H6=U("ZodUnknown",(e,t)=>{_z.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>UL()});function _p(){return pL(H6)}const F6=U("ZodNever",(e,t)=>{Sz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>PL(e,n,i)});function G6(e){return gL(F6,e)}const $6=U("ZodArray",(e,t)=>{bz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>HL(e,n,i,s),e.element=t.element,e.min=(n,i)=>e.check(zf(n,i)),e.nonempty=n=>e.check(zf(1,n)),e.max=(n,i)=>e.check(Aw(n,i)),e.length=(n,i)=>e.check(ww(n,i)),e.unwrap=()=>e.element});function Qa(e,t){return NL($6,e,t)}const Z6=U("ZodObject",(e,t)=>{Ez.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>FL(e,n,i,s),Se(e,"shape",()=>t.shape),e.keyof=()=>bp(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:_p()}),e.loose=()=>e.clone({...e._zod.def,catchall:_p()}),e.strict=()=>e.clone({...e._zod.def,catchall:G6()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>GI(e,n),e.safeExtend=n=>$I(e,n),e.merge=n=>ZI(e,n),e.pick=n=>HI(e,n),e.omit=n=>FI(e,n),e.partial=(...n)=>qI(Iw,e,n[0]),e.required=(...n)=>XI(zw,e,n[0])});function Un(e,t){const n={type:"object",shape:e??{},...Y(t)};return new Z6(n)}const q6=U("ZodUnion",(e,t)=>{Az.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>GL(e,n,i,s),e.options=t.options});function Mw(e,t){return new q6({type:"union",options:e,...Y(t)})}const X6=U("ZodIntersection",(e,t)=>{wz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>$L(e,n,i,s)});function Y6(e,t){return new X6({type:"intersection",left:e,right:t})}const K6=U("ZodRecord",(e,t)=>{xz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>ZL(e,n,i,s),e.keyType=t.keyType,e.valueType=t.valueType});function kw(e,t,n){return new K6({type:"record",keyType:e,valueType:t,...Y(n)})}const Sp=U("ZodEnum",(e,t)=>{Cz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(i,s,r)=>jL(e,i,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const r={};for(const a of i)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Sp({...t,checks:[],...Y(s),entries:r})},e.exclude=(i,s)=>{const r={...t.entries};for(const a of i)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new Sp({...t,checks:[],...Y(s),entries:r})}});function bp(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new Sp({type:"enum",entries:n,...Y(t)})}const J6=U("ZodTransform",(e,t)=>{Nz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>BL(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new sw(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(Kl(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(Kl(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function Q6(e){return new J6({type:"transform",transform:e})}const Iw=U("ZodOptional",(e,t)=>{Ew.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Ow(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function pS(e){return new Iw({type:"optional",innerType:e})}const W6=U("ZodExactOptional",(e,t)=>{Oz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>Ow(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function e5(e){return new W6({type:"optional",innerType:e})}const t5=U("ZodNullable",(e,t)=>{Rz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>qL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function gS(e){return new t5({type:"nullable",innerType:e})}const n5=U("ZodDefault",(e,t)=>{Dz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>YL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function i5(e,t){return new n5({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():lw(t)}})}const s5=U("ZodPrefault",(e,t)=>{Mz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>KL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function r5(e,t){return new s5({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():lw(t)}})}const zw=U("ZodNonOptional",(e,t)=>{kz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>XL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function a5(e,t){return new zw({type:"nonoptional",innerType:e,...Y(t)})}const o5=U("ZodCatch",(e,t)=>{Iz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>JL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function l5(e,t){return new o5({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const c5=U("ZodPipe",(e,t)=>{zz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>QL(e,n,i,s),e.in=t.in,e.out=t.out});function yS(e,t){return new c5({type:"pipe",in:e,out:t})}const u5=U("ZodReadonly",(e,t)=>{Lz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>WL(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function f5(e){return new u5({type:"readonly",innerType:e})}const h5=U("ZodCustom",(e,t)=>{Pz.init(e,t),He.init(e,t),e._zod.processJSONSchema=(n,i,s)=>VL(e,n)});function d5(e,t={}){return OL(h5,e,t)}function m5(e){return RL(e)}ui("Validation");const vS=ot().min(1).max(100);ot().regex(/^[a-fA-F0-9]{64}$/);const bh=ot().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),Lw=ot().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);ot().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);Un({challenge:ot().min(10).max(200),expiresAt:_t().int().positive()});Un({kind:_t().int(),created_at:_t().int().nonnegative(),tags:Qa(Qa(ot())),content:ot()});const p5=Un({npub:bh,displayName:Lw.nullable()}),Pw=Un({visitedAt:ot().nullable().optional(),completedAt:ot().nullable().optional(),quizAttempts:Qa(Un({xpEarned:_t().int().min(0).optional(),score:_t().min(0).max(100).optional(),timestamp:ot().optional(),difficulty:bp(["easy","medium","hard"]).optional(),correctAnswers:_t().int().min(0).optional(),totalQuestions:_t().int().min(1).optional()})).optional(),visualizationsInteracted:Qa(ot().max(100)).optional(),masteryLevel:Mw([_t().int().min(0).max(3),bp(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:ot().optional(),timeSpentSeconds:_t().int().min(0).optional()});Un({user:Un({totalXP:_t().int().min(0),level:_t().int().min(1).max(10),sectionsCompleted:Qa(vS)}),sections:kw(vS,Pw),dailyGoals:Un({lastResetDate:ot().nullable(),currentStreak:_t().int().min(0),xpEarned:_t().int().min(0),xpGoal:_t().int().min(0)}),lastUpdated:_t().int().nonnegative()});Un({success:B6(),totalXP:_t().int().min(0)});Un({npub:bh,displayName:Lw.nullable(),xp:_t().int().min(0),lastSync:ot()});Un({timestamp:ot(),action:ot(),targetNpub:bh.nullable(),performedBy:ot(),details:kw(ot(),_p()).nullable()});function _8(e){return bh.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function g5(e){const t=Pw.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function y5(e){const t=p5.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Pf=ui("SyncManager"),v5="magic-internet-math-progress";function _S(){try{const e=localStorage.getItem(v5);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0};for(const[s,r]of Object.entries(t.sections)){const[a]=s.split(":");if(!iR(a))continue;const o=a,c=g5(r);if(!c.valid||!c.data){Pf.warn(`Invalid section data for ${s}, skipping`);continue}const u=c.data;if(u.quizAttempts)for(const f of u.quizAttempts)f.xpEarned&&(i[o]+=f.xpEarned);u.visitedAt&&(i[o]+=mt.SECTION_VISIT),u.completedAt&&(i[o]+=mt.SECTION_COMPLETE),u.visualizationsInteracted&&(i[o]+=u.visualizationsInteracted.length*mt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return Pf.error("Error extracting scores from storage:",e),null}}class _5{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},KA),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},JA))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!_s())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<YA)return{success:!1,error:"Rate limited"};try{const n=_S();if(!n)return{success:!1,error:"No scores to sync"};const i=Yl(),s=Ka(i,"syncScores"),r={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(r.displayName=this.displayName);const a=await s(r);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return Pf.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const s=1e3*Math.pow(2,n);Pf.debug(`Sync retry ${n+1}/${t} in ${s}ms`),await new Promise(r=>setTimeout(r,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=_S();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Hd=null;function Yo(){return Hd||(Hd=new _5),Hd}const ut=ui("NostrAuth"),Uw=k.createContext(null),Ko="magic-internet-math-nostr-auth";function S5({children:e}){const[t,n]=k.useState(!1),[i,s]=k.useState(null),[r,a]=k.useState(null),[o,c]=k.useState(null),[u,f]=k.useState(!1),[d,m]=k.useState(null),[g,C]=k.useState(!1),[R,I]=k.useState(!1),[b,v]=k.useState(null);k.useEffect(()=>{(async()=>{const E=await II(fI);C(E),I(!0)})()},[]);const A=k.useCallback(async S=>{for(const E of QA)try{const x=await iw(E,S);if(x){x.nip05&&c(x.nip05);const M=x.display_name||x.name;if(M){a(M);const N=Yo();N.setDisplayName(M),N.requestSync()}return}}catch(x){ut.warn(`Failed to fetch profile from ${E}:`,x)}},[]);k.useEffect(()=>{if(!_s())return;const S=Ud(),E=yk(S,async x=>{if(v(x),x){s(x.uid);try{const N=await x.getIdTokenResult(!0);ut.debug("Token claims:",N.claims),f(N.claims.isAdmin===!0)}catch(N){ut.error("Error getting token:",N),f(!1)}try{const N=localStorage.getItem(Ko);if(N){const se=JSON.parse(N),ae=y5(se);if(!ae.valid||!ae.data){ut.warn("Invalid auth state in localStorage:",ae.error),localStorage.removeItem(Ko);return}ae.data.npub===x.uid&&a(ae.data.displayName)}}catch(N){ut.debug("Storage read error:",N)}const M=Yo();M.setAuthenticated(!0),M.startPeriodicSync();try{const N=nw(x.uid);A(N)}catch(N){ut.debug("Npub conversion error:",N)}}else{s(null),c(null),f(!1),a(null);const M=Yo();M.setAuthenticated(!1),M.stopPeriodicSync()}});return()=>E()},[A]);const O=k.useCallback(async()=>{if(ut.debug("connect() called"),ut.debug("isFirebaseConfigured:",_s()),ut.debug("hasNostrExtension:",Mf()),!_s()){ut.info("Firebase not configured, cannot connect");return}if(!Mf()){m("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),ut.warn("No extension found, returning");return}n(!0),m(null),ut.info("Starting Nostr connection...");try{const S=window.nostr,E=Yl(),x=await S.getPublicKey(),M=DI(x),se=await Ka(E,"createChallenge")({pubkeyHex:x}),{challenge:ae}=se.data,H={kind:zI,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",ae]],content:ae},G=await S.signEvent(H),ee=await Ka(E,"verifyNostrAndCreateToken")({signedEvent:G,challenge:ae}),ce=Ud();await mk(ce,ee.data.token);try{const At={npub:M,displayName:null};localStorage.setItem(Ko,JSON.stringify(At))}catch(At){ut.warn("Failed to store auth state:",At)}Yo().syncNow().catch(At=>{ut.warn("Initial sync failed:",At)})}catch(S){ut.error("Nostr connect error:",S),m(S instanceof Error?S.message:"Failed to connect. Please try again.")}finally{n(!1)}},[g]),L=k.useCallback(async()=>{try{if(_s()){const S=Ud();await vk(S)}try{localStorage.removeItem(Ko)}catch(S){ut.warn("Failed to clear auth state from storage:",S)}s(null),a(null),f(!1)}catch(S){ut.error("Disconnect error:",S),m(S instanceof Error?S.message:"Failed to disconnect")}},[]),V=k.useCallback(S=>{if(a(S),i)try{localStorage.setItem(Ko,JSON.stringify({npub:i,displayName:S}))}catch(x){ut.warn("Failed to update display name in storage:",x)}const E=Yo();E.setDisplayName(S),E.requestSync()},[i]),T=k.useCallback(()=>{m(null)},[]),y=k.useMemo(()=>({isAuthenticated:!!b&&!!i,isConnecting:t,npub:i,displayName:r,nip05:o,isAdmin:u,error:d,hasExtension:g,extensionChecked:R,connect:O,disconnect:L,setDisplayName:V,clearError:T}),[b,i,t,r,o,u,d,g,R,O,L,V,T]);return w.jsx(Uw.Provider,{value:y,children:e})}const b5={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function T5(){const e=k.useContext(Uw);return e||b5}const ns=ui("GamificationProgress"),E5=500,A5=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},ta=(e,t)=>{A5()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},jw=k.createContext(null);function w5({children:e,courseId:t,curriculum:n}){const[i,s]=k.useReducer(xR,BE()),[r,a]=k.useState(!0),[o,c]=k.useState([]),[u,f]=k.useState("idle"),d=k.useRef(null),m=k.useRef(!1),g=k.useRef(!1),{isAuthenticated:C,npub:R}=T5(),I=k.useCallback(E=>`${t}:${E}`,[t]),b=k.useCallback((E,x)=>{if(!n)return null;const M=n.find(G=>G.sections.some(q=>q.id===E));if(!M)return null;const N=`${t}:part${M.id}`;if(x.user.partsCompleted.includes(N))return null;const se=M.sections.map(G=>I(G.id)),ae=I(E);return se.every(G=>x.user.sectionsCompleted.includes(G)||G===ae)?N:null},[n,t,I]);k.useEffect(()=>{const E=Ir();E&&s({type:"LOAD_STATE",payload:E}),C||queueMicrotask(()=>a(!1))},[]),k.useEffect(()=>{const E=K_(),x=E.onStatusChange(f),M=g.current;return g.current=C,C&&!M?(ns.info("User authenticated, fetching progress from server"),E.setAuthenticated(!0),(async()=>{a(!0);try{const se=fR(),ae=Ir();if(se&&ae){ns.info("Migrating local progress to server");const H=await E.migrateLocalProgress(ae);H.success&&H.state?(s({type:"MERGE_WITH_SERVER",payload:H.state}),uR(),ns.info("Migration complete")):ns.warn("Migration failed, using local state")}else{const H=await E.fetchServerProgress();H.found&&H.progress?(ns.info("Loaded progress from server"),s({type:"LOAD_FROM_SERVER",payload:H.progress}),E.setLastSyncedAt(H.lastSyncedAt)):ns.info("No server progress found, using local state")}}catch(se){ns.error("Failed to sync with server:",se)}finally{queueMicrotask(()=>a(!1)),m.current=!0}})(),E.startPeriodicSync()):!C&&M?(ns.info("User logged out"),E.setAuthenticated(!1),E.stopPeriodicSync(),m.current=!1):C||queueMicrotask(()=>a(!1)),()=>{x()}},[C,R]),k.useEffect(()=>{r||(uh(i),C&&m.current&&K_().requestSync(i))},[i,r,C]),k.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),k.useEffect(()=>{if(!r)return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{const E=pR(i);E.length>0&&c(x=>[...x,...E])},E5),()=>{d.current&&clearTimeout(d.current)}},[i,r]);const v=k.useCallback(E=>{s({type:"VISIT_SECTION",payload:{sectionId:I(E)}})},[I]),A=k.useCallback(E=>{const x=b(E,i);s({type:"COMPLETE_SECTION",payload:{sectionId:I(E)}}),x&&(s({type:"COMPLETE_PART",payload:{partId:x}}),ta("partCompleted",{partId:x,courseId:t})),ta("sectionCompleted",{sectionId:I(E),courseId:t})},[I,t,b,i]),O=k.useCallback((E,x,M,N,se)=>{const ae=I(E),H=M>=80?b(E,i):null;s({type:"RECORD_QUIZ",payload:{sectionId:ae,difficulty:x,score:M,correctAnswers:N,totalQuestions:se}}),H&&(s({type:"COMPLETE_PART",payload:{partId:H}}),ta("partCompleted",{partId:H,courseId:t})),ta("quizCompleted",{sectionId:ae,courseId:t,score:M,correctAnswers:N,totalQuestions:se}),M>=80&&ta("sectionCompleted",{sectionId:ae,courseId:t})},[I,t,b,i]),L=k.useCallback((E,x)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:I(E),name:x}})},[I]),V=k.useCallback(E=>{c(x=>x.filter(M=>M.id!==E))},[]),T=k.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),y=k.useCallback(E=>{s({type:"RECORD_RACE_GAME",payload:E}),ta("raceGameCompleted",{courseId:t,score:E.score,tier:E.tier,correctAnswers:E.correctAnswers,totalQuestions:E.totalQuestions,isMultiplayer:E.isMultiplayer})},[t]),S=k.useMemo(()=>({state:i,isLoading:r,notifications:o,syncStatus:u,visitSection:v,completeSection:A,recordQuiz:O,useVisualization:L,dismissNotification:V,resetProgress:T,recordRaceGame:y,dispatch:s}),[i,r,o,u,v,A,O,L,V,T,y,s]);return w.jsx(jw.Provider,{value:S,children:e})}function Th(){const e=k.useContext(jw);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const x5=$l;function S8(e){return`${x5}:${e}`}function SS({children:e}){return w.jsx(w5,{courseId:$l,children:e})}const C5=ui("ErrorBoundary");class N5 extends k.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){C5.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full text-center",children:[w.jsx("div",{className:"text-6xl mb-6",children:w.jsx("span",{role:"img","aria-label":"Warning",children:""})}),w.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),w.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&w.jsxs("details",{className:"mb-6 text-left",children:[w.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),w.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),w.jsxs("div",{className:"flex gap-4 justify-center",children:[w.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),w.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Vu=ui("ErrorContext");async function O5(e){if(_s())try{const t=Yl();if(!t){Vu.debug("Firebase functions not initialized");return}await Ka(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),Vu.debug("Error logged to Firebase:",e.message)}catch(t){Vu.debug("Failed to log error to Firebase:",t)}}const Vw=k.createContext(null);function R5({children:e,onError:t}){const[n,i]=k.useState([]),s=k.useCallback(o=>{const c={id:crypto.randomUUID(),...o,timestamp:new Date,recoverable:o.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:o.severity??"error"};i(u=>{const f=[...u,c];return t&&t(c),f}),O5(c).catch(()=>{}),Vu.error("App error added:",c)},[t]),r=k.useCallback(o=>{i(c=>c.filter(u=>u.id!==o))},[]),a=k.useCallback(()=>{i([])},[]);return w.jsx(Vw.Provider,{value:{errors:n,addError:s,dismissError:r,dismissAll:a},children:e})}function D5(){const e=k.useContext(Vw);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function M5({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=D5();return t.length===0?null:w.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:w.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&w.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),w.jsx("div",{className:"space-y-2",children:t.map(s=>w.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:w.jsxs("div",{className:"flex justify-between items-start gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-red-900 font-medium",children:s.message}),s.details&&w.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.details})]}),w.jsx("button",{onClick:()=>n(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},s.id))}),t.some(s=>!s.recoverable)&&w.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[w.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const k5={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function rl({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=w.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[w.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${k5[t]}`,role:"status","aria-label":"Loading"}),e&&w.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?w.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}const $r=[{id:1,title:"Political Theory and System Theory",slug:"political-system-theory",sections:[{id:0,title:"Introduction",slug:"introduction",description:"Overview of the thesis: applying system dynamics to model Machiavelli's political philosophy."},{id:1,title:"Early Political Philosophers",slug:"early-philosophers",description:"From Plato to Aristotle: the evolution of political thought before Machiavelli."},{id:2,title:"The First System Theorists",slug:"first-system-theorists",description:"Machiavelli as a proto-systems thinker and his systematic approach to politics."},{id:3,title:"System Dynamics",slug:"system-dynamics",description:"Introduction to system dynamics methodology and its application to social systems."},{id:4,title:"System Dynamics and Machiavelli",slug:"sd-machiavelli",description:"How Machiavelli's insights align with modern system dynamics concepts."}]},{id:2,title:"Machiavelli's Conception of the State",slug:"conception-of-state",sections:[{id:5,title:"Machiavelli's Assumptions",slug:"assumptions",description:"The philosophical foundations: no absolutes, bounded rationality, and satisficing."},{id:6,title:"Overview of the Model",slug:"model-overview",description:"The three political factions and their interactions in the political system."},{id:7,title:"Modes of Behavior",slug:"modes-of-behavior",description:"From stable accommodation to catastrophic failure: the system's behavioral modes."}]},{id:3,title:"Model Description",slug:"model-description",sections:[{id:8,title:"Model Scope",slug:"model-scope",description:"Endogenous, exogenous, and excluded variables in the political system model."},{id:9,title:"Class Conflict and Social Norms",slug:"class-conflict",description:"The populace, aristocracy, and their competing desires for freedom and welfare."},{id:10,title:"The Legislative Sector",slug:"legislative-sector",description:"How rationally established norms are determined through factional influence."},{id:11,title:"The Role of the Executive",slug:"role-of-executive",description:"Executive power, policy implementation, and the gap between law and action."},{id:12,title:"Economic Considerations",slug:"economic-considerations",description:"Production, distribution, welfare, and the feedback loops affecting the economy."},{id:13,title:"Resistance and Rebellion",slug:"resistance-rebellion",description:"From protest to revolution: the dynamics of opposition to government."}]},{id:4,title:"Findings",slug:"findings",sections:[{id:14,title:"The Equilibrium Case",slug:"equilibrium-case",description:"Baseline calibration and the conditions for political stability."},{id:15,title:"Executive Action Effects",slug:"executive-action",description:"How executive attempts to change economic distribution lead to rebellion."},{id:16,title:"Production Shocks",slug:"production-shocks",description:"System response to external disturbances like famine, war, and pestilence."},{id:17,title:"The Competent Executive",slug:"competent-executive",description:"Policy effects when executive competence exceeds normal constraints."},{id:18,title:"Corruption and Reform",slug:"corruption-reform",description:"The J-curve of revolution and why reform can trigger instability."}]},{id:5,title:"Conclusion",slug:"conclusion",sections:[{id:19,title:"General System Tendencies",slug:"system-tendencies",description:"Key insights: social inertia, pluralism, and the difficulty of change."},{id:20,title:"Areas for Further Study",slug:"further-study",description:"Limitations of the model and directions for future research."}]}];function b8(e){for(const t of $r){const n=t.sections.find(i=>i.id===e);if(n)return n}}function T8(e){return $r.find(t=>t.sections.some(n=>n.id===e))}function E8(e){const t=$r.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function I5(){return $r.reduce((e,t)=>e+t.sections.length,0)}function z5(){return $r.flatMap(e=>e.sections)}function A8(e){return z5().findIndex(n=>n.id===e)}function L5({xp:e,level:t,compact:n=!1}){const i=HE(e,t);return n?w.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[w.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),w.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:w.jsx("span",{className:"text-sm font-bold text-white",children:t})}),w.jsxs("div",{className:"flex-1 min-w-[80px]",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[w.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),w.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),w.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:w.jsx(YC.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function P5({streak:e}){return e===0?null:w.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[w.jsx("span",{className:"text-orange-400",children:""}),w.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function bS(){const e=Th(),t=ei.gamification?e:null,n=I5(),i=t?t.state.user.sectionsCompleted.filter(r=>r.startsWith($l)).length:0,s=Math.round(i/n*100);return w.jsx("div",{className:"py-8 px-4",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("span",{className:"text-6xl mb-4 block",children:kE}),w.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:ME}),w.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:MO})]}),ei.gamification&&t&&w.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),w.jsx(P5,{streak:t.state.streak.currentStreak})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx("div",{children:w.jsx(L5,{xp:t.state.user.totalXP,level:t.state.user.level})}),w.jsxs("div",{className:"flex flex-col justify-center",children:[w.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[w.jsx("span",{className:"text-dark-400",children:"Course Progress"}),w.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),w.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),w.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),w.jsxs("div",{className:"flex flex-col justify-center items-end",children:[w.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),w.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),w.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),w.jsx("div",{className:"space-y-4",children:$r.map(r=>w.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:w.jsx("span",{className:"text-lg font-bold text-primary-400",children:r.id})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:r.title}),w.jsxs("p",{className:"text-sm text-dark-400",children:[r.sections.length," sections"]})]})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.sections.map(a=>{const o=`${$l}:${a.id}`,c=t==null?void 0:t.state.user.sectionsCompleted.includes(o);return w.jsxs(JC,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[w.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${c?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:c?w.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):w.jsx("span",{className:"text-xs",children:a.id})}),w.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},r.id))})]})})}function U5(e){const t={};for(const[n,i]of Object.entries(e)){const s=n.match(/Section(\d+)/);if(s){const r=parseInt(s[1],10);t[r]=i}}return t}const Bw=k.createContext(null);function j5({config:e,children:t}){return w.jsx(Bw.Provider,{value:e,children:t})}function Hw(){const e=k.useContext(Bw);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}const dy=k.createContext({});function my(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const py=typeof window<"u",Fw=py?k.useLayoutEffect:k.useEffect,Eh=k.createContext(null);function gy(e,t){e.indexOf(t)===-1&&e.push(t)}function yy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const oi=(e,t,n)=>n>t?t:n<e?e:n;let vy=()=>{};const Gi={},Gw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $w(e){return typeof e=="object"&&e!==null}const Zw=e=>/^0[^.\s]+$/u.test(e);function _y(e){let t;return()=>(t===void 0&&(t=e()),t)}const En=e=>e,V5=(e,t)=>n=>t(e(n)),Sc=(...e)=>e.reduce(V5),Jl=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class Sy{constructor(){this.subscriptions=[]}add(t){return gy(this.subscriptions,t),()=>yy(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,Sn=e=>e/1e3;function qw(e,t){return t?e*(1e3/t):0}const Xw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,B5=1e-7,H5=12;function F5(e,t,n,i,s){let r,a,o=0;do a=t+(n-t)/2,r=Xw(a,i,s)-e,r>0?n=a:t=a;while(Math.abs(r)>B5&&++o<H5);return a}function bc(e,t,n,i){if(e===t&&n===i)return En;const s=r=>F5(r,0,1,e,n);return r=>r===0||r===1?r:Xw(s(r),t,i)}const Yw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Kw=e=>t=>1-e(1-t),Jw=bc(.33,1.53,.69,.99),by=Kw(Jw),Qw=Yw(by),Ww=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),Ty=e=>1-Math.sin(Math.acos(e)),ex=Kw(Ty),tx=Yw(Ty),G5=bc(.42,0,1,1),$5=bc(0,0,.58,1),nx=bc(.42,0,.58,1),Z5=e=>Array.isArray(e)&&typeof e[0]!="number",ix=e=>Array.isArray(e)&&typeof e[0]=="number",q5={linear:En,easeIn:G5,easeInOut:nx,easeOut:$5,circIn:Ty,circInOut:tx,circOut:ex,backIn:by,backInOut:Qw,backOut:Jw,anticipate:Ww},X5=e=>typeof e=="string",TS=e=>{if(ix(e)){vy(e.length===4);const[t,n,i,s]=e;return bc(t,n,i,s)}else if(X5(e))return q5[e];return e},mu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Y5(e,t){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(u.schedule(f),e()),f(o)}const u={schedule:(f,d=!1,m=!1)=>{const C=m&&s?n:i;return d&&a.add(f),C.has(f)||C.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(o=f,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(c),n.clear(),s=!1,r&&(r=!1,u.process(f))}};return u}const K5=40;function sx(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=mu.reduce((A,O)=>(A[O]=Y5(r),A),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:f,update:d,preRender:m,render:g,postRender:C}=a,R=()=>{const A=Gi.useManualTiming?s.timestamp:performance.now();n=!1,Gi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(A-s.timestamp,K5),1)),s.timestamp=A,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),f.process(s),d.process(s),m.process(s),g.process(s),C.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(R))},I=()=>{n=!0,i=!0,s.isProcessing||e(R)};return{schedule:mu.reduce((A,O)=>{const L=a[O];return A[O]=(V,T=!1,y=!1)=>(n||I(),L.schedule(V,T,y)),A},{}),cancel:A=>{for(let O=0;O<mu.length;O++)a[mu[O]].cancel(A)},state:s,steps:a}}const{schedule:Re,cancel:Bs,state:yt,steps:Fd}=sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0);let Bu;function J5(){Bu=void 0}const Rt={now:()=>(Bu===void 0&&Rt.set(yt.isProcessing||Gi.useManualTiming?yt.timestamp:performance.now()),Bu),set:e=>{Bu=e,queueMicrotask(J5)}},rx=e=>t=>typeof t=="string"&&t.startsWith(e),ax=rx("--"),Q5=rx("var(--"),Ey=e=>Q5(e)?W5.test(e.split("/*")[0].trim()):!1,W5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ES(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const mo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ql={...mo,transform:e=>oi(0,1,e)},pu={...mo,default:1},Cl=e=>Math.round(e*1e5)/1e5,Ay=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eP(e){return e==null}const tP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wy=(e,t)=>n=>!!(typeof n=="string"&&tP.test(n)&&n.startsWith(e)||t&&!eP(n)&&Object.prototype.hasOwnProperty.call(n,t)),ox=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(Ay);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},nP=e=>oi(0,255,e),Gd={...mo,transform:e=>Math.round(nP(e))},_r={test:wy("rgb","red"),parse:ox("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Gd.transform(e)+", "+Gd.transform(t)+", "+Gd.transform(n)+", "+Cl(Ql.transform(i))+")"};function iP(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Tp={test:wy("#"),parse:iP,transform:_r.transform},Tc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),is=Tc("deg"),ai=Tc("%"),Z=Tc("px"),sP=Tc("vh"),rP=Tc("vw"),AS={...ai,parse:e=>ai.parse(e)/100,transform:e=>ai.transform(e*100)},Sa={test:wy("hsl","hue"),parse:ox("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+ai.transform(Cl(t))+", "+ai.transform(Cl(n))+", "+Cl(Ql.transform(i))+")"},Je={test:e=>_r.test(e)||Tp.test(e)||Sa.test(e),parse:e=>_r.test(e)?_r.parse(e):Sa.test(e)?Sa.parse(e):Tp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_r.transform(e):Sa.transform(e),getAnimatableNone:e=>{const t=Je.parse(e);return t.alpha=0,Je.transform(t)}},aP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ay))==null?void 0:t.length)||0)+(((n=e.match(aP))==null?void 0:n.length)||0)>0}const lx="number",cx="color",lP="var",cP="var(",wS="${}",uP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wl(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(uP,c=>(Je.test(c)?(i.color.push(r),s.push(cx),n.push(Je.parse(c))):c.startsWith(cP)?(i.var.push(r),s.push(lP),n.push(c)):(i.number.push(r),s.push(lx),n.push(parseFloat(c))),++r,wS)).split(wS);return{values:n,split:o,indexes:i,types:s}}function ux(e){return Wl(e).values}function fx(e){const{split:t,types:n}=Wl(e),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=n[a];o===lx?r+=Cl(s[a]):o===cx?r+=Je.transform(s[a]):r+=s[a]}return r}}const fP=e=>typeof e=="number"?0:Je.test(e)?Je.getAnimatableNone(e):e;function hP(e){const t=ux(e);return fx(e)(t.map(fP))}const Hs={test:oP,parse:ux,createTransformer:fx,getAnimatableNone:hP};function $d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function dP({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,a=0;if(!t)s=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;s=$d(c,o,e+1/3),r=$d(c,o,e),a=$d(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function Uf(e,t){return n=>n>0?t:e}const ze=(e,t,n)=>e+(t-e)*n,Zd=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},mP=[Tp,_r,Sa],pP=e=>mP.find(t=>t.test(e));function xS(e){const t=pP(e);if(!t)return!1;let n=t.parse(e);return t===Sa&&(n=dP(n)),n}const CS=(e,t)=>{const n=xS(e),i=xS(t);if(!n||!i)return Uf(e,t);const s={...n};return r=>(s.red=Zd(n.red,i.red,r),s.green=Zd(n.green,i.green,r),s.blue=Zd(n.blue,i.blue,r),s.alpha=ze(n.alpha,i.alpha,r),_r.transform(s))},Ep=new Set(["none","hidden"]);function gP(e,t){return Ep.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function yP(e,t){return n=>ze(e,t,n)}function xy(e){return typeof e=="number"?yP:typeof e=="string"?Ey(e)?Uf:Je.test(e)?CS:SP:Array.isArray(e)?hx:typeof e=="object"?Je.test(e)?CS:vP:Uf}function hx(e,t){const n=[...e],i=n.length,s=e.map((r,a)=>xy(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function vP(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=xy(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function _P(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],o=e.values[a]??0;n[s]=o,i[r]++}return n}const SP=(e,t)=>{const n=Hs.createTransformer(t),i=Wl(e),s=Wl(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Ep.has(e)&&!s.values.length||Ep.has(t)&&!i.values.length?gP(e,t):Sc(hx(_P(i,s),s.values),n):Uf(e,t)};function dx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ze(e,t,n):xy(e)(e,t)}const bP=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Re.update(t,n),stop:()=>Bs(t),now:()=>yt.isProcessing?yt.timestamp:Rt.now()}},mx=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},jf=2e4;function Cy(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<jf;)t+=n,i=e.next(t);return t>=jf?1/0:t}function TP(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(Cy(i),jf);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:Sn(s)}}const EP=5;function px(e,t,n){const i=Math.max(t-EP,0);return qw(n-e(i),t-i)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qd=.001;function AP({duration:e=je.duration,bounce:t=je.bounce,velocity:n=je.velocity,mass:i=je.mass}){let s,r,a=1-t;a=oi(je.minDamping,je.maxDamping,a),e=oi(je.minDuration,je.maxDuration,Sn(e)),a<1?(s=u=>{const f=u*a,d=f*e,m=f-n,g=Ap(u,a),C=Math.exp(-d);return qd-m/g*C},r=u=>{const d=u*a*e,m=d*n+n,g=Math.pow(a,2)*Math.pow(u,2)*e,C=Math.exp(-d),R=Ap(Math.pow(u,2),a);return(-s(u)+qd>0?-1:1)*((m-g)*C)/R}):(s=u=>{const f=Math.exp(-u*e),d=(u-n)*e+1;return-qd+f*d},r=u=>{const f=Math.exp(-u*e),d=(n-u)*(e*e);return f*d});const o=5/e,c=xP(s,r,o);if(e=zi(e),isNaN(c))return{stiffness:je.stiffness,damping:je.damping,duration:e};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:e}}}const wP=12;function xP(e,t,n){let i=n;for(let s=1;s<wP;s++)i=i-e(i)/t(i);return i}function Ap(e,t){return e*Math.sqrt(1-t*t)}const CP=["duration","bounce"],NP=["stiffness","damping","mass"];function NS(e,t){return t.some(n=>e[n]!==void 0)}function OP(e){let t={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...e};if(!NS(e,NP)&&NS(e,CP))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*oi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:je.mass,stiffness:s,damping:r}}else{const n=AP(e);t={...t,...n,mass:je.mass},t.isResolvedFromDuration=!0}return t}function Vf(e=je.visualDuration,t=je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:c,damping:u,mass:f,duration:d,velocity:m,isResolvedFromDuration:g}=OP({...n,velocity:-Sn(n.velocity||0)}),C=m||0,R=u/(2*Math.sqrt(c*f)),I=a-r,b=Sn(Math.sqrt(c/f)),v=Math.abs(I)<5;i||(i=v?je.restSpeed.granular:je.restSpeed.default),s||(s=v?je.restDelta.granular:je.restDelta.default);let A;if(R<1){const L=Ap(b,R);A=V=>{const T=Math.exp(-R*b*V);return a-T*((C+R*b*I)/L*Math.sin(L*V)+I*Math.cos(L*V))}}else if(R===1)A=L=>a-Math.exp(-b*L)*(I+(C+b*I)*L);else{const L=b*Math.sqrt(R*R-1);A=V=>{const T=Math.exp(-R*b*V),y=Math.min(L*V,300);return a-T*((C+R*b*I)*Math.sinh(y)+L*I*Math.cosh(y))/L}}const O={calculatedDuration:g&&d||null,next:L=>{const V=A(L);if(g)o.done=L>=d;else{let T=L===0?C:0;R<1&&(T=L===0?zi(C):px(A,L,V));const y=Math.abs(T)<=i,S=Math.abs(a-V)<=s;o.done=y&&S}return o.value=o.done?a:V,o},toString:()=>{const L=Math.min(Cy(O),jf),V=mx(T=>O.next(L*T).value,L,30);return L+"ms "+V},toTransition:()=>{}};return O}Vf.applyToOptions=e=>{const t=TP(e,100,Vf);return e.ease=t.ease,e.duration=zi(t.duration),e.type="keyframes",e};function wp({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],m={done:!1,value:d},g=y=>o!==void 0&&y<o||c!==void 0&&y>c,C=y=>o===void 0?c:c===void 0||Math.abs(o-y)<Math.abs(c-y)?o:c;let R=n*t;const I=d+R,b=a===void 0?I:a(I);b!==I&&(R=b-d);const v=y=>-R*Math.exp(-y/i),A=y=>b+v(y),O=y=>{const S=v(y),E=A(y);m.done=Math.abs(S)<=u,m.value=m.done?b:E};let L,V;const T=y=>{g(m.value)&&(L=y,V=Vf({keyframes:[m.value,C(m.value)],velocity:px(A,y,m.value),damping:s,stiffness:r,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:y=>{let S=!1;return!V&&L===void 0&&(S=!0,O(y),T(y)),L!==void 0&&y>=L?V.next(y-L):(!S&&O(y),m)}}}function RP(e,t,n){const i=[],s=n||Gi.mix||dx,r=e.length-1;for(let a=0;a<r;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||En:t;o=Sc(c,o)}i.push(o)}return i}function DP(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(vy(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=RP(t,i,s),c=o.length,u=f=>{if(a&&f<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(f<e[d+1]);d++);const m=Jl(e[d],e[d+1],f);return o[d](m)};return n?f=>u(oi(e[0],e[r-1],f)):u}function MP(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Jl(0,t,i);e.push(ze(n,1,s))}}function kP(e){const t=[0];return MP(t,e.length-1),t}function IP(e,t){return e.map(n=>n*t)}function zP(e,t){return e.map(()=>t||nx).splice(0,e.length-1)}function Nl({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=Z5(i)?i.map(TS):TS(i),r={done:!1,value:t[0]},a=IP(n&&n.length===t.length?n:kP(t),e),o=DP(a,t,{ease:Array.isArray(s)?s:zP(t,s)});return{calculatedDuration:e,next:c=>(r.value=o(c),r.done=c>=e,r)}}const LP=e=>e!==null;function Ny(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(LP),o=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const PP={decay:wp,inertia:wp,tween:Nl,keyframes:Nl,spring:Vf};function gx(e){typeof e.type=="string"&&(e.type=PP[e.type])}class Oy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const UP=e=>e/100;class Ry extends Oy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gx(t);const{type:n=Nl,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const c=n||Nl;c!==Nl&&typeof o[0]!="number"&&(this.mixKeyframes=Sc(UP,dx(o[0],o[1])),o=[0,100]);const u=c({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Cy(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:f,repeat:d,repeatType:m,repeatDelay:g,type:C,onUpdate:R,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,O=i;if(d){const y=Math.min(this.currentTime,s)/o;let S=Math.floor(y),E=y%1;!E&&y>=1&&(E=1),E===1&&S--,S=Math.min(S,d+1),!!(S%2)&&(m==="reverse"?(E=1-E,g&&(E-=g/o)):m==="mirror"&&(O=a)),A=oi(0,1,E)*o}const L=v?{done:!1,value:f[0]}:O.next(A);r&&(L.value=r(L.value));let{done:V}=L;!v&&c!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return T&&C!==wp&&(L.value=Ny(f,this.options,I,this.speed)),R&&R(L.value),T&&this.finish(),L}then(t,n){return this.finished.then(t,n)}get duration(){return Sn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(this.currentTime)}set time(t){var n;t=zi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Sn(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=bP,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function jP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sr=e=>e*180/Math.PI,xp=e=>{const t=Sr(Math.atan2(e[1],e[0]));return Cp(t)},VP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xp,rotateZ:xp,skewX:e=>Sr(Math.atan(e[1])),skewY:e=>Sr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Cp=e=>(e=e%360,e<0&&(e+=360),e),OS=xp,RS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),DS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RS,scaleY:DS,scale:e=>(RS(e)+DS(e))/2,rotateX:e=>Cp(Sr(Math.atan2(e[6],e[5]))),rotateY:e=>Cp(Sr(Math.atan2(-e[2],e[0]))),rotateZ:OS,rotate:OS,skewX:e=>Sr(Math.atan(e[4])),skewY:e=>Sr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Np(e){return e.includes("scale")?1:0}function Op(e,t){if(!e||e==="none")return Np(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=BP,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=VP,s=o}if(!s)return Np(t);const r=i[t],a=s[1].split(",").map(FP);return typeof r=="function"?r(a):a[r]}const HP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Op(n,t)};function FP(e){return parseFloat(e.trim())}const po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],go=new Set(po),MS=e=>e===mo||e===Z,GP=new Set(["x","y","z"]),$P=po.filter(e=>!GP.has(e));function ZP(e){const t=[];return $P.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Ss={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Op(t,"x"),y:(e,{transform:t})=>Op(t,"y")};Ss.translateX=Ss.x;Ss.translateY=Ss.y;const Nr=new Set;let Rp=!1,Dp=!1,Mp=!1;function yx(){if(Dp){const e=Array.from(Nr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=ZP(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Dp=!1,Rp=!1,Nr.forEach(e=>e.complete(Mp)),Nr.clear()}function vx(){Nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Dp=!0)})}function qP(){Mp=!0,vx(),yx(),Mp=!1}class Dy{constructor(t,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Nr.add(this),Rp||(Rp=!0,Re.read(vx),Re.resolveKeyframes(yx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&r===void 0&&s.set(t[0])}jP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nr.delete(this)}cancel(){this.state==="scheduled"&&(Nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XP=e=>e.startsWith("--");function YP(e,t,n){XP(t)?e.style.setProperty(t,n):e.style[t]=n}const KP=_y(()=>window.ScrollTimeline!==void 0),JP={};function QP(e,t){const n=_y(e);return()=>JP[t]??n()}const _x=QP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),al=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function Sx(e,t){if(e)return typeof e=="function"?_x()?mx(e,t):"ease-out":ix(e)?al(e):Array.isArray(e)?e.map(n=>Sx(n,t)||kS.easeOut):kS[e]}function WP(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const f={[t]:n};c&&(f.offset=c);const d=Sx(o,s);Array.isArray(d)&&(f.easing=d);const m={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(f,m)}function bx(e){return typeof e=="function"&&"applyToOptions"in e}function eU({type:e,...t}){return bx(e)&&_x()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tU extends Oy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,vy(typeof t.type!="string");const u=eU(t);this.animation=WP(n,i,s,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=Ny(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):YP(n,i,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Sn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Sn(t)}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&KP()?(this.animation.timeline=t,En):n(this)}}const Tx={anticipate:Ww,backInOut:Qw,circInOut:tx};function nU(e){return e in Tx}function iU(e){typeof e.ease=="string"&&nU(e.ease)&&(e.ease=Tx[e.ease])}const Xd=10;class sU extends tU{constructor(t){iU(t),gx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Ry({...a,autoplay:!1}),c=Math.max(Xd,Rt.now()-this.startTime),u=oi(0,Xd,c-Xd);n.setWithVelocity(o.sample(Math.max(0,c-u)).value,o.sample(c).value,u),o.stop()}}const IS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hs.test(e)||e==="0")&&!e.startsWith("url("));function rU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function aU(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=IS(s,t),o=IS(r,t);return!a||!o?!1:rU(e)||(n==="spring"||bx(n))&&i}function kp(e){e.duration=0,e.type="keyframes"}const oU=new Set(["opacity","clipPath","filter","transform"]),lU=_y(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cU(e){var f;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return lU()&&n&&oU.has(n)&&(n!=="transform"||!u)&&!c&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const uU=40;class fU extends Oy{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:f,...d}){var C;super(),this.stop=()=>{var R,I;this._animation&&(this._animation.stop(),(R=this.stopTimeline)==null||R.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Rt.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:c,motionValue:u,element:f,...d},g=(f==null?void 0:f.KeyframeResolver)||Dy;this.keyframeResolver=new g(o,(R,I,b)=>this.onKeyframesResolved(R,I,m,!b),c,u,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:f}=i;this.resolvedAt=Rt.now(),aU(t,r,a,o)||((Gi.instantAnimations||!c)&&(f==null||f(Ny(t,i,n))),t[0]=t[t.length-1],kp(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>uU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},g=!u&&cU(m)?new sU({...m,element:m.motionValue.owner.current}):new Ry(m);g.finished.then(()=>this.notifyFinished()).catch(En),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),qP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const hU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dU(e){const t=hU.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function Ex(e,t,n=1){const[i,s]=dU(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return Gw(a)?parseFloat(a):a}return Ey(s)?Ex(s,t,n+1):s}function My(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ax=new Set(["width","height","top","left","right","bottom",...po]),mU={test:e=>e==="auto",parse:e=>e},wx=e=>t=>t.test(e),xx=[mo,Z,ai,is,rP,sP,mU],zS=e=>xx.find(wx(e));function pU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zw(e):!0}const gU=new Set(["brightness","contrast","saturate","opacity"]);function yU(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Ay)||[];if(!i)return e;const s=n.replace(i,"");let r=gU.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const vU=/\b([a-z-]*)\(.*?\)/gu,Ip={...Hs,getAnimatableNone:e=>{const t=e.match(vU);return t?t.map(yU).join(" "):e}},LS={...mo,transform:Math.round},_U={rotate:is,rotateX:is,rotateY:is,rotateZ:is,scale:pu,scaleX:pu,scaleY:pu,scaleZ:pu,skew:is,skewX:is,skewY:is,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Ql,originX:AS,originY:AS,originZ:Z},ky={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,inset:Z,insetBlock:Z,insetBlockStart:Z,insetBlockEnd:Z,insetInline:Z,insetInlineStart:Z,insetInlineEnd:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,paddingBlock:Z,paddingBlockStart:Z,paddingBlockEnd:Z,paddingInline:Z,paddingInlineStart:Z,paddingInlineEnd:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,marginBlock:Z,marginBlockStart:Z,marginBlockEnd:Z,marginInline:Z,marginInlineStart:Z,marginInlineEnd:Z,backgroundPositionX:Z,backgroundPositionY:Z,..._U,zIndex:LS,fillOpacity:Ql,strokeOpacity:Ql,numOctaves:LS},SU={...ky,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:Ip,WebkitFilter:Ip},Cx=e=>SU[e];function Nx(e,t){let n=Cx(e);return n!==Ip&&(n=Hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bU=new Set(["auto","none","0"]);function TU(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!bU.has(r)&&Wl(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=Nx(n,s)}class EU extends Dy{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),Ey(d))){const m=Ex(d,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ax.has(i)||t.length!==2)return;const[s,r]=t,a=zS(s),o=zS(r),c=ES(s),u=ES(r);if(c!==u&&Ss[i]){this.needsMeasurement=!0;return}if(a!==o)if(MS(a)&&MS(o))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else Ss[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||pU(t[s]))&&i.push(s);i.length&&TU(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ss[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Ss[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function AU(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Ox=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Rx(e){return $w(e)&&"offsetHeight"in e}const PS=30,wU=e=>!isNaN(parseFloat(e));class xU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=Rt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Sy);const i=this.events[t].add(n);return t==="change"?()=>{i(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PS);return qw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(e,t){return new xU(e,t)}const{schedule:Iy}=sx(queueMicrotask,!1),kn={x:!1,y:!1};function Dx(){return kn.x||kn.y}function CU(e){return e==="x"||e==="y"?kn[e]?null:(kn[e]=!0,()=>{kn[e]=!1}):kn.x||kn.y?null:(kn.x=kn.y=!0,()=>{kn.x=kn.y=!1})}function Mx(e,t){const n=AU(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function US(e){return!(e.pointerType==="touch"||Dx())}function NU(e,t,n={}){const[i,s,r]=Mx(e,n),a=o=>{if(!US(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const f=d=>{US(d)&&(u(d),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const kx=(e,t)=>t?e===t?!0:kx(e,t.parentElement):!1,zy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ix(e){return OU.has(e.tagName)||e.isContentEditable===!0}const Hu=new WeakSet;function jS(e){return t=>{t.key==="Enter"&&e(t)}}function Yd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RU=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=jS(()=>{if(Hu.has(n))return;Yd(n,"down");const s=jS(()=>{Yd(n,"up")}),r=()=>Yd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function VS(e){return zy(e)&&!Dx()}function DU(e,t,n={}){const[i,s,r]=Mx(e,n),a=o=>{const c=o.currentTarget;if(!VS(o))return;Hu.add(c);const u=t(c,o),f=(g,C)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Hu.has(c)&&Hu.delete(c),VS(g)&&typeof u=="function"&&u(g,{success:C})},d=g=>{f(g,c===window||c===document||n.useGlobalTarget||kx(c,g.target))},m=g=>{f(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),Rx(o)&&(o.addEventListener("focus",u=>RU(u,s)),!Ix(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function zx(e){return $w(e)&&"ownerSVGElement"in e}function MU(e){return zx(e)&&e.tagName==="svg"}const wt=e=>!!(e&&e.getVelocity),kU=[...xx,Je,Hs],IU=e=>kU.find(wx(e)),Ly=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function BS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zU(...e){return t=>{let n=!1;const i=e.map(s=>{const r=BS(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():BS(e[s],null)}}}}function LU(...e){return k.useCallback(zU(...e),e)}class PU extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=Rx(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UU({children:e,isPresent:t,anchorX:n,root:i}){var f;const s=k.useId(),r=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(Ly),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),u=LU(r,c);return k.useInsertionEffect(()=>{const{width:d,height:m,top:g,left:C,right:R}=a.current;if(t||!r.current||!d||!m)return;const I=n==="left"?`left: ${C}`:`right: ${R}`;r.current.dataset.motionPopId=s;const b=document.createElement("style");o&&(b.nonce=o);const v=i??document.head;return v.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${I}px !important;
            top: ${g}px !important;
          }
        `),()=>{v.contains(b)&&v.removeChild(b)}},[t]),w.jsx(PU,{isPresent:t,childRef:r,sizeRef:a,children:k.cloneElement(e,{ref:u})})}const jU=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a,anchorX:o,root:c})=>{const u=my(VU),f=k.useId();let d=!0,m=k.useMemo(()=>(d=!1,{id:f,initial:t,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const C of u.values())if(!C)return;i&&i()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,i]);return r&&d&&(m={...m}),k.useMemo(()=>{u.forEach((g,C)=>u.set(C,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),a==="popLayout"&&(e=w.jsx(UU,{isPresent:n,anchorX:o,root:c,children:e})),w.jsx(Eh.Provider,{value:m,children:e})};function VU(){return new Map}function Lx(e=!0){const t=k.useContext(Eh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=k.useId();k.useEffect(()=>{if(e)return s(r)},[e]);const a=k.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,a]:[!0]}const gu=e=>e.key||"";function HS(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const zp=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[u,f]=Lx(a),d=k.useMemo(()=>HS(e),[e]),m=a&&!u?[]:d.map(gu),g=k.useRef(!0),C=k.useRef(d),R=my(()=>new Map),I=k.useRef(new Set),[b,v]=k.useState(d),[A,O]=k.useState(d);Fw(()=>{g.current=!1,C.current=d;for(let T=0;T<A.length;T++){const y=gu(A[T]);m.includes(y)?(R.delete(y),I.current.delete(y)):R.get(y)!==!0&&R.set(y,!1)}},[A,m.length,m.join("-")]);const L=[];if(d!==b){let T=[...d];for(let y=0;y<A.length;y++){const S=A[y],E=gu(S);m.includes(E)||(T.splice(y,0,S),L.push(S))}return r==="wait"&&L.length&&(T=L),O(HS(T)),v(d),null}const{forceRender:V}=k.useContext(dy);return w.jsx(w.Fragment,{children:A.map(T=>{const y=gu(T),S=a&&!u?!1:d===A||m.includes(y),E=()=>{if(I.current.has(y))return;if(I.current.add(y),R.has(y))R.set(y,!0);else return;let x=!0;R.forEach(M=>{M||(x=!1)}),x&&(V==null||V(),O(C.current),a&&(f==null||f()),i&&i())};return w.jsx(jU,{isPresent:S,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:c,onExitComplete:S?void 0:E,anchorX:o,children:T},y)})})},Px=k.createContext({strict:!1}),FS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in FS)eo[e]={isEnabled:t=>FS[e].some(n=>!!t[n])};function BU(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const HU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HU.has(e)}let Ux=e=>!Bf(e);function FU(e){typeof e=="function"&&(Ux=t=>t.startsWith("on")?!Bf(t):e(t))}try{FU(require("@emotion/is-prop-valid").default)}catch{}function GU(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(Ux(s)||n===!0&&Bf(s)||!t&&!Bf(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Ah=k.createContext({});function wh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ec(e){return typeof e=="string"||Array.isArray(e)}const Py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uy=["initial",...Py];function xh(e){return wh(e.animate)||Uy.some(t=>ec(e[t]))}function jx(e){return!!(xh(e)||e.variants)}function $U(e,t){if(xh(e)){const{initial:n,animate:i}=e;return{initial:n===!1||ec(n)?n:void 0,animate:ec(i)?i:void 0}}return e.inherit!==!1?t:{}}function ZU(e){const{initial:t,animate:n}=$U(e,k.useContext(Ah));return k.useMemo(()=>({initial:t,animate:n}),[GS(t),GS(n)])}function GS(e){return Array.isArray(e)?e.join(" "):e}function $S(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const n=$S(e,t.target.x),i=$S(e,t.target.y);return`${n}% ${i}%`}},qU={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=Hs.parse(e);if(s.length>5)return i;const r=Hs.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=ze(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),r(s)}},Lp={borderRadius:{...Jo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jo,borderTopRightRadius:Jo,borderBottomLeftRadius:Jo,borderBottomRightRadius:Jo,boxShadow:qU};function Vx(e,{layout:t,layoutId:n}){return go.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Lp[e]||e==="opacity")}const XU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YU=po.length;function KU(e,t,n){let i="",s=!0;for(let r=0;r<YU;r++){const a=po[r],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=Ox(o,ky[a]);if(!c){s=!1;const f=XU[a]||a;i+=`${f}(${u}) `}n&&(t[a]=u)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function jy(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(go.has(c)){a=!0;continue}else if(ax(c)){s[c]=u;continue}else{const f=Ox(u,ky[c]);c.startsWith("origin")?(o=!0,r[c]=f):i[c]=f}}if(t.transform||(a||n?i.transform=KU(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:f=0}=r;i.transformOrigin=`${c} ${u} ${f}`}}const Vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Bx(e,t,n){for(const i in t)!wt(t[i])&&!Vx(i,n)&&(e[i]=t[i])}function JU({transformTemplate:e},t){return k.useMemo(()=>{const n=Vy();return jy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function QU(e,t){const n=e.style||{},i={};return Bx(i,n,e),Object.assign(i,JU(e,t)),i}function WU(e,t){const n={},i=QU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const e9={offset:"stroke-dashoffset",array:"stroke-dasharray"},t9={offset:"strokeDashoffset",array:"strokeDasharray"};function n9(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?e9:t9;e[r.offset]=Z.transform(-i);const a=Z.transform(t),o=Z.transform(n);e[r.array]=`${a} ${o}`}const i9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Hx(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},c,u,f){if(jy(e,o,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox);for(const g of i9)d[g]!==void 0&&(m[g]=d[g],delete d[g]);t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),s!==void 0&&n9(d,s,r,a,!1)}const Fx=()=>({...Vy(),attrs:{}}),Gx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function s9(e,t,n,i){const s=k.useMemo(()=>{const r=Fx();return Hx(r,t,Gx(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};Bx(r,e.style,e),s.style={...r,...s.style}}return s}const r9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(e){return typeof e!="string"||e.includes("-")?!1:!!(r9.indexOf(e)>-1||/[A-Z]/u.test(e))}function a9(e,t,n,{latestValues:i},s,r=!1,a){const c=(a??By(e)?s9:WU)(t,i,s,e),u=GU(t,typeof e=="string",r),f=e!==k.Fragment?{...u,...c,ref:n}:{},{children:d}=t,m=k.useMemo(()=>wt(d)?d.get():d,[d]);return k.createElement(e,{...f,children:m})}function ZS(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Hy(e,t,n,i){if(typeof t=="function"){const[s,r]=ZS(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=ZS(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function Fu(e){return wt(e)?e.get():e}function o9({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:l9(n,i,s,e),renderState:t()}}function l9(e,t,n,i){const s={},r=i(e,{});for(const m in r)s[m]=Fu(r[m]);let{initial:a,animate:o}=e;const c=xh(e),u=jx(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const d=f?o:a;if(d&&typeof d!="boolean"&&!wh(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const C=Hy(e,m[g]);if(C){const{transitionEnd:R,transition:I,...b}=C;for(const v in b){let A=b[v];if(Array.isArray(A)){const O=f?A.length-1:0;A=A[O]}A!==null&&(s[v]=A)}for(const v in R)s[v]=R[v]}}}return s}const $x=e=>(t,n)=>{const i=k.useContext(Ah),s=k.useContext(Eh),r=()=>o9(e,t,i,s);return n?r():my(r)};function Fy(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(wt(i[a])||t.style&&wt(t.style[a])||Vx(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const c9=$x({scrapeMotionValuesFromProps:Fy,createRenderState:Vy});function Zx(e,t,n){const i=Fy(e,t,n);for(const s in e)if(wt(e[s])||wt(t[s])){const r=po.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}const u9=$x({scrapeMotionValuesFromProps:Zx,createRenderState:Fx}),f9=Symbol.for("motionComponentSymbol");function h9(e,t,n){const i=k.useRef(n);k.useInsertionEffect(()=>{i.current=n});const s=k.useRef(null);return k.useCallback(r=>{var o;r&&((o=e.onMount)==null||o.call(e,r)),t&&(r?t.mount(r):t.unmount());const a=i.current;if(typeof a=="function")if(r){const c=a(r);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):a(r);else a&&(a.current=r)},[t])}const Gy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d9="framerAppearId",qx="data-"+Gy(d9),Xx=k.createContext({});function ol(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function m9(e,t,n,i,s,r){var I,b;const{visualElement:a}=k.useContext(Ah),o=k.useContext(Px),c=k.useContext(Eh),u=k.useContext(Ly).reducedMotion,f=k.useRef(null);i=i||o.renderer,!f.current&&i&&(f.current=i(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:r}));const d=f.current,m=k.useContext(Xx);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&p9(f.current,n,s,m);const g=k.useRef(!1);k.useInsertionEffect(()=>{d&&g.current&&d.update(n,c)});const C=n[qx],R=k.useRef(!!C&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,C))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,C)));return Fw(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),R.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!R.current&&d.animationState&&d.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,C)}),R.current=!1),d.enteringChildren=void 0)}),d}function p9(e,t,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yx(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&ol(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:c,layoutRoot:u})}function Yx(e){if(e)return e.options.allowProjection!==!1?e.projection:Yx(e.parent)}function Kd(e,{forwardMotionProps:t=!1,type:n}={},i,s){i&&BU(i);const r=n?n==="svg":By(e),a=r?u9:c9;function o(u,f){let d;const m={...k.useContext(Ly),...u,layoutId:g9(u)},{isStatic:g}=m,C=ZU(u),R=a(u,g);if(!g&&py){y9();const I=v9(m);d=I.MeasureLayout,C.visualElement=m9(e,R,m,s,I.ProjectionNode,r)}return w.jsxs(Ah.Provider,{value:C,children:[d&&C.visualElement?w.jsx(d,{visualElement:C.visualElement,...m}):null,a9(e,u,h9(R,C.visualElement,f),R,g,t,r)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=k.forwardRef(o);return c[f9]=e,c}function g9({layoutId:e}){const t=k.useContext(dy).id;return t&&e!==void 0?t+"-"+e:e}function y9(e,t){k.useContext(Px).strict}function v9(e){const{drag:t,layout:n}=eo;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function _9(e,t){if(typeof Proxy>"u")return Kd;const n=new Map,i=(r,a)=>Kd(r,a,e,t),s=(r,a)=>i(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,Kd(a,void 0,e,t)),n.get(a))})}function Kx({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function S9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function b9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Jd(e){return e===void 0||e===1}function Pp({scale:e,scaleX:t,scaleY:n}){return!Jd(e)||!Jd(t)||!Jd(n)}function gr(e){return Pp(e)||Jx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Jx(e){return qS(e.x)||qS(e.y)}function qS(e){return e&&e!=="0%"}function Hf(e,t,n){const i=e-n,s=t*i;return n+s}function XS(e,t,n,i,s){return s!==void 0&&(e=Hf(e,s,i)),Hf(e,n,i)+t}function Up(e,t=0,n=1,i,s){e.min=XS(e.min,t,n,i,s),e.max=XS(e.max,t,n,i,s)}function Qx(e,{x:t,y:n}){Up(e.x,t.translate,t.scale,t.originPoint),Up(e.y,n.translate,n.scale,n.originPoint)}const YS=.999999999999,KS=1.0000000000001;function T9(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Ta(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Qx(e,a)),i&&gr(r.latestValues)&&Ta(e,r.latestValues))}t.x<KS&&t.x>YS&&(t.x=1),t.y<KS&&t.y>YS&&(t.y=1)}function ba(e,t){e.min=e.min+t,e.max=e.max+t}function JS(e,t,n,i,s=.5){const r=ze(e.min,e.max,s);Up(e,t,n,r,i)}function Ta(e,t){JS(e.x,t.x,t.scaleX,t.scale,t.originX),JS(e.y,t.y,t.scaleY,t.scale,t.originY)}function Wx(e,t){return Kx(b9(e.getBoundingClientRect(),t))}function E9(e,t,n){const i=Wx(e,n),{scroll:s}=t;return s&&(ba(i.x,s.offset.x),ba(i.y,s.offset.y)),i}const QS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ea=()=>({x:QS(),y:QS()}),WS=()=>({min:0,max:0}),rt=()=>({x:WS(),y:WS()}),jp={current:null},eC={current:!1};function A9(){if(eC.current=!0,!!py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jp.current=e.matches;e.addEventListener("change",t),t()}else jp.current=!1}const w9=new WeakMap;function x9(e,t,n){for(const i in t){const s=t[i],r=n[i];if(wt(s))e.addValue(i,s);else if(wt(r))e.addValue(i,Wa(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Wa(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const eb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C9{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Rt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Re.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=xh(n),this.isVariantNode=jx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];c[m]!==void 0&&wt(g)&&g.set(c[m])}}mount(t){var n;this.current=t,w9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(eC.current||A9(),this.shouldReduceMotion=jp.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=go.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Re.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const n=eo[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<eb.length;i++){const s=eb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=x9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Wa(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Gw(i)||Zw(i))?i=parseFloat(i):!IU(i)&&Hs.test(n)&&(i=Nx(t,n)),this.setBaseTarget(t,wt(i)?i.get():i)),wt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=Hy(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!wt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Sy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Iy.render(this.render)}}class tC extends C9{constructor(){super(...arguments),this.KeyframeResolver=EU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nC(e,{style:t,vars:n},i,s){const r=e.style;let a;for(a in t)r[a]=t[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function N9(e){return window.getComputedStyle(e)}class O9 extends tC{constructor(){super(...arguments),this.type="html",this.renderInstance=nC}readValueFromInstance(t,n){var i;if(go.has(n))return(i=this.projection)!=null&&i.isProjecting?Np(n):HP(t,n);{const s=N9(t),r=(ax(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Wx(t,n)}build(t,n,i){jy(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Fy(t,n,i)}}const iC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R9(e,t,n,i){nC(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(iC.has(s)?s:Gy(s),t.attrs[s])}class D9 extends tC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(go.has(n)){const i=Cx(n);return i&&i.default||0}return n=iC.has(n)?n:Gy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Zx(t,n,i)}build(t,n,i){Hx(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){R9(t,n,i,s)}mount(t){this.isSVGTag=Gx(t.tagName),super.mount(t)}}const M9=(e,t)=>t.isSVG??By(e)?new D9(t):new O9(t,{allowProjection:e!==k.Fragment});function La(e,t,n){const i=e.getProps();return Hy(i,t,n!==void 0?n:i.custom,e)}const Vp=e=>Array.isArray(e);function k9(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wa(n))}function I9(e){return Vp(e)?e[e.length-1]||0:e}function z9(e,t){const n=La(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=I9(r[a]);k9(e,a,o)}}function L9(e){return!!(wt(e)&&e.add)}function Bp(e,t){const n=e.getValue("willChange");if(L9(n))return n.add(t);if(!n&&Gi.WillChange){const i=new Gi.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function sC(e){return e.props[qx]}const P9=e=>e!==null;function U9(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(P9),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const j9={type:"spring",stiffness:500,damping:25,restSpeed:10},V9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),B9={type:"keyframes",duration:.8},H9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F9=(e,{keyframes:t})=>t.length>2?B9:go.has(e)?e.startsWith("scale")?V9(t[1]):j9:H9;function G9({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const $y=(e,t,n,i={},s,r)=>a=>{const o=My(i,e)||{},c=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-zi(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};G9(o)||Object.assign(f,F9(e,f)),f.duration&&(f.duration=zi(f.duration)),f.repeatDelay&&(f.repeatDelay=zi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(kp(f),f.delay===0&&(d=!0)),(Gi.instantAnimations||Gi.skipAnimations)&&(d=!0,kp(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,d&&!r&&t.get()!==void 0){const m=U9(f.keyframes,o);if(m!==void 0){Re.update(()=>{f.onUpdate(m),f.onComplete()});return}}return o.isSync?new Ry(f):new fU(f)};function $9({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function rC(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(r=i);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const d=e.getValue(f,e.latestValues[f]??null),m=o[f];if(m===void 0||u&&$9(u,f))continue;const g={delay:n,...My(r||{},f)},C=d.get();if(C!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===C&&!g.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const b=sC(e);if(b){const v=window.MotionHandoffAnimation(b,f,Re);v!==null&&(g.startTime=v,R=!0)}}Bp(e,f),d.start($y(f,d,m,e.shouldReduceMotion&&Ax.has(f)?{type:!1}:g,e,R));const I=d.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{Re.update(()=>{a&&z9(e,a)})}),c}function aC(e,t,n,i=0,s=1){const r=Array.from(e).sort((u,f)=>u.sortNodePosition(f)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(r,a):s===1?r*i:o-r*i}function Hp(e,t,n={}){var c;const i=La(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(rC(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=s;return Z9(e,t,u,f,d,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[u,f]=o==="beforeChildren"?[r,a]:[a,r];return u().then(()=>f())}else return Promise.all([r(),a(n.delay)])}function Z9(e,t,n=0,i=0,s=0,r=1,a){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(Hp(c,t,{...a,delay:n+(typeof i=="function"?0:i)+aC(e.variantChildren,c,i,s,r)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function q9(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>Hp(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=Hp(e,t,n);else{const s=typeof t=="function"?La(e,t,n.custom):t;i=Promise.all(rC(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function oC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const X9=Uy.length;function lC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?lC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<X9;n++){const i=Uy[n],s=e.props[i];(ec(s)||s===!1)&&(t[i]=s)}return t}const Y9=[...Py].reverse(),K9=Py.length;function J9(e){return t=>Promise.all(t.map(({animation:n,options:i})=>q9(e,n,i)))}function Q9(e){let t=J9(e),n=tb(),i=!0;const s=c=>(u,f)=>{var m;const d=La(e,f,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:C,...R}=d;u={...u,...R,...C}}return u};function r(c){t=c(e)}function a(c){const{props:u}=e,f=lC(e.parent)||{},d=[],m=new Set;let g={},C=1/0;for(let I=0;I<K9;I++){const b=Y9[I],v=n[b],A=u[b]!==void 0?u[b]:f[b],O=ec(A),L=b===c?v.isActive:null;L===!1&&(C=I);let V=A===f[b]&&A!==u[b]&&O;if(V&&i&&e.manuallyAnimateOnMount&&(V=!1),v.protectedKeys={...g},!v.isActive&&L===null||!A&&!v.prevProp||wh(A)||typeof A=="boolean")continue;const T=W9(v.prevProp,A);let y=T||b===c&&v.isActive&&!V&&O||I>C&&O,S=!1;const E=Array.isArray(A)?A:[A];let x=E.reduce(s(b),{});L===!1&&(x={});const{prevResolvedValues:M={}}=v,N={...M,...x},se=G=>{y=!0,m.has(G)&&(S=!0,m.delete(G)),v.needsAnimating[G]=!0;const q=e.getValue(G);q&&(q.liveStyle=!1)};for(const G in N){const q=x[G],ee=M[G];if(g.hasOwnProperty(G))continue;let ce=!1;Vp(q)&&Vp(ee)?ce=!oC(q,ee):ce=q!==ee,ce?q!=null?se(G):m.add(G):q!==void 0&&m.has(G)?se(G):v.protectedKeys[G]=!0}v.prevProp=A,v.prevResolvedValues=x,v.isActive&&(g={...g,...x}),i&&e.blockInitialAnimation&&(y=!1);const ae=V&&T;y&&(!ae||S)&&d.push(...E.map(G=>{const q={type:b};if(typeof G=="string"&&i&&!ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:ee}=e,ce=La(ee,G);if(ee.enteringChildren&&ce){const{delayChildren:ge}=ce.transition||{};q.delay=aC(ee.enteringChildren,e,ge)}}return{animation:G,options:q}}))}if(m.size){const I={};if(typeof u.initial!="boolean"){const b=La(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(I.transition=b.transition)}m.forEach(b=>{const v=e.getBaseTarget(b),A=e.getValue(b);A&&(A.liveStyle=!0),I[b]=v??null}),d.push({animation:I})}let R=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(d):Promise.resolve()}function o(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=tb()}}}function W9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oC(t,e):!1}function ur(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tb(){return{animate:ur(!0),whileInView:ur(),whileHover:ur(),whileTap:ur(),whileDrag:ur(),whileFocus:ur(),exit:ur()}}class qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ej extends qs{constructor(t){super(t),t.animationState||(t.animationState=Q9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tj=0;class nj extends qs{constructor(){super(...arguments),this.id=tj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ij={animation:{Feature:ej},exit:{Feature:nj}};function tc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Ec(e){return{point:{x:e.pageX,y:e.pageY}}}const sj=e=>t=>zy(t)&&e(t,Ec(t));function Ol(e,t,n,i){return tc(e,t,sj(n),i)}const cC=1e-4,rj=1-cC,aj=1+cC,uC=.01,oj=0-uC,lj=0+uC;function Dt(e){return e.max-e.min}function cj(e,t,n){return Math.abs(e-t)<=n}function nb(e,t,n,i=.5){e.origin=i,e.originPoint=ze(t.min,t.max,e.origin),e.scale=Dt(n)/Dt(t),e.translate=ze(n.min,n.max,e.origin)-e.originPoint,(e.scale>=rj&&e.scale<=aj||isNaN(e.scale))&&(e.scale=1),(e.translate>=oj&&e.translate<=lj||isNaN(e.translate))&&(e.translate=0)}function Rl(e,t,n,i){nb(e.x,t.x,n.x,i?i.originX:void 0),nb(e.y,t.y,n.y,i?i.originY:void 0)}function ib(e,t,n){e.min=n.min+t.min,e.max=e.min+Dt(t)}function uj(e,t,n){ib(e.x,t.x,n.x),ib(e.y,t.y,n.y)}function sb(e,t,n){e.min=t.min-n.min,e.max=e.min+Dt(t)}function Ff(e,t,n){sb(e.x,t.x,n.x),sb(e.y,t.y,n.y)}function un(e){return[e("x"),e("y")]}const fC=({current:e})=>e?e.ownerDocument.defaultView:null,rb=(e,t)=>Math.abs(e-t);function fj(e,t){const n=rb(e.x,t.x),i=rb(e.y,t.y);return Math.sqrt(n**2+i**2)}const ab=new Set(["auto","scroll"]);class hC{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Wd(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,R=fj(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!R)return;const{point:I}=g,{timestamp:b}=yt;this.history.push({...I,timestamp:b});const{onStart:v,onMove:A}=this.handlers;C||(v&&v(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,C)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Qd(C,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(g,C)=>{this.end();const{onEnd:R,onSessionEnd:I,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Wd(g.type==="pointercancel"?this.lastMoveEventInfo:Qd(C,this.transformPagePoint),this.history);this.startEvent&&R&&R(g,v),I&&I(g,v)},!zy(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const c=Ec(t),u=Qd(c,this.transformPagePoint),{point:f}=u,{timestamp:d}=yt;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(t,Wd(u,this.history)),this.removeListeners=Sc(Ol(this.contextWindow,"pointermove",this.handlePointerMove),Ol(this.contextWindow,"pointerup",this.handlePointerUp),Ol(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const i=getComputedStyle(n);(ab.has(i.overflowX)||ab.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const i=t===window,s=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},r={x:s.x-n.x,y:s.y-n.y};r.x===0&&r.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(t,s),Re.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Bs(this.updatePoint)}}function Qd(e,t){return t?{point:t(e.point)}:e}function ob(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wd({point:e},t){return{point:e,delta:ob(e,dC(t)),offset:ob(e,hj(t)),velocity:dj(t,.1)}}function hj(e){return e[0]}function dC(e){return e[e.length-1]}function dj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=dC(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>zi(t)));)n--;if(!i)return{x:0,y:0};const r=Sn(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function mj(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ze(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ze(n,e,i.max):Math.min(e,n)),e}function lb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pj(e,{top:t,left:n,bottom:i,right:s}){return{x:lb(e.x,n,s),y:lb(e.y,t,i)}}function cb(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function gj(e,t){return{x:cb(e.x,t.x),y:cb(e.y,t.y)}}function yj(e,t){let n=.5;const i=Dt(e),s=Dt(t);return s>i?n=Jl(t.min,t.max-i,e.min):i>s&&(n=Jl(e.min,e.max-s,t.min)),oi(0,1,n)}function vj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fp=.35;function _j(e=Fp){return e===!1?e=0:e===!0&&(e=Fp),{x:ub(e,"left","right"),y:ub(e,"top","bottom")}}function ub(e,t,n){return{min:fb(e,t),max:fb(e,n)}}function fb(e,t){return typeof e=="number"?e:e[t]||0}const Sj=new WeakMap;class bj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{n?(this.stopAnimation(),this.snapToCursor(Ec(d).point)):this.pauseAnimation()},a=(d,m)=>{this.stopAnimation();const{drag:g,dragPropagation:C,onDragStart:R}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CU(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(b=>{let v=this.getAxisMotionValue(b).get()||0;if(ai.test(v)){const{projection:A}=this.visualElement;if(A&&A.layout){const O=A.layout.layoutBox[b];O&&(v=Dt(O)*(parseFloat(v)/100))}}this.originPoint[b]=v}),R&&Re.postRender(()=>R(d,m)),Bp(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:R,onDrag:I}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:b}=m;if(C&&this.currentDirection===null){this.currentDirection=Tj(b),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),I&&I(d,m)},c=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>un(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new hC(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:fC(this.visualElement),element:this.visualElement.current})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Re.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!yu(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=mj(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&ol(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=pj(i.layoutBox,t):this.constraints=!1,this.elastic=_j(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&un(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=vj(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ol(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=E9(i,s.root,this.visualElement.getTransformPagePoint());let a=gj(s.layout.layoutBox,r);if(n){const o=n(S9(a));this.hasMutatedConstraints=!!o,o&&(a=Kx(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=un(f=>{if(!yu(f,n,this.currentDirection))return;let d=c&&c[f]||{};a&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,C={type:"inertia",velocity:i?t[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(f,C)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return Bp(this.visualElement,t),i.start($y(t,i,0,n,this.visualElement,!1))}stopAnimation(){un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){un(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){un(n=>{const{drag:i}=this.getProps();if(!yu(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],c=r.get()||0;r.set(t[n]-ze(a,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!ol(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};un(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=yj({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),un(a=>{if(!yu(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(ze(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Sj.set(this.visualElement,this);const t=this.visualElement.current,n=Ol(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&!Ix(c.target)&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();ol(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Re.read(i);const a=tc(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(un(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Fp,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function yu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ej extends qs{constructor(t){super(t),this.removeGroupControls=En,this.removeListeners=En,this.controls=new bj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const hb=e=>(t,n)=>{e&&Re.postRender(()=>e(t,n))};class Aj extends qs{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(t){this.session=new hC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:hb(t),onStart:hb(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Re.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Ol(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let em=!1;class wj extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),em&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,em=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||Re.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Iy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;em=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mC(e){const[t,n]=Lx(),i=k.useContext(dy);return w.jsx(wj,{...e,layoutGroup:i,switchLayoutGroup:k.useContext(Xx),isPresent:t,safeToRemove:n})}function xj(e,t,n){const i=wt(e)?e:Wa(e);return i.start($y("",i,t,n)),i.animation}const Cj=(e,t)=>e.depth-t.depth;class Nj{constructor(){this.children=[],this.isDirty=!1}add(t){gy(this.children,t),this.isDirty=!0}remove(t){yy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Cj),this.isDirty=!1,this.children.forEach(t)}}function Oj(e,t){const n=Rt.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(Bs(i),e(r-t))};return Re.setup(i,!0),()=>Bs(i)}const pC=["TopLeft","TopRight","BottomLeft","BottomRight"],Rj=pC.length,db=e=>typeof e=="string"?parseFloat(e):e,mb=e=>typeof e=="number"||Z.test(e);function Dj(e,t,n,i,s,r){s?(e.opacity=ze(0,n.opacity??1,Mj(i)),e.opacityExit=ze(t.opacity??1,0,kj(i))):r&&(e.opacity=ze(t.opacity??1,n.opacity??1,i));for(let a=0;a<Rj;a++){const o=`border${pC[a]}Radius`;let c=pb(t,o),u=pb(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mb(c)===mb(u)?(e[o]=Math.max(ze(db(c),db(u),i),0),(ai.test(u)||ai.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=ze(t.rotate||0,n.rotate||0,i))}function pb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mj=gC(0,.5,ex),kj=gC(.5,.95,En);function gC(e,t,n){return i=>i<e?0:i>t?1:n(Jl(e,t,i))}function gb(e,t){e.min=t.min,e.max=t.max}function Dn(e,t){gb(e.x,t.x),gb(e.y,t.y)}function yb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function vb(e,t,n,i,s){return e-=t,e=Hf(e,1/n,i),s!==void 0&&(e=Hf(e,1/s,i)),e}function Ij(e,t=0,n=1,i=.5,s,r=e,a=e){if(ai.test(t)&&(t=parseFloat(t),t=ze(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ze(r.min,r.max,i);e===r&&(o-=t),e.min=vb(e.min,t,n,o,s),e.max=vb(e.max,t,n,o,s)}function _b(e,t,[n,i,s],r,a){Ij(e,t[n],t[i],t[s],t.scale,r,a)}const zj=["x","scaleX","originX"],Lj=["y","scaleY","originY"];function Sb(e,t,n,i){_b(e.x,t,zj,n?n.x:void 0,i?i.x:void 0),_b(e.y,t,Lj,n?n.y:void 0,i?i.y:void 0)}function bb(e){return e.translate===0&&e.scale===1}function yC(e){return bb(e.x)&&bb(e.y)}function Tb(e,t){return e.min===t.min&&e.max===t.max}function Pj(e,t){return Tb(e.x,t.x)&&Tb(e.y,t.y)}function Eb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vC(e,t){return Eb(e.x,t.x)&&Eb(e.y,t.y)}function Ab(e){return Dt(e.x)/Dt(e.y)}function wb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Uj{constructor(){this.members=[]}add(t){gy(this.members,t),t.scheduleRender()}remove(t){if(yy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jj(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:d,rotateY:m,skewX:g,skewY:C}=n;u&&(i=`perspective(${u}px) ${i}`),f&&(i+=`rotate(${f}deg) `),d&&(i+=`rotateX(${d}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),C&&(i+=`skewY(${C}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(i+=`scale(${o}, ${c})`),i||"none"}const tm=["","X","Y","Z"],Vj=1e3;let Bj=0;function nm(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function _C(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Re,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&_C(i)}function SC({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=Bj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gj),this.nodes.forEach(Xj),this.nodes.forEach(Yj),this.nodes.forEach($j)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nj)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Sy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zx(a)&&!MU(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let f,d=0;const m=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{d=window.innerWidth}),e(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,f&&f(),f=Oj(m,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(Nb)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||u.getDefaultTransition()||eV,{onLayoutAnimationStart:R,onLayoutAnimationComplete:I}=u.getProps(),b=!this.targetLayout||!vC(this.targetLayout,g),v=!d&&m;if(this.options.layoutRoot||this.resumeFrom||v||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...My(C,"layout"),onPlay:R,onComplete:I};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(f,v)}else d||Nb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kj),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qj),this.nodes.forEach(Hj),this.nodes.forEach(Fj)):this.nodes.forEach(Cb),this.clearAllSnapshots();const o=Rt.now();yt.delta=oi(0,1e3/60,o-yt.timestamp),yt.timestamp=o,yt.isProcessing=!0,Fd.update.process(yt),Fd.preRender.process(yt),Fd.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zj),this.sharedNodes.forEach(Jj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yC(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||gr(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),tV(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(nV))){const{scroll:f}=this.root;f&&(ba(o.x,f.offset.x),ba(o.y,f.offset.y))}return o}removeElementScroll(a){var c;const o=rt();if(Dn(o,a),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Dn(o,a),ba(o.x,d.offset.x),ba(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const c=rt();Dn(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ta(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),gr(f.latestValues)&&Ta(c,f.latestValues)}return gr(this.latestValues)&&Ta(c,this.latestValues),c}removeTransform(a){const o=rt();Dn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gr(u.latestValues))continue;Pp(u.latestValues)&&u.updateSnapshot();const f=rt(),d=u.measurePageBox();Dn(f,d),Sb(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return gr(this.latestValues)&&Sb(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!this.layout||!(f||d))return;this.resolvedRelativeTargetAt=yt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),Qx(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pp(this.parent.latestValues)||Jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ff(this.relativeTargetOrigin,o,c),Dn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Dn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;T9(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yb(this.prevProjectionDelta.x,this.projectionDelta.x),yb(this.prevProjectionDelta.y,this.projectionDelta.y)),Rl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!wb(this.projectionDelta.x,this.prevProjectionDelta.x)||!wb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ea(),this.projectionDelta=Ea(),this.projectionDeltaWithTransform=Ea()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=Ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=rt(),g=c?c.source:void 0,C=this.layout?this.layout.source:void 0,R=g!==C,I=this.getStack(),b=!I||I.members.length<=1,v=!!(R&&!b&&this.options.crossfade===!0&&!this.path.some(Wj));this.animationProgress=0;let A;this.mixTargetDelta=O=>{const L=O/1e3;Ob(d.x,a.x,L),Ob(d.y,a.y,L),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ff(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qj(this.relativeTarget,this.relativeTargetOrigin,m,L),A&&Pj(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=rt()),Dn(A,this.relativeTarget)),R&&(this.animationValues=f,Dj(f,u,this.latestValues,L,v,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=xj(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:f}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&bC(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const d=Dt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const m=Dt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Dn(o,c),Ta(o,f),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Uj),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&nm("z",a,u,this.animationValues);for(let f=0;f<tm.length;f++)nm(`rotate${tm[f]}`,a,u,this.animationValues),nm(`skew${tm[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Fu(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Fu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=jj(this.projectionDeltaWithTransform,this.treeScale,f);c&&(d=c(f,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const C in Lp){if(f[C]===void 0)continue;const{correct:R,applyTo:I,isCSSVariable:b}=Lp[C],v=d==="none"?f[C]:R(f[C],u);if(I){const A=I.length;for(let O=0;O<A;O++)a[I[O]]=v}else b?this.options.visualElement.renderState.vars[C]=v:a[C]=v}this.options.layoutId&&(a.pointerEvents=u===this?Fu(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(xb),this.root.sharedNodes.clear()}}}function Hj(e){e.updateLayout()}function Fj(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?un(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Dt(m);m.min=i[d].min,m.max=m.min+g}):bC(r,t.layoutBox,i)&&un(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Dt(i[d]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const o=Ea();Rl(o,i,t.layoutBox);const c=Ea();a?Rl(c,e.applyTransform(s,!0),t.measuredBox):Rl(c,i,t.layoutBox);const u=!yC(o);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const C=rt();Ff(C,t.layoutBox,m.layoutBox);const R=rt();Ff(R,i,g.layoutBox),vC(C,R)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=R,e.relativeTargetOrigin=C,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function Gj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $j(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zj(e){e.clearSnapshot()}function xb(e){e.clearMeasurements()}function Cb(e){e.isLayoutDirty=!1}function qj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Nb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xj(e){e.resolveTargetDelta()}function Yj(e){e.calcProjection()}function Kj(e){e.resetSkewAndRotation()}function Jj(e){e.removeLeadSnapshot()}function Ob(e,t,n){e.translate=ze(t.translate,0,n),e.scale=ze(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Rb(e,t,n,i){e.min=ze(t.min,n.min,i),e.max=ze(t.max,n.max,i)}function Qj(e,t,n,i){Rb(e.x,t.x,n.x,i),Rb(e.y,t.y,n.y,i)}function Wj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eV={duration:.45,ease:[.4,0,.1,1]},Db=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mb=Db("applewebkit/")&&!Db("chrome/")?Math.round:En;function kb(e){e.min=Mb(e.min),e.max=Mb(e.max)}function tV(e){kb(e.x),kb(e.y)}function bC(e,t,n){return e==="position"||e==="preserve-aspect"&&!cj(Ab(t),Ab(n),.2)}function nV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const iV=SC({attachResizeListener:(e,t)=>tc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),im={current:void 0},TC=SC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!im.current){const e=new iV({});e.mount(window),e.setOptions({layoutScroll:!0}),im.current=e}return im.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sV={pan:{Feature:Aj},drag:{Feature:Ej,ProjectionNode:TC,MeasureLayout:mC}};function Ib(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Re.postRender(()=>r(t,Ec(t)))}class rV extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=NU(t,(n,i)=>(Ib(this.node,i,"Start"),s=>Ib(this.node,s,"End"))))}unmount(){}}class aV extends qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zb(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Re.postRender(()=>r(t,Ec(t)))}class oV extends qs{mount(){const{current:t}=this.node;t&&(this.unmount=DU(t,(n,i)=>(zb(this.node,i,"Start"),(s,{success:r})=>zb(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gp=new WeakMap,sm=new WeakMap,lV=e=>{const t=Gp.get(e.target);t&&t(e)},cV=e=>{e.forEach(lV)};function uV({root:e,...t}){const n=e||document;sm.has(n)||sm.set(n,{});const i=sm.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(cV,{root:e,...t})),i[s]}function fV(e,t,n){const i=uV(t);return Gp.set(e,n),i.observe(e),()=>{Gp.delete(e),i.unobserve(e)}}const hV={some:0,all:1};class dV extends qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:hV[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),m=u?f:d;m&&m(c)};return fV(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mV(t,n))&&this.startObserver()}unmount(){}}function mV({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pV={inView:{Feature:dV},tap:{Feature:oV},focus:{Feature:aV},hover:{Feature:rV}},gV={layout:{ProjectionNode:TC,MeasureLayout:mC}},yV={...ij,...pV,...sV,...gV},Gf=_9(yV,M9);function vV({xp:e,level:t,compact:n=!1}){const i=HE(e,t);return n?w.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[w.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),w.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:w.jsx("span",{className:"text-sm font-bold text-white",children:t})}),w.jsxs("div",{className:"flex-1 min-w-[80px]",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[w.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),w.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),w.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:w.jsx(Gf.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function _V({streak:e}){return e===0?null:w.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[w.jsx("span",{className:"text-orange-400",children:""}),w.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function SV({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:s}=_R(e);return w.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[w.jsx("span",{className:"text-sm",children:s}),t&&w.jsx("span",{className:"text-xs",children:n})]})}function bV({onImportSuccess:e}){const[t,n]=k.useState(!1),[i,s]=k.useState(null),[r,a]=k.useState(!1),o=k.useRef(null),c=cR(),u=()=>{aR(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},f=()=>{var m;(m=o.current)==null||m.click()},d=async m=>{var R;const g=(R=m.target.files)==null?void 0:R[0];if(!g)return;a(!0),s(null);const C=await lR(g);a(!1),s({type:C.success?"success":"error",text:C.message}),C.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),o.current&&(o.current.value="")};return w.jsxs("div",{className:"relative",children:[w.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:w.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),w.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[w.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),c&&w.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[w.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),w.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[w.jsxs("span",{className:"text-accent-400 font-semibold",children:[c.totalXP," XP"]}),w.jsxs("span",{className:"text-dark-300",children:["Level ",c.level]}),w.jsxs("span",{className:"text-dark-400",children:[c.sectionsCompleted," sections"]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("button",{onClick:u,disabled:!c,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),w.jsxs("button",{onClick:f,disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r?"Importing...":"Import Backup"]}),w.jsx("input",{ref:o,type:"file",accept:".json",onChange:d,className:"hidden"})]}),i&&w.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),w.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const TV={progress:"",mastery:"",dedication:"",exploration:""};function EV({notification:e,onDismiss:t}){return k.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),w.jsx(Gf.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:w.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:TV[e.category]||""}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),w.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),w.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),w.jsxs("div",{className:"text-right",children:[w.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),w.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),w.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function AV({notifications:e,onDismiss:t}){return w.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:w.jsx(zp,{mode:"popLayout",children:e.map(n=>w.jsx(EV,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$p.apply(this,arguments)}var Lb;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lb||(Lb={}));function jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pb(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function AC(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var Ub;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ub||(Ub={}));function jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=wV(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((u,f,d)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let R=o[d]||"";a=r.slice(0,r.length-R.length).replace(/(.)\/+$/,"$1")}const C=o[d];return g&&!C?u[m]=void 0:u[m]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:a,pattern:e}}function wV(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),EC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function $f(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const xV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CV=e=>xV.test(e);function NV(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?AC(e):e,r;if(n)if(CV(n))r=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),EC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?r=Vb(n.substring(1),"/"):r=Vb(n,t)}else r=t;return{pathname:r,search:RV(i),hash:DV(s)}}function Vb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wC(e,t){let n=OV(e);return t?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function xC(e,t,n,i){i===void 0&&(i=!1);let s;typeof e=="string"?s=AC(e):(s=$p({},e),jn(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),jn(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),jn(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let r=e===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let d=t.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}o=d>=0?t[d]:"/"}let c=NV(s,o),u=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const CC=e=>e.join("/").replace(/\/\/+/g,"/"),RV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NC=["post","put","patch","delete"];new Set(NC);const MV=["get",...NC];new Set(MV);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zp.apply(this,arguments)}const Zy=k.createContext(null),kV=k.createContext(null),yo=k.createContext(null),OC=k.createContext(null),Ch=k.createContext({outlet:null,matches:[],isDataRoute:!1});function IV(e,t){let{relative:n}=t===void 0?{}:t;qy()||jn(!1);let{basename:i,navigator:s}=k.useContext(yo),{hash:r,pathname:a,search:o}=Oh(e,{relative:n}),c=a;return i!=="/"&&(c=a==="/"?i:CC([i,a])),s.createHref({pathname:c,search:o,hash:r})}function qy(){return k.useContext(OC)!=null}function Nh(){return qy()||jn(!1),k.useContext(OC).location}function RC(e){k.useContext(yo).static||k.useLayoutEffect(e)}function zV(){let{isDataRoute:e}=k.useContext(Ch);return e?VV():LV()}function LV(){qy()||jn(!1);let e=k.useContext(Zy),{basename:t,future:n,navigator:i}=k.useContext(yo),{matches:s}=k.useContext(Ch),{pathname:r}=Nh(),a=JSON.stringify(wC(s,n.v7_relativeSplatPath)),o=k.useRef(!1);return RC(()=>{o.current=!0}),k.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let d=xC(u,JSON.parse(a),r,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:CC([t,d.pathname])),(f.replace?i.replace:i.push)(d,f.state,f)},[t,i,a,r,e])}function Oh(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=k.useContext(yo),{matches:s}=k.useContext(Ch),{pathname:r}=Nh(),a=JSON.stringify(wC(s,i.v7_relativeSplatPath));return k.useMemo(()=>xC(e,JSON.parse(a),r,n==="path"),[e,a,r,n])}var DC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DC||{}),MC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(MC||{});function PV(e){let t=k.useContext(Zy);return t||jn(!1),t}function UV(e){let t=k.useContext(Ch);return t||jn(!1),t}function jV(e){let t=UV(),n=t.matches[t.matches.length-1];return n.route.id||jn(!1),n.route.id}function VV(){let{router:e}=PV(DC.UseNavigateStable),t=jV(MC.UseNavigateStable),n=k.useRef(!1);return RC(()=>{n.current=!0}),k.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zp({fromRouteId:t},r)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zf.apply(this,arguments)}function kC(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function HV(e,t){return e.button===0&&(!t||t==="_self")&&!BV(e)}const FV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$V="6";try{window.__reactRouterVersion=$V}catch{}const ZV=k.createContext({isTransitioning:!1}),qV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=k.forwardRef(function(t,n){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:o,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,m=kC(t,FV),{basename:g}=k.useContext(yo),C,R=!1;if(typeof u=="string"&&XV.test(u)&&(C=u,qV))try{let A=new URL(window.location.href),O=u.startsWith("//")?new URL(A.protocol+u):new URL(u),L=$f(O.pathname,g);O.origin===A.origin&&L!=null?u=L+O.search+O.hash:R=!0}catch{}let I=IV(u,{relative:s}),b=KV(u,{replace:a,state:o,target:c,preventScrollReset:f,relative:s,viewTransition:d});function v(A){i&&i(A),A.defaultPrevented||b(A)}return k.createElement("a",Zf({},m,{href:C||I,onClick:R||r?i:v,ref:n,target:c}))}),Qo=k.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:a=!1,style:o,to:c,viewTransition:u,children:f}=t,d=kC(t,GV),m=Oh(c,{relative:d.relative}),g=Nh(),C=k.useContext(kV),{navigator:R,basename:I}=k.useContext(yo),b=C!=null&&JV(m)&&u===!0,v=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,A=g.pathname,O=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;s||(A=A.toLowerCase(),O=O?O.toLowerCase():null,v=v.toLowerCase()),O&&I&&(O=$f(O,I)||O);const L=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let V=A===v||!a&&A.startsWith(v)&&A.charAt(L)==="/",T=O!=null&&(O===v||!a&&O.startsWith(v)&&O.charAt(v.length)==="/"),y={isActive:V,isPending:T,isTransitioning:b},S=V?i:void 0,E;typeof r=="function"?E=r(y):E=[r,V?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let x=typeof o=="function"?o(y):o;return k.createElement(sa,Zf({},d,{"aria-current":S,className:E,ref:n,style:x,to:c,viewTransition:u}),typeof f=="function"?f(y):f)});var qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qp||(qp={}));var Bb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bb||(Bb={}));function YV(e){let t=k.useContext(Zy);return t||jn(!1),t}function KV(e,t){let{target:n,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:o}=t===void 0?{}:t,c=zV(),u=Nh(),f=Oh(e,{relative:a});return k.useCallback(d=>{if(HV(d,n)){d.preventDefault();let m=i!==void 0?i:Pb(u)===Pb(f);c(e,{replace:m,state:s,preventScrollReset:r,relative:a,viewTransition:o})}},[u,c,f,i,s,n,e,r,a,o])}function JV(e,t){t===void 0&&(t={});let n=k.useContext(ZV);n==null&&jn(!1);let{basename:i}=YV(qp.useViewTransitionState),s=Oh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let r=$f(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=$f(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jb(s.pathname,a)!=null||jb(s.pathname,r)!=null}function QV({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:s,hubUrl:r,youtubePlaylistUrl:a}=Hw(),o=Th(),c=s.gamification?o:null;return w.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:w.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:w.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),w.jsxs(sa,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[w.jsx("span",{className:"text-2xl",children:i}),w.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]}),a&&w.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"6px",backgroundColor:"rgba(255, 0, 0, 0.9)"},title:"Watch on YouTube",children:w.jsx("svg",{style:{width:"18px",height:"18px"},viewBox:"0 0 24 24",fill:"white",children:w.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]}),w.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[w.jsx("a",{href:r,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),w.jsx(sa,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.theoremIndex&&w.jsx(sa,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.interactiveModules&&w.jsx(sa,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.leaderboard&&w.jsx(sa,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[s.gamification&&c&&w.jsxs(w.Fragment,{children:[w.jsx(_V,{streak:c.state.streak.currentStreak}),w.jsx(vV,{xp:c.state.user.totalXP,level:c.state.user.level})]}),s.gamification&&w.jsx(bV,{})]})]})})}function WV({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:s}=Hw(),[r,a]=k.useState(new Set([1])),o=Th(),c=i.gamification?o:null,u=d=>{a(m=>{const g=new Set(m);return g.has(d)?g.delete(d):g.add(d),g})},f=d=>{var g;if(!c)return"none";const m=`${n}:${d}`;return((g=c.state.sections[m])==null?void 0:g.masteryLevel)??"none"};return w.jsxs(w.Fragment,{children:[w.jsx(zp,{children:e&&w.jsx(Gf.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),w.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:w.jsxs("nav",{className:"p-4",children:[w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:w.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),w.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),w.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&w.jsx("li",{children:w.jsxs(Qo,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[w.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&w.jsx("li",{children:w.jsxs(Qo,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[w.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&w.jsx("li",{children:w.jsxs(Qo,{to:"/problems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[w.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})}),i.transcripts&&w.jsx("li",{children:w.jsxs(Qo,{to:"/transcripts",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[w.jsx("span",{className:"text-lg",children:""}),"Transcripts"]})})]})]}),w.jsx("div",{className:"space-y-2",children:s.map(d=>w.jsxs("div",{children:[w.jsxs("button",{onClick:()=>u(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:w.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),w.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),w.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w.jsx(zp,{children:r.has(d.id)&&w.jsx(Gf.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(m=>w.jsx("li",{children:w.jsxs(Qo,{to:`/section/${m.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:g})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${g?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[w.jsx("span",{className:"truncate",children:m.title}),i.gamification&&w.jsx(SV,{level:f(m.id)})]})},m.id))})})]},d.id))})]})})]})}const e8={id:$l,name:ME,icon:kE,hubUrl:kO,features:ei,curriculum:$r,youtubePlaylistUrl:IO},t8=k.lazy(()=>Ne(()=>import("./Leaderboard-B3sVL-nn.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),n8=k.lazy(()=>Ne(()=>import("./Theorems-DhGbSYcE.js"),__vite__mapDeps([4,1,2,5,3]),import.meta.url)),i8=k.lazy(()=>Ne(()=>import("./InteractiveModules-CHfizbpB.js"),__vite__mapDeps([6,1,2,5,3]),import.meta.url)),s8=k.lazy(()=>Ne(()=>import("./SectionQuizPage-pn8ZiRSu.js"),__vite__mapDeps([7,1,2,3,8]),import.meta.url)),r8=Object.assign({"./pages/sections/Section00.tsx":()=>Ne(()=>import("./Section00-CM66KN0I.js"),__vite__mapDeps([9,1,2,10,8,3]),import.meta.url),"./pages/sections/Section01.tsx":()=>Ne(()=>import("./Section01-DvsKRMTN.js"),__vite__mapDeps([11,1,2,10,8,3]),import.meta.url),"./pages/sections/Section02.tsx":()=>Ne(()=>import("./Section02-BZWQHyde.js"),__vite__mapDeps([12,1,2,10,8,3]),import.meta.url),"./pages/sections/Section03.tsx":()=>Ne(()=>import("./Section03-6xjzTmuL.js"),__vite__mapDeps([13,1,2,10,8,3]),import.meta.url),"./pages/sections/Section04.tsx":()=>Ne(()=>import("./Section04-Dc83sBqS.js"),__vite__mapDeps([14,1,2,10,8,3]),import.meta.url),"./pages/sections/Section05.tsx":()=>Ne(()=>import("./Section05-BsFmDC_d.js"),__vite__mapDeps([15,1,2,10,8,3]),import.meta.url),"./pages/sections/Section06.tsx":()=>Ne(()=>import("./Section06-B8CcA0yp.js"),__vite__mapDeps([16,1,2,10,8,3]),import.meta.url),"./pages/sections/Section07.tsx":()=>Ne(()=>import("./Section07-DSAScLV7.js"),__vite__mapDeps([17,1,2,10,8,3]),import.meta.url),"./pages/sections/Section08.tsx":()=>Ne(()=>import("./Section08-Z5XWfrn5.js"),__vite__mapDeps([18,1,2,10,8,3]),import.meta.url),"./pages/sections/Section09.tsx":()=>Ne(()=>import("./Section09-Cstr-82w.js"),__vite__mapDeps([19,1,2,10,8,3]),import.meta.url),"./pages/sections/Section10.tsx":()=>Ne(()=>import("./Section10-DytL5hR6.js"),__vite__mapDeps([20,1,2,10,8,3]),import.meta.url),"./pages/sections/Section11.tsx":()=>Ne(()=>import("./Section11-C8yvdp86.js"),__vite__mapDeps([21,1,2,10,8,3]),import.meta.url),"./pages/sections/Section12.tsx":()=>Ne(()=>import("./Section12-vLXsEINq.js"),__vite__mapDeps([22,1,2,10,8,3]),import.meta.url),"./pages/sections/Section13.tsx":()=>Ne(()=>import("./Section13-CCMyoGa9.js"),__vite__mapDeps([23,1,2,10,8,3]),import.meta.url),"./pages/sections/Section14.tsx":()=>Ne(()=>import("./Section14-CoAyOoMq.js"),__vite__mapDeps([24,1,2,10,8,3]),import.meta.url),"./pages/sections/Section15.tsx":()=>Ne(()=>import("./Section15-CpXzJCoB.js"),__vite__mapDeps([25,1,2,10,8,3]),import.meta.url),"./pages/sections/Section16.tsx":()=>Ne(()=>import("./Section16-BQ1c10MW.js"),__vite__mapDeps([26,1,2,10,8,3]),import.meta.url),"./pages/sections/Section17.tsx":()=>Ne(()=>import("./Section17-DFYR2mUr.js"),__vite__mapDeps([27,1,2,10,8,3]),import.meta.url),"./pages/sections/Section18.tsx":()=>Ne(()=>import("./Section18-BMbyP8Y1.js"),__vite__mapDeps([28,1,2,10,8,3]),import.meta.url),"./pages/sections/Section19.tsx":()=>Ne(()=>import("./Section19-D-WImEgT.js"),__vite__mapDeps([29,1,2,10,8,3]),import.meta.url),"./pages/sections/Section20.tsx":()=>Ne(()=>import("./Section20-_Wn2LqEH.js"),__vite__mapDeps([30,1,2,10,8,3]),import.meta.url)}),a8=U5(r8),IC={};for(const[e,t]of Object.entries(a8))IC[Number(e)]=k.lazy(t);function o8(){const{id:e}=e2(),t=parseInt(e||"0",10),n=IC[t];return n?w.jsx(k.Suspense,{fallback:w.jsx(rl,{message:"Loading section..."}),children:w.jsx(n,{})}):w.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),w.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function l8({children:e}){const[t,n]=k.useState(!1);return w.jsxs("div",{className:"min-h-screen bg-dark-950",children:[w.jsx(QV,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),w.jsx(WV,{isOpen:t,onClose:()=>n(!1)}),w.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function vu(){return w.jsxs(w.Fragment,{children:[w.jsx(l8,{children:w.jsxs(WC,{children:[w.jsx(lr,{path:"/",element:w.jsx(bS,{})}),ei.leaderboard&&w.jsx(lr,{path:"/leaderboard",element:w.jsx(k.Suspense,{fallback:w.jsx(rl,{message:"Loading leaderboard..."}),children:w.jsx(t8,{})})}),ei.theoremIndex&&w.jsx(lr,{path:"/theorems",element:w.jsx(k.Suspense,{fallback:w.jsx(rl,{message:"Loading theorems..."}),children:w.jsx(n8,{})})}),ei.interactiveModules&&w.jsx(lr,{path:"/interactive",element:w.jsx(k.Suspense,{fallback:w.jsx(rl,{message:"Loading modules..."}),children:w.jsx(i8,{})})}),w.jsx(lr,{path:"/section/:id",element:w.jsx(o8,{})}),w.jsx(lr,{path:"/quiz/section/:id",element:w.jsx(k.Suspense,{fallback:w.jsx(rl,{message:"Loading quiz..."}),children:w.jsx(s8,{})})}),w.jsx(lr,{path:"*",element:w.jsx(bS,{})})]})}),ei.gamification&&w.jsx(c8,{})]})}function c8(){const{notifications:e,dismissNotification:t}=Th();return w.jsx(AV,{notifications:e,onDismiss:t})}function u8(){return w.jsx(N5,{children:w.jsxs(R5,{children:[w.jsx(j5,{config:e8,children:w.jsx(QC,{children:ei.nostrAuth?w.jsx(S5,{children:ei.gamification?w.jsx(SS,{children:w.jsx(vu,{})}):w.jsx(vu,{})}):ei.gamification?w.jsx(SS,{children:w.jsx(vu,{})}):w.jsx(vu,{})})}),w.jsx(M5,{})]})})}OO.createRoot(document.getElementById("root")).render(w.jsx(k.StrictMode,{children:w.jsx(u8,{})}));export{ME as C,ei as F,kO as H,g8 as L,p8 as R,P5 as S,L5 as X,ui as a,Yo as b,_R as c,cR as d,aR as e,v8 as f,Yl as g,Ka as h,_s as i,lR as j,Th as k,kE as l,$r as m,$l as n,gR as o,m8 as p,mt as q,b8 as r,y8 as s,T8 as t,T5 as u,_8 as v,E8 as w,I5 as x,A8 as y,S8 as z};
