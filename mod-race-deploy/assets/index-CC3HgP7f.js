function rR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function iR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sb={exports:{}},Nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR=Symbol.for("react.transitional.element"),aR=Symbol.for("react.fragment");function wb(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:sR,type:t,key:r,ref:e!==void 0?e:null,props:n}}Nd.Fragment=aR;Nd.jsx=wb;Nd.jsxs=wb;Sb.exports=Nd;var A=Sb.exports,Ab={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4=Symbol.for("react.transitional.element"),oR=Symbol.for("react.portal"),lR=Symbol.for("react.fragment"),uR=Symbol.for("react.strict_mode"),cR=Symbol.for("react.profiler"),hR=Symbol.for("react.consumer"),fR=Symbol.for("react.context"),dR=Symbol.for("react.forward_ref"),mR=Symbol.for("react.suspense"),pR=Symbol.for("react.memo"),Eb=Symbol.for("react.lazy"),gR=Symbol.for("react.activity"),J2=Symbol.iterator;function yR(t){return t===null||typeof t!="object"?null:(t=J2&&t[J2]||t["@@iterator"],typeof t=="function"?t:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Cb={};function eu(t,e,n){this.props=t,this.context=e,this.refs=Cb,this.updater=n||xb}eu.prototype.isReactComponent={};eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kb(){}kb.prototype=eu.prototype;function N4(t,e,n){this.props=t,this.context=e,this.refs=Cb,this.updater=n||xb}var I4=N4.prototype=new kb;I4.constructor=N4;Rb(I4,eu.prototype);I4.isPureReactComponent=!0;var e5=Array.isArray;function T1(){}var ut={H:null,A:null,T:null,S:null},Mb=Object.prototype.hasOwnProperty;function D4(t,e,n){var r=n.ref;return{$$typeof:M4,type:t,key:e,ref:r!==void 0?r:null,props:n}}function vR(t,e){return D4(t.type,e,t.props)}function O4(t){return typeof t=="object"&&t!==null&&t.$$typeof===M4}function bR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t5=/\/+/g;function zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bR(""+t.key):e.toString(36)}function _R(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(T1,T1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function jo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case M4:case oR:a=!0;break;case Eb:return a=t._init,jo(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+zm(t,0):r,e5(i)?(n="",a!=null&&(n=a.replace(t5,"$&/")+"/"),jo(i,e,n,"",function(c){return c})):i!=null&&(O4(i)&&(i=vR(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(t5,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(e5(t))for(var l=0;l<t.length;l++)r=t[l],s=o+zm(r,l),a+=jo(r,e,n,s,i);else if(l=yR(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+zm(r,l++),a+=jo(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return jo(_R(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function ih(t,e,n){if(t==null)return t;var r=[],i=0;return jo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var n5=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},SR={map:ih,forEach:function(t,e,n){ih(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!O4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Activity=gR;we.Children=SR;we.Component=eu;we.Fragment=lR;we.Profiler=cR;we.PureComponent=N4;we.StrictMode=uR;we.Suspense=mR;we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut;we.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ut.H.useMemoCache(t)}};we.cache=function(t){return function(){return t.apply(null,arguments)}};we.cacheSignal=function(){return null};we.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Rb({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!Mb.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return D4(t.type,i,r)};we.createContext=function(t){return t={$$typeof:fR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:hR,_context:t},t};we.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)Mb.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return D4(t,s,i)};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:dR,render:t}};we.isValidElement=O4;we.lazy=function(t){return{$$typeof:Eb,_payload:{_status:-1,_result:t},_init:TR}};we.memo=function(t,e){return{$$typeof:pR,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=ut.T,n={};ut.T=n;try{var r=t(),i=ut.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(T1,n5)}catch(s){n5(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),ut.T=e}};we.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()};we.use=function(t){return ut.H.use(t)};we.useActionState=function(t,e,n){return ut.H.useActionState(t,e,n)};we.useCallback=function(t,e){return ut.H.useCallback(t,e)};we.useContext=function(t){return ut.H.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t,e){return ut.H.useDeferredValue(t,e)};we.useEffect=function(t,e){return ut.H.useEffect(t,e)};we.useEffectEvent=function(t){return ut.H.useEffectEvent(t)};we.useId=function(){return ut.H.useId()};we.useImperativeHandle=function(t,e,n){return ut.H.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return ut.H.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return ut.H.useLayoutEffect(t,e)};we.useMemo=function(t,e){return ut.H.useMemo(t,e)};we.useOptimistic=function(t,e){return ut.H.useOptimistic(t,e)};we.useReducer=function(t,e,n){return ut.H.useReducer(t,e,n)};we.useRef=function(t){return ut.H.useRef(t)};we.useState=function(t){return ut.H.useState(t)};we.useSyncExternalStore=function(t,e,n){return ut.H.useSyncExternalStore(t,e,n)};we.useTransition=function(){return ut.H.useTransition()};we.version="19.2.3";Ab.exports=we;var F=Ab.exports;const wR=iR(F),AR=rR({__proto__:null,default:wR},[F]);var Nb={exports:{}},Id={},Ib={exports:{}},Db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,re){var ae=J.length;J.push(re);e:for(;0<ae;){var xe=ae-1>>>1,Ae=J[xe];if(0<i(Ae,re))J[xe]=re,J[ae]=Ae,ae=xe;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var re=J[0],ae=J.pop();if(ae!==re){J[0]=ae;e:for(var xe=0,Ae=J.length,De=Ae>>>1;xe<De;){var Le=2*(xe+1)-1,Te=J[Le],vn=Le+1,Me=J[vn];if(0>i(Te,ae))vn<Ae&&0>i(Me,Te)?(J[xe]=Me,J[vn]=ae,xe=vn):(J[xe]=Te,J[Le]=ae,xe=Le);else if(vn<Ae&&0>i(Me,ae))J[xe]=Me,J[vn]=ae,xe=vn;else break e}}return re}function i(J,re){var ae=J.sortIndex-re.sortIndex;return ae!==0?ae:J.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,p=!1,_=!1,E=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function O(J){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=J)r(c),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(c)}}function V(J){if(E=!1,O(J),!_)if(n(l)!==null)_=!0,H||(H=!0,U());else{var re=n(c);re!==null&&Ne(V,re.startTime-J)}}var H=!1,k=-1,w=5,R=-1;function D(){return M?!0:!(t.unstable_now()-R<w)}function z(){if(M=!1,H){var J=t.unstable_now();R=J;var re=!0;try{e:{_=!1,E&&(E=!1,S(k),k=-1),p=!0;var ae=d;try{t:{for(O(J),f=n(l);f!==null&&!(f.expirationTime>J&&D());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,d=f.priorityLevel;var Ae=xe(f.expirationTime<=J);if(J=t.unstable_now(),typeof Ae=="function"){f.callback=Ae,O(J),re=!0;break t}f===n(l)&&r(l),O(J)}else r(l);f=n(l)}if(f!==null)re=!0;else{var De=n(c);De!==null&&Ne(V,De.startTime-J),re=!1}}break e}finally{f=null,d=ae,p=!1}re=void 0}}finally{re?U():H=!1}}}var U;if(typeof x=="function")U=function(){x(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=z,U=function(){fe.postMessage(null)}}else U=function(){b(z,0)};function Ne(J,re){k=b(function(){J(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(J){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var ae=d;d=re;try{return J()}finally{d=ae}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=d;d=J;try{return re()}finally{d=ae}},t.unstable_scheduleCallback=function(J,re,ae){var xe=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,J){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ae+Ae,J={id:h++,callback:re,priorityLevel:J,startTime:ae,expirationTime:Ae,sortIndex:-1},ae>xe?(J.sortIndex=ae,e(c,J),n(l)===null&&J===n(c)&&(E?(S(k),k=-1):E=!0,Ne(V,ae-xe))):(J.sortIndex=Ae,e(l,J),_||p||(_=!0,H||(H=!0,U()))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var re=d;return function(){var ae=d;d=re;try{return J.apply(this,arguments)}finally{d=ae}}}})(Db);Ib.exports=Db;var ER=Ib.exports,Ob={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=F;function zb(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ms(){}var Ln={d:{f:Ms,r:function(){throw Error(zb(522))},D:Ms,C:Ms,L:Ms,m:Ms,X:Ms,S:Ms,M:Ms},p:0,findDOMNode:null},RR=Symbol.for("react.portal");function CR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RR,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var mc=xR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Dd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ln;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(zb(299));return CR(t,e,null,n)};Fn.flushSync=function(t){var e=mc.T,n=Ln.p;try{if(mc.T=null,Ln.p=2,t)return t()}finally{mc.T=e,Ln.p=n,Ln.d.f()}};Fn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ln.d.C(t,e))};Fn.prefetchDNS=function(t){typeof t=="string"&&Ln.d.D(t)};Fn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Dd(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ln.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Ln.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Fn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Dd(e.as,e.crossOrigin);Ln.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ln.d.M(t)};Fn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Dd(n,e.crossOrigin);Ln.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Fn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Dd(e.as,e.crossOrigin);Ln.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ln.d.m(t)};Fn.requestFormReset=function(t){Ln.d.r(t)};Fn.unstable_batchedUpdates=function(t,e){return t(e)};Fn.useFormState=function(t,e,n){return mc.H.useFormState(t,e,n)};Fn.useFormStatus=function(){return mc.H.useHostTransitionStatus()};Fn.version="19.2.3";function Pb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pb)}catch(t){console.error(t)}}Pb(),Ob.exports=Fn;var kR=Ob.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=ER,Lb=F,MR=kR;function Z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ub(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bb(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r5(t){if(m0(t)!==t)throw Error(Z(188))}function NR(t){var e=t.alternate;if(!e){if(e=m0(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return r5(i),t;if(s===r)return r5(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function jb(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=jb(t),e!==null)return e;t=t.sibling}return null}var ct=Object.assign,IR=Symbol.for("react.element"),sh=Symbol.for("react.transitional.element"),nc=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),Fb=Symbol.for("react.strict_mode"),S1=Symbol.for("react.profiler"),qb=Symbol.for("react.consumer"),Zi=Symbol.for("react.context"),z4=Symbol.for("react.forward_ref"),w1=Symbol.for("react.suspense"),A1=Symbol.for("react.suspense_list"),P4=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),E1=Symbol.for("react.activity"),DR=Symbol.for("react.memo_cache_sentinel"),i5=Symbol.iterator;function Bu(t){return t===null||typeof t!="object"?null:(t=i5&&t[i5]||t["@@iterator"],typeof t=="function"?t:null)}var OR=Symbol.for("react.client.reference");function x1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===OR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zo:return"Fragment";case S1:return"Profiler";case Fb:return"StrictMode";case w1:return"Suspense";case A1:return"SuspenseList";case E1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case nc:return"Portal";case Zi:return t.displayName||"Context";case qb:return(t._context.displayName||"Context")+".Consumer";case z4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P4:return e=t.displayName||null,e!==null?e:x1(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return x1(t(e))}catch{}}return null}var rc=Array.isArray,be=Lb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ke=MR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,io={pending:!1,data:null,method:null,action:null},R1=[],Ko=-1;function Ti(t){return{current:t}}function sn(t){0>Ko||(t.current=R1[Ko],R1[Ko]=null,Ko--)}function it(t,e){Ko++,R1[Ko]=t.current,t.current=e}var hi=Ti(null),Vc=Ti(null),ea=Ti(null),Sf=Ti(null);function wf(t,e){switch(it(ea,e),it(Vc,t),it(hi,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?c3(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=c3(e),t=uT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}sn(hi),it(hi,t)}function Ml(){sn(hi),sn(Vc),sn(ea)}function C1(t){t.memoizedState!==null&&it(Sf,t);var e=hi.current,n=uT(e,t.type);e!==n&&(it(Vc,t),it(hi,n))}function Af(t){Vc.current===t&&(sn(hi),sn(Vc)),Sf.current===t&&(sn(Sf),Yc._currentValue=io)}var Pm,s5;function Ka(t){if(Pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||"",s5=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pm+t+s5}var Lm=!1;function Vm(t,e){if(!t||Lm)return"";Lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==c[i]){var h=`
`+l[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Lm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ka(n):""}function zR(t,e){switch(t.tag){case 26:case 27:case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return t.child!==e&&e!==null?Ka("Suspense Fallback"):Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return Vm(t.type,!1);case 11:return Vm(t.type.render,!1);case 1:return Vm(t.type,!0);case 31:return Ka("Activity");default:return""}}function a5(t){try{var e="",n=null;do e+=zR(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var k1=Object.prototype.hasOwnProperty,L4=Qt.unstable_scheduleCallback,Um=Qt.unstable_cancelCallback,PR=Qt.unstable_shouldYield,LR=Qt.unstable_requestPaint,hr=Qt.unstable_now,VR=Qt.unstable_getCurrentPriorityLevel,Hb=Qt.unstable_ImmediatePriority,Gb=Qt.unstable_UserBlockingPriority,Ef=Qt.unstable_NormalPriority,UR=Qt.unstable_LowPriority,$b=Qt.unstable_IdlePriority,BR=Qt.log,jR=Qt.unstable_setDisableYieldValue,p0=null,fr=null;function Zs(t){if(typeof BR=="function"&&jR(t),fr&&typeof fr.setStrictMode=="function")try{fr.setStrictMode(p0,t)}catch{}}var dr=Math.clz32?Math.clz32:HR,FR=Math.log,qR=Math.LN2;function HR(t){return t>>>=0,t===0?32:31-(FR(t)/qR|0)|0}var ah=256,oh=262144,lh=4194304;function Ya(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Od(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Ya(r):(a&=o,a!==0?i=Ya(a):n||(n=o&~t,n!==0&&(i=Ya(n))))):(o=r&~s,o!==0?i=Ya(o):a!==0?i=Ya(a):n||(n=r&~t,n!==0&&(i=Ya(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function g0(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function GR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zb(){var t=lh;return lh<<=1,!(lh&62914560)&&(lh=4194304),t}function Bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function y0(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $R(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-dr(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var p=d[h];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&Kb(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function Kb(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-dr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function Yb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Xb(t,e){var n=e&-e;return n=n&42?1:V4(n),n&(t.suspendedLanes|e)?0:n}function V4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function U4(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Qb(){var t=Ke.p;return t!==0?t:(t=window.event,t===void 0?32:_T(t.type))}function o5(t,e){var n=Ke.p;try{return Ke.p=t,e()}finally{Ke.p=n}}var Ra=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ra,er="__reactProps$"+Ra,tu="__reactContainer$"+Ra,M1="__reactEvents$"+Ra,ZR="__reactListeners$"+Ra,KR="__reactHandles$"+Ra,l5="__reactResources$"+Ra,v0="__reactMarker$"+Ra;function B4(t){delete t[hn],delete t[er],delete t[M1],delete t[ZR],delete t[KR]}function Yo(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tu]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p3(t);t!==null;){if(n=t[hn])return n;t=p3(t)}return e}t=n,n=t.parentNode}return null}function nu(t){if(t=t[hn]||t[tu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function ic(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Z(33))}function dl(t){var e=t[l5];return e||(e=t[l5]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function rn(t){t[v0]=!0}var Wb=new Set,Jb={};function xo(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(Jb[t]=e,t=0;t<e.length;t++)Wb.add(e[t])}var YR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),u5={},c5={};function XR(t){return k1.call(c5,t)?!0:k1.call(u5,t)?!1:YR.test(t)?c5[t]=!0:(u5[t]=!0,!1)}function Gh(t,e,n){if(XR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function uh(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Vi(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Cr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QR(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function N1(t){if(!t._valueTracker){var e=e9(t)?"checked":"value";t._valueTracker=QR(t,e,""+t[e])}}function t9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var WR=/[\n"\\]/g;function Nr(t){return t.replace(WR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function I1(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Cr(e)):t.value!==""+Cr(e)&&(t.value=""+Cr(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?D1(t,a,Cr(e)):n!=null?D1(t,a,Cr(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Cr(o):t.removeAttribute("name")}function n9(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){N1(t);return}n=n!=null?""+Cr(n):"",e=e!=null?""+Cr(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),N1(t)}function D1(t,e,n){e==="number"&&xf(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ml(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r9(t,e,n){if(e!=null&&(e=""+Cr(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Cr(n):""}function i9(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Z(92));if(rc(r)){if(1<r.length)throw Error(Z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Cr(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),N1(t)}function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var JR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function h5(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||JR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function s9(t,e,n){if(e!=null&&typeof e!="object")throw Error(Z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&h5(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&h5(t,s,e[s])}function j4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $h(t){return tC.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ki(){}var O1=null;function F4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xo=null,pl=null;function f5(t){var e=nu(t);if(e&&(t=e.stateNode)){var n=t[er]||null;e:switch(t=e.stateNode,e.type){case"input":if(I1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nr(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[er]||null;if(!i)throw Error(Z(90));I1(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&t9(r)}break e;case"textarea":r9(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ml(t,!!n.multiple,e,!1)}}}var jm=!1;function a9(t,e,n){if(jm)return t(e,n);jm=!0;try{var r=t(e);return r}finally{if(jm=!1,(Xo!==null||pl!==null)&&($d(),Xo&&(e=Xo,t=pl,pl=Xo=null,f5(e),t)))for(e=0;e<t.length;e++)f5(t[e])}}function Uc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[er]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z1=!1;if(os)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){z1=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{z1=!1}var Ks=null,q4=null,Zh=null;function o9(){if(Zh)return Zh;var t,e=q4,n=e.length,r,i="value"in Ks?Ks.value:Ks.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Zh=i.slice(t,1<r?1-r:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ch(){return!0}function d5(){return!1}function tr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ch:d5,this.isPropagationStopped=d5,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),e}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=tr(Ro),b0=ct({},Ro,{view:0,detail:0}),nC=tr(b0),Fm,qm,Fu,Pd=ct({},b0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fu&&(Fu&&t.type==="mousemove"?(Fm=t.screenX-Fu.screenX,qm=t.screenY-Fu.screenY):qm=Fm=0,Fu=t),Fm)},movementY:function(t){return"movementY"in t?t.movementY:qm}}),m5=tr(Pd),rC=ct({},Pd,{dataTransfer:0}),iC=tr(rC),sC=ct({},b0,{relatedTarget:0}),Hm=tr(sC),aC=ct({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),oC=tr(aC),lC=ct({},Ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uC=tr(lC),cC=ct({},Ro,{data:0}),p5=tr(cC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dC[t])?!!e[t]:!1}function H4(){return mC}var pC=ct({},b0,{key:function(t){if(t.key){var e=hC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H4,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gC=tr(pC),yC=ct({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g5=tr(yC),vC=ct({},b0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H4}),bC=tr(vC),_C=ct({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),TC=tr(_C),SC=ct({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wC=tr(SC),AC=ct({},Ro,{newState:0,oldState:0}),EC=tr(AC),xC=[9,13,27,32],G4=os&&"CompositionEvent"in window,pc=null;os&&"documentMode"in document&&(pc=document.documentMode);var RC=os&&"TextEvent"in window&&!pc,l9=os&&(!G4||pc&&8<pc&&11>=pc),y5=" ",v5=!1;function u9(t,e){switch(t){case"keyup":return xC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function CC(t,e){switch(t){case"compositionend":return c9(e);case"keypress":return e.which!==32?null:(v5=!0,y5);case"textInput":return t=e.data,t===y5&&v5?null:t;default:return null}}function kC(t,e){if(Qo)return t==="compositionend"||!G4&&u9(t,e)?(t=o9(),Zh=q4=Ks=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l9&&e.locale!=="ko"?null:e.data;default:return null}}var MC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MC[t.type]:e==="textarea"}function h9(t,e,n,r){Xo?pl?pl.push(r):pl=[r]:Xo=r,e=Hf(e,"onChange"),0<e.length&&(n=new zd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gc=null,Bc=null;function NC(t){aT(t,0)}function Ld(t){var e=ic(t);if(t9(e))return t}function _5(t,e){if(t==="change")return e}var f9=!1;if(os){var Gm;if(os){var $m="oninput"in document;if(!$m){var T5=document.createElement("div");T5.setAttribute("oninput","return;"),$m=typeof T5.oninput=="function"}Gm=$m}else Gm=!1;f9=Gm&&(!document.documentMode||9<document.documentMode)}function S5(){gc&&(gc.detachEvent("onpropertychange",d9),Bc=gc=null)}function d9(t){if(t.propertyName==="value"&&Ld(Bc)){var e=[];h9(e,Bc,t,F4(t)),a9(NC,e)}}function IC(t,e,n){t==="focusin"?(S5(),gc=e,Bc=n,gc.attachEvent("onpropertychange",d9)):t==="focusout"&&S5()}function DC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ld(Bc)}function OC(t,e){if(t==="click")return Ld(e)}function zC(t,e){if(t==="input"||t==="change")return Ld(e)}function PC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:PC;function jc(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k1.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function w5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A5(t,e){var n=w5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w5(n)}}function m9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?m9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p9(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=xf(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xf(t.document)}return e}function $4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var LC=os&&"documentMode"in document&&11>=document.documentMode,Wo=null,P1=null,yc=null,L1=!1;function E5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;L1||Wo==null||Wo!==xf(r)||(r=Wo,"selectionStart"in r&&$4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yc&&jc(yc,r)||(yc=r,r=Hf(P1,"onSelect"),0<r.length&&(e=new zd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function Ha(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jo={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Zm={},g9={};os&&(g9=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function Co(t){if(Zm[t])return Zm[t];if(!Jo[t])return t;var e=Jo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g9)return Zm[t]=e[n];return t}var y9=Co("animationend"),v9=Co("animationiteration"),b9=Co("animationstart"),VC=Co("transitionrun"),UC=Co("transitionstart"),BC=Co("transitioncancel"),_9=Co("transitionend"),T9=new Map,V1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");V1.push("scrollEnd");function ti(t,e){T9.set(t,e),xo(e,[t])}var Rf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xr=[],el=0,Z4=0;function Vd(){for(var t=el,e=Z4=el=0;e<t;){var n=xr[e];xr[e++]=null;var r=xr[e];xr[e++]=null;var i=xr[e];xr[e++]=null;var s=xr[e];if(xr[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&S9(n,i,s)}}function Ud(t,e,n,r){xr[el++]=t,xr[el++]=e,xr[el++]=n,xr[el++]=r,Z4|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function K4(t,e,n,r){return Ud(t,e,n,r),Cf(t)}function ko(t,e){return Ud(t,null,null,e),Cf(t)}function S9(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-dr(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function Cf(t){if(50<xc)throw xc=0,sg=null,Error(Z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var tl={};function jC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new jC(t,e,n,r)}function Y4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function w9(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yh(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Y4(t)&&(a=1);else if(typeof t=="string")a=$k(t,n,hi.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case E1:return t=ur(31,n,e,i),t.elementType=E1,t.lanes=s,t;case Zo:return so(n.children,i,s,e);case Fb:a=8,i|=24;break;case S1:return t=ur(12,n,e,i|2),t.elementType=S1,t.lanes=s,t;case w1:return t=ur(13,n,e,i),t.elementType=w1,t.lanes=s,t;case A1:return t=ur(19,n,e,i),t.elementType=A1,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zi:a=10;break e;case qb:a=9;break e;case z4:a=11;break e;case P4:a=14;break e;case Ps:a=16,r=null;break e}a=29,n=Error(Z(130,t===null?"null":typeof t,"")),r=null}return e=ur(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function so(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function Km(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function A9(t){var e=ur(18,null,null,0);return e.stateNode=t,e}function Ym(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var x5=new WeakMap;function Ir(t,e){if(typeof t=="object"&&t!==null){var n=x5.get(t);return n!==void 0?n:(e={value:t,source:e,stack:a5(e)},x5.set(t,e),e)}return{value:t,source:e,stack:a5(e)}}var nl=[],rl=0,kf=null,Fc=0,kr=[],Mr=0,fa=null,oi=1,li="";function Gi(t,e){nl[rl++]=Fc,nl[rl++]=kf,kf=t,Fc=e}function E9(t,e,n){kr[Mr++]=oi,kr[Mr++]=li,kr[Mr++]=fa,fa=t;var r=oi;t=li;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,oi=1<<32-dr(e)+i|n<<i|r,li=s+t}else oi=1<<s|n<<i|r,li=t}function X4(t){t.return!==null&&(Gi(t,1),E9(t,1,0))}function Q4(t){for(;t===kf;)kf=nl[--rl],nl[rl]=null,Fc=nl[--rl],nl[rl]=null;for(;t===fa;)fa=kr[--Mr],kr[Mr]=null,li=kr[--Mr],kr[Mr]=null,oi=kr[--Mr],kr[Mr]=null}function x9(t,e){kr[Mr++]=oi,kr[Mr++]=li,kr[Mr++]=fa,oi=e.id,li=e.overflow,fa=t}var fn=null,lt=null,Ue=!1,ta=null,Dr=!1,U1=Error(Z(519));function da(t){var e=Error(Z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qc(Ir(e,t)),U1}function R5(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[hn]=t,e[er]=r,n){case"dialog":Oe("cancel",e),Oe("close",e);break;case"iframe":case"object":case"embed":Oe("load",e);break;case"video":case"audio":for(n=0;n<Zc.length;n++)Oe(Zc[n],e);break;case"source":Oe("error",e);break;case"img":case"image":case"link":Oe("error",e),Oe("load",e);break;case"details":Oe("toggle",e);break;case"input":Oe("invalid",e),n9(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Oe("invalid",e);break;case"textarea":Oe("invalid",e),i9(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||lT(e.textContent,n)?(r.popover!=null&&(Oe("beforetoggle",e),Oe("toggle",e)),r.onScroll!=null&&Oe("scroll",e),r.onScrollEnd!=null&&Oe("scrollend",e),r.onClick!=null&&(e.onclick=Ki),e=!0):e=!1,e||da(t,!0)}function C5(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:fn=fn.return}}function Vo(t){if(t!==fn)return!1;if(!Ue)return C5(t),Ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||cg(t.type,t.memoizedProps)),n=!n),n&&lt&&da(t),C5(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));lt=m3(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));lt=m3(t)}else e===27?(e=lt,Ca(t.type)?(t=mg,mg=null,lt=t):lt=e):lt=fn?Vr(t.stateNode.nextSibling):null;return!0}function mo(){lt=fn=null,Ue=!1}function Xm(){var t=ta;return t!==null&&(Xn===null?Xn=t:Xn.push.apply(Xn,t),ta=null),t}function qc(t){ta===null?ta=[t]:ta.push(t)}var B1=Ti(null),Mo=null,Yi=null;function Vs(t,e,n){it(B1,e._currentValue),e._currentValue=n}function ns(t){t._currentValue=B1.current,sn(B1)}function j1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function F1(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),j1(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Z(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),j1(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function ru(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Z(387));if(a=a.memoizedProps,a!==null){var o=i.type;pr(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Sf.current){if(a=i.alternate,a===null)throw Error(Z(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Yc):t=[Yc])}i=i.return}t!==null&&F1(e,t,n,r),e.flags|=262144}function Mf(t){for(t=t.firstContext;t!==null;){if(!pr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function po(t){Mo=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return R9(Mo,t)}function hh(t,e){return Mo===null&&po(t),R9(t,e)}function R9(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Yi===null){if(t===null)throw Error(Z(308));Yi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Yi=Yi.next=e;return n}var FC=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},qC=Qt.unstable_scheduleCallback,HC=Qt.unstable_NormalPriority,Ft={$$typeof:Zi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function W4(){return{controller:new FC,data:new Map,refCount:0}}function _0(t){t.refCount--,t.refCount===0&&qC(HC,function(){t.controller.abort()})}var vc=null,q1=0,Dl=0,gl=null;function GC(t,e){if(vc===null){var n=vc=[];q1=0,Dl=wy(),gl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return q1++,e.then(k5,k5),e}function k5(){if(--q1===0&&vc!==null){gl!==null&&(gl.status="fulfilled");var t=vc;vc=null,Dl=0,gl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function $C(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var M5=be.S;be.S=function(t,e){j_=hr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&GC(t,e),M5!==null&&M5(t,e)};var ao=Ti(null);function J4(){var t=ao.current;return t!==null?t:et.pooledCache}function Xh(t,e){e===null?it(ao,ao.current):it(ao,e.pool)}function C9(){var t=J4();return t===null?null:{parent:Ft._currentValue,pool:t}}var iu=Error(Z(460)),ey=Error(Z(474)),Bd=Error(Z(542)),Nf={then:function(){}};function N5(t){return t=t.status,t==="fulfilled"||t==="rejected"}function k9(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ki,Ki),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,D5(t),t;default:if(typeof e.status=="string")e.then(Ki,Ki);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(Z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,D5(t),t}throw oo=e,iu}}function Xa(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(oo=n,iu):n}}var oo=null;function I5(){if(oo===null)throw Error(Z(459));var t=oo;return oo=null,t}function D5(t){if(t===iu||t===Bd)throw Error(Z(483))}var yl=null,Hc=0;function fh(t){var e=Hc;return Hc+=1,yl===null&&(yl=[]),k9(yl,t,e)}function qu(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function dh(t,e){throw e.$$typeof===IR?Error(Z(525)):(t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function M9(t){function e(b,S){if(t){var x=b.deletions;x===null?(b.deletions=[S],b.flags|=16):x.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b){for(var S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function i(b,S){return b=ts(b,S),b.index=0,b.sibling=null,b}function s(b,S,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<S?(b.flags|=67108866,S):x):(b.flags|=67108866,S)):(b.flags|=1048576,S)}function a(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,S,x,O){return S===null||S.tag!==6?(S=Km(x,b.mode,O),S.return=b,S):(S=i(S,x),S.return=b,S)}function l(b,S,x,O){var V=x.type;return V===Zo?h(b,S,x.props.children,O,x.key):S!==null&&(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ps&&Xa(V)===S.type)?(S=i(S,x.props),qu(S,x),S.return=b,S):(S=Yh(x.type,x.key,x.props,null,b.mode,O),qu(S,x),S.return=b,S)}function c(b,S,x,O){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=Ym(x,b.mode,O),S.return=b,S):(S=i(S,x.children||[]),S.return=b,S)}function h(b,S,x,O,V){return S===null||S.tag!==7?(S=so(x,b.mode,O,V),S.return=b,S):(S=i(S,x),S.return=b,S)}function f(b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Km(""+S,b.mode,x),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sh:return x=Yh(S.type,S.key,S.props,null,b.mode,x),qu(x,S),x.return=b,x;case nc:return S=Ym(S,b.mode,x),S.return=b,S;case Ps:return S=Xa(S),f(b,S,x)}if(rc(S)||Bu(S))return S=so(S,b.mode,x,null),S.return=b,S;if(typeof S.then=="function")return f(b,fh(S),x);if(S.$$typeof===Zi)return f(b,hh(b,S),x);dh(b,S)}return null}function d(b,S,x,O){var V=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return V!==null?null:o(b,S,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:return x.key===V?l(b,S,x,O):null;case nc:return x.key===V?c(b,S,x,O):null;case Ps:return x=Xa(x),d(b,S,x,O)}if(rc(x)||Bu(x))return V!==null?null:h(b,S,x,O,null);if(typeof x.then=="function")return d(b,S,fh(x),O);if(x.$$typeof===Zi)return d(b,S,hh(b,x),O);dh(b,x)}return null}function p(b,S,x,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return b=b.get(x)||null,o(S,b,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case sh:return b=b.get(O.key===null?x:O.key)||null,l(S,b,O,V);case nc:return b=b.get(O.key===null?x:O.key)||null,c(S,b,O,V);case Ps:return O=Xa(O),p(b,S,x,O,V)}if(rc(O)||Bu(O))return b=b.get(x)||null,h(S,b,O,V,null);if(typeof O.then=="function")return p(b,S,x,fh(O),V);if(O.$$typeof===Zi)return p(b,S,x,hh(S,O),V);dh(S,O)}return null}function _(b,S,x,O){for(var V=null,H=null,k=S,w=S=0,R=null;k!==null&&w<x.length;w++){k.index>w?(R=k,k=null):R=k.sibling;var D=d(b,k,x[w],O);if(D===null){k===null&&(k=R);break}t&&k&&D.alternate===null&&e(b,k),S=s(D,S,w),H===null?V=D:H.sibling=D,H=D,k=R}if(w===x.length)return n(b,k),Ue&&Gi(b,w),V;if(k===null){for(;w<x.length;w++)k=f(b,x[w],O),k!==null&&(S=s(k,S,w),H===null?V=k:H.sibling=k,H=k);return Ue&&Gi(b,w),V}for(k=r(k);w<x.length;w++)R=p(k,b,w,x[w],O),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?w:R.key),S=s(R,S,w),H===null?V=R:H.sibling=R,H=R);return t&&k.forEach(function(z){return e(b,z)}),Ue&&Gi(b,w),V}function E(b,S,x,O){if(x==null)throw Error(Z(151));for(var V=null,H=null,k=S,w=S=0,R=null,D=x.next();k!==null&&!D.done;w++,D=x.next()){k.index>w?(R=k,k=null):R=k.sibling;var z=d(b,k,D.value,O);if(z===null){k===null&&(k=R);break}t&&k&&z.alternate===null&&e(b,k),S=s(z,S,w),H===null?V=z:H.sibling=z,H=z,k=R}if(D.done)return n(b,k),Ue&&Gi(b,w),V;if(k===null){for(;!D.done;w++,D=x.next())D=f(b,D.value,O),D!==null&&(S=s(D,S,w),H===null?V=D:H.sibling=D,H=D);return Ue&&Gi(b,w),V}for(k=r(k);!D.done;w++,D=x.next())D=p(k,b,w,D.value,O),D!==null&&(t&&D.alternate!==null&&k.delete(D.key===null?w:D.key),S=s(D,S,w),H===null?V=D:H.sibling=D,H=D);return t&&k.forEach(function(U){return e(b,U)}),Ue&&Gi(b,w),V}function M(b,S,x,O){if(typeof x=="object"&&x!==null&&x.type===Zo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:e:{for(var V=x.key;S!==null;){if(S.key===V){if(V=x.type,V===Zo){if(S.tag===7){n(b,S.sibling),O=i(S,x.props.children),O.return=b,b=O;break e}}else if(S.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ps&&Xa(V)===S.type){n(b,S.sibling),O=i(S,x.props),qu(O,x),O.return=b,b=O;break e}n(b,S);break}else e(b,S);S=S.sibling}x.type===Zo?(O=so(x.props.children,b.mode,O,x.key),O.return=b,b=O):(O=Yh(x.type,x.key,x.props,null,b.mode,O),qu(O,x),O.return=b,b=O)}return a(b);case nc:e:{for(V=x.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){n(b,S.sibling),O=i(S,x.children||[]),O.return=b,b=O;break e}else{n(b,S);break}else e(b,S);S=S.sibling}O=Ym(x,b.mode,O),O.return=b,b=O}return a(b);case Ps:return x=Xa(x),M(b,S,x,O)}if(rc(x))return _(b,S,x,O);if(Bu(x)){if(V=Bu(x),typeof V!="function")throw Error(Z(150));return x=V.call(x),E(b,S,x,O)}if(typeof x.then=="function")return M(b,S,fh(x),O);if(x.$$typeof===Zi)return M(b,S,hh(b,x),O);dh(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,S!==null&&S.tag===6?(n(b,S.sibling),O=i(S,x),O.return=b,b=O):(n(b,S),O=Km(x,b.mode,O),O.return=b,b=O),a(b)):n(b,S)}return function(b,S,x,O){try{Hc=0;var V=M(b,S,x,O);return yl=null,V}catch(k){if(k===iu||k===Bd)throw k;var H=ur(29,k,null,b.mode);return H.lanes=O,H.return=b,H}finally{}}}var go=M9(!0),N9=M9(!1),Ls=!1;function ty(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Cf(t),S9(t,null,n),e}return Ud(t,r,e,n),Cf(t)}function bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yb(t,n)}}function Qm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var G1=!1;function _c(){if(G1){var t=gl;if(t!==null)throw t}}function Tc(t,e,n,r){G1=!1;var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(Pe&d)===d:(r&d)===d){d!==0&&d===Dl&&(G1=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var _=t,E=o;d=e;var M=n;switch(E.tag){case 1:if(_=E.payload,typeof _=="function"){f=_.call(M,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,d=typeof _=="function"?_.call(M,f,d):_,d==null)break e;f=ct({},f,d);break e;case 2:Ls=!0}}d=o.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),pa|=a,t.lanes=a,t.memoizedState=f}}function I9(t,e){if(typeof t!="function")throw Error(Z(191,t));t.call(e)}function D9(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)I9(n[t],e)}var Ol=Ti(null),If=Ti(0);function O5(t,e){t=hs,it(If,t),it(Ol,e),hs=t|e.baseLanes}function $1(){it(If,hs),it(Ol,Ol.current)}function ny(){hs=If.current,sn(Ol),sn(If)}var gr=Ti(null),Lr=null;function Us(t){var e=t.alternate;it(It,It.current&1),it(gr,t),Lr===null&&(e===null||Ol.current!==null||e.memoizedState!==null)&&(Lr=t)}function Z1(t){it(It,It.current),it(gr,t),Lr===null&&(Lr=t)}function O9(t){t.tag===22?(it(It,It.current),it(gr,t),Lr===null&&(Lr=t)):Bs()}function Bs(){it(It,It.current),it(gr,gr.current)}function lr(t){sn(gr),Lr===t&&(Lr=null),sn(It)}var It=Ti(0);function Df(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||fg(n)||dg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ls=0,Ee=null,We=null,Bt=null,Of=!1,vl=!1,yo=!1,zf=0,Gc=0,bl=null,ZC=0;function At(){throw Error(Z(321))}function ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function iy(t,e,n,r,i,s){return ls=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,be.H=t===null||t.memoizedState===null?h_:py,yo=!1,s=n(r,i),yo=!1,vl&&(s=P9(e,n,r,i)),z9(t),s}function z9(t){be.H=$c;var e=We!==null&&We.next!==null;if(ls=0,Bt=We=Ee=null,Of=!1,Gc=0,bl=null,e)throw Error(Z(300));t===null||qt||(t=t.dependencies,t!==null&&Mf(t)&&(qt=!0))}function P9(t,e,n,r){Ee=t;var i=0;do{if(vl&&(bl=null),Gc=0,vl=!1,25<=i)throw Error(Z(301));if(i+=1,Bt=We=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}be.H=f_,s=e(n,r)}while(vl);return s}function KC(){var t=be.H,e=t.useState()[0];return e=typeof e.then=="function"?T0(e):e,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ee.flags|=1024),e}function sy(){var t=zf!==0;return zf=0,t}function ay(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function oy(t){if(Of){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Of=!1}ls=0,Bt=We=Ee=null,vl=!1,Gc=zf=0,bl=null}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ee.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Ot(){if(We===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Bt===null?Ee.memoizedState:Bt.next;if(e!==null)Bt=e,We=t;else{if(t===null)throw Ee.alternate===null?Error(Z(467)):Error(Z(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Bt===null?Ee.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function T0(t){var e=Gc;return Gc+=1,bl===null&&(bl=[]),t=k9(bl,t,e),e=Ee,(Bt===null?e.memoizedState:Bt.next)===null&&(e=e.alternate,be.H=e===null||e.memoizedState===null?h_:py),t}function Fd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return T0(t);if(t.$$typeof===Zi)return dn(t)}throw Error(Z(438,String(t)))}function ly(t){var e=null,n=Ee.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=jd(),Ee.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=DR;return e.index++,n}function us(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=Ot();return uy(e,We,t)}function uy(t,e,n){var r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Pe&f)===f:(ls&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Dl&&(h=!0);else if((ls&d)===d){c=c.next,d===Dl&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,Ee.lanes|=d,pa|=d;f=c.action,yo&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,Ee.lanes|=f,pa|=f;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!pr(s,t.memoizedState)&&(qt=!0,h&&(n=gl,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Wm(t){var e=Ot(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);pr(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function L9(t,e,n){var r=Ee,i=Ot(),s=Ue;if(s){if(n===void 0)throw Error(Z(407));n=n()}else n=e();var a=!pr((We||i).memoizedState,n);if(a&&(i.memoizedState=n,qt=!0),i=i.queue,cy(B9.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,zl(9,{destroy:void 0},U9.bind(null,r,i,n,e),null),et===null)throw Error(Z(349));s||ls&127||V9(r,e,n)}return n}function V9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e=jd(),Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U9(t,e,n,r){e.value=n,e.getSnapshot=r,j9(e)&&F9(t)}function B9(t,e,n){return n(function(){j9(e)&&F9(t)})}function j9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function F9(t){var e=ko(t,2);e!==null&&Wn(e,t,2)}function K1(t){var e=On();if(typeof t=="function"){var n=t;if(t=n(),yo){Zs(!0);try{n()}finally{Zs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},e}function q9(t,e,n,r){return t.baseState=n,uy(t,We,typeof r=="function"?r:us)}function YC(t,e,n,r,i){if(Hd(t))throw Error(Z(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};be.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,H9(e,s)):(s.next=n.next,e.pending=n.next=s)}}function H9(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=be.T,a={};be.T=a;try{var o=n(i,r),l=be.S;l!==null&&l(a,o),z5(t,e,o)}catch(c){Y1(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),be.T=s}}else try{s=n(i,r),z5(t,e,s)}catch(c){Y1(t,e,c)}}function z5(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){P5(t,e,r)},function(r){return Y1(t,e,r)}):P5(t,e,n)}function P5(t,e,n){e.status="fulfilled",e.value=n,G9(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,H9(t,n)))}function Y1(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,G9(e),e=e.next;while(e!==r)}t.action=null}function G9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function $9(t,e){return e}function L5(t,e){if(Ue){var n=et.formState;if(n!==null){e:{var r=Ee;if(Ue){if(lt){t:{for(var i=lt,s=Dr;i.nodeType!==8;){if(!s){i=null;break t}if(i=Vr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){lt=Vr(i.nextSibling),r=i.data==="F!";break e}}da(r)}r=!1}r&&(e=n[0])}}return n=On(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$9,lastRenderedState:e},n.queue=r,n=l_.bind(null,Ee,r),r.dispatch=n,r=K1(!1),s=my.bind(null,Ee,!1,r.queue),r=On(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=YC.bind(null,Ee,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function V5(t){var e=Ot();return Z9(e,We,t)}function Z9(t,e,n){if(e=uy(t,e,$9)[0],t=Qh(us)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=T0(e)}catch(a){throw a===iu?Bd:a}else r=e;e=Ot();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Ee.flags|=2048,zl(9,{destroy:void 0},XC.bind(null,i,n),null)),[r,s,t]}function XC(t,e){t.action=e}function U5(t){var e=Ot(),n=We;if(n!==null)return Z9(e,n,t);Ot(),e=e.memoizedState,n=Ot();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function zl(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Ee.updateQueue,e===null&&(e=jd(),Ee.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function K9(){return Ot().memoizedState}function Wh(t,e,n,r){var i=On();Ee.flags|=t,i.memoizedState=zl(1|e,{destroy:void 0},n,r===void 0?null:r)}function qd(t,e,n,r){var i=Ot();r=r===void 0?null:r;var s=i.memoizedState.inst;We!==null&&r!==null&&ry(r,We.memoizedState.deps)?i.memoizedState=zl(e,s,n,r):(Ee.flags|=t,i.memoizedState=zl(1|e,s,n,r))}function B5(t,e){Wh(8390656,8,t,e)}function cy(t,e){qd(2048,8,t,e)}function QC(t){Ee.flags|=4;var e=Ee.updateQueue;if(e===null)e=jd(),Ee.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Y9(t){var e=Ot().memoizedState;return QC({ref:e,nextImpl:t}),function(){if($e&2)throw Error(Z(440));return e.impl.apply(void 0,arguments)}}function X9(t,e){return qd(4,2,t,e)}function Q9(t,e){return qd(4,4,t,e)}function W9(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J9(t,e,n){n=n!=null?n.concat([t]):null,qd(4,4,W9.bind(null,e,t),n)}function hy(){}function e_(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t_(t,e){var n=Ot();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&ry(e,r[1]))return r[0];if(r=t(),yo){Zs(!0);try{t()}finally{Zs(!1)}}return n.memoizedState=[r,e],r}function fy(t,e,n){return n===void 0||ls&1073741824&&!(Pe&261930)?t.memoizedState=e:(t.memoizedState=n,t=q_(),Ee.lanes|=t,pa|=t,n)}function n_(t,e,n,r){return pr(n,e)?n:Ol.current!==null?(t=fy(t,n,r),pr(t,e)||(qt=!0),t):!(ls&42)||ls&1073741824&&!(Pe&261930)?(qt=!0,t.memoizedState=n):(t=q_(),Ee.lanes|=t,pa|=t,e)}function r_(t,e,n,r,i){var s=Ke.p;Ke.p=s!==0&&8>s?s:8;var a=be.T,o={};be.T=o,my(t,!1,e,n);try{var l=i(),c=be.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=$C(l,r);Sc(t,e,h,mr(t))}else Sc(t,e,r,mr(t))}catch(f){Sc(t,e,{then:function(){},status:"rejected",reason:f},mr())}finally{Ke.p=s,a!==null&&o.types!==null&&(a.types=o.types),be.T=a}}function WC(){}function X1(t,e,n,r){if(t.tag!==5)throw Error(Z(476));var i=i_(t).queue;r_(t,i,e,io,n===null?WC:function(){return s_(t),n(r)})}function i_(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:io,baseState:io,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:io},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function s_(t){var e=i_(t);e.next===null&&(e=t.alternate.memoizedState),Sc(t,e.next.queue,{},mr())}function dy(){return dn(Yc)}function a_(){return Ot().memoizedState}function o_(){return Ot().memoizedState}function JC(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=mr();t=na(n);var r=ra(e,t,n);r!==null&&(Wn(r,e,n),bc(r,e,n)),e={cache:W4()},t.payload=e;return}e=e.return}}function ek(t,e,n){var r=mr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hd(t)?u_(e,n):(n=K4(t,e,n,r),n!==null&&(Wn(n,t,r),c_(n,e,r)))}function l_(t,e,n){var r=mr();Sc(t,e,n,r)}function Sc(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hd(t))u_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,pr(o,a))return Ud(t,e,i,0),et===null&&Vd(),!1}catch{}finally{}if(n=K4(t,e,i,r),n!==null)return Wn(n,t,r),c_(n,e,r),!0}return!1}function my(t,e,n,r){if(r={lane:2,revertLane:wy(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hd(t)){if(e)throw Error(Z(479))}else e=K4(t,n,r,2),e!==null&&Wn(e,t,2)}function Hd(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function u_(t,e){vl=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c_(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yb(t,n)}}var $c={readContext:dn,use:Fd,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};$c.useEffectEvent=At;var h_={readContext:dn,use:Fd,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:B5,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Wh(4194308,4,W9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wh(4194308,4,t,e)},useInsertionEffect:function(t,e){Wh(4,2,t,e)},useMemo:function(t,e){var n=On();e=e===void 0?null:e;var r=t();if(yo){Zs(!0);try{t()}finally{Zs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=On();if(n!==void 0){var i=n(e);if(yo){Zs(!0);try{n(e)}finally{Zs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ek.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:function(t){t=K1(t);var e=t.queue,n=l_.bind(null,Ee,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hy,useDeferredValue:function(t,e){var n=On();return fy(n,t,e)},useTransition:function(){var t=K1(!1);return t=r_.bind(null,Ee,t.queue,!0,!1),On().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Ee,i=On();if(Ue){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),et===null)throw Error(Z(349));Pe&127||V9(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,B5(B9.bind(null,r,s,t),[t]),r.flags|=2048,zl(9,{destroy:void 0},U9.bind(null,r,s,n,e),null),n},useId:function(){var t=On(),e=et.identifierPrefix;if(Ue){var n=li,r=oi;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=zf++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ZC++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:dy,useFormState:L5,useActionState:L5,useOptimistic:function(t){var e=On();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=my.bind(null,Ee,!0,n),n.dispatch=e,[t,e]},useMemoCache:ly,useCacheRefresh:function(){return On().memoizedState=JC.bind(null,Ee)},useEffectEvent:function(t){var e=On(),n={impl:t};return e.memoizedState=n,function(){if($e&2)throw Error(Z(440));return n.impl.apply(void 0,arguments)}}},py={readContext:dn,use:Fd,useCallback:e_,useContext:dn,useEffect:cy,useImperativeHandle:J9,useInsertionEffect:X9,useLayoutEffect:Q9,useMemo:t_,useReducer:Qh,useRef:K9,useState:function(){return Qh(us)},useDebugValue:hy,useDeferredValue:function(t,e){var n=Ot();return n_(n,We.memoizedState,t,e)},useTransition:function(){var t=Qh(us)[0],e=Ot().memoizedState;return[typeof t=="boolean"?t:T0(t),e]},useSyncExternalStore:L9,useId:a_,useHostTransitionStatus:dy,useFormState:V5,useActionState:V5,useOptimistic:function(t,e){var n=Ot();return q9(n,We,t,e)},useMemoCache:ly,useCacheRefresh:o_};py.useEffectEvent=Y9;var f_={readContext:dn,use:Fd,useCallback:e_,useContext:dn,useEffect:cy,useImperativeHandle:J9,useInsertionEffect:X9,useLayoutEffect:Q9,useMemo:t_,useReducer:Wm,useRef:K9,useState:function(){return Wm(us)},useDebugValue:hy,useDeferredValue:function(t,e){var n=Ot();return We===null?fy(n,t,e):n_(n,We.memoizedState,t,e)},useTransition:function(){var t=Wm(us)[0],e=Ot().memoizedState;return[typeof t=="boolean"?t:T0(t),e]},useSyncExternalStore:L9,useId:a_,useHostTransitionStatus:dy,useFormState:U5,useActionState:U5,useOptimistic:function(t,e){var n=Ot();return We!==null?q9(n,We,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ly,useCacheRefresh:o_};f_.useEffectEvent=Y9;function Jm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Q1={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),i=na(r);i.payload=e,n!=null&&(i.callback=n),e=ra(t,i,r),e!==null&&(Wn(e,t,r),bc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),i=na(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ra(t,i,r),e!==null&&(Wn(e,t,r),bc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=na(n);r.tag=2,e!=null&&(r.callback=e),e=ra(t,r,n),e!==null&&(Wn(e,t,n),bc(e,t,n))}};function j5(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(i,s):!0}function F5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Q1.enqueueReplaceState(e,e.state,null)}function vo(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ct({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function d_(t){Rf(t)}function m_(t){console.error(t)}function p_(t){Rf(t)}function Pf(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function q5(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function W1(t,e,n){return n=na(n),n.tag=3,n.payload={element:null},n.callback=function(){Pf(t,e)},n}function g_(t){return t=na(t),t.tag=3,t}function y_(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){q5(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){q5(e,n,r),typeof i!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function tk(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&ru(e,n,i,!0),n=gr.current,n!==null){switch(n.tag){case 31:case 13:return Lr===null?jf():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Nf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),cp(t,r,i)),!1;case 22:return n.flags|=65536,r===Nf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),cp(t,r,i)),!1}throw Error(Z(435,n.tag))}return cp(t,r,i),jf(),!1}if(Ue)return e=gr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==U1&&(t=Error(Z(422),{cause:r}),qc(Ir(t,n)))):(r!==U1&&(e=Error(Z(423),{cause:r}),qc(Ir(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Ir(r,n),i=W1(t.stateNode,r,i),Qm(t,i),xt!==4&&(xt=2)),!1;var s=Error(Z(520),{cause:r});if(s=Ir(s,n),Ec===null?Ec=[s]:Ec.push(s),xt!==4&&(xt=2),e===null)return!0;r=Ir(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=W1(n.stateNode,r,t),Qm(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ia===null||!ia.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=g_(i),y_(i,t,n,r),Qm(n,i),!1}n=n.return}while(n!==null);return!1}var gy=Error(Z(461)),qt=!1;function ln(t,e,n,r){e.child=t===null?N9(e,null,n,r):go(e,t.child,n,r)}function H5(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return po(e),r=iy(t,e,n,a,s,i),o=sy(),t!==null&&!qt?(ay(t,e,i),cs(t,e,i)):(Ue&&o&&X4(e),e.flags|=1,ln(t,e,r,i),e.child)}function G5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Y4(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,v_(t,e,s,r,i)):(t=Yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!yy(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(a,r)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=ts(s,r),t.ref=e.ref,t.return=e,e.child=t}function v_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jc(s,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=s,yy(t,i))t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,cs(t,e,i)}return J1(t,e,n,r,i)}function b_(t,e,n,r){var i=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,e.child=null;return $5(t,e,s,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xh(e,s!==null?s.cachePool:null),s!==null?O5(e,s):$1(),O9(e);else return r=e.lanes=536870912,$5(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(Xh(e,s.cachePool),O5(e,s),Bs(),e.memoizedState=null):(t!==null&&Xh(e,null),$1(),Bs());return ln(t,e,i,n),e.child}function sc(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function $5(t,e,n,r,i){var s=J4();return s=s===null?null:{parent:Ft._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Xh(e,null),$1(),O9(e),t!==null&&ru(t,e,r,!0),e.childLanes=i,null}function Jh(t,e){return e=Lf({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Z5(t,e,n){return go(e,t.child,null,n),t=Jh(e,e.pendingProps),t.flags|=2,lr(e),e.memoizedState=null,t}function nk(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ue){if(r.mode==="hidden")return t=Jh(e,r),e.lanes=536870912,sc(null,t);if(Z1(e),(t=lt)?(t=hT(t,Dr),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fa!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=A9(t),n.return=e,e.child=n,fn=e,lt=null)):t=null,t===null)throw da(e);return e.lanes=536870912,null}return Jh(e,r)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Z1(e),i)if(e.flags&256)e.flags&=-257,e=Z5(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Z(558));else if(qt||ru(t,e,n,!1),i=(n&t.childLanes)!==0,qt||i){if(r=et,r!==null&&(a=Xb(r,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,ko(t,a),Wn(r,t,a),gy;jf(),e=Z5(t,e,n)}else t=s.treeContext,lt=Vr(a.nextSibling),fn=e,Ue=!0,ta=null,Dr=!1,t!==null&&x9(e,t),e=Jh(e,r),e.flags|=4096;return e}return t=ts(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ef(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function J1(t,e,n,r,i){return po(e),n=iy(t,e,n,r,void 0,i),r=sy(),t!==null&&!qt?(ay(t,e,i),cs(t,e,i)):(Ue&&r&&X4(e),e.flags|=1,ln(t,e,n,i),e.child)}function K5(t,e,n,r,i,s){return po(e),e.updateQueue=null,n=P9(e,r,n,i),z9(t),r=sy(),t!==null&&!qt?(ay(t,e,s),cs(t,e,s)):(Ue&&r&&X4(e),e.flags|=1,ln(t,e,n,s),e.child)}function Y5(t,e,n,r,i){if(po(e),e.stateNode===null){var s=tl,a=n.contextType;typeof a=="object"&&a!==null&&(s=dn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Q1,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},ty(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?dn(a):tl,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Jm(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Q1.enqueueReplaceState(s,s.state,null),Tc(e,r,s,i),_c(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=vo(n,o);s.props=l;var c=s.context,h=n.contextType;a=tl,typeof h=="object"&&h!==null&&(a=dn(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&F5(e,s,r,a),Ls=!1;var d=e.memoizedState;s.state=d,Tc(e,r,s,i),_c(),c=e.memoizedState,o||d!==c||Ls?(typeof f=="function"&&(Jm(e,n,f,r),c=e.memoizedState),(l=Ls||j5(e,n,l,r,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,H1(t,e),a=e.memoizedProps,h=vo(n,a),s.props=h,f=e.pendingProps,d=s.context,c=n.contextType,l=tl,typeof c=="object"&&c!==null&&(l=dn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&F5(e,s,r,l),Ls=!1,d=e.memoizedState,s.state=d,Tc(e,r,s,i),_c();var p=e.memoizedState;a!==f||d!==p||Ls||t!==null&&t.dependencies!==null&&Mf(t.dependencies)?(typeof o=="function"&&(Jm(e,n,o,r),p=e.memoizedState),(h=Ls||j5(e,n,h,r,d,p,l)||t!==null&&t.dependencies!==null&&Mf(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,ef(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=go(e,t.child,null,i),e.child=go(e,null,n,i)):ln(t,e,n,i),e.memoizedState=s.state,t=e.child):t=cs(t,e,i),t}function X5(t,e,n,r){return mo(),e.flags|=256,ln(t,e,n,r),e.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(t){return{baseLanes:t,cachePool:C9()}}function np(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=cr),t}function __(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ue){if(i?Us(e):Bs(),(t=lt)?(t=hT(t,Dr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:fa!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=A9(t),n.return=e,e.child=n,fn=e,lt=null)):t=null,t===null)throw da(e);return dg(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Bs(),i=e.mode,o=Lf({mode:"hidden",children:o},i),r=so(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=tp(n),r.childLanes=np(t,a,n),e.memoizedState=ep,sc(null,r)):(Us(e),eg(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(Us(e),e.flags&=-257,e=rp(t,e,n)):e.memoizedState!==null?(Bs(),e.child=t.child,e.flags|=128,e=null):(Bs(),o=r.fallback,i=e.mode,r=Lf({mode:"visible",children:r.children},i),o=so(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,go(e,t.child,null,n),r=e.child,r.memoizedState=tp(n),r.childLanes=np(t,a,n),e.memoizedState=ep,e=sc(null,r));else if(Us(e),dg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Z(419)),r.stack="",r.digest=a,qc({value:r,source:null,stack:null}),e=rp(t,e,n)}else if(qt||ru(t,e,n,!1),a=(n&t.childLanes)!==0,qt||a){if(a=et,a!==null&&(r=Xb(a,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,ko(t,r),Wn(a,t,r),gy;fg(o)||jf(),e=rp(t,e,n)}else fg(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,lt=Vr(o.nextSibling),fn=e,Ue=!0,ta=null,Dr=!1,t!==null&&x9(e,t),e=eg(e,r.children),e.flags|=4096);return e}return i?(Bs(),o=r.fallback,i=e.mode,l=t.child,c=l.sibling,r=ts(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=ts(c,o):(o=so(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,sc(null,r),r=e.child,o=t.child.memoizedState,o===null?o=tp(n):(i=o.cachePool,i!==null?(l=Ft._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=C9(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=np(t,a,n),e.memoizedState=ep,sc(t.child,r)):(Us(e),n=t.child,t=n.sibling,n=ts(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function eg(t,e){return e=Lf({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Lf(t,e){return t=ur(22,t,null,e),t.lanes=0,t}function rp(t,e,n){return go(e,t.child,null,n),t=eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),j1(t.return,e,n)}function ip(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function T_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=It.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,it(It,a),ln(t,e,r,n),r=Ue?Fc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q5(t,n,e);else if(t.tag===19)Q5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Df(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ip(e,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Df(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ip(e,!0,n,null,s,r);break;case"together":ip(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pa|=e.lanes,!(n&e.childLanes))if(t!==null){if(ru(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yy(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Mf(t)))}function rk(t,e,n){switch(e.tag){case 3:wf(e,e.stateNode.containerInfo),Vs(e,Ft,t.memoizedState.cache),mo();break;case 27:case 5:C1(e);break;case 4:wf(e,e.stateNode.containerInfo);break;case 10:Vs(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Z1(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Us(e),e.flags|=128,null):n&e.child.childLanes?__(t,e,n):(Us(e),t=cs(t,e,n),t!==null?t.sibling:null);Us(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(ru(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return T_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(It,It.current),r)break;return null;case 22:return e.lanes=0,b_(t,e,n,e.pendingProps);case 24:Vs(e,Ft,t.memoizedState.cache)}return cs(t,e,n)}function S_(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)qt=!0;else{if(!yy(t,n)&&!(e.flags&128))return qt=!1,rk(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Ue&&e.flags&1048576&&E9(e,Fc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Xa(e.elementType),e.type=t,typeof t=="function")Y4(t)?(r=vo(t,r),e.tag=1,e=Y5(null,e,t,r,n)):(e.tag=0,e=J1(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===z4){e.tag=11,e=H5(null,e,t,r,n);break e}else if(i===P4){e.tag=14,e=G5(null,e,t,r,n);break e}}throw e=x1(t)||t,Error(Z(306,e,""))}}return e;case 0:return J1(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=vo(r,e.pendingProps),Y5(t,e,r,i,n);case 3:e:{if(wf(e,e.stateNode.containerInfo),t===null)throw Error(Z(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,H1(t,e),Tc(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Vs(e,Ft,r),r!==s.cache&&F1(e,[Ft],n,!0),_c(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=X5(t,e,r,n);break e}else if(r!==i){i=Ir(Error(Z(424)),e),qc(i),e=X5(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Vr(t.firstChild),fn=e,Ue=!0,ta=null,Dr=!0,n=N9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mo(),r===i){e=cs(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 26:return ef(t,e),t===null?(n=y3(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ue||(n=e.type,t=e.pendingProps,r=Gf(ea.current).createElement(n),r[hn]=e,r[er]=t,mn(r,n,t),rn(r),e.stateNode=r):e.memoizedState=y3(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return C1(e),t===null&&Ue&&(r=e.stateNode=fT(e.type,e.pendingProps,ea.current),fn=e,Dr=!0,i=lt,Ca(e.type)?(mg=i,lt=Vr(r.firstChild)):lt=i),ln(t,e,e.pendingProps.children,n),ef(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ue&&((i=r=lt)&&(r=Dk(r,e.type,e.pendingProps,Dr),r!==null?(e.stateNode=r,fn=e,lt=Vr(r.firstChild),Dr=!1,i=!0):i=!1),i||da(e)),C1(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,cg(i,s)?r=null:a!==null&&cg(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=iy(t,e,KC,null,null,n),Yc._currentValue=i),ef(t,e),ln(t,e,r,n),e.child;case 6:return t===null&&Ue&&((t=n=lt)&&(n=Ok(n,e.pendingProps,Dr),n!==null?(e.stateNode=n,fn=e,lt=null,t=!0):t=!1),t||da(e)),null;case 13:return __(t,e,n);case 4:return wf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):ln(t,e,r,n),e.child;case 11:return H5(t,e,e.type,e.pendingProps,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Vs(e,e.type,r.value),ln(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,po(e),i=dn(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return G5(t,e,e.type,e.pendingProps,n);case 15:return v_(t,e,e.type,e.pendingProps,n);case 19:return T_(t,e,n);case 31:return nk(t,e,n);case 22:return b_(t,e,n,e.pendingProps);case 24:return po(e),r=dn(Ft),t===null?(i=J4(),i===null&&(i=et,s=W4(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},ty(e),Vs(e,Ft,i)):(t.lanes&n&&(H1(t,e),Tc(e,null,null,n),_c()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Vs(e,Ft,r)):(r=s.cache,Vs(e,Ft,r),r!==i.cache&&F1(e,[Ft],n,!0))),ln(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Z(156,e.tag))}function Ui(t){t.flags|=4}function sp(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if($_())t.flags|=8192;else throw oo=Nf,ey}else t.flags&=-16777217}function W5(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!pT(e))if($_())t.flags|=8192;else throw oo=Nf,ey}function mh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Zb():536870912,t.lanes|=e,Pl|=e)}function Hu(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ik(t,e,n){var r=e.pendingProps;switch(Q4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return ot(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ns(Ft),Ml(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vo(e)?Ui(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xm())),ot(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(Ui(e),s!==null?(ot(e),W5(e,s)):(ot(e),sp(e,i,null,r,n))):s?s!==t.memoizedState?(Ui(e),ot(e),W5(e,s)):(ot(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ui(e),ot(e),sp(e,i,t,r,n)),null;case 27:if(Af(e),n=ea.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return ot(e),null}t=hi.current,Vo(e)?R5(e):(t=fT(i,r,n),e.stateNode=t,Ui(e))}return ot(e),null;case 5:if(Af(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return ot(e),null}if(s=hi.current,Vo(e))R5(e);else{var a=Gf(ea.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}s[hn]=e,s[er]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(mn(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ui(e)}}return ot(e),sp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ui(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(t=ea.current,Vo(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=fn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[hn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||lT(t.nodeValue,n)),t||da(e,!0)}else t=Gf(t).createTextNode(r),t[hn]=e,e.stateNode=t}return ot(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Vo(e),n!==null){if(t===null){if(!r)throw Error(Z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(557));t[hn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),t=!1}else n=Xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(lr(e),e):(lr(e),null);if(e.flags&128)throw Error(Z(558))}return ot(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Vo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[hn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else i=Xm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(lr(e),e):(lr(e),null)}return lr(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),mh(e,e.updateQueue),ot(e),null);case 4:return Ml(),t===null&&Ay(e.stateNode.containerInfo),ot(e),null;case 10:return ns(e.type),ot(e),null;case 19:if(sn(It),r=e.memoizedState,r===null)return ot(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)Hu(r,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Df(t),s!==null){for(e.flags|=128,Hu(r,!1),t=s.updateQueue,e.updateQueue=t,mh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)w9(n,t),n=n.sibling;return it(It,It.current&1|2),Ue&&Gi(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&hr()>Uf&&(e.flags|=128,i=!0,Hu(r,!1),e.lanes=4194304)}else{if(!i)if(t=Df(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,mh(e,t),Hu(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ue)return ot(e),null}else 2*hr()-r.renderingStartTime>Uf&&n!==536870912&&(e.flags|=128,i=!0,Hu(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=hr(),t.sibling=null,n=It.current,it(It,i?n&1|2:n&1),Ue&&Gi(e,r.treeForkCount),t):(ot(e),null);case 22:case 23:return lr(e),ny(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),n=e.updateQueue,n!==null&&mh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&sn(ao),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ns(Ft),ot(e),null;case 25:return null;case 30:return null}throw Error(Z(156,e.tag))}function sk(t,e){switch(Q4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ns(Ft),Ml(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Af(e),null;case 31:if(e.memoizedState!==null){if(lr(e),e.alternate===null)throw Error(Z(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(lr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(It),null;case 4:return Ml(),null;case 10:return ns(e.type),null;case 22:case 23:return lr(e),ny(),t!==null&&sn(ao),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ns(Ft),null;case 25:return null;default:return null}}function w_(t,e){switch(Q4(e),e.tag){case 3:ns(Ft),Ml();break;case 26:case 27:case 5:Af(e);break;case 4:Ml();break;case 31:e.memoizedState!==null&&lr(e);break;case 13:lr(e);break;case 19:sn(It);break;case 10:ns(e.type);break;case 22:case 23:lr(e),ny(),t!==null&&sn(ao);break;case 24:ns(Ft)}}function S0(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Xe(e,e.return,o)}}function ma(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,c=o;try{c()}catch(h){Xe(i,l,h)}}}r=r.next}while(r!==s)}}catch(h){Xe(e,e.return,h)}}function A_(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{D9(e,n)}catch(r){Xe(t,t.return,r)}}}function E_(t,e,n){n.props=vo(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Xe(t,e,r)}}function wc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Xe(t,e,i)}}function ui(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Xe(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Xe(t,e,i)}else n.current=null}function x_(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Xe(t,t.return,i)}}function ap(t,e,n){try{var r=t.stateNode;Rk(r,t.type,n,e),r[er]=e}catch(i){Xe(t,t.return,i)}}function R_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ki));else if(r!==4&&(r===27&&Ca(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ca(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function C_(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);mn(e,r,n),e[hn]=t,e[er]=n}catch(s){Xe(t,t.return,s)}}var $i=!1,jt=!1,lp=!1,J5=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ak(t,e){if(t=t.containerInfo,lg=Yf,t=p9(t),$4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++h===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},Yf=!1,nn=e;nn!==null;)if(e=nn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,nn=t;else for(;nn!==null;){switch(e=nn,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var _=vo(n.type,i);t=r.getSnapshotBeforeUpdate(_,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(E){Xe(n,n.return,E)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)hg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Z(163))}if(t=e.sibling,t!==null){t.return=e.return,nn=t;break}nn=e.return}}function k_(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ji(t,n),r&4&&S0(5,n);break;case 1:if(ji(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Xe(n,n.return,a)}else{var i=vo(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Xe(n,n.return,a)}}r&64&&A_(n),r&512&&wc(n,n.return);break;case 3:if(ji(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{D9(t,e)}catch(a){Xe(n,n.return,a)}}break;case 27:e===null&&r&4&&C_(n);case 26:case 5:ji(t,n),e===null&&r&4&&x_(n),r&512&&wc(n,n.return);break;case 12:ji(t,n);break;case 31:ji(t,n),r&4&&I_(t,n);break;case 13:ji(t,n),r&4&&D_(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pk.bind(null,n),zk(t,n))));break;case 22:if(r=n.memoizedState!==null||$i,!r){e=e!==null&&e.memoizedState!==null||jt,i=$i;var s=jt;$i=r,(jt=e)&&!s?Hi(t,n,(n.subtreeFlags&8772)!==0):ji(t,n),$i=i,jt=s}break;case 30:break;default:ji(t,n)}}function M_(t){var e=t.alternate;e!==null&&(t.alternate=null,M_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&B4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,Kn=!1;function Bi(t,e,n){for(n=n.child;n!==null;)N_(t,e,n),n=n.sibling}function N_(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(p0,n)}catch{}switch(n.tag){case 26:jt||ui(n,e),Bi(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||ui(n,e);var r=ft,i=Kn;Ca(n.type)&&(ft=n.stateNode,Kn=!1),Bi(t,e,n),Rc(n.stateNode),ft=r,Kn=i;break;case 5:jt||ui(n,e);case 6:if(r=ft,i=Kn,ft=null,Bi(t,e,n),ft=r,Kn=i,ft!==null)if(Kn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(s){Xe(n,e,s)}else try{ft.removeChild(n.stateNode)}catch(s){Xe(n,e,s)}break;case 18:ft!==null&&(Kn?(t=ft,f3(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Bl(t)):f3(ft,n.stateNode));break;case 4:r=ft,i=Kn,ft=n.stateNode.containerInfo,Kn=!0,Bi(t,e,n),ft=r,Kn=i;break;case 0:case 11:case 14:case 15:ma(2,n,e),jt||ma(4,n,e),Bi(t,e,n);break;case 1:jt||(ui(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&E_(n,e,r)),Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:jt=(r=jt)||n.memoizedState!==null,Bi(t,e,n),jt=r;break;default:Bi(t,e,n)}}function I_(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Bl(t)}catch(n){Xe(e,e.return,n)}}}function D_(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(n){Xe(e,e.return,n)}}function ok(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new J5),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new J5),e;default:throw Error(Z(435,t.tag))}}function ph(t,e){var n=ok(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=gk.bind(null,t,r);r.then(i,i)}})}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ca(o.type)){ft=o.stateNode,Kn=!1;break e}break;case 5:ft=o.stateNode,Kn=!1;break e;case 3:case 4:ft=o.stateNode.containerInfo,Kn=!0;break e}o=o.return}if(ft===null)throw Error(Z(160));N_(s,a,i),ft=null,Kn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)O_(e,t),e=e.sibling}var Qr=null;function O_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$n(e,t),Zn(t),r&4&&(ma(3,t,t.return),S0(3,t),ma(5,t,t.return));break;case 1:$n(e,t),Zn(t),r&512&&(jt||n===null||ui(n,n.return)),r&64&&$i&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Qr;if($n(e,t),Zn(t),r&512&&(jt||n===null||ui(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[v0]||s[hn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),mn(s,r,n),s[hn]=t,rn(s),r=s;break e;case"link":var a=b3("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),mn(s,r,n),i.head.appendChild(s);break;case"meta":if(a=b3("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),mn(s,r,n),i.head.appendChild(s);break;default:throw Error(Z(468,r))}s[hn]=t,rn(s),r=s}t.stateNode=r}else _3(i,t.type,t.stateNode);else t.stateNode=v3(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?_3(i,t.type,t.stateNode):v3(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ap(t,t.memoizedProps,n.memoizedProps)}break;case 27:$n(e,t),Zn(t),r&512&&(jt||n===null||ui(n,n.return)),n!==null&&r&4&&ap(t,t.memoizedProps,n.memoizedProps);break;case 5:if($n(e,t),Zn(t),r&512&&(jt||n===null||ui(n,n.return)),t.flags&32){i=t.stateNode;try{Il(i,"")}catch(_){Xe(t,t.return,_)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,ap(t,i,n!==null?n.memoizedProps:i)),r&1024&&(lp=!0);break;case 6:if($n(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(Z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(_){Xe(t,t.return,_)}}break;case 3:if(rf=null,i=Qr,Qr=$f(e.containerInfo),$n(e,t),Qr=i,Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(_){Xe(t,t.return,_)}lp&&(lp=!1,z_(t));break;case 4:r=Qr,Qr=$f(t.stateNode.containerInfo),$n(e,t),Zn(t),Qr=r;break;case 12:$n(e,t),Zn(t);break;case 31:$n(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ph(t,r)));break;case 13:$n(e,t),Zn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gd=hr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ph(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=$i,h=jt;if($i=c||i,jt=h||l,$n(e,t),jt=h,$i=c,Zn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||$i||jt||Qa(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(_){Xe(l,l.return,_)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(_){Xe(l,l.return,_)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;i?d3(p,!0):d3(l.stateNode,!1)}catch(_){Xe(l,l.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ph(t,n))));break;case 19:$n(e,t),Zn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ph(t,r)));break;case 30:break;case 21:break;default:$n(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(R_(r)){n=r;break}r=r.return}if(n==null)throw Error(Z(160));switch(n.tag){case 27:var i=n.stateNode,s=op(t);Vf(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Il(a,""),n.flags&=-33);var o=op(t);Vf(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=op(t);tg(t,c,l);break;default:throw Error(Z(161))}}catch(h){Xe(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;z_(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ji(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)k_(t,e.alternate,e),e=e.sibling}function Qa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ma(4,e,e.return),Qa(e);break;case 1:ui(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&E_(e,e.return,n),Qa(e);break;case 27:Rc(e.stateNode);case 26:case 5:ui(e,e.return),Qa(e);break;case 22:e.memoizedState===null&&Qa(e);break;case 30:Qa(e);break;default:Qa(e)}t=t.sibling}}function Hi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(i,s,n),S0(4,s);break;case 1:if(Hi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Xe(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)I9(l[i],o)}catch(c){Xe(r,r.return,c)}}n&&a&64&&A_(s),wc(s,s.return);break;case 27:C_(s);case 26:case 5:Hi(i,s,n),n&&r===null&&a&4&&x_(s),wc(s,s.return);break;case 12:Hi(i,s,n);break;case 31:Hi(i,s,n),n&&a&4&&I_(i,s);break;case 13:Hi(i,s,n),n&&a&4&&D_(i,s);break;case 22:s.memoizedState===null&&Hi(i,s,n),wc(s,s.return);break;case 30:break;default:Hi(i,s,n)}e=e.sibling}}function vy(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&_0(n))}function by(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_0(t))}function Zr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P_(t,e,n,r),e=e.sibling}function P_(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Zr(t,e,n,r),i&2048&&S0(9,e);break;case 1:Zr(t,e,n,r);break;case 3:Zr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_0(t)));break;case 12:if(i&2048){Zr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Xe(e,e.return,l)}}else Zr(t,e,n,r);break;case 31:Zr(t,e,n,r);break;case 13:Zr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Zr(t,e,n,r):Ac(t,e):s._visibility&2?Zr(t,e,n,r):(s._visibility|=2,Fo(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&vy(a,e);break;case 24:Zr(t,e,n,r),i&2048&&by(e.alternate,e);break;default:Zr(t,e,n,r)}}function Fo(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Fo(s,a,o,l,i),S0(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Fo(s,a,o,l,i):Ac(s,a):(h._visibility|=2,Fo(s,a,o,l,i)),i&&c&2048&&vy(a.alternate,a);break;case 24:Fo(s,a,o,l,i),i&&c&2048&&by(a.alternate,a);break;default:Fo(s,a,o,l,i)}e=e.sibling}}function Ac(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Ac(n,r),i&2048&&vy(r.alternate,r);break;case 24:Ac(n,r),i&2048&&by(r.alternate,r);break;default:Ac(n,r)}e=e.sibling}}var ac=8192;function Uo(t,e,n){if(t.subtreeFlags&ac)for(t=t.child;t!==null;)L_(t,e,n),t=t.sibling}function L_(t,e,n){switch(t.tag){case 26:Uo(t,e,n),t.flags&ac&&t.memoizedState!==null&&Zk(n,Qr,t.memoizedState,t.memoizedProps);break;case 5:Uo(t,e,n);break;case 3:case 4:var r=Qr;Qr=$f(t.stateNode.containerInfo),Uo(t,e,n),Qr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ac,ac=16777216,Uo(t,e,n),ac=r):Uo(t,e,n));break;default:Uo(t,e,n)}}function V_(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Gu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];nn=r,B_(r,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U_(t),t=t.sibling}function U_(t){switch(t.tag){case 0:case 11:case 15:Gu(t),t.flags&2048&&ma(9,t,t.return);break;case 3:Gu(t);break;case 12:Gu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,tf(t)):Gu(t);break;default:Gu(t)}}function tf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];nn=r,B_(r,t)}V_(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ma(8,e,e.return),tf(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,tf(e));break;default:tf(e)}t=t.sibling}}function B_(t,e){for(;nn!==null;){var n=nn;switch(n.tag){case 0:case 11:case 15:ma(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_0(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,nn=r;else e:for(n=t;nn!==null;){r=nn;var i=r.sibling,s=r.return;if(M_(r),r===n){nn=null;break e}if(i!==null){i.return=s,nn=i;break e}nn=s}}}var lk={getCacheForType:function(t){var e=dn(Ft),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return dn(Ft).controller.signal}},uk=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,ze=null,Pe=0,Ye=0,or=null,Ys=!1,su=!1,_y=!1,hs=0,xt=0,pa=0,lo=0,Ty=0,cr=0,Pl=0,Ec=null,Xn=null,ng=!1,Gd=0,j_=0,Uf=1/0,Bf=null,ia=null,Kt=0,sa=null,Ll=null,rs=0,rg=0,ig=null,F_=null,xc=0,sg=null;function mr(){return $e&2&&Pe!==0?Pe&-Pe:be.T!==null?wy():Qb()}function q_(){if(cr===0)if(!(Pe&536870912)||Ue){var t=oh;oh<<=1,!(oh&3932160)&&(oh=262144),cr=t}else cr=536870912;return t=gr.current,t!==null&&(t.flags|=32),cr}function Wn(t,e,n){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Vl(t,0),Xs(t,Pe,cr,!1)),y0(t,n),(!($e&2)||t!==et)&&(t===et&&(!($e&2)&&(lo|=n),xt===4&&Xs(t,Pe,cr,!1)),Si(t))}function H_(t,e,n){if($e&6)throw Error(Z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||g0(t,e),i=r?fk(t,e):up(t,e,!0),s=r;do{if(i===0){su&&!r&&Xs(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!ck(n)){i=up(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Ec;var l=o.current.memoizedState.isDehydrated;if(l&&(Vl(o,a).flags|=256),a=up(o,a,!1),a!==2){if(_y&&!l){o.errorRecoveryDisabledLanes|=s,lo|=s,i=4;break e}s=Xn,Xn=i,s!==null&&(Xn===null?Xn=s:Xn.push.apply(Xn,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Vl(t,0),Xs(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Z(345));case 4:if((e&4194048)!==e)break;case 6:Xs(r,e,cr,!Ys);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(Z(329))}if((e&62914560)===e&&(i=Gd+300-hr(),10<i)){if(Xs(r,e,cr,!Ys),Od(r,0,!0)!==0)break e;rs=e,r.timeoutHandle=cT(e3.bind(null,r,n,Xn,Bf,ng,e,cr,lo,Pl,Ys,s,"Throttled",-0,0),i);break e}e3(r,n,Xn,Bf,ng,e,cr,lo,Pl,Ys,s,null,-0,0)}}break}while(!0);Si(t)}function e3(t,e,n,r,i,s,a,o,l,c,h,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ki},L_(e,s,f);var _=(s&62914560)===s?Gd-hr():(s&4194048)===s?j_-hr():0;if(_=Kk(f,_),_!==null){rs=s,t.cancelPendingCommit=_(n3.bind(null,t,e,s,n,r,i,a,o,l,h,f,null,d,p)),Xs(t,s,a,!c);return}}n3(t,e,s,n,r,i,a,o,l)}function ck(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e,n,r){e&=~Ty,e&=~lo,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-dr(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&Kb(t,n,e)}function $d(){return $e&6?!0:(w0(0),!1)}function Sy(){if(ze!==null){if(Ye===0)var t=ze.return;else t=ze,Yi=Mo=null,oy(t),yl=null,Hc=0,t=ze;for(;t!==null;)w_(t.alternate,t),t=t.return;ze=null}}function Vl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Mk(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),rs=0,Sy(),et=t,ze=n=ts(t.current,null),Pe=e,Ye=0,or=null,Ys=!1,su=g0(t,e),_y=!1,Pl=cr=Ty=lo=pa=xt=0,Xn=Ec=null,ng=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-dr(r),s=1<<i;e|=t[i],r&=~s}return hs=e,Vd(),n}function G_(t,e){Ee=null,be.H=$c,e===iu||e===Bd?(e=I5(),Ye=3):e===ey?(e=I5(),Ye=4):Ye=e===gy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,or=e,ze===null&&(xt=1,Pf(t,Ir(e,t.current)))}function $_(){var t=gr.current;return t===null?!0:(Pe&4194048)===Pe?Lr===null:(Pe&62914560)===Pe||Pe&536870912?t===Lr:!1}function Z_(){var t=be.H;return be.H=$c,t===null?$c:t}function K_(){var t=be.A;return be.A=lk,t}function jf(){xt=4,Ys||(Pe&4194048)!==Pe&&gr.current!==null||(su=!0),!(pa&134217727)&&!(lo&134217727)||et===null||Xs(et,Pe,cr,!1)}function up(t,e,n){var r=$e;$e|=2;var i=Z_(),s=K_();(et!==t||Pe!==e)&&(Bf=null,Vl(t,e)),e=!1;var a=xt;e:do try{if(Ye!==0&&ze!==null){var o=ze,l=or;switch(Ye){case 8:Sy(),a=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(e=!0);var c=Ye;if(Ye=0,or=null,il(t,o,l,c),n&&su){a=0;break e}break;default:c=Ye,Ye=0,or=null,il(t,o,l,c)}}hk(),a=xt;break}catch(h){G_(t,h)}while(!0);return e&&t.shellSuspendCounter++,Yi=Mo=null,$e=r,be.H=i,be.A=s,ze===null&&(et=null,Pe=0,Vd()),a}function hk(){for(;ze!==null;)Y_(ze)}function fk(t,e){var n=$e;$e|=2;var r=Z_(),i=K_();et!==t||Pe!==e?(Bf=null,Uf=hr()+500,Vl(t,e)):su=g0(t,e);e:do try{if(Ye!==0&&ze!==null){e=ze;var s=or;t:switch(Ye){case 1:Ye=0,or=null,il(t,e,s,1);break;case 2:case 9:if(N5(s)){Ye=0,or=null,t3(e);break}e=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Si(t)},s.then(e,e);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:N5(s)?(Ye=0,or=null,t3(e)):(Ye=0,or=null,il(t,e,s,7));break;case 5:var a=null;switch(ze.tag){case 26:a=ze.memoizedState;case 5:case 27:var o=ze;if(a?pT(a):o.stateNode.complete){Ye=0,or=null;var l=o.sibling;if(l!==null)ze=l;else{var c=o.return;c!==null?(ze=c,Zd(c)):ze=null}break t}}Ye=0,or=null,il(t,e,s,5);break;case 6:Ye=0,or=null,il(t,e,s,6);break;case 8:Sy(),xt=6;break e;default:throw Error(Z(462))}}dk();break}catch(h){G_(t,h)}while(!0);return Yi=Mo=null,be.H=r,be.A=i,$e=n,ze!==null?0:(et=null,Pe=0,Vd(),xt)}function dk(){for(;ze!==null&&!PR();)Y_(ze)}function Y_(t){var e=S_(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?Zd(t):ze=e}function t3(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=K5(n,e,e.pendingProps,e.type,void 0,Pe);break;case 11:e=K5(n,e,e.pendingProps,e.type.render,e.ref,Pe);break;case 5:oy(e);default:w_(n,e),e=ze=w9(e,hs),e=S_(n,e,hs)}t.memoizedProps=t.pendingProps,e===null?Zd(t):ze=e}function il(t,e,n,r){Yi=Mo=null,oy(e),yl=null,Hc=0;var i=e.return;try{if(tk(t,i,e,n,Pe)){xt=1,Pf(t,Ir(n,t.current)),ze=null;return}}catch(s){if(i!==null)throw ze=i,s;xt=1,Pf(t,Ir(n,t.current)),ze=null;return}e.flags&32768?(Ue||r===1?t=!0:su||Pe&536870912?t=!1:(Ys=t=!0,(r===2||r===9||r===3||r===6)&&(r=gr.current,r!==null&&r.tag===13&&(r.flags|=16384))),X_(e,t)):Zd(e)}function Zd(t){var e=t;do{if(e.flags&32768){X_(e,Ys);return}t=e.return;var n=ik(e.alternate,e,hs);if(n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);xt===0&&(xt=5)}function X_(t,e){do{var n=sk(t.alternate,t);if(n!==null){n.flags&=32767,ze=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ze=t;return}ze=t=n}while(t!==null);xt=6,ze=null}function n3(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do Kd();while(Kt!==0);if($e&6)throw Error(Z(327));if(e!==null){if(e===t.current)throw Error(Z(177));if(s=e.lanes|e.childLanes,s|=Z4,$R(t,n,s,a,o,l),t===et&&(ze=et=null,Pe=0),Ll=e,sa=t,rs=n,rg=s,ig=i,F_=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,yk(Ef,function(){return tT(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=be.T,be.T=null,i=Ke.p,Ke.p=2,a=$e,$e|=4;try{ak(t,e,n)}finally{$e=a,Ke.p=i,be.T=r}}Kt=1,Q_(),W_(),J_()}}function Q_(){if(Kt===1){Kt=0;var t=sa,e=Ll,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=be.T,be.T=null;var r=Ke.p;Ke.p=2;var i=$e;$e|=4;try{O_(e,t);var s=ug,a=p9(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&m9(o.ownerDocument.documentElement,o)){if(l!==null&&$4(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),_=o.textContent.length,E=Math.min(l.start,_),M=l.end===void 0?E:Math.min(l.end,_);!p.extend&&E>M&&(a=M,M=E,E=a);var b=A5(o,E),S=A5(o,M);if(b&&S&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==S.node||p.focusOffset!==S.offset)){var x=f.createRange();x.setStart(b.node,b.offset),p.removeAllRanges(),E>M?(p.addRange(x),p.extend(S.node,S.offset)):(x.setEnd(S.node,S.offset),p.addRange(x))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var O=f[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Yf=!!lg,ug=lg=null}finally{$e=i,Ke.p=r,be.T=n}}t.current=e,Kt=2}}function W_(){if(Kt===2){Kt=0;var t=sa,e=Ll,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=be.T,be.T=null;var r=Ke.p;Ke.p=2;var i=$e;$e|=4;try{k_(t,e.alternate,e)}finally{$e=i,Ke.p=r,be.T=n}}Kt=3}}function J_(){if(Kt===4||Kt===3){Kt=0,LR();var t=sa,e=Ll,n=rs,r=F_;e.subtreeFlags&10256||e.flags&10256?Kt=5:(Kt=0,Ll=sa=null,eT(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ia=null),U4(n),e=e.stateNode,fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(p0,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=be.T,i=Ke.p,Ke.p=2,be.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{be.T=e,Ke.p=i}}rs&3&&Kd(),Si(t),i=t.pendingLanes,n&261930&&i&42?t===sg?xc++:(xc=0,sg=t):xc=0,w0(0)}}function eT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_0(e)))}function Kd(){return Q_(),W_(),J_(),tT()}function tT(){if(Kt!==5)return!1;var t=sa,e=rg;rg=0;var n=U4(rs),r=be.T,i=Ke.p;try{Ke.p=32>n?32:n,be.T=null,n=ig,ig=null;var s=sa,a=rs;if(Kt=0,Ll=sa=null,rs=0,$e&6)throw Error(Z(331));var o=$e;if($e|=4,U_(s.current),P_(s,s.current,a,n),$e=o,w0(0,!1),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(p0,s)}catch{}return!0}finally{Ke.p=i,be.T=r,eT(t,e)}}function r3(t,e,n){e=Ir(n,e),e=W1(t.stateNode,e,2),t=ra(t,e,2),t!==null&&(y0(t,2),Si(t))}function Xe(t,e,n){if(t.tag===3)r3(t,t,n);else for(;e!==null;){if(e.tag===3){r3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){t=Ir(n,t),n=g_(2),r=ra(e,n,2),r!==null&&(y_(n,r,e,t),y0(r,2),Si(r));break}}e=e.return}}function cp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(_y=!0,i.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,et===t&&(Pe&n)===n&&(xt===4||xt===3&&(Pe&62914560)===Pe&&300>hr()-Gd?!($e&2)&&Vl(t,0):Ty|=n,Pl===Pe&&(Pl=0)),Si(t)}function nT(t,e){e===0&&(e=Zb()),t=ko(t,e),t!==null&&(y0(t,e),Si(t))}function pk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nT(t,n)}function gk(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Z(314))}r!==null&&r.delete(e),nT(t,n)}function yk(t,e){return L4(t,e)}var Ff=null,qo=null,ag=!1,qf=!1,hp=!1,Qs=0;function Si(t){t!==qo&&t.next===null&&(qo===null?Ff=qo=t:qo=qo.next=t),qf=!0,ag||(ag=!0,bk())}function w0(t,e){if(!hp&&qf){hp=!0;do for(var n=!1,r=Ff;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-dr(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,i3(r,s))}else s=Pe,s=Od(r,r===et?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||g0(r,s)||(n=!0,i3(r,s));r=r.next}while(n);hp=!1}}function vk(){rT()}function rT(){qf=ag=!1;var t=0;Qs!==0&&kk()&&(t=Qs);for(var e=hr(),n=null,r=Ff;r!==null;){var i=r.next,s=iT(r,e);s===0?(r.next=null,n===null?Ff=i:n.next=i,i===null&&(qo=n)):(n=r,(t!==0||s&3)&&(qf=!0)),r=i}Kt!==0&&Kt!==5||w0(t),Qs!==0&&(Qs=0)}function iT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-dr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=GR(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=et,n=Pe,n=Od(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Um(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||g0(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Um(r),U4(n)){case 2:case 8:n=Gb;break;case 32:n=Ef;break;case 268435456:n=$b;break;default:n=Ef}return r=sT.bind(null,t),n=L4(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Um(r),t.callbackPriority=2,t.callbackNode=null,2}function sT(t,e){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Kd()&&t.callbackNode!==n)return null;var r=Pe;return r=Od(t,t===et?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(H_(t,r,e),iT(t,hr()),t.callbackNode!=null&&t.callbackNode===n?sT.bind(null,t):null)}function i3(t,e){if(Kd())return null;H_(t,e,!0)}function bk(){Nk(function(){$e&6?L4(Hb,vk):rT()})}function wy(){if(Qs===0){var t=Dl;t===0&&(t=ah,ah<<=1,!(ah&261888)&&(ah=256)),Qs=t}return Qs}function s3(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$h(""+t)}function a3(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function _k(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=s3((i[er]||null).action),a=r.submitter;a&&(e=(e=a[er]||null)?s3(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new zd("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Qs!==0){var l=a?a3(i,a):new FormData(i);X1(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?a3(i,a):new FormData(i),X1(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var fp=0;fp<V1.length;fp++){var dp=V1[fp],Tk=dp.toLowerCase(),Sk=dp[0].toUpperCase()+dp.slice(1);ti(Tk,"on"+Sk)}ti(y9,"onAnimationEnd");ti(v9,"onAnimationIteration");ti(b9,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(VC,"onTransitionRun");ti(UC,"onTransitionStart");ti(BC,"onTransitionCancel");ti(_9,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function aT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){Rf(h)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(h){Rf(h)}i.currentTarget=null,s=l}}}}function Oe(t,e){var n=e[M1];n===void 0&&(n=e[M1]=new Set);var r=t+"__bubble";n.has(r)||(oT(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),oT(n,t,r,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Ay(t){if(!t[gh]){t[gh]=!0,Wb.forEach(function(n){n!=="selectionchange"&&(wk.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,mp("selectionchange",!1,e))}}function oT(t,e,n,r){switch(_T(e)){case 2:var i=Qk;break;case 8:i=Wk;break;default:i=Cy}n=i.bind(null,e,n,t),i=void 0,!z1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Yo(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}a9(function(){var c=s,h=F4(n),f=[];e:{var d=T9.get(t);if(d!==void 0){var p=zd,_=t;switch(t){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":p=gC;break;case"focusin":_="focus",p=Hm;break;case"focusout":_="blur",p=Hm;break;case"beforeblur":case"afterblur":p=Hm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=m5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bC;break;case y9:case v9:case b9:p=oC;break;case _9:p=TC;break;case"scroll":case"scrollend":p=nC;break;case"wheel":p=wC;break;case"copy":case"cut":case"paste":p=uC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=g5;break;case"toggle":case"beforetoggle":p=EC}var E=(e&4)!==0,M=!E&&(t==="scroll"||t==="scrollend"),b=E?d!==null?d+"Capture":null:d;E=[];for(var S=c,x;S!==null;){var O=S;if(x=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||x===null||b===null||(O=Uc(S,b),O!=null&&E.push(Kc(S,O,x))),M)break;S=S.return}0<E.length&&(d=new p(d,_,null,n,h),f.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==O1&&(_=n.relatedTarget||n.fromElement)&&(Yo(_)||_[tu]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?Yo(_):null,_!==null&&(M=m0(_),E=_.tag,_!==M||E!==5&&E!==27&&E!==6)&&(_=null)):(p=null,_=c),p!==_)){if(E=m5,O="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=g5,O="onPointerLeave",b="onPointerEnter",S="pointer"),M=p==null?d:ic(p),x=_==null?d:ic(_),d=new E(O,S+"leave",p,n,h),d.target=M,d.relatedTarget=x,O=null,Yo(h)===c&&(E=new E(b,S+"enter",_,n,h),E.target=x,E.relatedTarget=M,O=E),M=O,p&&_)t:{for(E=Ak,b=p,S=_,x=0,O=b;O;O=E(O))x++;O=0;for(var V=S;V;V=E(V))O++;for(;0<x-O;)b=E(b),x--;for(;0<O-x;)S=E(S),O--;for(;x--;){if(b===S||S!==null&&b===S.alternate){E=b;break t}b=E(b),S=E(S)}E=null}else E=null;p!==null&&o3(f,d,p,E,!1),_!==null&&M!==null&&o3(f,M,_,E,!0)}}e:{if(d=c?ic(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var H=_5;else if(b5(d))if(f9)H=zC;else{H=DC;var k=IC}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&j4(c.elementType)&&(H=_5):H=OC;if(H&&(H=H(t,c))){h9(f,H,n,h);break e}k&&k(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&D1(d,"number",d.value)}switch(k=c?ic(c):window,t){case"focusin":(b5(k)||k.contentEditable==="true")&&(Wo=k,P1=c,yc=null);break;case"focusout":yc=P1=Wo=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,E5(f,n,h);break;case"selectionchange":if(LC)break;case"keydown":case"keyup":E5(f,n,h)}var w;if(G4)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qo?u9(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(l9&&n.locale!=="ko"&&(Qo||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qo&&(w=o9()):(Ks=h,q4="value"in Ks?Ks.value:Ks.textContent,Qo=!0)),k=Hf(c,R),0<k.length&&(R=new p5(R,t,null,n,h),f.push({event:R,listeners:k}),w?R.data=w:(w=c9(n),w!==null&&(R.data=w)))),(w=RC?CC(t,n):kC(t,n))&&(R=Hf(c,"onBeforeInput"),0<R.length&&(k=new p5("onBeforeInput","beforeinput",null,n,h),f.push({event:k,listeners:R}),k.data=w)),_k(f,t,c,n,h)}aT(f,e)})}function Kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Uc(t,n),i!=null&&r.unshift(Kc(t,i,s)),i=Uc(t,e),i!=null&&r.push(Kc(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Ak(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o3(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Uc(n,s),c!=null&&a.unshift(Kc(n,c,l))):i||(c=Uc(n,s),c!=null&&a.push(Kc(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ek=/\r\n?/g,xk=/\u0000|\uFFFD/g;function l3(t){return(typeof t=="string"?t:""+t).replace(Ek,`
`).replace(xk,"")}function lT(t,e){return e=l3(e),l3(t)===e}function Qe(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Il(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Il(t,""+r);break;case"className":uh(t,"class",r);break;case"tabIndex":uh(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":uh(t,n,r);break;case"style":s9(t,r,s);break;case"data":if(e!=="object"){uh(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$h(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Qe(t,e,"name",i.name,i,null),Qe(t,e,"formEncType",i.formEncType,i,null),Qe(t,e,"formMethod",i.formMethod,i,null),Qe(t,e,"formTarget",i.formTarget,i,null)):(Qe(t,e,"encType",i.encType,i,null),Qe(t,e,"method",i.method,i,null),Qe(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$h(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Ki);break;case"onScroll":r!=null&&Oe("scroll",t);break;case"onScrollEnd":r!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=$h(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Gh(t,"popover",r);break;case"xlinkActuate":Vi(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Vi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Vi(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Vi(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Vi(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Vi(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Gh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=eC.get(n)||n,Gh(t,n,r))}}function og(t,e,n,r,i,s){switch(n){case"style":s9(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Il(t,r):(typeof r=="number"||typeof r=="bigint")&&Il(t,""+r);break;case"onScroll":r!=null&&Oe("scroll",t);break;case"onScrollEnd":r!=null&&Oe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[er]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Gh(t,n,r)}}}function mn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,e));default:Qe(t,e,s,a,n,null)}}i&&Qe(t,e,"srcSet",n.srcSet,n,null),r&&Qe(t,e,"src",n.src,n,null);return;case"input":Oe("invalid",t);var o=s=a=i=null,l=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Z(137,e));break;default:Qe(t,e,r,h,n,null)}}n9(t,s,o,l,c,a,i,!1);return;case"select":Oe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:Qe(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?ml(t,!!r,e,!1):n!=null&&ml(t,!!r,n,!0);return;case"textarea":Oe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Z(91));break;default:Qe(t,e,a,o,n,null)}i9(t,r,i,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qe(t,e,l,r,n,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(r=0;r<Zc.length;r++)Oe(Zc[r],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Z(137,e));default:Qe(t,e,c,r,n,null)}return;default:if(j4(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&og(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Qe(t,e,o,r,n,null))}function Rk(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Qe(t,e,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Z(137,e));break;default:p!==f&&Qe(t,e,d,p,r,f)}}I1(t,a,o,l,c,h,s,i);return;case"select":p=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(s)||Qe(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&Qe(t,e,i,s,r,l)}e=o,n=a,r=p,d!=null?ml(t,!!n,d,!1):!!r!=!!n&&(e!=null?ml(t,!!n,e,!0):ml(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Qe(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":d=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Z(91));break;default:i!==s&&Qe(t,e,a,i,r,s)}r9(t,d,p);return;case"option":for(var _ in n)if(d=n[_],n.hasOwnProperty(_)&&d!=null&&!r.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Qe(t,e,_,null,r,d)}for(l in r)if(d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qe(t,e,l,d,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!=null&&!r.hasOwnProperty(E)&&Qe(t,e,E,null,r,d);for(c in r)if(d=r[c],p=n[c],r.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Z(137,e));break;default:Qe(t,e,c,d,r,p)}return;default:if(j4(e)){for(var M in n)d=n[M],n.hasOwnProperty(M)&&d!==void 0&&!r.hasOwnProperty(M)&&og(t,e,M,void 0,r,d);for(h in r)d=r[h],p=n[h],!r.hasOwnProperty(h)||d===p||d===void 0&&p===void 0||og(t,e,h,d,r,p);return}}for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!r.hasOwnProperty(b)&&Qe(t,e,b,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||Qe(t,e,f,d,r,p)}function u3(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ck(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&u3(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var h=l.transferSize,f=l.initiatorType;h&&u3(f)&&(l=l.responseEnd,a+=h*(l<o?1:(o-c)/(l-c)))}if(--r,e+=8*(s+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lg=null,ug=null;function Gf(t){return t.nodeType===9?t:t.ownerDocument}function c3(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=null;function kk(){var t=window.event;return t&&t.type==="popstate"?t===gp?!1:(gp=t,!0):(gp=null,!1)}var cT=typeof setTimeout=="function"?setTimeout:void 0,Mk=typeof clearTimeout=="function"?clearTimeout:void 0,h3=typeof Promise=="function"?Promise:void 0,Nk=typeof queueMicrotask=="function"?queueMicrotask:typeof h3<"u"?function(t){return h3.resolve(null).then(t).catch(Ik)}:cT;function Ik(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function f3(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Bl(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Rc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Rc(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[v0]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&Rc(t.ownerDocument.body);n=i}while(n);Bl(e)}function d3(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function hg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hg(n),B4(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Dk(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[v0])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Vr(t.nextSibling),t===null)break}return null}function Ok(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vr(t.nextSibling),t===null))return null;return t}function hT(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vr(t.nextSibling),t===null))return null;return t}function fg(t){return t.data==="$?"||t.data==="$~"}function dg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zk(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Vr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var mg=null;function m3(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vr(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function p3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function fT(t,e,n){switch(e=Gf(n),t){case"html":if(t=e.documentElement,!t)throw Error(Z(452));return t;case"head":if(t=e.head,!t)throw Error(Z(453));return t;case"body":if(t=e.body,!t)throw Error(Z(454));return t;default:throw Error(Z(451))}}function Rc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);B4(t)}var Br=new Map,g3=new Set;function $f(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bs=Ke.d;Ke.d={f:Pk,r:Lk,D:Vk,C:Uk,L:Bk,m:jk,X:qk,S:Fk,M:Hk};function Pk(){var t=bs.f(),e=$d();return t||e}function Lk(t){var e=nu(t);e!==null&&e.tag===5&&e.type==="form"?s_(e):bs.r(t)}var au=typeof document>"u"?null:document;function dT(t,e,n){var r=au;if(r&&typeof e=="string"&&e){var i=Nr(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),g3.has(i)||(g3.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),mn(e,"link",t),rn(e),r.head.appendChild(e)))}}function Vk(t){bs.D(t),dT("dns-prefetch",t,null)}function Uk(t,e){bs.C(t,e),dT("preconnect",t,e)}function Bk(t,e,n){bs.L(t,e,n);var r=au;if(r&&t&&e){var i='link[rel="preload"][as="'+Nr(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Nr(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Nr(n.imageSizes)+'"]')):i+='[href="'+Nr(t)+'"]';var s=i;switch(e){case"style":s=Ul(t);break;case"script":s=ou(t)}Br.has(s)||(t=ct({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Br.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(A0(s))||e==="script"&&r.querySelector(E0(s))||(e=r.createElement("link"),mn(e,"link",t),rn(e),r.head.appendChild(e)))}}function jk(t,e){bs.m(t,e);var n=au;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Nr(r)+'"][href="'+Nr(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ou(t)}if(!Br.has(s)&&(t=ct({rel:"modulepreload",href:t},e),Br.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(E0(s)))return}r=n.createElement("link"),mn(r,"link",t),rn(r),n.head.appendChild(r)}}}function Fk(t,e,n){bs.S(t,e,n);var r=au;if(r&&t){var i=dl(r).hoistableStyles,s=Ul(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(A0(s)))o.loading=5;else{t=ct({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Br.get(s))&&Ey(t,n);var l=a=r.createElement("link");rn(l),mn(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,nf(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function qk(t,e){bs.X(t,e);var n=au;if(n&&t){var r=dl(n).hoistableScripts,i=ou(t),s=r.get(i);s||(s=n.querySelector(E0(i)),s||(t=ct({src:t,async:!0},e),(e=Br.get(i))&&xy(t,e),s=n.createElement("script"),rn(s),mn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function Hk(t,e){bs.M(t,e);var n=au;if(n&&t){var r=dl(n).hoistableScripts,i=ou(t),s=r.get(i);s||(s=n.querySelector(E0(i)),s||(t=ct({src:t,async:!0,type:"module"},e),(e=Br.get(i))&&xy(t,e),s=n.createElement("script"),rn(s),mn(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function y3(t,e,n,r){var i=(i=ea.current)?$f(i):null;if(!i)throw Error(Z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ul(n.href),n=dl(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ul(n.href);var s=dl(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(A0(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Br.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Br.set(t,n),s||Gk(i,t,n,a.state))),e&&r===null)throw Error(Z(528,""));return a}if(e&&r!==null)throw Error(Z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ou(n),n=dl(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Z(444,t))}}function Ul(t){return'href="'+Nr(t)+'"'}function A0(t){return'link[rel="stylesheet"]['+t+"]"}function mT(t){return ct({},t,{"data-precedence":t.precedence,precedence:null})}function Gk(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),mn(e,"link",n),rn(e),t.head.appendChild(e))}function ou(t){return'[src="'+Nr(t)+'"]'}function E0(t){return"script[async]"+t}function v3(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Nr(n.href)+'"]');if(r)return e.instance=r,rn(r),r;var i=ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),rn(r),mn(r,"style",i),nf(r,n.precedence,t),e.instance=r;case"stylesheet":i=Ul(n.href);var s=t.querySelector(A0(i));if(s)return e.state.loading|=4,e.instance=s,rn(s),s;r=mT(n),(i=Br.get(i))&&Ey(r,i),s=(t.ownerDocument||t).createElement("link"),rn(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),mn(s,"link",r),e.state.loading|=4,nf(s,n.precedence,t),e.instance=s;case"script":return s=ou(n.src),(i=t.querySelector(E0(s)))?(e.instance=i,rn(i),i):(r=n,(i=Br.get(s))&&(r=ct({},n),xy(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),rn(i),mn(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,nf(r,n.precedence,t));return e.instance}function nf(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ey(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function xy(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var rf=null;function b3(t,e,n){if(rf===null){var r=new Map,i=rf=new Map;i.set(n,r)}else i=rf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[v0]||s[hn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function _3(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $k(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function pT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Zk(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ul(r.href),s=e.querySelector(A0(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Zf.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,rn(s);return}s=e.ownerDocument||e,r=mT(r),(i=Br.get(i))&&Ey(r,i),s=s.createElement("link"),rn(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),mn(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Zf.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var yp=0;function Kk(t,e){return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&yp===0&&(yp=62500*Ck());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>yp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kf=null;function sf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kf=new Map,e.forEach(Yk,t),Kf=null,Zf.call(t))}function Yk(t,e){if(!(e.state.loading&4)){var n=Kf.get(t);if(n)var r=n.get(null);else{n=new Map,Kf.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Zf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Yc={$$typeof:Zi,Provider:null,Consumer:null,_currentValue:io,_currentValue2:io,_threadCount:0};function Xk(t,e,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.hiddenUpdates=Bm(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function gT(t,e,n,r,i,s,a,o,l,c,h,f){return t=new Xk(t,e,n,a,l,c,h,f,o),e=1,s===!0&&(e|=24),s=ur(3,null,null,e),t.current=s,s.stateNode=t,e=W4(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},ty(s),t}function yT(t){return t?(t=tl,t):tl}function vT(t,e,n,r,i,s){i=yT(i),r.context===null?r.context=i:r.pendingContext=i,r=na(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=ra(t,r,e),n!==null&&(Wn(n,t,e),bc(n,t,e))}function T3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ry(t,e){T3(t,e),(t=t.alternate)&&T3(t,e)}function bT(t){if(t.tag===13||t.tag===31){var e=ko(t,67108864);e!==null&&Wn(e,t,67108864),Ry(t,67108864)}}function S3(t){if(t.tag===13||t.tag===31){var e=mr();e=V4(e);var n=ko(t,e);n!==null&&Wn(n,t,e),Ry(t,e)}}var Yf=!0;function Qk(t,e,n,r){var i=be.T;be.T=null;var s=Ke.p;try{Ke.p=2,Cy(t,e,n,r)}finally{Ke.p=s,be.T=i}}function Wk(t,e,n,r){var i=be.T;be.T=null;var s=Ke.p;try{Ke.p=8,Cy(t,e,n,r)}finally{Ke.p=s,be.T=i}}function Cy(t,e,n,r){if(Yf){var i=pg(r);if(i===null)pp(t,e,r,Xf,n),w3(t,r);else if(eM(i,t,e,n,r))r.stopPropagation();else if(w3(t,r),e&4&&-1<Jk.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ya(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-dr(a);o.entanglements[1]|=l,a&=~l}Si(s),!($e&6)&&(Uf=hr()+500,w0(0))}}break;case 31:case 13:o=ko(s,2),o!==null&&Wn(o,s,2),$d(),Ry(s,2)}if(s=pg(r),s===null&&pp(t,e,r,Xf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pp(t,e,r,null,n)}}function pg(t){return t=F4(t),ky(t)}var Xf=null;function ky(t){if(Xf=null,t=Yo(t),t!==null){var e=m0(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ub(e),t!==null)return t;t=null}else if(n===31){if(t=Bb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xf=t,null}function _T(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(VR()){case Hb:return 2;case Gb:return 8;case Ef:case UR:return 32;case $b:return 268435456;default:return 32}default:return 32}}var gg=!1,aa=null,oa=null,la=null,Xc=new Map,Qc=new Map,js=[],Jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w3(t,e){switch(t){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(e.pointerId)}}function $u(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&bT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eM(t,e,n,r,i){switch(e){case"focusin":return aa=$u(aa,t,e,n,r,i),!0;case"dragenter":return oa=$u(oa,t,e,n,r,i),!0;case"mouseover":return la=$u(la,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xc.set(s,$u(Xc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qc.set(s,$u(Qc.get(s)||null,t,e,n,r,i)),!0}return!1}function TT(t){var e=Yo(t.target);if(e!==null){var n=m0(e);if(n!==null){if(e=n.tag,e===13){if(e=Ub(n),e!==null){t.blockedOn=e,o5(t.priority,function(){S3(n)});return}}else if(e===31){if(e=Bb(n),e!==null){t.blockedOn=e,o5(t.priority,function(){S3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);O1=r,n.target.dispatchEvent(r),O1=null}else return e=nu(n),e!==null&&bT(e),t.blockedOn=n,!1;e.shift()}return!0}function A3(t,e,n){af(t)&&n.delete(e)}function tM(){gg=!1,aa!==null&&af(aa)&&(aa=null),oa!==null&&af(oa)&&(oa=null),la!==null&&af(la)&&(la=null),Xc.forEach(A3),Qc.forEach(A3)}function yh(t,e){t.blockedOn===e&&(t.blockedOn=null,gg||(gg=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,tM)))}var vh=null;function E3(t){vh!==t&&(vh=t,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(ky(r||n)===null)continue;break}var s=nu(n);s!==null&&(t.splice(e,3),e-=3,X1(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Bl(t){function e(l){return yh(l,t)}aa!==null&&yh(aa,t),oa!==null&&yh(oa,t),la!==null&&yh(la,t),Xc.forEach(e),Qc.forEach(e);for(var n=0;n<js.length;n++){var r=js[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<js.length&&(n=js[0],n.blockedOn===null);)TT(n),n.blockedOn===null&&js.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[er]||null;if(typeof s=="function")a||E3(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[er]||null)o=a.formAction;else if(ky(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),E3(n)}}}function ST(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function My(t){this._internalRoot=t}Yd.prototype.render=My.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));var n=e.current,r=mr();vT(n,r,t,e,null,null)};Yd.prototype.unmount=My.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vT(t.current,2,null,t,null,null),$d(),e[tu]=null}};function Yd(t){this._internalRoot=t}Yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&TT(t)}};var x3=Lb.version;if(x3!=="19.2.3")throw Error(Z(527,x3,"19.2.3"));Ke.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=NR(e),t=t!==null?jb(t):null,t=t===null?null:t.stateNode,t};var nM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{p0=bh.inject(nM),fr=bh}catch{}}Id.createRoot=function(t,e){if(!Vb(t))throw Error(Z(299));var n=!1,r="",i=d_,s=m_,a=p_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=gT(t,1,!1,null,null,n,r,null,i,s,a,ST),t[tu]=e.current,Ay(t),new My(e)};Id.hydrateRoot=function(t,e,n){if(!Vb(t))throw Error(Z(299));var r=!1,i="",s=d_,a=m_,o=p_,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=gT(t,1,!0,e,n??null,r,i,l,s,a,o,ST),e.context=yT(null),n=e.current,r=mr(),r=V4(r),i=na(r),i.callback=null,ra(n,i,r),n=r,e.current.lanes=n,y0(e,n),Si(e),t[tu]=e.current,Ay(t),new Yd(e)};Id.version="19.2.3";function wT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wT)}catch(t){console.error(t)}}wT(),Nb.exports=Id;var rM=Nb.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qf.apply(this,arguments)}var eo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(eo||(eo={}));const R3="popstate";function iM(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Ny(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),yg("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");o=c===-1?l:l.slice(0,c)}return o+"#"+(typeof s=="string"?s:ET(s))}function r(i,s){sM(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return oM(e,n,r,t)}function AT(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aM(){return Math.random().toString(36).substr(2,8)}function C3(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n,r){return n===void 0&&(n=null),Qf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ny(e):e,{state:n,key:e&&e.key||r||aM()})}function ET(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ny(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=eo.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(Qf({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=eo.Pop;let M=h(),b=M==null?null:M-c;c=M,l&&l({action:o,location:E.location,delta:b})}function d(M,b){o=eo.Push;let S=yg(E.location,M,b);n&&n(S,M),c=h()+1;let x=C3(S,c),O=E.createHref(S);try{a.pushState(x,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(O)}s&&l&&l({action:o,location:E.location,delta:1})}function p(M,b){o=eo.Replace;let S=yg(E.location,M,b);n&&n(S,M),c=h();let x=C3(S,c),O=E.createHref(S);a.replaceState(x,"",O),s&&l&&l({action:o,location:E.location,delta:0})}function _(M){let b=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof M=="string"?M:ET(M);return S=S.replace(/ $/,"%20"),AT(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let E={get action(){return o},get location(){return t(i,a)},listen(M){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R3,f),l=M,()=>{i.removeEventListener(R3,f),l=null}},createHref(M){return e(i,M)},createURL:_,encodeLocation(M){let b=_(M);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:d,replace:p,go(M){return a.go(M)}};return E}var k3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k3||(k3={}));function lM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const xT=["post","put","patch","delete"];new Set(xT);const uM=["get",...xT];new Set(uM);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}const cM=F.createContext(null),RT=F.createContext(null);function hM(){return F.useContext(RT)!=null}function fM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=eo.Pop,navigator:s,static:a=!1,future:o}=t;hM()&&AT(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:a,future:vg({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Ny(r));let{pathname:h="/",search:f="",hash:d="",state:p=null,key:_="default"}=r,E=F.useMemo(()=>{let M=lM(h,l);return M==null?null:{location:{pathname:M,search:f,hash:d,state:p,key:_},navigationType:i}},[l,h,f,d,p,_,i]);return E==null?null:F.createElement(cM.Provider,{value:c},F.createElement(RT.Provider,{children:n,value:E}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const mM="6";try{window.__reactRouterVersion=mM}catch{}const pM="startTransition",M3=AR[pM];function gM(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=iM({window:i,v5Compat:!0}));let a=s.current,[o,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=F.useCallback(f=>{c&&M3?M3(()=>l(f)):l(f)},[l,c]);return F.useLayoutEffect(()=>a.listen(h),[a,h]),F.useEffect(()=>fM(r),[r]),F.createElement(dM,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var N3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(N3||(N3={}));var I3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I3||(I3={}));const yM="mod-race";var D3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},kT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),r.push(n[h],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new bM;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _M=function(t){const e=CT(t);return kT.encodeByteArray(e,!0)},Wf=function(t){return _M(t).replace(/\./g,"")},MT=function(t){try{return kT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>TM().__FIREBASE_DEFAULTS__,wM=()=>{if(typeof process>"u"||typeof D3>"u")return;const t=D3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MT(t[1]);return e&&JSON.parse(e)},Xd=()=>{try{return SM()||wM()||AM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NT=t=>{var e,n;return(n=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{const e=NT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DT=()=>{var t;return(t=Xd())===null||t===void 0?void 0:t.config},OT=t=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wf(JSON.stringify(n)),Wf(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function CM(){var t;const e=(t=Xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DM(){return!CM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OM(){try{return typeof indexedDB=="object"}catch{return!1}}function zM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PM,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x0.prototype.create)}}class x0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?LM(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new wi(i,o,r)}}function LM(t,e){return t.replace(VM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VM=/\{\$([^}]+)}/g;function UM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(O3(s)&&O3(a)){if(!Jf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function BM(t,e){const n=new jM(t,e);return n.subscribe.bind(n)}class jM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vp),i.error===void 0&&(i.error=vp),i.complete===void 0&&(i.complete=vp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){return t&&t._delegate?t._delegate:t}class ga{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GM(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HM(t){return t===Wa?void 0:t}function GM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const ZM={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},KM=Ve.INFO,YM={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},XM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=KM,this._logHandler=XM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const QM=(t,e)=>e.some(n=>t instanceof n);let z3,P3;function WM(){return z3||(z3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JM(){return P3||(P3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,bg=new WeakMap,PT=new WeakMap,bp=new WeakMap,Dy=new WeakMap;function eN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ua(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&zT.set(n,t)}).catch(()=>{}),Dy.set(e,t),e}function tN(t){if(bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});bg.set(t,e)}let _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nN(t){_g=t(_g)}function rN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_p(this),e,...n);return PT.set(r,e.sort?e.sort():[e]),ua(r)}:JM().includes(t)?function(...e){return t.apply(_p(this),e),ua(zT.get(this))}:function(...e){return ua(t.apply(_p(this),e))}}function iN(t){return typeof t=="function"?rN(t):(t instanceof IDBTransaction&&tN(t),QM(t,WM())?new Proxy(t,_g):t)}function ua(t){if(t instanceof IDBRequest)return eN(t);if(bp.has(t))return bp.get(t);const e=iN(t);return e!==t&&(bp.set(t,e),Dy.set(e,t)),e}const _p=t=>Dy.get(t);function sN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ua(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ua(a.result),l.oldVersion,l.newVersion,ua(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const aN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],Tp=new Map;function L3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tp.get(e))return Tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aN.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Tp.set(e,s),s}nN(t=>({...t,get:(e,n,r)=>L3(e,n)||t.get(e,n,r),has:(e,n)=>!!L3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tg="@firebase/app",V3="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Iy("@firebase/app"),cN="@firebase/app-compat",hN="@firebase/analytics-compat",fN="@firebase/analytics",dN="@firebase/app-check-compat",mN="@firebase/app-check",pN="@firebase/auth",gN="@firebase/auth-compat",yN="@firebase/database",vN="@firebase/data-connect",bN="@firebase/database-compat",_N="@firebase/functions",TN="@firebase/functions-compat",SN="@firebase/installations",wN="@firebase/installations-compat",AN="@firebase/messaging",EN="@firebase/messaging-compat",xN="@firebase/performance",RN="@firebase/performance-compat",CN="@firebase/remote-config",kN="@firebase/remote-config-compat",MN="@firebase/storage",NN="@firebase/storage-compat",IN="@firebase/firestore",DN="@firebase/vertexai-preview",ON="@firebase/firestore-compat",zN="firebase",PN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",LN={[Tg]:"fire-core",[cN]:"fire-core-compat",[fN]:"fire-analytics",[hN]:"fire-analytics-compat",[mN]:"fire-app-check",[dN]:"fire-app-check-compat",[pN]:"fire-auth",[gN]:"fire-auth-compat",[yN]:"fire-rtdb",[vN]:"fire-data-connect",[bN]:"fire-rtdb-compat",[_N]:"fire-fn",[TN]:"fire-fn-compat",[SN]:"fire-iid",[wN]:"fire-iid-compat",[AN]:"fire-fcm",[EN]:"fire-fcm-compat",[xN]:"fire-perf",[RN]:"fire-perf-compat",[CN]:"fire-rc",[kN]:"fire-rc-compat",[MN]:"fire-gcs",[NN]:"fire-gcs-compat",[IN]:"fire-fst",[ON]:"fire-fst-compat",[DN]:"fire-vertex","fire-js":"fire-js",[zN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,VN=new Map,wg=new Map;function U3(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){const e=t.name;if(wg.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Wc.values())U3(n,t);for(const n of VN.values())U3(n,t);return!0}function Qd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new x0("app","Firebase",UN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=PN;function LT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=DT()),!n)throw ca.create("no-options");const s=Wc.get(i);if(s){if(Jf(n,s.options)&&Jf(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}const a=new $M(i);for(const l of wg.values())a.addComponent(l);const o=new BN(n,r,a);return Wc.set(i,o),o}function Oy(t=Sg){const e=Wc.get(t);if(!e&&t===Sg&&DT())return LT();if(!e)throw ca.create("no-app",{appName:t});return e}function jN(){return Array.from(Wc.values())}function fi(t,e,n){var r;let i=(r=LN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(o.join(" "));return}bo(new ga(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-heartbeat-database",qN=1,Jc="firebase-heartbeat-store";let Sp=null;function VT(){return Sp||(Sp=sN(FN,qN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),Sp}async function HN(t){try{const n=(await VT()).transaction(Jc),r=await n.objectStore(Jc).get(UT(t));return await n.done,r}catch(e){if(e instanceof wi)fs.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function B3(t,e){try{const r=(await VT()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,UT(t)),await r.done}catch(n){if(n instanceof wi)fs.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function UT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,$N=30*24*60*60*1e3;class ZN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j3();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=$N}),this._storage.overwrite(this._heartbeatsCache))}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j3(),{heartbeatsToSend:r,unsentEntries:i}=KN(this._heartbeatsCache.heartbeats),s=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return fs.warn(n),""}}}function j3(){return new Date().toISOString().substring(0,10)}function KN(t,e=GN){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),F3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),F3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OM()?zM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F3(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){bo(new ga("platform-logger",e=>new lN(e),"PRIVATE")),bo(new ga("heartbeat",e=>new ZN(e),"PRIVATE")),fi(Tg,V3,t),fi(Tg,V3,"esm2017"),fi("fire-js","")}XN("");var QN="firebase",WN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(QN,WN,"app");function zy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=BT,jT=new x0("auth","Firebase",BT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Iy("@firebase/auth");function eI(t,...e){ed.logLevel<=Ve.WARN&&ed.warn(`Auth (${lu}): ${t}`,...e)}function of(t,...e){ed.logLevel<=Ve.ERROR&&ed.error(`Auth (${lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,...e){throw Py(t,...e)}function di(t,...e){return Py(t,...e)}function FT(t,e,n){const r=Object.assign(Object.assign({},JN()),{[e]:n});return new x0("auth","Firebase",r).create(e,{appName:t.name})}function ha(t){return FT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jT.create(t,...e)}function _e(t,e,...n){if(!t)throw Py(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function ms(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tI(){return q3()==="http:"||q3()==="https:"}function q3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tI()||MM()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=RM()||NM()}get(){return nI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new C0(3e4,6e4);function Wd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uu(t,e,n,r,i={}){return HT(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=R0(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return kM()||(c.referrerPolicy="no-referrer"),qT.fetch()($T(t,t.config.apiHost,n,o),c)})}async function HT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iI),e);try{const i=new aI(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw _h(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw _h(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw FT(t,h,c);ds(t,h)}}catch(i){if(i instanceof wi)throw i;ds(t,"network-request-failed",{message:String(i)})}}async function GT(t,e,n,r,i={}){const s=await uu(t,e,n,r,i);return"mfaPendingCredential"in s&&ds(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $T(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,i):`${t.config.apiScheme}://${i}`}class aI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(di(this.auth,"network-request-failed")),sI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=di(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(t,e){return uu(t,"POST","/v1/accounts:delete",e)}async function ZT(t,e){return uu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lI(t,e=!1){const n=yr(t),r=await n.getIdToken(e),i=Vy(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cc(wp(i.auth_time)),issuedAtTime:Cc(wp(i.iat)),expirationTime:Cc(wp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wp(t){return Number(t)*1e3}function Vy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=MT(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function H3(t){const e=Vy(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&uI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,r=await t.getIdToken(),i=await e0(t,ZT(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KT(s.providerUserInfo):[],o=fI(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function hI(t){const e=yr(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KT(t){return t.map(e=>{var{providerId:n}=e,r=zy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(t,e){const n=await HT(t,{},async()=>{const r=R0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=$T(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",qT.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mI(t,e){return uu(t,"POST","/v2/accounts:revokeToken",Wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):H3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=H3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dI(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new _l;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await e0(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xi(this.auth.app))return Promise.reject(ha(this.auth));const e=await this.getIdToken();return await e0(this,oI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(o=n.tenantId)!==null&&o!==void 0?o:void 0,M=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:O,isAnonymous:V,providerData:H,stsTokenManager:k}=n;_e(x&&k,e,"internal-error");const w=_l.fromJSON(this.name,k);_e(typeof x=="string",e,"internal-error"),Ns(f,e.name),Ns(d,e.name),_e(typeof O=="boolean",e,"internal-error"),_e(typeof V=="boolean",e,"internal-error"),Ns(p,e.name),Ns(_,e.name),Ns(E,e.name),Ns(M,e.name),Ns(b,e.name),Ns(S,e.name);const R=new Wi({uid:x,auth:e,email:d,emailVerified:O,displayName:f,isAnonymous:V,photoURL:_,phoneNumber:p,tenantId:E,stsTokenManager:w,createdAt:b,lastLoginAt:S});return H&&Array.isArray(H)&&(R.providerData=H.map(D=>Object.assign({},D))),M&&(R._redirectEventId=M),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new _l;i.updateFromServerResponse(n);const s=new Wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await td(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new _l;o.updateFromIdToken(r);const l=new Wi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Eg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Map;function Ji(t){ms(t instanceof Function,"Expected a class definition");let e=G3.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YT.type="NONE";const $3=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,s),this.fullPersistenceKey=lf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Ji($3),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ji($3);const a=lf(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){const f=Wi._fromJSON(e,h);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Tl(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Tl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tS(e))return"Blackberry";if(nS(e))return"Webos";if(QT(e))return"Safari";if((e.includes("chrome/")||WT(e))&&!e.includes("edge/"))return"Chrome";if(eS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XT(t=Rn()){return/firefox\//i.test(t)}function QT(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WT(t=Rn()){return/crios\//i.test(t)}function JT(t=Rn()){return/iemobile/i.test(t)}function eS(t=Rn()){return/android/i.test(t)}function tS(t=Rn()){return/blackberry/i.test(t)}function nS(t=Rn()){return/webos/i.test(t)}function Uy(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pI(t=Rn()){var e;return Uy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gI(){return IM()&&document.documentMode===10}function rS(t=Rn()){return Uy(t)||eS(t)||nS(t)||tS(t)||/windows phone/i.test(t)||JT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e=[]){let n;switch(t){case"Browser":n=Z3(Rn());break;case"Worker":n=`${Z3(Rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(t,e={}){return uu(t,"GET","/v2/passwordPolicy",Wd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=6;class _I{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:bI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K3(this),this.idTokenSubscription=new K3(this),this.beforeStateQueue=new yI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZT(this,{idToken:e}),r=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xi(this.app))return Promise.reject(ha(this));const n=e?yr(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xi(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xi(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vI(this),n=new _I(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new x0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jd(t){return yr(t)}class K3{constructor(e){this.auth=e,this.observer=null,this.addObserver=BM(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SI(t){By=t}function wI(t){return By.loadJS(t)}function AI(){return By.gapiScript}function EI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){const n=Qd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jf(s,e??{}))return i;ds(i,"already-initialized")}return n.initialize({options:e})}function RI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CI(t,e,n){const r=Jd(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sS(e),{host:a,port:o}=kI(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),MI()}function sS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kI(t){const e=sS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Y3(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Y3(a)}}}function Y3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return GT(t,"POST","/v1/accounts:signInWithIdp",Wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="http://localhost";class _o extends aS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zy(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _o(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=R0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends k0{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends k0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends k0{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends k0{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Wi._fromIdTokenResponse(e,r,i),a=X3(r);return new To({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=X3(r);return new To({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function X3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends wi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nd(e,n,r,i)}}function lS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,s,e,r):s})}async function II(t,e,n=!1){const r=await e0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e,n=!1){const{auth:r}=t;if(Xi(r.app))return Promise.reject(ha(r));const i="reauthenticate";try{const s=await e0(t,lS(r,i,e,t),n);_e(s.idToken,r,"internal-error");const a=Vy(s.idToken);_e(a,r,"internal-error");const{sub:o}=a;return _e(t.uid===o,r,"user-mismatch"),To._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ds(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){if(Xi(t.app))return Promise.reject(ha(t));const r="signIn",i=await lS(t,r,e),s=await To._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e){return GT(t,"POST","/v1/accounts:signInWithCustomToken",Wd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){if(Xi(t.app))return Promise.reject(ha(t));const n=Jd(t),r=await zI(n,{token:e,returnSecureToken:!0}),i=await To._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function LI(t,e,n,r){return yr(t).onIdTokenChanged(e,n,r)}function VI(t,e,n){return yr(t).beforeAuthStateChanged(e,n)}function UI(t,e,n,r){return yr(t).onAuthStateChanged(e,n,r)}function BI(t){return yr(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,FI=10;class cS extends uS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);gI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cS.type="LOCAL";const qI=cS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends uS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hS.type="SESSION";const fS=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await HI(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=jy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function $I(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function ZI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YI(){return dS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firebaseLocalStorageDb",XI=1,id="firebaseLocalStorage",pS="fbase_key";class M0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([id],e?"readwrite":"readonly").objectStore(id)}function QI(){const t=indexedDB.deleteDatabase(mS);return new M0(t).toPromise()}function xg(){const t=indexedDB.open(mS,XI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(id,{keyPath:pS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(id)?e(r):(r.close(),await QI(),e(await xg()))})})}async function Q3(t,e,n){const r=tm(t,!0).put({[pS]:e,value:n});return new M0(r).toPromise()}async function WI(t,e){const n=tm(t,!1).get(e),r=await new M0(n).toPromise();return r===void 0?null:r.value}function W3(t,e){const n=tm(t,!0).delete(e);return new M0(n).toPromise()}const JI=800,eD=3;class gS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await Q3(e,rd,"1"),await W3(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tm(i,!1).getAll();return new M0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gS.type="LOCAL";const tD=gS;new C0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){return e?Ji(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends aS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rD(t){return OI(t.auth,new Fy(t),t.bypassAuthState)}function iD(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),DI(n,new Fy(t),t.bypassAuthState)}async function sD(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),II(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:ds(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new C0(2e3,1e4);class sl extends yS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="pendingRedirect",uf=new Map;class lD extends yS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=fD(e),r=hD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cD(t,e){uf.set(t._key(),e)}function hD(t){return Ji(t._redirectPersistence)}function fD(t){return lf(oD,t.config.apiKey,t.name)}async function dD(t,e,n=!1){if(Xi(t.app))return Promise.reject(ha(t));const r=Jd(t),i=nD(r,e),a=await new lD(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class pD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(di(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(J3(e))}saveEventToCache(e){this.cachedEventUids.add(J3(e)),this.lastProcessedEventTime=Date.now()}}function J3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return uu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bD=/^https?/;async function _D(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yD(t);for(const n of e)try{if(TD(n))return}catch{}ds(t,"unauthorized-domain")}function TD(t){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!bD.test(n))return!1;if(vD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new C0(3e4,6e4);function e6(){const t=mi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wD(t){return new Promise((e,n)=>{var r,i,s;function a(){e6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e6(),n(di(t,"network-request-failed"))},timeout:SD.get()})}if(!((i=(r=mi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mi().gapi)===null||s===void 0)&&s.load)a();else{const o=EI("iframefcb");return mi()[o]=()=>{gapi.load?a():n(di(t,"network-request-failed"))},wI(`${AI()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function AD(t){return cf=cf||wD(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new C0(5e3,15e3),xD="__/auth/iframe",RD="emulator/auth/iframe",CD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MD(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ly(e,RD):`https://${t.config.authDomain}/${xD}`,r={apiKey:e.apiKey,appName:t.name,v:lu},i=kD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${R0(r).slice(1)}`}async function ND(t){const e=await AD(t),n=mi().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:MD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=di(t,"network-request-failed"),o=mi().setTimeout(()=>{s(a)},ED.get());function l(){mi().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DD=500,OD=600,zD="_blank",PD="http://localhost";class t6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LD(t,e,n,r=DD,i=OD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ID),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Rn().toLowerCase();n&&(o=WT(c)?zD:n),XT(c)&&(e=e||PD,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,_])=>`${d}${p}=${_},`,"");if(pI(c)&&o!=="_self")return VD(e||"",o),new t6(null);const f=window.open(e||"",o,h);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new t6(f)}function VD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",BD="emulator/auth/handler",jD=encodeURIComponent("fac");async function n6(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lu,eventId:i};if(e instanceof oS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",UM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof k0){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${jD}=${encodeURIComponent(l)}`:"";return`${FD(t)}?${R0(o).slice(1)}${c}`}function FD({config:t}){return t.emulator?Ly(t,BD):`https://${t.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class qD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=dD,this._overrideRedirectResult=cD}async _openPopup(e,n,r,i){var s;ms((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await n6(e,n,r,Ag(),i);return LD(e,a,jy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await n6(e,n,r,Ag(),i);return $I(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ND(e),r=new pD(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ap];a!==void 0&&n(!!a),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rS()||QT()||Uy()}}const HD=qD;var r6="@firebase/auth",i6="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZD(t){bo(new ga("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iS(t)},c=new TI(r,i,s,l);return RI(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new ga("auth-internal",e=>{const n=Jd(e.getProvider("auth").getImmediate());return(r=>new GD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(r6,i6,$D(t)),fi(r6,i6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=5*60,YD=OT("authIdTokenMaxAge")||KD;let s6=null;const XD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YD)return;const i=n==null?void 0:n.token;s6!==i&&(s6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QD(t=Oy()){const e=Qd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xI(t,{popupRedirectResolver:HD,persistence:[tD,qI,fS]}),r=OT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=XD(s.toString());VI(n,a,()=>a(n.currentUser)),LI(n,o=>a(o))}}const i=NT("auth");return i&&CI(n,`http://${i}`),n}function WD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SI({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=di("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",WD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZD("Browser");var a6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,bS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function R(){}R.prototype=w.prototype,k.D=w.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(D,z,U){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return w.prototype[z].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,w,R){R||(R=0);var D=Array(16);if(typeof w=="string")for(var z=0;16>z;++z)D[z]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(z=0;16>z;++z)D[z]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=k.g[0],R=k.g[1],z=k.g[2];var U=k.g[3],I=w+(U^R&(z^U))+D[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=U+(z^w&(R^z))+D[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=z+(R^U&(w^R))+D[2]+606105819&4294967295,z=U+(I<<17&4294967295|I>>>15),I=R+(w^z&(U^w))+D[3]+3250441966&4294967295,R=z+(I<<22&4294967295|I>>>10),I=w+(U^R&(z^U))+D[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(z^w&(R^z))+D[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=z+(R^U&(w^R))+D[6]+2821735955&4294967295,z=U+(I<<17&4294967295|I>>>15),I=R+(w^z&(U^w))+D[7]+4249261313&4294967295,R=z+(I<<22&4294967295|I>>>10),I=w+(U^R&(z^U))+D[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(z^w&(R^z))+D[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=z+(R^U&(w^R))+D[10]+4294925233&4294967295,z=U+(I<<17&4294967295|I>>>15),I=R+(w^z&(U^w))+D[11]+2304563134&4294967295,R=z+(I<<22&4294967295|I>>>10),I=w+(U^R&(z^U))+D[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(z^w&(R^z))+D[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=z+(R^U&(w^R))+D[14]+2792965006&4294967295,z=U+(I<<17&4294967295|I>>>15),I=R+(w^z&(U^w))+D[15]+1236535329&4294967295,R=z+(I<<22&4294967295|I>>>10),I=w+(z^U&(R^z))+D[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^z&(w^R))+D[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=z+(w^R&(U^w))+D[11]+643717713&4294967295,z=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(z^U))+D[0]+3921069994&4294967295,R=z+(I<<20&4294967295|I>>>12),I=w+(z^U&(R^z))+D[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^z&(w^R))+D[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=z+(w^R&(U^w))+D[15]+3634488961&4294967295,z=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(z^U))+D[4]+3889429448&4294967295,R=z+(I<<20&4294967295|I>>>12),I=w+(z^U&(R^z))+D[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^z&(w^R))+D[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=z+(w^R&(U^w))+D[3]+4107603335&4294967295,z=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(z^U))+D[8]+1163531501&4294967295,R=z+(I<<20&4294967295|I>>>12),I=w+(z^U&(R^z))+D[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^z&(w^R))+D[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=z+(w^R&(U^w))+D[7]+1735328473&4294967295,z=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(z^U))+D[12]+2368359562&4294967295,R=z+(I<<20&4294967295|I>>>12),I=w+(R^z^U)+D[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^z)+D[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=z+(U^w^R)+D[11]+1839030562&4294967295,z=U+(I<<16&4294967295|I>>>16),I=R+(z^U^w)+D[14]+4259657740&4294967295,R=z+(I<<23&4294967295|I>>>9),I=w+(R^z^U)+D[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^z)+D[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=z+(U^w^R)+D[7]+4139469664&4294967295,z=U+(I<<16&4294967295|I>>>16),I=R+(z^U^w)+D[10]+3200236656&4294967295,R=z+(I<<23&4294967295|I>>>9),I=w+(R^z^U)+D[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^z)+D[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=z+(U^w^R)+D[3]+3572445317&4294967295,z=U+(I<<16&4294967295|I>>>16),I=R+(z^U^w)+D[6]+76029189&4294967295,R=z+(I<<23&4294967295|I>>>9),I=w+(R^z^U)+D[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^z)+D[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=z+(U^w^R)+D[15]+530742520&4294967295,z=U+(I<<16&4294967295|I>>>16),I=R+(z^U^w)+D[2]+3299628645&4294967295,R=z+(I<<23&4294967295|I>>>9),I=w+(z^(R|~U))+D[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~z))+D[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=z+(w^(U|~R))+D[14]+2878612391&4294967295,z=U+(I<<15&4294967295|I>>>17),I=R+(U^(z|~w))+D[5]+4237533241&4294967295,R=z+(I<<21&4294967295|I>>>11),I=w+(z^(R|~U))+D[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~z))+D[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=z+(w^(U|~R))+D[10]+4293915773&4294967295,z=U+(I<<15&4294967295|I>>>17),I=R+(U^(z|~w))+D[1]+2240044497&4294967295,R=z+(I<<21&4294967295|I>>>11),I=w+(z^(R|~U))+D[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~z))+D[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=z+(w^(U|~R))+D[6]+2734768916&4294967295,z=U+(I<<15&4294967295|I>>>17),I=R+(U^(z|~w))+D[13]+1309151649&4294967295,R=z+(I<<21&4294967295|I>>>11),I=w+(z^(R|~U))+D[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~z))+D[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=z+(w^(U|~R))+D[2]+718787259&4294967295,z=U+(I<<15&4294967295|I>>>17),I=R+(U^(z|~w))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(z+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var R=w-this.blockSize,D=this.B,z=this.h,U=0;U<w;){if(z==0)for(;U<=R;)i(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<w;)if(D[z++]=k.charCodeAt(U++),z==this.blockSize){i(this,D),z=0;break}}else for(;U<w;)if(D[z++]=k[U++],z==this.blockSize){i(this,D),z=0;break}}this.h=z,this.o+=w},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var R=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=R&255,R/=256;for(this.u(k),k=Array(16),w=R=0;4>w;++w)for(var D=0;32>D;D+=8)k[R++]=this.g[w]>>>D&255;return k};function s(k,w){var R=o;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=w(k)}function a(k,w){this.h=w;for(var R=[],D=!0,z=k.length-1;0<=z;z--){var U=k[z]|0;D&&U==w||(R[z]=U,D=!1)}this.g=R}var o={};function l(k){return-128<=k&&128>k?s(k,function(w){return new a([w|0],0>w?-1:0)}):new a([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return M(c(-k));for(var w=[],R=1,D=0;k>=R;D++)w[D]=k/R|0,R*=4294967296;return new a(w,0)}function h(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return M(h(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(w,8)),D=f,z=0;z<k.length;z+=8){var U=Math.min(8,k.length-z),I=parseInt(k.substring(z,z+U),w);8>U?(U=c(Math.pow(w,U)),D=D.j(U).add(c(I))):(D=D.j(R),D=D.add(c(I)))}return D}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(E(this))return-M(this).m();for(var k=0,w=1,R=0;R<this.g.length;R++){var D=this.i(R);k+=(0<=D?D:4294967296+D)*w,w*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(E(this))return"-"+M(this).toString(k);for(var w=c(Math.pow(k,6)),R=this,D="";;){var z=O(R,w).g;R=b(R,z.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=z,_(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=b(this,k),E(k)?-1:_(k)?0:1};function M(k){for(var w=k.g.length,R=[],D=0;D<w;D++)R[D]=~k.g[D];return new a(R,~k.h).add(d)}t.abs=function(){return E(this)?M(this):this},t.add=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],D=0,z=0;z<=w;z++){var U=D+(this.i(z)&65535)+(k.i(z)&65535),I=(U>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);D=I>>>16,U&=65535,I&=65535,R[z]=I<<16|U}return new a(R,R[R.length-1]&-2147483648?-1:0)};function b(k,w){return k.add(M(w))}t.j=function(k){if(_(this)||_(k))return f;if(E(this))return E(k)?M(this).j(M(k)):M(M(this).j(k));if(E(k))return M(this.j(M(k)));if(0>this.l(p)&&0>k.l(p))return c(this.m()*k.m());for(var w=this.g.length+k.g.length,R=[],D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var z=0;z<k.g.length;z++){var U=this.i(D)>>>16,I=this.i(D)&65535,fe=k.i(z)>>>16,Ne=k.i(z)&65535;R[2*D+2*z]+=I*Ne,S(R,2*D+2*z),R[2*D+2*z+1]+=U*Ne,S(R,2*D+2*z+1),R[2*D+2*z+1]+=I*fe,S(R,2*D+2*z+1),R[2*D+2*z+2]+=U*fe,S(R,2*D+2*z+2)}for(D=0;D<w;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=w;D<2*w;D++)R[D]=0;return new a(R,0)};function S(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function x(k,w){this.g=k,this.h=w}function O(k,w){if(_(w))throw Error("division by zero");if(_(k))return new x(f,f);if(E(k))return w=O(M(k),w),new x(M(w.g),M(w.h));if(E(w))return w=O(k,M(w)),new x(M(w.g),w.h);if(30<k.g.length){if(E(k)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var R=d,D=w;0>=D.l(k);)R=V(R),D=V(D);var z=H(R,1),U=H(D,1);for(D=H(D,2),R=H(R,2);!_(D);){var I=U.add(D);0>=I.l(k)&&(z=z.add(R),U=I),D=H(D,1),R=H(R,1)}return w=b(k,z.j(w)),new x(z,w)}for(z=f;0<=k.l(w);){for(R=Math.max(1,Math.floor(k.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=c(R),I=U.j(w);E(I)||0<I.l(k);)R-=D,U=c(R),I=U.j(w);_(U)&&(U=d),z=z.add(U),k=b(k,I)}return new x(z,k)}t.A=function(k){return O(this,k).h},t.and=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)&k.i(D);return new a(R,this.h&k.h)},t.or=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)|k.i(D);return new a(R,this.h|k.h)},t.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],D=0;D<w;D++)R[D]=this.i(D)^k.i(D);return new a(R,this.h^k.h)};function V(k){for(var w=k.g.length+1,R=[],D=0;D<w;D++)R[D]=k.i(D)<<1|k.i(D-1)>>>31;return new a(R,k.h)}function H(k,w){var R=w>>5;w%=32;for(var D=k.g.length-R,z=[],U=0;U<D;U++)z[U]=0<w?k.i(U+R)>>>w|k.i(U+R+1)<<32-w:k.i(U+R);return new a(z,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,uo=a}).apply(typeof a6<"u"?a6:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _S,oc,TS,hf,Rg,SS,wS,AS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,g){if(g)e:{var v=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var q=u[N];if(!(q in v))break e;v=v[q]}u=u[u.length-1],N=v[u],g=g(N),g!=N&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var v=0,N=!1,q={next:function(){if(!N&&v<u.length){var $=v++;return{value:g($,u[$]),done:!1}}return N=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,v){return u.call.apply(u.bind,arguments)}function f(u,g,v){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,N),u.apply(g,q)}}return function(){return u.apply(g,arguments)}}function d(u,g,v){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function p(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function _(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(N,q,$){for(var ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ee[Je-2]=arguments[Je];return g.prototype[q].apply(N,ee)}}function E(u){const g=u.length;if(0<g){const v=Array(g);for(let N=0;N<g;N++)v[N]=u[N];return v}return[]}function M(u,g){for(let v=1;v<arguments.length;v++){const N=arguments[v];if(l(N)){const q=u.length||0,$=N.length||0;u.length=q+$;for(let ee=0;ee<$;ee++)u[q+ee]=N[ee]}else u.push(N)}}class b{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function S(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function O(u){return O[" "](u),u}O[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function H(u,g,v){for(const N in u)g.call(v,u[N],N,u)}function k(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function w(u){const g={};for(const v in u)g[v]=u[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let v,N;for(let q=1;q<arguments.length;q++){N=arguments[q];for(v in N)u[v]=N[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(N,v)&&(u[v]=N[v])}}function z(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function U(u){o.setTimeout(()=>{throw u},0)}function I(){var u=xe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class fe{constructor(){this.h=this.g=null}add(g,v){const N=Ne.get();N.set(g,v),this.h?this.h.next=N:this.g=N,this.h=N}}var Ne=new b(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ae=!1,xe=new fe,Ae=()=>{const u=o.Promise.resolve(void 0);re=()=>{u.then(De)}};var De=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(v){U(v)}var g=Ne;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ae=!1};function Le(){this.s=this.s,this.C=this.C}Le.prototype.s=!1,Le.prototype.ma=function(){this.s||(this.s=!0,this.N())},Le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var vn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};o.addEventListener("test",v,g),o.removeEventListener("test",v,g)}catch{}return u}();function Me(u,g){if(Te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(V){e:{try{O(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ni[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Me.aa.h.call(this)}}_(Me,Te);var ni={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Cn="closure_listenable_"+(1e6*Math.random()|0),kn=0;function Ri(u,g,v,N,q){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!N,this.ha=q,this.key=++kn,this.da=this.fa=!1}function rr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ci(u){this.src=u,this.g={},this.h=0}Ci.prototype.add=function(u,g,v,N,q){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ee=_r(u,g,N,q);return-1<ee?(g=u[ee],v||(g.fa=!1)):(g=new Ri(g,this.src,$,!!N,q),g.fa=v,u.push(g)),g};function Ts(u,g){var v=g.type;if(v in u.g){var N=u.g[v],q=Array.prototype.indexOf.call(N,g,void 0),$;($=0<=q)&&Array.prototype.splice.call(N,q,1),$&&(rr(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function _r(u,g,v,N){for(var q=0;q<u.length;++q){var $=u[q];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==N)return q}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Hn={};function ki(u,g,v,N,q){if(Array.isArray(g)){for(var $=0;$<g.length;$++)ki(u,g[$],v,N,q);return null}return v=ws(v),u&&u[Cn]?u.K(g,v,c(N)?!!N.capture:!1,q):Mi(u,g,v,!1,N,q)}function Mi(u,g,v,N,q,$){if(!g)throw Error("Invalid event type");var ee=c(q)?!!q.capture:!!q,Je=Tu(u);if(Je||(u[Tr]=Je=new Ci(u)),v=Je.add(g,v,N,ee,$),v.proxy)return v;if(N=ir(),v.proxy=N,N.src=u,N.listener=v,u.addEventListener)vn||(q=ee),q===void 0&&(q=!1),u.addEventListener(g.toString(),N,q);else if(u.attachEvent)u.attachEvent(_u(g.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ir(){function u(v){return g.call(u.src,u.listener,v)}const g=F0;return u}function Sr(u,g,v,N,q){if(Array.isArray(g))for(var $=0;$<g.length;$++)Sr(u,g[$],v,N,q);else N=c(N)?!!N.capture:!!N,v=ws(v),u&&u[Cn]?(u=u.i,g=String(g).toString(),g in u.g&&($=u.g[g],v=_r($,v,N,q),-1<v&&(rr($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[g],u.h--)))):u&&(u=Tu(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_r(g,v,N,q)),(v=-1<u?g[u]:null)&&Ss(v))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Cn])Ts(g.i,u);else{var v=u.type,N=u.proxy;g.removeEventListener?g.removeEventListener(v,N,u.capture):g.detachEvent?g.detachEvent(_u(v),N):g.addListener&&g.removeListener&&g.removeListener(N),(v=Tu(g))?(Ts(v,u),v.h==0&&(v.src=null,g[Tr]=null)):rr(u)}}}function _u(u){return u in Hn?Hn[u]:Hn[u]="on"+u}function F0(u,g){if(u.da)u=!0;else{g=new Me(g,this);var v=u.listener,N=u.ha||u.src;u.fa&&Ss(u),u=v.call(N,g)}return u}function Tu(u){return u=u[Tr],u instanceof Ci?u:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function ws(u){return typeof u=="function"?u:(u[Ia]||(u[Ia]=function(g){return u.handleEvent(g)}),u[Ia])}function gt(){Le.call(this),this.i=new Ci(this),this.M=this,this.F=null}_(gt,Le),gt.prototype[Cn]=!0,gt.prototype.removeEventListener=function(u,g,v,N){Sr(this,u,g,v,N)};function nt(u,g){var v,N=u.F;if(N)for(v=[];N;N=N.F)v.push(N);if(u=u.M,N=g.type||g,typeof g=="string")g=new Te(g,u);else if(g instanceof Te)g.target=g.target||u;else{var q=g;g=new Te(N,u),D(g,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ee=g.g=v[$];q=As(ee,N,!0,g)&&q}if(ee=g.g=u,q=As(ee,N,!0,g)&&q,q=As(ee,N,!1,g)&&q,v)for($=0;$<v.length;$++)ee=g.g=v[$],q=As(ee,N,!1,g)&&q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],N=0;N<v.length;N++)rr(v[N]);delete u.g[g],u.h--}}this.F=null},gt.prototype.K=function(u,g,v,N){return this.i.add(String(u),g,!1,v,N)},gt.prototype.L=function(u,g,v,N){return this.i.add(String(u),g,!0,v,N)};function As(u,g,v,N){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,$=0;$<g.length;++$){var ee=g[$];if(ee&&!ee.da&&ee.capture==v){var Je=ee.listener,an=ee.ha||ee.src;ee.fa&&Ts(u.i,ee),q=Je.call(an,N)!==!1&&q}}return q&&!N.defaultPrevented}function Su(u,g,v){if(typeof u=="function")v&&(u=d(u,v));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:o.setTimeout(u,g||0)}function wu(u){u.g=Su(()=>{u.g=null,u.i&&(u.i=!1,wu(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Au extends Le{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(u){Le.call(this),this.h=u,this.g={}}_(Es,Le);var Da=[];function Oa(u){H(u.g,function(g,v){this.g.hasOwnProperty(v)&&Ss(g)},u),u.g={}}Es.prototype.N=function(){Es.aa.N.call(this),Oa(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=o.JSON.stringify,xs=o.JSON.parse,Eu=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function za(){}za.prototype.h=null;function q0(u){return u.h||(u.h=u.i())}function Pa(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xu(){Te.call(this,"d")}_(xu,Te);function Ni(){Te.call(this,"c")}_(Ni,Te);var Ii={},H0=null;function ht(){return H0=H0||new gt}Ii.La="serverreachability";function Di(u){Te.call(this,Ii.La,u)}_(Di,Te);function La(u){const g=ht();nt(g,new Di(g))}Ii.STAT_EVENT="statevent";function Ru(u,g){Te.call(this,Ii.STAT_EVENT,u),this.stat=g}_(Ru,Te);function Gt(u){const g=ht();nt(g,new Ru(g,u))}Ii.Ma="timingevent";function Cu(u,g){Te.call(this,Ii.Ma,u),this.size=g}_(Cu,Te);function Rs(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function wr(u,g,v,N,q,$){u.info(function(){if(u.g)if($)for(var ee="",Je=$.split("&"),an=0;an<Je.length;an++){var He=Je[an].split("=");if(1<He.length){var bn=He[0];He=He[1];var _n=bn.split("_");ee=2<=_n.length&&_n[1]=="type"?ee+(bn+"="+He+"&"):ee+(bn+"=redacted&")}}else ee=null;else ee=$;return"XMLHTTP REQ ("+N+") [attempt "+q+"]: "+g+`
`+v+`
`+ee})}function Oi(u,g,v,N,q,$,ee){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+q+"]: "+g+`
`+v+`
`+$+" "+ee})}function zi(u,g,v,N){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ku(u,v)+(N?" "+N:"")})}function G0(u,g){u.info(function(){return"TIMEOUT: "+g})}Va.prototype.info=function(){};function ku(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var N=v[u];if(!(2>N.length)){var q=N[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ee=1;ee<q.length;ee++)q[ee]=""}}}}return sr(v)}catch{return g}}var Ua={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oo;function Ba(){}_(Ba,za),Ba.prototype.g=function(){return new XMLHttpRequest},Ba.prototype.i=function(){return{}},Oo=new Ba;function Gr(u,g,v,N){this.j=u,this.i=g,this.l=v,this.R=N||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}var $0={},ue={};function B(u,g,v){u.L=1,u.v=Y0(Pi(g)),u.m=v,u.P=!0,Q(u,null)}function Q(u,g){u.F=Date.now(),Mt(u),u.A=Pi(u.v);var v=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),N2(v.i,"t",N),u.C=0,v=u.j.J,u.h=new Mu,u.g=Y2(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Au(d(u.Y,u,u.g),u.O)),g=u.U,v=u.g,N=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Da[0]=q.toString()),q=Da);for(var $=0;$<q.length;$++){var ee=ki(v,q[$],N||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),La(),wr(u.i,u.u,u.A,u.l,u.R,u.m)}Gr.prototype.ca=function(u){u=u.target;const g=this.M;g&&Li(u)==3?g.j():this.Y(u)},Gr.prototype.Y=function(u){try{if(u==this.g)e:{const _n=Li(this.g);var g=this.g.Ba();const Lo=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||V2(this.g)))){this.J||_n!=4||g==7||(g==8||0>=Lo?La(3):La(2)),Jt(this);var v=this.g.Z();this.X=v;t:if(oe(this)){var N=V2(this.g);u="";var q=N.length,$=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),Mn(this);var ee="";break t}this.h.i=new o.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,u+=this.h.i.decode(N[g],{stream:!($&&g==q-1)});N.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,Oi(this.i,this.u,this.A,this.l,this.R,_n,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,an=this.g;if((Je=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Je)){var He=Je;break t}}He=null}if(v=He)zi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,v);else{this.o=!1,this.s=3,Gt(12),Gn(this),Mn(this);break e}}if(this.P){v=!0;let $r;for(;!this.J&&this.C<ee.length;)if($r=rt(this,ee),$r==ue){_n==4&&(this.s=4,Gt(14),v=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if($r==$0){this.s=4,Gt(15),zi(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else zi(this.i,this.l,$r,null),ja(this,$r);if(oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||ee.length!=0||this.h.h||(this.s=1,Gt(16),v=!1),this.o=this.o&&v,!v)zi(this.i,this.l,ee,"[Invalid Chunked Response]"),Gn(this),Mn(this);else if(0<ee.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Dm(bn),bn.M=!0,Gt(11))}}else zi(this.i,this.l,ee,null),ja(this,ee);_n==4&&Gn(this),this.o&&!this.J&&(_n==4?G2(this.j,this):(this.o=!1,Mt(this)))}else tR(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Gn(this),Mn(this)}}}catch{}finally{}};function oe(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rt(u,g){var v=u.C,N=g.indexOf(`
`,v);return N==-1?ue:(v=Number(g.substring(v,N)),isNaN(v)?$0:(N+=1,N+v>g.length?ue:(g=g.slice(N,N+v),u.C=N+v,g)))}Gr.prototype.cancel=function(){this.J=!0,Gn(this)};function Mt(u){u.S=Date.now()+u.I,yt(u,u.I)}function yt(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rs(d(u.ba,u),g)}function Jt(u){u.B&&(o.clearTimeout(u.B),u.B=null)}Gr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(G0(this.i,this.A),this.L!=2&&(La(),Gt(17)),Gn(this),this.s=2,Mn(this)):yt(this,this.S-u)};function Mn(u){u.j.G==0||u.J||G2(u.j,u)}function Gn(u){Jt(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Oa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ja(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Cm(v.h,u))){if(!u.K&&Cm(v.h,u)&&v.G==3){try{var N=v.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var q=N;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)th(v),J0(v);else break e;Im(v),Gt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rs(d(v.Za,v),6e3));if(1>=S2(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qa(v,11)}else if((u.K||v.g==u)&&th(v),!S(g))for(q=v.Da.g.parse(g),g=0;g<q.length;g++){let He=q[g];if(v.T=He[0],He=He[1],v.G==2)if(He[0]=="c"){v.K=He[1],v.ia=He[2];const bn=He[3];bn!=null&&(v.la=bn,v.j.info("VER="+v.la));const _n=He[4];_n!=null&&(v.Aa=_n,v.j.info("SVER="+v.Aa));const Lo=He[5];Lo!=null&&typeof Lo=="number"&&0<Lo&&(N=1.5*Lo,v.L=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const $r=u.g;if($r){const rh=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rh){var $=N.h;$.g||rh.indexOf("spdy")==-1&&rh.indexOf("quic")==-1&&rh.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(km($,$.h),$.h=null))}if(N.D){const Om=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;Om&&(N.ya=Om,at(N.I,N.D,Om))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),N=v;var ee=u;if(N.qa=K2(N,N.J?N.ia:null,N.W),ee.K){w2(N.h,ee);var Je=ee,an=N.L;an&&(Je.I=an),Je.B&&(Jt(Je),Mt(Je)),N.g=ee}else q2(N);0<v.i.length&&eh(v)}else He[0]!="stop"&&He[0]!="close"||qa(v,7);else v.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?qa(v,7):Nm(v):He[0]!="noop"&&v.l&&v.l.ta(He),v.v=0)}}La(4)}catch{}}var $t=class{constructor(u,g){this.g=u,this.map=g}};function Nu(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iu(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function S2(u){return u.h?1:u.g?u.g.size:0}function Cm(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function km(u,g){u.g?u.g.add(g):u.h=g}function w2(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Nu.prototype.cancel=function(){if(this.i=A2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function A2(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return E(u.i)}function Bx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],v=u.length,N=0;N<v;N++)g.push(u[N]);return g}g=[],v=0;for(N in u)g[v++]=u[N];return g}function jx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const N in u)g[v++]=N;return g}}}function E2(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=jx(u),N=Bx(u),q=N.length,$=0;$<q;$++)g.call(void 0,N[$],v&&v[$],u)}var x2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fx(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var N=u[v].indexOf("="),q=null;if(0<=N){var $=u[v].substring(0,N);q=u[v].substring(N+1)}else $=u[v];g($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Fa(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fa){this.h=u.h,Z0(this,u.j),this.o=u.o,this.g=u.g,K0(this,u.s),this.l=u.l;var g=u.i,v=new zu;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),R2(this,v),this.m=u.m}else u&&(g=String(u).match(x2))?(this.h=!1,Z0(this,g[1]||"",!0),this.o=Du(g[2]||""),this.g=Du(g[3]||"",!0),K0(this,g[4]),this.l=Du(g[5]||"",!0),R2(this,g[6]||"",!0),this.m=Du(g[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}Fa.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ou(g,C2,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ou(g,C2,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ou(v,v.charAt(0)=="/"?Gx:Hx,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ou(v,Zx)),u.join("")};function Pi(u){return new Fa(u)}function Z0(u,g,v){u.j=v?Du(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function K0(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function R2(u,g,v){g instanceof zu?(u.i=g,Kx(u.i,u.h)):(v||(g=Ou(g,$x)),u.i=new zu(g,u.h))}function at(u,g,v){u.i.set(g,v)}function Y0(u){return at(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Du(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ou(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,qx),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qx(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var C2=/[#\/\?@]/g,Hx=/[#\?:]/g,Gx=/[#\?]/g,$x=/[#\?@]/g,Zx=/#/g;function zu(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Cs(u){u.g||(u.g=new Map,u.h=0,u.i&&Fx(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=zu.prototype,t.add=function(u,g){Cs(this),this.i=null,u=zo(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function k2(u,g){Cs(u),g=zo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function M2(u,g){return Cs(u),g=zo(u,g),u.g.has(g)}t.forEach=function(u,g){Cs(this),this.g.forEach(function(v,N){v.forEach(function(q){u.call(g,q,N,this)},this)},this)},t.na=function(){Cs(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let N=0;N<g.length;N++){const q=u[N];for(let $=0;$<q.length;$++)v.push(g[N])}return v},t.V=function(u){Cs(this);let g=[];if(typeof u=="string")M2(this,u)&&(g=g.concat(this.g.get(zo(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},t.set=function(u,g){return Cs(this),this.i=null,u=zo(this,u),M2(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function N2(u,g,v){k2(u,g),0<v.length&&(u.i=null,u.g.set(zo(u,g),E(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var N=g[v];const $=encodeURIComponent(String(N)),ee=this.V(N);for(N=0;N<ee.length;N++){var q=$;ee[N]!==""&&(q+="="+encodeURIComponent(String(ee[N]))),u.push(q)}}return this.i=u.join("&")};function zo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Kx(u,g){g&&!u.j&&(Cs(u),u.i=null,u.g.forEach(function(v,N){var q=N.toLowerCase();N!=q&&(k2(this,N),N2(this,q,v))},u)),u.j=g}function Yx(u,g){const v=new Va;if(o.Image){const N=new Image;N.onload=p(ks,v,"TestLoadImage: loaded",!0,g,N),N.onerror=p(ks,v,"TestLoadImage: error",!1,g,N),N.onabort=p(ks,v,"TestLoadImage: abort",!1,g,N),N.ontimeout=p(ks,v,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else g(!1)}function Xx(u,g){const v=new Va,N=new AbortController,q=setTimeout(()=>{N.abort(),ks(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:N.signal}).then($=>{clearTimeout(q),$.ok?ks(v,"TestPingServer: ok",!0,g):ks(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),ks(v,"TestPingServer: error",!1,g)})}function ks(u,g,v,N,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),N(v)}catch{}}function Qx(){this.g=new Eu}function Wx(u,g,v){const N=v||"";try{E2(u,function(q,$){let ee=q;c(q)&&(ee=sr(q)),g.push(N+$+"="+encodeURIComponent(ee))})}catch(q){throw g.push(N+"type="+encodeURIComponent("_badmap")),q}}function X0(u){this.l=u.Ub||null,this.j=u.eb||!1}_(X0,za),X0.prototype.g=function(){return new Q0(this.l,this.j)},X0.prototype.i=function(u){return function(){return u}}({});function Q0(u,g){gt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Q0,gt),t=Q0.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Lu(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||o).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pu(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I2(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function I2(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Pu(this):Lu(this),this.readyState==3&&I2(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Pu(this))},t.Qa=function(u){this.g&&(this.response=u,Pu(this))},t.ga=function(){this.g&&Pu(this)};function Pu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Lu(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Lu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Q0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function D2(u){let g="";return H(u,function(v,N){g+=N,g+=":",g+=v,g+=`\r
`}),g}function Mm(u,g,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=D2(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):at(u,g,v))}function St(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(St,gt);var Jx=/^https?$/i,eR=["POST","PUT"];t=St.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oo.g(),this.v=this.o?q0(this.o):q0(Oo),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch($){O2(this,$);return}if(u=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var q in N)v.set(q,N[q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const $ of N.keys())v.set($,N.get($));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(eR,g,void 0))||N||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of v)this.g.setRequestHeader($,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{L2(this),this.u=!0,this.g.send(u),this.u=!1}catch($){O2(this,$)}};function O2(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,z2(u),W0(u)}function z2(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,nt(this,"complete"),nt(this,"abort"),W0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),W0(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P2(this):this.bb())},t.bb=function(){P2(this)};function P2(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Li(u)!=4||u.Z()!=2)){if(u.u&&Li(u)==4)Su(u.Ea,0,u);else if(nt(u,"readystatechange"),Li(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var N;if(N=ee===0){var q=String(u.D).match(x2)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),N=!Jx.test(q?q.toLowerCase():"")}v=N}if(v)nt(u,"complete"),nt(u,"success");else{u.m=6;try{var $=2<Li(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",z2(u)}}finally{W0(u)}}}}function W0(u,g){if(u.g){L2(u);const v=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||nt(u,"ready");try{v.onreadystatechange=N}catch{}}}function L2(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Li(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),xs(g)}};function V2(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tR(u){const g={};u=(u.g&&2<=Li(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(S(u[N]))continue;var v=z(u[N]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[q]||[];g[q]=$,$.push(v)}k(g,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vu(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function U2(u){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vu("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vu("baseRetryDelayMs",5e3,u),this.cb=Vu("retryDelaySeedMs",1e4,u),this.Wa=Vu("forwardChannelMaxRetries",2,u),this.wa=Vu("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nu(u&&u.concurrentRequestLimit),this.Da=new Qx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=U2.prototype,t.la=8,t.G=1,t.connect=function(u,g,v,N){Gt(0),this.W=u,this.H=g||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.I=K2(this,null,this.W),eh(this)};function Nm(u){if(B2(u),u.G==3){var g=u.U++,v=Pi(u.I);if(at(v,"SID",u.K),at(v,"RID",g),at(v,"TYPE","terminate"),Uu(u,v),g=new Gr(u,u.j,g),g.L=2,g.v=Y0(Pi(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=g.v,v=!0),v||(g.g=Y2(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Mt(g)}Z2(u)}function J0(u){u.g&&(Dm(u),u.g.cancel(),u.g=null)}function B2(u){J0(u),u.u&&(o.clearTimeout(u.u),u.u=null),th(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function eh(u){if(!Iu(u.h)&&!u.s){u.s=!0;var g=u.Ga;re||Ae(),ae||(re(),ae=!0),xe.add(g,u),u.B=0}}function nR(u,g){return S2(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rs(d(u.Ga,u,g),$2(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Gr(this,this.j,u);let $=this.o;if(this.S&&($?($=w($),D($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=F2(this,q,g),v=Pi(this.I),at(v,"RID",u),at(v,"CVER",22),this.D&&at(v,"X-HTTP-Session-Id",this.D),Uu(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(D2($)))+"&"+g:this.m&&Mm(v,this.m,$)),km(this.h,q),this.Ua&&at(v,"TYPE","init"),this.P?(at(v,"$req",g),at(v,"SID","null"),q.T=!0,B(q,v,null)):B(q,v,g),this.G=2}}else this.G==3&&(u?j2(this,u):this.i.length==0||Iu(this.h)||j2(this))};function j2(u,g){var v;g?v=g.l:v=u.U++;const N=Pi(u.I);at(N,"SID",u.K),at(N,"RID",v),at(N,"AID",u.T),Uu(u,N),u.m&&u.o&&Mm(N,u.m,u.o),v=new Gr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=F2(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),km(u.h,v),B(v,N,g)}function Uu(u,g){u.H&&H(u.H,function(v,N){at(g,N,v)}),u.l&&E2({},function(v,N){at(g,N,v)})}function F2(u,g,v){v=Math.min(u.i.length,v);var N=u.l?d(u.l.Na,u.l,u):null;e:{var q=u.i;let $=-1;for(;;){const ee=["count="+v];$==-1?0<v?($=q[0].g,ee.push("ofs="+$)):$=0:ee.push("ofs="+$);let Je=!0;for(let an=0;an<v;an++){let He=q[an].g;const bn=q[an].map;if(He-=$,0>He)$=Math.max(0,q[an].g-100),Je=!1;else try{Wx(bn,ee,"req"+He+"_")}catch{N&&N(bn)}}if(Je){N=ee.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,N}function q2(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;re||Ae(),ae||(re(),ae=!0),xe.add(g,u),u.v=0}}function Im(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rs(d(u.Fa,u),$2(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,H2(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rs(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),J0(this),H2(this))};function Dm(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function H2(u){u.g=new Gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Pi(u.qa);at(g,"RID","rpc"),at(g,"SID",u.K),at(g,"AID",u.T),at(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&at(g,"TO",u.ja),at(g,"TYPE","xmlhttp"),Uu(u,g),u.m&&u.o&&Mm(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Y0(Pi(g)),v.m=null,v.P=!0,Q(v,u)}t.Za=function(){this.C!=null&&(this.C=null,J0(this),Im(this),Gt(19))};function th(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function G2(u,g){var v=null;if(u.g==g){th(u),Dm(u),u.g=null;var N=2}else if(Cm(u.h,g))v=g.D,w2(u.h,g),N=1;else return;if(u.G!=0){if(g.o)if(N==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var q=u.B;N=ht(),nt(N,new Cu(N,v)),eh(u)}else q2(u);else if(q=g.s,q==3||q==0&&0<g.X||!(N==1&&nR(u,g)||N==2&&Im(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),q){case 1:qa(u,5);break;case 4:qa(u,10);break;case 3:qa(u,6);break;default:qa(u,2)}}}function $2(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function qa(u,g){if(u.j.info("Error code "+g),g==2){var v=d(u.fb,u),N=u.Xa;const q=!N;N=new Fa(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Z0(N,"https"),Y0(N),q?Yx(N.toString(),v):Xx(N.toString(),v)}else Gt(2);u.G=0,u.l&&u.l.sa(g),Z2(u),B2(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Z2(u){if(u.G=0,u.ka=[],u.l){const g=A2(u.h);(g.length!=0||u.i.length!=0)&&(M(u.ka,g),M(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function K2(u,g,v){var N=v instanceof Fa?Pi(v):new Fa(v);if(N.g!="")g&&(N.g=g+"."+N.g),K0(N,N.s);else{var q=o.location;N=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var $=new Fa(null);N&&Z0($,N),g&&($.g=g),q&&K0($,q),v&&($.l=v),N=$}return v=u.D,g=u.ya,v&&g&&at(N,v,g),at(N,"VER",u.la),Uu(u,N),N}function Y2(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new St(new X0({eb:v})):new St(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function X2(){}t=X2.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nh(){}nh.prototype.g=function(u,g){return new ar(u,g)};function ar(u,g){gt.call(this),this.g=new U2(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!S(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Po(this)}_(ar,gt),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){Nm(this.g)},ar.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=sr(u),u=v);g.i.push(new $t(g.Ya++,u)),g.G==3&&eh(g)},ar.prototype.N=function(){this.g.l=null,delete this.j,Nm(this.g),delete this.g,ar.aa.N.call(this)};function Q2(u){xu.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}_(Q2,xu);function W2(){Ni.call(this),this.status=1}_(W2,Ni);function Po(u){this.g=u}_(Po,X2),Po.prototype.ua=function(){nt(this.g,"a")},Po.prototype.ta=function(u){nt(this.g,new Q2(u))},Po.prototype.sa=function(u){nt(this.g,new W2)},Po.prototype.ra=function(){nt(this.g,"b")},nh.prototype.createWebChannel=nh.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,AS=function(){return new nh},wS=function(){return ht()},SS=Ii,Rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,hf=Ua,Ar.COMPLETE="complete",TS=Ar,Pa.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",gt.prototype.listen=gt.prototype.K,oc=Pa,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,_S=St}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const o6="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Iy("@firebase/firestore");function Zu(){return So.logLevel}function le(t,...e){if(So.logLevel<=Ve.DEBUG){const n=e.map(qy);So.debug(`Firestore (${cu}): ${t}`,...n)}}function ps(t,...e){if(So.logLevel<=Ve.ERROR){const n=e.map(qy);So.error(`Firestore (${cu}): ${t}`,...n)}}function jl(t,...e){if(So.logLevel<=Ve.WARN){const n=e.map(qy);So.warn(`Firestore (${cu}): ${t}`,...n)}}function qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function Ct(t,e){t||Re()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wl,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wl)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string"),new ES(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string"),new wn(e)}}class nO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ct(this.o===void 0);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string"),this.R=n.token,new iO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Fl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Jn(0,0))}static max(){return new Se(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof t0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rt extends t0{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const oO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends t0{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return oO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Rt.fromString(e))}static fromName(e){return new ge(Rt.fromString(e).popFirst(5))}static empty(){return new ge(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Rt(e.slice()))}}function lO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Jn(n+1,0):new Jn(n,r));return new ya(i,ge.empty(),e)}function uO(t){return new ya(t.readTime,t.key,-1)}class ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ya(Se.min(),ge.empty(),-1)}static max(){return new ya(Se.max(),ge.empty(),-1)}}function cO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hy(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==hO)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new X((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function dO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function N0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gy.oe=-1;function nm(t){return t==null}function Cg(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rm(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??un.RED,this.left=i??un.EMPTY,this.right=s??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u6(this.data.getIterator())}getIteratorFrom(e){return new u6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class u6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Ws([])}unionWith(e){let n=new pn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ws(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RS("Invalid base64 string: "+s):s}}(e);return new gn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const pO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(t){if(Ct(!!t),typeof t=="string"){let e=0;const n=pO.exec(t);if(Ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zy(t){const e=t.mapValue.fields.__previous_value__;return $y(e)?Zy(e):e}function n0(t){const e=va(t.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class r0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new r0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={mapValue:{}};function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:vO(t)?9007199254740991:yO(t)?10:11:Re()}function vi(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return n0(t).isEqual(n0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=va(i.timestampValue),o=va(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wo(i.bytesValue).isEqual(wo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Nt(i.doubleValue),o=Nt(s.doubleValue);return a===o?Cg(a)===Cg(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(l6(a)!==l6(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!vi(a[l],o[l])))return!1;return!0}(t,e);default:return Re()}}function i0(t,e){return(t.values||[]).find(n=>vi(n,e))!==void 0}function ql(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Nt(s.integerValue||s.doubleValue),l=Nt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return c6(t.timestampValue,e.timestampValue);case 4:return c6(n0(t),n0(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(s,a){const o=wo(s),l=wo(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ge(o[c],l[c]);if(h!==0)return h}return Ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ge(Nt(s.latitude),Nt(a.latitude));return o!==0?o:Ge(Nt(s.longitude),Nt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return h6(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const f=s.fields||{},d=a.fields||{},p=(o=f.value)===null||o===void 0?void 0:o.arrayValue,_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,E=Ge(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:h6(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===wh.mapValue&&a===wh.mapValue)return 0;if(s===wh.mapValue)return 1;if(a===wh.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ge(l[f],h[f]);if(d!==0)return d;const p=ql(o[l[f]],c[h[f]]);if(p!==0)return p}return Ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Re()}}function c6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=va(t),r=va(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function h6(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ql(n[i],r[i]);if(s)return s}return Ge(n.length,r.length)}function Hl(t){return kg(t)}function kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${kg(n.fields[a])}`;return i+"}"}(t.mapValue):Re()}function Mg(t){return!!t&&"integerValue"in t}function Ky(t){return!!t&&"arrayValue"in t}function f6(t){return!!t&&"nullValue"in t}function d6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function yO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rm(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=kc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rm(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ai(kc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new An(e,0,Se.min(),Se.min(),Se.min(),ai.empty(),0)}static newFoundDocument(e,n,r,i){return new An(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new An(e,2,n,Se.min(),Se.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Se.min(),Se.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.position=e,this.inclusive=n}}function m6(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(a.referenceValue),n.key):r=ql(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function p6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n="asc"){this.field=e,this.dir=n}}function bO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class Yt extends CS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TO(e,n,r):n==="array-contains"?new AO(e,r):n==="in"?new EO(e,r):n==="not-in"?new xO(e,r):n==="array-contains-any"?new RO(e,r):new Yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SO(e,r):new wO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ql(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends CS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bi(e,n)}matches(e){return kS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kS(t){return t.op==="and"}function MS(t){return _O(t)&&kS(t)}function _O(t){for(const e of t.filters)if(e instanceof bi)return!1;return!0}function Ng(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(MS(t))return t.filters.map(e=>Ng(e)).join(",");{const e=t.filters.map(n=>Ng(n)).join(",");return`${t.op}(${e})`}}function NS(t,e){return t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.field.isEqual(i.field)&&vi(r.value,i.value)}(t,e):t instanceof bi?function(r,i){return i instanceof bi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&NS(a,i.filters[o]),!0):!1}(t,e):void Re()}function IS(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof bi?function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"}(t):"Filter"}class TO extends Yt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class SO extends Yt{constructor(e,n){super(e,"in",n),this.keys=DS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wO extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=DS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class AO extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ky(n)&&i0(n.arrayValue,this.value)}}class EO extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&i0(this.value.arrayValue,n)}}class xO extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(i0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!i0(this.value.arrayValue,n)}}class RO extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>i0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function g6(t,e=null,n=[],r=[],i=null,s=null,a=null){return new CO(t,e,n,r,i,s,a)}function Yy(t){const e=je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),nm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.ue=n}return e.ue}function Xy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p6(t.startAt,e.startAt)&&p6(t.endAt,e.endAt)}function Ig(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kO(t,e,n,r,i,s,a,o){return new im(t,e,n,r,i,s,a,o)}function Qy(t){return new im(t)}function y6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MO(t){return t.collectionGroup!==null}function Mc(t){const e=je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new pn(Pn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ad(s,r))}),n.has(Pn.keyField().canonicalString())||e.ce.push(new ad(Pn.keyField(),r))}return e.ce}function pi(t){const e=je(t);return e.le||(e.le=NO(e,Mc(t))),e.le}function NO(t,e){if(t.limitType==="F")return g6(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ad(i.field,s)});const n=t.endAt?new sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sd(t.startAt.position,t.startAt.inclusive):null;return g6(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dg(t,e,n){return new im(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sm(t,e){return Xy(pi(t),pi(e))&&t.limitType===e.limitType}function OS(t){return`${Yy(pi(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IS(i)).join(", ")}]`),nm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hl(i)).join(",")),`Target(${r})`}(pi(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Mc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=m6(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,Mc(r),i)||r.endAt&&!function(a,o,l){const c=m6(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,Mc(r),i))}(t,e)}function IO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(const i of Mc(t)){const s=DO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DO(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?ql(l,c):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rm(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new Pt(ge.comparator);function ba(){return OO}const PS=new Pt(ge.comparator);function lc(...t){let e=PS;for(const n of t)e=e.insert(n.key,n);return e}function zO(t){let e=PS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return Nc()}function LS(){return Nc()}function Nc(){return new hu(t=>t.toString(),(t,e)=>t.isEqual(e))}const PO=new pn(ge.comparator);function Fe(...t){let e=PO;for(const n of t)e=e.add(n);return e}const LO=new pn(Ge);function VO(){return LO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}function BO(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function jO(t,e,n){return t instanceof Og?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$y(s)&&(s=Zy(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof od?VS(t,e):t instanceof ld?US(t,e):function(i,s){const a=qO(i,s),o=v6(a)+v6(i.Pe);return Mg(a)&&Mg(i.Pe)?BO(o):UO(i.serializer,o)}(t,e)}function FO(t,e,n){return t instanceof od?VS(t,e):t instanceof ld?US(t,e):n}function qO(t,e){return t instanceof zg?function(r){return Mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Og extends om{}class od extends om{constructor(e){super(),this.elements=e}}function VS(t,e){const n=BS(e);for(const r of t.elements)n.some(i=>vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class ld extends om{constructor(e){super(),this.elements=e}}function US(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(i=>!vi(i,r));return{arrayValue:{values:n}}}class zg extends om{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function v6(t){return Nt(t.integerValue||t.doubleValue)}function BS(t){return Ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof od&&i instanceof od||r instanceof ld&&i instanceof ld?Fl(r.elements,i.elements,vi):r instanceof zg&&i instanceof zg?vi(r.Pe,i.Pe):r instanceof Og&&i instanceof Og}(t.transform,e.transform)}class co{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new co}static exists(e){return new co(void 0,e)}static updateTime(e){return new co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wy{}function jS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $O(t.key,co.none()):new Jy(t.key,t.data,co.none());{const n=t.data,r=ai.empty();let i=new pn(Pn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new lm(t.key,r,new Ws(i.toArray()),co.none())}}function GO(t,e,n){t instanceof Jy?function(i,s,a){const o=i.value.clone(),l=_6(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof lm?function(i,s,a){if(!ff(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=_6(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(FS(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof Jy?function(s,a,o,l){if(!ff(s.precondition,a))return o;const c=s.value.clone(),h=T6(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof lm?function(s,a,o,l){if(!ff(s.precondition,a))return o;const c=T6(s.fieldTransforms,l,a),h=a.data;return h.setAll(FS(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,o){return ff(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function b6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fl(r,i,(s,a)=>HO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jy extends Wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lm extends Wy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function FS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _6(t,e,n){const r=new Map;Ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,FO(a,o,n[i]))}return r}function T6(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,jO(s,a,e))}return r}class $O extends Wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LS();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=jS(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,r)=>b6(n,r))&&Fl(this.baseMutations,e.baseMutations,(n,r)=>b6(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Be;function qS(t){if(t===void 0)return ps("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Vt.OK:return ne.OK;case Vt.CANCELLED:return ne.CANCELLED;case Vt.UNKNOWN:return ne.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ne.INTERNAL;case Vt.UNAVAILABLE:return ne.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ne.NOT_FOUND;case Vt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Vt.ABORTED:return ne.ABORTED;case Vt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Vt.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(Be=Vt||(Vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new uo([4294967295,4294967295],0);function S6(t){const e=XO().encode(t),n=new bS;return n.update(e),new Uint8Array(n.digest())}function w6(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new uo([n,r],0),new uo([i,s],0)]}class ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=uo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(uo.fromNumber(r)));return i.compare(QO)===1&&(i=new uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=S6(e),[r,i]=w6(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new ev(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=S6(e),[r,i]=w6(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,I0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(Se.min(),i,new Pt(Ge),ba(),Fe())}}class I0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new I0(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class HS{constructor(e,n){this.targetId=e,this.me=n}}class GS{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A6{constructor(){this.fe=0,this.ge=x6(),this.pe=gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),n=Fe(),r=Fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new I0(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=x6()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WO{constructor(e){this.Le=e,this.Be=new Map,this.ke=ba(),this.qe=E6(),this.Qe=new Pt(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ig(s))if(r===0){const a=new ge(s.path);this.Ue(n,a,An.newNoDocument(a,Se.min()))}else Ct(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=wo(r).toUint8Array()}catch(l){if(l instanceof RS)return jl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new ev(a,i,s)}catch(l){return jl(l instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Ig(o.target)){const l=new ge(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,An.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Fe();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new um(e,n,this.Qe,this.ke,r);return this.ke=ba(),this.qe=E6(),this.Qe=new Pt(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new A6,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new A6),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function E6(){return new Pt(ge.comparator)}function x6(){return new Pt(ge.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tz={and:"AND",or:"OR"};class nz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||nm(e)?e:{value:e}}function rz(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Al(t){return Ct(!!t),Se.fromTimestamp(function(n){const r=va(n);return new Jn(r.seconds,r.nanos)}(t))}function sz(t,e){return Lg(t,e).canonicalString()}function Lg(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $S(t){const e=Rt.fromString(t);return Ct(QS(e)),e}function xp(t,e){const n=$S(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(KS(n))}function ZS(t,e){return sz(t.databaseId,e)}function az(t){const e=$S(t);return e.length===4?Rt.emptyPath():KS(e)}function R6(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return Ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ct(h===void 0||typeof h=="string"),gn.fromBase64String(h||"")):(Ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?ne.UNKNOWN:qS(c.code);return new pe(h,c.message||"")}(a);n=new GS(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xp(t,r.document.name),s=Al(r.document.updateTime),a=r.document.createTime?Al(r.document.createTime):Se.min(),o=new ai({mapValue:{fields:r.document.fields}}),l=An.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new df(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xp(t,r.document),s=r.readTime?Al(r.readTime):Se.min(),a=An.newNoDocument(i,s),o=r.removedTargetIds||[];n=new df([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xp(t,r.document),s=r.removedTargetIds||[];n=new df([],s,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new YO(i,s),o=r.targetId;n=new HS(o,a)}}return n}function lz(t,e){return{documents:[ZS(t,e.path)]}}function uz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZS(t,i);const s=function(c){if(c.length!==0)return XS(bi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Go(d.field),direction:fz(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Pg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function cz(t){let e=az(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=YS(f);return d instanceof bi&&MS(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(_){return new ad($o(_.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,nm(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new sd(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,p=f.values||[];return new sd(p,d)}(n.endAt)),kO(e,i,a,s,o,"F",l,c)}function hz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$o(n.unaryFilter.field);return Yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$o(n.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$o(n.unaryFilter.field);return Yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$o(n.unaryFilter.field);return Yt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create($o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bi.create(n.compositeFilter.filters.map(r=>YS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function fz(t){return JO[t]}function dz(t){return ez[t]}function mz(t){return tz[t]}function Go(t){return{fieldPath:t.canonicalString()}}function $o(t){return Pn.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof Yt?function(n){if(n.op==="=="){if(d6(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(f6(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d6(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(f6(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:dz(n.op),value:n.value}}}(t):t instanceof bi?function(n){const r=n.getFilters().map(i=>XS(i));return r.length===1?r[0]:{compositeFilter:{op:mz(n.op),filters:r}}}(t):Re()}function QS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,i,s=Se.min(),a=Se.min(),o=gn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.ct=e}}function gz(t){const e=cz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.un=new vz}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(ya.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(ya.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class vz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(Rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gl(0)}static kn(){return new Gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.changes=new hu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,Ws.empty(),Jn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=lc();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=ba();const a=Nc(),o=function(){return Nc()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof lm)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Ic(h.mutation,c,h.mutation.getFieldMask(),Jn.now())):a.set(c.key,Ws.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var f;return o.set(c,new _z(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Nc();let i=new Pt((a,o)=>a-o),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Ws.empty();h=o.applyToLocalView(c,h),r.set(l,h);const f=(i.get(o.batchId)||Fe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=LS();h.forEach(d=>{if(!s.has(d)){const p=jS(n.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return X.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):X.resolve(to());let o=-1,l=s;return a.next(c=>X.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Fe())).next(h=>({batchId:o,changes:zO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=lc();return this.indexManager.getCollectionParents(e,s).next(o=>X.forEach(o,l=>{const c=function(f,d){return new im(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,An.newInvalidDocument(h)))});let o=lc();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ic(h.mutation,c,Ws.empty(),Jn.now()),am(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Al(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:gz(i.bundledQuery),readTime:Al(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.overlays=new Pt(ge.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=to();return X.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=to(),s=n.length+1,a=new ge(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=to(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=to(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return X.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new KO(n,r));let s=this.Ir.get(n);s===void 0&&(s=Fe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Tr=new pn(tn.Er),this.dr=new pn(tn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new tn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new tn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new Rt([])),r=new tn(n,e),i=new tn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new Rt([])),r=new tn(n,e),i=new tn(n,e+1);let s=Fe();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new tn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pn(tn.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZO(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new tn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tn(n,0),i=new tn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Ge);return n.forEach(i=>{const s=new tn(i,0),a=new tn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const a=new tn(new ge(s),0);let o=new pn(Ge);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),X.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ct(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,i=>{const s=new tn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new tn(n,0),i=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.Mr=e,this.docs=function(){return new Pt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let r=ba();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():An.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ba();const a=n.path,o=new ge(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||cO(uO(h),r)<=0||(i.has(h.key)||am(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Re()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rz(this)}getSize(e){return X.resolve(this.size)}}class Rz extends bz{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.persistence=e,this.Nr=new hu(n=>Yy(n),Xy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tv,this.targetCount=0,this.kr=Gl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gy(0),this.Kr=!1,this.Kr=!0,this.$r=new Az,this.referenceDelegate=e(this),this.Ur=new Cz(this),this.indexManager=new yz,this.remoteDocumentCache=function(i){return new xz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new pz(n),this.Gr=new Sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ez(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new Mz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Mz extends fO{constructor(e){super(),this.currentSequenceNumber=e}}class nv{constructor(e){this.persistence=e,this.Jr=new tv,this.Yr=null}static Zr(e){return new nv(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Fe(),i=Fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return DM()?8:dO(Rn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Nz;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zu()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(Zu()<=Ve.DEBUG&&le("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zu()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):X.resolve())}Yi(e,n){if(y6(n))return X.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dg(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Fe(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,a,l.readTime)?this.Yi(e,Dg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return y6(n)||i.isEqual(Se.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?X.resolve(null):(Zu()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.rs(e,a,n,lO(i,-1)).next(o=>o))})}ts(e,n){let r=new pn(zS(e));return n.forEach((i,s)=>{am(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Zu()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,ya.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pt(Ge),this._s=new hu(s=>Yy(s),Xy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Oz(t,e,n,r){return new Dz(t,e,n,r)}async function WS(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=Fe();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function JS(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zz(t,e){const n=je(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;o.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(gn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(f,p),function(E,M,b){return E.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,p,h)&&o.push(n.Ur.updateTargetData(s,p))});let l=ba(),c=Fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(Pz(s,a,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(Se.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return X.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function Pz(t,e,n){let r=Fe(),i=Fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ba();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):le("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function Lz(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,X.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Js(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Vg(t,e,n){const r=je(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!N0(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function C6(t,e,n){const r=je(t);let i=Se.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=je(l),d=f._s.get(h);return d!==void 0?X.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(r,a,pi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Se.min(),n?s:Fe())).next(o=>(Vz(r,IO(e),o),{documents:o,Ts:s})))}function Vz(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class k6{constructor(){this.activeTargetIds=VO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uz{constructor(){this.so=new k6,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new k6,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Rp(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class qz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=Rp(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(n,l,c,i).then(h=>(le("RestConnection",`Received RPC '${n}' ${o}: `,h),h),h=>{throw jl("RestConnection",`RPC '${n}' ${o} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=jz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Rp();return new Promise((a,o)=>{const l=new _S;l.setWithCredentials(!0),l.listenOnce(TS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hf.NO_ERROR:const h=l.getResponseJson();le(Tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case hf.TIMEOUT:le(Tn,`RPC '${e}' ${s} timed out`),o(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const f=l.getStatus();if(le(Tn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const _=function(M){const b=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(b)>=0?b:ne.UNKNOWN}(p.status);o(new pe(_,p.message))}else o(new pe(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{le(Tn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(Tn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Rp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=AS(),o=wS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");le(Tn,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,p=!1;const _=new Fz({Io:M=>{p?le(Tn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(d||(le(Tn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),le(Tn,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},To:()=>f.close()}),E=(M,b,S)=>{M.listen(b,x=>{try{S(x)}catch(O){setTimeout(()=>{throw O},0)}})};return E(f,oc.EventType.OPEN,()=>{p||(le(Tn,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),E(f,oc.EventType.CLOSE,()=>{p||(p=!0,le(Tn,`RPC '${e}' stream ${i} transport closed`),_.So())}),E(f,oc.EventType.ERROR,M=>{p||(p=!0,jl(Tn,`RPC '${e}' stream ${i} transport errored:`,M),_.So(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),E(f,oc.EventType.MESSAGE,M=>{var b;if(!p){const S=M.data[0];Ct(!!S);const x=S,O=x.error||((b=x[0])===null||b===void 0?void 0:b.error);if(O){le(Tn,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let H=function(R){const D=Vt[R];if(D!==void 0)return qS(D)}(V),k=O.message;H===void 0&&(H=ne.INTERNAL,k="Unknown error status: "+V+" with message "+O.message),p=!0,_.So(new pe(H,k)),f.close()}else le(Tn,`RPC '${e}' stream ${i} received:`,S),_.bo(S)}}),E(o,SS.STAT_EVENT,M=>{M.stat===Rg.PROXY?le(Tn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Rg.NOPROXY&&le(Tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){return new nz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gz extends Hz{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=oz(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Se.min():a.readTime?Al(a.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=R6(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Ig(l)?{documents:lz(s,l)}:{query:uz(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=iz(s,a.resumeToken);const c=Pg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Se.min())>0){o.readTime=rz(s,a.snapshotVersion.toTimestamp());const c=Pg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=hz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=R6(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Lg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ne.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Lg(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ne.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ps(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{O0(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=je(l);c.L_.add(4),await D0(c),c.q_.set("Unknown"),c.L_.delete(4),await cm(c)}(this))})}),this.q_=new Zz(r,i)}}async function cm(t){if(O0(t))for(const e of t.B_)await e(!0)}async function D0(t){for(const e of t.B_)await e(!1)}function nw(t,e){const n=je(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ov(n)?av(n):fu(n).r_()&&sv(n,e))}function iv(t,e){const n=je(t),r=fu(n);n.N_.delete(e),r.r_()&&rw(n,e),n.N_.size===0&&(r.r_()?r.o_():O0(n)&&n.q_.set("Unknown"))}function sv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).A_(e)}function rw(t,e){t.Q_.xe(e),fu(t).R_(e)}function av(t){t.Q_=new WO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.q_.v_()}function ov(t){return O0(t)&&!fu(t).n_()&&t.N_.size>0}function O0(t){return je(t).L_.size===0}function iw(t){t.Q_=void 0}async function Yz(t){t.q_.set("Online")}async function Xz(t){t.N_.forEach((e,n)=>{sv(t,e)})}async function Qz(t,e){iw(t),ov(t)?(t.q_.M_(e),av(t)):t.q_.set("Unknown")}async function Wz(t,e,n){if(t.q_.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await N6(t,r)}else if(e instanceof df?t.Q_.Ke(e):e instanceof HS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await JS(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(gn.EMPTY_BYTE_STRING,h.snapshotVersion)),rw(s,l);const f=new Js(h.target,l,c,h.sequenceNumber);sv(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await N6(t,r)}}async function N6(t,e,n){if(!N0(e))throw e;t.L_.add(1),await D0(t),t.q_.set("Offline"),n||(n=()=>JS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await cm(t)})}async function I6(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=O0(n);n.L_.add(3),await D0(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await cm(n)}async function Jz(t,e){const n=je(t);e?(n.L_.delete(2),await cm(n)):e||(n.L_.add(2),await D0(n),n.q_.set("Unknown"))}function fu(t){return t.K_||(t.K_=function(n,r,i){const s=je(n);return s.w_(),new Gz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Yz.bind(null,t),Ro:Xz.bind(null,t),mo:Qz.bind(null,t),d_:Wz.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ov(t)?av(t):t.q_.set("Unknown")):(await t.K_.stop(),iw(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new lv(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sw(t,e){if(ps("AsyncQueue",`${e}: ${t}`),N0(t))return new pe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.W_=new Pt(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new $l(e,n,El.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tP{constructor(){this.queries=O6(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=je(n),s=i.queries;i.queries=O6(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(r)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function O6(){return new hu(t=>OS(t),sm)}async function nP(t,e){const n=je(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new eP,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=sw(a,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&uv(n)}async function rP(t,e){const n=je(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iP(t,e){const n=je(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&uv(n)}function sP(t,e,n){const r=je(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function uv(t){t.Y_.forEach(e=>{e.next()})}var Ug,z6;(z6=Ug||(Ug={})).ea="default",z6.Cache="cache";class aP{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class oP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=zS(e),this.Ra=new El(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new D6,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),p=am(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let M=!1;d&&p?d.data.isEqual(p.data)?_!==E&&(r.track({type:3,doc:p}),M=!0):this.ga(d,p)||(r.track({type:2,doc:p}),M=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(o=!0)):!d&&p?(r.track({type:0,doc:p}),M=!0):d&&!p&&(r.track({type:1,doc:d}),M=!0,(l||c)&&(o=!0)),M&&(p?(a=a.add(p),s=E?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(p,_){const E=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return E(p)-E(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new $l(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new D6,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ow(r))}),this.da.forEach(r=>{e.has(r)||n.push(new aw(r))}),n}ba(e){this.Ta=e.Ts,this.da=Fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uP{constructor(e){this.key=e,this.va=!1}}class cP{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new hu(o=>OS(o),sm),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(ge.comparator),this.Na=new Map,this.La=new tv,this.Ba={},this.ka=new Map,this.qa=Gl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hP(t,e,n=!0){const r=fw(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await lw(r,e,n,!0),i}async function fP(t,e){const n=fw(t);await lw(n,e,!0,!1)}async function lw(t,e,n,r){const i=await Lz(t.localStore,pi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await dP(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&nw(t.remoteStore,i),o}async function dP(t,e,n,r,i){t.Ka=(f,d,p)=>async function(E,M,b,S){let x=M.view.ma(b);x.ns&&(x=await C6(E.localStore,M.query,!1).then(({documents:k})=>M.view.ma(k,x)));const O=S&&S.targetChanges.get(M.targetId),V=S&&S.targetMismatches.get(M.targetId)!=null,H=M.view.applyChanges(x,E.isPrimaryClient,O,V);return L6(E,M.targetId,H.wa),H.snapshot}(t,f,d,p);const s=await C6(t.localStore,e,!0),a=new oP(e,s.Ts),o=a.ma(s.documents),l=I0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);L6(t,n,c.wa);const h=new lP(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function mP(t,e,n){const r=je(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!sm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iv(r.remoteStore,i.targetId),Bg(r,i.targetId)}).catch(Hy)):(Bg(r,i.targetId),await Vg(r.localStore,i.targetId,!0))}async function pP(t,e){const n=je(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iv(n.remoteStore,r.targetId))}async function uw(t,e){const n=je(t);try{const r=await zz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Ct(a.va):i.removedDocuments.size>0&&(Ct(a.va),a.va=!1))}),await hw(n,r,e)}catch(r){await Hy(r)}}function P6(t,e,n){const r=je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=je(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(o)&&(c=!0)}),c&&uv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gP(t,e,n){const r=je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Pt(ge.comparator);a=a.insert(s,An.newNoDocument(s,Se.min()));const o=Fe().add(s),l=new um(Se.min(),new Map,new Pt(Ge),a,o);await uw(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),cv(r)}else await Vg(r.localStore,e,!1).then(()=>Bg(r,e,n)).catch(Hy)}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||cw(t,r)})}function cw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cv(t))}function L6(t,e,n){for(const r of n)r instanceof aw?(t.La.addReference(r.key,e),yP(t,r)):r instanceof ow?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||cw(t,r.key)):Re()}function yP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),cv(t))}function cv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(Rt.fromString(e)),r=t.qa.next();t.Na.set(r,new uP(n)),t.Oa=t.Oa.insert(n,r),nw(t.remoteStore,new Js(pi(Qy(n.path)),r,"TargetPurposeLimboResolution",Gy.oe))}}async function hw(t,e,n){const r=je(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{a.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=rv.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,c){const h=je(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(c,d=>X.forEach(d.$i,p=>h.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>X.forEach(d.Ui,p=>h.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!N0(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const p=h.os.get(d),_=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(d,E)}}}(r.localStore,s))}async function vP(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await WS(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new pe(ne.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hw(n,r.hs)}}function bP(t,e){const n=je(t),r=n.Na.get(e);if(r&&r.va)return Fe().add(r.key);{let i=Fe();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function fw(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gP.bind(null,e),e.Ca.d_=iP.bind(null,e.eventManager),e.Ca.$a=sP.bind(null,e.eventManager),e}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ew(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Oz(this.persistence,new Iz,e.initialUser,this.serializer)}Ga(e){return new kz(nv.Zr,this.serializer)}Wa(e){return new Uz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P6(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vP.bind(null,this.syncEngine),await Jz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tP}()}createDatastore(e){const n=ew(e.databaseInfo.databaseId),r=function(s){return new qz(s)}(e.databaseInfo);return function(s,a,o,l){return new $z(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new Kz(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>P6(this.syncEngine,n,0),function(){return M6.D()?new M6:new Bz}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const f=new cP(i,s,a,o,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=je(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await D0(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=xS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{le("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(le("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function V6(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SP(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I6(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>I6(e.remoteStore,i)),t._onlineComponents=e}async function SP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new ud)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await kp(t,new ud);return t._offlineComponents}async function wP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await V6(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await V6(t,new jg))),t._onlineComponents}async function U6(t){const e=await wP(t),n=e.eventManager;return n.onListen=hP.bind(null,e.syncEngine),n.onUnlisten=mP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EP(t,e,n,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j6(t){if(!ge.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function mf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xP(t);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F6({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F6(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JD;switch(r.type){case"firstParty":return new rO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=B6.get(n);r&&(le("ComponentProvider","Removing Datastore"),B6.delete(n),r.terminate())}(this),Promise.resolve()}}function RP(t,e,n,r={}){var i;const s=(t=mf(t,hv))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=wn.MOCK_USER;else{o=xM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wn(c)}t._authCredentials=new eO(new ES(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hm(this.firestore,e,this._query)}}class is{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new is(this.firestore,e,this._key)}}class s0 extends hm{constructor(e,n,r){super(e,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new is(this.firestore,null,new ge(e))}withConverter(e){return new s0(this.firestore,e,this._path)}}function CP(t,e,...n){if(t=yr(t),arguments.length===1&&(e=xS.newId()),AP("doc","path",e),t instanceof hv){const r=Rt.fromString(e,...n);return j6(r),new is(t,null,new ge(r))}{if(!(t instanceof is||t instanceof s0))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return j6(r),new is(t.firestore,t instanceof s0?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tw(this,"async_queue_retry"),this.Vu=()=>{const r=Cp();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new wl;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!N0(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw ps("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=lv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function H6(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Fg extends hv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new q6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q6(e),this._firestoreClient=void 0,await e}}}function kP(t,e){const n=typeof t=="object"?t:Oy(),r=typeof t=="string"?t:"(default)",i=Qd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IT("firestore");s&&RP(i,...s)}return i}function MP(t){if(t._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NP(t),t._firestoreClient}function NP(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,h){return new gO(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dw(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TP(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cd(gn.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cd(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const OP=new RegExp("[~\\*/\\[\\]]");function zP(t,e,n){if(e.search(OP)>=0)throw G6(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new mw(...e.split("."))._internalPath}catch{throw G6(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function G6(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new pe(ne.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new is(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PP extends pw{data(){return super.data()}}function gw(t,e){return typeof e=="string"?zP(t,e):e instanceof mw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VP{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rm(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Nt(a.doubleValue));return new DP(s)}convertGeoPoint(e){return new IP(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(n0(e));default:return null}}convertTimestamp(e){const n=va(e);return new Jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);Ct(QS(r));const i=new r0(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||ps(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yw extends pw{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pf extends yw{data(e={}){return super.data(e)}}class UP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new pf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new cc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new pf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new cc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:BP(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class vw extends VP{constructor(e){super(),this.firestore=e}convertBytes(e){return new cd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new is(this.firestore,null,n)}}function jP(t,...e){var n,r,i;t=yr(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||H6(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(H6(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,h;if(t instanceof is)c=mf(t.firestore,Fg),h=Qy(t._key.path),l={next:f=>{e[a]&&e[a](FP(c,t,f))},error:e[a+1],complete:e[a+2]};else{const f=mf(t,hm);c=mf(f.firestore,Fg),h=f._query;const d=new vw(c);l={next:p=>{e[a]&&e[a](new UP(c,d,f,p))},error:e[a+1],complete:e[a+2]},LP(t._query)}return function(d,p,_,E){const M=new _P(E),b=new aP(p,M,_);return d.asyncQueue.enqueueAndForget(async()=>nP(await U6(d),b)),()=>{M.Za(),d.asyncQueue.enqueueAndForget(async()=>rP(await U6(d),b))}}(MP(c),h,o,l)}function FP(t,e,n){const r=n.docs.get(e._key),i=new vw(t);return new yw(t,i,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cu=i})(lu),bo(new ga("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Fg(new tO(r.getProvider("auth-internal")),new sO(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r0(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),fi(o6,"4.7.3",e),fi(o6,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="type.googleapis.com/google.protobuf.Int64Value",HP="type.googleapis.com/google.protobuf.UInt64Value";function bw(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function qg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>qg(e));if(typeof t=="function"||typeof t=="object")return bw(t,e=>qg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function hd(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case qP:case HP:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>hd(e)):typeof t=="function"||typeof t=="object"?bw(t,e=>hd(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xl extends wi{constructor(e,n,r){super(`${fv}/${e}`,n||""),this.details=r}}function GP(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function $P(t,e){let n=GP(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!$6[a])return new xl("internal","internal");n=$6[a],r=a}const o=s.message;typeof o=="string"&&(r=o),i=s.details,i!==void 0&&(i=hd(i))}}catch{}return n==="ok"?null:new xl(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="us-central1";function KP(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new xl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class YP{constructor(e,n,r,i,s=Hg,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new ZP(n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Hg}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function XP(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function QP(t,e,n){return r=>JP(t,e,r,{})}async function WP(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function JP(t,e,n,r){const i=t._url(e);return eL(t,i,n,r)}async function eL(t,e,n,r){n=qg(n);const i={data:n},s={},a=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=r.timeout||7e4,l=KP(o),c=await Promise.race([WP(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new xl("cancelled","Firebase Functions instance was deleted.");const h=$P(c.status,c.json);if(h)throw h;if(!c.json)throw new xl("internal","Response is not valid JSON object.");let f=c.json.data;if(typeof f>"u"&&(f=c.json.result),typeof f>"u")throw new xl("internal","Response is missing data field.");return{data:hd(f)}}const Z6="@firebase/functions",K6="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="auth-internal",nL="app-check-internal",rL="messaging-internal";function iL(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),a=r.getProvider(tL),o=r.getProvider(rL),l=r.getProvider(nL);return new YP(s,a,o,l,i,t)};bo(new ga(fv,n,"PUBLIC").setMultipleInstances(!0)),fi(Z6,K6,e),fi(Z6,K6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t=Oy(),e=Hg){const r=Qd(yr(t),fv).getImmediate({identifier:e}),i=IT("functions");return i&&_w(r,...i),r}function _w(t,e,n){XP(yr(t),e,n)}function Rr(t,e,n){return QP(yr(t),e)}iL(fetch.bind(self));const Gg={apiKey:"AIzaSyAW6S712bLLkP-iCmB4URv44sst9wLBXQQ",authDomain:"magic-internet-math-96630.firebaseapp.com",projectId:"magic-internet-math-96630",storageBucket:"magic-internet-math-96630.firebasestorage.app",messagingSenderId:"863101072402",appId:"1:863101072402:web:072f6cb1724919360f94cb"},aL=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Eh=null,Mp=null,Np=null,xh=null;function dv(){if(!Eh){const t=jN();t.length>0?Eh=t[0]:Eh=LT(Gg)}return Eh}function Ip(){return Mp||(Mp=QD(dv())),Mp}function oL(){return Np||(Np=kP(dv())),Np}function Wr(){if(!xh&&(xh=sL(dv()),aL&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{_w(xh,"localhost",5001)}catch{}return xh}function Sn(){return!!Gg.apiKey&&Gg.apiKey.length>10}const lL=22242,uL=5e3,cL=2e3,Tw=3e4,Sw=30*1e3,ww=2e3,hL=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class fL{constructor(e="",n=!0){this.prefix=e?`[${e}]`:"",this.enabled=n}log(e,n,r){if(!this.enabled)return;const i=this.prefix?`${this.prefix} ${n}`:n;if(e==="debug"||e==="info")return;const s=console[e]||console.log;r!==void 0?s(i,r):s(i)}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}setEnabled(e){this.enabled=e}}const Dp={};function qr(t){const e=t||"__default__";return Dp[e]||(Dp[e]=new fL(t)),Dp[e]}const Rh=qr("NostrUtils"),$g="qpzry9x8gf2tvdw0s3jn54khce6mua7l",dL=[996825010,642813549,513874426,1027748829,705979059];function Aw(t){let e=1;for(const n of t){const r=e>>25;e=(e&33554431)<<5^n;for(let i=0;i<5;i++)r>>i&1&&(e^=dL[i])}return e}function Ew(t){const e=[];for(const n of t)e.push(n.charCodeAt(0)>>5);e.push(0);for(const n of t)e.push(n.charCodeAt(0)&31);return e}function mL(t,e){return Aw([...Ew(t),...e])===1}function pL(t,e){const n=[...Ew(t),...e,0,0,0,0,0,0],r=Aw(n)^1,i=[];for(let s=0;s<6;s++)i.push(r>>5*(5-s)&31);return i}function xw(t,e,n,r){let i=0,s=0;const a=[],o=(1<<n)-1;for(const l of t){if(l<0||l>>e)return null;for(i=i<<e|l,s+=e;s>=n;)s-=n,a.push(i>>s&o)}if(r)s>0&&a.push(i<<n-s&o);else if(s>=e||i<<n-s&o)return null;return a}function gL(t,e){const n=xw(e,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const r=pL(t,n);let i=t+"1";for(const s of n)i+=$g[s];for(const s of r)i+=$g[s];return i}function yL(t){const e=t.toLowerCase(),n=t.toUpperCase();if(t!==e&&t!==n)return null;const r=e,i=r.lastIndexOf("1");if(i<1||i+7>r.length||r.length>90)return null;const s=r.slice(0,i),a=r.slice(i+1),o=[];for(const h of a){const f=$g.indexOf(h);if(f===-1)return null;o.push(f)}if(!mL(s,o))return null;const l=o.slice(0,-6),c=xw(new Uint8Array(l),5,8,!1);return c?{hrp:s,data:new Uint8Array(c)}:null}function vL(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}function bL(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function _L(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const e=vL(t);return gL("npub",e)}function TL(t){const e=yL(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return bL(e.data)}function fd(){return typeof window<"u"&&window.nostr!==void 0}function SL(t=3e3){return new Promise(e=>{if(fd()){e(!0);return}const n=Date.now(),r=setInterval(()=>{fd()?(clearInterval(r),e(!0)):Date.now()-n>t&&(clearInterval(r),e(!1))},100)})}function wL(t,e){return new Promise(n=>{let r=!1,i=null,s=null;const a=()=>{r||(r=!0,s&&(clearTimeout(s),s=null),i&&i.readyState!==WebSocket.CLOSED&&i.close())};s=setTimeout(()=>{Rh.debug(`WebSocket timeout for relay: ${t}`),a(),n(null)},uL);try{i=new WebSocket(t)}catch(l){Rh.debug(`Failed to create WebSocket for relay ${t}:`,l),a(),n(null);return}const o=Math.random().toString(36).substring(2,15);i.onopen=()=>{if(r||!i)return;const l=JSON.stringify(["REQ",o,{kinds:[0],authors:[e],limit:1}]);i.send(l)},i.onmessage=l=>{if(!r)try{const c=JSON.parse(l.data);if(c[0]==="EVENT"&&c[1]===o){const h=JSON.parse(c[2].content);a(),n({name:h.name||h.display_name,display_name:h.display_name,nip05:h.nip05,picture:h.picture,about:h.about})}else c[0]==="EOSE"&&(a(),n(null))}catch(c){Rh.debug(`Failed to parse WebSocket message from ${t}:`,c)}},i.onerror=l=>{Rh.debug(`WebSocket error for relay ${t}:`,l),a(),n(null)},i.onclose=()=>{r||(a(),n(null))}})}const AL=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","calc_easy","wm","four_pillars","mom","euclid","thales","gauss","human_action","atlas_shrugged","mod-race"];function EL(t){return AL.includes(t)}function K(t,e,n){function r(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,l);const c=a.prototype,h=Object.keys(c);for(let f=0;f<h.length;f++){const d=h[f];d in o||(o[d]=c[d].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var l;const c=n!=null&&n.Parent?new s:this;r(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const h of c._zod.deferred)h();return c}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var l,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class Rl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Rw extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Cw={};function _a(t){return Cw}function kw(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Zg(t,e){return typeof e=="bigint"?e.toString():e}function mv(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function pv(t){return t==null}function gv(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function xL(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(i=Number.parseInt(l[1]))}const s=n>i?n:i,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}const Y6=Symbol("evaluating");function st(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==Y6)return r===void 0&&(r=Y6,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function No(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Io(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function X6(t){return JSON.stringify(t)}function RL(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Mw="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function dd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const CL=mv(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Zl(t){if(dd(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(dd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Nw(t){return Zl(t)?{...t}:Array.isArray(t)?[...t]:t}const kL=new Set(["string","number","symbol"]);function fm(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ka(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function he(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function ML(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const NL={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function IL(t,e){const n=t._zod.def,r=Io(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return No(this,"shape",i),i},checks:[]});return ka(t,r)}function DL(t,e){const n=t._zod.def,r=Io(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return No(this,"shape",i),i},checks:[]});return ka(t,r)}function OL(t,e){if(!Zl(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Io(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return No(this,"shape",s),s},checks:[]});return ka(t,i)}function zL(t,e){if(!Zl(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return No(this,"shape",r),r},checks:t._zod.def.checks};return ka(t,n)}function PL(t,e){const n=Io(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return No(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ka(t,n)}function LL(t,e,n){const r=Io(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(const a in i)s[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return No(this,"shape",s),s},checks:[]});return ka(e,r)}function VL(t,e,n){const r=Io(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new t({type:"nonoptional",innerType:i[a]});return No(this,"shape",s),s},checks:[]});return ka(e,r)}function al(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ol(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Ch(t){return typeof t=="string"?t:t==null?void 0:t.message}function Ta(t,e,n){var i,s,a,o,l,c;const r={...t,path:t.path??[]};if(!t.message){const h=Ch((a=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,t))??Ch((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Ch((l=n.customError)==null?void 0:l.call(n,t))??Ch((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function yv(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function a0(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Iw=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Zg,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Dw=K("$ZodError",Iw),Ow=K("$ZodError",Iw,{Parent:Error});function UL(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function BL(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let a=n,o=0;for(;o<s.path.length;){const l=s.path[o];o===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(e(s))):a[l]=a[l]||{_errors:[]},a=a[l],o++}}};return r(t),n}const vv=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new Rl;if(a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(l=>Ta(l,s,_a())));throw Mw(o,i==null?void 0:i.callee),o}return a.value},bv=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(l=>Ta(l,s,_a())));throw Mw(o,i==null?void 0:i.callee),o}return a.value},dm=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Rl;return s.issues.length?{success:!1,error:new(t??Dw)(s.issues.map(a=>Ta(a,i,_a())))}:{success:!0,data:s.value}},jL=dm(Ow),mm=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(a=>Ta(a,i,_a())))}:{success:!0,data:s.value}},FL=mm(Ow),qL=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vv(t)(e,n,i)},HL=t=>(e,n,r)=>vv(t)(e,n,r),GL=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bv(t)(e,n,i)},$L=t=>async(e,n,r)=>bv(t)(e,n,r),ZL=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return dm(t)(e,n,i)},KL=t=>(e,n,r)=>dm(t)(e,n,r),YL=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return mm(t)(e,n,i)},XL=t=>async(e,n,r)=>mm(t)(e,n,r),QL=/^[cC][^\s-]{8,}$/,WL=/^[0-9a-z]+$/,JL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,eV=/^[0-9a-vA-V]{20}$/,tV=/^[A-Za-z0-9]{27}$/,nV=/^[a-zA-Z0-9_-]{21}$/,rV=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,iV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Q6=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,sV=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,aV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function oV(){return new RegExp(aV,"u")}const lV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cV=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hV=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fV=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,zw=/^[A-Za-z0-9_-]*$/,dV=/^\+(?:[0-9]){6,14}[0-9]$/,Pw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",mV=new RegExp(`^${Pw}$`);function Lw(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function pV(t){return new RegExp(`^${Lw(t)}$`)}function gV(t){const e=Lw({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Pw}T(?:${r})$`)}const yV=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},vV=/^-?\d+$/,bV=/^-?\d+(?:\.\d+)?/,_V=/^(?:true|false)$/i,TV=/^[^A-Z]*$/,SV=/^[^a-z]*$/,nr=K("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Vw={number:"number",bigint:"bigint",object:"date"},Uw=K("$ZodCheckLessThan",(t,e)=>{nr.init(t,e);const n=Vw[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Bw=K("$ZodCheckGreaterThan",(t,e)=>{nr.init(t,e);const n=Vw[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),wV=K("$ZodCheckMultipleOf",(t,e)=>{nr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):xL(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),AV=K("$ZodCheckNumberFormat",(t,e)=>{var a;nr.init(t,e),e.format=e.format||"float64";const n=(a=e.format)==null?void 0:a.includes("int"),r=n?"int":"number",[i,s]=NL[e.format];t._zod.onattach.push(o=>{const l=o._zod.bag;l.format=e.format,l.minimum=i,l.maximum=s,n&&(l.pattern=vV)}),t._zod.check=o=>{const l=o.value;if(n){if(!Number.isInteger(l)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:l,inst:t});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}l<i&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:t})}}),EV=K("$ZodCheckMaxLength",(t,e)=>{var n;nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const a=yv(i);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),xV=K("$ZodCheckMinLength",(t,e)=>{var n;nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const a=yv(i);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),RV=K("$ZodCheckLengthEquals",(t,e)=>{var n;nr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const a=yv(i),o=s>e.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),pm=K("$ZodCheckStringFormat",(t,e)=>{var n,r;nr.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),CV=K("$ZodCheckRegex",(t,e)=>{pm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),kV=K("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=TV),pm.init(t,e)}),MV=K("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=SV),pm.init(t,e)}),NV=K("$ZodCheckIncludes",(t,e)=>{nr.init(t,e);const n=fm(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),IV=K("$ZodCheckStartsWith",(t,e)=>{nr.init(t,e);const n=new RegExp(`^${fm(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),DV=K("$ZodCheckEndsWith",(t,e)=>{nr.init(t,e);const n=new RegExp(`.*${fm(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),OV=K("$ZodCheckOverwrite",(t,e)=>{nr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class zV{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),i=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const e=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const PV={major:4,minor:2,patch:1},kt=K("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=PV;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const a of s._zod.onattach)a(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,l,c)=>{let h=al(o),f;for(const d of l){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(h)continue;const p=o.issues.length,_=d._zod.check(o);if(_ instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Rl;if(f||_ instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await _,o.issues.length!==p&&(h||(h=al(o,p)))});else{if(o.issues.length===p)continue;h||(h=al(o,p))}}return f?f.then(()=>o):o},a=(o,l,c)=>{if(al(o))return o.aborted=!0,o;const h=s(l,r,c);if(h instanceof Promise){if(c.async===!1)throw new Rl;return h.then(f=>t._zod.parse(f,c))}return t._zod.parse(h,c)};t._zod.run=(o,l)=>{if(l.skipChecks)return t._zod.parse(o,l);if(l.direction==="backward"){const h=t._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return h instanceof Promise?h.then(f=>a(f,o,l)):a(h,o,l)}const c=t._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Rl;return c.then(h=>s(h,r,l))}return s(c,r,l)}}t["~standard"]={validate:s=>{var a;try{const o=jL(t,s);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return FL(t,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),_v=K("$ZodString",(t,e)=>{var n;kt.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??yV(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),mt=K("$ZodStringFormat",(t,e)=>{pm.init(t,e),_v.init(t,e)}),LV=K("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=iV),mt.init(t,e)}),VV=K("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=Q6(r))}else e.pattern??(e.pattern=Q6());mt.init(t,e)}),UV=K("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=sV),mt.init(t,e)}),BV=K("$ZodURL",(t,e)=>{mt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),jV=K("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=oV()),mt.init(t,e)}),FV=K("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=nV),mt.init(t,e)}),qV=K("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=QL),mt.init(t,e)}),HV=K("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=WL),mt.init(t,e)}),GV=K("$ZodULID",(t,e)=>{e.pattern??(e.pattern=JL),mt.init(t,e)}),$V=K("$ZodXID",(t,e)=>{e.pattern??(e.pattern=eV),mt.init(t,e)}),ZV=K("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=tV),mt.init(t,e)}),KV=K("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=gV(e)),mt.init(t,e)}),YV=K("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=mV),mt.init(t,e)}),XV=K("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=pV(e)),mt.init(t,e)}),QV=K("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=rV),mt.init(t,e)}),WV=K("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=lV),mt.init(t,e),t._zod.bag.format="ipv4"}),JV=K("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=uV),mt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),eU=K("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=cV),mt.init(t,e)}),tU=K("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=hV),mt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function jw(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const nU=K("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=fV),mt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{jw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function rU(t){if(!zw.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return jw(n)}const iU=K("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=zw),mt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{rU(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),sU=K("$ZodE164",(t,e)=>{e.pattern??(e.pattern=dV),mt.init(t,e)});function aU(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const oU=K("$ZodJWT",(t,e)=>{mt.init(t,e),t._zod.check=n=>{aU(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),Fw=K("$ZodNumber",(t,e)=>{kt.init(t,e),t._zod.pattern=t._zod.bag.pattern??bV,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),lU=K("$ZodNumberFormat",(t,e)=>{AV.init(t,e),Fw.init(t,e)}),uU=K("$ZodBoolean",(t,e)=>{kt.init(t,e),t._zod.pattern=_V,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),cU=K("$ZodUnknown",(t,e)=>{kt.init(t,e),t._zod.parse=n=>n}),hU=K("$ZodNever",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function W6(t,e,n){t.issues.length&&e.issues.push(...ol(n,t.issues)),e.value[n]=t.value}const fU=K("$ZodArray",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],l=e.element._zod.run({value:o,issues:[]},r);l instanceof Promise?s.push(l.then(c=>W6(c,n,a))):W6(l,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function md(t,e,n,r){t.issues.length&&e.issues.push(...ol(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function qw(t){var r,i,s,a;const e=Object.keys(t.shape);for(const o of e)if(!((a=(s=(i=(r=t.shape)==null?void 0:r[o])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=ML(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function Hw(t,e,n,r,i,s){const a=[],o=i.keySet,l=i.catchall._zod,c=l.def.type;for(const h in e){if(o.has(h))continue;if(c==="never"){a.push(h);continue}const f=l.run({value:e[h],issues:[]},r);f instanceof Promise?t.push(f.then(d=>md(d,n,h,e))):md(f,n,h,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const dU=K("$ZodObject",(t,e)=>{kt.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const l={...o};return Object.defineProperty(e,"shape",{value:l}),l}})}const r=mv(()=>qw(e));st(t._zod,"propValues",()=>{const o=e.shape,l={};for(const c in o){const h=o[c]._zod;if(h.values){l[c]??(l[c]=new Set);for(const f of h.values)l[c].add(f)}}return l});const i=dd,s=e.catchall;let a;t._zod.parse=(o,l)=>{a??(a=r.value);const c=o.value;if(!i(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:t}),o;o.value={};const h=[],f=a.shape;for(const d of a.keys){const _=f[d]._zod.run({value:c[d],issues:[]},l);_ instanceof Promise?h.push(_.then(E=>md(E,o,d,c))):md(_,o,d,c)}return s?Hw(h,c,o,l,r.value,t):h.length?Promise.all(h).then(()=>o):o}}),mU=K("$ZodObjectJIT",(t,e)=>{dU.init(t,e);const n=t._zod.parse,r=mv(()=>qw(e)),i=d=>{const p=new zV(["shape","payload","ctx"]),_=r.value,E=x=>{const O=X6(x);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`};p.write("const input = payload.value;");const M=Object.create(null);let b=0;for(const x of _.keys)M[x]=`key_${b++}`;p.write("const newResult = {};");for(const x of _.keys){const O=M[x],V=X6(x);p.write(`const ${O} = ${E(x)};`),p.write(`
        if (${O}.issues.length) {
          payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V}, ...iss.path] : [${V}]
          })));
        }
        
        
        if (${O}.value === undefined) {
          if (${V} in input) {
            newResult[${V}] = undefined;
          }
        } else {
          newResult[${V}] = ${O}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const S=p.compile();return(x,O)=>S(d,x,O)};let s;const a=dd,o=!Cw.jitless,c=o&&CL.value,h=e.catchall;let f;t._zod.parse=(d,p)=>{f??(f=r.value);const _=d.value;return a(_)?o&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=i(e.shape)),d=s(d,p),h?Hw([],_,d,p,f,t):d):n(d,p):(d.issues.push({expected:"object",code:"invalid_type",input:_,inst:t}),d)}});function J6(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!al(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(a=>Ta(a,r,_a())))}),e)}const pU=K("$ZodUnion",(t,e)=>{kt.init(t,e),st(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),st(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),st(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),st(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>gv(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const l of e.options){const c=l._zod.run({value:i.value,issues:[]},s);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(l=>J6(l,i,t,s)):J6(o,i,t,s)}}),gU=K("$ZodIntersection",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),a=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([l,c])=>e7(n,l,c)):e7(n,s,a)}});function Kg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Zl(t)&&Zl(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const a=Kg(t[s],e[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],a=Kg(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function e7(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),al(t))return t;const r=Kg(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const yU=K("$ZodRecord",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Zl(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[],a=e.keyType._zod.values;if(a){n.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const h=e.valueType._zod.run({value:i[c],issues:[]},r);h instanceof Promise?s.push(h.then(f=>{f.issues.length&&n.issues.push(...ol(c,f.issues)),n.value[c]=f.value})):(h.issues.length&&n.issues.push(...ol(c,h.issues)),n.value[c]=h.value)}let l;for(const c in i)o.has(c)||(l=l??[],l.push(c));l&&l.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:l})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;const l=e.keyType._zod.run({value:o,issues:[]},r);if(l instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(l.issues.length){e.mode==="loose"?n.value[o]=i[o]:n.issues.push({code:"invalid_key",origin:"record",issues:l.issues.map(h=>Ta(h,r,_a())),input:o,path:[o],inst:t});continue}const c=e.valueType._zod.run({value:i[o],issues:[]},r);c instanceof Promise?s.push(c.then(h=>{h.issues.length&&n.issues.push(...ol(o,h.issues)),n.value[l.value]=h.value})):(c.issues.length&&n.issues.push(...ol(o,c.issues)),n.value[l.value]=c.value)}}return s.length?Promise.all(s).then(()=>n):n}}),vU=K("$ZodEnum",(t,e)=>{kt.init(t,e);const n=kw(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>kL.has(typeof i)).map(i=>typeof i=="string"?fm(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:t}),i}}),bU=K("$ZodTransform",(t,e)=>{kt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Rw(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(n.value=a,n));if(i instanceof Promise)throw new Rl;return n.value=i,n}});function t7(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const _U=K("$ZodOptional",(t,e)=>{kt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",st(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),st(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${gv(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>t7(s,n.value)):t7(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),TU=K("$ZodNullable",(t,e)=>{kt.init(t,e),st(t._zod,"optin",()=>e.innerType._zod.optin),st(t._zod,"optout",()=>e.innerType._zod.optout),st(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${gv(n.source)}|null)$`):void 0}),st(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),SU=K("$ZodDefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",st(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>n7(s,e)):n7(i,e)}});function n7(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const wU=K("$ZodPrefault",(t,e)=>{kt.init(t,e),t._zod.optin="optional",st(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),AU=K("$ZodNonOptional",(t,e)=>{kt.init(t,e),st(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>r7(s,t)):r7(i,t)}});function r7(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const EU=K("$ZodCatch",(t,e)=>{kt.init(t,e),st(t._zod,"optin",()=>e.innerType._zod.optin),st(t._zod,"optout",()=>e.innerType._zod.optout),st(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>Ta(a,r,_a()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>Ta(s,r,_a()))},input:n.value}),n.issues=[]),n)}}),xU=K("$ZodPipe",(t,e)=>{kt.init(t,e),st(t._zod,"values",()=>e.in._zod.values),st(t._zod,"optin",()=>e.in._zod.optin),st(t._zod,"optout",()=>e.out._zod.optout),st(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(a=>kh(a,e.in,r)):kh(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>kh(s,e.out,r)):kh(i,e.out,r)}});function kh(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const RU=K("$ZodReadonly",(t,e)=>{kt.init(t,e),st(t._zod,"propValues",()=>e.innerType._zod.propValues),st(t._zod,"values",()=>e.innerType._zod.values),st(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),st(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(i7):i7(i)}});function i7(t){return t.value=Object.freeze(t.value),t}const CU=K("$ZodCustom",(t,e)=>{nr.init(t,e),kt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>s7(s,n,r,t));s7(i,n,r,t)}});function s7(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(a0(i))}}var a7;class kU{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function MU(){return new kU}(a7=globalThis).__zod_globalRegistry??(a7.__zod_globalRegistry=MU());const hc=globalThis.__zod_globalRegistry;function NU(t,e){return new t({type:"string",...he(e)})}function IU(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...he(e)})}function o7(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...he(e)})}function DU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...he(e)})}function OU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...he(e)})}function zU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...he(e)})}function PU(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...he(e)})}function LU(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...he(e)})}function VU(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...he(e)})}function UU(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...he(e)})}function BU(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...he(e)})}function jU(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...he(e)})}function FU(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...he(e)})}function qU(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...he(e)})}function HU(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...he(e)})}function GU(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...he(e)})}function $U(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...he(e)})}function ZU(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...he(e)})}function KU(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...he(e)})}function YU(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...he(e)})}function XU(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...he(e)})}function QU(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...he(e)})}function WU(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...he(e)})}function JU(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...he(e)})}function eB(t,e){return new t({type:"string",format:"date",check:"string_format",...he(e)})}function tB(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...he(e)})}function nB(t,e){return new t({type:"string",format:"duration",check:"string_format",...he(e)})}function rB(t,e){return new t({type:"number",checks:[],...he(e)})}function iB(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...he(e)})}function sB(t,e){return new t({type:"boolean",...he(e)})}function aB(t){return new t({type:"unknown"})}function oB(t,e){return new t({type:"never",...he(e)})}function l7(t,e){return new Uw({check:"less_than",...he(e),value:t,inclusive:!1})}function Op(t,e){return new Uw({check:"less_than",...he(e),value:t,inclusive:!0})}function u7(t,e){return new Bw({check:"greater_than",...he(e),value:t,inclusive:!1})}function zp(t,e){return new Bw({check:"greater_than",...he(e),value:t,inclusive:!0})}function c7(t,e){return new wV({check:"multiple_of",...he(e),value:t})}function Gw(t,e){return new EV({check:"max_length",...he(e),maximum:t})}function pd(t,e){return new xV({check:"min_length",...he(e),minimum:t})}function $w(t,e){return new RV({check:"length_equals",...he(e),length:t})}function lB(t,e){return new CV({check:"string_format",format:"regex",...he(e),pattern:t})}function uB(t){return new kV({check:"string_format",format:"lowercase",...he(t)})}function cB(t){return new MV({check:"string_format",format:"uppercase",...he(t)})}function hB(t,e){return new NV({check:"string_format",format:"includes",...he(e),includes:t})}function fB(t,e){return new IV({check:"string_format",format:"starts_with",...he(e),prefix:t})}function dB(t,e){return new DV({check:"string_format",format:"ends_with",...he(e),suffix:t})}function du(t){return new OV({check:"overwrite",tx:t})}function mB(t){return du(e=>e.normalize(t))}function pB(){return du(t=>t.trim())}function gB(){return du(t=>t.toLowerCase())}function yB(){return du(t=>t.toUpperCase())}function vB(){return du(t=>RL(t))}function bB(t,e,n){return new t({type:"array",element:e,...he(n)})}function _B(t,e,n){return new t({type:"custom",check:"custom",fn:e,...he(n)})}function TB(t){const e=SB(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(a0(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(a0(i))}},t(n.value,n)));return e}function SB(t,e){const n=new nr({check:"custom",...he(e)});return n._zod.check=t,n}function Zw(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??hc,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Wt(t,e,n={path:[],schemaPath:[]}){var h,f;var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const o=(f=(h=t._zod).toJSONSchema)==null?void 0:f.call(h);if(o)a.schema=o;else{const d={...n,schemaPath:[...n.schemaPath,t],path:n.path},p=t._zod.parent;if(p)a.ref=p,Wt(p,e,d),e.seen.get(p).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,d);else{const _=a.schema,E=e.processors[i.type];if(!E)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);E(t,e,_,d)}}const l=e.metadataRegistry.get(t);return l&&Object.assign(a.schema,l),e.io==="input"&&Dn(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function Kw(t,e){var s,a,o;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=l=>{var p;const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const _=(p=t.external.registry.get(l[0]))==null?void 0:p.id,E=t.external.uri??(b=>b);if(_)return{ref:E(_)};const M=l[1].defId??l[1].schema.id??`schema${t.counter++}`;return l[1].defId=M,{defId:M,ref:`${E("__shared")}#/${c}/${M}`}}if(l[1]===n)return{ref:"#"};const f=`#/${c}/`,d=l[1].schema.id??`__schema${t.counter++}`;return{defId:d,ref:f+d}},i=l=>{if(l[1].schema.$ref)return;const c=l[1],{ref:h,defId:f}=r(l);c.def={...c.schema},f&&(c.defId=f);const d=c.schema;for(const p in d)delete d[p];d.$ref=h};if(t.cycles==="throw")for(const l of t.seen.entries()){const c=l[1];if(c.cycle)throw new Error(`Cycle detected: #/${(s=c.cycle)==null?void 0:s.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of t.seen.entries()){const c=l[1];if(e===l[0]){i(l);continue}if(t.external){const f=(a=t.external.registry.get(l[0]))==null?void 0:a.id;if(e!==l[0]&&f){i(l);continue}}if((o=t.metadataRegistry.get(l[0]))==null?void 0:o.id){i(l);continue}if(c.cycle){i(l);continue}if(c.count>1&&t.reused==="ref"){i(l);continue}}}function Yw(t,e){var a,o,l;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const h=t.seen.get(c),f=h.def??h.schema,d={...f};if(h.ref===null)return;const p=h.ref;if(h.ref=null,p){r(p);const _=t.seen.get(p).schema;_.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(_)):(Object.assign(f,_),Object.assign(f,d))}h.isParent||t.override({zodSchema:c,jsonSchema:f,path:h.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,(a=t.external)!=null&&a.uri){const c=(o=t.external.registry.get(e))==null?void 0:o.id;if(!c)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(c)}Object.assign(i,n.def??n.schema);const s=((l=t.external)==null?void 0:l.defs)??{};for(const c of t.seen.entries()){const h=c[1];h.def&&h.defId&&(s[h.defId]=h.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const c=JSON.parse(JSON.stringify(i));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:gd(e,"input"),output:gd(e,"output")}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Dn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Dn(r.element,n);if(r.type==="set")return Dn(r.valueType,n);if(r.type==="lazy")return Dn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Dn(r.innerType,n);if(r.type==="intersection")return Dn(r.left,n)||Dn(r.right,n);if(r.type==="record"||r.type==="map")return Dn(r.keyType,n)||Dn(r.valueType,n);if(r.type==="pipe")return Dn(r.in,n)||Dn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Dn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Dn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Dn(i,n))return!0;return!!(r.rest&&Dn(r.rest,n))}return!1}const wB=(t,e={})=>n=>{const r=Zw({...n,processors:e});return Wt(t,r),Kw(r,t),Yw(r,t)},gd=(t,e)=>n=>{const{libraryOptions:r,target:i}=n??{},s=Zw({...r??{},target:i,io:e,processors:{}});return Wt(t,s),Kw(s,t),Yw(s,t)},AB={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},EB=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:a,format:o,patterns:l,contentEncoding:c}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof a=="number"&&(i.maxLength=a),o&&(i.format=AB[o]??o,i.format===""&&delete i.format),c&&(i.contentEncoding=c),l&&l.size>0){const h=[...l];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(f=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},xB=(t,e,n,r)=>{const i=n,{minimum:s,maximum:a,format:o,multipleOf:l,exclusiveMaximum:c,exclusiveMinimum:h}=t._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof s=="number"&&(i.minimum=s,typeof h=="number"&&e.target!=="draft-04"&&(h>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof c=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=c,i.exclusiveMaximum=!0):i.exclusiveMaximum=c),typeof a=="number"&&(i.maximum=a,typeof c=="number"&&e.target!=="draft-04"&&(c<=a?delete i.maximum:delete i.exclusiveMaximum)),typeof l=="number"&&(i.multipleOf=l)},RB=(t,e,n,r)=>{n.type="boolean"},CB=(t,e,n,r)=>{n.not={}},kB=(t,e,n,r)=>{},MB=(t,e,n,r)=>{const i=t._zod.def,s=kw(i.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},NB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},IB=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},DB=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:a,maximum:o}=t._zod.bag;typeof a=="number"&&(i.minItems=a),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=Wt(s.element,e,{...r,path:[...r.path,"items"]})},OB=(t,e,n,r)=>{var c;const i=n,s=t._zod.def;i.type="object",i.properties={};const a=s.shape;for(const h in a)i.properties[h]=Wt(a[h],e,{...r,path:[...r.path,"properties",h]});const o=new Set(Object.keys(a)),l=new Set([...o].filter(h=>{const f=s.shape[h]._zod;return e.io==="input"?f.optin===void 0:f.optout===void 0}));l.size>0&&(i.required=Array.from(l)),((c=s.catchall)==null?void 0:c._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=Wt(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},zB=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,a=i.options.map((o,l)=>Wt(o,e,{...r,path:[...r.path,s?"oneOf":"anyOf",l]}));s?n.oneOf=a:n.anyOf=a},PB=(t,e,n,r)=>{const i=t._zod.def,s=Wt(i.left,e,{...r,path:[...r.path,"allOf",0]}),a=Wt(i.right,e,{...r,path:[...r.path,"allOf",1]}),o=c=>"allOf"in c&&Object.keys(c).length===1,l=[...o(s)?s.allOf:[s],...o(a)?a.allOf:[a]];n.allOf=l},LB=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=Wt(s.keyType,e,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=Wt(s.valueType,e,{...r,path:[...r.path,"additionalProperties"]})},VB=(t,e,n,r)=>{const i=t._zod.def,s=Wt(i.innerType,e,r),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},UB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},BB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},jB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},FB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let a;try{a=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},qB=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Wt(s,e,r);const a=e.seen.get(t);a.ref=s},HB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},GB=(t,e,n,r)=>{const i=t._zod.def;Wt(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},$B=K("ZodISODateTime",(t,e)=>{KV.init(t,e),Tt.init(t,e)});function ZB(t){return JU($B,t)}const KB=K("ZodISODate",(t,e)=>{YV.init(t,e),Tt.init(t,e)});function YB(t){return eB(KB,t)}const XB=K("ZodISOTime",(t,e)=>{XV.init(t,e),Tt.init(t,e)});function QB(t){return tB(XB,t)}const WB=K("ZodISODuration",(t,e)=>{QV.init(t,e),Tt.init(t,e)});function JB(t){return nB(WB,t)}const ej=(t,e)=>{Dw.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>BL(t,n)},flatten:{value:n=>UL(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Zg,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Zg,2)}},isEmpty:{get(){return t.issues.length===0}}})},Hr=K("ZodError",ej,{Parent:Error}),tj=vv(Hr),nj=bv(Hr),rj=dm(Hr),ij=mm(Hr),sj=qL(Hr),aj=HL(Hr),oj=GL(Hr),lj=$L(Hr),uj=ZL(Hr),cj=KL(Hr),hj=YL(Hr),fj=XL(Hr),Lt=K("ZodType",(t,e)=>(kt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:gd(t,"input"),output:gd(t,"output")}}),t.toJSONSchema=wB(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Io(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>ka(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>tj(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>rj(t,n,r),t.parseAsync=async(n,r)=>nj(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>ij(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>sj(t,n,r),t.decode=(n,r)=>aj(t,n,r),t.encodeAsync=async(n,r)=>oj(t,n,r),t.decodeAsync=async(n,r)=>lj(t,n,r),t.safeEncode=(n,r)=>uj(t,n,r),t.safeDecode=(n,r)=>cj(t,n,r),t.safeEncodeAsync=async(n,r)=>hj(t,n,r),t.safeDecodeAsync=async(n,r)=>fj(t,n,r),t.refine=(n,r)=>t.check(rF(n,r)),t.superRefine=n=>t.check(iF(n)),t.overwrite=n=>t.check(du(n)),t.optional=()=>d7(t),t.nullable=()=>m7(t),t.nullish=()=>d7(m7(t)),t.nonoptional=n=>Xj(t,n),t.array=()=>Kl(t),t.or=n=>Ww([t,n]),t.and=n=>jj(t,n),t.transform=n=>p7(t,Hj(n)),t.default=n=>Zj(t,n),t.prefault=n=>Yj(t,n),t.catch=n=>Wj(t,n),t.pipe=n=>p7(t,n),t.readonly=()=>tF(t),t.describe=n=>{const r=t.clone();return hc.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=hc.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return hc.get(t);const r=t.clone();return hc.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),Xw=K("_ZodString",(t,e)=>{_v.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>EB(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(lB(...r)),t.includes=(...r)=>t.check(hB(...r)),t.startsWith=(...r)=>t.check(fB(...r)),t.endsWith=(...r)=>t.check(dB(...r)),t.min=(...r)=>t.check(pd(...r)),t.max=(...r)=>t.check(Gw(...r)),t.length=(...r)=>t.check($w(...r)),t.nonempty=(...r)=>t.check(pd(1,...r)),t.lowercase=r=>t.check(uB(r)),t.uppercase=r=>t.check(cB(r)),t.trim=()=>t.check(pB()),t.normalize=(...r)=>t.check(mB(...r)),t.toLowerCase=()=>t.check(gB()),t.toUpperCase=()=>t.check(yB()),t.slugify=()=>t.check(vB())}),dj=K("ZodString",(t,e)=>{_v.init(t,e),Xw.init(t,e),t.email=n=>t.check(IU(mj,n)),t.url=n=>t.check(LU(pj,n)),t.jwt=n=>t.check(WU(Mj,n)),t.emoji=n=>t.check(VU(gj,n)),t.guid=n=>t.check(o7(h7,n)),t.uuid=n=>t.check(DU(Mh,n)),t.uuidv4=n=>t.check(OU(Mh,n)),t.uuidv6=n=>t.check(zU(Mh,n)),t.uuidv7=n=>t.check(PU(Mh,n)),t.nanoid=n=>t.check(UU(yj,n)),t.guid=n=>t.check(o7(h7,n)),t.cuid=n=>t.check(BU(vj,n)),t.cuid2=n=>t.check(jU(bj,n)),t.ulid=n=>t.check(FU(_j,n)),t.base64=n=>t.check(YU(Rj,n)),t.base64url=n=>t.check(XU(Cj,n)),t.xid=n=>t.check(qU(Tj,n)),t.ksuid=n=>t.check(HU(Sj,n)),t.ipv4=n=>t.check(GU(wj,n)),t.ipv6=n=>t.check($U(Aj,n)),t.cidrv4=n=>t.check(ZU(Ej,n)),t.cidrv6=n=>t.check(KU(xj,n)),t.e164=n=>t.check(QU(kj,n)),t.datetime=n=>t.check(ZB(n)),t.date=n=>t.check(YB(n)),t.time=n=>t.check(QB(n)),t.duration=n=>t.check(JB(n))});function Xt(t){return NU(dj,t)}const Tt=K("ZodStringFormat",(t,e)=>{mt.init(t,e),Xw.init(t,e)}),mj=K("ZodEmail",(t,e)=>{UV.init(t,e),Tt.init(t,e)}),h7=K("ZodGUID",(t,e)=>{LV.init(t,e),Tt.init(t,e)}),Mh=K("ZodUUID",(t,e)=>{VV.init(t,e),Tt.init(t,e)}),pj=K("ZodURL",(t,e)=>{BV.init(t,e),Tt.init(t,e)}),gj=K("ZodEmoji",(t,e)=>{jV.init(t,e),Tt.init(t,e)}),yj=K("ZodNanoID",(t,e)=>{FV.init(t,e),Tt.init(t,e)}),vj=K("ZodCUID",(t,e)=>{qV.init(t,e),Tt.init(t,e)}),bj=K("ZodCUID2",(t,e)=>{HV.init(t,e),Tt.init(t,e)}),_j=K("ZodULID",(t,e)=>{GV.init(t,e),Tt.init(t,e)}),Tj=K("ZodXID",(t,e)=>{$V.init(t,e),Tt.init(t,e)}),Sj=K("ZodKSUID",(t,e)=>{ZV.init(t,e),Tt.init(t,e)}),wj=K("ZodIPv4",(t,e)=>{WV.init(t,e),Tt.init(t,e)}),Aj=K("ZodIPv6",(t,e)=>{JV.init(t,e),Tt.init(t,e)}),Ej=K("ZodCIDRv4",(t,e)=>{eU.init(t,e),Tt.init(t,e)}),xj=K("ZodCIDRv6",(t,e)=>{tU.init(t,e),Tt.init(t,e)}),Rj=K("ZodBase64",(t,e)=>{nU.init(t,e),Tt.init(t,e)}),Cj=K("ZodBase64URL",(t,e)=>{iU.init(t,e),Tt.init(t,e)}),kj=K("ZodE164",(t,e)=>{sU.init(t,e),Tt.init(t,e)}),Mj=K("ZodJWT",(t,e)=>{oU.init(t,e),Tt.init(t,e)}),Qw=K("ZodNumber",(t,e)=>{Fw.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>xB(t,r,i),t.gt=(r,i)=>t.check(u7(r,i)),t.gte=(r,i)=>t.check(zp(r,i)),t.min=(r,i)=>t.check(zp(r,i)),t.lt=(r,i)=>t.check(l7(r,i)),t.lte=(r,i)=>t.check(Op(r,i)),t.max=(r,i)=>t.check(Op(r,i)),t.int=r=>t.check(f7(r)),t.safe=r=>t.check(f7(r)),t.positive=r=>t.check(u7(0,r)),t.nonnegative=r=>t.check(zp(0,r)),t.negative=r=>t.check(l7(0,r)),t.nonpositive=r=>t.check(Op(0,r)),t.multipleOf=(r,i)=>t.check(c7(r,i)),t.step=(r,i)=>t.check(c7(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function cn(t){return rB(Qw,t)}const Nj=K("ZodNumberFormat",(t,e)=>{lU.init(t,e),Qw.init(t,e)});function f7(t){return iB(Nj,t)}const Ij=K("ZodBoolean",(t,e)=>{uU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>RB(t,n,r)});function Dj(t){return sB(Ij,t)}const Oj=K("ZodUnknown",(t,e)=>{cU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>kB()});function Yg(){return aB(Oj)}const zj=K("ZodNever",(t,e)=>{hU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>CB(t,n,r)});function Pj(t){return oB(zj,t)}const Lj=K("ZodArray",(t,e)=>{fU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>DB(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(pd(n,r)),t.nonempty=n=>t.check(pd(1,n)),t.max=(n,r)=>t.check(Gw(n,r)),t.length=(n,r)=>t.check($w(n,r)),t.unwrap=()=>t.element});function Kl(t,e){return bB(Lj,t,e)}const Vj=K("ZodObject",(t,e)=>{mU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OB(t,n,r,i),st(t,"shape",()=>e.shape),t.keyof=()=>Qg(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:Yg()}),t.loose=()=>t.clone({...t._zod.def,catchall:Yg()}),t.strict=()=>t.clone({...t._zod.def,catchall:Pj()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>OL(t,n),t.safeExtend=n=>zL(t,n),t.merge=n=>PL(t,n),t.pick=n=>IL(t,n),t.omit=n=>DL(t,n),t.partial=(...n)=>LL(eA,t,n[0]),t.required=(...n)=>VL(tA,t,n[0])});function ei(t,e){const n={type:"object",shape:t??{},...he(e)};return new Vj(n)}const Uj=K("ZodUnion",(t,e)=>{pU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zB(t,n,r,i),t.options=e.options});function Ww(t,e){return new Uj({type:"union",options:t,...he(e)})}const Bj=K("ZodIntersection",(t,e)=>{gU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PB(t,n,r,i)});function jj(t,e){return new Bj({type:"intersection",left:t,right:e})}const Fj=K("ZodRecord",(t,e)=>{yU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>LB(t,n,r,i),t.keyType=e.keyType,t.valueType=e.valueType});function Jw(t,e,n){return new Fj({type:"record",keyType:t,valueType:e,...he(n)})}const Xg=K("ZodEnum",(t,e)=>{vU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>MB(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const a of r)if(n.has(a))s[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Xg({...e,checks:[],...he(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new Xg({...e,checks:[],...he(i),entries:s})}});function Qg(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Xg({type:"enum",entries:n,...he(e)})}const qj=K("ZodTransform",(t,e)=>{bU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>IB(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Rw(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(a0(s,n.value,e));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(a0(a))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function Hj(t){return new qj({type:"transform",transform:t})}const eA=K("ZodOptional",(t,e)=>{_U.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>GB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function d7(t){return new eA({type:"optional",innerType:t})}const Gj=K("ZodNullable",(t,e)=>{TU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>VB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function m7(t){return new Gj({type:"nullable",innerType:t})}const $j=K("ZodDefault",(t,e)=>{SU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>BB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Zj(t,e){return new $j({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Nw(e)}})}const Kj=K("ZodPrefault",(t,e)=>{wU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>jB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function Yj(t,e){return new Kj({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Nw(e)}})}const tA=K("ZodNonOptional",(t,e)=>{AU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>UB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function Xj(t,e){return new tA({type:"nonoptional",innerType:t,...he(e)})}const Qj=K("ZodCatch",(t,e)=>{EU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>FB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Wj(t,e){return new Qj({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Jj=K("ZodPipe",(t,e)=>{xU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>qB(t,n,r,i),t.in=e.in,t.out=e.out});function p7(t,e){return new Jj({type:"pipe",in:t,out:e})}const eF=K("ZodReadonly",(t,e)=>{RU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>HB(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function tF(t){return new eF({type:"readonly",innerType:t})}const nF=K("ZodCustom",(t,e)=>{CU.init(t,e),Lt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>NB(t,n)});function rF(t,e={}){return _B(nF,t,e)}function iF(t){return TB(t)}qr("Validation");const g7=Xt().min(1).max(100);Xt().regex(/^[a-fA-F0-9]{64}$/);const Tv=Xt().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),nA=Xt().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);Xt().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);ei({challenge:Xt().min(10).max(200),expiresAt:cn().int().positive()});ei({kind:cn().int(),created_at:cn().int().nonnegative(),tags:Kl(Kl(Xt())),content:Xt()});const sF=ei({npub:Tv,displayName:nA.nullable()}),rA=ei({visitedAt:Xt().nullable().optional(),completedAt:Xt().nullable().optional(),quizAttempts:Kl(ei({xpEarned:cn().int().min(0).optional(),score:cn().min(0).max(100).optional(),timestamp:Xt().optional(),difficulty:Qg(["easy","medium","hard"]).optional(),correctAnswers:cn().int().min(0).optional(),totalQuestions:cn().int().min(1).optional()})).optional(),visualizationsInteracted:Kl(Xt().max(100)).optional(),masteryLevel:Ww([cn().int().min(0).max(3),Qg(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Xt().optional(),timeSpentSeconds:cn().int().min(0).optional()});ei({user:ei({totalXP:cn().int().min(0),level:cn().int().min(1).max(10),sectionsCompleted:Kl(g7)}),sections:Jw(g7,rA),dailyGoals:ei({lastResetDate:Xt().nullable(),currentStreak:cn().int().min(0),xpEarned:cn().int().min(0),xpGoal:cn().int().min(0)}),lastUpdated:cn().int().nonnegative()});ei({success:Dj(),totalXP:cn().int().min(0)});ei({npub:Tv,displayName:nA.nullable(),xp:cn().int().min(0),lastSync:Xt()});ei({timestamp:Xt(),action:Xt(),targetNpub:Tv.nullable(),performedBy:Xt(),details:Jw(Xt(),Yg()).nullable()});function aF(t){const e=rA.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}function oF(t){const e=sF.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid auth state format"}}const xn={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},zn={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},Yl=[{tier:1,name:"Beginner",unlockLevel:1,modulusRange:[2,5],dividendRange:[10,25],basePoints:50},{tier:2,name:"Novice",unlockLevel:2,modulusRange:[2,7],dividendRange:[15,50],basePoints:75},{tier:3,name:"Intermediate",unlockLevel:3,modulusRange:[3,10],dividendRange:[20,100],basePoints:100},{tier:4,name:"Advanced",unlockLevel:5,modulusRange:[5,13],dividendRange:[50,200],basePoints:150},{tier:5,name:"Expert",unlockLevel:7,modulusRange:[7,17],dividendRange:[100,500],basePoints:200},{tier:6,name:"Master",unlockLevel:9,modulusRange:[11,23],dividendRange:[200,999],basePoints:300},{tier:7,name:"Grandmaster",unlockLevel:12,modulusRange:[13,31],dividendRange:[500,2e3],basePoints:400},{tier:8,name:"Legend",unlockLevel:15,modulusRange:[17,47],dividendRange:[1e3,5e3],basePoints:500},{tier:9,name:"Mythic",unlockLevel:18,modulusRange:[23,67],dividendRange:[2e3,9999],basePoints:650},{tier:10,name:"Transcendent",unlockLevel:21,modulusRange:[31,97],dividendRange:[5e3,99999],basePoints:800}],yd=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],iA=50,vd=qr("SyncManager"),lF="magic-internet-math-progress";function y7(){try{const t=localStorage.getItem(lF);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const n=e.user.totalXP||0,r={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,man_econ_state:0};for(const[i,s]of Object.entries(e.sections)){const[a]=i.split(":");if(!EL(a))continue;const o=a,l=aF(s);if(!l.valid||!l.data){vd.warn(`Invalid section data for ${i}, skipping`);continue}const c=l.data;if(c.quizAttempts)for(const h of c.quizAttempts)h.xpEarned&&(r[o]+=h.xpEarned);c.visitedAt&&(r[o]+=xn.SECTION_VISIT),c.completedAt&&(r[o]+=xn.SECTION_COMPLETE),c.visualizationsInteracted&&(r[o]+=c.visualizationsInteracted.length*xn.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:r.ba},{courseId:"crypto",xp:r.crypto},{courseId:"aa",xp:r.aa},{courseId:"linalg",xp:r.linalg},{courseId:"advlinalg",xp:r.advlinalg},{courseId:"islr",xp:r.islr},{courseId:"ra",xp:r.ra},{courseId:"calc1",xp:r.calc1},{courseId:"calc_lib_art",xp:r.calc_lib_art},{courseId:"calc_easy",xp:r.calc_easy},{courseId:"wm",xp:r.wm},{courseId:"four_pillars",xp:r.four_pillars},{courseId:"mom",xp:r.mom},{courseId:"euclid",xp:r.euclid},{courseId:"thales",xp:r.thales},{courseId:"gauss",xp:r.gauss},{courseId:"human_action",xp:r.human_action},{courseId:"atlas_shrugged",xp:r.atlas_shrugged}],totalXP:n}}catch(t){return vd.error("Error extracting scores from storage:",t),null}}class uF{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},Sw),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},ww))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Sn())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<Tw)return{success:!1,error:"Rate limited"};try{const n=y7();if(!n)return{success:!1,error:"No scores to sync"};const r=Wr(),i=Rr(r,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const a=await i(s);return this.lastSyncTime=e,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return vd.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(e=3){for(let n=0;n<e;n++){const r=await this.syncNow();if(r.success||r.error==="Not authenticated"||r.error==="No scores to sync"||r.error==="Firebase not configured")return r;if(n<e-1){const i=1e3*Math.pow(2,n);vd.debug(`Sync retry ${n+1}/${e} in ${i}ms`),await new Promise(s=>setTimeout(s,i)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=y7();return e?e.scores.reduce((n,r)=>(n[r.courseId]=r.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Pp=null;function Ku(){return Pp||(Pp=new uF),Pp}const en=qr("NostrAuth"),sA=F.createContext(null),Yu="magic-internet-math-nostr-auth";function cF({children:t}){const[e,n]=F.useState(!1),[r,i]=F.useState(null),[s,a]=F.useState(null),[o,l]=F.useState(null),[c,h]=F.useState(!1),[f,d]=F.useState(null),[p,_]=F.useState(!1),[E,M]=F.useState(!1),[b,S]=F.useState(null);F.useEffect(()=>{(async()=>{const D=await SL(cL);_(D),M(!0)})()},[]);const x=F.useCallback(async R=>{for(const D of hL)try{const z=await wL(D,R);if(z){z.nip05&&l(z.nip05);const U=z.display_name||z.name;if(U){a(U);const I=Ku();I.setDisplayName(U),I.requestSync()}return}}catch(z){en.warn(`Failed to fetch profile from ${D}:`,z)}},[]);F.useEffect(()=>{if(!Sn())return;const R=Ip(),D=UI(R,async z=>{if(S(z),z){i(z.uid);try{const I=await z.getIdTokenResult(!0);en.debug("Token claims:",I.claims),h(I.claims.isAdmin===!0)}catch(I){en.error("Error getting token:",I),h(!1)}try{const I=localStorage.getItem(Yu);if(I){const fe=JSON.parse(I),Ne=oF(fe);if(!Ne.valid||!Ne.data){en.warn("Invalid auth state in localStorage:",Ne.error),localStorage.removeItem(Yu);return}Ne.data.npub===z.uid&&a(Ne.data.displayName)}}catch(I){en.debug("Storage read error:",I)}const U=Ku();U.setAuthenticated(!0),U.startPeriodicSync();try{const I=TL(z.uid);x(I)}catch(I){en.debug("Npub conversion error:",I)}}else{i(null),l(null),h(!1),a(null);const U=Ku();U.setAuthenticated(!1),U.stopPeriodicSync()}});return()=>D()},[x]);const O=F.useCallback(async()=>{if(en.debug("connect() called"),en.debug("isFirebaseConfigured:",Sn()),en.debug("hasNostrExtension:",fd()),!Sn()){en.info("Firebase not configured, cannot connect");return}if(!fd()){d("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),en.warn("No extension found, returning");return}n(!0),d(null),en.info("Starting Nostr connection...");try{const R=window.nostr,D=Wr(),z=await R.getPublicKey(),U=_L(z),fe=await Rr(D,"createChallenge")({pubkeyHex:z}),{challenge:Ne}=fe.data,J={kind:lL,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Ne]],content:Ne},re=await R.signEvent(J),xe=await Rr(D,"verifyNostrAndCreateToken")({signedEvent:re,challenge:Ne}),Ae=Ip();await PI(Ae,xe.data.token);try{const Le={npub:U,displayName:null};localStorage.setItem(Yu,JSON.stringify(Le))}catch(Le){en.warn("Failed to store auth state:",Le)}Ku().syncNow().catch(Le=>{en.warn("Initial sync failed:",Le)})}catch(R){en.error("Nostr connect error:",R),d(R instanceof Error?R.message:"Failed to connect. Please try again.")}finally{n(!1)}},[p]),V=F.useCallback(async()=>{try{if(Sn()){const R=Ip();await BI(R)}try{localStorage.removeItem(Yu)}catch(R){en.warn("Failed to clear auth state from storage:",R)}i(null),a(null),h(!1)}catch(R){en.error("Disconnect error:",R),d(R instanceof Error?R.message:"Failed to disconnect")}},[]),H=F.useCallback(R=>{if(a(R),r)try{localStorage.setItem(Yu,JSON.stringify({npub:r,displayName:R}))}catch(z){en.warn("Failed to update display name in storage:",z)}const D=Ku();D.setDisplayName(R),D.requestSync()},[r]),k=F.useCallback(()=>{d(null)},[]),w=F.useMemo(()=>({isAuthenticated:!!b&&!!r,isConnecting:e,npub:r,displayName:s,nip05:o,isAdmin:c,error:f,hasExtension:p,extensionChecked:E,connect:O,disconnect:V,setDisplayName:H,clearError:k}),[b,r,e,s,o,c,f,p,E,O,V,H,k]);return A.jsx(sA.Provider,{value:w,children:t})}const hF={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function aA(){const t=F.useContext(sA);return t||hF}qr("ErrorContext");F.createContext(null);qr("ErrorBoundary");qr("AdminPanel");qr("Leaderboard");class Sv{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Sv(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class wv{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new wv(n,Sv.range(this,e))}}class ce{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+o.slice(i-15,i):c=o.slice(0,i);var h;s+15<o.length?h=o.slice(s,s+15)+"":h=o.slice(s),r+=c+l+h}var f=new Error(r);return f.name="ParseError",f.__proto__=ce.prototype,f.position=i,i!=null&&s!=null&&(f.length=s-i),f.rawMessage=e,f}}ce.prototype.__proto__=Error.prototype;var fF=function(e,n){return e===void 0?n:e},dF=/([A-Z])/g,mF=function(e){return e.replace(dF,"-$1").toLowerCase()},pF={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},gF=/[&><"']/g;function yF(t){return String(t).replace(gF,e=>pF[e])}var oA=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},vF=function(e){var n=oA(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},bF=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},_F=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ze={deflt:fF,escape:yF,hyphenate:mF,getBaseElem:oA,isCharacterBox:vF,protocolFromUrl:_F};class Is{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return si[TF[this.id]]}sub(){return si[SF[this.id]]}fracNum(){return si[wF[this.id]]}fracDen(){return si[AF[this.id]]}cramp(){return si[EF[this.id]]}text(){return si[xF[this.id]]}isTight(){return this.size>=2}}var Av=0,bd=1,Cl=2,ss=3,o0=4,zr=5,Xl=6,Vn=7,si=[new Is(Av,0,!1),new Is(bd,0,!0),new Is(Cl,1,!1),new Is(ss,1,!0),new Is(o0,2,!1),new Is(zr,2,!0),new Is(Xl,3,!1),new Is(Vn,3,!0)],TF=[o0,zr,o0,zr,Xl,Vn,Xl,Vn],SF=[zr,zr,zr,zr,Vn,Vn,Vn,Vn],wF=[Cl,ss,o0,zr,Xl,Vn,Xl,Vn],AF=[ss,ss,zr,zr,Vn,Vn,Vn,Vn],EF=[bd,bd,ss,ss,zr,zr,Vn,Vn],xF=[Av,bd,Cl,ss,Cl,ss,Cl,ss],me={DISPLAY:si[Av],TEXT:si[Cl],SCRIPT:si[o0],SCRIPTSCRIPT:si[Xl]},Wg=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function RF(t){for(var e=0;e<Wg.length;e++)for(var n=Wg[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var gf=[];Wg.forEach(t=>t.blocks.forEach(e=>gf.push(...e)));function CF(t){for(var e=0;e<gf.length;e+=2)if(t>=gf[e]&&t<=gf[e+1])return!0;return!1}var Bo=80,kF=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},MF=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},NF=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},IF=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},DF=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},OF=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},zF=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},PF=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=kF(n,Bo);break;case"sqrtSize1":i=MF(n,Bo);break;case"sqrtSize2":i=NF(n,Bo);break;case"sqrtSize3":i=IF(n,Bo);break;case"sqrtSize4":i=DF(n,Bo);break;case"sqrtTall":i=zF(n,Bo,r)}return i},LF=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},v7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},VF=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class z0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var es={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},b7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Ev(t,e,n){if(!es[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=es[e][r];if(!i&&t[0]in b7&&(r=b7[t[0]].charCodeAt(0),i=es[e][r]),!i&&n==="text"&&CF(r)&&(i=es[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Jg={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},UF={ex:!0,em:!0,mu:!0},BF=function(e){return typeof e!="string"&&(e=e.unit),e in Jg||e in UF||e==="ex"},bt=function(e,n){var r;if(e.unit in Jg)r=Jg[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new ce("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},te=function(e){return+e.toFixed(4)+"em"},Sa=function(e){return e.filter(n=>n).join(" ")},lA=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},uA=function(e){var n=document.createElement(e);n.className=Sa(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},jF=/[\s"'>/=\x00-\x1f]/,cA=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Ze.escape(Sa(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ze.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ze.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(jF.test(s))throw new ce("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Ze.escape(this.attributes[s])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class gm{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,lA.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return uA.call(this,"span")}toMarkup(){return cA.call(this,"span")}}class hA{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,lA.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return uA.call(this,"a")}toMarkup(){return cA.call(this,"a")}}class FF{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ze.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Ze.escape(n)+'"'),e+="'/>",e}}var qF={:"",:"",:"",:""};class _i{constructor(e,n,r,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var c=RF(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=qF[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=te(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Sa(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Ze.escape(Sa(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ze.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Ze.escape(r)+'"');var s=Ze.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class wa{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ze.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Eo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",v7[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(v7[this.pathName])+'"/>'}}class _7{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Ze.escape(this.attributes[n])+'"');return e+="/>",e}}function T7(t){if(t instanceof _i)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function HF(t){if(t instanceof gm)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var GF={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},zt={math:{},text:{}};function m(t,e,n,r,i,s){zt[t][i]={font:e,group:n,replace:r},s&&r&&(zt[t][r]=zt[t][i])}var y="math",Y="text",T="main",P="ams",pt="accent-token",se="bin",qn="close",mu="inner",de="mathord",Ht="op-token",vr="open",ym="punct",L="rel",_s="spacing",j="textord";m(y,T,L,"","\\equiv",!0);m(y,T,L,"","\\prec",!0);m(y,T,L,"","\\succ",!0);m(y,T,L,"","\\sim",!0);m(y,T,L,"","\\perp");m(y,T,L,"","\\preceq",!0);m(y,T,L,"","\\succeq",!0);m(y,T,L,"","\\simeq",!0);m(y,T,L,"","\\mid",!0);m(y,T,L,"","\\ll",!0);m(y,T,L,"","\\gg",!0);m(y,T,L,"","\\asymp",!0);m(y,T,L,"","\\parallel");m(y,T,L,"","\\bowtie",!0);m(y,T,L,"","\\smile",!0);m(y,T,L,"","\\sqsubseteq",!0);m(y,T,L,"","\\sqsupseteq",!0);m(y,T,L,"","\\doteq",!0);m(y,T,L,"","\\frown",!0);m(y,T,L,"","\\ni",!0);m(y,T,L,"","\\propto",!0);m(y,T,L,"","\\vdash",!0);m(y,T,L,"","\\dashv",!0);m(y,T,L,"","\\owns");m(y,T,ym,".","\\ldotp");m(y,T,ym,"","\\cdotp");m(y,T,j,"#","\\#");m(Y,T,j,"#","\\#");m(y,T,j,"&","\\&");m(Y,T,j,"&","\\&");m(y,T,j,"","\\aleph",!0);m(y,T,j,"","\\forall",!0);m(y,T,j,"","\\hbar",!0);m(y,T,j,"","\\exists",!0);m(y,T,j,"","\\nabla",!0);m(y,T,j,"","\\flat",!0);m(y,T,j,"","\\ell",!0);m(y,T,j,"","\\natural",!0);m(y,T,j,"","\\clubsuit",!0);m(y,T,j,"","\\wp",!0);m(y,T,j,"","\\sharp",!0);m(y,T,j,"","\\diamondsuit",!0);m(y,T,j,"","\\Re",!0);m(y,T,j,"","\\heartsuit",!0);m(y,T,j,"","\\Im",!0);m(y,T,j,"","\\spadesuit",!0);m(y,T,j,"","\\S",!0);m(Y,T,j,"","\\S");m(y,T,j,"","\\P",!0);m(Y,T,j,"","\\P");m(y,T,j,"","\\dag");m(Y,T,j,"","\\dag");m(Y,T,j,"","\\textdagger");m(y,T,j,"","\\ddag");m(Y,T,j,"","\\ddag");m(Y,T,j,"","\\textdaggerdbl");m(y,T,qn,"","\\rmoustache",!0);m(y,T,vr,"","\\lmoustache",!0);m(y,T,qn,"","\\rgroup",!0);m(y,T,vr,"","\\lgroup",!0);m(y,T,se,"","\\mp",!0);m(y,T,se,"","\\ominus",!0);m(y,T,se,"","\\uplus",!0);m(y,T,se,"","\\sqcap",!0);m(y,T,se,"","\\ast");m(y,T,se,"","\\sqcup",!0);m(y,T,se,"","\\bigcirc",!0);m(y,T,se,"","\\bullet",!0);m(y,T,se,"","\\ddagger");m(y,T,se,"","\\wr",!0);m(y,T,se,"","\\amalg");m(y,T,se,"&","\\And");m(y,T,L,"","\\longleftarrow",!0);m(y,T,L,"","\\Leftarrow",!0);m(y,T,L,"","\\Longleftarrow",!0);m(y,T,L,"","\\longrightarrow",!0);m(y,T,L,"","\\Rightarrow",!0);m(y,T,L,"","\\Longrightarrow",!0);m(y,T,L,"","\\leftrightarrow",!0);m(y,T,L,"","\\longleftrightarrow",!0);m(y,T,L,"","\\Leftrightarrow",!0);m(y,T,L,"","\\Longleftrightarrow",!0);m(y,T,L,"","\\mapsto",!0);m(y,T,L,"","\\longmapsto",!0);m(y,T,L,"","\\nearrow",!0);m(y,T,L,"","\\hookleftarrow",!0);m(y,T,L,"","\\hookrightarrow",!0);m(y,T,L,"","\\searrow",!0);m(y,T,L,"","\\leftharpoonup",!0);m(y,T,L,"","\\rightharpoonup",!0);m(y,T,L,"","\\swarrow",!0);m(y,T,L,"","\\leftharpoondown",!0);m(y,T,L,"","\\rightharpoondown",!0);m(y,T,L,"","\\nwarrow",!0);m(y,T,L,"","\\rightleftharpoons",!0);m(y,P,L,"","\\nless",!0);m(y,P,L,"","\\@nleqslant");m(y,P,L,"","\\@nleqq");m(y,P,L,"","\\lneq",!0);m(y,P,L,"","\\lneqq",!0);m(y,P,L,"","\\@lvertneqq");m(y,P,L,"","\\lnsim",!0);m(y,P,L,"","\\lnapprox",!0);m(y,P,L,"","\\nprec",!0);m(y,P,L,"","\\npreceq",!0);m(y,P,L,"","\\precnsim",!0);m(y,P,L,"","\\precnapprox",!0);m(y,P,L,"","\\nsim",!0);m(y,P,L,"","\\@nshortmid");m(y,P,L,"","\\nmid",!0);m(y,P,L,"","\\nvdash",!0);m(y,P,L,"","\\nvDash",!0);m(y,P,L,"","\\ntriangleleft");m(y,P,L,"","\\ntrianglelefteq",!0);m(y,P,L,"","\\subsetneq",!0);m(y,P,L,"","\\@varsubsetneq");m(y,P,L,"","\\subsetneqq",!0);m(y,P,L,"","\\@varsubsetneqq");m(y,P,L,"","\\ngtr",!0);m(y,P,L,"","\\@ngeqslant");m(y,P,L,"","\\@ngeqq");m(y,P,L,"","\\gneq",!0);m(y,P,L,"","\\gneqq",!0);m(y,P,L,"","\\@gvertneqq");m(y,P,L,"","\\gnsim",!0);m(y,P,L,"","\\gnapprox",!0);m(y,P,L,"","\\nsucc",!0);m(y,P,L,"","\\nsucceq",!0);m(y,P,L,"","\\succnsim",!0);m(y,P,L,"","\\succnapprox",!0);m(y,P,L,"","\\ncong",!0);m(y,P,L,"","\\@nshortparallel");m(y,P,L,"","\\nparallel",!0);m(y,P,L,"","\\nVDash",!0);m(y,P,L,"","\\ntriangleright");m(y,P,L,"","\\ntrianglerighteq",!0);m(y,P,L,"","\\@nsupseteqq");m(y,P,L,"","\\supsetneq",!0);m(y,P,L,"","\\@varsupsetneq");m(y,P,L,"","\\supsetneqq",!0);m(y,P,L,"","\\@varsupsetneqq");m(y,P,L,"","\\nVdash",!0);m(y,P,L,"","\\precneqq",!0);m(y,P,L,"","\\succneqq",!0);m(y,P,L,"","\\@nsubseteqq");m(y,P,se,"","\\unlhd");m(y,P,se,"","\\unrhd");m(y,P,L,"","\\nleftarrow",!0);m(y,P,L,"","\\nrightarrow",!0);m(y,P,L,"","\\nLeftarrow",!0);m(y,P,L,"","\\nRightarrow",!0);m(y,P,L,"","\\nleftrightarrow",!0);m(y,P,L,"","\\nLeftrightarrow",!0);m(y,P,L,"","\\vartriangle");m(y,P,j,"","\\hslash");m(y,P,j,"","\\triangledown");m(y,P,j,"","\\lozenge");m(y,P,j,"","\\circledS");m(y,P,j,"","\\circledR");m(Y,P,j,"","\\circledR");m(y,P,j,"","\\measuredangle",!0);m(y,P,j,"","\\nexists");m(y,P,j,"","\\mho");m(y,P,j,"","\\Finv",!0);m(y,P,j,"","\\Game",!0);m(y,P,j,"","\\backprime");m(y,P,j,"","\\blacktriangle");m(y,P,j,"","\\blacktriangledown");m(y,P,j,"","\\blacksquare");m(y,P,j,"","\\blacklozenge");m(y,P,j,"","\\bigstar");m(y,P,j,"","\\sphericalangle",!0);m(y,P,j,"","\\complement",!0);m(y,P,j,"","\\eth",!0);m(Y,T,j,"","");m(y,P,j,"","\\diagup");m(y,P,j,"","\\diagdown");m(y,P,j,"","\\square");m(y,P,j,"","\\Box");m(y,P,j,"","\\Diamond");m(y,P,j,"","\\yen",!0);m(Y,P,j,"","\\yen",!0);m(y,P,j,"","\\checkmark",!0);m(Y,P,j,"","\\checkmark");m(y,P,j,"","\\beth",!0);m(y,P,j,"","\\daleth",!0);m(y,P,j,"","\\gimel",!0);m(y,P,j,"","\\digamma",!0);m(y,P,j,"","\\varkappa");m(y,P,vr,"","\\@ulcorner",!0);m(y,P,qn,"","\\@urcorner",!0);m(y,P,vr,"","\\@llcorner",!0);m(y,P,qn,"","\\@lrcorner",!0);m(y,P,L,"","\\leqq",!0);m(y,P,L,"","\\leqslant",!0);m(y,P,L,"","\\eqslantless",!0);m(y,P,L,"","\\lesssim",!0);m(y,P,L,"","\\lessapprox",!0);m(y,P,L,"","\\approxeq",!0);m(y,P,se,"","\\lessdot");m(y,P,L,"","\\lll",!0);m(y,P,L,"","\\lessgtr",!0);m(y,P,L,"","\\lesseqgtr",!0);m(y,P,L,"","\\lesseqqgtr",!0);m(y,P,L,"","\\doteqdot");m(y,P,L,"","\\risingdotseq",!0);m(y,P,L,"","\\fallingdotseq",!0);m(y,P,L,"","\\backsim",!0);m(y,P,L,"","\\backsimeq",!0);m(y,P,L,"","\\subseteqq",!0);m(y,P,L,"","\\Subset",!0);m(y,P,L,"","\\sqsubset",!0);m(y,P,L,"","\\preccurlyeq",!0);m(y,P,L,"","\\curlyeqprec",!0);m(y,P,L,"","\\precsim",!0);m(y,P,L,"","\\precapprox",!0);m(y,P,L,"","\\vartriangleleft");m(y,P,L,"","\\trianglelefteq");m(y,P,L,"","\\vDash",!0);m(y,P,L,"","\\Vvdash",!0);m(y,P,L,"","\\smallsmile");m(y,P,L,"","\\smallfrown");m(y,P,L,"","\\bumpeq",!0);m(y,P,L,"","\\Bumpeq",!0);m(y,P,L,"","\\geqq",!0);m(y,P,L,"","\\geqslant",!0);m(y,P,L,"","\\eqslantgtr",!0);m(y,P,L,"","\\gtrsim",!0);m(y,P,L,"","\\gtrapprox",!0);m(y,P,se,"","\\gtrdot");m(y,P,L,"","\\ggg",!0);m(y,P,L,"","\\gtrless",!0);m(y,P,L,"","\\gtreqless",!0);m(y,P,L,"","\\gtreqqless",!0);m(y,P,L,"","\\eqcirc",!0);m(y,P,L,"","\\circeq",!0);m(y,P,L,"","\\triangleq",!0);m(y,P,L,"","\\thicksim");m(y,P,L,"","\\thickapprox");m(y,P,L,"","\\supseteqq",!0);m(y,P,L,"","\\Supset",!0);m(y,P,L,"","\\sqsupset",!0);m(y,P,L,"","\\succcurlyeq",!0);m(y,P,L,"","\\curlyeqsucc",!0);m(y,P,L,"","\\succsim",!0);m(y,P,L,"","\\succapprox",!0);m(y,P,L,"","\\vartriangleright");m(y,P,L,"","\\trianglerighteq");m(y,P,L,"","\\Vdash",!0);m(y,P,L,"","\\shortmid");m(y,P,L,"","\\shortparallel");m(y,P,L,"","\\between",!0);m(y,P,L,"","\\pitchfork",!0);m(y,P,L,"","\\varpropto");m(y,P,L,"","\\blacktriangleleft");m(y,P,L,"","\\therefore",!0);m(y,P,L,"","\\backepsilon");m(y,P,L,"","\\blacktriangleright");m(y,P,L,"","\\because",!0);m(y,P,L,"","\\llless");m(y,P,L,"","\\gggtr");m(y,P,se,"","\\lhd");m(y,P,se,"","\\rhd");m(y,P,L,"","\\eqsim",!0);m(y,T,L,"","\\Join");m(y,P,L,"","\\Doteq",!0);m(y,P,se,"","\\dotplus",!0);m(y,P,se,"","\\smallsetminus");m(y,P,se,"","\\Cap",!0);m(y,P,se,"","\\Cup",!0);m(y,P,se,"","\\doublebarwedge",!0);m(y,P,se,"","\\boxminus",!0);m(y,P,se,"","\\boxplus",!0);m(y,P,se,"","\\divideontimes",!0);m(y,P,se,"","\\ltimes",!0);m(y,P,se,"","\\rtimes",!0);m(y,P,se,"","\\leftthreetimes",!0);m(y,P,se,"","\\rightthreetimes",!0);m(y,P,se,"","\\curlywedge",!0);m(y,P,se,"","\\curlyvee",!0);m(y,P,se,"","\\circleddash",!0);m(y,P,se,"","\\circledast",!0);m(y,P,se,"","\\centerdot");m(y,P,se,"","\\intercal",!0);m(y,P,se,"","\\doublecap");m(y,P,se,"","\\doublecup");m(y,P,se,"","\\boxtimes",!0);m(y,P,L,"","\\dashrightarrow",!0);m(y,P,L,"","\\dashleftarrow",!0);m(y,P,L,"","\\leftleftarrows",!0);m(y,P,L,"","\\leftrightarrows",!0);m(y,P,L,"","\\Lleftarrow",!0);m(y,P,L,"","\\twoheadleftarrow",!0);m(y,P,L,"","\\leftarrowtail",!0);m(y,P,L,"","\\looparrowleft",!0);m(y,P,L,"","\\leftrightharpoons",!0);m(y,P,L,"","\\curvearrowleft",!0);m(y,P,L,"","\\circlearrowleft",!0);m(y,P,L,"","\\Lsh",!0);m(y,P,L,"","\\upuparrows",!0);m(y,P,L,"","\\upharpoonleft",!0);m(y,P,L,"","\\downharpoonleft",!0);m(y,T,L,"","\\origof",!0);m(y,T,L,"","\\imageof",!0);m(y,P,L,"","\\multimap",!0);m(y,P,L,"","\\leftrightsquigarrow",!0);m(y,P,L,"","\\rightrightarrows",!0);m(y,P,L,"","\\rightleftarrows",!0);m(y,P,L,"","\\twoheadrightarrow",!0);m(y,P,L,"","\\rightarrowtail",!0);m(y,P,L,"","\\looparrowright",!0);m(y,P,L,"","\\curvearrowright",!0);m(y,P,L,"","\\circlearrowright",!0);m(y,P,L,"","\\Rsh",!0);m(y,P,L,"","\\downdownarrows",!0);m(y,P,L,"","\\upharpoonright",!0);m(y,P,L,"","\\downharpoonright",!0);m(y,P,L,"","\\rightsquigarrow",!0);m(y,P,L,"","\\leadsto");m(y,P,L,"","\\Rrightarrow",!0);m(y,P,L,"","\\restriction");m(y,T,j,"","`");m(y,T,j,"$","\\$");m(Y,T,j,"$","\\$");m(Y,T,j,"$","\\textdollar");m(y,T,j,"%","\\%");m(Y,T,j,"%","\\%");m(y,T,j,"_","\\_");m(Y,T,j,"_","\\_");m(Y,T,j,"_","\\textunderscore");m(y,T,j,"","\\angle",!0);m(y,T,j,"","\\infty",!0);m(y,T,j,"","\\prime");m(y,T,j,"","\\triangle");m(y,T,j,"","\\Gamma",!0);m(y,T,j,"","\\Delta",!0);m(y,T,j,"","\\Theta",!0);m(y,T,j,"","\\Lambda",!0);m(y,T,j,"","\\Xi",!0);m(y,T,j,"","\\Pi",!0);m(y,T,j,"","\\Sigma",!0);m(y,T,j,"","\\Upsilon",!0);m(y,T,j,"","\\Phi",!0);m(y,T,j,"","\\Psi",!0);m(y,T,j,"","\\Omega",!0);m(y,T,j,"A","");m(y,T,j,"B","");m(y,T,j,"E","");m(y,T,j,"Z","");m(y,T,j,"H","");m(y,T,j,"I","");m(y,T,j,"K","");m(y,T,j,"M","");m(y,T,j,"N","");m(y,T,j,"O","");m(y,T,j,"P","");m(y,T,j,"T","");m(y,T,j,"X","");m(y,T,j,"","\\neg",!0);m(y,T,j,"","\\lnot");m(y,T,j,"","\\top");m(y,T,j,"","\\bot");m(y,T,j,"","\\emptyset");m(y,P,j,"","\\varnothing");m(y,T,de,"","\\alpha",!0);m(y,T,de,"","\\beta",!0);m(y,T,de,"","\\gamma",!0);m(y,T,de,"","\\delta",!0);m(y,T,de,"","\\epsilon",!0);m(y,T,de,"","\\zeta",!0);m(y,T,de,"","\\eta",!0);m(y,T,de,"","\\theta",!0);m(y,T,de,"","\\iota",!0);m(y,T,de,"","\\kappa",!0);m(y,T,de,"","\\lambda",!0);m(y,T,de,"","\\mu",!0);m(y,T,de,"","\\nu",!0);m(y,T,de,"","\\xi",!0);m(y,T,de,"","\\omicron",!0);m(y,T,de,"","\\pi",!0);m(y,T,de,"","\\rho",!0);m(y,T,de,"","\\sigma",!0);m(y,T,de,"","\\tau",!0);m(y,T,de,"","\\upsilon",!0);m(y,T,de,"","\\phi",!0);m(y,T,de,"","\\chi",!0);m(y,T,de,"","\\psi",!0);m(y,T,de,"","\\omega",!0);m(y,T,de,"","\\varepsilon",!0);m(y,T,de,"","\\vartheta",!0);m(y,T,de,"","\\varpi",!0);m(y,T,de,"","\\varrho",!0);m(y,T,de,"","\\varsigma",!0);m(y,T,de,"","\\varphi",!0);m(y,T,se,"","*",!0);m(y,T,se,"+","+");m(y,T,se,"","-",!0);m(y,T,se,"","\\cdot",!0);m(y,T,se,"","\\circ",!0);m(y,T,se,"","\\div",!0);m(y,T,se,"","\\pm",!0);m(y,T,se,"","\\times",!0);m(y,T,se,"","\\cap",!0);m(y,T,se,"","\\cup",!0);m(y,T,se,"","\\setminus",!0);m(y,T,se,"","\\land");m(y,T,se,"","\\lor");m(y,T,se,"","\\wedge",!0);m(y,T,se,"","\\vee",!0);m(y,T,j,"","\\surd");m(y,T,vr,"","\\langle",!0);m(y,T,vr,"","\\lvert");m(y,T,vr,"","\\lVert");m(y,T,qn,"?","?");m(y,T,qn,"!","!");m(y,T,qn,"","\\rangle",!0);m(y,T,qn,"","\\rvert");m(y,T,qn,"","\\rVert");m(y,T,L,"=","=");m(y,T,L,":",":");m(y,T,L,"","\\approx",!0);m(y,T,L,"","\\cong",!0);m(y,T,L,"","\\ge");m(y,T,L,"","\\geq",!0);m(y,T,L,"","\\gets");m(y,T,L,">","\\gt",!0);m(y,T,L,"","\\in",!0);m(y,T,L,"","\\@not");m(y,T,L,"","\\subset",!0);m(y,T,L,"","\\supset",!0);m(y,T,L,"","\\subseteq",!0);m(y,T,L,"","\\supseteq",!0);m(y,P,L,"","\\nsubseteq",!0);m(y,P,L,"","\\nsupseteq",!0);m(y,T,L,"","\\models");m(y,T,L,"","\\leftarrow",!0);m(y,T,L,"","\\le");m(y,T,L,"","\\leq",!0);m(y,T,L,"<","\\lt",!0);m(y,T,L,"","\\rightarrow",!0);m(y,T,L,"","\\to");m(y,P,L,"","\\ngeq",!0);m(y,P,L,"","\\nleq",!0);m(y,T,_s,"","\\ ");m(y,T,_s,"","\\space");m(y,T,_s,"","\\nobreakspace");m(Y,T,_s,"","\\ ");m(Y,T,_s,""," ");m(Y,T,_s,"","\\space");m(Y,T,_s,"","\\nobreakspace");m(y,T,_s,null,"\\nobreak");m(y,T,_s,null,"\\allowbreak");m(y,T,ym,",",",");m(y,T,ym,";",";");m(y,P,se,"","\\barwedge",!0);m(y,P,se,"","\\veebar",!0);m(y,T,se,"","\\odot",!0);m(y,T,se,"","\\oplus",!0);m(y,T,se,"","\\otimes",!0);m(y,T,j,"","\\partial",!0);m(y,T,se,"","\\oslash",!0);m(y,P,se,"","\\circledcirc",!0);m(y,P,se,"","\\boxdot",!0);m(y,T,se,"","\\bigtriangleup");m(y,T,se,"","\\bigtriangledown");m(y,T,se,"","\\dagger");m(y,T,se,"","\\diamond");m(y,T,se,"","\\star");m(y,T,se,"","\\triangleleft");m(y,T,se,"","\\triangleright");m(y,T,vr,"{","\\{");m(Y,T,j,"{","\\{");m(Y,T,j,"{","\\textbraceleft");m(y,T,qn,"}","\\}");m(Y,T,j,"}","\\}");m(Y,T,j,"}","\\textbraceright");m(y,T,vr,"{","\\lbrace");m(y,T,qn,"}","\\rbrace");m(y,T,vr,"[","\\lbrack",!0);m(Y,T,j,"[","\\lbrack",!0);m(y,T,qn,"]","\\rbrack",!0);m(Y,T,j,"]","\\rbrack",!0);m(y,T,vr,"(","\\lparen",!0);m(y,T,qn,")","\\rparen",!0);m(Y,T,j,"<","\\textless",!0);m(Y,T,j,">","\\textgreater",!0);m(y,T,vr,"","\\lfloor",!0);m(y,T,qn,"","\\rfloor",!0);m(y,T,vr,"","\\lceil",!0);m(y,T,qn,"","\\rceil",!0);m(y,T,j,"\\","\\backslash");m(y,T,j,"","|");m(y,T,j,"","\\vert");m(Y,T,j,"|","\\textbar",!0);m(y,T,j,"","\\|");m(y,T,j,"","\\Vert");m(Y,T,j,"","\\textbardbl");m(Y,T,j,"~","\\textasciitilde");m(Y,T,j,"\\","\\textbackslash");m(Y,T,j,"^","\\textasciicircum");m(y,T,L,"","\\uparrow",!0);m(y,T,L,"","\\Uparrow",!0);m(y,T,L,"","\\downarrow",!0);m(y,T,L,"","\\Downarrow",!0);m(y,T,L,"","\\updownarrow",!0);m(y,T,L,"","\\Updownarrow",!0);m(y,T,Ht,"","\\coprod");m(y,T,Ht,"","\\bigvee");m(y,T,Ht,"","\\bigwedge");m(y,T,Ht,"","\\biguplus");m(y,T,Ht,"","\\bigcap");m(y,T,Ht,"","\\bigcup");m(y,T,Ht,"","\\int");m(y,T,Ht,"","\\intop");m(y,T,Ht,"","\\iint");m(y,T,Ht,"","\\iiint");m(y,T,Ht,"","\\prod");m(y,T,Ht,"","\\sum");m(y,T,Ht,"","\\bigotimes");m(y,T,Ht,"","\\bigoplus");m(y,T,Ht,"","\\bigodot");m(y,T,Ht,"","\\oint");m(y,T,Ht,"","\\oiint");m(y,T,Ht,"","\\oiiint");m(y,T,Ht,"","\\bigsqcup");m(y,T,Ht,"","\\smallint");m(Y,T,mu,"","\\textellipsis");m(y,T,mu,"","\\mathellipsis");m(Y,T,mu,"","\\ldots",!0);m(y,T,mu,"","\\ldots",!0);m(y,T,mu,"","\\@cdots",!0);m(y,T,mu,"","\\ddots",!0);m(y,T,j,"","\\varvdots");m(Y,T,j,"","\\varvdots");m(y,T,pt,"","\\acute");m(y,T,pt,"","\\grave");m(y,T,pt,"","\\ddot");m(y,T,pt,"~","\\tilde");m(y,T,pt,"","\\bar");m(y,T,pt,"","\\breve");m(y,T,pt,"","\\check");m(y,T,pt,"^","\\hat");m(y,T,pt,"","\\vec");m(y,T,pt,"","\\dot");m(y,T,pt,"","\\mathring");m(y,T,de,"","\\@imath");m(y,T,de,"","\\@jmath");m(y,T,j,"","");m(y,T,j,"","");m(Y,T,j,"","\\i",!0);m(Y,T,j,"","\\j",!0);m(Y,T,j,"","\\ss",!0);m(Y,T,j,"","\\ae",!0);m(Y,T,j,"","\\oe",!0);m(Y,T,j,"","\\o",!0);m(Y,T,j,"","\\AE",!0);m(Y,T,j,"","\\OE",!0);m(Y,T,j,"","\\O",!0);m(Y,T,pt,"","\\'");m(Y,T,pt,"","\\`");m(Y,T,pt,"","\\^");m(Y,T,pt,"","\\~");m(Y,T,pt,"","\\=");m(Y,T,pt,"","\\u");m(Y,T,pt,"","\\.");m(Y,T,pt,"","\\c");m(Y,T,pt,"","\\r");m(Y,T,pt,"","\\v");m(Y,T,pt,"",'\\"');m(Y,T,pt,"","\\H");m(Y,T,pt,"","\\textcircled");var fA={"--":!0,"---":!0,"``":!0,"''":!0};m(Y,T,j,"","--",!0);m(Y,T,j,"","\\textendash");m(Y,T,j,"","---",!0);m(Y,T,j,"","\\textemdash");m(Y,T,j,"","`",!0);m(Y,T,j,"","\\textquoteleft");m(Y,T,j,"","'",!0);m(Y,T,j,"","\\textquoteright");m(Y,T,j,"","``",!0);m(Y,T,j,"","\\textquotedblleft");m(Y,T,j,"","''",!0);m(Y,T,j,"","\\textquotedblright");m(y,T,j,"","\\degree",!0);m(Y,T,j,"","\\degree");m(Y,T,j,"","\\textdegree",!0);m(y,T,j,"","\\pounds");m(y,T,j,"","\\mathsterling",!0);m(Y,T,j,"","\\pounds");m(Y,T,j,"","\\textsterling",!0);m(y,P,j,"","\\maltese");m(Y,P,j,"","\\maltese");var S7='0123456789/@."';for(var Lp=0;Lp<S7.length;Lp++){var w7=S7.charAt(Lp);m(y,T,j,w7,w7)}var A7='0123456789!@*()-=+";:?/.,';for(var Vp=0;Vp<A7.length;Vp++){var E7=A7.charAt(Vp);m(Y,T,j,E7,E7)}var _d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Up=0;Up<_d.length;Up++){var Nh=_d.charAt(Up);m(y,T,de,Nh,Nh),m(Y,T,j,Nh,Nh)}m(y,P,j,"C","");m(Y,P,j,"C","");m(y,P,j,"H","");m(Y,P,j,"H","");m(y,P,j,"N","");m(Y,P,j,"N","");m(y,P,j,"P","");m(Y,P,j,"P","");m(y,P,j,"Q","");m(Y,P,j,"Q","");m(y,P,j,"R","");m(Y,P,j,"R","");m(y,P,j,"Z","");m(Y,P,j,"Z","");m(y,T,de,"h","");m(Y,T,de,"h","");var ye="";for(var Nn=0;Nn<_d.length;Nn++){var wt=_d.charAt(Nn);ye=String.fromCharCode(55349,56320+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56372+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56424+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56580+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56684+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56736+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56788+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56840+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56944+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),Nn<26&&(ye=String.fromCharCode(55349,56632+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye),ye=String.fromCharCode(55349,56476+Nn),m(y,T,de,wt,ye),m(Y,T,j,wt,ye))}ye="";m(y,T,de,"k",ye);m(Y,T,j,"k",ye);for(var Ga=0;Ga<10;Ga++){var Ds=Ga.toString();ye=String.fromCharCode(55349,57294+Ga),m(y,T,de,Ds,ye),m(Y,T,j,Ds,ye),ye=String.fromCharCode(55349,57314+Ga),m(y,T,de,Ds,ye),m(Y,T,j,Ds,ye),ye=String.fromCharCode(55349,57324+Ga),m(y,T,de,Ds,ye),m(Y,T,j,Ds,ye),ye=String.fromCharCode(55349,57334+Ga),m(y,T,de,Ds,ye),m(Y,T,j,Ds,ye)}var x7="";for(var Bp=0;Bp<x7.length;Bp++){var Ih=x7.charAt(Bp);m(y,T,de,Ih,Ih),m(Y,T,j,Ih,Ih)}var Dh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],R7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],$F=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Dh[o][2],Dh[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[R7[l][2],R7[l][a]]}else{if(s===120485||s===120486)return[Dh[0][2],Dh[0][a]];if(120486<s&&s<120782)return["",""];throw new ce("Unsupported character: "+e)}},vm=function(e,n,r){return zt[r][e]&&zt[r][e].replace&&(e=zt[r][e].replace),{value:e,metrics:Ev(e,n,r)}},Jr=function(e,n,r,i,s){var a=vm(e,n,r),o=a.metrics;e=a.value;var l;if(o){var c=o.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new _i(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new _i(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},ZF=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&vm(e,"Main-Bold",n).metrics?Jr(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||zt[n][e].font==="main"?Jr(e,"Main-Regular",n,r,i):Jr(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},KF=function(e,n,r,i,s){return s!=="textord"&&vm(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},YF=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,c="",h="";if(s.charCodeAt(0)===55349&&([c,h]=$F(s,i)),c.length>0)return Jr(s,c,i,n,a.concat(h));if(l){var f,d;if(l==="boldsymbol"){var p=KF(s,i,n,a,r);f=p.fontName,d=[p.fontClass]}else o?(f=pA[l].fontName,d=[l]):(f=Oh(l,n.fontWeight,n.fontShape),d=[l,n.fontWeight,n.fontShape]);if(vm(s,f,i).metrics)return Jr(s,f,i,n,a.concat(d));if(fA.hasOwnProperty(s)&&f.slice(0,10)==="Typewriter"){for(var _=[],E=0;E<s.length;E++)_.push(Jr(s[E],f,i,n,a.concat(d)));return mA(_)}}if(r==="mathord")return Jr(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var M=zt[i][s]&&zt[i][s].font;if(M==="ams"){var b=Oh("amsrm",n.fontWeight,n.fontShape);return Jr(s,b,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(M==="main"||!M){var S=Oh("textrm",n.fontWeight,n.fontShape);return Jr(s,S,i,n,a.concat(n.fontWeight,n.fontShape))}else{var x=Oh(M,n.fontWeight,n.fontShape);return Jr(s,x,i,n,a.concat(x,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},XF=(t,e)=>{if(Sa(t.classes)!==Sa(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},QF=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof _i&&r instanceof _i&&XF(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},xv=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Yn=function(e,n,r,i){var s=new gm(e,n,r,i);return xv(s),s},dA=(t,e,n,r)=>new gm(t,e,n,r),WF=function(e,n,r){var i=Yn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=te(i.height),i.maxFontSize=1,i},JF=function(e,n,r,i){var s=new hA(e,n,r,i);return xv(s),s},mA=function(e){var n=new z0(e);return xv(n),n},eq=function(e,n){return e instanceof z0?Yn([],[e],n):e},tq=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var o=-n[a].shift-s-n[a].elem.depth,l=o-(n[a-1].elem.height+n[a-1].elem.depth);s=s+o,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var h=e.positionData,f=0;f<e.children.length;f++){var d=e.children[f];h-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}c=h}else if(e.positionType==="bottom")c=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},nq=function(e,n){for(var{children:r,depth:i}=tq(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Yn(["pstrut"],[]);c.style.height=te(s);for(var h=[],f=i,d=i,p=i,_=0;_<r.length;_++){var E=r[_];if(E.type==="kern")p+=E.size;else{var M=E.elem,b=E.wrapperClasses||[],S=E.wrapperStyle||{},x=Yn(b,[c,M],void 0,S);x.style.top=te(-s-p-M.depth),E.marginLeft&&(x.style.marginLeft=E.marginLeft),E.marginRight&&(x.style.marginRight=E.marginRight),h.push(x),p+=M.height+M.depth}f=Math.min(f,p),d=Math.max(d,p)}var O=Yn(["vlist"],h);O.style.height=te(d);var V;if(f<0){var H=Yn([],[]),k=Yn(["vlist"],[H]);k.style.height=te(-f);var w=Yn(["vlist-s"],[new _i("")]);V=[Yn(["vlist-r"],[O,w]),Yn(["vlist-r"],[k])]}else V=[Yn(["vlist-r"],[O])];var R=Yn(["vlist-t"],V);return V.length===2&&R.classes.push("vlist-t2"),R.height=d,R.depth=-f,R},rq=(t,e)=>{var n=Yn(["mspace"],[],e),r=bt(t,e);return n.style.marginRight=te(r),n},Oh=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},pA={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},gA={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},iq=function(e,n){var[r,i,s]=gA[e],a=new Eo(r),o=new wa([a],{width:te(i),height:te(s),style:"width:"+te(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=dA(["overlay"],[o],n);return l.height=s,l.style.height=te(s),l.style.width=te(i),l},G={fontMap:pA,makeSymbol:Jr,mathsym:ZF,makeSpan:Yn,makeSvgSpan:dA,makeLineSpan:WF,makeAnchor:JF,makeFragment:mA,wrapFragment:eq,makeVList:nq,makeOrd:YF,makeGlue:rq,staticSvg:iq,svgData:gA,tryCombineChars:QF},vt={number:3,unit:"mu"},$a={number:4,unit:"mu"},Fi={number:5,unit:"mu"},sq={mord:{mop:vt,mbin:$a,mrel:Fi,minner:vt},mop:{mord:vt,mop:vt,mrel:Fi,minner:vt},mbin:{mord:$a,mop:$a,mopen:$a,minner:$a},mrel:{mord:Fi,mop:Fi,mopen:Fi,minner:Fi},mopen:{},mclose:{mop:vt,mbin:$a,mrel:Fi,minner:vt},mpunct:{mord:vt,mop:vt,mrel:Fi,mopen:vt,mclose:vt,mpunct:vt,minner:vt},minner:{mord:vt,mop:vt,mbin:$a,mrel:Fi,mopen:vt,mpunct:vt,minner:vt}},aq={mord:{mop:vt},mop:{mord:vt,mop:vt},mbin:{},mrel:{},mopen:{},mclose:{mop:vt},mpunct:{},minner:{mop:vt}},yA={},Td={},Sd={};function ie(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)yA[n[l]]=o;e&&(s&&(Td[e]=s),a&&(Sd[e]=a))}function Do(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ie({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var wd=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Dt=function(e){return e.type==="ordgroup"?e.body:[e]},Ql=G.makeSpan,oq=["leftmost","mbin","mopen","mrel","mop","mpunct"],lq=["rightmost","mrel","mclose","mpunct"],uq={display:me.DISPLAY,text:me.TEXT,script:me.SCRIPT,scriptscript:me.SCRIPTSCRIPT},cq={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},yn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=qe(e[a],n);if(o instanceof z0){var l=o.children;s.push(...l)}else s.push(o)}if(G.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var h=e[0];h.type==="sizing"?c=n.havingSize(h.size):h.type==="styling"&&(c=n.havingStyle(uq[h.style]))}var f=Ql([i[0]||"leftmost"],[],n),d=Ql([i[1]||"rightmost"],[],n),p=r==="root";return C7(s,(_,E)=>{var M=E.classes[0],b=_.classes[0];M==="mbin"&&lq.includes(b)?E.classes[0]="mord":b==="mbin"&&oq.includes(M)&&(_.classes[0]="mord")},{node:f},d,p),C7(s,(_,E)=>{var M=e4(E),b=e4(_),S=M&&b?_.hasClass("mtight")?aq[M][b]:sq[M][b]:null;if(S)return G.makeGlue(S,c)},{node:f},d,p),s},C7=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=vA(o);if(l){t(l.children,n,r,null,s);continue}var c=!o.hasClass("mspace");if(c){var h=n(o,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),a++))}c?r.node=o:s&&o.hasClass("newline")&&(r.node=Ql(["leftmost"])),r.insertAfter=(f=>d=>{e.splice(f+1,0,d),a++})(a)}i&&e.pop()},vA=function(e){return e instanceof z0||e instanceof hA||e instanceof gm&&e.hasClass("enclosing")?e:null},hq=function t(e,n){var r=vA(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},e4=function(e,n){return e?(n&&(e=hq(e,n)),cq[e.classes[0]]||null):null},l0=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Ql(n.concat(r))},qe=function(e,n,r){if(!e)return Ql();if(Td[e.type]){var i=Td[e.type](e,n);if(r&&n.size!==r.size){i=Ql(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new ce("Got group of unknown type: '"+e.type+"'")};function bA(t){return new z0(t)}class Or{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Sa(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ci&&this.children[r+1]instanceof ci){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ci;)i+=this.children[++r].toText();e.appendChild(new ci(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Ze.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Ze.escape(Sa(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ci{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class fq{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",te(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+te(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var W={MathNode:Or,TextNode:ci,SpaceNode:fq,newDocumentFragment:bA},jr=function(e,n,r){return zt[n][e]&&zt[n][e].replace&&e.charCodeAt(0)!==55349&&!(fA.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=zt[n][e].replace),new W.TextNode(e)},Rv=function(e){return e.length===1?e[0]:new W.MathNode("mrow",e)},Cv=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;zt[i][s]&&zt[i][s].replace&&(s=zt[i][s].replace);var a=G.fontMap[r].fontName;return Ev(s,a,i)?G.fontMap[r].variant:null};function jp(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ci&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ci&&n.text===","}else return!1}var br=function(e,n,r){if(e.length===1){var i=tt(e[0],n);return r&&i instanceof Or&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=tt(e[o],n);if(l instanceof Or&&a instanceof Or){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(jp(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&jp(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||jp(a))){var c=l.children[0];c instanceof Or&&c.type==="mn"&&(c.children=[...a.children,...c.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof ci&&h.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof ci&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),s.pop())}}}s.push(l),a=l}return s},Aa=function(e,n,r){return Rv(br(e,n,r))},tt=function(e,n){if(!e)return new W.MathNode("mrow");if(Sd[e.type]){var r=Sd[e.type](e,n);return r}else throw new ce("Got group of unknown type: '"+e.type+"'")},dq={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mq=function(e){var n=new W.MathNode("mo",[new W.TextNode(dq[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},pq={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gq=function(e){return e.type==="ordgroup"?e.body.length:1},yq=function(e,n){function r(){var o=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var c=e,h=gq(c.base),f,d,p;if(h>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,p=.42,d=l+"4"):(f=312,o=2340,p=.34,d="tilde4");else{var _=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][_],f=[0,239,300,360,420][_],p=[0,.24,.3,.3,.36,.42][_],d=l+_):(o=[0,600,1033,2339,2340][_],f=[0,260,286,306,312][_],p=[0,.26,.286,.3,.306,.34][_],d="tilde"+_)}var E=new Eo(d),M=new wa([E],{width:"100%",height:te(p),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:G.makeSvgSpan([],[M],n),minWidth:0,height:p}}else{var b=[],S=pq[l],[x,O,V]=S,H=V/1e3,k=x.length,w,R;if(k===1){var D=S[3];w=["hide-tail"],R=[D]}else if(k===2)w=["halfarrow-left","halfarrow-right"],R=["xMinYMin","xMaxYMin"];else if(k===3)w=["brace-left","brace-center","brace-right"],R=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+k+" children.");for(var z=0;z<k;z++){var U=new Eo(x[z]),I=new wa([U],{width:"400em",height:te(H),viewBox:"0 0 "+o+" "+V,preserveAspectRatio:R[z]+" slice"}),fe=G.makeSvgSpan([w[z]],[I],n);if(k===1)return{span:fe,minWidth:O,height:H};fe.style.height=te(H),b.push(fe)}return{span:G.makeSpan(["stretchy"],b,n),minWidth:O,height:H}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=te(a),s>0&&(i.style.minWidth=te(s)),i},vq=function(e,n,r,i,s){var a,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=G.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new _7({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new _7({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new wa(c,{width:"100%",height:te(o)});a=G.makeSvgSpan([],[h],s)}return a.height=o,a.style.height=te(o),a},gs={encloseSpan:vq,mathMLnode:mq,svgSpan:yq};function Ce(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function kv(t){var e=bm(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function bm(t){return t&&(t.type==="atom"||GF.hasOwnProperty(t.type))?t:null}var Mv=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ce(t.base,"accent"),n=r.base,t.base=n,i=HF(qe(t,e)),t.base=r):(r=Ce(t,"accent"),n=r.base);var s=qe(n,e.havingCrampedStyle()),a=r.isShifty&&Ze.isCharacterBox(n),o=0;if(a){var l=Ze.getBaseElem(n),c=qe(l,e.havingCrampedStyle());o=T7(c).skew}var h=r.label==="\\c",f=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),d;if(r.isStretchy)d=gs.svgSpan(r,e),d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+te(2*o)+")",marginLeft:te(2*o)}:void 0}]},e);else{var p,_;r.label==="\\vec"?(p=G.staticSvg("vec",e),_=G.svgData.vec[1]):(p=G.makeOrd({mode:r.mode,text:r.label},e,"textord"),p=T7(p),p.italic=0,_=p.width,h&&(f+=p.depth)),d=G.makeSpan(["accent-body"],[p]);var E=r.label==="\\textcircled";E&&(d.classes.push("accent-full"),f=s.height);var M=o;E||(M-=_/2),d.style.left=te(M),r.label==="\\textcircled"&&(d.style.top=".2em"),d=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-f},{type:"elem",elem:d}]},e)}var b=G.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},_A=(t,e)=>{var n=t.isStretchy?gs.mathMLnode(t.label):new W.MathNode("mo",[jr(t.label,t.mode)]),r=new W.MathNode("mover",[tt(t.base,e),n]);return r.setAttribute("accent","true"),r},bq=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ie({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=wd(e[0]),r=!bq.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Mv,mathmlBuilder:_A});ie({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Mv,mathmlBuilder:_A});ie({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=qe(t.base,e),r=gs.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return G.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=gs.mathMLnode(t.label),r=new W.MathNode("munder",[tt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var zh=t=>{var e=new W.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ie({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=G.wrapFragment(qe(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=G.wrapFragment(qe(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=gs.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var h;if(a){var f=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;h=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:f}]},e)}else h=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),G.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var n=gs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=zh(tt(t.body,e));if(t.below){var s=zh(tt(t.below,e));r=new W.MathNode("munderover",[n,s,i])}else r=new W.MathNode("mover",[n,i])}else if(t.below){var a=zh(tt(t.below,e));r=new W.MathNode("munder",[n,a])}else r=zh(),r=new W.MathNode("mover",[n,r]);return r}});var _q=G.makeSpan;function TA(t,e){var n=yn(t.body,e,!0);return _q([t.mclass],n,e)}function SA(t,e){var n,r=br(t.body,e);return t.mclass==="minner"?n=new W.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new W.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new W.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ie({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Dt(i),isCharacterBox:Ze.isCharacterBox(i)}},htmlBuilder:TA,mathmlBuilder:SA});var _m=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ie({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:_m(e[0]),body:Dt(e[1]),isCharacterBox:Ze.isCharacterBox(e[1])}}});ie({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=_m(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Dt(i)},l={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:Ze.isCharacterBox(l)}},htmlBuilder:TA,mathmlBuilder:SA});ie({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:_m(e[0]),body:Dt(e[0])}},htmlBuilder(t,e){var n=yn(t.body,e,!0),r=G.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=br(t.body,e),r=new W.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Tq={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},k7=()=>({type:"styling",body:[],mode:"math",style:"display"}),M7=t=>t.type==="textord"&&t.text==="@",Sq=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function wq(t,e,n){var r=Tq[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Aq(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ce("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],o=k7(),l=0;l<a.length;l++)if(!M7(a[l]))o.body.push(a[l]);else{r.push(o),l+=1;var c=kv(a[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var f=0;f<2;f++){for(var d=!0,p=l+1;p<a.length;p++){if(Sq(a[p],c)){d=!1,l=p;break}if(M7(a[p]))throw new ce("Missing a "+c+" character to complete a CD arrow.",a[p]);h[f].body.push(a[p])}if(d)throw new ce("Missing a "+c+" character to complete a CD arrow.",a[l])}else throw new ce('Expected one of "<>AV=|." after @',a[l]);var _=wq(c,h,t),E={type:"styling",body:[_],mode:"math",style:"display"};r.push(E),o=k7()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var M=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:M,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ie({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=G.wrapFragment(qe(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=te(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new W.MathNode("mrow",[tt(t.label,e)]);return n=new W.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new W.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ie({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=G.wrapFragment(qe(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new W.MathNode("mrow",[tt(t.fragment,e)])}});ie({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ce(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=Ce(i[a],"textord");s+=o.text}var l=parseInt(s),c;if(isNaN(l))throw new ce("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new ce("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var wA=(t,e)=>{var n=yn(t.body,e.withColor(t.color),!1);return G.makeFragment(n)},AA=(t,e)=>{var n=br(t.body,e.withColor(t.color)),r=new W.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ie({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ce(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Dt(i)}},htmlBuilder:wA,mathmlBuilder:AA});ie({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ce(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:wA,mathmlBuilder:AA});ie({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ce(i,"size").value}},htmlBuilder(t,e){var n=G.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=te(bt(t.size,e)))),n},mathmlBuilder(t,e){var n=new W.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",te(bt(t.size,e)))),n}});var t4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},EA=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ce("Expected a control sequence",t);return e},Eq=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},xA=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ie({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(t4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=t4[r.text]),Ce(e.parseFunction(),"internal");throw new ce("Invalid token after macro prefix",r)}});ie({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ce("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ce('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ce('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new ce("Expected a macro definition");o[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},n===t4[n]),{type:"internal",mode:e.mode}}});ie({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=EA(e.gullet.popToken());e.gullet.consumeSpaces();var i=Eq(e);return xA(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ie({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=EA(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return xA(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var fc=function(e,n,r){var i=zt.math[e]&&zt.math[e].replace,s=Ev(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},Nv=function(e,n,r,i){var s=r.havingBaseStyle(n),a=G.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},RA=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=te(s),e.height-=s,e.depth+=s},xq=function(e,n,r,i,s,a){var o=G.makeSymbol(e,"Main-Regular",s,i),l=Nv(o,n,i,a);return r&&RA(l,i,n),l},Rq=function(e,n,r,i){return G.makeSymbol(e,"Size"+n+"-Regular",r,i)},CA=function(e,n,r,i,s,a){var o=Rq(e,n,s,i),l=Nv(G.makeSpan(["delimsizing","size"+n],[o],i),me.TEXT,i,a);return r&&RA(l,i,me.TEXT),l},Fp=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=G.makeSpan(["delimsizinginner",i],[G.makeSpan([],[G.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},qp=function(e,n,r){var i=es["Size4-Regular"][e.charCodeAt(0)]?es["Size4-Regular"][e.charCodeAt(0)][4]:es["Size1-Regular"][e.charCodeAt(0)][4],s=new Eo("inner",LF(e,Math.round(1e3*n))),a=new wa([s],{width:te(i),height:te(n),style:"width:"+te(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=G.makeSvgSpan([],[a],r);return o.height=n,o.style.height=te(n),o.style.width=te(i),{type:"elem",elem:o}},n4=.008,Ph={type:"kern",size:-1*n4},Cq=["|","\\lvert","\\rvert","\\vert"],kq=["\\|","\\lVert","\\rVert","\\Vert"],kA=function(e,n,r,i,s,a){var o,l,c,h,f="",d=0;o=c=h=e,l=null;var p="Size1-Regular";e==="\\uparrow"?c=h="":e==="\\Uparrow"?c=h="":e==="\\downarrow"?o=c="":e==="\\Downarrow"?o=c="":e==="\\updownarrow"?(o="\\uparrow",c="",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="",h="\\Downarrow"):Cq.includes(e)?(c="",f="vert",d=333):kq.includes(e)?(c="",f="doublevert",d=556):e==="["||e==="\\lbrack"?(o="",c="",h="",p="Size4-Regular",f="lbrack",d=667):e==="]"||e==="\\rbrack"?(o="",c="",h="",p="Size4-Regular",f="rbrack",d=667):e==="\\lfloor"||e===""?(c=o="",h="",p="Size4-Regular",f="lfloor",d=667):e==="\\lceil"||e===""?(o="",c=h="",p="Size4-Regular",f="lceil",d=667):e==="\\rfloor"||e===""?(c=o="",h="",p="Size4-Regular",f="rfloor",d=667):e==="\\rceil"||e===""?(o="",c=h="",p="Size4-Regular",f="rceil",d=667):e==="("||e==="\\lparen"?(o="",c="",h="",p="Size4-Regular",f="lparen",d=875):e===")"||e==="\\rparen"?(o="",c="",h="",p="Size4-Regular",f="rparen",d=875):e==="\\{"||e==="\\lbrace"?(o="",l="",h="",c="",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",h="",c="",p="Size4-Regular"):e==="\\lgroup"||e===""?(o="",h="",c="",p="Size4-Regular"):e==="\\rgroup"||e===""?(o="",h="",c="",p="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",h="",c="",p="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",h="",c="",p="Size4-Regular");var _=fc(o,p,s),E=_.height+_.depth,M=fc(c,p,s),b=M.height+M.depth,S=fc(h,p,s),x=S.height+S.depth,O=0,V=1;if(l!==null){var H=fc(l,p,s);O=H.height+H.depth,V=2}var k=E+x+O,w=Math.max(0,Math.ceil((n-k)/(V*b))),R=k+w*V*b,D=i.fontMetrics().axisHeight;r&&(D*=i.sizeMultiplier);var z=R/2-D,U=[];if(f.length>0){var I=R-E-x,fe=Math.round(R*1e3),Ne=VF(f,Math.round(I*1e3)),J=new Eo(f,Ne),re=(d/1e3).toFixed(3)+"em",ae=(fe/1e3).toFixed(3)+"em",xe=new wa([J],{width:re,height:ae,viewBox:"0 0 "+d+" "+fe}),Ae=G.makeSvgSpan([],[xe],i);Ae.height=fe/1e3,Ae.style.width=re,Ae.style.height=ae,U.push({type:"elem",elem:Ae})}else{if(U.push(Fp(h,p,s)),U.push(Ph),l===null){var De=R-E-x+2*n4;U.push(qp(c,De,i))}else{var Le=(R-E-x-O)/2+2*n4;U.push(qp(c,Le,i)),U.push(Ph),U.push(Fp(l,p,s)),U.push(Ph),U.push(qp(c,Le,i))}U.push(Ph),U.push(Fp(o,p,s))}var Te=i.havingBaseStyle(me.TEXT),vn=G.makeVList({positionType:"bottom",positionData:z,children:U},Te);return Nv(G.makeSpan(["delimsizing","mult"],[vn],Te),me.TEXT,i,a)},Hp=80,Gp=.08,$p=function(e,n,r,i,s){var a=PF(e,i,r),o=new Eo(e,a),l=new wa([o],{width:"400em",height:te(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return G.makeSvgSpan(["hide-tail"],[l],s)},Mq=function(e,n){var r=n.havingBaseSizing(),i=DA("\\surd",e*r.sizeMultiplier,IA,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,c=0,h=0,f;return i.type==="small"?(h=1e3+1e3*a+Hp,e<1?s=1:e<1.4&&(s=.7),l=(1+a+Gp)/s,c=(1+a)/s,o=$p("sqrtMain",l,h,a,n),o.style.minWidth="0.853em",f=.833/s):i.type==="large"?(h=(1e3+Hp)*Dc[i.size],c=(Dc[i.size]+a)/s,l=(Dc[i.size]+a+Gp)/s,o=$p("sqrtSize"+i.size,l,h,a,n),o.style.minWidth="1.02em",f=1/s):(l=e+a+Gp,c=e+a,h=Math.floor(1e3*e+a)+Hp,o=$p("sqrtTall",l,h,a,n),o.style.minWidth="0.742em",f=1.056),o.height=c,o.style.height=te(l),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},MA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Nq=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],NA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Dc=[0,1.2,1.8,2.4,3],Iq=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),MA.includes(e)||NA.includes(e))return CA(e,n,!1,r,i,s);if(Nq.includes(e))return kA(e,Dc[n],!1,r,i,s);throw new ce("Illegal delimiter: '"+e+"'")},Dq=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Oq=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"stack"}],IA=[{type:"small",style:me.SCRIPTSCRIPT},{type:"small",style:me.SCRIPT},{type:"small",style:me.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],zq=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},DA=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=fc(e,zq(r[a]),"math"),l=o.height+o.depth;if(r[a].type==="small"){var c=i.havingBaseStyle(r[a].style);l*=c.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},OA=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;NA.includes(e)?o=Dq:MA.includes(e)?o=IA:o=Oq;var l=DA(e,n,o,i);return l.type==="small"?xq(e,l.style,r,i,s,a):l.type==="large"?CA(e,l.size,r,i,s,a):kA(e,n,r,i,s,a)},Pq=function(e,n,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,h=Math.max(n-o,r+o),f=Math.max(h/500*l,2*h-c);return OA(e,f,!0,i,s,a)},as={sqrtImage:Mq,sizedDelim:Iq,sizeToMaxHeight:Dc,customSizedDelim:OA,leftRightDelim:Pq},N7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Lq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Tm(t,e){var n=bm(t);if(n&&Lq.includes(n.text))return n;throw n?new ce("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ce("Invalid delimiter type '"+t.type+"'",t)}ie({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Tm(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:N7[t.funcName].size,mclass:N7[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?G.makeSpan([t.mclass]):as.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(jr(t.delim,t.mode));var n=new W.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=te(as.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function I7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ie({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ce("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Tm(e[0],t).text,color:n}}});ie({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Tm(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ce(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{I7(t);for(var n=yn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=l0(e,["mopen"]):o=as.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),s)for(var l=1;l<n.length;l++){var c=n[l],h=c.isMiddle;h&&(n[l]=as.leftRightDelim(h.delim,r,i,h.options,t.mode,[]))}var f;if(t.right===".")f=l0(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;f=as.leftRightDelim(t.right,r,i,d,t.mode,["mclose"])}return n.push(f),G.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{I7(t);var n=br(t.body,e);if(t.left!=="."){var r=new W.MathNode("mo",[jr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new W.MathNode("mo",[jr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Rv(n)}});ie({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Tm(e[0],t);if(!t.parser.leftrightDepth)throw new ce("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=l0(e,[]);else{n=as.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?jr("|","text"):jr(t.delim,t.mode),r=new W.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Iv=(t,e)=>{var n=G.wrapFragment(qe(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=Ze.isCharacterBox(t.body);if(r==="sout")s=G.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=bt({number:.6,unit:"pt"},e),c=bt({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var f=n.height+n.depth+l+c;n.style.paddingLeft=te(f/2+l);var d=Math.floor(1e3*f*i),p=OF(d),_=new wa([new Eo("phase",p)],{width:"400em",height:te(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});s=G.makeSvgSpan(["hide-tail"],[_],e),s.style.height=te(f),a=n.depth+l+c}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var E=0,M=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),E=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),M=E):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),E=4*b,M=Math.max(0,.25-n.depth)):(E=o?.2:0,M=E),s=gs.encloseSpan(n,r,E,M,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=te(b)):r==="angl"&&b!==.049&&(s.style.borderTopWidth=te(b),s.style.borderRightWidth=te(b)),a=n.depth+M,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var S;if(t.backgroundColor)S=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var x=/cancel|phase/.test(r)?["svg-align"]:[];S=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:x}]},e)}return/cancel/.test(r)&&(S.height=n.height,S.depth=n.depth),/cancel/.test(r)&&!o?G.makeSpan(["mord","cancel-lap"],[S],e):G.makeSpan(["mord"],[S],e)},Dv=(t,e)=>{var n=0,r=new W.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[tt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ie({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ce(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:Iv,mathmlBuilder:Dv});ie({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ce(e[0],"color-token").color,a=Ce(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:Iv,mathmlBuilder:Dv});ie({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ie({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Iv,mathmlBuilder:Dv});ie({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var zA={};function Ai(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)zA[n[l]]=o;s&&(Td[e]=s),a&&(Sd[e]=a)}var Vq={};function C(t,e){Vq[t]=e}function D7(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Sm=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ce("{"+t.envName+"} can be used only in display mode.")};function Ov(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ma(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:f,leqno:d}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)a=1;else if(a=parseFloat(p),!a||a<0)throw new ce("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var _=[],E=[_],M=[],b=[],S=l!=null?[]:void 0;function x(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function O(){S&&(t.gullet.macros.get("\\df@tag")?(S.push(t.subparse([new wv("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):S.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),b.push(D7(t));;){var V=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),V={type:"ordgroup",mode:t.mode,body:V},n&&(V={type:"styling",mode:t.mode,style:n,body:[V]}),_.push(V);var H=t.fetch().text;if(H==="&"){if(f&&_.length===f){if(c||o)throw new ce("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(H==="\\end"){O(),_.length===1&&V.type==="styling"&&V.body[0].body.length===0&&(E.length>1||!h)&&E.pop(),b.length<E.length+1&&b.push([]);break}else if(H==="\\\\"){t.consume();var k=void 0;t.gullet.future().text!==" "&&(k=t.parseSizeGroup(!0)),M.push(k?k.value:null),O(),b.push(D7(t)),_=[],E.push(_),x()}else throw new ce("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:E,cols:s,rowGaps:M,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:o,tags:S,leqno:d}}function zv(t){return t.slice(0,1)==="d"?"display":"text"}var Ei=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),c=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,d=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var p=n.havingStyle(me.SCRIPT).sizeMultiplier;d=.2778*(p/n.sizeMultiplier)}var _=e.colSeparationType==="CD"?bt({number:3,unit:"ex"},n):12*f,E=3*f,M=e.arraystretch*_,b=.7*M,S=.3*M,x=0;function O(ir){for(var Sr=0;Sr<ir.length;++Sr)Sr>0&&(x+=.25),c.push({pos:x,isDashed:ir[Sr]})}for(O(a[0]),r=0;r<e.body.length;++r){var V=e.body[r],H=b,k=S;o<V.length&&(o=V.length);var w=new Array(V.length);for(i=0;i<V.length;++i){var R=qe(V[i],n);k<R.depth&&(k=R.depth),H<R.height&&(H=R.height),w[i]=R}var D=e.rowGaps[r],z=0;D&&(z=bt(D,n),z>0&&(z+=S,k<z&&(k=z),z=0)),e.addJot&&(k+=E),w.height=H,w.depth=k,x+=H,w.pos=x,x+=k+z,l[r]=w,O(a[r+1])}var U=x/2+n.fontMetrics().axisHeight,I=e.cols||[],fe=[],Ne,J,re=[];if(e.tags&&e.tags.some(ir=>ir))for(r=0;r<s;++r){var ae=l[r],xe=ae.pos-U,Ae=e.tags[r],De=void 0;Ae===!0?De=G.makeSpan(["eqn-num"],[],n):Ae===!1?De=G.makeSpan([],[],n):De=G.makeSpan([],yn(Ae,n,!0),n),De.depth=ae.depth,De.height=ae.height,re.push({type:"elem",elem:De,shift:xe})}for(i=0,J=0;i<o||J<I.length;++i,++J){for(var Le=I[J]||{},Te=!0;Le.type==="separator";){if(Te||(Ne=G.makeSpan(["arraycolsep"],[]),Ne.style.width=te(n.fontMetrics().doubleRuleSep),fe.push(Ne)),Le.separator==="|"||Le.separator===":"){var vn=Le.separator==="|"?"solid":"dashed",Me=G.makeSpan(["vertical-separator"],[],n);Me.style.height=te(x),Me.style.borderRightWidth=te(h),Me.style.borderRightStyle=vn,Me.style.margin="0 "+te(-h/2);var ni=x-U;ni&&(Me.style.verticalAlign=te(-ni)),fe.push(Me)}else throw new ce("Invalid separator type: "+Le.separator);J++,Le=I[J]||{},Te=!1}if(!(i>=o)){var Cn=void 0;(i>0||e.hskipBeforeAndAfter)&&(Cn=Ze.deflt(Le.pregap,d),Cn!==0&&(Ne=G.makeSpan(["arraycolsep"],[]),Ne.style.width=te(Cn),fe.push(Ne)));var kn=[];for(r=0;r<s;++r){var Ri=l[r],rr=Ri[i];if(rr){var Ci=Ri.pos-U;rr.depth=Ri.depth,rr.height=Ri.height,kn.push({type:"elem",elem:rr,shift:Ci})}}kn=G.makeVList({positionType:"individualShift",children:kn},n),kn=G.makeSpan(["col-align-"+(Le.align||"c")],[kn]),fe.push(kn),(i<o-1||e.hskipBeforeAndAfter)&&(Cn=Ze.deflt(Le.postgap,d),Cn!==0&&(Ne=G.makeSpan(["arraycolsep"],[]),Ne.style.width=te(Cn),fe.push(Ne)))}}if(l=G.makeSpan(["mtable"],fe),c.length>0){for(var Ts=G.makeLineSpan("hline",n,h),_r=G.makeLineSpan("hdashline",n,h),Tr=[{type:"elem",elem:l,shift:0}];c.length>0;){var Hn=c.pop(),ki=Hn.pos-U;Hn.isDashed?Tr.push({type:"elem",elem:_r,shift:ki}):Tr.push({type:"elem",elem:Ts,shift:ki})}l=G.makeVList({positionType:"individualShift",children:Tr},n)}if(re.length===0)return G.makeSpan(["mord"],[l],n);var Mi=G.makeVList({positionType:"individualShift",children:re},n);return Mi=G.makeSpan(["tag"],[Mi],n),G.makeFragment([l,Mi])},Uq={c:"center ",l:"left ",r:"right "},xi=function(e,n){for(var r=[],i=new W.MathNode("mtd",[],["mtr-glue"]),s=new W.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],c=0;c<o.length;c++)l.push(new W.MathNode("mtd",[tt(o[c],n)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new W.MathNode("mtr",l))}var h=new W.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",te(f));var d="",p="";if(e.cols&&e.cols.length>0){var _=e.cols,E="",M=!1,b=0,S=_.length;_[0].type==="separator"&&(d+="top ",b=1),_[_.length-1].type==="separator"&&(d+="bottom ",S-=1);for(var x=b;x<S;x++)_[x].type==="align"?(p+=Uq[_[x].align],M&&(E+="none "),M=!0):_[x].type==="separator"&&M&&(E+=_[x].separator==="|"?"solid ":"dashed ",M=!1);h.setAttribute("columnalign",p.trim()),/[sd]/.test(E)&&h.setAttribute("columnlines",E.trim())}if(e.colSeparationType==="align"){for(var O=e.cols||[],V="",H=1;H<O.length;H++)V+=H%2?"0em ":"1em ";h.setAttribute("columnspacing",V.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var k="",w=e.hLinesBeforeRow;d+=w[0].length>0?"left ":"",d+=w[w.length-1].length>0?"right ":"";for(var R=1;R<w.length-1;R++)k+=w[R].length===0?"none ":w[R][0]?"dashed ":"solid ";return/[sd]/.test(k)&&h.setAttribute("rowlines",k.trim()),d!==""&&(h=new W.MathNode("menclose",[h]),h.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(h=new W.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},PA=function(e,n){e.envName.indexOf("ed")===-1&&Sm(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=Ma(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:Ov(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",f=0;f<n[0].body.length;f++){var d=Ce(n[0].body[f],"textord");h+=d.text}o=Number(h),l=o*2}var p=!l;a.body.forEach(function(b){for(var S=1;S<b.length;S+=2){var x=Ce(b[S],"styling"),O=Ce(x.body[0],"ordgroup");O.body.unshift(c)}if(p)l<b.length&&(l=b.length);else{var V=b.length/2;if(o<V)throw new ce("Too many math in a row: "+("expected "+o+", but got "+V),b[0])}});for(var _=0;_<l;++_){var E="r",M=0;_%2===1?E="l":_>0&&p&&(M=1),r[_]={type:"align",align:E,pregap:M,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};Ai({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=bm(e[0]),r=n?[e[0]]:Ce(e[0],"ordgroup").body,i=r.map(function(a){var o=kv(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ce("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Ma(t.parser,s,zv(t.envName))},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ce("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Ma(t.parser,r,zv(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Ma(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=bm(e[0]),r=n?[e[0]]:Ce(e[0],"ordgroup").body,i=r.map(function(a){var o=kv(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ce("Unknown column alignment: "+l,a)});if(i.length>1)throw new ce("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Ma(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ce("{subarray} can contain only one column");return s},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Ma(t.parser,e,zv(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:PA,htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Sm(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ov(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ma(t.parser,e,"display")},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:PA,htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Sm(t);var e={autoTag:Ov(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ma(t.parser,e,"display")},htmlBuilder:Ei,mathmlBuilder:xi});Ai({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Sm(t),Aq(t.parser)},htmlBuilder:Ei,mathmlBuilder:xi});C("\\nonumber","\\gdef\\@eqnsw{0}");C("\\notag","\\nonumber");ie({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ce(t.funcName+" valid only within array environment")}});var O7=zA;ie({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new ce("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Ce(i.body[a],"textord").text;if(r==="\\begin"){if(!O7.hasOwnProperty(s))throw new ce("No such environment: "+s,i);var o=O7[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",o),h={mode:n.mode,envName:s,parser:n},f=o.handler(h,l,c);n.expect("\\end",!1);var d=n.nextToken,p=Ce(n.parseFunction(),"environment");if(p.name!==s)throw new ce("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",d);return f}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var LA=(t,e)=>{var n=t.font,r=e.withFont(n);return qe(t.body,r)},VA=(t,e)=>{var n=t.font,r=e.withFont(n);return tt(t.body,r)},z7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ie({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=wd(e[0]),s=r;return s in z7&&(s=z7[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:LA,mathmlBuilder:VA});ie({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Ze.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:_m(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ie({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:LA,mathmlBuilder:VA});var UA=(t,e)=>{var n=e;return t==="display"?n=n.id>=me.SCRIPT.id?n.text():me.DISPLAY:t==="text"&&n.size===me.DISPLAY.size?n=me.TEXT:t==="script"?n=me.SCRIPT:t==="scriptscript"&&(n=me.SCRIPTSCRIPT),n},Pv=(t,e)=>{var n=UA(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=qe(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var c=qe(t.denom,s,e),h,f,d;t.hasBarLine?(t.barSize?(f=bt(t.barSize,e),h=G.makeLineSpan("frac-line",e,f)):h=G.makeLineSpan("frac-line",e),f=h.height,d=h.height):(h=null,f=0,d=e.fontMetrics().defaultRuleThickness);var p,_,E;n.size===me.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,f>0?_=3*d:_=7*d,E=e.fontMetrics().denom1):(f>0?(p=e.fontMetrics().num2,_=d):(p=e.fontMetrics().num3,_=3*d),E=e.fontMetrics().denom2);var M;if(h){var S=e.fontMetrics().axisHeight;p-a.depth-(S+.5*f)<_&&(p+=_-(p-a.depth-(S+.5*f))),S-.5*f-(c.height-E)<_&&(E+=_-(S-.5*f-(c.height-E)));var x=-(S-.5*f);M=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:E},{type:"elem",elem:h,shift:x},{type:"elem",elem:a,shift:-p}]},e)}else{var b=p-a.depth-(c.height-E);b<_&&(p+=.5*(_-b),E+=.5*(_-b)),M=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:E},{type:"elem",elem:a,shift:-p}]},e)}s=e.havingStyle(n),M.height*=s.sizeMultiplier/e.sizeMultiplier,M.depth*=s.sizeMultiplier/e.sizeMultiplier;var O;n.size===me.DISPLAY.size?O=e.fontMetrics().delim1:n.size===me.SCRIPTSCRIPT.size?O=e.havingStyle(me.SCRIPT).fontMetrics().delim2:O=e.fontMetrics().delim2;var V,H;return t.leftDelim==null?V=l0(e,["mopen"]):V=as.customSizedDelim(t.leftDelim,O,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?H=G.makeSpan([]):t.rightDelim==null?H=l0(e,["mclose"]):H=as.customSizedDelim(t.rightDelim,O,!0,e.havingStyle(n),t.mode,["mclose"]),G.makeSpan(["mord"].concat(s.sizingClasses(e)),[V,G.makeSpan(["mfrac"],[M]),H],e)},Lv=(t,e)=>{var n=new W.MathNode("mfrac",[tt(t.numer,e),tt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=bt(t.barSize,e);n.setAttribute("linethickness",te(r))}var i=UA(t.size,e.style);if(i.size!==e.style.size){n=new W.MathNode("mstyle",[n]);var s=i.size===me.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new W.MathNode("mo",[new W.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),t.rightDelim!=null){var l=new W.MathNode("mo",[new W.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return Rv(a)}return n};ie({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,o=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:Pv,mathmlBuilder:Lv});ie({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ie({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var P7=["display","text","script","scriptscript"],L7=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ie({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=wd(e[0]),a=s.type==="atom"&&s.family==="open"?L7(s.text):null,o=wd(e[1]),l=o.type==="atom"&&o.family==="close"?L7(o.text):null,c=Ce(e[2],"size"),h,f=null;c.isBlank?h=!0:(f=c.value,h=f.number>0);var d="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var _=Ce(p.body[0],"textord");d=P7[Number(_.text)]}}else p=Ce(p,"textord"),d=P7[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:h,barSize:f,leftDelim:a,rightDelim:l,size:d}},htmlBuilder:Pv,mathmlBuilder:Lv});ie({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ce(e[0],"size").value,token:i}}});ie({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=bF(Ce(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Pv,mathmlBuilder:Lv});var BA=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?qe(t.sup,e.havingStyle(n.sup()),e):qe(t.sub,e.havingStyle(n.sub()),e),i=Ce(t.base,"horizBrace")):i=Ce(t,"horizBrace");var s=qe(i.base,e.havingBaseStyle(me.DISPLAY)),a=gs.svgSpan(i,e),o;if(i.isOver?(o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=G.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=G.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return G.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},Bq=(t,e)=>{var n=gs.mathMLnode(t.label);return new W.MathNode(t.isOver?"mover":"munder",[tt(t.base,e),n])};ie({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:BA,mathmlBuilder:Bq});ie({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ce(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Dt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=yn(t.body,e,!1);return G.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Aa(t.body,e);return n instanceof Or||(n=new Or("mrow",[n])),n.setAttribute("href",t.href),n}});ie({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ce(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Dt(o)}}});ie({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Dt(e[0])}},htmlBuilder(t,e){var n=yn(t.body,e,!1);return G.makeFragment(n)},mathmlBuilder(t,e){return new W.MathNode("mrow",br(t.body,e))}});ie({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ce(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),h=0;h<c.length;h++){var f=c[h],d=f.indexOf("=");if(d<0)throw new ce("\\htmlData key/value '"+f+"' missing equals sign");var p=f.slice(0,d),_=f.slice(d+1);l["data-"+p.trim()]=_}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:Dt(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=yn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=G.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Aa(t.body,e)});ie({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Dt(e[0]),mathml:Dt(e[1])}},htmlBuilder:(t,e)=>{var n=yn(t.html,e,!1);return G.makeFragment(n)},mathmlBuilder:(t,e)=>Aa(t.mathml,e)});var Zp=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ce("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!BF(r))throw new ce("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ie({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var l=Ce(n[0],"raw").string,c=l.split(","),h=0;h<c.length;h++){var f=c[h].split("=");if(f.length===2){var d=f[1].trim();switch(f[0].trim()){case"alt":o=d;break;case"width":i=Zp(d);break;case"height":s=Zp(d);break;case"totalheight":a=Zp(d);break;default:throw new ce("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var p=Ce(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=bt(t.height,e),r=0;t.totalheight.number>0&&(r=bt(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=bt(t.width,e));var s={height:te(n+r)};i>0&&(s.width=te(i)),r>0&&(s.verticalAlign=te(-r));var a=new FF(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=bt(t.height,e),i=0;if(t.totalheight.number>0&&(i=bt(t.totalheight,e)-r,n.setAttribute("valign",te(-i))),n.setAttribute("height",te(r+i)),t.width.number>0){var s=bt(t.width,e);n.setAttribute("width",te(s))}return n.setAttribute("src",t.src),n}});ie({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ce(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return G.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=bt(t.dimension,e);return new W.SpaceNode(n)}});ie({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=G.makeSpan([],[qe(t.body,e)]),n=G.makeSpan(["inner"],[n],e)):n=G.makeSpan(["inner"],[qe(t.body,e)]);var r=G.makeSpan(["fix"],[]),i=G.makeSpan([t.alignment],[n,r],e),s=G.makeSpan(["strut"]);return s.style.height=te(i.height+i.depth),i.depth&&(s.style.verticalAlign=te(-i.depth)),i.children.unshift(s),i=G.makeSpan(["thinbox"],[i],e),G.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[tt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ie({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});ie({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ce("Mismatched "+t.funcName)}});var V7=(t,e)=>{switch(e.style.size){case me.DISPLAY.size:return t.display;case me.TEXT.size:return t.text;case me.SCRIPT.size:return t.script;case me.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ie({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Dt(e[0]),text:Dt(e[1]),script:Dt(e[2]),scriptscript:Dt(e[3])}},htmlBuilder:(t,e)=>{var n=V7(t,e),r=yn(n,e,!1);return G.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=V7(t,e);return Aa(n,e)}});var jA=(t,e,n,r,i,s,a)=>{t=G.makeSpan([],[t]);var o=n&&Ze.isCharacterBox(n),l,c;if(e){var h=qe(e,r.havingStyle(i.sup()),r);c={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var f=qe(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var d;if(c&&l){var p=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;d=G.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:te(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:te(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var _=t.height-a;d=G.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:te(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var E=t.depth+a;d=G.makeVList({positionType:"bottom",positionData:E,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:te(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var M=[d];if(l&&s!==0&&!o){var b=G.makeSpan(["mspace"],[],r);b.style.marginRight=te(s),M.unshift(b)}return G.makeSpan(["mop","op-limits"],M,r)},FA=["\\smallint"],pu=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ce(t.base,"op"),i=!0):s=Ce(t,"op");var a=e.style,o=!1;a.size===me.DISPLAY.size&&s.symbol&&!FA.includes(s.name)&&(o=!0);var l;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),l=G.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var f=l.italic,d=G.staticSvg(h+"Size"+(o?"2":"1"),e);l=G.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:o?.08:0}]},e),s.name="\\"+h,l.classes.unshift("mop"),l.italic=f}}else if(s.body){var p=yn(s.body,e,!0);p.length===1&&p[0]instanceof _i?(l=p[0],l.classes[0]="mop"):l=G.makeSpan(["mop"],p,e)}else{for(var _=[],E=1;E<s.name.length;E++)_.push(G.mathsym(s.name[E],s.mode,e));l=G.makeSpan(["mop"],_,e)}var M=0,b=0;return(l instanceof _i||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(M=(l.height-l.depth)/2-e.fontMetrics().axisHeight,b=l.italic),i?jA(l,n,r,e,a,b,M):(M&&(l.style.position="relative",l.style.top=te(M)),l)},P0=(t,e)=>{var n;if(t.symbol)n=new Or("mo",[jr(t.name,t.mode)]),FA.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Or("mo",br(t.body,e));else{n=new Or("mi",[new ci(t.name.slice(1))]);var r=new Or("mo",[jr("","text")]);t.parentIsSupSub?n=new Or("mrow",[n,r]):n=bA([n,r])}return n},jq={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ie({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=jq[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:pu,mathmlBuilder:P0});ie({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Dt(r)}},htmlBuilder:pu,mathmlBuilder:P0});var Fq={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ie({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:pu,mathmlBuilder:P0});ie({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:pu,mathmlBuilder:P0});ie({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=Fq[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:pu,mathmlBuilder:P0});var qA=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ce(t.base,"operatorname"),i=!0):s=Ce(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(f=>{var d=f.text;return typeof d=="string"?{type:"textord",mode:f.mode,text:d}:f}),l=yn(o,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof _i&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=G.makeSpan(["mop"],l,e)}else a=G.makeSpan(["mop"],[],e);return i?jA(a,n,r,e,e.style,0,0):a},qq=(t,e)=>{for(var n=br(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof W.SpaceNode))if(s instanceof W.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof W.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(h=>h.toText()).join("");n=[new W.TextNode(o)]}var l=new W.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new W.MathNode("mo",[jr("","text")]);return t.parentIsSupSub?new W.MathNode("mrow",[l,c]):W.newDocumentFragment([l,c])};ie({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Dt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:qA,mathmlBuilder:qq});C("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Do({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?G.makeFragment(yn(t.body,e,!1)):G.makeSpan(["mord"],yn(t.body,e,!0),e)},mathmlBuilder(t,e){return Aa(t.body,e,!0)}});ie({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=qe(t.body,e.havingCrampedStyle()),r=G.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return G.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("mover",[tt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ie({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Dt(r)}},htmlBuilder:(t,e)=>{var n=yn(t.body,e.withPhantom(),!1);return G.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=br(t.body,e);return new W.MathNode("mphantom",n)}});ie({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=G.makeSpan([],[qe(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),G.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=br(Dt(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ie({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=G.makeSpan(["inner"],[qe(t.body,e.withPhantom())]),r=G.makeSpan(["fix"],[]);return G.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=br(Dt(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ie({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ce(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=qe(t.body,e),r=bt(t.dy,e);return G.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new W.MathNode("mpadded",[tt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ie({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ie({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ce(e[0],"size"),a=Ce(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ce(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=G.makeSpan(["mord","rule"],[],e),r=bt(t.width,e),i=bt(t.height,e),s=t.shift?bt(t.shift,e):0;return n.style.borderRightWidth=te(r),n.style.borderTopWidth=te(i),n.style.bottom=te(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=bt(t.width,e),r=bt(t.height,e),i=t.shift?bt(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new W.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",te(n)),a.setAttribute("height",te(r));var o=new W.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",te(i)):(o.setAttribute("height",te(i)),o.setAttribute("depth",te(-i))),o.setAttribute("voffset",te(i)),o}});function HA(t,e,n){for(var r=yn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return G.makeFragment(r)}var U7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Hq=(t,e)=>{var n=e.havingSize(t.size);return HA(t.body,n,e)};ie({type:"sizing",names:U7,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:U7.indexOf(r)+1,body:s}},htmlBuilder:Hq,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=br(t.body,n),i=new W.MathNode("mstyle",r);return i.setAttribute("mathsize",te(n.sizeMultiplier)),i}});ie({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&Ce(n[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var c=a.body[l];if(o=c.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=G.makeSpan([],[qe(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return G.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[tt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ie({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=qe(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=G.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<me.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=n.height+n.depth+a+i,{span:l,ruleWidth:c,advanceWidth:h}=as.sqrtImage(o,e),f=l.height-c;f>n.height+n.depth+a&&(a=(a+f-n.height-n.depth)/2);var d=l.height-n.height-a-c;n.style.paddingLeft=te(h);var p=G.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var _=e.havingStyle(me.SCRIPTSCRIPT),E=qe(t.index,_,e),M=.6*(p.height-p.depth),b=G.makeVList({positionType:"shift",positionData:-M,children:[{type:"elem",elem:E}]},e),S=G.makeSpan(["root"],[b]);return G.makeSpan(["mord","sqrt"],[S,p],e)}else return G.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new W.MathNode("mroot",[tt(n,e),tt(r,e)]):new W.MathNode("msqrt",[tt(n,e)])}});var B7={display:me.DISPLAY,text:me.TEXT,script:me.SCRIPT,scriptscript:me.SCRIPTSCRIPT};ie({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=B7[t.style],r=e.havingStyle(n).withFont("");return HA(t.body,r,e)},mathmlBuilder(t,e){var n=B7[t.style],r=e.havingStyle(n),i=br(t.body,r),s=new W.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var Gq=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===me.DISPLAY.size||r.alwaysHandleSupSub);return i?pu:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===me.DISPLAY.size||r.limits);return s?qA:null}else{if(r.type==="accent")return Ze.isCharacterBox(r.base)?Mv:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?BA:null}else return null}else return null};Do({type:"supsub",htmlBuilder(t,e){var n=Gq(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=qe(r,e),o,l,c=e.fontMetrics(),h=0,f=0,d=r&&Ze.isCharacterBox(r);if(i){var p=e.havingStyle(e.style.sup());o=qe(i,p,e),d||(h=a.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(s){var _=e.havingStyle(e.style.sub());l=qe(s,_,e),d||(f=a.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var E;e.style===me.DISPLAY?E=c.sup1:e.style.cramped?E=c.sup3:E=c.sup2;var M=e.sizeMultiplier,b=te(.5/c.ptPerEm/M),S=null;if(l){var x=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof _i||x)&&(S=te(-a.italic))}var O;if(o&&l){h=Math.max(h,E,o.depth+.25*c.xHeight),f=Math.max(f,c.sub2);var V=c.defaultRuleThickness,H=4*V;if(h-o.depth-(l.height-f)<H){f=H-(h-o.depth)+l.height;var k=.8*c.xHeight-(h-o.depth);k>0&&(h+=k,f-=k)}var w=[{type:"elem",elem:l,shift:f,marginRight:b,marginLeft:S},{type:"elem",elem:o,shift:-h,marginRight:b}];O=G.makeVList({positionType:"individualShift",children:w},e)}else if(l){f=Math.max(f,c.sub1,l.height-.8*c.xHeight);var R=[{type:"elem",elem:l,marginLeft:S,marginRight:b}];O=G.makeVList({positionType:"shift",positionData:f,children:R},e)}else if(o)h=Math.max(h,E,o.depth+.25*c.xHeight),O=G.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var D=e4(a,"right")||"mord";return G.makeSpan([D],[a,G.makeSpan(["msupsub"],[O])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[tt(t.base,e)];t.sub&&s.push(tt(t.sub,e)),t.sup&&s.push(tt(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===me.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===me.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===me.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===me.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===me.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===me.DISPLAY)?a="mover":a="msup"}return new W.MathNode(a,s)}});Do({type:"atom",htmlBuilder(t,e){return G.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new W.MathNode("mo",[jr(t.text,t.mode)]);if(t.family==="bin"){var r=Cv(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var GA={mi:"italic",mn:"normal",mtext:"normal"};Do({type:"mathord",htmlBuilder(t,e){return G.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new W.MathNode("mi",[jr(t.text,t.mode,e)]),r=Cv(t,e)||"italic";return r!==GA[n.type]&&n.setAttribute("mathvariant",r),n}});Do({type:"textord",htmlBuilder(t,e){return G.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=jr(t.text,t.mode,e),r=Cv(t,e)||"normal",i;return t.mode==="text"?i=new W.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new W.MathNode("mn",[n]):t.text==="\\prime"?i=new W.MathNode("mo",[n]):i=new W.MathNode("mi",[n]),r!==GA[i.type]&&i.setAttribute("mathvariant",r),i}});var Kp={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Yp={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Do({type:"spacing",htmlBuilder(t,e){if(Yp.hasOwnProperty(t.text)){var n=Yp[t.text].className||"";if(t.mode==="text"){var r=G.makeOrd(t,e,"textord");return r.classes.push(n),r}else return G.makeSpan(["mspace",n],[G.mathsym(t.text,t.mode,e)],e)}else{if(Kp.hasOwnProperty(t.text))return G.makeSpan(["mspace",Kp[t.text]],[],e);throw new ce('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Yp.hasOwnProperty(t.text))n=new W.MathNode("mtext",[new W.TextNode("")]);else{if(Kp.hasOwnProperty(t.text))return new W.MathNode("mspace");throw new ce('Unknown type of space "'+t.text+'"')}return n}});var j7=()=>{var t=new W.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Do({type:"tag",mathmlBuilder(t,e){var n=new W.MathNode("mtable",[new W.MathNode("mtr",[j7(),new W.MathNode("mtd",[Aa(t.body,e)]),j7(),new W.MathNode("mtd",[Aa(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var F7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},q7={"\\textbf":"textbf","\\textmd":"textmd"},$q={"\\textit":"textit","\\textup":"textup"},H7=(t,e)=>{var n=t.font;if(n){if(F7[n])return e.withTextFontFamily(F7[n]);if(q7[n])return e.withTextFontWeight(q7[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape($q[n])};ie({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Dt(i),font:r}},htmlBuilder(t,e){var n=H7(t,e),r=yn(t.body,n,!0);return G.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=H7(t,e);return Aa(t.body,n)}});ie({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=qe(t.body,e),r=G.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=G.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return G.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("munder",[tt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ie({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=qe(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return G.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new W.MathNode("mpadded",[tt(t.body,e)],["vcenter"])}});ie({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ce("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=G7(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(G.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return G.makeSpan(["mord","text"].concat(i.sizingClasses(e)),G.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new W.TextNode(G7(t)),r=new W.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var G7=t=>t.body.replace(/ /g,t.star?"":""),Zq=yA;C("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});C("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});C("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});C("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});C("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});C("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");C("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var $7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};C("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ce("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=$7[e.text],r==null||r>=n)throw new ce("Invalid base-"+n+" digit "+e.text);for(var i;(i=$7[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var Vv=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new ce("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new ce("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!n)throw new ce("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ce("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&r||t.macros.set(s,{tokens:i,numArgs:o}),""};C("\\newcommand",t=>Vv(t,!1,!0,!1));C("\\renewcommand",t=>Vv(t,!0,!1,!1));C("\\providecommand",t=>Vv(t,!0,!0,!0));C("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});C("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});C("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Zq[n],zt.math[n],zt.text[n]),""});C("\\bgroup","{");C("\\egroup","}");C("~","\\nobreakspace");C("\\lq","`");C("\\rq","'");C("\\aa","\\r a");C("\\AA","\\r A");C("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");C("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");C("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");C("","\\mathscr{B}");C("","\\mathscr{E}");C("","\\mathscr{F}");C("","\\mathscr{H}");C("","\\mathscr{I}");C("","\\mathscr{L}");C("","\\mathscr{M}");C("","\\mathscr{R}");C("","\\mathfrak{C}");C("","\\mathfrak{H}");C("","\\mathfrak{Z}");C("\\Bbbk","\\Bbb{k}");C("","\\cdotp");C("\\llap","\\mathllap{\\textrm{#1}}");C("\\rlap","\\mathrlap{\\textrm{#1}}");C("\\clap","\\mathclap{\\textrm{#1}}");C("\\mathstrut","\\vphantom{(}");C("\\underbar","\\underline{\\text{#1}}");C("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');C("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");C("\\ne","\\neq");C("","\\neq");C("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");C("","\\notin");C("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");C("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");C("","\\perp");C("","\\mathclose{!\\mkern-0.8mu!}");C("","\\notni");C("","\\ulcorner");C("","\\urcorner");C("","\\llcorner");C("","\\lrcorner");C("","\\copyright");C("","\\textregistered");C("","\\textregistered");C("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');C("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');C("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');C("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');C("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");C("","\\vdots");C("\\varGamma","\\mathit{\\Gamma}");C("\\varDelta","\\mathit{\\Delta}");C("\\varTheta","\\mathit{\\Theta}");C("\\varLambda","\\mathit{\\Lambda}");C("\\varXi","\\mathit{\\Xi}");C("\\varPi","\\mathit{\\Pi}");C("\\varSigma","\\mathit{\\Sigma}");C("\\varUpsilon","\\mathit{\\Upsilon}");C("\\varPhi","\\mathit{\\Phi}");C("\\varPsi","\\mathit{\\Psi}");C("\\varOmega","\\mathit{\\Omega}");C("\\substack","\\begin{subarray}{c}#1\\end{subarray}");C("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");C("\\boxed","\\fbox{$\\displaystyle{#1}$}");C("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");C("\\implies","\\DOTSB\\;\\Longrightarrow\\;");C("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");C("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");C("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Z7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};C("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Z7?e=Z7[n]:(n.slice(0,4)==="\\not"||n in zt.math&&["bin","rel"].includes(zt.math[n].group))&&(e="\\dotsb"),e});var Uv={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};C("\\dotso",function(t){var e=t.future().text;return e in Uv?"\\ldots\\,":"\\ldots"});C("\\dotsc",function(t){var e=t.future().text;return e in Uv&&e!==","?"\\ldots\\,":"\\ldots"});C("\\cdots",function(t){var e=t.future().text;return e in Uv?"\\@cdots\\,":"\\@cdots"});C("\\dotsb","\\cdots");C("\\dotsm","\\cdots");C("\\dotsi","\\!\\cdots");C("\\dotsx","\\ldots\\,");C("\\DOTSI","\\relax");C("\\DOTSB","\\relax");C("\\DOTSX","\\relax");C("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");C("\\,","\\tmspace+{3mu}{.1667em}");C("\\thinspace","\\,");C("\\>","\\mskip{4mu}");C("\\:","\\tmspace+{4mu}{.2222em}");C("\\medspace","\\:");C("\\;","\\tmspace+{5mu}{.2777em}");C("\\thickspace","\\;");C("\\!","\\tmspace-{3mu}{.1667em}");C("\\negthinspace","\\!");C("\\negmedspace","\\tmspace-{4mu}{.2222em}");C("\\negthickspace","\\tmspace-{5mu}{.277em}");C("\\enspace","\\kern.5em ");C("\\enskip","\\hskip.5em\\relax");C("\\quad","\\hskip1em\\relax");C("\\qquad","\\hskip2em\\relax");C("\\tag","\\@ifstar\\tag@literal\\tag@paren");C("\\tag@paren","\\tag@literal{({#1})}");C("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ce("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});C("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");C("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");C("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");C("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");C("\\newline","\\\\\\relax");C("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var $A=te(es["Main-Regular"][84][1]-.7*es["Main-Regular"][65][1]);C("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+$A+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");C("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+$A+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");C("\\hspace","\\@ifstar\\@hspacer\\@hspace");C("\\@hspace","\\hskip #1\\relax");C("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");C("\\ordinarycolon",":");C("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");C("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');C("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');C("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');C("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');C("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');C("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');C("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');C("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');C("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');C("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');C("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');C("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');C("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');C("","\\dblcolon");C("","\\eqcolon");C("","\\coloneqq");C("","\\eqqcolon");C("","\\Coloneqq");C("\\ratio","\\vcentcolon");C("\\coloncolon","\\dblcolon");C("\\colonequals","\\coloneqq");C("\\coloncolonequals","\\Coloneqq");C("\\equalscolon","\\eqqcolon");C("\\equalscoloncolon","\\Eqqcolon");C("\\colonminus","\\coloneq");C("\\coloncolonminus","\\Coloneq");C("\\minuscolon","\\eqcolon");C("\\minuscoloncolon","\\Eqcolon");C("\\coloncolonapprox","\\Colonapprox");C("\\coloncolonsim","\\Colonsim");C("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");C("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");C("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");C("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");C("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");C("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");C("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");C("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");C("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");C("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");C("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");C("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");C("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");C("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");C("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");C("\\ngeqq","\\html@mathml{\\@ngeqq}{}");C("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");C("\\nleqq","\\html@mathml{\\@nleqq}{}");C("\\nleqslant","\\html@mathml{\\@nleqslant}{}");C("\\nshortmid","\\html@mathml{\\@nshortmid}{}");C("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");C("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");C("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");C("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");C("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");C("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");C("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");C("\\imath","\\html@mathml{\\@imath}{}");C("\\jmath","\\html@mathml{\\@jmath}{}");C("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");C("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");C("","\\llbracket");C("","\\rrbracket");C("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");C("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");C("","\\lBrace");C("","\\rBrace");C("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");C("","\\minuso");C("\\darr","\\downarrow");C("\\dArr","\\Downarrow");C("\\Darr","\\Downarrow");C("\\lang","\\langle");C("\\rang","\\rangle");C("\\uarr","\\uparrow");C("\\uArr","\\Uparrow");C("\\Uarr","\\Uparrow");C("\\N","\\mathbb{N}");C("\\R","\\mathbb{R}");C("\\Z","\\mathbb{Z}");C("\\alef","\\aleph");C("\\alefsym","\\aleph");C("\\Alpha","\\mathrm{A}");C("\\Beta","\\mathrm{B}");C("\\bull","\\bullet");C("\\Chi","\\mathrm{X}");C("\\clubs","\\clubsuit");C("\\cnums","\\mathbb{C}");C("\\Complex","\\mathbb{C}");C("\\Dagger","\\ddagger");C("\\diamonds","\\diamondsuit");C("\\empty","\\emptyset");C("\\Epsilon","\\mathrm{E}");C("\\Eta","\\mathrm{H}");C("\\exist","\\exists");C("\\harr","\\leftrightarrow");C("\\hArr","\\Leftrightarrow");C("\\Harr","\\Leftrightarrow");C("\\hearts","\\heartsuit");C("\\image","\\Im");C("\\infin","\\infty");C("\\Iota","\\mathrm{I}");C("\\isin","\\in");C("\\Kappa","\\mathrm{K}");C("\\larr","\\leftarrow");C("\\lArr","\\Leftarrow");C("\\Larr","\\Leftarrow");C("\\lrarr","\\leftrightarrow");C("\\lrArr","\\Leftrightarrow");C("\\Lrarr","\\Leftrightarrow");C("\\Mu","\\mathrm{M}");C("\\natnums","\\mathbb{N}");C("\\Nu","\\mathrm{N}");C("\\Omicron","\\mathrm{O}");C("\\plusmn","\\pm");C("\\rarr","\\rightarrow");C("\\rArr","\\Rightarrow");C("\\Rarr","\\Rightarrow");C("\\real","\\Re");C("\\reals","\\mathbb{R}");C("\\Reals","\\mathbb{R}");C("\\Rho","\\mathrm{P}");C("\\sdot","\\cdot");C("\\sect","\\S");C("\\spades","\\spadesuit");C("\\sub","\\subset");C("\\sube","\\subseteq");C("\\supe","\\supseteq");C("\\Tau","\\mathrm{T}");C("\\thetasym","\\vartheta");C("\\weierp","\\wp");C("\\Zeta","\\mathrm{Z}");C("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");C("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");C("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");C("\\bra","\\mathinner{\\langle{#1}|}");C("\\ket","\\mathinner{|{#1}\\rangle}");C("\\braket","\\mathinner{\\langle{#1}\\rangle}");C("\\Bra","\\left\\langle#1\\right|");C("\\Ket","\\left|#1\\right\\rangle");var ZA=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=f=>d=>{t&&(d.macros.set("|",a),i.length&&d.macros.set("\\|",o));var p=f;if(!f&&i.length){var _=d.future();_.text==="|"&&(d.popToken(),p=!0)}return{tokens:p?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,h=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};C("\\bra@ket",ZA(!1));C("\\bra@set",ZA(!0));C("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");C("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");C("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");C("\\angln","{\\angl n}");C("\\blue","\\textcolor{##6495ed}{#1}");C("\\orange","\\textcolor{##ffa500}{#1}");C("\\pink","\\textcolor{##ff00af}{#1}");C("\\red","\\textcolor{##df0030}{#1}");C("\\green","\\textcolor{##28ae7b}{#1}");C("\\gray","\\textcolor{gray}{#1}");C("\\purple","\\textcolor{##9d38bd}{#1}");C("\\blueA","\\textcolor{##ccfaff}{#1}");C("\\blueB","\\textcolor{##80f6ff}{#1}");C("\\blueC","\\textcolor{##63d9ea}{#1}");C("\\blueD","\\textcolor{##11accd}{#1}");C("\\blueE","\\textcolor{##0c7f99}{#1}");C("\\tealA","\\textcolor{##94fff5}{#1}");C("\\tealB","\\textcolor{##26edd5}{#1}");C("\\tealC","\\textcolor{##01d1c1}{#1}");C("\\tealD","\\textcolor{##01a995}{#1}");C("\\tealE","\\textcolor{##208170}{#1}");C("\\greenA","\\textcolor{##b6ffb0}{#1}");C("\\greenB","\\textcolor{##8af281}{#1}");C("\\greenC","\\textcolor{##74cf70}{#1}");C("\\greenD","\\textcolor{##1fab54}{#1}");C("\\greenE","\\textcolor{##0d923f}{#1}");C("\\goldA","\\textcolor{##ffd0a9}{#1}");C("\\goldB","\\textcolor{##ffbb71}{#1}");C("\\goldC","\\textcolor{##ff9c39}{#1}");C("\\goldD","\\textcolor{##e07d10}{#1}");C("\\goldE","\\textcolor{##a75a05}{#1}");C("\\redA","\\textcolor{##fca9a9}{#1}");C("\\redB","\\textcolor{##ff8482}{#1}");C("\\redC","\\textcolor{##f9685d}{#1}");C("\\redD","\\textcolor{##e84d39}{#1}");C("\\redE","\\textcolor{##bc2612}{#1}");C("\\maroonA","\\textcolor{##ffbde0}{#1}");C("\\maroonB","\\textcolor{##ff92c6}{#1}");C("\\maroonC","\\textcolor{##ed5fa6}{#1}");C("\\maroonD","\\textcolor{##ca337c}{#1}");C("\\maroonE","\\textcolor{##9e034e}{#1}");C("\\purpleA","\\textcolor{##ddd7ff}{#1}");C("\\purpleB","\\textcolor{##c6b9fc}{#1}");C("\\purpleC","\\textcolor{##aa87ff}{#1}");C("\\purpleD","\\textcolor{##7854ab}{#1}");C("\\purpleE","\\textcolor{##543b78}{#1}");C("\\mintA","\\textcolor{##f5f9e8}{#1}");C("\\mintB","\\textcolor{##edf2df}{#1}");C("\\mintC","\\textcolor{##e0e5cc}{#1}");C("\\grayA","\\textcolor{##f6f7f7}{#1}");C("\\grayB","\\textcolor{##f0f1f2}{#1}");C("\\grayC","\\textcolor{##e3e5e6}{#1}");C("\\grayD","\\textcolor{##d6d8da}{#1}");C("\\grayE","\\textcolor{##babec2}{#1}");C("\\grayF","\\textcolor{##888d93}{#1}");C("\\grayG","\\textcolor{##626569}{#1}");C("\\grayH","\\textcolor{##3b3e40}{#1}");C("\\grayI","\\textcolor{##21242c}{#1}");C("\\kaBlue","\\textcolor{##314453}{#1}");C("\\kaGreen","\\textcolor{##71B307}{#1}");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.");/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:KA,setPrototypeOf:K7,isFrozen:Kq,getPrototypeOf:Yq,getOwnPropertyDescriptor:Xq}=Object;let{freeze:Bn,seal:Fr,create:r4}=Object,{apply:i4,construct:s4}=typeof Reflect<"u"&&Reflect;Bn||(Bn=function(e){return e});Fr||(Fr=function(e){return e});i4||(i4=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});s4||(s4=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const Lh=jn(Array.prototype.forEach),Qq=jn(Array.prototype.lastIndexOf),Y7=jn(Array.prototype.pop),Xu=jn(Array.prototype.push),Wq=jn(Array.prototype.splice),yf=jn(String.prototype.toLowerCase),Xp=jn(String.prototype.toString),Qp=jn(String.prototype.match),Qu=jn(String.prototype.replace),Jq=jn(String.prototype.indexOf),eH=jn(String.prototype.trim),Yr=jn(Object.prototype.hasOwnProperty),In=jn(RegExp.prototype.test),Wu=tH(TypeError);function jn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return i4(t,e,r)}}function tH(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return s4(t,n)}}function Ie(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yf;K7&&K7(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(Kq(e)||(e[r]=s),i=s)}t[i]=!0}return t}function nH(t){for(let e=0;e<t.length;e++)Yr(t,e)||(t[e]=null);return t}function ii(t){const e=r4(null);for(const[n,r]of KA(t))Yr(t,n)&&(Array.isArray(r)?e[n]=nH(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ii(r):e[n]=r);return e}function Ju(t,e){for(;t!==null;){const r=Xq(t,e);if(r){if(r.get)return jn(r.get);if(typeof r.value=="function")return jn(r.value)}t=Yq(t)}function n(){return null}return n}const X7=Bn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wp=Bn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jp=Bn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rH=Bn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),e1=Bn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),iH=Bn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Q7=Bn(["#text"]),W7=Bn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),t1=Bn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),J7=Bn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vh=Bn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),sH=Fr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),aH=Fr(/<%[\w\W]*|[\w\W]*%>/gm),oH=Fr(/\$\{[\w\W]*/gm),lH=Fr(/^data-[\-\w.\u00B7-\uFFFF]+$/),uH=Fr(/^aria-[\-\w]+$/),YA=Fr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cH=Fr(/^(?:\w+script|data):/i),hH=Fr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XA=Fr(/^html$/i),fH=Fr(/^[a-z][.\w]*(-[.\w]+)+$/i);var e8=Object.freeze({__proto__:null,ARIA_ATTR:uH,ATTR_WHITESPACE:hH,CUSTOM_ELEMENT:fH,DATA_ATTR:lH,DOCTYPE_NAME:XA,ERB_EXPR:aH,IS_ALLOWED_URI:YA,IS_SCRIPT_OR_DATA:cH,MUSTACHE_EXPR:sH,TMPLIT_EXPR:oH});const ec={element:1,text:3,progressingInstruction:7,comment:8,document:9},dH=function(){return typeof window>"u"?null:window},mH=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},t8=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function QA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dH();const e=ue=>QA(ue);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==ec.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,_=l.prototype,E=Ju(_,"cloneNode"),M=Ju(_,"remove"),b=Ju(_,"nextSibling"),S=Ju(_,"childNodes"),x=Ju(_,"parentNode");if(typeof a=="function"){const ue=n.createElement("template");ue.content&&ue.content.ownerDocument&&(n=ue.content.ownerDocument)}let O,V="";const{implementation:H,createNodeIterator:k,createDocumentFragment:w,getElementsByTagName:R}=n,{importNode:D}=r;let z=t8();e.isSupported=typeof KA=="function"&&typeof x=="function"&&H&&H.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:I,TMPLIT_EXPR:fe,DATA_ATTR:Ne,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:re,ATTR_WHITESPACE:ae,CUSTOM_ELEMENT:xe}=e8;let{IS_ALLOWED_URI:Ae}=e8,De=null;const Le=Ie({},[...X7,...Wp,...Jp,...e1,...Q7]);let Te=null;const vn=Ie({},[...W7,...t1,...J7,...Vh]);let Me=Object.seal(r4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ni=null,Cn=null;const kn=Object.seal(r4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ri=!0,rr=!0,Ci=!1,Ts=!0,_r=!1,Tr=!0,Hn=!1,ki=!1,Mi=!1,ir=!1,Sr=!1,Ss=!1,_u=!0,F0=!1;const Tu="user-content-";let Ia=!0,ws=!1,gt={},nt=null;const As=Ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Su=null;const wu=Ie({},["audio","video","img","source","image","track"]);let Au=null;const Es=Ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Da="http://www.w3.org/1998/Math/MathML",Oa="http://www.w3.org/2000/svg",sr="http://www.w3.org/1999/xhtml";let xs=sr,Eu=!1,za=null;const q0=Ie({},[Da,Oa,sr],Xp);let Pa=Ie({},["mi","mo","mn","ms","mtext"]),ri=Ie({},["annotation-xml"]);const xu=Ie({},["title","style","font","a","script"]);let Ni=null;const Ii=["application/xhtml+xml","text/html"],H0="text/html";let ht=null,Di=null;const La=n.createElement("form"),Ru=function(B){return B instanceof RegExp||B instanceof Function},Gt=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Di&&Di===B)){if((!B||typeof B!="object")&&(B={}),B=ii(B),Ni=Ii.indexOf(B.PARSER_MEDIA_TYPE)===-1?H0:B.PARSER_MEDIA_TYPE,ht=Ni==="application/xhtml+xml"?Xp:yf,De=Yr(B,"ALLOWED_TAGS")?Ie({},B.ALLOWED_TAGS,ht):Le,Te=Yr(B,"ALLOWED_ATTR")?Ie({},B.ALLOWED_ATTR,ht):vn,za=Yr(B,"ALLOWED_NAMESPACES")?Ie({},B.ALLOWED_NAMESPACES,Xp):q0,Au=Yr(B,"ADD_URI_SAFE_ATTR")?Ie(ii(Es),B.ADD_URI_SAFE_ATTR,ht):Es,Su=Yr(B,"ADD_DATA_URI_TAGS")?Ie(ii(wu),B.ADD_DATA_URI_TAGS,ht):wu,nt=Yr(B,"FORBID_CONTENTS")?Ie({},B.FORBID_CONTENTS,ht):As,ni=Yr(B,"FORBID_TAGS")?Ie({},B.FORBID_TAGS,ht):ii({}),Cn=Yr(B,"FORBID_ATTR")?Ie({},B.FORBID_ATTR,ht):ii({}),gt=Yr(B,"USE_PROFILES")?B.USE_PROFILES:!1,Ri=B.ALLOW_ARIA_ATTR!==!1,rr=B.ALLOW_DATA_ATTR!==!1,Ci=B.ALLOW_UNKNOWN_PROTOCOLS||!1,Ts=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_r=B.SAFE_FOR_TEMPLATES||!1,Tr=B.SAFE_FOR_XML!==!1,Hn=B.WHOLE_DOCUMENT||!1,ir=B.RETURN_DOM||!1,Sr=B.RETURN_DOM_FRAGMENT||!1,Ss=B.RETURN_TRUSTED_TYPE||!1,Mi=B.FORCE_BODY||!1,_u=B.SANITIZE_DOM!==!1,F0=B.SANITIZE_NAMED_PROPS||!1,Ia=B.KEEP_CONTENT!==!1,ws=B.IN_PLACE||!1,Ae=B.ALLOWED_URI_REGEXP||YA,xs=B.NAMESPACE||sr,Pa=B.MATHML_TEXT_INTEGRATION_POINTS||Pa,ri=B.HTML_INTEGRATION_POINTS||ri,Me=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&Ru(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Me.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&Ru(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Me.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Me.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_r&&(rr=!1),Sr&&(ir=!0),gt&&(De=Ie({},Q7),Te=[],gt.html===!0&&(Ie(De,X7),Ie(Te,W7)),gt.svg===!0&&(Ie(De,Wp),Ie(Te,t1),Ie(Te,Vh)),gt.svgFilters===!0&&(Ie(De,Jp),Ie(Te,t1),Ie(Te,Vh)),gt.mathMl===!0&&(Ie(De,e1),Ie(Te,J7),Ie(Te,Vh))),B.ADD_TAGS&&(typeof B.ADD_TAGS=="function"?kn.tagCheck=B.ADD_TAGS:(De===Le&&(De=ii(De)),Ie(De,B.ADD_TAGS,ht))),B.ADD_ATTR&&(typeof B.ADD_ATTR=="function"?kn.attributeCheck=B.ADD_ATTR:(Te===vn&&(Te=ii(Te)),Ie(Te,B.ADD_ATTR,ht))),B.ADD_URI_SAFE_ATTR&&Ie(Au,B.ADD_URI_SAFE_ATTR,ht),B.FORBID_CONTENTS&&(nt===As&&(nt=ii(nt)),Ie(nt,B.FORBID_CONTENTS,ht)),B.ADD_FORBID_CONTENTS&&(nt===As&&(nt=ii(nt)),Ie(nt,B.ADD_FORBID_CONTENTS,ht)),Ia&&(De["#text"]=!0),Hn&&Ie(De,["html","head","body"]),De.table&&(Ie(De,["tbody"]),delete ni.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Wu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=B.TRUSTED_TYPES_POLICY,V=O.createHTML("")}else O===void 0&&(O=mH(p,i)),O!==null&&typeof V=="string"&&(V=O.createHTML(""));Bn&&Bn(B),Di=B}},Cu=Ie({},[...Wp,...Jp,...rH]),Rs=Ie({},[...e1,...iH]),Va=function(B){let Q=x(B);(!Q||!Q.tagName)&&(Q={namespaceURI:xs,tagName:"template"});const oe=yf(B.tagName),rt=yf(Q.tagName);return za[B.namespaceURI]?B.namespaceURI===Oa?Q.namespaceURI===sr?oe==="svg":Q.namespaceURI===Da?oe==="svg"&&(rt==="annotation-xml"||Pa[rt]):!!Cu[oe]:B.namespaceURI===Da?Q.namespaceURI===sr?oe==="math":Q.namespaceURI===Oa?oe==="math"&&ri[rt]:!!Rs[oe]:B.namespaceURI===sr?Q.namespaceURI===Oa&&!ri[rt]||Q.namespaceURI===Da&&!Pa[rt]?!1:!Rs[oe]&&(xu[oe]||!Cu[oe]):!!(Ni==="application/xhtml+xml"&&za[B.namespaceURI]):!1},wr=function(B){Xu(e.removed,{element:B});try{x(B).removeChild(B)}catch{M(B)}},Oi=function(B,Q){try{Xu(e.removed,{attribute:Q.getAttributeNode(B),from:Q})}catch{Xu(e.removed,{attribute:null,from:Q})}if(Q.removeAttribute(B),B==="is")if(ir||Sr)try{wr(Q)}catch{}else try{Q.setAttribute(B,"")}catch{}},zi=function(B){let Q=null,oe=null;if(Mi)B="<remove></remove>"+B;else{const yt=Qp(B,/^[\r\n\t ]+/);oe=yt&&yt[0]}Ni==="application/xhtml+xml"&&xs===sr&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const rt=O?O.createHTML(B):B;if(xs===sr)try{Q=new d().parseFromString(rt,Ni)}catch{}if(!Q||!Q.documentElement){Q=H.createDocument(xs,"template",null);try{Q.documentElement.innerHTML=Eu?V:rt}catch{}}const Mt=Q.body||Q.documentElement;return B&&oe&&Mt.insertBefore(n.createTextNode(oe),Mt.childNodes[0]||null),xs===sr?R.call(Q,Hn?"html":"body")[0]:Hn?Q.documentElement:Mt},G0=function(B){return k.call(B.ownerDocument||B,B,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},ku=function(B){return B instanceof f&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof h)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},Ua=function(B){return typeof o=="function"&&B instanceof o};function Ar(ue,B,Q){Lh(ue,oe=>{oe.call(e,B,Q,Di)})}const Oo=function(B){let Q=null;if(Ar(z.beforeSanitizeElements,B,null),ku(B))return wr(B),!0;const oe=ht(B.nodeName);if(Ar(z.uponSanitizeElement,B,{tagName:oe,allowedTags:De}),Tr&&B.hasChildNodes()&&!Ua(B.firstElementChild)&&In(/<[/\w!]/g,B.innerHTML)&&In(/<[/\w!]/g,B.textContent)||B.nodeType===ec.progressingInstruction||Tr&&B.nodeType===ec.comment&&In(/<[/\w]/g,B.data))return wr(B),!0;if(!(kn.tagCheck instanceof Function&&kn.tagCheck(oe))&&(!De[oe]||ni[oe])){if(!ni[oe]&&Gr(oe)&&(Me.tagNameCheck instanceof RegExp&&In(Me.tagNameCheck,oe)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(oe)))return!1;if(Ia&&!nt[oe]){const rt=x(B)||B.parentNode,Mt=S(B)||B.childNodes;if(Mt&&rt){const yt=Mt.length;for(let Jt=yt-1;Jt>=0;--Jt){const Mn=E(Mt[Jt],!0);Mn.__removalCount=(B.__removalCount||0)+1,rt.insertBefore(Mn,b(B))}}}return wr(B),!0}return B instanceof l&&!Va(B)||(oe==="noscript"||oe==="noembed"||oe==="noframes")&&In(/<\/no(script|embed|frames)/i,B.innerHTML)?(wr(B),!0):(_r&&B.nodeType===ec.text&&(Q=B.textContent,Lh([U,I,fe],rt=>{Q=Qu(Q,rt," ")}),B.textContent!==Q&&(Xu(e.removed,{element:B.cloneNode()}),B.textContent=Q)),Ar(z.afterSanitizeElements,B,null),!1)},Ba=function(B,Q,oe){if(_u&&(Q==="id"||Q==="name")&&(oe in n||oe in La))return!1;if(!(rr&&!Cn[Q]&&In(Ne,Q))){if(!(Ri&&In(J,Q))){if(!(kn.attributeCheck instanceof Function&&kn.attributeCheck(Q,B))){if(!Te[Q]||Cn[Q]){if(!(Gr(B)&&(Me.tagNameCheck instanceof RegExp&&In(Me.tagNameCheck,B)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(B))&&(Me.attributeNameCheck instanceof RegExp&&In(Me.attributeNameCheck,Q)||Me.attributeNameCheck instanceof Function&&Me.attributeNameCheck(Q,B))||Q==="is"&&Me.allowCustomizedBuiltInElements&&(Me.tagNameCheck instanceof RegExp&&In(Me.tagNameCheck,oe)||Me.tagNameCheck instanceof Function&&Me.tagNameCheck(oe))))return!1}else if(!Au[Q]){if(!In(Ae,Qu(oe,ae,""))){if(!((Q==="src"||Q==="xlink:href"||Q==="href")&&B!=="script"&&Jq(oe,"data:")===0&&Su[B])){if(!(Ci&&!In(re,Qu(oe,ae,"")))){if(oe)return!1}}}}}}}return!0},Gr=function(B){return B!=="annotation-xml"&&Qp(B,xe)},Mu=function(B){Ar(z.beforeSanitizeAttributes,B,null);const{attributes:Q}=B;if(!Q||ku(B))return;const oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Te,forceKeepAttr:void 0};let rt=Q.length;for(;rt--;){const Mt=Q[rt],{name:yt,namespaceURI:Jt,value:Mn}=Mt,Gn=ht(yt),ja=Mn;let $t=yt==="value"?ja:eH(ja);if(oe.attrName=Gn,oe.attrValue=$t,oe.keepAttr=!0,oe.forceKeepAttr=void 0,Ar(z.uponSanitizeAttribute,B,oe),$t=oe.attrValue,F0&&(Gn==="id"||Gn==="name")&&(Oi(yt,B),$t=Tu+$t),Tr&&In(/((--!?|])>)|<\/(style|title|textarea)/i,$t)){Oi(yt,B);continue}if(Gn==="attributename"&&Qp($t,"href")){Oi(yt,B);continue}if(oe.forceKeepAttr)continue;if(!oe.keepAttr){Oi(yt,B);continue}if(!Ts&&In(/\/>/i,$t)){Oi(yt,B);continue}_r&&Lh([U,I,fe],Iu=>{$t=Qu($t,Iu," ")});const Nu=ht(B.nodeName);if(!Ba(Nu,Gn,$t)){Oi(yt,B);continue}if(O&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Jt)switch(p.getAttributeType(Nu,Gn)){case"TrustedHTML":{$t=O.createHTML($t);break}case"TrustedScriptURL":{$t=O.createScriptURL($t);break}}if($t!==ja)try{Jt?B.setAttributeNS(Jt,yt,$t):B.setAttribute(yt,$t),ku(B)?wr(B):Y7(e.removed)}catch{Oi(yt,B)}}Ar(z.afterSanitizeAttributes,B,null)},$0=function ue(B){let Q=null;const oe=G0(B);for(Ar(z.beforeSanitizeShadowDOM,B,null);Q=oe.nextNode();)Ar(z.uponSanitizeShadowNode,Q,null),Oo(Q),Mu(Q),Q.content instanceof s&&ue(Q.content);Ar(z.afterSanitizeShadowDOM,B,null)};return e.sanitize=function(ue){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=null,oe=null,rt=null,Mt=null;if(Eu=!ue,Eu&&(ue="<!-->"),typeof ue!="string"&&!Ua(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw Wu("dirty is not a string, aborting")}else throw Wu("toString is not a function");if(!e.isSupported)return ue;if(ki||Gt(B),e.removed=[],typeof ue=="string"&&(ws=!1),ws){if(ue.nodeName){const Mn=ht(ue.nodeName);if(!De[Mn]||ni[Mn])throw Wu("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof o)Q=zi("<!---->"),oe=Q.ownerDocument.importNode(ue,!0),oe.nodeType===ec.element&&oe.nodeName==="BODY"||oe.nodeName==="HTML"?Q=oe:Q.appendChild(oe);else{if(!ir&&!_r&&!Hn&&ue.indexOf("<")===-1)return O&&Ss?O.createHTML(ue):ue;if(Q=zi(ue),!Q)return ir?null:Ss?V:""}Q&&Mi&&wr(Q.firstChild);const yt=G0(ws?ue:Q);for(;rt=yt.nextNode();)Oo(rt),Mu(rt),rt.content instanceof s&&$0(rt.content);if(ws)return ue;if(ir){if(Sr)for(Mt=w.call(Q.ownerDocument);Q.firstChild;)Mt.appendChild(Q.firstChild);else Mt=Q;return(Te.shadowroot||Te.shadowrootmode)&&(Mt=D.call(r,Mt,!0)),Mt}let Jt=Hn?Q.outerHTML:Q.innerHTML;return Hn&&De["!doctype"]&&Q.ownerDocument&&Q.ownerDocument.doctype&&Q.ownerDocument.doctype.name&&In(XA,Q.ownerDocument.doctype.name)&&(Jt="<!DOCTYPE "+Q.ownerDocument.doctype.name+`>
`+Jt),_r&&Lh([U,I,fe],Mn=>{Jt=Qu(Jt,Mn," ")}),O&&Ss?O.createHTML(Jt):Jt},e.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gt(ue),ki=!0},e.clearConfig=function(){Di=null,ki=!1},e.isValidAttribute=function(ue,B,Q){Di||Gt({});const oe=ht(ue),rt=ht(B);return Ba(oe,rt,Q)},e.addHook=function(ue,B){typeof B=="function"&&Xu(z[ue],B)},e.removeHook=function(ue,B){if(B!==void 0){const Q=Qq(z[ue],B);return Q===-1?void 0:Wq(z[ue],Q,1)[0]}return Y7(z[ue])},e.removeHooks=function(ue){z[ue]=[]},e.removeAllHooks=function(){z=t8()},e}QA();const $s=qr("Storage"),a4="magic-internet-math-progress",n1=2;function WA(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function pH(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const n=e.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const r=e.streak;return!(typeof r.currentStreak!="number"||typeof r.longestStreak!="number")}function Ad(){if(!WA())return $s.warn("localStorage is not available"),null;try{const t=localStorage.getItem(a4);if(!t)return null;const e=JSON.parse(t);return pH(e)?(e.version!==n1&&($s.info(`Migrating state from v${e.version} to v${n1}`),e.version=n1),e):($s.warn("Invalid gamification state structure in localStorage"),null)}catch(t){$s.error("Failed to load gamification state:",t);try{localStorage.removeItem(a4),$s.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Bv(t){if(!WA()){$s.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(a4,JSON.stringify(t))}catch(e){$s.error("Failed to save gamification state:",e)}}function gH(){const t=Ad();t&&(t.migratedToServer=!0,Bv(t),$s.info("Marked progress as migrated to server"))}function yH(){const t=Ad();if(!t)return!1;const e=t.user.totalXP>0||Object.keys(t.sections).length>0,n=!t.migratedToServer;return e&&n}function JA(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:vH(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:iA,completed:!1},lastUpdated:t}}function vH(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const bH=50;function n8(t){return Math.round(t/bH*100)}const _H=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>n8(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>n8(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function TH(t){const e=[];for(const n of _H){const r=t.achievements.find(s=>s.id===n.id);if(r!=null&&r.unlockedAt)continue;n.check(t)>=n.target&&e.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return e}function L0(t){for(let e=yd.length-1;e>=0;e--)if(t>=yd[e])return e+1;return 1}function SH(t,e){const n={easy:xn.QUIZ_EASY,medium:xn.QUIZ_MEDIUM,hard:xn.QUIZ_HARD}[t];return Math.round(n*(e/100))}const wH=1e3*60*60*24;function AH(t){const e=new Date,n=e.toISOString().split("T")[0],r=t.streak.lastActivityDate;if(t.dailyGoals.date!==n&&(t={...t,dailyGoals:{date:n,xpEarned:0,xpGoal:iA,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!r)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:n}};const i=new Date(r),s=Math.floor((e.getTime()-i.getTime())/wH);if(s===0)return t;if(s===1){const a=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:a,longestStreak:Math.max(a,t.streak.longestStreak),lastActivityDate:n}}}return s===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:n}}}function eE(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const n=Math.max(...e.map(s=>s.score)),r=e.reduce((s,a)=>s+a.score,0)/e.length;return e.filter(s=>s.score===100).length>=1||r>=90&&e.length>=3?"mastered":n>=80||r>=70&&e.length>=2?"familiar":"learning"}const jv=qr("GamificationReducer");function EH(t,e,n){const r=t.sections[e];if(r!=null&&r.visitedAt)return t;const i=t.user.totalXP+xn.SECTION_VISIT;return{...t,user:{...t.user,totalXP:i,level:L0(i)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:n,completedAt:(r==null?void 0:r.completedAt)??null,timeSpentSeconds:(r==null?void 0:r.timeSpentSeconds)??0,quizAttempts:(r==null?void 0:r.quizAttempts)??[],masteryLevel:(r==null?void 0:r.masteryLevel)??"learning",visualizationsInteracted:(r==null?void 0:r.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+xn.SECTION_VISIT},lastUpdated:n}}function xH(t,e,n){const r=t.sections[e];if(r!=null&&r.completedAt)return t;if(!r)return jv.warn(`Attempted to complete unvisited section: ${e}`),t;const i=t.user.totalXP+xn.SECTION_COMPLETE,s=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:i,level:L0(i),sectionsCompleted:s},sections:{...t.sections,[e]:{...r,completedAt:n,masteryLevel:eE(r)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+xn.SECTION_COMPLETE},lastUpdated:n}}function RH(t,e,n){const{sectionId:r,difficulty:i,score:s,correctAnswers:a,totalQuestions:o}=e,l=t.sections[r];if(!l)return jv.warn(`Section ${r} was not visited before quiz`),t;const c=SH(i,s),h=a===o,f=h?Math.round(c*(1+xn.QUIZ_PERFECT_BONUS)):c,d=t.user.totalXP+f,p={timestamp:n,difficulty:i,score:s,correctAnswers:a,totalQuestions:o,xpEarned:f},_=[...l.quizAttempts,p],E={...l,quizAttempts:_},M=eE(E),b=s>=80&&!l.completedAt,S=b&&!t.user.sectionsCompleted.includes(r),x=S?xn.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:d+x,level:L0(d+x),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:h?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:S?[...t.user.sectionsCompleted,r]:t.user.sectionsCompleted},sections:{...t.sections,[r]:{...E,masteryLevel:M,completedAt:b?l.completedAt||n:l.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+f+x},lastUpdated:n}}function CH(t,e,n,r){const i=t.sections[e];if(i!=null&&i.visualizationsInteracted.includes(n))return t;if(!i)return jv.warn(`Section ${e} was not visited before visualization`),t;const s=t.user.totalXP+xn.VISUALIZATION_USE,a=[...i.visualizationsInteracted,n];return{...t,user:{...t.user,totalXP:s,level:L0(s),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...i,visualizationsInteracted:a}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+xn.VISUALIZATION_USE},lastUpdated:r}}function kH(t,e,n){let r=zn.GAME_PARTICIPATION;const i=zn.TIER_MULTIPLIER[e.tier],s=Math.floor(Math.max(0,e.score)/zn.POINTS_PER_XP_UNIT*xn.QUIZ_MEDIUM*i);if(r+=s,e.correctAnswers===e.totalQuestions&&e.totalQuestions>=10&&(r+=zn.PERFECT_GAME_BONUS),e.fastAnswers>=10&&(r+=zn.SPEED_DEMON_BONUS),e.maxStreak>=10&&(r+=zn.STREAK_MASTER_BONUS),e.isMultiplayer&&e.placement)switch(e.placement){case 1:r+=zn.FIRST_PLACE_BONUS;break;case 2:r+=zn.SECOND_PLACE_BONUS;break;case 3:r+=zn.THIRD_PLACE_BONUS;break}const a=t.user.totalXP+r,o=t.racingStats,l=e.score>((o==null?void 0:o.highScore)??0),c=e.isMultiplayer&&e.placement===1,h={gamesPlayed:((o==null?void 0:o.gamesPlayed)??0)+1,multiplayerGamesPlayed:((o==null?void 0:o.multiplayerGamesPlayed)??0)+(e.isMultiplayer?1:0),totalPoints:((o==null?void 0:o.totalPoints)??0)+Math.max(0,e.score),highScore:l?e.score:(o==null?void 0:o.highScore)??0,highestTierUnlocked:Math.max((o==null?void 0:o.highestTierUnlocked)??1,e.tier),longestStreak:Math.max((o==null?void 0:o.longestStreak)??0,e.maxStreak),fastAnswers:((o==null?void 0:o.fastAnswers)??0)+e.fastAnswers,totalCorrect:((o==null?void 0:o.totalCorrect)??0)+e.correctAnswers,totalAttempted:((o==null?void 0:o.totalAttempted)??0)+e.totalQuestions,multiplayerWins:((o==null?void 0:o.multiplayerWins)??0)+(c?1:0),lastPlayedAt:n},f=t.achievements.map(d=>{if(d.unlockedAt)return d;switch(d.id){case"racing-rookie":if(h.gamesPlayed>=1)return{...d,progress:1,unlockedAt:n};break;case"speed-demon":return h.fastAnswers>=50?{...d,progress:50,unlockedAt:n}:{...d,progress:Math.min(h.fastAnswers,50)};case"streak-legend":return h.longestStreak>=20?{...d,progress:20,unlockedAt:n}:{...d,progress:Math.min(h.longestStreak,20)};case"tier-climber":return h.highestTierUnlocked>=6?{...d,progress:6,unlockedAt:n}:{...d,progress:h.highestTierUnlocked};case"modular-master":return h.totalPoints>=1e4?{...d,progress:1e4,unlockedAt:n}:{...d,progress:Math.min(h.totalPoints,1e4)};case"multiplayer-champion":return h.multiplayerWins>=5?{...d,progress:5,unlockedAt:n}:{...d,progress:Math.min(h.multiplayerWins,5)}}return d});return{...t,user:{...t.user,totalXP:a,level:L0(a)},racingStats:h,achievements:f,dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+r},lastUpdated:n}}function MH(t,e){const n=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"LOAD_FROM_SERVER":return{...e.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...e.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...t,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return EH(t,e.payload.sectionId,n);case"COMPLETE_SECTION":return xH(t,e.payload.sectionId,n);case"RECORD_QUIZ":return RH(t,e.payload,n);case"USE_VISUALIZATION":return CH(t,e.payload.sectionId,e.payload.name,n);case"UPDATE_STREAK":return AH(t);case"RESET_PROGRESS":return JA();case"RECORD_RACE_GAME":return kH(t,e.payload,n);default:return t}}const NH=["none","learning","familiar","mastered"];function r8(t){return NH.indexOf(t)}function IH(t,e){return r8(t)>=r8(e)?t:e}function o4(t,e){return t?e?new Date(t)<new Date(e)?t:e:t:e}function DH(t,e){const n=new Set,r=[];for(const i of[...t,...e]){const s=`${i.timestamp}-${i.difficulty}-${i.score}`;n.has(s)||(n.add(s),r.push(i))}return r.sort((i,s)=>new Date(i.timestamp).getTime()-new Date(s.timestamp).getTime())}function OH(t,e){return t?e?{sectionId:t.sectionId,visitedAt:o4(t.visitedAt,e.visitedAt),completedAt:o4(t.completedAt,e.completedAt),timeSpentSeconds:Math.max(t.timeSpentSeconds,e.timeSpentSeconds),quizAttempts:DH(t.quizAttempts,e.quizAttempts),masteryLevel:IH(t.masteryLevel,e.masteryLevel),visualizationsInteracted:[...new Set([...t.visualizationsInteracted,...e.visualizationsInteracted])]}:t:e}function zH(t,e){const n=new Set([...Object.keys(t),...Object.keys(e)]),r={};for(const i of n){const s=OH(t[i],e[i]);s&&(r[i]=s)}return r}function PH(t,e){return{totalXP:Math.max(t.totalXP,e.totalXP),level:Math.max(t.level,e.level),sectionsCompleted:[...new Set([...t.sectionsCompleted,...e.sectionsCompleted])],partsCompleted:[...new Set([...t.partsCompleted,...e.partsCompleted])],quizzesTaken:Math.max(t.quizzesTaken,e.quizzesTaken),perfectQuizzes:Math.max(t.perfectQuizzes,e.perfectQuizzes),visualizationsUsed:Math.max(t.visualizationsUsed,e.visualizationsUsed),totalTimeSpentMinutes:Math.max(t.totalTimeSpentMinutes,e.totalTimeSpentMinutes),joinedAt:o4(t.joinedAt,e.joinedAt)||t.joinedAt}}function LH(t,e){const n=new Map;for(const r of[...e,...t]){const i=n.get(r.id);i?(r.unlockedAt&&!i.unlockedAt||!r.unlockedAt&&!i.unlockedAt&&r.progress>i.progress)&&n.set(r.id,r):n.set(r.id,r)}return Array.from(n.values())}function VH(t,e){return{...t.longestStreak>=e.longestStreak?t:e,longestStreak:Math.max(t.longestStreak,e.longestStreak),freezesRemaining:Math.max(t.freezesRemaining,e.freezesRemaining)}}function UH(t,e){return t.date>e.date?t:e.date>t.date?e:{date:t.date,xpEarned:Math.max(t.xpEarned,e.xpEarned),xpGoal:t.xpGoal,completed:t.completed||e.completed}}function BH(t,e){return{version:Math.max(t.version,e.version),user:PH(t.user,e.user),sections:zH(t.sections,e.sections),achievements:LH(t.achievements,e.achievements),streak:VH(t.streak,e.streak),dailyGoals:UH(t.dailyGoals,e.dailyGoals),lastUpdated:new Date().toISOString()}}const qi=qr("ProgressSync");class jH{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(e){return this.statusListeners.add(e),()=>this.statusListeners.delete(e)}setStatus(e){this._status=e;for(const n of this.statusListeners)n(e)}setAuthenticated(e){this.isAuthenticated=e,e||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(e){this.lastSyncedAt=e}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Sn())return qi.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const e=Wr(),r=await Rr(e,"getProgress")({});return r.data.found&&r.data.progress&&(this.lastSyncedAt=r.data.lastSyncedAt,qi.info("Fetched progress from server")),r.data}catch(e){return qi.error("Failed to fetch progress from server:",e),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};qi.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let r;n.found&&n.progress?(qi.info("Server has existing progress, merging with local"),r=BH(e,n.progress)):r=e;const i=await this.syncNow(r);return i.success?(qi.info("Migration complete"),{success:!0,state:i.state||r,merged:n.found}):i}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},Sw),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(e){this.isAuthenticated&&(this.pendingState=e,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(e)},ww))}async syncNow(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Sn())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<Tw)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const r=Wr(),s=await Rr(r,"syncProgress")({progress:e,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(qi.info("Server merged states due to conflict"),Bv(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:e,merged:!1})}catch(r){return qi.error("Sync failed:",r),this.setStatus("error"),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async syncWithRetry(e,n=3){for(let r=0;r<n;r++){const i=await this.syncNow(e);if(i.success||i.error==="Not authenticated"||i.error==="Firebase not configured")return i;if(r<n-1){const s=1e3*Math.pow(2,r);qi.debug(`Sync retry ${r+1}/${n} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let r1=null;function i8(){return r1||(r1=new jH),r1}const Os=qr("GamificationProgress"),FH=500,qH=()=>{var t,e;return!!((e=(t=window.webkit)==null?void 0:t.messageHandlers)!=null&&e.progressHandler)},Uh=(t,e)=>{const n=qH();console.log(`[iOS Bridge] postToiOS called: type=${t}, inWebView=${n}`,e),n&&(console.log("[iOS Bridge] Sending message to iOS..."),window.webkit.messageHandlers.progressHandler.postMessage({type:t,...e}),console.log("[iOS Bridge] Message sent successfully"))},tE=F.createContext(null);function HH({children:t,courseId:e}){const[n,r]=F.useReducer(MH,JA()),[i,s]=F.useState(!0),[a,o]=F.useState([]),[l,c]=F.useState("idle"),h=F.useRef(null),f=F.useRef(!1),d=F.useRef(!1),{isAuthenticated:p,npub:_}=aA(),E=F.useCallback(w=>`${e}:${w}`,[e]);F.useEffect(()=>{const w=Ad();w&&r({type:"LOAD_STATE",payload:w}),p||s(!1)},[]),F.useEffect(()=>{const w=i8(),R=w.onStatusChange(c),D=d.current;return d.current=p,p&&!D?(Os.info("User authenticated, fetching progress from server"),w.setAuthenticated(!0),(async()=>{s(!0);try{const U=yH(),I=Ad();if(U&&I){Os.info("Migrating local progress to server");const fe=await w.migrateLocalProgress(I);fe.success&&fe.state?(r({type:"MERGE_WITH_SERVER",payload:fe.state}),gH(),Os.info("Migration complete")):Os.warn("Migration failed, using local state")}else{const fe=await w.fetchServerProgress();fe.found&&fe.progress?(Os.info("Loaded progress from server"),r({type:"LOAD_FROM_SERVER",payload:fe.progress}),w.setLastSyncedAt(fe.lastSyncedAt)):Os.info("No server progress found, using local state")}}catch(U){Os.error("Failed to sync with server:",U)}finally{s(!1),f.current=!0}})(),w.startPeriodicSync()):!p&&D?(Os.info("User logged out"),w.setAuthenticated(!1),w.stopPeriodicSync(),f.current=!1):p||s(!1),()=>{R()}},[p,_]),F.useEffect(()=>{i||(Bv(n),p&&f.current&&i8().requestSync(n))},[n,i,p]),F.useEffect(()=>{i||r({type:"UPDATE_STREAK"})},[i]),F.useEffect(()=>{if(!i)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{const w=TH(n);w.length>0&&o(R=>[...R,...w])},FH),()=>{h.current&&clearTimeout(h.current)}},[n,i]);const M=F.useCallback(w=>{r({type:"VISIT_SECTION",payload:{sectionId:E(w)}})},[E]),b=F.useCallback(w=>{r({type:"COMPLETE_SECTION",payload:{sectionId:E(w)}}),Uh("sectionCompleted",{sectionId:E(w),courseId:e})},[E,e]),S=F.useCallback((w,R,D,z,U)=>{const I=E(w);r({type:"RECORD_QUIZ",payload:{sectionId:I,difficulty:R,score:D,correctAnswers:z,totalQuestions:U}}),Uh("quizCompleted",{sectionId:I,courseId:e,score:D,correctAnswers:z,totalQuestions:U}),D>=80&&Uh("sectionCompleted",{sectionId:I,courseId:e})},[E,e]),x=F.useCallback((w,R)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:E(w),name:R}})},[E]),O=F.useCallback(w=>{o(R=>R.filter(D=>D.id!==w))},[]),V=F.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),H=F.useCallback(w=>{r({type:"RECORD_RACE_GAME",payload:w}),Uh("raceGameCompleted",{courseId:e,score:w.score,tier:w.tier,correctAnswers:w.correctAnswers,totalQuestions:w.totalQuestions,isMultiplayer:w.isMultiplayer})},[e]),k=F.useMemo(()=>({state:n,isLoading:i,notifications:a,syncStatus:l,visitSection:M,completeSection:b,recordQuiz:S,useVisualization:x,dismissNotification:O,resetProgress:V,recordRaceGame:H,dispatch:r}),[n,i,a,l,M,b,S,x,O,V,H,r]);return A.jsx(tE.Provider,{value:k,children:t})}function nE(){const t=F.useContext(tE);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}function GH({children:t}){return A.jsx(HH,{courseId:yM,children:t})}const Fv=F.createContext({});function qv(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hv=typeof window<"u",rE=Hv?F.useLayoutEffect:F.useEffect,wm=F.createContext(null);function Gv(t,e){t.indexOf(e)===-1&&t.push(e)}function $v(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ys=(t,e,n)=>n>e?e:n<t?t:n;let Zv=()=>{};const vs={},iE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sE(t){return typeof t=="object"&&t!==null}const aE=t=>/^0[^.\s]+$/u.test(t);function Kv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ur=t=>t,$H=(t,e)=>n=>e(t(n)),V0=(...t)=>t.reduce($H),u0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Yv{constructor(){this.subscriptions=[]}add(e){return Gv(this.subscriptions,e),()=>$v(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gi=t=>t*1e3,Pr=t=>t/1e3;function oE(t,e){return e?t*(1e3/e):0}const lE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZH=1e-7,KH=12;function YH(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=lE(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>ZH&&++o<KH);return a}function U0(t,e,n,r){if(t===e&&n===r)return Ur;const i=s=>YH(s,0,1,t,n);return s=>s===0||s===1?s:lE(i(s),e,r)}const uE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cE=t=>e=>1-t(1-e),hE=U0(.33,1.53,.69,.99),Xv=cE(hE),fE=uE(Xv),dE=t=>(t*=2)<1?.5*Xv(t):.5*(2-Math.pow(2,-10*(t-1))),Qv=t=>1-Math.sin(Math.acos(t)),mE=cE(Qv),pE=uE(Qv),XH=U0(.42,0,1,1),QH=U0(0,0,.58,1),gE=U0(.42,0,.58,1),WH=t=>Array.isArray(t)&&typeof t[0]!="number",yE=t=>Array.isArray(t)&&typeof t[0]=="number",JH={linear:Ur,easeIn:XH,easeInOut:gE,easeOut:QH,circIn:Qv,circInOut:pE,circOut:mE,backIn:Xv,backInOut:fE,backOut:hE,anticipate:dE},eG=t=>typeof t=="string",s8=t=>{if(yE(t)){Zv(t.length===4);const[e,n,r,i]=t;return U0(e,n,r,i)}else if(eG(t))return JH[t];return t},Bh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tG(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){a.has(h)&&(c.schedule(h),t()),h(o)}const c={schedule:(h,f=!1,d=!1)=>{const _=d&&i?n:r;return f&&a.add(h),_.has(h)||_.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const nG=40;function vE(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Bh.reduce((x,O)=>(x[O]=tG(s),x),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:d,render:p,postRender:_}=a,E=()=>{const x=vs.useManualTiming?i.timestamp:performance.now();n=!1,vs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,nG),1)),i.timestamp=x,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),p.process(i),_.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(E))},M=()=>{n=!0,r=!0,i.isProcessing||t(E)};return{schedule:Bh.reduce((x,O)=>{const V=a[O];return x[O]=(H,k=!1,w=!1)=>(n||M(),V.schedule(H,k,w)),x},{}),cancel:x=>{for(let O=0;O<Bh.length;O++)a[Bh[O]].cancel(x)},state:i,steps:a}}const{schedule:dt,cancel:Ea,state:on,steps:i1}=vE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ur,!0);let vf;function rG(){vf=void 0}const Qn={now:()=>(vf===void 0&&Qn.set(on.isProcessing||vs.useManualTiming?on.timestamp:performance.now()),vf),set:t=>{vf=t,queueMicrotask(rG)}},bE=t=>e=>typeof e=="string"&&e.startsWith(t),_E=bE("--"),iG=bE("var(--"),Wv=t=>iG(t)?sG.test(t.split("/*")[0].trim()):!1,sG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},c0={...gu,transform:t=>ys(0,1,t)},jh={...gu,default:1},Oc=t=>Math.round(t*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aG(t){return t==null}const oG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e2=(t,e)=>n=>!!(typeof n=="string"&&oG.test(n)&&n.startsWith(t)||e&&!aG(n)&&Object.prototype.hasOwnProperty.call(n,e)),TE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(Jv);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},lG=t=>ys(0,255,t),s1={...gu,transform:t=>Math.round(lG(t))},no={test:e2("rgb","red"),parse:TE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+s1.transform(t)+", "+s1.transform(e)+", "+s1.transform(n)+", "+Oc(c0.transform(r))+")"};function uG(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const l4={test:e2("#"),parse:uG,transform:no.transform},B0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zs=B0("deg"),yi=B0("%"),ve=B0("px"),cG=B0("vh"),hG=B0("vw"),a8={...yi,parse:t=>yi.parse(t)/100,transform:t=>yi.transform(t*100)},ll={test:e2("hsl","hue"),parse:TE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+yi.transform(Oc(e))+", "+yi.transform(Oc(n))+", "+Oc(c0.transform(r))+")"},Ut={test:t=>no.test(t)||l4.test(t)||ll.test(t),parse:t=>no.test(t)?no.parse(t):ll.test(t)?ll.parse(t):l4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):ll.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},fG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jv))==null?void 0:e.length)||0)+(((n=t.match(fG))==null?void 0:n.length)||0)>0}const SE="number",wE="color",mG="var",pG="var(",o8="${}",gG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function h0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(gG,l=>(Ut.test(l)?(r.color.push(s),i.push(wE),n.push(Ut.parse(l))):l.startsWith(pG)?(r.var.push(s),i.push(mG),n.push(l)):(r.number.push(s),i.push(SE),n.push(parseFloat(l))),++s,o8)).split(o8);return{values:n,split:o,indexes:r,types:i}}function AE(t){return h0(t).values}function EE(t){const{split:e,types:n}=h0(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===SE?s+=Oc(i[a]):o===wE?s+=Ut.transform(i[a]):s+=i[a]}return s}}const yG=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function vG(t){const e=AE(t);return EE(t)(e.map(yG))}const xa={test:dG,parse:AE,createTransformer:EE,getAnimatableNone:vG};function a1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=a1(l,o,t+1/3),s=a1(l,o,t),a=a1(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Ed(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,o1=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},_G=[l4,no,ll],TG=t=>_G.find(e=>e.test(t));function l8(t){const e=TG(t);if(!e)return!1;let n=e.parse(t);return e===ll&&(n=bG(n)),n}const u8=(t,e)=>{const n=l8(t),r=l8(e);if(!n||!r)return Ed(t,e);const i={...n};return s=>(i.red=o1(n.red,r.red,s),i.green=o1(n.green,r.green,s),i.blue=o1(n.blue,r.blue,s),i.alpha=_t(n.alpha,r.alpha,s),no.transform(i))},u4=new Set(["none","hidden"]);function SG(t,e){return u4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wG(t,e){return n=>_t(t,e,n)}function t2(t){return typeof t=="number"?wG:typeof t=="string"?Wv(t)?Ed:Ut.test(t)?u8:xG:Array.isArray(t)?xE:typeof t=="object"?Ut.test(t)?u8:AG:Ed}function xE(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>t2(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function AG(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=t2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function EG(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const xG=(t,e)=>{const n=xa.createTransformer(e),r=h0(t),i=h0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?u4.has(t)&&!i.values.length||u4.has(e)&&!r.values.length?SG(t,e):V0(xE(EG(r,i),i.values),n):Ed(t,e)};function RE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):t2(t)(t,e)}const RG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Ea(e),now:()=>on.isProcessing?on.timestamp:Qn.now()}},CE=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xd=2e4;function n2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xd;)e+=n,r=t.next(e);return e>=xd?1/0:e}function CG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(n2(r),xd);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Pr(i)}}const kG=5;function kE(t,e,n){const r=Math.max(e-kG,0);return oE(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},l1=.001;function MG({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let i,s,a=1-e;a=ys(Et.minDamping,Et.maxDamping,a),t=ys(Et.minDuration,Et.maxDuration,Pr(t)),a<1?(i=c=>{const h=c*a,f=h*t,d=h-n,p=c4(c,a),_=Math.exp(-f);return l1-d/p*_},s=c=>{const f=c*a*t,d=f*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,_=Math.exp(-f),E=c4(Math.pow(c,2),a);return(-i(c)+l1>0?-1:1)*((d-p)*_)/E}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-l1+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const o=5/t,l=IG(i,s,o);if(t=gi(t),isNaN(l))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const NG=12;function IG(t,e,n){let r=n;for(let i=1;i<NG;i++)r=r-t(r)/e(r);return r}function c4(t,e){return t*Math.sqrt(1-e*e)}const DG=["duration","bounce"],OG=["stiffness","damping","mass"];function c8(t,e){return e.some(n=>t[n]!==void 0)}function zG(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!c8(t,OG)&&c8(t,DG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ys(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Et.mass,stiffness:i,damping:s}}else{const n=MG(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Rd(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:p}=zG({...n,velocity:-Pr(n.velocity||0)}),_=d||0,E=c/(2*Math.sqrt(l*h)),M=a-s,b=Pr(Math.sqrt(l/h)),S=Math.abs(M)<5;r||(r=S?Et.restSpeed.granular:Et.restSpeed.default),i||(i=S?Et.restDelta.granular:Et.restDelta.default);let x;if(E<1){const V=c4(b,E);x=H=>{const k=Math.exp(-E*b*H);return a-k*((_+E*b*M)/V*Math.sin(V*H)+M*Math.cos(V*H))}}else if(E===1)x=V=>a-Math.exp(-b*V)*(M+(_+b*M)*V);else{const V=b*Math.sqrt(E*E-1);x=H=>{const k=Math.exp(-E*b*H),w=Math.min(V*H,300);return a-k*((_+E*b*M)*Math.sinh(w)+V*M*Math.cosh(w))/V}}const O={calculatedDuration:p&&f||null,next:V=>{const H=x(V);if(p)o.done=V>=f;else{let k=V===0?_:0;E<1&&(k=V===0?gi(_):kE(x,V,H));const w=Math.abs(k)<=r,R=Math.abs(a-H)<=i;o.done=w&&R}return o.value=o.done?a:H,o},toString:()=>{const V=Math.min(n2(O),xd),H=CE(k=>O.next(V*k).value,V,30);return V+"ms "+H},toTransition:()=>{}};return O}Rd.applyToOptions=t=>{const e=CG(t,100,Rd);return t.ease=e.ease,t.duration=gi(e.duration),t.type="keyframes",t};function h4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},p=w=>o!==void 0&&w<o||l!==void 0&&w>l,_=w=>o===void 0?l:l===void 0||Math.abs(o-w)<Math.abs(l-w)?o:l;let E=n*e;const M=f+E,b=a===void 0?M:a(M);b!==M&&(E=b-f);const S=w=>-E*Math.exp(-w/r),x=w=>b+S(w),O=w=>{const R=S(w),D=x(w);d.done=Math.abs(R)<=c,d.value=d.done?b:D};let V,H;const k=w=>{p(d.value)&&(V=w,H=Rd({keyframes:[d.value,_(d.value)],velocity:kE(x,w,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:w=>{let R=!1;return!H&&V===void 0&&(R=!0,O(w),k(w)),V!==void 0&&w>=V?H.next(w-V):(!R&&O(w),d)}}}function PG(t,e,n){const r=[],i=n||vs.mix||RE,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ur:e;o=V0(l,o)}r.push(o)}return r}function LG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Zv(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=PG(e,r,i),l=o.length,c=h=>{if(a&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=u0(t[f],t[f+1],h);return o[f](d)};return n?h=>c(ys(t[0],t[s-1],h)):c}function VG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=u0(0,e,r);t.push(_t(n,1,i))}}function UG(t){const e=[0];return VG(e,t.length-1),e}function BG(t,e){return t.map(n=>n*e)}function jG(t,e){return t.map(()=>e||gE).splice(0,t.length-1)}function zc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=WH(r)?r.map(s8):s8(r),s={done:!1,value:e[0]},a=BG(n&&n.length===e.length?n:UG(e),t),o=LG(a,e,{ease:Array.isArray(i)?i:jG(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const FG=t=>t!==null;function r2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(FG),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const qG={decay:h4,inertia:h4,tween:zc,keyframes:zc,spring:Rd};function ME(t){typeof t.type=="string"&&(t.type=qG[t.type])}class i2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const HG=t=>t/100;class s2 extends i2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Qn.now()&&this.tick(Qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ME(e);const{type:n=zc,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||zc;l!==zc&&typeof o[0]!="number"&&(this.mixKeyframes=V0(HG,RE(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=n2(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:d,repeatDelay:p,type:_,onUpdate:E,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,O=r;if(f){const w=Math.min(this.currentTime,i)/o;let R=Math.floor(w),D=w%1;!D&&w>=1&&(D=1),D===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(d==="reverse"?(D=1-D,p&&(D-=p/o)):d==="mirror"&&(O=a)),x=ys(0,1,D)*o}const V=S?{done:!1,value:h[0]}:O.next(x);s&&(V.value=s(V.value));let{done:H}=V;!S&&l!==null&&(H=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return k&&_!==h4&&(V.value=r2(h,this.options,M,this.speed)),E&&E(V.value),k&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){var n;e=gi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=RG,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function GG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ro=t=>t*180/Math.PI,f4=t=>{const e=ro(Math.atan2(t[1],t[0]));return d4(e)},$G={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:f4,rotateZ:f4,skewX:t=>ro(Math.atan(t[1])),skewY:t=>ro(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},d4=t=>(t=t%360,t<0&&(t+=360),t),h8=f4,f8=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),d8=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f8,scaleY:d8,scale:t=>(f8(t)+d8(t))/2,rotateX:t=>d4(ro(Math.atan2(t[6],t[5]))),rotateY:t=>d4(ro(Math.atan2(-t[2],t[0]))),rotateZ:h8,rotate:h8,skewX:t=>ro(Math.atan(t[4])),skewY:t=>ro(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function m4(t){return t.includes("scale")?1:0}function p4(t,e){if(!t||t==="none")return m4(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=ZG,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$G,i=o}if(!i)return m4(e);const s=r[e],a=i[1].split(",").map(YG);return typeof s=="function"?s(a):a[s]}const KG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return p4(n,e)};function YG(t){return parseFloat(t.trim())}const yu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vu=new Set(yu),m8=t=>t===gu||t===ve,XG=new Set(["x","y","z"]),QG=yu.filter(t=>!XG.has(t));function WG(t){const e=[];return QG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>p4(e,"x"),y:(t,{transform:e})=>p4(e,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const fo=new Set;let g4=!1,y4=!1,v4=!1;function NE(){if(y4){const t=Array.from(fo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=WG(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}y4=!1,g4=!1,fo.forEach(t=>t.complete(v4)),fo.clear()}function IE(){fo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(y4=!0)})}function JG(){v4=!0,IE(),NE(),v4=!1}class a2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(fo.add(this),g4||(g4=!0,dt.read(IE),dt.resolveKeyframes(NE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}GG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fo.delete(this)}cancel(){this.state==="scheduled"&&(fo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const e$=t=>t.startsWith("--");function t$(t,e,n){e$(e)?t.style.setProperty(e,n):t.style[e]=n}const n$=Kv(()=>window.ScrollTimeline!==void 0),r$={};function i$(t,e){const n=Kv(t);return()=>r$[e]??n()}const DE=i$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,p8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dc([0,.65,.55,1]),circOut:dc([.55,0,1,.45]),backIn:dc([.31,.01,.66,-.59]),backOut:dc([.33,1.53,.69,.99])};function OE(t,e){if(t)return typeof t=="function"?DE()?CE(t,e):"ease-out":yE(t)?dc(t):Array.isArray(t)?t.map(n=>OE(n,e)||p8.easeOut):p8[t]}function s$(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=OE(o,i);Array.isArray(f)&&(h.easing=f);const d={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),t.animate(h,d)}function zE(t){return typeof t=="function"&&"applyToOptions"in t}function a$({type:t,...e}){return zE(t)&&DE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class o$ extends i2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Zv(typeof e.type!="string");const c=a$(e);this.animation=s$(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=r2(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):t$(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&n$()?(this.animation.timeline=e,Ur):n(this)}}const PE={anticipate:dE,backInOut:fE,circInOut:pE};function l$(t){return t in PE}function u$(t){typeof t.ease=="string"&&l$(t.ease)&&(t.ease=PE[t.ease])}const g8=10;class c$ extends o${constructor(e){u$(e),ME(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new s2({...a,autoplay:!1}),l=gi(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-g8).value,o.sample(l).value,g8),o.stop()}}const y8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function h$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function f$(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=y8(i,e),o=y8(s,e);return!a||!o?!1:h$(t)||(n==="spring"||zE(n))&&r}function b4(t){t.duration=0,t.type="keyframes"}const d$=new Set(["opacity","clipPath","filter","transform"]),m$=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function p$(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return m$()&&n&&d$.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const g$=40;class y$ extends i2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:h,...f}){var _;super(),this.stop=()=>{var E,M;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Qn.now();const d={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:h,...f},p=(h==null?void 0:h.KeyframeResolver)||a2;this.keyframeResolver=new p(o,(E,M,b)=>this.onKeyframesResolved(E,M,d,!b),l,c,h),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Qn.now(),f$(e,s,a,o)||((vs.instantAnimations||!l)&&(h==null||h(r2(e,r,n))),e[0]=e[e.length-1],b4(r),r.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>g$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&p$(d)?new c$({...d,element:d.motionValue.owner.current}):new s2(d);p.finished.then(()=>this.notifyFinished()).catch(Ur),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),JG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const v$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b$(t){const e=v$.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function LE(t,e,n=1){const[r,i]=b$(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return iE(a)?parseFloat(a):a}return Wv(i)?LE(i,e,n+1):i}function o2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const VE=new Set(["width","height","top","left","right","bottom",...yu]),_$={test:t=>t==="auto",parse:t=>t},UE=t=>e=>e.test(t),BE=[gu,ve,yi,zs,hG,cG,_$],v8=t=>BE.find(UE(t));function T$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aE(t):!0}const S$=new Set(["brightness","contrast","saturate","opacity"]);function w$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Jv)||[];if(!r)return t;const i=n.replace(r,"");let s=S$.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const A$=/\b([a-z-]*)\(.*?\)/gu,_4={...xa,getAnimatableNone:t=>{const e=t.match(A$);return e?e.map(w$).join(" "):t}},b8={...gu,transform:Math.round},E$={rotate:zs,rotateX:zs,rotateY:zs,rotateZ:zs,scale:jh,scaleX:jh,scaleY:jh,scaleZ:jh,skew:zs,skewX:zs,skewY:zs,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:c0,originX:a8,originY:a8,originZ:ve},l2={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...E$,zIndex:b8,fillOpacity:c0,strokeOpacity:c0,numOctaves:b8},x$={...l2,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:_4,WebkitFilter:_4},jE=t=>x$[t];function FE(t,e){let n=jE(t);return n!==_4&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const R$=new Set(["auto","none","0"]);function C$(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!R$.has(s)&&h0(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=FE(n,i)}class k$ extends a2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Wv(c))){const h=LE(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!VE.has(r)||e.length!==2)return;const[i,s]=e,a=v8(i),o=v8(s);if(a!==o)if(m8(a)&&m8(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else ho[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||T$(e[i]))&&r.push(i);r.length&&C$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ho[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function M$(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const qE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HE(t){return sE(t)&&"offsetHeight"in t}const _8=30,N$=t=>!isNaN(parseFloat(t));class I${constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Qn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=N$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yv);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_8);return oE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(t,e){return new I$(t,e)}const{schedule:u2}=vE(queueMicrotask,!1),Xr={x:!1,y:!1};function GE(){return Xr.x||Xr.y}function D$(t){return t==="x"||t==="y"?Xr[t]?null:(Xr[t]=!0,()=>{Xr[t]=!1}):Xr.x||Xr.y?null:(Xr.x=Xr.y=!0,()=>{Xr.x=Xr.y=!1})}function $E(t,e){const n=M$(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function T8(t){return!(t.pointerType==="touch"||GE())}function O$(t,e,n={}){const[r,i,s]=$E(t,n),a=o=>{if(!T8(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const h=f=>{T8(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const ZE=(t,e)=>e?t===e?!0:ZE(t,e.parentElement):!1,c2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,z$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P$(t){return z$.has(t.tagName)||t.tabIndex!==-1}const bf=new WeakSet;function S8(t){return e=>{e.key==="Enter"&&t(e)}}function u1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const L$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=S8(()=>{if(bf.has(n))return;u1(n,"down");const i=S8(()=>{u1(n,"up")}),s=()=>u1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function w8(t){return c2(t)&&!GE()}function V$(t,e,n={}){const[r,i,s]=$E(t,n),a=o=>{const l=o.currentTarget;if(!w8(o))return;bf.add(l);const c=e(l,o),h=(p,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),bf.has(l)&&bf.delete(l),w8(p)&&typeof c=="function"&&c(p,{success:_})},f=p=>{h(p,l===window||l===document||n.useGlobalTarget||ZE(l,p.target))},d=p=>{h(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),HE(o)&&(o.addEventListener("focus",c=>L$(c,i)),!P$(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function KE(t){return sE(t)&&"ownerSVGElement"in t}function U$(t){return KE(t)&&t.tagName==="svg"}const En=t=>!!(t&&t.getVelocity),B$=[...BE,Ut,xa],j$=t=>B$.find(UE(t)),h2=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function A8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function F$(...t){return e=>{let n=!1;const r=t.map(i=>{const s=A8(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():A8(t[i],null)}}}}function q$(...t){return F.useCallback(F$(...t),t)}class H$ extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=HE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G$({children:t,isPresent:e,anchorX:n,root:r}){const i=F.useId(),s=F.useRef(null),a=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=F.useContext(h2),l=q$(s,t==null?void 0:t.ref);return F.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:d,right:p}=a.current;if(e||!s.current||!c||!h)return;const _=n==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=i;const E=document.createElement("style");o&&(E.nonce=o);const M=r??document.head;return M.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${_}px !important;
            top: ${f}px !important;
          }
        `),()=>{M.contains(E)&&M.removeChild(E)}},[e]),A.jsx(H$,{isPresent:e,childRef:s,sizeRef:a,children:F.cloneElement(t,{ref:l})})}const $$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=qv(Z$),h=F.useId();let f=!0,d=F.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:p=>{c.set(p,!0);for(const _ of c.values())if(!_)return;r&&r()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[n,c,r]);return s&&f&&(d={...d}),F.useMemo(()=>{c.forEach((p,_)=>c.set(_,!1))},[n]),F.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=A.jsx(G$,{isPresent:n,anchorX:o,root:l,children:t})),A.jsx(wm.Provider,{value:d,children:t})};function Z$(){return new Map}function YE(t=!0){const e=F.useContext(wm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=F.useId();F.useEffect(()=>{if(t)return i(s)},[t]);const a=F.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Fh=t=>t.key||"";function E8(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const f2=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,h]=YE(a),f=F.useMemo(()=>E8(t),[t]),d=a&&!c?[]:f.map(Fh),p=F.useRef(!0),_=F.useRef(f),E=qv(()=>new Map),[M,b]=F.useState(f),[S,x]=F.useState(f);rE(()=>{p.current=!1,_.current=f;for(let H=0;H<S.length;H++){const k=Fh(S[H]);d.includes(k)?E.delete(k):E.get(k)!==!0&&E.set(k,!1)}},[S,d.length,d.join("-")]);const O=[];if(f!==M){let H=[...f];for(let k=0;k<S.length;k++){const w=S[k],R=Fh(w);d.includes(R)||(H.splice(k,0,w),O.push(w))}return s==="wait"&&O.length&&(H=O),x(E8(H)),b(f),null}const{forceRender:V}=F.useContext(Fv);return A.jsx(A.Fragment,{children:S.map(H=>{const k=Fh(H),w=a&&!c?!1:f===S||d.includes(k),R=()=>{if(E.has(k))E.set(k,!0);else return;let D=!0;E.forEach(z=>{z||(D=!1)}),D&&(V==null||V(),x(_.current),a&&(h==null||h()),r&&r())};return A.jsx($$,{isPresent:w,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:w?void 0:R,anchorX:o,children:H},k)})})},XE=F.createContext({strict:!1}),x8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jl={};for(const t in x8)Jl[t]={isEnabled:e=>x8[t].some(n=>!!e[n])};function K$(t){for(const e in t)Jl[e]={...Jl[e],...t[e]}}const Y$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Y$.has(t)}let QE=t=>!Cd(t);function X$(t){typeof t=="function"&&(QE=e=>e.startsWith("on")?!Cd(e):t(e))}try{X$(require("@emotion/is-prop-valid").default)}catch{}function Q$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(QE(i)||n===!0&&Cd(i)||!e&&!Cd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Am=F.createContext({});function Em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function f0(t){return typeof t=="string"||Array.isArray(t)}const d2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m2=["initial",...d2];function xm(t){return Em(t.animate)||m2.some(e=>f0(t[e]))}function WE(t){return!!(xm(t)||t.variants)}function W$(t,e){if(xm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||f0(n)?n:void 0,animate:f0(r)?r:void 0}}return t.inherit!==!1?e:{}}function J$(t){const{initial:e,animate:n}=W$(t,F.useContext(Am));return F.useMemo(()=>({initial:e,animate:n}),[R8(e),R8(n)])}function R8(t){return Array.isArray(t)?t.join(" "):t}function C8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=C8(t,e.target.x),r=C8(t,e.target.y);return`${n}% ${r}%`}},eZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=xa.parse(t);if(i.length>5)return r;const s=xa.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=_t(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},T4={borderRadius:{...tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tc,borderTopRightRadius:tc,borderBottomLeftRadius:tc,borderBottomRightRadius:tc,boxShadow:eZ};function JE(t,{layout:e,layoutId:n}){return vu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!T4[t]||t==="opacity")}const tZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nZ=yu.length;function rZ(t,e,n){let r="",i=!0;for(let s=0;s<nZ;s++){const a=yu[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=qE(o,l2[a]);if(!l){i=!1;const h=tZ[a]||a;r+=`${h}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function p2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(vu.has(l)){a=!0;continue}else if(_E(l)){i[l]=c;continue}else{const h=qE(c,l2[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||n?r.transform=rZ(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const g2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ex(t,e,n){for(const r in e)!En(e[r])&&!JE(r,n)&&(t[r]=e[r])}function iZ({transformTemplate:t},e){return F.useMemo(()=>{const n=g2();return p2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sZ(t,e){const n=t.style||{},r={};return ex(r,n,t),Object.assign(r,iZ(t,e)),r}function aZ(t,e){const n={},r=sZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const oZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},lZ={offset:"strokeDashoffset",array:"strokeDasharray"};function uZ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?oZ:lZ;t[s.offset]=ve.transform(-r);const a=ve.transform(e),o=ve.transform(n);t[s.array]=`${a} ${o}`}function tx(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,h){if(p2(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&uZ(f,i,s,a,!1)}const nx=()=>({...g2(),attrs:{}}),rx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cZ(t,e,n,r){const i=F.useMemo(()=>{const s=nx();return tx(s,e,rx(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ex(s,t.style,t),i.style={...s,...i.style}}return i}const hZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y2(t){return typeof t!="string"||t.includes("-")?!1:!!(hZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function fZ(t,e,n,{latestValues:r},i,s=!1){const o=(y2(t)?cZ:aZ)(e,r,i,t),l=Q$(e,typeof t=="string",s),c=t!==F.Fragment?{...l,...o,ref:n}:{},{children:h}=e,f=F.useMemo(()=>En(h)?h.get():h,[h]);return F.createElement(t,{...c,children:f})}function k8(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function v2(t,e,n,r){if(typeof e=="function"){const[i,s]=k8(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=k8(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function _f(t){return En(t)?t.get():t}function dZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:mZ(n,r,i,t),renderState:e()}}function mZ(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=_f(s[d]);let{initial:a,animate:o}=t;const l=xm(t),c=WE(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const f=h?o:a;if(f&&typeof f!="boolean"&&!Em(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const _=v2(t,d[p]);if(_){const{transitionEnd:E,transition:M,...b}=_;for(const S in b){let x=b[S];if(Array.isArray(x)){const O=h?x.length-1:0;x=x[O]}x!==null&&(i[S]=x)}for(const S in E)i[S]=E[S]}}}return i}const ix=t=>(e,n)=>{const r=F.useContext(Am),i=F.useContext(wm),s=()=>dZ(t,e,r,i);return n?s():qv(s)};function b2(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(En(r[a])||e.style&&En(e.style[a])||JE(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const pZ=ix({scrapeMotionValuesFromProps:b2,createRenderState:g2});function sx(t,e,n){const r=b2(t,e,n);for(const i in t)if(En(t[i])||En(e[i])){const s=yu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const gZ=ix({scrapeMotionValuesFromProps:sx,createRenderState:nx}),yZ=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vZ(t,e,n){return F.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ul(n)&&(n.current=r))},[e])}const _2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bZ="framerAppearId",ax="data-"+_2(bZ),ox=F.createContext({});function _Z(t,e,n,r,i){var E,M;const{visualElement:s}=F.useContext(Am),a=F.useContext(XE),o=F.useContext(wm),l=F.useContext(h2).reducedMotion,c=F.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,f=F.useContext(ox);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&TZ(c.current,n,i,f);const d=F.useRef(!1);F.useInsertionEffect(()=>{h&&d.current&&h.update(n,o)});const p=n[ax],_=F.useRef(!!p&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,p))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,p)));return rE(()=>{h&&(d.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),_.current&&h.animationState&&h.animationState.animateChanges())}),F.useEffect(()=>{h&&(!_.current&&h.animationState&&h.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),_.current=!1),h.enteringChildren=void 0)}),h}function TZ(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lx(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&ul(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function lx(t){if(t)return t.options.allowProjection!==!1?t.projection:lx(t.parent)}function c1(t,{forwardMotionProps:e=!1}={},n,r){n&&K$(n);const i=y2(t)?gZ:pZ;function s(o,l){let c;const h={...F.useContext(h2),...o,layoutId:SZ(o)},{isStatic:f}=h,d=J$(o),p=i(o,f);if(!f&&Hv){wZ();const _=AZ(h);c=_.MeasureLayout,d.visualElement=_Z(t,p,h,r,_.ProjectionNode)}return A.jsxs(Am.Provider,{value:d,children:[c&&d.visualElement?A.jsx(c,{visualElement:d.visualElement,...h}):null,fZ(t,o,vZ(p,d.visualElement,l),p,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=F.forwardRef(s);return a[yZ]=t,a}function SZ({layoutId:t}){const e=F.useContext(Fv).id;return e&&t!==void 0?e+"-"+t:t}function wZ(t,e){F.useContext(XE).strict}function AZ(t){const{drag:e,layout:n}=Jl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function EZ(t,e){if(typeof Proxy>"u")return c1;const n=new Map,r=(s,a)=>c1(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,c1(a,void 0,t,e)),n.get(a))})}function ux({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function h1(t){return t===void 0||t===1}function S4({scale:t,scaleX:e,scaleY:n}){return!h1(t)||!h1(e)||!h1(n)}function Ja(t){return S4(t)||cx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cx(t){return M8(t.x)||M8(t.y)}function M8(t){return t&&t!=="0%"}function kd(t,e,n){const r=t-n,i=e*r;return n+i}function N8(t,e,n,r,i){return i!==void 0&&(t=kd(t,i,r)),kd(t,n,r)+e}function w4(t,e=0,n=1,r,i){t.min=N8(t.min,e,n,r,i),t.max=N8(t.max,e,n,r,i)}function hx(t,{x:e,y:n}){w4(t.x,e.translate,e.scale,e.originPoint),w4(t.y,n.translate,n.scale,n.originPoint)}const I8=.999999999999,D8=1.0000000000001;function CZ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,hx(t,a)),r&&Ja(s.latestValues)&&hl(t,s.latestValues))}e.x<D8&&e.x>I8&&(e.x=1),e.y<D8&&e.y>I8&&(e.y=1)}function cl(t,e){t.min=t.min+e,t.max=t.max+e}function O8(t,e,n,r,i=.5){const s=_t(t.min,t.max,i);w4(t,e,n,s,r)}function hl(t,e){O8(t.x,e.x,e.scaleX,e.scale,e.originX),O8(t.y,e.y,e.scaleY,e.scale,e.originY)}function fx(t,e){return ux(RZ(t.getBoundingClientRect(),e))}function kZ(t,e,n){const r=fx(t,n),{scroll:i}=e;return i&&(cl(r.x,i.offset.x),cl(r.y,i.offset.y)),r}const z8=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:z8(),y:z8()}),P8=()=>({min:0,max:0}),Zt=()=>({x:P8(),y:P8()}),A4={current:null},dx={current:!1};function MZ(){if(dx.current=!0,!!Hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>A4.current=t.matches;t.addEventListener("change",e),e()}else A4.current=!1}const NZ=new WeakMap;function IZ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(En(i))t.addValue(r,i);else if(En(s))t.addValue(r,Wl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Wl(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const L8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Qn.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=xm(n),this.isVariantNode=WE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const p=f[d];l[d]!==void 0&&En(p)&&p.set(l[d])}}mount(e){var n;this.current=e,NZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),dx.current||MZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:A4.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jl){const n=Jl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<L8.length;r++){const i=L8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=IZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(iE(r)||aE(r))?r=parseFloat(r):!j$(r)&&xa.test(n)&&(r=FE(e,n)),this.setBaseTarget(e,En(r)?r.get():r)),En(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=v2(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!En(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){u2.render(this.render)}}class mx extends DZ{constructor(){super(...arguments),this.KeyframeResolver=k$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function px(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function OZ(t){return window.getComputedStyle(t)}class zZ extends mx{constructor(){super(...arguments),this.type="html",this.renderInstance=px}readValueFromInstance(e,n){var r;if(vu.has(n))return(r=this.projection)!=null&&r.isProjecting?m4(n):KG(e,n);{const i=OZ(e),s=(_E(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fx(e,n)}build(e,n,r){p2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return b2(e,n,r)}}const gx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PZ(t,e,n,r){px(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gx.has(i)?i:_2(i),e.attrs[i])}class LZ extends mx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vu.has(n)){const r=jE(n);return r&&r.default||0}return n=gx.has(n)?n:_2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sx(e,n,r)}build(e,n,r){tx(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){PZ(e,n,r,i)}mount(e){this.isSVGTag=rx(e.tagName),super.mount(e)}}const VZ=(t,e)=>y2(t)?new LZ(e):new zZ(e,{allowProjection:t!==F.Fragment});function kl(t,e,n){const r=t.getProps();return v2(r,e,n!==void 0?n:r.custom,t)}const E4=t=>Array.isArray(t);function UZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wl(n))}function BZ(t){return E4(t)?t[t.length-1]||0:t}function jZ(t,e){const n=kl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=BZ(s[a]);UZ(t,a,o)}}function FZ(t){return!!(En(t)&&t.add)}function x4(t,e){const n=t.getValue("willChange");if(FZ(n))return n.add(e);if(!n&&vs.WillChange){const r=new vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function yx(t){return t.props[ax]}const qZ=t=>t!==null;function HZ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(qZ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const GZ={type:"spring",stiffness:500,damping:25,restSpeed:10},$Z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZZ={type:"keyframes",duration:.8},KZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YZ=(t,{keyframes:e})=>e.length>2?ZZ:vu.has(t)?t.startsWith("scale")?$Z(e[1]):GZ:KZ;function XZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const T2=(t,e,n,r={},i,s)=>a=>{const o=o2(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-gi(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};XZ(o)||Object.assign(h,YZ(t,h)),h.duration&&(h.duration=gi(h.duration)),h.repeatDelay&&(h.repeatDelay=gi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(b4(h),h.delay===0&&(f=!0)),(vs.instantAnimations||vs.skipAnimations)&&(f=!0,b4(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const d=HZ(h.keyframes,o);if(d!==void 0){dt.update(()=>{h.onUpdate(d),h.onComplete()});return}}return o.isSync?new s2(h):new y$(h)};function QZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const f=t.getValue(h,t.latestValues[h]??null),d=o[h];if(d===void 0||c&&QZ(c,h))continue;const p={delay:n,...o2(s||{},h)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===_&&!p.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const b=yx(t);if(b){const S=window.MotionHandoffAnimation(b,h,dt);S!==null&&(p.startTime=S,E=!0)}}x4(t,h),f.start(T2(h,f,d,t.shouldReduceMotion&&VE.has(h)?{type:!1}:p,t,E));const M=f.animation;M&&l.push(M)}return a&&Promise.all(l).then(()=>{dt.update(()=>{a&&jZ(t,a)})}),l}function bx(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function R4(t,e,n={}){var l;const r=kl(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(vx(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=i;return WZ(t,e,c,h,f,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,h]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>h())}else return Promise.all([s(),a(n.delay)])}function WZ(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(R4(l,e,{...a,delay:n+(typeof r=="function"?0:r)+bx(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function JZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>R4(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=R4(t,e,n);else{const i=typeof e=="function"?kl(t,e,n.custom):e;r=Promise.all(vx(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function _x(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const eK=m2.length;function Tx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Tx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eK;n++){const r=m2[n],i=t.props[r];(f0(i)||i===!1)&&(e[r]=i)}return e}const tK=[...d2].reverse(),nK=d2.length;function rK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JZ(t,n,r)))}function iK(t){let e=rK(t),n=V8(),r=!0;const i=l=>(c,h)=>{var d;const f=kl(t,h,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:_,...E}=f;c={...c,...E,..._}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,h=Tx(t.parent)||{},f=[],d=new Set;let p={},_=1/0;for(let M=0;M<nK;M++){const b=tK[M],S=n[b],x=c[b]!==void 0?c[b]:h[b],O=f0(x),V=b===l?S.isActive:null;V===!1&&(_=M);let H=x===h[b]&&x!==c[b]&&O;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),S.protectedKeys={...p},!S.isActive&&V===null||!x&&!S.prevProp||Em(x)||typeof x=="boolean")continue;const k=sK(S.prevProp,x);let w=k||b===l&&S.isActive&&!H&&O||M>_&&O,R=!1;const D=Array.isArray(x)?x:[x];let z=D.reduce(i(b),{});V===!1&&(z={});const{prevResolvedValues:U={}}=S,I={...U,...z},fe=re=>{w=!0,d.has(re)&&(R=!0,d.delete(re)),S.needsAnimating[re]=!0;const ae=t.getValue(re);ae&&(ae.liveStyle=!1)};for(const re in I){const ae=z[re],xe=U[re];if(p.hasOwnProperty(re))continue;let Ae=!1;E4(ae)&&E4(xe)?Ae=!_x(ae,xe):Ae=ae!==xe,Ae?ae!=null?fe(re):d.add(re):ae!==void 0&&d.has(re)?fe(re):S.protectedKeys[re]=!0}S.prevProp=x,S.prevResolvedValues=z,S.isActive&&(p={...p,...z}),r&&t.blockInitialAnimation&&(w=!1);const Ne=H&&k;w&&(!Ne||R)&&f.push(...D.map(re=>{const ae={type:b};if(typeof re=="string"&&r&&!Ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Ae=kl(xe,re);if(xe.enteringChildren&&Ae){const{delayChildren:De}=Ae.transition||{};ae.delay=bx(xe.enteringChildren,t,De)}}return{animation:re,options:ae}}))}if(d.size){const M={};if(typeof c.initial!="boolean"){const b=kl(t,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(M.transition=b.transition)}d.forEach(b=>{const S=t.getBaseTarget(b),x=t.getValue(b);x&&(x.liveStyle=!0),M[b]=S??null}),f.push({animation:M})}let E=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(f):Promise.resolve()}function o(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var p;return(p=d.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=a(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=V8()}}}function sK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_x(e,t):!1}function Za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V8(){return{animate:Za(!0),whileInView:Za(),whileHover:Za(),whileTap:Za(),whileDrag:Za(),whileFocus:Za(),exit:Za()}}class Na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aK extends Na{constructor(e){super(e),e.animationState||(e.animationState=iK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oK=0;class lK extends Na{constructor(){super(...arguments),this.id=oK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const uK={animation:{Feature:aK},exit:{Feature:lK}};function d0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function j0(t){return{point:{x:t.pageX,y:t.pageY}}}const cK=t=>e=>c2(e)&&t(e,j0(e));function Pc(t,e,n,r){return d0(t,e,cK(n),r)}const Sx=1e-4,hK=1-Sx,fK=1+Sx,wx=.01,dK=0-wx,mK=0+wx;function Un(t){return t.max-t.min}function pK(t,e,n){return Math.abs(t-e)<=n}function U8(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Un(n)/Un(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hK&&t.scale<=fK||isNaN(t.scale))&&(t.scale=1),(t.translate>=dK&&t.translate<=mK||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,r){U8(t.x,e.x,n.x,r?r.originX:void 0),U8(t.y,e.y,n.y,r?r.originY:void 0)}function B8(t,e,n){t.min=n.min+e.min,t.max=t.min+Un(e)}function gK(t,e,n){B8(t.x,e.x,n.x),B8(t.y,e.y,n.y)}function j8(t,e,n){t.min=e.min-n.min,t.max=t.min+Un(e)}function Md(t,e,n){j8(t.x,e.x,n.x),j8(t.y,e.y,n.y)}function Er(t){return[t("x"),t("y")]}const Ax=({current:t})=>t?t.ownerDocument.defaultView:null,F8=(t,e)=>Math.abs(t-e);function yK(t,e){const n=F8(t.x,e.x),r=F8(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ex{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=d1(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,_=yK(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!_)return;const{point:E}=d,{timestamp:M}=on;this.history.push({...E,timestamp:M});const{onStart:b,onMove:S}=this.handlers;p||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=f1(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=d1(d.type==="pointercancel"?this.lastMoveEventInfo:f1(p,this.transformPagePoint),this.history);this.startEvent&&_&&_(d,b),E&&E(d,b)},!c2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=j0(e),l=f1(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=on;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,d1(l,this.history)),this.removeListeners=V0(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function f1(t,e){return e?{point:e(t.point)}:t}function q8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function d1({point:t},e){return{point:t,delta:q8(t,xx(e)),offset:q8(t,vK(e)),velocity:bK(e,.1)}}function vK(t){return t[0]}function xx(t){return t[t.length-1]}function bK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xx(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Pr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _K(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function H8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TK(t,{top:e,left:n,bottom:r,right:i}){return{x:H8(t.x,n,i),y:H8(t.y,e,r)}}function G8(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function SK(t,e){return{x:G8(t.x,e.x),y:G8(t.y,e.y)}}function wK(t,e){let n=.5;const r=Un(t),i=Un(e);return i>r?n=u0(e.min,e.max-r,t.min):r>i&&(n=u0(t.min,t.max-i,e.min)),ys(0,1,n)}function AK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const C4=.35;function EK(t=C4){return t===!1?t=0:t===!0&&(t=C4),{x:$8(t,"left","right"),y:$8(t,"top","bottom")}}function $8(t,e,n){return{min:Z8(t,e),max:Z8(t,n)}}function Z8(t,e){return typeof t=="number"?t:t[e]||0}const xK=new WeakMap;class RK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(j0(f).point)},a=(f,d)=>{const{drag:p,dragPropagation:_,onDragStart:E}=this.getProps();if(p&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D$(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Er(b=>{let S=this.getAxisMotionValue(b).get()||0;if(yi.test(S)){const{projection:x}=this.visualElement;if(x&&x.layout){const O=x.layout.layoutBox[b];O&&(S=Un(O)*(parseFloat(S)/100))}}this.originPoint[b]=S}),E&&dt.postRender(()=>E(f,d)),x4(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:p,dragDirectionLock:_,onDirectionLock:E,onDrag:M}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=d;if(_&&this.currentDirection===null){this.currentDirection=CK(b),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),M&&M(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Er(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Ex(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:Ax(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&dt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!qh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=_K(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TK(r.layoutBox,e):this.constraints=!1,this.elastic=EK(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Er(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=AK(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=kZ(r,i.root,this.visualElement.getTransformPagePoint());let a=SK(i.layout.layoutBox,s);if(n){const o=n(xZ(a));this.hasMutatedConstraints=!!o,o&&(a=ux(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Er(h=>{if(!qh(h,n,this.currentDirection))return;let f=l&&l[h]||{};a&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,_)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return x4(this.visualElement,e),r.start(T2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Er(n=>{const{drag:r}=this.getProps();if(!qh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-_t(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ul(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Er(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=wK({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Er(a=>{if(!qh(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(_t(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;xK.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ul(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),dt.read(r);const a=d0(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Er(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=C4,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function qh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kK extends Na{constructor(e){super(e),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new RK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const K8=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class MK extends Na{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(e){this.session=new Ex(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ax(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:K8(e),onStart:K8(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&dt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let m1=!1;class NK extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),m1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,m1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||dt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),u2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;m1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rx(t){const[e,n]=YE(),r=F.useContext(Fv);return A.jsx(NK,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(ox),isPresent:e,safeToRemove:n})}function IK(t,e,n){const r=En(t)?t:Wl(t);return r.start(T2("",r,e,n)),r.animation}const DK=(t,e)=>t.depth-e.depth;class OK{constructor(){this.children=[],this.isDirty=!1}add(e){Gv(this.children,e),this.isDirty=!0}remove(e){$v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DK),this.isDirty=!1,this.children.forEach(e)}}function zK(t,e){const n=Qn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ea(r),t(s-e))};return dt.setup(r,!0),()=>Ea(r)}const Cx=["TopLeft","TopRight","BottomLeft","BottomRight"],PK=Cx.length,Y8=t=>typeof t=="string"?parseFloat(t):t,X8=t=>typeof t=="number"||ve.test(t);function LK(t,e,n,r,i,s){i?(t.opacity=_t(0,n.opacity??1,VK(r)),t.opacityExit=_t(e.opacity??1,0,UK(r))):s&&(t.opacity=_t(e.opacity??1,n.opacity??1,r));for(let a=0;a<PK;a++){const o=`border${Cx[a]}Radius`;let l=Q8(e,o),c=Q8(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||X8(l)===X8(c)?(t[o]=Math.max(_t(Y8(l),Y8(c),r),0),(yi.test(c)||yi.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function Q8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VK=kx(0,.5,mE),UK=kx(.5,.95,Ur);function kx(t,e,n){return r=>r<t?0:r>e?1:n(u0(t,e,r))}function W8(t,e){t.min=e.min,t.max=e.max}function Kr(t,e){W8(t.x,e.x),W8(t.y,e.y)}function J8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eb(t,e,n,r,i){return t-=e,t=kd(t,1/n,r),i!==void 0&&(t=kd(t,1/i,r)),t}function BK(t,e=0,n=1,r=.5,i,s=t,a=t){if(yi.test(e)&&(e=parseFloat(e),e=_t(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=_t(s.min,s.max,r);t===s&&(o-=e),t.min=eb(t.min,e,n,o,i),t.max=eb(t.max,e,n,o,i)}function tb(t,e,[n,r,i],s,a){BK(t,e[n],e[r],e[i],e.scale,s,a)}const jK=["x","scaleX","originX"],FK=["y","scaleY","originY"];function nb(t,e,n,r){tb(t.x,e,jK,n?n.x:void 0,r?r.x:void 0),tb(t.y,e,FK,n?n.y:void 0,r?r.y:void 0)}function rb(t){return t.translate===0&&t.scale===1}function Mx(t){return rb(t.x)&&rb(t.y)}function ib(t,e){return t.min===e.min&&t.max===e.max}function qK(t,e){return ib(t.x,e.x)&&ib(t.y,e.y)}function sb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Nx(t,e){return sb(t.x,e.x)&&sb(t.y,e.y)}function ab(t){return Un(t.x)/Un(t.y)}function ob(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HK{constructor(){this.members=[]}add(e){Gv(this.members,e),e.scheduleRender()}remove(e){if($v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GK(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:p,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const p1=["","X","Y","Z"],$K=1e3;let ZK=0;function g1(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Ix(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Ix(r)}function Dx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=ZK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XK),this.nodes.forEach(eY),this.nodes.forEach(tY),this.nodes.forEach(QK)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new OK)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Yv),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=KE(a)&&!U$(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,f=0;const d=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{f=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,h&&h(),h=zK(d,250),Tf.hasAnimatedSinceResize&&(Tf.hasAnimatedSinceResize=!1,this.nodes.forEach(cb)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||aY,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=c.getProps(),b=!this.targetLayout||!Nx(this.targetLayout,p),S=!f&&d;if(this.options.layoutRoot||this.resumeFrom||S||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...o2(_,"layout"),onPlay:E,onComplete:M};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,S)}else f||cb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nY),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ix(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ub);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JK),this.nodes.forEach(KK),this.nodes.forEach(YK)):this.nodes.forEach(ub),this.clearAllSnapshots();const o=Qn.now();on.delta=ys(0,1e3/60,o-on.timestamp),on.timestamp=o,on.isProcessing=!0,i1.update.process(on),i1.preRender.process(on),i1.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WK),this.sharedNodes.forEach(rY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Mx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ja(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),oY(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Zt();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(lY))){const{scroll:h}=this.root;h&&(cl(o.x,h.offset.x),cl(o.y,h.offset.y))}return o}removeElementScroll(a){var l;const o=Zt();if(Kr(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Kr(o,a),cl(o.x,f.offset.x),cl(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=Zt();Kr(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&hl(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ja(h.latestValues)&&hl(l,h.latestValues)}return Ja(this.latestValues)&&hl(l,this.latestValues),l}removeTransform(a){const o=Zt();Kr(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ja(c.latestValues))continue;S4(c.latestValues)&&c.updateSnapshot();const h=Zt(),f=c.measurePageBox();Kr(h,f),nb(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ja(this.latestValues)&&nb(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=on.timestamp;const d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kr(this.target,this.layout.layoutBox),hx(this.target,this.targetDelta)):Kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||S4(this.parent.latestValues)||cx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),Md(this.relativeTargetOrigin,o,l),Kr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var _;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===on.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Kr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;CZ(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Zt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J8(this.prevProjectionDelta.x,this.projectionDelta.x),J8(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!ob(this.projectionDelta.x,this.prevProjectionDelta.x)||!ob(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Zt(),p=l?l.source:void 0,_=this.layout?this.layout.source:void 0,E=p!==_,M=this.getStack(),b=!M||M.members.length<=1,S=!!(E&&!b&&this.options.crossfade===!0&&!this.path.some(sY));this.animationProgress=0;let x;this.mixTargetDelta=O=>{const V=O/1e3;hb(f.x,a.x,V),hb(f.y,a.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Md(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iY(this.relativeTarget,this.relativeTargetOrigin,d,V),x&&qK(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Zt()),Kr(x,this.relativeTarget)),E&&(this.animationValues=h,LK(h,c,this.latestValues,V,S,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Tf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wl(0)),this.currentAnimation=IK(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($K),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Ox(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Zt();const f=Un(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=Un(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}Kr(o,l),hl(o,h),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new HK),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&g1("z",a,c,this.animationValues);for(let h=0;h<p1.length;h++)g1(`rotate${p1[h]}`,a,c,this.animationValues),g1(`skew${p1[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=_f(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=_f(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=GK(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),a.transform=f;const{x:d,y:p}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const _ in T4){if(h[_]===void 0)continue;const{correct:E,applyTo:M,isCSSVariable:b}=T4[_],S=f==="none"?h[_]:E(h[_],c);if(M){const x=M.length;for(let O=0;O<x;O++)a[M[O]]=S}else b?this.options.visualElement.renderState.vars[_]=S:a[_]=S}this.options.layoutId&&(a.pointerEvents=c===this?_f(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(lb),this.root.sharedNodes.clear()}}}function KK(t){t.updateLayout()}function YK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Er(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],p=Un(d);d.min=r[f].min,d.max=d.min+p}):Ox(s,e.layoutBox,r)&&Er(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],p=Un(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=fl();Lc(o,r,e.layoutBox);const l=fl();a?Lc(l,t.applyTransform(i,!0),e.measuredBox):Lc(l,r,e.layoutBox);const c=!Mx(o);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const _=Zt();Md(_,e.layoutBox,d.layoutBox);const E=Zt();Md(E,r,p.layoutBox),Nx(_,E)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WK(t){t.clearSnapshot()}function lb(t){t.clearMeasurements()}function ub(t){t.isLayoutDirty=!1}function JK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eY(t){t.resolveTargetDelta()}function tY(t){t.calcProjection()}function nY(t){t.resetSkewAndRotation()}function rY(t){t.removeLeadSnapshot()}function hb(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fb(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function iY(t,e,n,r){fb(t.x,e.x,n.x,r),fb(t.y,e.y,n.y,r)}function sY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aY={duration:.45,ease:[.4,0,.1,1]},db=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mb=db("applewebkit/")&&!db("chrome/")?Math.round:Ur;function pb(t){t.min=mb(t.min),t.max=mb(t.max)}function oY(t){pb(t.x),pb(t.y)}function Ox(t,e,n){return t==="position"||t==="preserve-aspect"&&!pK(ab(e),ab(n),.2)}function lY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const uY=Dx({attachResizeListener:(t,e)=>d0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),y1={current:void 0},zx=Dx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!y1.current){const t=new uY({});t.mount(window),t.setOptions({layoutScroll:!0}),y1.current=t}return y1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cY={pan:{Feature:MK},drag:{Feature:kK,ProjectionNode:zx,MeasureLayout:Rx}};function gb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&dt.postRender(()=>s(e,j0(e)))}class hY extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=O$(e,(n,r)=>(gb(this.node,r,"Start"),i=>gb(this.node,i,"End"))))}unmount(){}}class fY extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=V0(d0(this.node.current,"focus",()=>this.onFocus()),d0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&dt.postRender(()=>s(e,j0(e)))}class dY extends Na{mount(){const{current:e}=this.node;e&&(this.unmount=V$(e,(n,r)=>(yb(this.node,r,"Start"),(i,{success:s})=>yb(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k4=new WeakMap,v1=new WeakMap,mY=t=>{const e=k4.get(t.target);e&&e(t)},pY=t=>{t.forEach(mY)};function gY({root:t,...e}){const n=t||document;v1.has(n)||v1.set(n,{});const r=v1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pY,{root:t,...e})),r[i]}function yY(t,e,n){const r=gY(e);return k4.set(t,n),r.observe(t),()=>{k4.delete(t),r.unobserve(t)}}const vY={some:0,all:1};class bY extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vY[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return yY(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_Y(e,n))&&this.startObserver()}unmount(){}}function _Y({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const TY={inView:{Feature:bY},tap:{Feature:dY},focus:{Feature:fY},hover:{Feature:hY}},SY={layout:{ProjectionNode:zx,MeasureLayout:Rx}},wY={...uK,...TY,...cY,...SY},ke=EZ(wY,VZ),AY={progress:"",mastery:"",dedication:"",exploration:""};function EY({notification:t,onDismiss:e}){return F.useEffect(()=>{const n=setTimeout(e,5e3);return()=>clearTimeout(n)},[e]),A.jsx(ke.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:A.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[A.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:AY[t.category]||""}),A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),A.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),A.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),A.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),A.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:A.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function xY(){const{notifications:t,dismissNotification:e}=nE();return A.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:A.jsx(f2,{mode:"popLayout",children:t.map(n=>A.jsx(EY,{notification:n,onDismiss:()=>e(n.id)},n.id))})})}function RY({isOpen:t,onClose:e}){const[n,r]=F.useState([]),[i,s]=F.useState(""),[a,o]=F.useState(null),l=F.useCallback(()=>{if(i.trim()==="")return;const d=parseFloat(i);if(isNaN(d)){o("Invalid number");return}r(p=>[...p,d]),s(""),o(null)},[i]),c=F.useCallback(()=>{r([]),s(""),o(null)},[]),h=F.useCallback(d=>{if(o(null),d==="clear"){c();return}if(d==="drop"){r(p=>p.slice(0,-1));return}if(d==="swap"){if(n.length<2){o("Need 2 numbers to swap");return}r(p=>{const _=[...p],E=_.pop(),M=_.pop();return[..._,E,M]});return}if(d==="dup"){if(n.length<1){o("Need 1 number to duplicate");return}r(p=>[...p,p[p.length-1]]);return}if(d==="floor"){if(n.length<1){o("Need 1 number");return}r(p=>{const _=[...p],E=_.pop();return[..._,Math.floor(E)]});return}if(n.length<2){o("Need 2 numbers");return}r(p=>{const _=[...p],E=_.pop(),M=_.pop();let b;switch(d){case"+":b=M+E;break;case"-":b=M-E;break;case"*":b=M*E;break;case"/":if(E===0)return o("Division by zero"),p;b=M/E;break;case"^":b=Math.pow(M,E);break;case"div":if(E===0)return o("Division by zero"),p;b=Math.floor(M/E);break;default:return p}return[..._,b]})},[n,c]),f=F.useCallback(d=>{d.key==="Enter"&&(d.preventDefault(),i.trim()&&l())},[i,l]);return A.jsx(f2,{children:t&&A.jsxs(ke.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:"fixed right-4 top-20 w-64 bg-dark-800 border border-dark-600 rounded-xl shadow-2xl z-50",children:[A.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-dark-600",children:[A.jsx("h3",{className:"text-sm font-bold text-white",children:"RPN Calculator"}),A.jsx("button",{onClick:e,className:"text-dark-400 hover:text-white transition-colors",children:A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("div",{className:"p-3 border-b border-dark-600",children:[A.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Stack (bottom  top)"}),A.jsx("div",{className:"bg-dark-900 rounded-lg p-2 min-h-[60px] max-h-[100px] overflow-y-auto font-mono text-sm",children:n.length===0?A.jsx("span",{className:"text-dark-500",children:"empty"}):A.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((d,p)=>A.jsx("span",{className:`px-2 py-0.5 rounded ${p===n.length-1?"bg-cyan-500/20 text-cyan-400":"bg-dark-700 text-dark-300"}`,children:Number.isInteger(d)?d:d.toFixed(4)},p))})})]}),a&&A.jsx("div",{className:"px-3 py-2 text-xs text-red-400 bg-red-500/10",children:a}),A.jsxs("div",{className:"p-3 border-b border-dark-600",children:[A.jsxs("div",{className:"flex gap-2 mb-2",children:[A.jsx("input",{type:"text",inputMode:"numeric",value:i,onChange:d=>s(d.target.value),onKeyDown:f,placeholder:"Enter number",className:"flex-1 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-sm font-mono focus:border-cyan-500 focus:outline-none"}),A.jsx("button",{onClick:l,disabled:!i.trim(),className:"px-3 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white text-sm font-bold rounded-lg transition-colors",children:"Push"})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[[7,8,9,4,5,6,1,2,3].map(d=>A.jsx("button",{onClick:()=>s(p=>p+d.toString()),className:"py-2.5 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:d},d)),A.jsx("button",{onClick:()=>s(d=>d.slice(0,-1)),className:"py-2.5 bg-dark-700 hover:bg-dark-600 text-dark-400 font-bold rounded-lg transition-colors",children:""}),A.jsx("button",{onClick:()=>s(d=>d+"0"),className:"py-2.5 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"0"}),A.jsx("button",{onClick:()=>s(""),className:"py-2.5 bg-dark-700 hover:bg-dark-600 text-dark-400 text-sm rounded-lg transition-colors",children:"CLR"})]})]}),A.jsxs("div",{className:"p-3 space-y-2",children:[A.jsx("div",{className:"grid grid-cols-4 gap-1",children:["+","-","*","/"].map(d=>A.jsx("button",{onClick:()=>h(d),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:d},d))}),A.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[A.jsx("button",{onClick:()=>h("floor"),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"floor"}),A.jsx("button",{onClick:()=>h("div"),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"div"}),A.jsx("button",{onClick:()=>h("^"),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"^"})]}),A.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[A.jsx("button",{onClick:()=>h("dup"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"dup"}),A.jsx("button",{onClick:()=>h("swap"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"swap"}),A.jsx("button",{onClick:()=>h("drop"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"drop"}),A.jsx("button",{onClick:c,className:"py-1.5 bg-red-600/50 hover:bg-red-600 text-white text-xs rounded-lg transition-colors",children:"clear"})]})]}),A.jsx("div",{className:"p-3 border-t border-dark-600",children:A.jsxs("div",{className:"text-xs text-dark-500",children:[A.jsx("span",{className:"text-dark-400",children:"Example:"})," 47 Enter 7 Enter div  6"]})})]})})}function CY({onClick:t}){return A.jsx("button",{onClick:t,className:"fixed right-4 bottom-4 w-12 h-12 bg-dark-700 hover:bg-dark-600 border border-dark-500 rounded-full shadow-lg flex items-center justify-center text-dark-300 hover:text-white transition-colors z-40",title:"RPN Calculator",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}const kY=[2,3,5,7,11,13,17,19,23];function MY(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function Px(t,e){return Math.floor(Math.random()*(e-t+1))+t}function NY(t,e){const n=kY.filter(r=>r>=t&&r<=e);return n.length>0&&Math.random()<.6?n[Math.floor(Math.random()*n.length)]:Px(t,e)}function IY(t,e,n){const r=Math.max(e,t+1),i=n;let s,a=0;do s=Px(r,i),a++;while(a<10&&s%t===0&&Math.random()<.9);return s}function Rm(t){const e=Yl.find(n=>n.tier===t);if(!e)throw new Error(`Invalid tier: ${t}`);return e}function DY(t){const e=Rm(t),n=NY(e.modulusRange[0],e.modulusRange[1]),r=IY(n,e.dividendRange[0],e.dividendRange[1]),i=r%n;return{id:MY(),dividend:r,modulus:n,correctAnswer:i,displayText:`What is ${r} mod ${n}?`,tier:t,generatedAt:Date.now()}}function vb(t,e){const n=[],r=new Set;for(let i=0;i<e;i++){let s,a=0;do s=DY(t),a++;while(a<5&&r.has(`${s.dividend}-${s.modulus}`));r.add(`${s.dividend}-${s.modulus}`),n.push(s)}return n}function OY(t,e){return e===t.correctAnswer}const b1=1e3,Hh=3e3,bb=1e4;function zY(t){return t>=10?1.5:t>=7?1.3:t>=5?1.2:t>=3?1.1:1}function PY(t,e){if(e<=b1)return t;if(e<=Hh){const n=1-(e-b1)/(Hh-b1);return Math.floor(t*(.5+.5*n))}if(e<=bb){const n=1-(e-Hh)/(bb-Hh);return Math.floor(t*.5*n)}return 0}function Lx(t,e,n){const i=Rm(t).basePoints,s=PY(i,e),a=n+1,o=zY(a),l=e<2e3,c=Math.floor((i+s)*o);return{basePoints:i,speedBonus:s,streakMultiplier:o,totalPoints:c,newStreak:a,isFastAnswer:l}}function Vx(t){const n=Rm(t).basePoints,r=-Math.floor(n*.5);return{basePoints:r,speedBonus:0,streakMultiplier:1,totalPoints:r,newStreak:0,isFastAnswer:!1}}function LY(t){let e=0;e+=zn.GAME_PARTICIPATION;const n=zn.TIER_MULTIPLIER[t.tier],r=Math.floor(t.score/zn.POINTS_PER_XP_UNIT*xn.QUIZ_MEDIUM*n);return e+=Math.max(0,r),t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(e+=zn.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(e+=zn.SPEED_DEMON_BONUS),t.maxStreak>=10&&(e+=zn.STREAK_MASTER_BONUS),e}function VY(t,e){let n=0,r=0,i=0,s=0,a=0,o=0,l=0;for(const d of e)if(l+=d.responseTimeMs,d.isCorrect){const p=Lx(t,d.responseTimeMs,s);n+=p.totalPoints,r++,s=p.newStreak,a=Math.max(a,s),p.isFastAnswer&&o++}else{const p=Vx(t);n+=p.totalPoints,i++,s=0}const c=e.length>0?Math.round(l/e.length):0,h={tier:t,score:n,correctAnswers:r,totalQuestions:e.length,maxStreak:a,fastAnswers:o,timestamp:new Date().toISOString()},f=LY(h);return{totalPoints:n,correctAnswers:r,incorrectAnswers:i,maxStreak:a,fastAnswers:o,avgResponseTime:c,xpEarned:f}}function _b(t){return t>=0?`+${t}`:`${t}`}function Ux(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`}const Tb=()=>({phase:"lobby",tier:1,roundCount:10,currentRound:0,currentProblem:null,problems:[],roundResults:[],score:0,streak:0});function UY(){const[t,e]=F.useState(Tb),n=F.useCallback((h,f)=>{const d=vb(h,f);e({phase:"countdown",tier:h,roundCount:f,currentRound:0,currentProblem:null,problems:d,roundResults:[],score:0,streak:0})},[]),r=F.useCallback(()=>{e(h=>({...h,phase:"playing",currentRound:1,currentProblem:h.problems[0]||null}))},[]),i=F.useCallback((h,f)=>{e(d=>{if(!d.currentProblem||d.phase!=="playing")return d;const p=OY(d.currentProblem,h);let _,E;if(p){const H=Lx(d.tier,f,d.streak);_=H.totalPoints,E=H.newStreak}else _=Vx(d.tier).totalPoints,E=0;const M={problem:d.currentProblem,userAnswer:h,isCorrect:p,responseTimeMs:f,points:_},b=[...d.roundResults,M],S=d.score+_;if(d.currentRound>=d.roundCount)return{...d,phase:"results",score:S,streak:E,roundResults:b,lastRoundResult:{isCorrect:p,points:_,correctAnswer:d.currentProblem.correctAnswer}};const O=d.currentRound+1,V=d.problems[O-1]||null;return{...d,currentRound:O,currentProblem:V,score:S,streak:E,roundResults:b,lastRoundResult:{isCorrect:p,points:_,correctAnswer:d.currentProblem.correctAnswer}}})},[]),s=F.useCallback(()=>{e(h=>{const f=vb(h.tier,h.roundCount);return{phase:"countdown",tier:h.tier,roundCount:h.roundCount,currentRound:0,currentProblem:null,problems:f,roundResults:[],score:0,streak:0}})},[]),a=F.useCallback(()=>{e(Tb())},[]),o=F.useCallback(()=>{if(t.phase!=="results")return null;const h=t.roundResults.filter(M=>M.isCorrect).length,f=t.roundResults.filter(M=>M.isCorrect&&M.responseTimeMs<2e3).length;let d=0,p=0;for(const M of t.roundResults)M.isCorrect?(p++,d=Math.max(d,p)):p=0;const _=t.roundResults.reduce((M,b)=>M+b.responseTimeMs,0),E=t.roundResults.length>0?Math.round(_/t.roundResults.length):0;return{tier:t.tier,score:t.score,correctAnswers:h,totalQuestions:t.roundResults.length,maxStreak:d,fastAnswers:f,avgResponseTime:E,timestamp:new Date().toISOString(),isMultiplayer:!1}},[t]),l=F.useCallback(()=>{if(t.phase!=="results")return null;const h=t.roundResults.map(f=>({isCorrect:f.isCorrect,responseTimeMs:f.responseTimeMs}));return VY(t.tier,h)},[t]),c=F.useMemo(()=>({startGame:n,completeCountdown:r,submitAnswer:i,playAgain:s,returnToLobby:a,getGameResult:o,getFinalScore:l}),[n,r,i,s,a,o,l]);return[t,c]}function BY(t){const[e,n]=F.useState({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null}),r=F.useRef(null);F.useEffect(()=>()=>{r.current&&r.current()},[]);const i=F.useCallback(p=>{var M;if(console.log("[useGameRoom] subscribeToRoom called with roomId:",p),console.log("[useGameRoom] isFirebaseConfigured:",Sn()),!Sn()){n(b=>({...b,status:"error",error:"Firebase not configured"}));return}let _;try{_=oL(),console.log("[useGameRoom] getFirebaseFirestore returned:",_),console.log("[useGameRoom] db type:",typeof _),console.log("[useGameRoom] db constructor:",(M=_==null?void 0:_.constructor)==null?void 0:M.name)}catch(b){console.error("[useGameRoom] Failed to get Firestore:",b),n(S=>({...S,status:"error",error:"Failed to initialize Firestore"}));return}if(!_){console.error("[useGameRoom] db is falsy"),n(b=>({...b,status:"error",error:"Firestore not available"}));return}console.log("[useGameRoom] About to call doc() with db and roomId");const E=CP(_,"gameRooms",p);console.log("[useGameRoom] doc() succeeded, roomRef:",E),r.current=jP(E,b=>{if(!b.exists()){n(x=>({...x,status:"error",error:"Room no longer exists"}));return}const S=b.data();n(x=>({...x,room:S,status:"connected"}))},b=>{console.error("Room listener error:",b),n(S=>({...S,status:"error",error:b.message}))})},[]),s=F.useCallback(async(p,_=10)=>{if(!t){n(E=>({...E,status:"error",error:"Not authenticated"}));return}if(!Sn()){n(E=>({...E,status:"error",error:"Firebase not configured"}));return}n(E=>({...E,status:"creating",error:null}));try{const E=Wr(),b=await Rr(E,"createRoom")({tier:p,totalRounds:_}),{roomId:S}=b.data;n(x=>({...x,roomId:S,lastAnswerResult:null,finalRankings:null})),i(S)}catch(E){console.error("Failed to create room:",E),n(M=>({...M,status:"error",error:E instanceof Error?E.message:"Failed to create room"}))}},[t,i]),a=F.useCallback(async p=>{if(!t){n(_=>({..._,status:"error",error:"Not authenticated"}));return}if(!Sn()){n(_=>({..._,status:"error",error:"Firebase not configured"}));return}n(_=>({..._,status:"joining",error:null}));try{const _=Wr(),M=await Rr(_,"joinRoom")({roomCode:p.toUpperCase()}),{roomId:b}=M.data;n(S=>({...S,roomId:b,lastAnswerResult:null,finalRankings:null})),i(b)}catch(_){console.error("Failed to join room:",_),n(E=>({...E,status:"error",error:_ instanceof Error?_.message:"Failed to join room"}))}},[t,i]),o=F.useCallback(async p=>{if(!(!e.roomId||!Sn()))try{const _=Wr();await Rr(_,"setReady")({roomId:e.roomId,isReady:p})}catch(_){throw console.error("Failed to set ready:",_),_}},[e.roomId]),l=F.useCallback(async()=>{if(!(!e.roomId||!Sn()))try{const p=Wr();await Rr(p,"startRound")({roomId:e.roomId})}catch(p){throw console.error("Failed to start round:",p),p}},[e.roomId]),c=F.useCallback(async p=>{if(!e.roomId||!Sn())throw new Error("Not connected to a room");try{const _=Wr(),b=(await Rr(_,"submitAnswer")({roomId:e.roomId,answer:p})).data;return n(S=>({...S,lastAnswerResult:b})),b}catch(_){throw console.error("Failed to submit answer:",_),_}},[e.roomId]),h=F.useCallback(async()=>{if(!e.roomId||!Sn())throw new Error("Not connected to a room");try{const p=Wr(),E=await Rr(p,"advanceRound")({roomId:e.roomId});return E.data.isComplete&&E.data.finalRankings&&n(M=>({...M,finalRankings:E.data.finalRankings})),E.data}catch(p){throw console.error("Failed to advance round:",p),p}},[e.roomId]),f=F.useCallback(async()=>{if(!(!e.roomId||!Sn()))try{const p=Wr();await Rr(p,"leaveRoom")({roomId:e.roomId}),r.current&&(r.current(),r.current=null),n({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null})}catch(p){console.error("Failed to leave room:",p)}},[e.roomId]),d=F.useCallback(()=>{r.current&&(r.current(),r.current=null),n({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null})},[]);return[e,{createRoom:s,joinRoom:a,setReady:o,startRound:l,submitAnswer:c,advanceRound:h,leaveRoom:f,disconnect:d}]}function jY({racingStats:t,onStartGame:e}){const[n,r]=F.useState(1),[i,s]=F.useState(10),a=()=>{e(n,i)};return A.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[A.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Modular Arithmetic Racing"}),A.jsx("p",{className:"text-dark-300",children:"Race against the clock to compute remainders!"})]}),t&&A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-dark-800 rounded-lg p-4 mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Your Stats"}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.highScore.toLocaleString()}),A.jsx("div",{className:"text-sm text-dark-400",children:"High Score"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.gamesPlayed}),A.jsx("div",{className:"text-sm text-dark-400",children:"Games"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.longestStreak}),A.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]})]})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Select Difficulty"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Yl.map(o=>{const l=n===o.tier;return A.jsxs("button",{onClick:()=>r(o.tier),className:`
                  relative p-4 rounded-lg border-2 transition-all
                  ${l?"border-cyan-500 bg-cyan-500/10":"border-dark-600 bg-dark-800 hover:border-dark-500"}
                `,children:[A.jsx("div",{className:`text-lg font-bold ${l?"text-cyan-400":"text-white"}`,children:o.name}),A.jsxs("div",{className:"text-sm text-dark-400 mt-1",children:[o.basePoints," pts base"]})]},o.tier)})})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Rounds"}),A.jsx("div",{className:"flex gap-3",children:[5,10,15,20].map(o=>A.jsx("button",{onClick:()=>s(o),className:`
                flex-1 py-3 rounded-lg border-2 transition-all font-medium
                ${i===o?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-dark-600 bg-dark-800 text-white hover:border-dark-500"}
              `,children:o},o))})]}),A.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-800 rounded-lg p-4 mb-6",children:(()=>{const o=Yl.find(l=>l.tier===n);return A.jsxs(A.Fragment,{children:[A.jsxs("h3",{className:"font-semibold text-white mb-2",children:[o.name," Mode"]}),A.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[A.jsxs("li",{children:["Modulus: ",o.modulusRange[0]," - ",o.modulusRange[1]]}),A.jsxs("li",{children:["Numbers: ",o.dividendRange[0]," - ",o.dividendRange[1]]}),A.jsxs("li",{children:["Base points: ",o.basePoints," per correct answer"]}),A.jsx("li",{children:"Speed bonus: Answer faster for more points!"})]})]})})()}),A.jsx(ke.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-xl rounded-lg transition-colors",children:"Start Game"})]})}let _1=null;function bu(){return _1||(_1=new AudioContext),_1}function FY(){try{const t=bu(),e=t.currentTime;[523.25,659.25,783.99].forEach((r,i)=>{const s=t.createOscillator(),a=t.createGain();s.type="sine",s.frequency.value=r,a.gain.setValueAtTime(0,e+i*.08),a.gain.linearRampToValueAtTime(.3,e+i*.08+.02),a.gain.exponentialRampToValueAtTime(.01,e+i*.08+.15),s.connect(a),a.connect(t.destination),s.start(e+i*.08),s.stop(e+i*.08+.2)})}catch{}}function qY(){try{const t=bu(),e=t.currentTime,n=t.createOscillator(),r=t.createOscillator(),i=t.createGain();n.type="square",n.frequency.setValueAtTime(200,e),n.frequency.linearRampToValueAtTime(150,e+.15),r.type="square",r.frequency.setValueAtTime(205,e),r.frequency.linearRampToValueAtTime(155,e+.15),i.gain.setValueAtTime(.15,e),i.gain.linearRampToValueAtTime(.1,e+.1),i.gain.exponentialRampToValueAtTime(.01,e+.2),n.connect(i),r.connect(i),i.connect(t.destination),n.start(e),n.stop(e+.25),r.start(e),r.stop(e+.25)}catch{}}function HY(){try{const t=bu(),e=t.currentTime,n=t.createOscillator(),r=t.createGain();n.type="sine",n.frequency.value=880,r.gain.setValueAtTime(.2,e),r.gain.exponentialRampToValueAtTime(.01,e+.05),n.connect(r),r.connect(t.destination),n.start(e),n.stop(e+.06)}catch{}}function GY(){try{const t=bu(),e=t.currentTime,n=t.createOscillator(),r=t.createGain();n.type="sine",n.frequency.value=440,r.gain.setValueAtTime(.15,e),r.gain.exponentialRampToValueAtTime(.01,e+.08),n.connect(r),r.connect(t.destination),n.start(e),n.stop(e+.1)}catch{}}function $Y(){try{const t=bu(),e=t.currentTime;[261.63,329.63,392,523.25].forEach((r,i)=>{const s=t.createOscillator(),a=t.createGain();s.type="triangle",s.frequency.value=r,a.gain.setValueAtTime(0,e+i*.1),a.gain.linearRampToValueAtTime(.25,e+i*.1+.03),a.gain.exponentialRampToValueAtTime(.01,e+i*.1+.3),s.connect(a),a.connect(t.destination),s.start(e+i*.1),s.stop(e+i*.1+.35)})}catch{}}function ZY(){try{const t=bu(),e=t.currentTime;[[523.25,659.25,783.99],[587.33,739.99,880],[659.25,830.61,987.77]].forEach((r,i)=>{r.forEach(s=>{const a=t.createOscillator(),o=t.createGain();a.type="triangle",a.frequency.value=s;const l=e+i*.2;o.gain.setValueAtTime(0,l),o.gain.linearRampToValueAtTime(.15,l+.02),o.gain.setValueAtTime(.15,l+.15),o.gain.exponentialRampToValueAtTime(.01,l+.4),a.connect(o),o.connect(t.destination),a.start(l),a.stop(l+.45)})})}catch{}}function KY({onComplete:t}){const[e,n]=F.useState(3);return F.useEffect(()=>{e>0?GY():$Y()},[e]),F.useEffect(()=>{if(e===0){t();return}const r=setTimeout(()=>{n(e-1)},1e3);return()=>clearTimeout(r)},[e,t]),A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-dark-950/90 z-50",children:A.jsx(f2,{mode:"wait",children:e>0?A.jsx(ke.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.3},className:"text-9xl font-bold text-cyan-400",children:e},e):A.jsx(ke.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.3},className:"text-7xl font-bold text-green-400",children:"GO!"},"go")})})}function YY({problem:t,tier:e,roundNumber:n,totalRounds:r,score:i,streak:s,onAnswer:a,lastResult:o}){const[l,c]=F.useState(""),[h,f]=F.useState(0),[d,p]=F.useState(0),_=F.useRef(null);F.useEffect(()=>{var b;c(""),f(Date.now()),p(0),(b=_.current)==null||b.focus()},[t.id]),F.useEffect(()=>{const b=setInterval(()=>{p(Date.now()-h)},100);return()=>clearInterval(b)},[h]),F.useEffect(()=>{o&&(o.isCorrect?FY():qY())},[o]);const E=F.useCallback(()=>{const b=Date.now()-h,S=parseInt(l,10);!isNaN(S)&&S>=0&&(HY(),a(S,b))},[l,h,a]),M=b=>{b.key==="Enter"&&l.trim()!==""&&E()};return A.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("div",{className:"text-lg",children:[A.jsx("span",{className:"text-dark-400",children:"Round "}),A.jsx("span",{className:"text-white font-bold",children:n}),A.jsxs("span",{className:"text-dark-400",children:[" / ",r]})]}),A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:i.toLocaleString()}),A.jsx("div",{className:"text-xs text-dark-400",children:"Score"})]}),s>0&&A.jsxs("div",{className:"text-right",children:[A.jsx("div",{className:"text-2xl font-bold text-orange-400",children:s}),A.jsx("div",{className:"text-xs text-dark-400",children:"Streak"})]})]})]}),o&&A.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`
            text-center mb-4 py-2 rounded-lg
            ${o.isCorrect?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
          `,children:o.isCorrect?A.jsxs("span",{children:[_b(o.points)," points!"]}):A.jsxs("span",{children:["Wrong! Answer was ",o.correctAnswer," (",_b(o.points),")"]})}),A.jsx("div",{className:"text-center mb-4 text-dark-400",children:A.jsx("span",{className:"text-lg",children:Ux(d)})}),A.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-8",children:[A.jsxs("div",{className:"text-5xl sm:text-6xl font-bold text-white mb-4",children:[t.dividend," mod ",t.modulus]}),A.jsx("div",{className:"text-xl text-dark-400",children:"What is the remainder?"})]},t.id),A.jsxs("div",{className:"flex gap-4 mb-6",children:[A.jsx("input",{ref:_,type:"number",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:b=>c(b.target.value),onKeyDown:M,placeholder:"?",autoFocus:!0,className:`
            flex-1 text-center text-4xl font-bold py-4
            bg-dark-800 border-2 border-dark-600 rounded-lg
            text-white placeholder-dark-500
            focus:border-cyan-500 focus:outline-none
            [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none
          `}),A.jsx("button",{onClick:E,disabled:l.trim()==="",className:`
            px-8 py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 disabled:cursor-not-allowed
            text-white font-bold text-xl rounded-lg
            transition-colors
          `,children:"Submit"})]}),A.jsx("div",{className:"grid grid-cols-5 gap-2 sm:hidden",children:[0,1,2,3,4,5,6,7,8,9].map(b=>A.jsx("button",{onClick:()=>c(l+b.toString()),className:`
              py-4 bg-dark-700 hover:bg-dark-600
              text-white font-bold text-2xl rounded-lg
              transition-colors
            `,children:b},b))})]})}function XY({tier:t,totalScore:e,correctAnswers:n,incorrectAnswers:r,maxStreak:i,fastAnswers:s,avgResponseTime:a,xpEarned:o,isNewHighScore:l,previousHighScore:c,onPlayAgain:h,onChangeTier:f,onExit:d}){const p=Rm(t),_=n+r,E=_>0?Math.round(n/_*100):0;return F.useEffect(()=>{ZY()},[]),A.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[A.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Race Complete!"}),A.jsxs("p",{className:"text-dark-300",children:[p.name," Mode"]})]}),A.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"text-center mb-8",children:[A.jsx("div",{className:"text-6xl font-bold text-cyan-400 mb-2",children:e.toLocaleString()}),A.jsx("div",{className:"text-xl text-dark-400",children:"Final Score"}),l&&A.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:[A.jsx("span",{className:"inline-block px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-full font-bold",children:"New High Score!"}),c!==void 0&&c>0&&A.jsxs("div",{className:"text-sm text-dark-400 mt-2",children:["Previous best: ",c.toLocaleString()]})]})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[A.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[A.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[n,"/",_]}),A.jsx("div",{className:"text-sm text-dark-400",children:"Correct"})]}),A.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[A.jsxs("div",{className:"text-2xl font-bold text-white",children:[E,"%"]}),A.jsx("div",{className:"text-sm text-dark-400",children:"Accuracy"})]}),A.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[A.jsx("div",{className:"text-2xl font-bold text-orange-400",children:i}),A.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]}),A.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[A.jsx("div",{className:"text-2xl font-bold text-white",children:Ux(a)}),A.jsx("div",{className:"text-sm text-dark-400",children:"Avg Time"})]})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-lg p-4 mb-8",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("span",{className:"text-lg font-semibold text-white",children:"XP Earned"}),A.jsxs("span",{className:"text-2xl font-bold text-cyan-400",children:["+",o]})]}),s>=10&&A.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Speed Demon bonus applied!"}),i>=10&&A.jsx("div",{className:"text-sm text-orange-400 mt-1",children:"Streak Master bonus applied!"}),n===_&&_>=10&&A.jsx("div",{className:"text-sm text-yellow-400 mt-1",children:"Perfect Game bonus applied!"})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap gap-2 justify-center mb-8",children:[E>=90&&A.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium",children:"Sharp Mind"}),a<2e3&&A.jsx("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm font-medium",children:"Lightning Fast"}),i>=5&&A.jsx("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-sm font-medium",children:"On Fire"}),s>=5&&A.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm font-medium",children:"Quick Thinker"})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-3",children:[A.jsx("button",{onClick:h,className:`
            flex-1 py-3 bg-cyan-600 hover:bg-cyan-500
            text-white font-bold rounded-lg transition-colors
          `,children:"Play Again"}),A.jsx("button",{onClick:f,className:`
            flex-1 py-3 bg-dark-700 hover:bg-dark-600
            text-white font-medium rounded-lg transition-colors
          `,children:"Change Tier"}),A.jsx("button",{onClick:d,className:`
            flex-1 py-3 bg-dark-800 hover:bg-dark-700 border border-dark-600
            text-dark-300 font-medium rounded-lg transition-colors
          `,children:"Exit"})]})]})}function QY({userNpub:t,userLevel:e,room:n,isCreating:r,isJoining:i,error:s,onCreateRoom:a,onJoinRoom:o,onSetReady:l,onLeaveRoom:c,onBack:h}){const[f,d]=F.useState("menu"),[p,_]=F.useState(1),[E,M]=F.useState(10),[b,S]=F.useState("");return n?A.jsx(WY,{room:n,userNpub:t,onSetReady:l,onLeaveRoom:c}):f==="menu"?A.jsxs("div",{className:"max-w-md mx-auto p-6",children:[A.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Multiplayer"}),A.jsx("p",{className:"text-dark-300",children:"Race against other players in real-time!"})]}),s&&A.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),A.jsxs("div",{className:"space-y-4",children:[A.jsx(ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>d("create"),className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-lg rounded-lg transition-colors",children:"Create Room"}),A.jsx(ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:()=>d("join"),className:"w-full py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors border border-dark-500",children:"Join Room"}),A.jsx(ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},onClick:h,className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Back to Menu"})]})]}):f==="create"?A.jsxs("div",{className:"max-w-md mx-auto p-6",children:[A.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:A.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create Room"})}),s&&A.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Difficulty"}),A.jsx("div",{className:"grid grid-cols-2 gap-2",children:Yl.map(x=>{const O=p===x.tier;return A.jsxs("button",{onClick:()=>_(x.tier),className:`
                    p-3 rounded-lg border-2 transition-all text-left
                    ${O?"border-cyan-500 bg-cyan-500/10":"border-dark-600 bg-dark-800 hover:border-dark-500"}
                  `,children:[A.jsx("div",{className:`font-bold ${O?"text-cyan-400":"text-white"}`,children:x.name}),A.jsxs("div",{className:"text-xs text-dark-400",children:[x.basePoints," pts"]})]},x.tier)})})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Rounds"}),A.jsx("div",{className:"flex gap-2",children:[5,10,15,20].map(x=>A.jsx("button",{onClick:()=>M(x),className:`
                  flex-1 py-2 rounded-lg border-2 transition-all font-medium
                  ${E===x?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-dark-600 bg-dark-800 text-white hover:border-dark-500"}
                `,children:x},x))})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:()=>a(p,E),disabled:r,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors",children:r?"Creating...":"Create Room"}),A.jsx("button",{onClick:()=>d("menu"),className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Cancel"})]})]}):A.jsxs("div",{className:"max-w-md mx-auto p-6",children:[A.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Join Room"}),A.jsx("p",{className:"text-dark-300",children:"Enter the 6-character room code"})]}),s&&A.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),A.jsx("div",{className:"mb-6",children:A.jsx("input",{type:"text",value:b,onChange:x=>S(x.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",className:"w-full text-center text-3xl font-mono tracking-widest py-4 bg-dark-800 border-2 border-dark-600 rounded-lg text-white focus:border-cyan-500 focus:outline-none",maxLength:6})}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:()=>o(b),disabled:i||b.length!==6,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors",children:i?"Joining...":"Join Room"}),A.jsx("button",{onClick:()=>d("menu"),className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Cancel"})]})]})}function WY({room:t,userNpub:e,onSetReady:n,onLeaveRoom:r}){const i=Object.values(t.players),s=t.players[e];t.hostNpub;const a=i.length>=2&&i.every(l=>l.isReady),o=Yl.find(l=>l.tier===t.tier);return A.jsxs("div",{className:"max-w-md mx-auto p-6",children:[A.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Waiting Room"}),A.jsxs("div",{className:"flex justify-center gap-2",children:[A.jsx("span",{className:"bg-dark-700 px-3 py-1 rounded-full text-sm text-dark-300",children:o.name}),A.jsxs("span",{className:"bg-dark-700 px-3 py-1 rounded-full text-sm text-dark-300",children:[t.totalRounds," rounds"]})]})]}),A.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-dark-800 rounded-lg p-4 mb-6 text-center",children:[A.jsx("div",{className:"text-sm text-dark-400 mb-1",children:"Room Code"}),A.jsx("div",{className:"text-4xl font-mono font-bold text-cyan-400 tracking-widest",children:t.roomCode}),A.jsx("div",{className:"text-xs text-dark-500 mt-2",children:"Share this code with friends to join"})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:[A.jsxs("h2",{className:"text-lg font-semibold text-white mb-3",children:["Players (",i.length,"/8)"]}),A.jsx("div",{className:"space-y-2",children:i.map((l,c)=>A.jsx(JY,{player:l,isHost:l.npub===t.hostNpub,isYou:l.npub===e,index:c},l.npub))}),i.length<2&&A.jsx("div",{className:"mt-4 text-center text-dark-400 text-sm",children:"Waiting for at least one more player..."})]}),A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[A.jsx("button",{onClick:()=>n(!(s!=null&&s.isReady)),className:`
            w-full py-4 font-bold text-lg rounded-lg transition-colors
            ${s!=null&&s.isReady?"bg-green-600 hover:bg-green-500 text-white":"bg-dark-700 hover:bg-dark-600 text-white border border-dark-500"}
          `,children:s!=null&&s.isReady?"Ready!":"Click when Ready"}),a&&A.jsx("div",{className:"text-center text-green-400 animate-pulse",children:"All players ready! Starting game..."}),A.jsx("button",{onClick:r,className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Leave Room"})]})]})}function JY({player:t,isHost:e,isYou:n,index:r}){return A.jsxs(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.05},className:`
        flex items-center justify-between p-3 rounded-lg
        ${n?"bg-cyan-500/10 border border-cyan-500/30":"bg-dark-800"}
      `,children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-600 flex items-center justify-center text-lg",children:e?"":""}),A.jsxs("div",{children:[A.jsxs("div",{className:"font-medium text-white",children:[t.displayName||t.npub.slice(0,8)+"...",n&&A.jsx("span",{className:"text-cyan-400 ml-2",children:"(You)"})]}),e&&A.jsx("div",{className:"text-xs text-dark-400",children:"Host"})]})]}),A.jsx("div",{className:`
          w-3 h-3 rounded-full transition-colors
          ${t.isReady?"bg-green-500":"bg-dark-600"}
        `,title:t.isReady?"Ready":"Not ready"})]})}function eX({room:t,userNpub:e,lastAnswerResult:n,finalRankings:r,isHost:i,onStartRound:s,onSubmitAnswer:a,onAdvanceRound:o,onLeaveRoom:l}){return t.status==="countdown"?A.jsx(tX,{isHost:i,onStart:s}):t.status==="completed"||r?A.jsx(iX,{room:t,userNpub:e,finalRankings:r||[],onLeave:l}):A.jsx(nX,{room:t,userNpub:e,lastAnswerResult:n,isHost:i,onSubmitAnswer:a,onAdvanceRound:o})}function tX({isHost:t,onStart:e}){const[n,r]=F.useState(3);return F.useEffect(()=>{if(n>0){const i=setTimeout(()=>r(n-1),1e3);return()=>clearTimeout(i)}else t&&e()},[n,t,e]),A.jsx("div",{className:"fixed inset-0 bg-dark-900 flex items-center justify-center",children:A.jsx(ke.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"text-center",children:n>0?A.jsx("div",{className:"text-9xl font-bold text-cyan-400",children:n}):A.jsx("div",{className:"text-6xl font-bold text-green-400",children:"GO!"})},n)})}function nX({room:t,userNpub:e,lastAnswerResult:n,isHost:r,onSubmitAnswer:i,onAdvanceRound:s}){var O;const[a,o]=F.useState(""),[l,c]=F.useState(!1),[h,f]=F.useState(!1),[d,p]=F.useState(0),_=F.useRef(null),E=Yl.find(V=>V.tier===t.tier),M=Object.values(t.players).sort((V,H)=>H.score-V.score);F.useEffect(()=>{var V;o(""),c(!1),f(!1),p(0),(V=_.current)==null||V.focus()},[t.currentRound]),F.useEffect(()=>{if(!t.roundStartedAt||l)return;const V=t.roundStartedAt.toMillis(),H=setInterval(()=>{p(Date.now()-V)},100);return()=>clearInterval(H)},[t.roundStartedAt,l]);const b=F.useCallback(async()=>{if(l||h||!a)return;const V=parseInt(a,10);if(!(isNaN(V)||V<0)){f(!0);try{await i(V),c(!0),r&&setTimeout(s,2e3)}catch{c(!0)}f(!1)}},[a,l,h,i,r,s]),S=F.useCallback(V=>{V.key==="Enter"&&b()},[b]),x=V=>V<1e3?`${V}ms`:`${(V/1e3).toFixed(1)}s`;return A.jsxs("div",{className:"min-h-screen bg-dark-900 p-4",children:[A.jsxs("div",{className:"max-w-4xl mx-auto mb-6",children:[A.jsxs("div",{className:"flex justify-between items-center text-dark-400",children:[A.jsxs("span",{children:["Round ",t.currentRound,"/",t.totalRounds]}),A.jsx("span",{children:E.name})]}),A.jsx("div",{className:"mt-2 text-center text-dark-400",children:x(d)})]}),A.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx(ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-dark-800 rounded-xl p-8 mb-6 text-center",children:t.currentProblem?A.jsxs("div",{className:"text-4xl font-bold text-white",children:[t.currentProblem.displayText," = ?"]}):A.jsx("div",{className:"text-2xl text-dark-400",children:"Waiting for problem..."})},t.currentRound),l?A.jsx(rX,{result:n}):A.jsxs("div",{className:"flex gap-4",children:[A.jsx("input",{ref:_,type:"number",inputMode:"numeric",value:a,onChange:V=>o(V.target.value),onKeyDown:S,placeholder:"Your answer",className:"flex-1 text-center text-3xl font-bold py-4 bg-dark-800 border-2 border-dark-600 rounded-lg text-white focus:border-cyan-500 focus:outline-none",autoFocus:!0,disabled:l}),A.jsx("button",{onClick:b,disabled:!a||h,className:"px-8 py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-xl rounded-lg transition-colors",children:h?"...":"Submit"})]})]}),A.jsxs("div",{className:"bg-dark-800 rounded-xl p-4",children:[A.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Scoreboard"}),A.jsx("div",{className:"space-y-2",children:M.map((V,H)=>A.jsxs("div",{className:`
                  flex items-center justify-between p-2 rounded-lg
                  ${V.npub===e?"bg-cyan-500/20":"bg-dark-700"}
                `,children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsxs("span",{className:"w-6 text-center text-dark-400",children:[H+1,"."]}),A.jsx("span",{className:`font-medium ${V.npub===e?"text-cyan-400":"text-white"}`,children:V.displayName||V.npub.slice(0,8)}),V.streak>=3&&A.jsxs("span",{className:"text-orange-400 text-sm",children:["",V.streak]})]}),A.jsx("span",{className:"font-bold text-white",children:V.score.toLocaleString()})]},V.npub))}),t.roundWinner&&A.jsx("div",{className:"mt-4 p-2 bg-green-500/20 rounded-lg text-center text-green-400 text-sm",children:t.roundWinner===e?"You were first! ":`${((O=t.players[t.roundWinner])==null?void 0:O.displayName)||"Someone"} answered first!`})]})]})]})}function rX({result:t}){return t?A.jsxs(ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`
        text-center py-6 rounded-lg
        ${t.isCorrect?"bg-green-500/20":"bg-red-500/20"}
      `,children:[A.jsx("div",{className:`text-3xl font-bold ${t.isCorrect?"text-green-400":"text-red-400"}`,children:t.isCorrect?" Correct!":" Wrong"}),A.jsxs("div",{className:`text-2xl font-bold mt-2 ${t.points>=0?"text-green-400":"text-red-400"}`,children:[t.points>=0?"+":"",t.points," pts"]}),t.isFirst&&A.jsx("div",{className:"mt-2 text-yellow-400",children:" First to answer! +25% bonus"}),!t.isCorrect&&A.jsxs("div",{className:"mt-2 text-dark-400",children:["Answer: ",t.correctAnswer]})]}):A.jsx("div",{className:"text-center py-4 text-dark-400",children:"Waiting for result..."})}function iX({room:t,userNpub:e,finalRankings:n,onLeave:r}){const i=n.findIndex(a=>a.npub===e)+1,s=n.find(a=>a.npub===e);return A.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:A.jsxs(ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-md w-full bg-dark-800 rounded-xl p-6",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("div",{className:"text-6xl mb-4",children:i===1?"":i===2?"":i===3?"":""}),A.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:i===1?"Victory!":`${i}${sX(i)} Place`}),s&&A.jsxs("div",{className:"text-4xl font-bold text-cyan-400",children:[s.score.toLocaleString()," pts"]})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Final Standings"}),A.jsx("div",{className:"space-y-2",children:n.map((a,o)=>A.jsxs(ke.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:o*.1},className:`
                  flex items-center justify-between p-3 rounded-lg
                  ${a.npub===e?"bg-cyan-500/20 border border-cyan-500/30":"bg-dark-700"}
                `,children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"w-8 text-center text-2xl",children:o===0?"":o===1?"":o===2?"":`${o+1}.`}),A.jsxs("div",{children:[A.jsx("div",{className:`font-medium ${a.npub===e?"text-cyan-400":"text-white"}`,children:a.displayName||a.npub.slice(0,8)}),A.jsxs("div",{className:"text-xs text-dark-400",children:[a.correctAnswers,"/",t.totalRounds," correct"]})]})]}),A.jsx("span",{className:"font-bold text-white text-lg",children:a.score.toLocaleString()})]},a.npub))})]}),A.jsx("button",{onClick:r,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-lg rounded-lg transition-colors",children:"Back to Lobby"})]})})}function sX(t){const e=["th","st","nd","rd"],n=t%100;return e[(n-20)%10]||e[n]||e[0]}function aX(){var U;const{state:t,recordRaceGame:e,syncStatus:n}=nE(),{npub:r,connect:i,disconnect:s,isConnecting:a,error:o,hasExtension:l,extensionChecked:c}=aA(),[h,f]=F.useState("menu"),d=!!r,[p,_]=UY(),[E,M]=BY(r),b=t.user.level,S=t.user.totalXP,x=t.racingStats,O=yd[b-1]||0,V=yd[b]||O+1e3,H=S-O,k=V-O,w=Math.min(100,Math.round(H/k*100)),R=F.useCallback(()=>{const I=_.getGameResult();I&&e(I)},[_,e]);F.useEffect(()=>{p.phase==="results"&&R()},[p.phase,R]);const D=p.phase==="results"&&p.score>((x==null?void 0:x.highScore)??0),z=F.useCallback(()=>{f("menu"),_.returnToLobby(),M.disconnect()},[_,M]);if(h==="menu")return A.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:A.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Modular Arithmetic Racing"}),A.jsx("p",{className:"text-dark-300",children:"Race to compute remainders!"})]}),A.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 mb-6",children:[A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:"flex justify-between items-center mb-1",children:[A.jsxs("span",{className:"text-purple-400 font-bold",children:["Level ",b]}),A.jsxs("span",{className:"text-dark-400 text-sm",children:[H," / ",k," XP"]})]}),A.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:A.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${w}%`}})})]}),A.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-purple-400",children:S.toLocaleString()}),A.jsx("div",{className:"text-sm text-dark-400",children:"XP"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:(x==null?void 0:x.highScore.toLocaleString())??0}),A.jsx("div",{className:"text-sm text-dark-400",children:"High Score"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:(x==null?void 0:x.gamesPlayed)??0}),A.jsx("div",{className:"text-sm text-dark-400",children:"Games"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-bold text-orange-400",children:(x==null?void 0:x.longestStreak)??0}),A.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]})]})]}),A.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6",children:d?A.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),A.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Progress synced to cloud"})]}),A.jsx("button",{onClick:s,className:"text-dark-400 hover:text-white text-sm transition-colors",children:"Sign out"})]}),A.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[r==null?void 0:r.slice(0,16),"..."]})]}):A.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[A.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),A.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Progress not saved!"})]}),c&&!l?A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-dark-400 text-xs mb-3",children:"Install a Nostr extension to save your scores."}),A.jsx("a",{href:"https://getalby.com/",target:"_blank",rel:"noopener noreferrer",className:"block w-full py-2 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-lg transition-colors text-sm text-center",children:"Get Alby Extension"}),A.jsx("p",{className:"text-dark-500 text-xs mt-2 text-center",children:"Or use nos2x, Flamingo, or any NIP-07 extension"})]}):A.jsxs(A.Fragment,{children:[A.jsx("p",{className:"text-dark-400 text-xs mb-3",children:"Sign in with Nostr to save your scores permanently."}),o&&A.jsx("p",{className:"text-red-400 text-xs mb-2",children:o}),A.jsx("button",{onClick:i,disabled:a||!c,className:"w-full py-2 bg-purple-600 hover:bg-purple-500 disabled:bg-dark-600 text-white font-bold rounded-lg transition-colors text-sm",children:c?a?"Connecting...":"Sign in with Nostr":"Checking..."})]})]})}),A.jsxs("div",{className:"space-y-4",children:[A.jsx(ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>f("single"),className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-xl rounded-lg transition-colors",children:"Single Player"}),A.jsxs(ke.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:()=>f("multi"),disabled:!r,className:"w-full py-4 bg-dark-700 hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold text-xl rounded-lg transition-colors border border-dark-500",children:["Multiplayer",!r&&A.jsx("span",{className:"block text-sm font-normal text-dark-400 mt-1",children:"Sign in to play online"})]})]})]})});if(h==="single")return A.jsxs("div",{className:"min-h-screen bg-dark-950",children:[p.phase==="lobby"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:z,className:"absolute top-4 left-4 text-dark-400 hover:text-white transition-colors",children:" Back"}),A.jsx(jY,{userLevel:b,racingStats:x,onStartGame:_.startGame})]}),p.phase==="countdown"&&A.jsx(KY,{onComplete:_.completeCountdown}),p.phase==="playing"&&p.currentProblem&&A.jsx(YY,{problem:p.currentProblem,tier:p.tier,roundNumber:p.currentRound,totalRounds:p.roundCount,score:p.score,streak:p.streak,onAnswer:_.submitAnswer,lastResult:p.lastRoundResult}),p.phase==="results"&&A.jsx(XY,{tier:p.tier,totalScore:p.score,correctAnswers:p.roundResults.filter(I=>I.isCorrect).length,incorrectAnswers:p.roundResults.filter(I=>!I.isCorrect).length,maxStreak:(()=>{let I=0,fe=0;for(const Ne of p.roundResults)Ne.isCorrect?(fe++,I=Math.max(I,fe)):fe=0;return I})(),fastAnswers:p.roundResults.filter(I=>I.isCorrect&&I.responseTimeMs<2e3).length,avgResponseTime:p.roundResults.length>0?Math.round(p.roundResults.reduce((I,fe)=>I+fe.responseTimeMs,0)/p.roundResults.length):0,xpEarned:((U=_.getFinalScore())==null?void 0:U.xpEarned)??0,isNewHighScore:D,previousHighScore:x==null?void 0:x.highScore,onPlayAgain:_.playAgain,onChangeTier:_.returnToLobby,onExit:z})]});if(h==="multi"&&r){const I=E.room,fe=(I==null?void 0:I.hostNpub)===r;return!I||I.status==="waiting"?A.jsxs("div",{className:"min-h-screen bg-dark-950",children:[A.jsx("button",{onClick:z,className:"absolute top-4 left-4 text-dark-400 hover:text-white transition-colors z-10",children:" Back"}),A.jsx(QY,{userNpub:r,userLevel:b,room:I,isCreating:E.status==="creating",isJoining:E.status==="joining",error:E.error,onCreateRoom:M.createRoom,onJoinRoom:M.joinRoom,onSetReady:M.setReady,onLeaveRoom:M.leaveRoom,onBack:z})]}):A.jsx(eX,{room:I,userNpub:r,lastAnswerResult:E.lastAnswerResult,finalRankings:E.finalRankings,isHost:fe,onStartRound:M.startRound,onSubmitAnswer:M.submitAnswer,onAdvanceRound:M.advanceRound,onLeaveRoom:z})}return A.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:A.jsx("button",{onClick:z,className:"text-white hover:text-cyan-400",children:"Return to Menu"})})}function oX(){const[t,e]=F.useState(!1);return A.jsxs("div",{className:"min-h-screen bg-dark-950",children:[A.jsx(aX,{}),A.jsx(RY,{isOpen:t,onClose:()=>e(!1)}),A.jsx(CY,{onClick:()=>e(!t)}),A.jsx(xY,{})]})}function lX(){return A.jsx(gM,{children:A.jsx(cF,{children:A.jsx(GH,{children:A.jsx(oX,{})})})})}rM.createRoot(document.getElementById("root")).render(A.jsx(F.StrictMode,{children:A.jsx(lX,{})}));
